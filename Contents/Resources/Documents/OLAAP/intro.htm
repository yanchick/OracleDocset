<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79259"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Introduction%20to%20the%20OLAP%20Java%20API"></a><title>Introduction to the OLAP Java API</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-06-27T7:32:40Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="OLAP Java API Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17707-05"/>
<meta name="dcterms.isVersionOf" content="OLAAP"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2000, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="changes.htm" title="Previous" type="text/html"/>
<link rel="Next" href="metadata.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17707-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/19</span> <!-- End Header -->
<div class="chapter"><a id="g1010651"></a> <a id="i1007780"></a>
<h1 class="chapter"><span class="secnum">1</span> Introduction to the OLAP Java API</h1>
<p>This chapter introduces the Oracle OLAP Java application programming interface (API). The chapter includes the following topics:</p>
<ul>
<li>
<p><a href="#i1006314">OLAP Java API Overview</a></p>
</li>
<li>
<p><a href="#i1006349">Accessing Data Through the OLAP Java API</a></p>
</li>
<li>
<p><a href="#i1007587">Sample Schema for OLAP Java API Examples</a></p>
</li>
<li>
<p><a href="#i1006352">Tasks That an OLAP Java API Application Performs</a></p>
</li>
</ul>
<a id="i1006314"></a>
<div class="sect1">
<h2 class="sect1">OLAP Java API Overview</h2>
<p><a id="sthref5"></a>The Oracle OLAP Java API is an application programming interface that provides access to the online analytic processing (OLAP) technology in Oracle Database with the OLAP option. This topic lists operations that an OLAP Java API client application can perform, describes the classes in the OLAP Java API, describes the objects in a dimensional data model, and discusses organizing data for online analytical processing.</p>
<p><a id="sthref6"></a>For a description of the advantages of OLAP technology, see <a class="olink OLAUG100" href="../OLAUG/overview.htm#OLAUG100"><span class="italic">Oracle OLAP User&#39;s Guide</span></a>. That document describes the capabilities that Oracle OLAP provides for the analysis of multidimensional data by business intelligence and advanced analytical applications. It describes in depth the dimensional data model, and it discusses the database administration and management tasks related to Oracle OLAP.</p>
<a id="CHDIHBJC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">What the OLAP Java API Can Do</h3>
<p><a id="sthref7"></a>Using the OLAP Java API, your can develop client applications that do the following operations.</p>
<ul>
<li>
<p><a id="sthref8"></a><a id="sthref9"></a><a id="sthref10"></a><a id="sthref11"></a>Establish one or more user sessions in a JDBC connection to an Oracle Database instance. Multiple user sessions can share the same connection and the same cache of metadata objects.</p>
</li>
<li>
<p>Manage OLAP transactions with the database.</p>
</li>
<li>
<p>Implement a dimensional data model using OLAP metadata objects.</p>
</li>
<li>
<p>Create and maintain analytic workspaces.</p>
</li>
<li>
<p>Create logical metadata objects and map them to relational sources.</p>
</li>
<li>
<p>Deploy the metadata objects as an analytic workspace or as relational tables and views and commit the objects to the database.</p>
</li>
<li>
<p>Explore the metadata to discover the data that is available for viewing or for analysis.</p>
</li>
<li>
<p>Construct analytical queries of the multidimensional data. Enable end users to create queries that specify and manipulate the data according to the needs of the user (for example, selecting, aggregating, and calculating data).</p>
</li>
<li>
<p>Modify queries, rather than totally redefine them, as application users refine their analyses.</p>
</li>
<li>
<p>Retrieve query results that are structured for display in a multidimensional format.</p>
</li>
</ul>
<p>For more information on some of these operations, see <a href="#i1006352">&#34;Tasks That an OLAP Java API Application Performs&#34;</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEEFBA"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Describing the Classes in the OLAP Java API</h3>
<p>The OLAP Java API has classes that represent the following types of objects.</p>
<ul>
<li>
<p>User sessions</p>
</li>
<li>
<p>Transactions</p>
</li>
<li>
<p>Metadata objects</p>
</li>
<li>
<p>Build items, processes, specifications, and commands</p>
</li>
<li>
<p>Queries</p>
</li>
<li>
<p>Cursors that retrieve the data of a query</p>
</li>
<li>
<p>Expressions that specify data objects, such as a column in a relational table or view, or that specify a function or command that operates on data</p>
</li>
</ul>
<p><a id="sthref12"></a><a href="#CHDDFGEG">Table 1-1</a> lists packages that contain the majority of the OLAP Java API classes. These packages are under the <code>oracle.olapi</code> package. The table contains brief descriptions of the package contents.</p>
<div class="tblformal">
<p class="titleintable"><a id="sthref13"></a><a id="CHDDFGEG"></a>Table 1-1 Packages of the OLAP Java API under oracle.olapi</p>
<table class="cellalignment4781" title="Packages of the OLAP Java API under oracle.olapi" summary="This table lists the packages that contain the majority of the classes in the OLAP Java API and briefly describes the packages." dir="ltr">
<thead>
<tr class="cellalignment4770">
<th class="cellalignment4782" id="r1c1-t2">Package</th>
<th class="cellalignment4782" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r2c1-t2" headers="r1c1-t2">
<p><code>data.cursor</code></p>
</td>
<td class="cellalignment4776" headers="r2c1-t2 r1c2-t2">
<p><a id="sthref14"></a>Contains classes that represent cursor managers and cursors that retrieve the data specified by a <code>Source</code> object. For information on <code>Cursor</code> objects, see <a href="crscncpt.htm#g1014888">Chapter 8, &#34;Understanding Cursor Classes and Concepts&#34;</a> and <a href="cursors.htm#g1018004">Chapter 9, &#34;Retrieving Query Results&#34;</a>.</p>
</td>
</tr>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r3c1-t2" headers="r1c1-t2">
<p><code>data.source</code></p>
</td>
<td class="cellalignment4776" headers="r3c1-t2 r1c2-t2">
<p><a id="sthref15"></a>Contains classes that represent data sources and cursor specifications. You use <code>Source</code> objects to create queries of the data store. With the <code>Template</code> class you can incrementally build a <code>Source</code> object that represents a query that you can dynamically modify. For information on <code>Source</code> objects, see <a href="query.htm#g1030586">Chapter 5, &#34;Understanding Source Objects&#34;</a> and <a href="select.htm#g1017484">Chapter 6, &#34;Making Queries Using Source Methods&#34;</a>. For information on <code>Template</code> objects, see <a href="template.htm#g1013092">Chapter 10, &#34;Creating Dynamic Queries&#34;</a>.</p>
</td>
</tr>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r4c1-t2" headers="r1c1-t2">
<p><code>metadata</code></p>
<p><code>metadata.deployment</code></p>
<p><code>metadata.mapping</code></p>
<p><code>metadata.mdm</code></p>
</td>
<td class="cellalignment4776" headers="r4c1-t2 r1c2-t2">
<p><a id="sthref16"></a><a id="sthref17"></a><a id="sthref18"></a><a id="sthref19"></a>Contains classes that represent metadata objects, classes that map the metadata objects to relational data sources, and classes that deploy the metadata objects in an analytic workspace or in relational database structures. For a description of these packages, see <a href="metadata.htm#BABHIFDH">Chapter 2, &#34;Understanding OLAP Java API Metadata&#34;</a>. For information on using the classes in these packages, see <a href="discover.htm#g1015325">Chapter 3, &#34;Discovering Metadata&#34;</a> and <a href="create.htm#g1008851">Chapter 4, &#34;Creating Metadata and Analytic Workspaces&#34;</a>.</p>
</td>
</tr>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r5c1-t2" headers="r1c1-t2">
<p><code>resource</code></p>
</td>
<td class="cellalignment4776" headers="r5c1-t2 r1c2-t2">
<p><a id="sthref20"></a>Contains classes that support the internationalization of messages for <code>Exception</code> classes.</p>
</td>
</tr>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r6c1-t2" headers="r1c1-t2">
<p><code>session</code></p>
</td>
<td class="cellalignment4776" headers="r6c1-t2 r1c2-t2">
<p><a id="sthref21"></a>Contains a class that represents a session in a connection to an Oracle database.</p>
</td>
</tr>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r7c1-t2" headers="r1c1-t2">
<p><a id="sthref22"></a><code>syntax</code></p>
</td>
<td class="cellalignment4776" headers="r7c1-t2 r1c2-t2">
<p><a id="sthref23"></a>Contains classes that represent the items and commands that specify how Oracle OLAP builds analytic workspace objects and classes that implement a syntax for creating SQL-like expressions. You use <code>Expression</code> objects in mapping metadata objects to relational data sources such as columns in a table or a view. You also use <code>Expression</code> objects to specify calculations and analytical operations for some metadata objects.</p>
</td>
</tr>
<tr class="cellalignment4770">
<td class="cellalignment4776" id="r8c1-t2" headers="r1c1-t2">
<p><code>transaction</code></p>
</td>
<td class="cellalignment4776" headers="r8c1-t2 r1c2-t2">
<p><a id="sthref24"></a>Contains classes that represent transactions with Oracle OLAP in an Oracle Database instance. You use <code>Transaction</code> objects to commit changes to the database. For information on <code>Transaction</code> objects, see <a href="transact.htm#g1010472">Chapter 7, &#34;Using a TransactionProvider&#34;</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The OLAP Java API also has packages organized under the <code>oracle.express</code> package. These packages date from the earliest versions of the API. The classes that remain in these packages are mostly <code>Exception</code> classes for exceptions that occur during interactions between Oracle OLAP and a client application.</p>
<p>For information on obtaining the OLAP Java API software and on the requirements for using it to develop applications, see <a href="devsetup.htm#g635535">Appendix A, &#34;Setting Up the Development Environment.&#34;</a></p>
</div>
<!-- class="sect2" -->
<a id="CHDGAAIJ"></a>
<div class="sect2">
<h3 class="sect2">Describing the Dimensional Data Model</h3>
<p><a id="sthref25"></a>Data warehousing and OLAP applications are based on a multidimensional view of data. This view is implemented in a dimensional data model that includes the following dimensional objects. For more detailed information about these concepts, see <a class="olink OLAUG9109" href="../OLAUG/overview.htm#OLAUG9109"><span class="italic">Oracle OLAP User&#39;s Guide</span></a>.</p>
<dl>
<dt>Cubes</dt>
<dd>
<p><a id="sthref26"></a>Cubes are containers for measures that have the same set of dimensions. A cube usually corresponds to a single relational fact table or view. The measures of a cube contain facts and the dimensions give shape to the fact data. Typically, the dimensions form the edges of the cube and the measure data is the body of the cube. For example, you could organize data on product units sold into a cube whose edges contain values for members from time, product, customer, and channel dimensions and whose body contains values from a measure of the quantity of units sold and a measure of sales amounts.</p>
<p><a id="sthref27"></a>The OLAP concept of a cube edge is not represented by a metadata object in the OLAP Java API, but edges are often incorporated into the design of applications that use the OLAP Java API. Each edge contains values of members from one or more dimensions. Although there is no limit to the number of edges on a cube, data is often organized for display purposes along three edges, which are referred to as the row edge, column edge, and page edge.</p>
</dd>
<dt>Measures</dt>
<dd>
<p><a id="sthref28"></a>Measures contain fact data in a cube. The measure values are organized and identified by dimensions. Measures are usually multidimensional. Each measure value is identified by a unique set of dimension members. This set of dimension members is called a <span class="italic">tuple</span>.</p>
</dd>
<dt>Dimensions</dt>
<dd>
<p><a id="sthref29"></a>Dimensions contain lists of unique values that identify and categorize data in a measure. Commonly-used dimensions are customers, products, and times. Typically, a dimension has one or more hierarchies that organize the dimension members into parent-child relationships.</p>
<p>By specifying dimension members, measures, and calculations to perform on the data, end users formulate business questions and get answers to their queries. For example, using a time dimension that categorizes data by month, a product dimension that categorizes data by unit item, and a measure that contains data for the quantities of product units sold by month, you can formulate a query that asks if sales of a product unit were higher in January or in June.</p>
</dd>
<dt>Hierarchies</dt>
<dd>
<p><a id="sthref30"></a>Hierarchies are components of a dimension that organize dimension members into parent-child relationships. Typically, in the user interface of a client application, an end user can expand or collapse a hierarchy by drilling down or up among the parents and children. The measure values for the parent dimension members are aggregations of the values of the children.</p>
<p>A dimension can have more than one hierarchy. For example, a time dimension could have a calendar year hierarchy and a fiscal year hierarchy. A hierarchy can be level-based or value-based.</p>
<p>In a level-based hierarchy, a parent must be in a higher level than the children of that parent. In a cube, the measure values for the parents are typically aggregated from the values of the children. For example, a time dimension might have levels for year, quarter, and month. The month level contains the base data, which is the most detailed data. The measure value for a quarter is an aggregation of the values of the months that are the children of the quarter and the measure value for a year is the aggregation of the quarters that are children of the year. Typically each level is mapped to a different column in the relational dimension table.</p>
<p>In a value-based hierarchy, the parent and the child dimension members typically come from the same column in the relational table. Another column identifies the parent of a member. For example, a value hierarchy could contain all employees of a company and identify the manager for each employee that has one. All employees, including managers, would come from the same column. Another column would contain the managers of the employees.</p>
</dd>
<dt>Levels</dt>
<dd>
<p><a id="sthref31"></a>Levels are components of a level-based hierarchy. A level can be associated with more than one hierarchy. A dimension member can belong to only one level.</p>
<p>A level typically corresponds to a column in a dimension table or view. The base level is the primary key.</p>
</dd>
<dt>Attributes</dt>
<dd>
<p><a id="sthref32"></a>Attributes contain information related to the members of a dimension. An end user can use an attribute to select data. For example, an end user might select a set of products by using an attribute that has a descriptive name of each product. An attribute is contained by a dimension.</p>
</dd>
<dt>Queries</dt>
<dd>
<p><a id="sthref33"></a>A query is a specification for a particular set of data. The term <span class="italic">query</span> in the OLAP Java API refers to a <code>Source</code> object that specifies a set of data and can include aggregations, calculations, or other operations to perform using the data. The data and the operations on it define the result set of the query. In this documentation, the general term <span class="italic">query</span> refers to a <code>Source</code> object.</p>
<p><a id="sthref34"></a>The API has a <code>Query</code> class in the <code>oracle.olapi.syntax</code> package. A <code>Query</code> represents a multirow, multicolumn result set that is similar to a relational table, a SQL <code>SELECT</code> statement, or an OLAP function. You use a <code>Query</code> object in mapping a dimension or measure to a relational table or view.</p>
</dd>
</dl>
</div>
<!-- class="sect2" -->
<a id="CHDEDBBF"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Implementing the Dimensional Data Model</h3>
<p><a id="sthref35"></a>In the OLAP Java API, the dimensional data objects are represented by Multidimensional Model (MDM) classes. These classes are in the <code>oracle.olapi.metadata.mdm</code> package. Related classes are in the <code>oracle.olapi.metadata</code> package and the other packages under it. For detailed information about those classes, see <a href="metadata.htm#BABHIFDH">Chapter 2, &#34;Understanding OLAP Java API Metadata&#34;</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDBGCDF"></a>
<div class="sect2">
<h3 class="sect2">Organizing the Data for OLAP</h3>
<p><a id="sthref36"></a><a id="sthref37"></a><a id="sthref38"></a><a id="sthref39"></a><a id="sthref40"></a>The OLAP Java API makes it possible for Java applications (including applets) to access data that resides in an Oracle data warehouse. A data warehouse is a relational database that is designed for query and analysis, rather than for transaction processing. Warehouse data often conforms to a star schema, which is a dimensional data model for a relational database. A star schema consists of one or more fact tables and one or more dimension tables. The fact tables have columns that contain foreign keys to the dimension tables. Typically, a data warehouse is created from a transaction processing database by an extraction transformation transport (ETT) tool.</p>
<p>For the data in a data warehouse to be accessible to an OLAP Java API application, a database administrator must ensure that the data warehouse is configured according to an organization that is supported by Oracle OLAP. The star schema is one such organization, but not the only one. See <a class="olink OLAUG9126" href="../OLAUG/cubes.htm#OLAUG9126"><span class="italic">Oracle OLAP User&#39;s Guide</span></a> for information about supported data warehouse configurations.</p>
<p><a id="sthref41"></a><a id="sthref42"></a><a id="sthref43"></a><a id="sthref44"></a><a id="sthref45"></a><a id="sthref46"></a>Once the data is organized in the warehouse, you can use an OLAP Java API application to design an OLAP dimensional data model of cubes, measures, dimensions, and so on, and to create the logical OLAP metadata objects that implement the model. You map the metadata objects to data in the warehouse and build an analytic workspace. Building the analytic workspace populates the OLAP views and other storage structures with the data that the OLAP metadata objects represent.</p>
<p><a id="sthref47"></a>You can also use Analytic Workspace Manager to do the same tasks. See <a class="olink OLAUG9127" href="../OLAUG/cubes.htm#OLAUG9127"><span class="italic">Oracle OLAP User&#39;s Guide</span></a> for information about creating an analytic workspace with Analytic Workspace Manager.</p>
<p>An OLAP Java API application can get the OLAP metadata objects created either by Analytic Workspace Manager or through the OLAP Java API. It can use the metadata objects to create queries that operate on the data in the warehouse.</p>
<p><a id="sthref48"></a>The collection of warehouse data in an analytic workspace is the data store to which the OLAP Java API gives access. Of course, the scope of the data that a user has access to is limited by the privileges granted to the user by the database administrator.</p>
<p><a id="sthref49"></a>In addition to ensuring that data and metadata have been prepared appropriately, you must ensure that application users can make a JDBC connection to the data store and that users have database privileges that give them access to the data. For information about specifying privileges, see <a class="olink OLAUG9123" href="../OLAUG/start.htm#OLAUG9123"><span class="italic">Oracle OLAP User&#39;s Guide</span></a>. For information about establishing a connection, see <a href="discover.htm#g1015325">Chapter 3, &#34;Discovering Metadata&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006349"></a>
<div class="sect1">
<h2 class="sect1">Accessing Data Through the OLAP Java API</h2>
<p><a id="sthref50"></a><a id="sthref51"></a><a id="sthref52"></a>Oracle OLAP metadata objects organize and describe the data that is available to a client application. The metadata objects contain other information, as well, such as the data type of the data. However, you cannot retrieve data directly from a metadata object. To specify the data that you want, you must create a query. In specifying the data, you usually must specify one or more dimension member values. To retrieve the specified data, you create a <code>Cursor</code>. This topic briefly describes those actions.</p>
<p>Another way that you can query the data contained in OLAP metadata objects is through SQL queries of the views that Oracle OLAP creates for the metadata objects. For information about querying these views, see <a href="metadata.htm#BABJBAIF">&#34;Using OLAP Views&#34;</a> in <a href="metadata.htm#BABHIFDH">Chapter 2, &#34;Understanding OLAP Java API Metadata&#34;</a>.</p>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref53"></a>
<h3 class="sect2">Creating Queries</h3>
<p><a id="sthref54"></a><a id="sthref55"></a><a id="sthref56"></a><a id="sthref57"></a>Queries are represented by <code>oracle.olapi.data.source.Source</code> objects. You get a <code>Source</code> from a metadata object and use that <code>Source</code> object in specifying the data that you want to get. <code>Source</code> classes have methods for selecting and performing operations on the data. You can use the methods to manipulate data in any way that the user requires. For information about <code>Source</code> objects, see <a href="query.htm#g1030586">Chapter 5, &#34;Understanding Source Objects&#34;</a> and <a href="select.htm#g1017484">Chapter 6, &#34;Making Queries Using Source Methods&#34;</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIJHJE"></a>
<div class="sect2">
<h3 class="sect2">Specifying Dimension Members</h3>
<p>The members of an Oracle OLAP dimension are usually organized into one or more hierarchies. Some hierarchies have parent-child relationships based on levels and some have those relationships based on values. The value of each dimension member must be unique.</p>
<p><a id="sthref58"></a><a id="sthref59"></a><a id="sthref60"></a><a id="sthref61"></a><a id="sthref62"></a>The OLAP Java API uses a three-part format to uniquely identify a dimension member. The format contains the hierarchy, the level, and the value of the dimension member, and thereby identifies a unique value in the dimension. The first part of a unique value is the name of the hierarchy object, the second part is the name of the level object, and the third part is the value of the member in the level. The parts of the unique value are separated by a value separation string, which by default is double colons (<code>::</code>). The following is an example of a unique member value of a level named <code>YEAR</code> in a hierarchy named <code>CALENDAR_YEAR</code> in a dimension named <code>TIME_AWJ</code>.</p>
<p><code>&nbsp;&nbsp;CALENDAR_YEAR::YEAR::CY2001</code></p>
<p>The third part of a unique value is the local value. The local value in the preceding example identifies the calendar year 2001.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref63"></a>
<h3 class="sect2">Creating Cursors</h3>
<p><a id="sthref64"></a><a id="sthref65"></a><a id="sthref66"></a>To retrieve the data specified by a <code>Source</code>, you create an <code>oracle.olapi.data.cursor.Cursor</code> for that <code>Source</code>. You then use this <code>Cursor</code> to request and retrieve the data from the data store. You can specify the amount of data that the <code>Cursor</code> retrieves in each fetch operation (for example, enough to fill a 40-cell table in the user interface). Oracle OLAP then efficiently manages the timing, sizing, and caching of the data blocks that it retrieves for your application, so that you do not need to do so. For information about <code>Cursor</code> objects, see <a href="crscncpt.htm#g1014888">Chapter 8, &#34;Understanding Cursor Classes and Concepts&#34;</a> and <a href="cursors.htm#g1018004">Chapter 9, &#34;Retrieving Query Results&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1007587"></a>
<div class="sect1">
<h2 class="sect1">Sample Schema for OLAP Java API Examples</h2>
<p><a id="sthref67"></a><a id="sthref68"></a><a id="sthref69"></a><a id="sthref70"></a><a id="sthref71"></a><a id="sthref72"></a><a id="sthref73"></a><a id="sthref74"></a><a id="sthref75"></a><a id="sthref76"></a>The examples of OLAP Java API code in this documentation are excerpts from a set of example programs that are available on the Oracle Technology Network (OTN) website. One example, <code>CreateAndBuildAW.java</code>, has methods that create and build an analytic workspace. Another example, <code>SpecifyAWValues</code>, calls the methods of <code>CreateAndBuildAW.java</code> and specifies values, such as names for the metadata objects and names of columns of relational tables for mapping the metadata objects to data sources. The analytic workspace produced by these examples is named <code>GLOBAL_AWJ</code>. Other examples query that analytic workspace. The metadata objects in the analytic workspace are mapped to columns in relational tables that are in the Global schema.</p>
<p>From the OTN website, you can download a file that contains SQL scripts that create the Global schema and a file that contains the example programs. The OTN website is at <code><a href="http://www.oracle.com/technetwork/database/options/olap/index.html">http://www.oracle.com/technetwork/database/options/olap/index.html</a></code>.</p>
<p><a id="sthref77"></a>To get either file, select <span class="bold">Sample Code and Schemas</span> in the Download section of the web page. To get the sample schema, select <span class="bold">Global Schema 11g</span>. To get the example programs, select <span class="bold">Example Programs for Documentation</span> and then select Download the <span class="bold">Example Programs for 11g Release 2 (11.2)</span> to download the compressed file that contains the examples.</p>
<p><a id="sthref78"></a><a id="sthref79"></a><a id="sthref80"></a>The example programs are in a package structure that you can easily add to your development environment. The classes include a base class that the example program classes extend, and utility classes that they use. The base class is <code>BaseExample11g.java</code>. The utility classes include <code>Context11g.java</code> and <code>CursorPrintWriter.java</code>. The <code>Context11g.java</code> class has methods that create a connection to an Oracle Database instance, that store metadata objects, that return the stored metadata objects, and that create <code>Cursor</code> objects. The <code>CursorPrintWriter.java</code> class is a <code>PrintWriter</code> that has methods that display the contents of <code>Cursor</code> objects.</p>
<p><a id="sthref81"></a><a id="sthref82"></a><a id="sthref83"></a>The OLAP metadata objects are created and built by the <code>CreateAndBuildAW.java</code> and the <code>SpecifyAWValues</code> programs. Those metadata objects include the following:</p>
<ul>
<li>
<p>GLOBAL_AWJ, which is the analytic workspace that contains the other objects.</p>
</li>
<li>
<p>PRODUCT_AWJ, which is a dimension for products. It has one hierarchy named PRODUCT_PRIMARY. The lowest level of the hierarchy has product item identifiers and the higher levels have product family, class, and total products identifiers.</p>
</li>
<li>
<p>CUSTOMER_AWJ, which is a dimension for customers. It has two hierarchies named SHIPMENTS and MARKETS. The lowest level of each hierarchy has customer identifiers and higher levels have warehouse, region, and total customers, and account, market segment, and total market identifiers, respectively.</p>
</li>
<li>
<p>TIME_AWJ, which is a dimension for time values. It has a hierarchy named CALENDAR_YEAR. The lowest level has month identifiers, and the other levels have quarter and year identifiers.</p>
</li>
<li>
<p>CHANNEL_AWJ, which is a dimension for sales channels. It has one hierarchy named CHANNEL_PRIMARY. The lowest level has sales channel identifiers and the higher level has the total channel identifier.</p>
</li>
<li>
<p>UNITS_CUBE_AWJ, which is a cube that contains the measures COST, SALES, and UNITS. COST has values for the costs of product units. SALES has the dollar amounts for the sales of product units. UNITS has values for the quantities of product units sold. The cube is dimensioned by all four dimensions. The aggregation method for the cube is <code>SUM</code>, in which each the value for each parent is the sum of the values of the children of the parent.</p>
</li>
<li>
<p>PRICE_CUBE_AWJ, which is a cube that contains the measures UNIT_COST and UNIT_PRICE. UNIT_COST has the costs of the units. UNIT_PRICE has the prices of the units. The cube is dimensioned by the PRODUCT_AWJ and TIME_AWJ dimensions. The aggregation method for the cube is <code>AVG</code>, in which the value for each parent is the average of the values of the children of the parent.</p>
</li>
</ul>
<p>For an example of a program that discovers the OLAP metadata for the analytic workspace, see <a href="discover.htm#g1015325">Chapter 3, &#34;Discovering Metadata&#34;</a>.</p>
</div>
<!-- class="sect1" -->
<a id="i1006352"></a>
<div class="sect1">
<h2 class="sect1">Tasks That an OLAP Java API Application Performs</h2>
<p><a id="sthref84"></a><a id="sthref85"></a>A client application that uses the OLAP Java API typically performs the following tasks:</p>
<ol>
<li>
<p>Connects to the data store and creates a <code>DataProvider</code> and a <code>UserSession</code>.</p>
</li>
<li>
<p>Creates or discovers metadata objects.</p>
</li>
<li>
<p>Deploys, maps, and builds metadata objects, as needed.</p>
</li>
<li>
<p>Specifies queries that select and manipulate data.</p>
</li>
<li>
<p>Retrieves query results.</p>
</li>
</ol>
<p>The rest of this topic briefly describes these tasks, and the rest of this guide provides detailed information about how to accomplish them.</p>
<dl>
<dt>Task 1: Connect to the Data Store and Create a DataProvider and UserSession</dt>
<dd>
<p>You connect to the data store by identifying some information about the target Oracle Database instance and specifying this information in a JDBC connection method. Having established a connection, you create a <code>DataProvider</code> and use it and the connection to create a <code>UserSession</code>. For more information about connecting and creating a <code>DataProvider</code> and <code>UserSession</code>, see <a href="discover.htm#i1005989">&#34;Connecting to Oracle OLAP&#34;</a> in <a href="discover.htm#g1015325">Chapter 3</a>.</p>
</dd>
<dt>Task 2: Create or Discover Metadata Objects</dt>
<dd>
<p>You use the <code>DataProvider</code> to get an <code>MdmMetadataProvider</code>. The <code>MdmMetadataProvider</code> gives access to all of the metadata objects in the data store. You next obtain the <code>MdmRootSchema</code> object by calling the <code>getRootSchema</code> method of the <code>MdmMetdataProvider</code>. The <code>MdmRootSchema</code> object contains all of the OLAP metadata objects in the database. From the <code>MdmRootSchema</code>, you get the <code>MdmDatabaseSchema</code> objects for the schemas that the current user has permission to access. An <code>MdmDatabaseSchema</code> represents a named Oracle Database user as returned by the SQL statement <code>SELECT username FROM all_users</code>.</p>
<p>From an <code>MdmDatabaseSchema</code>, you can discover the existing metadata objects that are owned by the schema or you can create new ones. Methods such as <code>getMeasures</code> and <code>getDimensions</code> get all of the measures or dimensions owned by the <code>MdmDatabaseSchema</code>. Methods such as <code>findOrCreateAW</code> and <code>findOrCreateCube</code> get an analytic workspace or cube, if it exists, or create one if it does not already exist.</p>
<p>From a top-level metadata object contained by the <code>MdmDatabaseSchema</code>, such as an analytic workspace, cube, or dimension, you can get the objects that it contains. For example, from an <code>MdmPrimaryDimension</code>, you can get the hierarchies, levels, and attributes that are associated with it. Having determined the metadata objects that are available to the user, you can present relevant lists of objects to the user for data selection and manipulation.</p>
<p>For a description of the metadata objects, see <a href="metadata.htm#BABHIFDH">Chapter 2, &#34;Understanding OLAP Java API Metadata&#34;</a>. For information about how you can discover the available metadata, see <a href="discover.htm#g1015325">Chapter 3, &#34;Discovering Metadata&#34;</a>.</p>
</dd>
<dt>Task 3: Deploy, Map, and Build Objects</dt>
<dd>
<p>If you create a new <code>MdmCube</code> or <code>MdmPrimaryDimension</code>, you must deploy it as an analytic workspace object or as a relational OLAP (Rolap) object. To deploy a cube, you call an <code>MdmCube</code> method such as <code>findOrCreateAWCubeOrganization</code>. To deploy a <code>dimension</code>, you call an <code>MdmPrimaryDimension</code> method such as <code>findOrCreateAWPrimaryDimensionOrganization</code>.</p>
<p>If you create a new metadata object that represents data, you must specify an <code>Expression</code> that maps the metadata object to a relational source table or view, or that Oracle OLAP uses to generate the data. For objects that are contained by an analytic workspace, you can build the metadata objects after mapping them. For information on creating metadata, deploying, mapping, and building metadata objects, see <a href="create.htm#g1008851">Chapter 4, &#34;Creating Metadata and Analytic Workspaces&#34;</a>.</p>
</dd>
<dt>Task 4: Select and Calculate Data Through Queries</dt>
<dd>
<p>An OLAP Java API application can construct queries against the data store. A typical application user interface provides ways for the user to select data and to specify the operations to perform using the data. Then, the data manipulation code translates these instructions into queries against the data store. The queries can be as simple as a selection of dimension members, or they can be complex, including several aggregations and calculations involving the measure values that are specified by selections of dimension members.</p>
<p>The OLAP Java API object that represents a query is a <code>Source</code>. Metadata objects that represent data are extensions of the <code>MdmSource</code> class. From an <code>MdmSource</code>, such as an <code>MdmMeasure</code> or an <code>MdmPrimaryDimension</code>, you can get a <code>Source</code> object. With the methods of a <code>Source</code> object, you can produce other <code>Source</code> objects that specify a selection of the elements of the <code>Source</code>, or that specify calculations or other operations to perform on the values of a <code>Source</code>.</p>
<p>If you are implementing a simple user interface, then you might use only the methods of a <code>Source</code> object to select and manipulate the data that users specify in the interface. However, if you want to offer your users multistep selection procedures and the ability to modify queries or undo individual steps in their selections, then you should design and implement <code>Template</code> classes. Within the code for each <code>Template</code>, you use the methods of the <code>Source</code> classes, but the <code>Template</code> classes themselves allow you to dynamically modify and refine even the most complex query. In addition, you can write general-purpose <code>Template</code> classes and reuse them in various parts of your application.</p>
<p>For information about working with <code>Source</code> objects, see <a href="query.htm#g1030586">Chapter 5, &#34;Understanding Source Objects&#34;</a>. For information about working with <code>Template</code> objects, see <a href="template.htm#g1013092">Chapter 10, &#34;Creating Dynamic Queries&#34;</a>.</p>
</dd>
<dt>Task 5: Retrieve Query Results</dt>
<dd>
<p>When users of an OLAP Java API application are selecting, calculating, combining, and generally manipulating data, they also want to see the results of their work. This means that the application must retrieve the result sets of queries from the data store and display the data in multidimensional form. To retrieve a result set for a query through the OLAP Java API, you create a <code>Cursor</code> for the <code>Source</code> that specifies the query.</p>
<p><a id="sthref86"></a><a id="sthref87"></a>You can also get the SQL that Oracle OLAP generates for a query. To do so, you create a <code>SQLCursorManager</code> for the <code>Source</code> instead of creating a <code>Cursor</code>. The <code>generateSQL</code> method of the <code>SQLCursorManager</code> returns the SQL specified by the <code>Source</code>. You can then retrieve the data by means outside of the OLAP Java API.</p>
<p>Because the OLAP Java API was designed to deal with a multidimensional view of data, a <code>Source</code> can have a multidimensional result set. For example, a <code>Source</code> can represent an <code>MdmMeasure</code> that is dimensioned by four <code>MdmPrimaryDimension</code> objects. Each <code>MdmPrimaryDimension</code> has an associated <code>Source</code>. You can create a query by joining the <code>Source</code> objects for the dimensions to the <code>Source</code> for the measure. The resulting query has the <code>Source</code> for the measure as the base and it has the <code>Source</code> objects for the dimensions as outputs.</p>
<p>A <code>Cursor</code> for a query <code>Source</code> has the same structure as the <code>Source</code>. For example, the <code>Cursor</code> for the <code>Source</code> just mentioned has base values that are the measure data. The <code>Cursor</code> also has four outputs. The values of the outputs are those of the <code>Source</code> objects for the dimensions.</p>
<p>To retrieve all of the items of data through a <code>Cursor</code>, you can loop through the multidimensional <code>Cursor</code> structure. This design is well adapted to the requirements of standard user interface objects for painting the computer screen. It is especially well adapted to the display of data in multidimensional format.</p>
<p>For more information about using <code>Source</code> objects to specify a query, see <a href="query.htm#g1030586">Chapter 5, &#34;Understanding Source Objects&#34;</a>. For more information about using <code>Cursor</code> objects to retrieve data, see <a href="crscncpt.htm#g1014888">Chapter 8, &#34;Understanding Cursor Classes and Concepts&#34;</a>. For more information about the <code>SQLCursorManager</code> class, see <a class="olink OLAPI" href="../OLAPI/toc.htm"><span class="italic">Oracle OLAP Java API Reference</span></a>.</p>
</dd>
</dl>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4769">
<tr>
<td class="cellalignment4776">
<table class="cellalignment4774">
<tr>
<td class="cellalignment4773"><a href="changes.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4773"><a href="metadata.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2000, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4778">
<table class="cellalignment4772">
<tr>
<td class="cellalignment4773"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4773"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4773"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4773"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4773"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4773"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
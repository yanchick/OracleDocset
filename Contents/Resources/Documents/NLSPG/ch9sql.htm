<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-78686"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SQL%20and%20PL%2FSQL%20Programming%20in%20a%20Global%20Environment"></a><title>SQL and PL/SQL Programming in a Global Environment</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="NLS parameters, default values in SQL functions, SQL functions, default values for NLS parameters, specifying in SQL functions, specifying NLS parameters, unacceptable in SQL functions, unacceptable NLS parameters, CONVERT SQL function, CONVERT, LIKE conditions in SQL statements, SQL statements, LIKE conditions, NLSSORT SQL function, NLSSORT, syntax, WHERE clause, string comparisons, string comparisons, WHERE clause, NLS_COMP parameter, ORDER BY clause, linguistic sorts, controlling, date formats, numeric formats, SQL masks, LOBs, loading external BFILE data, BFILE data, loading into LOBs, loading external BFILE data into LOBs"/>
<meta name="dcterms.created" content="2017-01-18T01:25:48Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Globalization Support Guide"/>
<meta name="dcterms.identifier" content="E41669-12"/>
<meta name="dcterms.isVersionOf" content="NLSPG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="ch8gdk.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch10oci.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41669-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B16ADD64-24AC-46FC-B96F-D15B28C70C1D"></a> <span id="PAGE" style="display:none;">13/20</span> <!-- End Header -->
<a id="NLSPG009"></a>
<h1 id="NLSPG-GUID-B16ADD64-24AC-46FC-B96F-D15B28C70C1D" class="sect1"><span class="enumeration_chapter">9</span> SQL and PL/SQL Programming in a Global Environment</h1>
<div>
<p>This chapter contains information useful for SQL programming in a globalization support environment. This chapter includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ch9sql.htm#GUID-BB47294E-98E2-4193-85F8-4475401F95C8">Locale-Dependent SQL Functions with Optional NLS Parameters</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC">Other Locale-Dependent SQL Functions</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F">Miscellaneous Topics for SQL and PL/SQL Programming in a Global Environment</a></p>
</li>
</ul>
</div>
<a id="NLSPG429"></a>
<div class="props_rev_3"><a id="GUID-BB47294E-98E2-4193-85F8-4475401F95C8"></a>
<h2 id="NLSPG-GUID-BB47294E-98E2-4193-85F8-4475401F95C8" class="sect2">Locale-Dependent SQL Functions with Optional NLS Parameters</h2>
<div>
<p>NLS parameters can be specified for all SQL functions whose behavior depends on globalization support conventions. These functions are:</p>
<ul class="simple">
<li><code>TO_CHAR</code></li>
<li><code>TO_DATE</code></li>
<li><code>TO_NUMBER</code></li>
<li><code>NLS_UPPER</code></li>
<li><code>NLS_LOWER</code></li>
<li><code>NLS_INITCAP</code></li>
<li><code>NLSSORT</code></li>
</ul>
<p>Explicitly specifying the optional NLS parameters for these functions enables the functions to be evaluated independently of the session&#39;s NLS parameters. This feature can be important for SQL statements that contain numbers and dates as string literals.</p>
<p>For example, the following query is evaluated correctly if the language specified for dates is <code>AMERICAN</code>:</p>
<pre dir="ltr">SELECT last_name FROM employees WHERE hire_date &gt; &#39;01-JAN-2005&#39;;
</pre>
<p>Such a query can be made independent of the current date language by using a statement similar to the following:</p>
<pre dir="ltr">SELECT last_name FROM employees
     WHERE hire_date &gt; TO_DATE(&#39;01-JAN-2005&#39;,&#39;DD-MON-YYYY&#39;,
     &#39;NLS_DATE_LANGUAGE = AMERICAN&#39;);
</pre>
<p>In this way, SQL statements that are independent of the session language can be defined where necessary. Such statements are necessary when string literals appear in SQL statements in views, <code>CHECK</code> constraints, or triggers.</p>
<div class="infobox-note" id="GUID-BB47294E-98E2-4193-85F8-4475401F95C8__GUID-187E0F48-BCC2-4D09-B527-B5FEAB537BC7">
<p class="notep1">Note:</p>
<p>Only SQL statements that must be independent of the session NLS parameter values should explicitly specify optional NLS parameters in locale-dependent SQL functions. Using session default values for NLS parameters in SQL functions usually results in better performance.</p>
</div>
<p>All character functions support both single-byte and multibyte characters. Except where explicitly stated, character functions operate character by character, rather than byte by byte.</p>
<p>The rest of this section includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ch9sql.htm#GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432">Default Values for NLS Parameters in SQL Functions</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-9C3508E2-F00A-4BE3-8923-5F893678884D">Specifying NLS Parameters in SQL Functions</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-3A2A3358-8203-4474-8905-7E055D77A435">Unacceptable NLS Parameters in SQL Functions</a></p>
</li>
</ul>
</div>
<a id="NLSPG430"></a>
<div class="props_rev_3"><a id="GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432"></a>
<h3 id="NLSPG-GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432" class="sect3">Default Values for NLS Parameters in SQL Functions</h3>
<div>
<p>When SQL functions evaluate views and triggers, default values from the current session are used for the NLS function parameters. When SQL functions evaluate <code>CHECK</code> constraints, they use the default values that were specified for the NLS parameters when the database was created.</p>
</div>
</div>
<a id="NLSPG842"></a><a id="NLSPG431"></a>
<div class="props_rev_3"><a id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D"></a>
<h3 id="NLSPG-GUID-9C3508E2-F00A-4BE3-8923-5F893678884D" class="sect3">Specifying NLS Parameters in SQL Functions</h3>
<div>
<div class="section">
<p>NLS parameters are specified in SQL functions as follows:</p>
<pre dir="ltr">&#39;<span class="italic">parameter</span> = <span class="italic">value</span>&#39;
</pre>
<p>For example:</p>
<pre dir="ltr">&#39;NLS_DATE_LANGUAGE = AMERICAN&#39;
</pre>
<p>The following NLS parameters can be specified in SQL functions:</p>
<ul class="simple">
<li><code>NLS_DATE_LANGUAGE</code></li>
<li><code>NLS_NUMERIC_CHARACTERS</code></li>
<li><code>NLS_CURRENCY</code></li>
<li><code>NLS_ISO_CURRENCY</code></li>
<li><code>NLS_DUAL_CURRENCY</code></li>
<li><code>NLS_CALENDAR</code></li>
<li><code>NLS_SORT</code></li>
</ul>
<p><a href="ch9sql.htm#GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__CIHDAACF" title="This table is described in the preceding text">Table 9-1</a> shows which NLS parameters are valid for specific SQL functions.</p>
<div class="tblformal" id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__CIHDAACF">
<p class="titleintable">Table 9-1 SQL Functions and Their Valid NLS Parameters</p>
<table class="cellalignment2377" title="SQL Functions and Their Valid NLS Parameters " summary="This table is described in the preceding text">
<thead>
<tr class="cellalignment2368">
<th class="cellalignment2408" id="d72949e453">SQL Function</th>
<th class="cellalignment2409" id="d72949e456">Valid NLS Parameters</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e461" headers="d72949e453">
<p><code>TO_DATE</code></p>
</td>
<td class="cellalignment2411" headers="d72949e461 d72949e456">
<p><code>NLS_DATE_LANGUAGE, NLS_CALENDAR</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e470" headers="d72949e453">
<p><code>TO_NUMBER</code></p>
</td>
<td class="cellalignment2411" headers="d72949e470 d72949e456">
<p><code>NLS_NUMERIC_CHARACTERS, NLS_CURRENCY, NLS_DUAL_CURRENCY, NLS_ISO_CURRENCY</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e479" headers="d72949e453">
<p><code>TO_CHAR</code></p>
</td>
<td class="cellalignment2411" headers="d72949e479 d72949e456">
<p><code>NLS_DATE_LANGUAGE, NLS_NUMERIC_CHARACTERS, NLS_CURRENCY, NLS_ISO_CURRENCY, NLS_DUAL_CURRENCY, NLS_CALENDAR</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e488" headers="d72949e453">
<p><code>TO_NCHAR</code></p>
</td>
<td class="cellalignment2411" headers="d72949e488 d72949e456">
<p><code>NLS_DATE_LANGUAGE, NLS_NUMERIC_CHARACTERS, NLS_CURRENCY, NLS_ISO_CURRENCY, NLS_DUAL_CURRENCY, NLS_CALENDAR</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e497" headers="d72949e453">
<p><code>NLS_UPPER</code></p>
</td>
<td class="cellalignment2411" headers="d72949e497 d72949e456">
<p><code>NLS_SORT</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e506" headers="d72949e453">
<p><code>NLS_LOWER</code></p>
</td>
<td class="cellalignment2411" headers="d72949e506 d72949e456">
<p><code>NLS_SORT</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e515" headers="d72949e453">
<p><code>NLS_INITCAP</code></p>
</td>
<td class="cellalignment2411" headers="d72949e515 d72949e456">
<p><code>NLS_SORT</code></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2410" id="d72949e524" headers="d72949e453">
<p><code>NLSSORT</code></p>
</td>
<td class="cellalignment2411" headers="d72949e524 d72949e456">
<p><code>NLS_SORT</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The following examples show how to use NLS parameters in SQL functions:</p>
<pre dir="ltr">TO_DATE (&#39;1-JAN-99&#39;, &#39;DD-MON-YY&#39;,
   &#39;nls_date_language = American&#39;)

TO_CHAR (hire_date, &#39;DD/MON/YYYY&#39;,
   &#39;nls_date_language = French&#39;)

TO_CHAR (SYSDATE, &#39;DD/MON/YYYY&#39;,
    &#39;nls_date_language=&#39;&#39;Traditional Chinese&#39;&#39; &#39;)

TO_NUMBER (&#39;13.000,00&#39;, &#39;99G999D99&#39;,
   &#39;nls_numeric_characters = &#39;&#39;,.&#39;&#39;&#39;)

TO_CHAR (salary, &#39;9G999D99L&#39;, &#39;nls_numeric_characters = &#39;&#39;,.&#39;&#39;
   nls_currency = &#39;&#39;EUR&#39;&#39;&#39;)

TO_CHAR (salary, &#39;9G999D99C&#39;, &#39;nls_numeric_characters = &#39;&#39;.,&#39;&#39;
   nls_iso_currency = Japan&#39;)

NLS_UPPER (last_name, &#39;nls_sort = Swiss&#39;)

NLSSORT (last_name, &#39;nls_sort = German&#39;)
</pre>
<div class="infobox-note" id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__GUID-45453CDB-1417-45EA-8762-03CD5F54020E">
<p class="notep1">Note:</p>
<p>In some languages, some lowercase characters correspond to more than one uppercase character or vice versa. As a result, the length of the output from the <code>NLS_UPPER</code>, <code>NLS_LOWER</code>, and <code>NLS_INITCAP</code> functions can differ from the length of the input.</p>
</div>
<div class="infoboxnotealso" id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__GUID-327DAEC3-256A-42ED-A950-3AE457FCC2B1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="ch5lingsort.htm#GUID-911BCCDC-6FA9-4B5E-B76E-C7D05B969E26">Special Uppercase Letters</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="ch5lingsort.htm#GUID-9E1B89DF-1E19-4660-9D5C-A27D628DDD16">Special Lowercase Letters</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="NLSPG432"></a>
<div class="props_rev_3"><a id="GUID-3A2A3358-8203-4474-8905-7E055D77A435"></a>
<h3 id="NLSPG-GUID-3A2A3358-8203-4474-8905-7E055D77A435" class="sect3">Unacceptable NLS Parameters in SQL Functions</h3>
<div>
<p>The following NLS parameters are not accepted in SQL functions except for <code>NLSSORT</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>NLS_LANGUAGE</code></p>
</li>
<li>
<p><code>NLS_TERRITORY</code></p>
</li>
<li>
<p><code>NLS_DATE_FORMAT</code></p>
</li>
</ul>
<p><code>NLS_DATE_FORMAT</code> and <code>NLS_TERRITORY_FORMAT</code> are not accepted as parameters because they can interfere with required format masks. A date format must always be specified if an NLS parameter is in a <code>TO_CHAR</code> or <code>TO_DATE</code> function. As a result, <code>NLS_DATE_FORMAT</code> and <code>NLS_TERRITORY_FORMAT</code> are not valid NLS parameters for the <code>TO_CHAR</code> or <code>TO_DATE</code> functions. If you specify <code>NLS_DATE_FORMAT</code> or <code>NLS_TERRITORY_FORMAT</code> in the <code>TO_CHAR</code> or <code>TO_DATE</code> function, then an error is returned.</p>
<p><code>NLS_LANGUAGE</code> can interfere with the session value of <code>NLS_DATE_LANGUAGE</code>. If you specify <code>NLS_LANGUAGE</code> in the <code>TO_CHAR</code> function, for example, then its value is ignored if it differs from the session value of <code>NLS_DATE_LANGUAGE</code>.</p>
</div>
</div>
</div>
<a id="NLSPG433"></a>
<div class="props_rev_3"><a id="GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC"></a>
<h2 id="NLSPG-GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC" class="sect2">Other Locale-Dependent SQL Functions</h2>
<div>
<p>This section includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ch9sql.htm#GUID-CC307763-CC57-460A-80FC-ED3395BC94AB">The CONVERT Function</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB">SQL Functions for Different Length Semantics</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE">LIKE Conditions for Different Length Semantics</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264">Character Set SQL Functions</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497">The NLSSORT Function</a></p>
</li>
</ul>
</div>
<a id="NLSPG434"></a>
<div class="props_rev_3"><a id="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB"></a>
<h3 id="NLSPG-GUID-CC307763-CC57-460A-80FC-ED3395BC94AB" class="sect3">The CONVERT Function</h3>
<div>
<p><a id="d72949e899" class="indexterm-anchor"></a><a id="d72949e903" class="indexterm-anchor"></a><a id="d72949e907" class="indexterm-anchor"></a><a id="d72949e909" class="indexterm-anchor"></a>The <code>CONVERT</code> function enables conversion of character data between character sets.</p>
<p>The <code>CONVERT</code> function converts the binary representation of a character string in one character set to another. It uses exactly the same technique as conversion between database and client character sets. Hence, it uses <a id="d72949e922" class="indexterm-anchor"></a>replacement characters and has the same limitations.</p>
<div class="infoboxnotealso" id="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB__GUID-64A765ED-0FB6-480E-B225-20C86A4BC69C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="ch2charset.htm#GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F">Character Set Conversion Between Clients and the Server</a>&#34;</span></p>
</div>
<p>The syntax for <code>CONVERT</code> is as follows:</p>
<pre dir="ltr">CONVERT(<span class="italic">char</span>, <span class="italic">dest_char_set</span>[, <span class="italic">source_char_set</span>])
</pre>
<p><span class="italic"><code>char</code></span> is the value to be converted. <span class="italic"><code>source_char_set</code></span> is the source character set and <span class="italic"><code>dest_char_set</code></span> is the destination character set. If the <span class="italic"><code>source_char_set</code></span> parameter is not specified, then it defaults to the database character set.</p>
<div class="infoboxnotealso" id="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB__GUID-19B1E6D2-02AC-47D8-B761-DD80EAB87DDA">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SQLRF00620" target="_blank" href="../SQLRF/functions041.htm#SQLRF00620"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code>CONVERT</code> function</p>
</li>
<li>
<p><span class="q">&#34;<a href="applocaledata.htm#GUID-2547D8E3-DC0F-4970-B9B4-3D0E03BA050A">Character Set Conversion Support</a>&#34;</span> for character set encodings that are used only for the <code>CONVERT</code> function</p>
</li>
</ul>
</div>
</div>
</div>
<a id="NLSPG843"></a><a id="NLSPG435"></a>
<div class="props_rev_3"><a id="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB"></a>
<h3 id="NLSPG-GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB" class="sect3">SQL Functions for Different Length Semantics</h3>
<div>
<p>Oracle provides SQL functions that work in accordance with different length semantics. There are three groups of such SQL functions: <code>SUBSTR</code>, <code>LENGTH</code>, and <code>INSTR</code>. Each function in a group is based on a different kind of length semantics and is distinguished by the character or number appended to the function name. For example, <code>SUBSTRB</code> is based on byte semantics.</p>
<p>The <code>SUBSTR</code> functions return a requested portion of a substring. The <code>LENGTH</code> functions return the length of a string. The <code>INSTR</code> functions search for a substring in a string.</p>
<p>The <code>SUBSTR</code> functions calculate the length of a string differently. <a href="ch9sql.htm#GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB__CIHBDIBC" title="This table is described in the preceding text">Table 9-2</a> summarizes the calculation methods.</p>
<div class="tblformal" id="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB__CIHBDIBC">
<p class="titleintable">Table 9-2 How the SUBSTR Functions Calculate the Length of a String</p>
<table class="cellalignment2377" title="How the SUBSTR Functions Calculate the Length of a String " summary="This table is described in the preceding text">
<thead>
<tr class="cellalignment2368">
<th class="cellalignment2386" id="d72949e1109">Function</th>
<th class="cellalignment2476" id="d72949e1112">Calculation Method</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2368">
<td class="cellalignment2387" id="d72949e1117" headers="d72949e1109">
<p><code>SUBSTR</code></p>
</td>
<td class="cellalignment2477" headers="d72949e1117 d72949e1112">
<p>Calculates the length of a string in characters based on the length semantics associated with the character set of the data type. For example, AL32UTF8 characters are calculated in UCS-4 characters. UTF8 and AL16UTF16 characters are calculated in UCS-2 characters. A supplementary character is counted as one character in AL32UTF8 and as two characters in UTF8 and AL16UTF16. Because <code>VARCHAR</code> and <code>NVARCHAR2</code> may use different character sets, <code>SUBSTR</code> may give different results for different data types even if two strings are identical. If your application requires consistency, then use <code>SUBSTR2</code> or <code>SUBSTR4</code> to force all semantic calculations to be UCS-2 or UCS-4, respectively.</p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2387" id="d72949e1140" headers="d72949e1109">
<p><code>SUBSTRB</code></p>
</td>
<td class="cellalignment2477" headers="d72949e1140 d72949e1112">
<p>Calculates the length of a string in bytes.</p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2387" id="d72949e1148" headers="d72949e1109">
<p><code>SUBSTR2</code></p>
</td>
<td class="cellalignment2477" headers="d72949e1148 d72949e1112">
<p>Calculates the length of a string in UCS-2 characters, which is compliant with Java strings and Windows client environments. Characters are represented in UCS-2 or 16-bit Unicode values. Supplementary characters are counted as two characters.</p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2387" id="d72949e1156" headers="d72949e1109">
<p><code>SUBSTR4</code></p>
</td>
<td class="cellalignment2477" headers="d72949e1156 d72949e1112">
<p>Calculates the length of a string in UCS-4 characters. Characters are represented in UCS-4 or 32-bit Unicode values. Supplementary characters are counted as one character.</p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2387" id="d72949e1164" headers="d72949e1109">
<p><code>SUBSTRC</code></p>
</td>
<td class="cellalignment2477" headers="d72949e1164 d72949e1112">
<p>Calculates the length of a string in Unicode composed characters. Supplementary characters and composed characters are counted as one character.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code>LENGTH</code> and <code>INSTR</code> functions calculate string length in the same way, according to the character or number added to the function name.</p>
<p>The following examples demonstrate the differences between <code>SUBSTR</code> and <code>SUBSTRB</code> on a database whose character set is AL32UTF8.</p>
<p>For the string <code>Fu&szlig;ball,</code> the following statement returns a substring that is 4 characters long, beginning with the second character:</p>
<pre dir="ltr">SELECT SUBSTR (&#39;Fu&szlig;ball&#39;, 2 , 4) SUBSTR FROM DUAL;

SUBS
----
u&szlig;ba
</pre>
<p>For the string <code>Fu&szlig;ball,</code> the following statement returns a substring 4 bytes long, beginning with the second byte:</p>
<pre dir="ltr">SELECT SUBSTRB (&#39;Fu&szlig;ball&#39;, 2 , 4) SUBSTRB FROM DUAL;

SUB
---
u&szlig;b
</pre>
<div class="infoboxnotealso" id="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB__GUID-2A072DEF-C65D-4D66-8070-99C2139087BA">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF51173" target="_blank" href="../SQLRF/functions001.htm#SQLRF51173"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code>SUBSTR</code>, <code>LENGTH</code>, and <code>INSTR</code> functions</p>
</div>
</div>
</div>
<a id="NLSPG844"></a><a id="NLSPG436"></a>
<div class="props_rev_3"><a id="GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE"></a>
<h3 id="NLSPG-GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE" class="sect3">LIKE Conditions for Different Length Semantics</h3>
<div>
<p>The <code>LIKE</code> conditions specify a test that uses pattern-matching. The equality operator (=) exactly matches one character value to another, but the <code>LIKE</code> conditions match a portion of one character value to another by searching the first value for the pattern specified by the second.</p>
<p><code>LIKE</code> calculates the length of strings in characters using the length semantics associated with the input character set. The <code>LIKE2</code>, <code>LIKE4</code>, and <code>LIKEC</code> conditions are summarized in <a href="ch9sql.htm#GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE__g1007320" title="This table is described in the preceding text">Table 9-3</a>.</p>
<div class="tblformal" id="GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE__g1007320">
<p class="titleintable">Table 9-3 LIKE Conditions</p>
<table class="cellalignment2377" title="LIKE Conditions" summary="This table is described in the preceding text">
<thead>
<tr class="cellalignment2368">
<th class="cellalignment2412" id="d72949e1335">Function</th>
<th class="cellalignment2478" id="d72949e1338">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2368">
<td class="cellalignment2414" id="d72949e1343" headers="d72949e1335">
<p><code>LIKE2</code></p>
</td>
<td class="cellalignment2479" headers="d72949e1343 d72949e1338">
<p>Use when characters are represented in UCS-2 semantics. A supplementary character is considered as two characters.</p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2414" id="d72949e1351" headers="d72949e1335">
<p><code>LIKE4</code></p>
</td>
<td class="cellalignment2479" headers="d72949e1351 d72949e1338">
<p>Use when characters are represented in UCS-4 semantics. A supplementary character is considered as one character.</p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2414" id="d72949e1359" headers="d72949e1335">
<p><code>LIKEC</code></p>
</td>
<td class="cellalignment2479" headers="d72949e1359 d72949e1338">
<p>Use when characters are represented in Unicode complete character semantics. A composed character is treated as one character.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>There is no <code>LIKEB</code> condition.</p>
</div>
</div>
<a id="NLSPG437"></a>
<div class="props_rev_3"><a id="GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264"></a>
<h3 id="NLSPG-GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264" class="sect3">Character Set SQL Functions</h3>
<div>
<p>Two SQL functions, <code>NLS_CHARSET_NAME</code> and <code>NLS_CHARSET_ID</code>, can convert between character set ID numbers and character set names. They are used by programs that need to determine character set ID numbers for binding variables through OCI. <a id="d72949e1451" class="indexterm-anchor"></a></p>
<p>Another SQL function, <code>NLS_CHARSET_DECL_LEN</code>, returns the declaration length of a column in number of characters, given the byte length of the column.</p>
<p>This section includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ch9sql.htm#GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA">Converting from Character Set Number to Character Set Name</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560">Converting from Character Set Name to Character Set Number</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38">Returning the Length of an NCHAR Column</a></p>
<div class="infoboxnotealso" id="GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264__GUID-B7E420AC-2502-4A68-BDC8-93F9E6AB841E">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF51173" target="_blank" href="../SQLRF/functions001.htm#SQLRF51173"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
</div>
</li>
</ul>
</div>
<a id="NLSPG438"></a>
<div class="props_rev_3"><a id="GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA"></a>
<h4 id="NLSPG-GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA" class="sect4">Converting from Character Set Number to Character Set Name</h4>
<div>
<p>The <code>NLS_CHARSET_NAME</code>(<span class="italic"><code>n</code></span>) function returns the name of the character set corresponding to ID number <span class="italic"><code>n</code></span>. The function returns <code>NULL</code> if <span class="italic"><code>n</code></span> is not a recognized character set ID value.</p>
</div>
</div>
<a id="NLSPG439"></a>
<div class="props_rev_3"><a id="GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560"></a>
<h4 id="NLSPG-GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560" class="sect4">Converting from Character Set Name to Character Set Number</h4>
<div>
<p><code>NLS_CHARSET_ID</code>(<span class="italic"><code>text</code></span>) returns the character set ID corresponding to the name specified by <span class="italic"><code>text</code></span>. <span class="italic"><code>text</code></span> is defined as a run-time <code>VARCHAR2</code> quantity, a character set name. Values for <code>text</code> can be <code>NLSRTL</code> names that resolve to character sets that are not the database character set or the national character set.</p>
<p>If the value <code>CHAR_CS</code> is entered for <span class="italic"><code>text</code></span>, then the function returns the ID of the database character set. If the value <code>NCHAR_CS</code> is entered for <span class="italic"><code>text</code></span>, then the function returns the ID of the database&#39;s national character set. The function returns <code>NULL</code> if <span class="italic"><code>text</code></span> is not a recognized name.</p>
<div class="infobox-note" id="GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560__GUID-2295974B-6BE3-4533-866B-1C969CEE5BBA">
<p class="notep1">Note:</p>
<p>The value for <span class="italic"><code>text</code></span> must be entered in uppercase characters.</p>
</div>
</div>
</div>
<a id="NLSPG440"></a>
<div class="props_rev_3"><a id="GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38"></a>
<h4 id="NLSPG-GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38" class="sect4">Returning the Length of an NCHAR Column</h4>
<div>
<p><code>NLS_CHARSET_DECL_LEN</code>(<span class="italic"><code>BYTECNT</code></span>, <span class="italic"><code>CSID</code></span>) returns the declaration length of a column in number of characters, given the byte length of the column. <span class="italic"><code>BYTECNT</code></span> is the byte length of the column. <span class="italic"><code>CSID</code></span> is the character set ID of the column.</p>
</div>
</div>
</div>
<a id="NLSPG845"></a><a id="NLSPG846"></a><a id="NLSPG847"></a><a id="NLSPG441"></a>
<div class="props_rev_3"><a id="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497"></a>
<h3 id="NLSPG-GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497" class="sect3">The NLSSORT Function</h3>
<div>
<p>The <code>NLSSORT</code> function enables you to use any linguistic sort for an <code>ORDER BY</code> clause. It replaces a character string with the equivalent sort string used by the linguistic sort mechanism so that sorting the replacement strings produces the desired sorting sequence. For a binary sort, the sort string is the same as the input string.</p>
<p>The kind of linguistic sort used by an <code>ORDER</code> <code>BY</code> clause is determined by the <code>NLS_SORT</code> session parameter, but it can be overridden by explicitly using the <code>NLSSORT</code> function.</p>
<p>The following example specifies a German sort with the <code>NLS_SORT</code> session parameter.</p>
<pre dir="ltr">ALTER SESSION SET NLS_SORT = GERMAN;
SELECT * FROM table1
     ORDER BY column1;
</pre>
<p>The following example first sets the <code>NLS_SORT</code> session parameter to German, but the <code>NLSSORT</code> function overrides it by specifying a French sort.</p>
<pre dir="ltr">ALTER SESSION SET NLS_SORT = GERMAN;
SELECT * FROM table1
     ORDER BY NLSSORT(column1, &#39;NLS_SORT=FRENCH&#39;);
</pre>
<p>The <code>WHERE</code> clause uses binary comparison when <code>NLS_COMP</code> is set to <code>BINARY</code>, but this can be overridden by using the <code>NLSSORT</code> function in the <code>WHERE</code> clause.</p>
<p>The following example makes a linguistic comparison using the <code>WHERE</code> clause.</p>
<pre dir="ltr">ALTER SESSION SET NLS_COMP = BINARY;
SELECT * FROM table1
WHERE NLSSORT(column1, &#39;NLS_SORT=FRENCH&#39;)&gt;
      NLSSORT(column2, &#39;NLS_SORT=FRENCH&#39;);
</pre>
<p>Setting the <code>NLS_COMP</code> session parameter to <code>LINGUISTIC</code> causes the <code>NLS_SORT</code> value to be used in the <code>WHERE</code> clause.</p>
<p>The rest of this section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ch9sql.htm#GUID-65741DDD-B962-4D2A-9352-12789CC21A5A">NLSSORT Syntax</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF">Comparing Strings in a WHERE Clause</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-53314413-3891-48D3-87AC-7E2A3377E1A8">Using the NLS_COMP Parameter to Simplify Comparisons in the WHERE Clause</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88">Controlling an ORDER BY Clause</a></p>
</li>
</ul>
</div>
<a id="NLSPG442"></a>
<div class="props_rev_3"><a id="GUID-65741DDD-B962-4D2A-9352-12789CC21A5A"></a>
<h4 id="NLSPG-GUID-65741DDD-B962-4D2A-9352-12789CC21A5A" class="sect4">NLSSORT Syntax</h4>
<div>
<div class="section">
<p>There are four ways to use <code>NLSSORT</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>NLSSORT()</code>, which relies on the <code>NLS_SORT</code> parameter</p>
</li>
<li>
<p><code>NLSSORT(column1, &#39;NLS_SORT=</code><span class="italic"><code>xxxx</code></span><code>&#39;)</code></p>
</li>
<li>
<p><code>NLSSORT(column1, &#39;NLS_LANG=</code><span class="italic"><code>xxxx</code></span><code>&#39;)</code></p>
</li>
<li>
<p><code>NLSSORT(column1, &#39;NLS_LANGUAGE=</code><span class="italic"><code>xxxx</code></span><code>&#39;)</code></p>
</li>
</ul>
<p>The <code>NLS_LANG</code> parameter of the <code>NLSSORT</code> function is not the same as the <code>NLS_LANG</code> client environment setting. In the <code>NLSSORT</code> function, <code>NLS_LANG</code> specifies the abbreviated language name, such as <code>US</code> for American or <code>PL</code> for Polish. For example:</p>
<pre dir="ltr">SELECT * FROM table1
ORDER BY NLSSORT(column1, &#39;NLS_LANG=PL&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="NLSPG443"></a>
<div class="props_rev_3"><a id="GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF"></a>
<h4 id="NLSPG-GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF" class="sect4">Comparing Strings in a WHERE Clause</h4>
<div>
<p><code>NLSSORT</code> enables applications to perform string matching that follows alphabetic conventions. Normally, character strings in a <code>WHERE</code> clause are compared by using the binary values of the characters. One character is considered greater than another character if it has a greater binary value in the database character set. Because the sequence of characters based on their binary values might not match the alphabetic sequence for a language, such comparisons may not follow alphabetic conventions. For example, if a column (<code>column1</code>) contains the values ABC, ABZ, BCD, and &Auml;BC in the ISO 8859-1 8-bit character set, then the following query returns both <code>BCD</code> and <code>&Auml;BC</code> because <code>&Auml;</code> has a higher numeric value than <code>B</code>:</p>
<pre dir="ltr">SELECT column1 FROM table1 WHERE column1 &gt; &#39;B&#39;;
</pre>
<p>In German, <code>&Auml;</code> is sorted alphabetically before <code>B</code>, but in Swedish, <code>&Auml;</code> is sorted after <code>Z</code>. Linguistic comparisons can be made by using <code>NLSSORT</code> in the <code>WHERE</code> clause:</p>
<pre dir="ltr">WHERE NLSSORT(col) <span class="italic">comparison_operator</span> NLSSORT(<span class="italic">comparison_string</span>)
</pre>
<p>Note that <code>NLSSORT</code> must be on both sides of the comparison operator. For example:</p>
<pre dir="ltr">SELECT column1 FROM table1 WHERE NLSSORT(column1) &gt; NLSSORT(&#39;B&#39;);
</pre>
<p>If a German linguistic sort has been set, then the statement does not return strings beginning with <code>&Auml;</code> because <code>&Auml;</code> comes before <code>B</code> in the German alphabet. If a Swedish linguistic sort has been set, then strings beginning with <code>&Auml;</code> are returned because <code>&Auml;</code> comes after <code>Z</code> in the Swedish alphabet.</p>
</div>
</div>
<a id="NLSPG444"></a>
<div class="props_rev_3"><a id="GUID-53314413-3891-48D3-87AC-7E2A3377E1A8"></a>
<h4 id="NLSPG-GUID-53314413-3891-48D3-87AC-7E2A3377E1A8" class="sect4">Using the NLS_COMP Parameter to Simplify Comparisons in the WHERE Clause</h4>
<div>
<p>Comparison in the <code>WHERE</code> clause or PL/SQL blocks is binary by default. Using the <code>NLSSORT</code> function for linguistic comparison can be tedious, especially when the linguistic sort has already been specified in the <code>NLS_SORT</code> session parameter. You can use the <code>NLS_COMP</code> parameter to indicate that the comparisons in a <code>WHERE</code> clause or in PL/SQL blocks must be linguistic according to the <code>NLS_SORT</code> session parameter.</p>
<div class="infobox-note" id="GUID-53314413-3891-48D3-87AC-7E2A3377E1A8__GUID-56BB6B24-262A-40CE-A506-4C607149D0A9">
<p class="notep1">Note:</p>
<p>The <code>NLS_COMP</code> parameter does not affect comparison behavior for <a id="d72949e2401" class="indexterm-anchor"></a><a id="d72949e2405" class="indexterm-anchor"></a><a id="d72949e2409" class="indexterm-anchor"></a><a id="d72949e2413" class="indexterm-anchor"></a>partitioned tables. String comparisons that are based on a <code>VALUES LESS THAN</code> partition are always binary.</p>
</div>
<div class="infoboxnotealso" id="GUID-53314413-3891-48D3-87AC-7E2A3377E1A8__GUID-5D18E07B-07A0-4051-A44B-D59FD5AAA48E">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="ch3globenv.htm#GUID-598F4515-BE13-4BBE-9750-AEC2BFD21593">NLS_COMP</a>&#34;</span></p>
</div>
</div>
</div>
<a id="NLSPG445"></a>
<div class="props_rev_3"><a id="GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88"></a>
<h4 id="NLSPG-GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88" class="sect4">Controlling an ORDER BY Clause</h4>
<div>
<p>If a linguistic sort is in use, then <code>ORDER BY</code> clauses use an implicit <code>NLSSORT</code> on character data. The sort mechanism (linguistic or binary) for an <code>ORDER</code> <code>BY</code> clause is transparent to the application. However, if the <code>NLSSORT</code> function is explicitly specified in an <code>ORDER</code> <code>BY</code> clause, then the implicit <code>NLSSORT</code> is not done.</p>
<p>If a linguistic sort has been defined by the <code>NLS_SORT</code> session parameter, then an <code>ORDER BY</code> clause in an application uses an implicit <code>NLSSORT</code> function. If you specify an explicit <code>NLSSORT</code> function, then it overrides the implicit <code>NLSSORT</code> function.</p>
<p>When the sort mechanism has been defined as linguistic, the <code>NLSSORT</code> function is usually unnecessary in an <code>ORDER</code> <code>BY</code> clause.</p>
<p>When the sort mechanism either defaults or is defined as binary, then a query like the following uses a binary sort:</p>
<pre dir="ltr">SELECT last_name FROM employees 
     ORDER BY last_name;
</pre>
<p>A German linguistic sort can be obtained as follows:</p>
<pre dir="ltr">SELECT last_name FROM employees
     ORDER BY NLSSORT(last_name, &#39;NLS_SORT = GERMAN&#39;);
</pre>
<div class="infoboxnotealso" id="GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88__GUID-66363717-F90A-48B7-BBDD-BE40DEF212C0">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="ch5lingsort.htm#GUID-3D736236-BF98-4A4D-9D09-293AAA50A04E">Using Linguistic Collation</a>&#34;</span></p>
</div>
</div>
</div>
</div>
</div>
<a id="NLSPG446"></a>
<div class="props_rev_3"><a id="GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F"></a>
<h2 id="NLSPG-GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F" class="sect2">Miscellaneous Topics for SQL and PL/SQL Programming in a Global Environment</h2>
<div>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ch9sql.htm#GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4">SQL Date Format Masks</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89">Calculating Week Numbers</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81">SQL Numeric Format Masks</a></p>
</li>
<li>
<p><a href="ch9sql.htm#GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193">Loading External BFILE Data into LOB Columns</a></p>
<div class="infoboxnotealso" id="GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F__GUID-7A784CF8-68F5-455B-9CEF-500760E32EFC">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF00212" target="_blank" href="../SQLRF/sql_elements004.htm#SQLRF00212"><span class="italic">Oracle Database SQL Language Reference</span></a> for a complete description of format masks</p>
</div>
</li>
</ul>
</div>
<a id="NLSPG447"></a>
<div class="props_rev_3"><a id="GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4"></a>
<h3 id="NLSPG-GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4" class="sect3">SQL Date Format Masks</h3>
<div>
<p>Several format<a id="d72949e2757" class="indexterm-anchor"></a> masks are provided with the <code>TO_CHAR</code><a id="d72949e2762" class="indexterm-anchor"></a>, <code>TO_DATE</code><a id="d72949e2769" class="indexterm-anchor"></a>, and <code>TO_NUMBER</code><a id="d72949e2776" class="indexterm-anchor"></a> functions.</p>
<p>The <code>RM</code> (Roman Month) format<a id="d72949e2786" class="indexterm-anchor"></a> element returns a month as a Roman numeral. You can specify either upper case or lower case by using <code>RM</code> or <code>rm</code>. For example, for the date 7 Sep 2007, <code>DD-rm-YYYY</code> returns <code>07-ix-2007</code> and <code>DD-RM-YYYY</code> returns <code>07-IX-2007</code>.</p>
<p>Note that the <code>MON</code> and <code>DY</code> format masks explicitly support month and day abbreviations that may not be three characters in length. For example, the abbreviations &#34;Lu&#34; and &#34;Ma&#34; can be specified for the French &#34;Lundi&#34; and &#34;Mardi&#34;, respectively.</p>
</div>
</div>
<a id="NLSPG448"></a>
<div class="props_rev_3"><a id="GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89"></a>
<h3 id="NLSPG-GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89" class="sect3">Calculating Week Numbers</h3>
<div>
<p>The week numbers returned by the <code>WW</code> format mask are calculated according to the following algorithm: <code>int(dayOfYear+6)/7</code>. This algorithm does not follow the ISO<a id="d72949e2898" class="indexterm-anchor"></a> standard (2015, 1992-06-15).<a id="d72949e2901" class="indexterm-anchor"></a></p>
<p>To support the ISO<a id="d72949e2905" class="indexterm-anchor"></a><a id="d72949e2909" class="indexterm-anchor"></a> standard, the <code>IW</code> format element is provided. It returns the ISO week number. In addition, the <code>I</code>, <code>IY</code>, <code>IYY</code>, and <code>IYYY</code> format elements, equivalent in behavior to the <code>Y</code>, <code>YY</code>, <code>YYY</code>, and <code>YYYY</code> format elements, return the year relating to the ISO week number.</p>
<p>In the ISO standard, the year relating to an ISO week number can be different from the calendar year. For example, 1st Jan 1988 is in ISO week number 53 of 1987. A week always starts on a Monday and ends on a Sunday. The week number is determined according the following rules:</p>
<ul style="list-style-type: disc;">
<li>
<p>If January 1 falls on a Friday, Saturday, or Sunday, then the week including January 1 is the last week of the previous year, because most of the days in the week belong to the previous year.</p>
</li>
<li>
<p>If January 1 falls on a Monday, Tuesday, Wednesday, or Thursday, then the week is the first week of the new year, because most of the days in the week belong to the new year.</p>
</li>
</ul>
<p>For example, January 1, 1991, is a Tuesday, so Monday, December 31, 1990, to Sunday, January 6, 1991, is in week 1. Thus, the ISO week number and year for December 31, 1990, is 1, 1991. To get the ISO week number, use the <code>IW</code> format mask for the week number and one of the <code>IY</code> formats for the year.<a id="d72949e2959" class="indexterm-anchor"></a><a id="d72949e2961" class="indexterm-anchor"></a><a id="d72949e2963" class="indexterm-anchor"></a><a id="d72949e2967" class="indexterm-anchor"></a></p>
</div>
</div>
<a id="NLSPG449"></a>
<div class="props_rev_3"><a id="GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81"></a>
<h3 id="NLSPG-GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81" class="sect3">SQL Numeric Format Masks</h3>
<div>
<div class="section">
<p>Several additional format<a id="d72949e3053" class="indexterm-anchor"></a> elements are provided for formatting numbers:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81__GUID-43675CF6-B467-43AE-BE7D-B1A0F86DDD85">
<table class="cellalignment2377" summary="This table is described in the preceding text">
<thead>
<tr class="cellalignment2368">
<th class="cellalignment2384" id="d72949e3065">Element</th>
<th class="cellalignment2402" id="d72949e3068">Description</th>
<th class="cellalignment2447" id="d72949e3071">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2368">
<td class="cellalignment2385" id="d72949e3076" headers="d72949e3065">
<p><code>D</code></p>
</td>
<td class="cellalignment2404" headers="d72949e3076 d72949e3068">
<p>Decimal</p>
</td>
<td class="cellalignment2448" headers="d72949e3076 d72949e3071">
<p>Returns the decimal point character<a id="d72949e3086" class="indexterm-anchor"></a></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2385" id="d72949e3091" headers="d72949e3065">
<p><code>G</code></p>
</td>
<td class="cellalignment2404" headers="d72949e3091 d72949e3068">
<p>Group</p>
</td>
<td class="cellalignment2448" headers="d72949e3091 d72949e3071">
<p>Returns the group separator<a id="d72949e3101" class="indexterm-anchor"></a></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2385" id="d72949e3106" headers="d72949e3065">
<p><code>L</code></p>
</td>
<td class="cellalignment2404" headers="d72949e3106 d72949e3068">
<p>Local currency</p>
</td>
<td class="cellalignment2448" headers="d72949e3106 d72949e3071">
<p>Returns the local currency symbol<a id="d72949e3116" class="indexterm-anchor"></a></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2385" id="d72949e3121" headers="d72949e3065">
<p><code>C</code></p>
</td>
<td class="cellalignment2404" headers="d72949e3121 d72949e3068">
<p>International currency</p>
</td>
<td class="cellalignment2448" headers="d72949e3121 d72949e3071">
<p>Returns the ISO currency symbol<a id="d72949e3131" class="indexterm-anchor"></a></p>
</td>
</tr>
<tr class="cellalignment2368">
<td class="cellalignment2385" id="d72949e3136" headers="d72949e3065">
<p><code>RN</code></p>
</td>
<td class="cellalignment2404" headers="d72949e3136 d72949e3068">
<p>Roman numeral</p>
</td>
<td class="cellalignment2448" headers="d72949e3136 d72949e3071">
<p>Returns the number as its Roman numeral equivalent<a id="d72949e3146" class="indexterm-anchor"></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>For Roman numerals, you can specify either upper case or lower case, using <code>RN</code> or <code>rn</code>, respectively. The number being converted must be an integer in the range 1 to 3999<span>.</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="NLSPG450"></a>
<div class="props_rev_3"><a id="GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193"></a>
<h3 id="NLSPG-GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193" class="sect3">Loading External BFILE Data into LOB Columns</h3>
<div>
<p>The <code>DBMS_LOB</code> PL/SQL package can load external <code>BFILE</code> data into <code>LOB</code> columns. Oracle Database performs character set conversion before loading the binary data into <code>CLOB</code> or <code>NCLOB</code> columns. Thus, the <code>BFILE</code> data does not need to be in the same character set as the database or national character set to work properly. The APIs convert the data from the specified <code>BFILE</code> character set into the database character set for the <code>CLOB</code> data type, or the national character set for the <code>NCLOB</code> data type. The loading takes place on the server because <code>BFILE</code> data is not supported on the client.</p>
<ul style="list-style-type: disc;">
<li>
<p>Use <code>DBMS_LOB.LOADBLOBFROMFILE</code> to load <code>BLOB</code> columns.</p>
</li>
<li>
<p>Use <code>DBMS_LOB.LOADCLOBFROMFILE</code> to load <code>CLOB</code> and <code>NCLOB</code> columns.</p>
<div class="infoboxnotealso" id="GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193__GUID-FBBFB997-A25F-49E1-B062-EA3AE478A515">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</li>
<li>
<p><a class="olink ADLOB1017" target="_blank" href="../ADLOB/adlob_lob_ops.htm#ADLOB1017"><span class="italic">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2367">
<tr>
<td class="cellalignment2374">
<table class="cellalignment2372">
<tr>
<td class="cellalignment2371"><a href="ch8gdk.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2371"><a href="ch10oci.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2376">
<table class="cellalignment2370">
<tr>
<td class="cellalignment2371"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2371"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2371"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2371"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2371"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2371"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
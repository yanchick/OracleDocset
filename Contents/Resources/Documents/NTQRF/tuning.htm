<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79043"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Tuning%20Windows%20to%20Optimize%20Oracle%20Database"></a><title>Tuning Windows to Optimize Oracle Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-05-17T5:53:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Platform Guide"/>
<meta name="dcterms.identifier" content="E10714-16"/>
<meta name="dcterms.isVersionOf" content="NTQRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="monitor.htm" title="Previous" type="text/html"/>
<link rel="Next" href="vss.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10714-16.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/28</span> <!-- End Header -->
<div id="NTQRF090" class="chapter"><a id="g1012542"></a> <a id="i1007483"></a>
<h1 class="chapter"><span class="secnum">8</span> Tuning Windows to Optimize Oracle Database</h1>
<p>This chapter describes how to tune the Windows Server operating system to ensure that Oracle Database is running in the best possible environment.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i1006396">Overview of Windows Tuning</a></p>
</li>
<li>
<p><a href="#BCGDHBBD">Overview of Large Page Support</a></p>
</li>
<li>
<p><a href="#i1005703">About Reducing Priority of Foreground Applications on Server Console</a></p>
</li>
<li>
<p><a href="#i1005721">About Configuring Windows Server to Be an Application Server</a></p>
</li>
<li>
<p><a href="#i1005786">About Disabling Unnecessary Services</a></p>
</li>
<li>
<p><a href="#BABEEDAH">About the Necessity to Remove Unused Network Protocols</a></p>
</li>
<li>
<p><a href="#i1005883">About the Necessity to Reset Network Protocol Bind Order</a></p>
</li>
<li>
<p><a href="#BCGDDADD">Setting the Order of Multiple Network Interface Cards</a></p>
</li>
<li>
<p><a href="#i1005918">Overview of Latest Reliable Windows Server Service Pack</a></p>
</li>
<li>
<p><a href="#i1005936">Overview of Hardware or Operating System Striping</a></p>
</li>
<li>
<p><a href="#i1007342">About Multiplex Windows Server Virtual Memory Paging File</a></p>
</li>
<li>
<p><a href="#i1006067">Closing All Unnecessary Foreground Applications</a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For the sake of brevity, this discussion uses the collective term <span class="italic">Windows Server</span> when a statement applies to all supported Windows operating systems.</div>
</li>
</ul>
<a id="i1006396"></a>
<div id="NTQRF261" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref450"></a><a id="sthref451"></a>Overview of Windows Tuning</h2>
<p>Windows Server operating systems offer considerably fewer tuning adjustments than UNIX systems. This difference constrains system administrators when they try to optimize Windows Server performance, but it also makes Windows Server easier to use.</p>
<p>You can make Windows Server a better application server environment for Oracle Database. Most of the operating system specific procedures described in this chapter enable Oracle Database to reserve more system resources, such as CPU, memory, and disk I/O.</p>
<p>In addition, because Oracle Database is a high-performance database management system that effectively uses resources of your Windows computer, it should not also serve as any of the following:</p>
<ul>
<li>
<p>Primary or backup domain controller</p>
</li>
<li>
<p>File or print server</p>
</li>
<li>
<p>Remote access server</p>
</li>
<li>
<p>Router</p>
</li>
</ul>
<p>These configurations consume network, memory, and CPU resources. In addition, the Windows computer that is running Oracle Database should not be locally accessed with a high frequency or intensively used for local user processing, unless it has enough resources to accommodate all this activity.</p>
</div>
<!-- class="sect1" -->
<a id="BCGDHBBD"></a>
<div id="NTQRF262" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref452"></a><a id="sthref453"></a>Overview of Large Page Support</h2>
<p>Large page support is a feature of Oracle Database. It provides a performance boost for memory-intensive database instances running on Windows Server. By taking advantage of newly introduced operating system support, Oracle Database can now make more efficient use of processor memory addressing resources. Specifically, when large page support is enabled, the CPUs in the system will be able to access the Oracle Database buffers in RAM more quickly. Instead of addressing the buffers in 4KB increments, the CPUs are told to use 2 MB page sizes in Physical Address Extension (PAE) mode and 4MB page sizes in non-PAE mode when addressing the database buffers.</p>
<p>This feature is particularly useful when the Oracle buffer cache is several gigabytes. Smaller-sized configurations will still see a gain when using large pages, but the gain will not be as great as when the database is accessing large amounts of memory.</p>
<p>If the service is running as a user instead of the default <code dir="ltr">SYSTEM</code> user, then the administrator must grant the &#34;Lock pages in memory&#34; privilege to the user. This privilege is not enabled by default when Windows is installed.</p>
<div id="NTQRF718" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref454"></a>
<h3 class="sect2"><a id="sthref455"></a>Granting Lock Pages in Memory Privilege</h3>
<p>To grant <code dir="ltr">SeLockMemoryPrivilege</code>, perform the following steps:</p>
<ol>
<li>
<p>From the <span class="bold">Start</span> menu, select <span class="bold">Control Panel</span>.</p>
<p>The Control Panel window opens.</p>
</li>
<li>
<p>Double-click <span class="bold">Administrative Tools</span>.</p>
<p>The Administrative Tools window opens.</p>
</li>
<li>
<p>Double-click <span class="bold">Local Security Policy</span>.</p>
<p>The Local Security Policy window opens.</p>
</li>
<li>
<p>In the left pane of the Local Security Policy window, expand <span class="bold">Local Policies</span> and select <span class="bold">User Rights Assignment</span>.</p>
</li>
<li>
<p>In the right pane of the Local Security Policy window, double-click <span class="bold">Lock pages in memory</span>.</p>
<p>The Lock pages in memory Properties window opens.</p>
</li>
<li>
<p>Click <span class="bold">Add User or Group.</span></p>
<p>The Select Users, Computers, Service Accounts, or Groups dialog box opens.</p>
</li>
<li>
<p>Enter Oracle Home User name in <span class="bold">Enter the object names to select</span> field and click <span class="bold">Check Names</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to close the Select Users, Computers, Service Accounts, or Groups dialog box.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to close the Lock pages in memory Properties window.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="NTQRF719" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref456"></a>
<h3 class="sect2"><a id="sthref457"></a>Enabling Large Page Support</h3>
<p>To take advantage of large pages, the amount of physical memory must be greater than the amount of System Global Area (SGA) specified in the parameter file.</p>
<p>Large pages might not be allocated always during instance startup. Large pages are supported in 2 modes:</p>
<ul>
<li>
<p>Regular mode: All of the SGA is attempted to be allocated in large pages. If the required amount of large pages are not available, then the instance does not come up.</p>
</li>
<li>
<p>Mixed mode: All of the SGA is attempted to be allocated in large pages. If no more large pages are available, then the subsequent allocations are done using regular pages. So the SGA allocation can be a mixed set of large pages and regular pages.</p>
<p>The mixed mode also supports a time parameter (in <code dir="ltr">msecs</code>). If a large page allocation took more time than the msecs specified by this time parameter, then subsequent allocations are made using regular pages. This parameter is helpful when the database startup time might be too long due to the entire SGA being allocated using large pages.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Large page usage locks the entire SGA into physical memory. Physical memory is not released during a shrink operation.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for restrictions on allocating large pages</div>
<p>To enable large page support:</p>
<ol>
<li>
<p>Go to the directory <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\bin\oracle.key</code>.</p>
</li>
<li>
<p>Open the <code dir="ltr">oracle.key</code> in a text editor and record the value found. It is set by Oracle Universal Installer. The default is:</p>
<pre dir="ltr">SOFTWARE\ORACLE\KEY_<span class="italic">HOMENAME</span>
</pre></li>
<li>
<p>Start Registry Editor at the command prompt:</p>
<pre dir="ltr">C:\&gt; regedit
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Although Registry Editor lets you view and modify registry keys and parameter values, you usually are not required to do so. In fact, you can render your system useless if you make incorrect changes. Therefore, only advanced users should edit the registry. Back up your system before making any changes in the registry.
<p><code dir="ltr">oracle.key</code> file must not be modified in any way or removed. Oracle binaries open it to determine the location in the registry where their variables are stored.</p>
</div>
</li>
<li>
<p>Go to the <code dir="ltr">HKEY_LOCAL_MACHINE</code> file.</p>
<p>Find the key corresponding to the value found in the <code dir="ltr">oracle.key</code> file. In the default case, for example, you would look for:</p>
<pre dir="ltr">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\KEY_<span class="italic">HOMENAME</span>
</pre></li>
<li>
<p>Create <span class="italic">one</span> of the following, depending on where you want to enable large page support:</p>
<ul>
<li>
<p><code dir="ltr">ORA_LPENABLE</code> to enable large page support on all instances. Its value decides the mode of large pages for all Oracle database instances on the computer.</p>
</li>
<li>
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">_LPENABLE</code> to enable large page support on a specific instance. Its value decides the mode of large pages for the specific database instance.</p>
<p>Set the value of the above registry entry to <code dir="ltr">1</code> for regular mode and <code dir="ltr">2</code> for mixed mode.</p>
<p>The time parameter for mixed mode is optional. To specify this time parameter which is instance specific, create <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">_LPMAXTIME</code> and set the value to the desired number of millisecs.</p>
<p>When this time parameter is specified for an instance and the large pages allocation takes more than the specified millisecs, then the rest of the SGA is allocated using regular pages.</p>
</li>
</ul>
</li>
<li>
<p>Exit Registry Editor.</p>
</li>
</ol>
<p>By default, Oracle allocates the minimum available large page size when using large pages. The minimum available large page size, 16 MB, is obtained by using the <code dir="ltr">GetLargePageMinumum</code> function.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Do not set the initialization parameter <code dir="ltr">lock_sga</code> when large pages are enabled. Large page usage locks the entire SGA into physical memory. When used with the parameter <code dir="ltr">lock_sga</code>, database startup fails with an error because the operating system automatically locks. That is, it prevents memory from being paged to disk when large pages are requested. Physical memory is not released during a shrink operation.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1005703"></a>
<div id="NTQRF263" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref458"></a>About Reducing Priority of Foreground Applications on Server Console</h2>
<p>One of the settings provided by default during installation of Windows Server gives interactive foreground applications priority over every background <a href="glossary.htm#i432454"><span class="xrefglossterm">process</span></a>. To prevent foreground applications on the server console from taking excessive processor time away from Oracle Database, you can reduce the priority for foreground applications.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on reducing priority of foreground applications</div>
</div>
<!-- class="sect1" -->
<a id="i1005721"></a>
<div id="NTQRF264" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref459"></a><a id="sthref460"></a>About Configuring Windows Server to Be an Application Server</h2>
<p>Windows memory manager divides up system memory into three different pools, described in <a href="#g1009268">Table 8-1</a>.</p>
<div id="NTQRF265" class="tblhruleformal">
<p class="titleintable"><a id="sthref461"></a><a id="g1009268"></a>Table 8-1 Windows Server Memory Shares</p>
<table class="cellalignment5021" title="Windows Server Memory Shares" summary="Rows are memory pools. For each pool, the first column is its name, and the second column is its percent of total memory." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t8">Pool</th>
<th class="cellalignment5020" id="r1c2-t8">Percent of Total Memory</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t8" headers="r1c1-t8">
<p>Kernel and other system services</p>
</td>
<td class="cellalignment5016" headers="r2c1-t8 r1c2-t8">
<p>9%</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t8" headers="r1c1-t8">
<p>File cache</p>
</td>
<td class="cellalignment5016" headers="r3c1-t8 r1c2-t8">
<p>41%</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t8" headers="r1c1-t8">
<p>Paged memory</p>
</td>
<td class="cellalignment5016" headers="r4c1-t8 r1c2-t8">
<p>50%</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p>Windows Server memory manager tries to balance each application&#39;s usage of memory by dynamically paging memory between physical RAM and a virtual memory paging file. If an application is particularly memory-intensive (like Oracle Database) or if a large number of applications run concurrently, then combined memory requirements of the applications might exceed physical memory capacity.</p>
<p>The large proportion of memory reserved for file caching (41%) can be quite beneficial to file and print servers. But it might not be advantageous to application servers that often run memory-intensive network applications. A Windows Server file cache is particularly unnecessary for Oracle Database, which performs its own caching through the <a href="glossary.htm#i432537"><span class="xrefglossterm">System Global Area</span></a>.</p>
<p>You can reset the Windows Server memory model from the default file and print server, with its large file cache, to a network applications model, with a reduced file cache and more physical memory available for Oracle Database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions</div>
</div>
<!-- class="sect1" -->
<a id="i1005786"></a>
<div id="NTQRF266" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref462"></a>About Disabling Unnecessary Services</h2>
<p>After you have significantly reduced the file cache as described in <a href="#i1005721">&#34;About Configuring Windows Server to Be an Application Server&#34;</a>, you can retrieve additional physical memory for Oracle Database by disabling services not needed for core operating system functionality. Unnecessary services include:</p>
<ul>
<li>
<p>License Logging Service</p>
</li>
<li>
<p>Plug and Play</p>
</li>
<li>
<p>Remote Access Autodial Manager</p>
</li>
<li>
<p>Remote Access Connection Manager</p>
</li>
<li>
<p>Remote Access Server</p>
</li>
<li>
<p>Telephony Service</p>
</li>
</ul>
<p>Consult with your systems administrator to identify other unnecessary services.</p>
<p>Do <span class="italic">not</span> disable any of the following services:</p>
<ul>
<li>
<p>Alerter</p>
</li>
<li>
<p>Computer Browser</p>
</li>
<li>
<p>EventLog</p>
</li>
<li>
<p>Messenger</p>
</li>
<li>
<p><code dir="ltr">OracleService</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code></p>
</li>
<li>
<p><code dir="ltr">Oracle</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">TNSListener</code></p>
</li>
<li>
<p>Remote Procedure Call (RPC) Service</p>
</li>
<li>
<p>Server</p>
</li>
<li>
<p>Spooler</p>
</li>
<li>
<p>TCP/IP NetBS Helper</p>
</li>
<li>
<p>Workstation</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on disabling unnecessary services</div>
</div>
<!-- class="sect1" -->
<a id="BABEEDAH"></a>
<div id="NTQRF267" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref463"></a>About the Necessity to Remove Unused Network Protocols</h2>
<p>Remove all unnecessary network protocols on Windows so that processing time can be concentrated on servicing only critical protocols.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on removing unnecessary network protocols</div>
</div>
<!-- class="sect1" -->
<a id="i1005883"></a>
<div id="NTQRF268" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref464"></a>About the Necessity to Reset Network Protocol Bind Order</h2>
<p>If multiple protocols must be installed on the server, you can give the protocol most frequently used by Oracle Database the highest priority by resetting the network protocol bind order.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on resetting the network protocol bind order</div>
</div>
<!-- class="sect1" -->
<a id="BCGDDADD"></a>
<div id="NTQRF269" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref465"></a>Setting the Order of Multiple Network Interface Cards</h2>
<p>If you have public and private network interface cards (NICs) on a single Windows computer and they are not in the correct order, then you might experience problems with any configuration (Oracle Enterprise Manager, for example) that uses <code dir="ltr">gethostname</code>.</p>
<p>If the private NIC is seen first by Windows, then a <code dir="ltr">gethostname</code> call will return the host name of the private interconnect. Whichever tool is calling <code dir="ltr">gethostname</code> will have configuration or connectivity problems stemming from this nonpublic network information.</p>
<p>You can determine the current order of your NICs, and change it if necessary, as follows:</p>
<ol>
<li>
<p>From the <span class="bold">Start</span> menu, select <span class="bold">Control Panel</span>.</p>
</li>
<li>
<p>Select <span class="bold">Network and Internet</span>, and then select <span class="bold">Network and Sharing Center</span>.</p>
</li>
<li>
<p>Change the network adapter settings, depending on your operating system:</p>
<ul>
<li>
<p>For Windows Server 2008, select <span class="bold">Manage adapter settings</span>.</p>
</li>
<li>
<p>For Windows Server 2008 R2, select <span class="bold">Change adapter settings</span>.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Organize</span>, then <span class="bold">Layout</span>, and then select <span class="bold">Menu bar</span>.</p>
</li>
<li>
<p>From the <span class="bold">Advanced</span> menu, click <span class="bold">Advanced Settings</span>. The Advanced Settings window opens.</p>
</li>
<li>
<p>From the Connections window in the Adapters and Binding tab, select the network adapter that you want.</p>
</li>
<li>
<p>Move this network adapter to the top or the bottom of the list by using the up and down arrow buttons.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1005918"></a>
<div id="NTQRF271" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref466"></a>Overview of Latest Reliable Windows Server Service Pack</h2>
<p>Microsoft releases operating system patches, called Service Packs, on a quarterly basis. Service Packs are collections of bug fixes and product enhancements to the basic Windows Server release. In general, apply Service Packs as soon as it is safe to do so, because they fix bugs and can improve Windows Server performance or functionality.</p>
<p>While Service Packs are supposed to fix bugs, they sometimes introduce new problems as well. In general, it is safest to wait a few weeks after a Service Pack is released before implementing it. This allows time for other field sites to report any problems with the Service Pack release.</p>
<p>The latest Windows Server Service Packs can be downloaded as self-extracting archives from <code dir="ltr"><a href="http://support.microsoft.com">http://support.microsoft.com</a></code></p>
<p>Unless you can be certain that the Service Pack works without flaws on Windows Server, create an <code dir="ltr">Uninstall</code> directory. This enables the Service Pack to be removed and the original configuration to be restored.</p>
<p>Service Pack files overwrite similarly-named files in the previous Windows Server configuration. However, Service Pack files can be overwritten in turn by setup programs that copy files from the original installation media.</p>
<p>For example, installing a new network protocol or printer driver usually requires copying files from the original Windows Server installation media. When Service Pack files are comprehensively or selectively overwritten, the Service Pack must be reapplied.</p>
</div>
<!-- class="sect1" -->
<a id="i1005936"></a>
<div id="NTQRF272" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref467"></a>Overview of Hardware or Operating System Striping</h2>
<p>Compared to CPU and memory speeds, hard disk drives are extremely slow. Now that hard disk drives are relatively inexpensive, Oracle recommends that Windows Server use logical volumes composed of striped physical disks. Data striping is an effective means of reducing the impact of relatively slow hard drives by distributing file I/O across a number of hard drives simultaneously.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Data striping through the operating system is not permitted with Oracle Automatic Storage Management (Oracle ASM), which does its own striping. Hardware striping is allowed with Oracle ASM, but it is not necessary.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11011" href="../ADMIN/memory.htm#ADMIN11011"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></div>
<p>Striping data across a number of disks is one example of a redundant array of inexpensive disks (RAID). There are several different types of RAID, also referred to as RAID levels, ranging from high performance to high reliability. The three most common RAID levels in Oracle Database installations are RAID-0, RAID-1, and RAID-5. Descriptions of each RAID level are in <a href="#g1009232">Table 8-2</a>, which shows each level&#39;s read and write penalties.</p>
<div id="NTQRF273" class="tblhruleformal">
<p class="titleintable"><a id="sthref468"></a><a id="g1009232"></a>Table 8-2 RAID Levels in Oracle Database Installations</p>
<table class="cellalignment5021" title="RAID Levels in Oracle Database Installations" summary="Rows are RAID levels. For each RAID level, the first column is its number (with its name in parentheses), the second column is its read penalty, and the third column is its write penalty." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t15">RAID Level</th>
<th class="cellalignment5020" id="r1c2-t15">Read Penalty<a href="#BABIEADE"><span class="xrefglossterm">Note 1</span></a></th>
<th class="cellalignment5020" id="r1c3-t15">Write Penalty<a href="#BABFDEDE"><span class="xrefglossterm">Note 2</span></a></th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t15" headers="r1c1-t15">
<p>0 (Disk Striping)</p>
</td>
<td class="cellalignment5016" headers="r2c1-t15 r1c2-t15">
<p>1:1</p>
</td>
<td class="cellalignment5016" headers="r2c1-t15 r1c3-t15">
<p>1:1</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t15" headers="r1c1-t15">
<p>1 (Disk Mirroring)</p>
</td>
<td class="cellalignment5016" headers="r3c1-t15 r1c2-t15">
<p>1:1</p>
</td>
<td class="cellalignment5016" headers="r3c1-t15 r1c3-t15">
<p>2:1</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t15" headers="r1c1-t15">
<p>0 + 1</p>
</td>
<td class="cellalignment5016" headers="r4c1-t15 r1c2-t15">
<p>1:1</p>
</td>
<td class="cellalignment5016" headers="r4c1-t15 r1c3-t15">
<p>2:1</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r5c1-t15" headers="r1c1-t15">
<p>5 (Distributed Data Gathering)</p>
</td>
<td class="cellalignment5016" headers="r5c1-t15 r1c2-t15">
<p>1:1</p>
</td>
<td class="cellalignment5016" headers="r5c1-t15 r1c3-t15">
<p>4:1</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p class="subhead2"><a id="BABIEADE"></a><a id="NTQRF274"></a>Note 1</p>
<p>Read penalty is the ratio of I/O operations to read requests.</p>
<p class="subhead2"><a id="BABFDEDE"></a><a id="NTQRF275"></a>Note 2</p>
<p>Write penalty is the ratio of I/O operations to write requests.</p>
<p class="subhead1"><a id="NTQRF276"></a>About Disk Striping</p>
<p>RAID level 0 enables high-performance, fault-intolerant disk striping. Multiple physical hard disks are aggregated into a logical whole, either by a disk controller or through the operating system. Data operations against the logical volume are broken down into as many chunks as there are physical drives in the array, making simultaneous use of all disks. Given identical hard disks, if one hard disk has a throughput rate of <code dir="ltr">DISKRATE</code> operations/second, then a RAID 0 logical volume has a rate of:</p>
<pre dir="ltr">(DISKRATE * [number of physical  drives in array]) operations/second
</pre>
<p>The downside of RAID 0 is its lack of fault tolerance. If one disk in the logical volume fails, the whole volume fails and must be restored from a <a href="glossary.htm#i432192"><span class="xrefglossterm">backup</span></a>.</p>
<p class="subhead1"><a id="NTQRF277"></a>About Disk Mirroring</p>
<p>RAID level 1 enables fault-tolerant disk mirroring with some chance of a performance penalty. Essentially, every write to a mirrored disk is duplicated on another drive dedicated to this purpose (the mirror drive). If the mirrored disk fails, the mirror drive is brought online in real time. After the faulted drive is replaced, the mirror configuration can be reestablished.</p>
<p>The read penalty for RAID level 1 is nominally 1:1, but it might benefit from split reads on some controllers. When the controller knows which mirror can be accessed fastest, for example, it can lower search times by directing I/O operations to that disk.</p>
<p class="subhead1"><a id="NTQRF278"></a>About Disk Striping Plus Mirroring</p>
<p>RAID level 0+1 enables mirroring of an array of striped hard disks. This is a blend of RAID 0 and RAID 1, offering high-performing fault tolerance.</p>
<p class="subhead1"><a id="NTQRF279"></a>About Distributed Data Guarding</p>
<p>RAID level 5, also known as disk striping with parity, eliminates the costly requirement to mirror. In RAID 5, multiple hard disks are aggregated into a striped logical volume, similar to RAID 0, but each drive contains parity information such that any single drive failure is tolerated. With one failed drive, a RAID-5 system can allow continued access to data, although access times are greatly reduced due to on-the-fly rebuilding of bytes from parity information. RAID-5 solutions usually allow hot-swapping of faulty drives with replacements, triggering a rebuild of the failed drive&#39;s data onto the replacement from parity information.</p>
<p>The write penalty of 4:1 results from 2 reads and 2 writes during parity calculation.</p>
<div id="NTQRF281" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref469"></a>
<h3 class="sect2"><a id="sthref470"></a>About Multiple Striped Volumes for Sequential and Random Access</h3>
<p>If there are enough physical disks in Windows Server, create at least two striped volumes (in addition to a standalone hard disk or striped volume for the operating system). One striped volume can be used for sequential data access, and the other can be used for random data access.</p>
<p>Oracle Database redo logs and archived redo logs, for example, are written in sequential order. Because of reduced head movement, hard disks perform best when reading or writing sequential data.</p>
<p>Oracle Database data files, however, are usually accessed in random order. Random access in a hard disk results in significant head movement, translating to slower data access.</p>
<p>Unless redo logs are separated from data files (at physical device level), undo file I/O contention may result, increasing access times for both types of files.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1007342"></a>
<div id="NTQRF282" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref471"></a>About Multiplex Windows Server Virtual Memory Paging File</h2>
<p>Some virtual memory paging is likely even if Oracle Database is the only network application running on Windows Server, because Windows Server memory manager will attempt to move seldom-used pages to disk to free up more physical memory for hot pages.</p>
<p>Multiplexing the Windows Server virtual memory paging file is a good strategy to boost overall system performance. Splitting the paging file onto at least two different physical volumes (or logical volumes as long as underlying physical volumes do not overlap) provides a significant performance boost to virtual memory swapping operations.</p>
<p>Even though this is a good technique to increase speed of virtual memory paging, too much paging activity is still a performance hit and should be corrected by adding more RAM to the server.</p>
<p class="subhead1"><a id="NTQRF283"></a>About General Page File Sizing Tip</p>
<p>Oracle recommends setting virtual memory to one times the size of RAM, if physical memory is between 2GB and 16GB. If physical memory is more than 16 GB, then set virtual memory to 16 GB.</p>
<p>Configurations where combined size is two to four times the size of physical RAM are not uncommon. Minimize paging as much as possible. But situations in which the operating system runs out of or low on paging space are to be avoided at all costs. Adequately-sized paging files spaced across physical disks spread out I/O most efficiently, because the operating system spreads paging evenly across page files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Internal read/write batch size for Windows is 4K.</div>
</div>
<!-- class="sect1" -->
<a id="i1006067"></a>
<div id="NTQRF284" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref472"></a>Closing All Unnecessary Foreground Applications</h2>
<p>Once procedures in previous sections have been applied, remember to close any unnecessary foreground applications. First, remove all applications from Startup folders of Windows Server console operators. Second, minimize the window when executing long-running scripts from a command prompt, so that Windows Server can focus on the operation and not on a flood of window repaint messages. Third, disable screen savers, which can quickly saturate the CPU. If a screen saver must be run, choose Blank Screen, which uses the least amount of processing time.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5009">
<tr>
<td class="cellalignment5016">
<table class="cellalignment5014">
<tr>
<td class="cellalignment5013"><a href="monitor.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5013"><a href="vss.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5018">
<table class="cellalignment5012">
<tr>
<td class="cellalignment5013"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5013"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5013"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5013"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5013"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5013"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
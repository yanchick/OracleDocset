<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-78991"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Administering%20External%20Users%20and%20Roles%20on%20Windows"></a><title>Administering External Users and Roles on Windows</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-05-17T5:53:58Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Platform Guide"/>
<meta name="dcterms.identifier" content="E10714-16"/>
<meta name="dcterms.isVersionOf" content="NTQRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="authen.htm" title="Previous" type="text/html"/>
<link rel="Next" href="wallets.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10714-16.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">15/28</span> <!-- End Header -->
<div id="NTQRF130" class="chapter"><a id="g1028005"></a> <a id="i1014912"></a>
<h1 class="chapter"><span class="secnum">11</span> Administering External Users and Roles on Windows</h1>
<p>External users and roles are in general defined by something external to Oracle Database. In a Windows environment, they are defined by the operating system.</p>
<p>This chapter describes <a href="glossary.htm#i433109"><span class="xrefglossterm">external user</span></a> and <a href="glossary.htm#i433097"><span class="xrefglossterm">external role</span></a> creation and management using either Oracle Administration Assistant for Windows or by a combination of Oracle Database command-line tools, Registry Editor, and other Windows tools.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
See <a class="olink DBIMI276" href="../DBIMI/adminste.htm#DBIMI276"><span class="italic">Oracle Database Enterprise User Security Administrator&#39;s Guide</span></a> for more information about tools available for administering enterprise users and roles.</div>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#BJEECAGG">Overview of Oracle Administration Assistant for Windows</a></p>
</li>
<li>
<p><a href="#i1006236">Overview of Manually Administering External Users and Roles</a></p>
</li>
</ul>
<a id="BJEECAGG"></a>
<div id="NTQRF328" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref565"></a><a id="sthref566"></a><a id="sthref567"></a><a id="sthref568"></a><a id="sthref569"></a>Overview of Oracle Administration Assistant for Windows</h2>
<p>Oracle Administration Assistant for Windows runs from <a href="glossary.htm#i432309"><span class="xrefglossterm">Microsoft Management Console</span></a> and enables you to configure the following Oracle Database users and roles so that the Windows operating system can <a href="glossary.htm#i432183"><span class="xrefglossterm">authenticate</span></a> them, and they can access Oracle Database without a password:</p>
<ul>
<li>
<p>Regular Windows domain users and <a href="glossary.htm#i433130"><span class="xrefglossterm">global groups</span></a> as external users</p>
</li>
<li>
<p>Windows database administrators (with the <a href="glossary.htm#i432528"><span class="xrefglossterm">SYSDBA</span></a> <a href="glossary.htm#i432451"><span class="xrefglossterm">privilege</span></a>)</p>
</li>
<li>
<p>Windows database operators (with the <a href="glossary.htm#i432534"><span class="xrefglossterm">SYSOPER</span></a> privilege)</p>
</li>
</ul>
<p>In addition, Oracle Administration Assistant for Windows can create and grant local and external database roles to Windows domain users and global groups.</p>
<p>With Oracle Administration Assistant for Windows, none of the following needs to be done manually:</p>
<ul>
<li>
<p>Create <a href="glossary.htm#i433171"><span class="xrefglossterm">local groups</span></a> that match the database <a href="glossary.htm#i432543"><span class="xrefglossterm">system identifier</span></a> and <a href="glossary.htm#i432481"><span class="xrefglossterm">role</span></a></p>
</li>
<li>
<p>Assign domain users to these local groups</p>
</li>
<li>
<p>Authenticate users in SQL*Plus with</p>
<pre dir="ltr">SQL&gt; CREATE USER <span class="italic">username</span> IDENTIFIED EXTERNALLY
</pre></li>
</ul>
<p>This section describes how to perform the following tasks with Oracle Administration Assistant for Windows:</p>
<ul>
<li>
<p><a href="#CHDFGGJC">Managing a Remote Computer</a></p>
</li>
<li>
<p><a href="#BJEFEJGH">Adding a Computer and Saving Your Configuration</a></p>
</li>
<li>
<p><a href="#i1005787">Granting Administrator Privileges for All Databases on a Computer</a></p>
</li>
<li>
<p><a href="#i1005810">Granting Operator Privileges for All Databases on a Computer</a></p>
</li>
<li>
<p><a href="#i1005833">Connecting to a Database</a></p>
</li>
<li>
<p><a href="#i1005979">Viewing Database Authentication Parameter Settings</a></p>
</li>
<li>
<p><a href="#i1006016">Creating an External Operating System User</a></p>
</li>
<li>
<p><a href="#i1006072">Creating a Local Database Role</a></p>
</li>
<li>
<p><a href="#i1006123">Creating an External Operating System Role</a></p>
</li>
<li>
<p><a href="#i1006206">Granting Administrator Privileges for a Single Database</a></p>
</li>
<li>
<p><a href="#i1006220">Granting Operator Privileges for a Single Database</a></p>
</li>
</ul>
<a id="CHDFGGJC"></a>
<div id="NTQRF329" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref570"></a><a id="sthref571"></a><a id="sthref572"></a><a id="sthref573"></a>Managing a Remote Computer</h3>
<p>If you want to use Oracle Administration Assistant for Windows to manage a <a href="glossary.htm#i432934"><span class="xrefglossterm">remote computer</span></a>, you must have administrator privileges for the remote computer. Oracle Administration Assistant for Windows always creates users in Oracle Database with the domain name as the prefix. If you are managing Oracle Databases remotely, you must set registry parameter <code dir="ltr">OSAUTH_PREFIX_DOMAIN</code> to <code dir="ltr">true</code> on the remote computer. This parameter is located in</p>
<pre dir="ltr">HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\KEY_<span class="italic">HOMENAME</span>  
</pre>
<p>If a computer is not identified with a Domain Name System (DNS) domain name, you will receive the following error message:</p>
<pre dir="ltr">Calling query w32RegQueries1.7.0.17.0  RegGetValue
Key = HKEY_LOCAL_MACHINE
SubKey = SYSTEM\CurrentControlSet\Services\Tcpip\Parameters
Value = Domain
Query Exception: GetValueKeyNotFoundException
Query Exception Class: class oracle.sysman.oii.oiil.OiilQueryException
...
</pre>
<p>To assign a DNS name or change the primary DNS suffix, refer to your Microsoft documentation.</p>
</div>
<!-- class="sect2" -->
<a id="BJEFEJGH"></a>
<div id="NTQRF330" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref574"></a><a id="sthref575"></a>Adding a Computer and Saving Your Configuration</h3>
<p>When you use Oracle Administration Assistant for Windows for the first time, it adds the local computer to its navigation tree. You can then add other computers.</p>
<p>To add a computer to the Microsoft Management Console tree:</p>
<ol>
<li>
<p>From the <span class="bold">Start</span>, select <span class="bold">All Programs</span>, then select <span class="bold">Oracle -</span> <span class="bolditalic">HOMENAME</span>, then select <span class="bold">Configuration and Migration Tools</span>, and then select <span class="bold">Administration Assistant for Windows</span>.</p>
<p>Microsoft Management Console starts.</p>
</li>
<li>
<p>Double-click <span class="bold">Oracle Managed Objects</span>.</p>
<p>The Computer icon appears.</p>
</li>
<li>
<p>Right-click <span class="bold">Computers</span>.</p>
</li>
<li>
<p>Select <span class="bold">New</span> and then select <span class="bold">Computer</span>.</p>
<p>The Add Computer dialog appears.</p>
<img width="294" height="204" src="img/addcomp.gif" alt="Description of addcomp.gif follows"/><br/>
<a id="sthref576" href="img_text/addcomp.htm">Description of the illustration &#39;&#39;addcomp.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>Specify the domain and computer name for the computer on which Oracle Database is installed.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Double-click <span class="bold">Computers</span> to display the computer you added.</p>
</li>
<li>
<p>Double-click the computer you added. Several nodes for authenticating database administrators and operators appear.</p>
<p>The <span class="bold">OS Database Administrators - Computer</span> node creates an operating system-authenticated database administrator with <code dir="ltr">SYSDBA</code> privileges for every database <a href="glossary.htm#CHDFBCHH"><span class="xrefglossterm">instance</span></a> on the computer. The <span class="bold">OS Database Operators - Computer</span> node creates an operating system-authenticated database operator with <code dir="ltr">SYSOPER</code> privileges for every database instance on the computer.</p>
</li>
<li>
<p>Save your configuration in a console file by choosing <span class="bold">File</span>, then <span class="bold">Save</span> in the Console main menu. You can now authenticate database administrators and operators for all instances on the computer.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1005787"></a>
<div id="NTQRF331" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref577"></a><a id="sthref578"></a>Granting Administrator Privileges for All Databases on a Computer</h3>
<p>To grant database administrator (<code dir="ltr">SYSDBA</code>) privileges to database administrators (DBAs) for <span class="italic">all</span> databases on a computer:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you use a domain account for database installation, then the domain user must be granted local administrative privileges. It is not sufficient for the domain user to inherit membership privileges from another group. You must ensure that the user performing the installation is in the same domain, if not it results in an NTS authentication failure.</div>
<ol>
<li>
<p>From the <span class="bold">Start</span>, select <span class="bold">All Programs</span>, then select <span class="bold">Oracle -</span> <span class="bolditalic">HOMENAME</span>, then select <span class="bold">Configuration and Migration Tools</span>, and then select <span class="bold">Administration Assistant for Windows</span>.</p>
<p>Oracle Administration Assistant for Windows starts.</p>
</li>
<li>
<p>Right-click <span class="bold">OS Database Administrators - Computer</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add/Remove</span>.</p>
<p>The OS Database Administrators - Computer for <code dir="ltr"><span class="codeinlineitalic">host name</span></code> dialog appears.</p>
<img width="351" height="480" src="img/ntdba.gif" alt="Description of ntdba.gif follows"/><br/>
<a id="sthref579" href="img_text/ntdba.htm">Description of the illustration &#39;&#39;ntdba.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In the NT Domain Users and Groups area, from the <span class="bold">Domain</span> list, select the domain of the user to whom you want to grant the <code dir="ltr">SYSDBA</code> system privilege.</p>
</li>
<li>
<p>Select the user.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>.</p>
<p>The user now appears in the OS Database Administrators - Computer window.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1005810"></a>
<div id="NTQRF332" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref580"></a><a id="sthref581"></a>Granting Operator Privileges for All Databases on a Computer</h3>
<p>To grant database operator (<code dir="ltr">SYSOPER</code>) privileges to DBAs for <span class="italic">all</span> databases on a computer:</p>
<ol>
<li>
<p>From the <span class="bold">Start</span>, select <span class="bold">All Programs</span>, then select <span class="bold">Oracle -</span> <span class="bolditalic">HOMENAME</span>, then select <span class="bold">Configuration and Migration Tools</span> and then select <span class="bold">Administration Assistant for Windows</span>.</p>
<p>Oracle Administration Assistant for Windows starts.</p>
</li>
<li>
<p>Right-click <span class="bold">OS Database Operators - Computer</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add/Remove</span>.</p>
<p>The OS Database Operators - Computer for <code dir="ltr"><span class="codeinlineitalic">host name</span></code> dialog appears.</p>
<img width="351" height="414" src="img/osdboper.gif" alt="Description of osdboper.gif follows"/><br/>
<a id="sthref582" href="img_text/osdboper.htm">Description of the illustration &#39;&#39;osdboper.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In the NT Domain Users and Groups area, from the <span class="bold">Domain</span> list, select the domain of the user to whom you want to grant the <code dir="ltr">SYSOPER</code> system privilege.</p>
</li>
<li>
<p>Select the user.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>.</p>
<p>The user now appears in the OS Database Operators - Computer window.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1005833"></a>
<div id="NTQRF333" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref583"></a>Connecting to a Database</h3>
<p>To enable Secure Sockets Layer (SSL) when connecting to Oracle Database, start the Oracle Database service and the <a href="glossary.htm#i432300"><span class="xrefglossterm">listener</span></a> service in the same user account as the wallet created in Oracle Wallet Manager. Do not use the default user account in the Windows Services dialog. If the Oracle Database service and the listener service are started in the default user accounts, then SSL does not work, and the listener does not start.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBSEG070" href="../DBSEG/asossl.htm#DBSEG070"><span class="italic">Oracle Database Security Guide</span></a> for more information about SSL support</div>
<p>To connect to a database:</p>
<ol>
<li>
<p>Right-click the database instance you want to access in the Microsoft Management Console scope pane. In the example here, a connection is to be made to <code dir="ltr">ORCL</code>:</p>
<img width="575" height="494" src="img/cntdb.gif" alt="Description of cntdb.gif follows"/><br/>
<a id="sthref584" href="img_text/cntdb.htm">Description of the illustration &#39;&#39;cntdb.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>Choose <span class="bold">Connect Database</span>.</p>
<p>If you connect to Oracle Database, the following Windows nodes appear under the instance. If these nodes do not appear, double-click the instance.</p>
<ul>
<li>
<p>External OS Users</p>
</li>
<li>
<p>Local Roles</p>
</li>
<li>
<p>External OS Roles</p>
</li>
<li>
<p>OS Database Administrators</p>
</li>
<li>
<p>OS Database Operators</p>
</li>
</ul>
</li>
</ol>
<div id="NTQRF334" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref585"></a>
<h4 class="sect3"><a id="sthref586"></a>Troubleshooting Connection Problems</h4>
<p>When connecting to a local computer, Oracle Administration Assistant for Windows first tries to connect to the database as a <code dir="ltr">SYSDBA</code>, using the Bequeath networking protocol. When connecting to a remote computer, Oracle Administration Assistant for Windows first tries to connect to the database using Windows native authentication as a <code dir="ltr">SYSDBA,</code> using the TCP/IP networking protocol (port 1521 or the deprecated 1526). If it is unsuccessful, one or more dialogs appear and prompt you to enter information to connect to the database.</p>
<p>The dialog shown here appears because the Windows domain user with which you are attempting to connect to Oracle Database is not recognized as an authenticated user with <code dir="ltr">SYSDBA</code> privileges. Enter an Oracle Database <a href="glossary.htm#i432581"><span class="xrefglossterm">username</span></a> and password to access the database. To avoid being prompted with this dialog again, configure your domain user to be a database administrator authenticated by the Windows operating system.</p>
<img width="297" height="251" src="img/cntdb4.gif" alt="Description of cntdb4.gif follows"/><br/>
<a id="sthref587" href="img_text/cntdb4.htm">Description of the illustration &#39;&#39;cntdb4.gif&#39;&#39;</a><br/>
<br/>
<p>The next dialog appears either because you are not using the TCP/IP networking protocol to connect to a remote installation of Oracle Database or because Oracle Database is not running. Using a protocol other than TCP/IP (Named Pipes for example) causes this dialog to appear each time you attempt a remote connection.</p>
<img width="311" height="292" src="img/cntdb2.gif" alt="Description of cntdb2.gif follows"/><br/>
<a id="sthref588" href="img_text/cntdb2.htm">Description of the illustration &#39;&#39;cntdb2.gif&#39;&#39;</a><br/>
<br/>
<p>If you do not want this dialog to appear each time, then change to the TCP/IP protocol and make sure the <a href="glossary.htm#i433200"><span class="xrefglossterm">Oracle Net Services</span></a> listener for the database is listening on the default port 1521 (or the deprecated default port 1526). Otherwise, this dialog appears every time. Ensure also that Oracle Database is started.</p>
<ol>
<li>
<p>Enter the <a href="glossary.htm#i432344"><span class="xrefglossterm">net service name</span></a> with which to connect to Oracle Database. You must enter a net service name regardless of the authentication method you select.</p>
</li>
<li>
<p>If you want to access the database with an Oracle Database user name and password, select the Database Authenticated option. This user name and password must exist in Oracle Database and have the <code dir="ltr">SYSDBA</code> privilege.</p>
</li>
<li>
<p>If you want to access the database with the Windows domain user with which you are currently logged in, select the OS Authenticated Connection as SYSDBA option. This domain user must already be recognized by Windows as an authenticated user with <code dir="ltr">SYSDBA</code> privileges. Otherwise, your logon fails.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Net Services provides a Trace Assistant tool that helps diagnose connection problems by converting existing trace file text into a more readable format. See &#34;Using the Trace Assistant to Examine Trace Files&#34; in <a class="olink NETAG016" href="../NETAG/trouble.htm#NETAG016"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a>.</div>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1005979"></a>
<div id="NTQRF335" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref589"></a><a id="sthref590"></a><a id="sthref591"></a><a id="sthref592"></a><a id="sthref593"></a>Viewing <a id="sthref594"></a><a id="sthref595"></a>Database Authentication Parameter Settings</h3>
<p>To view database authentication parameter settings:</p>
<ol>
<li>
<p>Right-click the database.</p>
</li>
<li>
<p>Choose <span class="bold">Properties</span>.</p>
</li>
<li>
<p>The Properties dialog appears displaying the following parameter values:</p>
<ul>
<li>
<p><code dir="ltr">O</code><code dir="ltr">S_AUTHENT_PREFIX</code></p>
</li>
<li>
<p><code dir="ltr">OS_ROLES</code></p>
</li>
</ul>
</li>
</ol>
<p><code dir="ltr">OS_AUTHENT_PREFIX</code> is an <code dir="ltr">init.ora</code> file parameter that authenticates external users attempting to connect to Oracle Database with the user&#39;s Windows user name and password. The value of this parameter is attached to the beginning of every user&#39;s Windows user name.</p>
<p>By default, the parameter is set to none (&#34;&#34;) during Oracle Database creation. Therefore, a Windows domain user name of <code dir="ltr">jones</code> is authenticated as user name <code dir="ltr">jones</code>. If you set this parameter to <code dir="ltr">xyz</code>, then Windows domain user <code dir="ltr">jones</code> is authenticated as user <code dir="ltr">xyzjones</code>.</p>
<p><code dir="ltr">OS_ROLES</code> is an <code dir="ltr">init.ora</code> file parameter that, if set to <code dir="ltr">true</code>, enables the Windows operating system to manage <a href="glossary.htm#i432948"><span class="xrefglossterm">authorization</span></a> of an <a href="glossary.htm#i433097"><span class="xrefglossterm">external role</span></a> for a database user. By default, <code dir="ltr">OS_ROLES</code> is set to <code dir="ltr">false</code>. You must set <code dir="ltr">OS_ROLES</code> to <code dir="ltr">true</code> and restart Oracle Database before you can create external roles. If <code dir="ltr">OS_ROLES</code> is set to <code dir="ltr">false</code>, Oracle Database manages granting and revoking of roles for database users.</p>
<p>If <code dir="ltr">OS_ROLES</code> is set to <code dir="ltr">true</code>, and you assign an external role to a Windows global group, then it is granted only at the Windows global group level, and not at the level of the individual user in this global group. This means that you cannot revoke or edit the external role assigned to an individual user in this global group through the Roles tab of the User Name Properties dialog at a later time. Instead, you must use the field in the Assign External OS Roles to a Global Group dialog to revoke the external role from this global group (and therefore all its individual users).</p>
<p>External roles assigned to an individual domain user or <a href="glossary.htm#i433177"><span class="xrefglossterm">local roles</span></a> (with <code dir="ltr">OS_ROLES</code> set to <code dir="ltr">false</code>) assigned to an individual domain user or Windows global group are not affected by this issue. They can be edited or revoked.</p>
<p>If <code dir="ltr">OS_ROLES</code> is set to <code dir="ltr">true</code>, you cannot grant local roles in the database to any database user. You must grant roles through Windows. See <a href="#i1006072">&#34;Creating a Local Database Role&#34;</a> and <a href="#i1006123">&#34;Creating an External Operating System Role&#34;</a> for more information.</p>
</div>
<!-- class="sect2" -->
<a id="i1006016"></a>
<div id="NTQRF336" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref596"></a><a id="sthref597"></a><a id="sthref598"></a>Creating an External Operating System User</h3>
<p>The External OS Users node of Oracle Administration Assistant for Windows enables you to authenticate a Windows user to access Oracle Database as an external user without being prompted for a password. External users are typically regular database users (not database administrators) to which you assign standard database roles (such as <code dir="ltr">DBA</code>), but do not want to assign <code dir="ltr">SYSDBA</code> (database administrator) or <code dir="ltr">SYSOPER</code> (database operator) privileges.</p>
<p>To create an external operating system user:</p>
<ol>
<li>
<p>Follow the steps in <a href="#i1005833">&#34;Connecting to a Database&#34;</a> to connect to a database.</p>
</li>
<li>
<p>Right-click <span class="bold">External OS Users</span>. A contextual menu appears.</p>
<img width="571" height="396" src="img/mmc4.gif" alt="Description of mmc4.gif follows"/><br/>
<a id="sthref599" href="img_text/mmc4.htm">Description of the illustration &#39;&#39;mmc4.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>Choose <span class="bold">Create</span>.</p>
<p>Create External OS User Wizard starts, and the first of three wizard dialogs appears. The first dialog is for Windows Users and Groups.</p>
<img width="522" height="503" src="img/mmc5.gif" alt="Description of mmc5.gif follows"/><br/>
<a id="sthref600" href="img_text/mmc5.htm">Description of the illustration &#39;&#39;mmc5.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">NT Domain Users and Groups</span> select the domain in which your Windows domain users and global groups are located.</p>
</li>
<li>
<p>Select the Windows domain users and global groups to which to grant access to the database.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>. The selected users and groups now appear in the New External OS Users list.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>. The Profile and Tablespace dialog appears.</p>
<img width="522" height="503" src="img/mmc6stp2.gif" alt="Description of mmc6stp2.gif follows"/><br/>
<a id="sthref601" href="img_text/mmc6stp2.htm">Description of the illustration &#39;&#39;mmc6stp2.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In the <span class="bold">Assigned Profile</span> list, select a profile for the new external users. A profile is a named set of resource limits. If resource limits are enabled, Oracle Database limits database usage and instance resources to whatever is defined in the user&#39;s profile. You can assign a profile to each user and a default profile to all users who do not have specific profiles.</p>
</li>
<li>
<p>In <span class="bold">Tablespace Quota</span> double-click the <a href="glossary.htm#i432555"><span class="xrefglossterm">tablespace</span></a> to assign a tablespace <a href="glossary.htm#i433264"><span class="xrefglossterm">quota</span></a>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>. The Roles dialog appears.</p>
<img width="522" height="503" src="img/step3.gif" alt="Description of step3.gif follows"/><br/>
<a id="sthref602" href="img_text/step3.htm">Description of the illustration &#39;&#39;step3.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Available Roles</span> select the database roles to grant to the new external users.</p>
</li>
<li>
<p>Click <span class="bold">Grant</span>.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
<li>
<p>Right-click the external user for which you want to view information and select <span class="bold">Properties</span>.</p>
<p>The assigned properties appear.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you select a Windows global group for authentication when using Oracle Administration Assistant for Windows, all users currently in the group are added to Oracle Database. If at a later time, you use a Windows tool to add or remove users in this Windows global group, these updates are not reflected in Oracle Database. The newly added or removed users must be explicitly added or removed in Oracle Database with Oracle Administration Assistant for Windows.</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006072"></a>
<div id="NTQRF337" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref603"></a><a id="sthref604"></a><a id="sthref605"></a>Creating a Local Database Role</h3>
<p>The Local Roles node of Oracle Administration Assistant for Windows enables you to create a role and have it managed by the database. Once a local role is created, you can grant or revoke that role to a database user. To create a local database role:</p>
<ol>
<li>
<p>Follow the steps in <a href="#i1005833">&#34;Connecting to a Database&#34;</a> to connect to a database.</p>
</li>
<li>
<p>Right-click <span class="bold">Local Roles</span> for the database for which you want to create a local role.</p>
</li>
<li>
<p>Choose <span class="bold">Create</span>.</p>
<p>Create Local Role Wizard starts, and the first of three wizard dialogs appears. The first dialog is for Name and Authentication.</p>
<img width="552" height="501" src="img/locrol1.gif" alt="Description of locrol1.gif follows"/><br/>
<a id="sthref606" href="img_text/locrol1.htm">Description of the illustration &#39;&#39;locrol1.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>Enter a local role name to use.</p>
</li>
<li>
<p>In <span class="bold">Authentication</span> select <span class="bold">None</span> if you want a user to use this local role without being required to enter a password.</p>
<p>Select <span class="bold">Password</span> if you want the user of this role to be protected by a password. These roles can only be used by supplying an associated password with the <code dir="ltr">SET ROLE</code> command. See <a class="olink ADMQS007" href="../ADMQS/GUID-7FC1D8BE-4BB9-4642-A4CE-29CD2B8A5F23.htm#ADMQS007"><span class="italic">Oracle Database 2 Day DBA</span></a> for additional information.</p>
<p>Enter the password to use with this role.</p>
<p>Confirm the password by entering it a second time.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>. The System Privileges dialog appears.</p>
<img width="552" height="501" src="img/locrol2.gif" alt="Description of locrol2.gif follows"/><br/>
<a id="sthref607" href="img_text/locrol2.htm">Description of the illustration &#39;&#39;locrol2.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Available System Privileges</span> select the system privileges you want to assign to the local role.</p>
</li>
<li>
<p>Click <span class="bold">Grant</span> to grant the selected system privileges to the local role.</p>
<p>The Granted System Privileges field displays the list of system privileges granted to the local role. To revoke a system privilege, make an appropriate selection, then choose <span class="bold">Revoke</span>.</p>
</li>
<li>
<p>If you want to grant Admin Option to this role, click the value in the <span class="bold">Admin Option</span> column to display a list. This enables you to select Yes.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>. The Roles dialog appears.</p>
<img width="552" height="501" src="img/locrol3.gif" alt="Description of locrol3.gif follows"/><br/>
<a id="sthref608" href="img_text/locrol3.htm">Description of the illustration &#39;&#39;locrol3.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Available Roles</span> select the roles you want to assign to the local role. Both local roles and external roles appear in this list.</p>
</li>
<li>
<p>Click <span class="bold">Grant</span> to grant the selected roles to the role.</p>
<p>The Granted Roles field displays the list of roles granted to the role. Both local roles and external roles can appear in this list. To revoke roles, make appropriate selections, then choose <span class="bold">Revoke</span>.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006123"></a>
<div id="NTQRF338" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref609"></a><a id="sthref610"></a><a id="sthref611"></a>Creating an External Operating System Role</h3>
<p>The External OS Roles node of Oracle Administration Assistant for Windows enables you to create an external role and have it managed by the Windows operating system. Once an external role is created, you can grant or revoke that role to a database user. To create an external role:</p>
<ol>
<li>
<p>Follow the steps in <a href="#i1005833">&#34;Connecting to a Database&#34;</a> to connect to a database.</p>
</li>
<li>
<p>Right-click <span class="bold">External OS Roles</span> for the database for which to create an external role.</p>
</li>
<li>
<p>Choose <span class="bold">Create</span>.</p>
<p>Create External OS Role Wizard starts, and the first of three wizard dialogs appears. The first dialog is for Name. Authentication: External appears in this dialog to indicate that only external roles can be created.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Create External OS Role Wizard is available only if <code dir="ltr">init.ora</code> parameter <code dir="ltr">OS_ROLES</code> is set to <code dir="ltr">true</code>. If it is set to <code dir="ltr">false</code>, then you must first change it to <code dir="ltr">true</code> and then restart Oracle Database.</div>
<img width="552" height="501" src="img/exrol1.gif" alt="Description of exrol1.gif follows"/><br/>
<a id="sthref612" href="img_text/exrol1.htm">Description of the illustration &#39;&#39;exrol1.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>Enter an external role name to use. An external role is a role that is managed by the Windows operating system.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The System Privileges dialog appears.</p>
<img width="552" height="501" src="img/exrol2.gif" alt="Description of exrol2.gif follows"/><br/>
<a id="sthref613" href="img_text/exrol2.htm">Description of the illustration &#39;&#39;exrol2.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Available System Privileges</span> select the system privileges you want to assign to the external role.</p>
</li>
<li>
<p>Choose <span class="bold">Grant</span> to grant the selected system privileges to the external role.</p>
</li>
<li>
<p>The <span class="bold">Granted System Privileges</span> field displays the list of system privileges granted to the external role. To revoke a system privilege, make an appropriate selection, then click <span class="bold">Revoke</span>.</p>
</li>
<li>
<p>If you want to grant Admin Option to this role, choose the value in the <span class="bold">Admin Option</span> column to display a list. This enables you to select Yes.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Roles dialog appears.</p>
<img width="552" height="501" src="img/exrol3.gif" alt="Description of exrol3.gif follows"/><br/>
<a id="sthref614" href="img_text/exrol3.htm">Description of the illustration &#39;&#39;exrol3.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Available Roles</span> select the roles you want to assign to the external role. Both local roles and external roles appear in this list.</p>
</li>
<li>
<p>Click <span class="bold">Grant</span> to grant the selected roles to the external role.</p>
<p>The Granted Roles field displays the list of roles granted to the external role.</p>
</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006206"></a>
<div id="NTQRF339" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref615"></a><a id="sthref616"></a><a id="sthref617"></a>Granting Administrator Privileges for a Single Database</h3>
<p>The OS Database Administrators node of Oracle Administration Assistant for Windows enables you to authorize a Windows user with <code dir="ltr">SYSDBA</code> privileges for a specific instance on a computer. To grant administrator <code dir="ltr">(SYSDBA)</code> privileges for a single database:</p>
<ol>
<li>
<p>Follow the steps in <a href="#i1005833">&#34;Connecting to a Database&#34;</a> to connect to a database.</p>
</li>
<li>
<p>Right-click <span class="bold">OS Database Administrators</span>.</p>
</li>
<li>
<p>Choose <span class="bold">Add/Remove</span>.</p>
<p>The OS Database Administrators for <code dir="ltr"><span class="codeinlineitalic">instance</span></code> dialog appears. In the example shown here, the instance is <code dir="ltr">MARK</code>:</p>
<img width="350" height="426" src="img/dba_one.gif" alt="Description of dba_one.gif follows"/><br/>
<a id="sthref618" href="img_text/dba_one.htm">Description of the illustration &#39;&#39;dba_one.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Domain Users and Groups</span> select the domain of the user to which to grant <code dir="ltr">SYSDBA</code> privileges from the <span class="bold">Domain</span> list.</p>
</li>
<li>
<p>Select the user.</p>
<p>The user now appears in OS Database Administrators.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006220"></a>
<div id="NTQRF340" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref619"></a><a id="sthref620"></a><a id="sthref621"></a>Granting Operator Privileges for a Single Database</h3>
<p>The OS Database Operators node of Oracle Administration Assistant for Windows enables you to authorize a Windows user with SYSOPER privileges for a specific instance on a computer. To grant operator (SYSOPER) privileges for a single database:</p>
<ol>
<li>
<p>Follow the steps in <a href="#i1005833">&#34;Connecting to a Database&#34;</a> to connect to a database.</p>
</li>
<li>
<p>Right-click <span class="bold">OS Database Operators</span>.</p>
</li>
<li>
<p>Choose <span class="bold">Add/Remove</span>.</p>
<p>The OS Database Operators for <code dir="ltr"><span class="codeinlineitalic">instance</span></code> dialog appears. In the example shown here, the instance is <code dir="ltr">MARK</code>:</p>
<img width="350" height="421" src="img/oper_one.gif" alt="Description of oper_one.gif follows"/><br/>
<a id="sthref622" href="img_text/oper_one.htm">Description of the illustration &#39;&#39;oper_one.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>In <span class="bold">Domain Users and Groups</span> select the domain of the user to which to grant <code dir="ltr">SYSOPER</code> privileges from the <span class="bold">Domain</span> list.</p>
</li>
<li>
<p>Select the user.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>.</p>
<p>The user now appears in OS Database Operators.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006236"></a>
<div id="NTQRF341" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref623"></a><a id="sthref624"></a><a id="sthref625"></a><a id="sthref626"></a>Overview of Manually Administering External Users and Roles</h2>
<p>Instead of using Oracle Administration Assistant for Windows, you can manually configure administrators, operators, users, and roles to be authenticated by the operating system. Manual configuration involves using Oracle Database command-line tools, editing the registry, and creating local groups in Active Directory Users and Computers.</p>
<p>All of the following can be manually configured to access Oracle Database without a password:</p>
<ul>
<li>
<p>External operating system users</p>
</li>
<li>
<p>Windows database administrators (with <code dir="ltr">SYSDBA</code> privilege)</p>
</li>
<li>
<p>Windows database operators (with <code dir="ltr">SYSOPER</code> privilege)</p>
</li>
</ul>
<p>In addition, you can manually create and grant local and external database roles to Windows domain users and global groups.</p>
<p>This section describes:</p>
<ul>
<li>
<p><a href="#BJECGAHH">About Manually Creating an External Operating System User</a></p>
</li>
<li>
<p><a href="#i1013865">Overview of Manually Granting Administrator, Operator, and Task-Specific Privileges for Databases</a></p>
</li>
<li>
<p><a href="#CIAFEGJE">Managing New Users and User Groups</a></p>
</li>
<li>
<p><a href="#BJEECHJA">Overview of Manually Creating an External Role</a></p>
</li>
<li>
<p><a href="#i1015696">About Manually Migrating Users</a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Use extreme care when manually configuring administrators, operators, users, and roles to be authenticated by the operating system. If possible, use Oracle Administration Assistant for Windows to perform configuration procedures.</div>
</li>
</ul>
<a id="BJECGAHH"></a>
<div id="NTQRF342" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref627"></a><a id="sthref628"></a>About Manually Creating an External Operating System User</h3>
<p>This section describes how to authenticate external operating system users (not database administrators) using Windows, so that a password is not required when accessing the database. When you use Windows to authenticate external operating system users, your database relies solely on the operating system to restrict access to database user names.</p>
<p>Note that if a Windows Local User is used as the Oracle Home User for an Oracle home, then external user authentication of the Windows Local users is only supported from the same computer. Oracle recommends using Windows Domain User or Windows built-in user as the Oracle Home User to support external authentication of the Windows Domain User from the same computer or a different computer.</p>
<p>In the following procedure, two Windows user names are authenticated:</p>
<ul>
<li>
<p>Local user <code dir="ltr">jones</code></p>
</li>
<li>
<p>Domain user <code dir="ltr">jones</code> on domain <code dir="ltr">sales</code></p>
</li>
</ul>
<p>Local user <code dir="ltr">jones</code> logs into its local Windows client computer to access an Oracle Database server, which can be on a different computer. To access other databases and resources on other computers, the local user must provide a user name and password each time.</p>
<p>Domain user <code dir="ltr">jones</code> on domain <code dir="ltr">sales</code> logs into a <code dir="ltr">sales</code> domain that includes many other Windows computers and resources, one of which contains an Oracle Database server. The domain user can access all the resources the domain provides with a single user name and password.</p>
<p>The procedure is divided into two sets of tasks performed on different computers:</p>
<ul>
<li>
<p><a href="#i1013563">Performing External User Authentication Tasks on the Oracle Database Server</a></p>
</li>
<li>
<p><a href="#i1013564">Performing External User Authentication Tasks on the Client Computer</a></p>
</li>
</ul>
<a id="i1013563"></a>
<div id="NTQRF343" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref629"></a><a id="sthref630"></a><a id="sthref631"></a>Performing External User Authentication Tasks on the Oracle Database Server</h4>
<p>Perform the following external user authentication tasks on the Oracle Database server:</p>
<ol>
<li>
<p>Add parameter <code dir="ltr">OS_AUTHENT_PREFIX</code> to your <code dir="ltr">init.ora</code> file.</p>
<p>The <code dir="ltr">OS_AUTHENT_PREFIX</code> value is prefixed to local or domain user names attempting to connect to the server with the user&#39;s operating system name and password. The prefixed user name is compared with Oracle Database user names in the database when a connection request is attempted. Using parameter <code dir="ltr">OS_AUTHENT_PREFIX</code> with Windows native authentication methods is the recommended method for performing secure, trusted client connections to your server.</p>
</li>
<li>
<p><a id="sthref632"></a><a id="sthref633"></a><a id="sthref634"></a><a id="sthref635"></a><a id="sthref636"></a><a id="sthref637"></a>Set a value for <code dir="ltr">OS_AUTHENT_PREFIX</code>. Your choices are:</p>
<ul>
<li>
<p>Any character string</p>
<p>If you specify <code dir="ltr">xyz</code>, as in this procedure&#39;s example, then <code dir="ltr">xyz</code> is prefixed to the beginning of the Windows user name (for example, <code dir="ltr">xyzjones</code> for local user <code dir="ltr">jones</code> or <code dir="ltr">xyzsales\jones</code> for domain user <code dir="ltr">jones</code> on domain <code dir="ltr">sales</code>). String values are case insensitive.</p>
</li>
<li>
<p><code dir="ltr">&#34;&#34;</code> (two double quotes with no space between)</p>
<p>This option is recommended, because it eliminates the need for any prefix to Windows user names (for example, <code dir="ltr">jones</code> for local user <code dir="ltr">jones</code> or <code dir="ltr">sales\jones</code> for domain user <code dir="ltr">jones</code> on domain <code dir="ltr">sales</code>).</p>
</li>
<li>
<p>No value specified</p>
<p>If you do not specify a value for <code dir="ltr">OS_AUTHENT_PREFIX</code>, it defaults to <code dir="ltr">OPS$</code> (for example, <code dir="ltr">OPS$jones</code> for local user <code dir="ltr">jones</code> or <code dir="ltr">OPS$sales\jones</code> for domain user <code dir="ltr">jones</code> on domain <code dir="ltr">sales</code>).</p>
</li>
</ul>
</li>
<li>
<p>Create a Windows local user name for <code dir="ltr">jones</code> with the Computer Management tool, or create a Windows domain user name for <code dir="ltr">jones</code> with Active Directory Users and Computers (if the appropriate name does not currently exist). See your operating system documentation for detailed instructions.</p>
</li>
<li>
<p>Ensure that parameter <a id="i1014772"></a><code dir="ltr">SQLNET.AUTHENTICATN_SERVICES</code> in file <code dir="ltr">sqlnet.ora</code> contains <code dir="ltr">nts</code>.</p>
</li>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
</pre></li>
<li>
<p>Connect to the database with the <a href="glossary.htm#i432552"><span class="xrefglossterm">SYSTEM</span></a> database administrator (DBA) name:</p>
<pre dir="ltr">SQL&gt; CONNECT SYSTEM
Enter password: <span class="italic">system_password</span>
</pre>
<p>Unless you have changed it, the <code dir="ltr">SYSTEM</code> password is <code dir="ltr">MANAGER</code> by default.</p>
</li>
<li>
<p>Create a local external user by entering:</p>
<pre dir="ltr">SQL&gt; CREATE USER xyzjones IDENTIFIED EXTERNALLY;
</pre>
<p>where <code dir="ltr">xyz</code> is the value you chose for initialization parameter <code dir="ltr">OS_AUTHENT_PREFIX</code>, and <code dir="ltr">jones</code> is the Windows local user name.</p>
</li>
<li>
<p>Grant a local external user database roles by entering:</p>
<pre dir="ltr">SQL&gt; GRANT DBA TO xyzjones;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
External authentication of Windows Local users is supported from the same computer only. While external authentication of Windows Domain user is supported from the same computer or a different computer.</div>
</li>
<li>
<p>Create a domain external user by entering:</p>
<pre dir="ltr">SQL&gt; CREATE USER &#34;XYZSALES\JONES&#34; IDENTIFIED EXTERNALLY;
</pre>
<p>where <code dir="ltr">XYZ</code> is the value you chose for initialization parameter <code dir="ltr">OS_AUTHENT_PREFIX</code>, and <code dir="ltr">SALES\JONES</code> is the domain name and Windows domain user name. Double quotes are required and the entire syntax must be in uppercase.</p>
</li>
<li>
<p>Grant a domain external user database roles by entering:</p>
<pre dir="ltr">SQL&gt; GRANT DBA TO &#34;XYZSALES\JONES&#34;;
</pre>
<p>Double quotes are required and the entire syntax must be in uppercase.</p>
</li>
<li>
<p>Log on to the Windows system using the Windows local user <code dir="ltr">jones</code> or domain user <code dir="ltr">SALES\JONES</code>.</p>
</li>
<li>
<p>Connect to the database with the <code dir="ltr">SYSDBA</code> name:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSDBA
</pre></li>
<li>
<p>Shut down the database:</p>
<pre dir="ltr">SQL&gt; SHUTDOWN
</pre></li>
<li>
<p>Restart the database:</p>
<pre dir="ltr">SQL&gt; STARTUP
</pre>
<p>This causes the change to parameter <code dir="ltr">OS_AUTHENT_PREFIX</code> to take effect.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="i1013564"></a>
<div id="NTQRF344" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref638"></a>Performing External User Authentication Tasks on the Client Computer</h4>
<p>Perform the following external user authentication tasks on the client computer:</p>
<ol>
<li>
<p>Ensure that parameter <code dir="ltr">SQLNET.AUTHENTICATN_SERVICES</code> in file <code dir="ltr">sqlnet.ora</code> contains <code dir="ltr">nts</code>.</p>
</li>
<li>
<p>Use Oracle Net Configuration Assistant to configure a network connection from your client computer to the Windows server on which Oracle Database is installed. See <a class="olink NETAG005" href="../NETAG/admintools.htm#NETAG005"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for instructions.</p>
</li>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
</pre></li>
<li>
<p>Connect to your Windows server:</p>
<pre dir="ltr">SQL&gt; CONNECT /@<span class="italic">connect_identifier</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">connect_identifier</span></code> is the net service name for Oracle Database.</p>
<p>Oracle Database searches the <a href="glossary.htm#i432229"><span class="xrefglossterm">data dictionary</span></a> for an automatic login user name corresponding to the Windows local or domain user name, verifies it, and enables connection as <code dir="ltr">xyzjones</code> or <code dir="ltr">xyzsales\jones</code>.</p>
</li>
<li>
<p>Verify that you have connected to Oracle Database as domain user <code dir="ltr">jones</code> by viewing the roles assigned in steps 12 or 14 of <a href="#i1013563">&#34;Performing External User Authentication Tasks on the Oracle Database Server&#34;</a>.</p>
<pre dir="ltr">SQL&gt; SELECT * FROM USER_ROLE_PRIVS;
</pre>
<p>which outputs for local user <code dir="ltr">jones</code>:</p>
<pre dir="ltr">USERNAME                       GRANTED_ROLE                   ADM DEF OS_
------------------------------ ------------------------------ --- --- ---
XYZJONES                       DBA                            NO  YES NO 
1 row selected.
</pre>
<p>or, for domain user <code dir="ltr">jones</code>:</p>
<pre dir="ltr">USERNAME                       GRANTED_ROLE                   ADM DEF OS_
------------------------------ ------------------------------ --- --- ---
XYZSALES\JONES                 DBA                            NO  YES NO 
1 row selected.
</pre>
<p>Because the Oracle Database user name is the whole name <code dir="ltr">xyzjones</code> or <code dir="ltr">xyzsales\jones</code>, each object created by <code dir="ltr">xyzjones</code> or <code dir="ltr">xyzsales\jones</code> (that is, table, <a href="glossary.htm#i432584"><span class="xrefglossterm">view</span></a>, index, and so on) is prefixed by this name. For another user to reference the table <code dir="ltr">shark</code> owned by <code dir="ltr">xyzjones</code>, for example, the user must enter:</p>
<pre dir="ltr">SQL&gt; SELECT * FROM xyzjones.shark 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Automatic authorization is supported for all <a href="glossary.htm#i433191">Oracle Net</a> protocols.</div>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1013865"></a>
<div id="NTQRF345" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref639"></a><a id="sthref640"></a><a id="sthref641"></a><a id="sthref642"></a>Overview of Manually Granting Administrator, Operator, and Task-Specific Privileges for Databases</h3>
<p>This section describes how to enable Windows to grant the database administrator (<code dir="ltr">SYSDBA</code>), database operator (<code dir="ltr">SYSOPER</code>), database administrator for ASM (<code dir="ltr">SYSASM</code>), and new task-specific and less privileged than the <code dir="ltr">ORA_DBA</code>/<code dir="ltr">SYSDBA</code> system privileges to administrators. With these privileges, the administrator can issue the following commands from a client computer and connect to Oracle Database without entering a password:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSOPER
SQL&gt; CONNECT / AS SYSDBA
SQL&gt; CONNECT / AS SYSASM
SQL&gt; CONNECT / AS SYSBACKUP
SQL&gt; CONNECT / AS SYSDG
SQL&gt; CONNECT / AS SYSKM
</pre>
<p>To enable this feature, the Windows local or domain user name of the administrator must belong to one of the Windows local groups listed in <a href="#g1018614">Table 11-1</a> .</p>
<div id="NTQRF346" class="tblhruleformal">
<p class="titleintable"><a id="sthref643"></a><a id="sthref644"></a>Table 11-1 <a id="sthref645"></a><a id="sthref646"></a><a id="sthref647"></a><a id="sthref648"></a><a id="sthref649"></a><a id="sthref650"></a><a id="sthref651"></a><a id="sthref652"></a><a id="sthref653"></a><a id="sthref654"></a>Windows Local Groups with SYSDBA, SYSOPER, SYSASM, SYSDG, SYSBACKUP, and SYSKM Privileges</p>
<table class="cellalignment5021" title="Windows Local Groups with SYSDBA, SYSOPER, SYSASM, SYSDG, SYSBACKUP, and SYSKM Privileges" summary="Rows are local groups. For each group, the first column is its name, and the second column shows what privileges it has." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t11">Local Group</th>
<th class="cellalignment5020" id="r1c2-t11">System Privileges</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_OPER</code></p>
</td>
<td class="cellalignment5016" headers="r2c1-t11 r1c2-t11">
<p><code dir="ltr">SYSOPER</code> privileges for all databases on a computer</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_DBA</code><a href="#BJEJJBBF"><span class="xrefglossterm">Note</span></a></p>
</td>
<td class="cellalignment5016" headers="r3c1-t11 r1c2-t11">
<p><code dir="ltr">SYSDBA</code> privileges for all databases on a computer</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">_OPER</code></p>
</td>
<td class="cellalignment5016" headers="r4c1-t11 r1c2-t11">
<p><code dir="ltr">SYSOPER</code> privileges for a single database (identified by <code dir="ltr"><span class="codeinlineitalic">SID</span></code>)</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r5c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">_DBA</code></p>
</td>
<td class="cellalignment5016" headers="r5c1-t11 r1c2-t11">
<p><code dir="ltr">SYSDBA</code> privileges for a single database (identified by <code dir="ltr"><span class="codeinlineitalic">SID</span></code>)</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r6c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_DBA</code></p>
</td>
<td class="cellalignment5016" headers="r6c1-t11 r1c2-t11">
<p><code dir="ltr">SYSDBA</code> privileges for all database instances of the specified Oracle home.</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r7c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_OPER</code></p>
</td>
<td class="cellalignment5016" headers="r7c1-t11 r1c2-t11">
<p><code dir="ltr">SYSOPER</code> privileges for starting up and shutting down all databases instances that run from a specified Oracle home.</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r8c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_SYSDG</code></p>
</td>
<td class="cellalignment5016" headers="r8c1-t11 r1c2-t11">
<p><code dir="ltr">SYSDG</code> privilege for all database instances that run from the particular Oracle home</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r9c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_SYSBACKUP</code></p>
</td>
<td class="cellalignment5016" headers="r9c1-t11 r1c2-t11">
<p><code dir="ltr">SYSBACKUP</code> privilege for all database instances that run from the particular Oracle home</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r10c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_SYSKM</code></p>
</td>
<td class="cellalignment5016" headers="r10c1-t11 r1c2-t11">
<p><code dir="ltr">SYSKM</code> privilege for all database instances that run from the particular Oracle home</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r11c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_ASMADMIN</code></p>
</td>
<td class="cellalignment5016" headers="r11c1-t11 r1c2-t11">
<p><code dir="ltr">SYSASM</code> privileges for all ASM instances on a computer</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r12c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_ASMDBA</code></p>
</td>
<td class="cellalignment5016" headers="r12c1-t11 r1c2-t11">
<p><code dir="ltr">SYSDBA</code> privileges for all ASM instances on a computer</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r13c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA_ASMOPER</code></p>
</td>
<td class="cellalignment5016" headers="r13c1-t11 r1c2-t11">
<p><code dir="ltr">SYSOPER</code> privileges for all ASM instances on a computer</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p class="subhead2"><a id="BJEJJBBF"></a><a id="NTQRF347"></a>Note</p>
<p>All the groups mentioned in the table above are automatically created during installation and the Oracle Home User is automatically added to <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_DBA</code> group. See section &#34;<a href="authen.htm#i1006045">Overview of Operating System Authentication Enabled at Installation</a>&#34; for information.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11010" href="../ADMIN/dba.htm#ADMIN11010"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink OSTMG94101" href="../OSTMG/GUID-359A6592-6AF6-483E-9B31-C70DB308608D.htm#OSTMG94101"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
<p>The manual procedure for enabling administrators to connect as <code dir="ltr">SYSOPER</code>, <code dir="ltr">SYSDBA</code>, <code dir="ltr">SYSASM</code>, <code dir="ltr">SYSDG</code>, <code dir="ltr">SYSKM</code>, or <code dir="ltr">SYSBACKUP</code> without a password is divided into two sets of tasks performed on different computers:</p>
<ul>
<li>
<p><a href="#i1014020">Running System Privilege Authentication Tasks on the Oracle Database Server</a></p>
</li>
<li>
<p><a href="#i1014021">Running System Privilege Authentication Tasks on the Client Computer</a></p>
</li>
</ul>
<a id="i1014020"></a>
<div id="NTQRF348" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref655"></a><a id="sthref656"></a><a id="sthref657"></a>Running System Privilege Authentication Tasks on the Oracle Database Server</h4>
<ol>
<li id="CHDGBJHJ">
<p>Add your administrator user names to this group. The client logs in using one of these user names so that it is granted the required system privilege.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on managing users and groups</div>
</li>
<li>
<p>Ensure that parameter <code dir="ltr">SQLNET.AUTHENTICATN_SERVICES</code> in file <code dir="ltr">sqlnet.ora</code> contains <code dir="ltr">nts</code>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="i1014021"></a>
<div id="NTQRF349" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref658"></a><a id="sthref659"></a><a id="sthref660"></a><a id="sthref661"></a>Running System Privilege Authentication Tasks on the Client Computer</h4>
<ol>
<li>
<p>Log in as a Windows domain user who is a member of one of the Windows local group on the server, according to the system privilege that you want Windows to grant. The administrator must add this domain user to the required Windows local group as mentioned in step <a href="#CHDGBJHJ">1</a> of <a href="#i1014020">Running System Privilege Authentication Tasks on the Oracle Database Server</a>. Windows local group membership is created on the server system where Oracle Database runs.</p>
</li>
<li>
<p>Ensure that parameter <code dir="ltr">SQLNET.AUTHENTICATN_SERVICES</code> in file <code dir="ltr">sqlnet.ora</code> contains <code dir="ltr">nts</code>.</p>
</li>
<li>
<p>Use Oracle Net Configuration Assistant to configure a network connection from your client computer to the Windows server on which Oracle Database is installed. See <a class="olink NETAG005" href="../NETAG/admintools.htm#NETAG005"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for instructions.</p>
</li>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
</pre></li>
<li>
<p>Connect to Oracle Database:</p>
<pre dir="ltr">SQL&gt; SET INSTANCE <span class="italic">net_service_name</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">net_service_name</span></code> is the Oracle Net net service name for Oracle Database.</p>
</li>
<li>
<p>Enter either of the following SQL*Plus commands so that you connect to the database with the required system privilege:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSOPER
SQL&gt; CONNECT / AS SYSDBA
SQL&gt; CONNECT / AS SYSASM
SQL&gt; CONNECT / AS SYSDG
SQL&gt; CONNECT / AS SYSKM
SQL&gt; CONNECT / AS SYSBACKUP
</pre>
<p>You are now connected to the Windows server. If you connect with <code dir="ltr">SYSDBA</code>, you are given DBA privileges.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIAFEGJE"></a>
<div id="NTQRF699" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Managing New Users and User Groups</h3>
<p>During Oracle Database installation, <code dir="ltr">ORA_INSTALL</code>, <code dir="ltr">ORA_DBA</code>, <code dir="ltr">ORA_OPER</code>, <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_DBA</code>, <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_OPER</code>, <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_SYSDG</code>, <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_SYSBACKUP</code>, <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">HOMENAME</span></code><code dir="ltr">_SYSKM</code>, <code dir="ltr">ORA_ASMADMIN</code>, <code dir="ltr">ORA_ASMDBA</code>, and <code dir="ltr">ORA_ASMOPER</code> user groups are automatically created with the required privileges.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><span class="italic">Oracle Database Installation Guide</span></p>
</li>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BJEECHJA"></a>
<div id="NTQRF350" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref662"></a><a id="sthref663"></a>Overview of Manually Creating an External Role</h3>
<p>This section describes how to grant Oracle Database roles to users directly through Windows (known as external roles). When you use Windows to authenticate users, Windows local groups can grant these users external roles.</p>
<p>All privileges for these roles are active when the user connects. When using external roles, all roles are granted and managed through the operating system. You cannot use both external roles and Oracle Database roles at the same time.</p>
<p>Consider the following example. With external roles enabled, you log on to a Windows domain with domain user name <code dir="ltr">sales\jones</code> (<code dir="ltr">sales</code> is the domain name and <code dir="ltr">jones</code> is the domain user name). You then connect to Oracle Database as Oracle Database user <code dir="ltr">smith</code>. In this case, you receive the roles granted to <code dir="ltr">sales\jones</code> but <span class="italic">not</span> the roles granted to <code dir="ltr">smith</code>.</p>
<p>The procedure for manually creating an external role is divided into two sets of authorization tasks performed on different computers:</p>
<ul>
<li>
<p><a href="#i1014230">Performing External Role Authorization Tasks on the Oracle Database Server</a></p>
</li>
<li>
<p><a href="#i1014231">Performing External Role Authorization Tasks on the Client Computer</a></p>
</li>
</ul>
<a id="i1014230"></a>
<div id="NTQRF351" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref664"></a><a id="sthref665"></a><a id="sthref666"></a>Performing<a id="sthref667"></a> External Role Authorization Tasks on the Oracle Database Server</h4>
<ol>
<li>
<p>Add initialization parameter <code dir="ltr">OS_ROLES</code> to the <code dir="ltr">init.ora</code> file.</p>
</li>
<li>
<p>Set <code dir="ltr">OS_ROLES</code> to <code dir="ltr">true</code>.</p>
<p>The default setting for this parameter is <code dir="ltr">false</code>.</p>
</li>
<li>
<p>Ensure that parameter <code dir="ltr">SQLNET.AUTHENTICATN_SERVICES</code> in file <code dir="ltr">sqlnet.ora</code> contains <code dir="ltr">nts</code>.</p>
</li>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
</pre></li>
<li>
<p>Connect to your Windows server:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSDBA
</pre></li>
<li>
<p>Create a new database role. You can give this new role whatever name you want. In this example the role is named <code dir="ltr">DBSALES3</code>:</p>
<pre dir="ltr">SQL&gt; CREATE ROLE DBSALES3 IDENTIFIED EXTERNALLY;
</pre></li>
<li>
<p>Grant to <code dir="ltr">DBSALES3</code> whatever Oracle Database roles are appropriate to your database environment:</p>
<pre dir="ltr">SQL&gt; GRANT DBA TO DBSALES3 WITH ADMIN OPTN;
</pre></li>
<li>
<p>Connect to the database as <code dir="ltr">SYSDBA</code>:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSDBA
</pre></li>
<li>
<p>Shut down the database:</p>
<pre dir="ltr">SQL&gt; SHUTDOWN
</pre></li>
<li>
<p>Restart the database:</p>
<pre dir="ltr">SQL&gt; STARTUP
</pre></li>
<li>
<p>Create a Windows local group with the following syntax:</p>
<pre dir="ltr">ORA_<span class="italic">sid_rolename</span>[_D][_A] 
</pre>
<p>For this command, note the following:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">sid</span></code> identifies the database instance</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">rolename</span></code> identifies the database role granted</p>
</li>
<li>
<p><code dir="ltr">D</code> indicates that this database role is to be a default role of the database user</p>
</li>
<li>
<p><code dir="ltr">A</code> indicates that this database role includes <code dir="ltr">ADMIN</code> <code dir="ltr">OPTN</code></p>
</li>
</ul>
<p>Characters <code dir="ltr">D</code> and <code dir="ltr">A</code> are optional. If specified, they must be preceded by an underscore.</p>
<p>For this example, <code dir="ltr">ORA_orcl_dbsales3_D</code> is created.</p>
</li>
<li>
<p>Add one or more Windows local or domain user names to this group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on managing users and groups</div>
<p><span class="bold"><a id="sthref668"></a><a id="sthref669"></a><a id="sthref670"></a><a id="sthref671"></a></span>You can create multiple database roles and grant them to several possible Windows groups with differing options, as shown in the following table. Users connecting to the <code dir="ltr">ORCL</code> instance and authenticated by Windows as members of all four of these Windows local groups will have the privileges associated with <code dir="ltr">dbsales3</code> and <code dir="ltr">dbsales4</code> by default (because of option <code dir="ltr">_D</code>). If these users first connect as members of <code dir="ltr">dbsales3</code> or <code dir="ltr">dbsales4</code> and use the <code dir="ltr">SET ROLE</code> command, then they can also gain access to database roles <code dir="ltr">dbsales1</code> and <code dir="ltr">dbsales2</code>. But if these users try to connect with <code dir="ltr">dbsales1</code> or <code dir="ltr">dbsales2</code> without first connecting with a default role, they are unable to connect. Finally, these users can grant <code dir="ltr">dbsales2</code> and <code dir="ltr">dbsales4</code> to other roles (because of option <code dir="ltr">_A</code>).</p>
<div class="inftblinformal">
<table class="cellalignment5021" title="Examples of Database Role Grants" summary="Rows are example database roles. For each role, the first column is its name, and the second column is a Windows group granted the role." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t16">Database Roles</th>
<th class="cellalignment5020" id="r1c2-t16">Windows Groups</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t16" headers="r1c1-t16"><code dir="ltr">dbsales1</code></td>
<td class="cellalignment5016" headers="r2c1-t16 r1c2-t16"><code dir="ltr">ORA_ORCL_dbsales1</code></td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t16" headers="r1c1-t16"><code dir="ltr">dbsales2</code></td>
<td class="cellalignment5016" headers="r3c1-t16 r1c2-t16"><code dir="ltr">ORA_ORCL_dbsales2_a</code></td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t16" headers="r1c1-t16"><code dir="ltr">dbsales3</code></td>
<td class="cellalignment5016" headers="r4c1-t16 r1c2-t16"><code dir="ltr">ORA_ORCL_dbsales3_d</code></td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r5c1-t16" headers="r1c1-t16"><code dir="ltr">dbsales4</code></td>
<td class="cellalignment5016" headers="r5c1-t16 r1c2-t16"><code dir="ltr">ORA_ORCL_dbsales4_da</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
When Oracle Database converts the group name to a role name, it changes the name to uppercase.</div>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="i1014231"></a>
<div id="NTQRF352" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Performing<a id="sthref672"></a> External Role Authorization Tasks on the Client Computer</h4>
<ol>
<li>
<p>Create a Windows local or domain user name with the same user name and password that exist on the Windows server (if the appropriate user name does not currently exist).</p>
</li>
<li>
<p>Ensure that parameter <code dir="ltr">SQLNET.AUTHENTICATN_SERVICES</code> in file <code dir="ltr">sqlnet.ora</code> contains <code dir="ltr">nts</code>.</p>
</li>
<li>
<p>Use Oracle Net Configuration Assistant to configure a network connection from your client computer to Oracle Database. See <a class="olink NETAG005" href="../NETAG/admintools.htm#NETAG005"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for instructions.</p>
</li>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
</pre></li>
<li>
<p>Connect to the correct instance:</p>
<pre dir="ltr">SQL&gt; SET INSTANCE <span class="italic">connect_identifier</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">connect_identifier</span></code> is the net service name for the Oracle Database connection that you created in Step 3.</p>
</li>
<li>
<p>Connect to Oracle Database:</p>
<pre dir="ltr">SQL&gt; CONNECT SMITH
Enter password: <span class="italic">password</span>
</pre>
<p>You are connected to the Windows server over net service with Oracle Database user name <code dir="ltr">smith</code>. Roles applied to Oracle Database user name <code dir="ltr">smith</code> consist of all roles defined for the Windows user name that were previously mapped to the database roles (in this case, <code dir="ltr">ORA_DBSALES3_D</code>). All roles available under an authenticated connection are determined by the Windows user name and the Oracle-specific Windows local groups to which the user belongs (for example, <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">_DBSALES1</code> or <code dir="ltr">ORA_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">_DBSALES4_DA</code>).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
OSDBA and OSOPER are generic names for two special operating system groups that control database administrator logins when using operating system authentication. Windows-specific names for OSDBA and OSOPER are described in <a href="#i1013865">&#34;Overview of Manually Granting Administrator, Operator, and Task-Specific Privileges for Databases&#34;</a>. See <a class="olink ADMIN001" href="../ADMIN/dba.htm#ADMIN001"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about OSDBA and OSOPER.</div>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1015696"></a>
<div id="NTQRF353" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">About <a id="sthref673"></a><a id="sthref674"></a>Manually Migrating Users</h3>
<p>You can migrate local or external users to enterprise users with User Migration Utility. Migrating from a database user model to an enterprise user model provides solutions to administrative, security, and usability challenges in an enterprise environment. In an enterprise user model, all user information is moved to an LDAP directory service, which provides the following benefits:</p>
<ul>
<li>
<p>Centralized storage and management of user information</p>
</li>
<li>
<p>Centralized user authentication</p>
</li>
<li>
<p>Enhanced security</p>
</li>
</ul>
<p>User Migration Utility is a command-line tool. Its syntax is of the form:</p>
<pre dir="ltr">C:\ umu <span class="italic">parameters</span>
</pre>
<p>To get a list of User Migration Utility parameters, enter:</p>
<pre dir="ltr">C:\ umu help=yes
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;Using the User Migration Utility&#34; in <a class="olink DBIMI200" href="../DBIMI/appa.htm#DBIMI200"><span class="italic">Oracle Database Enterprise User Security Administrator&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5009">
<tr>
<td class="cellalignment5016">
<table class="cellalignment5014">
<tr>
<td class="cellalignment5013"><a href="authen.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5013"><a href="wallets.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5018">
<table class="cellalignment5012">
<tr>
<td class="cellalignment5013"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5013"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5013"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5013"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5013"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5013"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
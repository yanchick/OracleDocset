<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-78990"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Postinstallation%20Database%20Creation%20on%20Windows"></a><title>Postinstallation Database Creation on Windows</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-05-17T5:53:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Platform Guide"/>
<meta name="dcterms.identifier" content="E10714-16"/>
<meta name="dcterms.isVersionOf" content="NTQRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="oh_usr.htm" title="Previous" type="text/html"/>
<link rel="Next" href="config.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10714-16.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/28</span> <!-- End Header -->
<div id="NTQRF050" class="chapter"><a id="g1023843"></a> <a id="i1011374"></a>
<h1 class="chapter"><span class="secnum">4</span> Postinstallation Database Creation on Windows</h1>
<p>This chapter describes how to create a database after installing Oracle Database, using either Oracle Database Configuration Assistant or command-line tools.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i1015001">Overview of the Naming Conventions for Oracle Database</a></p>
</li>
<li>
<p><a href="#i1005759">Overview of Database Creation on Windows Using Oracle Database Configuration Assistant</a></p>
</li>
<li>
<p><a href="#i1005959">Overview of Database Creation Tasks on Windows Using Command-Line Tools</a></p>
</li>
<li>
<p><a href="#i1006533">About Administering an Oracle Database Instance Using ORADIM</a></p>
</li>
<li>
<p><a href="#CHDCDAGE">Overview of Database Migration from a 32-Bit Windows Computer</a></p>
</li>
</ul>
<a id="i1015001"></a>
<div id="NTQRF129" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref163"></a>Overview of the Naming Conventions for Oracle Database</h2>
<p>All mounted Oracle Database servers in a network must have unique database names. When a database is created, a name is associated with it and stored in its <a href="glossary.htm#i432217"><span class="xrefglossterm">control files</span></a>. If you provide the database keyword, either in the <code dir="ltr">CREATE DATABASE</code> statement or when prompted by Database Configuration Assistant, then that value becomes the name for that database.</p>
<p>If you attempt to <a href="glossary.htm#i432330"><span class="xrefglossterm">mount</span></a> two Oracle Database servers with the same database name, then you receive the following error during mounting of the second server:</p>
<pre dir="ltr"><a id="sthref164"></a>ORA-01102: cannot mount database in EXCLUSIVE mode
</pre>
<p>If there are two or more Oracle Database servers on the same computer, but located in different Oracle homes, then the following rules apply:</p>
<ul>
<li>
<p>Each database name must be unique</p>
</li>
<li>
<p>Each <a href="glossary.htm#i432506"><span class="xrefglossterm">SID</span></a> must be unique</p>
</li>
</ul>
<p>To change the name of an existing database, you must use the <code dir="ltr">CREATE CONTROLFILE</code> statement to re-create your control files and specify a new database name.</p>
</div>
<!-- class="sect1" -->
<a id="i1005759"></a>
<div id="NTQRF132" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Database Creation on Windows Using Oracle Database Configuration Assistant</h2>
<p>Oracle recommends you use Oracle Database Configuration Assistant to create a database, because it is easier. It offers the same interface and operates the same way on all supported platforms, so no step-by-step procedures or screenshots are included here.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS002" href="../ADMQS/GUID-6B14A3EB-DD51-43C3-AB26-6978B13E2E1E.htm#ADMQS002"><span class="italic">Oracle Database 2 Day DBA</span></a></div>
<p><a id="sthref165"></a><a id="sthref166"></a><a id="sthref167"></a><a id="sthref168"></a>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1), this administration tool like the other administration tools, prompts for password when the Oracle Home User is a Windows Local User Account or Windows Domain User Account and the password for Oracle Home User is not stored in Oracle wallet. The main purpose of Oracle Home User is to run Windows services with Windows User Account. However, this user account (Oracle Home User) has very limited set of operating system-level privileges and should not be used for database administration. Oracle Database Configuration Assistant now provides an interface to create an Oracle Database service under an Oracle Home User or a Windows built-in Local System Account, as specified during the process of installation. But Oracle Database Configuration Assistant does not provide an interface to create a new Windows user as the Oracle Home User.</p>
<p>The services created are not allowed to interact with the Windows desktop. ORADIM, the Windows utility tool used to create the <code dir="ltr">OracleService</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code> - Oracle Database services, is used by Oracle Database Configuration Assistant to create those services on local and remote nodes. Oracle Database Configuration Assistant now accepts a user name and password to run the service, and also changes the ownership of the files it creates (for example, the password file) so that it can be modified by the Oracle Home User.</p>
<p>Oracle Database Configuration Assistant enables you to:</p>
<ul>
<li>
<p>Create a database</p>
</li>
<li>
<p>Configure database options in a database</p>
</li>
<li>
<p>Delete a database</p>
</li>
<li>
<p>Manage templates</p>
</li>
</ul>
<p>An <a href="glossary.htm#i432288"><span class="xrefglossterm">initialization parameter file</span></a> is an ASCII text file containing parameters. Use this file to create and modify a database using command-line tools. When you create a database using Oracle Database Configuration Assistant, a server parameter file (SPFILE) is created from the initialization parameter file, and the initialization parameter file is renamed. Oracle does not recognize the renamed file as an initialization parameter file, and it is not used after the instance is started.</p>
<p>If you want to modify an instance created with Oracle Database Configuration Assistant after it starts, you must use <code dir="ltr">ALTER SYSTEM</code> statements. You cannot change the server parameter file itself, because it is a binary file that cannot be browsed or edited using a text editor. The location of the newly-created server parameter file is <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database</code>. The server parameter file name is <code dir="ltr">spfile</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.ora</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN00202" href="../ADMIN/create.htm#ADMIN00202"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></div>
</div>
<!-- class="sect1" -->
<a id="i1005959"></a>
<div id="NTQRF133" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref169"></a>Overview of Database Creation Tasks on Windows Using Command-Line Tools</h2>
<p>This section describes how to create a new database manually. As part of its database software files, Oracle Database provides a sample initialization parameter file, which can be edited to suit your needs. You can choose to create database creation scripts using Oracle Database Configuration Assistant.</p>
<p>Database creations are of three types:</p>
<ul>
<li>
<p>Copy an existing database and delete the old database.</p>
</li>
<li>
<p>Copy an existing database and keep the old database.</p>
</li>
<li>
<p>Create a new database when no database exists on your system.</p>
</li>
</ul>
<p class="subhead2"><a id="NTQRF474"></a>Manual Database Creation Tasks</p>
<p>Use <a href="#g1015865">Table 4-1</a> to understand the manual tasks involved in creating a new database for each of these database creation categories. Each step is explained in detail in the following subsections.</p>
<div id="NTQRF134" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref170"></a><a id="g1015865"></a>Table 4-1 Manual Database Creation Tasks</p>
<table class="cellalignment5021" title="Manual Database Creation Tasks" summary="Rows are tasks. For each task, the first column describes the task, and the other three columns indicate whether the task is necessary or not for different database creation situations." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t4">Task</th>
<th class="cellalignment5020" id="r1c2-t4">Copy existing database and delete old database</th>
<th class="cellalignment5020" id="r1c3-t4">Copy existing database and keep old database</th>
<th class="cellalignment5020" id="r1c4-t4">Create new database when no database exists on system</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t4" headers="r1c1-t4">
<p><a href="#i1006121">About Exporting an Existing Database</a></p>
</td>
<td class="cellalignment5016" headers="r2c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r2c1-t4 r1c3-t4">
<p><a href="#BABIEJEG">Note 1</a></p>
</td>
<td class="cellalignment5016" headers="r2c1-t4 r1c4-t4">
<p>Not applicable</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t4" headers="r1c1-t4">
<p><a href="#i1006157">Deleting Database Files</a></p>
</td>
<td class="cellalignment5016" headers="r3c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r3c1-t4 r1c3-t4">
<p>No</p>
</td>
<td class="cellalignment5016" headers="r3c1-t4 r1c4-t4">
<p>Not applicable</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t4" headers="r1c1-t4">
<p><a href="#i1015399">Modifying the Initialization Parameter File</a></p>
</td>
<td class="cellalignment5016" headers="r4c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r4c1-t4 r1c3-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r4c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r5c1-t4" headers="r1c1-t4">
<p><a href="#BABDIJIC">Starting an Oracle Database Instance</a></p>
</td>
<td class="cellalignment5016" headers="r5c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r5c1-t4 r1c3-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r5c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r6c1-t4" headers="r1c1-t4">
<p><a href="#i1006274">About Creating and Starting an Oracle Database Service</a></p>
</td>
<td class="cellalignment5016" headers="r6c1-t4 r1c2-t4">
<p>No</p>
</td>
<td class="cellalignment5016" headers="r6c1-t4 r1c3-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r6c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r7c1-t4" headers="r1c1-t4">
<p><a href="#i1006304">Putting the CREATE DATABASE Statement in a Script</a></p>
</td>
<td class="cellalignment5016" headers="r7c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r7c1-t4 r1c3-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r7c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r8c1-t4" headers="r1c1-t4">
<p><a href="#i1006335">Running the CREATE DATABASE Script</a></p>
</td>
<td class="cellalignment5016" headers="r8c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r8c1-t4 r1c3-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r8c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r9c1-t4" headers="r1c1-t4">
<p><a href="#i1006378">About Importing a Database</a></p>
</td>
<td class="cellalignment5016" headers="r9c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r9c1-t4 r1c3-t4">
<p><a href="#BABGGFDG">Note 2</a></p>
</td>
<td class="cellalignment5016" headers="r9c1-t4 r1c4-t4">
<p>Not applicable</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r10c1-t4" headers="r1c1-t4">
<p><a href="#i1014850">Updating ORACLE_SID in the Registry</a></p>
</td>
<td class="cellalignment5016" headers="r10c1-t4 r1c2-t4">
<p>No</p>
</td>
<td class="cellalignment5016" headers="r10c1-t4 r1c3-t4">
<p>Only if you change the default <code dir="ltr"><span class="codeinlineitalic">SID</span></code></p>
</td>
<td class="cellalignment5016" headers="r10c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r11c1-t4" headers="r1c1-t4">
<p><a href="#i1006473">Backing Up the New Database</a></p>
</td>
<td class="cellalignment5016" headers="r11c1-t4 r1c2-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r11c1-t4 r1c3-t4">
<p>Yes</p>
</td>
<td class="cellalignment5016" headers="r11c1-t4 r1c4-t4">
<p>Yes</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<p class="subhead2"><a id="BABIEJEG"></a><a id="NTQRF135"></a>Note 1</p>
<p>Yes if you copy data from the existing database to the new database; otherwise, no.</p>
<p class="subhead2"><a id="BABGGFDG"></a><a id="NTQRF136"></a>Note 2</p>
<p>Yes if you import tables and other objects exported from the existing database; otherwise, no.</p>
<p>An example in the following sections demonstrates how to create a database. In this example, the existing database is the <a href="glossary.htm#i432525"><span class="xrefglossterm">starter database</span></a> with a <code dir="ltr"><span class="codeinlineitalic">SID</span></code> of <code dir="ltr">orcl</code> located in directory <code dir="ltr">C:\app\</code><code dir="ltr"><span class="codeinlineitalic">username</span></code><code dir="ltr">\oradata\orcl.</code> Copy <code dir="ltr">orcl</code> to a new database with a database name and <code dir="ltr">SID</code> of <code dir="ltr">prod</code> located in directory <code dir="ltr">C:\app\</code><code dir="ltr"><span class="codeinlineitalic">username</span></code><code dir="ltr">\oradata\prod.</code> Then, delete the starter database <code dir="ltr">orcl</code>.</p>
<a id="i1006121"></a>
<div id="NTQRF138" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref171"></a><a id="sthref172"></a>About Exporting an Existing Database</h3>
<p>You are required to export an existing database only if you intend to copy its contents to a new database. If you are working with data from an earlier Oracle release, then you can use Export for this task. If you are using Oracle Database 10<span class="italic">g</span> Release 1 (10.1) or later data, then Oracle recommends that you use Data Pump Export because it supports new Oracle Database 10<span class="italic">g</span> Release 1 (10.1) or later features, such as floating points.</p>
<p>Although you can start Data Pump Export or Export in either parameter mode or interactive mode, Oracle recommends parameter mode. Interactive mode provides less functionality than parameter mode and exists for backward compatibility only.</p>
<p>The syntax for Data Pump Export parameter mode is:</p>
<pre dir="ltr"><a id="sthref173"></a><a id="sthref174"></a>C:\&gt; expdp SYSTEM DUMPFILE=myexp.dmp FULL=y LOGFILE=myexp.log
Password: <span class="italic">password</span>
</pre>
<p>The syntax for Data Pump Export interactive mode is:</p>
<pre dir="ltr"><a id="sthref175"></a>C:\&gt; expdp SYSTEM<span class="italic"> </span>
Password: <span class="italic">password</span>
</pre>
<p>Enter only the command <code dir="ltr">expdp</code> <code dir="ltr">SYSTEM</code> to begin an interactive session and let Data Pump Export prompt you for information it needs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you use parameter mode, then Data Pump Export considers file names and directory names to be invalid if they contain one or more blank spaces. The workaround is to enclose the full path in the <code dir="ltr">DUMPFILE=</code> parameter in triple quotation marks. For example:
<p><code dir="ltr">DUMPFILE=&#34;&#34;&#34;C:\program files\export.dmp&#34;&#34;&#34;</code></p>
<p>If Data Pump Export is used in interactive mode, then the file name or directory name can contain a space without quotation marks.</p>
</div>
<p>The syntax for Export parameter mode is:</p>
<pre dir="ltr"><a id="sthref176"></a><a id="sthref177"></a>C:\&gt; exp SYSTEM FILE=myexp.dmp FULL=y LOG=myexp.log
Password: <span class="italic">password</span>
</pre>
<p>The syntax for Export interactive mode is:</p>
<pre dir="ltr">C:\&gt; exp SYSTEM
Password: <span class="italic">password</span>
</pre>
<p>Enter only the command <code dir="ltr">exp</code> <code dir="ltr">SYSTEM</code> to begin an interactive session and let Export prompt you for information it needs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you use parameter mode, then Export considers file names and directory names to be invalid if they contain one or more blank spaces. The workaround is to enclose the full path in the <code dir="ltr">FILE=</code> parameter in triple quotation marks. For example:
<p><code dir="ltr">FILE=&#34;&#34;&#34;C:\program files\export.dmp&#34;&#34;&#34;</code></p>
<p>If Export is used in interactive mode, then the file name or directory name can contain a space without quotation marks.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL200" href="../SUTIL/GUID-5F7380CE-A619-4042-8D13-1F7DDE429991.htm#SUTIL200"><span class="italic">Oracle Database Utilities</span></a></div>
<div id="NTQRF475" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref178"></a>
<h4 class="sect3">Exporting All Data from an Existing Database</h4>
<p>To export all data from an existing database to a new database:</p>
<ol>
<li>
<p>Set <code dir="ltr">ORACLE_SID</code> to the database service of the database whose contents you intend to export. For example, if the database you intend to export is the starter database <code dir="ltr">orcl</code>, then enter the following at the command prompt. Note that there are no spaces around the equal sign (<code dir="ltr">=</code>) character.</p>
<pre dir="ltr">C:\&gt; set ORACLE_SID=orcl
</pre></li>
<li>
<p>If the existing database is Oracle Database 10<span class="italic">g</span> Release 1 (10.1) or later, then start Data Pump Export from the command prompt:</p>
<pre dir="ltr">C:\&gt; expdp SYSTEM DUMPFILE=myexp.dmp FULL=y LOG=myexp.log
Password: <span class="italic">password</span>
</pre>
<p>You now have a full database export of the starter database <code dir="ltr">orcl</code> in the file <code dir="ltr">myexp.dmp</code>. All messages from Data Pump Export are logged in file <code dir="ltr">myexp.log</code>.</p>
</li>
<li>
<p>If the existing database is earlier than Oracle Database 10<span class="italic">g</span> Release 1 (10.1), then start Export from the command prompt:</p>
<pre dir="ltr">C:\&gt; exp SYSTEM FILE=myexp.dmp FULL=y LOG=myexp.log
Password: <span class="italic">password</span>
</pre>
<p>You now have a full database export of the starter database <code dir="ltr">orcl</code> in the file <code dir="ltr">myexp.dmp</code>. All messages from Export are logged in the file <code dir="ltr">myexp.log</code>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1006157"></a>
<div id="NTQRF139" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref179"></a>Deleting<a id="sthref180"></a> Database Files</h3>
<p>Deleting database files is required only when you copy an existing database to a new database to replace the old database. In the following example, you delete the database files of the starter database <code dir="ltr">orcl</code>.</p>
<p>To delete database files:</p>
<ol>
<li>
<p>Shut down starter database <code dir="ltr">orcl</code> at the command prompt:</p>
<pre dir="ltr">C:\&gt; oradim -SHUTDOWN -SID orcl -SHUTTYPE inst -SHUTMODE immediate
</pre></li>
<li>
<p>Delete the following files from the directory <code dir="ltr">C:\app\</code><code dir="ltr"><span class="codeinlineitalic">username</span></code><code dir="ltr">\oradata\orcl:</code></p>
<div class="inftblinformal">
<table class="cellalignment5021" title="Database Files To Be Deleted" summary="List of sixteen database files to be deleted." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t8">File Name</th>
<th class="cellalignment5020" id="r1c2-t8">File Name</th>
<th class="cellalignment5020" id="r1c3-t8">File Name</th>
<th class="cellalignment5020" id="r1c4-t8">File Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t8" headers="r1c1-t8"><code dir="ltr">control01.ctl</code></td>
<td class="cellalignment5016" headers="r2c1-t8 r1c2-t8"><code dir="ltr">drsys01.dbf</code></td>
<td class="cellalignment5016" headers="r2c1-t8 r1c3-t8"><code dir="ltr">temp01.dbf</code></td>
<td class="cellalignment5016" headers="r2c1-t8 r1c4-t8"><code dir="ltr">xdb01.dbf</code></td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t8" headers="r1c1-t8"><code dir="ltr">control02.ctl</code></td>
<td class="cellalignment5016" headers="r3c1-t8 r1c2-t8"><code dir="ltr">cwmlite01.dbf</code></td>
<td class="cellalignment5016" headers="r3c1-t8 r1c3-t8"><code dir="ltr">tools01.dbf</code></td>
<td class="cellalignment5016" headers="r3c1-t8 r1c4-t8"><code dir="ltr">redo01.log</code></td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t8" headers="r1c1-t8"><code dir="ltr">control03.ctl</code></td>
<td class="cellalignment5016" headers="r4c1-t8 r1c2-t8"><code dir="ltr">example01.dbf</code></td>
<td class="cellalignment5016" headers="r4c1-t8 r1c3-t8"><code dir="ltr">undotbs01.dbf</code></td>
<td class="cellalignment5016" headers="r4c1-t8 r1c4-t8"><code dir="ltr">redo02.log</code></td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r5c1-t8" headers="r1c1-t8"><code dir="ltr">index01.dbf</code></td>
<td class="cellalignment5016" headers="r5c1-t8 r1c2-t8"><code dir="ltr">system01.dbf</code></td>
<td class="cellalignment5016" headers="r5c1-t8 r1c3-t8"><code dir="ltr">user01.dbf</code></td>
<td class="cellalignment5016" headers="r5c1-t8 r1c4-t8"><code dir="ltr">redo03.log</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1015399"></a>
<div id="NTQRF140" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Modifying the Initialization Parameter File</h3>
<p>To use the starter database <code dir="ltr">orcl</code> as the basis for your new database:</p>
<ol>
<li>
<p>Copy <code dir="ltr"><span class="codeinlineitalic">ORACLE_BASE</span></code><code dir="ltr">\admin\orcl\pfile\init.ora</code>.</p>
</li>
<li>
<p>Place the copy in <code dir="ltr"><span class="codeinlineitalic">ORACLE_BASE</span></code><code dir="ltr">\admin\prod\pfile\init.ora</code>.</p>
</li>
<li>
<p>Modify the file by performing the following tasks:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle9<span class="italic">i</span> Release 2 (9.2), nesting of quotation marks using the backslash (\) escape character is no longer supported. This might affect how Oracle Database interprets parameter values in your initialization parameter file. For example, if you specified <code dir="ltr">CONTROL_FILES = &#34;ctlfile\&#39;1.ora&#34;</code> in releases before release 9.2, the file name would be interpreted as <code dir="ltr">ctlfile&#39;1.ora</code>. Starting with release 9.2, the file name would be interpreted as <code dir="ltr">ctlfile\&#39;1.ora</code>.
<p>Oracle highly recommends modifying your parameter files to remove such references. See <a class="olink REFRN001" href="../REFRN/GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9.htm#REFRN001"><span class="italic">Oracle Database Reference</span></a> for other methods of nesting quotation marks in initialization parameter values.</p>
</div>
<ol>
<li>
<p>If you do not have an existing database on your system, then you cannot copy an existing initialization parameter file to use as the basis for your new initialization parameter file. However, you can use the sample initialization parameter file <code dir="ltr">initsmpl.ora</code> provided in:</p>
<pre dir="ltr"><span class="italic">ORACLE_HOME</span>\admin\sample\pfile
</pre>
<p>This is the basis for the initialization parameter file for the database <code dir="ltr">prod</code>.</p>
</li>
<li>
<p>If you use the <code dir="ltr">initsmpl.ora</code> file as the basis for the initialization parameter file, then the following parameters must be set to the indicated values, otherwise you cannot start database <code dir="ltr">prod</code>:</p>
<p><code dir="ltr">DB_NAME=prod.domain</code></p>
<p>The parameter <code dir="ltr">DB_NAME</code> indicates the database name and must match the name used in the <code dir="ltr">CREATE DATABASE</code> statement in <a href="#i1006304">&#34;Putting the CREATE DATABASE Statement in a Script&#34;</a>. Give a unique database name to each database. You can use eight characters for a database name. The name is not required to match the <code dir="ltr"><span class="codeinlineitalic">SID</span></code> of the database service.</p>
<p><code dir="ltr">INSTANCE_NAME=prod.domain</code></p>
<p><code dir="ltr">SERVICE_NAMES=prod.domain</code></p>
<p><code dir="ltr">CONTROL_FILES = (</code> <code dir="ltr">&#34;C:\app\</code><code dir="ltr"><span class="codeinlineitalic">username</span></code><code dir="ltr">\oradata\prod\control01.ctl&#34;,</code> <code dir="ltr">&#34;C:\app\</code><code dir="ltr"><span class="codeinlineitalic">username</span></code><code dir="ltr">\oradata\prod\control02.ctl&#34;,</code> <code dir="ltr">&#34;C:\app\</code><code dir="ltr"><span class="codeinlineitalic">username</span></code><code dir="ltr">\oradata\prod\control03.ctl&#34;)</code></p>
<p>The parameter <code dir="ltr">CONTROL_FILES</code> lists database control files. You do not have control files on your file system at this point, because control files are created when you run the <code dir="ltr">CREATE DATABASE</code> statement. Ensure that you specify the complete path and file name, including drive letter.</p>
<p><code dir="ltr">DB_FILES=100</code></p>
<p>Modifying the initialization parameter <code dir="ltr">DB_FILES</code> is not required, but it is recommended to optimize performance. Set this parameter to the same number as the value of the <code dir="ltr"><a id="sthref181"></a>MAXDATAFILES</code> option of the <code dir="ltr">CREATE DATABASE</code> statement. The value of <code dir="ltr">100</code> is used for this example.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN001" href="../REFRN/GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9.htm#REFRN001"><span class="italic">Oracle Database Reference</span></a></div>
<p>The <code dir="ltr">DIAGNOSTIC_DEST</code> initialization parameter sets the location of the Automatic Diagnostic Repository (ADR), which is a directory structure stored outside of the database. The ADR is used in problem diagnostics.</p>
<p>Use <code dir="ltr">DIAGNOSTIC_DEST =</code> <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME\log</span></code> if the environment variable <code dir="ltr">ORACLE_BASE</code> is not set.</p>
<p>Use <code dir="ltr">DIAGNOSTIC_DEST =</code> <code dir="ltr"><span class="codeinlineitalic">ORACLE_BASE</span></code> variable if the environment variable <code dir="ltr">ORACLE_BASE</code> is set.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NTDBI7450" href="../NTDBI/ofa.htm#NTDBI7450"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a> for information about ADR</div>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006274"></a>
<div id="NTQRF141" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref182"></a><a id="sthref183"></a>About Creating and Starting an Oracle Database Service</h3>
<p>You are required to create and start an Oracle Database service only if you do one of the following:</p>
<ul>
<li>
<p>Copy an existing database to a new database and keep the old database</p>
</li>
<li>
<p>Create a new database when you have no other database to copy</p>
</li>
</ul>
<p>Before you create the database, first create a Windows service to run the database. This service is the Oracle Database <a href="glossary.htm#i432454"><span class="xrefglossterm">process</span></a>, <code dir="ltr">oracle.exe</code>, installed in the form of a Windows service.</p>
<p>Use ORADIM to create the service. See <a href="#i1006533">&#34;About Administering an Oracle Database Instance Using ORADIM&#34;</a> for information about how to use ORADIM.</p>
<div id="NTQRF476" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref184"></a>
<h4 class="sect3">Creating and Starting an Oracle Database Service</h4>
<p>To create and start an Oracle Database service:</p>
<ol>
<li>
<p>Run ORADIM from the command prompt:</p>
<pre dir="ltr">C:\&gt; oradim -NEW -SID prod -STARTMODE manual
-PFILE &#34;C:\app\username\admin\prod\pfile\init.ora&#34;
</pre>
<p>Note that the previously created initialization parameter file is specified, with complete path, including drive name. You can check if the service is started in the Services window of the Control Panel. Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1), ORADIM automatically creates Oracle Database services under the Oracle Home User account. If the Oracle Home User account is a Windows Local User Account or a Windows Domain User Account, then ORADIM prompts for its password.</p>
</li>
<li>
<p>Set <code dir="ltr">ORACLE_SID</code> to equal <code dir="ltr">prod</code>. Note that there are no spaces around the equal sign (=) character:</p>
<pre dir="ltr">C:\&gt; set ORACLE_SID=prod
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div id="NTQRF668" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref185"></a>
<h4 class="sect3"><a id="sthref186"></a><a id="sthref187"></a>Creating Oracle Wallets in a File System for Oracle Database Services</h4>
<p>When an Oracle wallet is created in the file system, only the user creating the wallet is granted access to that wallet by wallet creation tools. Therefore, Oracle Database services (running as the Windows User Account) might not be able to access the wallet unless you explicitly grant access to the wallet using Windows tools.</p>
<p>See section <a href="config.htm#BHCEEFCH">&#34;About Setting File System ACLs Manually&#34;</a> for more information.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABDIJIC"></a>
<div id="NTQRF142" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Starting an Oracle Database Instance</h3>
<p><a id="sthref188"></a>Start an instance without mounting a database.</p>
<pre dir="ltr">SQL&gt; STARTUP NOMOUNT
</pre>
<p>You are not required to specify the <code dir="ltr">PFILE</code> clause in this example, because the initialization parameter file is stored in the default location. At this point, there is no database. Only the System Global Area (SGA) is created and background processes are started in preparation for the creation of a new database.</p>
</div>
<!-- class="sect2" -->
<a id="i1006304"></a>
<div id="NTQRF143" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref189"></a>Putting the CREATE DATABASE Statement in a Script</h3>
<p>The <code dir="ltr">CREATE DATABASE</code> statement is a SQL statement that creates the database. A script containing this statement can be used anytime you create a database.</p>
<p>The <code dir="ltr">CREATE DATABASE</code> statement might have the following parameters:</p>
<ul>
<li>
<p><code dir="ltr">MAXDATAFILES</code> - default value: 32, maximum value: 65534</p>
</li>
<li>
<p><code dir="ltr">MAXLOGFILES</code> - default value: 32, maximum value: 255</p>
</li>
</ul>
<p>When you run a <code dir="ltr">CREATE DATABASE</code> statement, Oracle Database performs several operations depending upon clauses that you specified in the <code dir="ltr">CREATE DATABASE</code> statement or initialization parameters that you have set.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref190"></a>Oracle Managed Files is a feature that works with the <code dir="ltr">CREATE DATABASE</code> statement to simplify administration of Oracle Database. Oracle Managed Files eliminates the requirement to directly manage operating system files comprising an Oracle Database server, because you specify operations in terms of database objects rather than file names. For more information about using Oracle Managed Files, see <a class="olink ADMIN003" href="../ADMIN/omf.htm#ADMIN003"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>.</div>
<p>To create the database <code dir="ltr">prod</code>, copy and save the following statement in a file named <code dir="ltr"><span class="codeinlineitalic">script_name</span></code><code dir="ltr">.sql</code>:</p>
<pre dir="ltr">CREATE DATABASE prod
USER SYS IDENTIFIED BY <span class="italic">sys_password</span>
USER SYSTEM IDENTIFIED BY <span class="italic">system_password</span>
MAXLOGFILES 5
MAXDATAFILES 100
DATAFILE &#39;C:\app\<span class="codeinlineitalic">username</span>\oradata\prod\system01.dbf&#39; SIZE 325M REUSE
AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED
UNDO TABLESPACE &#34;UNDOTBS&#34; DATAFILE &#39;app\<span class="codeinlineitalic">username</span>\oradata\prod\undotbs01.dbf&#39;
SIZE 200M REUSE AUTOEXTEND ON NEXT 5120K MAXSIZE UNLIMITED
CHARACTER SET WE8MSWIN1252
logfile &#39;C:\app\<span class="italic">username</span>\oradata\prod\redo01.log&#39; size 100M reuse,
        &#39;C:\app\<span class="italic">username</span>\oradata\prod\redo02.log&#39; size 100M reuse,
        &#39;C:\app\<span class="italic">username</span>\oradata\prod\redo03.log&#39; size 100M reuse
EXTENT MANAGEMENT LOCAL;
</pre></div>
<!-- class="sect2" -->
<a id="i1006335"></a>
<div id="NTQRF144" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Running the CREATE DATABASE Script</h3>
<p>To use the SQL script to create a database:</p>
<ol>
<li>
<p>Verify that the service is started in the Control Panel. In this example, the service name is <code dir="ltr">OracleServicePROD</code>, and its status column must display <code dir="ltr">Started</code>. If not, then select the service name and select <span class="bold">Start</span>.</p>
<p>You can also check the status of the service by entering the following at the command prompt:</p>
<pre dir="ltr">C:\&gt; <a id="sthref191"></a>net START
</pre>
<p>A list of all Windows services currently running on the system appears. If <code dir="ltr">OracleServicePROD</code> is missing from the list, then enter:</p>
<pre dir="ltr">C:\&gt; net START OracleServicePROD
</pre></li>
<li>
<p>Make <code dir="ltr">PROD</code> the current <code dir="ltr"><span class="codeinlineitalic">SID</span></code>:</p>
<pre dir="ltr">C:\&gt; set ORACLE_SID=PROD
</pre></li>
<li>
<p>Add <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\bin</code> to your <code dir="ltr">PATH</code> environment variable:</p>
<pre dir="ltr">set PATH=<span class="italic">ORACLE_BASE</span>\<span class="italic">ORACLE_HOME</span>\bin;%PATH%
</pre></li>
<li id="i1006349">
<p>Start SQL*Plus from the command prompt, and connect to the database as <a href="glossary.htm#i432528"><span class="xrefglossterm">SYSDBA</span></a>:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
SQL&gt; CONNECT / AS SYSDBA 
</pre>
<p>The message <code dir="ltr">connected</code> appears.</p>
</li>
<li>
<p>Turn on spooling to save messages:</p>
<pre dir="ltr">SQL&gt; SPOOL <span class="italic">script_name</span>.log
</pre></li>
<li>
<p>Run the script <code dir="ltr"><span class="codeinlineitalic">script_name</span></code><code dir="ltr">.sql</code> that you created in <a href="#i1006304">&#34;Putting the CREATE DATABASE Statement in a Script&#34;</a>:</p>
<pre dir="ltr">SQL&gt; C:\app\username\product\12.1.0\dbhome_1\rdbms\admin\<span class="italic">script_name</span>.sql;
</pre>
<p>If the database is successfully created, then the instance is started and the following message appears numerous times: <code dir="ltr">Statement</code> <code dir="ltr">processed</code></p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006378"></a>
<div id="NTQRF145" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref192"></a>About Importing<a id="sthref193"></a> a Database</h3>
<p>You can use Data Pump Import (for Oracle Database 10<span class="italic">g</span> Release 1 (10.1) or later data) or Import (for earlier data) to import the full export created in <a href="#i1006121">&#34;About Exporting an Existing Database&#34;</a> into the new database. Although you can start Data Pump Import or Import using either parameter mode or interactive mode, Oracle recommends parameter mode because it provides more functionality. Interactive mode exists solely for backward compatibility.</p>
<p>The syntax for Data Pump Import parameter mode is:</p>
<pre dir="ltr"><a id="sthref194"></a><a id="sthref195"></a>C:\&gt; impdp SYSTEM DUMPFILE=myexp.dmp FULL=y LOG=myexp.log
Password: <span class="italic">password</span>
</pre>
<p>The syntax for Data Pump Import interactive mode is:</p>
<pre dir="ltr">C:\&gt; impdp SYSTEM 
Password: <span class="italic">password</span>
</pre>
<p>Enter only <code dir="ltr">impdp</code> <code dir="ltr">SYSTEM</code> to begin an interactive session and let Data Pump Import prompt you for information it needs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>If you use parameter mode, then Data Pump Import considers file names and directory names to be invalid if they contain one or more blank spaces. The workaround is to enclose the full path in the <code dir="ltr">DUMPFILE=</code> parameter in triple quotation marks. For example:</p>
<p><code dir="ltr">DUMPFILE=&#34;&#34;&#34;C:\program files\export.dmp&#34;&#34;&#34;</code></p>
<p>If you use Data Pump Import in interactive mode, then the file name or directory name can contain a space without quotation marks.</p>
</li>
<li>
<p>If the original database from which the export file was generated contains a <a href="glossary.htm#i432555"><span class="xrefglossterm">tablespace</span></a> that is not in the new database, then Import tries to create that tablespace with associated data files.</p>
<p>The easy solution is to ensure that both databases contain the same tablespaces. Data files are not required to be identical. Only tablespace names are important.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL300" href="../SUTIL/GUID-D11E340E-14C6-43B8-AB09-6335F0C1F71B.htm#SUTIL300"><span class="italic">Oracle Database Utilities</span></a></div>
</div>
<!-- class="sect2" -->
<a id="i1014850"></a>
<div id="NTQRF146" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref196"></a>Updating<a id="sthref197"></a><a id="sthref198"></a> ORACLE_SID in<a id="sthref199"></a> the Registry</h3>
<p>If this is the first database on the system or if you intend to make the new database the default database, then you must make a change in the <a href="glossary.htm#i432474"><span class="xrefglossterm">registry</span></a> as follows:</p>
<ol>
<li>
<p>Start Registry Editor at the command prompt:</p>
<pre dir="ltr">C:\&gt; regedit
</pre>
<p>The Registry Editor window appears.</p>
</li>
<li>
<p>Select the subkey <code dir="ltr">\HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\HOME0</code> for the first Oracle home on your computer. For subsequent installations to different Oracle homes on the same computer, the path is <code dir="ltr">\HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\HOME</code><code dir="ltr"><span class="codeinlineitalic">ID</span></code> where ID is the unique number identifying the Oracle home.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="registry.htm#g1015622">Chapter 16, &#34;Configuration Parameters and the Registry&#34;</a> for more information about subkey locations for <a href="glossary.htm#i432341"><span class="xrefglossterm">multiple Oracle homes</span></a></div>
</li>
<li>
<p>Locate the parameter <code dir="ltr">ORACLE_SID</code> on the right side of the Registry Editor window.</p>
</li>
<li>
<p>Double-click the parameter name and change the data to the new <code dir="ltr"><span class="codeinlineitalic">SID</span></code>, which is <code dir="ltr">prod</code> in this example.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="NTQRF667" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref200"></a>
<h3 class="sect2">Creating the ORACLE_SID Parameter</h3>
<p>If you do not yet have the parameter <code dir="ltr">ORACLE_SID</code>, because this is the first database on your system, then you must create it.</p>
<p><a id="sthref201"></a>To create the parameter <code dir="ltr">ORACLE_SID</code>:</p>
<ol>
<li>
<p>Select <span class="bold">New</span> from the <span class="bold">Edit</span> menu.</p>
</li>
<li>
<p>Select <span class="bold">Expandable String Value</span> from the menu list.</p>
</li>
<li>
<p>A <span class="bold">New Value #1</span> expandable string value name is created on the right pane of the Registry Editor window of data type <code dir="ltr">REG_EXPAND_SZ</code>.</p>
</li>
<li>
<p>Right-click the parameter, select <span class="bold">Rename</span> to rename it to <code dir="ltr">ORACLE_SID</code> and press <span class="bold">Enter</span>.</p>
</li>
<li>
<p>Double-click the <code dir="ltr">ORACLE_SID</code> entry to change the value data to the new <code dir="ltr"><span class="codeinlineitalic">SID</span></code>.</p>
<p>An Edit String dialog box appears:</p>
<img width="382" height="160" src="img/stringre.gif" alt="Description of stringre.gif follows"/><br/>
<a id="sthref202" href="img_text/stringre.htm">Description of the illustration &#39;&#39;stringre.gif&#39;&#39;</a><br/>
<br/></li>
<li>
<p>Enter <span class="bold">PROD</span> in the <span class="bold">Value data</span> field.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>Registry Editor adds parameter <code dir="ltr">ORACLE_SID</code>.</p>
</li>
<li>
<p>Select <span class="bold">Exit</span> from the <span class="bold">File</span> menu.</p>
<p>Registry Editor exits.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i1006473"></a>
<div id="NTQRF147" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref203"></a>Backing <a id="sthref204"></a>Up the New Database</h3>
<div class="infobox-note">
<p class="notep1">Caution:</p>
If anything goes wrong while operating the new database without a <a href="glossary.htm#i432192"><span class="xrefglossterm">backup</span></a>, then you must repeat the database creation procedure. Back up your database now to prevent loss of data.</div>
<p>To back up the new database:</p>
<ol>
<li>
<p>Shut down the database instance and stop the service:</p>
<pre dir="ltr">C:\&gt; oradim -SHUTDOWN -SID prod -SHUTTYPE srvc,inst -SHUTMODE immediate
</pre>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Although <code dir="ltr">ORADIM</code> returns the prompt immediately, you must wait for the database and the service to stop completely before continuing to Step 2. Wait until the Control Panel indicates service <code dir="ltr">OracleServicePROD</code> has stopped. If you do not do this, then the backup might be useless because it was taken while data was being written to data files.</div>
</li>
<li>
<p>Back up database files using the tool of your choice.</p>
<p>Database files consist of the initialization parameter file, control files, online redo log files, and data files.</p>
<p>When the backup is complete, you can start the database again, create users and objects, if necessary, make any other changes, and use the database.</p>
<p>Back up the database after making any significant changes, such as switching archiving mode or adding a tablespace or data file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CNCPT031" href="../CNCPT/cncptdba.htm#CNCPT031"><span class="italic">Oracle Database Concepts</span></a></p>
</li>
<li>
<p><a class="olink BRADV8001" href="../BRADV/rcmintro.htm#BRADV8001"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink ADMQS009" href="../ADMQS/GUID-C6EEB732-9548-4814-8558-8B903DD74759.htm#ADMQS009"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
</ul>
</div>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Do not store database files on a compressed drive. This can result in write errors and decreased performance.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006533"></a>
<div id="NTQRF05011" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About Administering an Oracle Database Instance Using ORADIM</h2>
<p><a id="sthref205"></a><a id="sthref206"></a>ORADIM is a command-line tool that is available with Oracle Database. You are required to use ORADIM only if you are manually creating, deleting, or modifying databases. Oracle Database Configuration Assistant is an easier tool to use for this purpose.</p>
<p><a id="sthref207"></a><a id="sthref208"></a><a id="sthref209"></a><a id="sthref210"></a>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1), ORADIM creates Oracle Database service, Oracle VSS Writer service, and Oracle Scheduler service to run under the Oracle Home User account. If this account is a Windows Local User Account or Windows Domain User Account, then ORADIM prompts for password for that account and accepts the same through <code dir="ltr">stdin</code>.</p>
<p>It is possible to specify both the Oracle Home User and its password using the <code dir="ltr">-RUNAS osusr[/ospass]</code> option to <code dir="ltr">oradim</code>. If the given <code dir="ltr">osusr</code> is different from the Oracle Home User, then the Oracle Home User is used instead of <code dir="ltr">osusr</code> along with the given <code dir="ltr">ospass</code>.</p>
<p>The following sections describe ORADIM commands and parameters. Note that each command is preceded by a dash (<code dir="ltr">-</code>). To get a list of ORADIM parameters, enter:</p>
<pre dir="ltr">oradim -? | -h | -help
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Specifying <code dir="ltr">oradim</code> without any options also returns a list of ORADIM parameters and descriptions.</div>
<p>When you use ORADIM, a log file called <code dir="ltr">oradim.log</code> opens in <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database</code>, or in the directory specified by registry parameter <code dir="ltr">ORA_CWD</code>. All operations, whether successful or failed, are logged in this file. You must check this file to verify success of an operation.</p>
<p>If you have installed an Oracle Database service on Windows, then when logging in as the SYSTEM user (LocalSystem), with startup mode set to Automatic, it is possible that the Oracle Database service starts but the database does not start automatically. The following error message is written to the file <code dir="ltr">ORADIM.LOG</code> in the directory <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database</code>:</p>
<pre dir="ltr">ORA-12640: Authentication adapter initialization failed 
</pre>
<p><a id="sthref211"></a><a id="sthref212"></a><a id="sthref213"></a>Oracle Enterprise Management Agent, Oracle Enterprise Manager Management Server, and Oracle Internet Directory might also fail, because they cannot connect to the database for the same reason. To work around this issue, perform the following tasks:</p>
<ol>
<li>
<p>Modify <code dir="ltr">SQLNET.ORA</code></p>
<p>You can modify <code dir="ltr">SQLNET.ORA</code>, be doing either of the following:</p>
<ul>
<li>
<p>Remove the line <code dir="ltr">sqlnet.authentication_services=(NTS</code>)</p>
</li>
<li>
<p>Change the line <code dir="ltr">sqlnet.authentication_services=(NONE)</code></p>
</li>
</ul>
</li>
<li>
<p>Start the database after the service starts.</p>
<p>You can start the database manually after the Oracle Database service has started, using SQL*Plus and connecting as <code dir="ltr">SYSDBA</code>.</p>
</li>
<li>
<p>Start the service as a specific user</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Your operating system documentation for instructions on starting services</div>
</li>
</ol>
<a id="CIAIABFH"></a>
<div id="NTQRF148" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating an Instance Using ORADIM</h3>
<p><a id="sthref214"></a>To use ORADIM to create an instance, enter:</p>
<pre dir="ltr">oradim [-NEW -SID <span class="italic">SID</span>] | -SRVC <span class="italic">service_name</span> | -ASMSID <span class="italic">SID</span> | -ASMSRVC <span class="italic">service_name</span> 
[-SYSPWD <span class="italic">password</span>][-MAXUSERS <span class="italic">number</span>][-STARTMODE auto | manual] [-SRVCSTART system | demand] 
[-PFILE <span class="italic">filename</span> | -SPFILE] [-SHUTMODE normal | immediate | abort] [-TIMEOUT 
<span class="italic">secs</span>] [-RUNAS <span class="italic">osusr[</span>/<span class="italic">ospass</span>]]
</pre>
<p>For this command, note the following:</p>
<ul>
<li>
<p><code dir="ltr">-NEW</code> indicates that you are creating a new instance. This is a mandatory parameter.</p>
</li>
<li>
<p><code dir="ltr">-SID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the instance to create.</p>
</li>
<li>
<p><code dir="ltr">-SRVC</code> <code dir="ltr"><span class="codeinlineitalic">service_name</span></code> is the name of the service to create (<code dir="ltr">OracleService</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code>).</p>
</li>
<li>
<p><code dir="ltr">-ASMSID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the Oracle Automatic Storage Management instance to create.</p>
</li>
<li>
<p><code dir="ltr">-ASMSRVC</code> <code dir="ltr"><span class="codeinlineitalic">service_name</span></code> is the name of the Oracle Automatic Storage Management service to create.</p>
</li>
<li>
<p><code dir="ltr">-SYSPWD</code> <code dir="ltr"><span class="codeinlineitalic">password</span></code> is the system password.</p>
</li>
<li>
<p><code dir="ltr">-MAXUSERS</code> <code dir="ltr"><span class="codeinlineitalic">number</span></code> is the number of users defined in the password file. The default is <code dir="ltr">5</code>.</p>
</li>
<li>
<p><code dir="ltr">-STARTMODE</code> <code dir="ltr">auto</code> | <code dir="ltr">manual</code> indicates whether to start the instance when the Oracle Database service is started. The default is <code dir="ltr">manual</code>.</p>
</li>
<li>
<p><code dir="ltr">-SRVCSTART system | demand</code> indicates whether to start the Oracle Database service upon computer restart. Default is <code dir="ltr">demand.</code> Here, <code dir="ltr">system</code> specifies that the service be configured to automatically start when the system boots or reboots. <code dir="ltr">Demand</code> specifies that the user has to explicitly start the service.</p>
</li>
<li>
<p><code dir="ltr">-PFILE</code> <code dir="ltr"><span class="codeinlineitalic">filename</span></code> is the initialization parameter file to be used with this instance. Ensure that you specify the complete path name of this file, including the drive letter.</p>
</li>
<li>
<p><code dir="ltr">-SPFILE</code> indicates that a server parameter file (SPFILE) be used during startup instead of a PFILE.</p>
</li>
<li>
<p><code dir="ltr">-SHUTMODE</code> specifies how to stop an instance. It requires an argument and the default is <code dir="ltr">immediate.</code> If <code dir="ltr">SHUTMODE</code> is omitted, then there is no attempt made to shutdown the instance when the service is shut down.</p>
</li>
<li>
<p><code dir="ltr">-TIMEOUT</code> <code dir="ltr"><span class="codeinlineitalic">secs</span></code> sets the maximum time to wait (in seconds) before the service for a particular <code dir="ltr"><span class="codeinlineitalic">SID</span></code> stops. The default is 90 seconds. It cannot be used without the <code dir="ltr">SHUTDOWN</code> argument.</p>
</li>
<li>
<p><code dir="ltr">-RUNAS osusr[/ospass</code>] (&#34;run as&#34;) makes it possible to specify both the Oracle Home User and its password. If the given <code dir="ltr">osusr</code> is different from the Oracle Home User, then the Oracle Home User is used instead of the <code dir="ltr">osusr</code> along with the given <code dir="ltr">ospass</code>.</p>
<p>Though the <code dir="ltr">ospass</code> can be specified on the command line, Oracle recommends accepting <code dir="ltr">ospass</code> through <code dir="ltr">stdin</code></p>
<p>Starting with Oracle Database 12c Release 1 (12.1), ORADIM creates Oracle Database service, Oracle VSS Writer service, and Oracle Scheduler service to run under the Oracle Home User account. If this account is a Windows Local User Account or Windows Domain User Account, then ORADIM prompts for the password for that account and accepts the same through <code dir="ltr">stdin</code>.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For simplicity in demonstrating this feature, this example does not perform the password management techniques that a deployed system typically uses. In a production environment, follow the Oracle Database password management guidelines, and disable any sample accounts.
<p>See <a class="olink DBSEG50053" href="../DBSEG/app_devs.htm#DBSEG50053"><span class="italic">Oracle Database Security Guide</span></a> for password management guidelines and other security recommendations.</p>
</div>
<p>To create an instance called <code dir="ltr">PROD</code>, for example, you can enter:</p>
<pre dir="ltr">C:\&gt; oradim -NEW -SID prod -STARTMODE auto -PFILE C:\app\username\admin\prod\pfile\init.ora
</pre></div>
<!-- class="sect2" -->
<div id="NTQRF149" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref215"></a>
<h3 class="sect2">Starting an Instance and Services Using ORADIM</h3>
<p><a id="sthref216"></a><a id="sthref217"></a>To use ORADIM to start an instance and services, enter:</p>
<pre dir="ltr">oradim -STARTUP -SID <span class="italic">SID</span> | -ASMSID <span class="italic">SID</span> [-SYSPWD <span class="italic">password</span>] [-STARTTYPE srvc | 
inst | srvc,inst] [-PFILE filename | -SPFILE]
</pre>
<p>For this command, note the following:</p>
<ul>
<li>
<p><code dir="ltr">-STARTUP</code> indicates that you are starting an instance that already exists. This is a mandatory parameter.</p>
</li>
<li>
<p><code dir="ltr">-SID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the instance to start.</p>
</li>
<li>
<p><code dir="ltr">-ASMSID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the Oracle Automatic Storage Management instance to start.</p>
</li>
<li>
<p><code dir="ltr">-STARTTYPE</code> <code dir="ltr">srvc</code>, <code dir="ltr">inst</code> indicates whether to start the service or the instance. One or both values can be specified. If it is not specified, then the registry is checked for the current setting.</p>
<p><code dir="ltr">-STARTTYPE srvc</code> is equivalent to running <code dir="ltr">net start oracleservice</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code> from the command line.</p>
<p><code dir="ltr">-STARTTYPE inst</code> is equivalent of running <code dir="ltr">startup</code> within SQL*Plus.</p>
</li>
<li>
<p><code dir="ltr">-PFILE</code> <code dir="ltr"><span class="codeinlineitalic">filename</span></code> is the initialization parameter file to be used with this instance. Ensure that you specify the complete path name of this file, including drive letter.</p>
</li>
<li>
<p><code dir="ltr">-SPFILE</code> indicates that a server parameter file (SPFILE) be used during startup instead of a PFILE.</p>
</li>
</ul>
<p>To start an instance called <code dir="ltr">puma</code>, for example, you can enter:</p>
<pre dir="ltr">C:\&gt; oradim -STARTUP -SID puma -STARTTYPE inst -PFILE C:\app\username\admin\prod\pfile\init.ora
</pre></div>
<!-- class="sect2" -->
<div id="NTQRF151" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref218"></a>
<h3 class="sect2">Stopping an Instance and Services Using ORADIM</h3>
<p>To use ORADIM to stop an instance, enter:</p>
<pre dir="ltr">oradim -SHUTDOWN -SID <span class="italic">SID</span> | -ASMSID <span class="italic">SID</span> [-SYSPWD password] 
[-SHUTTYPE srvc | inst | srvc,inst] [-SHUTMODE normal | immediate | abort]
</pre>
<p>For this command, note the following:</p>
<ul>
<li>
<p><code dir="ltr">-SHUTDOWN</code> indicates that you are stopping an instance. This is a mandatory parameter.</p>
</li>
<li>
<p><code dir="ltr">-SID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> specifies the name of the instance to stop.</p>
</li>
<li>
<p><code dir="ltr">-ASMSID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the Oracle Automatic Storage Management instance to stop.</p>
</li>
<li>
<p><code dir="ltr">-SHUTTYPE</code> <code dir="ltr">srvc</code>, <code dir="ltr">inst</code> indicates whether to stop the service or the instance. One or both values can be specified. If it is not specified, then the registry is checked for the current setting.</p>
</li>
<li>
<p><code dir="ltr">-SHUTMODE</code> specifies how to stop an instance. This is an optional parameter. If you do not specify how to stop an instance, then <code dir="ltr">immediate</code> is the default mode.</p>
</li>
</ul>
<p>To stop an instance called <code dir="ltr">puma</code>, for example, you can enter:</p>
<pre dir="ltr">C:\&gt; oradim -SHUTDOWN -SID puma -SHUTTYPE srvc,inst
</pre></div>
<!-- class="sect2" -->
<div id="NTQRF152" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref219"></a>
<h3 class="sect2"><a id="sthref220"></a><a id="sthref221"></a>Editing an Instance Using ORADIM</h3>
<p>You can edit an existing instance to change such values as instance name, startup mode, shutdown mode, and shutdown type. To use ORADIM to modify an instance, enter:</p>
<pre dir="ltr">oradim -EDIT -SID <span class="italic">SID</span> | -ASMSID <span class="italic">SID</span> [-SYSPWD <span class="italic">password</span>] [-STARTMODE auto | 
manual] [-SRVCSTART system | demand] [-PFILE <span class="italic">filename</span> | -SPFILE][SHUTMODE normal 
| immediate | abort] [SHUTTYPE srvc | inst | srvc,inst]
</pre>
<p>For this command, note the following:</p>
<ul>
<li>
<p><code dir="ltr">-EDIT</code> indicates that you are modifying an instance. This is a mandatory parameter.</p>
</li>
<li>
<p><code dir="ltr">-SID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> specifies the name of the instance to modify. This is a mandatory parameter.</p>
</li>
<li>
<p><code dir="ltr">-ASMSID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the Oracle Automatic Storage Management instance to modify.</p>
</li>
<li>
<p><code dir="ltr">-STARTMODE</code> indicates whether to start the instance when the Oracle Database service is started. The default is <code dir="ltr">manual</code>.</p>
</li>
<li>
<p><code dir="ltr">-SRVCSTART system | demand</code> indicates whether to start the Oracle Database service on computer restart. The default is <code dir="ltr">demand.</code></p>
</li>
<li>
<p><code dir="ltr">-PFILE</code> <code dir="ltr"><span class="codeinlineitalic">filename</span></code> specifies the initialization parameter file to be used with this instance. Ensure that you specify the complete path name of this file, including the drive letter.</p>
</li>
<li>
<p><code dir="ltr">-SPFILE</code> indicates that a server parameter file (SPFILE) be used during startup instead of a PFILE.</p>
</li>
<li>
<p><code dir="ltr">-SHUTMODE</code> specifies how to stop an instance. This is an optional parameter. If you do not specify how to stop an instance, then <code dir="ltr">immediate</code> is the default mode.</p>
</li>
<li>
<p><code dir="ltr">-SHUTTYPE</code> indicates whether to stop the service or the instance. One or both values can be specified. If it is not specified, then the registry is checked for the current setting.</p>
</li>
</ul>
<p>To specify a new initialization parameter file for the instance <code dir="ltr">prod</code>, for example, you can enter:</p>
<pre dir="ltr">C:\&gt; oradim -EDIT -SID prod -PFILE C:\app\username\product\11.2.0\admin\lynx\pfile\init.ora
</pre></div>
<!-- class="sect2" -->
<div id="NTQRF153" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref222"></a>
<h3 class="sect2">Deleting an Instance Using ORADIM</h3>
<p>To use ORADIM to delete an instance, enter:</p>
<pre dir="ltr">oradim -DELETE -SID <span class="italic">SID </span>| -ASMSID <span class="italic">SID</span> | -SRVC <span class="italic">service_name</span> | -ASMSRVC <span class="italic">service_name</span>
</pre>
<p>For this command, note the following:</p>
<ul>
<li>
<p><code dir="ltr">-DELETE</code> indicates that you are deleting an instance or service. This is a mandatory parameter.</p>
</li>
<li>
<p><code dir="ltr">-SID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> specifies the name of the <code dir="ltr"><span class="codeinlineitalic">SID</span></code> to delete.</p>
</li>
<li>
<p><code dir="ltr">-SRVC</code> <code dir="ltr"><span class="codeinlineitalic">service_name</span></code> specifies the name of the service to delete (<code dir="ltr">OracleService</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code>). The user should specify either <code dir="ltr"><span class="codeinlineitalic">SID</span></code> or <code dir="ltr"><span class="codeinlineitalic">SRVC</span></code>.</p>
</li>
<li>
<p><code dir="ltr">-ASMSID</code> <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is the name of the Oracle Automatic Storage Management instance to delete.</p>
</li>
<li>
<p><code dir="ltr">-ASMSRVC</code> <code dir="ltr"><span class="codeinlineitalic">service_name</span></code> is the name of the Oracle Automatic Storage Management service to delete.</p>
</li>
</ul>
<p>To delete an instance called <code dir="ltr">prod</code>, for example, you can enter:</p>
<pre dir="ltr">C:\&gt; oradim -DELETE -SID prod
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDCDAGE"></a>
<div id="NTQRF154" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Database Migration from a 32-Bit Windows Computer</h2>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#CHDDBAEE">Backing Up a 32-Bit Oracle Database</a></p>
</li>
<li>
<p><a href="#CIAEDAEG">Migration Considerations</a></p>
</li>
<li>
<p><a href="#CHDDCDEI">Migrating an Oracle Database 11<span class="italic">g</span> Release 2 (11.2) or Earlier Database</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink UPGRD" href="../UPGRD/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a></div>
<a id="CHDDBAEE"></a>
<div id="NTQRF155" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref223"></a>Backing Up a 32-Bit Oracle Database</h3>
<p>To back up a 32-bit Oracle home database:</p>
<ol>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG
</pre></li>
<li>
<p>Connect to the database instance as <code dir="ltr">SYSDBA</code>:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSDBA;
</pre></li>
<li>
<p>Create a <code dir="ltr">.trc</code> file to use as a template to re-create the control files on the 64-bit computer:</p>
<pre dir="ltr">SQL&gt; ALTER DATABASE BACKUP CONTROLFILE TO TRACE;
</pre></li>
<li>
<p>Shut down the database:</p>
<pre dir="ltr">SQL&gt; SHUTDOWN IMMEDIATE;
</pre></li>
<li>
<p>Perform a full offline backup of the database.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV" href="../BRADV/toc.htm"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" -->
<a id="CIAEDAEG"></a>
<div id="NTQRF676" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref224"></a>Migration Considerations</h3>
<p>While upgrading an ASM disk group from Oracle Database 11<span class="italic">g</span> to Oracle Database 12<span class="italic">c</span> Release 1 (12.1) on Windows platforms, all current files on the disk group are shown as being accessible to all users. Thus, a user with <code dir="ltr">SYSASM</code> privileges must modify the user ownership, group membership, and permissions of the current files accordingly, so that the files are owned by their respective database users only.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDCDEI"></a>
<div id="NTQRF156" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref225"></a>Migrating an Oracle Database 11<span class="italic">g</span> Release 2 (11.2) or Earlier Database</h3>
<p>To migrate Oracle Database 11<span class="italic">g</span> Release 2 (11.2) or earlier database for 32-bit Windows to Oracle Database 12<span class="italic">c</span> Release 1 (12.1) for 64-bit Windows, perform the following steps:</p>
<ol>
<li>
<p>Install Oracle Database 12<span class="italic">c</span> Release 1 (12.1) for 64-bit Windows.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NTDBI" href="../NTDBI/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a></div>
</li>
<li>
<p>Create the new Oracle Database 12<span class="italic">c</span> Release 1 (12.1) service at the command prompt:</p>
<pre dir="ltr">C:\&gt; ORADIM -NEW -SID <span class="italic">SID</span> [-INTPWD <span class="italic">PASSWORD</span> ] -MAXUSERS <span class="italic">USERS</span> 
-STARTMODE AUTO -PFILE <span class="italic">ORACLE_HOME</span>\DATABASE\INIT<span class="italic">SID</span>.ORA
</pre>
<p>The following table provides more information about the values you must supply.</p>
<div class="inftblinformal">
<table class="cellalignment5021" title="CREATE DATABASE Parameters" summary="Rows are parameters. The first column is the parameter name, and the second column is its description." dir="ltr">
<thead>
<tr class="cellalignment5010">
<th class="cellalignment5020" id="r1c1-t26">Parameter</th>
<th class="cellalignment5020" id="r1c2-t26">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r2c1-t26" headers="r1c1-t26"><code dir="ltr"><span class="codeinlineitalic">SID</span></code></td>
<td class="cellalignment5016" headers="r2c1-t26 r1c2-t26"><code dir="ltr"><span class="codeinlineitalic">SID</span></code> of the database you are migrating.</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r3c1-t26" headers="r1c1-t26"><code dir="ltr"><span class="codeinlineitalic">PASSWORD</span></code></td>
<td class="cellalignment5016" headers="r3c1-t26 r1c2-t26">Password for the new Oracle Database 12<span class="italic">c</span> Release 1 (12.1) for 64-bit Windows database. This is the password for the user connected with the <code dir="ltr">SYSDBA</code> privileges. The <code dir="ltr">-INTPWD</code> option is not required. If you do not specify it, then operating system authentication is used, and no password is required.</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r4c1-t26" headers="r1c1-t26"><code dir="ltr"><span class="codeinlineitalic">USERS</span></code></td>
<td class="cellalignment5016" headers="r4c1-t26 r1c2-t26">Maximum number of users who can be granted <code dir="ltr">SYSDBA</code> and <code dir="ltr">SYSOPER</code> privileges.</td>
</tr>
<tr class="cellalignment5010">
<td class="cellalignment5016" id="r5c1-t26" headers="r1c1-t26"><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code></td>
<td class="cellalignment5016" headers="r5c1-t26 r1c2-t26">Oracle home directory. Ensure that you specify the full path name with the <code dir="ltr">-PFILE</code> option, including the drive letter of the Oracle home directory.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
<li>
<p>Copy the 32-bit data files to the new 64-bit Oracle home.</p>
</li>
<li>
<p>Copy the 32-bit configuration files to the 64-bit Oracle home.</p>
<ol>
<li>
<p>If your 32-bit initialization parameter file has an <code dir="ltr">IFILE</code> (include file) entry, then copy the file specified by the <code dir="ltr">IFILE</code> entry to the 64-bit Oracle home and edit the <code dir="ltr">IFILE</code> entry in the initialization parameter file to point to its new location.</p>
</li>
<li>
<p>If you have a password file that resides in the 32-bit Oracle home, then copy the password file to the 64-bit Oracle home. The default 32-bit password file is located in <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database\pwd</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.ora</code>., where <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is your Oracle instance ID.</p>
</li>
</ol>
</li>
<li>
<p>If 12.1 Oracle home uses a Windows User Account as the Oracle Home User, then add this Oracle Home User to the list of users and grant file permissions or directory permissions for all the database files, <code dir="ltr">init.ora</code> files, oracle password files and so on.</p>
</li>
<li>
<p>Add the <code dir="ltr">_SYSTEM_TRIG_ENABLED = false</code> parameter to the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database\ORACLE_</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code> <code dir="ltr">\init.ora</code> file in the 64-bit Oracle home before changing the word size.</p>
</li>
<li>
<p>Remove this parameter from the initialization file after the word size change is complete.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink UPGRD" href="../UPGRD/toc.htm"><span class="italic">Oracle Database Upgrade Guide</span></a></div>
</li>
<li>
<p>Go to the 64-bit <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\rdbms\admin</code> directory from the command prompt.</p>
</li>
<li>
<p>Start SQL*Plus:</p>
<pre dir="ltr">C:\&gt; sqlplus /NOLOG 
</pre></li>
<li>
<p>Connect to the database instance as <code dir="ltr">SYSDBA</code>:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSDBA;
</pre></li>
<li>
<p>Re-create the 64-bit control files using the <code dir="ltr">CREATE CONTROLFILE</code> command. Edit the trace file created in <a href="#CHDDBAEE">&#34;Backing Up a 32-Bit Oracle Database&#34;</a> to change the paths to the data files, log files, and control files to point to the Oracle home on the 64-bit computer. This creates the new control file in the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database</code> directory.</p>
<p>Here is an example of a database named <code dir="ltr">orcl32</code> on a 32-bit computer migrating to <code dir="ltr">orcl64</code> on a 64-bit computer:</p>
<pre dir="ltr">CREATE CONTROLFILE REUSE DATABASE &#34;T1&#34; NORESETLOGS NOARCHIVELOG
    MAXLOGFILES 32
    MAXLOGMEMBERS 2
    MAXDATAFILES 32
    MAXINSTANCES 16
    MAXLOGHISTORY 1815
LOGFILE
    GROUP 1 &#39;C:\app\username\oradata\orcl64\REDO03.LOG&#39;  SIZE 1M, 
    # was   &#39;C:\app\username\oradata\orcl32\...LOG&#39; 
    # on the 32-bit computer
    GROUP 2 &#39;C:\app\username\oradata\orcl64\REDO02.LOG&#39;  SIZE 1M,
    GROUP 3 &#39;C:\app\username\oradata\orcl64\REDO01.LOG&#39;  SIZE 1M
DATAFILE
   &#39;C:\app\username\oradata\orcl64\SYSTEM01.DBF&#39;,
    # was &#39;C:\app\username\oradata\orcl32\...DBF&#39; 
    # on the 32-bit computer
   &#39;C:\app\username\oradata\orcl64\RBS01.DBF&#39;,
   &#39;C:\app\username\oradata\orcl64\USERS01.DBF&#39;,
   &#39;C:\app\username\oradata\orcl64\TEMP01.DBF&#39;,
   &#39;C:\app\username\oradata\orcl64\TOOLS01.DBF&#39;,
   &#39;C:\app\username\oradata\orcl64\INDX01.DBF&#39;,
   &#39;C:\app\username\oradata\orcl64\DR01.DBF&#39;
CHARACTER SET WE8ISO8859P1;
</pre></li>
<li>
<p>Alter the <code dir="ltr">init</code> file from the 32-bit computer to include the new control file generated in the preceding step.</p>
</li>
<li>
<p>Shut down the database on the 64-bit computer:</p>
<pre dir="ltr">SQL&gt; SHUTDOWN IMMEDIATE;
</pre></li>
<li>
<p>Start the database migration:</p>
<pre dir="ltr">SQL&gt; STARTUP MIGRATE;
</pre></li>
<li>
<p>Migrate the database as described in Chapter 3, &#34;Upgrading Oracle Database&#34; in <a class="olink UPGRD003" href="../UPGRD/upgrade.htm#UPGRD003"><span class="italic">Oracle Database Upgrade Guide</span>.</a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Upgrading to Oracle Database 12<span class="italic">c</span> Release 1 (12.1) is supported only when the same Windows User Account is used as the Oracle Home User in both the source and destination Oracle homes, or when the home from which the database is being upgraded uses a Windows built-in account.
<p>See <a class="olink UPGRD60054" href="../UPGRD/preup.htm#UPGRD60054"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about prerequisites for preparing a new Oracle home on Windows.</p>
</div>
</li>
<li>
<p>Shut down the database:</p>
<pre dir="ltr">SQL&gt; SHUTDOWN IMMEDIATE;
</pre></li>
<li>
<p>Restart the database:</p>
<pre dir="ltr">SQL&gt; STARTUP OPEN;
</pre></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5009">
<tr>
<td class="cellalignment5016">
<table class="cellalignment5014">
<tr>
<td class="cellalignment5013"><a href="oh_usr.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5013"><a href="config.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5018">
<table class="cellalignment5012">
<tr>
<td class="cellalignment5013"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5013"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5013"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5013"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5013"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5013"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
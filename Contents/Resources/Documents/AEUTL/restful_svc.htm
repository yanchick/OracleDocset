<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-1982"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20RESTful%20Services"></a><title>Using RESTful Services</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 015"/>
<meta name="dcterms.created" content="2013-04-05T14:9:0Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Application Express SQL Workshop Guide"/>
<meta name="dcterms.identifier" content="E17964-06"/>
<meta name="dcterms.isVersionOf" content="AEUTL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="sql_utl.htm" title="Previous" type="text/html"/>
<link rel="Next" href="index.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17964-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/11</span> <!-- End Header --><a id="BABHHHEA"></a><a id="AEUTL445"></a>
<h1 class="chapter"><span class="secnum">5</span> Using <a id="sthref352"></a>RESTful Services</h1>
<p>RESTful Services enable the declarative specification of RESTful services used to access the database. These services work with the Oracle Application Express Listener to enable the consumption of these services. This section describes how to create, edit and delete RESTful Services.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the instance administrator has disabled RESTful Services for this Application Express instance, RESTful Services are not available for this instance and the RESTful Services icon does not display. See &#34;Configuring SQL Workshop&#34; in <a class="olink AEADM467" href="../AEADM/adm_mg_service_set.htm#AEADM467"><span class="italic">Oracle Application Express Administration Guide</span></a>.</div>
<p class="subhead2"><a id="AEUTL446"></a>Topics:</p>
<ul>
<li>
<p><a href="#CIHFJHDF">What Is REST?</a></p>
</li>
<li>
<p><a href="#BABEJAGD">About RESTful Services</a></p>
</li>
<li>
<p><a href="#BABDEJCE">RESTful Service Requirements</a></p>
</li>
<li>
<p><a href="#BCGCAFBD">Accessing RESTful Services</a></p>
</li>
<li>
<p><a href="#CIHFEDDC">About the Example RESTful Service Module (oracle.example.hr)</a></p>
</li>
<li>
<p><a href="#BABDJIJI">Managing RESTful Service Modules</a></p>
</li>
<li>
<p><a href="#BABHEDBE">Managing Resource Templates</a></p>
</li>
<li>
<p><a href="#BABEBGIJ">Managing Resource Handlers</a></p>
</li>
</ul>
<a id="CIHFJHDF"></a><a id="AEUTL29132"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.1</span> What Is REST?</h2>
<p><a id="sthref353"></a>Representational State Transfer (REST) is a style of software architecture for distributed hypermedia systems such as the World Wide Web. A service is described as RESTful when it conforms to the tenets of REST. Although a full discussion of REST is outside the scope of this document, a RESTful Service has the following characteristics:</p>
<ul>
<li>
<p>Data is modelled as a set of resources. Resources are identified by URLs.</p>
</li>
<li>
<p>A small set of operations are used to manipulate resources (for example, PUT, POST, GET, DELETE).</p>
</li>
<li>
<p>A resource can have multiple representations (for example, a blog might have a HTML representation and a RSS representation).</p>
</li>
<li>
<p>Services are stateless and since it is likely that the client wants to access related resources, these should be identified in the representation returned, typically by providing hypertext links.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABEJAGD"></a><a id="AEUTL447"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> About <a id="sthref354"></a>RESTful Services</h2>
<p>RESTful Services enable an application to publish Web services that are accessed by other applications to exchange data. For example, you can configure a RESTful Service to return all employee names for a particular department. The data exchange for a RESTful Service follows the Representational State Transfer (REST) architectural style.</p>
<p>For each Web service you want your application to provide, you must configure a RESTful Service Module. This module is a grouping of common templates, known as resource templates under a common Universal Resource Identifier (URI) prefix. For each method associated with the same resource template prefix that you want to expose through this Web service, you must define a resource handler. For instance, if you want to provide a method to return data and another to store data, you must define a resource handler for each operation.</p>
<p>When you create a RESTful Service, you supply the necessary information about the structure of the request, response and operation to be performed including:</p>
<ul>
<li>
<p>A URI Template identifying the set of resources the service provides</p>
</li>
<li>
<p>One or more HTTP methods that the service supports along with the SQL query or PL/SQL block to be performed. There are four HTTP methods including GET, DELETE, POST and PUT. Only one hadler per HTTP method is permitted. For example, the <code>empinfo</code> resource handler can only have one resrouce handler using GET, and only one using PUT.</p>
</li>
<li>
<p>HTTP Header values that should be bound to parameters of the query block</p>
</li>
<li>
<p>Parameters expected by the Web service</p>
</li>
<li>
<p>Type of input expected by the Web service</p>
</li>
<li>
<p>The format of the response</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For an example RESTful Web Service Module, see <a href="#CIHFEDDC">&#34;About the Example RESTful Service Module (oracle.example.hr)&#34;</a></div>
<p>This section describes how to configure RESTful Services. If you want your application to use a Web service, you must configure RESTful Web References. See Implementing Web Services in <a class="olink HTMDB13005" href="../HTMDB/advnc_web_services.htm#HTMDB13005"><span class="italic">Oracle Application Express Application Builder User&#39;s Guide</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BABDEJCE"></a><a id="AEUTL29133"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> RESTful <a id="sthref355"></a>Service Requirements</h2>
<p>In order for the RESTful Service utility to be available and function properly, the following requirements must be met:</p>
<ul>
<li>
<p>The instance administrator must enable RESTful Services for this Application Express instance. See <a class="olink AEADM" href="../AEADM/toc.htm"><span class="italic">Oracle Application Express Administration Guide</span></a>.</p>
</li>
<li>
<p>The Oracle Application Express Listener version 2.0 or higher must be used. The Oracle XML DB HTTP Server with the embedded PL/SQL gateway and Oracle HTTP Server with <code>mod_plsql</code> do not support this functionality. See <span class="italic">Oracle Application Express Listener Installation and Developer Guide</span>.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BCGCAFBD"></a><a id="AEUTL448"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Accessing RESTful <a id="sthref356"></a>Services</h2>
<p>To access RESTful Services:</p>
<ol>
<li>
<p>Log in to the Workspace home page.</p>
</li>
<li>
<p>Click <span class="bold">SQL Workshop</span>.</p>
</li>
<li>
<p>Click <span class="bold">RESTful Services</span>.</p>
<img width="782" height="181" src="img/r_service.gif" alt="Description of r_service.gif follows" title="Description of r_service.gif follows"/><br/>
<a id="sthref357" href="img_text/r_service.htm">Description of the illustration r_service.gif</a><br/>
<br/>
<p>The RESTful Services home page displays.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CIHFEDDC"></a><a id="AEUTL29134"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.5</span> About the Example RESTful <a id="sthref358"></a><a id="sthref359"></a>Service Module (oracle.example.hr)</h2>
<p>Your Application Express Workspace by default has an example RESTful Service Module, <code>oracle.example.hr</code>. This module provides example resource templates and resource handlers that implement several different methods to retrieve and display employee information from the <code>emp</code> table. To access the <code>oracle.example.hr</code> module, see <a href="#BCGCAFBD">&#34;Accessing RESTful Services&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For additional RESTful Service examples, go to the Learning Library. Search for free online training content, including Oracle by Example (OBE), demos, and tutorials. To access the Oracle Learning Library, go to:
<p><code><a href="http://www.oracle.com/technetwork/tutorials/index.html">http://www.oracle.com/technetwork/tutorials/index.html</a></code></p>
</div>
<img width="817" height="352" src="img/hr_example.gif" alt="Description of hr_example.gif follows" title="Description of hr_example.gif follows"/><br/>
<a id="sthref360" href="img_text/hr_example.htm">Description of the illustration hr_example.gif</a><br/>
<br/>
<p>The <code>oracle.example.hr</code> module consists of several resource templates. Each resource template demonstrates a different way of retrieving information and formatting the returned results.</p>
<img width="368" height="541" src="img/oracle_ex_temp.gif" alt="Description of oracle_ex_temp.gif follows" title="Description of oracle_ex_temp.gif follows"/><br/>
<a id="sthref361" href="img_text/oracle_ex_temp.htm">Description of the illustration oracle_ex_temp.gif</a><br/>
<br/>
<p>The following results are expected for each <code>oracle.example.hr</code> resource template when the respective GET resource handler is invoked:</p>
<ul>
<li>
<p><code>empinfo/</code> - Employee information from the employees <code>emp</code> table is returned in CSV format. See <a href="#CIHCIEIF">&#34;Returning the Result Set in CSV Format (<code>empinfo/</code>)&#34;</a>.</p>
</li>
<li>
<p><code>employees/{id}</code> - Employee information from the employees <code>emp</code> table for a specified <code>id</code> is returned. The curly bracket identifies the parameter sent as part of the URI. See <a href="#CIHEAFIG">&#34;Retrieving Data Based on a Parameter (<code>employees/{id}</code>)&#34;</a>.</p>
</li>
<li>
<p><code>employees/</code> - Employee information from the employees <code>emp</code> table is displayed in JSON format with Pagination Size set to 7. A first, previous and next link is provided to page through the results. See <a href="#CIHFFFDG">&#34;Returning the Result Set in JSON Format with Pagination Set (<code>employees/</code>)&#34;</a>.</p>
</li>
<li>
<p><code>employeesfeed</code>/ - Employee information from the employees <code>emp</code> table is displayed as a feed. See <a href="#CIHGCIFJ">&#34;Returning the Result Set as a Feed (<code>employeesfeed</code>/)&#34;</a>.</p>
</li>
<li>
<p><code>employeesfeed/{id}</code> - Employee information from the employees <code>emp</code> table for a specified <code>id</code> is displayed as a feed. The curly bracket identifies the parameter sent as part of the URI. See also <a href="#CIHEAFIG">&#34;Retrieving Data Based on a Parameter (<code>employees/{id}</code>)&#34;</a> and <a href="#CIHGCIFJ">&#34;Returning the Result Set as a Feed (<code>employeesfeed</code>/)&#34;</a>.</p>
</li>
<li>
<p><a id="CIHFBEID"></a><code>empsec/{empname}</code> - Employee information for a specified employee name, <code>empname</code>, is returned and displayed in JSON. The curly bracket identifies the parameter sent as part of the URI. See also <a href="#CIHEAFIG">&#34;Retrieving Data Based on a Parameter (<code>employees/{id}</code>)&#34;</a>.</p>
</li>
<li>
<p><code>empsecformat/{empname}</code> - Employee information for a specified employee name, <code>empname</code>, is returned and formatted based on the execution of a PL/SQL block. The curly bracket identifies the parameter sent as part of the URI. See <a href="#CIHEDAFH">&#34;Returning the Result Set Based on a PL/SQL Block (<code>empsecformat/{empname}</code>)&#34;</a>.</p>
</li>
</ul>
<a id="CIHCIEIF"></a><a id="AEUTL29135"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.1</span> Returning the Result Set in CSV Format (<code>empinfo/</code>)</h3>
<p>The <code>oracle.example.hr</code> module includes the <code>empinfo/</code> resource template to demonstrate a RESTful Service that returns data in CSV format. In this example, all the employee data from the <code>emp</code> table is returned by using a SQL Query.</p>
<p>To build and test your own example RESTful Service Module that retrieves data in CSV format:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
<li>
<p>For Name, enter <code>my.example.demo</code>.</p>
</li>
<li>
<p>For URI, enter <code>demo/</code>. This is the base of the Uniform Resrouce Identifier (URI) that is used to access this RESTful Service.</p>
</li>
<li>
<p>Under Add a Resource Template, for URI Template enter <code>empinfo/</code>.</p>
</li>
<li>
<p>Under Add a Resource Handler, for Method select <span class="bold">GET</span>.</p>
<p>The Resource Handler settings appear.</p>
</li>
<li>
<p>Make the following selections and entries:</p>
<ul>
<li>
<p>Source Type - Select <span class="bold">Query</span>. Executes a SQL Query and transforms the result set into either a JavaScript Object Notation (JSON) or CSV representation, depending on the format selected. This option is only available when the HTTP method GET has been selected</p>
</li>
<li>
<p>Format - Select <span class="bold">CSV</span>.</p>
</li>
<li>
<p>Source - Enter the following:</p>
<pre>select * from emp
</pre>
<img width="622" height="621" src="img/emp_info.gif" alt="Description of emp_info.gif follows" title="Description of emp_info.gif follows"/><br/>
<a id="sthref362" href="img_text/emp_info.htm">Description of the illustration emp_info.gif</a><br/>
<br/></li>
</ul>
</li>
<li>
<p>Click <span class="bold">Create Module.</span></p>
<p>The RESTful Service Module page displays.</p>
</li>
<li>
<p>Under <code>empinfo</code>/, click the <span class="bold">GET</span> resource handler.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
<p>An Opening dialog appears, allowing you to open or save the CSV file containing the results of executing the resource handler source SQL query.</p>
</li>
<li>
<p>Select <span class="bold">Save File</span> and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Open the saved file in Microsoft Excel or another editor to view the contents of the CSV file.</p>
<p>All data from the <code>emp</code> table is included in the CSV file.</p>
<img width="549" height="307" src="img/empinfo_results.gif" alt="Description of empinfo_results.gif follows" title="Description of empinfo_results.gif follows"/><br/>
<a id="sthref363" href="img_text/empinfo_results.htm">Description of the illustration empinfo_results.gif</a><br/>
<br/>
<div class="infobox-note">
<p class="notep1">Note:</p>
If your results are not correct, compare your <code>empinfo</code> GET resource handler with the <code>oracle.example.hr</code> <code>empinfo</code> GET resource handler.</div>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHEAFIG"></a><a id="AEUTL29136"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.2</span> Retrieving Data Based on a Parameter (<code>employees/{id}</code>)</h3>
<p>The <code>oracle.example.hr</code> module includes the <code>employees/{id}</code> resource template to demonstrate a RESTful Service that returns one row of data in JSON format based on the specified <code>id</code>.</p>
<p>For other example resource templates that return results based on a specified parameter see the <code>employeesfeed/{id}</code>, <code>empsec/{empname}</code> and <code>empsecformat/{empname}</code> resource templates for the <code>oracle.example.hr</code> Service Module.</p>
<p>To add and test your own resource template that retrieves employee data based on a parameter:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the RESTful Service Module you want to add the resource template to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>At the bottom of the left panel, click <span class="bold">Create Template</span>.</p>
<p>The Resource Template options appear on the right.</p>
</li>
<li>
<p>For URI Template, enter <code>employees/{id}</code>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The <code>employees{id}</code> resource template displays on the left panel.</p>
</li>
<li>
<p>Under the <code>employees{id}</code> resource template, click <span class="bold">Create Handler</span>.</p>
<p>The Resource Handler options appear.</p>
</li>
<li>
<p>Make the following selections and entries:</p>
<ul>
<li>
<p>Method - select <span class="bold">GET</span>.</p>
</li>
<li>
<p>Source Type - select <span class="bold">Query One Row</span>. Executes a SQL Query returning one row of data into a JSON representation. This option is only available when the HTTP method GET has been selected</p>
</li>
<li>
<p>Requires Secure Access - select <span class="bold">No</span>.</p>
</li>
<li>
<p>Pagination Size - Enter <code>blank</code>. In this case, there&#39;s no need to set pagination since only one record is retrieved.</p>
</li>
<li>
<p>Source - enter the following:</p>
<pre>select * from emp  where empno = :id
</pre></li>
</ul>
<img width="503" height="589" src="img/employees_id.gif" alt="Description of employees_id.gif follows" title="Description of employees_id.gif follows"/><br/>
<a id="sthref364" href="img_text/employees_id.htm">Description of the illustration employees_id.gif</a><br/>
<br/></li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The GET Handler appears under the <code>employees/{id}</code> resource template on the left panel.</p>
</li>
<li>
<p>Click <span class="bold">Set Bind Variables</span>.</p>
</li>
<li>
<p>For Bind Variable Value, enter <code>7876</code>.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
<p>A dialog appears showing the results for the employee record with an employee id of 7876 displays.</p>
<img width="272" height="160" src="img/employees_id_res.gif" alt="Description of employees_id_res.gif follows" title="Description of employees_id_res.gif follows"/><br/>
<a id="sthref365" href="img_text/employees_id_res.htm">Description of the illustration employees_id_res.gif</a><br/>
<br/></li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If your results are not correct, compare your <code>employees/{id}</code> GET resource handler with the <code>oracle.example.hr</code> <code>employees/{id}</code> GET resource handler.</div>
</div>
<!-- class="sect2" -->
<a id="CIHFFFDG"></a><a id="AEUTL29137"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.3</span> Returning the Result Set in JSON Format with Pagination Set (<code>employees/</code>)</h3>
<p>The <code>oracle.example.hr</code> module includes the <code>employees/</code> resource template to demonstrate a RESTful Service that returns data in JSON format. This example demonstrates pagination by setting the pagination to a value smaller than the number of rows returned in the result.</p>
<p>For other example resource templates that return results in JSON format see the <code>empsec/{empname}</code> resource template for the <code>oracle.example.hr</code> Service Module.</p>
<p>To add and test your own resource template that retrieves data in JSON format and demonstrates pagination:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the RESTful Service Module you want to add the resource template to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>At the bottom of the left panel, click <span class="bold">Create Template</span>.</p>
<p>The Resource Template options appear on the right.</p>
</li>
<li>
<p>For URI Template, enter <code>employees/</code>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The <code>employees/</code> resource template displays on the left panel.</p>
</li>
<li>
<p>Under the <code>employees/</code> resource template, click <span class="bold">Create Handler</span>.</p>
<p>The Resource Handler options appear.</p>
</li>
<li>
<p>Make the following selections and entries:</p>
<ul>
<li>
<p>Method - Select <span class="bold">GET</span>.</p>
</li>
<li>
<p>Source Type - Select <span class="bold">Query</span>.</p>
</li>
<li>
<p>Format - Select <span class="bold">JSON</span>.</p>
</li>
<li>
<p>Requires Secure Access - Select <span class="bold">No</span>.</p>
</li>
<li>
<p>Pagination Size - Enter <code>7</code>.</p>
</li>
<li>
<p>Source - Enter the following:</p>
<pre>select empno &#34;$uri&#34;, empno, ename
  from (
       select emp.*
            , row_number() over (order by empno) rn
         from emp
       ) tmp
 where rn between :row_offset and :row_count 
</pre></li>
</ul>
<img width="506" height="589" src="img/r_emp.gif" alt="Description of r_emp.gif follows" title="Description of r_emp.gif follows"/><br/>
<a id="sthref366" href="img_text/r_emp.htm">Description of the illustration r_emp.gif</a><br/>
<br/></li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The GET Handler appears under the <code>employees/</code> resource template on the left panel.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
<p>The JSON results display. Notice the <code>uri:{$ref}</code> for each item invokes the <code>employees/{id}</code> RESTful Service for the id specified in the link.</p>
<img width="723" height="976" src="img/employees_rslt.gif" alt="Description of employees_rslt.gif follows" title="Description of employees_rslt.gif follows"/><br/>
<a id="sthref367" href="img_text/employees_rslt.htm">Description of the illustration employees_rslt.gif</a><br/>
<br/>
<div class="infobox-note">
<p class="notep1">Note:</p>
If your results are not correct, compare your <code>employees/</code> GET resource handler with the <code>oracle.example.hr</code> <code>employees</code> GET resource handler.</div>
</li>
<li>
<p>Click the first <code>uri:{$ref}</code> link in the link for <code>empno</code> 7369.</p>
<p>The individual employee record for 7369 displays.</p>
</li>
<li>
<p>Click the Back button in your browser.</p>
<p>The original JSON results appear listing 7 employees.</p>
</li>
<li>
<p>Click the <code>next{$ref}</code> link to navigate to the next page of data.</p>
<p>The next 7 rows display with links to the first, previous and the next page.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHGCIFJ"></a><a id="AEUTL29138"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.4</span> Returning the Result Set as a Feed (<code>employeesfeed</code>/)</h3>
<p>The <code>oracle.example.hr</code> module includes the <code>employeesfeed/</code> resource template to demonstrate a RESTful Service that returns <code>empno</code> and <code>ename</code> values from the <code>emp</code> table and displays them as a feed.</p>
<p>A feed resource handler executes a SQL query and transforms the results into a JSON Feed representation. Each item in the feed contains a summary of a resource and a hyperlink to a full representation of the resource. The first column in each row in the result set must be a unique identifier for the row and is used to form a hyperlink of the form: path/to/feed/{id}, with the value of the first column being used as the value for {id}. The other columns in the row are assumed to summarize the resource and are included in the feed. A separate resource template for the full representation of the resource should also be defined.</p>
<p>For other example resource templates that return results as a feed, see the <code>employeesfeed/{id}</code> resource template for the <code>oracle.example.hr</code> Service Module.</p>
<p>To add and test your own resource template that displays return data as a feed:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the RESTful Service Module you want to add the resource template to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>At the bottom of the left panel, click <span class="bold">Create Template</span>.</p>
<p>The Resource Template options appear on the right.</p>
</li>
<li>
<p>For URI Template, enter <code>employeesfeed/</code>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The <code>employeesfeed/</code> resource template displays on the left panel.</p>
</li>
<li>
<p>Under the employees resource template, click <span class="bold">Create Handler</span>.</p>
<p>The Resource Handler options appear.</p>
</li>
<li>
<p>Make the following selections and entries:</p>
<ul>
<li>
<p>Method - select <span class="bold">GET</span>.</p>
</li>
<li>
<p>Source Type - select <span class="bold">Feed</span>.</p>
</li>
<li>
<p>Requires Secure Access - select <span class="bold">No</span>.</p>
</li>
<li>
<p>Pagination Size - enter <code>25</code>.</p>
</li>
<li>
<p>Source - enter the following:</p>
<pre>select empno, ename from emp  order by deptno, ename
</pre></li>
</ul>
<img width="506" height="448" src="img/employeesfeed.gif" alt="Description of employeesfeed.gif follows" title="Description of employeesfeed.gif follows"/><br/>
<a id="sthref368" href="img_text/employeesfeed.htm">Description of the illustration employeesfeed.gif</a><br/>
<br/></li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The GET resource handler appears under the <code>employeesfeed/</code> resource template on the left panel.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
<p>The results display a feed for each employee in the <code>emp</code> table.</p>
<img width="659" height="743" src="img/employeesfeed_res.gif" alt="Description of employeesfeed_res.gif follows" title="Description of employeesfeed_res.gif follows"/><br/>
<a id="sthref369" href="img_text/employeesfeed_res.htm">Description of the illustration employeesfeed_res.gif</a><br/>
<br/></li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If your results are not correct, compare your <code>employeesfeed/</code> GET resource handler with the <code>oracle.example.hr</code> <code>employeesfeed</code> GET resource handler.</div>
</div>
<!-- class="sect2" -->
<a id="CIHEDAFH"></a><a id="AEUTL29139"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.5</span> Returning the Result Set Based on a PL/SQL Block (<code>empsecformat/{empname}</code>)</h3>
<p>The <code>oracle.example.hr</code> module includes the <code>empsecformat/{empname}</code> resource template to demonstrate a RESTful Service that returns the results of an SQL Query formatted by a PL/SQL block.</p>
<p>To add and test your own resource template that uses a PL/SQL block to format results:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the RESTful Service Module you want to add the resource template to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>At the bottom of the left panel, click <span class="bold">Create Template</span>.</p>
<p>The Resource Template options appear on the right.</p>
</li>
<li>
<p>For URI Template, enter <code>empsecformat/{empname}</code>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The <code>empsecformat/{empname}</code> resource template displays on the left panel.</p>
</li>
<li>
<p>Under the <code>empsecformat/{empname}</code> resource template, click <span class="bold">Create Handler</span>.</p>
<p>The Resource Handler options appear.</p>
</li>
<li>
<p>Make the following selections and entries:</p>
<ul>
<li>
<p>Method - Select <span class="bold">GET</span>.</p>
</li>
<li>
<p>Source Type - Select <span class="bold">PL/SQL</span>.</p>
</li>
<li>
<p>Requires Secure Access - Select <span class="bold">No</span>.</p>
</li>
<li>
<p>Pagination Size - Enter <code>blank</code>.</p>
</li>
<li>
<p>Source - enter the following:</p>
<pre>DECLARE
  prevdeptno   number;
  deptloc      varchar2(30);
  deptname     varchar2(30);
  CURSOR getemps IS select * from emp 
                     where ((select job from emp where ename = :empname)  IN (&#39;PRESIDENT&#39;, &#39;MANAGER&#39;)) 
                        or deptno = (select deptno from emp where ename = :empname) 
                     order by deptno, ename;
BEGIN
  sys.htp.htmlopen;
  sys.htp.headopen;
  sys.htp.title(&#39;Departments&#39;);
  sys.htp.headclose;
  sys.htp.bodyopen;
 
  for emprecs in getemps
  loop
 
      if emprecs.deptno != prevdeptno or prevdeptno is null then
          select dname, loc into deptname, deptloc 
            from dept where deptno = (select deptno from emp where ename = emprecs.ename);
          if prevdeptno is not null then
              sys.htp.print(&#39;&lt;/ul&gt;&#39;);
          end if;
          sys.htp.print(&#39;Department &#39; || deptname || &#39; located in &#39; || deptloc || &#39;&lt;p/&gt;&#39;);
          sys.htp.print(&#39;&lt;ul&gt;&#39;);
      end if;
 
      sys.htp.print(&#39;&lt;li&gt;&#39; || emprecs.ename || &#39;, &#39; || emprecs.job || &#39;, &#39; || emprecs.sal || &#39;&lt;/li&gt;&#39;);
 
      prevdeptno := emprecs.deptno;
 
  end loop;
  sys.htp.print(&#39;&lt;/ul&gt;&#39;);
  sys.htp.bodyclose;
  sys.htp.htmlclose;
END;
</pre></li>
</ul>
<img width="504" height="591" src="img/empsecformat.gif" alt="Description of empsecformat.gif follows" title="Description of empsecformat.gif follows"/><br/>
<a id="sthref370" href="img_text/empsecformat.htm">Description of the illustration empsecformat.gif</a><br/>
<br/></li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The GET resource handler appears under the <code>empsecformat/</code><code>{empname}</code> resource template on the left panel.</p>
</li>
<li>
<p>Click <span class="bold">Set Bind Variables</span>.</p>
</li>
<li>
<p>For the <code>empname</code> parameter, enter <code>ADAMS</code>.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
<p>The results display formatted results for Adams.</p>
<img width="484" height="196" src="img/empsecformat_res.gif" alt="Description of empsecformat_res.gif follows" title="Description of empsecformat_res.gif follows"/><br/>
<a id="sthref371" href="img_text/empsecformat_res.htm">Description of the illustration empsecformat_res.gif</a><br/>
<br/></li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If your results are not correct, compare your <code>empsecformat/{empname}</code> GET resource handler with the <code>oracle.example.hr</code> <code>empsecformat/{empname}</code> GET resource handler.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABDJIJI"></a><a id="AEUTL449"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.6</span> Managing <a id="sthref372"></a>RESTful Service Modules</h2>
<p>A RESTful Service Module is a grouping of common templates, known as resource templates, under a common Uniform Resource Identifiers (URI) prefix. The specification of a URI prefix is optional. If defined for the RESTful Service Module, it is prepended to all resource templates. A priority value is used to choose between resource templates when their patterns both match a single request URI. In such cases, the resource template with the highest priority value is chosen.</p>
<p class="subhead2"><a id="AEUTL450"></a>Topics:</p>
<ul>
<li>
<p><a href="#BCGDEEJA">Creating a RESTful Service Module</a></p>
</li>
<li>
<p><a href="#BCGEGFAD">Editing a RESTful Service Module</a></p>
</li>
<li>
<p><a href="#BCGCFAAB">Deleting a RESTful Service Module</a></p>
</li>
<li>
<p><a href="#CIHGDJIB">Managing RESTful Service Privileges</a></p>
</li>
<li>
<p><a href="#CIHFFEID">Exporting a RESTful Service Module</a></p>
</li>
<li>
<p><a href="#CIHGJDDC">Importing a RESTful Service Module</a></p>
</li>
</ul>
<a id="BCGDEEJA"></a><a id="AEUTL451"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.6.1</span> Creating a <a id="sthref373"></a>RESTful Service Module</h3>
<p>To create a RESTful Service Module:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
<li>
<p>Fill in the appropriate fields and select the appropriate options. Mandatory fields are marked with a red asterisk (*). To learn more about a specific option, see the item Help for that option.</p>
</li>
<li>
<p>Specify the following RESTful Service Module settings:</p>
<ul>
<li>
<p><span class="bold">Name</span> (required) - Specify the RESTful Service Module name.</p>
</li>
<li>
<p><span class="bold">URI Prefix</span> - Specify the URI template prefix.</p>
</li>
<li>
<p><span class="bold">Origins Allowed</span> - Specify a comma-separated list of origins that are permitted to access the resource template.</p>
</li>
<li>
<p><span class="bold">Status</span> - Select <span class="bold">Published</span> to make this service available for use, otherwise select <span class="bold">Not Published</span>.</p>
</li>
<li>
<p><span class="bold">Pagination Size</span> - Specify the size of the pagination window. For database queries, this is the number of rows to return.</p>
</li>
<li>
<p><span class="bold">Required Privilege</span> - Select the user privilege required to access this service module.</p>
</li>
</ul>
</li>
<li>
<p>To add a resource template to this module, specify the following under Add a Resource Template:</p>
<ul>
<li>
<p><span class="bold">URI Template</span> - Enter the URI template to identify your Uniform Resource Identifiers. A URI template is simple syntax for describing URIs, for example:</p>
<pre>example/{id}
</pre></li>
<li>
<p><span class="bold">Priority</span> - Specify the resource template&#39;s evaluation order. Higher numbers are evaluated first.</p>
</li>
<li>
<p><span class="bold">Entity Tag</span> - Specify how the ETag HTTP Header for the resource is generated. See item Help for further details.</p>
</li>
<li>
<p><span class="bold">Entity Tag Query</span> - Specify the SQL SELECT statement that returns one column and one row that is to be used to generate a custom entity tag. This option is only visible when the user selects Query for the Entity Tag.</p>
</li>
</ul>
</li>
<li>
<p>If you want to add a resource handler to the resource template, specify the following under Add a Resource Handler:</p>
<ul>
<li>
<p><span class="bold">Method</span> - Specify the HTTP method to be used for the resource handler. Options include: GET, DELETE, POST, PUT. See item Help for further details.</p>
</li>
<li>
<p><span class="bold">Source Type</span> - Select the source implementation for the selected HTTP method. Options include: Query, Query One Row, PL/SQL, Feed, Media Resource.</p>
</li>
<li>
<p><span class="bold">Format</span> - Define how results are returned. Options include: JSON, CSV.</p>
</li>
<li>
<p><span class="bold">Source</span> - Specify the SQL query or PL/SQL block responsible for handling the selected HTTP method.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
To define additional resource handlers, complete the Resource Handler Creation wizard and then edit the created resource handler.</div>
</li>
<li>
<p>Click <span class="bold">Create.</span></p>
<p>The RESTful Service Module page appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCGEGFAD"></a><a id="AEUTL452"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.6.2</span> Editing a <a id="sthref374"></a>RESTful Service Module</h3>
<p>A RESTful Service Module can have associated resource templates and resource handlers. During the edit process for a particular RESTful Service Module, you can make changes to any of the associated resource templates and resource handlers.</p>
<p>To edit a RESTful Service Module:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the name of the module you want to edit.</p>
<p>The RESTful Service Module edit page appears.</p>
<img width="970" height="558" src="img/r_edit.gif" alt="Description of r_edit.gif follows" title="Description of r_edit.gif follows"/><br/>
<a id="sthref375" href="img_text/r_edit.htm">Description of the illustration r_edit.gif</a><br/>
<br/>
<div class="infobox-note">
<p class="notep1">Note:</p>
Use the RESTful Service tree on the left pane to view, edit and create resource templates and resource handlers.</div>
</li>
<li>
<p>To edit RESTful Service Module settings, make changes to the fields on the right pane under RESTful Services Module. See <a href="#BCGDEEJA">&#34;Creating a RESTful Service Module&#34;</a> for further details.</p>
</li>
<li>
<p>To edit a resource template:</p>
<ol>
<li>
<p>Select the resource template you want to edit on the RESTful Service tree on the left panel. The resource template options appear on the right panel.</p>
</li>
<li>
<p>Make your changes. See<a href="#BABCJADJ">&#34;Adding a Resource Template&#34;</a> for further details.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</li>
<li>
<p>To edit a resource handler:</p>
<ol>
<li>
<p>Select the resource handler you want to edit on the RESTful Service tree. The resource handler options appear on the right panel.</p>
</li>
<li>
<p>Make your changes. See <a href="#BABFJDGC">&#34;Adding a Resource Handler&#34;</a> for further details.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span></p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BCGCFAAB"></a><a id="AEUTL453"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.6.3</span> Deleting a<a id="sthref376"></a> RESTful Service Module</h3>
<p>Deleting a RESTful service module removes the module along with all resource templates and resource handlers associated with this module.</p>
<p>To delete a RESTful Service Module:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the name of the module you want to delete.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>Click <span class="bold">Delete</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to confirm.</p>
<p>The RESTful Services home page appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHGDJIB"></a><a id="AEUTL29140"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.6.4</span> Managing RESTful <a id="sthref377"></a>Service Privileges</h3>
<p>Privileges to access RESTful Web Service Modules can be restricted to Application Express users that belong to an Application Express user group.</p>
<p>To protect RESTful Service Modules by assigning RESTful Service Privileges:</p>
<ol>
<li>
<p>Define an Application Express user group using Application Express Administration. See <a class="olink AEADM154" href="../AEADM/aadm_users.htm#AEADM154">Using Groups to Manage Application Express Users</a> in <span class="italic">Oracle Application Express Administration Guide</span>.</p>
</li>
<li>
<p>Create a RESTful Service Privilege based on one or more user groups. See <a href="#CIHIBBBA">&#34;Creating a RESTful Service Privilege&#34;</a>.</p>
</li>
<li>
<p>Specify which RESTful Web Service Modules are protected by this privilege. See <a href="#CIHDAJGJ">&#34;Assigning Privileges to RESTful Web Service Modules&#34;</a>.</p>
</li>
</ol>
<p class="subhead2"><a id="AEUTL29141"></a>Topics:</p>
<ul>
<li>
<p><a href="#CIHDAJGJ">Assigning Privileges to RESTful Web Service Modules</a></p>
</li>
<li>
<p><a href="#CIHIBBBA">Creating a RESTful Service Privilege</a></p>
</li>
<li>
<p><a href="#CIHJIDFI">Editing a RESTful Service Privilege</a></p>
</li>
<li>
<p><a href="#CIHFIHAG">Deleting a RESTful Service Privilege</a></p>
</li>
</ul>
<a id="CIHDAJGJ"></a><a id="AEUTL29142"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.6.4.1</span> Assigning Privileges to RESTful Web Service Modules</h4>
<p>There are a couple of ways to assign privileges to RESTful Web Service Modules:</p>
<ul>
<li>
<p>During the creation or editing of a RESTful Web Service Module, you can specify the privilege for the module. See <a href="#BCGDEEJA">&#34;Creating a RESTful Service Module&#34;</a> and <a href="#BCGEGFAD">&#34;Editing a RESTful Service Module&#34;</a>.</p>
</li>
<li>
<p>During the creation or editing of a RESTful Service Privilege, you can specify the module or modules protected by this privilege. See<a href="#CIHIBBBA">&#34;Creating a RESTful Service Privilege&#34;</a> and <a href="#CIHJIDFI">&#34;Editing a RESTful Service Privilege&#34;</a>.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
After a RESTful Service Privilege is deleted, all RESTful Service Modules protected by that privilege are unprotected. See <a href="#CIHFIHAG">&#34;Deleting a RESTful Service Privilege&#34;</a>.</div>
</div>
<!-- class="sect3" -->
<a id="CIHIBBBA"></a><a id="AEUTL29143"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.6.4.2</span> Creating a RESTful Service Privilege</h4>
<p>You can create a RESTful Service Privilege to restrict access to specified users for one or more RESTful Web Service modules. A RESTful Service Privilege can include users belonging to one or more user groups. RESTful Web Service modules protected by this privilege display the privilege name for Required Privilege on the RESTful Service Module page.</p>
<p>To create a RESTful Service Privilege:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Under Tasks, click the <span class="bold">RESTful Services Privileges</span> link.</p>
<p>The RESTful Service Privileges page appears.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The RESTful Service Privileges Details page appears.</p>
</li>
<li>
<p>For Name, enter a name to identify the privilege.</p>
</li>
<li>
<p>For Label, enter a label value to identify the privilege.</p>
</li>
<li>
<p>For Assigned Groups, select the user groups this privilege is assigned to.</p>
</li>
<li>
<p>For Description, enter a description of this privilege.</p>
</li>
<li>
<p>For Protected Modules, use the arrows to select the modules this privilege is assigned to.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The RESTful Service Privileges page appears.</p>
</li>
</ol>
<p>To verify the privilege has been assigned to the appropriate modules:</p>
<ol>
<li>
<p>Click <span class="bold">RESTful Services</span> in the breadcrumb.</p>
<p>The RESTful Services page appears.</p>
</li>
<li>
<p>Click the protected RESTful Service Module.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>Make sure the Required Privilege displays the created RESTful Service Privilege.</p>
</li>
<li>
<p>Repeat these verification steps to ensure all modules assigned to this privilege are protected.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHJIDFI"></a><a id="AEUTL29144"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.6.4.3</span> Editing a RESTful Service Privilege</h4>
<p>You can modify a RESTful Service Privilege. Changes to the specified Protected Modules will be reflected in the Required Privilege setting on the RESTful Service Module page for affected modules.</p>
<p>To edit a RESTful Service Privilege:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Under Tasks, click the <span class="bold">RESTful Services Privileges</span> link.</p>
<p>The RESTful Service Privileges page appears.</p>
</li>
<li>
<p>Click a RESTful Service Privilege.</p>
<p>The RESTful Service Privileges Details page appears.</p>
</li>
<li>
<p>Make modifications.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The RESTful Service Privileges page appears.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHFIHAG"></a><a id="AEUTL29145"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.6.4.4</span> Deleting a RESTful Service Privilege</h4>
<p>You can remove a RESTful Service Privilege. After deleting the privilege, any RESTful Service Modules that were protected by this privilege will be unprotected until reassigned another privilege.</p>
<p>To delete a RESTful Service Privilege:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Under Tasks, click the <span class="bold">RESTful Services Privileges</span> link.</p>
<p>The RESTful Service Privileges page appears.</p>
</li>
<li>
<p>Click a RESTful Service Privilege.</p>
<p>The RESTful Service Privileges Details page appears.</p>
</li>
<li>
<p>Click <span class="bold">Delete</span>.</p>
<p>The RESTful Service Privileges page appears.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIHFFEID"></a><a id="AEUTL29146"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.6.5</span> Exporting a RESTful <a id="sthref378"></a>Service Module</h3>
<p>RESTful Service Module meta data can be exported to a file in SQL script format. The exported file can be imported on the same instance or another compatible instance of Application Express. See <a href="#CIHGJDDC">&#34;Importing a RESTful Service Module&#34;</a>.</p>
<p>To export a RESTful Service module:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Under Tasks, click the <span class="bold">Export</span> link.</p>
<p>The Export RESTful Services page appears.</p>
</li>
<li>
<p>For RESTful Service, perform one of the following:</p>
<ul>
<li>
<p>To export one module, select the module name.</p>
</li>
<li>
<p>To export all modules, select <span class="bold">All Services</span>.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Export</span>.</p>
<p>The Opening dialog appears.</p>
</li>
<li>
<p>Select export options.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHGJDDC"></a><a id="AEUTL29147"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.6.6</span> Importing a <a id="sthref379"></a>RESTful Service Module</h3>
<p>RESTful Service Module meta data that has been exported to a file in SQL script format can be imported. The imported module must have been exported on the same instance or another compatible instance of Application Express. See <a href="#CIHFFEID">&#34;Exporting a RESTful Service Module&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the imported module contains a RESTful Service name that exists in this workspace, the existing RESTful Service is deleted and replaced with the definition from the imported module.</div>
<p>To import a RESTful Service module:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Under Tasks, click the <span class="bold">Import</span> link.</p>
<p>The Import RESTful Services page appears.</p>
</li>
<li>
<p>For Import File, browse to and select the import file.</p>
</li>
<li>
<p>For File Character Set, select the character set used by the import file.</p>
</li>
<li>
<p>Click <span class="bold">Import</span>.</p>
<p>The RESTful Services page appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABHEDBE"></a><a id="AEUTL454"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.7</span> Managing Resource <a id="sthref380"></a><a id="sthref381"></a>Templates</h2>
<p>Resource templates are a means of grouping URIs and associating them with a particular RESTful Service Module. Resource templates can have one or more resource handlers. Only one resource handler per HTTP method is permitted. For example, a resource template can have only one GET method, only one DELETE method and so on.</p>
<p class="subhead2"><a id="AEUTL455"></a>Topics:</p>
<ul>
<li>
<p><a href="#BABCJADJ">Adding a Resource Template</a></p>
</li>
<li>
<p><a href="#BABEIHBF">Editing a Resource Template</a></p>
</li>
<li>
<p><a href="#BABJIIHG">Deleting a Resource Template</a></p>
</li>
</ul>
<a id="BABCJADJ"></a><a id="AEUTL456"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.7.1</span> Adding a <a id="sthref382"></a>Resource Template</h3>
<p>To add a resource template to a RESTful Service Module:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the RESTful Service for which you want to create a resource template.</p>
</li>
<li>
<p>On the RESTful Service tree, click <span class="bold">Create Template</span>.</p>
<p>The resource template settings appear on the right panel.</p>
</li>
<li>
<p>Fill in the appropriate fields and select the appropriate options. Mandatory fields are marked with a red asterisk (*). To learn more about a specific option, see the item Help for that option.</p>
</li>
<li>
<p>Specify the following:</p>
<ul>
<li>
<p><span class="bold">URI Template</span> - Enter the URI template to identify your Uniform Resource Identifiers. A URI template is simple syntax for describing URIs, for example:</p>
<pre>example/{id}
</pre></li>
<li>
<p><span class="bold">Priority</span> - Specify the template&#39;s evaluation order. Higher numbers are evaluated first.</p>
</li>
<li>
<p><span class="bold">Entity Tag</span> - Specify how the ETag HTTP Header for the resource is generated. See item Help for further details.</p>
</li>
<li>
<p><span class="bold">Entity Tag Query</span> - Specify the SQL SELECT statement that returns one column and one row that is to be used to generate a custom entity tag. This option is only visible when the user selects Query for the Entity Tag.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABEIHBF"></a><a id="AEUTL457"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.7.2</span> Editing a <a id="sthref383"></a>Resource Template</h3>
<p>To edit a resource template:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the name of the module the resource template you want to edit belongs to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>On the RESTful Service tree, click the resource template you want to edit.</p>
<p>The selected resource template is highlighted on the RESTful Service tree and the corresponding resource template settings appear on the right panel.</p>
</li>
<li>
<p>Make the changes you want. See <a href="#BABCJADJ">&#34;Adding a Resource Template&#34;</a> for further details.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABJIIHG"></a><a id="AEUTL458"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.7.3</span> Deleting a <a id="sthref384"></a>Resource Template</h3>
<p>Deleting a resource template removes the template along with all resource handlers associated with this template.</p>
<p>To delete a resource template:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the name of the module you want to update.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>On the RESTful Service tree, click the resource template you want to delete.</p>
<p>The resource template settings appear on the right panel.</p>
</li>
<li>
<p>Click <span class="bold">Delete</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to confirm.</p>
<p>The RESTful Service Module appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEBGIJ"></a><a id="AEUTL459"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.8</span> Managing <a id="sthref385"></a>Resource Handlers</h2>
<p>A resource handler is a query or an anonymous PL/SQL block responsible for handling a particular HTTP method. Multiple resource handlers can be defined for a resource template, however only one resource handler can be defined for a HTTP method.</p>
<p>Parameters to a resource handler can be manually defined to bind HTTP headers to the resource handler, or to cast a URI template parameter to a specific data type. Parameters declared in the URI template are implicitly passed to the resource handler. For example, a resource handler might need to know the value of the HTTP Accept-Language header in order to localize the generated representation.</p>
<p class="subhead2"><a id="AEUTL460"></a>Topics:</p>
<ul>
<li>
<p><a href="#BABFJDGC">Adding a Resource Handler</a></p>
</li>
<li>
<p><a href="#BABFEDBI">Editing a Resource Handler</a></p>
</li>
<li>
<p><a href="#BABBAFHE">Deleting a Resource Handler</a></p>
</li>
</ul>
<a id="BABFJDGC"></a><a id="AEUTL461"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.8.1</span> Adding a <a id="sthref386"></a>Resource Handler</h3>
<p>To add a resource handler to a resource template:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the RESTful Service you want to add a resource handler to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>On the left panel, under the associated resource template, click <span class="bold">Create Handler</span>.</p>
<p>The resource handler settings appear on the right panel.</p>
</li>
<li>
<p>Fill in the appropriate fields and select the appropriate options. Mandatory fields are marked with a red asterisk (*). To learn more about a specific option, see the item Help for that option.</p>
</li>
<li>
<p>Under Resource Handler, specify the following:</p>
<ul>
<li>
<p><span class="bold">Method</span> - Specify the HTTP method to be used for the resource handler. See item Help for further details.</p>
</li>
<li>
<p><span class="bold">Source Type</span> - Identify the strategy type used to generate the resource. See item help for further information.</p>
</li>
<li>
<p><span class="bold">Requires Secure Access</span> - Identify whether the resource should be accessed over a secure channel, for example, HTTPS. Set to Yes if secure access is required</p>
</li>
<li>
<p><span class="bold">Pagination Size</span> - Identify the size of the pagination window. For database queries, this is the number of rows to return.</p>
</li>
</ul>
</li>
<li>
<p>Under Source, enter the SQL query or PL/SQL block responsible for handling the selected HTTP method. Click <span class="bold">Example</span> at the bottom of the page for further details.</p>
</li>
<li>
<p>To test the behavior of the resource handler:</p>
<ol>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
<li>
<p>If you have bind variables in your SQL query or PL/SQL block, click Set Bind Variables and define the bind variables before testing.</p>
</li>
<li>
<p>Click <span class="bold">Test</span>.</p>
<p>A new window appears displaying the JSON result of executing the RESTful Service. The URL used in the test is composed of the value of the URI prefix and URI Template, along with any parameters.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
To make the test results easier to read, the installation of a JSON Viewer in your browser is recommended.</div>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The RESTful Services Module page appears.</p>
</li>
<li>
<p>To add parameters to the resource handler:</p>
<ol>
<li>
<p>Click <span class="bold">Create Parameter</span>.</p>
<p>The parameter settings appear on the Resource Handler Parameter panel.</p>
</li>
<li>
<p>For <span class="bold">Name</span>, enter the identifying parameter name.</p>
</li>
<li>
<p>For <span class="bold">Bind Variable Name</span>, enter the parameter bind variable name used within the SQL query or PL/SQL block.</p>
</li>
<li>
<p>For <span class="bold">Access Method</span>, select the HTTP method. Options include IN, IN/OUT, or OUT. URI Template parameters can only be IN. A value of IN for a header parameter implies the header will be present in the HTTP request. A value of IN/OUT indicates the value will be present in both the HTTP request and response. A value of OUT indicates the value will only be present in the HTTP response.</p>
</li>
<li>
<p>For <span class="bold">Source Type</span>, select the parameter source type.</p>
</li>
<li>
<p>For <span class="bold">Parameter Type</span>, select the data type of the parameter.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The resource handler page appears with the added parameter included under Parameters at the bottom of the right panel.</p>
</li>
<li>
<p>For each parameter you want to add, repeat the above steps in this subsection.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABFEDBI"></a><a id="AEUTL462"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.8.2</span> Editing a <a id="sthref387"></a>Resource Handler</h3>
<p>To edit a resource handler:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the name of the Resource Service Module the resource handler belongs to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>On the RESTful Service tree, click the resource handler you want to edit.</p>
<p>The resource handler settings appears on the right panel.</p>
</li>
<li>
<p>Make the changes you want. See <a href="#BABFJDGC">&#34;Adding a Resource Handler&#34;</a> for further details.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The RESTful Service Module page appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABBAFHE"></a><a id="AEUTL463"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.8.3</span> Deleting a <a id="sthref388"></a>Resource Handler</h3>
<p>To delete a resource handler:</p>
<ol>
<li>
<p>On the Workspace home page, click <span class="bold">SQL Workshop</span> and then <span class="bold">RESTful Services</span>.</p>
<p>The RESTful Services home page appears.</p>
</li>
<li>
<p>Click the name of the module the resource handler belongs to.</p>
<p>The RESTful Service Module page appears.</p>
</li>
<li>
<p>On the RESTful Service tree, click the resource handler you want to delete.</p>
<p>The resource handler settings appear on the right panel.</p>
</li>
<li>
<p>Click <span class="bold">Delete</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to confirm.</p>
<p>The RESTful Service Module appears.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment301">
<tr>
<td class="cellalignment310">
<table class="cellalignment306">
<tr>
<td class="cellalignment305"><a href="sql_utl.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment305"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment313">
<table class="cellalignment304">
<tr>
<td class="cellalignment305"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment305"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment305"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment305"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment305"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment305"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
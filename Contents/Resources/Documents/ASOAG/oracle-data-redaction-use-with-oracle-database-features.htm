<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-2532"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Data%20Redaction%20Use%20with%20Oracle%20Database%20Features"></a><title>Oracle Data Redaction Use with Oracle Database Features</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Oracle Data Redaction can be used with other Oracle features. Some Oracle features may have restrictions with regard to Oracle Data Redaction."/>
<meta name="keywords" content="DML statements, Oracle Data Redaction policies, DDL statements, ORA-28081, Insufficient privileges - the command references a redacted object error, Oracle Data Redaction, nested functions order of redaction, nested functions, Data Redaction policies order of redaction, inline views order of redaction, inline views, WHERE clause redaction, Data Redaction redaction, Oracle Data Redaction, database links, database links, with Oracle Data Redaction policies, aggregate functions, affect on Data Redaction policy optimization, XML generation, columns with XML-generated data, editions, CDBs, Data Redaction masking policies, PDBs, Data Redaction policies, how differs from Oracle Virtual Private Database masking, Oracle Virtual Private Database (VPD), Data Redaction, how differs from Oracle Database Real Application Security masking, Oracle Database Real Application Security, Oracle Data Pump, Oracle Data Redaction security policy, Oracle Data Pump security policy, exporting objects using Data Pump, exporting Oracle Data Redaction objects, exporting data using Data Pump Export, exported data from Data Redaction policies, importing data using Data Pump Export, imported data from Data Redaction policies, Oracle Enterprise Manager Data Masking and Subsetting Pack, Oracle Data Redaction impact, Oracle Enterprise Manager Data Masking and Subsetting Pack"/>
<meta name="dcterms.created" content="2017-06-05T10:46:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Security Guide"/>
<meta name="dcterms.identifier" content="E50333-18"/>
<meta name="dcterms.isVersionOf" content="ASOAG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="using-oracle-data-redaction-in-oracle-enterprise-manager.htm" title="Previous" type="text/html"/>
<link rel="Next" href="security-considerations-for-using-oracle-data-redaction.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50333-18.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-D0C97997-0F35-42B7-98B1-1DA4197001F0"></a> <span id="PAGE" style="display:none;">18/21</span> <!-- End Header -->
<a id="ASOAG10491"></a>
<h1 class="sect1"><span class="enumeration_chapter">12</span> Oracle Data Redaction Use with Oracle Database Features</h1>
<div>
<p>Oracle Data Redaction can be used with other Oracle features. Some Oracle features may have restrictions with regard to Oracle Data Redaction.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-7F507B1B-12C8-4F1A-9C3E-09022D2068FA" title="Oracle Data Redaction affects DML and DDL operations, especially for users who issue ad-hoc SQL against tables with redacted columns.">Oracle Data Redaction and DML and DDL Operations</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-1B4178D5-E0FD-49F4-A0B0-267B9AEF226B" title="You can use Oracle Data Redaction with nested functions, inline views, and the WHERE clause in SELECT statements.">Oracle Data Redaction and Nested Functions, Inline Views, and the WHERE Clause</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-6C639026-0F6D-4F31-BD75-776E90E88550" title="Do not create Oracle Data Redaction policies on database views that reference database links.">Oracle Data Redaction and Database Links</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-C5920C06-C23B-41CE-9162-F88AB3843F71" title="Aggregate functions can affect performance overhead on Oracle Data Redaction policies.">Oracle Data Redaction and Aggregate Functions</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-528FC7E0-9CA3-4922-AA0F-78BF2B19515D" title="You can use object types to model real-world entities such as customer accounts.">Oracle Data Redaction and Object Types</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-B5733E56-B104-4382-94AA-AA9526D9FF3F" title="You cannot use XML generation functions on columns that have Oracle Data Redaction policies defined on them.">Oracle Data Redaction and XML Generation</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-E4D02F00-674D-4C56-89AC-F947C8DA31B7" title="You cannot redact editioned views.">Oracle Data Redaction and Editions</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-52FA95B1-8823-43F9-9D96-8F801BF16178" title="In a multitenant environment, Oracle Data Redaction policies apply only to the objects within the current pluggable database (PDB).">Oracle Data Redaction in a Multitenant Environment</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-005796B2-304C-47AD-9655-DE200F3CEC99" title="Oracle Data Redaction does not affect Oracle Virtual Private Database policies because the VPD inline view, which contains the VPD predicate, acts on actual values.">Oracle Data Redaction and Oracle Virtual Private Database</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-89F04071-C0C2-423B-BF0C-BECB504984D5" title="Oracle Data Redaction differs from Oracle Database Real Application Security because of how security is implemented for applications.">Oracle Data Redaction and Oracle Database Real Application Security</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884" title="You can use Oracle Data Redaction in an Oracle Database Vault environment.">Oracle Data Redaction and Oracle Database Vault</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1" title="When you use Oracle Data Redaction with Oracle Data Pump, you must consider the impact the DATAPUMP_EXP_FULL_DATABASE role has, the ramifications of exporting objects that contain Data Redaction policies, and exporting data using the EXPDP access_method parameter.">Oracle Data Redaction and Oracle Data Pump</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-A75CA148-1D47-4012-8849-92AD9265114B" title="Oracle Enterprise Manager Data Masking and Subsetting Pack can be used to create a development or test copy of a production database.">Oracle Data Redaction and Data Masking and Subsetting Pack</a></p>
</li>
</ul>
</div>
<a id="ASOAG10600"></a>
<div class="props_rev_3"><a id="GUID-7F507B1B-12C8-4F1A-9C3E-09022D2068FA"></a>
<h2 class="sect2">Oracle Data Redaction and DML and DDL Operations</h2>
<div>
<p>Oracle Data Redaction affects DML and DDL operations, especially for users who issue ad-hoc SQL against tables with redacted columns.</p>
<p>Note the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Data Redaction treats the <code class="codeph">RETURNING INTO</code> clause of a DML statement as a query, even though the result is not displayed. The result that is sent to the buffer is what would have been displayed had the <code class="codeph">RETURNING INTO</code> clause been run as an ordinary SQL query, rather than as part of a DML statement. If your application performs further processing on the buffer that contains the <code class="codeph">RETURNING INTO</code> value, then consider changing the application because it may not expect to find a redacted value in the buffer.</p>
</li>
<li>
<p>If a redacted column appears as the source in a DML or DDL operation, then Oracle Data Redaction considers this as an attempt to circumvent the policy and prevents it with an <code class="codeph">ORA-28081: Insufficient privileges - the command references a redacted object</code> error unless you have the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege. Internally, Oracle Data Pump issues these kinds of operations, so you may also need to grant the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege to a user if they need to perform schema-level exports of tables that have redacted columns.</p>
</li>
</ul>
</div>
</div>
<a id="ASOAG10493"></a>
<div class="props_rev_3"><a id="GUID-1B4178D5-E0FD-49F4-A0B0-267B9AEF226B"></a>
<h2 class="sect2">Oracle Data Redaction and Nested Functions, Inline Views, and the WHERE Clause</h2>
<div>
<p>You can use Oracle Data Redaction with nested functions, inline views, and the <code class="codeph">WHERE</code> clause in <code class="codeph">SELECT</code> statements.</p>
<p>Oracle Data Redaction policies work as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Nested functions are redacted innermost.</span> For example, in <code class="codeph">SELECT SUM(AVG(TO_NUMBER(((X))) FROM HR.EMPLOYEES WHERE ...</code>, the <code class="codeph">TO_NUMBER</code> function is redacted first, followed by <code class="codeph">AVG</code>, and then last the <code class="codeph">SUM</code> function.</p>
</li>
<li>
<p><span class="bold">Inline views are redacted outermost.</span> For example, in <code class="codeph">SELECT XYZ &hellip; AS SELECT A&hellip; AS SELECT B&hellip; AS SELECT C&hellip;</code>, <code class="codeph">SELECT XYZ</code> is redacted first, followed by <code class="codeph">AS SELECT A</code>, then <code class="codeph">AS SELECT B</code>, and so on. <code class="codeph">AS SELECT C</code> is redacted last.</p>
</li>
<li>
<p><span class="bold">The WHERE clause is never redacted.</span> Data Redaction redacts only data in the column <code class="codeph">SELECT</code> list.</p>
</li>
</ul>
</div>
</div>
<div class="sect2"><a id="GUID-6C639026-0F6D-4F31-BD75-776E90E88550"></a>
<h2 class="sect2">Oracle Data Redaction and Database Links</h2>
<div>
<p>Do not create Oracle Data Redaction policies on database views that reference database links.</p>
<p>You can find information about existing database links by querying the <code class="codeph">DBA_DB_LINKS</code> data dictionary view.</p>
<div class="infoboxnotealso" id="GUID-6C639026-0F6D-4F31-BD75-776E90E88550__GUID-C671834B-555E-4345-B70E-0A68B6F378F3">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN12083" target="_blank" href="../ADMIN/ds_concepts.htm#ADMIN12083"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> for detailed information about database links</p>
</div>
</div>
</div>
<a id="ASOAG10495"></a>
<div class="props_rev_3"><a id="GUID-C5920C06-C23B-41CE-9162-F88AB3843F71"></a>
<h2 class="sect2">Oracle Data Redaction and Aggregate Functions</h2>
<div>
<p>Aggregate functions can affect performance overhead on Oracle Data Redaction policies.</p>
<p>Because Oracle Data Redaction dynamically modifies the value of each row in a column, certain SQL queries that use aggregate functions cannot take full advantage of database optimizations that presume the row values to be static.</p>
<p>In the case of SQL queries that call aggregate functions, it may be possible to notice performance overhead due to redaction.</p>
</div>
</div>
<a id="ASOAG10509"></a>
<div class="props_rev_3"><a id="GUID-528FC7E0-9CA3-4922-AA0F-78BF2B19515D"></a>
<h2 class="sect2">Oracle Data Redaction and Object Types</h2>
<div>
<p>You can use object types to model real-world entities such as customer accounts.</p>
<p>An object type is a user-defined type. You cannot redact object types. This is because Database Redaction cannot handle all of the possible ways that object types can be configured, because they are user defined. You can find the type that an object uses by querying the <span class="apiname">OBJECT_NAME</span> and <span class="apiname">OBJECT_TYPE</span> columns of the <span class="apiname">ALL_OBJECTS</span> data dictionary view.</p>
</div>
</div>
<div class="sect2"><a id="GUID-B5733E56-B104-4382-94AA-AA9526D9FF3F"></a>
<h2 class="sect2">Oracle Data Redaction and XML Generation</h2>
<div>
<p>You cannot use XML generation functions on columns that have Oracle Data Redaction policies defined on them.</p>
<p><a class="olink ADXDB1620" target="_blank" href="../ADXDB/xdb13gen.htm#ADXDB1620"><span><cite>Oracle XML&nbsp;DB Developer&rsquo;s Guide</cite></span></a> describes the kinds of SQL functions to which this restriction applies. This restriction applies irrespective of whether the Oracle Data Redaction policy has been enabled or disabled, or is active for the querying user.</p>
</div>
</div>
<a id="ASOAG400"></a>
<div class="props_rev_3"><a id="GUID-E4D02F00-674D-4C56-89AC-F947C8DA31B7"></a>
<h2 class="sect2">Oracle Data Redaction and Editions</h2>
<div>
<p>You cannot redact editioned views.</p>
<p>In addition to not being able to redact editioned views, you cannot use a redacted column in the definition of any editioned view. You can find information about editions by querying the <span class="apiname">DBA_EDITIONS</span> data dictionary view.</p>
</div>
</div>
<a id="ASOAG416"></a>
<div class="props_rev_3"><a id="GUID-52FA95B1-8823-43F9-9D96-8F801BF16178"></a>
<h2 class="sect2">Oracle Data Redaction in a Multitenant Environment</h2>
<div>
<p>In a multitenant environment, Oracle Data Redaction policies apply only to the objects within the current pluggable database (PDB).</p>
<p>You cannot create a Data Redaction policy for a multitenant container database (CDB). This is because the objects for which you create Data Redaction policies typically reside in a PDB. You can find all the PDBs in a CDB by querying the <span class="apiname">DBA_PDBS</span> data dictionary view.</p>
</div>
</div>
<a id="ASOAG611"></a>
<div class="props_rev_3"><a id="GUID-005796B2-304C-47AD-9655-DE200F3CEC99"></a>
<h2 class="sect2">Oracle Data Redaction and Oracle Virtual Private Database</h2>
<div>
<p>Oracle Data Redaction does not affect Oracle Virtual Private Database policies because the VPD inline view, which contains the VPD predicate, acts on actual values.</p>
<p>Oracle Data Redaction differs from Oracle Virtual Private Database in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Data Redaction provides more redacting features than Oracle Virtual Private Database, which only supports <code class="codeph">NULL</code> redacting. Many applications cannot use <code class="codeph">NULL</code> redacting, so Data Redaction is a good solution for these applications.</p>
</li>
<li>
<p>Oracle Virtual Private Database policies can be static, dynamic, and context sensitive, whereas Data Redaction policies only allow static and context-sensitive policy expressions.</p>
</li>
<li>
<p>Data Redaction permits only one policy to be defined on a table or view, whereas you can define multiple Virtual Private Database policies on an object.</p>
</li>
<li>
<p>Data Redaction is when application users try to access an object that is protected by a Data Redaction policy using a synonym, but (unlike Oracle Virtual Private Database) Data Redaction does not support the creation of policies directly on the synonyms themselves.</p>
</li>
</ul>
</div>
</div>
<a id="ASOAG613"></a>
<div class="props_rev_3"><a id="GUID-89F04071-C0C2-423B-BF0C-BECB504984D5"></a>
<h2 class="sect2">Oracle Data Redaction and Oracle Database Real Application Security</h2>
<div>
<p>Oracle Data Redaction differs from Oracle Database Real Application Security because of how security is implemented for applications.</p>
<p>Oracle Data Redaction differs from Oracle Database Real Application Security in that Real Application Security provides a comprehensive authorization framework for application security.</p>
<p>Column security within Real Application Security is based on application privileges that are defined by applications using the Real Application Security framework.</p>
<div class="infoboxnotealso" id="GUID-89F04071-C0C2-423B-BF0C-BECB504984D5__GUID-DF5773F5-DFA7-4453-B40A-09626AAADD34">
<p class="notep1">See Also:</p>
<p><a class="olink DBFSG99179" target="_blank" href="../DBFSG/data_security.htm#DBFSG99179"><span><cite>Oracle Database Real Application Security Administrator&#39;s and Developer&#39;s Guide</cite></span></a> for information about how you can protect table columns with custom application privileges</p>
</div>
</div>
</div>
<a id="ASOAG749"></a>
<div class="props_rev_3"><a id="GUID-679EACAA-49D1-410E-B8BD-BF6C3DCDC884"></a>
<h2 class="sect2">Oracle Data Redaction and Oracle Database Vault</h2>
<div>
<p>You can use Oracle Data Redaction in an Oracle Database Vault environment.</p>
<p>For example, if there is an Oracle Database Vault realm around an object, a user who does not belong to the authorized list of realm owners or participants cannot see the object data, regardless of whether the user was granted the <code class="codeph">EXEMPT REDACTION POLICY</code> privilege. If the user attempts a DML or DDL statement on the data, error messages result.</p>
</div>
</div>
<a id="ASOAG810"></a>
<div class="props_rev_3"><a id="GUID-DE91C0ED-92E5-40C6-B9B0-EFC710F0C5D1"></a>
<h2 class="sect2">Oracle Data Redaction and Oracle Data Pump</h2>
<div>
<p>When you use Oracle Data Redaction with Oracle Data Pump, you must consider the impact the <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role has, the ramifications of exporting objects that contain Data Redaction policies, and exporting data using the <code class="codeph">EXPDP</code> <code class="codeph">access_method</code> parameter.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9" title="The DATAPUMP_EXP_FULL_DATABASE role includes the powerful EXEMPT REDACTION POLICY system privilege.">Oracle Data Pump Security Model for Oracle Data Redaction</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-375CD335-F866-4A4D-A909-D9C519E2CF31" title="You can export objects that have already had Oracle Data Redaction policies defined on them.">Export of Objects That Have Oracle Data Redaction Policies Defined</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98" title="Oracle Data Pump can export data from a schema that contains an object that has a Data Redaction policy.">Export of Data Using the EXPDP Utility access_method Parameter</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240" title="During an import operation, be careful that you do not inadvertently drop data redaction policies that protect imported data.">Import of Data into Objects Protected by Oracle Data Redaction</a></p>
</li>
</ul>
</div>
<a id="ASOAG811"></a>
<div class="props_rev_3"><a id="GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9"></a>
<h3 class="sect3">Oracle Data Pump Security Model for Oracle Data Redaction</h3>
<div>
<p>The <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role includes the powerful <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege.</p>
<p>Remember that by default the <code class="codeph">DBA</code> role is granted the <code class="codeph">DATAPUMP_EXP_FULL_DATABASE</code> role as well as <code class="codeph">DATAPUMP_IMP_FULL_DATABASE</code>.</p>
<p>This enables users who were granted these roles to be exempt from Data Redaction policies. This means that, when you export objects with Data Redaction policies defined on them, the <a href="glossary.htm#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">actual data</span></a> in the protected tables is copied to the Data Pump target system without being redacted. Users with these roles, including users who were granted the <code class="codeph">DBA</code> role, are able to see the actual data in the target system.</p>
<p>However, by default, all of the Data Redaction policies associated with any tables and views in the Data Pump source system are also included in the export and import operation (along with the objects themselves) and applied to the objects in the target system, so the data is still redacted when users query the objects in the target system.</p>
<div class="infoboxnotealso" id="GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9__GUID-D2AC1C08-792D-45A1-BA2B-FC60B09E22F5">
<p class="notep1">See Also:</p>
<p><a href="configuring-oracle-data-redaction-policies.htm#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="You can exempt users from having Oracle Data Redaction policies applied to the data they access.">Exemption of Users from Oracle Data Redaction Policies</a></p>
</div>
</div>
</div>
<a id="ASOAG812"></a>
<div class="props_rev_3"><a id="GUID-375CD335-F866-4A4D-A909-D9C519E2CF31"></a>
<h3 class="sect3">Export of Objects That Have Oracle Data Redaction Policies Defined</h3>
<div>
<p>You can export objects that have already had Oracle Data Redaction policies defined on them.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-D8064A3D-C6B1-4029-A644-FDB7269FA730" title="You must find the type names Oracle Data Pump uses before exporting objects that have Oracle Data Redaction policies defined on these objects.">Finding Type Names Used by Oracle Data Pump</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-D2B31B3A-0521-4662-A978-07E29723E295" title="You can export only the data dictionary metadata that is related to data redaction policies and full redaction settings.">Exporting Only the Data Dictionary Metadata Related to Data Redaction Policies</a></p>
</li>
<li>
<p><a href="oracle-data-redaction-use-with-oracle-database-features.htm#GUID-17E69EB2-D8DD-4815-AEC4-C05C20C2277A" title="You can import objects using Oracle Database Pump.">Importing Objects Using the INCLUDE Parameter in IMPDP</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-D8064A3D-C6B1-4029-A644-FDB7269FA730"></a>
<h4 class="sect4">Finding Type Names Used by Oracle Data Pump</h4>
<div>
<p>You must find the type names Oracle Data Pump uses before exporting objects that have Oracle Data Redaction policies defined on these objects.</p>
<div class="section">
<p>After you find these types, you should use these types as parameters for the <code class="codeph">INCLUDE</code> directive to the <code class="codeph">IMPDP</code> utility, to selectively export only metadata of these specific types to the dump file.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To find type names, query the <code class="codeph">DATABASE_EXPORT_OBJECTS</code> view.</p>
</li>
</ul>
<p>For example:</p>
<pre dir="ltr">SELECT OBJECT_PATH
FROM DATABASE_EXPORT_OBJECTS
WHERE OBJECT_PATH LIKE &#39;RADM_%&#39;; 
</pre>
<p>Output similar to the following appears:</p>
<pre dir="ltr">OBJECT_PATH
------------
RADM_FPTM
RADM_POLICY
</pre></div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-D2B31B3A-0521-4662-A978-07E29723E295"></a>
<h4 class="sect4">Exporting Only the Data Dictionary Metadata Related to Data Redaction Policies</h4>
<div>
<p>You can export only the data dictionary metadata that is related to data redaction policies and full redaction settings.</p>
<div class="section">
<p>This kind of Data Pump export could, for example, be used if you must use the same set of Data Redaction policies and settings across development, test, and production databases. Because the flag <code class="codeph">content=metadata_only</code> is specified, the dump file does not contain any actual data.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To export only the data dictionary metadata related to data redaction policies and full redaction settings, enter an <code class="codeph">EXPDP</code> utility command similar to the following:</p>
<pre dir="ltr">expdp system/<span class="italic">password</span> \
full=y \
COMPRESSION=NONE \
content=metadata_only \
INCLUDE=RADM_FPTM,RADM_POLICY\
directory=my_directory \
job_name=my_job_name \
dumpfile=my_data_redaction_policy_metadata.dmp
</pre></li>
</ul>
<div class="infoboxnotealso" id="GUID-D2B31B3A-0521-4662-A978-07E29723E295__GUID-84A32D0E-E1DE-466E-AB77-EC678280BECE">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SUTIL853" target="_blank" href="../SUTIL/GUID-A3C5241C-098C-42FF-B7D1-6018B2ABC282.htm#SUTIL853"><span><cite>Oracle Database Utilities</cite></span></a> for detailed information about the <code class="codeph">INCLUDE</code> parameter of the <code class="codeph">EXPDP</code> utility</p>
</li>
<li>
<p><a class="olink SUTIL835" target="_blank" href="../SUTIL/GUID-1F85C939-E439-4436-BFEF-6DC7E167C912.htm#SUTIL835"><span><cite>Oracle Database Utilities</cite></span></a> for detailed information about metadata filters</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-17E69EB2-D8DD-4815-AEC4-C05C20C2277A"></a>
<h4 class="sect4">Importing Objects Using the INCLUDE Parameter in IMPDP</h4>
<div>
<p>You can import objects using Oracle Database Pump.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To import the objects, include these names in the <code class="codeph">INCLUDE</code> parameter in the <code class="codeph">IMPDP</code> utility command, based on the output from querying the <code class="codeph">OBJECT_PATH</code> column in the <code class="codeph">DATABASE_EXPORT_OBJECTS</code> view.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ASOAG898"></a>
<div class="props_rev_3"><a id="GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98"></a>
<h3 class="sect3">Export of Data Using the EXPDP Utility access_method Parameter</h3>
<div>
<p>Oracle Data Pump can export data from a schema that contains an object that has a Data Redaction policy.</p>
<p>If you are using Oracle Data Pump to perform full database export operations using the Data Pump default settings (<code class="codeph">direct_path</code>), and if you receive error messages that you do not understand, then use this section to repeat the operation in such a way as to better understand the error.</p>
<p>If you try to use the Oracle Data Pump Export (<code class="codeph">EXPDP</code>) utility with the <code class="codeph">access_method</code> parameter set to <code class="codeph">direct_path</code> to export data from a schema that contains an object that has a Data Redaction policy defined on it, then the following error message may appear and the export operation fails:</p>
<pre dir="ltr">ORA-31696: unable to export/import TABLE_DATA:&#34;<span class="italic">schema.table</span>&#34; using client specified DIRECT_PATH method
</pre>
<p>This problem only occurs when you perform a schema-level export as a user who was not granted the <code class="codeph">EXP_FULL_DATABASE</code> role. It does not occur during a full database export, which requires the <code class="codeph">EXP_FULL_DATABASE</code> role. The <code class="codeph">EXP_FULL_DATABASE</code> role includes the <code class="codeph">EXEMPT REDACTION POLICY</code> system privilege, which bypasses Data Redaction policies.</p>
<p>To find the underlying problem, try the <code class="codeph">EXPDP</code> invocation again, but do not set the <code class="codeph">access_method</code> parameter to <code class="codeph">direct_path</code>. Instead, use either <code class="codeph">automatic</code> or <code class="codeph">external_table</code>. The underlying problem could be a permissions problem, for example:</p>
<pre dir="ltr">ORA-28081: Insufficient privileges - the command references a redacted object.
</pre>
<div class="infoboxnotealso" id="GUID-D1588074-1B20-48FF-B59E-78D6AEB4AD98__GUID-4B2230B9-4401-4E5F-922D-AA9A308D540D">
<p class="notep1">See Also:</p>
<p><a class="olink SUTIL200" target="_blank" href="../SUTIL/GUID-5F7380CE-A619-4042-8D13-1F7DDE429991.htm#SUTIL200"><span><cite>Oracle Database Utilities</cite></span></a> for more information about using Data Pump Export.</p>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240"></a>
<h3 class="sect3">Import of Data into Objects Protected by Oracle Data Redaction</h3>
<div>
<p>During an import operation, be careful that you do not inadvertently drop data redaction policies that protect imported data.</p>
<p>Consider a scenario in which the source tables that were exported using the Oracle Data Pump Export (<code class="codeph">EXPDP</code>) utility do not have Oracle Data Redaction polices. However, the destination tables to which the data is to be imported by using Oracle Data Pump Import (<code class="codeph">IMPDP</code>) have Oracle Data Redaction policies.</p>
<div class="p">During the Data Pump import operation, the status of the Data Redaction policies on the objects being imported depends on the <code class="codeph">CONTENT</code> option of <code class="codeph">IMPDP</code> command.
<ul style="list-style-type: disc;">
<li>
<p>If you use the <code class="codeph">CONTENT=ALL</code>&nbsp;or <code class="codeph">CONTENT=METADATA_ONLY</code> option in the <code class="codeph">IMPDP</code> command, then the Data Redaction policies on the destination tables are dropped. You must recreate the Data Redaction policies.</p>
</li>
<li>
<p>If you use <code class="codeph">CONTENT=DATA_ONLY</code> in the <code class="codeph">IMPDP</code> command, then the Data Redaction polices on the destination tables are not dropped.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-A805CDB6-F4F6-4AA3-ABB4-2D8E7B94E240__GUID-4B2230B9-4401-4E5F-922D-AA9A308D540D">
<p class="notep1">See Also:</p>
<p><a class="olink SUTIL300" target="_blank" href="../SUTIL/GUID-D11E340E-14C6-43B8-AB09-6335F0C1F71B.htm#SUTIL300"><span><cite>Oracle Database Utilities</cite></span></a> for more information about using Data Pump Export</p>
</div>
</div>
</div>
</div>
</div>
<a id="ASOAG612"></a>
<div class="props_rev_3"><a id="GUID-A75CA148-1D47-4012-8849-92AD9265114B"></a>
<h2 class="sect2">Oracle Data Redaction and Data Masking and Subsetting Pack</h2>
<div>
<p>Oracle Enterprise Manager Data Masking and Subsetting Pack can be used to create a development or test copy of a production database.</p>
<p>To accomplish this, you can mask this data in bulk, and then put the resulting masked data in the development or test copy.</p>
<p>You can still apply Data Redaction policies to the non-production database, in order to redact columns that contain data that was already masked by Oracle Enterprise Manager Data Masking and Subsetting Pack.</p>
<p>Remember that Oracle Enterprise Manager Data Masking and Subsetting Pack is used to mask data sets when you want to move the data to development and test environments. Data Redaction is mainly designed for redacting at runtime for production applications in a consistent fashion across multiple applications, without having to make application code changes.</p>
<div class="infoboxnotealso" id="GUID-A75CA148-1D47-4012-8849-92AD9265114B__GUID-B3F5AD9A-EDC5-45F1-99BF-15F1EC43B29C">
<p class="notep1">See Also:</p>
<p><a class="olink DMKSB" target="_blank" href="../DMKSB/toc.htm"><span><cite>Oracle Data Masking and Subsetting Guide</cite></span></a> for more information about data masking and subsetting</p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5372">
<tr>
<td class="cellalignment5379">
<table class="cellalignment5377">
<tr>
<td class="cellalignment5376"><a href="using-oracle-data-redaction-in-oracle-enterprise-manager.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5376"><a href="security-considerations-for-using-oracle-data-redaction.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5381">
<table class="cellalignment5375">
<tr>
<td class="cellalignment5376"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5376"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5376"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5376"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5376"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5376"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
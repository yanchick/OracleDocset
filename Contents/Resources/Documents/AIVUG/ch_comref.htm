<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2048"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Common%20Methods%20and%20Notes%20for%20Oracle%20Multimedia%20Object%20Types"></a><title>Common Methods and Notes for Oracle Multimedia Object Types</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="description" content="Presents reference information about using Oracle Database to store, manage, and retrieve images, audio, video, DICOM format medical images and other objects, or other heterogeneous media data in an integrated fashion with other enterprise information. Oracle Multimedia extends Oracle Database reliability, availability, and data management to multimedia content in Internet, electronic commerce, medical, financial, and other media-rich applications."/>
<meta name="dcterms.created" content="2014-07-30T15:7:2Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Multimedia Reference"/>
<meta name="dcterms.identifier" content="E17696-09"/>
<meta name="dcterms.isVersionOf" content="AIVUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ch_intro.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch_audref.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17696-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/25</span> <!-- End Header -->
<div id="AIVUG3000" class="chapter"><a id="g1135951"></a> <a id="i1115700"></a>
<h1 class="chapter"><span class="secnum">2</span> Common Methods and Notes for Oracle Multimedia Object Types</h1>
<p><a id="sthref13"></a><a id="sthref14"></a>This chapter provides reference and other information about the common methods used for these Oracle Multimedia object types:</p>
<ul>
<li>
<p>ORDAudio</p>
</li>
<li>
<p>ORDDoc</p>
</li>
<li>
<p>ORDImage</p>
</li>
<li>
<p>ORDVideo</p>
</li>
</ul>
<p>This chapter includes these sections:</p>
<ul>
<li>
<p><a href="#CHEDAFDG">Examples for Common Methods</a></p>
</li>
<li>
<p><a href="#CHEBDBIB">Embedded ORDSource Object</a></p>
</li>
<li>
<p><a href="#i1115504">Important Notes for Common Methods</a></p>
</li>
<li>
<p><a href="#CHECEDJA">Important Installation and Upgrade Considerations</a></p>
</li>
<li>
<p><a href="#CHEHIFHE">Common Methods</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink IMDCM4000" href="../IMDCM/ch_dev_ref.htm#IMDCM4000"><span class="italic">Oracle Multimedia DICOM Developer&#39;s Guide</span></a> for information about the ORDDicom object type and methods for storing, managing, and manipulating DICOM format medical images and other data</p>
</div>
<a id="CHEDAFDG"></a>
<div id="AIVUG3100" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.1</span> Examples for Common Methods</h2>
<p>The examples in this chapter use the ONLINE_MEDIA table in the Product Media (PM) sample schema. These examples assume that the table has been populated as shown in the examples in <a href="ch_audref.htm#g1112665">Chapter 3</a>, <a href="ch_docref.htm#g1099816">Chapter 4</a>, <a href="ch_imgref.htm#g1090382">Chapter 5</a>, and <a href="ch_vidref.htm#g1102928">Chapter 6</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Oracle Multimedia methods are designed to be internally consistent. If you use Oracle Multimedia methods (such as import( ) or image process( )) to modify the media data, Oracle Multimedia ensures that object attributes remain synchronized with the media data. However, if you manipulate the data itself (by either directly modifying the BLOB or changing the external source), you must ensure that the object attributes stay synchronized and the update time is modified; otherwise, the object attributes will not match the data.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink COMSC00025" href="../COMSC/scripts.htm#COMSC00025"><span class="italic">Oracle Database Sample Schemas</span></a> for information about the PM and other sample schemas</p>
</div>
</div>
<!-- class="sect1" -->
<a id="CHEBDBIB"></a>
<div id="AIVUG3200" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.2</span> Embedded ORDSource Object</h2>
<p>The ORDSource object is embedded within the ORDAudio, ORDDoc, ORDImage, and ORDVideo object types. The ORDSource object type supports access to a variety of sources of multimedia data. It supports access to data sources locally in a BLOB within Oracle Database, externally from a BFILE on a local file system, externally from a URL on an HTTP server, or externally from a user-defined source on another server.</p>
<p>If the data is stored locally in a BLOB within Oracle Database, the localData attribute is used to find the media data, and the local flag indicates that the data is local. The srcType, srcLocation, and srcName attributes are not used.</p>
<p>If the data is stored externally in a BFILE, a URL, or a user-defined source, the srcType, srcLocation, and srcName attributes are used to find the media data, and the local flag indicates that the data is external.</p>
<p>See <a href="ch_sourcref.htm#i76942">ORDSource Object Type</a> for details on how the ORDSource object type is defined, including these ORDSource attributes:</p>
<ul>
<li>
<p>localData: the locally stored multimedia data stored as a BLOB within the object.</p>
</li>
<li>
<p>srcType: the data source type. (See <a href="#CHEBCIGG">Section 2.2.1</a>.)</p>
</li>
<li>
<p>srcLocation: the place where data can be found based on the srcType value. (See <a href="#CHECFEAG">Section 2.2.2</a>.)</p>
</li>
<li>
<p>srcName: the data object name. (See <a href="#CHEIAICC">Section 2.2.3</a>.)</p>
</li>
<li>
<p>updateTime: the time at which the data was last updated.</p>
</li>
<li>
<p>local: a flag that indicates whether the data is local or external.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For HTTP sources, the srcLocation and srcName attributes are concatenated to construct a URL to locate the media object. For example:
<p>If srcType is <code>HTTP</code>, srcLocation is <code>www.example.com/images/</code>, and srcName is <code>example.jpg</code>, then the URL to locate the media is <code>http://www.example.com/images/example.jpg</code>.</p>
</div>
<a id="CHEBCIGG"></a>
<div id="AIVUG80848" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.1</span> Definition of the srcType Attribute</h3>
<p>The valid values for the srcType attribute<a id="sthref15"></a><a id="sthref16"></a> are listed in <a href="#BABFJAIE">Table 2-1</a>.</p>
<div id="AIVUG80849" class="tblruleformal">
<p class="titleintable"><a id="sthref17"></a><a id="BABFJAIE"></a>Table 2-1 srcType Values</p>
<table class="cellalignment1458" title="srcType Values" summary="List of srcType values and descriptions" dir="ltr">
<thead>
<tr class="cellalignment1452">
<th class="cellalignment1459" id="r1c1-t6">Value</th>
<th class="cellalignment1459" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r2c1-t6" headers="r1c1-t6">
<p><code>FILE</code></p>
</td>
<td class="cellalignment1460" headers="r2c1-t6 r1c2-t6">
<p>A BFILE on a local file system</p>
</td>
</tr>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r3c1-t6" headers="r1c1-t6">
<p><code>HTTP</code></p>
</td>
<td class="cellalignment1460" headers="r3c1-t6 r1c2-t6">
<p>An HTTP server</p>
</td>
</tr>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r4c1-t6" headers="r1c1-t6">
<p><code><span class="codeinlineitalic">&lt;name&gt;</span></code></p>
</td>
<td class="cellalignment1460" headers="r4c1-t6 r1c2-t6">
<p>User-defined</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p class="subhead2"><a id="AIVUG80864"></a>FILE</p>
<p>The srcType value <code>FILE</code> is a reserved word for the BFILE source plug-in provided by Oracle. To implement your own file plug-in, select a different name (for example: MYFILE).</p>
<p class="subhead2"><a id="AIVUG80865"></a>HTTP</p>
<p>The srcType value <code>HTTP</code> is a reserved word for the HTTP source plug-in provided by Oracle.</p>
</div>
<!-- class="sect2" -->
<a id="CHECFEAG"></a>
<div id="AIVUG80850" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.2</span> Definition of the srcLocation Attribute</h3>
<p>The valid values for the srcLocation attribute,<a id="sthref18"></a><a id="sthref19"></a> for the corresponding srcType values, are listed in <a href="#BABGFBBB">Table 2-2</a>.</p>
<div id="AIVUG80851" class="tblruleformal">
<p class="titleintable"><a id="sthref20"></a><a id="BABGFBBB"></a>Table 2-2 srcLocation Values for Corresponding srcType Values</p>
<table class="cellalignment1458" title="srcLocation Values for Corresponding srcType Values" summary="List of valid srcLocation values for the corresponding srcType values" dir="ltr">
<thead>
<tr class="cellalignment1452">
<th class="cellalignment1459" id="r1c1-t7">srcType</th>
<th class="cellalignment1459" id="r1c2-t7">Location Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r2c1-t7" headers="r1c1-t7">
<p><code>FILE</code></p>
</td>
<td class="cellalignment1460" headers="r2c1-t7 r1c2-t7">
<p>The name of the database directory object</p>
</td>
</tr>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r3c1-t7" headers="r1c1-t7">
<p><code>HTTP</code></p>
</td>
<td class="cellalignment1460" headers="r3c1-t7 r1c2-t7">
<p>The base URL to locate the media directory (the prefix <code>http://</code> is not required)</p>
</td>
</tr>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r4c1-t7" headers="r1c1-t7">
<p><code><span class="codeinlineitalic">&lt;name&gt;</span></code></p>
</td>
<td class="cellalignment1460" headers="r4c1-t7 r1c2-t7">
<p>An identifier string required to access a user-defined source</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" --></div>
<!-- class="sect2" -->
<a id="CHEIAICC"></a>
<div id="AIVUG80852" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.3</span> Definition of the srcName Attribute</h3>
<p>The valid values for the srcName attribute,<a id="sthref21"></a><a id="sthref22"></a> for the corresponding srcType values, are listed in <a href="#BABBGHFE">Table 2-3</a>.</p>
<div id="AIVUG80853" class="tblruleformal">
<p class="titleintable"><a id="sthref23"></a><a id="BABBGHFE"></a>Table 2-3 srcName Values for Corresponding srcType Values</p>
<table class="cellalignment1458" title="srcName Values for Corresponding srcType Values" summary="List of valid srcName values for the corresponding srcType values" dir="ltr">
<thead>
<tr class="cellalignment1452">
<th class="cellalignment1459" id="r1c1-t8">srcType</th>
<th class="cellalignment1459" id="r1c2-t8">Location Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r2c1-t8" headers="r1c1-t8">
<p><code>FILE</code></p>
</td>
<td class="cellalignment1460" headers="r2c1-t8 r1c2-t8">
<p>The name of the file</p>
</td>
</tr>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r3c1-t8" headers="r1c1-t8">
<p><code>HTTP</code></p>
</td>
<td class="cellalignment1460" headers="r3c1-t8 r1c2-t8">
<p>The name of the object</p>
</td>
</tr>
<tr class="cellalignment1452">
<td class="cellalignment1460" id="r4c1-t8" headers="r1c1-t8">
<p><code><span class="codeinlineitalic">&lt;name&gt;</span></code></p>
</td>
<td class="cellalignment1460" headers="r4c1-t8 r1c2-t8">
<p>The name of the object</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1115504"></a>
<div id="AIVUG3300" class="sect1">
<h2 class="sect1"><span class="secnum">2.3</span> Important Notes for Common Methods</h2>
<p>Methods invoked at the ORDSource level that are handed off to a source plug-in for processing have ctx (RAW) as the first argument. Before calling any of these methods for the first time, the client must allocate the ctx structure, initialize it to NULL, and invoke the openSource( ) method. At this point, the source plug-in can initialize context for this client. When processing is complete, the client must invoke the closeSource( ) method.</p>
<p>Methods invoked at the ORDAudio, ORDDoc, or ORDVideo level that are handed off to a format plug-in for processing have ctx (RAW) as the first argument. Before calling any of these methods for the first time, the client must allocate the ctx structure and initialize it to NULL.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In the current release, none of the plug-ins provided by Oracle and not all source or format plug-ins use the ctx argument, but if you code as previously described, your application should work with current or future source or format plug-ins.</div>
<p>For ORDAudio, ORDDoc, or ORDVideo object types, use any of the individual set methods to set the attribute value for an object for formats that are not natively supported; or write a format plug-in, set the format, and call the setProperties( ) method to invoke the new format plug-in. Otherwise, for formats that are natively supported, use the setProperties( ) method to populate the attributes of the object.</p>
<p>For ORDImage object types, use the setProperties( ) method to populate the attributes of the object. Use the setProperties( ) for foreign images method for formats that are not natively supported.</p>
</div>
<!-- class="sect1" -->
<a id="CHECEDJA"></a>
<div id="AIVUG80754" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.4</span> Important Installation and Upgrade Considerations</h2>
<p>A new database security measure introduced in Oracle Database 11<span class="italic">g</span> Release 2 (11.2) requires additional configuration steps for Oracle Multimedia applications using HTTP sources for media content. You can use the following query to determine if a media column contains HTTP sources. The query assumes that the table name is <code>MEDIA_TABLE</code> and the column name is <code>MEDIA_COLUMN</code>.</p>
<pre>  SELECT count(*) 
   FROM MEDIA_TABLE m
   WHERE m.MEDIA_COLUMN.source.srcType = &#39;HTTP&#39;
     AND m.MEDIA_COLUMN.source.local IS NOT NULL 
     AND m.MEDIA_COLUMN.source.local &lt;&gt; 1
</pre>
<p>Oracle Multimedia uses the PL/SQL package UTL_HTTP to access media content for HTTP sources. Application users must have the appropriate permissions to connect to the remote host. For example, to grant the user <code>SCOTT</code> permission to access HTTP content located at the host <code>wwww.oracle.com:80</code>, the database administrator must execute the following commands:</p>
<pre>SQL&gt; REM Creates a new ACL and adds SCOTT the privilege to the ACL to make 
SQL&gt; REM TCP connections
SQL&gt; EXECUTE DBMS_NETWORK_ACL_ADMIN.CREATE_ACL(&#39;acl_for_oracle.xml&#39;, -
&gt; &#39;ACL for www.oracle.com&#39;, &#39;SCOTT&#39;, TRUE, &#39;connect&#39;)
 
SQL&gt; REM Assigns the new ACL to www.oracle.com for TCP/IP port 80 (HTTP)
SQL&gt; EXECUTE DBMS_NETWORK_ACL_ADMIN.ASSIGN_ACL(&#39;acl_for_oracle.xml&#39;, -
&gt; &#39;www.oracle.com&#39;, 80)
 
SQL&gt; REM Commits to make the ACL take effect
SQL&gt; COMMIT
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ARPLS148" href="../ARPLS/d_networkacl_adm.htm#ARPLS148"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about configuring privileges for network access using the DBMS_NETWORK_ACL_ADMIN package</p>
</li>
<li>
<p><a class="olink ARPLS070" href="../ARPLS/u_http.htm#ARPLS070"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about configuring privileges for network access using the UTL_HTTP package</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<div class="refentry"><a id="CHEHIFHE"></a>
<div id="AIVUG3400" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Common Methods<a id="sthref24"></a></h2>
<p>This section presents reference information about the Oracle Multimedia methods that are common to these Oracle Multimedia object types: ORDAudio, ORDDoc, ORDImage, and ORDVideo.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In this section, <span class="italic">&lt;object-type&gt;</span> represents exceptions that can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the appropriate object type.</div>
<p>Oracle Multimedia methods that are particular to an object type or implemented differently for each object type, are described in these chapters:</p>
<ul>
<li>
<p><a href="ch_audref.htm#i999206">ORDAudio Methods</a></p>
</li>
<li>
<p><a href="ch_docref.htm#BABECEGG">ORDDoc Methods</a></p>
</li>
<li>
<p><a href="ch_imgref.htm#BABFHIHG">ORDImage Methods</a></p>
</li>
<li>
<p><a href="ch_vidref.htm#BABCIAGE">ORDVideo Methods</a></p>
</li>
</ul>
<p>This section describes these methods:</p>
<ul>
<li>
<p><a href="#BABBFFBG">clearLocal( )</a></p>
</li>
<li>
<p><a href="#BABCBABI">closeSource( )</a></p>
</li>
<li>
<p><a href="#BABJJHGE">deleteContent( )</a></p>
</li>
<li>
<p><a href="#BABDCGEE">export( )</a></p>
</li>
<li>
<p><a href="#BABDHFFD">getBFile( )</a></p>
</li>
<li>
<p><a href="#BABFBDCC">getContent( )</a></p>
</li>
<li>
<p><a href="#BABIAGHH">getMimeType( )</a></p>
</li>
<li>
<p><a href="#BABJADGJ">getSource( )</a></p>
</li>
<li>
<p><a href="#BABCIDBJ">getSourceLocation( )</a></p>
</li>
<li>
<p><a href="#BABEHEAI">getSourceName( )</a></p>
</li>
<li>
<p><a href="#BABDHGDC">getSourceType( )</a></p>
</li>
<li>
<p><a href="#BABCJCIC">getUpdateTime( )</a></p>
</li>
<li>
<p><a href="#BABBDCDE">isLocal( )</a></p>
</li>
<li>
<p><a href="#BABBAGIG">openSource( )</a></p>
</li>
<li>
<p><a href="#BABEJJBG">processSourceCommand( )</a></p>
</li>
<li>
<p><a href="#BABHBECC">readFromSource( )</a></p>
</li>
<li>
<p><a href="#BABGBJDG">setLocal( )</a></p>
</li>
<li>
<p><a href="#BABEDAEG">setMimeType( )</a></p>
</li>
<li>
<p><a href="#BABCGEAD">setSource( )</a></p>
</li>
<li>
<p><a href="#BABFCIAD">setUpdateTime( )</a></p>
</li>
<li>
<p><a href="#BABDJEFJ">trimSource( )</a></p>
</li>
<li>
<p><a href="#BABHJAGI">writeToSource( )</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT010" href="../CNCPT/tablecls.htm#CNCPT010"><span class="italic">Oracle Database Concepts</span></a> for more information about object types and methods</p>
</div>
<div id="AIVUG80413" class="refsect2"><a id="BABBFFBG"></a>
<h3 class="refsect2"><a id="sthref25"></a><a id="sthref26"></a>clearLocal( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref27"></a>Format</p>
<p class="synopsis">clearLocal( );</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref28"></a>Description</p>
<p>Resets the source.local attribute (of the embedded ORDSource object) to indicate that the data is stored externally. When the source.local attribute is set to 0, media methods look for corresponding data using the source.srcLocation, source.srcName, and source.srcType attributes.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref29"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref30"></a>Usage Notes</p>
<p>This method sets the source.local attribute to 0, meaning the data is stored externally outside the database.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref31"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref32"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref33"></a>Examples</p>
<p>Clear the value of the local flag for the data:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
BEGIN
 SELECT product_audio INTO obj FROM pm.online_media WHERE product_id=1733 
  FOR UPDATE;
 obj.clearLocal();
 UPDATE pm.online_media SET product_audio=obj WHERE product_id=1733;
 COMMIT;
 END;
 /
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80414" class="refsect2"><a id="BABCBABI"></a>
<h3 class="refsect2"><a id="sthref34"></a><a id="sthref35"></a>closeSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref36"></a>Format</p>
<p class="synopsis">closeSource(ctx IN OUT RAW) RETURN INTEGER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref37"></a>Description</p>
<p>Closes a data source.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref38"></a>Parameters</p>
<dl>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. This parameter must be allocated and initialized to NULL. If you are using a user-defined source plug-in, call the <a href="#BABBAGIG">openSource( )</a> method. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref39"></a>Usage Notes</p>
<p>The RETURN INTEGER is 0 (zero) for success and greater than 0 (for example, 1) for failure. The exact number and the meaning for that number is plug-in defined. For example, for the file plug-in, 1 might mean &#34;File not found,&#34; 2 might mean &#34;No such directory,&#34; and so on.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref40"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref41"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the closeSource( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the closeSource( ) method and this method is not supported by the source plug-in being used.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref42"></a>Examples</p>
<p>Close an external data source:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
 res INTEGER;
 ctx RAW(64) :=NULL;
BEGIN
 SELECT product_audio INTO obj FROM pm.online_media WHERE product_id=1733
  FOR UPDATE;
 res := obj.closeSource(ctx);
 UPDATE pm.online_media SET product_audio=obj WHERE product_id=1733;
 COMMIT;
 EXCEPTION
 WHEN ORDSYS.ORDSourceExceptions.METHOD_NOT_SUPPORTED THEN
  DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.METHOD_NOT_SUPPORTED caught&#39;);
 WHEN OTHERS THEN
  DBMS_OUTPUT.PUT_LINE(&#39;EXCEPTION caught&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80415" class="refsect2"><a id="BABJJHGE"></a>
<h3 class="refsect2"><a id="sthref43"></a><a id="sthref44"></a>deleteContent( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref45"></a>Format</p>
<p class="synopsis">deleteContent( );</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref46"></a>Description</p>
<p>Deletes the BLOB from the source.localData attribute (of the embedded ORDSource object), sets the source.local attribute to zero (to indicate that data is not local), and updates the source.updateTime attribute.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref47"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref48"></a>Usage Notes</p>
<p>This method can be called after you export the data from the local source to an external data source and you no longer need this data in the local source.</p>
<p>Call this method when you want to update the object with a new object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref49"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref50"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref51"></a>Examples</p>
<p>Delete the local data from the current local source:</p>
<pre>DECLARE
 image ORDSYS.ORDImage;
BEGIN
 SELECT product_photo INTO image FROM pm.online_media WHERE product_id = 3515 FOR UPDATE;
 -- Delete the local content of the image:
 image.deleteContent();
COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80416" class="refsect2"><a id="BABDCGEE"></a>
<h3 class="refsect2"><a id="sthref52"></a><a id="sthref53"></a>export( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref54"></a>Format</p>
<p class="synopsis">export(ctx IN OUT RAW,</p>
<p class="synopsis">source_type IN VARCHAR2,</p>
<p class="synopsis">source_location IN VARCHAR2,</p>
<p class="synopsis">source_name IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref55"></a>Description</p>
<p>Copies data from the BLOB in the source.localData attribute (of the embedded ORDSource object) to a corresponding external data source.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The export( ) method provides native support only when the value of the source_type parameter is <code>FILE</code>. In this case, the data is written to a file within a directory that is accessible to Oracle Database. User-defined sources may support the export( ) method to provide WRITE access to other types of data stores.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref56"></a>Parameters</p>
<dl>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
<dt>source_type</dt>
<dd>
<p>The type of the external source data. This parameter is not case sensitive. (See <a href="#BABFJAIE">Table 2-1</a>.)</p>
</dd>
<dt>source_location</dt>
<dd>
<p>The location to which the source data is to be exported. (See <a href="#BABGFBBB">Table 2-2</a>.)</p>
</dd>
<dt>source_name</dt>
<dd>
<p>The name of the object to which the data is to be exported. (See <a href="#BABBGHFE">Table 2-3</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref57"></a>Usage Notes</p>
<p>After data is exported, all attributes remain unchanged and source.srcType, source.srcLocation, and source.srcName are updated with input values. After calling the export( ) method, you can call the clearLocal( ) method to indicate the data is stored outside the database and call the deleteContent( ) method to delete the content of the source.localData attribute.</p>
<p>When the source_type parameter has a value of <code>FILE</code>, the source_location parameter specifies the name of an Oracle directory object, and the source_name parameter specifies the name of the file in which the data is to be contained.</p>
<p>The export( ) method writes only to a database directory object that the user has privilege to access. That is, you can access a directory object that you have created using the SQL statement CREATE DIRECTORY, or one to which you have been granted READ and WRITE access.</p>
<p>For example, the following SQL*Plus commands create a directory object and grant the user <code>ron</code> permission to read and write any file within the directory <code>c:\mydir\work</code>:</p>
<pre>CONNECT sys as sysdba
Enter password: <span class="italic">password</span>
CREATE OR REPLACE DIRECTORY FILE_DIR AS &#39;c:\mydir\work&#39;;
GRANT READ,WRITE ON DIRECTORY FILE_DIR TO ron;
</pre>
<p>Now, the user <code>ron</code> can export an image to the <code>testimg.jpg</code> file in this directory using the export( ) method of the ORDImage object:</p>
<pre>img.export(&#39;FILE&#39;, &#39;FILE_DIR&#39;, testimg.jpg&#39;);
</pre>
<p>See <a href="#CHEDAFDG">Section 2.1</a> for more information about directory and table definitions.</p>
<p>Invoking this method implicitly calls the setUpdateTime( ) method.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref58"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref59"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the export( ) method and the value of the source_type parameter is <code>NULL</code>.</p>
<p>ORDSourceExceptions.IO_ERROR</p>
<p>This exception is raised if the export( ) method encounters an error writing the BLOB data to the specified operating system file.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the export( ) method and this method is not supported by the source plug-in being used.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref60"></a>Examples</p>
<p>Export data from a local source to an external data source:</p>
<pre>-- Create the directory to which you want users to export data. Then,
-- grant read and write access to the directory for the user who will
-- be doing the exporting, in this case the user is ron.
CONNECT sys as sysdba
CREATE OR REPLACE DIRECTORY FILE_DIR as &#39;c:\mydir\work&#39;;
GRANT READ,WRITE ON DIRECTORY FILE_DIR TO &#39;ron&#39;;
BEGIN
-- Connect as the user ron:
CONNECT ron
Enter password: <span class="italic">password</span>
set serveroutput on;
set echo on;
DECLARE
 obj ORDSYS.ORDImage;
 ctx RAW(64) :=NULL;
BEGIN
SELECT product_photo INTO obj FROM pm.online_media 
 WHERE product_id = 3515;
obj.export(ctx,&#39;file&#39;,&#39;FILE_DIR&#39;,&#39;testimg.jpg&#39;);
COMMIT;
EXCEPTION
 WHEN ORDSYS.ORDSourceExceptions.METHOD_NOT_SUPPORTED THEN
  DBMS_OUTPUT.PUT_LINE(&#39;Source METHOD_NOT_SUPPORTED caught&#39;);
 WHEN OTHERS THEN
  DBMS_OUTPUT.PUT_LINE(&#39;OTHER EXCEPTION caught&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80417" class="refsect2"><a id="BABDHFFD"></a>
<h3 class="refsect2"><a id="sthref61"></a><a id="sthref62"></a>getBFile( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref63"></a>Format</p>
<p class="synopsis">getBFile( ) RETURN BFILE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref64"></a>Description</p>
<p>Returns the LOB locator of the BFILE containing the media.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref65"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref66"></a>Usage Notes</p>
<p>This method constructs and returns a BFILE using the stored source.srcLocation and source.srcName attribute information (of the embedded ORDSource object). The source.srcLocation attribute must contain a defined directory object. The source.srcName attribute must be a valid file name and source.srcType must be <code>FILE</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref67"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getBFile, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref68"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.INVALID_SOURCE_TYPE</p>
<p>This exception is raised if the value of the source.srcType attribute is other than <code>FILE</code>.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref69"></a>Examples</p>
<p>Return the BFILE for the stored source directory and file name attributes:</p>
<pre>DECLARE
 obj ORDSYS.ORDVideo;
 videobfile BFILE;
BEGIN
 SELECT product_video INTO obj FROM pm.online_media
  WHERE product_id = 2030;
 -- Get the video BFILE.
 videobfile := obj.getBFile();
 COMMIT;
 EXCEPTION
  WHEN ORDSYS.ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION THEN
   DBMS_OUTPUT.PUT_LINE(&#39;The source.srcType attribute value is NULL&#39;);
  WHEN ORDSYS.ORDSourceExceptions.INVALID_SOURCE_TYPE THEN
   DBMS_OUTPUT.PUT_LINE(&#39;The value of srcType is not file&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80418" class="refsect2"><a id="BABFBDCC"></a>
<h3 class="refsect2"><a id="sthref70"></a><a id="sthref71"></a>getContent( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref72"></a>Format</p>
<p class="synopsis">getContent( ) RETURN BLOB;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref73"></a>Description</p>
<p>Returns the BLOB handle to the source.localData attribute (of the embedded ORDSource object).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref74"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref75"></a>Usage Notes</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref76"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getContent, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref77"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref78"></a>Examples</p>
<p>Access video data to be put on a Web-based player:</p>
<pre>DECLARE
 obj ORDSYS.ORDVideo;
 ctx RAW(64) := NULL;
BEGIN
 SELECT product_video INTO obj FROM pm.online_media WHERE product_id = 2030 FOR UPDATE;
 -- import data
 obj.importFrom(ctx,&#39;file&#39;,&#39;FILE_DIR&#39;,&#39;printer.rm&#39;);
 -- check size
 DBMS_OUTPUT.PUT_LINE(&#39;Length is 
  &#39;||TO_CHAR(DBMS_LOB.GETLENGTH(obj.getContent())); DBMS_OUTPUT.PUT_LINE(obj.getSource());
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80419" class="refsect2"><a id="BABIAGHH"></a>
<h3 class="refsect2"><a id="sthref79"></a><a id="sthref80"></a>getMimeType( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref81"></a>Format</p>
<p class="synopsis">getMimeType( ) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref82"></a>Description</p>
<p>Returns the MIME type for the data. This is a simple access method that returns the value of the mimeType attribute.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref83"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref84"></a>Usage Notes</p>
<p>If the source is an HTTP server, the MIME type information is read from the HTTP header information when the media is imported and stored in the object attribute. If the source is a file or BLOB, the MIME type information is extracted when the setProperties( ) method is called.</p>
<p>For unrecognized file formats, users must call the setMimeType( ) method and specify the MIME type.</p>
<p>Use this method rather than accessing the mimeType attribute directly to protect yourself from potential changes to the internal representation of the object.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref85"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getMimeType, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref86"></a>Exceptions</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref87"></a>Examples</p>
<p>Get the MIME type for some stored image data:</p>
<pre>DECLARE
 image ORDSYS.ORDImage;
BEGIN
 SELECT p.product_photo INTO image FROM pm.online_media p 
  WHERE product_id = 3515;
 DBMS_OUTPUT.PUT_LINE(&#39;writing mimetype&#39;);
 DBMS_OUTPUT.PUT_LINE(&#39;----------------&#39;);
 DBMS_OUTPUT.PUT_LINE(image.getMimeType());
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80420" class="refsect2"><a id="BABJADGJ"></a>
<h3 class="refsect2"><a id="sthref88"></a><a id="sthref89"></a>getSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref90"></a>Format</p>
<p class="synopsis">getSource( ) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref91"></a>Description</p>
<p>Returns information about the external location of the data in URL format. (This information is the source.srcType, source.srcLocation, and source.srcName attribute values of the embedded ORDSource object.)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref92"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref93"></a>Usage Notes</p>
<p>Possible return values are:</p>
<ul>
<li>
<p><code>FILE://&lt;DIR OBJECT NAME&gt;/&lt;FILE NAME&gt;</code> for a file source</p>
</li>
<li>
<p><code>HTTP://&lt;URL&gt;</code> for an HTTP source</p>
</li>
<li>
<p>User-defined source; for example:</p>
<p><code>TYPE://&lt;USER-DEFINED SOURCE LOCATION&gt;/&lt;USER-DEFINED SOURCE NAME&gt;</code></p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref94"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getSource, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref95"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref96"></a>Examples</p>
<p>Get the source of the image data:</p>
<pre>DECLARE
 image ORDSYS.ORDImage;
BEGIN
 SELECT p.product_photo INTO image FROM pm.online_media p
  WHERE p.product_id = 3515;
 -- Get the image source information:
 DBMS_OUTPUT.PUT_LINE(image.getSource());
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80421" class="refsect2"><a id="BABCIDBJ"></a>
<h3 class="refsect2"><a id="sthref97"></a><a id="sthref98"></a>getSourceLocation( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref99"></a>Format</p>
<p class="synopsis">getSourceLocation( ) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref100"></a>Description</p>
<p>Returns a string containing the value of the external data source location (the value of the source.srcLocation attribute of the embedded ORDSource object).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref101"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref102"></a>Usage Notes</p>
<p>This method returns a VARCHAR2 string containing the value of the external data location, for example BFILEDIR.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref103"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getSourceLocation, WNDS,<br/>
WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref104"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_LOCATION</p>
<p>This exception is raised if you call the getSourceLocation( ) method and the value of the source.srcLocation attribute is <code>NULL</code>.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref105"></a>Examples</p>
<p>Get the source location information about an image data source:</p>
<pre>DECLARE
 image ORDSYS.ORDImage;
BEGIN
 SELECT p.product_photo INTO image FROM pm.online_media p
  WHERE p.product_id = 3515;
 -- Get the image source location.
 DBMS_OUTPUT.PUT_LINE(&#39;Source location is &#39; || image.getSourceLocation());
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80422" class="refsect2"><a id="BABEHEAI"></a>
<h3 class="refsect2"><a id="sthref106"></a><a id="sthref107"></a>getSourceName( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref108"></a>Format</p>
<p class="synopsis">getSourceName( ) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref109"></a>Description</p>
<p>Returns a string containing of the name of the external data source (the value of the source.srcName attribute of the embedded ORDSource object).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref110"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref111"></a>Usage Notes</p>
<p>This method returns a VARCHAR2 string containing the name of the external data source, for example testimg.dat.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref112"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getSourceName, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref113"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_NAME</p>
<p>This exception is raised if you call the getSourceName( ) method and the value of the source.srcName attribute is <code>NULL</code>.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref114"></a>Examples</p>
<p>Get the source name information about an image data source:</p>
<pre>DECLARE
 image ORDSYS.ORDImage;
BEGIN
 SELECT p.product_photo INTO image FROM pm.online_media p
  WHERE p.product_id = 3515;
 -- Get the image source name.
 DBMS_OUTPUT.PUT_LINE(&#39;Source name is &#39; ||image.getSourceName());
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80423" class="refsect2"><a id="BABDHGDC"></a>
<h3 class="refsect2"><a id="sthref115"></a><a id="sthref116"></a>getSourceType( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref117"></a>Format</p>
<p class="synopsis">getSourceType( ) RETURN VARCHAR2;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref118"></a>Description</p>
<p>Returns a string containing the type of the external data source (the value of the source.srcType attribute of the embedded ORDSource object).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref119"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref120"></a>Usage Notes</p>
<p>Returns a VARCHAR2 string containing the type of the external data source, for example file.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref121"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getSourceType, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref122"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i1085589"></a>Examples</p>
<p>Get the source type information about a media data source:</p>
<pre>DECLARE
 obj ORDSYS.ORDDoc;
BEGIN
 SELECT p.product_testimonials INTO obj FROM pm.online_media p 
  WHERE p.product_id= 3060;
 DBMS_OUTPUT.PUT_LINE(&#39;setting and getting source&#39;);
 DBMS_OUTPUT.PUT_LINE(&#39;--------------------------&#39;);
 -- set source to a file
 obj.setSource(&#39;file&#39;,&#39;FILE_DIR&#39;,&#39;speaker.wav&#39;);
 -- get source information
 DBMS_OUTPUT.PUT_LINE(&#39;Source is &#39; || obj.getSource());
 DBMS_OUTPUT.PUT_LINE(&#39;Source type is &#39; || obj.getSourceType());
 DBMS_OUTPUT.PUT_LINE(&#39;Source location is &#39; || obj.getSourceLocation());
 DBMS_OUTPUT.PUT_LINE(&#39;Source name is &#39; || obj.getSourceName());
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80424" class="refsect2"><a id="BABCJCIC"></a>
<h3 class="refsect2"><a id="sthref123"></a><a id="sthref124"></a>getUpdateTime( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref125"></a>Format</p>
<p class="synopsis">getUpdateTime( ) RETURN DATE;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref126"></a>Description</p>
<p>Returns the time when the object was last updated (the value of the source.updateTime of the embedded ORDSource object).</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref127"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref128"></a>Usage Notes</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref129"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(getUpdateTime, WNDS,<br/>
WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref130"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i1085775"></a>Examples</p>
<p>Get the updated time of some audio data:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
  WHERE p.product_id  = 1733;
 DBMS_OUTPUT.PUT_LINE(&#39;Update time is:&#39;);
 DBMS_OUTPUT.PUT_LINE(TO_CHAR(obj.getUpdateTime(),&#39;MM-DD-YYYY HH24:MI:SS&#39;));
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80425" class="refsect2"><a id="BABBDCDE"></a>
<h3 class="refsect2"><a id="sthref131"></a><a id="sthref132"></a>isLocal( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref133"></a>Format</p>
<p class="synopsis">isLocal( ) RETURN BOOLEAN;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref134"></a>Description</p>
<p>Returns TRUE if the value of the source.local attribute (of the embedded ORDSource object) is <code>1</code>, and returns FALSE if the value of the source.local attribute is <code>0</code>. In other words, returns TRUE if the data is stored in a BLOB in the source.localData attribute or FALSE if the data is stored externally.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref135"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref136"></a>Usage Notes</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref137"></a>Pragmas</p>
<p>PRAGMA RESTRICT_REFERENCES(isLocal, WNDS, WNPS, RNDS, RNPS)</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref138"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref139"></a>Examples</p>
<p>Determine whether the audio data is local:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
   WHERE p.product_id = 1733;
 IF (obj.isLocal() = TRUE) THEN  DBMS_OUTPUT.PUT_LINE(&#39;local is set true&#39;);
 ELSE  DBMS_OUTPUT.PUT_LINE(&#39;local is set false&#39;);
 END IF;
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80426" class="refsect2"><a id="BABBAGIG"></a>
<h3 class="refsect2"><a id="sthref140"></a><a id="sthref141"></a>openSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref142"></a>Format</p>
<p class="synopsis">openSource(userArg IN RAW, ctx OUT RAW) RETURN INTEGER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref143"></a>Description</p>
<p>Opens a data source.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref144"></a>Parameters</p>
<dl>
<dt>userArg</dt>
<dd>
<p>The user argument. This parameter can be used by user-defined source plug-ins.</p>
</dd>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref145"></a>Usage Notes</p>
<p>The return INTEGER is 0 (zero) for success and greater than 0 (for example, 1) for failure. The exact number and the meaning for that number is plug-in defined. For example, for the file plug-in, 1 might mean &#34;File not found,&#34; 2 might mean &#34;No such directory,&#34; and so on.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref146"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref147"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the openSource( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the openSource( ) method and this method is not supported by the source plug-in being used.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref148"></a>Examples</p>
<p>Open an external data source:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
 res INTEGER;
 ctx RAW(64) :=NULL;
 userArg RAW(64);
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
  WHERE p.product_id = 1733;
 res := obj.openSource(userArg, ctx);
 COMMIT;
 EXCEPTION
  WHEN ORDSYS.ORDSourceExceptions.METHOD_NOT_SUPPORTED THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.METHOD_NOT_SUPPORTED caught&#39;);
  WHEN OTHERS THEN
   DBMS_OUTPUT.PUT_LINE(&#39;EXCEPTION caught&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80427" class="refsect2"><a id="BABEJJBG"></a>
<h3 class="refsect2"><a id="sthref149"></a><a id="sthref150"></a>processSourceCommand( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref151"></a>Format</p>
<p class="synopsis">processSourceCommand(ctx IN OUT RAW,</p>
<p class="synopsis">cmd IN VARCHAR2,</p>
<p class="synopsis">arguments IN VARCHAR2,</p>
<p class="synopsis">result OUT RAW)</p>
<p class="synopsis">RETURN RAW;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref152"></a>Description</p>
<p>Lets you send any command and its arguments to the source plug-in. This method is available only for user-defined source plug-ins.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref153"></a>Parameters</p>
<dl>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. This parameter must be allocated and initialized to NULL. If you are using a user-defined source plug-in, call the <a href="#BABBAGIG">openSource( )</a> method. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
<dt>cmd</dt>
<dd>
<p>Any command recognized by the source plug-in.</p>
</dd>
<dt>arguments</dt>
<dd>
<p>The arguments of the command.</p>
</dd>
<dt>result</dt>
<dd>
<p>The result of calling this method returned by the source plug-in.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref154"></a>Usage Notes</p>
<p>Use this method to send any command and its respective arguments to the source plug-in. Commands are not interpreted; they are just taken and passed through to be processed.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref155"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref156"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the processSourceCommand( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the processSource( ) method and this method is not supported by the source plug-in being used.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref157"></a>Examples</p>
<p>None.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80428" class="refsect2"><a id="BABHBECC"></a>
<h3 class="refsect2"><a id="sthref158"></a><a id="sthref159"></a>readFromSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref160"></a>Format</p>
<p class="synopsis">readFromSource(ctx IN OUT RAW,</p>
<p class="synopsis">startPos IN INTEGER,</p>
<p class="synopsis">numBytes IN OUT INTEGER,</p>
<p class="synopsis">buffer OUT RAW);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref161"></a>Description</p>
<p>Lets you read a buffer of <span class="italic">n</span> bytes from a source beginning at a start position.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref162"></a>Parameters</p>
<dl>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. This parameter must be allocated and initialized to NULL. If you are using a user-defined source plug-in, call the <a href="#BABBAGIG">openSource( )</a> method. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
<dt>startPos</dt>
<dd>
<p>The start position in the data source.</p>
</dd>
<dt>numBytes</dt>
<dd>
<p>The number of bytes to be read from the data source.</p>
</dd>
<dt>buffer</dt>
<dd>
<p>The buffer into which the data is to be read.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref163"></a>Usage Notes</p>
<p>This method is not supported for HTTP sources.</p>
<p>To successfully read HTTP source types, you must request that the entire URL source be read. To implement a read method for an HTTP source type, you must provide your own implementation for this method in the modified source plug-in for the HTTP source type.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref164"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref165"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the readFromSource( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the readFromSource( ) method and this method is not supported by the source plug-in being used.</p>
<p>ORDSourceExceptions.NULL_SOURCE</p>
<p>This exception is raised if you call the readFromSource( ) method and the value of source.local is <code>1</code> or <code>NULL</code> (TRUE), but the value of the source.localData attribute is <code>NULL</code>.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref166"></a>Examples</p>
<p>Read a buffer from the source:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
 buffer RAW(4000);
 i INTEGER;
 ctx RAW(64) :=NULL;
BEGIN
 i := 20;
 SELECT p.product_audio into obj from pm.online_media p 
  WHERE p.product_id = 1733;
 obj.readFromSource(ctx,1,i,buffer);
 DBMS_OUTPUT.PUT_LINE(&#39;Length is &#39; || TO_CHAR(obj.getContentLength(ctx)));
 COMMIT;
 EXCEPTION
 WHEN ORDSYS.ORDSourceExceptions.METHOD_NOT_SUPPORTED THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.METHOD_NOT_SUPPORTED caught&#39;);
 WHEN ORDSYS.ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION
 caught&#39;);
 WHEN ORDSYS.ORDSourceExceptions.NULL_SOURCE THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.NULL_SOURCE caught&#39;);
 WHEN OTHERS THEN
   DBMS_OUTPUT.PUT_LINE(&#39;EXCEPTION caught&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80429" class="refsect2"><a id="BABGBJDG"></a>
<h3 class="refsect2"><a id="sthref167"></a><a id="sthref168"></a>setLocal( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref169"></a>Format</p>
<p class="synopsis">setLocal( );</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref170"></a>Description</p>
<p>Sets the source.local attribute (of the embedded ORDSource object) to indicate that the data is stored internally in a BLOB. When the source.local attribute is set, methods look for corresponding data in the source.localData attribute.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref171"></a>Parameters</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref172"></a>Usage Notes</p>
<p>This method sets the source.local attribute to 1, meaning the data is stored locally in the source.localData attribute.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref173"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref174"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_LOCAL_DATA</p>
<p>This exception is raised if you call the setLocal( ) method and the value of the source.localData attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref175"></a>Examples</p>
<p>Set the flag to local for the data:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
BEGIN
 SELECT product_audio INTO obj FROM online_media WHERE product_id = 1733;
 obj.setLocal;
 UPDATE online_media SET product_audio = obj WHERE product_id = 1733;
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80430" class="refsect2"><a id="BABEDAEG"></a>
<h3 class="refsect2"><a id="sthref176"></a><a id="sthref177"></a>setMimeType( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref178"></a>Format</p>
<p class="synopsis">setMimeType(mime IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref179"></a>Description</p>
<p>Lets you set the MIME type of the data.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref180"></a>Parameters</p>
<dl>
<dt>mime</dt>
<dd>
<p>The MIME type.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref181"></a>Usage Notes</p>
<p>You can override the automatic setting of MIME information by calling this method with a specified MIME value.</p>
<p>Calling this method implicitly calls the setUpdateTime( ) method.</p>
<p>The method setProperties( ) calls this method implicitly.</p>
<p>For image objects, the methods process( ) and processCopy( ) also call this method implicitly.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref182"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref183"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.INVALID_MIME_TYPE</p>
<p>This exception is raised if you call the setMimeType( ) method and the value of the mime parameter is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i1086613"></a>Examples</p>
<p>Set the MIME type for some stored data:</p>
<pre>DECLARE
  obj ORDSYS.ORDAudio;
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
  WHERE p.product_id = 1733 FOR UPDATE;
 DBMS_OUTPUT.PUT_LINE(&#39;writing current mimetype&#39;);
 DBMS_OUTPUT.PUT_LINE(&#39;----------------&#39;);
 DBMS_OUTPUT.PUT_LINE(obj.getMimeType());
 DBMS_OUTPUT.PUT_LINE(&#39;setting and writing new mimetype&#39;);
 DBMS_OUTPUT.PUT_LINE(&#39;----------------&#39;);
 obj.setMimeType(&#39;audio/basic&#39;);
 DBMS_OUTPUT.PUT_LINE(obj.getMimeType());
 UPDATE pm.online_media p SET p.product_audio = obj WHERE p.product_id = 1733;
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80431" class="refsect2"><a id="BABCGEAD"></a>
<h3 class="refsect2"><a id="sthref184"></a><a id="sthref185"></a>setSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref186"></a>Format</p>
<p class="synopsis">setSource(source_type IN VARCHAR2,</p>
<p class="synopsis">source_location IN VARCHAR2,</p>
<p class="synopsis">source_name IN VARCHAR2);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref187"></a>Description</p>
<p>Sets or alters information about the external source of the data.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref188"></a>Parameters</p>
<dl>
<dt>source_type</dt>
<dd>
<p>The type of the external source data. (See <a href="#BABFJAIE">Table 2-1</a>.)</p>
</dd>
<dt>source_location</dt>
<dd>
<p>The location of the external source data. (See <a href="#BABGFBBB">Table 2-2</a>.)</p>
</dd>
<dt>source_name</dt>
<dd>
<p>The name of the external source data. (See <a href="#BABBGHFE">Table 2-3</a>.)</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref189"></a>Usage Notes</p>
<p>Users can use this method to set the data source to a new file or URL.</p>
<p>You must ensure that the directory indicated by the source_location parameter exists or is created before you use this method.</p>
<p>Calling this method implicitly calls the source.setUpdateTime( ) method and the clearLocal( ) method.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref190"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref191"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the setSource( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="i1086845"></a>Examples</p>
<p>Set the source of the data:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
  WHERE p.product_id = 1733 FOR UPDATE;
 DBMS_OUTPUT.PUT_LINE(&#39;setting and getting source&#39;);
 DBMS_OUTPUT.PUT_LINE(&#39;--------------------------&#39;);
 obj.setSource(&#39;file&#39;,&#39;FILE_DIR&#39;,&#39;audio.au&#39;);
 DBMS_OUTPUT.PUT_LINE(obj.getSource());
 UPDATE pm.online_media p SET p.product_audio = obj WHERE p.product_id = 1733;
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80432" class="refsect2"><a id="BABFCIAD"></a>
<h3 class="refsect2"><a id="sthref192"></a><a id="sthref193"></a>setUpdateTime( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref194"></a>Format</p>
<p class="synopsis">setUpdateTime(current_time DATE);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref195"></a>Description</p>
<p>Sets the time when the data was last updated (the source.srcUpdateTime attribute of the embedded ORDSource object). Use this method whenever you modify the data. Methods that modify the object attributes and all set media access methods call this method implicitly. For example, the methods setMimeType( ), setSource( ), and deleteContent( ) call this method explicitly.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref196"></a>Parameters</p>
<dl>
<dt>current_time</dt>
<dd>
<p>The time stamp to be stored. Defaults to SYSDATE.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref197"></a>Usage Notes</p>
<p>You must invoke this method whenever you modify the data without using object methods.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref198"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref199"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref200"></a>Examples</p>
<p>Set the updated time of some data:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
BEGIN
SELECT p.product_audio INTO obj FROM pm.online_media p
 WHERE p.product_id = 1733 FOR UPDATE;
DBMS_OUTPUT.PUT_LINE(&#39;current update time:&#39;);
DBMS_OUTPUT.PUT_LINE(obj.getUpdateTime());
DBMS_OUTPUT.PUT_LINE(&#39;set and get new update time:&#39;);
 obj.setUpdateTime(SYSDATE);
 DBMS_OUTPUT.PUT_LINE(obj.getUpdateTime());
 UPDATE pm.online_media p SET p.product_audio = obj WHERE p.product_id = 1733;
 COMMIT;
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80433" class="refsect2"><a id="BABDJEFJ"></a>
<h3 class="refsect2"><a id="sthref201"></a><a id="sthref202"></a>trimSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref203"></a>Format</p>
<p class="synopsis">trim(ctx IN OUT RAW,</p>
<p class="synopsis">newlen IN INTEGER) RETURN INTEGER;</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref204"></a>Description</p>
<p>Trims a data source.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref205"></a>Parameters</p>
<dl>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. This parameter must be allocated and initialized to NULL. If you are using a user-defined source plug-in, call the <a href="#BABBAGIG">openSource( )</a> method. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
<dt>newlen</dt>
<dd>
<p>The trimmed new length.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref206"></a>Usage Notes</p>
<p>The return INTEGER is 0 (zero) for success and greater than 0 (for example, 1) for failure. The exact number and the meaning for that number is plug-in defined. For example, for the file plug-in, 1 might mean &#34;File not found,&#34; 2 might mean &#34;No such directory,&#34; and so on.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref207"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref208"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the trimSource( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the trimSource( ) method and this method is not supported by the source plug-in being used.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref209"></a>Examples</p>
<p>Trim an external data source:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
 res INTEGER;
 ctx RAW(64) :=NULL;
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
  WHERE p.product_id = 1733 FOR UPDATE;
 res := obj.trimSource(ctx,0);
 UPDATE pm.online_media p SET p.product_audio = obj WHERE p.product_id = 1733;
 COMMIT;
 EXCEPTION
  WHEN ORDSYS.ORDSourceExceptions.METHOD_NOT_SUPPORTED THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.METHOD_NOT_SUPPORTED caught&#39;);
 WHEN ORDSYS.ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION caught&#39;);
 WHEN OTHERS THEN
   DBMS_OUTPUT.PUT_LINE(&#39;EXCEPTION caught&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="AIVUG80434" class="refsect2"><a id="BABHJAGI"></a>
<h3 class="refsect2"><a id="sthref210"></a><a id="sthref211"></a>writeToSource( )</h3>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref212"></a>Format</p>
<p class="synopsis">writeToSource(</p>
<p class="synopsis">ctx IN OUT RAW,</p>
<p class="synopsis">startPos IN INTEGER,</p>
<p class="synopsis">numBytes IN OUT INTEGER,</p>
<p class="synopsis">buffer IN RAW);</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref213"></a>Description</p>
<p>Lets you write a buffer of <span class="italic">n</span> bytes to a source beginning at a start position.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref214"></a>Parameters</p>
<dl>
<dt>ctx</dt>
<dd>
<p>The source plug-in context information. This parameter must be allocated and initialized to NULL. If you are using a user-defined source plug-in, call the <a href="#BABBAGIG">openSource( )</a> method. (See <a href="#i1115504">Section 2.3</a>.)</p>
</dd>
<dt>startPos</dt>
<dd>
<p>The start position in the source to where the buffer is to be copied.</p>
</dd>
<dt>numBytes</dt>
<dd>
<p>The number of bytes to be written to the source.</p>
</dd>
<dt>buffer</dt>
<dd>
<p>The buffer of data to be written.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref215"></a>Usage Notes</p>
<p>This method assumes that the source lets you write <span class="italic">n</span> number of bytes starting at a random byte location. The FILE and HTTP source types do not permit you to write, and do not support this method. This method works if data is stored in a local BLOB or is accessible through a user-defined source plug-in.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref216"></a>Pragmas</p>
<p>None.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref217"></a>Exceptions</p>
<p><span class="italic">&lt;object-type&gt;</span>Exceptions.NULL_SOURCE</p>
<p>This exception is raised when the value of the <span class="italic">&lt;object-type&gt;</span>.source attribute is <code>NULL</code>.</p>
<p>This exception can be raised by ORDAudio, ORDDoc, ORDImage, or ORDVideo object types. Replace <span class="italic">&lt;object-type&gt;</span> with the object type to which you apply this method.</p>
<p>ORDSourceExceptions.INCOMPLETE_SOURCE_INFORMATION</p>
<p>This exception is raised if you call the writeToSource( ) method and the value of the source.srcType attribute is <code>NULL</code>.</p>
<p>ORDSourceExceptions.METHOD_NOT_SUPPORTED</p>
<p>This exception is raised if you call the writeToSource( ) method and this method is not supported by the source plug-in being used.</p>
<p>ORDSourceExceptions.NULL_SOURCE</p>
<p>This exception is raised if you call the writeToSource( ) method and the value of source.local is <code>1</code> or <code>NULL</code> (TRUE), but the value of the source.localData attribute is <code>NULL</code>.</p>
<p>See <a href="ap_excpts.htm#g630514">Appendix G</a> for more information about these exceptions.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref218"></a>Examples</p>
<p>Write a buffer to the source:</p>
<pre>DECLARE
 obj ORDSYS.ORDAudio;
 n INTEGER := 6;
 ctx RAW(64) :=NULL;
BEGIN
 SELECT p.product_audio INTO obj FROM pm.online_media p
  WHERE p.product_id = 1743 FOR UPDATE;
 obj.writeToSource(ctx,1,n,UTL_RAW.CAST_TO_RAW(&#39;helloP&#39;));
 UPDATE pm.online_media p SET p.product_audio = obj WHERE p.product_id = 1743;
 DBMS_OUTPUT.PUT_LINE(&#39;Length is &#39; || TO_CHAR(obj.getContentLength(ctx)));
 -- Roll back the transaction to keep the sample schema unchanged.
 ROLLBACK;
 EXCEPTION
  WHEN ORDSYS.ORDSourceExceptions.METHOD_NOT_SUPPORTED THEN
   DBMS_OUTPUT.PUT_LINE(&#39;ORDSourceExceptions.METHOD_NOT_SUPPORTED caught&#39;);
  WHEN OTHERS THEN DBMS_OUTPUT.PUT_LINE(&#39;EXCEPTION caught&#39;);
END;
/
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1451">
<tr>
<td class="cellalignment1460">
<table class="cellalignment1456">
<tr>
<td class="cellalignment1455"><a href="ch_intro.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1455"><a href="ch_audref.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1462">
<table class="cellalignment1454">
<tr>
<td class="cellalignment1455"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1455"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1455"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1455"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1455"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1455"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
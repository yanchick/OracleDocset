<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2085"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20the%20SNA%20Communication%20Package%20on%20Solaris"></a><title>Configuring the SNA Communication Package on Solaris</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090"/>
<meta name="dcterms.created" content="2017-06-07T20:58:53Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide"/>
<meta name="dcterms.identifier" content="E17929-06"/>
<meta name="dcterms.isVersionOf" content="APPCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2004, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ch7.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch12.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17929-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/23</span> <!-- End Header -->
<div id="APPCI189" class="chapter"><a id="g1014069"></a>
<h1 class="chapter"><span class="secnum">8</span> Configuring the SNA Communication Package on Solaris</h1>
<p>Oracle Database Gateway for APPC uses the SNA Advanced Program to Program Communication (APPC/LU6.2) protocol to communicate with an OLTP. <a id="sthref352"></a>APPC support on Solaris Operating System (SPARC 64-bit) is provided by the <a id="sthref353"></a><a id="sthref354"></a><a id="sthref355"></a>SNAP-IX product.</p>
<p>This chapter describes how to configure SNAP-IX on a Solaris system to run Oracle Database Gateway for APPC.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
When you finish following the instructions in this chapter, refer to <a href="ch5.htm#g1023103">Chapter 5, &#34;Configuring Your Oracle Network&#34;</a> to continue network configuration.</div>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#i1012071">Processing Inbound Connections</a></p>
</li>
<li>
<p><a href="#i1009670">Configuring SNAP-IX Version 6</a></p>
</li>
<li>
<p><a href="#i1012670">Resuming Gateway Configuration</a></p>
</li>
</ul>
<a id="i1012071"></a>
<div id="APPCI190" class="sect1">
<h2 class="sect1">Processing Inbound Connections<a id="sthref356"></a></h2>
<p>Many <a id="sthref357"></a>OLTPs provide options for manipulating the security conduct of an inbound (client) APPC session request. Refer to the appropriate documentation for your OLTP for detailed information about this issue.</p>
<p>Note that for <a id="sthref358"></a>CICS, the gateway provides the following support:</p>
<ul>
<li>
<p><code dir="ltr">ATTACHSEC=LOCAL</code>, <code dir="ltr">ATTACHSEC=IDENTIFY</code>, <code dir="ltr">ATTACHSEC=VERIFY</code>, and <code dir="ltr">ATTACHSEC=MIXIDPE</code> are fully supported by the gateway.</p>
</li>
<li>
<p><code dir="ltr">ATTACHSEC=PERSISTENT</code>, specified in the <a id="sthref359"></a>CICS <code dir="ltr">CONNECTION</code> definition, requires capability that is not yet available in the gateway.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1009670"></a>
<div id="APPCI191" class="sect1">
<h2 class="sect1">Configuring <a id="sthref360"></a><a id="sthref361"></a><a id="sthref362"></a>SNAP-IX Version 6</h2>
<p>The following sections describe how to configure SNAP-IX version 6.</p>
<div id="APPCI192" class="sect2"><a id="sthref363"></a>
<h3 class="sect2">Before You Begin</h3>
<p>This section requires you to specify parameters that are unique to your system to configure SNAP-IX version 6 properly. Before you begin, request these parameters from your network administrator.</p>
</div>
<!-- class="sect2" -->
<div id="APPCI193" class="sect2"><a id="sthref364"></a>
<h3 class="sect2">SNAP-IX Configuration Tool</h3>
<p>All of the SNAP-IX product configuration is done using the <code dir="ltr">xsnaadmin</code> program. This tool is an X-Windows application that provides a graphical interface to view and modify the current SNAP-IX configuration and the current running state of the host SNA node.</p>
</div>
<!-- class="sect2" -->
<a id="i1009678"></a>
<div id="APPCI194" class="sect2">
<h3 class="sect2">Creating <a id="sthref365"></a><a id="sthref366"></a>SNAP-IX Profiles for the Gateway</h3>
<p>Oracle Database Gateway for APPC requires a stored set of definitions, called <a id="sthref367"></a>Side Information Profiles, to support connections between the gateway and gateway servers. Each profile consists of a profile name and a profile type, which is a set of fields describing the profile. The fields in a given profile type are generally a mix of operating parameter values and names of other SNA profiles relevant to the profile. Each functional part of APPC, such as the Mode, Remote Transaction Program name, and Logical Unit (LU), is described by a distinct profile type.</p>
</div>
<!-- class="sect2" -->
<a id="i1009875"></a>
<div id="APPCI195" class="sect2">
<h3 class="sect2">Independent Versus Dependent LUs</h3>
<p>The gateway configuration can accommodate either independent or dependent <a id="sthref368"></a><a id="sthref369"></a><a id="sthref370"></a>LUs. If you choose to use dependent LUs, or are restricted to using dependent LUs, the gateway functions properly. If a dependent LU is correctly defined, then you do not need to make changes to the configuration of the gateway, nor should any changes be needed to the gateway server. However, Oracle recommends that you use independent LUs for the gateway because they support multiple parallel sessions or conversations. This means that multiple Oracle client applications can be active simultaneously with the same gateway server through the independent LU.</p>
<p>In contrast to independent LUs, dependent LUs support only a single active session. The CP (Control Point for the Node) queues each additional conversation request from the gateway behind an already active conversation. In other words, conversations are single-threaded for dependent LUs.</p>
<p>The operational impact of dependent LUs is that the first client application can initiate a conversation through the gateway with the gateway server, but while that session is active (which could be for seconds, minutes, or hours, depending on how the client application and transaction are designed), any other client application initiating a session with the same gateway server appears to hang as it waits behind the previous session.</p>
<p>If a production application really uses only a single conversation at any one time, then there should not be a problem. However, at some point, you might require additional concurrent conversations for testing or for other application development. Having more than one conversation requires that additional dependent LUs be defined on the remote host. Additional configuration entries must be added to SNAP-IX. Additional Side Information Profiles should be defined to use the new dependent LUs. Gateway instances should be created and configured to use these new Side Information Profiles.</p>
</div>
<!-- class="sect2" -->
<a id="i1009686"></a>
<div id="APPCI196" class="sect2">
<h3 class="sect2">Creating SNA Definitions for the Gateway</h3>
<p><a id="sthref371"></a><a id="sthref372"></a><a id="sthref373"></a><a id="sthref374"></a>SNAP-IX definitions are stored in the following files, which are located in the <code dir="ltr">/etc/opt/sna</code> directory:</p>
<ul>
<li>
<p><code dir="ltr">SNA node definitions: sna_node.cfg</code></p>
</li>
<li>
<p>SNA domain definitions: <code dir="ltr">sna_domn.cfg</code></p>
</li>
</ul>
<p>These files are created and maintained with the <code dir="ltr"><a id="sthref375"></a></code><code dir="ltr">xsnaadmin</code> tool. Maintenance of SNA definitions is usually done by a user with administrative authority. The following information is intended for a user creating SNA definitions for the gateway. You must have some knowledge of SNA before reading this section.</p>
</div>
<!-- class="sect2" -->
<div id="APPCI197" class="sect2"><a id="sthref376"></a>
<h3 class="sect2">Sample SNAP-IX Definitions</h3>
<p>The <code dir="ltr">$ORACLE_HOME/dg4appc/sna</code> subdirectory contains a set of sample SNAP-IX definition files for the gateway, which are created with the <code dir="ltr"><a id="sthref377"></a></code><code dir="ltr">xsnaadmin</code>. These sample files are <code dir="ltr">sna_domn.cfg</code> and <code dir="ltr">sna_node.cfg</code>. SNA definitions are very specific to the host and SNA network. As such, the sample definitions provided will not work without being tailored for the local host and SNA network.</p>
</div>
<!-- class="sect2" -->
<div id="APPCI198" class="sect2"><a id="sthref378"></a>
<h3 class="sect2">Configuring <a id="sthref379"></a><a id="sthref380"></a>SNAP-IX</h3>
<p>This section describes the process of creating SNA definitions for SNAP-IX, using <code dir="ltr">xsnaadmin</code>. All configuration is done using the various dropdown menus and panels in <code dir="ltr">xsnaadmin</code>. The following configuration descriptions follow the samples provided. Please tailor the various SNA values for your local host and SNA network.</p>
</div>
<!-- class="sect2" -->
<div id="APPCI199" class="sect2"><a id="sthref381"></a>
<h3 class="sect2">Starting <a id="sthref382"></a>xsnaadmin</h3>
<p>Use the following commands to invoke <code dir="ltr">xsnaadmin</code>. The <code dir="ltr">DISPLAY</code> environment variable must be set correctly. If you are running <code dir="ltr">xsnaadmin</code> from the local console, then <code dir="ltr">DISPLAY</code> should already be set. If you are running <code dir="ltr">xsnaadmin</code> from a remote X display, then set <code dir="ltr">DISPLAY</code> to the host name or IP address of that display.</p>
<pre dir="ltr">$ DISPLAY=&lt;<span class="italic">your_display</span>&gt;:0 
$ export DISPLAY
$ xsnaadmin &amp;
</pre>
<p>On startup of <code dir="ltr">xsnaadmin</code>, the main screen opens and displays the current configuration of the local SNA node.</p>
<div id="APPCI200" class="sect3"><a id="sthref383"></a>
<h4 class="sect3">Configuring the SNA node</h4>
<p>To configure the SNA node, you need to do the following:</p>
<ol>
<li>
<p>From the Services menu, select <span class="bold">Configure Node Parameters</span>.</p>
</li>
<li>
<p>In the Node Parameters dialog box, enter the APPN support type, Control Point Name, Control Point Alias, and Node ID as needed. The Control Point Name is composed of the SNA Network Name and the CP name of the local host.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="APPCI201" class="sect3"><a id="sthref384"></a>
<h4 class="sect3">Adding a Port</h4>
<p>To add a new port, from the Services menu, select <span class="bold">Connectivity and New Port</span>.</p>
<ol>
<li>
<p>In the Add to <span class="italic">Nodename</span> dialog box, select the Port type and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>In the SAP dialog box, enter a Port name and network card number. The Port name is used to logically name the physical network card that you are using and is used to bind a Service Access Port to the card for SNA protocols. Usually, you can accept the values provided in the dialog box. If a different network card is needed, however, enter the card number as reported by the <code dir="ltr">dmesg</code> command.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="APPCI202" class="sect3"><a id="sthref385"></a>
<h4 class="sect3">Create a Link Station</h4>
<p>When the Port has been defined, you must create a Link Station. The Link Station represents the SNA node of the remote host of the gateway server. But before you create the Link Station, you must create a Remote Node definition as described in the following procedure:</p>
<ol>
<li>
<p>From the Services menu, select <span class="bold">APPC and Add Remote Node</span>.</p>
</li>
<li>
<p>In the dialog box, enter the SNA CPNAME of the remote node and click <span class="bold">OK</span>.</p>
</li>
</ol>
<p>Now you can create a Link Station as follows:</p>
<ol>
<li>
<p>From the Services menu, select <span class="bold">Connectivity and New Link Station</span>. In the dialog box, select the Port previously defined and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>In the Link Station dialog box, enter a name for the Link Station, choose the SNA Port name, the type of link activation, and the LU Traffic type. For maximum flexibility, select the <span class="bold">Any</span> option.</p>
</li>
<li>
<p>For Independent LU traffic, specify the Remote Node name. Click <span class="bold">Remote Node</span> and select the node you previously created, and then click <span class="bold">OK</span>. Choose the type of the Remote node, typically a Network node.</p>
</li>
<li>
<p><a id="sthref386"></a>For Dependent LU traffic, specify the role of the Remote node, typically &#39;host&#39;, the Local Node ID, and optionally, Remote Node ID.</p>
</li>
<li>
<p>Specify the Contact Information. Contact information contains the MAC address of the remote host as well as the SAP number.</p>
</li>
<li>
<p>Click <span class="bold">Advanced</span> for additional parameters of the Link Station. The Token Ring Parameters dialog box shows additional parameters of the Link Station. These parameters affect initial XID contact and retransmission times and limits. You usually do not need to change the default values.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="APPCI203" class="sect3"><a id="sthref387"></a>
<h4 class="sect3">Creating <a id="sthref388"></a>Local LUs</h4>
<p>When the Remote Node definitions have been made, create the Local LU names for the local host as follows:</p>
<ol>
<li>
<p>From the Services menu, select <span class="bold">APPC and New Local LU</span>. In the local LU dialog box, enter the name of the local LU and an alias. This name must correspond to the VTAM definitions on the remote gateway server host for the UNIX host.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="APPCI204" class="sect3"><a id="sthref389"></a>
<h4 class="sect3">Creating <a id="sthref390"></a><a id="sthref391"></a><a id="sthref392"></a>Partner LUs</h4>
<p><a id="sthref393"></a>Now define a Partner LU that represents the LU that the gateway server is using to communicate.</p>
<ol>
<li>
<p>From the Services menu, select <span class="bold">APPC and New Partner LUs</span> and <span class="bold">Partner LU on Remote Node</span>.</p>
</li>
<li>
<p>In the Partner LU dialog box, enter the Partner LU name and characteristics. The Partner LU name contains the SNA Network Name as well as the LU name of the remote LU. Enable parallel session support. The location is the name as the Remote Node name. You can click <span class="bold">Location</span> for a list.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="APPCI205" class="sect3"><a id="sthref394"></a>
<h4 class="sect3">Creating Mode and CPI-C Profiles<a id="sthref395"></a></h4>
<p>Whe<a id="sthref396"></a><a id="sthref397"></a>n the local and remote LU definitions have been created, create the necessary Mode and CPI-C definitions.</p>
<ol>
<li>
<p>From the Services menu, select <span class="bold">APPC and Modes</span>. In the Modes dialog box, click <span class="bold">New</span> to add a new mode.</p>
</li>
<li>
<p>In the Mode dialog box, enter the Mode Name and other session parameters. The recommended name for a gateway mode is <code dir="ltr">CICSPGA</code>. Contact your Remote Host system administrator for appropriate mode parameters.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Now that the Mode has been defined, create the CPI-C Side Information Profile, which the gateway uses as a connection name. From the menu, select <span class="bold">APPC and CPI-C</span>.</p>
</li>
<li>
<p>In the CPI-C destination names dialog box, click <span class="bold">New</span> to add a new Profile.</p>
</li>
<li>
<p>In the CPI-C destination dialog box, enter the Profile name, Local LU name, Partner TP, Partner LU and mode, and Security option. The partner TP name is the name of the host transaction program or a dummy value to be overridden in the TIP.</p>
</li>
<li>
<p>For the Local LU, you may specify a specific LU or choose the default LU. For the Partner LU, enter either the full LU name or the alias created previously.</p>
</li>
<li>
<p>Enter <code dir="ltr">ORAPLU62</code> for the mode name. Choose the type of security for these sessions to use. This affects how session authorization is done.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1009694"></a>
<div id="APPCI206" class="sect2">
<h3 class="sect2">Testing the Connection</h3>
<p>Before proceeding with gateway configuration tasks, ensure that your connection is working. Perform this by starting the SNAP-IX Node and then starting the individual link stations.</p>
<p><a href="#i1012624">Figure 8-1</a> shows the relationship between SNAP-IX definitions and the VTAM definitions on the remote host.</p>
<div id="APPCI361" class="figure">
<p class="titleinfigure"><a id="i1012624"></a>Figure 8-1 Relationship Between SNAP-IX Definitions and Host VTAM Definitions</p>
<img width="680" height="626" src="img/g8_1vtam.gif" alt="Description of Figure 8-1 follows"/><br/>
<a id="sthref398" href="img_text/g8_1vtam.htm">Description of &#39;&#39;Figure 8-1 Relationship Between SNAP-IX Definitions and Host VTAM Definitions&#39;&#39;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1012670"></a>
<div id="APPCI207" class="sect1">
<h2 class="sect1">Resuming Gateway Configuration</h2>
<p>When you have finished configuring the SNA communication package for Solaris, proceed to <a href="ch11.htm#CEGEJIED">Chapter 10, &#34;Configuring the OLTP&#34;</a> to continue configuring the network.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2564">
<tr>
<td class="cellalignment2571">
<table class="cellalignment2569">
<tr>
<td class="cellalignment2568"><a href="ch7.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2568"><a href="ch12.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2004, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2573">
<table class="cellalignment2567">
<tr>
<td class="cellalignment2568"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2568"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2568"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2568"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2568"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2568"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
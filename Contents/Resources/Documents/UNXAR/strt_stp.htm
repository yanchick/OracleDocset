<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-114114"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Stopping%20and%20Starting%20Oracle%20Software"></a><title>Stopping and Starting Oracle Software</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-25T3:25:32Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&#39;s Reference"/>
<meta name="dcterms.identifier" content="E10638-27"/>
<meta name="dcterms.isVersionOf" content="UNXAR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="admin_ora.htm" title="Previous" type="text/html"/>
<link rel="Next" href="cnfg_prd.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10638-27.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/20</span> <!-- End Header -->
<div id="UNXAR002" class="chapter"><a id="BGBFGDCD"></a>
<h1 class="chapter"><span class="secnum">2</span> Stopping and Starting Oracle Software</h1>
<p>This chapter describes how to identify Oracle Database processes, and provides basic information about how to stop and restart them. It also describes how to set up automatic startup and shutdown of the Oracle Database. It contains the following sections:</p>
<ul>
<li>
<p><a href="#CEGHJACG">Stopping and Starting Oracle Processes</a></p>
</li>
<li>
<p><a href="#BABGDGHF">Automating Shutdown and Startup</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
When using Oracle Restart, you can use Service Control Utility (SRVCTL), a command-line interface, to manage Oracle processes (database instance, listener, Oracle ASM instance). With SRVCTL, you can manage the Oracle Restart configuration, see the status of processes managed by Oracle Restart, and start or stop processes such as Oracle Database. SRVCTL has been enhanced to support single instance databases with Oracle Restart on standalone servers and on clusters with Oracle Clusterware.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> and <a class="olink OSTMG" href="../OSTMG/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about SRVCTL commands</div>
<a id="CEGHJACG"></a>
<div id="UNXAR139" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.1</span> Stopping and Starting Oracle Processes</h2>
<p>This section describes how to stop and start Oracle processes. It contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGHAAGF">Stopping and Starting Oracle Database and Oracle Automatic Storage Management Instances</a></p>
</li>
<li>
<p><a href="#BGBHAJIH">Stopping and Starting Oracle Restart</a></p>
</li>
</ul>
<a id="CEGHAAGF"></a>
<div id="UNXAR140" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.1</span> Stopping and Starting Oracle Database and Oracle Automatic Storage Management Instances<a id="sthref84"></a><a id="sthref85"></a></h3>
<p>This section describes how to stop and start Oracle Database and Oracle Automatic Storage Management instances.</p>
<div id="UNXAR141" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref86"></a>
<h4 class="sect3"><span class="secnum">2.1.1.1</span> Stopping an Oracle Database or Oracle Automatic Storage Management Instance</h4>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Do not stop an Oracle Automatic Storage Management instance until you have stopped all Oracle Database instances that use Oracle Automatic Storage Management instance to manage their storage.</div>
<p>To stop an Oracle Database or Oracle Automatic Storage Management instance:</p>
<ol>
<li id="CEGBIHDA">
<p>Run the following commands to identify the SID and Oracle home directory for the instance that must be shut down:</p>
<p>On Oracle Solaris:</p>
<pre dir="ltr">$ cat /var/opt/oracle/oratab
</pre>
<p>On other operating systems:</p>
<pre dir="ltr">$ cat /etc/oratab
</pre>
<p>The <code dir="ltr">oratab</code> file contains lines similar to the following, which identify the <code dir="ltr">SID</code> and corresponding Oracle home directory for each database or Oracle Automatic Storage Management instance on the system:</p>
<pre dir="ltr">$ORACLE_SID:$ORACLE_HOME:&lt;N|Y&gt;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you use the plus sign (+) as the first character in the <code dir="ltr">SID</code> of Oracle Automatic Storage Management instances.</div>
</li>
<li id="CEGGEDDC">
<p>Run the <code dir="ltr">oraenv</code> or <code dir="ltr">coraenv</code> script, depending on the default shell, to set the environment variables for the instance that must be shut down:</p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">$ . /usr/local/bin/oraenv
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">% source /usr/local/bin/coraenv
</pre></li>
</ul>
<p>When prompted, specify the <code dir="ltr">SID</code> for the instance.</p>
</li>
<li>
<p>Run the following commands to shut down the instance:</p>
<pre dir="ltr">$ sqlplus
SQL&gt; CONNECT SYS as SYSDBA
Enter password: <span class="italic">sys_password</span>
SQL&gt; SHUTDOWN NORMAL
</pre>
<p>After the instance shuts down, you can quit SQL*Plus.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="UNXAR142" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref87"></a>
<h4 class="sect3"><span class="secnum">2.1.1.2</span> Restarting an Oracle Database<a id="sthref88"></a><a id="sthref89"></a><a id="sthref90"></a> or Oracle Automatic Storage Management<a id="sthref91"></a> Instance</h4>
<div class="infobox-note">
<p class="notep1">Caution:</p>
If the database instance uses Oracle Automatic Storage Management for storage management, then you must start the Oracle Automatic Storage Management instance before you start the database instance.</div>
<p>To restart an Oracle Database or Oracle Automatic Storage Management instance:</p>
<ol>
<li>
<p>Repeat steps <a href="#CEGBIHDA">1</a> and <a href="#CEGGEDDC">2</a>, if required, to set the <code dir="ltr">ORACLE_SID</code> and <code dir="ltr">ORACLE_HOME</code> environment variables to identify the SID and Oracle home directory for the instance you want to start.</p>
</li>
<li>
<p>Run the following commands to start the instance:</p>
<pre dir="ltr">$ sqlplus
SQL&gt; CONNECT SYS as SYSDBA
Enter password: <span class="italic">sys_password</span>
SQL&gt; STARTUP
</pre>
<p>After the instance starts, you can exit from SQL*Plus.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BGBHAJIH"></a>
<div id="UNXAR143" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.2</span> <a id="sthref92"></a><a id="sthref93"></a><a id="sthref94"></a><a id="sthref95"></a>Stopping and Starting Oracle Restart</h3>
<p>To stop or start Oracle Restart, run the following command:</p>
<ul>
<li>
<p>Start: This option is used to start Oracle Restart</p>
<p>Syntax and Options:</p>
<pre dir="ltr">crsctl start has
</pre></li>
<li>
<p>Stop: This option is used to stop Oracle Restart</p>
<p>Syntax and Options:</p>
<pre dir="ltr">crsctl stop has
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN12725" href="../ADMIN/restart.htm#ADMIN12725"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about the <code dir="ltr">srvctl</code> commands</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGDGHF"></a>
<div id="UNXAR150" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.2</span> Automating Shutdown and Startup<a id="sthref96"></a><a id="sthref97"></a><a id="sthref98"></a><a id="sthref99"></a></h2>
<p>Oracle recommends that you configure the system to automatically start Oracle Database when the system starts, and to automatically shut it down when the system shuts down. Automating database startup and shutdown guards against incorrect database shutdown.</p>
<p>To automate database startup and shutdown, use the <code dir="ltr">dbstart</code> and <code dir="ltr">dbshut</code> scripts, which are located in the <code dir="ltr">$ORACLE_HOME/bin</code> directory. The scripts refer to the same entries in the <code dir="ltr">oratab</code> file, which are applied on the same set of databases. You cannot, for example, have the <code dir="ltr">dbstart</code> script automatically start <code dir="ltr">sid1</code>, <code dir="ltr">sid2</code>, and <code dir="ltr">sid3</code>, and have the <code dir="ltr">dbshut</code> script shut down only <code dir="ltr">sid1</code>. However, you can specify that the <code dir="ltr">dbshut</code> script shuts down a set of databases while the <code dir="ltr">dbstart</code> script is not used at all. To do this, include a <code dir="ltr">dbshut</code> entry in the system shutdown file, but do not include the <code dir="ltr">dbstart</code> entry from the system startup files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <code dir="ltr">init</code> command in the operating system documentation for more information about system startup and shutdown procedures</div>
<div id="UNXAR417" class="sect2"><a id="sthref100"></a>
<h3 class="sect2"><span class="secnum">2.2.1</span> Automating Database Startup and Shutdown on Other Operating Systems</h3>
<p>To automate database startup and shutdown by using the <code dir="ltr">dbstart</code> and <code dir="ltr">dbshut</code> scripts:</p>
<ol>
<li>
<p>Log in as the <code dir="ltr">root</code> user.</p>
</li>
<li>
<p>Edit the <code dir="ltr">oratab</code> file for the platform.</p>
<p>To open the file, use one of the following commands:</p>
<ul>
<li>
<p>On Oracle Solaris:</p>
<pre dir="ltr"># vi /var/opt/oracle/oratab
</pre></li>
<li>
<p>On IBM AIX on POWER Systems (64-Bit) and Linux:</p>
<pre dir="ltr"># vi /etc/oratab
</pre></li>
</ul>
<p>Database entries in the <code dir="ltr">oratab</code> file are displayed in the following format:</p>
<pre dir="ltr">$ORACLE_SID:$ORACLE_HOME:&lt;N|Y&gt;
</pre>
<p>In this example, the values <code dir="ltr">Y</code> and <code dir="ltr">N</code> specify whether you want the scripts to start or shut down the database, respectively. For each database for which you want to automate shutdown and startup, first determine the instance identifier (SID) for that database, which is identified by the SID in the first field. Then, change the last field for each to <code dir="ltr">Y</code>.</p>
<p>You can set <code dir="ltr">dbstart</code> to autostart a single-instance database which uses an Automatic Storage Management installation auto-started by Oracle Clusterware. This is the default behavior for an Automatic Storage Management cluster. To do this, you must change the <code dir="ltr">oratab</code> entry of the database and the Automatic Storage Management installation to use a third field with the value <code dir="ltr">W</code> and <code dir="ltr">N</code>, respectively. These values specify that <code dir="ltr">dbstart</code> auto-starts the database only after the Automatic Storage Management instance is started.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you add new database instances to the system and automate the startup for them, then you must edit the entries for those instances in the <code dir="ltr">oratab</code> file.</div>
</li>
<li>
<p>Change directory to one of the following, depending on the operating system:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Platform-Specific Initialization File Directories" summary="This table lists the initialization file directory for each platform" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t10">Platform</th>
<th class="cellalignment5722" id="r1c2-t10">Initialization File Directory</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t10" headers="r1c1-t10">Linux and Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t10 r1c2-t10"><code dir="ltr">/etc/init.d</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t10" headers="r1c1-t10">IBM AIX on POWER Systems (64-Bit)</td>
<td class="cellalignment5718" headers="r3c1-t10 r1c2-t10"><code dir="ltr">/etc</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
<li>
<p>Create a file called <code dir="ltr">dbora</code>, and copy the following lines into this file:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Change the value of the <code dir="ltr">ORACLE_HOME</code> environment variable to specify the Oracle home directory for the installation. Change the value of the <code dir="ltr">ORACLE</code> environment variable to the user name of the owner of the database installed in the Oracle home directory (typically, <code dir="ltr">oracle</code>).</div>
<pre dir="ltr">#! /bin/sh 
# description: Oracle auto start-stop script.
#
# Set ORACLE_HOME to be equivalent to the $ORACLE_HOME
# from which you wish to execute dbstart and dbshut;
#
# Set ORA_OWNER to the user id of the owner of the
# Oracle database in ORACLE_HOME.

ORA_HOME=&lt;Type your ORACLE_HOME in full path here&gt;
ORA_OWNER=&lt;Type your Oracle account name here&gt;

case &#34;$1&#34; in
&#39;start&#39;)
    # Start the Oracle databases:
    # The following command assumes that the oracle login
    # will not prompt the user for any values
    # Remove &#34;&amp;&#34; if you don&#39;t want startup as a background process.
    su - $ORA_OWNER -c &#34;$ORA_HOME/bin/dbstart $ORA_HOME&#34; &amp;
    touch /var/lock/subsys/dbora
    ;;

&#39;stop&#39;)
    # Stop the Oracle databases:
    # The following command assumes that the oracle login
    # will not prompt the user for any values
    su - $ORA_OWNER -c &#34;$ORA_HOME/bin/dbshut $ORA_HOME&#34; &amp;
    rm -f /var/lock/subsys/dbora
    ;;
esac
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
This script can only stop Oracle Net listener for which a password has not been set. In addition, if the listener name is not the default name, <code dir="ltr">LISTENER</code>, then you must specify the listener name in the <code dir="ltr">stop</code> and <code dir="ltr">start</code> commands:
<pre dir="ltr">$ORACLE_HOME/bin/lsnrctl {start|stop} <span class="italic">listener_name</span>
</pre></div>
</li>
<li>
<p>Change the group of the <code dir="ltr">dbora</code> file to the OSDBA group (typically <code dir="ltr">dba</code>), and set the permissions to 750:</p>
<pre dir="ltr"># chgrp dba dbora
# chmod 750 dbora
</pre></li>
<li>
<p>Create symbolic links to the <code dir="ltr">dbora</code> script in the appropriate run-level script directories, as follows:</p>
<div class="inftblhruleinformal">
<table class="cellalignment5721" title="Commands for Creating Symbolic Links" summary="This table lists the commands that create symbolic links in the appropriate run-level directories for each platform" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t13">Platform</th>
<th class="cellalignment5722" id="r1c2-t13">Symbolic Links Commands</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t13" headers="r1c1-t13">Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t13 r1c2-t13">
<pre dir="ltr"># ln -s /etc/init.d/dbora /etc/rc0.d/K01dbora
# ln -s /etc/init.d/dbora /etc/rc3.d/S99dbora
</pre></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t13" headers="r1c1-t13">Linux</td>
<td class="cellalignment5718" headers="r3c1-t13 r1c2-t13">
<pre dir="ltr"># ln -s /etc/init.d/dbora /etc/rc.d/rc0.d/K01dbora
# ln -s /etc/init.d/dbora /etc/rc.d/rc3.d/S99dbora
# ln -s /etc/init.d/dbora /etc/rc.d/rc5.d/S99dbora
</pre></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t13" headers="r1c1-t13">IBM AIX on POWER Systems (64-Bit)</td>
<td class="cellalignment5718" headers="r4c1-t13 r1c2-t13">
<pre dir="ltr"># ln -s /etc/dbora /etc/rc.d/rc2.d/S99dbora
# ln -s /etc/dbora /etc/rc.d/rc0.d/K01dbora
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformal" --></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5711">
<tr>
<td class="cellalignment5718">
<table class="cellalignment5716">
<tr>
<td class="cellalignment5715"><a href="admin_ora.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5715"><a href="cnfg_prd.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5720">
<table class="cellalignment5714">
<tr>
<td class="cellalignment5715"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5715"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5715"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5715"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5715"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5715"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
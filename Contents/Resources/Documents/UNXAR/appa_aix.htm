<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-114100"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Administering%20Oracle%20Database%20on%20IBM%20AIX%20on%20POWER%20Systems%20%2864-Bit%29"></a><title>Administering Oracle Database on IBM AIX on POWER Systems (64-Bit)</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-25T3:25:33Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&#39;s Reference"/>
<meta name="dcterms.identifier" content="E10638-27"/>
<meta name="dcterms.isVersionOf" content="UNXAR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="appc_linux.htm" title="Previous" type="text/html"/>
<link rel="Next" href="appb_hpux.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10638-27.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">15/20</span> <!-- End Header -->
<div id="UNXAR009" class="appendix"><a id="BEJJBAGE"></a>
<h1 class="appendix"><span class="secnum">C</span> Administering Oracle Database on IBM AIX on POWER Systems (64-Bit)</h1>
<p>This appendix contains information about administering Oracle Database on IBM AIX on POWER Systems (64-bit).</p>
<p>It includes the following topics:</p>
<ul>
<li>
<p><a href="#i631085">Memory and Paging</a></p>
</li>
<li>
<p><a href="#i631245">Disk Input-Output Issues</a></p>
</li>
<li>
<p><a href="#i631579">CPU Scheduling and Process Priorities</a></p>
</li>
<li>
<p><a href="#BGBICJDA">AIXTHREAD_SCOPE Environment Variable</a></p>
</li>
<li>
<p><a href="#CEGIEHJI">Network Information Service external naming support</a></p>
</li>
<li>
<p><a href="#CEGGGEDF">Configuring IBM Java Secure Socket Extension Provider with Oracle JDBC Thin Driver</a></p>
</li>
</ul>
<a id="i631085"></a>
<div id="UNXAR270" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.1</span> Memory and Paging</h2>
<p><a id="sthref431"></a>Memory contention occurs when processes require more memory than is available. To cope with the shortage, the system pages programs and data between memory and disks.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BEHCJCDB">Kernel Parameters</a></p>
</li>
<li>
<p><a href="#CHDBGDIE">Allocating Sufficient Paging Space</a></p>
</li>
<li>
<p><a href="#CHDDEAIH">Controlling Paging</a></p>
</li>
<li>
<p><a href="#CHDDAGHE">Setting the Database Block Size</a></p>
</li>
<li>
<p><a href="#CHDIDEII">Tuning the Log Archive Buffers</a></p>
</li>
<li>
<p><a href="#CHDBHIBG">Input-Output Buffers and SQL*Loader</a></p>
</li>
</ul>
<a id="BEHCJCDB"></a>
<div id="UNXAR433" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.1</span> Kernel Parameters</h3>
<p>Oracle recommends to use the default AIX kernel settings. You must adjust the kernel settings as appropriately recommended by IBM support only.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Adjusting the Restricted Tunables parameter without the guidance from IBM support can have an undesirable impact on the system stability and performance.</div>
</div>
<!-- class="sect2" -->
<a id="CHDBGDIE"></a>
<div id="UNXAR274" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.2</span> Allocating Sufficient Paging Space<a id="sthref432"></a></h3>
<p>Inadequate paging space (swap space) usually causes the system to stop responding or show very slow response times. On IBM AIX on POWER Systems (64-bit), you can dynamically add paging space on raw disk partitions. The amount of paging space you should configure depends on the amount of physical memory present and the paging space requirements of the applications. Use the <code dir="ltr">lsps</code> command to monitor paging space use and the <code dir="ltr">vmstat</code> command to monitor system paging activities. To increase the paging space, use the <code dir="ltr">smit pgsp</code> command.</p>
<p>If paging space is preallocated, then Oracle recommends that you set the paging space to a value larger than the amount of RAM. But on IBM AIX on POWER Systems (64-bit), paging space is not allocated until required. The system uses swap space only if it runs out of real memory. If the memory is sized correctly, then there is no paging and the page space can be small. Workloads where the demand for pages does not fluctuate significantly perform well with a small paging space. Workloads likely to have peak periods of increased paging require enough paging space to handle the peak number of pages.</p>
<p>As a general rule, an initial setting for the paging space is half the size of RAM plus 4 GB, up to the size of a single internal disk. Monitor the paging space use with the <code dir="ltr">lsps -a</code> command, and monitor the system paging activities with the <code dir="ltr">vmstat</code> command. The metric percent used in the output of <code dir="ltr">lsps -a</code> is typically less than 25 percent on a healthy system. A properly sized deployment requires very little paging space because an excessive amount of swapping severely impacts performance. Excessive use of paging space and swapping indicates that the RAM on the system may be undersized.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Do not undersize the paging space. If you do, then the system terminates active processes when it runs out of space. However, oversizing the paging space has little or no negative impact.</div>
<p>Oracle documentation suggests the following values as a starting point for an Oracle Database:</p>
<div class="inftblinformal">
<table class="cellalignment5721" summary="The following table contains the suggested values for RAM and Swap Space as a starting point for an Oracle Database." dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t4">RAM</th>
<th class="cellalignment5722" id="r1c2-t4">Swap Space</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t4" headers="r1c1-t4">Between 1 GB and 2 GB</td>
<td class="cellalignment5718" headers="r2c1-t4 r1c2-t4">1.5 times the size of RAM</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t4" headers="r1c1-t4">Between 2 GB and 16 GB</td>
<td class="cellalignment5718" headers="r3c1-t4 r1c2-t4">Equal to the size of RAM</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t4" headers="r1c1-t4">More than 16 GB</td>
<td class="cellalignment5718" headers="r4c1-t4 r1c2-t4">16 GB</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The RAM and swap space values for Oracle Grid Infrastructure are as follows:</p>
<ul>
<li>
<p>Between 4 GB RAM and 16 GB RAM, the swap space must be equal to the size of RAM.</p>
</li>
<li>
<p>For more than 16 GB RAM, the swap space must be equal to 16 GB.</p>
</li>
</ul>
<p>Because the individual server environment varies, some additional memory may be warranted in an Oracle Database 12.1 environment, based on the increased 12.1 memory footprint and increasing page size from 4 KB to 64 KB. The workload may need to be rebalanced to reduce paging, which impacts system performance.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDEAIH"></a>
<div id="UNXAR275" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.3</span> Controlling Paging<a id="sthref433"></a></h3>
<p>Constant and excessive paging indicates that the real memory is over-committed. In general, you should:</p>
<ul>
<li>
<p>Avoid constant paging unless the system is equipped with very fast expanded storage that makes paging between memory and expanded storage much faster than Oracle Database can read and write data between the SGA and disks.</p>
</li>
<li>
<p>Allocate limited memory resource to where it is most beneficial to system performance. It is sometimes a recursive process of balancing the memory resource requirements and trade-offs.</p>
</li>
<li>
<p>If memory is not adequate, then build a prioritized list of memory-requiring processes and elements of the system. Assign memory to where the performance gains are the greatest. A prioritized list may look like the following:</p>
<ol>
<li>
<p>Operating System and RDBMS kernels (to include SGA and its components, buffer cache, and shared pool</p>
</li>
<li>
<p>User and application processes</p>
</li>
</ol>
</li>
</ul>
<p>For example, suppose you query Oracle Database dynamic performance tables and views and find that both the shared pool and database buffer cache require more memory. Then, assigning the limited spare memory to the shared pool may be more beneficial than assigning it to the database block buffer caches. These choices depend on the nature or shape of the database load.</p>
<p>The following IBM AIX on POWER Systems (64-bit) commands provide paging status and statistics:</p>
<ul>
<li>
<p><code dir="ltr">vmstat -s</code></p>
</li>
<li>
<p><code dir="ltr">vmstat</code> <code dir="ltr"><span class="codeinlineitalic">interval</span></code> <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">repeats</span></code><code dir="ltr">]</code></p>
</li>
<li>
<p><code dir="ltr">sar -r</code> <code dir="ltr"><span class="codeinlineitalic">interval</span></code> <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">repeats</span></code><code dir="ltr">]</code></p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDDAGHE"></a>
<div id="UNXAR276" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.4</span> Setting the Database Block Size<a id="sthref434"></a></h3>
<p>You can configure Oracle <a id="sthref435"></a>Database <a id="sthref436"></a>block size for better Input-Output throughput. On IBM AIX on POWER Systems (64-bit), you can set the value of the <code dir="ltr">DB_BLOCK_SIZE</code> initialization parameter to between 2 KB and 32 KB, with a default of 4 KB. If Oracle Database is installed on a journaled file system, then the block size should be a multiple of the file system block size (4 KB on JFS, 16 KB to 1 MB on IBM Spectrum Scale (GPFS)). For databases on raw partitions, Oracle Database block size is a multiple of the operating system physical block size (512 bytes on IBM AIX on POWER Systems (64-bit)).</p>
<p>Oracle recommends smaller Oracle Database block sizes (2 KB or 4 KB) for online transaction processing or mixed workload environments and larger block sizes (8 KB, 16 KB, or 32 KB) for decision support system workload environments.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIDEII"></a>
<div id="UNXAR277" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.5</span> Tuning the Log Archive Buffers<a id="sthref437"></a></h3>
<p>By increasing the <code dir="ltr">LOG_BUFFER</code> size, you may be able to improve the speed of archiving the database, particularly if transactions are long or numerous. Monitor the log file Input-Output activity and system throughput to determine the optimum <code dir="ltr">LOG_BUFFER</code> size. Tune the <code dir="ltr">LOG_BUFFER</code> parameter carefully to ensure that the overall performance of normal database activity does not degrade.</p>
<p>For improved performance, create separate file systems for redo logs and control files (or a single file system for both), with an <code dir="ltr">agblksize</code> of 512 bytes rather than the default of 4 KB.</p>
</div>
<!-- class="sect2" -->
<a id="CHDBHIBG"></a>
<div id="UNXAR278" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.1.6</span> Input-Output Buffers and SQL*Loader<a id="sthref438"></a></h3>
<p>For high-speed data loading, such as using the <a id="sthref439"></a>SQL*Loader direct path option in addition to loading data in parallel, the CPU spends most of its time waiting for Input-Output to complete. By increasing the number of buffers, you can maximize CPU usage, and by doing this, increase overall throughput.</p>
<p>The number of buffers (set by the SQL*Loader <code dir="ltr">BUFFERS</code> parameter) you choose depends on the amount of available memory and how much you want to maximize CPU usage.</p>
<p>The performance gains depend on CPU usage and the degree of parallelism that you use when loading data.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i631245"></a>
<div id="UNXAR280" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.2</span> Disk Input-Output Issues</h2>
<p>Disk Input-Output contention can result from poor memory management (with subsequent paging and swapping), or poor distribution of tablespaces and files across disks.</p>
<p>Ensure that the Input-Output activity is distributed evenly across multiple disk drives by using IBM AIX on POWER Systems (64-bit) utilities such as <code dir="ltr">filemon</code>, <code dir="ltr">sar</code>, <code dir="ltr">iostat</code>, and other performance tools to identify disks with high Input-Output activity.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BEHHEGBG">IBM AIX on POWER Systems (64-Bit) Logical Volume Manager</a></p>
</li>
<li>
<p><a href="#i633938">Using Journaled File Systems Compared to Raw Logical Volumes</a></p>
</li>
<li>
<p><a href="#i631413">Using Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BEHGGBAJ">Input-Output Slaves</a></p>
</li>
<li>
<p><a href="#BEHIIECG">Using the DB_FILE_MULTIBLOCK_READ_COUNT Parameter</a></p>
</li>
<li>
<p><a href="#BEHFJFEG">Tuning Disk Input-Output Pacing</a></p>
</li>
<li>
<p><a href="#BEHGHJFH">Resilvering with Oracle Database</a></p>
</li>
</ul>
<a id="BEHHEGBG"></a>
<div id="UNXAR281" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.1</span> IBM AIX on POWER Systems (64-Bit) Logical Vo<a id="sthref440"></a>lume Manager</h3>
<p><a id="i631283"></a>The IBM AIX on POWER Systems (64-bit) Logical Volume Manager can stripe data across multiple disks to reduce disk contention. The primary objective of striping is to achieve high performance when reading and writing large sequential files. With improved storage subsystems, it is no longer recommended to use LVM striping. Oracle recommends to use the default striping by the storage subsystems. The operating system is no longer aware about where the data resides physically as the LUNs presented to an AIX partition are logical and not physical.</p>
</div>
<!-- class="sect2" -->
<a id="i633938"></a>
<div id="UNXAR284" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.2</span> Using Journaled File Systems Compared to Raw Logical Volumes<a id="sthref441"></a><a id="sthref442"></a></h3>
<p>Address the following considerations when deciding whether to use journaled file systems or raw logical volumes:</p>
<ul>
<li>
<p>File systems are continually being improved, as are various file system implementations.</p>
</li>
<li>
<p>Different vendors implement the file system layer in different ways to capitalize on the strengths of different disks. This makes it difficult to compare file systems across platforms</p>
</li>
<li>
<p>The Direct Input-Output and Concurrent Input-Output features included in IBM AIX on POWER Systems (64-bit) improve file system performance to a level comparable to raw logical volumes.</p>
</li>
<li>
<p>In earlier versions of IBM AIX on POWER Systems (64-bit), file systems supported only buffered read and write and added extra contention because of imperfect inode locking. These two issues are solved by the JFS2 Concurrent Input-Output feature and the Spectrum Scale (GPFS) Direct Input-Output feature.</p>
</li>
<li>
<p>The introduction of more powerful Logical Volume Manager interfaces substantially reduces the tasks of configuring and backing up logical disks based on raw logical volumes.</p>
</li>
<li>
<p>Oracle ASM works best when you add raw disk devices to disk groups. If you are using Oracle ASM, then do not use Logical Volume Manager for striping. Oracle ASM implements striping and mirroring.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
To use the Oracle RAC option, you must place data files on an Oracle ASM disk group or on a Spectrum Scale (GPFS) file system. You cannot use JFS or JFS2. Direct Input-Output is implicitly enabled when you use Spectrum Scale (GPFS).</div>
<p class="subhead2"><a id="UNXAR285"></a>File System Options<a id="sthref443"></a><a id="sthref444"></a></p>
<p>IBM AIX on POWER Systems (64-bit) includes Direct Input-Output and Concurrent Input-Output support. Direct Input-Output and Concurrent Input-Output support enables database files to exist on file systems while bypassing the operating system buffer cache and removing inode locking operations that are redundant with the features provided by Oracle Database.</p>
<p>The following table lists file systems available on IBM AIX on POWER Systems (64-bit) and the recommended setting:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="File System I/O Options on AIX" summary="This table lists file system I/O options on AIX" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t6">File System</th>
<th class="cellalignment5722" id="r1c2-t6">Option</th>
<th class="cellalignment5722" id="r1c3-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t6" headers="r1c1-t6">JFS</td>
<td class="cellalignment5718" headers="r2c1-t6 r1c2-t6">dio</td>
<td class="cellalignment5718" headers="r2c1-t6 r1c3-t6">Concurrent Input-Output is not available on JFS. Direct Input-Output is available, but performance is degraded compared to JFS2 with Concurrent Input-Output.</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t6" headers="r1c1-t6">JFS large file</td>
<td class="cellalignment5718" headers="r3c1-t6 r1c2-t6">none</td>
<td class="cellalignment5718" headers="r3c1-t6 r1c3-t6">Oracle does not recommend using JFS large file for Oracle Database because its 128 KB alignment constraint prevents you from using Direct Input-Output.</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t6" headers="r1c1-t6">JFS2</td>
<td class="cellalignment5718" headers="r4c1-t6 r1c2-t6">cio</td>
<td class="cellalignment5718" headers="r4c1-t6 r1c3-t6">Concurrent Input-Output is a better setting than Direct Input-Output on JFS2, because it provides support for multiple concurrent readers and writers on the same file. However, due to IBM AIX on POWER Systems (64-bit) restrictions on JFS2/CIO, Concurrent Input-Output is intended to be used only with Oracle data files, control files, and log files. It should be applied only to file systems that are dedicated to such a purpose. For the same reason, the Oracle home directory is not supported on a JFS2 file system mounted with the <code dir="ltr">CIO</code> option. For example, during installation, if you inadvertently specify that the Oracle home directory is on a JFS2 file system mounted with the <code dir="ltr">CIO</code> option, then while trying to relink Oracle, you may encounter the following error:
<p><code dir="ltr">&#34;ld: 0711-866 INTERNAL ERROR: Output symbol table size miscalculated&#34;</code></p>
<p><span class="bold">Note</span>: For Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2) and later, on IBM AIX on POWER Systems (64-bit) 6.1 systems and newer, Oracle recommends that you do not use the <code dir="ltr">CIO</code> mount option on a JFS2 file system. For the latest Oracle Database releases, it is not necessary to use the <code dir="ltr">CIO</code> mount option because, Oracle opens the file system with the <code dir="ltr">O_CIOR</code> option internally. This gives the benefits of <code dir="ltr">CIO</code>, while allowing other applications to open the Oracle data files in read only mode without the <code dir="ltr">O_CIO</code> option.</p>
</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t6" headers="r1c1-t6">Spectrum Scale (GPFS)</td>
<td class="cellalignment5718" headers="r5c1-t6 r1c2-t6">NA</td>
<td class="cellalignment5718" headers="r5c1-t6 r1c3-t6">Oracle Database silently enables Direct Input-Output on Spectrum Scale for optimum performance. Spectrum Scale Direct Input-Output already supports multiple readers and writers on multiple nodes. Therefore, Direct Input-Output and Concurrent Input-Output are the same thing on Spectrum Scale.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p class="subhead2"><a id="UNXAR286"></a>Considerations for JFS and JFS2<a id="sthref445"></a><a id="sthref446"></a></p>
<p>If you are placing Oracle Database logs on a JFS2 file system, then the optimal configuration is to create the file system using the <code dir="ltr">agblksize=512</code> option and to mount it with the <code dir="ltr">CIO</code> option.</p>
<p>Before Oracle Database 12<span class="italic">c</span>, Direct Input-Output and Concurrent Input-Output could not be enabled at the file level on JFS/JFS2. Therefore, the Oracle home directory and data files had to be placed in separate file systems for optimal performance. The Oracle home directory was placed on a file system mounted with default options, with the data files and logs on file systems mounted using the <code dir="ltr">DIO</code> or <code dir="ltr">CIO</code> options.</p>
<p>With Oracle Database 12<span class="italic">c</span>, you can enable Direct Input-Output and Concurrent Input-Output on JFS/JFS2 at the file level. You can do this by setting the <code dir="ltr">FILESYSTEMIO_OPTIONS</code> parameter in the server parameter file to <code dir="ltr">SETALL</code> or <code dir="ltr">DIRECTIO</code>. This enables Concurrent Input-Output on JFS2 and Direct Input-Output on JFS for all data file Input-Output. Because the <code dir="ltr">DIRECTIO</code> setting disables asynchronous Input-Output it should normally not be used. As a result of this 12<span class="italic">c</span> feature, you can place data files on the same JFS/JFS2 file system as the Oracle home directory and still use Direct Input-Output or Concurrent Input-Output for improved performance. As mentioned earlier, you should still place Oracle Database logs on a separate JFS2 file system for optimal performance.</p>
<p class="subhead2"><a id="UNXAR287"></a>Considerations for Spectrum Scale<a id="sthref447"></a></p>
<p>If you are using Spectrum Scale, then you can use the same file system for all purposes. This includes using it for the Oracle home directory and for storing data files and logs. For optimal performance, you should use a large Spectrum Scale block size (typically, at least 512 KB). Spectrum Scale is designed for scalability, and there is no requirement to create multiple Spectrum Scale file systems as long as the amount of data fits in a single Spectrum Scale file system.</p>
</div>
<!-- class="sect2" -->
<a id="i631413"></a>
<div id="UNXAR290" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.3</span> Using Asynchronous Input-Output<a id="sthref448"></a></h3>
<p>Oracle Database takes full advantage of asynchronous Input-Output provided by IBM AIX on POWER Systems (64-bit), resulting in faster database access.</p>
<p>IBM AIX on POWER Systems (64-bit) support asynchronous Input-Output for database files created on file system partitions. When using asynchronous Input-Output on file systems, the kernel database processes (<code dir="ltr">aioserver</code>) control each request from the time a request is taken off the queue to the time it is completed. The number of <code dir="ltr">aioserver</code> servers determines the number of asynchronous Input-Output requests that can be processed in the system concurrently. There is no need to adjust the AIO tunables as the defaults for AIO tunables have been significantly increased.</p>
</div>
<!-- class="sect2" -->
<a id="BEHGGBAJ"></a>
<div id="UNXAR291" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.4</span> Input-Output Slaves<a id="sthref449"></a><a id="sthref450"></a></h3>
<p>Input-Output Slaves are specialized Oracle processes that perform only Input-Output. They are rarely used on IBM AIX on POWER Systems (64-bit), because asynchronous Input-Output is the default and recommended way for Oracle to perform Input-Output operations on IBM AIX on POWER Systems (64-bit). Input-Output Slaves are allocated from shared memory buffers. Input-Output Slaves use the initialization parameters listed in the following table:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="I/O Slave Parameters" summary="This table lists the I/O slave parameters, and their range and default values" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t7">Parameter</th>
<th class="cellalignment5722" id="r1c2-t7">Range of Values</th>
<th class="cellalignment5722" id="r1c3-t7">Default Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t7" headers="r1c1-t7"><code dir="ltr">DISK_ASYNCH_IO</code></td>
<td class="cellalignment5718" headers="r2c1-t7 r1c2-t7"><code dir="ltr">true</code>/<code dir="ltr">false</code></td>
<td class="cellalignment5718" headers="r2c1-t7 r1c3-t7"><code dir="ltr">true</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t7" headers="r1c1-t7"><code dir="ltr">TAPE_ASYNCH_IO</code></td>
<td class="cellalignment5718" headers="r3c1-t7 r1c2-t7"><code dir="ltr">true</code>/<code dir="ltr">false</code></td>
<td class="cellalignment5718" headers="r3c1-t7 r1c3-t7"><code dir="ltr">true</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t7" headers="r1c1-t7"><code dir="ltr">BACKUP_TAPE_IO_SLAVES</code></td>
<td class="cellalignment5718" headers="r4c1-t7 r1c2-t7"><code dir="ltr">true</code>/<code dir="ltr">false</code></td>
<td class="cellalignment5718" headers="r4c1-t7 r1c3-t7"><code dir="ltr">false</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t7" headers="r1c1-t7"><code dir="ltr">DBWR_IO_SLAVES</code></td>
<td class="cellalignment5718" headers="r5c1-t7 r1c2-t7">0 - 999</td>
<td class="cellalignment5718" headers="r5c1-t7 r1c3-t7">0</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r6c1-t7" headers="r1c1-t7"><code dir="ltr">DB_WRITER_PROCESSES</code></td>
<td class="cellalignment5718" headers="r6c1-t7 r1c2-t7">1-20</td>
<td class="cellalignment5718" headers="r6c1-t7 r1c3-t7">1</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Generally, you do not adjust the parameters in the preceding table. However, on large workloads, the database writer may become a bottleneck. If it does, then increase the value of <code dir="ltr">DB_WRITER_PROCESSES</code>. As a general rule, do not increase the number of database writer processes above one for each pair of CPUs in the system or partition.</p>
<p>There are times when you must turn off asynchronous I/O. For example, if instructed to do so by Oracle Support for debugging. You can use the <code dir="ltr">DISK_ASYNCH_IO</code> and <code dir="ltr">TAPE_ASYNCH_IO</code> parameters to switch off asynchronous I/O for disk or tape devices. <code dir="ltr">TAPE_ASYNCH_IO</code> support is only available when the Media Manager software supports it and for Recovery Manager, if <code dir="ltr">BACKUP_TAPE_IO_SLAVES</code> is true.</p>
<p>Set the <code dir="ltr">DBWR_IO_SLAVES</code> parameter to greater than 0 only if the <code dir="ltr">DISK_ASYNCH_IO</code> parameter is set to <code dir="ltr">false</code>. Otherwise, the database writer process becomes a bottleneck. In this case, the optimal value on IBM AIX on POWER Systems (64-bit) for the <code dir="ltr">DBWR_IO_SLAVES</code> parameter is 4.</p>
</div>
<!-- class="sect2" -->
<a id="BEHIIECG"></a>
<div id="UNXAR292" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.5</span> Using the DB_FILE_MULTIBLOCK_READ_COUNT Parameter<a id="sthref451"></a><a id="sthref452"></a></h3>
<p>When using Direct Input-Output or Concurrent Input-Output with Oracle Database 12<span class="italic">c</span>, the IBM AIX on POWER Systems (64-bit) file system does not perform any read-ahead on sequential scans. For this reason the <code dir="ltr">DB_FILE_MULTIBLOCK_READ_COUNT</code> value in the server parameter file should be increased when Direct Input-Output or Concurrent Input-Output is enabled on Oracle data files. The read ahead is performed by Oracle Database as specified by the <code dir="ltr">DB_FILE_MULTIBLOCK_READ_COUNT</code> initialization parameter.</p>
<p>Setting a large value for the <code dir="ltr">DB_FILE_MULTIBLOCK_READ_COUNT</code> initialization parameter usually yields better Input-Output throughput on sequential scans. On IBM AIX on POWER Systems (64-bit), this parameter ranges from 1 to 512, but using a value higher than 16 usually does not provide additional performance gain.</p>
<p>Set this parameter so that its value when multiplied by the value of the <code dir="ltr">DB_BLOCK_SIZE</code> parameter produces a number larger than the Logical Volume Manager stripe size. Such a setting causes more disks to be used.</p>
</div>
<!-- class="sect2" -->
<a id="BEHFJFEG"></a>
<div id="UNXAR295" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.6</span> Tuning Disk Input-Output Pacing<a id="sthref453"></a></h3>
<p><a id="i631542"></a>Disk Input-Output pacing is an IBM AIX on POWER Systems (64-bit) mechanism that enables the system administrator to limit the number of pending Input-Output requests to a file. This prevents disk Input-Output intensive processes from saturating the CPU. Therefore, the response time of interactive and CPU-intensive processes does not deteriorate.</p>
<p><a id="i631549"></a>You can achieve disk Input-Output pacing by adjusting two system parameters: the high-water mark and the low-water mark. When a process writes to a file that already has a pending high-water mark Input-Output request, the process is put to sleep. The process wakes up when the number of outstanding Input-Output requests falls lower than or equals the low-water mark.</p>
<p>Starting from IBM AIX 6.1 version, the file systems and AIX I/O subsystem are modified to accommodate large surges of file system I/O. In addition to these changes, the default values for I/O pacing have been modified. The default values for IBM AIX 6.1 version and earlier was 0 to no I/O pacing. The default values for IBM AIX 6.1 version and later are as follows.</p>
<ul>
<li>
<p><code dir="ltr">minpout</code>=4096</p>
</li>
<li>
<p><code dir="ltr">maxpout</code>=8193</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BEHGHJFH"></a>
<div id="UNXAR296" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.7</span> Resilvering with Oracle Database<a id="sthref454"></a></h3>
<p>If you disable mirror write consistency for an Oracle data file allocated on a raw logical volume, then the Oracle Database crash recovery process uses resilvering to recover after a system failure. This resilvering process prevents database inconsistencies or corruption.</p>
<p>During crash recovery, if a data file is allocated on a logical volume with multiple copies, then the resilvering process performs a checksum on the data blocks of all the copies. It then performs one of the following:</p>
<ul>
<li>
<p>If the data blocks in a copy have valid checksums, then the resilvering process uses that copy to update the copies that have invalid checksums.</p>
</li>
<li>
<p>If all copies have blocks with invalid checksums, then the resilvering process rebuilds the blocks using information from the redo log file. It then writes the data file to the logical volume and updates all the copies.</p>
</li>
</ul>
<p>On IBM AIX on POWER Systems (64-bit), the resilvering process works only for data files allocated on raw logical volumes for which mirror write consistency is disabled. Resilvering is not required for data files on mirrored logical volumes with mirror write consistency enabled, because mirror write consistency ensures that all copies are synchronized.</p>
<p>If the system fails while you are upgrading an earlier release of Oracle Database that used data files on logical volumes for which mirror write consistency was disabled, then run the <code dir="ltr">syncvg</code> command to synchronize the mirrored logical volume before starting Oracle Database. If you do not synchronize the mirrored logical volume before starting the database, then Oracle Database may read incorrect data from a logical volume copy.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If a disk drive fails, then resilvering does not occur. You must run the <code dir="ltr">syncvg</code> command before you can reactivate the logical volume.</div>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Oracle supports resilvering for data files only. Do not disable mirror write consistency for redo log files.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i631579"></a>
<div id="UNXAR298" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.3</span> CPU Scheduling and Process Priorities<a id="sthref455"></a></h2>
<p>The CPU is another system component for which processes may contend. Although the IBM AIX on POWER Systems (64-bit) kernel allocates CPU effectively most of the time, many processes compete for CPU cycles. If the system has multiple CPU (SMP), then there may be different levels of contention on each CPU.</p>
</div>
<!-- class="sect1" -->
<a id="BGBICJDA"></a>
<div id="UNXAR301" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.4</span> AIXTHREAD_SCOPE Environment Variable<a id="sthref456"></a><a id="sthref457"></a></h2>
<p>Oracle recommends using IBM AIX 7.1 version and IBM AIX 6.1 default (system wide scope) setting of the AIXTHREAD_SCOPE environment variable to S (1:1).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="https://www.ibm.com/support/knowledgecenter/en/ssw_aix_71/com.ibm.aix.performance/thread_tuning.htm"><span class="italic">Thread tuning</span></a> for additional information about thread tuning</div>
</div>
<!-- class="sect1" -->
<a id="CEGIEHJI"></a>
<div id="UNXAR302" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.5</span> Network Information Service external naming support</h2>
<p>Network Information Service external naming adapter is supported on IBM AIX on POWER Systems (64-bit). To configure and use Network Information Service external naming, refer to the &#34;Configuring External Naming Methods&#34; section of <a class="olink NETAG" href="../NETAG/toc.htm"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="CEGGGEDF"></a>
<div id="UNXAR304" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.6</span> Configuring IBM Java Secure Socket Extension Provider with Oracle JDBC Thin Driver</h2>
<p>IBM Java 1.6 SR 16 is shipped with Oracle Database 12<span class="italic">c</span> Release 1 (12.1). If you want to configure SSL on IBM JDK, then you may face the following issues::</p>
<ul>
<li>
<p>IBM JSSE does not support <code dir="ltr">SSLv2Hello</code> SSL protocol. However, it accepts the <code dir="ltr">SSLv2Hello</code> message from the client encapsulating <code dir="ltr">SSLv3</code> or <code dir="ltr">TLS1.0</code> hello message.</p>
<p>For SSL clients using Thin JDBC connectors, you must set <code dir="ltr">oracle.net.ss1_version</code> system property to select <code dir="ltr">TLSv1</code> SSL protocol or <code dir="ltr">SSLv3</code> SSL protocol, since <code dir="ltr">SSLv3</code> is not recommended anymore after the <code dir="ltr">POODLE</code> security issue. System property recommendation is to set <code dir="ltr">TLSV1.0</code>, <code dir="ltr">TLSV1.1</code>, and <code dir="ltr">TLSV1.2</code> on recommending <code dir="ltr">SSLv3</code>, or the connection will fail.</p>
</li>
<li>
<p>IBM JSSE does not allow anonymous ciphers</p>
<p>For SSL clients using anonymous ciphers, you must replace the Default Trust Manager with a Custom Trust Manager that accepts anonymous ciphers.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li><a href="https://www.ibm.com/support/knowledgecenter/SSYKE2_7.0.0/com.ibm.java.security.component.70.doc/security-component/jsse2Docs/disablesslv3.html"><span class="italic">Padding Oracle On Downgraded Legacy Encryption (POODLE) security vulnerability</span></a> for more information</li>
<li>
<p>IBM JSSE documentation for more information about creating and installing Custom Trust Manager</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5711">
<tr>
<td class="cellalignment5718">
<table class="cellalignment5716">
<tr>
<td class="cellalignment5715"><a href="appc_linux.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5715"><a href="appb_hpux.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5720">
<table class="cellalignment5714">
<tr>
<td class="cellalignment5715"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5715"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5715"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5715"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5715"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5715"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-114101"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Administering%20Oracle%20Database%20on%20HP-UX"></a><title>Administering Oracle Database on HP-UX</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-25T3:25:33Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&#39;s Reference"/>
<meta name="dcterms.identifier" content="E10638-27"/>
<meta name="dcterms.isVersionOf" content="UNXAR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="appa_aix.htm" title="Previous" type="text/html"/>
<link rel="Next" href="app_odbc.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10638-27.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/20</span> <!-- End Header -->
<div id="UNXAR010" class="appendix"><a id="BEJJBAGM"></a>
<h1 class="appendix"><span class="secnum">D</span> Administering Oracle Database on HP-UX</h1>
<p>This appendix provides information about administering Oracle Database on HP-UX.</p>
<p>It contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDGJCIB">HP-UX Shared Memory Segments for an Oracle Instance</a></p>
</li>
<li>
<p><a href="#i636964">HP-UX SCHED_NOAGE Scheduling Policy</a></p>
</li>
<li>
<p><a href="#i637009">Lightweight Timer Implementation</a></p>
</li>
<li>
<p><a href="#i637036">Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BGBCBFAE">Large Memory Allocations and Oracle Database Tuning</a></p>
</li>
<li id="BABCCCBH">
<p><a href="#BGBIJBBA">CPU_COUNT Initialization Parameter and HP-UX Dynamic Processor Reconfiguration</a></p>
</li>
<li>
<p><a href="#BABJCHJJ">Network Information Service external naming support</a></p>
</li>
<li>
<p><a href="#BABIFHJD">Activating and Setting Expanded Host Names and Node Names</a></p>
</li>
</ul>
<a id="CHDGJCIB"></a>
<div id="UNXAR305" class="sect1">
<h2 class="sect1"><span class="secnum">D.1</span> HP-UX Shared Memory Segments for an Oracle Instance<a id="sthref458"></a></h2>
<p>When an Oracle Database instance starts, it creates memory segments by dividing the shared memory allocated for creating the Oracle System Global Area (SGA) by the value of the HP-UX <code dir="ltr">shmmax</code> kernel parameter. For example, if 64 GB of shared memory is allocated for a single Oracle instance and the value of the <code dir="ltr">shmmax</code> parameter is 1 GB, then Oracle Database creates 64 shared memory segments for that instance.</p>
<p>Performance degradation can occur when an Oracle instance creates multiple shared memory segments. This is because each shared memory segment receives a unique protection key when Oracle Database creates the instance. The number of protection keys available on the system architecture for HP-UX Itanium is 14.</p>
<p>If the Oracle instance creates more shared memory segments than the number of protection keys, then the HP-UX operating system displays protection key faults.</p>
<p>Oracle recommends that you set the <code dir="ltr">shmmax</code> parameter value to the amount of available physical memory on the system. Doing this ensures that the entire shared memory for a single Oracle instance is assigned to one shared memory segment and the instance requires only one protection key.</p>
<p>To display the list of active shared memory segments on the system, run the following command:</p>
<pre dir="ltr">$ ipcs -m
</pre>
<p>If Oracle Database creates more segments for the instance than the number of protection keys, then increase the value of the <code dir="ltr">shmmax</code> kernel parameter.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for more information about the recommended minimum kernel parameter values</div>
</div>
<!-- class="sect1" -->
<a id="i636964"></a>
<div id="UNXAR306" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.2</span> HP-UX SCHED_NOAGE Scheduling Policy<a id="sthref459"></a><a id="sthref460"></a></h2>
<p>On HP-UX, most processes use a time-sharing scheduling policy. Time sharing can have detrimental effects on Oracle performance by descheduling an Oracle process during critical operations, for example, when it is holding a latch. HP-UX has a modified scheduling policy, referred to as <code dir="ltr">SCHED_NOAGE</code>, that specifically addresses this issue. Unlike the normal time-sharing policy, a process scheduled using <code dir="ltr">SCHED_NOAGE</code> does not increase or decrease in priority, nor is it preempted.</p>
<p>This feature is suited to online transaction processing environments because online transaction processing environments can cause competition for critical resources. The use of the <code dir="ltr">SCHED_NOAGE</code> policy with Oracle Database can increase performance by 10 percent or more in online transaction processing environments.</p>
<p>The <code dir="ltr">SCHED_NOAGE</code> policy does not provide the same level of performance gains in decision support environments because there is less resource competition. Because each application and server environment is different, you should test and verify that the environment benefits from the <code dir="ltr">SCHED_NOAGE</code> policy. When using <code dir="ltr">SCHED_NOAGE</code>, Oracle recommends that you exercise caution in assigning highest priority to Oracle processes. Assigning highest <code dir="ltr">SCHED_NOAGE</code> priority to Oracle processes can exhaust CPU resources on the system, causing other user processes to stop responding.</p>
<div id="UNXAR307" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref461"></a>
<h3 class="sect2"><span class="secnum">D.2.1</span> Enabling SCHED_NOAGE for Oracle Database<a id="sthref462"></a></h3>
<p>To permit Oracle Database to use the <code dir="ltr">SCHED_NOAGE</code> scheduling policy, the OSDBA group (typically, the <a id="i636981"></a><code dir="ltr">dba</code> group) must have the <code dir="ltr">RTSCHED</code> and <code dir="ltr">RTPRIO</code> privileges to change the scheduling policy and set the priority level for Oracle processes. To give the <code dir="ltr">dba</code> group these privileges:</p>
<ol>
<li>
<p>Log in as the <code dir="ltr">root</code> user.</p>
</li>
<li>
<p>Using any text editor, open the <code dir="ltr">/etc/privgroup</code> file, or create it if necessary. <a id="sthref463"></a><a id="sthref464"></a></p>
</li>
<li>
<p>Add or edit the following line, which begins with the name of the OSDBA group, specifying the privileges <code dir="ltr">RTPRIO</code> and <code dir="ltr">RTSCHED</code> that you want to grant to this group every time the system restarts:</p>
<pre dir="ltr">dba RTPRIO RTSCHED
</pre></li>
<li>
<p>Save the file, and quit the text editor.</p>
</li>
<li>
<p>Enter the following command to grant the privileges to the OSDBA group:<a id="sthref465"></a><a id="sthref466"></a></p>
<pre dir="ltr"># /usr/sbin/setprivgrp -f /etc/privgroup
</pre></li>
<li>
<p>Enter the following command to verify that the privileges are set correctly:<a id="sthref467"></a><a id="sthref468"></a></p>
<pre dir="ltr"># /usr/bin/getprivgrp dba
</pre></li>
</ol>
<p>Add the <code dir="ltr">HPUX_SCHED_NOAGE</code> initialization parameter to the parameter file for each instance, setting the parameter to an integer value to specify process priority levels. The supported range of values is 178 to 255. Lower values represent higher priorities. The default value of <code dir="ltr">HPUX_SCHED_NOAGE</code> initialization parameter is 178 for all Oracle processes. For LMS processes, this can be changed by setting the initialization parameter <code dir="ltr">_os_sched_high_priority</code>. If the parameter <code dir="ltr">_os_sched_high_priority</code> is between 31 and 2, LMS processes run with <code dir="ltr">SCHED_RR</code> at the set priority. If the parameter value is between 178 and 255, the processes run at the set value with <code dir="ltr">SCHED_NOAGE</code>. However, LMS does not run at priority level less than the value of <code dir="ltr">HPUX_SCHED_NOAGE</code>.</p>
<p>If the <code dir="ltr">HPUX_SCHED_NOAGE</code> parameter setting is out of range, then Oracle Database automatically sets the parameter to a permissible value and continues with the <code dir="ltr">SCHED_NOAGE</code> policy with the new value. It also generates a message in the <code dir="ltr">alert_</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.log</code> file about the new setting. Whenever the highest priority is assigned to Oracle processes, either by the user or by automatic readjustment, Oracle Database generates a message in the <code dir="ltr">alert_</code><code dir="ltr"><span class="codeinlineitalic">sid</span></code><code dir="ltr">.log</code> file warning about the possibility of exhaustion of CPU resources on the system. Oracle recommends that you set the parameter to assign the priority level you want for Oracle processes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The HP-UX documentation, the <code dir="ltr">rtsched</code>(1) man page, and the <code dir="ltr">rtsched</code>(2) man page for more information about priority policies and priority ranges</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i637009"></a>
<div id="UNXAR308" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.3</span> <a id="sthref469"></a>Lightweight Timer Implementation<a id="sthref470"></a></h2>
<p>With Oracle Database 11<span class="italic">g</span>, you can collect run-time statistics always if the dynamic initialization parameter <code dir="ltr">STATISTICS_LEVEL</code> is set to <code dir="ltr">TYPICAL</code> (default) or <code dir="ltr">ALL</code>. This parameter setting implicitly sets the <code dir="ltr">TIMED_STATISTICS</code> initialization parameter to <code dir="ltr">true</code>. Oracle Database on HP-UX systems uses the <code dir="ltr">gethrtime()</code> system library call to calculate elapsed times during the collection of the statistics. The use of this lightweight system library call enables you to collect run-time statistics always while running an Oracle instance, without affecting performance.</p>
<p>This system library call can provide a performance improvement of up to 10 percent over an Oracle release that does not use the <code dir="ltr">gethrtime()</code> system library call when the <code dir="ltr">TIMED_STATISTICS</code> initialization parameter is explicitly set to <code dir="ltr">true</code>. In addition, there is no negative impact on the online transaction processing performance of an Oracle Database while using the <code dir="ltr">gethrtime()</code> system library call to collect run-time statistics always.</p>
</div>
<!-- class="sect1" -->
<a id="i637036"></a>
<div id="UNXAR309" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.4</span> Asynchronous Input-Output<a id="sthref471"></a><a id="sthref472"></a></h2>
<p>The asynchronous Input-Output pseudo-driver on HP-UX enables Oracle Database to perform Input-Output to raw disk partitions using an asynchronous method, resulting in less Input-Output overhead and higher throughput. You can use the asynchronous Input-Output pseudo-driver on both HP-UX servers and workstations.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABEDHIJ">Granting MLOCK Privilege</a></p>
</li>
<li>
<p><a href="#BABBFDCI">Implementing Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BABFGIAC">Verifying Asynchronous Input-Output</a></p>
</li>
<li>
<p><a href="#BABJBHJH">Asynchronous Flag in SGA</a></p>
</li>
</ul>
<a id="BABEDHIJ"></a>
<div id="UNXAR310" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.4.1</span> Granting MLOCK Privilege<a id="sthref473"></a></h3>
<p>To permit Oracle Database to process asynchronous Input-Output operations, the OSDBA group (<code dir="ltr">dba</code>) must have the <code dir="ltr">MLOCK</code> privilege. To give the <code dir="ltr">dba</code> group the <code dir="ltr">MLOCK</code> privilege:</p>
<ol>
<li>
<p>Log in as the <code dir="ltr">root</code> user.</p>
</li>
<li>
<p>Using any text editor, open the <code dir="ltr">/etc/privgroup</code> file, or create it if necessary. <a id="sthref474"></a><a id="sthref475"></a></p>
</li>
<li>
<p>Add or edit the following line, which begins with the name of the OSDBA group, specifying the privilege <code dir="ltr">MLOCK</code>:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must use only one line to specify the privileges for a particular group in this file. If the file already contains a line for the <code dir="ltr">dba</code> group, then add the <code dir="ltr">MLOCK</code> privilege on the same line.</div>
<pre dir="ltr">dba RTPRIO RTSCHED MLOCK
</pre></li>
<li>
<p>Save the file, and quit the text editor.</p>
</li>
<li>
<p>Enter the following command to grant the privileges to the OSDBA group:<a id="sthref476"></a></p>
<pre dir="ltr"># /usr/sbin/setprivgrp -f /etc/privgroup
</pre></li>
<li>
<p>Enter the following command to verify that the privileges are set correctly:<a id="sthref477"></a></p>
<pre dir="ltr"># /usr/bin/getprivgrp dba
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABBFDCI"></a>
<div id="UNXAR311" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.4.2</span> Implementing Asynchronous Input-Output<a id="sthref478"></a><a id="sthref479"></a></h3>
<p>To use asynchronous Input-Output on HP-UX, you must use an Automatic Storage Management disk group that uses raw partitions as the storage option for database files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for more information about configuring Automatic Storage Management and raw logical volumes on HP-UX systems</div>
<p>Before you can implement asynchronous Input-Output with either storage option, you must use the System Administrator Management utility to configure the asynchronous disk driver into the HP-UX kernel.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In Oracle Database 11<span class="italic">g</span> Release 1, you did not have to set <code dir="ltr">DISK_ASYNCH_IO</code> parameter to <code dir="ltr">FALSE</code> on a file system. However, starting with Oracle Database 11<span class="italic">g</span> Release 2, if database uses file system for storing the database files, then ensure that you set initialization parameter <code dir="ltr">DISK_ASYNCH_IO</code> to <code dir="ltr">FALSE</code>. By default the value of <code dir="ltr">DISK_ASYNCH_IO</code> is <code dir="ltr">TRUE</code>.
<p>The <code dir="ltr">DISK_ASYNCH_IO</code> parameter must be set to <code dir="ltr">TRUE</code> only when raw partitions are used for storing database files.</p>
</div>
<p>To add the asynchronous disk driver and configure the kernel by using the System Administrator Management utility:</p>
<ol>
<li>
<p>Run the following command as the <code dir="ltr">root</code> user:</p>
<pre dir="ltr"># sam
</pre></li>
<li>
<p>Select the <span class="bold">Kernel Configuration area</span>.</p>
</li>
<li>
<p>Select the <span class="bold">Drivers area</span>.</p>
</li>
<li>
<p>Select the <span class="bold">asynchronous disk driver</span> (<code dir="ltr">asyncdsk</code>).</p>
</li>
<li>
<p>Select <span class="bold">Actions</span>, and then select <span class="bold">Add Driver to Kernel</span>.</p>
</li>
<li>
<p>Select <span class="bold">List</span>, and then select <span class="bold">Configurable Parameters</span>.</p>
</li>
<li>
<p>Select the <code dir="ltr">MAX_ASYNC_PORTS</code> parameter.</p>
</li>
<li>
<p>Select <span class="bold">Action</span>, and then select <span class="bold">Modify Configurable Parameter.</span></p>
</li>
<li>
<p>Specify a new value for the parameter, using the following guidelines, and then click <span class="bold">OK</span>.</p>
<p>The <code dir="ltr">MAX_ASYNC_PORTS</code> parameter is a configurable HP-UX kernel parameter that controls the maximum number of processes that can open the <code dir="ltr">/dev/async</code> file simultaneously.</p>
<p>The system displays an error message when a process tries to open the <code dir="ltr">/dev/async</code> file after the maximum number of processes have opened the file. This error can reduce performance on systems with a large number of shadow processes or many parallel query slaves performing asynchronous Input-Output. This error is not recorded. To avoid this error, estimate the highest likely number of processes that can access the <code dir="ltr">/dev/async</code> file and set the <code dir="ltr">MAX_ASYNC_PORTS</code> parameter to this value.</p>
</li>
<li>
<p>Select <span class="bold">Actions</span>, and then select <span class="bold">Process a New Kernel</span>.</p>
</li>
<li>
<p>Select one of the following options, and then click <span class="bold">OK</span>:</p>
<ul>
<li>
<p><span class="bold">Move Kernel Into Place and Shutdown System/Reboot Now</span></p>
</li>
<li>
<p><span class="bold">Do Not Move Kernel Into Place: Do Not Shutdown/Reboot Now</span></p>
</li>
</ul>
<p>If you choose the second option, then the new kernel, <code dir="ltr">vmunix_test</code>, and the <code dir="ltr">system.SAM</code> configuration file used to create it, are both created in the <code dir="ltr">/stand/build</code> directory.</p>
</li>
</ol>
<p>To enable asynchronous Input-Output operations using the HP-UX asynchronous device driver:</p>
<ol>
<li>
<p>Log in as the <code dir="ltr">root</code> user.</p>
</li>
<li>
<p>If <code dir="ltr">/dev/async</code> does not exist, use the following command to create it:</p>
<pre dir="ltr"># /sbin/mknod /dev/async c 101 0x0
</pre>
<p>By default, the minor number is set to 0. The following table describes the various minor numbers for 8-bit that you can use to create a device file:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Minor numbers of 8-bit" summary="Description of Minor numbers of 8-bit" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t7"><a id="sthref480"></a>Minor number</th>
<th class="cellalignment5722" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t7" headers="r1c1-t7">0x0</td>
<td class="cellalignment5718" headers="r2c1-t7 r1c2-t7">This is the HP-UX default value for <code dir="ltr">/dev/async</code>.</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t7" headers="r1c1-t7">0x4</td>
<td class="cellalignment5718" headers="r3c1-t7 r1c2-t7">Enable disc device timeouts to complete with an error code rather than retrying forever. This setting is necessary for application-level disc mirroring, so as to avoid the situation where the application waits forever for a failed disc device to be repaired. Oracle RDBMS users should enable this feature when Automatic Storage Management mirroring/replication (internal redundancy) is used. SGA will be locked in memory.</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t7" headers="r1c1-t7">0x100</td>
<td class="cellalignment5718" headers="r4c1-t7 r1c2-t7">Enable on-demand locking of memory pages by async driver when asyncdsk_open(2) is called.&nbsp;&nbsp; A low-overhead routine is then used to lock a page into memory during I/O operations.
<p>On-demand locking is critically important when using Oracle&#39;s Automatic Memory Management feature (the use of <code dir="ltr">MEMORY_TARGET</code> in the <code dir="ltr">init.ora</code> file to control memory usage). RDBMS deployments utilizing dynamic nPar or dynamic vPar features should also configure on-demand locking.</p>
<p>More traditional RDBMS deployments can consider on-demand locking in light of its more obvious effects. Generally speaking, RDBMS startup will be quicker because the complete SGA is not locked into memory immediately. However, some instances will experience a slight run-time performance penalty with on-demand locking as memory pages are dynamically locked/unlocked for each I/O request.</p>
</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t7" headers="r1c1-t7">0x104</td>
<td class="cellalignment5718" headers="r5c1-t7 r1c2-t7">This is a combination of 0x100 and 0x4. Both the features are enabled.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
<li>
<p>Enter the following command to verify that the <code dir="ltr">/dev/async</code> device file exists and has the major number 101:</p>
<pre dir="ltr"># ls -l /dev/async
</pre>
<p>The output of this command should look similar to the following:</p>
<pre dir="ltr">crw------- 1 oracle   dba     101 0x000000 Oct 28 10:32  /dev/async
</pre></li>
<li>
<p>If required, give the device file the operating system owner and permissions consistent with those of the Oracle software owner and OSDBA group.</p>
<p>If the Oracle software owner is <code dir="ltr">oracle</code> and the OSDBA group is <code dir="ltr">dba</code>, then run the following commands:</p>
<pre dir="ltr"># /usr/bin/chown oracle:dba /dev/async
# /usr/bin/chmod 660 /dev/async
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABFGIAC"></a>
<div id="UNXAR312" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.4.3</span> Verifying Asynchronous Input-Output<a id="sthref481"></a></h3>
<p>To verify asynchronous Input-Output, first verify that the HP-UX asynchronous driver is configured for Oracle Database, then verify that Oracle Database is executing asynchronous Input-Output through the HP-UX device driver:</p>
<ul>
<li>
<p><a href="#BABBJCDG">Verifying That HP-UX Asynchronous Driver is Configured for Oracle Database</a></p>
</li>
<li>
<p><a href="#BABDFJDI">Verifying that Oracle Database is Using Asynchronous Input-Output</a></p>
</li>
</ul>
<a id="BABBJCDG"></a>
<div id="UNXAR313" class="sect3">
<h4 class="sect3"><span class="secnum">D.4.3.1</span> Verifying That HP-UX Asynchronous Driver is Configured for Oracle Database</h4>
<p>To verify that the HP-UX asynchronous driver is configured properly for Oracle Database:</p>
<ol>
<li>
<p>Start Oracle Database with a few parallel query slave processes.</p>
</li>
<li>
<p>Start the GlancePlus/UX utility as follows:</p>
<pre dir="ltr">$ gpm
</pre></li>
<li>
<p>In the main window, click <span class="bold">Reports</span> and then click <span class="bold">Process List</span>.</p>
</li>
<li>
<p>In the Process List window, select one parallel query slave process, select <span class="bold">Reports</span>, and then select <span class="bold">Process Open Files</span>.</p>
<p>The list of files currently opened by the parallel query slave process is displayed.</p>
</li>
<li>
<p>In the list of open files, check for the <code dir="ltr">/dev/async</code> file or the 101 0x104000 mode.</p>
<p>If either is in the list, then the <code dir="ltr">/dev/async</code> file has been opened by the parallel query slave process, and the HP-UX asynchronous device driver is configured properly to enable Oracle processes to run asynchronous Input-Output. Make a note of the file descriptor number for the <code dir="ltr">/dev/async</code> file.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABDFJDI"></a>
<div id="UNXAR314" class="sect3">
<h4 class="sect3"><span class="secnum">D.4.3.2</span> Verifying that Oracle Database is Using Asynchronous Input-Output</h4>
<p>To verify that Oracle Database is using asynchronous Input-Output through the HP-UX asynchronous device driver:</p>
<ol>
<li>
<p>Attach the HP-UX <code dir="ltr">tusc</code> utility to the same Oracle parallel query slave that you selected in GlancePlus in the preceding procedure.</p>
</li>
<li>
<p>Run an Input-Output bound query in the environment.</p>
</li>
<li>
<p>Check the pattern of read and write calls in the <code dir="ltr">tusc</code> output.</p>
<p>You can do this, for example, by entering the following command, where <code dir="ltr"><span class="codeinlineitalic">pid</span></code> is the process ID of a parallel query slave supposed to process asynchronous Input-Output:</p>
<pre dir="ltr">$ tusc -p <span class="italic">pid</span> &gt; tusc.output
</pre></li>
<li>
<p>After running the query, press <span class="bold">Ctrl+c</span> to disconnect from the process, and then open the <code dir="ltr">tusc.output</code> file.</p>
<p>The following example shows a sample <code dir="ltr">tusc.output</code> file:</p>
<pre dir="ltr">( Attached to process 2052: &#34;ora_p000_tpch&#34; [ 64-bit ])
................... 
........................ 
[2052] read(9, &#34;80\0\001\013  \b\0\0\0\0\0\0\0\0&#34;.., 388) .. = 28 
[2052] write(9, &#34;\0\0\00e\0\0\0\080\0\001\013&ETH; \0&#34;.., 48) .. = 48 
[2052] read(9, &#34;80\0\001\013&cent; 18\0\0\0\0\0\0\0\0&#34;.., 388) .. = 28 
[2052] write(9, &#34;\0\0\00e\0\0\0\080\0\001\01bd4\0&#34;.., 48) .. = 48 
</pre>
<pre dir="ltr"></pre>
<p>If the <code dir="ltr">DISK_ASYNCH_IO</code> initialization parameter is not explicitly set to <code dir="ltr">false</code> (set to <code dir="ltr">true</code> by default), then the <code dir="ltr">tusc.output</code> file shows a pattern of asynchronous read/write calls of the same file descriptor (9 in the preceding example) back to back.</p>
<p>Map the file descriptor number in the <code dir="ltr">tusc.output</code> file to that used by <code dir="ltr">/dev/async</code> file in GlancePlus. They should match for the particular parallel query slave process. This verifies that Input-Output through the HP-UX asynchronous driver is asynchronous. With synchronous Input-Output, or if the <code dir="ltr">DISK_ASYNCH_IO</code> initialization parameter is explicitly set to <code dir="ltr">FALSE</code>, you do not see the asynchronous read/write pattern described previously. Instead, you see calls to <code dir="ltr">lseek</code> or <code dir="ltr">pread</code>/<code dir="ltr">pwrite</code>. You also see many different file descriptors (the first argument to read/write) instead of just a single file descriptor.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJBHJH"></a>
<div id="UNXAR315" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.4.4</span> Asynchronous Flag in SGA<a id="sthref482"></a></h3>
<p>Oracle Database on HP-UX uses a nonblocking polling facility provided by the HP-UX asynchronous driver to check the status of Input-Output operations. This polling is performed by checking a flag that is updated by the asynchronous driver based on the status of the Input-Output operations submitted. HP-UX requires that this flag be in shared memory.</p>
<p>Oracle Database configures an asynchronous flag in the SGA for each Oracle process. Oracle Database on HP-UX has a true asynchronous Input-Output mechanism where Input-Output requests can be issued even though some previously issued Input-Output operations are not complete. This helps to enhance performance and ensures good scalability of parallel Input-Output processes.</p>
<p>Releases of Oracle Database earlier than release 8.1.7 were able to run Input-Output operations only from shared memory by using the HP-UX asynchronous driver. Oracle Database 11<span class="italic">g</span> runs Input-Output operations from both shared memory and process-private regions using the new HP-UX asynchronous driver. However, Input-Output operations through the asynchronous driver are not asynchronous in nature. This is because Oracle Database must perform a blocking wait to check the status of Input-Output operations submitted to the asynchronous driver. This causes some Oracle processes, such as the database writer process, to essentially process synchronous Input-Output.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBCBFAE"></a>
<div id="UNXAR316" class="sect1">
<h2 class="sect1"><span class="secnum">D.5</span> Large Memory Allocations and Oracle Database Tuning<a id="sthref483"></a><a id="sthref484"></a></h2>
<p>Applications running on Oracle Database 11<span class="italic">g</span> and later can use significantly more memory than applications running on earlier releases. This is because Oracle Database 11<span class="italic">g</span> changes the default setting for virtual memory data<a id="sthref485"></a> pages from D (4 KB) to L (4 GB) on HP-UX systems.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABBCBCB">Default Large Virtual Memory Page Size</a></p>
</li>
<li>
<p><a href="#BABBBGBF">Tuning Recommendations</a></p>
</li>
<li>
<p><a href="#BABGAJFH">Tunable Base Page Size</a></p>
</li>
</ul>
<a id="BABBCBCB"></a>
<div id="UNXAR318" class="sect2">
<h3 class="sect2"><span class="secnum">D.5.1</span> Default Large Virtual Memory Page Size<a id="sthref486"></a></h3>
<p>By default, Oracle Database uses the largest virtual memory page size setting available on HP-UX for allocating process-private memory. It is defined by the value <code dir="ltr">L</code> (largest.) This value is set as one of the <code dir="ltr">LARGE_PAGE_FLAGS</code> options when linking an Oracle executable.</p>
<p>When the virtual memory page size is set to L, HP-UX allocates the available process-private memory to pages of 1 MB, 4 MB, 16 MB and so on, until it reaches the 1 GB limit, or until it reaches the total amount of allocated memory. If you allocate enough memory to the Oracle PGA for the operating system to be able to allocate memory in larger data page size units, then the operating system allocates the maximum page size at once. For example, if you allocate 48 MB for the Oracle PGA, then the system can have either 3 pages each of 16 MB, or a series of pages in unit sizes with the smaller multiples. For example, four 1 MB pages, three 4 MB pages, and two 16 MB pages. If you allocate 64 MB to the PGA, then the operating system allocates one page of 64 MB, as the data page unit size matches the available memory.</p>
<p>In general, large memory pages yield better application performance by reducing the number of virtual memory translation faults that must be handled by the operating system, freeing more CPU resources for the application. Large pages help to reduce the total number of data pages required to allocate the process-private memory. This reduction decreases the chances of translation lookaside buffer misses at the processor level.</p>
<p>However, if applications are constrained in memory and tend to run a very large number of processes, then this drastic page size increase may lead processes to indicate large memory allocations, followed by an <code dir="ltr">Out of memory</code> error message. If this happens, then you must lower the page size to a value between the D (default) size of 4 KB and the <code dir="ltr">L</code> (largest) size of 4 GB.</p>
<p>With the lowest page size setting (4 KB), CPU utilization can be 20 percent higher than that with a larger page size setting. With the highest setting of <code dir="ltr">L</code>, the memory utilization can be 50 percent higher than that with a 4 MB setting. In cases where the system shows memory constraints, Oracle recommends that you set the page size to match the requirements of the particular application, within the constraints of available memory resources.</p>
<p>For example, an application that has problems with the <code dir="ltr">L</code> setting may show reasonable performance with a 4 MB virtual memory page setting.</p>
</div>
<!-- class="sect2" -->
<a id="BABBBGBF"></a>
<div id="UNXAR319" class="sect2">
<h3 class="sect2"><span class="secnum">D.5.2</span> Tuning Recommendations<a id="sthref487"></a></h3>
<p>To address tuning for the increased memory allocation required for persistent private SQL areas and large virtual memory page sizes, Oracle recommends that you decrease the virtual memory data page size for Oracle Database as required. Use the following command to alter the page size setting:</p>
<pre dir="ltr"># /usr/bin/chatr +pd <span class="italic">newsize</span> $ORACLE_HOME/bin/oracle
</pre>
<p>In the preceding example, <code dir="ltr"><span class="codeinlineitalic">newsize</span></code> represents the new value of the virtual memory page size.</p>
<p>Display the new setting using the <code dir="ltr">chatr</code> command as follows:</p>
<pre dir="ltr"># /usr/bin/chatr $ORACLE_HOME/bin/oracle
</pre></div>
<!-- class="sect2" -->
<a id="BABGAJFH"></a>
<div id="UNXAR320" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.5.3</span> Tunable Base Page Size</h3>
<p>A large base page size enables efficient memory management. The default value for <code dir="ltr">base_pagesize</code> is 4 KB. The new feature introduced with HP-UX 11.31 enables to adjust the size of the base page, by invoking <code dir="ltr">kctune</code> (1 M) to change the tunable <code dir="ltr">base_pagesize</code> and then restart the computer.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBIJBBA"></a>
<div id="UNXAR321" class="sect1">
<h2 class="sect1"><span class="secnum">D.6</span> CPU_COUNT Initialization Parameter and HP-UX Dynamic Processor Reconfiguration<a id="sthref488"></a><a id="sthref489"></a><a id="sthref490"></a><a id="sthref491"></a></h2>
<p>HP-UX 11<span class="italic">i</span> supports dynamic run-time reconfiguration of processor sets and dynamic reassignment of workload between processor sets by valid users.</p>
<p>HP-UX Virtual Partitions enable users to configure their systems in multiple logical partitions where each partition is assigned its own set of processors, memory, and Input-Output resources, and can run a separate instance of the HP-UX operating system. HP-UX processor sets integrated with vPars support dynamic processor migration from one virtual partition to another without requiring a restart of any virtual partition. This helps to provide efficient resource partitioning between applications to minimize interference and guarantees necessary resource allocation to each application running on the HP-UX server.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Refer to the &#34;<a class="olink CNCPT1985" href="../CNCPT/cmntopc.htm#CNCPT1985">System and Database Changes</a>&#34; section in the <a class="olink CNCPT" href="../CNCPT/toc.htm"><span class="italic">Oracle Database Concepts</span></a> guide for more information about dynamic resource provisioning</div>
</div>
<!-- class="sect1" -->
<a id="BABJCHJJ"></a>
<div id="UNXAR322" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.7</span> Network Information Service external naming support</h2>
<p>Network Information Service external naming adapter is supported on HP-UX. To configure and use Network Information Service external naming, refer to the &#34;Configuring External Naming Methods&#34; section of <a class="olink NETAG" href="../NETAG/toc.htm"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BABIFHJD"></a>
<div id="UNXAR323" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.8</span> Activating and Setting Expanded Host Names and Node Names</h2>
<p>The system node names and host names have default length limits of 8 and 64 bytes. The system administrator can configure the system to expand both these limits to 255 bytes.</p>
<p>A dynamic kernel tunable parameter <code dir="ltr">expanded_node_host_names</code>, must be turned on to allow larger names to be set.</p>
<p>To turn on the kernel parameter, run the following command:</p>
<pre dir="ltr">kctune expanded_node_host_names=1
</pre>
<p>To turn off the kernel parameter, run the following command:</p>
<pre dir="ltr">kctune expanded_node_host_names=0
</pre></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5711">
<tr>
<td class="cellalignment5718">
<table class="cellalignment5716">
<tr>
<td class="cellalignment5715"><a href="appa_aix.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5715"><a href="app_odbc.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5720">
<table class="cellalignment5714">
<tr>
<td class="cellalignment5715"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5715"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5715"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5715"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5715"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5715"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
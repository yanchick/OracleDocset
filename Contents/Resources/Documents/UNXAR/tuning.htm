<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-114117"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Tuning%20Oracle%20Database"></a><title>Tuning Oracle Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-25T3:25:33Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&#39;s Reference"/>
<meta name="dcterms.identifier" content="E10638-27"/>
<meta name="dcterms.isVersionOf" content="UNXAR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ldr_demo.htm" title="Previous" type="text/html"/>
<link rel="Next" href="appe_sol.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E10638-27.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/20</span> <!-- End Header -->
<div id="UNXAR008" class="chapter"><a id="BCEJBDJH"></a>
<h1 class="chapter"><span class="secnum">8</span> Tuning Oracle Database</h1>
<p>This chapter describes how to tune Oracle Database. It contains the following sections:</p>
<ul>
<li>
<p><a href="#BABBGFEI">Importance of Tuning</a></p>
</li>
<li>
<p><a href="#BABFAABG">Operating System Tools</a></p>
</li>
<li>
<p><a href="#i19293">Tuning Memory Management</a></p>
</li>
<li>
<p><a href="#BABEBEIC">Tuning Disk Input-Output</a></p>
</li>
<li>
<p><a href="#i10932">Monitoring Disk Performance</a></p>
</li>
<li>
<p><a href="#i85390">System Global Area</a></p>
</li>
<li>
<p><a href="#i23890">Tuning the Operating System Buffer Cache</a></p>
</li>
</ul>
<a id="BABBGFEI"></a>
<div id="UNXAR241" class="sect1">
<h2 class="sect1"><span class="secnum">8.1</span> Importance of Tuning</h2>
<p>The intent of this section is to efficiently tune and optimize the performance of Oracle Database. Frequent tuning enhances system performance and prevents data bottlenecks.</p>
<p>Before tuning the database, you must observe its normal behavior by using the tools described in the <a href="#BABFAABG">&#34;Operating System Tools&#34;</a> section.</p>
</div>
<!-- class="sect1" -->
<a id="BABFAABG"></a>
<div id="UNXAR242" class="sect1">
<h2 class="sect1"><span class="secnum">8.2</span> Operating System Tools</h2>
<p>Several operating system tools are available to enable you to assess database performance and determine database requirements. In addition to providing statistics for Oracle processes, these tools provide statistics for CPU usage, interrupts, swapping, paging, context switching, and Input-Output for the entire system.</p>
<p>This section provides information about the following common tools:</p>
<ul>
<li>
<p><a href="#BABDECCF">vmstat</a></p>
</li>
<li>
<p><a href="#BABIDADA">sar</a></p>
</li>
<li>
<p><a href="#BABGEIJC">iostat</a></p>
</li>
<li>
<p><a href="#CHEFADHA">swap, swapinfo, swapon, or lsps</a></p>
</li>
<li>
<p><a href="#CEGDIJDH">Oracle Solaris Tools</a></p>
</li>
<li>
<p><a href="#CEGDBEID">Linux Tools</a></p>
</li>
<li>
<p><a href="#BCGGDJAF">IBM AIX on POWER Systems (64-Bit) Tools</a></p>
</li>
<li>
<p><a href="#BABJHCFE">HP-UX Tools</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The operating system documentation and man pages for more information about these tools</div>
<div id="UNXAR243" class="sect2"><a id="BABDECCF"></a>
<h3 class="sect2"><span class="secnum">8.2.1</span> vmstat<a id="sthref314"></a><a id="sthref315"></a><a id="sthref316"></a><a id="sthref317"></a></h3>
<p>Use the <code dir="ltr">vmstat</code> command to view process, virtual memory, disk, trap, and CPU activity, depending on the switches that you supply with the command. Run one of the following commands to display a summary of CPU activity six times, at five-second intervals:</p>
<ul>
<li>
<p>On Oracle Solaris:</p>
<pre dir="ltr">$ vmstat -S 5 6
</pre></li>
<li>
<p>On Linux, IBM AIX on POWER Systems (64-bit), and HP-UX:</p>
<pre dir="ltr">$ vmstat 5 6
</pre></li>
</ul>
<p>The following is sample output of this command on Linux:</p>
<pre dir="ltr">procs          memory                  swap      io      system       cpu
r b     swpd   free   buff  cache      si so    bi bo   in  cs us   sy id wa st
0 0    130668 103604 198144 5029000     0 0     1 68     8   6  0   0 100 0  0
0 0    130668 103604 198144 5029000     0 0     0 86    226 352 0   0 100 0  0
0 0    130668 103604 198148 5029000     0 0     0 58    223 357 0   0 100 0  0
0 0    130668 103604 198152 5029004     0 0     0 68    223 358 0   0 100 0  0
0 0    130668 103604 198152 5029004     0 0     0 56    223 357 0   0 100 0  0
0 0    130668 103604 198152 5029004     0 0     0 57    228 362 0   0 100 0  0
</pre>
<p>The following is sample output of this command on HP-UX:</p>
<pre dir="ltr">procs     memory            page            disk          faults      cpu
 r b w   swap  free  si  so pi po fr de sr f0 s0 s1 s3   in   sy   cs us sy id
 0 0 0   1892  5864   0   0  0  0  0  0  0  0  0  0  0   90   74   24  0  0 99
 0 0 0  85356  8372   0   0  0  0  0  0  0  0  0  0  0   46   25   21  0  0 100
 0 0 0  85356  8372   0   0  0  0  0  0  0  0  0  0  0   47   20   18  0  0 100
 0 0 0  85356  8372   0   0  0  0  0  0  0  0  0  0  2   53   22   20  0  0 100
 0 0 0  85356  8372   0   0  0  0  0  0  0  0  0  0  0   87   23   21  0  0 100
 0 0 0  85356  8372   0   0  0  0  0  0  0  0  0  0  0   48   41   23  0  0 100
</pre>
<p>The <code dir="ltr">w</code> sub column, under the <code dir="ltr">procs</code> column, shows the number of potential processes that have been swapped out and written to disk. If the value is not zero, then swapping occurs and the system is short of memory.</p>
<p>The <code dir="ltr">si</code> and <code dir="ltr">so</code> columns under the <code dir="ltr">page</code> column indicate the number of swap-ins and swap-outs per second, respectively. Swap-ins and swap-outs should always be zero.</p>
<p>The <code dir="ltr">sr</code> column under the <code dir="ltr">page</code> column indicates the scan rate. High scan rates are caused by a shortage of available memory.</p>
<p>The <code dir="ltr">pi</code> and <code dir="ltr">po</code> columns under the <code dir="ltr">page</code> column indicate the number of page-ins and page-outs per second, respectively. It is normal for the number of page-ins and page-outs to increase. Some paging always occurs even on systems with sufficient available memory.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The output from the <code dir="ltr">vmstat</code> command differs across platforms.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Refer to the man page for information about interpreting the output</div>
</div>
<!-- class="sect2" -->
<div id="UNXAR244" class="sect2"><a id="BABIDADA"></a>
<h3 class="sect2"><span class="secnum">8.2.2</span> sar<a id="sthref318"></a><a id="sthref319"></a><a id="sthref320"></a><a id="sthref321"></a></h3>
<p>Depending on the switches that you supply with the command, use the <code dir="ltr">sar</code> (system activity reporter) command to display cumulative activity counters in the operating system.</p>
<p>On UNIX systems, the following command displays a summary of the input and output activity every ten seconds:</p>
<pre dir="ltr">$ sar -b 10 10
</pre>
<p>The following example shows the output of this command on a Linux system:</p>
<pre dir="ltr">10:28:01       tps      rtps      wtps   bread/s   bwrtn/s
10:28:11     17.20      0.00     17.20      0.00    300.80
10:28:21     46.40      0.00     46.40      0.00    467.20
10:28:31     16.40      0.00     16.40      0.00    283.20
10:28:41     15.60      0.00     15.60      0.00    275.20
10:28:51     17.02      0.00     17.02      0.00    254.65
10:29:01     35.80      0.00     35.80      0.00    414.40
10:29:11     15.80      0.00     15.80      0.00    273.60
10:29:21     17.40      0.00     17.40      0.00    262.40
10:29:31     32.20      0.00     32.20      0.00    406.40
10:29:41     20.98      0.00     20.98      0.00    354.85

Average:        23.48      0.00     23.48      0.00    329.28
</pre>
<p>The <code dir="ltr">sar</code> output provides a snapshot of system input and output activity at a given point in time. If you specify the interval time with multiple options, then the output can become difficult to read. If you specify an interval time of less than 5, then the <code dir="ltr">sar</code> activity itself can affect the output.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The man page for more information about <code dir="ltr">sar</code></div>
</div>
<!-- class="sect2" -->
<div id="UNXAR245" class="sect2"><a id="BABGEIJC"></a>
<h3 class="sect2"><span class="secnum">8.2.3</span> iostat<a id="sthref322"></a><a id="sthref323"></a><a id="sthref324"></a><a id="sthref325"></a></h3>
<p>Use the <code dir="ltr">iostat</code> command to view terminal and disk activity, depending on the switches that you supply with the command. The output from the <code dir="ltr">iostat</code> command does not include disk request queues, but it shows which disks are busy. You can use this information to balance the Input-Output loads.</p>
<p>The following command displays terminal and disk activity five times, at five-second intervals:</p>
<pre dir="ltr">$ iostat 5 5
</pre>
<p>The following is sample output of the command on Oracle Solaris:</p>
<pre dir="ltr">tty          fd0           sd0           sd1           sd3          cpu
 tin tout Kps tps serv  Kps tps serv  Kps tps serv  Kps tps serv  us sy wt id
   0    1   0   0    0    0   0   31    0   0   18    3   0   42   0  0  0 99
   0   16   0   0    0    0   0    0    0   0    0    1   0   14   0  0  0 100
   0   16   0   0    0    0   0    0    0   0    0    0   0    0   0  0  0 100
   0   16   0   0    0    0   0    0    0   0    0    0   0    0   0  0  0 100
   0   16   0   0    0    0   0    0    2   0   14   12   2   47   0  0  1 98
</pre>
<p>Use the <code dir="ltr">iostat</code> command to look for large disk request queues. A request queue shows how long the Input-Output requests on a particular disk device must wait to be serviced. Request queues are caused by a high volume of Input-Output requests to that disk or by Input-Output with long average seek times. Ideally, disk request queues should be at or near zero.</p>
</div>
<!-- class="sect2" -->
<a id="BABDGDBA"></a>
<div id="UNXAR246" class="sect2"><a id="CHEFADHA"></a>
<h3 class="sect2"><span class="secnum">8.2.4</span> swap, swapinfo, swapon, or lsps<a id="sthref326"></a><a id="sthref327"></a><a id="sthref328"></a><a id="sthref329"></a><a id="sthref330"></a><a id="sthref331"></a><a id="sthref332"></a><a id="sthref333"></a><a id="sthref334"></a><a id="sthref335"></a><a id="sthref336"></a><a id="sthref337"></a><a id="sthref338"></a><a id="sthref339"></a><a id="sthref340"></a><a id="sthref341"></a></h3>
<p>Use the <code dir="ltr">swap</code>, <code dir="ltr">swapinfo</code>, <code dir="ltr">swapon</code>, or <code dir="ltr">lsps</code> command to report information about swap space usage. A shortage of swap space can stop processes responding, leading to process failures with <code dir="ltr">Out of Memory</code> errors. The following table lists the appropriate command to use for each platform:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Swap, Swapinfo, swapon, and lsps commands" summary="This table lists commands for determining swap space usage" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t6">Platform</th>
<th class="cellalignment5722" id="r1c2-t6">Command</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t6" headers="r1c1-t6">Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t6 r1c2-t6"><code dir="ltr">swap -lh</code>, <code dir="ltr">swap -sh</code>, and <code dir="ltr">zfs list</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t6" headers="r1c1-t6">Linux</td>
<td class="cellalignment5718" headers="r3c1-t6 r1c2-t6"><code dir="ltr">swapon -s</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t6" headers="r1c1-t6">IBM AIX on POWER Systems (64-bit)</td>
<td class="cellalignment5718" headers="r4c1-t6 r1c2-t6"><code dir="ltr">lsps -a</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t6" headers="r1c1-t6">HP-UX</td>
<td class="cellalignment5718" headers="r5c1-t6 r1c2-t6"><code dir="ltr">swapinfo -m</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The following example shows sample output from the <code dir="ltr">swap -l</code> command on Oracle Solaris:</p>
<pre dir="ltr">swapfile                     dev      swaplo  blocks     free  
/dev/zvol/dsk/rpool/swap    274,1      8      2097144    2097144
</pre></div>
<!-- class="sect2" -->
<a id="CEGDIJDH"></a>
<div id="UNXAR253" class="sect2">
<h3 class="sect2"><span class="secnum">8.2.5</span> Oracle Solaris Tools<a id="sthref342"></a></h3>
<p>On Oracle Solaris systems, use the <code dir="ltr"><a id="sthref343"></a><a id="sthref344"></a>mpstat</code> command to view statistics for each processor in a multiprocessor system. Each row of the table represents the activity of one processor. The first row summarizes all activity since the last system restart. Each subsequent row summarizes activity for the preceding interval. All values are events per second unless otherwise noted. The arguments are for time intervals between statistics and number of iterations.</p>
<p>The following example shows sample output from the <code dir="ltr">mpstat</code> command:</p>
<pre dir="ltr">CPU minf mjf xcal  intr ithr  csw icsw migr smtx  srw syscl  usr sys  st idl
  0    0   0    1    71   21   23    0    0    0    0    55    0   0   0  99
  2    0   0    1    71   21   22    0    0    0    0    54    0   0   0  99
CPU minf mjf xcal  intr ithr  csw icsw migr smtx  srw syscl  usr sys  st idl
  0    0   0    0    61   16   25    0    0    0    0    57    0   0   0 100
  2    1   0    0    72   16   24    0    0    0    0    59    0   0   0 100
</pre></div>
<!-- class="sect2" -->
<a id="CEGDBEID"></a>
<div id="UNXAR252" class="sect2">
<h3 class="sect2"><span class="secnum">8.2.6</span> Linux Tools<a id="sthref345"></a></h3>
<p>On Linux systems, use the <code dir="ltr">top</code>, <code dir="ltr">free</code>, and <code dir="ltr">cat /proc/meminfo</code> commands to view information about swap space, memory, and buffer usage.</p>
</div>
<!-- class="sect2" -->
<a id="BCGGDJAF"></a>
<div id="UNXAR247" class="sect2">
<h3 class="sect2"><span class="secnum">8.2.7</span> IBM AIX on POWER Systems (64-Bit) Tools<a id="sthref346"></a></h3>
<p>The following sections describe tools available on IBM AIX on POWER Systems (64-bit):</p>
<ul>
<li>
<p><a href="#CEGEEFDJ">Base Operation System Tools</a></p>
</li>
<li>
<p><a href="#CEGHJDGC">Performance Toolbox</a></p>
</li>
<li>
<p><a href="#CEGGAIGE">System Management Interface Tool</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The IBM AIX on POWER Systems (64-bit) operating system documentation and man pages for more information about these tools</div>
<a id="CEGEEFDJ"></a>
<div id="UNXAR248" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">8.2.7.1</span> Base Operation System Tools<a id="sthref347"></a></h4>
<p>The IBM AIX on POWER Systems (64-bit) Base Operation System contains performance tools that are historically part of UNIX systems or are required to manage the implementation-specific features of IBM AIX on POWER Systems (64-bit). The following table lists the most important Base Operation System tools.</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="AIX Base Operation System Tools" summary="This table describes AIX Base Operation System tools" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t8">Tool</th>
<th class="cellalignment5722" id="r1c2-t8">Function</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t8" headers="r1c1-t8"><code dir="ltr">lsattr</code></td>
<td class="cellalignment5718" headers="r2c1-t8 r1c2-t8">Displays the attributes of devices</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t8" headers="r1c1-t8"><code dir="ltr">lslv</code></td>
<td class="cellalignment5718" headers="r3c1-t8 r1c2-t8">Displays information about a logical volume or the logical volume allocations of a physical volume</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t8" headers="r1c1-t8"><code dir="ltr">netstat</code></td>
<td class="cellalignment5718" headers="r4c1-t8 r1c2-t8">Displays the contents of network-related data structures</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t8" headers="r1c1-t8"><code dir="ltr">nfsstat</code></td>
<td class="cellalignment5718" headers="r5c1-t8 r1c2-t8">Displays statistics about Network File System and Remote Procedure Call activity</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r6c1-t8" headers="r1c1-t8"><code dir="ltr">nice</code></td>
<td class="cellalignment5718" headers="r6c1-t8 r1c2-t8">Changes the initial priority of a process</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r7c1-t8" headers="r1c1-t8"><code dir="ltr">no</code></td>
<td class="cellalignment5718" headers="r7c1-t8 r1c2-t8">Displays or sets network options</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r8c1-t8" headers="r1c1-t8"><code dir="ltr">ps</code></td>
<td class="cellalignment5718" headers="r8c1-t8 r1c2-t8">Displays the status of one or more processes</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r9c1-t8" headers="r1c1-t8"><code dir="ltr">reorgvg</code></td>
<td class="cellalignment5718" headers="r9c1-t8 r1c2-t8">Reorganizes the physical-partition allocation within a volume group</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r10c1-t8" headers="r1c1-t8"><code dir="ltr">time</code></td>
<td class="cellalignment5718" headers="r10c1-t8 r1c2-t8">Displays the elapsed execution, user CPU processing, and system CPU processing time</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r11c1-t8" headers="r1c1-t8"><code dir="ltr">trace</code></td>
<td class="cellalignment5718" headers="r11c1-t8 r1c2-t8">Records and reports selected system events</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r12c1-t8" headers="r1c1-t8"><code dir="ltr">vmo</code></td>
<td class="cellalignment5718" headers="r12c1-t8 r1c2-t8">Manages Virtual Memory Manager tunable parameters</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<a id="CEGHJDGC"></a>
<div id="UNXAR249" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">8.2.7.2</span> Performance Toolbox</h4>
<p>The IBM AIX on POWER Systems (64-bit) Performance Toolbox contains tools for monitoring and tuning system activity locally and remotely. The Performance Tool Box consists of two main components, the <a id="sthref348"></a><a id="sthref349"></a>Performance Tool Box Manager and the <a id="sthref350"></a><a id="sthref351"></a><a id="sthref352"></a>Performance Tool Box Agent. The Performance Tool Box Manager collects and displays data from various systems in the configuration by using the <code dir="ltr">xmperf</code> utility. The Performance Tool Box Agent collects and transmits data to the Performance Tool Box Manager by using the <code dir="ltr">xmserd</code> daemon. The Performance Tool Box Agent is also available as a separate product called Performance Aide for IBM AIX on POWER Systems (64-bit).</p>
<p>Both Performance Tool Box and Performance Aide include the monitoring and tuning tools listed in the following table:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="AIX Monitoring and Tuning Tools" summary="This table describes AIX monitoring and tuning tools" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t9">Tool</th>
<th class="cellalignment5722" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t9" headers="r1c1-t9"><code dir="ltr">fdpr</code></td>
<td class="cellalignment5718" headers="r2c1-t9 r1c2-t9">Optimizes an executable program for a particular workload</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t9" headers="r1c1-t9"><code dir="ltr">filemon</code></td>
<td class="cellalignment5718" headers="r3c1-t9 r1c2-t9">Uses the trace facility to monitor and report the activity of the file system</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t9" headers="r1c1-t9"><code dir="ltr">fileplace</code></td>
<td class="cellalignment5718" headers="r4c1-t9 r1c2-t9">Displays the placement of blocks of a file within logical or physical volumes</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t9" headers="r1c1-t9"><code dir="ltr">lockstat</code></td>
<td class="cellalignment5718" headers="r5c1-t9 r1c2-t9">Displays statistics about contention for kernel locks</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r6c1-t9" headers="r1c1-t9"><code dir="ltr">lvedit</code></td>
<td class="cellalignment5718" headers="r6c1-t9 r1c2-t9">Facilitates interactive placement of logical volumes within a volume group</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r7c1-t9" headers="r1c1-t9"><code dir="ltr">netpmon</code></td>
<td class="cellalignment5718" headers="r7c1-t9 r1c2-t9">Uses the trace facility to report on network Input-Output and network-related CPU usage</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r8c1-t9" headers="r1c1-t9"><code dir="ltr">rmss</code></td>
<td class="cellalignment5718" headers="r8c1-t9 r1c2-t9">Simulates systems with various memory sizes for performance testing</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r9c1-t9" headers="r1c1-t9"><code dir="ltr">svmon</code></td>
<td class="cellalignment5718" headers="r9c1-t9 r1c2-t9">Captures and analyzes information about virtual-memory usage</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r10c1-t9" headers="r1c1-t9"><code dir="ltr">syscalls</code></td>
<td class="cellalignment5718" headers="r10c1-t9 r1c2-t9">Records and counts system calls</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r11c1-t9" headers="r1c1-t9"><code dir="ltr">tprof</code></td>
<td class="cellalignment5718" headers="r11c1-t9 r1c2-t9">Uses the <code dir="ltr">trace</code> facility to report CPU usage at module and source-code-statement levels</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r12c1-t9" headers="r1c1-t9"><code dir="ltr">BigFoot</code></td>
<td class="cellalignment5718" headers="r12c1-t9 r1c2-t9">Reports the memory access patterns of processes</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r13c1-t9" headers="r1c1-t9"><code dir="ltr">stem</code></td>
<td class="cellalignment5718" headers="r13c1-t9 r1c2-t9">Permits subroutine-level entry and exit instrumentation of existing executables</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><span class="italic">Performance Toolbox Version 2 and 3 Guide and Reference</span> for information about these tools</p>
</li>
<li>
<p><span class="italic">AIX 5L Performance Management Guide</span> for information about the syntax of some of these tools</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CEGGAIGE"></a>
<div id="UNXAR250" class="sect3">
<h4 class="sect3"><span class="secnum">8.2.7.3</span> System Management Interface Tool<a id="sthref353"></a><a id="sthref354"></a></h4>
<p>The IBM AIX on POWER Systems (64-bit) System Management Interface Tool (SMIT) provides a menu-driven interface to various system administrative and performance tools. By using SMIT, you can navigate through large numbers of tools and focus on the jobs that you want to perform.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJHCFE"></a>
<div id="UNXAR419" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.2.8</span> HP-UX Tools</h3>
<p>The following performance analysis tools are available on HP-UX systems:</p>
<ul>
<li>
<p>GlancePlus/UX</p>
<p>This HP-UX utility is an online diagnostic tool that measures the activities of the system. GlancePlus displays information about how system resources are used. It displays dynamic information about the system Input-Output, CPU, and memory usage on a series of screens. You can use the utility to monitor how individual processes are using resources.</p>
</li>
<li>
<p>HP Programmer&#39;s Analysis Kit</p>
<p>HP Programmer&#39;s Analysis Kit consists of the following tools:</p>
<ul>
<li>
<p>Puma</p>
<p>This tool collects performance statistics during a program run. It provides several graphical displays for viewing and analyzing the collected statistics.</p>
</li>
<li>
<p>Thread Trace Visualizer</p>
<p>This tool displays trace files produced by the instrumented thread library, <code dir="ltr">libpthread_tr.sl</code>, in a graphical format. It enables you to view how threads are interacting and to find where threads are blocked waiting for resources.</p>
<p>HP Programmer&#39;s Analysis Kit is bundled with the HP Fortran 77, HP Fortran 90, HP C, HP C++, HP ANSI C++, and HP Pascal compilers.</p>
<p>The following table lists the performance tuning tools that you can use for additional performance tuning on HP-UX:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="AIX Monitoring and Tuning Tools" summary="This table describes HP-UX monitoring and tuning tools" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t11">Tool</th>
<th class="cellalignment5722" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t11" headers="r1c1-t11"><code dir="ltr">caliper</code> (Itanium only)</td>
<td class="cellalignment5718" headers="r2c1-t11 r1c2-t11">Collects run-time application data for system analysis tasks such as cache misses, translation look-aside buffer or instruction cycles, along with fast dynamic instrumentation. It is a dynamic performance measurement tool for C, C++, Fortran, and assembly applications</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t11" headers="r1c1-t11"><code dir="ltr">gprof</code></td>
<td class="cellalignment5718" headers="r3c1-t11 r1c2-t11">Creates an execution profile for programs</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t11" headers="r1c1-t11"><code dir="ltr">monitor</code></td>
<td class="cellalignment5718" headers="r4c1-t11 r1c2-t11">Monitors the program counter and calls to certain functions</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t11" headers="r1c1-t11"><code dir="ltr">netfmt</code></td>
<td class="cellalignment5718" headers="r5c1-t11 r1c2-t11">Monitors the network</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r6c1-t11" headers="r1c1-t11"><code dir="ltr">netstat</code></td>
<td class="cellalignment5718" headers="r6c1-t11 r1c2-t11">Reports statistics on network performance</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r7c1-t11" headers="r1c1-t11"><code dir="ltr">nfsstat</code></td>
<td class="cellalignment5718" headers="r7c1-t11 r1c2-t11">Displays statistics about Network File System and Remote Procedure Call activity</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r8c1-t11" headers="r1c1-t11"><code dir="ltr">nettl</code></td>
<td class="cellalignment5718" headers="r8c1-t11 r1c2-t11">Captures network events or packets by logging and tracing</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r9c1-t11" headers="r1c1-t11"><code dir="ltr">prof</code></td>
<td class="cellalignment5718" headers="r9c1-t11 r1c2-t11">Creates an execution profile of C programs and displays performance statistics for the program, showing where the program is spending most of its execution time</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r10c1-t11" headers="r1c1-t11"><code dir="ltr">profil</code></td>
<td class="cellalignment5718" headers="r10c1-t11 r1c2-t11">Copies program counter information into a buffer</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r11c1-t11" headers="r1c1-t11"><code dir="ltr">top</code></td>
<td class="cellalignment5718" headers="r11c1-t11 r1c2-t11">Displays the top processes on the system and periodically updates the information</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
</ul>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i19293"></a>
<div id="UNXAR254" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.3</span> Tuning Memory Management<a id="sthref355"></a></h2>
<p>Start the memory tuning process by measuring paging and swapping space to determine how much memory is available.<a id="sthref356"></a><a id="sthref357"></a><a id="sthref358"></a><a id="sthref359"></a><a id="sthref360"></a> After you determine the system memory usage, tune the Oracle buffer cache.</p>
<p><a id="sthref361"></a><a id="sthref362"></a>The Oracle buffer manager ensures that the most frequently accessed data is cached longer. If you monitor the buffer manager and tune the buffer cache, then you can significantly improve Oracle Database performance. The optimal Oracle Database buffer size for the system depends on the overall system load and the relative priority of Oracle Database over other applications.<a id="sthref363"></a></p>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#BCGIGFEH">Allocating Sufficient Swap Space</a></p>
</li>
<li>
<p><a href="#BCGDJFAJ">Controlling Paging</a></p>
</li>
<li>
<p><a href="#i8852">Adjusting Oracle Block Size</a></p>
</li>
<li>
<p><a href="#BABBJHAC">Allocating Memory Resource</a></p>
</li>
</ul>
<a id="BCGIGFEH"></a>
<div id="UNXAR255" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.3.1</span> Allocating Sufficient Swap Space<a id="sthref364"></a><a id="sthref365"></a></h3>
<p>Try to minimize swapping because it causes significant operating system overhead. To check for swapping, use the <code dir="ltr">sar</code> or <code dir="ltr">vmstat</code> commands. For information about the appropriate options to use with these commands, refer to the man pages.</p>
<p>If the system is swapping and you must conserve memory, then:</p>
<ul>
<li>
<p>Avoid running unnecessary system daemon processes or application processes.</p>
</li>
<li>
<p>Decrease the number of database buffers to free some memory.</p>
</li>
<li>
<p>Decrease the number of operating system file buffers.</p>
</li>
</ul>
<p>To determine the amount of swap space, run one of the following commands, depending on the platform:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Swap Space Commands" summary="This table lists the commands to determine swap space by platform" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t12">Platform</th>
<th class="cellalignment5722" id="r1c2-t12">Command</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t12" headers="r1c1-t12">Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t12 r1c2-t12"><code dir="ltr">swap -l</code> and <code dir="ltr">swap -s</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t12" headers="r1c1-t12">Linux</td>
<td class="cellalignment5718" headers="r3c1-t12 r1c2-t12"><code dir="ltr">swapon -s</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t12" headers="r1c1-t12">IBM AIX on POWER Systems (64-bit)</td>
<td class="cellalignment5718" headers="r4c1-t12 r1c2-t12"><code dir="ltr">lsps -a</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t12" headers="r1c1-t12">HP-UX</td>
<td class="cellalignment5718" headers="r5c1-t12 r1c2-t12"><code dir="ltr">swapinfo -m</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>To add swap space to the system, run one of the following commands, depending on the platform:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Adding Swap Space" summary="This table lists platform-specific commands to add swap space" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t13">Platform</th>
<th class="cellalignment5722" id="r1c2-t13">Command</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t13" headers="r1c1-t13">Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t13 r1c2-t13"><code dir="ltr">swap -a</code>
<p><span class="bold">Note</span>: On Oracle Solaris 11 systems, you can add swap space by increasing the size of <code dir="ltr">rpool/swap</code>.</p>
</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t13" headers="r1c1-t13">Linux</td>
<td class="cellalignment5718" headers="r3c1-t13 r1c2-t13"><code dir="ltr">swapon -a</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t13" headers="r1c1-t13">IBM AIX on POWER Systems (64-bit)</td>
<td class="cellalignment5718" headers="r4c1-t13 r1c2-t13"><code dir="ltr">chps</code> or <code dir="ltr">mkps</code></td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t13" headers="r1c1-t13">HP-UX</td>
<td class="cellalignment5718" headers="r5c1-t13 r1c2-t13"><code dir="ltr">swapon</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Set the swap space to between two and four times the physical memory. Monitor the use of swap space, and increase it as required.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The operating system documentation for more information about these commands</div>
</div>
<!-- class="sect2" -->
<a id="BCGDJFAJ"></a>
<div id="UNXAR256" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.3.2</span> Controlling Paging<a id="sthref366"></a></h3>
<p>Paging may not present as serious a problem as swapping, because an entire program does not have to be stored in memory to run. A small number of page-outs may not noticeably affect the performance of the system.</p>
<p>To detect excessive paging, run measurements during periods of fast response or idle time to compare against measurements from periods of slow response.</p>
<p>Use the <code dir="ltr">vmstat</code> or <code dir="ltr">sar</code> comman<a id="sthref367"></a>d to monitor paging.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The man pages or the operating system documentation for information about interpreting the results for the platform</div>
<p>In Oracle Solaris, <code dir="ltr">vflt/s</code> indicates the number of address translation page faults. Address translation faults occur when a process refers to a valid page not in memory.</p>
<p>If the system consistently has excessive page-out activity<a id="sthref368"></a>, then consider the following solutions:</p>
<ul>
<li>
<p>Install more memory.</p>
</li>
<li>
<p>Move some work to another system.</p>
</li>
<li>
<p>Configure the System Global Area (SGA) to use less memory.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="i8852"></a>
<div id="UNXAR257" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.3.3</span> Adjusting Oracle Block Size<a id="sthref369"></a><a id="sthref370"></a></h3>
<p>During read operations, entire operating system blocks are read from the disk. If the database block size is smaller than the operating system file system block size, then Input-Output bandwidth is inefficient. If you set Oracle Database block size to be a multiple of the file system block size, then you can increase performance by up to 5 percent.</p>
<p>The <code dir="ltr">DB_BLOCK_SIZE</code> initialization parameter sets the database block size. However, to change the value of this parameter, you must re-create the database.</p>
<p>To see the current value of the <code dir="ltr">DB_BLOCK_SIZE</code> parameter, run the <code dir="ltr">SHOW PARAMETER</code> <code dir="ltr">DB_BLOCK_SIZE</code> command in SQL*Plus.</p>
</div>
<!-- class="sect2" -->
<a id="BABBJHAC"></a>
<div id="UNXAR258" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.3.4</span> Allocating Memory Resource</h3>
<p>You can set parameters to automatically allocate memory based on the demands of workload and the requirements of various database instances running on the same system. The <code dir="ltr">MEMORY_TARGET</code> parameter specifies the Oracle systemwide usable memory for that instance and automatically tunes SGA and Process Global Area (PGA) components. The <code dir="ltr">MEMORY_MAX_TARGET</code> parameter identifies the value up to which the <code dir="ltr">MEMORY_TARGET</code> parameter can grow dynamically.</p>
<p>By default, the value for both these parameters is zero and there is no auto-tuning. You can activate auto-tuning by setting the <code dir="ltr">MEMORY_TARGET</code> parameter to a nonzero value. To dynamically enable the <code dir="ltr">MEMORY_TARGET</code> parameter, the <code dir="ltr">MEMORY_MAX_TARGET</code> parameter must be set at startup.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you just set the <code dir="ltr">MEMORY_TARGET</code> parameter to a nonzero value, the <code dir="ltr">MEMORY_MAX_TARGET</code> parameter automatically acquires this value.
<p>The <code dir="ltr">MEMORY_TARGET</code> and <code dir="ltr">MEMORY_MAX_TARGET</code> parameters are only supported on Linux, Oracle Solaris, HP-UX, and IBM AIX on POWER Systems (64-bit) platforms.</p>
<p>On Oracle Solaris, Dynamic Intimate Shared Memory is enabled for <code dir="ltr">MEMORY_TARGET</code> or <code dir="ltr">MEMORY_MAX_TARGET</code>. For more information, refer to <a href="appe_sol.htm#CHDEADAF">Appendix A</a>.</p>
<p>On Linux, some shared resource requirements are increased when <code dir="ltr">MEMORY_TARGET</code> or <code dir="ltr">MEMORY_MAX_TARGET</code> are enabled. For more information, refer to the <a href="appc_linux.htm#CHDFHJHA">&#34;Allocating Shared Resources&#34;</a> section.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
You can set the <code dir="ltr">MEMORY_TARGET</code> and <code dir="ltr">MEMORY_MAX_TARGET</code> parameters based on original setup, memory available for Oracle on the computer, and workload memory requirements.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEBEIC"></a>
<div id="UNXAR259" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.4</span> Tuning Disk Input-Output<a id="sthref371"></a></h2>
<p>Balance Input-Output evenly across all available disks to reduce disk access times. For smaller databases and those not using RAID, ensure that different data files and tablespaces are distributed across the available disks.<a id="sthref372"></a><a id="sthref373"></a><a id="sthref374"></a></p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABCBGDH">Using Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#BABJEJEF">Choosing the Appropriate File System Type</a></p>
</li>
</ul>
<a id="BABCBGDH"></a>
<div id="UNXAR260" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.4.1</span> Using Automatic Storage Management<a id="sthref375"></a></h3>
<p>If you choose to use Automatic Storage Management for database storage, then all database Input-Output is balanced across all available disk devices in the Automatic Storage Management disk group.</p>
<p>By using Automatic Storage Management, you avoid manually tuning disk Input-Output.</p>
</div>
<!-- class="sect2" -->
<a id="BABJEJEF"></a>
<div id="UNXAR261" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.4.2</span> Choosing the Appropriate File System Type<a id="sthref376"></a></h3>
<p>Depending on the operating system, you can choose from a range of file system types. Each file system type has different characteristics. This fact can have a substantial impact on database performance. The following table lists common file system types:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="File System Types" summary="This table lists platform-specific files system types" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t18">File System</th>
<th class="cellalignment5722" id="r1c2-t18">Platform</th>
<th class="cellalignment5722" id="r1c3-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t18" headers="r1c1-t18">ZFS</td>
<td class="cellalignment5718" headers="r2c1-t18 r1c2-t18">Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t18 r1c3-t18">Oracle Solaris file system</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t18" headers="r1c1-t18">S5<a id="sthref377"></a></td>
<td class="cellalignment5718" headers="r3c1-t18 r1c2-t18">Oracle Solaris and HP-UX</td>
<td class="cellalignment5718" headers="r3c1-t18 r1c3-t18"><a id="sthref378"></a>UNIX System V file system</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t18" headers="r1c1-t18">U<a id="sthref379"></a>FS</td>
<td class="cellalignment5718" headers="r4c1-t18 r1c2-t18">Oracle Solaris, IBM AIX on POWER Systems (64-bit), HP-UX</td>
<td class="cellalignment5718" headers="r4c1-t18 r1c3-t18"><a id="sthref380"></a>Unified file system, derived from BSD UNIX</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t18" headers="r1c1-t18">V<a id="sthref381"></a>xFS</td>
<td class="cellalignment5718" headers="r5c1-t18 r1c2-t18">Oracle Solaris, IBM AIX on POWER Systems (64-bit), HP-UX</td>
<td class="cellalignment5718" headers="r5c1-t18 r1c3-t18"><a id="sthref382"></a>VERITAS file system</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r6c1-t18" headers="r1c1-t18">ext2/<a id="sthref383"></a>ext3</td>
<td class="cellalignment5718" headers="r6c1-t18 r1c2-t18">Linux</td>
<td class="cellalignment5718" headers="r6c1-t18 r1c3-t18"><a id="sthref384"></a>Extended file system for Linux</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r7c1-t18" headers="r1c1-t18">OC<a id="sthref385"></a>FS2</td>
<td class="cellalignment5718" headers="r7c1-t18 r1c2-t18">Linux</td>
<td class="cellalignment5718" headers="r7c1-t18 r1c3-t18">Oracle cluster file system</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r8c1-t18" headers="r1c1-t18">JF<a id="sthref386"></a>S/JFS2</td>
<td class="cellalignment5718" headers="r8c1-t18 r1c2-t18">IBM AIX on POWER Systems (64-bit)</td>
<td class="cellalignment5718" headers="r8c1-t18 r1c3-t18">J<a id="sthref387"></a>ournaled file system</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r9c1-t18" headers="r1c1-t18">GP<a id="sthref388"></a>FS</td>
<td class="cellalignment5718" headers="r9c1-t18 r1c2-t18">IBM AIX on POWER Systems (64-bit)</td>
<td class="cellalignment5718" headers="r9c1-t18 r1c3-t18">General parallel file system</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The suitability of a file system for an application is usually not documented. For example, even different implementations of the Unified file system are hard to compare. Depending on the file system that you choose, performance differences can be up to 20 percent. If you choose to use a file system, then:</p>
<ul>
<li>
<p>Make a new file system partition to ensure that the hard disk is clean and unfragmented.</p>
</li>
<li>
<p>Perform a file system check on the partition before using it for database files.</p>
</li>
<li>
<p>Distribute disk Input-Output as evenly as possible.</p>
</li>
<li>
<p>If you are not using a logical volume manager or a RAID device, then consider placing log files on a different file system from data files.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i10932"></a>
<div id="UNXAR262" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.5</span> Monitoring Disk Performance<a id="sthref389"></a></h2>
<p>The following sections describe the procedure for monitoring disk performance:</p>
<ul>
<li>
<p><a href="#BABJFIAH">Monitoring Disk Performance on Other Operating Systems</a></p>
</li>
<li>
<p><a href="#BABIEIGD">Using Disk Resync to Monitor Automatic Storage Management Disk Group</a></p>
</li>
</ul>
<a id="BABJFIAH"></a>
<div id="UNXAR263" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.5.1</span> Monitoring Disk Performance on Other Operating Systems</h3>
<p>To monitor disk performance, use the <code dir="ltr">sar -b</code> and <code dir="ltr">sar -u</code> commands.</p>
<p>The following table describes the columns of the <code dir="ltr">sar -b</code> command output that are significant for analyzing disk performance:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Important sar -b Output Columns" summary="This table lists the important output columns of the sar -b command" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t19">Columns</th>
<th class="cellalignment5722" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t19" headers="r1c1-t19"><code dir="ltr">bread/s</code>, <code dir="ltr">bwrit/s</code></td>
<td class="cellalignment5718" headers="r2c1-t19 r1c2-t19">Blocks read and blocks written per second (important for file system databases)</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t19" headers="r1c1-t19"><code dir="ltr">pread/s</code>, <code dir="ltr">pwrit/s</code></td>
<td class="cellalignment5718" headers="r3c1-t19 r1c2-t19">Number of I/O operations per second on raw devices (important for raw partition database systems)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Key indicators are:</p>
<ul>
<li>
<p>The sum of the <code dir="ltr">bread</code>, <code dir="ltr">bwrit</code>, <code dir="ltr">pread</code>, and <code dir="ltr">pwrit</code> column values indicates the level of activity of the disk Input-Output subsystem. The higher the sum, the busier the Input-Output subsystem. The larger the number of physical drives, the higher the sum threshold number can be.</p>
</li>
<li>
<p>The <code dir="ltr">%rcache</code> column value should be greater than 90 and the <code dir="ltr">%wcache</code> column value should be greater than 60. Otherwise, the system may be disk Input-Output bound.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABIEIGD"></a>
<div id="UNXAR264" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.5.2</span> Using Disk Resync to Monitor Automatic Storage Management Disk Group</h3>
<p>Use the <code dir="ltr">alter diskgroup disk online</code> and <code dir="ltr">alter diskgroup disk offline</code> commands to temporarily suspend Input-Output to a set of disks. You can use these commands to perform regular maintenance tasks or upgrades such as disk firmware upgrade. If transient failures occur on some disks in a disk group, then use <code dir="ltr">alter diskgroup disk online</code> to quickly recover the disk group.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i85390"></a>
<div id="UNXAR265" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.6</span> System Global Area<a id="sthref390"></a></h2>
<p>The SGA is the Oracle structure that is located in shared memory. It contains static data structures, locks, and data buffers.</p>
<p>The maximum size of a single shared memory segment is specified by the <code dir="ltr">shm</code><code dir="ltr">max</code><a id="sthref391"></a><a id="sthref392"></a><a id="sthref393"></a><a id="sthref394"></a> kernel parameter.</p>
<p>The following table shows the recommended value for this parameter, depending on the platform:</p>
<div class="inftblinformal">
<table class="cellalignment5721" title="Recommended SHMMAX Kernel Parameter Values" summary="This table lists platform-specific recommended values for the SHMMAX kernel parameter" dir="ltr">
<thead>
<tr class="cellalignment5712">
<th class="cellalignment5722" id="r1c1-t20">Platform</th>
<th class="cellalignment5722" id="r1c2-t20">Recommended Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r2c1-t20" headers="r1c1-t20">Oracle Solaris</td>
<td class="cellalignment5718" headers="r2c1-t20 r1c2-t20">4294967295 or 4 GB minus 16 MB
<p><span class="bold">Note:</span> If the system runs Oracle9<span class="italic">i</span> Database, Oracle Database 11<span class="italic">g</span>, and Oracle Database 12<span class="italic">c</span> instances, then you must set the value of <code dir="ltr">shm_max</code> to 2 GB minus 16 MB. On Oracle Solaris, this value can be greater than 4 GB to accommodate larger SGA sizes.</p>
</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r3c1-t20" headers="r1c1-t20">Linux</td>
<td class="cellalignment5718" headers="r3c1-t20 r1c2-t20">Minimum of the following values:
<ul>
<li>
<p>Half the size of the physical memory installed on the system</p>
</li>
<li>
<p>4 GB - 1 byte</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r4c1-t20" headers="r1c1-t20">IBM AIX on POWER Systems(64-bit)</td>
<td class="cellalignment5718" headers="r4c1-t20 r1c2-t20">NA</td>
</tr>
<tr class="cellalignment5712">
<td class="cellalignment5718" id="r5c1-t20" headers="r1c1-t20">HP-UX</td>
<td class="cellalignment5718" headers="r5c1-t20 r1c2-t20">The size of the physical memory installed on the system</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>If the size of the SGA exceeds the maximum size of a shared memory segment (<code dir="ltr">shm</code><code dir="ltr">max</code> or <code dir="ltr">shm</code><code dir="ltr">_max</code>), then Oracle Database attempts to attach more contiguous segments to fulfill the requested SGA size. The <code dir="ltr">shm</code><code dir="ltr">seg</code><a id="sthref395"></a><a id="sthref396"></a><a id="sthref397"></a><a id="sthref398"></a> kernel parameter specifies the maximum number of segments that can be attached by any process. Set the following initialization parameters to control the size of the SGA:</p>
<ul>
<li>
<p><code dir="ltr">DB_CACHE_SIZE</code><a id="sthref399"></a><a id="sthref400"></a><a id="sthref401"></a><a id="sthref402"></a></p>
</li>
<li>
<p><code dir="ltr">DB_BLOCK_SIZE</code><a id="sthref403"></a><a id="sthref404"></a><a id="sthref405"></a><a id="sthref406"></a></p>
</li>
<li>
<p><code dir="ltr">JAVA_POOL_SIZE</code><a id="sthref407"></a><a id="sthref408"></a></p>
</li>
<li>
<p><code dir="ltr">LARGE_POOL_SIZE</code><a id="sthref409"></a><a id="sthref410"></a></p>
</li>
<li>
<p><code dir="ltr">LOG_BUFFERS</code><a id="sthref411"></a><a id="sthref412"></a></p>
</li>
<li>
<p><code dir="ltr">SHARED_POOL_SIZE</code><a id="sthref413"></a><a id="sthref414"></a></p>
</li>
</ul>
<p>Alternatively, set the <code dir="ltr">SGA_TARGET</code> initialization parameter to enable automatic tuning of the SGA size.</p>
<p>Use caution when setting values for these parameters. When values are set too high, too much of the physical memory is devoted to shared memory. This results in poor performance.</p>
<p>An Oracle Database configured with Shared Server requires a higher setting for the <code dir="ltr">SHARED_POOL_SIZE</code> initialization parameter, or a custom configuration that uses the <code dir="ltr">LARGE_POOL_SIZE</code> initialization parameter. If you installed the database with Oracle Universal Installer, then the value of the <code dir="ltr">SHARED_POOL_SIZE</code> parameter is set automatically by Oracle Database Configuration Assistant. However, if you created a database manually, then increase the value of the <code dir="ltr">SHARED_POOL_SIZE</code> parameter in the parameter file by 1 KB for each concurrent user.</p>
<p>Sufficient shared memory must be available to each Oracle process to address the entire SGA:</p>
<ul>
<li>
<p><a href="#BABHFEEH">Determining the Size of the SGA</a></p>
</li>
<li>
<p><a href="#BABFAAJF">System Resource Verifier Utility</a></p>
</li>
<li>
<p><a href="#BABDFHCA">Guidelines for Setting Semaphore Parameters</a></p>
</li>
<li>
<p><a href="#BABBDBDE">Shared Memory on IBM AIX on POWER Systems (64-Bit)</a></p>
</li>
</ul>
<a id="BABHFEEH"></a>
<div id="UNXAR266" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.6.1</span> Determining the Size of the SGA<a id="sthref415"></a></h3>
<p>You can determine the SGA size in one of the following ways:</p>
<ul>
<li>
<p>Run the following SQL*Plus command to display the size of the SGA for a running database:</p>
<pre dir="ltr">SQL&gt; SHOW SGA
</pre>
<p>The result is shown in bytes.</p>
</li>
<li>
<p>Start the database instance to view the size of the SGA displayed next to the Total System Global Area heading.</p>
</li>
<li>
<p>Run the <code dir="ltr">ipcs</code> command as the <code dir="ltr">oracle</code> user.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABFAAJF"></a>
<div id="UNXAR408" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.6.2</span> System Resource Verifier Utility</h3>
<p>The System Resource Verifier utility (<code dir="ltr">sysresv</code>) is available with Oracle8<code dir="ltr"><span class="codeinlineitalic">i</span></code> and later releases. It provides Oracle instance and operating system resource information for the Oracle system identifiers (<code dir="ltr">ORACLE_SID</code>) that you specify. This utility is located in <code dir="ltr">$ORACLE_HOME/bin</code>, but it can be used from other locations.</p>
<div id="UNXAR409" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref416"></a>
<h4 class="sect3"><span class="secnum">8.6.2.1</span> Purpose of the sysresv Utility</h4>
<p>Use the <code dir="ltr">sysresv</code> utility to display the status of an Oracle instance and identify the operating system resources it uses, such as the memory and semaphore parameters. This utility is especially useful when multiple instances are running. For example, if an instance is not responsive, then you can use this utility to remove operating system resources.</p>
<p>You can use this utility when an Oracle instance has crashed or was aborted, and memory and semaphores related to this instance were not cleaned up automatically. This utility is also useful in determining which Oracle instance is running.</p>
</div>
<!-- class="sect3" -->
<div id="UNXAR410" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref417"></a>
<h4 class="sect3"><span class="secnum">8.6.2.2</span> Preconditions for Using sysresv</h4>
<p>To use the <code dir="ltr">sysresv</code> utility, you must have access to the System Global Area (SGA). To access the SGA, you must be the Oracle owner or a member of the group that owns the Oracle binary.</p>
</div>
<!-- class="sect3" -->
<div id="UNXAR411" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref418"></a>
<h4 class="sect3"><span class="secnum">8.6.2.3</span> Syntax for sysresv</h4>
<p>The syntax for the <code dir="ltr">sysresv</code> utility is as follows:</p>
<pre dir="ltr">sysresv [-i] [-f] [-d on|off] [-l sid1[ sid2 ...]]
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr">-i</code> Prompt before removing IPC resources for each <code dir="ltr">sid</code></p>
</li>
<li>
<p><code dir="ltr">-f</code> Remove IPC resources without prompting for confirmation. This flag overrides the <code dir="ltr">-i</code> option</p>
</li>
<li>
<p><code dir="ltr">-d on|off</code> List IPC resources for each <code dir="ltr">sid</code> if on. If not specified, the default for <code dir="ltr">-d</code> is on</p>
</li>
<li>
<p><code dir="ltr">-l sid1 [sid2 sid3]</code> run the <code dir="ltr">sysresv</code> check against one or more space-delimited system identifiers</p>
</li>
</ul>
<p>If <code dir="ltr">sysresv</code> is used without flags, then it reports IPC resources for the Oracle instance identified by the <code dir="ltr">$ORACLE_SID</code> environment variable in the Oracle installation owner user profile list of environment variables.</p>
</div>
<!-- class="sect3" -->
<div id="UNXAR412" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref419"></a>
<h4 class="sect3"><span class="secnum">8.6.2.4</span> Examples of Using sysresv</h4>
<p>The following example shows how to use the <code dir="ltr">sysresv</code> utility:</p>
<pre dir="ltr">$ sysresv
IPV Resources for ORACLE_SID &#34;sales&#34; :
Shared Memory:
ID                            KEY
10345                    0x51c051ad
Semaphores
ID
10345                    0x51c051ad
Oracle Instance alive for sid &#34;sales&#34;
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABDFHCA"></a>
<div id="UNXAR420" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.6.3</span> Guidelines for Setting Semaphore Parameters</h3>
<p>Use the following guidelines only if the default semaphore parameter values are too low to accommodate all Oracle processes:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you see the operating system documentation for more information about setting semaphore parameters.</div>
<ol>
<li>
<p>Calculate the minimum total semaphore requirements using the following formula:</p>
<pre dir="ltr">sum (process parameters of all database instances on the system) + overhead for oracle background processes + system and other application requirements
</pre></li>
<li>
<p>Set <code dir="ltr">semmns</code> (total semaphores systemwide) to this total.</p>
</li>
<li>
<p>Set <code dir="ltr">semmsl</code> (semaphores per set) to 250.</p>
</li>
<li>
<p>Set <code dir="ltr">semmni</code> (total semaphores sets) to <code dir="ltr">semmns/semmsl</code> rounded up to the nearest multiple of 1024.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
My Oracle Support note 226209.1, &#34;Linux: How to Check Current Shared Memory, Semaphore Values,&#34; at the following URL:
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=226209.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=226209.1</a></code></p>
<p>The semaphore parameters <code dir="ltr">semmns</code>, <code dir="ltr">semmsl</code>, and <code dir="ltr">semmni</code> are obsolete on Oracle Solaris 10 and later. See My Oracle Support note 1006158.1:</p>
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1006158.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1006158.1</a></code></p>
</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABBDBDE"></a>
<div id="UNXAR267" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.6.4</span> Shared Memory on IBM AIX on POWER Systems (64-Bit)</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
The information in this section applies only to IBM AIX on POWER Systems (64-bit).</div>
<p>Shared memory uses common virtual memory resources across processes. Processes share virtual memory segments through a common set of virtual memory translation resources, for example, tables and cached entries, for improved performance.</p>
<p>Shared memory can be pinned to prevent paging and to reduce Input-Output overhead. To perform this, set the <code dir="ltr">LOCK_SGA</code> parameter to <code dir="ltr">true</code>. On IBM AIX on POWER Systems (64-bit) 5L, the same parameter activates the large page feature whenever the underlying hardware supports it.</p>
<p>Run the following command to make pinned memory available to Oracle Database:</p>
<pre dir="ltr">$ /usr/sbin/vmo -r -o v_pinshm=1
</pre>
<p>Run a command similar to the following to set the maximum percentage of real memory available for pinned memory, where <code dir="ltr"><span class="codeinlineitalic">percent_of_real_memory</span></code> is the maximum percent of real memory that you want to set:</p>
<pre dir="ltr">$ /usr/sbin/vmo -r -o maxpin percent=<span class="italic">percent_of_real_memory</span>
</pre>
<p>When using the <code dir="ltr">maxpin percent</code> option, it is important that the amount of pinned memory exceeds the Oracle SGA size by at least 3 percent of the real memory on the system, enabling free pinnable memory for use by the kernel. For example, if you have 2 GB of physical memory and you want to pin the SGA by 400 MB (20 percent of the RAM), then run the following command:</p>
<pre dir="ltr">$ /usr/sbin/vmo -r -o maxpin percent=23
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The default <code dir="ltr">maxpin percent</code> value, which is set at 80 <code dir="ltr">percent</code>, works for most installations.</div>
<p>Use the <code dir="ltr">svmon</code> command to monitor the use of pinned memory during the operation of the system. Oracle Database attempts to pin memory only if the <code dir="ltr">LOCK_SGA</code> parameter is set to <code dir="ltr">true</code>. If the SGA size exceeds the size of memory available for pinning, then the portion of the SGA exceeding these sizes is allocated to ordinary shared memory.</p>
<p class="subhead2"><a id="UNXAR268"></a>Large Page Feature on IBM AIX on POWER Systems (64-Bit) POWER4 and POWER5 Based Systems</p>
<p>To turn on and reserve 10 large pages each of size 16 MB on a POWER4 or POWER5 system, run the following command:</p>
<pre dir="ltr">$ /usr/sbin/vmo -r -o lgpg_regions=10 -o lgpg_size=16777216
</pre>
<p>This command proposes <code dir="ltr">bosboot</code> and warns that a restart is required for the changes to take affect.</p>
<p>Oracle recommends specifying enough large pages to contain the entire SGA. The Oracle database instance attempts to allocate large pages when the <code dir="ltr">LOCK_SGA</code> parameter is set to <code dir="ltr">true</code>.</p>
<p>The 16 MB pages are always pinned, and cannot be used for standard memory. If a pool of 16 MB size pages is configured, then this memory is unusable for allocation of standard memory even if no other application is currently using large pages.</p>
<p>The POWER5 based systems support 64 K pages. Oracle uses them for SGA if they are available. These 64K pages do not require any additional configuration and do not depend on <code dir="ltr">LOCK_SGA</code> parameter setting.</p>
<p>To monitor use of large pages, use the following command:</p>
<pre dir="ltr">$ vmstat -P all
</pre>
<p>For the IBM AIX on POWER Systems (64-bit) operating system to use 16 MB pages, or pinned memory when allocating shared memory, the Oracle user ID must have <code dir="ltr">CAP_BYPASS_RAC_VMM</code> and <code dir="ltr">CAP_PROPAGATE</code> capabilities. User ID that is used to start the database instance must also have the same capabilities. In particular, when using large pages on an Oracle Real Application Cluster (Oracle RAC) database, where the <code dir="ltr">srvctl</code> command is used to start and stop the Oracle RAC database instances, it is also necessary to set the <code dir="ltr">CAP_BYPASS_RAC_VMM</code> and <code dir="ltr">CAP_PROPAGATE</code> capabilities for the <code dir="ltr">root</code> user.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The IBM AIX on POWER Systems (64-bit) documentation for more information about enabling and tuning pinned memory and large pages</div>
<p>Capabilities can be set and examined using the following commands:</p>
<ul>
<li>
<p>Run the following command to check the current capabilities:</p>
<pre dir="ltr">$ lsuser &ndash;a capabilities oracle
</pre></li>
<li>
<p>Add the <code dir="ltr">CAP_BYPASS_RAC_VMM</code> and <code dir="ltr">CAP_PROPAGATE</code> capabilities to this user ID:</p>
<pre dir="ltr">$ chuser capabilities=CAP_BYPASS_RAC_VMM,CAP_PROPAGATE oracle
</pre></li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Only the <code dir="ltr">root</code> user can display and set the capabilities attribute.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i23890"></a>
<div id="UNXAR269" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.7</span> Tuning the Operating System Buffer Cache<a id="sthref420"></a></h2>
<p>Adjust the size of Oracle Database buffer cache. If memory is limited, then adjust the operating system buffer cache.<a id="sthref421"></a><a id="sthref422"></a><a id="sthref423"></a></p>
<p>The operating system buffer cache holds blocks of data in memory while they are being transferred from memory to disk, or from disk to memory.</p>
<p>Oracle Database buffer cache is the area in memory that stores Oracle Database buffers.</p>
<p>If the amount of memory on the system is limited, then make a corresponding decrease in the operating system buffer cache size.</p>
<p>Use the <code dir="ltr">sar</code> command to determine which buffer caches you must increase or decrease.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5711">
<tr>
<td class="cellalignment5718">
<table class="cellalignment5716">
<tr>
<td class="cellalignment5715"><a href="ldr_demo.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5715"><a href="appe_sol.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5720">
<table class="cellalignment5714">
<tr>
<td class="cellalignment5715"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5715"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5715"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5715"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5715"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5715"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
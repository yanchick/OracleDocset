<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-104159"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20NAS%20Devices"></a><title>Using NAS Devices</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-05T8:21:9Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Installation Guide"/>
<meta name="dcterms.identifier" content="E50818-12"/>
<meta name="dcterms.isVersionOf" content="SSDBI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="app_cloning.htm" title="Previous" type="text/html"/>
<link rel="Next" href="app_manual.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50818-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/25</span> <!-- End Header -->
<div id="SSDBI7855" class="appendix"><a id="BCFIDEJA"></a>
<h1 class="appendix"><span class="secnum">C</span> Using NAS Devices</h1>
<p>This appendix provides guidelines for using a network attached storage (NAS) device for Oracle software and database files. It includes information about the following:</p>
<ul>
<li>
<p><a href="#BCFEAGFJ">General Configuration Guidelines for NAS Devices</a></p>
</li>
<li>
<p><a href="#BCFEAHIC">Choosing Mount Points</a></p>
</li>
<li>
<p><a href="#BCFHCIEC">Creating Files on a NAS Device for Use with Oracle Automatic Storage Management</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="post_inst_task.htm#BJFIFHIF">&#34;Configuring Direct NFS Client&#34;</a></p>
</li>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about using NAS devices on Oracle Real Application Clusters</p>
</li>
</ul>
</div>
<a id="BCFEAGFJ"></a>
<div id="SSDBI7856" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.1</span> General Configuration Guidelines for NAS Devices<a id="sthref769"></a></h2>
<p>See the documentation provided with the NAS device for specific information about how to configure it. In addition, use the following guidelines to ensure the performance of the Oracle software:</p>
<ul>
<li>
<p>The performance of Oracle software and databases stored on NAS devices depends on the performance of the network connection between the Oracle server and the NAS device.</p>
<p>For this reason, Oracle recommends that you connect the server to the NAS device using a private dedicated network connection, which should be Gigabit Ethernet or better.</p>
</li>
<li>
<p>For single-instance database installations, Oracle recommends that you create a separate Oracle home directory for each installation. Run the software in this Oracle home directory only from the system that you used to install it.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BCFEAHIC"></a>
<div id="SSDBI7858" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.2</span> Choosing Mount Points<a id="sthref770"></a></h2>
<p>This section provides guidelines on how to choose the mount points for the file systems to use for the Oracle software and database files. The guidelines contained in the following sections follow the Optimal Flexible Architecture recommendations:</p>
<ul>
<li>
<p><a href="#BCFHEEIE">Choosing Mount Points for Oracle Software Files</a></p>
</li>
<li>
<p><a href="#BCFEGAGE">Choosing Mount Points for Oracle Database and Recovery Files</a></p>
</li>
</ul>
<a id="BCFHEEIE"></a>
<div id="SSDBI7859" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.1</span> Choosing Mount Points for Oracle Software Files</h3>
<p>Oracle software files are stored in three different directories:</p>
<ul>
<li>
<p>Oracle base directory</p>
</li>
<li>
<p>Oracle inventory directory</p>
</li>
<li>
<p>Oracle home directory</p>
</li>
</ul>
<p>The Oracle base directory is a top-level directory for Oracle software installations and is identified by the <code dir="ltr">ORACLE_BASE</code> environment variable. For example, for a first installation, the Oracle base, Oracle Inventory, and Oracle home directories might have paths similar to the following:</p>
<div class="inftblinformal">
<table class="cellalignment3588" title="Directory Paths" summary="This table lists the typical paths for the Oracle base, Oracle Inventory, and Oracle home directories." dir="ltr">
<thead>
<tr class="cellalignment3579">
<th class="cellalignment3589" id="r1c1-t3">Directory</th>
<th class="cellalignment3589" id="r1c2-t3">Path</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3579">
<td class="cellalignment3585" id="r2c1-t3" headers="r1c1-t3">Oracle base (<code dir="ltr">$ORACLE_BASE</code>)</td>
<td class="cellalignment3585" headers="r2c1-t3 r1c2-t3"><code dir="ltr">/u01/app/oracle</code></td>
</tr>
<tr class="cellalignment3579">
<td class="cellalignment3585" id="r3c1-t3" headers="r1c1-t3">Oracle Inventory</td>
<td class="cellalignment3585" headers="r3c1-t3 r1c2-t3"><code dir="ltr">ORACLE_BASE/../oraInventory</code> (or) <code dir="ltr">/u01/app/oraInventory</code></td>
</tr>
<tr class="cellalignment3579">
<td class="cellalignment3585" id="r4c1-t3" headers="r1c1-t3">Oracle home</td>
<td class="cellalignment3585" headers="r4c1-t3 r1c2-t3"><code dir="ltr">$ORACLE_BASE/product/12.1.0/dbhome_1</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>For subsequent installations, you can use either the same Oracle base directory or a different one, but every subsequent installation uses the original Oracle Inventory directory. For example, if you use the <code dir="ltr">/u02/app/oracle</code> directory as the Oracle base directory for a new installation, then the Oracle Inventory directory continues to be <code dir="ltr">/u01/app/oraInventory</code>.</p>
<p>To enable you to effectively maintain the Oracle software on a particular system, Oracle recommends that you keep the Oracle Inventory directory only on a local file system, if possible. If you must place the Oracle Inventory directory on a NAS device, create a specific directory for each system, to prevent multiple systems from writing to the same inventory directory.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="pre_install.htm#CIHIBHIG">&#34;Identifying Required Software Directories&#34;</a></div>
<div id="SSDBI7860" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref771"></a>
<h4 class="sect3"><span class="secnum">C.2.1.1</span> Directory-Specific Guidelines</h4>
<p>You can use any of the following directories as mount points for NFS used to store Oracle software:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In the following examples, the paths shown are the defaults if the <code dir="ltr">ORACLE_BASE</code> environment variable is set before you start Oracle Universal Installer.</div>
<ul>
<li>
<p>Oracle base directory or its parents (<code dir="ltr">/u01/app/oracle</code> for example)</p>
<p>If you use the Oracle base directory or one of its parents as a mount point, then the default location for all Oracle software and database files is on that file system. During the installation, consider changing the default location of the following directories:</p>
<ul>
<li>
<p>The Oracle Inventory directory (<code dir="ltr"><span class="codeinlineitalic">oracle_base</span></code><code dir="ltr">/../oraInventory</code>)</p>
<p>Specify a local file system or a host-specific directory on the NFS, for example:</p>
<pre dir="ltr"><span class="italic">u01</span>/<span class="italic">app</span>/oraInventory
</pre></li>
<li>
<p>The Oracle database file directory (<code dir="ltr"><span class="codeinlineitalic">oracle_base</span></code><code dir="ltr">/oradata</code>)</p>
<p>You might want to use a different file system for database files, for example, to enable you to specify different mount options or to distribute I/O.</p>
</li>
<li>
<p>The Oracle database recovery file directory (<code dir="ltr"><span class="codeinlineitalic">oracle_base</span></code><code dir="ltr">/fast_recovery_area</code>)</p>
<p>Oracle recommends that you use different file systems for database and recovery files.</p>
</li>
</ul>
<p>If you use this mount point, then all Oracle installations that use this Oracle base directory use the NFS.</p>
</li>
<li>
<p>The product directory (<code dir="ltr"><span class="codeinlineitalic">oracle_base</span></code><code dir="ltr">/product</code>)</p>
<p>By default, only software files are located on the NFS. You can also use this mount point to install software from different releases, for example:</p>
<pre dir="ltr">/u01/app/oracle/product/9.2.0
/u01/app/oracle/product/10.2.0/dbhome_1
/u01/app/oracle/product/12.1.0/dbhome_1
</pre></li>
<li>
<p>The release directory (<code dir="ltr"><span class="codeinlineitalic">oracle_base</span></code><code dir="ltr">/product/12.1.0</code>)</p>
<p>By default, only software files are located on the NFS. You can also use this mount point to install different products from the same release, for example:</p>
<pre dir="ltr">/u01/app/oracle/product/12.1.0/dbhome_1
/u01/app/oracle/product/12.1.0/client_1
</pre></li>
<li>
<p>The Oracle home directory (<code dir="ltr"><span class="codeinlineitalic">oracle_base</span></code><code dir="ltr">/product/12.1.0/dbhome_1</code>)</p>
<p>By default, only software files are located on the NFS file system. This is the most restrictive mount point. You can use it only to install a single release of one product:</p>
<pre dir="ltr">/u01/app/oracle/product/12.1.0/dbhome_1
</pre></li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="appendix_ofa.htm#BGBIDIEC">&#34;Optimal Flexible Architecture File Mapping&#34;</a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BCFEGAGE"></a>
<div id="SSDBI7861" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">C.2.2</span> Choosing Mount Points for Oracle Database and Recovery Files</h3>
<p>To store Oracle database or recovery files on a NAS device, you can use different paths depending on whether you want to store files from only one database or from multiple databases:</p>
<ul>
<li>
<p>Use the NFS for files from multiple databases</p>
<p>To store the database files or recovery files from multiple databases on the same NFS, use paths or mount points similar to the following:</p>
<div class="inftblinformal">
<table class="cellalignment3588" title="Single Mount Points for Database and Recovery Files" summary="Single Mount Points for Database and Recovery Files" dir="ltr">
<thead>
<tr class="cellalignment3579">
<th class="cellalignment3589" id="r1c1-t7">File Type</th>
<th class="cellalignment3589" id="r1c2-t7">Path or Mount Point</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3579">
<td class="cellalignment3585" id="r2c1-t7" headers="r1c1-t7">Database files</td>
<td class="cellalignment3585" headers="r2c1-t7 r1c2-t7"><code dir="ltr">/u02/oradata</code></td>
</tr>
<tr class="cellalignment3579">
<td class="cellalignment3585" id="r3c1-t7" headers="r1c1-t7">Recovery files</td>
<td class="cellalignment3585" headers="r3c1-t7 r1c2-t7"><code dir="ltr">/u03/fast_recovery_area</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>When Oracle Universal Installer prompts you for the data file and the recovery file directories, specify these paths. Database Configuration Assistant and Oracle Enterprise Manager create subdirectories in these directories using the value you specify for the database name (DB_NAME) as the directory name, for example:</p>
<pre dir="ltr">/u02/oradata/<span class="italic">db_name1</span>
/u03/fast_recovery_area/<span class="italic">db_name1</span>
</pre></li>
<li>
<p>Use the NFS for files from only one database</p>
<p>To store the database files or recovery files for only one database in the NFS, you can create mount points similar to the following, where <code dir="ltr">orcl</code> is the name of the database:</p>
<pre dir="ltr">/u02/oradata/orcl
/u03/fast_recovery_area/orcl
</pre>
<p>Specify the directory <code dir="ltr">/u02/oradata</code> when Oracle Universal Installer prompts you for the data file directory and specify the directory <code dir="ltr">/u03/fast_recovery_area</code> when Oracle Universal Installer prompts you for the recovery file location. The <code dir="ltr">orcl</code> directory is used automatically either by Database Configuration Assistant or by Oracle Enterprise Manager.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCFHCIEC"></a>
<div id="SSDBI7862" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">C.3</span> Creating Files on a NAS Device for Use with Oracle Automatic Storage Management<a id="sthref772"></a></h2>
<p>If you have a certified NAS device, then you can create zero-padded files in an NFS mounted directory and use those files as disk devices in an Oracle Automatic Storage Management (Oracle ASM) disk group. To create these files, follow these steps:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
To use files as disk devices in an Oracle ASM disk group, the files must be on an NFS mounted file system. You cannot use files on local file systems.</div>
<ol>
<li>
<p>If necessary, create an exported directory for the disk group files on the NAS device.</p>
<p>See the NAS device documentation for more information about completing this step.</p>
</li>
<li>
<p>Switch the user to <code dir="ltr">root</code>:</p>
<pre dir="ltr">$ su - root
password:
</pre></li>
<li>
<p>Create a mount point directory on the local system:</p>
<pre dir="ltr"># mkdir -p /mnt/oracleasm
</pre></li>
<li>
<p>To ensure that NFS is mounted when the system restarts, add an entry for the file system in the <code dir="ltr">/etc/</code><code dir="ltr">fstab</code> mount file.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
My Oracle Support Note 359515.1 for updated NAS mount option information:
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=359515.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=359515.1</a></code></p>
</div>
</li>
<li>
<p>Enter a command similar to the following to mount the NFS on the local system:</p>
<pre dir="ltr"># mount /mnt/oracleasm
</pre></li>
<li>
<p>Choose a name for the disk group to create, for example, <code dir="ltr">sales1</code>.</p>
</li>
<li>
<p>Create a directory for the files on the NFS file system, using the disk group name as the directory name:</p>
<pre dir="ltr"># mkdir /mnt/oracleasm/sales1
</pre></li>
<li>
<p>Use commands similar to the following to create the required number of zero-padded files in this directory:</p>
<pre dir="ltr"># dd if=/dev/zero of=/mnt/oracleasm/nfsdg/disk1 bs=1024k count=1000
</pre>
<p>This example creates 1 GB files on the NFS. You must create one, two, or three files respectively to create an external, normal, or high redundancy disk group.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Creating multiple zero-padded files on the same NAS device does not guard against NAS failure. Instead, create one file for each NAS device and mirror them using the Oracle ASM technology.</div>
</li>
<li>
<p>Enter commands similar to the following to change the owner, group, and permissions on the directory and files that you created:</p>
<pre dir="ltr"># chown -R grid:asmadmin /mnt/oracleasm
# chmod -R 660 /mnt/oracleasm
</pre>
<p>In this example, the installation owner is <code dir="ltr">grid</code> and the OSASM group is <code dir="ltr">asmadmin</code>.</p>
</li>
<li>
<p>During database installation and creation, edit the Oracle ASM disk discovery string to specify a regular expression that matches the file names you created. For example:</p>
<pre dir="ltr">/mnt/oracleasm/sales1/*
</pre></li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3578">
<tr>
<td class="cellalignment3585">
<table class="cellalignment3583">
<tr>
<td class="cellalignment3582"><a href="app_cloning.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3582"><a href="app_manual.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3587">
<table class="cellalignment3581">
<tr>
<td class="cellalignment3582"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3582"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3582"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3582"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3582"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3582"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
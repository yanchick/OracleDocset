<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-86458"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OLAP%20Functions"></a><title>OLAP Functions</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-06-27T13:44:51Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="OLAP Expression Syntax Reference"/>
<meta name="dcterms.identifier" content="E23382-06"/>
<meta name="dcterms.isVersionOf" content="OLAXS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Prev" href="syntax.htm" title="Previous" type="text/html"/>
<link rel="Next" href="row_functions.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E23382-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">5/7</span> <!-- End Header -->
<div id="OLAXS169" class="chapter"><a id="sthref61"></a>
<h1 class="chapter"><span class="secnum">2</span> OLAP Functions</h1>
<p>The OLAP functions extend the syntax of the SQL analytic functions. This syntax is familiar to SQL developers and DBAs, so you can adopt it more easily than proprietary OLAP languages and APIs. Using the OLAP functions, you can create all standard calculated measures, including rank, share, prior and future periods, period-to-date, parallel period, moving aggregates, and cumulative aggregates.</p>
<p>This chapter describes the OLAP functions. It contains these topics:</p>
<ul>
<li>
<p><a href="#CIHGDADA">OLAP Functions in Alphabetical Order</a></p>
</li>
<li>
<p><a href="#CIHJIDHI">OLAP Functions By Category</a></p>
</li>
</ul>
<a id="CIHGDADA"></a>
<div id="OLAXS170" class="sect1">
<h2 class="sect1">OLAP Functions in Alphabetical Order</h2>
<br/>
<a href="#CIHIGDAG">AVERAGE_RANK</a><br/>
<a href="#CIHJEIIJ">AVG</a><br/>
<a href="#CIHFFDEI">COUNT</a><br/>
<a href="#CIHFFJAC">DENSE_RANK</a><br/>
<a href="#CIHECACG">HIER_ANCESTOR</a><br/>
<a href="#CIHGFHHE">HIER_CHILD_COUNT</a><br/>
<a href="#CIHCIHGE">HIER_DEPTH</a><br/>
<a href="#CIHGGHFA">HIER_LEVEL</a><br/>
<a href="#CIHBAHHA">HIER_ORDER</a><br/>
<a href="#CIHHDHCB">HIER_PARENT</a><br/>
<a href="#CIHJAGCD">HIER_TOP</a><br/>
<a href="#CIHIEIEA">LAG</a><br/>
<a href="#CIHFBFAF">LAG_VARIANCE</a><br/>
<a href="#CIHDEFDI">LAG_VARIANCE_PERCENT</a><br/>
<a href="#CIHGEABE">LEAD</a><br/>
<a href="#CIHBGJED">LEAD_VARIANCE</a><br/>
<a href="#CIHDAEBF">LEAD_VARIANCE_PERCENT</a><br/>
<a href="#CIHHDFFE">MAX</a><br/>
<a href="#CIHBDDCJ">MIN</a><br/>
<a href="#CIHCBHJF">OLAP_DML_EXPRESSION</a><br/>
<a href="#CIHCBHFG">RANK</a><br/>
<a href="#CIHDCBFD">ROW_NUMBER</a><br/>
<a href="#CIHDGJGH">SHARE</a><br/>
<a href="#CIHFEEIF">SUM</a></div>
<!-- class="sect1" -->
<a id="CIHJIDHI"></a>
<div id="OLAXS171" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">OLAP Functions By Category</h2>
<p>The OLAP functions are grouped into these categories:</p>
<ul>
<li>
<p><a href="#CIHCJHGI">Aggregate Functions</a></p>
</li>
<li>
<p><a href="#CIHGDADD">Analytic Functions</a></p>
</li>
<li>
<p><a href="#CIHDGDEF">Hierarchical Functions</a></p>
</li>
<li>
<p><a href="#CIHJGCCC">Lag Functions</a></p>
</li>
<li>
<p><a href="#CIHBBEIC">OLAP DML Functions</a></p>
</li>
<li>
<p><a href="#CIHIIIAF">Rank Functions</a></p>
</li>
<li>
<p><a href="#CIHDDEGB">Share Functions</a></p>
</li>
<li>
<p><a href="#CIHGIJHI">Window Functions</a></p>
</li>
</ul>
<a id="CIHCJHGI"></a>
<div id="OLAXS172" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Aggregate Functions</h3>
<br/>
<a href="#CIHIGDAG">AVERAGE_RANK</a><br/>
<a href="#CIHJEIIJ">AVG</a><br/>
<a href="#CIHFFDEI">COUNT</a><br/>
<a href="#CIHFFJAC">DENSE_RANK</a><br/>
<a href="#CIHHDFFE">MAX</a><br/>
<a href="#CIHBDDCJ">MIN</a><br/>
<a href="#CIHCBHFG">RANK</a><br/>
<a href="#CIHFEEIF">SUM</a></div>
<!-- class="sect2" -->
<a id="CIHGDADD"></a>
<div id="OLAXS173" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Analytic Functions</h3>
<br/>
<a href="#CIHIGDAG">AVERAGE_RANK</a><br/>
<a href="#CIHJEIIJ">AVG</a><br/>
<a href="#CIHFFDEI">COUNT</a><br/>
<a href="#CIHFFJAC">DENSE_RANK</a><br/>
<a href="#CIHIEIEA">LAG</a><br/>
<a href="#CIHFBFAF">LAG_VARIANCE</a><br/>
<a href="#CIHDAEBF">LEAD_VARIANCE_PERCENT</a><br/>
<a href="#CIHHDFFE">MAX</a><br/>
<a href="#CIHBDDCJ">MIN</a><br/>
<a href="#CIHCBHFG">RANK</a><br/>
<a href="#CIHDCBFD">ROW_NUMBER</a><br/>
<a href="#CIHFEEIF">SUM</a></div>
<!-- class="sect2" -->
<a id="CIHDGDEF"></a>
<div id="OLAXS174" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Hierarchical Functions</h3>
<br/>
<a href="#CIHECACG">HIER_ANCESTOR</a><br/>
<a href="#CIHGFHHE">HIER_CHILD_COUNT</a><br/>
<a href="#CIHCIHGE">HIER_DEPTH</a><br/>
<a href="#CIHGGHFA">HIER_LEVEL</a><br/>
<a href="#CIHBAHHA">HIER_ORDER</a><br/>
<a href="#CIHHDHCB">HIER_PARENT</a><br/>
<a href="#CIHJAGCD">HIER_TOP</a></div>
<!-- class="sect2" -->
<a id="CIHJGCCC"></a>
<div id="OLAXS175" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Lag Functions</h3>
<br/>
<a href="#CIHIEIEA">LAG</a><br/>
<a href="#CIHFBFAF">LAG_VARIANCE</a><br/>
<a href="#CIHDEFDI">LAG_VARIANCE_PERCENT</a><br/>
<a href="#CIHGEABE">LEAD</a><br/>
<a href="#CIHBGJED">LEAD_VARIANCE</a><br/>
<a href="#CIHDAEBF">LEAD_VARIANCE_PERCENT</a></div>
<!-- class="sect2" -->
<a id="CIHBBEIC"></a>
<div id="OLAXS176" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">OLAP DML Functions</h3>
<br/>
<a href="#CIHCBHJF">OLAP_DML_EXPRESSION</a></div>
<!-- class="sect2" -->
<a id="CIHIIIAF"></a>
<div id="OLAXS177" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Rank Functions</h3>
<br/>
<a href="#CIHIGDAG">AVERAGE_RANK</a><br/>
<a href="#CIHFFJAC">DENSE_RANK</a><br/>
<a href="#CIHCBHFG">RANK</a><br/>
<a href="#CIHDCBFD">ROW_NUMBER</a></div>
<!-- class="sect2" -->
<a id="CIHDDEGB"></a>
<div id="OLAXS178" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Share Functions</h3>
<br/>
<a href="#CIHDGJGH">SHARE</a></div>
<!-- class="sect2" -->
<a id="CIHGIJHI"></a>
<div id="OLAXS179" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Window Functions</h3>
<br/>
<a href="#CIHJEIIJ">AVG</a><br/>
<a href="#CIHFFDEI">COUNT</a><br/>
<a href="#CIHHDFFE">MAX</a><br/>
<a href="#CIHBDDCJ">MIN</a><br/>
<a href="#CIHFEEIF">SUM</a></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<div class="refentry"><a id="CIHIGDAG"></a>
<div id="OLAXS180" class="refsect1">
<h2 class="refsect1">AVERAGE_RANK</h2>
<p><code>AVERAGE_RANK</code> orders the members of a dimension based on the values of an expression. The function returns the sequence numbers of the dimension members.</p>
<p><code>AVERAGE_RANK</code> assigns the same average rank to identical values. For example, <code>AVERAGE_RANK</code> may return 1, 2, 3.5, 3.5, 5 for a series of five dimension members.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref62"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref63"></a>Syntax</p>
<pre><span class="bold">AVERAGE_RANK ( ) OVER (</span>rank_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">rank_clause</span>::=</p>
<pre>{ <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id }
  <span class="bold">ORDER BY</span> order_by_clause [<span class="bold">,</span> order_by_clause]...
  [ <span class="bold">WITHIN</span> { <span class="bold">LEVEL</span> 
           | <span class="bold">PARENT</span> 
           |<span class="bold"> ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                         |<span class="bold"> HIERARCHY LEVEL</span> hier_level_id
                         }
           }
  ]
</pre>
<p><span class="bolditalic">order_by_clause</span>::=</p>
<pre>expression [<span class="bold">ASC</span> | <span class="bold">DESC</span>] [<span class="bold">NULLS</span> {<span class="bold">FIRST</span> | <span class="bold">LAST</span>}] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref64"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS181"></a><a id="sthref65"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS182"></a><a id="sthref66"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS183"></a><a id="sthref67"></a>ORDER BY</p>
<p>Provides the basis for the ranking. You can provide additional <code>ORDER BY</code> clauses to break any ties in the order.</p>
<p class="subhead2"><a id="OLAXS184"></a><a id="sthref68"></a><span class="italic">expression</span></p>
<p>Provides the values to use as the basis for the rankings.</p>
<p class="subhead2"><a id="OLAXS185"></a><a id="sthref69"></a>ASC | DESC</p>
<p>Sorts the ranking from smallest to largest (ascending) or from largest to smallest (descending).</p>
<p class="subhead2"><a id="OLAXS186"></a><a id="sthref70"></a>NULLS {FIRST | LAST}</p>
<p>Determines whether members with null values are listed first or last.</p>
<p class="subhead2"><a id="OLAXS187"></a><a id="sthref71"></a>WITHIN</p>
<p>Selects a set of related dimension members to be ranked.</p>
<p><code>LEVEL</code> ranks all members at the same level.</p>
<p><code>PARENT</code> ranks members at the same level with the same parent.</p>
<p><code>ANCESTOR</code> ranks all members at the same level and with the same ancestor at a specified level.</p>
<p class="subhead2"><a id="OLAXS188"></a><a id="sthref72"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS189"></a><a id="sthref73"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref74"></a>Example</p>
<p>This example ranks time periods within a calendar year by Unit Cost. Notice that no month is ranked 7, because two months (JAN-02 and JUL-02) have the same value and the same rank (6.5).</p>
<p><code>AVERAGE_RANK() OVER (HIERARCHY TIME.CALENDAR ORDER BY PRICE_CUBE.UNIT_COST DESC NULLS LAST WITHIN ANCESTOR AT DIMENSION LEVEL TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="AVERAGE_RANK Example" summary="Output from AVERAGE_RANK example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t2">Product</th>
<th class="cellalignment5906" id="r1c2-t2">Time</th>
<th class="cellalignment5906" id="r1c3-t2">Cost</th>
<th class="cellalignment5906" id="r1c4-t2">Average Rank</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r2c1-t2 r1c2-t2">MAR-02</td>
<td class="cellalignment5900" headers="r2c1-t2 r1c3-t2">24.05</td>
<td class="cellalignment5900" headers="r2c1-t2 r1c4-t2">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r3c1-t2 r1c2-t2">APR-02</td>
<td class="cellalignment5900" headers="r3c1-t2 r1c3-t2">23.95</td>
<td class="cellalignment5900" headers="r3c1-t2 r1c4-t2">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r4c1-t2 r1c2-t2">FEB-02</td>
<td class="cellalignment5900" headers="r4c1-t2 r1c3-t2">23.94</td>
<td class="cellalignment5900" headers="r4c1-t2 r1c4-t2">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r5c1-t2 r1c2-t2">AUG-02</td>
<td class="cellalignment5900" headers="r5c1-t2 r1c3-t2">23.88</td>
<td class="cellalignment5900" headers="r5c1-t2 r1c4-t2">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r6c1-t2 r1c2-t2">MAY-02</td>
<td class="cellalignment5900" headers="r6c1-t2 r1c3-t2">23.84</td>
<td class="cellalignment5900" headers="r6c1-t2 r1c4-t2">5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r7c1-t2 r1c2-t2">JAN-02</td>
<td class="cellalignment5900" headers="r7c1-t2 r1c3-t2">23.73</td>
<td class="cellalignment5900" headers="r7c1-t2 r1c4-t2">6.5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r8c1-t2 r1c2-t2">JUL-02</td>
<td class="cellalignment5900" headers="r8c1-t2 r1c3-t2">23.73</td>
<td class="cellalignment5900" headers="r8c1-t2 r1c4-t2">6.5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r9c1-t2 r1c2-t2">JUN-02</td>
<td class="cellalignment5900" headers="r9c1-t2 r1c3-t2">23.72</td>
<td class="cellalignment5900" headers="r9c1-t2 r1c4-t2">8</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r10c1-t2 r1c2-t2">SEP-02</td>
<td class="cellalignment5900" headers="r10c1-t2 r1c3-t2">23.71</td>
<td class="cellalignment5900" headers="r10c1-t2 r1c4-t2">9</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r11c1-t2 r1c2-t2">NOV-02</td>
<td class="cellalignment5900" headers="r11c1-t2 r1c3-t2">23.65</td>
<td class="cellalignment5900" headers="r11c1-t2 r1c4-t2">10</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r12c1-t2 r1c2-t2">DEC-02</td>
<td class="cellalignment5900" headers="r12c1-t2 r1c3-t2">23.62</td>
<td class="cellalignment5900" headers="r12c1-t2 r1c4-t2">11</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t2" headers="r1c1-t2">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r13c1-t2 r1c2-t2">OCT-02</td>
<td class="cellalignment5900" headers="r13c1-t2 r1c3-t2">23.37</td>
<td class="cellalignment5900" headers="r13c1-t2 r1c4-t2">12</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref75"></a>Related Topics</p>
<p><a href="#CIHFFJAC">DENSE_RANK</a>, <a href="#CIHCBHFG">RANK</a>, <a href="#CIHDCBFD">ROW_NUMBER</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHJEIIJ"></a>
<div id="OLAXS190" class="refsect1">
<h2 class="refsect1">AVG</h2>
<p><code>AVG</code> returns the average of a selection of values calculated over a Time dimension. Use this function to create cumulative averages and moving averages.</p>
<p>The <code>GREGORIAN</code> relations superimpose the Gregorian calendar on the Time dimension. These relations can be useful for calculations on fiscal and nonstandard hierarchies.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref76"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref77"></a>Syntax</p>
<pre><span class="bold">AVG (</span>value_expr<span class="bold">) OVER (</span>window_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">window_clause</span>::=</p>
<pre>[ { <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id } ]
    <span class="bold">BETWEEN</span> preceding_boundary | following_boundary 
     [<span class="bold">WITHIN</span> { <span class="bold">LEVEL</span>
             | <span class="bold">PARENT</span>
             | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span>}
             | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL </span>dim_level_id
                           | <span class="bold">HIERARCHY LEVEL</span> hier_level_id 
                           }
             }
     ]
</pre>
<p><span class="bolditalic">preceding_boundary</span>::=</p>
<pre>{<span class="bold">UNBOUNDED PRECEDING</span> | expression <span class="bold">PRECEDING</span>} <span class="bold">AND</span> 
   { <span class="bold">CURRENT MEMBER</span> 
   | expression {<span class="bold">PRECEDING</span> | <span class="bold">FOLLOWING</span>}
   | <span class="bold">UNBOUNDED FOLLOWING</span>
   }
</pre>
<p><span class="bolditalic">following_boundary</span>::=</p>
<pre>{<span class="bold">CURRENT MEMBER</span> | expression <span class="bold">FOLLOWING</span>} <span class="bold">AND</span>
  { expression <span class="bold">FOLLOWING</span> 
  | <span class="bold">UNBOUNDED FOLLOWING</span>
  }
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref78"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS191"></a><a id="sthref79"></a><span class="italic">value_expr</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS192"></a><a id="sthref80"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS193"></a><a id="sthref81"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS194"></a><a id="sthref82"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS195"></a><a id="sthref83"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS196"></a><a id="sthref84"></a><span class="italic">boundaries</span></p>
<p>The <span class="italic">preceding_boundary</span> and <span class="italic">following_boundary</span> identify a range of time periods within the group identified by the dimension or hierarchy.</p>
<p><code>UNBOUNDED</code> starts with the first period or ends with the last period of the group.</p>
<p><code>CURRENT MEMBER</code> starts or ends the calculation at the current time period.</p>
<p class="subhead2"><a id="OLAXS197"></a><a id="sthref85"></a><span class="italic">expression</span></p>
<p>A numeric value identifying a period at a particular distance from the current time period that starts or ends the range.</p>
<p class="subhead2"><a id="OLAXS198"></a><a id="sthref86"></a>WITHIN subclause</p>
<p>Identifies the range of time periods used in the calculation. Following are descriptions of the keywords.</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="AVG Windowing Keywords" summary="Windowing keyword descriptions" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t3">Range</th>
<th class="cellalignment5906" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t3" headers="r1c1-t3"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t3 r1c2-t3">Calculates all time periods at the same level. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t3" headers="r1c1-t3"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t3 r1c2-t3">Calculates time periods at the same level with the same parent.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t3" headers="r1c1-t3"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t3 r1c2-t3">Calculates time periods within the same Gregorian year.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t3" headers="r1c1-t3"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t3 r1c2-t3">Calculates time periods within the same Gregorian quarter.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t3" headers="r1c1-t3"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t3 r1c2-t3">Calculates time periods within the same Gregorian month.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t3" headers="r1c1-t3"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t3 r1c2-t3">Calculates time periods within the same Gregorian week.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t3" headers="r1c1-t3"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r8c1-t3 r1c2-t3">Includes time periods at the same level and with the same ancestor at a specified level.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref87"></a>Example</p>
<p>This example calculates a cumulative average within each parent. The selection of data shows the cumulative averages for quarters within the 2005 and 2006 calendar years.</p>
<p><code>AVG(GLOBAL.UNITS_CUBE.UNITS) OVER (HIERARCHY GLOBAL.TIME.CALENDAR BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER WITHIN PARENT)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="AVG Example" summary="Output from AVG example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t4">TIME</th>
<th class="cellalignment5906" id="r1c2-t4">PARENT</th>
<th class="cellalignment5906" id="r1c3-t4">UNITS</th>
<th class="cellalignment5906" id="r1c4-t4">AVERAGE</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t4" headers="r1c1-t4">Q1.05</td>
<td class="cellalignment5900" headers="r2c1-t4 r1c2-t4">CY2005</td>
<td class="cellalignment5900" headers="r2c1-t4 r1c3-t4">143607</td>
<td class="cellalignment5900" headers="r2c1-t4 r1c4-t4">143607</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t4" headers="r1c1-t4">Q2.05</td>
<td class="cellalignment5900" headers="r3c1-t4 r1c2-t4">CY2005</td>
<td class="cellalignment5900" headers="r3c1-t4 r1c3-t4">138096</td>
<td class="cellalignment5900" headers="r3c1-t4 r1c4-t4">140852</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t4" headers="r1c1-t4">Q3.05</td>
<td class="cellalignment5900" headers="r4c1-t4 r1c2-t4">CY2005</td>
<td class="cellalignment5900" headers="r4c1-t4 r1c3-t4">138953</td>
<td class="cellalignment5900" headers="r4c1-t4 r1c4-t4">140219</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t4" headers="r1c1-t4">Q4.05</td>
<td class="cellalignment5900" headers="r5c1-t4 r1c2-t4">CY2005</td>
<td class="cellalignment5900" headers="r5c1-t4 r1c3-t4">145062</td>
<td class="cellalignment5900" headers="r5c1-t4 r1c4-t4">141430</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t4" headers="r1c1-t4">Q1.06</td>
<td class="cellalignment5900" headers="r6c1-t4 r1c2-t4">CY2006</td>
<td class="cellalignment5900" headers="r6c1-t4 r1c3-t4">146819</td>
<td class="cellalignment5900" headers="r6c1-t4 r1c4-t4">146819</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t4" headers="r1c1-t4">Q2.06</td>
<td class="cellalignment5900" headers="r7c1-t4 r1c2-t4">CY2006</td>
<td class="cellalignment5900" headers="r7c1-t4 r1c3-t4">145233</td>
<td class="cellalignment5900" headers="r7c1-t4 r1c4-t4">146026</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t4" headers="r1c1-t4">Q3.06</td>
<td class="cellalignment5900" headers="r8c1-t4 r1c2-t4">CY2006</td>
<td class="cellalignment5900" headers="r8c1-t4 r1c3-t4">143572</td>
<td class="cellalignment5900" headers="r8c1-t4 r1c4-t4">145208</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t4" headers="r1c1-t4">Q4.06</td>
<td class="cellalignment5900" headers="r9c1-t4 r1c2-t4">CY2006</td>
<td class="cellalignment5900" headers="r9c1-t4 r1c3-t4">149305</td>
<td class="cellalignment5900" headers="r9c1-t4 r1c4-t4">146232</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref88"></a>Related Topics</p>
<p><a href="#CIHFFDEI">COUNT</a>, <a href="#CIHHDFFE">MAX</a>, <a href="#CIHBDDCJ">MIN</a>, <a href="#CIHFEEIF">SUM</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHFFDEI"></a>
<div id="OLAXS199" class="refsect1">
<h2 class="refsect1">COUNT</h2>
<p><code>COUNT</code> tallies the number of data values identified by a selection of members in a Time dimension.</p>
<p>The <code>GREGORIAN</code> relations superimpose the Gregorian calendar on the Time dimension. These relations can be useful for calculations on fiscal and nonstandard hierarchies.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref89"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref90"></a>Syntax</p>
<pre><span class="bold">COUNT</span> <span class="bold">(</span>value_expr<span class="bold">) OVER (</span>window_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">window_clause</span>::=</p>
<pre>{ <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id }
  <span class="bold">BETWEEN</span> preceding_boundary <span class="bold">AND</span> following_boundary 
   [<span class="bold">WITHIN</span> { <span class="bold">LEVEL</span>
           | <span class="bold">PARENT</span>
           | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span>}
           | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL </span>dim_level_id
                         | <span class="bold">HIERARCHY LEVEL</span> hier_level_id 
                         }
           }
   ]
</pre>
<p><span class="bolditalic">preceding_boundary</span>::=</p>
<pre>{<span class="bold">UNBOUNDED PRECEDING</span> | expression <span class="bold">PRECEDING</span>} <span class="bold">AND</span> 
   { <span class="bold">CURRENT MEMBER</span> 
   | expression {<span class="bold">PRECEDING</span> | <span class="bold">FOLLOWING</span>}
   | <span class="bold">UNBOUNDED FOLLOWING</span>
   }
</pre>
<p><span class="bolditalic">following_boundary</span>::=</p>
<pre>{<span class="bold">CURRENT MEMBER</span> | expression <span class="bold">FOLLOWING</span>} <span class="bold">AND</span>
  { expression <span class="bold">FOLLOWING</span> 
  | <span class="bold">UNBOUNDED FOLLOWING</span>
  }
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref91"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS200"></a><a id="sthref92"></a><span class="italic">value_expr</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS201"></a><a id="sthref93"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS202"></a><a id="sthref94"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS203"></a><a id="sthref95"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS204"></a><a id="sthref96"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS205"></a><a id="sthref97"></a><span class="italic">boundaries</span></p>
<p>The <span class="italic">preceding_boundary</span> and <span class="italic">following_boundary</span> identify a range of time periods within the group identified by the dimension or hierarchy.</p>
<p><code>UNBOUNDED</code> starts with the first period or ends with the last period of the group.</p>
<p><code>CURRENT MEMBER</code> starts or ends the calculation at the current time period.</p>
<p class="subhead2"><a id="OLAXS206"></a><a id="sthref98"></a><span class="italic">expression</span></p>
<p>A numeric value identifying a period at a particular distance from the current time period that starts or ends the range.</p>
<p class="subhead2"><a id="OLAXS207"></a><a id="sthref99"></a>WITHIN subclause</p>
<p>Identifies the range of time periods used in the calculation. Following are descriptions of the keywords.</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="COUNT Windowing Keywords" summary="Windowing keyword descriptions" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t5">Range</th>
<th class="cellalignment5906" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t5" headers="r1c1-t5"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t5 r1c2-t5">Calculates all time periods at the same level. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t5" headers="r1c1-t5"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t5 r1c2-t5">Calculates time periods at the same level with the same parent.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t5" headers="r1c1-t5"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t5 r1c2-t5">Calculates time periods within the same Gregorian year.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t5" headers="r1c1-t5"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t5 r1c2-t5">Calculates time periods within the same Gregorian quarter.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t5" headers="r1c1-t5"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t5 r1c2-t5">Calculates time periods within the same Gregorian month.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t5" headers="r1c1-t5"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t5 r1c2-t5">Calculates time periods within the same Gregorian week.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t5" headers="r1c1-t5"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r8c1-t5 r1c2-t5">Includes time periods at the same level and with the same ancestor at a specified level.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref100"></a>Example</p>
<p>This example tallies the number of time periods at the same level and the same year up to and including the current time period. The selected data displays the number of each month in the year.</p>
<p><code>COUNT(GLOBAL.UNITS_CUBE.UNITS) OVER (HIERARCHY GLOBAL.TIME.CALENDAR BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER WITHIN ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="COUNT Example" summary="Output from COUNT example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t6">TIME</th>
<th class="cellalignment5906" id="r1c2-t6">UNITS</th>
<th class="cellalignment5906" id="r1c3-t6">COUNT</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t6" headers="r1c1-t6">JAN-06</td>
<td class="cellalignment5900" headers="r2c1-t6 r1c2-t6">47776</td>
<td class="cellalignment5900" headers="r2c1-t6 r1c3-t6">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t6" headers="r1c1-t6">FEB-06</td>
<td class="cellalignment5900" headers="r3c1-t6 r1c2-t6">47695</td>
<td class="cellalignment5900" headers="r3c1-t6 r1c3-t6">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t6" headers="r1c1-t6">MAR-06</td>
<td class="cellalignment5900" headers="r4c1-t6 r1c2-t6">51348</td>
<td class="cellalignment5900" headers="r4c1-t6 r1c3-t6">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t6" headers="r1c1-t6">APR-06</td>
<td class="cellalignment5900" headers="r5c1-t6 r1c2-t6">47005</td>
<td class="cellalignment5900" headers="r5c1-t6 r1c3-t6">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t6" headers="r1c1-t6">MAY-06</td>
<td class="cellalignment5900" headers="r6c1-t6 r1c2-t6">52809</td>
<td class="cellalignment5900" headers="r6c1-t6 r1c3-t6">5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t6" headers="r1c1-t6">JUN-06</td>
<td class="cellalignment5900" headers="r7c1-t6 r1c2-t6">45419</td>
<td class="cellalignment5900" headers="r7c1-t6 r1c3-t6">6</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t6" headers="r1c1-t6">JUL-06</td>
<td class="cellalignment5900" headers="r8c1-t6 r1c2-t6">48388</td>
<td class="cellalignment5900" headers="r8c1-t6 r1c3-t6">7</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t6" headers="r1c1-t6">AUG-06</td>
<td class="cellalignment5900" headers="r9c1-t6 r1c2-t6">48830</td>
<td class="cellalignment5900" headers="r9c1-t6 r1c3-t6">8</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t6" headers="r1c1-t6">SEP-06</td>
<td class="cellalignment5900" headers="r10c1-t6 r1c2-t6">46354</td>
<td class="cellalignment5900" headers="r10c1-t6 r1c3-t6">9</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t6" headers="r1c1-t6">OCT-06</td>
<td class="cellalignment5900" headers="r11c1-t6 r1c2-t6">47411</td>
<td class="cellalignment5900" headers="r11c1-t6 r1c3-t6">10</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t6" headers="r1c1-t6">NOV-06</td>
<td class="cellalignment5900" headers="r12c1-t6 r1c2-t6">46842</td>
<td class="cellalignment5900" headers="r12c1-t6 r1c3-t6">11</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t6" headers="r1c1-t6">DEC-06</td>
<td class="cellalignment5900" headers="r13c1-t6 r1c2-t6">55052</td>
<td class="cellalignment5900" headers="r13c1-t6 r1c3-t6">12</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref101"></a>Related Topics</p>
<p><a href="#CIHJEIIJ">AVG</a>, <a href="#CIHHDFFE">MAX</a>, <a href="#CIHBDDCJ">MIN</a>, <a href="#CIHFEEIF">SUM</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHFFJAC"></a>
<div id="OLAXS208" class="refsect1">
<h2 class="refsect1">DENSE_RANK</h2>
<p><code>DENSE_RANK</code> orders the members of a dimension based on the values of an expression. The function returns the sequence numbers of the dimension members.</p>
<p><code>DENSE_RANK</code> assigns the same minimum rank to identical values, and returns the results in a sequential list. The result may be fewer ranks than values in the series. For example, <code>DENSE_RANK</code> may return 1, 2, 3, 3, 4 for a series of five dimension members.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref102"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref103"></a>Syntax</p>
<pre><span class="bold">DENSE_RANK ( ) OVER (</span>rank_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">rank_clause</span>::=</p>
<pre>{ <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id }
  <span class="bold">ORDER BY</span> order_by_clause [<span class="bold">,</span> order_by_clause]...
  [ <span class="bold">WITHIN</span> { <span class="bold">LEVEL</span> 
           | <span class="bold">PARENT</span> 
           |<span class="bold"> ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                         |<span class="bold"> HIERARCHY LEVEL</span> hier_level_id
                         }
           }
  ]
</pre>
<p><span class="bolditalic">order_by_clause</span>::=</p>
<pre>expression [<span class="bold">ASC</span> | <span class="bold">DESC</span>] [<span class="bold">NULLS</span> {<span class="bold">FIRST</span> | <span class="bold">LAST</span>}] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref104"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS209"></a><a id="sthref105"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS210"></a><a id="sthref106"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS211"></a><a id="sthref107"></a>ORDER BY</p>
<p>Provides the basis for the ranking. You can provide additional <code>ORDER BY</code> clauses to break any ties in the order.</p>
<p class="subhead2"><a id="OLAXS212"></a><a id="sthref108"></a>expression</p>
<p>Provides the values to use as the basis for the rankings.</p>
<p class="subhead2"><a id="OLAXS213"></a><a id="sthref109"></a>ASC | DESC</p>
<p>Sorts the ranking from smallest to largest (ascending) or from largest to smallest (descending).</p>
<p class="subhead2"><a id="OLAXS214"></a><a id="sthref110"></a>NULLS {FIRST | LAST}</p>
<p>Determines whether members with null values are listed first or last.</p>
<p class="subhead2"><a id="OLAXS215"></a><a id="sthref111"></a>WITHIN</p>
<p>Selects a set of related dimension members to be ranked.</p>
<p><code>LEVEL</code> ranks all members at the same level.</p>
<p><code>PARENT</code> ranks members at the same level with the same parent.</p>
<p><code>ANCESTOR</code> ranks all members at the same level and with the same ancestor at a specified level.</p>
<p class="subhead2"><a id="OLAXS216"></a><a id="sthref112"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS217"></a><a id="sthref113"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref114"></a>Example</p>
<p>This example ranks time periods within a calendar year by Unit Cost, using the default Calendar hierarchy. Notice that although two months (JAN-02 and JUL-02) have the same value and the same rank (6), the ranking continues at 7 for JUN-02.</p>
<p><code>DENSE_RANK() OVER (DIMENSION &#34;TIME&#34; ORDER BY PRICE_CUBE.UNIT_COST DESC NULLS LAST WITHIN ANCESTOR AT DIMENSION LEVEL TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="DENSE_RANK Example" summary="Output from DENSE_RANK example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t7">Product</th>
<th class="cellalignment5906" id="r1c2-t7">Time</th>
<th class="cellalignment5906" id="r1c3-t7">Cost</th>
<th class="cellalignment5906" id="r1c4-t7">Dense Rank</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r2c1-t7 r1c2-t7">MAR-02</td>
<td class="cellalignment5900" headers="r2c1-t7 r1c3-t7">24.05</td>
<td class="cellalignment5900" headers="r2c1-t7 r1c4-t7">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r3c1-t7 r1c2-t7">APR-02</td>
<td class="cellalignment5900" headers="r3c1-t7 r1c3-t7">23.95</td>
<td class="cellalignment5900" headers="r3c1-t7 r1c4-t7">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r4c1-t7 r1c2-t7">FEB-02</td>
<td class="cellalignment5900" headers="r4c1-t7 r1c3-t7">23.94</td>
<td class="cellalignment5900" headers="r4c1-t7 r1c4-t7">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r5c1-t7 r1c2-t7">AUG-02</td>
<td class="cellalignment5900" headers="r5c1-t7 r1c3-t7">23.88</td>
<td class="cellalignment5900" headers="r5c1-t7 r1c4-t7">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r6c1-t7 r1c2-t7">MAY-02</td>
<td class="cellalignment5900" headers="r6c1-t7 r1c3-t7">23.84</td>
<td class="cellalignment5900" headers="r6c1-t7 r1c4-t7">5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r7c1-t7 r1c2-t7">JAN-02</td>
<td class="cellalignment5900" headers="r7c1-t7 r1c3-t7">23.73</td>
<td class="cellalignment5900" headers="r7c1-t7 r1c4-t7">6</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r8c1-t7 r1c2-t7">JUL-02</td>
<td class="cellalignment5900" headers="r8c1-t7 r1c3-t7">23.73</td>
<td class="cellalignment5900" headers="r8c1-t7 r1c4-t7">6</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r9c1-t7 r1c2-t7">JUN-02</td>
<td class="cellalignment5900" headers="r9c1-t7 r1c3-t7">23.72</td>
<td class="cellalignment5900" headers="r9c1-t7 r1c4-t7">7</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r10c1-t7 r1c2-t7">SEP-02</td>
<td class="cellalignment5900" headers="r10c1-t7 r1c3-t7">23.71</td>
<td class="cellalignment5900" headers="r10c1-t7 r1c4-t7">8</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r11c1-t7 r1c2-t7">NOV-02</td>
<td class="cellalignment5900" headers="r11c1-t7 r1c3-t7">23.65</td>
<td class="cellalignment5900" headers="r11c1-t7 r1c4-t7">9</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r12c1-t7 r1c2-t7">DEC-02</td>
<td class="cellalignment5900" headers="r12c1-t7 r1c3-t7">23.62</td>
<td class="cellalignment5900" headers="r12c1-t7 r1c4-t7">10</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t7" headers="r1c1-t7">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r13c1-t7 r1c2-t7">OCT-02</td>
<td class="cellalignment5900" headers="r13c1-t7 r1c3-t7">23.37</td>
<td class="cellalignment5900" headers="r13c1-t7 r1c4-t7">11</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref115"></a>Related Topics</p>
<p><a href="#CIHIGDAG">AVERAGE_RANK</a>, <a href="#CIHCBHFG">RANK</a>, <a href="#CIHDCBFD">ROW_NUMBER</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHECACG"></a>
<div id="OLAXS218" class="refsect1">
<h2 class="refsect1">HIER_ANCESTOR</h2>
<p><code>HIER_ANCESTOR</code> returns the ancestor at a particular level of a hierarchy for either all members in the hierarchy or a particular member. The hierarchy must be level-based.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref116"></a>Return Value</p>
<pre>VARCHAR2
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref117"></a>Syntax</p>
<pre><span class="bold">HIER_ANCESTOR(</span> 
  [member_expression] [<span class="bold">WITHIN</span>]
  {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id}
  {<span class="bold">DIMENSION LEVEL</span> dim_level_id | <span class="bold">HIERARCHY LEVEL</span> hier_level_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref118"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS219"></a><a id="sthref119"></a><span class="italic">member_expression</span></p>
<p>Identifies a dimension member within the hierarchy whose ancestor is returned. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS220"></a><a id="sthref120"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS221"></a><a id="sthref121"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS222"></a><a id="sthref122"></a><span class="italic">dim_level_id</span></p>
<p>The level of the ancestor in <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS223"></a><a id="sthref123"></a><span class="italic">hier_level_id</span></p>
<p>The level of the ancestor in <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref124"></a>Example</p>
<p>This example returns the ancestor at the Calendar Quarter level for members of the default Calendar hierarchy of the Time dimension.</p>
<p><code>HIER_ANCESTOR(DIMENSION &#34;TIME&#34; DIMENSION LEVEL TIME.CALENDAR_QUARTER)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_ANCESTOR Example 1" summary="Output from HIER_ANCESTOR example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t8">Time</th>
<th class="cellalignment5906" id="r1c2-t8">Ancestor</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t8" headers="r1c1-t8">2006</td>
<td class="cellalignment5900" headers="r2c1-t8 r1c2-t8">--</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t8" headers="r1c1-t8">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t8 r1c2-t8">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t8" headers="r1c1-t8">Q2.06</td>
<td class="cellalignment5900" headers="r4c1-t8 r1c2-t8">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t8" headers="r1c1-t8">Q3.06</td>
<td class="cellalignment5900" headers="r5c1-t8 r1c2-t8">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t8" headers="r1c1-t8">Q4.06</td>
<td class="cellalignment5900" headers="r6c1-t8 r1c2-t8">CY2006.Q4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t8" headers="r1c1-t8">JAN-06</td>
<td class="cellalignment5900" headers="r7c1-t8 r1c2-t8">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t8" headers="r1c1-t8">FEB-06</td>
<td class="cellalignment5900" headers="r8c1-t8 r1c2-t8">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t8" headers="r1c1-t8">MAR-06</td>
<td class="cellalignment5900" headers="r9c1-t8 r1c2-t8">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t8" headers="r1c1-t8">APR-06</td>
<td class="cellalignment5900" headers="r10c1-t8 r1c2-t8">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t8" headers="r1c1-t8">MAY-06</td>
<td class="cellalignment5900" headers="r11c1-t8 r1c2-t8">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t8" headers="r1c1-t8">JUN-06</td>
<td class="cellalignment5900" headers="r12c1-t8 r1c2-t8">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t8" headers="r1c1-t8">JUL-06</td>
<td class="cellalignment5900" headers="r13c1-t8 r1c2-t8">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t8" headers="r1c1-t8">AUG-06</td>
<td class="cellalignment5900" headers="r14c1-t8 r1c2-t8">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t8" headers="r1c1-t8">SEP-06</td>
<td class="cellalignment5900" headers="r15c1-t8 r1c2-t8">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t8" headers="r1c1-t8">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t8 r1c2-t8">CY2006.Q4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t8" headers="r1c1-t8">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t8 r1c2-t8">CY2006.Q4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t8" headers="r1c1-t8">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t8 r1c2-t8">CY2006.Q4</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>GOV</code> as the ancestor of the US Department of Labor at the Customer Market Segment level in the Market hierarchy of the Customer dimension.</p>
<p><code>HIER_ANCESTOR(&#39;US DPT LBR&#39; WITHIN HIERARCHY CUSTOMER.MARKET DIMENSION LEVEL CUSTOMER.MARKET_SEGMENT)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHGFHHE"></a>
<div id="OLAXS224" class="refsect1">
<h2 class="refsect1">HIER_CHILD_COUNT</h2>
<p><code>HIER_CHILD_COUNT</code> returns the number of children of either all dimension members in a hierarchy or a particular member. The hierarchy can be either level-based or value-based.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref125"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref126"></a>Syntax</p>
<pre><span class="bold">HIER_CHILD_COUNT (</span> 
   [member_expression] [<span class="bold">WITHIN</span>]
   {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref127"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS225"></a><a id="sthref128"></a><span class="italic">member_expression</span></p>
<p>Identifies a single dimension member within the hierarchy used for the calculation. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS226"></a><a id="sthref129"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS227"></a><a id="sthref130"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref131"></a>Example</p>
<p>This example returns the number of children for each member of the default hierarchy of the Time dimension.</p>
<p><code>HIER_CHILD_COUNT(DIMENSION &#34;TIME&#34;)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_CHILD_COUNT Example" summary="Output from HIER-CHILD_COUNT Example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t9">Time</th>
<th class="cellalignment5906" id="r1c2-t9">Children</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t9" headers="r1c1-t9">2006</td>
<td class="cellalignment5900" headers="r2c1-t9 r1c2-t9">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t9" headers="r1c1-t9">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t9 r1c2-t9">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t9" headers="r1c1-t9">Q2.06</td>
<td class="cellalignment5900" headers="r4c1-t9 r1c2-t9">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t9" headers="r1c1-t9">Q3.06</td>
<td class="cellalignment5900" headers="r5c1-t9 r1c2-t9">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t9" headers="r1c1-t9">Q4.06</td>
<td class="cellalignment5900" headers="r6c1-t9 r1c2-t9">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t9" headers="r1c1-t9">JAN-06</td>
<td class="cellalignment5900" headers="r7c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t9" headers="r1c1-t9">FEB-06</td>
<td class="cellalignment5900" headers="r8c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t9" headers="r1c1-t9">MAR-06</td>
<td class="cellalignment5900" headers="r9c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t9" headers="r1c1-t9">APR-06</td>
<td class="cellalignment5900" headers="r10c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t9" headers="r1c1-t9">MAY-06</td>
<td class="cellalignment5900" headers="r11c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t9" headers="r1c1-t9">JUN-06</td>
<td class="cellalignment5900" headers="r12c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t9" headers="r1c1-t9">JUL-06</td>
<td class="cellalignment5900" headers="r13c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t9" headers="r1c1-t9">AUG-06</td>
<td class="cellalignment5900" headers="r14c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t9" headers="r1c1-t9">SEP-06</td>
<td class="cellalignment5900" headers="r15c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t9" headers="r1c1-t9">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t9" headers="r1c1-t9">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t9 r1c2-t9">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t9" headers="r1c1-t9">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t9 r1c2-t9">0</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>8</code> as the number of children for Government within the Market hierarchy of the Customer dimension.</p>
<p><code>HIER_CHILD_COUNT(&#39;GOV&#39; WITHIN HIERARCHY CUSTOMER.MARKET)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHCIHGE"></a>
<div id="OLAXS228" class="refsect1">
<h2 class="refsect1">HIER_DEPTH</h2>
<p><code>HIER_DEPTH</code> returns a number representing the level depth of either all members of a hierarchy or a particular member, where 0 is the top level. The hierarchy can be either level-based or value-based.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref132"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref133"></a>Syntax</p>
<pre><span class="bold">HIER_DEPTH (</span> 
   [member_expression] [<span class="bold">WITHIN</span>]
   {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref134"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS229"></a><a id="sthref135"></a><span class="italic">member_expression</span></p>
<p>Identifies a single dimension member within the hierarchy used for the calculation. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS230"></a><a id="sthref136"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS231"></a><a id="sthref137"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref138"></a>Example</p>
<p>This example returns the depth of each member in the default hierarchy of the Time dimension.</p>
<p><code>HIER_DEPTH(DIMENSION &#34;TIME&#34;)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_DEPTH Example 1" summary="Output from HIER_DEPTH example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t10">Time</th>
<th class="cellalignment5906" id="r1c2-t10">Depth</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t10" headers="r1c1-t10">2006</td>
<td class="cellalignment5900" headers="r2c1-t10 r1c2-t10">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t10" headers="r1c1-t10">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t10 r1c2-t10">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t10" headers="r1c1-t10">Q2.06</td>
<td class="cellalignment5900" headers="r4c1-t10 r1c2-t10">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t10" headers="r1c1-t10">Q3.06</td>
<td class="cellalignment5900" headers="r5c1-t10 r1c2-t10">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t10" headers="r1c1-t10">Q4.06</td>
<td class="cellalignment5900" headers="r6c1-t10 r1c2-t10">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t10" headers="r1c1-t10">JAN-06</td>
<td class="cellalignment5900" headers="r7c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t10" headers="r1c1-t10">FEB-06</td>
<td class="cellalignment5900" headers="r8c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t10" headers="r1c1-t10">MAR-06</td>
<td class="cellalignment5900" headers="r9c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t10" headers="r1c1-t10">APR-06</td>
<td class="cellalignment5900" headers="r10c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t10" headers="r1c1-t10">MAY-06</td>
<td class="cellalignment5900" headers="r11c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t10" headers="r1c1-t10">JUN-06</td>
<td class="cellalignment5900" headers="r12c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t10" headers="r1c1-t10">JUL-06</td>
<td class="cellalignment5900" headers="r13c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t10" headers="r1c1-t10">AUG-06</td>
<td class="cellalignment5900" headers="r14c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t10" headers="r1c1-t10">SEP-06</td>
<td class="cellalignment5900" headers="r15c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t10" headers="r1c1-t10">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t10" headers="r1c1-t10">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t10 r1c2-t10">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t10" headers="r1c1-t10">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t10 r1c2-t10">3</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>2</code> as the depth of Italy in the default Customer hierarchy.</p>
<p><code>HIER_DEPTH(&#39;ITA&#39; WITHIN DIMENSION CUSTOMER)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHGGHFA"></a>
<div id="OLAXS232" class="refsect1">
<h2 class="refsect1">HIER_LEVEL</h2>
<p><code>HIER_LEVEL</code> returns the level of either all members of a hierarchy or a particular member. The hierarchy must be level-based.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref139"></a>Return Value</p>
<pre>VARCHAR2
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref140"></a>Syntax</p>
<pre><span class="bold">HIER_LEVEL (</span> 
   [member_expression] [<span class="bold">WITHIN</span>]
   {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref141"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS233"></a><a id="sthref142"></a><span class="italic">member_expression</span></p>
<p>Identifies a single dimension member within the hierarchy used for the calculation. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS234"></a><a id="sthref143"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS235"></a><a id="sthref144"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref145"></a>Example</p>
<p>This example returns the level of each member of the default hierarchy of the Time dimension.</p>
<p><code>HIER_LEVEL(DIMENSION &#34;TIME&#34;)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_LEVEL Example 1" summary="Output from HIER_LEVEL example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t11">Time</th>
<th class="cellalignment5906" id="r1c2-t11">Level</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t11" headers="r1c1-t11">2006</td>
<td class="cellalignment5900" headers="r2c1-t11 r1c2-t11">CALENDAR_YEAR</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t11" headers="r1c1-t11">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t11 r1c2-t11">CALENDAR_QUARTER</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t11" headers="r1c1-t11">Q2.06</td>
<td class="cellalignment5900" headers="r4c1-t11 r1c2-t11">CALENDAR_QUARTER</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t11" headers="r1c1-t11">Q3.06</td>
<td class="cellalignment5900" headers="r5c1-t11 r1c2-t11">CALENDAR_QUARTER</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t11" headers="r1c1-t11">Q4.06</td>
<td class="cellalignment5900" headers="r6c1-t11 r1c2-t11">CALENDAR_QUARTER</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t11" headers="r1c1-t11">JAN-06</td>
<td class="cellalignment5900" headers="r7c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t11" headers="r1c1-t11">FEB-06</td>
<td class="cellalignment5900" headers="r8c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t11" headers="r1c1-t11">MAR-06</td>
<td class="cellalignment5900" headers="r9c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t11" headers="r1c1-t11">APR-06</td>
<td class="cellalignment5900" headers="r10c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t11" headers="r1c1-t11">MAY-06</td>
<td class="cellalignment5900" headers="r11c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t11" headers="r1c1-t11">JUN-06</td>
<td class="cellalignment5900" headers="r12c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t11" headers="r1c1-t11">JUL-06</td>
<td class="cellalignment5900" headers="r13c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t11" headers="r1c1-t11">AUG-06</td>
<td class="cellalignment5900" headers="r14c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t11" headers="r1c1-t11">SEP-06</td>
<td class="cellalignment5900" headers="r15c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t11" headers="r1c1-t11">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t11" headers="r1c1-t11">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t11 r1c2-t11">MONTH</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t11" headers="r1c1-t11">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t11 r1c2-t11">MONTH</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>ACCOUNT</code> as the level of Business World in the Market hierarchy of the Customer dimension.</p>
<p><code>HIER_LEVEL(&#39;BUSN WRLD&#39; WITHIN HIERARCHY CUSTOMER.MARKET)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHBAHHA"></a>
<div id="OLAXS236" class="refsect1">
<h2 class="refsect1">HIER_ORDER</h2>
<p><code>HIER_ORDER</code> sorts the members of a dimension with children immediately after their parents, and returns a sequential number for each member.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref146"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref147"></a>Syntax</p>
<pre><span class="bold">HIER_ORDER (</span> 
   [member_expression] [<span class="bold">WITHIN</span>]
   {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref148"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS237"></a><a id="sthref149"></a><span class="italic">member_expression</span></p>
<p>Identifies a single dimension member within the hierarchy used for the calculation. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS238"></a><a id="sthref150"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS239"></a><a id="sthref151"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref152"></a>Example</p>
<p>This example orders the values of the Time dimension:</p>
<p><code>HIER_ORDER(DIMENSION &#34;TIME&#34;)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_ORDER Example 1" summary="Output from HIER_ORDER example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t12">Time</th>
<th class="cellalignment5906" id="r1c2-t12">Order</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t12" headers="r1c1-t12">2006</td>
<td class="cellalignment5900" headers="r2c1-t12 r1c2-t12">138</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t12" headers="r1c1-t12">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t12 r1c2-t12">139</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t12" headers="r1c1-t12">JAN-06</td>
<td class="cellalignment5900" headers="r4c1-t12 r1c2-t12">140</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t12" headers="r1c1-t12">FEB-06</td>
<td class="cellalignment5900" headers="r5c1-t12 r1c2-t12">141</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t12" headers="r1c1-t12">MAR-06</td>
<td class="cellalignment5900" headers="r6c1-t12 r1c2-t12">142</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t12" headers="r1c1-t12">Q2.06</td>
<td class="cellalignment5900" headers="r7c1-t12 r1c2-t12">143</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t12" headers="r1c1-t12">APR-06</td>
<td class="cellalignment5900" headers="r8c1-t12 r1c2-t12">144</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t12" headers="r1c1-t12">MAY-06</td>
<td class="cellalignment5900" headers="r9c1-t12 r1c2-t12">145</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t12" headers="r1c1-t12">JUN-06</td>
<td class="cellalignment5900" headers="r10c1-t12 r1c2-t12">146</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t12" headers="r1c1-t12">Q3.06</td>
<td class="cellalignment5900" headers="r11c1-t12 r1c2-t12">147</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t12" headers="r1c1-t12">JUL-06</td>
<td class="cellalignment5900" headers="r12c1-t12 r1c2-t12">148</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t12" headers="r1c1-t12">AUG-06</td>
<td class="cellalignment5900" headers="r13c1-t12 r1c2-t12">149</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t12" headers="r1c1-t12">SEP-06</td>
<td class="cellalignment5900" headers="r14c1-t12 r1c2-t12">150</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t12" headers="r1c1-t12">Q4.06</td>
<td class="cellalignment5900" headers="r15c1-t12 r1c2-t12">151</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t12" headers="r1c1-t12">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t12 r1c2-t12">152</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t12" headers="r1c1-t12">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t12 r1c2-t12">153</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t12" headers="r1c1-t12">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t12 r1c2-t12">154</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>78</code> as the order number of Business World in the Market hierarchy of the Customer dimension.</p>
<p><code>HIER_ORDER(&#39;BUSN WRLD&#39; WITHIN HIERARCHY CUSTOMER.MARKET)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHHDHCB"></a>
<div id="OLAXS240" class="refsect1">
<h2 class="refsect1">HIER_PARENT</h2>
<p><code>HIER_PARENT</code> returns the parent of either all dimension members in a hierarchy or a particular member. The hierarchy can be either level-based or value-based.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref153"></a>Return Value</p>
<pre>VARCHAR2
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref154"></a>Syntax</p>
<pre><span class="bold">HIER_PARENT (</span> 
   [member_expression] [<span class="bold">WITHIN</span>]
   {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref155"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS241"></a><a id="sthref156"></a><span class="italic">member_expression</span></p>
<p>Identifies a single dimension member within the hierarchy used for the calculation. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS242"></a><a id="sthref157"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS243"></a><a id="sthref158"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref159"></a>Example</p>
<p>This example returns the parents of all members of the default hierarchy of the Time dimension.</p>
<p><code>HIER_PARENT(DIMENSION GLOBAL.TIME)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_PARENT Example 1" summary="Output from HIER_PARENT example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t13">Time</th>
<th class="cellalignment5906" id="r1c2-t13">Parent</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t13" headers="r1c1-t13">2006</td>
<td class="cellalignment5900" headers="r2c1-t13 r1c2-t13">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t13" headers="r1c1-t13">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t13 r1c2-t13">CY2006</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t13" headers="r1c1-t13">Q2.06</td>
<td class="cellalignment5900" headers="r4c1-t13 r1c2-t13">CY2006</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t13" headers="r1c1-t13">Q3.06</td>
<td class="cellalignment5900" headers="r5c1-t13 r1c2-t13">CY2006</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t13" headers="r1c1-t13">Q4.06</td>
<td class="cellalignment5900" headers="r6c1-t13 r1c2-t13">CY2006</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t13" headers="r1c1-t13">JAN-06</td>
<td class="cellalignment5900" headers="r7c1-t13 r1c2-t13">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t13" headers="r1c1-t13">FEB-06</td>
<td class="cellalignment5900" headers="r8c1-t13 r1c2-t13">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t13" headers="r1c1-t13">MAR-06</td>
<td class="cellalignment5900" headers="r9c1-t13 r1c2-t13">CY2006.Q1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t13" headers="r1c1-t13">APR-06</td>
<td class="cellalignment5900" headers="r10c1-t13 r1c2-t13">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t13" headers="r1c1-t13">MAY-06</td>
<td class="cellalignment5900" headers="r11c1-t13 r1c2-t13">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t13" headers="r1c1-t13">JUN-06</td>
<td class="cellalignment5900" headers="r12c1-t13 r1c2-t13">CY2006.Q2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t13" headers="r1c1-t13">JUL-06</td>
<td class="cellalignment5900" headers="r13c1-t13 r1c2-t13">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t13" headers="r1c1-t13">AUG-06</td>
<td class="cellalignment5900" headers="r14c1-t13 r1c2-t13">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t13" headers="r1c1-t13">SEP-06</td>
<td class="cellalignment5900" headers="r15c1-t13 r1c2-t13">CY2006.Q3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t13" headers="r1c1-t13">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t13 r1c2-t13">CY2006.Q4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t13" headers="r1c1-t13">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t13 r1c2-t13">CY2006.Q4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t13" headers="r1c1-t13">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t13 r1c2-t13">CY2006.Q4</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>EMEA</code> as the parent of Italy within the default hierarchy of the Customer dimension.</p>
<p><code>HIER_PARENT(&#39;ITA&#39; WITHIN DIMENSION CUSTOMER)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHJAGCD"></a>
<div id="OLAXS244" class="refsect1">
<h2 class="refsect1">HIER_TOP</h2>
<p><code>HIER_TOP</code> returns the topmost ancestor of either all members of a hierarchy or a particular member. The hierarchy can be either level-based or value-based.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref160"></a>Return Value</p>
<pre>VARCHAR2
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref161"></a>Syntax</p>
<pre><span class="bold">HIER_TOP (</span> 
   [member_expression] [<span class="bold">WITHIN</span>]
   {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} <span class="bold">)</span> 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref162"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS245"></a><a id="sthref163"></a><span class="italic">member_expression</span></p>
<p>Identifies a single dimension member within the hierarchy used for the calculation. If this optional argument is specified, then the result does not vary across dimension members.</p>
<p class="subhead2"><a id="OLAXS246"></a><a id="sthref164"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS247"></a><a id="sthref165"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref166"></a>Example</p>
<p>This example returns the top member of the default hierarchy of the Time dimension.</p>
<p><code>HIER_TOP(DIMENSION &#34;TIME&#34;)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="HIER_TOP Example 1" summary="Ouput from HIER_TOP example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t14">Time</th>
<th class="cellalignment5906" id="r1c2-t14">Top</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t14" headers="r1c1-t14">2006</td>
<td class="cellalignment5900" headers="r2c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t14" headers="r1c1-t14">Q1.06</td>
<td class="cellalignment5900" headers="r3c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t14" headers="r1c1-t14">Q2.06</td>
<td class="cellalignment5900" headers="r4c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t14" headers="r1c1-t14">Q3.06</td>
<td class="cellalignment5900" headers="r5c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t14" headers="r1c1-t14">Q4.06</td>
<td class="cellalignment5900" headers="r6c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t14" headers="r1c1-t14">JAN-06</td>
<td class="cellalignment5900" headers="r7c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t14" headers="r1c1-t14">FEB-06</td>
<td class="cellalignment5900" headers="r8c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t14" headers="r1c1-t14">MAR-06</td>
<td class="cellalignment5900" headers="r9c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t14" headers="r1c1-t14">APR-06</td>
<td class="cellalignment5900" headers="r10c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t14" headers="r1c1-t14">MAY-06</td>
<td class="cellalignment5900" headers="r11c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t14" headers="r1c1-t14">JUN-06</td>
<td class="cellalignment5900" headers="r12c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t14" headers="r1c1-t14">JUL-06</td>
<td class="cellalignment5900" headers="r13c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t14" headers="r1c1-t14">AUG-06</td>
<td class="cellalignment5900" headers="r14c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t14" headers="r1c1-t14">SEP-06</td>
<td class="cellalignment5900" headers="r15c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t14" headers="r1c1-t14">OCT-06</td>
<td class="cellalignment5900" headers="r16c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t14" headers="r1c1-t14">NOV-06</td>
<td class="cellalignment5900" headers="r17c1-t14 r1c2-t14">TOTAL</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t14" headers="r1c1-t14">DEC-06</td>
<td class="cellalignment5900" headers="r18c1-t14 r1c2-t14">TOTAL</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example returns <code>TOTAL</code>, which is the top member for Europe in the default hierarchy of the Customer dimension.</p>
<p><code>HIER_TOP(&#39;EMEA&#39; WITHIN DIMENSION CUSTOMER)</code></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHIEIEA"></a>
<div id="OLAXS248" class="refsect1">
<h2 class="refsect1">LAG</h2>
<p><code>LAG</code> returns the value from an earlier time period.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref167"></a>Return Value</p>
<p>The same data type as the value expression</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref168"></a>Syntax</p>
<pre><span class="bold">LAG (</span>lag_args<span class="bold">) OVER (</span>lag_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lag_args</span>::=</p>
<pre>expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lag_clause</span>::=</p>
<pre>[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                     | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                     }
       }
  [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref169"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS249"></a><a id="sthref170"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS250"></a><a id="sthref171"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count back from the current time period.</p>
<p class="subhead2"><a id="OLAXS251"></a><a id="sthref172"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting back.</p>
<p class="subhead2"><a id="OLAXS252"></a><a id="sthref173"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lag is calculated.</p>
<p class="subhead2"><a id="OLAXS253"></a><a id="sthref174"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lag is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS254"></a><a id="sthref175"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS255"></a><a id="sthref176"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS256"></a><a id="sthref177"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LAG Offset Units" summary="Offset units in LAG BY clause" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t15">Offset Unit</th>
<th class="cellalignment5906" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t15" headers="r1c1-t15"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t15 r1c2-t15">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods before the current member. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t15" headers="r1c1-t15"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t15 r1c2-t15">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods before the current member.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t15" headers="r1c1-t15"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t15 r1c2-t15">The period at the same level with a start date exactly <code>offset</code> years before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t15" headers="r1c1-t15"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t15 r1c2-t15">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t15" headers="r1c1-t15"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t15 r1c2-t15">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t15" headers="r1c1-t15"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t15 r1c2-t15">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t15" headers="r1c1-t15"><code>GREGORIAN DAY</code></td>
<td class="cellalignment5900" headers="r8c1-t15 r1c2-t15">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t15" headers="r1c1-t15"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r9c1-t15 r1c2-t15">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions before the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref178"></a>Example</p>
<p>This example returns the value from the prior year for each period.</p>
<p><code>LAG(UNITS_CUBE.UNITS, 1) OVER (HIERARCHY &#34;TIME&#34;.CALENDAR ANCESTOR AT DIMENSION LEVEL &#34;TIME&#34;.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LAG Example" summary="Output from LAG example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t16">Time</th>
<th class="cellalignment5906" id="r1c2-t16">Units</th>
<th class="cellalignment5906" id="r1c3-t16">Last Year</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t16" headers="r1c1-t16">Q1.05</td>
<td class="cellalignment5900" headers="r2c1-t16 r1c2-t16">143607</td>
<td class="cellalignment5900" headers="r2c1-t16 r1c3-t16">146529</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t16" headers="r1c1-t16">Q2.05</td>
<td class="cellalignment5900" headers="r3c1-t16 r1c2-t16">138096</td>
<td class="cellalignment5900" headers="r3c1-t16 r1c3-t16">143070</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t16" headers="r1c1-t16">Q3.05</td>
<td class="cellalignment5900" headers="r4c1-t16 r1c2-t16">138953</td>
<td class="cellalignment5900" headers="r4c1-t16 r1c3-t16">148292</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t16" headers="r1c1-t16">Q4.05</td>
<td class="cellalignment5900" headers="r5c1-t16 r1c2-t16">145062</td>
<td class="cellalignment5900" headers="r5c1-t16 r1c3-t16">149528</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t16" headers="r1c1-t16">Q1.06</td>
<td class="cellalignment5900" headers="r6c1-t16 r1c2-t16">146819</td>
<td class="cellalignment5900" headers="r6c1-t16 r1c3-t16">143607</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t16" headers="r1c1-t16">Q2.06</td>
<td class="cellalignment5900" headers="r7c1-t16 r1c2-t16">145233</td>
<td class="cellalignment5900" headers="r7c1-t16 r1c3-t16">138096</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t16" headers="r1c1-t16">Q3.06</td>
<td class="cellalignment5900" headers="r8c1-t16 r1c2-t16">143572</td>
<td class="cellalignment5900" headers="r8c1-t16 r1c3-t16">138953</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t16" headers="r1c1-t16">Q4.06</td>
<td class="cellalignment5900" headers="r9c1-t16 r1c2-t16">149305</td>
<td class="cellalignment5900" headers="r9c1-t16 r1c3-t16">145062</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref179"></a>Related Topics</p>
<p><a href="#CIHFBFAF">LAG_VARIANCE</a>, <a href="#CIHDEFDI">LAG_VARIANCE_PERCENT</a>, <a href="#CIHGEABE">LEAD</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHFBFAF"></a>
<div id="OLAXS257" class="refsect1">
<h2 class="refsect1">LAG_VARIANCE</h2>
<p><code>LAG_VARIANCE</code> returns the difference between values for the current time period and an earlier period.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref180"></a>Return Value</p>
<p>The same data type as the value expression</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref181"></a>Syntax</p>
<pre><span class="bold">LAG_VARIANCE (</span>lag_args<span class="bold">) OVER (</span>lag_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lag_args</span>::=</p>
<pre>expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lag_clause</span>::=</p>
<pre>[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                     | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                     }
       }
  [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref182"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS258"></a><a id="sthref183"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS259"></a><a id="sthref184"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count back from the current time period.</p>
<p class="subhead2"><a id="OLAXS260"></a><a id="sthref185"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting back.</p>
<p class="subhead2"><a id="OLAXS261"></a><a id="sthref186"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lag is calculated.</p>
<p class="subhead2"><a id="OLAXS262"></a><a id="sthref187"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lag is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS263"></a><a id="sthref188"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS264"></a><a id="sthref189"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS265"></a><a id="sthref190"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LAG_VARIANCE Offset Units" summary="Offset units in LAG BY clause" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t17">Offset Unit</th>
<th class="cellalignment5906" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t17" headers="r1c1-t17"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t17 r1c2-t17">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods before the current member. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t17" headers="r1c1-t17"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t17 r1c2-t17">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods before the current member.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t17" headers="r1c1-t17"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t17 r1c2-t17">The period at the same level with a start date exactly <code>offset</code> years before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t17" headers="r1c1-t17"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t17 r1c2-t17">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t17" headers="r1c1-t17"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t17 r1c2-t17">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t17" headers="r1c1-t17"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t17 r1c2-t17">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t17" headers="r1c1-t17"><code>GREGORIAN DAY</code></td>
<td class="cellalignment5900" headers="r8c1-t17 r1c2-t17">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t17" headers="r1c1-t17"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r9c1-t17 r1c2-t17">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions before the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref191"></a>Examples</p>
<p>This example returns the difference in values between the current period and the equivalent period in the prior year.</p>
<p><code>LAG_VARIANCE (GLOBAL.UNITS_CUBE.UNITS, 1) OVER (HIERARCHY GLOBAL.TIME.CALENDAR ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LAG-VARIANCE Example" summary="Output from LAG_VARIANCE example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t18">Time</th>
<th class="cellalignment5906" id="r1c2-t18">Units</th>
<th class="cellalignment5906" id="r1c3-t18">Last Year</th>
<th class="cellalignment5906" id="r1c4-t18">Difference</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t18" headers="r1c1-t18">Q1.05</td>
<td class="cellalignment5900" headers="r2c1-t18 r1c2-t18">143607</td>
<td class="cellalignment5900" headers="r2c1-t18 r1c3-t18">146529</td>
<td class="cellalignment5900" headers="r2c1-t18 r1c4-t18">-2922</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t18" headers="r1c1-t18">Q2.05</td>
<td class="cellalignment5900" headers="r3c1-t18 r1c2-t18">138096</td>
<td class="cellalignment5900" headers="r3c1-t18 r1c3-t18">143070</td>
<td class="cellalignment5900" headers="r3c1-t18 r1c4-t18">-4974</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t18" headers="r1c1-t18">Q3.05</td>
<td class="cellalignment5900" headers="r4c1-t18 r1c2-t18">138953</td>
<td class="cellalignment5900" headers="r4c1-t18 r1c3-t18">148292</td>
<td class="cellalignment5900" headers="r4c1-t18 r1c4-t18">-9339</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t18" headers="r1c1-t18">Q4.05</td>
<td class="cellalignment5900" headers="r5c1-t18 r1c2-t18">145062</td>
<td class="cellalignment5900" headers="r5c1-t18 r1c3-t18">149528</td>
<td class="cellalignment5900" headers="r5c1-t18 r1c4-t18">-4466</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t18" headers="r1c1-t18">Q1.06</td>
<td class="cellalignment5900" headers="r6c1-t18 r1c2-t18">146819</td>
<td class="cellalignment5900" headers="r6c1-t18 r1c3-t18">143607</td>
<td class="cellalignment5900" headers="r6c1-t18 r1c4-t18">3212</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t18" headers="r1c1-t18">Q2.06</td>
<td class="cellalignment5900" headers="r7c1-t18 r1c2-t18">145233</td>
<td class="cellalignment5900" headers="r7c1-t18 r1c3-t18">138096</td>
<td class="cellalignment5900" headers="r7c1-t18 r1c4-t18">7137</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t18" headers="r1c1-t18">Q3.06</td>
<td class="cellalignment5900" headers="r8c1-t18 r1c2-t18">143572</td>
<td class="cellalignment5900" headers="r8c1-t18 r1c3-t18">138953</td>
<td class="cellalignment5900" headers="r8c1-t18 r1c4-t18">4619</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t18" headers="r1c1-t18">Q4.06</td>
<td class="cellalignment5900" headers="r9c1-t18 r1c2-t18">149305</td>
<td class="cellalignment5900" headers="r9c1-t18 r1c3-t18">145062</td>
<td class="cellalignment5900" headers="r9c1-t18 r1c4-t18">4243</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref192"></a>Related Topics</p>
<p><a href="#CIHIEIEA">LAG</a>, <a href="#CIHDEFDI">LAG_VARIANCE_PERCENT</a>, <a href="#CIHGEABE">LEAD</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHDEFDI"></a>
<div id="OLAXS266" class="refsect1">
<h2 class="refsect1">LAG_VARIANCE_PERCENT</h2>
<p><code>LAG_VARIANCE_PERCENT</code> returns the percent difference between values for the current time period and an earlier period.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref193"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref194"></a>Syntax</p>
<pre><span class="bold">LAG_VARIANCE_PERCENT (</span>lag_args<span class="bold">) OVER (</span>lag_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lag_args</span>::=</p>
<pre>expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lag_clause</span>::=</p>
<pre>[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                     | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                     }
       }
  [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref195"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS267"></a><a id="sthref196"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS268"></a><a id="sthref197"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count back from the current time period.</p>
<p class="subhead2"><a id="OLAXS269"></a><a id="sthref198"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting back.</p>
<p class="subhead2"><a id="OLAXS270"></a><a id="sthref199"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lag is calculated.</p>
<p class="subhead2"><a id="OLAXS271"></a><a id="sthref200"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lag is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS272"></a><a id="sthref201"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS273"></a><a id="sthref202"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS274"></a><a id="sthref203"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LAG_VARIANCE_PERCENT Offset Units" summary="Offset units in LAG BY clause" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t19">Offset Unit</th>
<th class="cellalignment5906" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t19" headers="r1c1-t19"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t19 r1c2-t19">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods before the current member. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t19" headers="r1c1-t19"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t19 r1c2-t19">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods before the current member.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t19" headers="r1c1-t19"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t19 r1c2-t19">The period at the same level with a start date exactly <code>offset</code> years before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t19" headers="r1c1-t19"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t19 r1c2-t19">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t19" headers="r1c1-t19"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t19 r1c2-t19">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t19" headers="r1c1-t19"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t19 r1c2-t19">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t19" headers="r1c1-t19"><code>GREGORIAN DAY</code></td>
<td class="cellalignment5900" headers="r8c1-t19 r1c2-t19">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days before the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t19" headers="r1c1-t19"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r9c1-t19 r1c2-t19">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions before the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref204"></a>Examples</p>
<p>This example returns the percent difference in value between the current period and the equivalent period in the prior year.</p>
<p><code>LAG_VARIANCE_PERCENT (GLOBAL.UNITS_CUBE.UNITS, 1) OVER (HIERARCHY GLOBAL.TIME.CALENDAR ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LAG_VARIANCE_PERCENT Example" summary="Output from LAG_VARIANCE_PERCENT example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t20">Time</th>
<th class="cellalignment5906" id="r1c2-t20">Units</th>
<th class="cellalignment5906" id="r1c3-t20">Last Year</th>
<th class="cellalignment5906" id="r1c4-t20">Difference</th>
<th class="cellalignment5906" id="r1c5-t20">Percent</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t20" headers="r1c1-t20">Q1.05</td>
<td class="cellalignment5900" headers="r2c1-t20 r1c2-t20">143607</td>
<td class="cellalignment5900" headers="r2c1-t20 r1c3-t20">146529</td>
<td class="cellalignment5900" headers="r2c1-t20 r1c4-t20">-2922</td>
<td class="cellalignment5900" headers="r2c1-t20 r1c5-t20">-.02</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t20" headers="r1c1-t20">Q2.05</td>
<td class="cellalignment5900" headers="r3c1-t20 r1c2-t20">138096</td>
<td class="cellalignment5900" headers="r3c1-t20 r1c3-t20">143070</td>
<td class="cellalignment5900" headers="r3c1-t20 r1c4-t20">-4974</td>
<td class="cellalignment5900" headers="r3c1-t20 r1c5-t20">-.03</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t20" headers="r1c1-t20">Q3.05</td>
<td class="cellalignment5900" headers="r4c1-t20 r1c2-t20">138953</td>
<td class="cellalignment5900" headers="r4c1-t20 r1c3-t20">148292</td>
<td class="cellalignment5900" headers="r4c1-t20 r1c4-t20">-9339</td>
<td class="cellalignment5900" headers="r4c1-t20 r1c5-t20">-.06</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t20" headers="r1c1-t20">Q4.05</td>
<td class="cellalignment5900" headers="r5c1-t20 r1c2-t20">145062</td>
<td class="cellalignment5900" headers="r5c1-t20 r1c3-t20">149528</td>
<td class="cellalignment5900" headers="r5c1-t20 r1c4-t20">-4466</td>
<td class="cellalignment5900" headers="r5c1-t20 r1c5-t20">-.03</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t20" headers="r1c1-t20">Q1.06</td>
<td class="cellalignment5900" headers="r6c1-t20 r1c2-t20">146819</td>
<td class="cellalignment5900" headers="r6c1-t20 r1c3-t20">143607</td>
<td class="cellalignment5900" headers="r6c1-t20 r1c4-t20">3212</td>
<td class="cellalignment5900" headers="r6c1-t20 r1c5-t20">.02</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t20" headers="r1c1-t20">Q2.06</td>
<td class="cellalignment5900" headers="r7c1-t20 r1c2-t20">145233</td>
<td class="cellalignment5900" headers="r7c1-t20 r1c3-t20">138096</td>
<td class="cellalignment5900" headers="r7c1-t20 r1c4-t20">7137</td>
<td class="cellalignment5900" headers="r7c1-t20 r1c5-t20">.05</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t20" headers="r1c1-t20">Q3.06</td>
<td class="cellalignment5900" headers="r8c1-t20 r1c2-t20">143572</td>
<td class="cellalignment5900" headers="r8c1-t20 r1c3-t20">138953</td>
<td class="cellalignment5900" headers="r8c1-t20 r1c4-t20">4619</td>
<td class="cellalignment5900" headers="r8c1-t20 r1c5-t20">.03</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t20" headers="r1c1-t20">Q4.06</td>
<td class="cellalignment5900" headers="r9c1-t20 r1c2-t20">149305</td>
<td class="cellalignment5900" headers="r9c1-t20 r1c3-t20">145062</td>
<td class="cellalignment5900" headers="r9c1-t20 r1c4-t20">4243</td>
<td class="cellalignment5900" headers="r9c1-t20 r1c5-t20">.03</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref205"></a>Related Topics</p>
<p><a href="#CIHIEIEA">LAG</a>, <a href="#CIHFBFAF">LAG_VARIANCE</a>, <a href="#CIHGEABE">LEAD</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHGEABE"></a>
<div id="OLAXS275" class="refsect1">
<h2 class="refsect1">LEAD</h2>
<p><code>LEAD</code> returns the value of an expression for a later time period.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref206"></a>Return Value</p>
<p>The same data type as the value expression</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref207"></a>Syntax</p>
<pre><span class="bold">LEAD (</span>lead_args<span class="bold">) OVER (</span>lead_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lead_args</span>::=</p>
<pre>expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lead_clause</span>::=</p>
<pre>[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                     | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                     }
       }
  [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref208"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS276"></a><a id="sthref209"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS277"></a><a id="sthref210"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count forward from the current time period.</p>
<p class="subhead2"><a id="OLAXS278"></a><a id="sthref211"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting forward.</p>
<p class="subhead2"><a id="OLAXS279"></a><a id="sthref212"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lead is calculated.</p>
<p class="subhead2"><a id="OLAXS280"></a><a id="sthref213"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lead is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS281"></a><a id="sthref214"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS282"></a><a id="sthref215"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS283"></a><a id="sthref216"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LEAD Offset Units" summary="Offset units in LEAD BY clause" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t21">Offset Unit</th>
<th class="cellalignment5906" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t21" headers="r1c1-t21"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t21 r1c2-t21">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods after the current member. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t21" headers="r1c1-t21"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t21 r1c2-t21">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods after the current member.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t21" headers="r1c1-t21"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t21 r1c2-t21">The period at the same level with a start date exactly <code>offset</code> years after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t21" headers="r1c1-t21"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t21 r1c2-t21">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t21" headers="r1c1-t21"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t21 r1c2-t21">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t21" headers="r1c1-t21"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t21 r1c2-t21">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t21" headers="r1c1-t21"><code>GREGORIAN DAY</code></td>
<td class="cellalignment5900" headers="r8c1-t21 r1c2-t21">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t21" headers="r1c1-t21"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r9c1-t21 r1c2-t21">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions after the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref217"></a>Examples</p>
<p>This calculation returns the value of the next time period based on calendar quarter. The sample output from this calculation appears in the Next Qtr column.</p>
<p><code>LEAD (GLOBAL.UNITS_CUBE.UNITS, 1, CLOSEST) OVER (DIMENSION GLOBAL.TIME BY ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_QUARTER)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LEAD Example" summary="Output from LEAD example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t22">Time</th>
<th class="cellalignment5906" id="r1c2-t22">Parent</th>
<th class="cellalignment5906" id="r1c3-t22">Units</th>
<th class="cellalignment5906" id="r1c4-t22">Next Qtr</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t22" headers="r1c1-t22"><code>2005</code></td>
<td class="cellalignment5900" headers="r2c1-t22 r1c2-t22">TOTAL</td>
<td class="cellalignment5900" headers="r2c1-t22 r1c3-t22">565718</td>
<td class="cellalignment5900" headers="r2c1-t22 r1c4-t22">--</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t22" headers="r1c1-t22"><code>Q1-05</code></td>
<td class="cellalignment5900" headers="r3c1-t22 r1c2-t22">CY2005</td>
<td class="cellalignment5900" headers="r3c1-t22 r1c3-t22">143607</td>
<td class="cellalignment5900" headers="r3c1-t22 r1c4-t22">138096</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t22" headers="r1c1-t22"><code>Q2-05</code></td>
<td class="cellalignment5900" headers="r4c1-t22 r1c2-t22">CY2005</td>
<td class="cellalignment5900" headers="r4c1-t22 r1c3-t22">138096</td>
<td class="cellalignment5900" headers="r4c1-t22 r1c4-t22">138953</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t22" headers="r1c1-t22"><code>Q3-05</code></td>
<td class="cellalignment5900" headers="r5c1-t22 r1c2-t22">CY2005</td>
<td class="cellalignment5900" headers="r5c1-t22 r1c3-t22">138953</td>
<td class="cellalignment5900" headers="r5c1-t22 r1c4-t22">145062</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t22" headers="r1c1-t22"><code>Q4-05</code></td>
<td class="cellalignment5900" headers="r6c1-t22 r1c2-t22">CY2005</td>
<td class="cellalignment5900" headers="r6c1-t22 r1c3-t22">145062</td>
<td class="cellalignment5900" headers="r6c1-t22 r1c4-t22">146819</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t22" headers="r1c1-t22"><code>Jan-05</code></td>
<td class="cellalignment5900" headers="r7c1-t22 r1c2-t22">CY2005.Q1</td>
<td class="cellalignment5900" headers="r7c1-t22 r1c3-t22">50098</td>
<td class="cellalignment5900" headers="r7c1-t22 r1c4-t22">40223</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t22" headers="r1c1-t22"><code>Feb-05</code></td>
<td class="cellalignment5900" headers="r8c1-t22 r1c2-t22">CY2005.Q1</td>
<td class="cellalignment5900" headers="r8c1-t22 r1c3-t22">43990</td>
<td class="cellalignment5900" headers="r8c1-t22 r1c4-t22">45477</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t22" headers="r1c1-t22"><code>Mar-05</code></td>
<td class="cellalignment5900" headers="r9c1-t22 r1c2-t22">CY2005.Q1</td>
<td class="cellalignment5900" headers="r9c1-t22 r1c3-t22">49519</td>
<td class="cellalignment5900" headers="r9c1-t22 r1c4-t22">52396</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t22" headers="r1c1-t22"><code>Apr-05</code></td>
<td class="cellalignment5900" headers="r10c1-t22 r1c2-t22">CY2005.Q2</td>
<td class="cellalignment5900" headers="r10c1-t22 r1c3-t22">40223</td>
<td class="cellalignment5900" headers="r10c1-t22 r1c4-t22">45595</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t22" headers="r1c1-t22"><code>May-05</code></td>
<td class="cellalignment5900" headers="r11c1-t22 r1c2-t22">CY2005.Q2</td>
<td class="cellalignment5900" headers="r11c1-t22 r1c3-t22">45477</td>
<td class="cellalignment5900" headers="r11c1-t22 r1c4-t22">46882</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t22" headers="r1c1-t22"><code>Jun-05</code></td>
<td class="cellalignment5900" headers="r12c1-t22 r1c2-t22">CY2005.Q2</td>
<td class="cellalignment5900" headers="r12c1-t22 r1c3-t22">52396</td>
<td class="cellalignment5900" headers="r12c1-t22 r1c4-t22">46476</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t22" headers="r1c1-t22"><code>Jul-05</code></td>
<td class="cellalignment5900" headers="r13c1-t22 r1c2-t22">CY2005.Q3</td>
<td class="cellalignment5900" headers="r13c1-t22 r1c3-t22">45595</td>
<td class="cellalignment5900" headers="r13c1-t22 r1c4-t22">47476</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t22" headers="r1c1-t22"><code>Aug-05</code></td>
<td class="cellalignment5900" headers="r14c1-t22 r1c2-t22">CY2005.Q3</td>
<td class="cellalignment5900" headers="r14c1-t22 r1c3-t22">46882</td>
<td class="cellalignment5900" headers="r14c1-t22 r1c4-t22">47496</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t22" headers="r1c1-t22"><code>Sep-05</code></td>
<td class="cellalignment5900" headers="r15c1-t22 r1c2-t22">CY2005.Q3</td>
<td class="cellalignment5900" headers="r15c1-t22 r1c3-t22">46476</td>
<td class="cellalignment5900" headers="r15c1-t22 r1c4-t22">50090</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t22" headers="r1c1-t22"><code>Oct-05</code></td>
<td class="cellalignment5900" headers="r16c1-t22 r1c2-t22">CY2005.Q4</td>
<td class="cellalignment5900" headers="r16c1-t22 r1c3-t22">47476</td>
<td class="cellalignment5900" headers="r16c1-t22 r1c4-t22">47776</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t22" headers="r1c1-t22"><code>Nov-05</code></td>
<td class="cellalignment5900" headers="r17c1-t22 r1c2-t22">CY2005.Q4</td>
<td class="cellalignment5900" headers="r17c1-t22 r1c3-t22">47496</td>
<td class="cellalignment5900" headers="r17c1-t22 r1c4-t22">47695</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t22" headers="r1c1-t22"><code>Dec-05</code></td>
<td class="cellalignment5900" headers="r18c1-t22 r1c2-t22">CY2005.Q4</td>
<td class="cellalignment5900" headers="r18c1-t22 r1c3-t22">50090</td>
<td class="cellalignment5900" headers="r18c1-t22 r1c4-t22">51348</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref218"></a>Related Topics</p>
<p><a href="#CIHIEIEA">LAG</a>, <a href="#CIHBGJED">LEAD_VARIANCE</a>, <a href="#CIHDAEBF">LEAD_VARIANCE_PERCENT</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHBGJED"></a>
<div id="OLAXS284" class="refsect1">
<h2 class="refsect1">LEAD_VARIANCE</h2>
<p><code>LEAD_VARIANCE</code> returns the difference between values for the current time period and the offset period.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref219"></a>Return Value</p>
<p>The same data type as the value expression</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref220"></a>Syntax</p>
<pre><span class="bold">LEAD_VARIANCE (</span>lead_args<span class="bold">) OVER (</span>lead_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lead_args</span>::=</p>
<pre>expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lead_clause</span>::=</p>
<pre>[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                     | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                     }
       }
  [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref221"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS285"></a><a id="sthref222"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS286"></a><a id="sthref223"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count forward from the current time period.</p>
<p class="subhead2"><a id="OLAXS287"></a><a id="sthref224"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting forward.</p>
<p class="subhead2"><a id="OLAXS288"></a><a id="sthref225"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lead is calculated.</p>
<p class="subhead2"><a id="OLAXS289"></a><a id="sthref226"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lead is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS290"></a><a id="sthref227"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS291"></a><a id="sthref228"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS292"></a><a id="sthref229"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LEAD_VARIANCE Offset Units" summary="Offset units in LEAD BY clause" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t23">Offset Unit</th>
<th class="cellalignment5906" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t23" headers="r1c1-t23"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t23 r1c2-t23">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods after the current member. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t23" headers="r1c1-t23"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t23 r1c2-t23">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods after the current member.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t23" headers="r1c1-t23"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t23 r1c2-t23">The period at the same level with a start date exactly <code>offset</code> years after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t23" headers="r1c1-t23"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t23" headers="r1c1-t23"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t23" headers="r1c1-t23"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t23" headers="r1c1-t23"><code>GREGORIAN DAY</code></td>
<td class="cellalignment5900" headers="r8c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t23" headers="r1c1-t23"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r9c1-t23 r1c2-t23">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions after the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref230"></a>Examples</p>
<p>This calculation returns the difference between the current value and the value of the next time period based on calendar quarter. The sample output from this calculation appears in the Difference column.</p>
<p><code>LEAD_VARIANCE (GLOBAL.UNITS_CUBE.UNITS, 1, CLOSEST) OVER (DIMENSION GLOBAL.TIME BY ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_QUARTER)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LEAD_VARIANCE Example" summary="Output from LEAD_VARIANCE example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t24">Time</th>
<th class="cellalignment5906" id="r1c2-t24">Parent</th>
<th class="cellalignment5906" id="r1c3-t24">Units</th>
<th class="cellalignment5906" id="r1c4-t24">Next Qtr</th>
<th class="cellalignment5906" id="r1c5-t24">Difference</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t24" headers="r1c1-t24"><code>2005</code></td>
<td class="cellalignment5900" headers="r2c1-t24 r1c2-t24">TOTAL</td>
<td class="cellalignment5900" headers="r2c1-t24 r1c3-t24">565718</td>
<td class="cellalignment5900" headers="r2c1-t24 r1c4-t24">--</td>
<td class="cellalignment5900" headers="r2c1-t24 r1c5-t24">--</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t24" headers="r1c1-t24"><code>Q1-05</code></td>
<td class="cellalignment5900" headers="r3c1-t24 r1c2-t24">CY2005</td>
<td class="cellalignment5900" headers="r3c1-t24 r1c3-t24">143607</td>
<td class="cellalignment5900" headers="r3c1-t24 r1c4-t24">138096</td>
<td class="cellalignment5900" headers="r3c1-t24 r1c5-t24">5511</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t24" headers="r1c1-t24"><code>Q2-05</code></td>
<td class="cellalignment5900" headers="r4c1-t24 r1c2-t24">CY2005</td>
<td class="cellalignment5900" headers="r4c1-t24 r1c3-t24">138096</td>
<td class="cellalignment5900" headers="r4c1-t24 r1c4-t24">138953</td>
<td class="cellalignment5900" headers="r4c1-t24 r1c5-t24">-857</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t24" headers="r1c1-t24"><code>Q3-05</code></td>
<td class="cellalignment5900" headers="r5c1-t24 r1c2-t24">CY2005</td>
<td class="cellalignment5900" headers="r5c1-t24 r1c3-t24">138953</td>
<td class="cellalignment5900" headers="r5c1-t24 r1c4-t24">145062</td>
<td class="cellalignment5900" headers="r5c1-t24 r1c5-t24">-6109</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t24" headers="r1c1-t24"><code>Q4-05</code></td>
<td class="cellalignment5900" headers="r6c1-t24 r1c2-t24">CY2005</td>
<td class="cellalignment5900" headers="r6c1-t24 r1c3-t24">145062</td>
<td class="cellalignment5900" headers="r6c1-t24 r1c4-t24">146819</td>
<td class="cellalignment5900" headers="r6c1-t24 r1c5-t24">-1757</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t24" headers="r1c1-t24"><code>Jan-05</code></td>
<td class="cellalignment5900" headers="r7c1-t24 r1c2-t24">CY2005.Q1</td>
<td class="cellalignment5900" headers="r7c1-t24 r1c3-t24">50098</td>
<td class="cellalignment5900" headers="r7c1-t24 r1c4-t24">40223</td>
<td class="cellalignment5900" headers="r7c1-t24 r1c5-t24">9875</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t24" headers="r1c1-t24"><code>Feb-05</code></td>
<td class="cellalignment5900" headers="r8c1-t24 r1c2-t24">CY2005.Q1</td>
<td class="cellalignment5900" headers="r8c1-t24 r1c3-t24">43990</td>
<td class="cellalignment5900" headers="r8c1-t24 r1c4-t24">45477</td>
<td class="cellalignment5900" headers="r8c1-t24 r1c5-t24">-1487</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t24" headers="r1c1-t24"><code>Mar-05</code></td>
<td class="cellalignment5900" headers="r9c1-t24 r1c2-t24">CY2005.Q1</td>
<td class="cellalignment5900" headers="r9c1-t24 r1c3-t24">49519</td>
<td class="cellalignment5900" headers="r9c1-t24 r1c4-t24">52396</td>
<td class="cellalignment5900" headers="r9c1-t24 r1c5-t24">-2877</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t24" headers="r1c1-t24"><code>Apr-05</code></td>
<td class="cellalignment5900" headers="r10c1-t24 r1c2-t24">CY2005.Q2</td>
<td class="cellalignment5900" headers="r10c1-t24 r1c3-t24">40223</td>
<td class="cellalignment5900" headers="r10c1-t24 r1c4-t24">45595</td>
<td class="cellalignment5900" headers="r10c1-t24 r1c5-t24">-5372</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t24" headers="r1c1-t24"><code>May-05</code></td>
<td class="cellalignment5900" headers="r11c1-t24 r1c2-t24">CY2005.Q2</td>
<td class="cellalignment5900" headers="r11c1-t24 r1c3-t24">45477</td>
<td class="cellalignment5900" headers="r11c1-t24 r1c4-t24">46882</td>
<td class="cellalignment5900" headers="r11c1-t24 r1c5-t24">-1405</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t24" headers="r1c1-t24"><code>Jun-05</code></td>
<td class="cellalignment5900" headers="r12c1-t24 r1c2-t24">CY2005.Q2</td>
<td class="cellalignment5900" headers="r12c1-t24 r1c3-t24">52396</td>
<td class="cellalignment5900" headers="r12c1-t24 r1c4-t24">46476</td>
<td class="cellalignment5900" headers="r12c1-t24 r1c5-t24">5920</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t24" headers="r1c1-t24"><code>Jul-05</code></td>
<td class="cellalignment5900" headers="r13c1-t24 r1c2-t24">CY2005.Q3</td>
<td class="cellalignment5900" headers="r13c1-t24 r1c3-t24">45595</td>
<td class="cellalignment5900" headers="r13c1-t24 r1c4-t24">47476</td>
<td class="cellalignment5900" headers="r13c1-t24 r1c5-t24">-1881</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t24" headers="r1c1-t24"><code>Aug-05</code></td>
<td class="cellalignment5900" headers="r14c1-t24 r1c2-t24">CY2005.Q3</td>
<td class="cellalignment5900" headers="r14c1-t24 r1c3-t24">46882</td>
<td class="cellalignment5900" headers="r14c1-t24 r1c4-t24">47496</td>
<td class="cellalignment5900" headers="r14c1-t24 r1c5-t24">-614</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t24" headers="r1c1-t24"><code>Sep-05</code></td>
<td class="cellalignment5900" headers="r15c1-t24 r1c2-t24">CY2005.Q3</td>
<td class="cellalignment5900" headers="r15c1-t24 r1c3-t24">46476</td>
<td class="cellalignment5900" headers="r15c1-t24 r1c4-t24">50090</td>
<td class="cellalignment5900" headers="r15c1-t24 r1c5-t24">-3614</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t24" headers="r1c1-t24"><code>Oct-05</code></td>
<td class="cellalignment5900" headers="r16c1-t24 r1c2-t24">CY2005.Q4</td>
<td class="cellalignment5900" headers="r16c1-t24 r1c3-t24">47476</td>
<td class="cellalignment5900" headers="r16c1-t24 r1c4-t24">47776</td>
<td class="cellalignment5900" headers="r16c1-t24 r1c5-t24">-300</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t24" headers="r1c1-t24"><code>Nov-05</code></td>
<td class="cellalignment5900" headers="r17c1-t24 r1c2-t24">CY2005.Q4</td>
<td class="cellalignment5900" headers="r17c1-t24 r1c3-t24">47496</td>
<td class="cellalignment5900" headers="r17c1-t24 r1c4-t24">47695</td>
<td class="cellalignment5900" headers="r17c1-t24 r1c5-t24">-199</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t24" headers="r1c1-t24"><code>Dec-05</code></td>
<td class="cellalignment5900" headers="r18c1-t24 r1c2-t24">CY2005.Q4</td>
<td class="cellalignment5900" headers="r18c1-t24 r1c3-t24">50090</td>
<td class="cellalignment5900" headers="r18c1-t24 r1c4-t24">51348</td>
<td class="cellalignment5900" headers="r18c1-t24 r1c5-t24">-1258</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref231"></a>Related Topics</p>
<p><a href="#CIHIEIEA">LAG</a>, <a href="#CIHGEABE">LEAD</a>, <a href="#CIHDAEBF">LEAD_VARIANCE_PERCENT</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHDAEBF"></a>
<div id="OLAXS293" class="refsect1">
<h2 class="refsect1">LEAD_VARIANCE_PERCENT</h2>
<p><code>LEAD_VARIANCE_PERCENT</code> returns the percent difference between values for the current time period and the offset period.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref232"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref233"></a>Syntax</p>
<pre><span class="bold">LEAD_VARIANCE_PERCENT (</span>lead_args<span class="bold">) OVER (</span>lead_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lead_args</span>::=</p>
<pre>expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lead_clause</span>::=</p>
<pre>[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                     | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                     }
       }
  [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref234"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS294"></a><a id="sthref235"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS295"></a><a id="sthref236"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count forward from the current time period.</p>
<p class="subhead2"><a id="OLAXS296"></a><a id="sthref237"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting forward.</p>
<p class="subhead2"><a id="OLAXS297"></a><a id="sthref238"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lead is calculated.</p>
<p class="subhead2"><a id="OLAXS298"></a><a id="sthref239"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lead is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS299"></a><a id="sthref240"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS300"></a><a id="sthref241"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS301"></a><a id="sthref242"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LEAD_VARIANCE_PERCENT Offset Units" summary="Offset units in LEAD BY clause" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t25">Offset Unit</th>
<th class="cellalignment5906" id="r1c2-t25">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t25" headers="r1c1-t25"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t25 r1c2-t25">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods after the current member. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t25" headers="r1c1-t25"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t25 r1c2-t25">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods after the current member.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t25" headers="r1c1-t25"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t25 r1c2-t25">The period at the same level with a start date exactly <code>offset</code> years after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t25" headers="r1c1-t25"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t25" headers="r1c1-t25"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t25" headers="r1c1-t25"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t25" headers="r1c1-t25"><code>GREGORIAN DAY</code></td>
<td class="cellalignment5900" headers="r8c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days after the start date of the current period.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t25" headers="r1c1-t25"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r9c1-t25 r1c2-t25">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions after the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref243"></a>Example</p>
<p>This calculation returns the percent difference between the current value and the value of the next time period based on calendar quarter. The sample output from this calculation appears in the Percent column.</p>
<p><code>LEAD_VARIANCE_PERCENT (GLOBAL.UNITS_CUBE.UNITS, 1, CLOSEST) OVER (DIMENSION GLOBAL.TIME BY ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_QUARTER)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="LEAD_VARIANCE_PERCENT Example" summary="Output from LEAD_VARIANCE_PERCENT example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t26">Time</th>
<th class="cellalignment5906" id="r1c2-t26">Parent</th>
<th class="cellalignment5906" id="r1c3-t26">Units</th>
<th class="cellalignment5906" id="r1c4-t26">Next Qtr</th>
<th class="cellalignment5906" id="r1c5-t26">Difference</th>
<th class="cellalignment5906" id="r1c6-t26">Percent</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t26" headers="r1c1-t26"><code>2005</code></td>
<td class="cellalignment5900" headers="r2c1-t26 r1c2-t26">TOTAL</td>
<td class="cellalignment5900" headers="r2c1-t26 r1c3-t26">565718</td>
<td class="cellalignment5900" headers="r2c1-t26 r1c4-t26">--</td>
<td class="cellalignment5900" headers="r2c1-t26 r1c5-t26">--</td>
<td class="cellalignment5900" headers="r2c1-t26 r1c6-t26">--</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t26" headers="r1c1-t26"><code>Q1-05</code></td>
<td class="cellalignment5900" headers="r3c1-t26 r1c2-t26">CY2005</td>
<td class="cellalignment5900" headers="r3c1-t26 r1c3-t26">143607</td>
<td class="cellalignment5900" headers="r3c1-t26 r1c4-t26">138096</td>
<td class="cellalignment5900" headers="r3c1-t26 r1c5-t26">5511</td>
<td class="cellalignment5900" headers="r3c1-t26 r1c6-t26">.04</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t26" headers="r1c1-t26"><code>Q2-05</code></td>
<td class="cellalignment5900" headers="r4c1-t26 r1c2-t26">CY2005</td>
<td class="cellalignment5900" headers="r4c1-t26 r1c3-t26">138096</td>
<td class="cellalignment5900" headers="r4c1-t26 r1c4-t26">138953</td>
<td class="cellalignment5900" headers="r4c1-t26 r1c5-t26">-857</td>
<td class="cellalignment5900" headers="r4c1-t26 r1c6-t26">-.01</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t26" headers="r1c1-t26"><code>Q3-05</code></td>
<td class="cellalignment5900" headers="r5c1-t26 r1c2-t26">CY2005</td>
<td class="cellalignment5900" headers="r5c1-t26 r1c3-t26">138953</td>
<td class="cellalignment5900" headers="r5c1-t26 r1c4-t26">145062</td>
<td class="cellalignment5900" headers="r5c1-t26 r1c5-t26">-6109</td>
<td class="cellalignment5900" headers="r5c1-t26 r1c6-t26">-.04</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t26" headers="r1c1-t26"><code>Q4-05</code></td>
<td class="cellalignment5900" headers="r6c1-t26 r1c2-t26">CY2005</td>
<td class="cellalignment5900" headers="r6c1-t26 r1c3-t26">145062</td>
<td class="cellalignment5900" headers="r6c1-t26 r1c4-t26">146819</td>
<td class="cellalignment5900" headers="r6c1-t26 r1c5-t26">-1757</td>
<td class="cellalignment5900" headers="r6c1-t26 r1c6-t26">-.01</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t26" headers="r1c1-t26"><code>Jan-05</code></td>
<td class="cellalignment5900" headers="r7c1-t26 r1c2-t26">CY2005.Q1</td>
<td class="cellalignment5900" headers="r7c1-t26 r1c3-t26">50098</td>
<td class="cellalignment5900" headers="r7c1-t26 r1c4-t26">40223</td>
<td class="cellalignment5900" headers="r7c1-t26 r1c5-t26">9875</td>
<td class="cellalignment5900" headers="r7c1-t26 r1c6-t26">.25</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t26" headers="r1c1-t26"><code>Feb-05</code></td>
<td class="cellalignment5900" headers="r8c1-t26 r1c2-t26">CY2005.Q1</td>
<td class="cellalignment5900" headers="r8c1-t26 r1c3-t26">43990</td>
<td class="cellalignment5900" headers="r8c1-t26 r1c4-t26">45477</td>
<td class="cellalignment5900" headers="r8c1-t26 r1c5-t26">-1487</td>
<td class="cellalignment5900" headers="r8c1-t26 r1c6-t26">-.03</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t26" headers="r1c1-t26"><code>Mar-05</code></td>
<td class="cellalignment5900" headers="r9c1-t26 r1c2-t26">CY2005.Q1</td>
<td class="cellalignment5900" headers="r9c1-t26 r1c3-t26">49519</td>
<td class="cellalignment5900" headers="r9c1-t26 r1c4-t26">52396</td>
<td class="cellalignment5900" headers="r9c1-t26 r1c5-t26">-2877</td>
<td class="cellalignment5900" headers="r9c1-t26 r1c6-t26">-.05</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t26" headers="r1c1-t26"><code>Apr-05</code></td>
<td class="cellalignment5900" headers="r10c1-t26 r1c2-t26">CY2005.Q2</td>
<td class="cellalignment5900" headers="r10c1-t26 r1c3-t26">40223</td>
<td class="cellalignment5900" headers="r10c1-t26 r1c4-t26">45595</td>
<td class="cellalignment5900" headers="r10c1-t26 r1c5-t26">-5372</td>
<td class="cellalignment5900" headers="r10c1-t26 r1c6-t26">-.12</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t26" headers="r1c1-t26"><code>May-05</code></td>
<td class="cellalignment5900" headers="r11c1-t26 r1c2-t26">CY2005.Q2</td>
<td class="cellalignment5900" headers="r11c1-t26 r1c3-t26">45477</td>
<td class="cellalignment5900" headers="r11c1-t26 r1c4-t26">46882</td>
<td class="cellalignment5900" headers="r11c1-t26 r1c5-t26">-1405</td>
<td class="cellalignment5900" headers="r11c1-t26 r1c6-t26">-.03</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t26" headers="r1c1-t26"><code>Jun-05</code></td>
<td class="cellalignment5900" headers="r12c1-t26 r1c2-t26">CY2005.Q2</td>
<td class="cellalignment5900" headers="r12c1-t26 r1c3-t26">52396</td>
<td class="cellalignment5900" headers="r12c1-t26 r1c4-t26">46476</td>
<td class="cellalignment5900" headers="r12c1-t26 r1c5-t26">5920</td>
<td class="cellalignment5900" headers="r12c1-t26 r1c6-t26">.13</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t26" headers="r1c1-t26"><code>Jul-05</code></td>
<td class="cellalignment5900" headers="r13c1-t26 r1c2-t26">CY2005.Q3</td>
<td class="cellalignment5900" headers="r13c1-t26 r1c3-t26">45595</td>
<td class="cellalignment5900" headers="r13c1-t26 r1c4-t26">47476</td>
<td class="cellalignment5900" headers="r13c1-t26 r1c5-t26">-1881</td>
<td class="cellalignment5900" headers="r13c1-t26 r1c6-t26">-.04</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r14c1-t26" headers="r1c1-t26"><code>Aug-05</code></td>
<td class="cellalignment5900" headers="r14c1-t26 r1c2-t26">CY2005.Q3</td>
<td class="cellalignment5900" headers="r14c1-t26 r1c3-t26">46882</td>
<td class="cellalignment5900" headers="r14c1-t26 r1c4-t26">47496</td>
<td class="cellalignment5900" headers="r14c1-t26 r1c5-t26">-614</td>
<td class="cellalignment5900" headers="r14c1-t26 r1c6-t26">-.01</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r15c1-t26" headers="r1c1-t26"><code>Sep-05</code></td>
<td class="cellalignment5900" headers="r15c1-t26 r1c2-t26">CY2005.Q3</td>
<td class="cellalignment5900" headers="r15c1-t26 r1c3-t26">46476</td>
<td class="cellalignment5900" headers="r15c1-t26 r1c4-t26">50090</td>
<td class="cellalignment5900" headers="r15c1-t26 r1c5-t26">-3614</td>
<td class="cellalignment5900" headers="r15c1-t26 r1c6-t26">-.07</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r16c1-t26" headers="r1c1-t26"><code>Oct-05</code></td>
<td class="cellalignment5900" headers="r16c1-t26 r1c2-t26">CY2005.Q4</td>
<td class="cellalignment5900" headers="r16c1-t26 r1c3-t26">47476</td>
<td class="cellalignment5900" headers="r16c1-t26 r1c4-t26">47776</td>
<td class="cellalignment5900" headers="r16c1-t26 r1c5-t26">-300</td>
<td class="cellalignment5900" headers="r16c1-t26 r1c6-t26">-.01</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r17c1-t26" headers="r1c1-t26"><code>Nov-05</code></td>
<td class="cellalignment5900" headers="r17c1-t26 r1c2-t26">CY2005.Q4</td>
<td class="cellalignment5900" headers="r17c1-t26 r1c3-t26">47496</td>
<td class="cellalignment5900" headers="r17c1-t26 r1c4-t26">47695</td>
<td class="cellalignment5900" headers="r17c1-t26 r1c5-t26">-199</td>
<td class="cellalignment5900" headers="r17c1-t26 r1c6-t26">0</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r18c1-t26" headers="r1c1-t26"><code>Dec-05</code></td>
<td class="cellalignment5900" headers="r18c1-t26 r1c2-t26">CY2005.Q4</td>
<td class="cellalignment5900" headers="r18c1-t26 r1c3-t26">50090</td>
<td class="cellalignment5900" headers="r18c1-t26 r1c4-t26">51348</td>
<td class="cellalignment5900" headers="r18c1-t26 r1c5-t26">-1258</td>
<td class="cellalignment5900" headers="r18c1-t26 r1c6-t26">-.02</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref244"></a>Related Topics</p>
<p><a href="#CIHIEIEA">LAG</a>, <a href="#CIHGEABE">LEAD</a>, <a href="#CIHBGJED">LEAD_VARIANCE</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHHDFFE"></a>
<div id="OLAXS302" class="refsect1">
<h2 class="refsect1">MAX</h2>
<p><code>MAX</code> returns the largest of a selection of data values calculated over a Time dimension.</p>
<p>The <code>GREGORIAN</code> relations superimpose the Gregorian calendar on the Time dimension. These relations can be useful for calculations on fiscal and nonstandard hierarchies.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref245"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref246"></a>Syntax</p>
<pre><span class="bold">MAX (</span>value_expr<span class="bold">) OVER (</span>window_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">window_clause</span>::=</p>
<pre>[ { <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id } ]
    <span class="bold">BETWEEN</span> preceding_boundary | following_boundary 
     [<span class="bold">WITHIN</span> { <span class="bold">PARENT</span>
             | <span class="bold">LEVEL</span>
             | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span>}
             | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL </span>dim_level_id
                           | <span class="bold">HIERARCHY LEVEL</span> hier_level_id 
                           }
             }
     ]
</pre>
<p><span class="bolditalic">preceding_boundary</span>::=</p>
<pre>{<span class="bold">UNBOUNDED PRECEDING</span> | expression <span class="bold">PRECEDING</span>} <span class="bold">AND</span> 
   { <span class="bold">CURRENT MEMBER</span> 
   | expression {<span class="bold">PRECEDING</span> | <span class="bold">FOLLOWING</span>}
   | <span class="bold">UNBOUNDED FOLLOWING</span>
   }
</pre>
<p><span class="bolditalic">following_boundary</span>::=</p>
<pre>{<span class="bold">CURRENT MEMBER</span> | expression <span class="bold">FOLLOWING</span>} <span class="bold">AND</span>
  { expression <span class="bold">FOLLOWING</span> 
  | <span class="bold">UNBOUNDED FOLLOWING</span>
  }
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref247"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS303"></a><a id="sthref248"></a><span class="italic">value_expr</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS304"></a><a id="sthref249"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS305"></a><a id="sthref250"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS306"></a><a id="sthref251"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS307"></a><a id="sthref252"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS308"></a><a id="sthref253"></a><span class="italic">boundaries</span></p>
<p>The <span class="italic">preceding_boundary</span> and <span class="italic">following_boundary</span> identify a range of time periods within the group identified by the dimension or hierarchy.</p>
<p><code>UNBOUNDED</code> starts with the first period or ends with the last period of the group.</p>
<p><code>CURRENT MEMBER</code> starts or ends the calculation at the current time period.</p>
<p class="subhead2"><a id="OLAXS309"></a><a id="sthref254"></a><span class="italic">expression</span></p>
<p>A numeric value identifying a period at a particular distance from the current time period that starts or ends the range.</p>
<p class="subhead2"><a id="OLAXS310"></a><a id="sthref255"></a>WITHIN subclause</p>
<p>Identifies the range of time periods used in the calculation. Following are descriptions of the keywords.</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="MAX Windowing Keywords" summary="Windowing keyword descriptions" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t27">Range</th>
<th class="cellalignment5906" id="r1c2-t27">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t27" headers="r1c1-t27"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t27 r1c2-t27">Calculates all time periods at the same level. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t27" headers="r1c1-t27"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t27 r1c2-t27">Calculates time periods at the same level with the same parent.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t27" headers="r1c1-t27"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t27 r1c2-t27">Calculates time periods within the same Gregorian year.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t27" headers="r1c1-t27"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t27 r1c2-t27">Calculates time periods within the same Gregorian quarter.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t27" headers="r1c1-t27"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t27 r1c2-t27">Calculates time periods within the same Gregorian month.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t27" headers="r1c1-t27"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t27 r1c2-t27">Calculates time periods within the same Gregorian week.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t27" headers="r1c1-t27"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r8c1-t27 r1c2-t27">Includes time periods at the same level and with the same ancestor at a specified level.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref256"></a>Example</p>
<p>This example calculates a moving maximum within the calendar year.</p>
<p><code>MAX(GLOBAL.UNITS_CUBE.UNITS) OVER (DIMENSION GLOBAL.TIME BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER WITHIN ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="MAX Example" summary="Output from MAX example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t28">Time</th>
<th class="cellalignment5906" id="r1c2-t28">Units</th>
<th class="cellalignment5906" id="r1c3-t28">Maximum</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t28" headers="r1c1-t28">JAN-06</td>
<td class="cellalignment5900" headers="r2c1-t28 r1c2-t28">47776</td>
<td class="cellalignment5900" headers="r2c1-t28 r1c3-t28">47776</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t28" headers="r1c1-t28">FEB-06</td>
<td class="cellalignment5900" headers="r3c1-t28 r1c2-t28">47695</td>
<td class="cellalignment5900" headers="r3c1-t28 r1c3-t28">47776</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t28" headers="r1c1-t28">MAR-06</td>
<td class="cellalignment5900" headers="r4c1-t28 r1c2-t28">51348</td>
<td class="cellalignment5900" headers="r4c1-t28 r1c3-t28">51348</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t28" headers="r1c1-t28">APR-06</td>
<td class="cellalignment5900" headers="r5c1-t28 r1c2-t28">47005</td>
<td class="cellalignment5900" headers="r5c1-t28 r1c3-t28">51348</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t28" headers="r1c1-t28">MAY-06</td>
<td class="cellalignment5900" headers="r6c1-t28 r1c2-t28">52809</td>
<td class="cellalignment5900" headers="r6c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t28" headers="r1c1-t28">JUN-06</td>
<td class="cellalignment5900" headers="r7c1-t28 r1c2-t28">45419</td>
<td class="cellalignment5900" headers="r7c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t28" headers="r1c1-t28">JUL-06</td>
<td class="cellalignment5900" headers="r8c1-t28 r1c2-t28">48388</td>
<td class="cellalignment5900" headers="r8c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t28" headers="r1c1-t28">AUG-06</td>
<td class="cellalignment5900" headers="r9c1-t28 r1c2-t28">48830</td>
<td class="cellalignment5900" headers="r9c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t28" headers="r1c1-t28">SEP-06</td>
<td class="cellalignment5900" headers="r10c1-t28 r1c2-t28">46354</td>
<td class="cellalignment5900" headers="r10c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t28" headers="r1c1-t28">OCT-06</td>
<td class="cellalignment5900" headers="r11c1-t28 r1c2-t28">47411</td>
<td class="cellalignment5900" headers="r11c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t28" headers="r1c1-t28">NOV-06</td>
<td class="cellalignment5900" headers="r12c1-t28 r1c2-t28">46842</td>
<td class="cellalignment5900" headers="r12c1-t28 r1c3-t28">52809</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t28" headers="r1c1-t28">DEC-06</td>
<td class="cellalignment5900" headers="r13c1-t28 r1c2-t28">55052</td>
<td class="cellalignment5900" headers="r13c1-t28 r1c3-t28">55052</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref257"></a>Related Topics</p>
<p><a href="#CIHJEIIJ">AVG</a>, <a href="#CIHFFDEI">COUNT</a>, <a href="#CIHBDDCJ">MIN</a>, <a href="#CIHFEEIF">SUM</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHBDDCJ"></a>
<div id="OLAXS311" class="refsect1">
<h2 class="refsect1">MIN</h2>
<p><code>MIN</code> returns the smallest of a selection of data values calculated over a Time dimension.</p>
<p>The <code>GREGORIAN</code> relations superimpose the Gregorian calendar on the Time dimension. These relations can be useful for calculations on fiscal and nonstandard hierarchies.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref258"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref259"></a>Syntax</p>
<pre><span class="bold">MIN (</span>value_expr<span class="bold">) OVER (</span>window_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">window_clause</span>::=</p>
<pre>[ { <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id } ]
    <span class="bold">BETWEEN</span> preceding_boundary | following_boundary 
     [<span class="bold">WITHIN</span> { <span class="bold">LEVEL</span>
             | <span class="bold">PARENT</span>
             | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span>}
             | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL </span>dim_level_id
                           | <span class="bold">HIERARCHY LEVEL</span> hier_level_id 
                           }
             }
     ]
</pre>
<p><span class="bolditalic">preceding_boundary</span>::=</p>
<pre>{<span class="bold">UNBOUNDED PRECEDING</span> | expression <span class="bold">PRECEDING</span>} <span class="bold">AND</span> 
   { <span class="bold">CURRENT MEMBER</span> 
   | expression {<span class="bold">PRECEDING</span> | <span class="bold">FOLLOWING</span>}
   | <span class="bold">UNBOUNDED FOLLOWING</span>
   }
</pre>
<p><span class="bolditalic">following_boundary</span>::=</p>
<pre>{<span class="bold">CURRENT MEMBER</span> | expression <span class="bold">FOLLOWING</span>} <span class="bold">AND</span>
  { expression <span class="bold">FOLLOWING</span> 
  | <span class="bold">UNBOUNDED FOLLOWING</span>
  }
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref260"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS312"></a><a id="sthref261"></a><span class="italic">value_expr</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS313"></a><a id="sthref262"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS314"></a><a id="sthref263"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS315"></a><a id="sthref264"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS316"></a><a id="sthref265"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS317"></a><a id="sthref266"></a><span class="italic">boundaries</span></p>
<p>The <span class="italic">preceding_boundary</span> and <span class="italic">following_boundary</span> identify a range of time periods within the group identified by the dimension or hierarchy.</p>
<p><code>UNBOUNDED</code> starts with the first period or ends with the last period of the group.</p>
<p><code>CURRENT MEMBER</code> starts or ends the calculation at the current time period.</p>
<p class="subhead2"><a id="OLAXS318"></a><a id="sthref267"></a><span class="italic">expression</span></p>
<p>A numeric value identifying a period at a particular distance from the current time period that starts or ends the range.</p>
<p class="subhead2"><a id="OLAXS319"></a><a id="sthref268"></a>WITHIN subclause</p>
<p>Identifies the range of time periods used in the calculation. Following are descriptions of the keywords.</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="MIN Windowing Keywords" summary="Windowing keyword descriptions" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t29">Range</th>
<th class="cellalignment5906" id="r1c2-t29">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t29" headers="r1c1-t29"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t29 r1c2-t29">Calculates all time periods at the same level. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t29" headers="r1c1-t29"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t29 r1c2-t29">Calculates time periods at the same level with the same parent.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t29" headers="r1c1-t29"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t29 r1c2-t29">Calculates time periods within the same Gregorian year.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t29" headers="r1c1-t29"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t29 r1c2-t29">Calculates time periods within the same Gregorian quarter.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t29" headers="r1c1-t29"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t29 r1c2-t29">Calculates time periods within the same Gregorian month.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t29" headers="r1c1-t29"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t29 r1c2-t29">Calculates time periods within the same Gregorian week.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t29" headers="r1c1-t29"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r8c1-t29 r1c2-t29">Includes time periods at the same level and with the same ancestor at a specified level.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref269"></a>Example</p>
<p>This example calculates the minimum value between the current member and all subsequent members in the same calendar year. The selection of the data displays the minimum values for the months in 2006.</p>
<p><code>MIN(GLOBAL.UNITS_CUBE.UNITS) OVER (DIMENSION GLOBAL.TIME BETWEEN CURRENT MEMBER AND UNBOUNDED FOLLOWING WITHIN ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="MIN Example" summary="Output from MIN example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t30">Time</th>
<th class="cellalignment5906" id="r1c2-t30">Units</th>
<th class="cellalignment5906" id="r1c3-t30">Minimum</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t30" headers="r1c1-t30">JAN-06</td>
<td class="cellalignment5900" headers="r2c1-t30 r1c2-t30">47776</td>
<td class="cellalignment5900" headers="r2c1-t30 r1c3-t30">45419</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t30" headers="r1c1-t30">FEB-06</td>
<td class="cellalignment5900" headers="r3c1-t30 r1c2-t30">47695</td>
<td class="cellalignment5900" headers="r3c1-t30 r1c3-t30">45419</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t30" headers="r1c1-t30">MAR-06</td>
<td class="cellalignment5900" headers="r4c1-t30 r1c2-t30">51348</td>
<td class="cellalignment5900" headers="r4c1-t30 r1c3-t30">45419</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t30" headers="r1c1-t30">APR-06</td>
<td class="cellalignment5900" headers="r5c1-t30 r1c2-t30">47005</td>
<td class="cellalignment5900" headers="r5c1-t30 r1c3-t30">45419</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t30" headers="r1c1-t30">MAY-06</td>
<td class="cellalignment5900" headers="r6c1-t30 r1c2-t30">52809</td>
<td class="cellalignment5900" headers="r6c1-t30 r1c3-t30">45419</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t30" headers="r1c1-t30">JUN-06</td>
<td class="cellalignment5900" headers="r7c1-t30 r1c2-t30">45419</td>
<td class="cellalignment5900" headers="r7c1-t30 r1c3-t30">45419</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t30" headers="r1c1-t30">JUL-06</td>
<td class="cellalignment5900" headers="r8c1-t30 r1c2-t30">48388</td>
<td class="cellalignment5900" headers="r8c1-t30 r1c3-t30">46354</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t30" headers="r1c1-t30">AUG-06</td>
<td class="cellalignment5900" headers="r9c1-t30 r1c2-t30">48830</td>
<td class="cellalignment5900" headers="r9c1-t30 r1c3-t30">46354</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t30" headers="r1c1-t30">SEP-06</td>
<td class="cellalignment5900" headers="r10c1-t30 r1c2-t30">46354</td>
<td class="cellalignment5900" headers="r10c1-t30 r1c3-t30">46354</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t30" headers="r1c1-t30">OCT-06</td>
<td class="cellalignment5900" headers="r11c1-t30 r1c2-t30">47411</td>
<td class="cellalignment5900" headers="r11c1-t30 r1c3-t30">46842</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t30" headers="r1c1-t30">NOV-06</td>
<td class="cellalignment5900" headers="r12c1-t30 r1c2-t30">46842</td>
<td class="cellalignment5900" headers="r12c1-t30 r1c3-t30">46842</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t30" headers="r1c1-t30">DEC-06</td>
<td class="cellalignment5900" headers="r13c1-t30 r1c2-t30">55052</td>
<td class="cellalignment5900" headers="r13c1-t30 r1c3-t30">55052</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref270"></a>Related Topics</p>
<p><a href="#CIHJEIIJ">AVG</a>, <a href="#CIHFFDEI">COUNT</a>, <a href="#CIHHDFFE">MAX</a>, <a href="#CIHFEEIF">SUM</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHCBHJF"></a>
<div id="OLAXS320" class="refsect1">
<h2 class="refsect1">OLAP_DML_EXPRESSION</h2>
<p><code>OLAP_DML_EXPRESSION</code> executes an expression in the OLAP DML language.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref271"></a>Return Value</p>
<p>The data type specified in the syntax</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref272"></a>Syntax</p>
<pre><span class="bold">OLAP_DML_EXPRESSION (</span>expression, datatype<span class="bold">)</span>
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref273"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS321"></a><a id="sthref274"></a><span class="italic">expression</span></p>
<p>An expression in the OLAP DML language, such as a call to a function or a program.</p>
<p class="subhead2"><a id="OLAXS322"></a><a id="sthref275"></a><span class="italic">datatype</span></p>
<p>The data type of the return value from <code><span class="codeinlineitalic">expression</span></code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref276"></a>Example</p>
<p>In this example, the <code>OLAP_DML_EXPRESSION</code> function executes the OLAP DML <code>RANDOM</code> function to generate a calculated measure with random numbers between 1.05 and 1.10.</p>
<p><code>OLAP_DML_EXPRESSION(&#39;RANDOM(1.05, 1.10)&#39;, NUMBER)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="OLAP_DML_Expression Example" summary="Output from OLAP_DML_Expression example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t31">Time</th>
<th class="cellalignment5906" id="r1c2-t31">Product</th>
<th class="cellalignment5906" id="r1c3-t31">Random</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t31" headers="r1c1-t31">2005</td>
<td class="cellalignment5900" headers="r2c1-t31 r1c2-t31">Hardware</td>
<td class="cellalignment5900" headers="r2c1-t31 r1c3-t31">1.07663806</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t31" headers="r1c1-t31">2005</td>
<td class="cellalignment5900" headers="r3c1-t31 r1c2-t31">Software/Other</td>
<td class="cellalignment5900" headers="r3c1-t31 r1c3-t31">1.08295738</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t31" headers="r1c1-t31">2006</td>
<td class="cellalignment5900" headers="r4c1-t31 r1c2-t31">Hardware</td>
<td class="cellalignment5900" headers="r4c1-t31 r1c3-t31">1.08707305</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t31" headers="r1c1-t31">2006</td>
<td class="cellalignment5900" headers="r5c1-t31 r1c2-t31">Software/Other</td>
<td class="cellalignment5900" headers="r5c1-t31 r1c3-t31">1.09730881</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHCBHFG"></a>
<div id="OLAXS323" class="refsect1">
<h2 class="refsect1">RANK</h2>
<p><code>RANK</code> orders the members of a dimension based on the values of an expression. The function returns the sequence numbers of the dimension members.</p>
<p><code>RANK</code> assigns the same rank to identical values. For example, <code>RANK</code> may return 1, 2, 3, 3, 5 for a series of five dimension members.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref277"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref278"></a>Syntax</p>
<pre><span class="bold">RANK ( ) OVER (</span>rank_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">rank_clause</span>::=</p>
<pre>{ <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id }
  <span class="bold">ORDER BY</span> order_by_clause [<span class="bold">,</span> order_by_clause]...
  [ <span class="bold">WITHIN</span> { <span class="bold">PARENT</span> 
           | <span class="bold">LEVEL</span> 
           |<span class="bold"> ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_lvl_id
                         |<span class="bold"> HIERARCHY LEVEL</span> hier_level_id
                         }
           }
  ]
</pre>
<p><span class="bolditalic">order_by_clause</span>::=</p>
<pre>expression [<span class="bold">ASC</span> | <span class="bold">DESC</span>] [<span class="bold">NULLS</span> {<span class="bold">FIRST</span> | <span class="bold">LAST</span>}] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref279"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS324"></a><a id="sthref280"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS325"></a><a id="sthref281"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, then the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS326"></a><a id="sthref282"></a>ORDER BY</p>
<p>Provides the basis for the ranking. You can provide additional <code>ORDER BY</code> clauses to break any ties in the order.</p>
<p class="subhead2"><a id="OLAXS327"></a><a id="sthref283"></a>expression</p>
<p>Provides the values to use as the basis for the rankings.</p>
<p class="subhead2"><a id="OLAXS328"></a><a id="sthref284"></a>ASC | DESC</p>
<p>Sorts the ranking from smallest to largest (ascending) or from largest to smallest (descending).</p>
<p class="subhead2"><a id="OLAXS329"></a><a id="sthref285"></a>NULLS {FIRST | LAST}</p>
<p>Determines whether members with null values are listed first or last.</p>
<p class="subhead2"><a id="OLAXS330"></a><a id="sthref286"></a>WITHIN</p>
<p>Selects a set of related dimension members to be ranked.</p>
<p><code>PARENT</code> ranks members at the same level with the same parent.</p>
<p><code>LEVEL</code> ranks all members at the same level.</p>
<p><code>ANCESTOR</code> ranks all members at the same level and with the same ancestor at a specified level.</p>
<p class="subhead2"><a id="OLAXS331"></a><a id="sthref287"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS332"></a><a id="sthref288"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref289"></a>Example</p>
<p>This example ranks time periods within a calendar year by Unit Cost. Notice that no month is ranked 7, because two months (JAN-02 and JUL-02) have the same value and the same rank (6).</p>
<p><code>RANK() OVER (DIMENSION TIME.CALENDAR ORDER BY PRICE_CUBE.UNIT_COST DESC NULLS LAST WITHIN ANCESTOR AT DIMENSION LEVEL TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="RANK Example" summary="Output from RANK example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t32">Product</th>
<th class="cellalignment5906" id="r1c2-t32">Time</th>
<th class="cellalignment5906" id="r1c3-t32">Cost</th>
<th class="cellalignment5906" id="r1c4-t32">Rank</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r2c1-t32 r1c2-t32">MAR-02</td>
<td class="cellalignment5900" headers="r2c1-t32 r1c3-t32">24.05</td>
<td class="cellalignment5900" headers="r2c1-t32 r1c4-t32">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r3c1-t32 r1c2-t32">APR-02</td>
<td class="cellalignment5900" headers="r3c1-t32 r1c3-t32">23.95</td>
<td class="cellalignment5900" headers="r3c1-t32 r1c4-t32">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r4c1-t32 r1c2-t32">FEB-02</td>
<td class="cellalignment5900" headers="r4c1-t32 r1c3-t32">23.94</td>
<td class="cellalignment5900" headers="r4c1-t32 r1c4-t32">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r5c1-t32 r1c2-t32">AUG-02</td>
<td class="cellalignment5900" headers="r5c1-t32 r1c3-t32">23.88</td>
<td class="cellalignment5900" headers="r5c1-t32 r1c4-t32">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r6c1-t32 r1c2-t32">MAY-02</td>
<td class="cellalignment5900" headers="r6c1-t32 r1c3-t32">23.84</td>
<td class="cellalignment5900" headers="r6c1-t32 r1c4-t32">5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r7c1-t32 r1c2-t32">JAN-02</td>
<td class="cellalignment5900" headers="r7c1-t32 r1c3-t32">23.73</td>
<td class="cellalignment5900" headers="r7c1-t32 r1c4-t32">6</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r8c1-t32 r1c2-t32">JUL-02</td>
<td class="cellalignment5900" headers="r8c1-t32 r1c3-t32">23.73</td>
<td class="cellalignment5900" headers="r8c1-t32 r1c4-t32">6</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r9c1-t32 r1c2-t32">JUN-02</td>
<td class="cellalignment5900" headers="r9c1-t32 r1c3-t32">23.72</td>
<td class="cellalignment5900" headers="r9c1-t32 r1c4-t32">8</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r10c1-t32 r1c2-t32">SEP-02</td>
<td class="cellalignment5900" headers="r10c1-t32 r1c3-t32">23.71</td>
<td class="cellalignment5900" headers="r10c1-t32 r1c4-t32">9</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r11c1-t32 r1c2-t32">NOV-02</td>
<td class="cellalignment5900" headers="r11c1-t32 r1c3-t32">23.65</td>
<td class="cellalignment5900" headers="r11c1-t32 r1c4-t32">10</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r12c1-t32 r1c2-t32">DEC-02</td>
<td class="cellalignment5900" headers="r12c1-t32 r1c3-t32">23.62</td>
<td class="cellalignment5900" headers="r12c1-t32 r1c4-t32">11</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t32" headers="r1c1-t32">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r13c1-t32 r1c2-t32">OCT-02</td>
<td class="cellalignment5900" headers="r13c1-t32 r1c3-t32">23.37</td>
<td class="cellalignment5900" headers="r13c1-t32 r1c4-t32">12</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref290"></a>Related Topics</p>
<p><a href="#CIHIGDAG">AVERAGE_RANK</a>, <a href="#CIHFFJAC">DENSE_RANK</a>, <a href="#CIHDCBFD">ROW_NUMBER</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHDCBFD"></a>
<div id="OLAXS333" class="refsect1">
<h2 class="refsect1">ROW_NUMBER</h2>
<p><code>ROW_NUMBER</code> orders the members of a dimension based on the values of an expression. The function returns the sequence numbers of the dimension members.</p>
<p><code>ROW_NUMBER</code> assigns a unique rank to each dimension member; for identical values, the rank is arbitrary. For example, <code>ROW_NUMBER</code> always returns 1, 2, 3, 4, 5 for a series of five dimension members, even when they have the same value.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref291"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref292"></a>Syntax</p>
<pre><span class="bold">ROW_NUMBER ( ) OVER (</span>rank_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">rank_clause</span>::=</p>
<pre>{ <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id }
  <span class="bold">ORDER BY</span> order_by_clause [<span class="bold">,</span> order_by_clause]...
  [ <span class="bold">WITHIN</span> { <span class="bold">PARENT</span> 
           | <span class="bold">LEVEL</span> 
           |<span class="bold"> ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_lvl_id
                         |<span class="bold"> HIERARCHY LEVEL</span> hier_level_id
                         }
           }
  ]
</pre>
<p><span class="bolditalic">order_by_clause</span>::=</p>
<pre>expression [<span class="bold">ASC</span> | <span class="bold">DESC</span>] [<span class="bold">NULLS</span> {<span class="bold">FIRST</span> | <span class="bold">LAST</span>}] 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref293"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS334"></a><a id="sthref294"></a><span class="italic">dimension_id</span></p>
<p>The dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS335"></a><a id="sthref295"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, then the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS336"></a><a id="sthref296"></a>ORDER BY</p>
<p>Provides the basis for the ranking. You can provide additional <code>ORDER BY</code> clauses to break any ties in the order.</p>
<p class="subhead2"><a id="OLAXS337"></a><a id="sthref297"></a>expression</p>
<p>Provides the values to use as the basis for the rankings.</p>
<p class="subhead2"><a id="OLAXS338"></a><a id="sthref298"></a>ASC | DESC</p>
<p>Sorts the ranking from smallest to largest (ascending) or from largest to smallest (descending).</p>
<p class="subhead2"><a id="OLAXS339"></a><a id="sthref299"></a>NULLS {FIRST | LAST}</p>
<p>Determines whether members with null values are listed first or last.</p>
<p class="subhead2"><a id="OLAXS340"></a><a id="sthref300"></a>WITHIN</p>
<p>Selects a set of related dimension members to be ranked.</p>
<p><code>PARENT</code> ranks members at the same level with the same parent.</p>
<p><code>LEVEL</code> ranks all members at the same level.</p>
<p><code>ANCESTOR</code> ranks all members at the same level and with the same ancestor at a specified level.</p>
<p class="subhead2"><a id="OLAXS341"></a><a id="sthref301"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS342"></a><a id="sthref302"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref303"></a>Example</p>
<p>This example ranks time periods within a calendar year by Unit Cost. Notice even though two months (JAN-02 and JUL-02) have the same value, they are assigned sequential numbers (6 and 7).</p>
<p><code>ROW_NUMBER() OVER (HIERARCHY TIME.CALENDAR ORDER BY PRICE_CUBE.UNIT_COST DESC NULLS LAST WITHIN ANCESTOR AT DIMENSION LEVEL TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="ROW_NUMBER Example" summary="Output from ROW_NUMBER example" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t33">Product</th>
<th class="cellalignment5906" id="r1c2-t33">Time</th>
<th class="cellalignment5906" id="r1c3-t33">Cost</th>
<th class="cellalignment5906" id="r1c4-t33">Row Number</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r2c1-t33 r1c2-t33">MAR-02</td>
<td class="cellalignment5900" headers="r2c1-t33 r1c3-t33">24.05</td>
<td class="cellalignment5900" headers="r2c1-t33 r1c4-t33">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r3c1-t33 r1c2-t33">APR-02</td>
<td class="cellalignment5900" headers="r3c1-t33 r1c3-t33">23.95</td>
<td class="cellalignment5900" headers="r3c1-t33 r1c4-t33">2</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r4c1-t33 r1c2-t33">FEB-02</td>
<td class="cellalignment5900" headers="r4c1-t33 r1c3-t33">23.94</td>
<td class="cellalignment5900" headers="r4c1-t33 r1c4-t33">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r5c1-t33 r1c2-t33">AUG-02</td>
<td class="cellalignment5900" headers="r5c1-t33 r1c3-t33">23.88</td>
<td class="cellalignment5900" headers="r5c1-t33 r1c4-t33">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r6c1-t33 r1c2-t33">MAY-02</td>
<td class="cellalignment5900" headers="r6c1-t33 r1c3-t33">23.84</td>
<td class="cellalignment5900" headers="r6c1-t33 r1c4-t33">5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r7c1-t33 r1c2-t33">JAN-02</td>
<td class="cellalignment5900" headers="r7c1-t33 r1c3-t33">23.73</td>
<td class="cellalignment5900" headers="r7c1-t33 r1c4-t33">6</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r8c1-t33 r1c2-t33">JUL-02</td>
<td class="cellalignment5900" headers="r8c1-t33 r1c3-t33">23.73</td>
<td class="cellalignment5900" headers="r8c1-t33 r1c4-t33">7</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r9c1-t33 r1c2-t33">JUN-02</td>
<td class="cellalignment5900" headers="r9c1-t33 r1c3-t33">23.72</td>
<td class="cellalignment5900" headers="r9c1-t33 r1c4-t33">8</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r10c1-t33 r1c2-t33">SEP-02</td>
<td class="cellalignment5900" headers="r10c1-t33 r1c3-t33">23.71</td>
<td class="cellalignment5900" headers="r10c1-t33 r1c4-t33">9</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r11c1-t33 r1c2-t33">NOV-02</td>
<td class="cellalignment5900" headers="r11c1-t33 r1c3-t33">23.65</td>
<td class="cellalignment5900" headers="r11c1-t33 r1c4-t33">10</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r12c1-t33 r1c2-t33">DEC-02</td>
<td class="cellalignment5900" headers="r12c1-t33 r1c3-t33">23.62</td>
<td class="cellalignment5900" headers="r12c1-t33 r1c4-t33">11</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r13c1-t33" headers="r1c1-t33">Deluxe Mouse</td>
<td class="cellalignment5900" headers="r13c1-t33 r1c2-t33">OCT-02</td>
<td class="cellalignment5900" headers="r13c1-t33 r1c3-t33">23.37</td>
<td class="cellalignment5900" headers="r13c1-t33 r1c4-t33">12</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref304"></a>Related Topics</p>
<p><a href="#CIHIGDAG">AVERAGE_RANK</a>, <a href="#CIHFFJAC">DENSE_RANK</a>, <a href="#CIHCBHFG">RANK</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHDGJGH"></a>
<div id="OLAXS343" class="refsect1">
<h2 class="refsect1">SHARE</h2>
<p><code>SHARE</code> calculates the ratio of an expression&#39;s value for the current dimension member to the value for a related member of the same dimension. Arguments to this function identify which related member is used in the ratio.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref305"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref306"></a>Syntax</p>
<p><span class="bolditalic">share_expression</span>::=</p>
<pre><span class="bold">SHARE (</span>expression share_clause [share_clause]... <span class="bold">)</span>
 
</pre>
<p><span class="bolditalic">share_clause</span>::=</p>
<pre><span class="bold">OF</span> { <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id }
   { <span class="bold">PARENT</span> 
   | <span class="bold">TOP</span> 
   | <span class="bold">MEMBER</span> &#39;member_name&#39;
   | <span class="bold">DIMENSION LEVEL</span> dim_level_id 
   | <span class="bold">HIERARCHY LEVEL</span> hier_level_id 
   }
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref307"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS344"></a><a id="sthref308"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS345"></a><a id="sthref309"></a><span class="italic">dimension_id</span></p>
<p>A dimension of <code><span class="codeinlineitalic">expression</span></code>. The default hierarchy is used in the calculation. If you want to use a different hierarchy, then use the <code>HIERARCHY</code> argument instead.</p>
<p class="subhead2"><a id="OLAXS346"></a><a id="sthref310"></a><span class="italic">hierarchy_id</span></p>
<p>A level hierarchy of <code><span class="codeinlineitalic">expression</span></code>.</p>
<p class="subhead2"><a id="OLAXS347"></a><a id="sthref311"></a><span class="italic">member_name</span></p>
<p>A member of the specified dimension or hierarchy.</p>
<p class="subhead2"><a id="OLAXS348"></a><a id="sthref312"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS349"></a><a id="sthref313"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p>Share is calculated with these formulas:</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="Share Calculations" summary="Calculations for SHARE keywords" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t34">Keyword</th>
<th class="cellalignment5906" id="r1c2-t34">Formula</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t34" headers="r1c1-t34"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r2c1-t34 r1c2-t34"><span class="italic">current member/parent</span></td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t34" headers="r1c1-t34"><code>TOP</code></td>
<td class="cellalignment5900" headers="r3c1-t34 r1c2-t34"><span class="italic">current member/root ancestor</span></td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t34" headers="r1c1-t34"><code>MEMBER</code></td>
<td class="cellalignment5900" headers="r4c1-t34 r1c2-t34"><span class="italic">current member/specified member</span></td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t34" headers="r1c1-t34"><code>DIMENSION LEVEL</code></td>
<td class="cellalignment5900" headers="r5c1-t34 r1c2-t34"><span class="italic">current member/ancestor at specified level</span> or null if the current member is above the specified level.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref314"></a>Example</p>
<p>This example calculates the percent share of the parent member for each product. The results appear in the Share of Parent column.</p>
<p><code>(SHARE(UNITS_CUBE.SALES OF HIERARCHY PRODUCT.PRIMARY PARENT))*100</code></p>
<p>The next example calculates the percent share of Total Product for each product. The results appear in the Share of Top column.</p>
<p><code>(SHARE(UNITS_CUBE.SALES OF HIERARCHY PRODUCT.PRIMARY TOP))*100</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="SHARE Examples" summary="Output from SHARE examples" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t35">Product</th>
<th class="cellalignment5906" id="r1c2-t35">Parent</th>
<th class="cellalignment5906" id="r1c3-t35">Sales</th>
<th class="cellalignment5906" id="r1c4-t35">Share of Parent</th>
<th class="cellalignment5906" id="r1c5-t35">Share of Top</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t35" headers="r1c1-t35">Desktop PCs</td>
<td class="cellalignment5900" headers="r2c1-t35 r1c2-t35">HRD</td>
<td class="cellalignment5900" headers="r2c1-t35 r1c3-t35">74556528</td>
<td class="cellalignment5900" headers="r2c1-t35 r1c4-t35">60</td>
<td class="cellalignment5900" headers="r2c1-t35 r1c5-t35">54</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t35" headers="r1c1-t35">Portable PCs</td>
<td class="cellalignment5900" headers="r3c1-t35 r1c2-t35">HRD</td>
<td class="cellalignment5900" headers="r3c1-t35 r1c3-t35">18338225</td>
<td class="cellalignment5900" headers="r3c1-t35 r1c4-t35">15</td>
<td class="cellalignment5900" headers="r3c1-t35 r1c5-t35">13</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t35" headers="r1c1-t35">CD/DVD</td>
<td class="cellalignment5900" headers="r4c1-t35 r1c2-t35">HRD</td>
<td class="cellalignment5900" headers="r4c1-t35 r1c3-t35">16129497</td>
<td class="cellalignment5900" headers="r4c1-t35 r1c4-t35">13</td>
<td class="cellalignment5900" headers="r4c1-t35 r1c5-t35">12</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t35" headers="r1c1-t35">Memory</td>
<td class="cellalignment5900" headers="r5c1-t35 r1c2-t35">HRD</td>
<td class="cellalignment5900" headers="r5c1-t35 r1c3-t35">5619219</td>
<td class="cellalignment5900" headers="r5c1-t35 r1c4-t35">5</td>
<td class="cellalignment5900" headers="r5c1-t35 r1c5-t35">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t35" headers="r1c1-t35">Modems/Fax</td>
<td class="cellalignment5900" headers="r6c1-t35 r1c2-t35">HRD</td>
<td class="cellalignment5900" headers="r6c1-t35 r1c3-t35">5575726</td>
<td class="cellalignment5900" headers="r6c1-t35 r1c4-t35">4</td>
<td class="cellalignment5900" headers="r6c1-t35 r1c5-t35">4</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t35" headers="r1c1-t35">Monitors</td>
<td class="cellalignment5900" headers="r7c1-t35 r1c2-t35">HRD</td>
<td class="cellalignment5900" headers="r7c1-t35 r1c3-t35">3972142</td>
<td class="cellalignment5900" headers="r7c1-t35 r1c4-t35">3</td>
<td class="cellalignment5900" headers="r7c1-t35 r1c5-t35">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t35" headers="r1c1-t35">Accessories</td>
<td class="cellalignment5900" headers="r8c1-t35 r1c2-t35">SFT</td>
<td class="cellalignment5900" headers="r8c1-t35 r1c3-t35">6213535</td>
<td class="cellalignment5900" headers="r8c1-t35 r1c4-t35">49</td>
<td class="cellalignment5900" headers="r8c1-t35 r1c5-t35">5</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t35" headers="r1c1-t35">Operating Systems</td>
<td class="cellalignment5900" headers="r9c1-t35 r1c2-t35">SFT</td>
<td class="cellalignment5900" headers="r9c1-t35 r1c3-t35">4766857</td>
<td class="cellalignment5900" headers="r9c1-t35 r1c4-t35">37</td>
<td class="cellalignment5900" headers="r9c1-t35 r1c5-t35">3</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t35" headers="r1c1-t35">Documentation</td>
<td class="cellalignment5900" headers="r10c1-t35 r1c2-t35">SFT</td>
<td class="cellalignment5900" headers="r10c1-t35 r1c3-t35">1814844</td>
<td class="cellalignment5900" headers="r10c1-t35 r1c4-t35">14</td>
<td class="cellalignment5900" headers="r10c1-t35 r1c5-t35">1</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t35" headers="r1c1-t35">Hardware</td>
<td class="cellalignment5900" headers="r11c1-t35 r1c2-t35">TOTAL</td>
<td class="cellalignment5900" headers="r11c1-t35 r1c3-t35">124191336</td>
<td class="cellalignment5900" headers="r11c1-t35 r1c4-t35">91</td>
<td class="cellalignment5900" headers="r11c1-t35 r1c5-t35">91</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t35" headers="r1c1-t35">Software/Other</td>
<td class="cellalignment5900" headers="r12c1-t35 r1c2-t35">TOTAL</td>
<td class="cellalignment5900" headers="r12c1-t35 r1c3-t35">12795236</td>
<td class="cellalignment5900" headers="r12c1-t35 r1c4-t35">9</td>
<td class="cellalignment5900" headers="r12c1-t35 r1c5-t35">9</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CIHFEEIF"></a>
<div id="OLAXS350" class="refsect1">
<h2 class="refsect1">SUM</h2>
<p><code>SUM</code> returns the total of a selection of values calculated over a Time dimension. You can use the <code>SUM</code> function to create period-to-date calculations.</p>
<p>The <code>GREGORIAN</code> relations superimpose the Gregorian calendar on the Time dimension. These relations can be useful for calculations on fiscal and nonstandard hierarchies.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref315"></a>Return Value</p>
<pre>NUMBER
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref316"></a>Syntax</p>
<pre><span class="bold">SUM (</span>value_expr<span class="bold">) OVER (</span>window_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">window_clause</span>::=</p>
<pre>[ { <span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id } ]
    <span class="bold">BETWEEN</span> preceding_boundary | following_boundary 
      [<span class="bold">WITHIN</span> { <span class="bold">PARENT</span>
              | <span class="bold">LEVEL</span>
              | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span>}
              | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL </span>dim_level_id
                            | <span class="bold">HIERARCHY LEVEL</span> hier_level_id 
                            }
              }
      ]
</pre>
<p><span class="bolditalic">preceding_boundary</span>::=</p>
<pre>{<span class="bold">UNBOUNDED PRECEDING</span> | expression <span class="bold">PRECEDING</span>} <span class="bold">AND</span> 
   { <span class="bold">CURRENT MEMBER</span> 
   | expression {<span class="bold">PRECEDING</span> | <span class="bold">FOLLOWING</span>}
   | <span class="bold">UNBOUNDED FOLLOWING</span>
   }
</pre>
<p><span class="bolditalic">following_boundary</span>::=</p>
<pre>{<span class="bold">CURRENT MEMBER</span> | expression <span class="bold">FOLLOWING</span>} <span class="bold">AND</span>
  { expression <span class="bold">FOLLOWING</span> 
  | <span class="bold">UNBOUNDED FOLLOWING</span>
  }
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref317"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS351"></a><a id="sthref318"></a><span class="italic">value_expr</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS352"></a><a id="sthref319"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the values are calculated using the default hierarchy.</p>
<p class="subhead2"><a id="OLAXS353"></a><a id="sthref320"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the values are calculated. If <code><span class="codeinlineitalic">dimension_id</span></code> is used instead, the default hierarchy is used.</p>
<p class="subhead2"><a id="OLAXS354"></a><a id="sthref321"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS355"></a><a id="sthref322"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS356"></a><a id="sthref323"></a><span class="italic">boundaries</span></p>
<p>The <span class="italic">preceding_boundary</span> and <span class="italic">following_boundary</span> identify a range of time periods within the group identified by the dimension or hierarchy.</p>
<p><code>UNBOUNDED</code> starts with the first period or ends with the last period of the group.</p>
<p><code>CURRENT MEMBER</code> starts or ends the calculation at the current time period.</p>
<p class="subhead2"><a id="OLAXS357"></a><a id="sthref324"></a><span class="italic">expression</span></p>
<p>A numeric value identifying a period at a particular distance from the current time period that starts or ends the range.</p>
<p class="subhead2"><a id="OLAXS358"></a><a id="sthref325"></a>WITHIN subclause</p>
<p>Identifies the range of time periods used in the calculation. Following are descriptions of the keywords.</p>
<div class="inftblinformal">
<table class="cellalignment5905" title="SUM Windowing Keywords" summary="Windowing keyword descriptions" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t36">Range</th>
<th class="cellalignment5906" id="r1c2-t36">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t36" headers="r1c1-t36"><code>LEVEL</code></td>
<td class="cellalignment5900" headers="r2c1-t36 r1c2-t36">Calculates all time periods at the same level. (Default)</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t36" headers="r1c1-t36"><code>PARENT</code></td>
<td class="cellalignment5900" headers="r3c1-t36 r1c2-t36">Calculates time periods at the same level with the same parent.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t36" headers="r1c1-t36"><code>GREGORIAN YEAR</code></td>
<td class="cellalignment5900" headers="r4c1-t36 r1c2-t36">Calculates time periods within the same Gregorian year.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t36" headers="r1c1-t36"><code>GREGORIAN QUARTER</code></td>
<td class="cellalignment5900" headers="r5c1-t36 r1c2-t36">Calculates time periods within the same Gregorian quarter.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t36" headers="r1c1-t36"><code>GREGORIAN MONTH</code></td>
<td class="cellalignment5900" headers="r6c1-t36 r1c2-t36">Calculates time periods within the same Gregorian month.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t36" headers="r1c1-t36"><code>GREGORIAN WEEK</code></td>
<td class="cellalignment5900" headers="r7c1-t36 r1c2-t36">Calculates time periods within the same Gregorian week.</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t36" headers="r1c1-t36"><code>ANCESTOR</code></td>
<td class="cellalignment5900" headers="r8c1-t36 r1c2-t36">Includes time periods at the same level and with the same ancestor at a specified level.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref326"></a>Example</p>
<p>This example calculates the sum of two values, for the current and the following time periods, within a level. The results appear in the Sum column.</p>
<p><code>SUM(UNITS_CUBE.SALES) OVER (DIMENSION &#34;TIME&#34; BETWEEN 1 PRECEDING AND CURRENT MEMBER WITHIN LEVEL)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="SUM Example 1" summary="Output from SUM example 1" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t37">Time</th>
<th class="cellalignment5906" id="r1c2-t37">Sales</th>
<th class="cellalignment5906" id="r1c3-t37">Sum</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t37" headers="r1c1-t37">Q1.04</td>
<td class="cellalignment5900" headers="r2c1-t37 r1c2-t37">146529</td>
<td class="cellalignment5900" headers="r2c1-t37 r1c3-t37">289599</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t37" headers="r1c1-t37">Q2.04</td>
<td class="cellalignment5900" headers="r3c1-t37 r1c2-t37">143070</td>
<td class="cellalignment5900" headers="r3c1-t37 r1c3-t37">291362</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t37" headers="r1c1-t37">Q3.04</td>
<td class="cellalignment5900" headers="r4c1-t37 r1c2-t37">148292</td>
<td class="cellalignment5900" headers="r4c1-t37 r1c3-t37">297820</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t37" headers="r1c1-t37">Q4.04</td>
<td class="cellalignment5900" headers="r5c1-t37 r1c2-t37">149528</td>
<td class="cellalignment5900" headers="r5c1-t37 r1c3-t37">293135</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t37" headers="r1c1-t37">Q1.05</td>
<td class="cellalignment5900" headers="r6c1-t37 r1c2-t37">143607</td>
<td class="cellalignment5900" headers="r6c1-t37 r1c3-t37">281703</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t37" headers="r1c1-t37">Q2.05</td>
<td class="cellalignment5900" headers="r7c1-t37 r1c2-t37">138096</td>
<td class="cellalignment5900" headers="r7c1-t37 r1c3-t37">277049</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t37" headers="r1c1-t37">Q3.05</td>
<td class="cellalignment5900" headers="r8c1-t37 r1c2-t37">138953</td>
<td class="cellalignment5900" headers="r8c1-t37 r1c3-t37">284015</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t37" headers="r1c1-t37">Q4.05</td>
<td class="cellalignment5900" headers="r9c1-t37 r1c2-t37">145062</td>
<td class="cellalignment5900" headers="r9c1-t37 r1c3-t37">291881</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The next example calculates Year-to-Date Sales.</p>
<p><code>SUM(UNITS_CUBE.SALES) OVER (HIERARCHY TIME.CALENDAR BETWEEN UNBOUNDED PRECEDING AND CURRENT MEMBER WITHIN ANCESTOR AT DIMENSION LEVEL TIME.CALENDAR_YEAR)</code></p>
<div class="inftblinformal">
<table class="cellalignment5905" title="SUM Example 2" summary="Output from SUM example 2" dir="ltr">
<thead>
<tr class="cellalignment5894">
<th class="cellalignment5906" id="r1c1-t38">Time</th>
<th class="cellalignment5906" id="r1c2-t38">Sales</th>
<th class="cellalignment5906" id="r1c3-t38">Sales YTD</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r2c1-t38" headers="r1c1-t38">JAN-05</td>
<td class="cellalignment5900" headers="r2c1-t38 r1c2-t38">12093518</td>
<td class="cellalignment5900" headers="r2c1-t38 r1c3-t38">12093518</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r3c1-t38" headers="r1c1-t38">FEB-05</td>
<td class="cellalignment5900" headers="r3c1-t38 r1c2-t38">10103162</td>
<td class="cellalignment5900" headers="r3c1-t38 r1c3-t38">22196680</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r4c1-t38" headers="r1c1-t38">MAR-05</td>
<td class="cellalignment5900" headers="r4c1-t38 r1c2-t38">9184658</td>
<td class="cellalignment5900" headers="r4c1-t38 r1c3-t38">31381338</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r5c1-t38" headers="r1c1-t38">APR-05</td>
<td class="cellalignment5900" headers="r5c1-t38 r1c2-t38">9185964</td>
<td class="cellalignment5900" headers="r5c1-t38 r1c3-t38">40567302</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r6c1-t38" headers="r1c1-t38">MAY-05</td>
<td class="cellalignment5900" headers="r6c1-t38 r1c2-t38">11640216</td>
<td class="cellalignment5900" headers="r6c1-t38 r1c3-t38">52207519</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r7c1-t38" headers="r1c1-t38">JUN-05</td>
<td class="cellalignment5900" headers="r7c1-t38 r1c2-t38">16816561</td>
<td class="cellalignment5900" headers="r7c1-t38 r1c3-t38">69024079</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r8c1-t38" headers="r1c1-t38">JUL-05</td>
<td class="cellalignment5900" headers="r8c1-t38 r1c2-t38">11110903</td>
<td class="cellalignment5900" headers="r8c1-t38 r1c3-t38">80134982</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r9c1-t38" headers="r1c1-t38">AUG-05</td>
<td class="cellalignment5900" headers="r9c1-t38 r1c2-t38">9475807</td>
<td class="cellalignment5900" headers="r9c1-t38 r1c3-t38">89610789</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r10c1-t38" headers="r1c1-t38">SEP-05</td>
<td class="cellalignment5900" headers="r10c1-t38 r1c2-t38">12030538</td>
<td class="cellalignment5900" headers="r10c1-t38 r1c3-t38">101641328</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r11c1-t38" headers="r1c1-t38">OCT-05</td>
<td class="cellalignment5900" headers="r11c1-t38 r1c2-t38">11135032</td>
<td class="cellalignment5900" headers="r11c1-t38 r1c3-t38">112776359</td>
</tr>
<tr class="cellalignment5894">
<td class="cellalignment5900" id="r12c1-t38" headers="r1c1-t38">NOV-05</td>
<td class="cellalignment5900" headers="r12c1-t38 r1c2-t38">11067754</td>
<td class="cellalignment5900" headers="r12c1-t38 r1c3-t38">123844113</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref327"></a>Related Topics</p>
<p><a href="#CIHJEIIJ">AVG</a>, <a href="#CIHFFDEI">COUNT</a>, <a href="#CIHHDFFE">MAX</a>, <a href="#CIHBDDCJ">MIN</a></p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5893">
<tr>
<td class="cellalignment5900">
<table class="cellalignment5904">
<tr>
<td class="cellalignment5897"><a href="syntax.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5897"><a href="row_functions.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5902">
<table class="cellalignment5903">
<tr>
<td class="cellalignment5897"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5897"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5897"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5897"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5897"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
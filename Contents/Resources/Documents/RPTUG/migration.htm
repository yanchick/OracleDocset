<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-91959"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SQL%20Developer%3A%20Migrating%20Third-Party%20Databases"></a><title>SQL Developer: Migrating Third-Party Databases</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="description" content="Note: This book is for an old release of SQL Developer. You are encouraged to use the latest available release. See http://www.oracle.com/technetwork/developer-tools/sql-developer/ for information about downloads and documentation./"/>
<meta name="dcterms.created" content="2014-07-07T8:41:4Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="SQL Developer User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E35117-06"/>
<meta name="dcterms.isVersionOf" content="RPTUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="intro.htm" title="Previous" type="text/html"/>
<link rel="Next" href="unit_testing.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E35117-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/12</span> <!-- End Header -->
<div id="RPTUG40000" class="chapter"><a id="CHDECEIA"></a>
<h1 class="chapter"><span class="secnum">2</span> <a id="sthref413"></a>SQL Developer: Migrating Third-Party Databases</h1>
<p><span class="bold">Migration</span> is the process of copying the schema objects and data from a source third-party (non-Oracle) database, such as MySQL, Microsoft SQL Server, Sybase Adaptive Server, Microsoft Access, or IBM DB2 (UDB), to an Oracle database. You can perform the migration in an efficient, largely automated way.</p>
<p>Thus, you have two options for working with third-party databases in SQL Developer:</p>
<ul>
<li>
<p>Creating database connections so that you can view schema objects and data in these databases</p>
</li>
<li>
<p>Migrating these databases to Oracle, to take advantage of the full range of Oracle Database features and capabilities</p>
</li>
</ul>
<p>This chapter contains the following major sections:</p>
<p><a href="#CHDIJEBC">Section 2.1, &#34;Migration: Basic Options and Steps&#34;</a></p>
<p><a href="#CHDBGICB">Section 2.2, &#34;Migration: Background Information and Guidelines&#34;</a></p>
<p><a href="#CHDFHCEH">Section 2.3, &#34;SQL Developer User Interface for Migration&#34;</a></p>
<p><a href="#CHDBAJIJ">Section 2.4, &#34;Command-Line Interface for Migration&#34;</a></p>
<a id="CHDIJEBC"></a>
<div id="RPTUG40100" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.1</span> <a id="sthref414"></a>Migration: Basic Options and Steps</h2>
<p>To migrate all or part of a third-party database to Oracle, you have the following basic options:</p>
<ul>
<li>
<p><a href="#CHDDIGIJ">Migrating Using the Migration Wizard</a></p>
</li>
<li>
<p><a href="#CHDDEGEA">Copying Selected Tables to Oracle</a></p>
</li>
</ul>
<p>However, before you perform any migration actions, you may want to prepare by setting any appropriate <a href="intro.htm#CHDJJGBH">Migration</a> user preferences (such as date and timestamp masks and <span class="italic">Is Quoted Identifier On?</span>) and by reading relevant topics in <a href="#CHDBGICB">Section 2.2, &#34;Migration: Background Information and Guidelines&#34;</a>.</p>
<p>After you migrate by using the wizard or by copying tables to Oracle, verify that the results are what you expected.</p>
<p>For a description of the user interface for database migrations, see <a href="#CHDFHCEH">Section 2.3, &#34;SQL Developer User Interface for Migration&#34;</a>.</p>
<a id="CHDDIGIJ"></a>
<div id="RPTUG41484" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.1</span> Migrating Using the Migration Wizard</h3>
<p>The Migration wizard provides convenient, comprehensive guidance through the actions that can be involved in database migration (capturing the source database, converting it to Oracle format, generating DDL to perform the conversion, and so on). This is the recommended approach when performing a migration: you can resolve issues during these phases, and you can then inspect or modify objects to suit your needs.</p>
<p>The migration wizard is invoked in a variety of contexts, such as when you right-click a third-party database connection and select <span class="bold">Migrate to Oracle</span> or when you click <span class="bold">Tools</span>, then <span class="bold">Migration</span>, then <span class="bold">Migrate</span>. Sometimes the wizard is invoked at a page other than the first step.</p>
<p>On all pages except the last, enabling <span class="bold">Proceed to Summary Page</span> causes <span class="bold">Next</span> to go to the Summary page.</p>
<p class="subhead2"><a id="RPTUG41485"></a>Repository</p>
<p>The Repository page of the wizard requires that you specify the database connection for the migration repository to be used.</p>
<p>The migration repository is a collection of schema objects that SQL Developer uses to manage metadata for migrations. If you do not already have a migration repository and a database connection to the repository, create them as follows:</p>
<ol>
<li>
<p>Create an Oracle user named MIGRATIONS with default tablespace USERS and temporary tablespace TEMP; and grant it at least the RESOURCE role and the CREATE SESSION and CREATE VIEW privileges. (For multischema migrations, you must grant the RESOURCE role with the ADMIN option; and you must also grant this user the CREATE ROLE, CREATE USER, and ALTER ANY TRIGGER privileges, all with the ADMIN option.)</p>
</li>
<li>
<p>Create a database connection named Migration_Repository that connects to the MIGRATIONS user.</p>
</li>
<li>
<p>Right-click the Migration_Repository connection, and select <span class="bold">Migration Repository</span>, then <span class="bold">Associate Migration Repository</span> to create the repository.</p>
</li>
</ol>
<p>If you do not already have a database connection to the third-party database to be migrated, create one. (For migrations other than from Microsoft Access, you should set the third party JDBC driver preference before creating the connection.) For example, create a database connection named <code>Sales_Sybase</code> to a Sybase database named <code>sales</code>.</p>
<p><span class="bold">Connection</span>: The database connection to the migration repository to be used.</p>
<p><span class="bold">Truncate</span>: If this option is enabled, the repository is cleared (all data from previous migrations is removed) before any data for the current migration is created.</p>
<p class="subhead2"><a id="RPTUG45381"></a>Project</p>
<p>The Project page of the wizard specifies the migration project for this migration. A migration project is a container for migration objects.</p>
<p><span class="bold">Name</span>: Name to be associated with this migration project.</p>
<p><span class="bold">Description</span>: Optional descriptive comments about the project.</p>
<p><span class="bold">Output Directory</span>: The directory or folder in which all scripts generated by the migration wizard will be placed. Enter a path or click <span class="bold">Choose</span> to select the location.</p>
<p class="subhead2"><a id="CHDGAIBI"></a><a id="RPTUG45382"></a>Source Database</p>
<p>The Source Database page of the wizard specifies the third-party database to be migrated.</p>
<p><span class="bold">Mode</span>: <span class="bold">Online</span> causes the migration to be performed by SQL Developer when you have completed the necessary information in the wizard; <span class="bold">Offline</span> causes SQL Developer to perform the migration using a file (the Offline Capture Source File) that you specify.</p>
<p><span class="bold">Connection</span> (Online mode): The database connection to the third-party database to be migrated. To add a connection to the list, click the Add (+) icon; to edit the selected connection, click the Edit (pencil) icon.</p>
<p><span class="bold">Available Source Platforms</span> (Online mode) List of third-party databases that you can migrate. If the desired platform is not listed, you probably need the appropriate JDBC driver, which you can get by clicking <span class="bold">Help</span>, then <span class="bold">Check for Updates</span>, or by clicking the <span class="bold">Add Platform</span> link and adding the necessary entry on the <a href="intro.htm#CHDIEGDD">Database: Third Party JDBC Drivers</a> preferences page.</p>
<p><span class="bold">Offline Capture Source File</span> (Offline mode): The .ocp file (or .xml file for a Microsoft Access migration). This is a file that you previously created by clicking <span class="bold">Tools</span>, then <span class="bold">Migration</span>, then <span class="bold">Create Database Capture Scripts</span>.</p>
<p class="subhead2"><a id="RPTUG45383"></a>Capture</p>
<p>The Capture page of the wizard lets you specify the database or databases (of the platform that you specified) to be migrated. Select the desired items under <span class="bold">Available Databases</span>, and use the arrow icons to move them individually or collectively to <span class="bold">Selected Databases</span>.</p>
<p class="subhead2"><a id="RPTUG45384"></a>Convert</p>
<p>The Convert page of the wizard lets you examine and modify, for each data type in the course database, the Oracle Database data type to which columns of that source type will be converted in the migrated database. For each source data type entry, the possible Oracle Data Type values reflect the valid possible mappings (which might be only one).</p>
<p><span class="bold">Add New Rule</span>: Lets you specify mappings for other source data types.</p>
<p><span class="bold">Edit Rule</span>: Lets you modify the mapping for the selected source data type.</p>
<p><span class="bold">Advanced Options</span>: Displays the <a href="intro.htm#CHDCBDAC">Migration: Identifier Options</a> preferences page.</p>
<p class="subhead2"><a id="RPTUG45385"></a>Target Database</p>
<p>The Target Database page of the wizard specifies the Oracle database to which the third-party database or databases will be migrated.</p>
<p><span class="bold">Mode</span>: <span class="bold">Online</span> causes the migration to be performed by SQL Developer when you have completed the necessary information in the wizard; <span class="bold">Offline</span> causes SQL Developer to generate scripts after you have completed the necessary information in the wizard, and you must later run those scripts to perform the migration.</p>
<p><span class="bold">Connection</span>: The database connection to the Oracle Database user into whose schema the third-party database or databases are to be migrated. To add a connection to the list, click the Add (+) icon; to edit the selected connection, click the Edit (pencil) icon.</p>
<p><span class="bold">Generated Script Directory</span>: The directory or folder in which migration script files will be generated (derived based on your previous entry for the project Output Directory).</p>
<p><span class="bold">Drop Target Objects</span>: If this option is enabled, any existing database objects in the target schema are deleted before the migration is performed (thus ensuring that the migration will be into an empty schema).</p>
<p><span class="bold">Advanced Options</span>: Displays the <a href="intro.htm#CHDGAIBA">Migration: Generation Options</a> preferences page.</p>
<p class="subhead2"><a id="RPTUG45386"></a>Move Data</p>
<p>The Move Data page of the wizard lets you specify options for moving table data as part of the migration. Moving the table data is independent of migrating the table definitions (metadata) Note that if you do not want to move the table data, you can specify the mode as Offline and then simply not run the scripts for moving the data.</p>
<p><span class="bold">Mode</span>: <span class="bold">Online</span> causes the table data to be moved by SQL Developer when you have completed the necessary information in the wizard; <span class="bold">Offline</span> causes SQL Developer to generate scripts after you have completed the necessary information in the wizard, and you must later run those scripts if you want to move the data. (Online moves are convenient for moving small data sets; offline moves are useful for moving large volumes of data.)</p>
<p><span class="bold">Connections for online data move</span>: The Source and Target connections for the third-party and Oracle connections, respectively. To add a connection to either list, click the Add (+) icon; to edit the selected connection, click the Edit (pencil) icon.</p>
<p><span class="bold">Truncate Data</span>: If this option is enabled, any existing data in a target (Oracle) table that has the same name as the source table is deleted before the data is moved. If this option is not enabled, any data from a source table with the same name as the corresponding target (Oracle) table is appended to any existing data in the target table.</p>
<p class="subhead2"><a id="RPTUG45387"></a>Summary</p>
<p>The Summary page of the wizard provides a summary of your specifications for the project, repository, and actions, in an expandable tree format. If you want to make any changes, go back to the relevant wizard page.</p>
<p>To perform the migrat6ion actions that you have specified, click <span class="bold">Finish</span>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDDEGEA"></a>
<div id="RPTUG45388" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.2</span> Copying Selected Tables to Oracle</h3>
<p>To copy one or more tables from a third-party database to an Oracle database, you can select the third-party tables and use the <span class="bold">Copy to Oracle</span> feature. With this approach, you do not need to create or use a migration repository, or to capture and convert objects.</p>
<p>Note that this approach does not perform a complete migration. It only lets you copy the table, and optionally the table data, from the third-party database to an Oracle database. It does <span class="italic">not</span> migrate or re-create primary and foreign key definitions and most constraints. (Any UNIQUE constraints or default values are not preserved in the copy. NOT NULL constraints are preserved in most cases, but not for Microsoft Access tables.) The approach also does not consider any non-table objects, such as procedures.</p>
<p>In addition, this approach supports autoincrement columns only if the <code>INCREMENT BY</code> value is 1, and if the sequence starts at 1 or is adjusted to <code>MAX VAL</code> + 1 at the first call to the trigger.</p>
<p>If these restrictions are acceptable, this approach is fast and convenient. For example, many Microsoft Access database owners only need the basic table definitions and the data copied to an Oracle database, after which they can add keys and constraints in the Oracle database using SQL Developer.</p>
<p>To copy selected tables, follow these steps:</p>
<ol>
<li>
<p>Create and open a database connection for the third-party database. (For migrations other than from Microsoft Access, you should set the third party JDBC driver preference before creating the connection.)</p>
<p>For example, create a database connection named Sales_Access to a Microsoft Access database named sales.mdb, and connect to it.</p>
</li>
<li>
<p>In the Connections navigator, expand the display of Tables for the third-party database connection, and select the table or tables to be migrated.</p>
<p>To select multiple tables, use the standard method for individual and range selections (using the Ctrl and Shift keys) as appropriate.</p>
</li>
<li>
<p>Right-click and select <span class="bold">Copy to Oracle</span>.</p>
</li>
<li>
<p>In the Choose Database for Copy to Oracle dialog box, select the appropriate entries:</p>
<p><span class="bold">Destination Database Name</span>: Database connection to use for copying the selected tables into the Oracle database. (Only Oracle Database connections are shown for selection.)</p>
<p><span class="bold">Include Data</span>: If this option is enabled, any data in the table in the third-party database is copied to the new table after it is created in the Oracle database. If this option is not enabled, the table is created in the Oracle database but no data is copied.</p>
<p><span class="bold">If Table Exists</span>: Specifies what happens if a table with the same name as the one to be copied already exists in the destination Oracle database: <span class="bold">Indicate Error</span> generates an error and does not perform the copy; <span class="bold">Append</span> adds the rows from the copied table to the destination Oracle table; <span class="bold">Replace</span> replaces the data in the destination Oracle table with the rows from the copied table. Note that if the two tables with the same name do <span class="bolditalic">not</span> have the same column definitions and if Include Data is specified, the data may or may not be copied, depending on whether the source and destination column data types are compatible.</p>
</li>
<li>
<p>To perform the copy operation, click <span class="bold">Apply</span>.</p>
</li>
</ol>
<p>If a table with the same name as the one to be copied already exists in the destination Oracle database, then:</p>
<ul>
<li>
<p>If the two tables do not have the same column definitions, the copy is not performed.</p>
</li>
<li>
<p>If the two tables have the same column definitions and if Include Data was specified, the data is appended (that is, the rows from the table to be copied are inserted into the existing Oracle table).</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDBGICB"></a>
<div id="RPTUG45390" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.2</span> Migration: Background Information and Guidelines</h2>
<p>The following topics provide background information and guidelines that are helpful in planning for a database migration:</p>
<ul>
<li>
<p><a href="#CHDFAEFH">Section 2.2.1, &#34;Overview of Migration&#34;</a></p>
</li>
<li>
<p><a href="#CHDCFGII">Section 2.2.2, &#34;Preparing a Migration Plan&#34;</a></p>
</li>
<li>
<p><a href="#CHDICICC">Section 2.2.3, &#34;Before You Start Migrating: General Information&#34;</a></p>
</li>
<li>
<p><a href="#i1005774">Section 2.2.4, &#34;Before You Start Migrating: Source-Specific Information&#34;</a></p>
</li>
<li>
<p><a href="#CHDIIEEF">Section 2.2.5, &#34;Capturing the Source Database&#34;</a></p>
</li>
<li>
<p><a href="#CHDHFAGE">Section 2.2.6, &#34;Creating and Customizing the Converted Model&#34;</a></p>
</li>
<li>
<p><a href="#CHDFHCJG">Section 2.2.7, &#34;Generating the DDL for the Oracle Schema Objects&#34;</a></p>
</li>
<li>
<p><a href="#CHDJCGGI">Section 2.2.8, &#34;Migrating the Data&#34;</a></p>
</li>
<li>
<p><a href="#CHDBIAIE">Section 2.2.9, &#34;Making Queries Case Insensitive&#34;</a></p>
</li>
<li>
<p><a href="#CHDCFFJF">Section 2.2.10, &#34;Testing the Oracle Database&#34;</a></p>
</li>
<li>
<p><a href="#CHDDCHHE">Section 2.2.11, &#34;Deploying the Oracle Database&#34;</a></p>
</li>
</ul>
<a id="CHDFAEFH"></a>
<div id="RPTUG40200" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.1</span> <a id="sthref415"></a>Overview of Migration</h3>
<p>An Oracle database provides you with better scalability, reliability, increased performance, and better security than third-party databases. For this reason, organizations migrate from their current database, such as Microsoft SQL Server, Sybase Adaptive Server, Microsoft Access, or IBM DB2, to an Oracle database. Although database migration can be complicated, SQL Developer enables you to simplify the process of migrating a third-party database to an Oracle database.</p>
<p>SQL Developer captures information from the source database and displays it in the <span class="bold">captured model</span>, which is a representation of the structure of the source database. This representation is stored in a <span class="bold">migration repository</span>, which is a collection of schema objects that SQL Developer uses to store migration information.</p>
<p>The information in the repository is used to generate the <span class="bold">converted model</span>, which is a representation of the structure of the destination database as it will be implemented in the Oracle database. You can then use the information in the captured model and the converted model to compare database objects, identify conflicts with Oracle reserved words, and manage the migration progress. When you are ready to migrate, you generate the Oracle schema objects, and then migrate the data.</p>
<p>SQL Developer contains logic to extract data from the data dictionary of the source database, create the captured model, and convert the captured model to the converted model.</p>
<p>Using SQL Developer to migrate a third-party database to an Oracle database provides the following benefits:</p>
<ul>
<li>
<p>Reduces the effort and risks involved in a migration project</p>
</li>
<li>
<p>Enables you to migrate an entire third-party database, including triggers and stored procedures</p>
</li>
<li>
<p>Enables you to see and compare the captured model and converted model and to customize each if you wish, so that you can control how much automation there is in the migration process</p>
</li>
<li>
<p>Provides feedback about the migration through reports</p>
</li>
</ul>
<div id="RPTUG41493" class="sect3"><a id="sthref416"></a>
<h4 class="sect3"><span class="secnum">2.2.1.1</span> <a id="sthref417"></a>How Migration Works</h4>
<p>The components of SQL Developer work together to migrate a third-party database to an Oracle database. <a href="#i1005726">Figure 2-1, &#34;SQL Developer Migration Architecture&#34;</a> shows how SQL Developer reads the information from the source database and creates the Oracle database schema objects. SQL Developer uses the information stored in the migration repository to migrate to the Oracle schema. You can make changes to the captured model or the converted model, or both, before migrating. The information in the converted model is used to complete the migration, that is, to generate the database objects in the destination Oracle schema.</p>
<div id="RPTUG41494" class="figure">
<p class="titleinfigure"><a id="i1005726"></a>Figure 2-1 SQL Developer Migration Architecture</p>
<img width="305" height="283" src="img/migration_arch.gif" alt="Architecture diagram, as explained before the illustration."/><br/></div>
<!-- class="figure" --></div>
<!-- class="sect3" -->
<div id="RPTUG41496" class="sect3"><a id="sthref418"></a>
<h4 class="sect3"><span class="secnum">2.2.1.2</span> Migration Implemented as SQL Developer Extensions</h4>
<p>Migration support is implemented in SQL Developer as a set of extensions. If you want, you can disable migration support or support for migrating individual third-party databases.</p>
<p>To view the installed extensions, and to enable or disable individual extensions, click <span class="bold">Tools</span>, then <span class="bold">Preferences</span>, then <span class="bold">Extensions</span>. Note that SQL Developer ships which all extensions and third-party database &#34;plugins&#34; available at the time of release, so to begin migrations other than for Microsoft Access, only the third-party drivers need be installed.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDCFGII"></a>
<div id="RPTUG40300" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.2</span> <a id="sthref419"></a><a id="sthref420"></a>Preparing a Migration Plan</h3>
<p>This topic describes the process of how to create a migration plan. It identifies the sections to include in the migration plan, describes how to determine what to include for each section, and explains how to avoid the risks involved in a migration project. This information includes:</p>
<ul>
<li>
<p><a href="#CHDJIGHA">Task 1: Determining the Requirements of the Migration Project</a></p>
</li>
<li>
<p><a href="#CHDJECFF">Task 2: Estimating Workload</a></p>
</li>
<li>
<p><a href="#CHDCGGDG">Task 3: Analyzing Operational Requirements</a></p>
</li>
<li>
<p><a href="#CHDBHIAF">Task 4: Analyzing the Application</a></p>
</li>
<li>
<p><a href="#CHDBICGE">Task 5: Planning the Migration Project</a></p>
</li>
</ul>
<a id="CHDJIGHA"></a>
<div id="RPTUG41499" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.1</span> Task 1: Determining the Requirements of the Migration Project</h4>
<p>In this task, you identify which databases you want to migrate and applications that access that database. You also evaluate the business requirements and define testing criteria.</p>
<p>To determine the requirements of the migration project:</p>
<ol>
<li>
<p>Define the scope of the project.</p>
<p>There are several choices you must make about the third-party database and applications that access that database in order to define the scope of the migration project. To obtain a list of migration issues and dependencies, you should consider the following</p>
<ul>
<li>
<p>What third-party databases are you migrating?</p>
<ul>
<li>
<p>What is the version of the third-party database?</p>
</li>
<li>
<p>What is the character set of the third-party database?</p>
</li>
</ul>
</li>
<li>
<p>What source applications are affected by migrating the third-party database to an Oracle database?</p>
<ul>
<li>
<p>What is the third-party application language?</p>
</li>
<li>
<p>What version of the application language are you using?</p>
</li>
</ul>
<p>In the scope of the project, you should have identified the applications you must migrate. Ensure that you have included all the necessary applications that are affected by migrating the database</p>
</li>
<li>
<p>What types of connectivity issues are involved in migrating to an Oracle database?</p>
<ul>
<li>
<p>Do you use connectivity software to connect the applications to the third-party database? Do you need to modify the connectivity software to connect the applications to the Oracle database?</p>
</li>
<li>
<p>What version of the connectivity software do you use? Can you use this same version to connect to the Oracle database?</p>
</li>
</ul>
</li>
<li>
<p>Are you planning to rewrite the applications or modify the applications to work with an Oracle database?</p>
</li>
</ul>
</li>
<li>
<p>Use <a href="#CACBAAJI">Table 2-1</a> to determine whether you have a complex or simple source database environment. Identify the requirements based on the specific scenario.</p>
<p>If the migration project is a simple scenario, you may not have to complete all possible migration tasks. You make decisions based on your specific environment. For example, if you have a complex scenario, you may require extra testing based on the complexity of the application accessing the database.</p>
<div id="RPTUG41500" class="tblformal">
<p class="titleintable"><a id="sthref421"></a><a id="CACBAAJI"></a>Table 2-1 Complex and Simple Scenarios</p>
<table class="cellalignment323" title="Complex and Simple Scenarios" summary="A list of guidelines to help you decide the complexity of the application. The list is separated into a complex and a simple scenario." dir="ltr">
<thead>
<tr class="cellalignment317">
<th class="cellalignment324" id="r1c1-t2">Complex Scenario</th>
<th class="cellalignment324" id="r1c2-t2">Simple Scenario</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment317">
<td class="cellalignment325" id="r2c1-t2" headers="r1c1-t2">
<p>Involves more than one of the following:</p>
<ul>
<li>
<p>Large database (greater than 25 GB)</p>
</li>
<li>
<p>Data warehouse</p>
</li>
<li>
<p>Large applications (more than 100 forms, reports, and batch jobs)</p>
</li>
<li>
<p>Database used by multiple lines of business</p>
</li>
<li>
<p>Distributed deployment</p>
</li>
<li>
<p>Large user base (more than 100)</p>
</li>
<li>
<p>High availability requirement (such as a 24 X 7 X 365 environment)</p>
</li>
</ul>
</td>
<td class="cellalignment325" headers="r2c1-t2 r1c2-t2">
<p>Involves the following:</p>
<ul>
<li>
<p>Small database (less than 25 GB)</p>
</li>
<li>
<p>Simple online transaction processing (OLTP)</p>
</li>
<li>
<p>Small application (less than 100 forms, reports, and batch jobs)</p>
</li>
<li>
<p>Database used by one department</p>
</li>
<li>
<p>Centralized deployment</p>
</li>
<li>
<p>Small user base (less than 100)</p>
</li>
<li>
<p>Average availability (business hours)</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></li>
<li>
<p>Determine whether the destination database requires additional hardware and rewriting of backup schedules.</p>
</li>
<li>
<p>Define testing and acceptance criteria.</p>
<p>Define tests to measure the accuracy of the migration. You then use the acceptance criteria to determine whether the migration was successful. The tests that you develop from the requirements should also measure stability, evaluate performance, and test the applications. You must decide how much testing is necessary before you can deploy the Oracle database and applications into a production environment.</p>
</li>
<li>
<p>Create a requirements document with a list of requirements for the migration project.</p>
<p>The requirements document should have clearly defined tasks and number each specific requirement, breaking these into sub-requirements where necessary.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDJECFF"></a>
<div id="RPTUG41501" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.2</span> Task 2: Estimating Workload</h4>
<p>In this task, you use SQL Developer to make calculated decisions on the amount of work that can be automated and how much is manual.</p>
<p>To estimate the workload:</p>
<ol>
<li>
<p>Capture the captured model, create the converted model, and migrate to the destination database.</p>
<p>You can analyze the source database through the captured model and a preview of the destination database through the converted model. After you have captured the source database, analyze the captured data contained in the captured model and the converted model. Ensure the content and structure of the migration repository is correct and determine how much time the entire process takes.</p>
</li>
<li>
<p>Use the Migration Log pane to evaluate the capture and migration process, categorize the total number of database objects, and identify the number of objects that can be converted and migrated automatically.</p>
<p>The migration log provides information about the actions that have occurred and record any warnings and errors. They identify the changes that have been made to the converted model so that you can evaluate if you should make changes to the applications that access the destination database.</p>
</li>
<li>
<p>Evaluate and categorize the issues that occurred. The migration log can help by providing information about:</p>
<ul>
<li>
<p>Tables that did not load when you captured the source database</p>
</li>
<li>
<p>Stored procedures, views, and triggers that did not parse when you created the converted model</p>
</li>
<li>
<p>Syntax that requires manual intervention</p>
</li>
<li>
<p>Database objects that were not created successfully when you migrated the destination database</p>
</li>
<li>
<p>Data that did not migrate successfully when you migrated the destination database</p>
</li>
</ul>
</li>
<li>
<p>For each error or warning in the migration log, evaluate the following:</p>
<ul>
<li>
<p>Number of times an issue occurred</p>
</li>
<li>
<p>Time required to fix the issues, in person-hours</p>
</li>
<li>
<p>Number of resources required to fix the issue</p>
<p>After you have solved a complex problem, it should be easier and quicker to resolve the next time you have the same problem.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDCGGDG"></a>
<div id="RPTUG41502" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.3</span> Task 3: Analyzing Operational Requirements</h4>
<p>In this task, you analyze the operational requirements, as follows:</p>
<ol>
<li>
<p>Evaluate the operational considerations in migrating the source database to a destination database. Consider the following questions:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the scope of the migration project is a complex scenario as defined in <a href="#CACBAAJI">Table 2-1</a>, Oracle recommends that you answer all of these questions. If you have a simple scenario, determine the answers to the most appropriate questions.</div>
<ul>
<li>
<p>What backup and recovery changes do you require?</p>
</li>
<li>
<p>What downtime is required during the migration?</p>
</li>
<li>
<p>Have you met the performance requirements?</p>
</li>
<li>
<p>Are you changing the operational time window?</p>
</li>
<li>
<p>What effect does the downtime have on the business?</p>
</li>
<li>
<p>What training requirements or additional staff considerations are required?</p>
</li>
<li>
<p>Is it necessary to have the third-party and the Oracle database running simultaneously?</p>
</li>
</ul>
</li>
<li>
<p>For each task, determine the resources and time required to complete.</p>
</li>
<li>
<p>Create an initial project plan.<a id="sthref422"></a></p>
<p>Use the information that you have gathered during the requirements and planning stage to develop an initial project plan.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDBHIAF"></a>
<div id="RPTUG41503" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.4</span> Task 4: Analyzing the Application</h4>
<p>In this task, you identify the users of the applications that run on the source database, what hardware it requires, what the application does, and how it interfaces with the source database. You also analyze the method the application uses to connect to the database and identify necessary modifications.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the migration project is a complex scenario as defined in <a href="#CACBAAJI">Table 2-1</a>, Oracle recommends that you consider all of the following items. If you have a simple scenario, consider the most relevant items.</div>
<p>To analyze the application:</p>
<ol>
<li>
<p>Determine whether changes to the application are required to make them run effectively on the destination database.</p>
</li>
<li>
<p>If changes are required to the application, determine whether it is more efficient to rewrite or modify the applications.</p>
<p>If you are rewriting the application to use the Oracle database, consider the following:</p>
<ol>
<li>
<p>Create the necessary project documentation to rewrite the application. For example, you need a design specification and requirements documentation.</p>
</li>
<li>
<p>Rewrite the application according to the specification.</p>
</li>
<li>
<p>Test the application works against the Oracle database.</p>
</li>
</ol>
<p>If you are modifying the application to use the Oracle database, consider the following:</p>
<ol>
<li>
<p>Identify the number of connections to the database that are in the application and modify these connections to use the Oracle database.</p>
<p>You may need to change the connection information to use an ODBC or JDBC connection.</p>
</li>
<li>
<p>Identify the embedded SQL statements that you need to change in the application before you can test it against the Oracle database.</p>
</li>
<li>
<p>Test the application using the Oracle database.</p>
</li>
</ol>
</li>
<li>
<p>Allocate time and resource to address each issue associated with rewriting or modifying the application.</p>
</li>
<li>
<p>Update the general requirements document for the project that you created in Task 1.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDBICGE"></a>
<div id="RPTUG41504" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.2.5</span> Task 5: Planning the Migration Project</h4>
<p>In this task, you evaluate the unknown variables that the migration project may contain, such as the difference in the technologies of the source database and the destination database. During the planning stage, you:</p>
<ul>
<li>
<p>Estimate the budget constraints of the project</p>
</li>
<li>
<p>Gather information to produce a migration plan</p>
</li>
<li>
<p>Estimate how much time the migration project should take</p>
</li>
<li>
<p>Calculate how many resources are required to complete and test the migration</p>
</li>
</ul>
<p>To plan a migration project:</p>
<ol>
<li>
<p>Define a list of tasks required to successfully complete the migration project requirements of Task 1.</p>
</li>
<li>
<p>Categorize the list of tasks required to complete the migration project.</p>
<p>You should group these tasks according to your business. This allows you to schedule and assign resources more accurately.</p>
</li>
<li>
<p>Update and finalize the migration project plan based on the information that you have obtained from Task 3 and Task 4.</p>
</li>
<li>
<p>Make sure the migration project plan meets the requirements of the migration project.</p>
<p>The migration plan should include a project description, resources allocated, training requirements, migration deliverable, general requirements, environment analysis, risk analysis, application evaluation, and project schedule.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDICICC"></a>
<div id="RPTUG40400" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.3</span> <a id="sthref423"></a>Before You Start Migrating: General Information</h3>
<p>You may need to perform certain tasks before you start migrating a third-party database to an Oracle database. See the following for more information:</p>
<ul>
<li>
<p><a href="#i1005739">Section 2.2.3.1, &#34;Creating a Database User for the Migration Repository&#34;</a></p>
</li>
<li>
<p><a href="#CHDJJDEB">Section 2.2.3.2, &#34;Requirements for Creating the Destination Oracle Objects&#34;</a></p>
</li>
</ul>
<p>See also any information specific to the source database that you will be migrating, as explained in <a href="#i1005774">Section 2.2.4</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
SQL <a id="sthref424"></a>Developer does not migrate grant information from the source database. The Oracle DBA must adjust (as appropriate) user, login, and grant specifications after the migration.</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you make a complete backup of the source database before starting the migration. For more information about backing up the source database, see the documentation for that type of database.
<p>If possible, begin the migration using a development or test environment, not a production database.</p>
</div>
<a id="i1005739"></a>
<div id="RPTUG41506" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.3.1</span> Creating a Database User for the Migration Repository<a id="sthref425"></a></h4>
<p>SQL Developer requires a migration repository to migrate a third-party database to an Oracle database. To use an Oracle database for the migration repository, you must have access to that database using a database user account. Oracle recommends that you use a specific user account for migrations, For example, you may want to create a user named MIGRATIONS, create a database connection to that user, and use that connection for the migration repository; and if you wish, you can later delete the MIGRATIONS user to remove all traces of the migration from the database.</p>
<p>When you create a user for migrations, specify the tablespace information as in the following example, instead of using the defaults for tablespaces:</p>
<pre>CREATE USER migrations IDENTIFIED BY <span class="italic">&lt;password&gt;</span>
  DEFAULT TABLESPACE users TEMPORARY TABLESPACE temp,
</pre>
<p>Do not use a standard account (for example, SYSTEM) for migration.</p>
<p>When SQL Developer creates a migration repository, it creates many schema objects that are intended only for its own use. For example, it creates tables, views, indexes, packages, and triggers, many with names starting with <code>MD_</code> and <code>MIGR</code>. You should not directly modify these objects or any data stored in them.</p>
</div>
<!-- class="sect3" -->
<a id="CHDJJDEB"></a>
<div id="RPTUG41507" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.3.2</span> Requirements for Creating the Destination Oracle Objects</h4>
<p><a id="sthref426"></a><a id="sthref427"></a><a id="sthref428"></a>The user associated with the Oracle database connection used to perform the migration (that is, to run the script containing the generated DDL statements) must have the following roles and privileges:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must grant these privileges directly to a user account. Granting the privileges to a role, which is subsequently granted to a user account, does not suffice. You cannot migrate a database as the user <code>SYS</code>.</div>
<p class="subhead1"><a id="RPTUG41508"></a>Roles</p>
<pre>CONNECT WITH ADMIN OPTION
RESOURCE WITH ADMIN OPTION
</pre>
<p class="subhead1"><a id="RPTUG41509"></a>Privileges</p>
<pre>ALTER ANY ROLE
ALTER ANY SEQUENCE
ALTER ANY TABLE
ALTER TABLESPACE
ALTER ANY TRIGGER
COMMENT ANY TABLE
CREATE ANY SEQUENCE
CREATE ANY TABLE
CREATE ANY TRIGGER
CREATE VIEW WITH ADMIN OPTION
CREATE PUBLIC SYNONYM WITH ADMIN OPTION
CREATE ROLE
CREATE USER
DROP ANY SEQUENCE
DROP ANY TABLE
DROP ANY TRIGGER
DROP USER
DROP ANY ROLE
GRANT ANY ROLE
INSERT ANY TABLE
SELECT ANY TABLE
UPDATE ANY TABLE
</pre>
<p>For example, you can create a user called <code>migrations</code> with the minimum required privileges required to migrate a database by using the following commands:</p>
<pre>CREATE USER migrations IDENTIFIED BY <span class="italic">password</span>
  DEFAULT TABLESPACE users TEMPORARY TABLESPACE temp;
 
GRANT CONNECT, RESOURCE, CREATE VIEW, CREATE PUBLIC SYNONYM TO 
  migrations WITH ADMIN OPTION;
 
GRANT  ALTER ANY ROLE, ALTER ANY SEQUENCE, ALTER ANY TABLE, ALTER TABLESPACE,
ALTER ANY TRIGGER, COMMENT ANY TABLE, CREATE ANY SEQUENCE, CREATE ANY TABLE,
CREATE ANY TRIGGER, CREATE ROLE, CREATE TABLESPACE, CREATE USER, DROP ANY
SEQUENCE, DROP ANY TABLE, DROP ANY TRIGGER, DROP TABLESPACE, DROP USER, DROP ANY
ROLE, GRANT ANY ROLE, INSERT ANY TABLE, SELECT ANY TABLE, UPDATE ANY TABLE TO 
migrations;
</pre>
<p>After you have created the converted model and done first DDL generation done for the new database, it will be clear from the scripts which privileges will be required for your situation.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1005774"></a>
<div id="RPTUG40500" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.4</span> Before You Start Migrating: Source-Specific Information<a id="sthref429"></a><a id="sthref430"></a><a id="sthref431"></a></h3>
<p>Depending on the third-party database that you are migrating to an Oracle database, you may have to configure connection information and install drivers. For more information about specific third-party database requirements, see the following:</p>
<ul>
<li>
<p><a href="#CHDFGEGB">Section 2.2.4.1, &#34;Before Migrating From IBM DB2&#34;</a></p>
</li>
<li>
<p><a href="#i1005806">Section 2.2.4.2, &#34;Before Migrating From Microsoft SQL Server or Sybase Adaptive Server&#34;</a></p>
</li>
<li>
<p><a href="#i1005890">Section 2.2.4.3, &#34;Before Migrating From Microsoft Access&#34;</a></p>
</li>
<li>
<p><a href="#i1006073">Section 2.2.4.4, &#34;Before Migrating From MySQL&#34;</a></p>
</li>
<li>
<p><a href="#CHDIGBII">Section 2.2.4.5, &#34;Before Migrating From Teradata&#34;</a></p>
</li>
</ul>
<a id="CHDFGEGB"></a>
<div id="RPTUG45245" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.4.1</span> Before Migrating From IBM DB2<a id="sthref432"></a><a id="sthref433"></a></h4>
<p>To configure an IBM DB2 database for migration:</p>
<ol>
<li>
<p>Ensure that the source database is accessible by the IBM DB2 database user that is used by SQL Developer for the source connection. This user must be able to see any objects to be captured in the IBM DB2 database; objects that the user cannot see are not captured. For example, if the user can execute a stored procedure but does not have sufficient privileges to see the source code, the stored procedure cannot be captured.</p>
</li>
<li>
<p>Ensure that you can connect to the IBM DB2 database from the system where you have installed SQL Developer.</p>
</li>
<li>
<p>Ensure that you have downloaded the <code>db2jcc.jar</code> and <code>db2jcc_license_cu.jar</code> files from IBM.</p>
</li>
<li>
<p>In SQL Developer, do the following:</p>
<ol>
<li>
<p>Click <span class="bold">Tools</span>, then <span class="bold">Preferences</span>, then <span class="bold">Database</span>, then <span class="bold">Third Party JDBC Drivers</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add Entry</span>.</p>
</li>
<li>
<p>Select the <code>db2jcc.jar</code> file.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Repeat steps b through d for the <code>db2jcc_license_cu.jar</code> file.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="i1005806"></a>
<div id="RPTUG41511" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.4.2</span> Before Migrating From Microsoft SQL Server or Sybase Adaptive Server<a id="sthref434"></a><a id="sthref435"></a><a id="sthref436"></a><a id="sthref437"></a><a id="sthref438"></a></h4>
<p>To configure a Microsoft SQL Server or Sybase Adaptive Server database for migration:</p>
<ol>
<li>
<p>Ensure that the source database is accessible by the Microsoft SQL Server or Sybase Adaptive Server user that is used by SQL Developer for the source connection. This user must be able to see any objects to be captured in the Microsoft SQL Server or Sybase Adaptive Server database; objects that the user cannot see are not captured. For example, if the user can execute a stored procedure but does not have sufficient privileges to see the source code, the stored procedure cannot be captured.</p>
</li>
<li>
<p>Ensure that you can connect to the Microsoft SQL Server or Sybase Adaptive Server database from the system where you have installed SQL Developer.</p>
</li>
<li>
<p>Ensure that you have downloaded the JTDS JDBC driver from <code><a href="http://jtds.sourceforge.net/">http://jtds.sourceforge.net/</a></code>.</p>
</li>
<li>
<p>In SQL Developer, if you have not already installed the JTDS driver using Check for Updates (on the Help menu), do the following:</p>
<ol>
<li>
<p>Click <span class="bold">Tools</span>, then <span class="bold">Preferences</span>, then <span class="bold">Database</span>, then <span class="bold">Third Party JDBC Drivers</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add Entry</span>.</p>
</li>
<li>
<p>Select the jar file for the JTDS driver you downloaded from <code><a href="http://jtds.sourceforge.net/">http://jtds.sourceforge.net/</a></code>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</li>
<li>
<p>In SQL Developer, click <span class="bold">Tools</span>, then <span class="bold">Preferences</span>, then <a href="intro.htm#CHDCBDAC"><span class="xreftitlebold">Migration: Identifier Options</span></a>, and ensure that the setting is correct for the <span class="bold">Is Quoted Identifier On</span> option (that is, that the setting reflects the database to be migrated).</p>
<p>If this option is enabled, quotation marks (double-quotes) can be used to refer to identifiers; if this option is not enabled, quotation marks identify string literals. As an example of the difference in behavior, consider the following T-SQL code:</p>
<pre>select col1, &#34;col 2&#34; &#34;column_alias&#34;
from tablex &#34;table_alias&#34;
</pre>
<p>If the Is Quoted Identifier On option is enabled (checked), the following PL/SQL code is generated:</p>
<pre>SELECT col1, <span class="bold">col_2</span> &#34;column_alias&#34;
  FROM tablex &#34;table_alias&#34;;
</pre>
<p>If the Is Quoted Identifier On option is disabled (not checked), the following PL/SQL code is generated:</p>
<pre>SELECT col1, <span class="bold">&#39;col 2&#39;</span> &#34;column_alias&#34;
  FROM tablex &#34;table_alias&#34;;
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="i1005890"></a>
<div id="RPTUG41512" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.4.3</span> Before Migrating From Microsoft Access<a id="sthref439"></a></h4>
<p>To configure a Microsoft Access database for migration:</p>
<ol>
<li>
<p>Make backup copies of the database file or files.</p>
</li>
<li>
<p>Ensure that the necessary software (Microsoft Access, perhaps other components) is installed on the same system as SQL Developer.</p>
</li>
<li>
<p>Ensure that the Admin user has at least Read Design and Read Data permissions on the MSysObjects, MSysQueries, and MSysRelationships system tables, as explained in the information about the <a href="dialogs.htm#BACJJDIA">Access tab</a> in the <a href="dialogs.htm#BACICJAF">Create/Edit/Select Database Connection</a> dialog box.</p>
</li>
<li>
<p>If security is enabled, you should turn it off<a id="sthref440"></a> by copying the contents of the secured database into a new database, as follows:</p>
<p>SQL Developer does not support the migration of Microsoft Access databases that have security enabled. By default, SQL Developer uses the name of the Microsoft Access MDB file as the user name for the destination Oracle user. If you create an Oracle user in this way, the password is ORACLE.</p>
<ol>
<li>
<p>From the <span class="bold">File</span> menu in Microsoft Access, select <span class="bold">New Database</span>.</p>
</li>
<li>
<p>Select the <span class="bold">Blank Database</span> icon, then click <span class="bold">OK</span>.</p>
</li>
<li>
<p>In the File New Database option, type a name for the database, then click <span class="bold">Create</span>.</p>
</li>
<li>
<p>From the <span class="bold">File</span> menu within the new database, select <span class="bold">Get External Data</span>, then select <span class="bold">Import</span>.</p>
</li>
<li>
<p>Select the secured Microsoft Access database that you want to import, then click <span class="bold">Import</span>.</p>
</li>
<li>
<p>From the Import Objects dialog, click <span class="bold">Options</span>.</p>
</li>
<li>
<p>Select the Relationships and Definition and Data options.</p>
</li>
<li>
<p>From the Tables tab, choose <span class="bold">Select All</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
<p>All Microsoft Access objects are copied over to the new Microsoft Access database, except for the security settings.</p>
</li>
</ol>
</li>
<li>
<p>If the application contains linked tables to other Microsoft Access databases, refresh these links by opening the application in Microsoft Access and performing the following:</p>
<p>From the <span class="bold">Tools</span> menu in Microsoft Access 97, select <span class="bold">Add Ins</span>, then select <span class="bold">Linked Table Manager</span>.</p>
<p>From the Tools menu in Microsoft Access 2000, select <span class="bold">Database Utilities</span>, then select <span class="bold">Linked Table Manager</span>.</p>
</li>
<li>
<p>Ensure that the Microsoft Access database is not a replica database, but a master database.</p>
<p>When you use the Exporter for Microsoft Access to export, an error message is displayed if the database is a replica. SQL Developer does not support the migration of a replica database.</p>
</li>
<li>
<p>From the <span class="bold">Tools</span> menu within Microsoft Access, select <span class="bold">Database</span>, then select <span class="bold">Compact Database</span> to compact the Microsoft Access database files.</p>
</li>
<li>
<p>Ensure that the Microsoft Access database file is accessible from the system where you have installed SQL Developer.</p>
</li>
<li>
<p>Use the Oracle Universal Installer to verify that you have the Oracle ODBC driver installed. If you need to install the driver, it is available on the Oracle Database Server or Database Client CD. You can also download the Oracle ODBC driver from the Oracle Technology Network (OTN) website:</p>
<pre><a href="http://www.oracle.com/technetwork/developer-tools/visual-studio/downloads/">http://www.oracle.com/technetwork/developer-tools/visual-studio/downloads/</a>
</pre>
<p>Install the Oracle ODBC driver into an Oracle home directory that contains the Oracle Net Services. You can obtain the Oracle Net Services from the Oracle Client or Oracle Database CD. You install Oracle Net Services to obtain the Net Configuration Assistant and Net Manager. These allow you to create a net configuration in the <code>tnsnames.ora</code> file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about installing the networking products needed to connect to an Oracle database, see the installation guide for your Oracle Database release.</div>
</li>
</ol>
<a id="i1006016"></a>
<div id="RPTUG41513" class="sect4">
<h5 class="sect4"><span class="secnum">2.2.4.3.1</span> Creating <a id="sthref441"></a>Microsoft Access XML Files</h5>
<p>To prepare for capturing a Microsoft Access database, the Exporter for Microsoft Access tool must be run, either automatically or manually, as explained in <a href="#CHDIIEEF">Section 2.2.5, &#34;Capturing the Source Database&#34;</a>. This tool is packaged as a Microsoft Access MDE file and it allows you to export the Microsoft Access MDB file to an XML file.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not modify any of the files created by the Exporter tool.</div>
<p>Each Microsoft Access database that you selected is exported to an XML file. The exporter tool currently does not support creating XML files from secured or replica databases.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="i1006073"></a>
<div id="RPTUG41514" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.4.4</span> Before Migrating From MySQL<a id="sthref442"></a></h4>
<p>To configure a MySQL database for migration, install MySQLConnector/J release 3.1.12 or 5.0.4 on the system where you have installed SQL Developer and set the appropriate SQL Developer preference. Follow these steps:</p>
<ol>
<li>
<p>Ensure that you can connect to the MySQL database from the system where you have installed SQL Developer.</p>
</li>
<li>
<p>Ensure that you have downloaded the MySQLConnector/J API from the MySQL website at <code><a href="http://www.mysql.com/">http://www.mysql.com/</a></code>.</p>
</li>
<li>
<p>In SQL Developer, if you have not already installed the MySQL JDBC driver using Check for Updates (on the Help menu), do the following:</p>
<ol>
<li>
<p>Click <span class="bold">Tools</span>, then <span class="bold">Preferences</span>, then <span class="bold">Database</span>, then <span class="bold">Third Party JDBC Drivers</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add Entry</span>.</p>
</li>
<li>
<p>Select the jar file for the MySQL driver you downloaded from <code><a href="http://www.mysql.com/">http://www.mysql.com/</a></code>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
</ol>
</li>
<li>
<p>Ensure that the source database is accessible by the MySQL user that is used by SQL Developer for the source connection. This user must be able to see any objects to be captured in the MySQL database; objects that the user cannot see are not captured. For example, if the user can execute a stored procedure but does not have sufficient privileges to see the source code, the stored procedure cannot be captured.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CHDIGBII"></a>
<div id="RPTUG45246" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.4.5</span> Before Migrating From Teradata<a id="sthref443"></a></h4>
<p>Note that for the current release of SQL Developer, the following Teradata objects will <span class="italic">not</span> be migrated to Oracle: procedures, functions, triggers, views, macros, and BTEQ scripts.</p>
<p>To configure a Teradata database for migration:</p>
<ol>
<li>
<p>Ensure that the source database is accessible by the Teradata database user that is used by SQL Developer for the source connection. This user must be able to see any objects to be captured in the Teradata database; objects that the user cannot see are not captured.</p>
</li>
<li>
<p>Ensure that you can connect to the Teradata database from the system where you have installed SQL Developer.</p>
</li>
<li>
<p>Ensure that you have downloaded the <code>tdgssconfig.jar</code> and <code>terajdbc4.jar</code> files from Teradata.</p>
</li>
<li>
<p>In SQL Developer, do the following:</p>
<ol>
<li>
<p>Click <span class="bold">Tools</span>, then <span class="bold">Preferences</span>, then <span class="bold">Database</span>, then <span class="bold">Third Party JDBC Drivers</span>.</p>
</li>
<li>
<p>Click <span class="bold">Add Entry</span>.</p>
</li>
<li>
<p>Select the <code>tdgssconfig.jar</code> file.</p>
</li>
<li>
<p>Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Repeat steps b through d for the <code>terajdbc4.jar</code> file.</p>
</li>
</ol>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDIIEEF"></a>
<div id="RPTUG40600" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.5</span> Capturing the Source Database</h3>
<p><a id="sthref444"></a>Before migrating a third-party database, you must extract information from the database. This information is a representation of the structure of the source database, and it is called the captured model. The process of extracting the information from the database is called capturing the source database.</p>
<p>The capture can be done online or offline:</p>
<ul>
<li>
<p><span class="bold">Online capture</span> is done in a convenient guided sequence, during the <a href="#CHDDIGIJ">Migrating Using the Migration Wizard</a> process.</p>
</li>
<li>
<p><span class="bold">Offline capture</span> involves creating a script that you run later, as explained in <a href="#CHDHFDFH">Section 2.2.5.1, &#34;Offline Capture&#34;</a>. You can use offline capture with IBM DB2, MySQL, Microsoft SQL Server databases, and Sybase Adaptive Server.</p>
</li>
</ul>
<p>After capturing the source database, you can view the source database information in the captured model in SQL Developer. If necessary, you can modify the captured model and change data type mappings.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you do not change the default data type mappings unless you are an experienced Oracle database administrator.</div>
<a id="CHDHFDFH"></a>
<div id="RPTUG41517" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.5.1</span> Offline Capture</h4>
<p>To perform an offline capture of an IBM DB2, MySQL, Microsoft SQL Server, or Sybase Adaptive Server database, you create a set of offline capture scripts, run these scripts outside SQL Developer to create the script output (a dump of the third party metadata tables), and load the script output (the .ocp file containing the converted model) using SQL Developer.</p>
<ul>
<li>
<p>To create the script file (a Windows .bat file or a Linux or UNIX .sh file) and related files, click <span class="bold">Tools</span>, then <span class="bold">Migration</span>, then <span class="bold">Create Database Capture Scripts</span>.</p>
<p>When this operation completes, you are notified that several files (.bat, .sql, .ocp) have been created, one of which is the controlling script. You must run the controlling script (outside SQL Developer) to populate the object capture properties (.ocp) file with information about the converted model.</p>
</li>
<li>
<p>To load the converted model from the object capture properties (.ocp) file generated by the offline capture controlling script, click <span class="bold">Tools</span>, then <span class="bold">Migration</span>, then <span class="bold">Third Party Database Offline Capture</span>, then <span class="bold">Load Database Capture Script Output</span>.</p>
</li>
</ul>
<div id="RPTUG45038" class="sect4"><a id="sthref445"></a>
<h5 class="sect4"><span class="secnum">2.2.5.1.1</span> IBM DB2 Offline Capture Notes</h5>
<p>Script files and the db2_x.ocp file are generated in the target folder. The main script is startDump.<span class="italic">xxx</span>, which you must execute to produce the schema dump. The script files prompt you for the database name, user name, and password, and they use this information to connect to the local DB2 database. The scripts generate the schema dump for database objects within object-specific folders.</p>
<p>To capture the schema information in offline file format, use a command in the following format (with the <code>db2</code> executable in the run path):</p>
<pre>db2 -x +o -r <span class="italic">&lt;file name&gt; &lt;schema query&gt;</span>
</pre>
<p>To export the schema data in offline file format, use a command in the following format (with the <code>db2</code> executable in the run path):</p>
<ul>
<li>
<p>For DB2 version 9 data export:</p>
<pre>db2 export to <span class="italic">&lt;file name&gt;</span> of DEL modified by lobsinsepfiles coldel&#34;#&#34; timestampformat=\&#34;YYYY/MM/DD HH.mm.ss\&#34; datesiso nochardel <span class="italic">&lt;select query&gt;</span>
</pre></li>
<li>
<p>For DB2 version 8 data export:</p>
<pre>db2 export to <span class="italic">&lt;file name&gt;</span> of DEL modified by coldel&#34;#&#34; timestampformat=\&#34;YYYY/MM/DD HH.mm.ss\&#34; datesiso nochardel <span class="italic">&lt;select query&gt;</span>
</pre></li>
</ul>
<p>DB2 version 9 supports LOB data in separate files, which is better for migrating large data sizes. With version 8, to support large LOB data, you must modify the oracle ctl file command and db2 command in <code>unload_script.bat</code> or <code>unload_script.sh</code>.</p>
<p>The table data is exported to files with names in the format <span class="italic">&lt;catalog&gt;.&lt;schema&gt;.&lt;table&gt;</span><code>.dat</code>. The format of file is as follows: <code>data1#&lt;COL_DEL&gt; #data2#&lt;COL_DEL&gt;&hellip;&lt;ROW_DEL&gt;</code> where <code>COL_DEL</code> and <code>ROW_DEL</code> come from migration offline preference settings.</p>
<p>Before you execute the DB2 data dump script, you must log in by entering a command in the following format:</p>
<pre>db2 connect to <span class="italic">&lt;catalog&gt;</span> user <span class="italic">&lt;user name&gt;</span> using <span class="italic">&lt;password&gt;</span>
</pre>
<p>You can then execute the script using the logged connection session.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDHFAGE"></a>
<div id="RPTUG40700" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.6</span> Creating and Customizing the Converted Model</h3>
<p><a id="sthref446"></a>After you capture a third-party database, the next step is to convert it, creating the converted model. The converted model is a representation of the structure of the destination database. SQL Developer creates the converted model using the information from the captured model.</p>
<p>By default, all procedures, functions, triggers, and views are copied to the converted model during translation and translated to Oracle PL/SQL. However, if translation fails for any of the objects, those objects appear in the converted model but their original SQL code remains unchanged. Objects that remain in their original SQL code will not be used when the generation scripts are created. Therefore, to have any such objects migrated, you must either fix the problem in the original SQL code before generating the script or edit the generated script to replace the original SQL code with valid PL/SQL code.</p>
<p>The conversion of the captured model to a converted model is done as part of <a href="#CHDDIGIJ">Migrating Using the Migration Wizard</a>. You can specify or accept the defaults for data mappings.</p>
<p>The following topic describes how to modify the converted model, if this becomes necessary:</p>
<ul>
<li>
<p><a href="#CHDJGEHC">Correcting Errors in the Converted Model</a></p>
</li>
</ul>
<a id="CHDJGEHC"></a>
<div id="RPTUG41519" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.6.1</span> Correcting Errors in the Converted Model</h4>
<p><a id="sthref447"></a><a id="sthref448"></a><a id="sthref449"></a>If error messages with the prefix <code>Parse Exception</code> are listed in the migration log, manual intervention is required to resolve the issues. To complete the converted model:</p>
<ol>
<li>
<p>Note the converted model schema object that failed.</p>
</li>
<li id="i1005778">
<p>Select that schema object in the converted model.</p>
</li>
<li>
<p>Copy the schema objects DDL and paste it into the translation scratch editor (displayed by clicking Migration, then Translation Scratch Editor).</p>
</li>
<li>
<p>Inspect the properties on the schema object in the translation scratch editor for possible causes of the error.</p>
</li>
<li>
<p>Modify a property of the schema object in the translation scratch editor.</p>
<p>For example, you might comment out one line of a stored procedure.</p>
</li>
<li id="i1005789">
<p>Translate using the appropriate translator.</p>
</li>
<li>
<p>If the error appears again, repeat steps <a href="#i1005778">2</a> to 6.</p>
</li>
<li>
<p>If the error cannot be resolved in this way, it is best to modify the object manually in the converted model.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFHCJG"></a>
<div id="RPTUG40800" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.7</span> Generating the DDL for the Oracle Schema Objects</h3>
<p>To generate the DDL statements to create the Oracle schema objects, you must already have captured the captured model and created the converted model. After you generate the DDL, you can run the DDL statements to cause the objects to be created in the Oracle database. At this point, the database schema is migrated to Oracle.</p>
<p>After you generate and run the DDL statements to migrate the schema objects, you can migrate the data from the original source database, as explained in <a href="#CHDJCGGI">Section 2.2.8</a>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJCGGI"></a>
<div id="RPTUG40900" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.8</span> Migrating the Data</h3>
<p>The Migration Wizard lets you choose whether to migrate (move) any existing data from the source database to the Oracle database. If you choose to migrate the data:</p>
<ul>
<li>
<p>If you are performing migration in online mode, you can perform the data migration in online or offline mode.</p>
</li>
<li>
<p>If you are performing the migration in offline mode, the data migration is included in the generated files.</p>
</li>
</ul>
<p>Online data moves are suitable for small data sets, whereas offline data moves are useful for moving large volumes of data.</p>
<a id="CHDJFJBH"></a>
<div id="RPTUG41522" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.8.1</span> Transferring the Data Offline</h4>
<p><a id="sthref450"></a><a id="sthref451"></a>To transfer the data offline, you generate and use scripts to copy data from the source database to the destination database. During this process you must:</p>
<ul>
<li>
<p>Use SQL Developer to generate the data unload scripts for the source database and corresponding data load scripts for the destination database.</p>
</li>
<li>
<p>Run the data unload scripts to create data files from the source database using the appropriate procedure for your source database:</p>
<ul>
<li>
<p><a href="#CHDCIHHA">Creating Data Files From Microsoft SQL Server or Sybase Adaptive Server</a></p>
</li>
<li>
<p><a href="#CHDIBDBI">Creating Data Files From Microsoft Access</a></p>
</li>
<li>
<p><a href="#CHDDDCBC">Creating Data Files From MySQL</a></p>
</li>
<li>
<p>For IBM DB2, see the chapter about offline data loading in <a class="olink RPTID179" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=RPTID179"><span class="italic">Oracle SQL Developer Supplementary Information for IBM DB2 Migrations</span></a>.</p>
</li>
<li>
<p>For Teradata, perform the offline data move using BTEQ and SQL*Loader.</p>
</li>
</ul>
</li>
<li>
<p>Run the data load scripts using SQL*Loader to populate the destination database with the data from these data files as described in <a href="#CHDEAJCE">Section 2.2.8.1.4</a>.</p>
</li>
</ul>
<a id="CHDCIHHA"></a>
<div id="RPTUG41523" class="sect4">
<h5 class="sect4"><span class="secnum">2.2.8.1.1</span> Creating Data Files From <a id="sthref452"></a><a id="sthref453"></a><a id="sthref454"></a>Microsoft SQL Server or Sybase Adaptive Server</h5>
<p>To create data files from a Microsoft SQL Server or Sybase Adaptive Server database:</p>
<ol>
<li>
<p>Copy the contents of the directory where SQL Developer generated the data unload scripts onto the computer where the source database is installed.</p>
</li>
<li>
<p>Edit the BCP extract script to include the name of the source database server.</p>
<ul>
<li>
<p>On Windows, edit the <code>unload_script.bat</code> script to alter the bcp lines to include the appropriate variables.</p>
</li>
</ul>
<p>The following shows a line from a sample <code>unload_script.bat</code> script:</p>
<pre>bcp &#34;AdventureWorks.dbo.AWBuildVersion&#34; out &#34;[AdventureWorks].[dbo].[AWBuildVersion].dat&#34; -q -c -t &#34;&lt;EOFD&gt;&#34; -r &#34;&lt;EORD&gt;&#34; -U&lt;Username&gt; -P&lt;Password&gt; -S&lt;ServerName&gt;
</pre></li>
<li>
<p>Run the BCP extract script.</p>
<ul>
<li>
<p>On Windows, enter:</p>
<pre>prompt&gt; unload_script.bat
</pre></li>
</ul>
<p>This script creates the data files in the current directory.</p>
</li>
<li>
<p>Copy the data files and scripts, if necessary, to the target Oracle database system, or to a system that has access to the target Oracle database and has SQL*Loader (Oracle Client) installed.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<a id="CHDIBDBI"></a>
<div id="RPTUG41524" class="sect4">
<h5 class="sect4"><span class="secnum">2.2.8.1.2</span> Creating Data Files From <a id="sthref455"></a>Microsoft Access</h5>
<p>To create data files from a Microsoft Access database, use the Exporter for Microsoft Access tool.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For information about how to create data files from a Microsoft Access database, see online help for the exporter tool.</div>
</div>
<!-- class="sect4" -->
<a id="CHDDDCBC"></a>
<div id="RPTUG41525" class="sect4">
<h5 class="sect4"><span class="secnum">2.2.8.1.3</span> Creating Data Files From <a id="sthref456"></a>MySQL</h5>
<p>To create data files from a MySQL database:</p>
<ol>
<li>
<p>Copy the contents of the directory where SQL Developer generated the data unload scripts, if necessary, onto the system where the source database is installed or a system that has access to the source database and has the mysqldump tool installed.</p>
</li>
<li>
<p>Edit the <code>unload_script</code> script to include the correct host, user name, password, and destination directory for the data files.</p>
<ul>
<li>
<p>On Windows, edit the <code>unload_script.bat</code> script.</p>
</li>
<li>
<p>On Linux or UNIX, edit the <code>unload_script.sh</code> script.</p>
</li>
</ul>
<p>The following shows a line from a sample <code>unload_script.bat</code> script:</p>
<pre>mysqldump -h localhost -u &lt;USERNAME&gt; -p&lt;PASSWORD&gt;  -T &lt;DESTINATION_PATH&gt; 
--fields-terminated-by=&#34;&lt;EOFD&gt;&#34; --fields-escaped-by=&#34;&#34; 
--lines-terminated-by=&#34;&lt;EORD&gt;&#34; &#34;CarrierDb&#34; &#34;CarrierPlanTb&#34;
</pre>
<p>Edit this line to include the correct values for <span class="italic">USERNAME, PASSWORD</span>, and <span class="italic">DESTINATION PATH</span>. Do not include the angle brackets in the edited version of this file.</p>
<p>In this command line, <code>localhost</code> indicates a loopback connection, which is required by the -T option. (See the mysqldump documentation for more information.)</p>
</li>
<li>
<p>Run the script.</p>
<ul>
<li>
<p>On Windows, enter:</p>
<pre>prompt&gt; unload_script.bat
</pre></li>
<li>
<p>On Linux or UNIX, enter:</p>
<pre>prompt&gt; chmod 755 unload_script.sh
prompt&gt; sh ./unload_script.sh
</pre></li>
</ul>
<p>This script creates the data files in the current directory.</p>
</li>
<li>
<p>Copy the data files and scripts, if necessary, to the target Oracle database system, or to a system that has access to the target Oracle database and has SQL*Loader (Oracle Client) installed.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<a id="CHDEAJCE"></a>
<div id="RPTUG41526" class="sect4">
<h5 class="sect4"><span class="secnum">2.2.8.1.4</span> Populating the Destination Database Using the Data Files</h5>
<p>To populate the destination database using the data files, you run the data load scripts using SQL*Loader:</p>
<ol>
<li>
<p>Navigate to the directory where you created the data unload scripts.</p>
</li>
<li>
<p>Edit the <code>oracle_ctl.bat</code> (Windows systems) or <code>oractl_ctl.sh</code> (Linux or UNIX systems) file, to provide the appropriate user name and password strings.</p>
</li>
<li>
<p>Run the SQL Load script.</p>
<ul>
<li>
<p>On Windows, enter:</p>
<pre>prompt&gt; oracle_ctl.bat
</pre></li>
<li>
<p>On Linux or UNIX, enter:</p>
<pre>prompt&gt; ./oracle_ctl.sh
</pre></li>
</ul>
</li>
</ol>
<p>For Microsoft SQL Server and Sybase migrations, if you are inserting into BLOB fields with SQL*Loader, you will receive the following error:</p>
<pre>SQL*Loader-309: No SQL string allowed as part of LARGEOBJECT field specification
</pre>
<p>To handle situations indicated by this error, you can use either one of the following options:</p>
<ul>
<li>
<p>Enable the Generate Stored Procedure for Migrate Blobs Offline SQL Developer preference (see <a href="intro.htm#CHDGAIBA">Migration: Generation Options</a>).</p>
</li>
<li>
<p>Use the following <a href="#CHDBDBGA">Workaround</a>.</p>
</li>
</ul>
<p class="subhead2"><a id="CHDBDBGA"></a><a id="RPTUG41527"></a>Workaround</p>
<p>The workaround is to load the data (which is in hex format) into an additional CLOB field and then convert the CLOB to a BLOB through a PL/SQL procedure.</p>
<p>The only way to export binary data properly through the Microsoft SQL Server or Sybase Adaptive Server BCP is to export it in a hexadecimal (hex) format; however, to get the hex values into Oracle, save them in a CLOB (holds text) column, and then convert the hex values to binary values and insert them into the BLOB column. The problem here is that the HEXTORAW function in Oracle only converts a maximum of 2000 hex pairs. Consequently, write your own procedure that will convert (piece by piece) your hex data to binary. (In the following steps and examples, modify the START.SQL and FINISH.SQL to reflect your environment.</p>
<p>The following shows the code for two scripts, <code>start.sql</code> and <code>finish.sql</code>, that implement this workaround. Read the comments in the code, and modify any SQL statements as needed to reflect your environment and your needs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
After you run <code>start.sql</code> and before you run <code>finish.sql</code>, run BCP; and before you run BCP, change the relevant line in the <code>.ctl</code> file from:
<pre>&lt;blob_column&gt; CHAR(2000000) &#34;HEXTORAW (:&lt;blob_column&gt;)&#34;
</pre>
<p>to:</p>
<pre>&lt;blob_column&gt;_CLOB CHAR(2000000)
</pre></div>
<pre>-- START.SQL
-- Modify this for your environment.
 
-- This should be executed in the user schema in Oracle that contains the table.
-- DESCRIPTION:
-- ALTERS THE OFFENDING TABLE SO THAT THE DATA MOVE CAN BE EXECUTED
-- DISABLES TRIGGERS, INDEXES AND SEQUENCES ON THE OFFENDING TABLE
 
-- 1) Add an extra column to hold the hex string;
alter table &lt;tablename&gt; add (&lt;blob_column&gt;_CLOB CLOB);
 
-- 2) Allow the BLOB column to accept NULLS
alter table &lt;tablename&gt; MODIFY &lt;blob_column&gt; NULL;
 
-- 3) Disable triggers and sequences on &lt;tablename&gt;
alter trigger &lt;triggername&gt; disable;
 
alter table &lt;tablename&gt; drop primary key cascade;
 
drop index &lt;indexname&gt;;
 
-- 4) Allow the table to use the tablespace
alter table &lt;tablename&gt; move lob (&lt;blob_column&gt;) store as (tablespace lob_tablespace);
 
alter table &lt;tablename&gt; move lob (&lt;blob_column&gt;_clob) store as (tablespace lob_tablespace);
 
COMMIT;
 
-- END OF FILE
 
 
-- FINISH.SQL
-- Modify this for your enironment.
 
-- This should be executed in the table schema in Oracle.
-- DESCRIPTION:
-- MOVES THE DATA FROM CLOB TO BLOB
-- MODIFIES THE TABLE BACK TO ITS ORIGINAL SPEC (without a clob)
-- THEN ENABLES THE SEQUENCES, TRIGGERS AND INDEXES AGAIN
 
-- Currently we have the hex values saved as 
-- text in the &lt;blob_column&gt;_CLOB column
-- And we have NULL in all rows for the &lt;blob_column&gt; column.
-- We have to get BLOB locators for each row in the BLOB column
 
-- put empty blobs in the blob column
UPDATE &lt;tablename&gt; SET &lt;blob_column&gt;=EMPTY_BLOB();
 
COMMIT;
 
-- create the following procedure in your table schema
CREATE OR REPLACE PROCEDURE CLOBTOBLOB
AS
inputLength NUMBER; -- size of input CLOB
offSet NUMBER := 1;
pieceMaxSize NUMBER := 2000; -- the max size of each peice
piece VARCHAR2(2000); -- these pieces will make up the entire CLOB
currentPlace NUMBER := 1; -- this is where were up to in the CLOB
blobLoc BLOB; -- blob locator in the table
clobLoc CLOB; -- clob locator pointsthis is the value from the dat file
 
-- THIS HAS TO BE CHANGED FOR SPECIFIC CUSTOMER TABLE 
-- AND COLUMN NAMES
CURSOR cur IS SELECT &lt;blob_column&gt;_clob clob_column , &lt;blob_column&gt; blob_column FROM /*table*/&lt;tablename&gt; FOR UPDATE;
 
cur_rec cur%ROWTYPE;
 
BEGIN
 
OPEN cur;
FETCH cur INTO cur_rec;
 
WHILE cur%FOUND
LOOP
--RETRIVE THE clobLoc and blobLoc
clobLoc := cur_rec.clob_column;
blobLoc := cur_rec.blob_column;
 
currentPlace := 1; -- reset evertime
-- find the lenght of the clob
inputLength := DBMS_LOB.getLength(clobLoc);
 
-- loop through each peice
LOOP
-- get the next piece and add it to the clob
piece := DBMS_LOB.subStr(clobLoc,pieceMaxSize,currentPlace);
 
-- append this piece to the BLOB
DBMS_LOB.WRITEAPPEND(blobLoc, LENGTH(piece)/2, HEXTORAW(piece));
 
currentPlace := currentPlace + pieceMaxSize ;
 
EXIT WHEN inputLength &lt; currentplace;
END LOOP;
 
FETCH cur INTO cur_rec;
END LOOP;
 
END CLOBtoBLOB;
/
 
-- now run the procedure
-- It will update the blob column with the correct binary representation
-- of the clob column
EXEC CLOBtoBLOB;
 
-- drop the extra clob cloumn
alter table &lt;tablename&gt; drop column &lt;blob_column&gt;_clob;
 
-- 2) apply the constraint we removed during the data load
alter table &lt;tablename&gt; MODIFY FILEBINARY NOT NULL;
 
-- Now re enable the triggers, indexes and primary keys
alter trigger &lt;triggername&gt; enable;
 
ALTER TABLE &lt;tablename&gt; ADD ( CONSTRAINT &lt;pkname&gt; PRIMARY KEY ( &lt;column&gt;) ) ;
 
CREATE INDEX &lt;index_name&gt; ON &lt;tablename&gt;( &lt;column&gt; );
 
COMMIT;
 
-- END OF FILE
</pre></div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDBIAIE"></a>
<div id="RPTUG41528" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.9</span> <a id="sthref457"></a>Making Queries Case Insensitive</h3>
<p>With several third-party databases, it is common for queries to be case insensitive. For example, in such cases the following queries return the same results:</p>
<pre>SELECT * FROM orders WHERE sales_rep = &#39;Oracle&#39;;
SELECT * FROM orders WHERE sales_rep = &#39;oracle&#39;;
SELECT * FROM orders WHERE sales_rep = &#39;OrAcLe&#39;;
</pre>
<p>If you want queries to be case insensitive for a user in the Oracle database, you can create an AFTER LOGON ON DATABASE trigger, in which you set, for that database user, the NLS_SORT session parameter to an Oracle sort name with <code>_CI</code> (for &#34;case insensitive&#34;) appended.</p>
<p>The following example causes queries for user SMITH to use the German sort order and to be case insensitive:</p>
<pre>CREATE OR REPLACE TRIGGER set_sort_order AFTER LOGON ON DATABASE
 DECLARE
  username VARCHAR2(30);
 BEGIN
  username:=SYS_CONTEXT(&#39;USERENV&#39;,&#39;SESSION_USER&#39;);
  IF username LIKE &#39;SMITH&#39; then
   execute immediate &#39;alter session set NLS_COMP=LINGUISTIC&#39;;
   execute immediate  &#39;alter session set <span class="bold">NLS_SORT=GERMAN_CI</span>&#39;;
  END IF;
 END; 
</pre></div>
<!-- class="sect2" -->
<a id="CHDCFFJF"></a>
<div id="RPTUG41000" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.10</span> Testing the Oracle Database</h3>
<p>During the testing phase, you test the application and Oracle database to make sure that the:</p>
<ul>
<li>
<p>Migrated data is complete and accurate</p>
</li>
<li>
<p>Applications function in the same way as the source database</p>
</li>
<li>
<p>Oracle database produces the same results as the source database</p>
</li>
<li>
<p>Applications and Oracle database meet the operational and performance requirements</p>
</li>
</ul>
<p>You may already have a collection of unit tests and system tests from the original application that you can use to test the Oracle database. You should run these tests in the same way that you ran tests against the source database. However, regardless of added features, you should ensure that the application connects to the Oracle database and that the SQL statements it issues produces the correct results.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The tests that you run against the application vary depending on the scope of the application. Oracle recommends that you thoroughly test each SQL statement that is changed in the application. You should also test the system to make sure that the application functions the same way as in the third-party database.</div>
<p>See also the following:</p>
<ul>
<li>
<p><a href="#CHDIDABH">Section 2.2.10.1, &#34;Testing Methodology&#34;</a></p>
</li>
<li>
<p><a href="#CHDGFHCF">Section 2.2.10.2, &#34;Testing the Oracle Database&#34;</a></p>
</li>
</ul>
<a id="CHDIDABH"></a>
<div id="RPTUG41531" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.10.1</span> Testing Methodology</h4>
<p>Many constraints shape the style and amount of testing that you perform on a database. Testing can contain one or all of the following:</p>
<ul>
<li>
<p>Simple data validation</p>
</li>
<li>
<p>Full life cycle of testing addressing individual unit tests</p>
</li>
<li>
<p>System and acceptance testing</p>
</li>
</ul>
<p>You should follow a strategy for testing that suits your organization and circumstances. Your strategy should define the process by which you test the migrated application and Oracle database. A typical test method is the V-model, which is a staged approach where each feature of the database creation is mirrored with a testing phase.</p>
<p><a href="#BHAFDAIH">Figure 2-2, &#34;V-model with a Database Migration&#34;</a> shows an example of the V-model with a database migration scenario:</p>
<div id="RPTUG41532" class="figure">
<p class="titleinfigure"><a id="BHAFDAIH"></a>Figure 2-2 V-model with a Database Migration</p>
<img width="574" height="170" src="img/vmodel.gif" alt="Description of Figure 2-2 follows"/><br/>
<a id="sthref458" href="img_text/vmodel.htm">Description of &#34;Figure 2-2 V-model with a Database Migration&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>There are several types of tests that you use during the migration process. During the testing stage, you go through several cycles of testing to enhance the quality of the database. The test cases you use should make sure that any issues encountered in a previous version of the Oracle database are not introduced again.</p>
<p>For example, if you have to make changes to the migrated schema based on test results, you may need to create a new version of the Oracle database schema. In practice, you use SQL Developer to create a base-line Oracle schema at the start of testing, and then edit this schema as you progress with testing.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you track issues that you find during a testing cycle in an issue tracking system. Track these issues against the version of the database or application that you are testing.</div>
</div>
<!-- class="sect3" -->
<a id="CHDGFHCF"></a>
<div id="RPTUG41533" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.10.2</span> Testing the Oracle Database</h4>
<p>Use the test cases to verify that the Oracle database provides the same business logic results as the source database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you define completion criteria so that you can determine the success of the migration.</div>
<p>This procedure explains one way of testing the migrated database. Other methods are available and may be more appropriate to your business requirements.</p>
<p>To test the Oracle database:</p>
<a id="i1005760"></a>
<ol>
<li id="BHAFEJBC">
<p>Create a controlled version of the migrated database.</p>
<p>Oracle recommends that you keep the database migration scripts in a source control system.</p>
</li>
<li>
<p>Design a set of test cases that you can use to test the Oracle database from unit to system level. The test cases should:</p>
<ol>
<li>
<p>Ensure the following:</p>
<ul>
<li>
<p>All the users in the source database have migrated successfully</p>
</li>
<li>
<p>Privileges and grants for users are correct</p>
</li>
<li>
<p>Tables have the correct structure, defaults are functioning correctly, and errors did not occur during mapping or generation</p>
</li>
</ul>
</li>
<li>
<p>Validate that the data migrated successfully by doing the following:</p>
<ul>
<li>
<p>Comparing the number of rows in the Oracle database with those in the source database</p>
</li>
<li>
<p>Calculating the sum of numerical columns in the Oracle database and compare with those in the source database</p>
</li>
</ul>
</li>
<li>
<p>Ensure that the following applies to constraints:</p>
<ul>
<li>
<p>You cannot enter duplicate primary keys</p>
</li>
<li>
<p>Foreign keys prevent you from entering inconsistent data</p>
</li>
<li>
<p>Check constraints prevent you from entering invalid data</p>
</li>
</ul>
</li>
<li>
<p>Check that indexes and sequences are created successfully.</p>
</li>
<li>
<p>Ensure that views migrated successfully by doing the following:</p>
<ul>
<li>
<p>Comparing the number of rows in the Oracle database with those in the source database</p>
</li>
<li>
<p>Calculating the sum of numerical columns in the Oracle database and compare with those in the source database</p>
</li>
</ul>
</li>
<li>
<p>Ensure that triggers, procedures, and functions are migrated successfully. Check that the correct values are returned for triggers and functions.</p>
</li>
</ol>
</li>
<li id="i1005780">
<p>Run the test cases against the migrated database.</p>
</li>
<li id="i1005782">
<p>Create a report that evaluates the test case results.</p>
<p>These reports allow you to evaluate the data to qualify the errors, file problem reports, and provide a customer with a controlled version of the database.</p>
</li>
<li>
<p>If the tests pass, go to step <a href="#i1005807">7</a>.</p>
<p>If all tests in the test cases pass or contain acceptable errors, the test passes. If acceptable errors occur, document them in an error report that you can use for audit purposes.</p>
</li>
<li>
<p>If the test cases fail:</p>
<ol>
<li>
<p>Identify the cause of the error.</p>
</li>
<li>
<p>Identify the test cases needed to check the errors.</p>
</li>
<li>
<p>Log an issue on the controlled version of the migrated database code in the problem report.</p>
</li>
<li>
<p>Add the test case and a description of the problem to the incident tracking system of your organization, which could be a spreadsheet or bug reporting system. Aside from the test case, the incident log should include the following:</p>
<ul>
<li>
<p>Provide a clear, concise description of the incident encountered</p>
</li>
<li>
<p>Provide a complete description of the environment, such as platform and source control version</p>
</li>
<li>
<p>Attach the output of the test, if useful</p>
</li>
<li>
<p>Indicate the frequency and predictability of the incident</p>
</li>
<li>
<p>Provide a sequence of events leading to the incident</p>
</li>
<li>
<p>Describe the effect on the current test, diagnostic steps taken, and results noted</p>
</li>
<li>
<p>Describe the persistent after effect, if any</p>
</li>
</ul>
</li>
<li>
<p>Attempt to fix the errors.</p>
</li>
<li>
<p>Return to step <a href="#BHAFEJBC">1</a>.</p>
</li>
</ol>
</li>
<li id="i1005807">
<p>Identify acceptance tests that you can use to make sure the Oracle database is an acceptable quality level.</p>
</li>
</ol>
<div id="RPTUG41534" class="sect4"><a id="sthref459"></a>
<h5 class="sect4"><span class="secnum">2.2.10.2.1</span> Guidelines for Creating Tests</h5>
<p>You may already have a collection of unit tests and system tests from the original application that you can use to test the Oracle database. However, if you do not have any unit or system tests, you need to create them. When creating test cases, use the following guidelines:</p>
<ul>
<li>
<p>Plan, specify, and execute the test cases, recording the results of the tests.</p>
<p>The amount of testing you perform is proportional to the time and resources that are available for the migration project. Typically, the testing phase in a migration project can take anywhere from 40% to 60% of the effort for the entire project.</p>
</li>
<li>
<p>Identify the components that you are testing, the approach to the test design and the test completion criteria.</p>
</li>
<li>
<p>Define each test case so that it is reproducible.</p>
<p>A test that is not reproducible is not acceptable for issue tracking or for an audit process.</p>
</li>
<li>
<p>Divide the source database into functions and procedures and create a test case for each function or procedure. In the test case, state what you are going to test, define the testing criteria, and describe the expected results.</p>
</li>
<li>
<p>Record the expected result of each test case.</p>
</li>
<li>
<p>Verify that the actual results meet the expected results for each test.</p>
</li>
<li>
<p>Define test cases that produce negative results as well as those that you expect a positive result.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<div id="RPTUG41535" class="sect4"><a id="sthref460"></a>
<h5 class="sect4"><span class="secnum">2.2.10.2.2</span> Example of a Unit Test Case</h5>
<p>The following displays a sample unit test plan for Windows:</p>
<p>Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jane Harrison</p>
<p>Module&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Table Test Emp</p>
<p>Date test&nbsp;completed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23 May 2007</p>
<p>Coverage log file location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mwb\database\TableTestEmp</p>
<p>Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This unit test tests that the emp table was migrated successfully.</p>
<p>Reviewed by&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;John Smith</p>
<div class="inftblinformal">
<table class="cellalignment326" title="Unit Test Case Example" summary="Displays a sample unit test plan that includes the task ID, description of the task, expected result of the test, and whether the test was verified." dir="ltr">
<thead>
<tr class="cellalignment317">
<th class="cellalignment324" id="r1c1-t16">Task ID</th>
<th class="cellalignment324" id="r1c2-t16">Task Description</th>
<th class="cellalignment324" id="r1c3-t16">Expected Result</th>
<th class="cellalignment324" id="r1c4-t16">Verified (Yes/No)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment317">
<td class="cellalignment325" id="r2c1-t16" headers="r1c1-t16">1</td>
<td class="cellalignment325" headers="r2c1-t16 r1c2-t16">Run the following on the source database for each table:
<pre>select count(*) from emp
</pre>
<p>Run the following on the destination database for each table:</p>
<pre>select count(*) from emp
</pre>
<pre></pre></td>
<td class="cellalignment325" headers="r2c1-t16 r1c3-t16">On the source database, the count(*) produces a number. In this case, the number is the number of rows in each table.
<p>On the destination database, the count(*) number corresponds to the number of rows in the new Oracle table.</p>
</td>
<td class="cellalignment325" headers="r2c1-t16 r1c4-t16">Yes
<p>The number of rows in each table is the same in the source and destination databases.</p>
</td>
</tr>
<tr class="cellalignment317">
<td class="cellalignment325" id="r3c1-t16" headers="r1c1-t16">2</td>
<td class="cellalignment325" headers="r3c1-t16 r1c2-t16">Run the following on the source database for each table:
<pre>select sum(salary) from emp
</pre>
<p>Run the following on the destination database for each table:</p>
<pre>select sum(salary) from emp
</pre></td>
<td class="cellalignment325" headers="r3c1-t16 r1c3-t16">On the source database, sum(salary) produces a check sum for the sum of the data in each table.
<p>On the destination database, sum(salary) corresponds to the sum of the salary in the emp table.</p>
</td>
<td class="cellalignment325" headers="r3c1-t16 r1c4-t16">Yes
<p>The sum for each table is the same in the source and destination databases.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDCHHE"></a>
<div id="RPTUG41100" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.11</span> <a id="sthref461"></a><a id="sthref462"></a>Deploying the Oracle Database</h3>
<p>Deploying the migrated and tested Oracle database within a business environment can be difficult. Therefore, you may need to consider different rollout strategies depending on your environment. Several rollout strategies are identified for you, but you may use another approach if that is recommended by your organization.</p>
<p>During the deployment phase, you move the destination database from a development to a production environment. A group separate from the migration and testing team, may perform the deployment phase, such as the in-house IT department.</p>
<p>Deployment involves the following:</p>
<ul>
<li>
<p><a href="#CHDBGEEF">Choosing a Rollout Strategy</a></p>
</li>
<li>
<p><a href="#CHDFIAJB">Deploying the Destination Database</a></p>
</li>
</ul>
<a id="CHDBGEEF"></a>
<div id="RPTUG41537" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.11.1</span> Choosing a Rollout Strategy</h4>
<p>The strategy that you use for migrating a third-party database to an Oracle database must take into consideration the users and the type of business that may be affected during the transition period. For example, you may use the Big Bang approach because you do not have enough systems to run the source database and Oracle database simultaneously. Otherwise, you may want to use the Phased approach to make sure that the system is operating in the user environment correctly before it is released to the general user population. You can use one of the following approaches.</p>
<div id="RPTUG41538" class="sect4"><a id="sthref463"></a>
<h5 class="sect4"><span class="secnum">2.2.11.1.1</span> Phased Approach</h5>
<p>Using the Phased approach, you migrate groups of users at different times. You may decide to migrate a department or a subset of the complete user-base. The users that you select should represent a cross-section of the complete user-base. This approach allows you to profile users as you introduce them to the Oracle database. You can reconfigure the system so that only selected users are affected by the migration and unscheduled outages only affect a small percentage of the user population. This approach may affect the work of the users you migrated. However, because the number of users is limited, support services are not overloaded with issues.</p>
<p>The Phased approach allows you to debug scalability issues as the number of migrated users increases. However, using this approach may mean that you must migrate data to and from legacy systems during the migration process. The application architecture must support a phased approach.</p>
</div>
<!-- class="sect4" -->
<div id="RPTUG41539" class="sect4"><a id="sthref464"></a>
<h5 class="sect4"><span class="secnum">2.2.11.1.2</span> Big Bang Approach</h5>
<p>Using the Big Bang approach, you migrate all of the users at the same time. This approach may cause schedule outages during the time you are removing the old system, migrating the data, deploying the Oracle system, and testing that the system is operating correctly. This approach relies on you testing the database on the same scale as the original database. It has the advantage of minimal data conversion and synchronization with the original database because that database is switched off. The disadvantage is that this approach can be labor intensive and disruptive to business activities due to the switch over period needed to install the Oracle database and perform the other migration project tasks.</p>
</div>
<!-- class="sect4" -->
<div id="RPTUG41540" class="sect4"><a id="sthref465"></a>
<h5 class="sect4"><span class="secnum">2.2.11.1.3</span> Parallel Approach</h5>
<p>Using the Parallel approach, you maintain both the source database and destination Oracle database simultaneously. To ensure that the application behaves the same way in the production environment for the source database and destination database, you enter data in both databases and analyze the data results. The advantage of this approach is if problems occur in the destination database, users can continue using the source database. The disadvantage of the Parallel approach is that running and maintaining both the source and the destination database may require more resources and hardware than other approaches.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CHDFIAJB"></a>
<div id="RPTUG41541" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.11.2</span> Deploying the Destination Database</h4>
<p>There are several ways to deploy the destination database. The following task is an example that you should use as a guideline for deploying the destination database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you have a complex scenario as defined in <a href="#CACBAAJI">Table 2-1</a>, Oracle recommends that you complete all of the deployment tasks. However, if you have a simple scenario, you should choose the deployment tasks appropriate to your organization.</div>
<ol>
<li>
<p>Configure the hardware, if necessary.</p>
<p>In a large scale or complex environment, you must design the disk layout to correspond with the database design. If you use redundant disks, align them in stripes that you can increase as the destination database evolves. You must install and configure the necessary disks, check the memory, and configure the system.</p>
</li>
<li>
<p>Make sure the operating system meets the parameters of the Oracle configuration.</p>
<p>Before installing any Oracle software, make sure that you have modified all system parameters. For more information about modifying system parameters, see the relevant installation guide for your platform, such as Solaris Operating System.</p>
</li>
<li>
<p>Install the Oracle software.</p>
<p>Aside from the Oracle software that allows you to create an Oracle database, you may need to install ancillary software to support the application, such as Extract Transformation and Load (ETL) Software for data warehousing.</p>
</li>
<li>
<p>Create the destination database from the source database and migrate the data to the Oracle database.</p>
<p>There are several ways of putting the destination database into production after testing it, such as:</p>
<ul>
<li>
<p>Place the successfully tested database into production. The test system is now the production system.</p>
</li>
<li>
<p>Use Oracle Export to extract the destination database from the successfully tested database and use Oracle Import to create that database within the production environment.</p>
</li>
<li>
<p>Use the tested migration scripts to create the Oracle database and populate it with data using SQL*Loader.</p>
</li>
</ul>
</li>
<li>
<p>Perform the final checks on the destination database and applications.</p>
</li>
<li>
<p>Place the destination database into production using one of the rollout strategies.</p>
</li>
<li>
<p>Perform a final audit by doing the following:</p>
<ul>
<li>
<p>Audit the integrity of the data</p>
</li>
<li>
<p>Audit the validity of the processes, such as back-up and recovery</p>
</li>
<li>
<p>Obtain sign-off for the project, if necessary</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFHCEH"></a>
<div id="RPTUG41300" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.3</span> <a id="sthref466"></a><a id="sthref467"></a>SQL Developer User Interface for Migration</h2>
<p>If you are performing database migration, you need to use some migration-specific features in addition to those described in <a href="intro.htm#BHAHIFGB">Section 1.2, &#34;SQL Developer User Interface&#34;</a>. The user interface includes an additional navigator (Migration Projects), a Migration submenu under Tools, and many smaller changes throughout the interface. <a href="#CHDDJCGI">Figure 2-3, &#34;Main Window for a Database Migration&#34;</a> shows the SQL Developer main window with objects reflecting the migration of a Microsoft Access application named sales.mdb. It also shows the <a href="#CHDFFEIC">Migration Submenu</a>.</p>
<div id="RPTUG41543" class="figure">
<p class="titleinfigure"><a id="CHDDJCGI"></a>Figure 2-3 Main Window for a Database Migration</p>
<img width="717" height="590" src="img/ui_migration.jpg" alt="Migration features in the main window"/><br/></div>
<!-- class="figure" -->
<p>In this figure:</p>
<ul>
<li>
<p>The Connections navigator shows two database connections: <code>sales_access</code> connected to a Microsoft Access database named sales.mdb, and <code>sales_oracle</code> connected to an Oracle user named SALES whose schema owns the migrated schema objects. Not shown is the <code>migration_repository</code> connection (to a user named MIGRATION) used for the migration repository.</p>
</li>
<li>
<p>The <span class="bold">Migration Projects</span> navigator shows one captured model, which was created using an XML file created by the exporter tool for Access applications. (If the source database is a type other than Microsoft Access, the procedure for creating the captured model is different: you can generate it directly from the source database connection.)</p>
<p>The Migration Projects navigator also shows one converted model, which is an Oracle representation of the source database. The converted model is created from the captured model, and the converted model is used to generate the schema objects that you can see using an Oracle database connection (<code>sales_oracle</code> in this figure).</p>
</li>
</ul>
<a id="CHDFFEIC"></a>
<div id="RPTUG41545" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.3.1</span> Migration Submenu</h3>
<p>The Migration submenu contains options related to migrating third-party databases to Oracle. To display the Migration submenu, click <span class="bold">Tools</span>, then <span class="bold">Migration</span>.</p>
<p><span class="bold">Migrate</span>: Displays a wizard for performing an efficient migration. The wizard displays steps and options relevant to your specified migration.</p>
<p><span class="bold">Repository Management</span>: Enables you to create, delete, or truncate (remove all data from) a migration repository; select the current migration repository; and disconnect from the current migration repository (which deactivates the current repository but does not disconnect from the database).</p>
<p><span class="bold">Microsoft Access Exporter</span>: Contains submenu items from which you specify the version of the exporter tool to use to create an XML file to be used for creating the captured model. You can also use the exporter tool to export table data. Specify the exporter tool version for the version of Access that is on your PC and that was used to create the .mdb file.</p>
<p><span class="bold">Create Database Capture Scripts</span> specifies options for creating script files, including an offline capture properties (.ocp) file, which you can later load and run.</p>
<p><span class="bold">Translation Scratch Editor</span>: Displays the translation scratch editor, which is explained in <a href="#CHDCJDBJ">Section 2.3.5</a>.</p>
</div>
<!-- class="sect2" -->
<div id="RPTUG41546" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref468"></a>
<h3 class="sect2"><span class="secnum">2.3.2</span> Other Menus: Migration Items</h3>
<p>The <span class="bold">View</span> menu has the following item related to database migration:</p>
<ul>
<li>
<p><span class="bold">Migration Projects</span>: Displays the Migration Projects navigator, which includes any captured models and converted models in the currently selected migration repository.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<div id="RPTUG41547" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref469"></a>
<h3 class="sect2"><span class="secnum">2.3.3</span> Migration Preferences</h3>
<p>The SQL Developer user preferences window (displayed by clicking <span class="bold">Tools</span>, then <span class="bold">Preferences</span>) contains a <span class="bold">Migration</span> pane with several related subpanes, and a <span class="bold">Translation</span> pane with a Translation Preferences subpane.</p>
<p>For information about these preferences, click Help in the pane, or see <a href="intro.htm#CHDJJGBH">Section 1.18.11, &#34;Migration&#34;</a>.</p>
</div>
<!-- class="sect2" -->
<div id="RPTUG41548" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref470"></a>
<h3 class="sect2"><span class="secnum">2.3.4</span> Migration Log Panes</h3>
<p><span class="bold">Migration Log</span>: Contains errors, warnings, and informational messages relating to migration operations.</p>
<p><span class="bold">Logging Page</span>: Contains an entry for each migrated-related operation.</p>
<p><span class="bold">Data Editor Log</span>: Contains entries when data is being manipulated by SQL Developer. For example, the output of a Microsoft Excel import operation will be reported here as a series of INSERT statements.</p>
</div>
<!-- class="sect2" -->
<a id="CHDCJDBJ"></a>
<div id="RPTUG41549" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.3.5</span> <a id="sthref471"></a><a id="sthref472"></a><a id="sthref473"></a>Using the Translation Scratch Editor</h3>
<p>You can use the translation scratch editor to enter third-party database SQL statements and have them translated to Oracle PL/SQL statements. You can specify translation from Microsoft SQL Server T-SQL to PL/SQL, from Sybase T-SQL to PL/SQL, or from Microsoft Access SQL to PL/SQL.</p>
<p>You can display the scratch editor by clicking <span class="bold">Tools</span>, then <span class="bold">Migration</span>, then <span class="bold">Translation Scratch Editor</span>. The scratch editor consists of two SQL Worksheet windows side by side, as shown in the following figure:</p>
<img width="793" height="254" src="img/scratch_editor.jpg" alt="Translation scratch editor interface"/><br/>
<p>To translate a statement to its Oracle equivalent, select the type of translation, enter the third-party SQL statement or statements; select the specific translation from the Translator drop-down (for example, <code>Access SQL to PL/SQL</code>) and optionally the applicable schema from the Captured Schema drop-down; then click the <span class="bold">Translate</span> (<span class="bold">&gt;&gt;</span>) icon to display the generated PL/SQL statement or statements.</p>
<p>SQL keywords are automatically highlighted.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For a Microsoft SQL Server or Sybase Adaptive Server connection, <a id="sthref474"></a>the worksheet does not support running T-SQL statements. It only supports SELECT, CREATE, INSERT, UPDATE, DELETE, and DROP statements.</div>
<p>The first time you save the contents of either worksheet window in the translation scratch editor, you are prompted for the file location and name. If you perform any subsequent <span class="bold">Save</span> operations (regardless of whether you have erased or changed the content of the window), the contents are saved to the same file. To save the contents to a different file, click <span class="bold">File</span>, then <span class="bold">Save As</span>.</p>
<p>For detailed information about the worksheet windows, see <a href="intro.htm#CHDDHAAI">Section 1.7, &#34;Using the SQL Worksheet&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDBAJIJ"></a>
<div id="RPTUG45394" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.4</span> <a id="sthref475"></a><a id="sthref476"></a>Command-Line Interface for Migration</h2>
<p>As an alternative to using the SQL Developer graphical interface for migration operations, you can use the <code>migration</code> batch file (Windows) or shell script (Linux) on the operating system command line. These files are located in the <code>sqldeveloper\sqldeveloper\bin</code> folder or <code>sqldeveloper/sqldeveloper/bin</code> directory under the location where you installed SQL Developer.</p>
<p><code>migration.bat</code> or <code>migration.sh</code> accepts these commands: <code>capture</code>, <code>convert</code>, <code>datamove</code>, <code>delcaptured</code>, <code>delconn</code>, <code>delconverted</code>, <code>driver</code>, <code>generate</code>, <code>guide</code>, <code>help</code>, <code>idmap</code>, <code>info</code>, <code>init</code>, <code>lscaptured</code>, <code>lsconn</code>, <code>lsconverted</code>, <code>mkconn</code>, <code>qm</code>, <code>runsql</code>, and <code>scan</code>. For information about the syntax and options, start by running <code>migration</code> without any parameters at the system command prompt. For example:</p>
<pre>C:\Program Files\sqldeveloper\sqldeveloper\bin&gt;migration
</pre>
<p>You can use the <code>-help</code> option for information about one or more actions. For the most detailed information, including some examples, use the <code>-help=guide</code> option. For example:</p>
<pre>C:\Program Files\sqldeveloper\sqldeveloper\bin&gt;migration -help=guide
</pre></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment316">
<tr>
<td class="cellalignment325">
<table class="cellalignment321">
<tr>
<td class="cellalignment320"><a href="intro.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment320"><a href="unit_testing.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment328">
<table class="cellalignment319">
<tr>
<td class="cellalignment320"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment320"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment320"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment320"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment320"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment320"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-91837"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_REFRESH"></a><title>DBMS_REFRESH</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1042"/>
<meta name="dcterms.created" content="2015-02-06T10:45:43Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Replication Management API Reference"/>
<meta name="dcterms.identifier" content="E18896-09"/>
<meta name="dcterms.isVersionOf" content="REPMA"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rarrectdifpac.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rarrcatpac.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E18896-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">24/38</span> <!-- End Header -->
<div id="REPMA018" class="chapter"><a id="g101239"></a> <a id="i95033"></a>
<h1 class="chapter"><span class="secnum">17</span> DBMS_REFRESH</h1>
<p><code dir="ltr"><a id="sthref1325"></a>DBMS_REFRESH</code> enables you to create groups of materialized views that can be refreshed together to a transactionally consistent point in time.</p>
<p>This chapter contains this topic:</p>
<ul>
<li>
<p><a href="#CHDBFCJD">Summary of DBMS_REFRESH Subprograms</a></p>
</li>
</ul>
<div class="refentry">
<div id="REPMA305" class="refsect1"><a id="CHDBFCJD"></a>
<h2 class="refsect1">Summary of DBMS_REFRESH Subprograms</h2>
<div id="REPMA593" class="tblformal">
<p class="titleintable"><a id="sthref1326"></a><a id="sthref1327"></a>Table 17-1 <span class="bolditalic">DBMS_REFRESH Package Subprograms</span></p>
<table class="cellalignment861" title="DBMS_REFRESH Package Subprograms" summary="This table includes the the name and description of each subprogram in the package." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t2">Subprogram</th>
<th class="cellalignment862" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t2" headers="r1c1-t2">
<p><a href="#i93872">&#34;ADD Procedure&#34;</a></p>
</td>
<td class="cellalignment863" headers="r2c1-t2 r1c2-t2">
<p>Adds materialized views to a refresh group.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t2" headers="r1c1-t2">
<p><a href="#i93934">&#34;CHANGE Procedure&#34;</a></p>
</td>
<td class="cellalignment863" headers="r3c1-t2 r1c2-t2">
<p>Changes the refresh interval for a refresh group.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t2" headers="r1c1-t2">
<p><a href="#i94024">&#34;DESTROY Procedure&#34;</a></p>
</td>
<td class="cellalignment863" headers="r4c1-t2 r1c2-t2">
<p>Removes all of the materialized views from a refresh group and deletes the refresh group.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r5c1-t2" headers="r1c1-t2">
<p><a href="#i94057">&#34;MAKE Procedure&#34;</a></p>
</td>
<td class="cellalignment863" headers="r5c1-t2 r1c2-t2">
<p>Specifies the members of a refresh group and the time interval used to determine when to refresh the members of this group.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r6c1-t2" headers="r1c1-t2">
<p><a href="#i94176">&#34;REFRESH Procedure&#34;</a></p>
</td>
<td class="cellalignment863" headers="r6c1-t2 r1c2-t2">
<p>Manually refreshes a refresh group.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r7c1-t2" headers="r1c1-t2">
<p><a href="#i94210">&#34;SUBTRACT Procedure&#34;</a></p>
</td>
<td class="cellalignment863" headers="r7c1-t2 r1c2-t2">
<p>Removes materialized views from a refresh group.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="REPMA594" class="refsect2"><a id="i93872"></a>
<h3 class="refsect2">ADD Procedure<a id="sthref1328"></a><a id="sthref1329"></a></h3>
<p>This procedure adds materialized views to a refresh group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Step <a href="rarmviewgroup.htm#CHDGBBJH">6</a>, <a href="rarmviewgroup.htm#CHDGBBJH">&#34;Add objects to the refresh group.&#34;</a>, and <a class="olink REPLN109" href="../REPLN/repmview.htm#REPLN109"><span class="variable">Oracle Database Advanced Replication</span></a> for more information</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1330"></a>Syntax</p>
<pre dir="ltr"><a id="i93894"></a>
DBMS_REFRESH.ADD (
   name     IN VARCHAR2,
   { list   IN VARCHAR2, 
   | tab    IN DBMS_UTILITY.UNCL_ARRAY, }
   lax      IN BOOLEAN := FALSE);
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure is overloaded. The <code dir="ltr">list</code> and <code dir="ltr">tab</code> parameters are mutually exclusive.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1331"></a>Parameters</p>
<div id="REPMA595" class="tblformal">
<p class="titleintable"><a id="sthref1332"></a><a id="sthref1333"></a>Table 17-2 ADD Procedures Parameters</p>
<table class="cellalignment861" title="ADD Procedures Parameters" summary="This table includes the name and description of each parameter in the subprogram." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t5">Parameter</th>
<th class="cellalignment862" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t5" headers="r1c1-t5">
<pre dir="ltr">name
</pre></td>
<td class="cellalignment863" headers="r2c1-t5 r1c2-t5">
<p>Name of the refresh group to which you want to add members, specified as <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">schema_name</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">refresh_group_name</span></code>. If the schema is not specified, then the current user is the default.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t5" headers="r1c1-t5">
<pre dir="ltr">list
</pre></td>
<td class="cellalignment863" headers="r3c1-t5 r1c2-t5">
<p>Comma-delimited list of materialized views that you want to add to the refresh group. Synonyms are not supported.</p>
<p>Each materialized view is specified as <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">schema_name</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">materialized_view_name</span></code>. If the schema is not specified, then the refresh group owner is the default.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t5" headers="r1c1-t5">
<pre dir="ltr">tab
</pre></td>
<td class="cellalignment863" headers="r4c1-t5 r1c2-t5">
<p>Instead of a comma-delimited list, you can supply a PL/SQL associative array of type <code dir="ltr">DBMS_UTILITY</code>.<code dir="ltr">UNCL_ARRAY</code>, where each element is the name of a materialized view. The first materialized view should be in position 1. The last position must be <code dir="ltr">NULL</code>.</p>
<p>Each materialized view is specified as <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">schema_name</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">materialized_view_name</span></code>. If the schema is not specified, then the refresh group owner is the default.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r5c1-t5" headers="r1c1-t5">
<pre dir="ltr">lax
</pre></td>
<td class="cellalignment863" headers="r5c1-t5 r1c2-t5">
<p>A materialized view can belong to only one refresh group at a time. If you are moving a materialized view from one group to another, then you must set the <code dir="ltr">lax</code> flag to <code dir="ltr">TRUE</code> to succeed. Oracle then automatically removes the materialized view from the other refresh group and updates its refresh interval to be that of its new group. Otherwise, the call to <code dir="ltr">ADD</code> generates an error message.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="REPMA596" class="refsect2"><a id="i93934"></a>
<h3 class="refsect2">CHANGE Procedure<a id="sthref1334"></a><a id="sthref1335"></a></h3>
<p>This procedure changes the refresh interval for a refresh group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REPLN109" href="../REPLN/repmview.htm#REPLN109"><span class="variable">Oracle Database Advanced Replication</span></a> for more information about refresh groups</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1336"></a>Syntax</p>
<pre dir="ltr">DBMS_REFRESH.CHANGE (
   name                  IN VARCHAR2,
   next_date             IN DATE           := NULL,
   interval              IN VARCHAR2       := NULL,
   implicit_destroy      IN BOOLEAN        := NULL,
   rollback_seg          IN VARCHAR2       := NULL,
   push_deferred_rpc     IN BOOLEAN        := NULL,
   refresh_after_errors  IN BOOLEAN        := NULL,
   purge_option          IN BINARY_INTEGER := NULL,
   parallelism           IN BINARY_INTEGER := NULL,
   heap_size             IN BINARY_INTEGER := NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1337"></a>Parameters</p>
<div id="REPMA597" class="tblformal">
<p class="titleintable"><a id="sthref1338"></a><a id="sthref1339"></a>Table 17-3 CHANGE Procedures Parameters</p>
<table class="cellalignment861" title="CHANGE Procedures Parameters " summary="This table includes the name and description of each parameter in the subprogram." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t7">Parameter</th>
<th class="cellalignment862" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t7" headers="r1c1-t7">
<pre dir="ltr">name
</pre></td>
<td class="cellalignment863" headers="r2c1-t7 r1c2-t7">
<p>Name of the refresh group for which you want to alter the refresh interval.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t7" headers="r1c1-t7">
<pre dir="ltr">next_date
</pre></td>
<td class="cellalignment863" headers="r3c1-t7 r1c2-t7">
<p>Next date that you want a refresh to occur. By default, this date remains unchanged.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t7" headers="r1c1-t7">
<pre dir="ltr">interval
</pre></td>
<td class="cellalignment863" headers="r4c1-t7 r1c2-t7">
<p>Function used to calculate the next time to refresh the materialized views in the refresh group. This interval is evaluated immediately before the refresh. Thus, select an interval that is greater than the time it takes to perform a refresh. By default, the interval remains unchanged.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r5c1-t7" headers="r1c1-t7">
<pre dir="ltr">implicit_destroy
</pre></td>
<td class="cellalignment863" headers="r5c1-t7 r1c2-t7">
<p>Allows you to reset the value of the <code dir="ltr">implicit_destroy</code> flag. If this flag is set, then Oracle automatically deletes the group if it no longer contains any members. By default, this flag remains unchanged.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r6c1-t7" headers="r1c1-t7">
<pre dir="ltr">rollback_seg
</pre></td>
<td class="cellalignment863" headers="r6c1-t7 r1c2-t7">
<p>Allows you to change the rollback segment used. By default, the rollback segment remains unchanged. To reset this parameter to use the default rollback segment, specify <code dir="ltr">NULL</code>, including the quotes. Specifying <code dir="ltr">NULL</code> without quotes indicates that you do not want to change the rollback segment currently being used.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r7c1-t7" headers="r1c1-t7">
<pre dir="ltr">push_deferred_rpc
</pre></td>
<td class="cellalignment863" headers="r7c1-t7 r1c2-t7">
<p>Used by updatable materialized views only. Set this parameter to <code dir="ltr">TRUE</code> to push changes from the materialized view to its associated master table or master materialized view before refreshing the materialized view. Otherwise, these changes might appear to be temporarily lost. By default, this flag remains unchanged.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r8c1-t7" headers="r1c1-t7">
<pre dir="ltr">refresh_after_errors
</pre></td>
<td class="cellalignment863" headers="r8c1-t7 r1c2-t7">
<p>Used by updatable materialized views only. Set this parameter to <code dir="ltr">TRUE</code> if you want the refresh to proceed even if there are outstanding conflicts logged in the <code dir="ltr">DEFERROR</code> view for the materialized view&#39;s master table or master materialized view. By default, this flag remains unchanged.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r9c1-t7" headers="r1c1-t7">
<pre dir="ltr">purge_option
</pre></td>
<td class="cellalignment863" headers="r9c1-t7 r1c2-t7">
<p>If you are using the parallel propagation mechanism (that is, <code dir="ltr">parallelism</code> is set to 1 or greater), then:</p>
<ul>
<li>
<p>0 = do not purge</p>
</li>
<li>
<p>1 = lazy (default)</p>
</li>
<li>
<p>2 = aggressive</p>
</li>
</ul>
<p>In most cases, <span class="italic">lazy</span> purge is the optimal setting. Set purge to <span class="italic">aggressive</span> to trim back the queue if multiple master replication groups are pushed to different target sites, and updates to one or more replication groups are infrequent and infrequently pushed. If all replication groups are infrequently updated and pushed, then set purge to <span class="italic">do not purge</span> and occasionally execute <code dir="ltr">PUSH</code> with purge set to <span class="italic">aggressive</span> to reduce the queue.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r10c1-t7" headers="r1c1-t7">
<pre dir="ltr">parallelism
</pre></td>
<td class="cellalignment863" headers="r10c1-t7 r1c2-t7">
<p>0 specifies serial propagation.</p>
<p><span class="italic">n</span> &gt; 1 specifies parallel propagation with <span class="italic">n</span> parallel processes.</p>
<p>1 specifies parallel propagation using only one parallel process.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r11c1-t7" headers="r1c1-t7">
<pre dir="ltr">heap_size
</pre></td>
<td class="cellalignment863" headers="r11c1-t7 r1c2-t7">
<p>Maximum number of transactions to be examined simultaneously for parallel propagation scheduling. Oracle automatically calculates the default setting for optimal performance.</p>
<p><span class="bold">Note:</span> Do not set this parameter unless directed to do so by Oracle Support Services.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="REPMA598" class="refsect2"><a id="i94024"></a>
<h3 class="refsect2">DESTROY Procedure<a id="sthref1340"></a><a id="sthref1341"></a></h3>
<p>This procedure removes all of the materialized views from a refresh group and delete the refresh group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REPLN109" href="../REPLN/repmview.htm#REPLN109"><span class="variable">Oracle Database Advanced Replication</span></a> for more information refresh groups</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1342"></a>Syntax</p>
<pre dir="ltr"><a id="i94940"></a>
DBMS_REFRESH.DESTROY (
   name   IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1343"></a>Parameters</p>
<div id="REPMA599" class="tblformal">
<p class="titleintable"><a id="sthref1344"></a><a id="sthref1345"></a>Table 17-4 DESTROY Procedure Parameters</p>
<table class="cellalignment861" title="DESTROY Procedure Parameters" summary="This table includes the name and description of each parameter in the subprogram." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t9">Parameter</th>
<th class="cellalignment862" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t9" headers="r1c1-t9">
<pre dir="ltr">name
</pre></td>
<td class="cellalignment863" headers="r2c1-t9 r1c2-t9">
<p>Name of the refresh group that you want to destroy.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="REPMA600" class="refsect2"><a id="i94057"></a>
<h3 class="refsect2">MAKE Procedure<a id="sthref1346"></a><a id="sthref1347"></a></h3>
<p>This procedure specifies the members of a refresh group and the time interval used to determine when to refresh the members of this group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Step <a href="rarmviewgroup.htm#CHDCICJC">4</a>, <a href="rarmviewgroup.htm#CHDCICJC">&#34;Create the refresh group.&#34;</a>, and <a class="olink REPLN109" href="../REPLN/repmview.htm#REPLN109"><span class="variable">Oracle Database Advanced Replication</span></a> for more information</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1348"></a>Syntax</p>
<pre dir="ltr"><a id="i94079"></a>
DBMS_REFRESH.MAKE (
   name                  IN    VARCHAR2
   { list                IN    VARCHAR2,
   | tab                 IN    DBMS_UTILITY.UNCL_ARRAY,}
   next_date             IN    DATE,
   interval              IN    VARCHAR2,
   implicit_destroy      IN    BOOLEAN         := FALSE,
   lax                   IN    BOOLEAN         := FALSE,
   job                   IN    BINARY_INTEGER  := 0,
   rollback_seg          IN    VARCHAR2        := NULL,
   push_deferred_rpc     IN    BOOLEAN         := TRUE,
   refresh_after_errors  IN    BOOLEAN         := FALSE
   purge_option          IN    BINARY_INTEGER  := NULL,
   parallelism           IN    BINARY_INTEGER  := NULL,
   heap_size             IN    BINARY_INTEGER  := NULL);
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure is overloaded. The <code dir="ltr">list</code> and <code dir="ltr">tab</code> parameters are mutually exclusive.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1349"></a>Parameters</p>
<div id="REPMA601" class="tblformal">
<p class="titleintable"><a id="sthref1350"></a><a id="sthref1351"></a>Table 17-5 MAKE Procedure Parameters</p>
<table class="cellalignment861" title="MAKE Procedure Parameters " summary="This table includes the name and description of each parameter in the subprogram." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t12">Parameter</th>
<th class="cellalignment862" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t12" headers="r1c1-t12">
<pre dir="ltr">name
</pre></td>
<td class="cellalignment863" headers="r2c1-t12 r1c2-t12">
<p>Unique name used to identify the refresh group, specified as <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">schema_name</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">refresh_group_name</span></code>. If the schema is not specified, then the current user is the default. Refresh groups must follow the same naming conventions as tables.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t12" headers="r1c1-t12">
<pre dir="ltr">list
</pre></td>
<td class="cellalignment863" headers="r3c1-t12 r1c2-t12">
<p>Comma-delimited list of materialized views that you want to refresh. Synonyms are not supported. These materialized views can be located in different schemas and have different master tables or master materialized views. However, all of the listed materialized views must be in your current database.</p>
<p>Each materialized view is specified as <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">schema_name</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">materialized_view_name</span></code>. If the schema is not specified, then the refresh group owner is the default.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t12" headers="r1c1-t12">
<pre dir="ltr">tab
</pre></td>
<td class="cellalignment863" headers="r4c1-t12 r1c2-t12">
<p>Instead of a comma-delimited list, you can supply a PL/SQL associative array of names of materialized views that you want to refresh using the data type <code dir="ltr">DBMS_UTILITY</code>.<code dir="ltr">UNCL_ARRAY</code>. If the table contains the names of <span class="italic">n</span> materialized views, then the first materialized view should be in position 1 and the <span class="italic">n</span>&nbsp;+ 1 position should be set to <code dir="ltr">NULL</code>.</p>
<p>Each materialized view is specified as <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">schema_name</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">materialized_view_name</span></code>. If the schema is not specified, then the refresh group owner is the default.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r5c1-t12" headers="r1c1-t12">
<pre dir="ltr">next_date
</pre></td>
<td class="cellalignment863" headers="r5c1-t12 r1c2-t12">
<p>Next date that you want a refresh to occur.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r6c1-t12" headers="r1c1-t12">
<pre dir="ltr">interval
</pre></td>
<td class="cellalignment863" headers="r6c1-t12 r1c2-t12">
<p>Function used to calculate the next time to refresh the materialized views in the group. This field is used with the <code dir="ltr">next_date</code> value.</p>
<p>For example, if you specify <code dir="ltr">NEXT_DAY(SYSDATE+1,</code> <code dir="ltr">&#34;MONDAY&#34;)</code> as your interval, and if your <code dir="ltr">next_date</code> evaluates to Monday, then Oracle refreshes the materialized views every Monday. This interval is evaluated immediately before the refresh. Thus, select an interval that is greater than the time it takes to perform a refresh.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r7c1-t12" headers="r1c1-t12">
<pre dir="ltr">implicit_destroy
</pre></td>
<td class="cellalignment863" headers="r7c1-t12 r1c2-t12">
<p>Set this to <code dir="ltr">TRUE</code> to delete the refresh group automatically when it no longer contains any members. Oracle checks this flag only when you call the <code dir="ltr">SUBTRACT</code> procedure. That is, setting this flag still enables you to create an empty refresh group.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r8c1-t12" headers="r1c1-t12">
<pre dir="ltr">lax
</pre></td>
<td class="cellalignment863" headers="r8c1-t12 r1c2-t12">
<p>A materialized view can belong to only one refresh group at a time. If you are moving a materialized view from an existing group to a new refresh group, then you must set this to <code dir="ltr">TRUE</code> to succeed. Oracle then automatically removes the materialized view from the other refresh group and updates its refresh interval to be that of its new group. Otherwise, the call to <code dir="ltr">MAKE</code> generates an error message.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r9c1-t12" headers="r1c1-t12">
<pre dir="ltr">job
</pre></td>
<td class="cellalignment863" headers="r9c1-t12 r1c2-t12">
<p>Needed by the Import utility. Use the default value, 0.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r10c1-t12" headers="r1c1-t12">
<pre dir="ltr">rollback_seg
</pre></td>
<td class="cellalignment863" headers="r10c1-t12 r1c2-t12">
<p>Name of the rollback segment to use while refreshing materialized views. The default, <code dir="ltr">NULL</code>, uses the default rollback segment.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r11c1-t12" headers="r1c1-t12">
<pre dir="ltr">push_deferred_rpc
</pre></td>
<td class="cellalignment863" headers="r11c1-t12 r1c2-t12">
<p>Used by updatable materialized views only. Use the default value, <code dir="ltr">TRUE</code>, to push changes from the materialized view to its associated master table or master materialized view before refreshing the materialized view. Otherwise, these changes might appear to be temporarily lost.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r12c1-t12" headers="r1c1-t12">
<pre dir="ltr">refresh_after_errors
</pre></td>
<td class="cellalignment863" headers="r12c1-t12 r1c2-t12">
<p>Used by updatable materialized views only. Set this to 0 if you want the refresh to proceed even if there are outstanding conflicts logged in the <code dir="ltr">DEFERROR</code> view for the materialized view&#39;s master table or master materialized view.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r13c1-t12" headers="r1c1-t12">
<pre dir="ltr">purge_option
</pre></td>
<td class="cellalignment863" headers="r13c1-t12 r1c2-t12">
<p>If you are using the parallel propagation mechanism (in other words, parallelism is set to 1 or greater), then 0 = do not purge; 1 = lazy (default); 2 = aggressive. In most cases, <span class="italic">lazy</span> purge is the optimal setting.</p>
<p>Set purge to <span class="italic">aggressive</span> to trim back the queue if multiple master replication groups are pushed to different target sites, and updates to one or more replication groups are infrequent and infrequently pushed. If all replication groups are infrequently updated and pushed, then set purge to <span class="italic">do not purge</span> and occasionally execute <code dir="ltr">PUSH</code> with purge set to <span class="italic">aggressive</span> to reduce the queue.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r14c1-t12" headers="r1c1-t12">
<pre dir="ltr">parallelism
</pre></td>
<td class="cellalignment863" headers="r14c1-t12 r1c2-t12">
<p>0 specifies serial propagation.</p>
<p><span class="italic">n</span> &gt; 1 specifies parallel propagation with <span class="italic">n</span> parallel processes.</p>
<p>1 specifies parallel propagation using only one parallel process.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r15c1-t12" headers="r1c1-t12">
<pre dir="ltr">heap_size
</pre></td>
<td class="cellalignment863" headers="r15c1-t12 r1c2-t12">
<p>Maximum number of transactions to be examined simultaneously for parallel propagation scheduling. Oracle automatically calculates the default setting for optimal performance.</p>
<p><span class="bold">Note:</span> Do not set this parameter unless directed to do so by Oracle Support Services.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="REPMA602" class="refsect2"><a id="i94176"></a>
<h3 class="refsect2">REFRESH Procedure<a id="sthref1352"></a><a id="sthref1353"></a></h3>
<p>This procedure manually refreshes a refresh group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REPLN109" href="../REPLN/repmview.htm#REPLN109"><span class="variable">Oracle Database Advanced Replication</span></a> for more information about refresh groups</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1354"></a>Syntax</p>
<pre dir="ltr"><a id="i94192"></a>
DBMS_REFRESH.REFRESH (
   name   IN    VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1355"></a>Parameter</p>
<div id="REPMA603" class="tblformal">
<p class="titleintable"><a id="sthref1356"></a><a id="sthref1357"></a>Table 17-6 REFRESH Procedure Parameter</p>
<table class="cellalignment861" title="REFRESH Procedure Parameter" summary="This table includes the name and description of each parameter in the subprogram." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t14">Parameter</th>
<th class="cellalignment862" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t14" headers="r1c1-t14">
<pre dir="ltr">name
</pre></td>
<td class="cellalignment863" headers="r2c1-t14 r1c2-t14">
<p>Name of the refresh group that you want to refresh manually.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="REPMA604" class="refsect2"><a id="i94210"></a>
<h3 class="refsect2">SUBTRACT Procedure<a id="sthref1358"></a><a id="sthref1359"></a></h3>
<p>This procedure removes materialized views from a refresh group.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REPLN109" href="../REPLN/repmview.htm#REPLN109"><span class="variable">Oracle Database Advanced Replication</span></a> for more information about refresh groups</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1360"></a>Syntax</p>
<pre dir="ltr">DBMS_REFRESH.SUBTRACT (
   name      IN    VARCHAR2,
   { list    IN    VARCHAR2,
   | tab     IN    DBMS_UTILITY.UNCL_ARRAY, }
   lax       IN    BOOLEAN := FALSE);
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
This procedure is overloaded. The <code dir="ltr">list</code> and <code dir="ltr">tab</code> parameters are mutually exclusive.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1361"></a>Parameters</p>
<div id="REPMA605" class="tblformal">
<p class="titleintable"><a id="sthref1362"></a><a id="sthref1363"></a>Table 17-7 SUBTRACT Procedure Parameters</p>
<table class="cellalignment861" title="SUBTRACT Procedure Parameters " summary="This table includes the name and description of each parameter in the subprogram." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t17">Parameter</th>
<th class="cellalignment862" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t17" headers="r1c1-t17">
<pre dir="ltr">name
</pre></td>
<td class="cellalignment863" headers="r2c1-t17 r1c2-t17">
<p>Name of the refresh group from which you want to remove members.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t17" headers="r1c1-t17">
<pre dir="ltr">list
</pre></td>
<td class="cellalignment863" headers="r3c1-t17 r1c2-t17">
<p>Comma-delimited list of materialized views that you want to remove from the refresh group. (Synonyms are not supported.) These materialized views can be located in different schemas and have different master tables or master materialized views. However, all of the listed materialized views must be in your current database.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t17" headers="r1c1-t17">
<pre dir="ltr">tab
</pre></td>
<td class="cellalignment863" headers="r4c1-t17 r1c2-t17">
<p>Instead of a comma-delimited list, you can supply a PL/SQL associative array of names of materialized views that you want to refresh using the data type <code dir="ltr">DBMS_UTILITY</code>.<code dir="ltr">UNCL_ARRAY</code>. If the table contains the names of <span class="italic">n</span> materialized views, then the first materialized view should be in position 1 and the <span class="italic">n&nbsp;</span>+ 1 position should be set to <code dir="ltr">NULL</code>.</p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r5c1-t17" headers="r1c1-t17">
<pre dir="ltr">lax
</pre></td>
<td class="cellalignment863" headers="r5c1-t17 r1c2-t17">
<p>Set this to <code dir="ltr">FALSE</code> if you want Oracle to generate an error message if the materialized view you are attempting to remove is not a member of the refresh group.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment854">
<tr>
<td class="cellalignment863">
<table class="cellalignment859">
<tr>
<td class="cellalignment858"><a href="rarrectdifpac.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment858"><a href="rarrcatpac.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment865">
<table class="cellalignment857">
<tr>
<td class="cellalignment858"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment858"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment858"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment858"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment858"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment858"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
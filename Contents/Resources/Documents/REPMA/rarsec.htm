<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-91883"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Security%20Options"></a><title>Security Options</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1042"/>
<meta name="dcterms.created" content="2015-02-06T10:45:48Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Replication Management API Reference"/>
<meta name="dcterms.identifier" content="E18896-09"/>
<meta name="dcterms.isVersionOf" content="REPMA"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rarpart5.htm" title="Previous" type="text/html"/>
<link rel="Next" href="raruserconflictres.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E18896-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">36/38</span> <!-- End Header -->
<div id="REPMA028" class="appendix"><a id="g11760"></a> <a id="i6054"></a>
<h1 class="appendix"><span class="secnum">A</span> Security Options</h1>
<p>This appendix describes security options for multimaster and materialized view replication environments.</p>
<p><a id="sthref2603"></a><a id="sthref2604"></a>This appendix contains these topics:</p>
<ul>
<li>
<p><a href="#i5302">Security Setup for Multimaster Replication</a></p>
</li>
<li>
<p><a href="#i5477">Security Setup for Materialized View Replication</a></p>
</li>
</ul>
<a id="i5302"></a>
<div id="REPMA1052" class="sect1">
<h2 class="sect1">Security Setup for Multimaster Replication<a id="sthref2605"></a></h2>
<p>Nearly all users should find it easiest to use the configuration wizards in the Advanced Replication interface in Oracle Enterprise Manager Cloud Control when configuring multimaster replication security. However, in certain cases you might need to use the replication management API to perform these setup operations.</p>
<p>To configure a replication environment, the database administrator must connect with DBA privileges to grant the necessary privileges to the replication administrator.</p>
<p>First set up user accounts at each master site with the appropriate privileges to configure and maintain the replication environment and to propagate and apply replicated changes. You must also define links for users at each master site.</p>
<p>In addition to the end users who access replicated objects, there are three special categories of &#34;users&#34; in a replication environment:</p>
<ul>
<li>
<p>Replication administrators, who are responsible for configuring and maintaining a replication environment.</p>
</li>
<li>
<p>Propagators, who are responsible for propagating deferred transactions.</p>
</li>
<li>
<p>Receivers at remote sites, who are responsible for applying these transactions.</p>
</li>
</ul>
<p>Typically, a single user acts as administrator, propagator, and receiver. However, you can have separate users perform each of these functions. You can choose to have a single, global replication administrator or, if your replication groups do not span schema boundaries, you might prefer to have separate replication administrators for different schemas. Note, however, that you can have only one registered propagator for each database.</p>
<p><a href="#i5350">Table A-1</a> describes the necessary privileges that must be assigned to these specialized accounts. Most privileges needed by these users are granted to them through calls to the replication management API. You also must grant certain privileges directly, such as the privileges required to connect to the database and manage database objects.</p>
<div id="REPMA1053" class="sect2"><a id="sthref2606"></a>
<h3 class="sect2">Trusted Compared with Untrusted Security<a id="sthref2607"></a><a id="sthref2608"></a><a id="sthref2609"></a><a id="sthref2610"></a></h3>
<p>In addition to the different types of users, you also must determine which type of security model you will implement: trusted or untrusted. With a trusted security model, the receiver has access to all local master groups. Because the receiver performs database activities at the local master site on behalf of the propagator at the remote site, the propagator also has access to all master groups at the receiver&#39;s site. Remember that a single receiver is used for all incoming transactions.</p>
<p>For example, consider the scenario in <a href="#i5328">Figure A-1</a>. Even though only Master Groups A and C exist at Master Site B, the propagator has access to Master Groups A, B, C, and D at Master Site A because the trusted security model has been used. While this greatly increases the flexibility of database administration, due to the mobility of remote database administration, it also increases the chances of a malicious user at a remote site viewing or corrupting data at the master site.</p>
<p>Regardless of the security model used, Oracle automatically grants the appropriate privileges for objects as they are added to or removed from a replication environment.</p>
<div id="REPMA1054" class="figure">
<p class="titleinfigure"><a id="i5328"></a>Figure A-1 Trusted Security: Multimaster Replication</p>
<img width="545" height="197" src="img/repma004.gif" alt="Description of Figure A-1 follows"/><br/>
<a id="sthref2611" href="img_text/repma004.htm">Description of &#34;Figure A-1 Trusted Security: Multimaster Replication&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Untrusted security assigns only the privileges to the receiver that are required to work with specified master groups. The propagator, therefore, can only access the specified master groups that are local to the receiver. <a href="#i5338">Figure A-2</a> illustrates an untrusted security model. Because Master Site B contains only Master Groups A and C, the receiver at Master Site A has been granted privileges for Master Groups A and C only, thereby limiting the propagator&#39;s access at Master Site&nbsp;A.</p>
<div id="REPMA1055" class="figure">
<p class="titleinfigure"><a id="i5338"></a>Figure A-2 Untrusted Security: Multimaster Replication</p>
<img width="532" height="202" src="img/repma005.gif" alt="Description of Figure A-2 follows"/><br/>
<a id="sthref2612" href="img_text/repma005.htm">Description of &#34;Figure A-2 Untrusted Security: Multimaster Replication&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Typically, master sites are considered trusted and therefore the trusted security model is used. If, however, your remote master sites are untrusted, then you might want to use the untrusted model and assign your receiver limited privileges. A site might be considered untrusted, for example, if a consulting shop performs work for multiple customers. Use the appropriate API call listed for the receiver in <a href="#i5350">Table A-1</a> to assign the different users the appropriate privileges.</p>
<div id="REPMA1056" class="tblformal">
<p class="titleintable"><a id="sthref2613"></a><a id="sthref2614"></a>Table A-1 <a id="i5350"></a><span class="bolditalic">Required User Accounts</span></p>
<table class="cellalignment861" title="Required User Accounts" summary="This table shows the required user accounts and the subprogram to use to grant privileges for each account." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t2">User</th>
<th class="cellalignment862" id="r1c2-t2">Privileges</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t2" headers="r1c1-t2">
<p>global replication<br/>
administrator</p>
</td>
<td class="cellalignment863" headers="r2c1-t2 r1c2-t2">
<p><code dir="ltr">DBMS_REPCAT_ADMIN.GRANT_ADMIN_ANY_SCHEMA</code></p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t2" headers="r1c1-t2">
<p>schema-level replication administrator</p>
</td>
<td class="cellalignment863" headers="r3c1-t2 r1c2-t2">
<p><code dir="ltr">DBMS_REPCAT_ADMIN.GRANT_ADMIN_SCHEMA</code></p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t2" headers="r1c1-t2">
<p>propagator</p>
</td>
<td class="cellalignment863" headers="r4c1-t2 r1c2-t2">
<p><code dir="ltr">DBMS_DEFER_SYS.REGISTER_PROPAGATOR</code></p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r5c1-t2" headers="r1c1-t2">
<p>receiver</p>
</td>
<td class="cellalignment863" headers="r5c1-t2 r1c2-t2">
<p>See <a href="rarrcatadminpac.htm#i93953">&#34;REGISTER_USER_REPGROUP Procedure&#34;</a> for details.</p>
<p><span class="bold">Trusted</span>:</p>
<pre dir="ltr">DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP
privilege =&gt; &#39;receiver&#39;
list_of_gnames =&gt; NULL,
...
</pre>
<p><span class="bold">Untrusted</span>:</p>
<pre dir="ltr">DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP
privilege =&gt; &#39;receiver&#39;
list_of_gnames =&gt; &#39;<span class="italic">mastergroupname&#39;,</span>
...
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>After you have created these accounts and assigned the appropriate privileges, create the following private database links, including user name and password between each site:</p>
<ul>
<li>
<p>From the local replication administrator to the remote replication administrator.</p>
</li>
<li>
<p>From the local propagator to the remote receiver.</p>
</li>
</ul>
<p>Assuming you have designated a single user account to act as replication administrator, propagator, and receiver, you must create N(N-1) links, where N is the number of master sites in your replication environment.</p>
<p>After creating these links, you must call <code dir="ltr">DBMS_DEFER_SYS.SCHEDULE_PUSH</code> and <code dir="ltr">DBMS_DEFER_SYS.SCHEDULE_PURGE</code>, at each location, to define how frequently you want to propagate your deferred transaction queue to each remote location, and how frequently you want to purge this queue. You must call <code dir="ltr">DBMS_DEFER_SYS.SCHEDULE_PUSH</code> multiple times at each site, once for each remote location.</p>
<p>A sample script for setting up multimaster replication between <code dir="ltr">hq.example.com</code> and <code dir="ltr">sales.example.com</code> is shown as follows:</p>
<pre dir="ltr">/*--- Create global replication administrator at HQ ---*/
CONNECT system@hq.example.com
ACCEPT password PROMPT &#39;Enter password for user: &#39; HIDE
CREATE USER repadmin IDENTIFIED BY &amp;password;
EXECUTE DBMS_REPCAT_ADMIN.GRANT_ADMIN_ANY_SCHEMA(username =&gt; &#39;repadmin&#39;);

/*--- Create global replication administrator at Sales ---*/
CONNECT system@sales.example.com
CREATE USER repadmin IDENTIFIED BY &amp;password;
EXECUTE DBMS_REPCAT_ADMIN.GRANT_ADMIN_ANY_SCHEMA(username =&gt; &#39;repadmin&#39;);

/*--- Create single user to act as both propagator and receiver at HQ ---*/
CONNECT system@hq.example.com
CREATE USER prop_rec IDENTIFIED BY &amp;password;
/*--- Grant privileges necessary to act as propagator ---*/
EXECUTE DBMS_DEFER_SYS.REGISTER_PROPAGATOR(username =&gt; &#39;prop_rec&#39;);
/*--- Grant privileges necessary to act as receiver ---*/
BEGIN
  DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP(
        username =&gt; &#39;prop_rec&#39;,
        privilege_type =&gt; &#39;receiver&#39;,
        list_of_gnames =&gt; NULL);
END;
/

/*--- Create single user to act as both propagator and receiver at Sales ---*/
CONNECT system@sales.example.com
CREATE USER prop_rec IDENTIFIED BY &amp;password;
/*--- Grant privileges necessary to act as propagator ---*/execute
EXECUTE DBMS_DEFER_SYS.REGISTER_PROPAGATOR(username =&gt; &#39;prop_rec&#39;);
/*--- Grant privileges necessary to act as receiver ---*/
BEGIN
  DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP(
        username =&gt; &#39;prop_rec&#39;,
        privilege_type =&gt; &#39;receiver&#39;,
        list_of_gnames =&gt; NULL);
END;
/

/*--- Create public link from HQ to Sales with necessary USING clause ---*/
CONNECT system@hq.example.com
CREATE PUBLIC DATABASE LINK sales.example.com USING &#39;sales.example.com&#39;;

/*--- Create private repadmin to repadmin link ---*/
CONNECT repadmin@hq.example.com
CREATE DATABASE LINK sales.example.com CONNECT TO repadmin 
 IDENTIFIED BY &amp;password;

/*--- Schedule replication from HQ to Sales ---*/
BEGIN
  DBMS_DEFER_SYS.SCHEDULE_PUSH(
     destination =&gt; &#39;sales.example.com&#39;,
     interval =&gt; &#39;sysdate + 1/24&#39;,
     next_date =&gt; sysdate,
     stop_on_error =&gt; FALSE,
     parallelism =&gt; 1);
END;
/

/*--- Schedule purge of def tran queue at HQ ---*/
BEGIN
  DBMS_DEFER_SYS.SCHEDULE_PURGE(
     next_date =&gt; sysdate,
     interval =&gt; &#39;sysdate + 1&#39;,
     delay_seconds =&gt; 0,
     rollback_segment =&gt; &#39;&#39;);
END;
/

/*--- Create link from propagator to receiver for scheduled push ---*/
CONNECT prop_rec/prop_rec@hq.example.com
CREATE DATABASE LINK sales.example.com CONNECT TO prop_rec 
 IDENTIFIED BY &amp;password;

/*--- Create public link from Sales to HQ with necessary USING clause ---*/
CONNECT system@sales.example.com
CREATE PUBLIC DATABASE LINK hq.example.com USING &#39;hq.example.com&#39;;

/*--- Create private repadmin to repadmin link ---*/
CONNECT repadmin@sales.example.com
CREATE DATABASE LINK hq.example.com CONNECT TO repadmin IDENTIFIED BY &amp;password;

/*--- Schedule replication from Sales to HQ ---*/
BEGIN
  DBMS_DEFER_SYS.SCHEDULE_PUSH(
     destination =&gt; &#39;hq.example.com&#39;,
     interval =&gt; &#39;sysdate + 1/24&#39;,
     next_date =&gt; sysdate,
     stop_on_error =&gt; FALSE,
     parallelism =&gt; 1);
END;
/

/*--- Schedule purge of def tran queue at Sales ---*/
BEGIN
  DBMS_DEFER_SYS.SCHEDULE_PURGE(
     next_date =&gt; sysdate,
     interval =&gt; &#39;sysdate + 1&#39;,
     delay_seconds =&gt; 0,
     rollback_segment =&gt;&#39;&#39;);
END;
/

/*--- Create link from propagator to receiver for scheduled push ---*/
CONNECT prop_rec/prop_rec@sales.example.com
CREATE DATABASE LINK hq.example.com connect TO prop_rec IDENTIFIED BY &amp;password;
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i5477"></a>
<div id="REPMA1057" class="sect1">
<h2 class="sect1">Security Setup for Materialized View Replication<a id="sthref2615"></a><a id="sthref2616"></a></h2>
<p>Nearly all users should find it easiest to use the configuration wizards in the Advanced Replication interface in Oracle Enterprise Manager Cloud Control when configuring materialized view replication security. However, for certain specialized cases, you might need to use the replication management API to perform these setup operations. To configure a replication environment, the database administrator must connect with DBA privileges to grant the necessary privileges to the replication administrator.</p>
<p>First set up user accounts at each materialized view site with the appropriate privileges to configure and maintain the replication environment and to propagate replicated changes. You must also define links for these users to the associated master site or master materialized view site. You might need to create additional users, or assign additional privileges to users at the associated master site or master materialized view site.</p>
<p>In addition to end users who will be accessing replicated objects, there are three special categories of &#34;users&#34; at a materialized view site:</p>
<ul>
<li>
<p>Replication administrators, who are responsible for configuring and maintaining a replication environment.</p>
</li>
<li>
<p>Propagators, who are responsible for propagating deferred transactions.</p>
</li>
<li>
<p>Refreshers, who are responsible for pulling down changes to the materialized views from the associated master tables or master materialized views.</p>
</li>
</ul>
<p>Typically, a single user performs each of these functions. However, there might be situations where you need different users performing these functions. For example, materialized views can be created by a materialized view site administrator and refreshed by another end user.</p>
<p><a href="#g10076">Table A-2</a> describes the privileges needed to create and maintain a materialized view site.</p>
<div id="REPMA1058" class="tblformal">
<p class="titleintable"><a id="sthref2617"></a><a id="g10076"></a>Table A-2 Required Materialized View Site User Accounts</p>
<table class="cellalignment861" title="Required Materialized View Site User Accounts" summary="This table shows the required materialized view site user accounts and the subprogram or SQL statement to use to grant privileges for each account." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t3">User</th>
<th class="cellalignment862" id="r1c2-t3">Privileges</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t3" headers="r1c1-t3">
<p>Materialized view site replication administrator</p>
</td>
<td class="cellalignment863" headers="r2c1-t3 r1c2-t3">
<p><code dir="ltr">DBMS_REPCAT_ADMIN.GRANT_ADMIN_ANY_SCHEMA</code></p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t3" headers="r1c1-t3">
<p>Propagator</p>
</td>
<td class="cellalignment863" headers="r3c1-t3 r1c2-t3">
<p><code dir="ltr">DBMS_DEFER_SYS.REGISTER_PROPAGATOR</code></p>
</td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t3" headers="r1c1-t3">
<p>Refresher</p>
</td>
<td class="cellalignment863" headers="r4c1-t3 r1c2-t3">
<p><code dir="ltr">CREATE ANY MATERIALIZED VIEW<br/>
ALTER ANY MATERIALIZED VIEW</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>In addition to creating the appropriate users at the materialized view site, you might need to create additional users at the associated master site or master materialized view site, as well. <a href="#g10092">Table A-3</a> on describes the privileges need by master site or master materialized view site users to support a new materialized view site.</p>
<div id="REPMA1059" class="sect2"><a id="sthref2618"></a>
<h3 class="sect2">Trusted Compared with Untrusted Security<a id="sthref2619"></a><a id="sthref2620"></a><a id="sthref2621"></a><a id="sthref2622"></a></h3>
<p>In addition to the different users at the master site or master materialized view site, you also must determine which type of security model you will implement: trusted or untrusted. With a trusted security model, the receiver and proxy materialized view administrator have access to all local replication groups. The receiver and proxy materialized view administrator perform database activities at the local master site or master materialized view site on behalf of the propagator and materialized view administrator, respectively, at the remote materialized view site. Therefore, the propagator and materialized view administrator at the remote materialized view site also have access to all replication groups at the master site or master materialized view site. Remember that a single receiver is used for all incoming transactions.</p>
<p>For example, consider the scenario in <a href="#i5528">Figure A-3</a>. Even though Materialized View Groups A and C exist at the materialized view site (based on Master Groups A and C at the Master Site), the propagator and materialized view administrator have access to Master Groups A, B, C, and D at the Master Site because the trusted security model has been used. While this greatly increases the flexibility of database administration, because the DBA can perform administrative functions at any of these remote sites and have these changes propagated to the master sites, it also increases the chances of a malicious user at a remote site viewing or corrupting data at the master site.</p>
<p>Regardless of the security model used, Oracle automatically grants the appropriate privileges for objects as they are added to or removed from a replication environment.</p>
<div id="REPMA1060" class="figure">
<p class="titleinfigure"><a id="i5528"></a>Figure A-3 Trusted Security: Materialized View Replication</p>
<img width="532" height="201" src="img/repma006.gif" alt="Description of Figure A-3 follows"/><br/>
<a id="sthref2623" href="img_text/repma006.htm">Description of &#34;Figure A-3 Trusted Security: Materialized View Replication&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Untrusted security assigns only the privileges to the proxy materialized view administrator and receiver that are required to work with specified replication groups. The propagator and materialized view administrator, therefore, can only access these specified replication groups at the Master Site. <a href="#i5538">Figure A-4</a> illustrates an untrusted security model with materialized view replication. Because the Materialized View Site contains Materialized View Groups A and C, access to only Master Groups A and C are required. Using untrusted security does not allow the propagator or the materialized view administrator at the Materialized View Site to access Master Groups B and D at the Master Site.</p>
<div id="REPMA1061" class="figure">
<p class="titleinfigure"><a id="i5538"></a>Figure A-4 Untrusted Security: Materialized View Replication</p>
<img width="532" height="195" src="img/repma007.gif" alt="Description of Figure A-4 follows"/><br/>
<a id="sthref2624" href="img_text/repma007.htm">Description of &#34;Figure A-4 Untrusted Security: Materialized View Replication&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Typically, materialized view sites are more vulnerable to security breaches and therefore the untrusted security model is used. There are very few reasons why you would want to use a trusted security model with your materialized view site and it is recommended that you use the untrusted security model with materialized view sites.</p>
<p>One reason you might choose to use a trusted security model is if your materialized view site is considered a master site in every way (security, constant network connectivity, resources) but is a materialized view only because of data subsetting requirements. Remember that row and column subsetting are not supported in a multimaster configuration.</p>
<p>Use the appropriate API calls listed for the proxy materialized view administrator and receiver in <a href="#g10092">Table A-3</a> to assign the different users the appropriate privileges.</p>
<div id="REPMA1062" class="tblformal">
<p class="titleintable"><a id="sthref2625"></a><a id="g10092"></a>Table A-3 Required Master Site or Master Materialized View Site User Accounts</p>
<table class="cellalignment861" title="Required Master Site or Master Materialized View Site User Accounts" summary="This table shows the required master site or master materialized view site user accounts and the subprogram or SQL statement to use to grant privileges for each account." dir="ltr">
<thead>
<tr class="cellalignment855">
<th class="cellalignment862" id="r1c1-t4">User</th>
<th class="cellalignment862" id="r1c2-t4">Privileges</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment855">
<td class="cellalignment863" id="r2c1-t4" headers="r1c1-t4">
<p>proxy materialized view site administrator</p>
</td>
<td class="cellalignment863" headers="r2c1-t4 r1c2-t4">
<p>See <a href="rarrcatadminpac.htm#i93953">&#34;REGISTER_USER_REPGROUP Procedure&#34;</a> for details.</p>
<p><span class="bold">Trusted</span>:</p>
<pre dir="ltr">DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP 
privilege =&gt; &#39;proxy_snapadmin&#39;
list_of_gnames =&gt; NULL,
...
</pre>
<p><span class="bold">Untrusted</span>:</p>
<pre dir="ltr">DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP 
privilege =&gt; &#39;proxy_snapadmin&#39;
list_of_gnames =&gt; &#39;<span class="italic">mastergroupname&#39;,</span>
...
</pre></td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r3c1-t4" headers="r1c1-t4">
<p>receiver</p>
</td>
<td class="cellalignment863" headers="r3c1-t4 r1c2-t4">
<p>See <a href="rarrcatadminpac.htm#i93953">&#34;REGISTER_USER_REPGROUP Procedure&#34;</a> for details.</p>
<pre dir="ltr"><span class="bold">Trusted</span>:
DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP 
privilege =&gt; &#39;receiver&#39;
list_of_gnames =&gt; NULL,
...
</pre>
<p><span class="bold">Untrusted</span>:</p>
<pre dir="ltr">DBMS_REPCAT_ADMIN.REGISTER_USER_REPGROUP 
privilege =&gt; &#39;receiver&#39;
list_of_gnames =&gt; &#39;<span class="italic">mastergroupname&#39;,</span>
...
</pre></td>
</tr>
<tr class="cellalignment855">
<td class="cellalignment863" id="r4c1-t4" headers="r1c1-t4">
<p>proxy refresher</p>
</td>
<td class="cellalignment863" headers="r4c1-t4 r1c2-t4">
<p><span class="bold">Trusted</span>:</p>
<p>Grant <code dir="ltr">CREATE</code> <code dir="ltr">SESSION<br/></code>Grant <code dir="ltr">SELECT</code> <code dir="ltr">ANY</code> <code dir="ltr">TABLE</code></p>
<p><span class="bold">Untrusted</span>:</p>
<p>Grant <code dir="ltr">CREATE</code> <code dir="ltr">SESSION<br/></code>Grant <code dir="ltr">SELECT</code> on necessary master tables or master materialized views and materialized view logs</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>After creating the accounts at both the materialized view and associated master sites or master materialized view sites, you must create the following private database links, including user name and password, from the materialized view site to the master site or master materialized view site:</p>
<ul>
<li>
<p>From the materialized view replication administrator to the proxy materialized view replication administrator.</p>
</li>
<li>
<p>From the propagator to the receiver.</p>
</li>
<li>
<p>From the refresher to the proxy refresher.</p>
</li>
<li>
<p>From the materialized view owner to the master site or master materialized view site for refreshes.</p>
</li>
</ul>
<p>Assuming you have designated a single user account to act as materialized view administrator, propagator, and refresher, you must create one link for each materialized view site for those functions. You do not need a link from the master site or master materialized view site to the materialized view site.</p>
<p>After creating these links, you must call <code dir="ltr">DBMS_DEFER_SYS.SCHEDULE_PUSH</code> and <code dir="ltr">DBMS_DEFER_SYS.SCHEDULE_PURGE</code> at the materialized view site to define how frequently you want to propagate your deferred transaction queue to the associated master site or master materialized view site, and how frequently you want to purge this queue. You must also call <code dir="ltr">DBMS_REFRESH.REFRESH</code> at the materialized view site to schedule how frequently to pull changes from the associated master site or master materialized view site.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment854">
<tr>
<td class="cellalignment863">
<table class="cellalignment859">
<tr>
<td class="cellalignment858"><a href="rarpart5.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment858"><a href="raruserconflictres.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment865">
<table class="cellalignment857">
<tr>
<td class="cellalignment858"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment858"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment858"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment858"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment858"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment858"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
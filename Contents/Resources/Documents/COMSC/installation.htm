<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-4117"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Installing%20Sample%20Schemas"></a><title>Installing Sample Schemas</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 714b"/>
<meta name="description" content="This manual describes the sample database schemas available with Oracle Database and used in some Oracle documentation and curriculum examples."/>
<meta name="dcterms.created" content="2013-03-25T14:50:37Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Sample Schemas"/>
<meta name="dcterms.identifier" content="E15979-04"/>
<meta name="dcterms.isVersionOf" content="COMSC"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="overview.htm" title="Previous" type="text/html"/>
<link rel="Next" href="diagrams.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E15979-04.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/12</span> <!-- End Header --><a id="G11583"></a><a id="COMSC001"></a><a id="I6806"></a>
<h1 class="chapter"><span class="secnum">2</span> Installing Sample Schemas</h1>
<p><a id="sthref21"></a><a id="sthref22"></a>During a complete installation of your Oracle Database, the sample schemas can be installed automatically with the seed database. If the seed database is removed from the system, you will need to reinstall the sample schemas before you can perform the steps given in the examples that you find in Oracle documentation and training materials.</p>
<p>This chapter describes how to install Product_Name. It contains the following sections:</p>
<ul>
<li>
<p><a href="#I4364">Using the Database Configuration Assistant</a></p>
</li>
<li>
<p><a href="#I4367">Manually Installing Sample Schemas</a></p>
</li>
<li>
<p><a href="#I6236">Resetting Sample Schemas</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1"><span class="bold">Caution</span>:</p>
By installing any of the Oracle Database sample schemas, you will destroy any previously installed schemas that use any of the following user names: <code>HR</code>, <code>OE</code>, <code>PM</code>, <code>SH</code>, <code>IX</code>, <code>BI</code>.
<p>Data contained in any of these schemas will be lost if you run any of the installation scripts described in this section. You should not use the sample schemas for your personal or business data and applications. They are meant to be used for demonstration purposes only.</p>
</div>
<a id="I4364"></a><a id="COMSC00001"></a>
<div class="sect1">
<h2 class="sect1"><a id="sthref23"></a><a id="sthref24"></a>Using the Database Configuration Assistant</h2>
<p>When you install Oracle Database with the Oracle Universal Installer, the sample schemas are installed by default if you select the Basic Installation option. Selecting the sample schemas option installs all sample schemas (<code>HR</code>, <code>OE</code>, <code>PM</code>, <code>SH</code>, <code>IX</code>) in the database. If you choose not to install the sample schemas at that time, you can add them later by following the instructions in section <a href="#I4367">&#34;Manually Installing Sample Schemas&#34;</a>.</p>
<p>At the end of the installation process, a dialog box displays the accounts that have been created and their lock status. By default, all sample schemas are locked and their passwords are expired. Before you can use a locked account, you must unlock it and reset its password. You can unlock the accounts at this point in the installation process. Alternatively, after the installation completes, you can unlock the schemas and reset their passwords by using the <code>ALTER USER ... ACCOUNT UNLOCK</code> statement. For example:</p>
<pre>ALTER USER hr ACCOUNT UNLOCK IDENTIFIED BY <span class="codeinlineitalic">Password</span>;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;<a class="olink DBSEG10005" href="../DBSEG/guidelines.htm#DBSEG10005">Guidelines for Securing Passwords</a>&#34; in <span class="italic">Oracle Database Security Guide</span> for guidelines related to creating secure passwords</div>
<p>The sample schemas available to you depend on the edition of Oracle Database that you have installed and its configuration. Refer to the following table:</p>
<div class="inftblinformal">
<table class="cellalignment1428" title="Sample Schemas and editions of Oracle Database" summary="note" dir="ltr">
<thead>
<tr class="cellalignment1422">
<th class="cellalignment1429" id="r1c1-t4">Schema</th>
<th class="cellalignment1429" id="r1c2-t4">Oracle Database Personal edition</th>
<th class="cellalignment1429" id="r1c3-t4">Oracle Database Standard edition</th>
<th class="cellalignment1429" id="r1c4-t4">Oracle Database Enterprise edition</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1422">
<td class="cellalignment1430" id="r2c1-t4" headers="r1c1-t4"><code>HR</code></td>
<td class="cellalignment1430" headers="r2c1-t4 r1c2-t4">OK</td>
<td class="cellalignment1430" headers="r2c1-t4 r1c3-t4">OK</td>
<td class="cellalignment1430" headers="r2c1-t4 r1c4-t4">OK</td>
</tr>
<tr class="cellalignment1422">
<td class="cellalignment1430" id="r3c1-t4" headers="r1c1-t4"><code>OE</code></td>
<td class="cellalignment1430" headers="r3c1-t4 r1c2-t4">OK</td>
<td class="cellalignment1430" headers="r3c1-t4 r1c3-t4">OK</td>
<td class="cellalignment1430" headers="r3c1-t4 r1c4-t4">OK</td>
</tr>
<tr class="cellalignment1422">
<td class="cellalignment1430" id="r4c1-t4" headers="r1c1-t4"><code>PM</code></td>
<td class="cellalignment1430" headers="r4c1-t4 r1c2-t4">OK</td>
<td class="cellalignment1430" headers="r4c1-t4 r1c3-t4">OK</td>
<td class="cellalignment1430" headers="r4c1-t4 r1c4-t4">OK</td>
</tr>
<tr class="cellalignment1422">
<td class="cellalignment1430" id="r5c1-t4" headers="r1c1-t4"><code>IX</code></td>
<td class="cellalignment1430" headers="r5c1-t4 r1c2-t4">OK</td>
<td class="cellalignment1430" headers="r5c1-t4 r1c3-t4">OK</td>
<td class="cellalignment1430" headers="r5c1-t4 r1c4-t4">OK</td>
</tr>
<tr class="cellalignment1422">
<td class="cellalignment1430" id="r6c1-t4" headers="r1c1-t4"><code>SH</code></td>
<td class="cellalignment1430" headers="r6c1-t4 r1c2-t4">Not available</td>
<td class="cellalignment1430" headers="r6c1-t4 r1c3-t4">Not available</td>
<td class="cellalignment1430" headers="r6c1-t4 r1c4-t4">Needs Partitioning Option installed</td>
</tr>
<tr class="cellalignment1422">
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect1" -->
<a id="I4367"></a><a id="COMSC00002"></a>
<div class="sect1">
<h2 class="sect1"><a id="sthref25"></a>Manually Installing Sample Schemas</h2>
<p>If you decide not to install the sample schemas at the time of your initial database installation using DBCA, then you can also create the sample schemas manually by running SQL scripts. Install Oracle Database Examples (Companion CD, part of the media kit) to include these scripts in the <code>demo</code> directory under <code><span class="codeinlineitalic">$ORACLE_HOME</span></code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink EXMPL" href="../EXMPL/toc.htm"><span class="italic">Oracle Database Examples Installation Guide</span></a> for download and installation information</div>
<a id="COMSC00003"></a>
<div class="sect2"><a id="sthref26"></a>
<h3 class="sect2"><a id="sthref27"></a><a id="sthref28"></a>Schema Dependencies</h3>
<p>Various dependencies have been established among the schemas. So, when you create the schemas manually, you must create them in the following order: <code>HR</code>, <code>OE</code>, <code>PM</code>, <code>IX</code>, and <code>SH</code>.</p>
<p>Use this sequence to create the schemas:</p>
<ol>
<li>
<p>Create schema <code>HR</code>.</p>
</li>
<li>
<p>Create schema <code>OE</code>. Schema <code>HR</code> is already present, and you must know the password for schema <code>HR</code> to grant <code>HR</code> object privileges to <code>OE</code>. Some <code>HR</code> tables are visible to user <code>OE</code> with the use of private synonyms. In addition, some <code>OE</code> tables have foreign key relationships to <code>HR</code> tables.</p>
</li>
<li>
<p>Create schema <code>PM</code>: Foreign key relationships require that schema <code>OE</code> already exist when schema <code>PM</code> is created. You must know the password for <code>OE,</code> to grant to <code>PM</code> the right to establish and use these foreign keys.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Schema <code>PM</code> requires that the database be enabled for the Java Virtual Machine (JVM) and <span class="italic">inter</span>Media. You can accomplish this during installation or later using the DBCA.</div>
</li>
<li>
<p>Create schema <code>IX</code>: The information exchange schema, <code>IX</code>, is based on order entry data in schema <code>OE</code>. Again, foreign key relationships require that schema <code>OE</code> already be present when schema <code>IX</code> is created. You must know the password for <code>OE</code> to grant to <code>IX</code>, the right to establish and use the foreign keys.</p>
</li>
<li>
<p>Create schema <code>SH</code>. Schema <code>SH</code> logically depends on schema <code>OE</code>, but you can create schema <code>SH</code> without creating the other four schemas.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDHGIHA"></a><a id="COMSC109"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Guidelines for Installing Sample Schemas</h3>
<p>All scripts necessary to install sample schemas reside in <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema</code> directory. Before you install sample schemas by running these scripts, follow these guidelines:</p>
<ol>
<li>
<p>You must connect as a system administrator using the <code>SYSDBA</code> privilege.</p>
</li>
<li>
<p>When prompted to enter a password for the schema, enter a secure password that meets the requirements described in <a class="olink DBSEG" href="../DBSEG/toc.htm"><span class="italic">Oracle Database Security Guide</span></a>.</p>
</li>
<li>
<p>When prompted for tablespace names while running scripts:</p>
<ul>
<li>
<p>Enter an appropriate tablespace name, for example, <code>users</code> as the default tablespace for a schema</p>
</li>
<li>
<p>Enter <code>temp</code> as the temporary tablespace for a schema</p>
</li>
</ul>
</li>
<li>
<p>When prompted for the log directory name, enter <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/log/</code> or any other existing directory name.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
Make sure that you end the log directory name with a trailing slash, for example, <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/log/</code></div>
</div>
<!-- class="sect2" -->
<a id="COMSC00004"></a>
<div class="sect2"><a id="sthref29"></a>
<h3 class="sect2"><a id="sthref30"></a>Installing the HR Schema</h3>
<p>All scripts necessary to create the Human Resource (<code>HR</code>) schema reside in <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/human_resources</code>.</p>
<p>You need to call only one script, <code>hr_main.sql</code>, to create all the objects and load the data. The following steps provide a summary of the installation process:</p>
<ol>
<li>
<p>Log on to SQL*Plus as <code>SYS</code> and <code>connect</code> using the <code>AS SYSDBA</code> privilege.</p>
<pre>sqlplus connect sys as sysdba
Enter password: <span class="codeinlineitalic">password</span>
</pre></li>
<li>
<p>To run the <code>hr_main.sql</code> script, use the following command:</p>
<pre>SQL&gt; @?/demo/schema/human_resources/hr_main.sql
</pre></li>
<li>
<p>Enter a secure password for <code>HR</code></p>
<pre>specify password for HR as parameter 1:
Enter value for 1:
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Database Security Guide</span> for the minimum password requirements</div>
</li>
<li>
<p>Enter an appropriate tablespace, for example, <code>users</code> as the default tablespace for <code>HR</code></p>
<pre>specify default tablespace for HR as parameter 2:
Enter value for 2:
</pre></li>
<li>
<p>Enter <code>temp</code> as the temporary tablespace for <code>HR</code></p>
<pre>specify temporary tablespace for HR as parameter 3:
Enter value for 3:
</pre></li>
<li>
<p>Enter your <code>SYS</code> password</p>
<pre>specify password for SYS as parameter 4:
Enter value for 4:
</pre></li>
<li>
<p>Enter the directory path, for example, <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/log/</code>, for your log directory</p>
<pre>specify log path as parameter 5:
Enter value for 5:
</pre></li>
</ol>
<p>After script <code>hr_main.sql</code> runs successfully and schema <code>HR</code> is installed, you are connected as user <code>HR.</code> To verify that the schema was created, use the following command:</p>
<pre>SQL&gt; SELECT       table_name FROM user_tables;
</pre>
<p>Running <code>hr_main.sql</code> accomplishes the following tasks:</p>
<ol>
<li>
<p>Removes any previously installed <code>HR</code> schema</p>
</li>
<li>
<p>Creates user <code>HR</code> and grants the necessary privileges</p>
</li>
<li>
<p>Connects as <code>HR</code></p>
</li>
<li>
<p>Calls the scripts that create and populate the schema objects</p>
</li>
</ol>
<p>For a complete listing of the scripts and their functions, refer to <a href="scripts.htm#Cihhhefj">Table 4-1</a>.</p>
<p>A pair of optional scripts, <code>hr_dn_c.sql</code> and <code>hr_dn_d.sql</code>, is provided as a schema extension. To prepare schema <code>HR</code> for use with the directory capabilities of Oracle Internet Directory, run the <code>hr_dn_c.sql</code> script. If you want to return to the initial setup of schema <code>HR</code>, use script <code>hr_dn_d.sql</code> to undo the effects of script <code>hr_dn_c.sql</code>.</p>
<p>You can use script <code>hr_drop.sql</code> to drop schema <code>HR</code>.</p>
</div>
<!-- class="sect2" -->
<a id="COMSC00005"></a>
<div class="sect2"><a id="sthref31"></a>
<h3 class="sect2"><a id="sthref32"></a><a id="sthref33"></a><a id="sthref34"></a><a id="sthref35"></a>Installing Schema OE and Subschema OC</h3>
<p>All scripts necessary to create the Order Entry (<code>OE</code>) schema and its Online Catalog (<code>OC</code>) subschema reside in <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/order_entry</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDHGIHA">Guidelines for Installing Sample Schemas</a> before you run <code>oe_main.sql</code></div>
<p>You need to call only one script, <code>oe_main.sql</code>, to create all the objects and load the data. Running <code>oe_main.sql</code> accomplishes the following tasks:</p>
<ol>
<li>
<p>Removes any previously installed <code>OE</code> schema</p>
</li>
<li>
<p>Creates schema (user) <code>OE</code> and grants it the necessary privileges</p>
</li>
<li>
<p>Connects as <code>OE</code></p>
</li>
<li>
<p>Calls the scripts that create and populate the schema objects</p>
</li>
</ol>
<p>After the <code>oe_main.sql</code> script runs successfully and schema <code>OE</code> is installed, you are connected as user <code>OE</code>. To verify that the schema was created, use the following command:</p>
<pre>SQL&gt; SELECT table_name FROM user_tables;
</pre>
<p>For a complete listing of the scripts and their functions, refer to <a href="scripts.htm#Cihhhcha">Table 4-10</a>.</p>
<p>You can use scripts <code>oe_drop.sql</code> and <code>oc_drop.sql</code> to drop schema <code>OE</code> and subschema <code>OC</code>, respectively.</p>
</div>
<!-- class="sect2" -->
<a id="COMSC00006"></a>
<div class="sect2"><a id="sthref36"></a>
<h3 class="sect2"><a id="sthref37"></a><a id="sthref38"></a>Installing the PM Schema</h3>
<p>All scripts necessary to create the Product Media (<code>PM</code>) schema reside in <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/product_media</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDHGIHA">Guidelines for Installing Sample Schemas</a> before you run <code>pm_main.sql</code></div>
<p>You need to call only one script, <code>pm_main.sql</code>, to create all the objects and load the data. Running <code>pm_main.sql</code> accomplishes the following tasks:</p>
<ol>
<li>
<p>Prompts for passwords and tablespace names used within the scripts as well as datafile and log file directories</p>
</li>
<li>
<p>Removes any previously installed <code>PM</code> schema</p>
</li>
<li>
<p>Creates user <code>PM</code> and grants it the necessary privileges</p>
</li>
<li>
<p>Connects as <code>PM</code></p>
</li>
<li>
<p>Calls the scripts that create and populate the schema objects</p>
</li>
</ol>
<p>After script <code>pm_main.sql</code> runs successfully and schema <code>PM</code> is installed, you are connected as user <code>PM</code>. To verify that the schema was created, use the following command:</p>
<pre>SQL&gt; SELECT table_name FROM user_tables;
</pre>
<p>For a complete listing of the scripts and their functions, refer to <a href="scripts.htm#Cihhdehf">Table 4-19</a> .</p>
<p>You can use script <code>pm_drop.sql</code> to drop schema <code>PM</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The SQL*Loader data file <code>pm_p_lob.dat</code> contains hard-coded absolute path names that have been set during installation. Before attempting to load the data in a different environment, you should first edit the path names in this file.</div>
</div>
<!-- class="sect2" -->
<a id="COMSC00007"></a>
<div class="sect2"><a id="sthref39"></a>
<h3 class="sect2"><a id="sthref40"></a><a id="sthref41"></a>Installing the IX Schema</h3>
<p>All scripts necessary to create the Information Exchange (IX) schema reside in <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/info_exchange</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDHGIHA">Guidelines for Installing Sample Schemas</a> before you run <code>ix_main.sql</code></div>
<p>To install schema <code>IX</code>, you need to call only one script, <code>ix_main.sql</code>, which creates all the objects and loads the data.</p>
<p>Running <code>ix_main.sql</code> accomplishes the following tasks:</p>
<ol>
<li>
<p>Prompts for passwords and tablespace names used within the scripts</p>
</li>
<li>
<p>Removes any previously installed <code>IX</code> schema</p>
</li>
<li>
<p>Creates user <code>IX</code> and grants the necessary privileges</p>
</li>
<li>
<p>Connects as <code>IX</code></p>
</li>
<li>
<p>Calls the scripts that create and populate the schema objects</p>
</li>
</ol>
<p>After the <code>ix_main.sql</code> script runs successfully and schema <code>IX</code> is installed, you are connected as user <code>IX</code>. To verify that the schema was created, use the following command:</p>
<pre>SQL&gt; SELECT table_name FROM user_tables;
</pre>
<p>For a complete listing of the scripts and their functions, refer to <a href="scripts.htm#Cihhgigj">Table 4-23</a>.</p>
<p>You can use script <code>dix_v3.sql</code> to drop schema <code>IX</code>.</p>
</div>
<!-- class="sect2" -->
<a id="COMSC00008"></a>
<div class="sect2"><a id="sthref42"></a>
<h3 class="sect2"><a id="sthref43"></a><a id="sthref44"></a>Installing the SH Schema</h3>
<p>All scripts necessary to create the Sales History (<code>SH</code>) schema reside in <code><span class="codeinlineitalic">$ORACLE_HOME</span></code><code>/demo/schema/sales_history</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#CHDHGIHA">Guidelines for Installing Sample Schemas</a> before you run <code>sh_main.sql</code></div>
<p>You need to call only one script, <code>sh_main.sql</code>, to create all the objects and load the data. Running <code>sh_main.sql</code> accomplishes the following tasks:</p>
<ol>
<li>
<p>Prompts for passwords and tablespace names used within the scripts as well as datafile and log file directories</p>
</li>
<li>
<p>Removes any previously installed <code>SH</code> schema</p>
</li>
<li>
<p>Creates user <code>SH</code> and grants the necessary privileges</p>
</li>
<li>
<p>Connects as <code>SH</code></p>
</li>
<li>
<p>Calls the scripts that create and populate the schema objects</p>
</li>
</ol>
<p>After script <code>sh_main.sql</code> runs successfully and schema <code>SH</code> is installed, you are connected as user <code>SH</code>. To verify that the schema was created, use the following command:</p>
<pre>SQL&gt; SELECT table_name FROM user_tables;
</pre>
<p>For a complete listing of the scripts and their functions, refer to <a href="scripts.htm#Ciheehfe">Table 4-27</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The dimension tables <code>PROMOTIONS</code>, <code>CUSTOMERS</code>, <code>PRODUCTS</code> and the fact table <code>SALES</code> are loaded by SQL*Loader, after which directory paths are created inside the database to point to the load and log file locations. This allows the loading of the <code>COSTS</code> table by using the external table <code>sales_transactions_ext</code>.</div>
<p>A pair of optional scripts, <code>sh_olp_c.sql</code> and <code>sh_olp_d.sql</code>, is provided as a schema extension. To prepare schema <code>SH</code> for use with the advanced analytical capabilities of OLAP Services, run the <code>sh_olp_c.sql</code> create script. If you want to return to the initial setup of schema <code>SH</code>, then use script <code>sh_olp_d.sql</code> to undo the effects of <code>sh_olp_c.sql</code> and reinstate dimensions as they were before.</p>
<p>You can use script <code>sh_drop.sql</code> to drop schema <code>SH</code>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="I6236"></a><a id="COMSC00042"></a>
<div class="sect1">
<h2 class="sect1"><a id="sthref45"></a>Resetting Sample Schemas</h2>
<p>To reset sample schemas to their initial state, use the following syntax from the SQL*Plus command-line interface:</p>
<pre>@?/demo/schema/mksample systempwd syspwd hrpwd oepwd pmpwd ixpwd shpwd bipwd default_tablespace temp_tablespace log_file_directory/
</pre>
<p>The <code>mksample</code> script expects 11 parameters. Provide the password for <code>SYSTEM</code> and <code>SYS</code>, and for schemas <code>HR</code>, <code>OE</code>, <code>PM</code>, <code>IX</code>, and <code>SH</code>. Specify a temporary and a default tablespace, and make sure to end the name of the log file directory with a trailing slash.</p>
<p>The <code>mksample</code> script produces several log files:</p>
<ul>
<li>
<p><code>mkverify.log</code> is the Sample Schema creation log file.</p>
</li>
<li>
<p><code>hr_main.log</code> is the <code>HR</code> schema creation log file.</p>
</li>
<li>
<p><code>oe_oc_main.log</code> is the <code>OE</code> schema creation log file.</p>
</li>
<li>
<p><code>pm_main.log</code> is the <code>PM</code> schema creation log file.</p>
</li>
<li>
<p><code>pm_p_lob.log</code> is the SQL*Loader log file for <code>PM.PRINT_MEDIA</code>.</p>
</li>
<li>
<p><code>ix_main.log</code> is the <code>IX</code> schema creation log file.</p>
</li>
<li>
<p><code>sh_main.log</code> is the <code>SH</code> schema creation log file.</p>
</li>
<li>
<p><code>cust.log</code> is the SQL*Loader log file for <code>SH.CUSTOMERS</code>.</p>
</li>
<li>
<p><code>prod.log</code> is the SQL*Loader log file for <code>SH.PRODUCTS</code>.</p>
</li>
<li>
<p><code>promo.log</code> is the SQL*Loader log file for <code>SH.PROMOTIONS</code>.</p>
</li>
<li>
<p><code>sales.log</code> is the SQL*Loader log file for <code>SH.SALES</code>.</p>
</li>
<li>
<p><code>sales_ext.log</code> is the external table log file for <code>SH.COSTS</code>.</p>
</li>
</ul>
<p>In most situations, there is no difference between installing a Sample Schema for the first time or reinstalling it over a previously installed version. The <code>*_main.sql</code> scripts drop the schema users and all of their objects.</p>
<p>In some cases, complex interobject relationships in schema <code>OE</code> or <code>IX</code> prevent <code>DROP</code> <code>USER</code> ... <code>CASCADE</code> operations from completing normally. To correct these rare cases, use one of the following procedures:</p>
<p>For the <code>OC</code> catalog subschema of schema <code>OE</code>:</p>
<ol>
<li>
<p>Connect as user <code>OE</code>.</p>
</li>
<li>
<p>Run script <code>oc_drop.sql</code>.</p>
</li>
<li>
<p>Connect as <code>SYSTEM</code>.</p>
</li>
<li>
<p>Ensure that user <code>OE</code> is not connected:</p>
<pre>SELECT username FROM v$session;
</pre></li>
<li>
<p>Drop user <code>OE</code>:</p>
<pre>DROP USER oe CASCADE;
</pre></li>
</ol>
<p>For the <code>IX</code> schemas:</p>
<ol>
<li>
<p>Connect as <code>SYSTEM</code>.</p>
</li>
<li>
<p>Ensure that no user is connected as an <code>IX</code> user:</p>
<pre>SELECT username FROM v$session WHERE username like &#39;IX%&#39;;
</pre></li>
<li>
<p>Drop the schemas by running script <code>dix.sql</code>. You will be prompted for passwords for the individual users.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="COMSC110"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref46"></a>
<h2 class="sect1">Uninstalling Sample Schemas</h2>
<p>If you need to remove the sample schemas from the installation, run script <code>drop_sch.sql</code> on the SQL*Plus command line. This script ships with Oracle Database.</p>
<div class="example">
<p class="titleinexample"><a id="COMSC111"></a><a id="sthref47"></a>Example 2-1 How to Uninstall Sample Schemas</p>
<pre>@?/demo/schema/drop_sch.sql <span class="italic">systempwd</span> <span class="italic">spool_file_name</span>
</pre></div>
<!-- class="example" -->
<p>Script <code>drop_sch.sql</code> uses two parameters: <code>systempwd</code> is the password for <code>SYSTEM</code> user, and <code>spool_file_name</code> is the name of the spool file that captures the log of the operation.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1421">
<tr>
<td class="cellalignment1430">
<table class="cellalignment1426">
<tr>
<td class="cellalignment1425"><a href="overview.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1425"><a href="diagrams.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1433">
<table class="cellalignment1424">
<tr>
<td class="cellalignment1425"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1425"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1425"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1425"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1425"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1425"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
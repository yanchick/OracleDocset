<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105982"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Default%20Locations%20for%20Dump%2C%20Log%2C%20and%20SQL%20Files"></a><title>Default Locations for Dump, Log, and SQL Files</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="file allocation in Data Pump, default file locations, directory objects, using with Data Pump, effect of Oracle ASM, Oracle Automatic Storage Management (ASM), Data Pump and"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-8C1CD0EA-F6F8-4627-867E-956ABCB984F0.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5"></a> <span id="PAGE" style="display:none;">24/1019</span> <!-- End Header -->
<a id="SUTIL819"></a>
<h1 id="SUTIL-GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5" class="sect1">Default Locations for Dump, Log, and SQL Files</h1>
<div>
<p>Because Data Pump is server-based rather than client-based, dump files, log files, and SQL files are accessed relative to server-based directory paths. Data Pump requires that directory paths be specified as directory objects. A directory object maps a name to a directory path on the file system. DBAs must ensure that only approved users are allowed access to the directory object associated with the directory path.</p>
<p>The following example shows a SQL statement that creates a directory object named <code class="codeph">dpump_dir1</code> that is mapped to a directory located at <code class="codeph">/usr/apps/datafiles.</code></p>
<pre dir="ltr">SQL&gt; CREATE DIRECTORY dpump_dir1 AS &#39;/usr/apps/datafiles&#39;;
</pre>
<p>The reason that a directory object is required is to ensure data security and integrity. For example:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you were allowed to specify a directory path location for an input file, then you might be able to read data that the server has access to, but to which you should not.</p>
</li>
<li>
<p>If you were allowed to specify a directory path location for an output file, then the server might overwrite a file that you might not normally have privileges to delete.</p>
</li>
</ul>
<p>On UNIX and Windows operating systems, a default directory object, <code class="codeph">DATA_PUMP_DIR</code>, is created at database creation or whenever the database dictionary is upgraded. By default, it is available only to privileged users. (The user <code class="codeph">SYSTEM</code> has read and write access to the <code class="codeph">DATA_PUMP_DIR</code> directory, by default.)</p>
<p>If you are not a privileged user, then before you can run Data Pump Export or Data Pump Import, a directory object must be created by a database administrator (DBA) or by any user with the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code> privilege.</p>
<p>After a directory is created, the user creating the directory object must grant <code class="codeph">READ</code> or <code class="codeph">WRITE</code> permission on the directory to other users. For example, to allow the Oracle database to read and write files on behalf of user <code class="codeph">hr</code> in the directory named by <code class="codeph">dpump_dir1</code>, the DBA must execute the following command:</p>
<pre dir="ltr">SQL&gt; GRANT READ, WRITE ON DIRECTORY dpump_dir1 TO hr;
</pre>
<p>Note that <code class="codeph">READ</code> or <code class="codeph">WRITE</code> permission to a directory object only means that the Oracle database can read or write files in the corresponding directory on your behalf. You are not given direct access to those files outside of the Oracle database unless you have the appropriate operating system privileges. Similarly, the Oracle database requires permission from the operating system to read and write files in the directories.</p>
<p>Data Pump Export and Import use the following order of precedence to determine a file&#39;s location:</p>
<ol>
<li>
<p>If a directory object is specified as part of the file specification, then the location specified by that directory object is used. (The directory object must be separated from the file name by a colon.)</p>
</li>
<li>
<p>If a directory object is not specified as part of the file specification, then the directory object named by the <code class="codeph">DIRECTORY</code> parameter is used.</p>
</li>
<li>
<p>If a directory object is not specified as part of the file specification, and if no directory object is named by the <code class="codeph">DIRECTORY</code> parameter, then the value of the environment variable, <code class="codeph">DATA_PUMP_DIR</code>, is used. This environment variable is defined using operating system commands on the client system where the Data Pump Export and Import utilities are run. The value assigned to this client-based environment variable must be the name of a server-based directory object, which must first be created on the server system by a DBA. For example, the following SQL statement creates a directory object on the server system. The name of the directory object is <code class="codeph">DUMP_FILES1</code>, and it is located at <code class="codeph">&#39;/usr/apps/dumpfiles1&#39;</code>.</p>
<pre dir="ltr">SQL&gt; CREATE DIRECTORY DUMP_FILES1 AS &#39;/usr/apps/dumpfiles1&#39;;
</pre>
<p>Then, a user on a UNIX-based client system using <code class="codeph">csh</code> can assign the value <code class="codeph">DUMP_FILES1</code> to the environment variable <code class="codeph">DATA_PUMP_DIR</code>. The <code class="codeph">DIRECTORY</code> parameter can then be omitted from the command line. The dump file <code class="codeph">employees.dmp</code>, and the log file <code class="codeph">export.log</code>, are written to <code class="codeph">&#39;/usr/apps/dumpfiles1&#39;</code>.</p>
<pre dir="ltr">%setenv DATA_PUMP_DIR DUMP_FILES1
%expdp hr TABLES=employees DUMPFILE=employees.dmp
</pre></li>
<li>
<p>If none of the previous three conditions yields a directory object and you are a privileged user, then Data Pump attempts to use the value of the default server-based directory object, <code class="codeph">DATA_PUMP_DIR</code>. This directory object is automatically created at database creation or when the database dictionary is upgraded. You can use the following SQL query to see the path definition for <code class="codeph">DATA_PUMP_DIR</code>:</p>
<pre dir="ltr">SQL&gt; SELECT directory_name, directory_path FROM dba_directories
2 WHERE directory_name=&#39;DATA_PUMP_DIR&#39;;
</pre>
<p>If you are not a privileged user, then access to the <code class="codeph">DATA_PUMP_DIR</code> directory object must have previously been granted to you by a DBA.</p>
<p>Do not confuse the default <code class="codeph">DATA_PUMP_DIR</code> directory object with the client-based environment variable of the same name.</p>
</li>
</ol>
</div>
<a id="SUTIL3755"></a>
<div class="props_rev_3"><a id="GUID-8E63A90B-8E72-4E94-B2F4-41CF0603293E"></a>
<h2 id="SUTIL-GUID-8E63A90B-8E72-4E94-B2F4-41CF0603293E" class="sect2">Oracle RAC Considerations</h2>
<div>
<p>Keep the following considerations in mind when working in an Oracle RAC environment.</p>
<ul style="list-style-type: disc;">
<li>
<p>To use Data Pump or external tables in an Oracle RAC configuration, you must ensure that the directory object path is on a cluster-wide file system.</p>
<p>The directory object must point to shared physical storage that is visible to, and accessible from, all instances where Data Pump and/or external tables processes may run.</p>
</li>
<li>
<p>The default Data Pump behavior is that worker processes can run on any instance in an Oracle RAC configuration. Therefore, workers on those Oracle RAC instances must have physical access to the location defined by the directory object, such as shared storage media. If the configuration does not have shared storage for this purpose, but you still require parallelism, then you can use the <code class="codeph">CLUSTER=NO</code> parameter to constrain all worker processes to the instance where the Data Pump job was started.</p>
</li>
<li>
<p>Under certain circumstances, Data Pump uses parallel query slaves to load or unload data. In an Oracle RAC environment, Data Pump does not control where these slaves run, and they may run on other instances in the Oracle RAC, regardless of what is specified for <code class="codeph">CLUSTER</code> and <code class="codeph">SERVICE_NAME</code> for the Data Pump job. Controls for parallel query operations are independent of Data Pump. When parallel query slaves run on other instances as part of a Data Pump job, they also require access to the physical storage of the dump file set.</p>
</li>
</ul>
</div>
</div>
<a id="SUTIL820"></a>
<div class="props_rev_3"><a id="GUID-1A269231-3365-4A3B-B838-649AAC2766CB"></a>
<h2 id="SUTIL-GUID-1A269231-3365-4A3B-B838-649AAC2766CB" class="sect2">Using Directory Objects When Oracle Automatic Storage Management Is Enabled</h2>
<div>
<div class="section">
<p>If you use Data Pump Export or Import with Oracle Automatic Storage Management (Oracle ASM) enabled, then you must define the directory object used for the dump file so that the Oracle ASM disk group name is used (instead of an operating system directory path). A separate directory object, which points to an operating system directory path, should be used for the log file. For example, you would create a directory object for the Oracle ASM dump file as follows:</p>
<pre dir="ltr">SQL&gt; CREATE or REPLACE DIRECTORY dpump_dir as &#39;+DATAFILES/&#39;;
</pre>
<p>Then you would create a separate directory object for the log file:</p>
<pre dir="ltr">SQL&gt; CREATE or REPLACE DIRECTORY dpump_log as &#39;/homedir/user1/&#39;;
</pre>
<p>To enable user <code class="codeph">hr</code> to have access to these directory objects, you would assign the necessary privileges, for example:</p>
<pre dir="ltr">SQL&gt; GRANT READ, WRITE ON DIRECTORY dpump_dir TO hr;
SQL&gt; GRANT READ, WRITE ON DIRECTORY dpump_log TO hr;
</pre>
<p>You would then use the following Data Pump Export command (you will be prompted for a password):</p>
<pre dir="ltr">&gt; expdp hr DIRECTORY=dpump_dir DUMPFILE=hr.dmp LOGFILE=dpump_log:hr.log
</pre>
<div class="infobox-note" id="GUID-1A269231-3365-4A3B-B838-649AAC2766CB__GUID-8DF266E3-743D-4012-B2D4-42EA45D19979">
<p class="notep1">Note:</p>
<p>If you simply want to copy Data Pump dump files between ASM and disk directories, you can use the <code class="codeph">DBMS_FILE_TRANSFER</code> PL/SQL package.</p>
</div>
<div class="infoboxnotealso" id="GUID-1A269231-3365-4A3B-B838-649AAC2766CB__GUID-9C69B7DF-4C4D-402D-A82C-5189DAC14F65">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Export <a href="GUID-D7F1C0E8-E3CF-495E-9596-E08AEE36BB6B.htm">DIRECTORY</a> parameter</p>
</li>
<li>
<p>The Import <a href="GUID-DA339AA4-C040-4D3B-A85F-DD3E470D452A.htm">DIRECTORY</a> parameter</p>
</li>
<li>
<p><a class="olink SQLRF01207" target="_blank" href="../SQLRF/statements_5008.htm#SQLRF01207"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> command</p>
</li>
<li>
<p><a class="olink OSTMG036" target="_blank" href="../OSTMG/GUID-BC612D35-5399-4A35-843E-CF76E3D3CDB5.htm#OSTMG036"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about Oracle ASM</p>
</li>
<li>
<p><a class="olink ARPLS095" target="_blank" href="../ARPLS/d_ftran.htm#ARPLS095"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_FILE_TRANSFER</code> PL/SQL package</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL4337"></a>
<div class="props_rev_3"><a id="GUID-BB478188-0F26-44E3-99E6-C161ED5A2473"></a>
<h2 id="SUTIL-GUID-BB478188-0F26-44E3-99E6-C161ED5A2473" class="sect2">The DATA_PUMP_DIR Directory Object and Pluggable Databases</h2>
<div>
<p>The default Data Pump directory object, <code class="codeph">DATA_PUMP_DIR</code>, does not work with pluggable databases (PDBs). You must define an explicit directory object within the PDB that you are using Data Pump to export or import.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-8C1CD0EA-F6F8-4627-867E-956ABCB984F0.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-6F532CA9-CE90-47D6-84ED-AD10F1E18056.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
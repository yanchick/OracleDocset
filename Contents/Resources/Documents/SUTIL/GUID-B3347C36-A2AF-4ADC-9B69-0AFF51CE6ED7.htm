<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105744"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20Export%20and%20Import%20to%20Partition%20a%20Database%20Migration"></a><title>Using Export and Import to Partition a Database Migration</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="partitioning a database migration, Export, advantages of, disadvantages of, database migration, partitioning of, procedure during export"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-E3C91E50-0281-491F-ADD5-B231FAF10047.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-9002ECD0-ABFB-4D2C-9157-369F1673B373.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B3347C36-A2AF-4ADC-9B69-0AFF51CE6ED7"></a> <span id="PAGE" style="display:none;">1009/1019</span> <!-- End Header -->
<a id="SUTIL1852"></a>
<h1 id="SUTIL-GUID-B3347C36-A2AF-4ADC-9B69-0AFF51CE6ED7" class="sect1">Using Export and Import to Partition a Database Migration</h1>
<div>
<p>When you use the Export and Import utilities to migrate a large database, it may be more efficient to partition the migration into multiple export and import jobs. If you decide to partition the migration, then be aware of the following advantages and disadvantages.</p>
</div>
<a id="SUTIL1853"></a>
<div class="props_rev_3"><a id="GUID-D4333FF5-D0B7-4457-82B3-BEE9B418E35C"></a>
<h2 id="SUTIL-GUID-D4333FF5-D0B7-4457-82B3-BEE9B418E35C" class="sect2">Advantages of Partitioning a Migration</h2>
<div>
<p>Partitioning a migration has the following advantages:</p>
<ul style="list-style-type: disc;">
<li>
<p>Time required for the migration may be reduced, because many of the subjobs can be run in parallel.</p>
</li>
<li>
<p>The import can start as soon as the first export subjob completes, rather than waiting for the entire export to complete.</p>
</li>
</ul>
</div>
</div>
<a id="SUTIL1854"></a>
<div class="props_rev_3"><a id="GUID-4FD161BC-A72A-46AF-8956-A06C0F56C9DC"></a>
<h2 id="SUTIL-GUID-4FD161BC-A72A-46AF-8956-A06C0F56C9DC" class="sect2">Disadvantages of Partitioning a Migration</h2>
<div>
<p>Partitioning a migration has the following disadvantages:</p>
<ul style="list-style-type: disc;">
<li>
<p>The export and import processes become more complex.</p>
</li>
<li>
<p>Support of cross-schema references for certain types of objects may be compromised. For example, if a schema contains a table with a foreign key constraint against a table in a different schema, then you may not have the required parent records when you import the table into the dependent schema.</p>
</li>
</ul>
</div>
</div>
<a id="SUTIL1855"></a>
<div class="props_rev_3"><a id="GUID-8C71EDE4-A980-4E29-AE6E-8401D42A64E2"></a>
<h2 id="SUTIL-GUID-8C71EDE4-A980-4E29-AE6E-8401D42A64E2" class="sect2">How to Use Export and Import to Partition a Database Migration</h2>
<div>
<p>To perform a database migration in a partitioned manner, take the following steps:</p>
<ol>
<li>
<p>For all top-level metadata in the database, issue the following commands:</p>
<ol>
<li>
<p><code class="codeph">exp FILE=full FULL=y CONSTRAINTS=n TRIGGERS=n ROWS=n INDEXES=n</code></p>
</li>
<li>
<p><code class="codeph">imp FILE=full FULL=y</code></p>
</li>
</ol>
</li>
<li>
<p>For each schema<span class="italic"><code class="codeph">n</code></span> in the database, issue the following commands:</p>
<ol>
<li>
<p><code class="codeph">exp OWNER=schema</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">FILE=schema</code><span class="italic"><code class="codeph">n</code></span></p>
</li>
<li>
<p><code class="codeph">imp FILE=schema</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">FROMUSER=schema</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">TOUSER=schema</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">IGNORE=y</code></p>
</li>
</ol>
</li>
</ol>
<p>All exports can be done in parallel. When the import of <code class="codeph">full</code>.<code class="codeph">dmp</code> completes, all remaining imports can also be done in parallel.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-E3C91E50-0281-491F-ADD5-B231FAF10047.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-9002ECD0-ABFB-4D2C-9157-369F1673B373.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105374"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Presorting%20Data%20for%20Faster%20Indexing"></a><title>Presorting Data for Faster Indexing</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="direct path load, presorting data, indexes, SQL*Loader, sorting, presorting in direct path load"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-8A0852AD-A7A7-4FB6-B1A1-6F4E8B46BAB2.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-A2FC1A81-CFC0-410E-92FE-F3B4C07E36CE.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-571EC032-0C25-483A-BC0D-2C27A7B64D64"></a> <span id="PAGE" style="display:none;">499/1019</span> <!-- End Header -->
<a id="SUTIL1316"></a>
<h1 id="SUTIL-GUID-571EC032-0C25-483A-BC0D-2C27A7B64D64" class="sect1">Presorting Data for Faster Indexing</h1>
<div>
<p>You can improve the performance of direct path loads by presorting your data on indexed columns. Presorting minimizes temporary storage requirements during the load. Presorting also enables you to take advantage of high-performance sorting routines that are optimized for your operating system or application.</p>
<p>If the data is presorted and the existing index is not empty, then presorting minimizes the amount of temporary segment space needed for the new keys. The sort routine appends each new key to the key list.</p>
<p>Instead of requiring extra space for sorting, only space for the keys is needed. To calculate the amount of storage needed, use a sort factor of 1.0 instead of 1.3. For more information about estimating storage requirements, see <span class="q">&#34;<a href="GUID-81C3D461-09BA-4CAB-AB06-B2C7D51780EF.htm#GUID-CD74D1FF-E22E-4158-B10D-A06B01018488">Temporary Segment Storage Requirements</a>&#34;</span>.</p>
<p>If presorting is specified and the existing index is empty, then maximum efficiency is achieved. The new keys are simply inserted into the index. Instead of having a temporary segment and new index existing simultaneously with the empty, old index, only the new index exists. So, temporary storage is not required, and time is saved.</p>
</div>
<a id="SUTIL1317"></a>
<div class="props_rev_3"><a id="GUID-65D50809-CCB9-41BB-A72E-AFDF625234E5"></a>
<h2 id="SUTIL-GUID-65D50809-CCB9-41BB-A72E-AFDF625234E5" class="sect2">SORTED INDEXES Clause</h2>
<div>
<p>The <code class="codeph">SORTED</code> <code class="codeph">INDEXES</code> clause identifies the indexes on which the data is presorted. This clause is allowed only for direct path loads. See case study 6, Loading Data Using the Direct Path Load Method, for an example.<a id="d100439e96" class="indexterm-anchor"></a><a id="d100439e102" class="indexterm-anchor"></a> (See <span class="q">&#34;<a href="GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323.htm#GUID-96DDFFBB-7BFD-4370-A43C-0211A24FA323">SQL*Loader Case Studies</a>&#34;</span> for information on how to access case studies.)</p>
<p>Generally, you specify only one index in the <code class="codeph">SORTED</code> <code class="codeph">INDEXES</code> clause, because data that is sorted for one index is not usually in the right order for another index. When the data is in the same order for multiple indexes, however, all indexes can be specified at once.</p>
<p>All indexes listed in the <code class="codeph">SORTED</code> <code class="codeph">INDEXES</code> clause must be created before you start the direct path load.</p>
</div>
</div>
<a id="SUTIL1318"></a>
<div class="props_rev_3"><a id="GUID-B1099A14-206F-4667-A451-1E030B21C288"></a>
<h2 id="SUTIL-GUID-B1099A14-206F-4667-A451-1E030B21C288" class="sect2">Unsorted Data</h2>
<div>
<p>If you specify an index in the <code class="codeph">SORTED</code> <code class="codeph">INDEXES</code> clause, and the data is not sorted for that index, then the index is left in an Index Unusable state at the end of the load. The data is present, but any attempt to use the index results in an error. Any index that is left in an Index Unusable state must be rebuilt after the load.<a id="d100439e169" class="indexterm-anchor"></a><a id="d100439e175" class="indexterm-anchor"></a><a id="d100439e179" class="indexterm-anchor"></a><a id="d100439e185" class="indexterm-anchor"></a></p>
</div>
</div>
<a id="SUTIL1319"></a>
<div class="props_rev_3"><a id="GUID-2AA59065-1131-4D5F-8535-456DF5CFEFE6"></a>
<h2 id="SUTIL-GUID-2AA59065-1131-4D5F-8535-456DF5CFEFE6" class="sect2">Multiple-Column Indexes</h2>
<div>
<p>If you specify a multiple-column index in the <code class="codeph">SORTED</code> <code class="codeph">INDEXES</code> clause, then the data should be sorted so that it is ordered first on the first column in the index, next on the second column in the index, and so on.<a id="d100439e230" class="indexterm-anchor"></a><a id="d100439e236" class="indexterm-anchor"></a><a id="d100439e242" class="indexterm-anchor"></a></p>
<p>For example, if the first column of the index is city, and the second column is last name; then the data should be ordered by name within each city, as in the following list:</p>
<pre dir="ltr">Albuquerque      Adams
Albuquerque      Hartstein
Albuquerque      Klein
...         ...
Boston           Andrews
Boston           Bobrowski
Boston           Heigham
...              ...
</pre></div>
</div>
<a id="SUTIL1320"></a>
<div class="props_rev_3"><a id="GUID-EB69C930-C47B-4DA0-BB77-8A2A786FEC25"></a>
<h2 id="SUTIL-GUID-EB69C930-C47B-4DA0-BB77-8A2A786FEC25" class="sect2">Choosing the Best Sort Order</h2>
<div>
<div class="section">
<p>For the best overall performance of direct path loads, you should presort the data based on the index that requires the most temporary segment space. For example, if the primary key is one numeric column, and the secondary key consists of three text columns, then you can minimize both sort time and storage requirements by presorting on the secondary key.<a id="d100439e283" class="indexterm-anchor"></a><a id="d100439e289" class="indexterm-anchor"></a></p>
<p>To determine the index that requires the most storage space, use the following procedure:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>For each index, add up the widths of all columns in that index.</span></li>
<li><span>For a single-table load, pick the index with the largest overall width.</span></li>
<li><span>For each table in a multiple-table load, identify the index with the largest overall width. If the same number of rows are to be loaded into each table, then again pick the index with the largest overall width. Usually, the same number of rows are loaded into each table.</span></li>
<li><span>If a different number of rows are to be loaded into the indexed tables in a multiple-table load, then multiply the width of each index identified in Step 3 by the number of rows that are to be loaded into that index, and pick the index with the largest result.</span></li>
</ol>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-8A0852AD-A7A7-4FB6-B1A1-6F4E8B46BAB2.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-A2FC1A81-CFC0-410E-92FE-F3B4C07E36CE.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
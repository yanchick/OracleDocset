<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105223"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20the%20WHEN%2C%20NULLIF%2C%20and%20DEFAULTIF%20Clauses"></a><title>Using the WHEN, NULLIF, and DEFAULTIF Clauses</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-27D0618C-3372-4866-BB7A-A3CD432C0D59.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-4C80A81A-169F-48F9-A60E-E20C173235DE.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-30775EC3-8BC0-40F9-8F32-E785ACF028A0"></a> <span id="PAGE" style="display:none;">411/1019</span> <!-- End Header -->
<a id="SUTIL1202"></a>
<h1 id="SUTIL-GUID-30775EC3-8BC0-40F9-8F32-E785ACF028A0" class="sect1">Using the WHEN, NULLIF, and DEFAULTIF Clauses</h1>
<div>
<p>The following information applies to scalar fields. For nonscalar fields (column objects, LOBs, and collections), the <code class="codeph">WHEN</code>, <code class="codeph">NULLIF</code>, and <code class="codeph">DEFAULTIF</code> clauses are processed differently because nonscalar fields are more complex.</p>
<p>The results of a <code class="codeph">WHEN</code>, <code class="codeph">NULLIF</code>, or <code class="codeph">DEFAULTIF</code> clause can be different depending on whether the clause specifies a field name or a position.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the <code class="codeph">WHEN</code>, <code class="codeph">NULLIF</code>, or <code class="codeph">DEFAULTIF</code> clause specifies a field name, then SQL*Loader compares the clause to the evaluated value of the field. The evaluated value takes trimmed whitespace into consideration. See <span class="q">&#34;<a href="GUID-32F22C8C-9208-458D-989B-C0E3A38BB258.htm">Trimming Whitespace</a>&#34;</span> for information about trimming blanks and tabs.</p>
</li>
<li>
<p>If the <code class="codeph">WHEN</code>, <code class="codeph">NULLIF</code>, or <code class="codeph">DEFAULTIF</code> clause specifies a position, then SQL*Loader compares the clause to the original logical record in the data file. No whitespace trimming is done on the logical record in that case.</p>
</li>
</ul>
<p>Different results are more likely if the field has whitespace that is trimmed, or if the <code class="codeph">WHEN</code>, <code class="codeph">NULLIF</code>, or <code class="codeph">DEFAULTIF</code> clause contains blanks or tabs or uses the <code class="codeph">BLANKS</code> parameter. If you require the same results for a field specified by name and for the same field specified by position, then use the <code class="codeph">PRESERVE</code> <code class="codeph">BLANKS</code> option. The <code class="codeph">PRESERVE</code> <code class="codeph">BLANKS</code> option instructs SQL*Loader not to trim whitespace when it evaluates the values of the fields.</p>
<p>The results of a <code class="codeph">WHEN</code>, <code class="codeph">NULLIF</code>, or <code class="codeph">DEFAULTIF</code> clause are also affected by the order in which SQL*Loader operates, as described in the following steps. SQL*Loader performs these steps in order, but it does not always perform all of them. Once a field is set, any remaining steps in the process are ignored. For example, if the field is set in Step 5, then SQL*Loader does not move on to Step 6.</p>
<ol>
<li>
<p>SQL*Loader evaluates the value of each field for the input record and trims any whitespace that should be trimmed (according to existing guidelines for trimming blanks and tabs).</p>
</li>
<li>
<p>For each record, SQL*Loader evaluates any <code class="codeph">WHEN</code> clauses for the table.</p>
</li>
<li>
<p>If the record satisfies the <code class="codeph">WHEN</code> clauses for the table, or no <code class="codeph">WHEN</code> clauses are specified, then SQL*Loader checks each field for a <code class="codeph">NULLIF</code> clause.</p>
</li>
<li>
<p>If a <code class="codeph">NULLIF</code> clause exists, then SQL*Loader evaluates it.</p>
</li>
<li>
<p>If the <code class="codeph">NULLIF</code> clause is satisfied, then SQL*Loader sets the field to <code class="codeph">NULL</code>.</p>
</li>
<li>
<p>If the <code class="codeph">NULLIF</code> clause is not satisfied, or if there is no <code class="codeph">NULLIF</code> clause, then SQL*Loader checks the length of the field from field evaluation. If the field has a length of 0 from field evaluation (for example, it was a null field, or whitespace trimming resulted in a null field), then SQL*Loader sets the field to <code class="codeph">NULL</code>. In this case, any <code class="codeph">DEFAULTIF</code> clause specified for the field is not evaluated.</p>
</li>
<li>
<p>If any specified <code class="codeph">NULLIF</code> clause is false or there is no <code class="codeph">NULLIF</code> clause, and if the field does not have a length of 0 from field evaluation, then SQL*Loader checks the field for a <code class="codeph">DEFAULTIF</code> clause.</p>
</li>
<li>
<p>If a <code class="codeph">DEFAULTIF</code> clause exists, then SQL*Loader evaluates it.</p>
</li>
<li>
<p>If the <code class="codeph">DEFAULTIF</code> clause is satisfied, then the field is set to 0 if the field in the data file is a numeric field. It is set to <code class="codeph">NULL</code> if the field is not a numeric field. The following fields are numeric fields and will be set to 0 if they satisfy the <code class="codeph">DEFAULTIF</code> clause:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">BYTEINT</code></p>
</li>
<li>
<p><code class="codeph">SMALLINT</code></p>
</li>
<li>
<p><code class="codeph">INTEGER</code></p>
</li>
<li>
<p><code class="codeph">FLOAT</code></p>
</li>
<li>
<p><code class="codeph">DOUBLE</code></p>
</li>
<li>
<p><code class="codeph">ZONED</code></p>
</li>
<li>
<p>(packed) <code class="codeph">DECIMAL</code></p>
</li>
<li>
<p>Numeric <code class="codeph">EXTERNAL</code> (<code class="codeph">INTEGER</code>, <code class="codeph">FLOAT</code>, <code class="codeph">DECIMAL</code>, and <code class="codeph">ZONED</code>)</p>
</li>
</ul>
</li>
<li>
<p>If the <code class="codeph">DEFAULTIF</code> clause is not satisfied, or if there is no <code class="codeph">DEFAULTIF</code> clause, then SQL*Loader sets the field with the evaluated value from Step 1.</p>
</li>
</ol>
<p>The order in which SQL*Loader operates could cause results that you do not expect. For example, the <code class="codeph">DEFAULTIF</code> clause may look like it is setting a numeric field to <code class="codeph">NULL</code> rather than to 0.</p>
<div class="infobox-note" id="GUID-30775EC3-8BC0-40F9-8F32-E785ACF028A0__GUID-743AF40A-29CE-4630-9142-32F83198535F">
<p class="notep1">Note:</p>
<p>As demonstrated in these steps, the presence of <code class="codeph">NULLIF</code> and <code class="codeph">DEFAULTIF</code> clauses results in extra processing that SQL*Loader must perform. This can affect performance. Note that during Step 1, SQL*Loader will set a field to NULL if its evaluated length is zero. To improve performance, consider whether it might be possible for you to change your data to take advantage of this. The detection of NULLs as part of Step 1 occurs much more quickly than the processing of a <code class="codeph">NULLIF</code> or <code class="codeph">DEFAULTIF</code> clause.</p>
<p>For example, a <code class="codeph">CHAR(5)</code> will have zero length if it falls off the end of the logical record or if it contains all blanks and blank trimming is in effect. A delimited field will have zero length if there are no characters between the start of the field and the terminator.</p>
<p>Also, for character fields, <code class="codeph">NULLIF</code> is usually faster to process than <code class="codeph">DEFAULTIF</code> (the default for character fields is NULL).</p>
</div>
<div class="infoboxnotealso" id="GUID-30775EC3-8BC0-40F9-8F32-E785ACF028A0__GUID-336C9956-3FE2-40C2-8CA4-1874C3D82C38">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="GUID-ACB5F2D6-4D15-4A36-A7B2-72D35C5440B3.htm">Specifying a NULLIF Clause At the Table Level</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-27D0618C-3372-4866-BB7A-A3CD432C0D59.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-4C80A81A-169F-48F9-A60E-E20C173235DE.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
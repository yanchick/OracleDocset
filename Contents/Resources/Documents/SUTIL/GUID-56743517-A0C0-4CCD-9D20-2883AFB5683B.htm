<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105366"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Tracking%20DDL%20Statements%20in%20the%20LogMiner%20Dictionary"></a><title>Tracking DDL Statements in the LogMiner Dictionary</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-C7FA40DF-EA93-40AA-BDE9-614CD96FE197.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-815049EB-F41B-4EB9-97DC-913F40D43EC2.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-56743517-A0C0-4CCD-9D20-2883AFB5683B"></a> <span id="PAGE" style="display:none;">776/1019</span> <!-- End Header -->
<a id="SUTIL1591"></a>
<h1 id="SUTIL-GUID-56743517-A0C0-4CCD-9D20-2883AFB5683B" class="sect1">Tracking DDL Statements in the LogMiner Dictionary</h1>
<div>
<p><a id="d155990e29" class="indexterm-anchor"></a>LogMiner automatically builds its own internal dictionary from the LogMiner dictionary that you specify when you start LogMiner (either an online catalog, a dictionary in the redo log files, or a flat file). This dictionary provides a snapshot of the database objects and their definitions.</p>
<p>If your LogMiner dictionary is in the redo log files or is a flat file, then you can use the <code class="codeph">DDL_DICT_TRACKING</code> option to the PL/SQL <code class="codeph">DBMS_LOGMNR.START_LOGMNR</code> procedure to direct LogMiner to track data definition language (DDL) statements. DDL tracking enables LogMiner to successfully track structural changes made to a database object, such as adding or dropping columns from a table. For example:</p>
<pre dir="ltr">EXECUTE DBMS_LOGMNR.START_LOGMNR(OPTIONS =&gt; -
   DBMS_LOGMNR.DDL_DICT_TRACKING + DBMS_LOGMNR.DICT_FROM_REDO_LOGS);
</pre>
<p>See <span class="q">&#34;<a href="GUID-E0DDC97C-7364-4BED-AF2A-E0B486F0E22F.htm">Example 5: Tracking DDL Statements in the Internal Dictionary</a>&#34;</span> for a complete example.</p>
<p>With this option set, LogMiner applies any DDL statements seen in the redo log files to its internal dictionary.</p>
<div class="infobox-note" id="GUID-56743517-A0C0-4CCD-9D20-2883AFB5683B__GUID-B8808527-48A6-40E8-A7DD-9454BEEB48D6">
<p class="notep1">Note:</p>
<p>In general, it is a good idea to keep supplemental logging and the DDL tracking feature enabled, because if they are not enabled and a DDL event occurs, then LogMiner returns some of the redo data as binary data. Also, a metadata version mismatch could occur.</p>
</div>
<p>When you enable <code class="codeph">DDL_DICT_TRACKING,</code> data manipulation language (DML) operations performed on tables created after the LogMiner dictionary was extracted can be shown correctly.</p>
<p>For example, if a table <code class="codeph">employees</code> is updated through two successive DDL operations such that column <code class="codeph">gender</code> is added in one operation, and column <code class="codeph">commission_pct</code> is dropped in the next, then LogMiner will keep versioned information for <code class="codeph">employees</code> for each of these changes. This means that LogMiner can successfully mine redo log files that are from before and after these DDL changes, and no binary data will be presented for the <code class="codeph">SQL_REDO</code> or <code class="codeph">SQL_UNDO</code> columns.</p>
<p>Because LogMiner automatically assigns versions to the database metadata, it will detect and notify you of any mismatch between its internal dictionary and the dictionary in the redo log files. If LogMiner detects a mismatch, then it generates binary data in the <code class="codeph">SQL_REDO</code> column of the <code class="codeph">V$LOGMNR_CONTENTS</code> view, the <code class="codeph">INFO</code> column contains the string &#34;D<a id="d155990e93" class="indexterm-anchor"></a>ictionary Version Mismatch&#34;, and the <code class="codeph">STATUS</code> column will contain the value <code class="codeph">2</code>.</p>
<div class="infobox-note" id="GUID-56743517-A0C0-4CCD-9D20-2883AFB5683B__GUID-4B6BAD13-5CD0-4B64-BD15-207943B8B5A8">
<p class="notep1">Note:</p>
<p>It is important to understand that the LogMiner internal dictionary is not the same as the LogMiner dictionary contained in a flat file, in redo log files, or in the online catalog. LogMiner does update its internal dictionary, but it does not update the dictionary that is contained in a flat file, in redo log files, or in the online catalog.</p>
</div>
<p><a id="d155990e107" class="indexterm-anchor"></a>The following list describes the requirements for specifying the <code class="codeph">DDL_DICT_TRACKING</code> option with the <code class="codeph">DBMS_LOGMNR.START_LOGMNR</code> procedure.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">DDL_DICT_TRACKING</code> option is not valid with the <code class="codeph">DICT_FROM_ONLINE_CATALOG</code> option.</p>
</li>
<li>
<p>The <code class="codeph">DDL_DICT_TRACKING</code> option requires that the database be open.</p>
</li>
<li>
<p>Supplemental logging must be enabled database-wide, or log groups must have been created for the tables of interest.</p>
</li>
</ul>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-C7FA40DF-EA93-40AA-BDE9-614CD96FE197.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-815049EB-F41B-4EB9-97DC-913F40D43EC2.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
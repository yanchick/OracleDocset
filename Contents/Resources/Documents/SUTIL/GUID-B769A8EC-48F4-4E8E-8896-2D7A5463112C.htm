<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105760"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Loading%20Collections%20%28Nested%20Tables%20and%20VARRAYs%29"></a><title>Loading Collections (Nested Tables and VARRAYs)</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-CA3B8A38-0559-4E34-A8FB-B4627A2AAF40.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-0DD26C32-27F6-429B-A0BB-16AAE2E91553.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B769A8EC-48F4-4E8E-8896-2D7A5463112C"></a> <span id="PAGE" style="display:none;">468/1019</span> <!-- End Header -->
<a id="SUTIL1277"></a>
<h1 id="SUTIL-GUID-B769A8EC-48F4-4E8E-8896-2D7A5463112C" class="sect1">Loading Collections (Nested Tables and VARRAYs)</h1>
<div>
<p>Like LOBs, collections<a id="d96650e30" class="indexterm-anchor"></a><a id="d96650e34" class="indexterm-anchor"></a> can be loaded either from a primary data file (data inline) or from secondary data files (data out of line). See <span class="q">&#34;<a href="GUID-EB6B23EE-B2AB-4AC2-9032-0F9798F539BC.htm">Secondary Data Files (SDFs)</a>&#34;</span> for details about SDFs.</p>
<p>When you load collection data, a mechanism must exist by which SQL*Loader can tell when the data belonging to a particular collection instance has ended. You can achieve this in two ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>To specify the number of rows or elements that are to be loaded into each nested table or <code class="codeph">VARRAY</code> instance, use the DDL <code class="codeph">COUNT</code> function. The value specified for <code class="codeph">COUNT</code> must either be a number or a character string containing a number, and it must be previously described in the control file before the <code class="codeph">COUNT</code> clause itself. This positional dependency is specific to the <code class="codeph">COUNT</code> clause. <code class="codeph">COUNT(0)</code> or <code class="codeph">COUNT(cnt_field)</code>, where <code class="codeph">cnt_field</code> is 0 for the current row, results in a empty collection (not null), unless overridden by a <code class="codeph">NULLIF</code> clause. See <span class="q">&#34;<a href="GUID-4BD87035-FE6D-4735-86A4-31C844ACC59A.htm#GUID-4BD87035-FE6D-4735-86A4-31C844ACC59A__BABIHJAH">count_spec</a>&#34;</span>.</p>
<p>If the <code class="codeph">COUNT</code> clause specifies a field in a control file and if that field is set to null for the current row, then the collection that uses that count will be set to empty for the current row as well.</p>
</li>
<li>
<p>Use the <code class="codeph">TERMINATED</code> <code class="codeph">BY</code> and <code class="codeph">ENCLOSED</code> <code class="codeph">BY</code> clauses to specify a unique collection delimiter. This method cannot be used if an <code class="codeph">SDF</code> clause is used.</p>
</li>
</ul>
<p>In the control file, collections are described similarly to column objects. See <span class="q">&#34;<a href="GUID-13D3C6B4-209C-46CA-B0CD-57FB3FA37776.htm">Loading Column Objects</a>&#34;</span>. There are some differences:</p>
<ul style="list-style-type: disc;">
<li>
<p>Collection descriptions employ the two mechanisms discussed in the preceding list.</p>
</li>
<li>
<p>Collection descriptions can include a secondary data file (SDF) specification.</p>
</li>
<li>
<p>A <code class="codeph">NULLIF</code> or <code class="codeph">DEFAULTIF</code> clause cannot refer to a field in an SDF unless the clause is on a field in the same SDF.</p>
</li>
<li>
<p>Clauses that take field names as arguments cannot use a field name that is in a collection unless the DDL specification is for a field in the same collection.</p>
</li>
<li>
<p>The field list must contain only one nonfiller field and any number of filler fields. If the <code class="codeph">VARRAY</code> is a <code class="codeph">VARRAY</code> of column objects, then the attributes of each column object will be in a nested field list.</p>
</li>
</ul>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-CA3B8A38-0559-4E34-A8FB-B4627A2AAF40.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-0DD26C32-27F6-429B-A0BB-16AAE2E91553.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
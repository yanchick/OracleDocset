<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105418"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/REMAP_SCHEMA"></a><title>REMAP_SCHEMA</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="REMAP_SCHEMA parameter, Data Pump Import utility"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-7C9DDBED-91AC-4FA2-AB91-1FF214DA89B0.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-55EA54B5-BC13-48F1-AF14-485C16170274.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-619809A6-1966-42D6-9ACC-A3E0ADC36523"></a> <span id="PAGE" style="display:none;">158/1019</span> <!-- End Header -->
<a id="SUTIL3185"></a><a id="SUTIL3186"></a><a id="SUTIL3187"></a><a id="SUTIL3188"></a><a id="SUTIL927"></a>
<h1 id="SUTIL-GUID-619809A6-1966-42D6-9ACC-A3E0ADC36523" class="sect1">REMAP_SCHEMA</h1>
<div>
<div class="section">
<p>Default: There is no default</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Purpose</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Loads<a id="d39133e48" class="indexterm-anchor"></a> all objects from the source schema into a target schema.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax and Description</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">REMAP_SCHEMA=<span class="italic">source_schema</span>:<span class="italic">target_schema</span>
</pre>
<p>Multiple <code class="codeph">REMAP_SCHEMA</code> lines can be specified, but the source schema must be different for each one. However, different source schemas can map to the same target schema. Note that the mapping may not be 100 percent complete; see the Restrictions section below.</p>
<p>If the schema you are remapping to does not already exist, then the import operation creates it, provided that the dump file set contains the necessary <code class="codeph">CREATE</code> <code class="codeph">USER</code> metadata for the source schema, and provided that you are importing with enough privileges. For example, the following Export commands create dump file sets with the necessary metadata to create a schema, because the user <code class="codeph">SYSTEM</code> has the necessary privileges:</p>
<pre dir="ltr">&gt; expdp system SCHEMAS=hr
Password: <span class="italic">password</span>

&gt; expdp system FULL=YES
Password: <span class="italic">password</span>
</pre>
<p>If your dump file set does not contain the metadata necessary to create a schema, or if you do not have privileges, then the target schema must be created before the import operation is performed. This is because the unprivileged dump files do not contain the necessary information for the import to create the schema automatically.</p>
<p>If the import operation does create the schema, then after the import is complete, you must assign it a valid password to connect to it. The SQL statement to do this, which requires privileges, is:</p>
<pre dir="ltr">SQL&gt; ALTER USER <span class="italic">schema_name</span> IDENTIFIED BY <span class="italic">new_password</span> 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Restrictions</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Unprivileged users can perform schema remaps only if their schema is the target schema of the remap. (Privileged users can perform unrestricted schema remaps.) For example, <code class="codeph">SCOTT</code> can remap his <code class="codeph">BLAKE</code>&#39;s objects to <code class="codeph">SCOTT</code>, but <code class="codeph">SCOTT</code> cannot remap <code class="codeph">SCOTT</code>&#39;s objects to <code class="codeph">BLAKE</code>.</p>
</li>
<li>
<p>The mapping may not be 100 percent complete because there are certain schema references that Import is not capable of finding. For example, Import will not find schema references embedded within the body of definitions of types, views, procedures, and packages.</p>
</li>
<li>
<p>For triggers, <code class="codeph">REMAP_SCHEMA</code> affects only the trigger owner.</p>
</li>
<li>
<p>If any table in the schema being remapped contains user-defined object types and that table changes between the time it is exported and the time you attempt to import it, then the import of that table will fail. However, the import operation itself will continue.</p>
</li>
<li>
<p>By default, if schema objects on the source database have object identifiers (OIDs), then they are imported to the target database with those same OIDs. If an object is imported back into the same database from which it was exported, but into a different schema, then the OID of the new (imported) object would be the same as that of the existing object and the import would fail. For the import to succeed you must also specify the <code class="codeph">TRANFORM=OID:N</code> parameter on the import. The transform <code class="codeph">OID:N</code> causes a new OID to be created for the new object, allowing the import to succeed.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Suppose that, as user <code class="codeph">SYSTEM</code>, you execute the following Export and Import commands to remap the <code class="codeph">hr</code> schema into the <code class="codeph">scott</code> schema:</p>
<pre dir="ltr">&gt; expdp system SCHEMAS=hr DIRECTORY=dpump_dir1 DUMPFILE=hr.dmp

&gt; impdp system DIRECTORY=dpump_dir1 DUMPFILE=hr.dmp REMAP_SCHEMA=hr:scott
</pre>
<p>In this example, if user <code class="codeph">scott</code> already exists before the import, then the Import <code class="codeph">REMAP_SCHEMA</code> command will add objects from the <code class="codeph">hr</code> schema into the existing <code class="codeph">scott</code> schema. You can connect to the <code class="codeph">scott</code> schema after the import by using the existing password (without resetting it).</p>
<p>If user <code class="codeph">scott</code> does not exist before you execute the import operation, then Import automatically creates it with an unusable password. This is possible because the dump file, <code class="codeph">hr</code>.<code class="codeph">dmp</code>, was created by <code class="codeph">SYSTEM,</code> which has the privileges necessary to create a dump file that contains the metadata needed to create a schema. However, you cannot connect to <code class="codeph">scott</code> on completion of the import, unless you reset the password for <code class="codeph">scott</code> on the target database after the import completes.</p>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-7C9DDBED-91AC-4FA2-AB91-1FF214DA89B0.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-55EA54B5-BC13-48F1-AF14-485C16170274.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
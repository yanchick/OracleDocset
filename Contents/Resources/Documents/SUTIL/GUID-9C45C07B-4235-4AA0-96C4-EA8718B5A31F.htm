<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105643"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/column_transforms%20Clause"></a><title>column_transforms Clause</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-387649ED-F805-4F2C-8146-18CCF48F2722.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-CED39F6E-AC10-47B0-A5EC-5F977DE6275D.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9C45C07B-4235-4AA0-96C4-EA8718B5A31F"></a> <span id="PAGE" style="display:none;">611/1019</span> <!-- End Header -->
<a id="SUTIL1440"></a>
<h1 id="SUTIL-GUID-9C45C07B-4235-4AA0-96C4-EA8718B5A31F" class="sect1">column_transforms Clause</h1>
<div>
<div class="section">
<p>The optional <code class="codeph">COLUMN</code> <code class="codeph">TRANSFORMS</code> clause provides transforms that you can use to describe how to load columns in the external table that do not map directly to columns in the data file. The syntax for the <code class="codeph">column_transforms</code> clause is as follows:</p>
<div class="figure" id="GUID-9C45C07B-4235-4AA0-96C4-EA8718B5A31F__GUID-BAE9CFFB-6495-42B3-B281-98D66110A0AE"><img width="364" height="58" src="img/GUID-92A816A6-DAA8-49A4-B2DF-52DE1EC2A154-default.gif" alt="Description of GUID-92A816A6-DAA8-49A4-B2DF-52DE1EC2A154-print.eps follows" title="Description of GUID-92A816A6-DAA8-49A4-B2DF-52DE1EC2A154-print.eps follows"/><br/>
<a href="img_text/GUID-92A816A6-DAA8-49A4-B2DF-52DE1EC2A154-print.htm">Description of the illustration GUID-92A816A6-DAA8-49A4-B2DF-52DE1EC2A154-print.eps</a></div>
<!-- class="figure" -->
<div class="infobox-note" id="GUID-9C45C07B-4235-4AA0-96C4-EA8718B5A31F__GUID-539EE16F-8471-48C7-8879-0B31D2474905">
<p class="notep1">Note:</p>
<p>The <code class="codeph">COLUMN</code> <code class="codeph">TRANSFORMS</code> clause does not work in conjunction with the <code class="codeph">PREPROCESSOR</code> clause.</p>
</div>
</div>
<!-- class="section" --></div>
<a id="SUTIL1441"></a>
<div class="props_rev_3"><a id="GUID-66A66847-38F2-4592-AEB8-9444EE4E221A"></a>
<h2 id="SUTIL-GUID-66A66847-38F2-4592-AEB8-9444EE4E221A" class="sect2">transform</h2>
<div>
<div class="section">
<p>Each transform specified in the <code class="codeph">transform</code> clause identifies a column in the external table and then a specifies how to calculate the value of the column. The syntax is as follows:</p>
<div class="figure" id="GUID-66A66847-38F2-4592-AEB8-9444EE4E221A__GUID-E7477B92-AD29-4268-B4E7-C34385933FBE"><img width="720" height="284" src="img/GUID-D153B8FC-0104-4FEA-87B7-7441296F8C81-default.gif" alt="Description of GUID-D153B8FC-0104-4FEA-87B7-7441296F8C81-print.eps follows" title="Description of GUID-D153B8FC-0104-4FEA-87B7-7441296F8C81-print.eps follows"/><br/>
<a href="img_text/GUID-D153B8FC-0104-4FEA-87B7-7441296F8C81-print.htm">Description of the illustration GUID-D153B8FC-0104-4FEA-87B7-7441296F8C81-print.eps</a></div>
<!-- class="figure" -->
<p>The <code class="codeph">NULL</code> transform is used to set the external table column to <code class="codeph">NULL</code> in every row. The <code class="codeph">CONSTANT</code> transform is used to set the external table column to the same value in every row. The <code class="codeph">CONCAT</code> transform is used to set the external table column to the concatenation of constant strings and/or fields in the current record from the data file. The <code class="codeph">LOBFILE</code> transform is used to load data into a field for a record from another data file. Each of these transforms is explained further in the following sections.</p>
</div>
<!-- class="section" --></div>
<a id="SUTIL1442"></a>
<div class="props_rev_3"><a id="GUID-C19CCE61-493E-43ED-8035-7CDB4491E4CF"></a>
<h3 id="SUTIL-GUID-C19CCE61-493E-43ED-8035-7CDB4491E4CF" class="sect3">column_name FROM</h3>
<div>
<div class="section">
<p>The <code class="codeph">column_name</code> uniquely identifies a column in the external table to be loaded. Note that if the name of a column is mentioned in the <code class="codeph">transform</code> clause, then that name cannot be specified in the <code class="codeph">FIELDS</code> clause as a field in the data file.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL1443"></a>
<div class="props_rev_3"><a id="GUID-B5B79D9C-D9AA-439E-99DE-688164185D55"></a>
<h3 id="SUTIL-GUID-B5B79D9C-D9AA-439E-99DE-688164185D55" class="sect3">NULL</h3>
<div>
<div class="section">
<p>When the <code class="codeph">NULL</code> transform is specified, every value of the field is set to <code class="codeph">NULL</code> for every record.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL1444"></a>
<div class="props_rev_3"><a id="GUID-7F2D2B37-0658-4D1D-AE9C-0A4CB10BA507"></a>
<h3 id="SUTIL-GUID-7F2D2B37-0658-4D1D-AE9C-0A4CB10BA507" class="sect3">CONSTANT</h3>
<div>
<div class="section">
<p>The <code class="codeph">CONSTANT</code> transform uses the value of the string specified as the value of the column in the record. If the column in the external table is not a character string type, then the constant string will be converted to the data type of the column. This conversion will be done for every row.</p>
<p>The character set of the string used for data type conversions is the character set of the database.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL1445"></a>
<div class="props_rev_3"><a id="GUID-4079779C-EFD0-4CEE-ADB3-D07B3A9D7482"></a>
<h3 id="SUTIL-GUID-4079779C-EFD0-4CEE-ADB3-D07B3A9D7482" class="sect3">CONCAT</h3>
<div>
<div class="section">
<p>The <code class="codeph">CONCAT</code> transform concatenates constant strings and fields in the data file together to form one string. Only fields that are character data types and that are listed in the <code class="codeph">fields</code> clause can be used as part of the concatenation. Other column transforms cannot be specified as part of the concatenation.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL1446"></a>
<div class="props_rev_3"><a id="GUID-84F0837F-9DE9-4333-9D8C-EE7CD3BEBB58"></a>
<h3 id="SUTIL-GUID-84F0837F-9DE9-4333-9D8C-EE7CD3BEBB58" class="sect3">LOBFILE</h3>
<div>
<div class="section">
<p>The <code class="codeph">LOBFILE</code> transform is used to identify a file whose contents are to be used as the value for a column in the external table. All LOBFILEs are identified by an optional directory object and a file name in the form <span class="italic"><code class="codeph">directory object:filename</code></span>. The following rules apply to use of the <code class="codeph">LOBFILE</code> transform:</p>
<ul style="list-style-type: disc;">
<li>
<p>Both the directory object and the file name can be either a constant string or the name of a field in the field clause.</p>
</li>
<li>
<p>If a constant string is specified, then that string is used to find the LOBFILE for every row in the table.</p>
</li>
<li>
<p>If a field name is specified, then the value of that field in the data file is used to find the LOBFILE.</p>
</li>
<li>
<p>If a field name is specified for either the directory object or the file name and if the value of that field is <code class="codeph">NULL</code>, then the column being loaded by the LOBFILE is also set to <code class="codeph">NULL</code>.</p>
</li>
<li>
<p>If the directory object is not specified, then the default directory specified for the external table is used.</p>
</li>
<li>
<p>If a field name is specified for the directory object, then the <code class="codeph">FROM</code> clause also needs to be specified.</p>
</li>
</ul>
<p>Note that the entire file is used as the value of the LOB column. If the same file is referenced in multiple rows, then that file is reopened and reread in order to populate each column.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL1447"></a>
<div class="props_rev_3"><a id="GUID-C8D59BD6-A73C-44F0-A82C-97C2BEB86263"></a>
<h3 id="SUTIL-GUID-C8D59BD6-A73C-44F0-A82C-97C2BEB86263" class="sect3">lobfile_attr_list</h3>
<div>
<div class="section">
<p>The <code class="codeph">lobfile_attr_list</code> lists additional attributes of the LOBFILE. The syntax is as follows:</p>
<div class="figure" id="GUID-C8D59BD6-A73C-44F0-A82C-97C2BEB86263__GUID-49AAFEBF-EF5D-493C-97E4-157D2182753D"><img width="334" height="156" src="img/GUID-DBE55EA2-8268-4AAB-A861-9046165201CE-default.gif" alt="Description of GUID-DBE55EA2-8268-4AAB-A861-9046165201CE-print.eps follows" title="Description of GUID-DBE55EA2-8268-4AAB-A861-9046165201CE-print.eps follows"/><br/>
<a href="img_text/GUID-DBE55EA2-8268-4AAB-A861-9046165201CE-print.htm">Description of the illustration GUID-DBE55EA2-8268-4AAB-A861-9046165201CE-print.eps</a></div>
<!-- class="figure" -->
<p>The <code class="codeph">FROM</code> clause lists the names of all directory objects that will be used for LOBFILEs. It is used only when a field name is specified for the directory object of the name of the LOBFILE. The purpose of the <code class="codeph">FROM</code> clause is to determine the type of access allowed to the named directory objects during initialization. If directory object in the value of field is not a directory object in this list, then the row will be rejected.</p>
<p>The <code class="codeph">CLOB</code> attribute indicates that the data in the LOBFILE is character data (as opposed to <code class="codeph">RAW</code> data). Character data may need to be translated into the character set used to store the LOB in the database.</p>
<p>The <code class="codeph">CHARACTERSET</code> attribute contains the name of the character set for the data in the LOBFILEs.</p>
<p>The <code class="codeph">BLOB</code> attribute indicates that the data in the LOBFILE is raw data.</p>
<p>If neither <code class="codeph">CLOB</code> nor <code class="codeph">BLOB</code> is specified, then <code class="codeph">CLOB</code> is assumed. If no character set is specified for character LOBFILEs, then the character set of the data file is assumed.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SUTIL4349"></a>
<div class="props_rev_3"><a id="GUID-2F1E753D-502D-4729-B783-4466BA6560BF"></a>
<h3 id="SUTIL-GUID-2F1E753D-502D-4729-B783-4466BA6560BF" class="sect3">STARTOF source_field (length)</h3>
<div>
<div class="section">
<p>The <code class="codeph">STARTOF</code> keyword allows you to create an external table in which a column can be a substring of the data in the source field.</p>
<p>The length is the length of the substring, beginning with the first byte. It is assumed that length refers to a byte count and that the external table column(s) being transformed use byte length and not character length semantics. (Character length semantics might give unexpected results.)</p>
<p>Only complete character encodings are moved; characters are never split. So if a substring ends in the middle of a multibyte character, then the resulting string will be shortened. For example, if a length of 10 is specified, but the 10th byte is the first byte of a multibyte character, then only the first 9 bytes are returned.</p>
<p>The following example shows how you could use the <code class="codeph">STARTOF</code> keyword if you only wanted the first 4 bytes of the department name (<code class="codeph">dname</code>) field:</p>
<pre dir="ltr">SQL&gt; CREATE TABLE dept (deptno  NUMBER(2),
  2                    dname   VARCHAR2(14),
  3                    loc     VARCHAR2(13)
  4                         )
  5  ORGANIZATION EXTERNAL
  6  (
  7    DEFAULT DIRECTORY def_dir1
  8    ACCESS PARAMETERS
  9    (
 10      RECORDS DELIMITED BY NEWLINE
 11      FIELDS TERMINATED BY &#39;,&#39;
 12      (
 13        deptno           CHAR(2),
 14        dname_source     CHAR(14),
 15        loc              CHAR(13)
 16      )
 17      column transforms
 18      (
 19         dname FROM STARTOF dname_source (4)
 20      )
 21    )
 22    LOCATION (&#39;dept.dat&#39;)
 23  );
 
Table created.
 
</pre>
<p>If you now perform a <code class="codeph">SELECT</code> operation from the <code class="codeph">dept</code> table, only the first four bytes of the <code class="codeph">dname</code> field are returned:</p>
<pre dir="ltr">SQL&gt; SELECT * FROM dept;
 
    DEPTNO DNAME          LOC
---------- -------------- -------------
        10 ACCO           NEW YORK
        20 RESE           DALLAS
        30 SALE           CHICAGO
        40 OPER           BOSTON
 
4 rows selected.
</pre></div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-387649ED-F805-4F2C-8146-18CCF48F2722.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-CED39F6E-AC10-47B0-A5EC-5F977DE6275D.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
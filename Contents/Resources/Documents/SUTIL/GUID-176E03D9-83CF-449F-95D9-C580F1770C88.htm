<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105144"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/How%20Does%20the%20Client%20Interface%20to%20the%20Data%20Pump%20API%20Work%3F"></a><title>How Does the Client Interface to the Data Pump API Work?</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-EAD7AE4B-778A-4369-9842-68E026409045.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-22D4851C-4057-4BBB-B7F0-DB9091A30641.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-176E03D9-83CF-449F-95D9-C580F1770C88"></a> <span id="PAGE" style="display:none;">206/1019</span> <!-- End Header -->
<script>
//<![CDATA[
window.name='GUID-176E03D9-83CF-449F-95D9-C580F1770C88'
//]]>
</script> <script>
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" ><head><title>');
   
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript><a id="SUTIL974"></a>
<h1 id="SUTIL-GUID-176E03D9-83CF-449F-95D9-C580F1770C88" class="sect1">How Does the Client Interface to the Data Pump API Work?</h1>
<div>
<p>The main structure used in the client interface<a id="d53393e30" class="indexterm-anchor"></a> is a job handle, which appears to the caller as an integer. Handles are created using the <code class="codeph">DBMS_DATAPUMP</code>.<code class="codeph">OPEN</code> or <code class="codeph">DBMS_DATAPUMP</code>.<code class="codeph">ATTACH</code> function. Other sessions can attach to a job to monitor and control its progress. This allows a DBA to start up a job before departing from work and then watch the progress of the job from home. Handles are session specific. The same job can create different handles in different sessions.</p>
</div>
<a id="SUTIL3307"></a><a id="SUTIL975"></a>
<div class="props_rev_3"><a id="GUID-1622BCF2-2D0C-4FD5-9C52-E756CC81BA76"></a>
<h2 id="SUTIL-GUID-1622BCF2-2D0C-4FD5-9C52-E756CC81BA76" class="sect2">Job States</h2>
<div>
<div class="section">
<p>There is a state<a id="d53393e81" class="indexterm-anchor"></a> associated with each phase of a job, as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Undefined - before a handle is created</p>
</li>
<li>
<p>Defining - when the handle is first created</p>
</li>
<li>
<p>Executing - when the <code class="codeph">DBMS_DATAPUMP</code>.<code class="codeph">START_JOB</code> procedure is executed</p>
</li>
<li>
<p>Completing - when the job has finished its work and the Data Pump processes are ending</p>
</li>
<li>
<p>Completed - when the job is completed</p>
</li>
<li>
<p>Stop Pending - when an orderly job shutdown has been requested</p>
</li>
<li>
<p>Stopping - when the job is stopping</p>
</li>
<li>
<p>Idling - the period between the time that a <code class="codeph">DBMS_DATAPUMP.ATTACH</code> is executed to attach to a stopped job and the time that a <code class="codeph">DBMS_DATAPUMP.START_JOB</code> is executed to restart that job</p>
</li>
<li>
<p>Not Running - when a master table exists for a job that is not running (has no Data Pump processes associated with it)</p>
</li>
</ul>
<p>Performing <code class="codeph">DBMS_DATAPUMP</code>.<code class="codeph">START_JOB</code> on a job in an Idling state will return it to an Executing state.</p>
<p>If all users execute <code class="codeph">DBMS_DATAPUMP</code>.<code class="codeph">DETACH</code> to detach from a job in the Defining state, then the job will be totally removed from the database.</p>
<p>When a job abnormally terminates or when an instance running the job is shut down, the job is placed in the Not Running state if it was previously executing or idling. It can then be restarted by the user.</p>
<p>The master control process is active in the Defining, Idling, Executing, Stopping, Stop Pending, and Completing states. It is also active briefly in the Stopped and Completed states. The master table for the job exists in all states except the Undefined state. Worker processes are only active in the Executing and Stop Pending states, and briefly in the Defining state for import jobs.</p>
<p>Detaching while a job is in the Executing state will not halt the job, and you can re-attach to an executing job at any time to resume obtaining status information about the job.</p>
<p>A Detach can occur explicitly, when the <code class="codeph">DBMS_DATAPUMP.DETACH</code> procedure is executed, or it can occur implicitly when a Data Pump API session is run down, when the Data Pump API is unable to communicate with a Data Pump job, or when the <code class="codeph">DBMS_DATAPUMP.STOP_JOB</code> procedure is executed.</p>
<p>The Not Running state indicates that a master table exists outside the context of an executing job. This will occur if a job has been stopped (probably to be restarted later) or if a job has abnormally terminated. This state can also be seen momentarily during job state transitions at the beginning of a job, and at the end of a job before the master table is dropped. Note that the Not Running state is shown only in the <code class="codeph">DBA_DATAPUMP_JOBS</code> view and the <code class="codeph">USER_DATAPUMP_JOBS</code> view. It is never returned by the <code class="codeph">GET_STATUS</code> procedure.</p>
<p><a href="GUID-176E03D9-83CF-449F-95D9-C580F1770C88.htm#GUID-1622BCF2-2D0C-4FD5-9C52-E756CC81BA76__i1005638" title="Valid states in which DBMS_DATAPUMP procedures can be executed">Table 6-1</a> shows the valid job states in which <code class="codeph">DBMS_DATAPUMP</code> procedures can be executed. The states listed are valid for both export and import jobs, unless otherwise noted.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-1622BCF2-2D0C-4FD5-9C52-E756CC81BA76__i1005638">
<p class="titleintable">Table 6-1 Valid Job States in Which DBMS_DATAPUMP Procedures Can Be Executed</p>
<table class="cellalignment2025" title="Valid Job States in Which DBMS_DATAPUMP Procedures Can Be Executed" summary="Valid states in which DBMS_DATAPUMP procedures can be executed">
<thead>
<tr class="cellalignment2016">
<th class="cellalignment2081" id="d53393e187">Procedure Name</th>
<th class="cellalignment2081" id="d53393e190">Valid States</th>
<th class="cellalignment2081" id="d53393e193">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e198" headers="d53393e187">
<pre dir="ltr">ADD_FILE
</pre></td>
<td class="cellalignment2016" headers="d53393e198 d53393e190">
<p>Defining (valid for both export and import jobs)</p>
<p>Executing and Idling (valid only for specifying dump files for export jobs)</p>
</td>
<td class="cellalignment2016" headers="d53393e198 d53393e193">
<p>Specifies a file for the dump file set, the log file, or the SQLFILE output.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e210" headers="d53393e187">
<pre dir="ltr">ATTACH
</pre></td>
<td class="cellalignment2016" headers="d53393e210 d53393e190">
<p>Defining, Executing, Idling, Stopped, Completed, Completing, Not Running</p>
</td>
<td class="cellalignment2016" headers="d53393e210 d53393e193">
<p>Allows a user session to monitor a job or to restart a stopped job. The attach will fail if the dump file set or master table for the job have been deleted or altered in any way.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e220" headers="d53393e187">
<pre dir="ltr">DATA_FILTER
</pre></td>
<td class="cellalignment2016" headers="d53393e220 d53393e190">
<p>Defining</p>
</td>
<td class="cellalignment2016" headers="d53393e220 d53393e193">
<p>Restricts data processed by a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e230" headers="d53393e187">
<pre dir="ltr">DETACH
</pre></td>
<td class="cellalignment2016" headers="d53393e230 d53393e190">
<p>All</p>
</td>
<td class="cellalignment2016" headers="d53393e230 d53393e193">
<p>Disconnects a user session from a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e240" headers="d53393e187">
<pre dir="ltr">GET_DUMPFILE_INFO
</pre></td>
<td class="cellalignment2016" headers="d53393e240 d53393e190">
<p>All</p>
</td>
<td class="cellalignment2016" headers="d53393e240 d53393e193">
<p>Retrieves dump file header information.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e250" headers="d53393e187">
<pre dir="ltr">GET_STATUS
</pre></td>
<td class="cellalignment2016" headers="d53393e250 d53393e190">
<p>All, except Completed, Not Running, Stopped, and Undefined</p>
</td>
<td class="cellalignment2016" headers="d53393e250 d53393e193">
<p>Obtains the status of a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e260" headers="d53393e187">
<pre dir="ltr">LOG_ENTRY
</pre></td>
<td class="cellalignment2016" headers="d53393e260 d53393e190">
<p>Defining, Executing, Idling, Stop Pending, Completing</p>
</td>
<td class="cellalignment2016" headers="d53393e260 d53393e193">
<p>Adds an entry to the log file.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e270" headers="d53393e187">
<pre dir="ltr">METADATA_FILTER
</pre></td>
<td class="cellalignment2016" headers="d53393e270 d53393e190">
<p>Defining</p>
</td>
<td class="cellalignment2016" headers="d53393e270 d53393e193">
<p>Restricts metadata processed by a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e280" headers="d53393e187">
<pre dir="ltr">METADATA_REMAP
</pre></td>
<td class="cellalignment2016" headers="d53393e280 d53393e190">
<p>Defining</p>
</td>
<td class="cellalignment2016" headers="d53393e280 d53393e193">
<p>Remaps metadata processed by a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e290" headers="d53393e187">
<pre dir="ltr">METADATA_TRANSFORM
</pre></td>
<td class="cellalignment2016" headers="d53393e290 d53393e190">
<p>Defining</p>
</td>
<td class="cellalignment2016" headers="d53393e290 d53393e193">
<p>Alters metadata processed by a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e300" headers="d53393e187">
<pre dir="ltr">OPEN
</pre></td>
<td class="cellalignment2016" headers="d53393e300 d53393e190">
<p>Undefined</p>
</td>
<td class="cellalignment2016" headers="d53393e300 d53393e193">
<p>Creates a new job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e311" headers="d53393e187">
<pre dir="ltr">SET_PARALLEL
</pre></td>
<td class="cellalignment2016" headers="d53393e311 d53393e190">
<p>Defining, Executing, Idling</p>
</td>
<td class="cellalignment2016" headers="d53393e311 d53393e193">
<p>Specifies parallelism for a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e321" headers="d53393e187">
<pre dir="ltr">SET_PARAMETER
</pre></td>
<td class="cellalignment2016" headers="d53393e321 d53393e190">
<p>Defining<a id="fn_1" href="#fn_1" onclick="footdisplay(1,&#34;The ENCRYPTION_PASSWORD parameter can be entered during the Idling state, as well as during the Defining state. &#34;)"><sup>Foot&nbsp;1</sup></a></p>
</td>
<td class="cellalignment2016" headers="d53393e321 d53393e193">
<p>Alters default processing by a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e337" headers="d53393e187">
<pre dir="ltr">START_JOB
</pre></td>
<td class="cellalignment2016" headers="d53393e337 d53393e190">
<p>Defining, Idling</p>
</td>
<td class="cellalignment2016" headers="d53393e337 d53393e193">
<p>Begins or resumes execution of a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e347" headers="d53393e187">
<pre dir="ltr">STOP_JOB
</pre></td>
<td class="cellalignment2016" headers="d53393e347 d53393e190">
<p>Defining, Executing, Idling, Stop Pending</p>
</td>
<td class="cellalignment2016" headers="d53393e347 d53393e193">
<p>Initiates shutdown of a job.</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2016" id="d53393e357" headers="d53393e187">
<pre dir="ltr">WAIT_FOR_JOB
</pre></td>
<td class="cellalignment2016" headers="d53393e357 d53393e190">
<p>All, except Completed, Not Running, Stopped, and Undefined</p>
</td>
<td class="cellalignment2016" headers="d53393e357 d53393e193">
<p>Waits for a job to end.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1</sup></p>
<p>The <code class="codeph">ENCRYPTION_PASSWORD</code> parameter can be entered during the Idling state, as well as during the Defining state.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-EAD7AE4B-778A-4369-9842-68E026409045.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-22D4851C-4057-4BBB-B7F0-DB9091A30641.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>


</body></html>
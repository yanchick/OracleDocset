<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105491"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CONSISTENT"></a><title>CONSISTENT</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="Export, CONSISTENT parameter, Export utility"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-37B64353-A142-4978-852E-05020758E247.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-8AA65CC7-6728-4C2D-8DD8-C45BCA93529E.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39"></a> <span id="PAGE" style="display:none;">842/1019</span> <!-- End Header -->
<a id="SUTIL3638"></a><a id="SUTIL2672"></a>
<h1 id="SUTIL-GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39" class="sect1">CONSISTENT</h1>
<div>
<div class="section">
<p><a id="d173658e41" class="indexterm-anchor"></a>Default: <code class="codeph">n</code></p>
<p><a id="d173658e47" class="indexterm-anchor"></a><a id="d173658e51" class="indexterm-anchor"></a>Specifies whether Export uses the <code class="codeph">SET TRANSACTION READ ONLY</code> statement to ensure that the data seen by Export is consistent to a single point in time and does not change during the execution of the <code class="codeph">exp</code> command. You should specify <code class="codeph">CONSISTENT=y</code> when you anticipate that other applications will be updating the target data after an export has started.</p>
<p><a id="d173658e66" class="indexterm-anchor"></a><a id="d173658e72" class="indexterm-anchor"></a><a id="d173658e78" class="indexterm-anchor"></a><a id="d173658e82" class="indexterm-anchor"></a>If you use <code class="codeph">CONSISTENT=n</code>, then each table is usually exported in a single transaction. However, if a table contains nested tables, then the outer table and each inner table are exported as separate transactions. If a table is partitioned, then each partition is exported as a separate transaction.</p>
<p>Therefore, if nested tables and partitioned tables are being updated by other applications, then the data that is exported could be inconsistent. To minimize this possibility, export those tables at a time when updates are not being done.</p>
<p><a href="GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39.htm#GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39__BABJECAI" title="Sequence of events during updates by two users">Table 22-2</a> shows a sequence of events by two users: <code class="codeph">user1</code> exports partitions in a table and <code class="codeph">user2</code> updates data in that table.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39__BABJECAI">
<p class="titleintable">Table 22-2 Sequence of Events During Updates by Two Users</p>
<table class="cellalignment2025" title="Sequence of Events During Updates by Two Users" summary="Sequence of events during updates by two users">
<thead>
<tr class="cellalignment2016">
<th class="cellalignment2057" id="d173658e117">TIme Sequence</th>
<th class="cellalignment2112" id="d173658e120">user1</th>
<th class="cellalignment2112" id="d173658e123">user2</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2016">
<td class="cellalignment2059" id="d173658e128" headers="d173658e117">
<p>1</p>
</td>
<td class="cellalignment2113" headers="d173658e128 d173658e120">
<p>Begins export of TAB:P1</p>
</td>
<td class="cellalignment2113" headers="d173658e128 d173658e123">
<p>No activity</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2059" id="d173658e138" headers="d173658e117">
<p>2</p>
</td>
<td class="cellalignment2113" headers="d173658e138 d173658e120">
<p>No activity</p>
</td>
<td class="cellalignment2113" headers="d173658e138 d173658e123">
<p>Updates TAB:P2 Updates TAB:P1 Commits transaction</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2059" id="d173658e152" headers="d173658e117">
<p>3</p>
</td>
<td class="cellalignment2113" headers="d173658e152 d173658e120">
<p>Ends export of TAB:P1</p>
</td>
<td class="cellalignment2113" headers="d173658e152 d173658e123">
<p>No activity</p>
</td>
</tr>
<tr class="cellalignment2016">
<td class="cellalignment2059" id="d173658e162" headers="d173658e117">
<p>4</p>
</td>
<td class="cellalignment2113" headers="d173658e162 d173658e120">
<p>Exports TAB:P2</p>
</td>
<td class="cellalignment2113" headers="d173658e162 d173658e123">
<p>No activity</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>If the export uses <code class="codeph">CONSISTENT=y,</code> then none of the updates by <code class="codeph">user2</code> are written to the export file.</p>
<p>If the export uses <code class="codeph">CONSISTENT=n,</code> then the updates to TAB:P1 are not written to the export file. However, the updates to TAB:P2 are written to the export file, because the update transaction is committed before the export of TAB:P2 begins. As a result, the <code class="codeph">user2</code> transaction is only partially recorded in the export file, making it inconsistent.</p>
<p>If you use <code class="codeph">CONSISTENT=y</code> and the volume of updates is large, then the rollback segment usage will be large. In addition, the export of each table will be slower, because the rollback segment must be scanned for uncommitted transactions.</p>
<p>Keep in mind the following points about using <code class="codeph">CONSISTENT=y:</code></p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CONSISTENT=y</code> is unsupported for exports that are performed when you are connected as user <code class="codeph">SYS</code> or you are using <code class="codeph">AS SYSDBA,</code> or both.</p>
</li>
<li>
<p>Export of certain metadata may require the use of the <code class="codeph">SYS</code> schema within recursive SQL. In such situations, the use of <code class="codeph">CONSISTENT=y</code> will be ignored. Oracle recommends that you avoid making metadata changes during an export process in which <code class="codeph">CONSISTENT=y</code> is selected.</p>
</li>
<li>
<p>To minimize the time and space required for such exports, you should export tables that need to remain consistent separately from those that do not. For example, export the <code class="codeph">emp</code> and <code class="codeph">dept</code> tables together in a consistent export, and then export the remainder of the database in a second pass.</p>
</li>
<li>
<p>A &#34;snapshot too old&#34; error occurs when rollback space is used up, and space taken up by committed transactions is reused for new transactions. Reusing space in the rollback segment allows database integrity to be preserved with minimum space requirements, but it imposes a limit on the amount of time that a read-consistent image can be preserved.</p>
<p>If a committed transaction has been overwritten and the information is needed for a read-consistent view of the database, then a &#34;snapshot too old&#34; error results.</p>
<p>To avoid this error, you should minimize the time taken by a read-consistent export. (Do this by restricting the number of objects exported and, if possible, by reducing the database transaction rate.) Also, make the rollback segment as large as possible.</p>
<div class="infobox-note" id="GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39__GUID-76D6F617-0756-41C6-9BD5-A398FD985004">
<p class="notep1">Note:</p>
<p>Rollback segments will be deprecated in a future Oracle database release. Oracle recommends that you use automatic undo management instead.</p>
</div>
<div class="infoboxnotealso" id="GUID-74FB1C84-D8A2-40B7-B920-597B4D546F39__GUID-E1C6C4AC-96A7-4DCA-BD14-9586B190537E">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-17E23AFD-DE17-443E-B6C3-4B2C80A74B27.htm">OBJECT_CONSISTENT</a>&#34;</span></p>
</div>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-37B64353-A142-4978-852E-05020758E247.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-8AA65CC7-6728-4C2D-8DD8-C45BCA93529E.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
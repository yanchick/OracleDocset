<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105350"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Management%20of%20File%20Locations%20in%20Data%20Pump%20Legacy%20Mode"></a><title>Management of File Locations in Data Pump Legacy Mode</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-C36B6B69-E55C-4278-AF6D-C9E2306AAE06.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-998125C5-D00F-4E04-9359-B4835696902E.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-514F8E50-3D5C-40B5-97A0-8B554C405719"></a> <span id="PAGE" style="display:none;">199/1019</span> <!-- End Header -->
<a id="SUTIL963"></a>
<h1 id="SUTIL-GUID-514F8E50-3D5C-40B5-97A0-8B554C405719" class="sect1">Management of File Locations in Data Pump Legacy Mode</h1>
<div>
<p>Original Export and Import and Data Pump Export and Import differ on where dump files and log files can be written to and read from because the original version is client-based and Data Pump is server-based.</p>
<p>Original Export and Import use the <code class="codeph">FILE</code> and <code class="codeph">LOG</code> parameters to specify dump file and log file names, respectively. These file names always refer to files local to the client system and they may also contain a path specification.</p>
<p>Data Pump Export and Import use the <code class="codeph">DUMPFILE</code> and <code class="codeph">LOGFILE</code> parameters to specify dump file and log file names, respectively. These file names always refer to files local to the server system and cannot contain any path information. Instead, a directory object is used to indirectly specify path information. The path value defined by the directory object must be accessible to the server. The directory object is specified for a Data Pump job through the <code class="codeph">DIRECTORY</code> parameter. It is also possible to prepend a directory object to the file names passed to the <code class="codeph">DUMPFILE</code> and <code class="codeph">LOGFILE</code> parameters. For privileged users, Data Pump supports the use of a default directory object if one is not specified on the command line. This default directory object, <code class="codeph">DATA_PUMP_DIR</code>, is set up at installation time.</p>
<p>If Data Pump legacy mode is enabled and the original Export <code class="codeph">FILE=</code><span class="italic"><code class="codeph">filespec</code></span> parameter and/or <code class="codeph">LOG=</code><span class="italic"><code class="codeph">filespec</code></span> parameter are present on the command line, then the following rules of precedence are used to determine a file&#39;s location:</p>
<div class="infobox-note" id="GUID-514F8E50-3D5C-40B5-97A0-8B554C405719__GUID-7E68F8C6-4F7A-4FB9-8E17-6D39C9E77C6D">
<p class="notep1">Note:</p>
<p>If the <code class="codeph">FILE</code> parameter and <code class="codeph">LOG</code> parameter are both present on the command line, then the rules of precedence are applied separately to each parameter.</p>
<p>Also, when a mix of original Export/Import and Data Pump Export/Import parameters are used, separate rules apply to them. For example, suppose you have the following command:</p>
<pre dir="ltr">expdp system FILE=/user/disk/foo.dmp LOGFILE=foo.log DIRECTORY=dpump_dir
</pre>
<p>The Data Pump legacy mode file management rules, as explained in this section, would apply to the <code class="codeph">FILE</code> parameter. The normal (that is, non-legacy mode) Data Pump file management rules, as described in <span class="q">&#34;<a href="GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5.htm#GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5">Default Locations for Dump_ Log_ and SQL Files</a>&#34;</span>, would apply to the <code class="codeph">LOGFILE</code> parameter.</p>
</div>
<ol>
<li>
<p>If a path location is specified as part of the file specification, then Data Pump attempts to look for a directory object accessible to the schema executing the export job whose path location matches the path location of the file specification. If such a directory object cannot be found, then an error is returned. For example, assume that a server-based directory object named <code class="codeph">USER_DUMP_FILES</code> has been defined with a path value of <code class="codeph">&#39;/disk1/user1/dumpfiles/&#39;</code> and that read and write access to this directory object has been granted to the <code class="codeph">hr</code> schema. The following command causes Data Pump to look for a server-based directory object whose path value contains <code class="codeph">&#39;/disk1/user1/dumpfiles/&#39;</code> and to which the <code class="codeph">hr</code> schema has been granted read and write access:</p>
<pre dir="ltr">expdp hr FILE=/disk1/user1/dumpfiles/hrdata.dmp
</pre>
<p>In this case, Data Pump uses the directory object <code class="codeph">USER_DUMP_FILES</code>. The path value, in this example <code class="codeph">&#39;/disk1/user1/dumpfiles/&#39;</code>, must refer to a path on the server system that is accessible to the Oracle Database.</p>
<p>If a path location is specified as part of the file specification, then any directory object provided using the <code class="codeph">DIRECTORY</code> parameter is ignored. For example, if the following command is issued, then Data Pump does not use the <code class="codeph">DPUMP_DIR</code> directory object for the file parameter, but instead looks for a server-based directory object whose path value contains <code class="codeph">&#39;/disk1/user1/dumpfiles/&#39;</code> and to which the <code class="codeph">hr</code> schema has been granted read and write access:</p>
<pre dir="ltr">expdp hr FILE=/disk1/user1/dumpfiles/hrdata.dmp DIRECTORY=dpump_dir
</pre></li>
<li>
<p>If no path location is specified as part of the file specification, then the directory object named by the <code class="codeph">DIRECTORY</code> parameter is used. For example, if the following command is issued, then Data Pump applies the path location defined for the <code class="codeph">DPUMP_DIR</code> directory object to the <code class="codeph">hrdata.dmp</code> file:</p>
<pre dir="ltr">expdp hr FILE=hrdata.dmp DIRECTORY=dpump_dir
</pre></li>
<li>
<p>If no path location is specified as part of the file specification and no directory object is named by the <code class="codeph">DIRECTORY</code> parameter, then Data Pump does the following, in the order shown:</p>
<ol>
<li>
<p>Data Pump looks for the existence of a directory object of the form <code class="codeph">DATA_PUMP_DIR_</code><span class="italic"><code class="codeph">schema_name</code></span>, where <span class="italic"><code class="codeph">schema_name</code></span> is the schema that is executing the Data Pump job. For example, the following command would cause Data Pump to look for the existence of a server-based directory object named <code class="codeph">DATA_PUMP_DIR_HR</code>:</p>
<pre dir="ltr">expdp hr FILE=hrdata.dmp
</pre>
<p>The <code class="codeph">hr</code> schema also must have been granted read and write access to this directory object. If such a directory object does not exist, then the process moves to step b.</p>
</li>
<li>
<p>Data Pump looks for the existence of the client-based environment variable <code class="codeph">DATA_PUMP_DIR</code>. For instance, assume that a server-based directory object named <code class="codeph">DUMP_FILES1</code> has been defined and the <code class="codeph">hr</code> schema has been granted read and write access to it. Then on the client system, the environment variable <code class="codeph">DATA_PUMP_DIR</code> can be set to point to <code class="codeph">DUMP_FILES1</code> as follows:</p>
<pre dir="ltr">setenv DATA_PUMP_DIR DUMP_FILES1
expdp hr FILE=hrdata.dmp
</pre>
<p>Data Pump then uses the served-based directory object <code class="codeph">DUMP_FILES1</code> for the <code class="codeph">hrdata.dmp</code> file.</p>
<p>If a client-based environment variable <code class="codeph">DATA_PUMP_DIR</code> does not exist, then the process moves to step c.</p>
</li>
<li>
<p>If the schema that is executing the Data Pump job has DBA privileges, then the default Data Pump directory object, <code class="codeph">DATA_PUMP_DIR</code>, is used. This default directory object is established at installation time. For example, the following command causes Data Pump to attempt to use the default <code class="codeph">DATA_PUMP_DIR</code> directory object, assuming that system has DBA privileges:</p>
<pre dir="ltr">expdp system FILE=hrdata.dmp
</pre></li>
</ol>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-514F8E50-3D5C-40B5-97A0-8B554C405719__GUID-66CA598D-1128-4F1A-AE86-C034B2AB79FA">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5.htm#GUID-EEB32B50-8A00-40B0-8787-CC2C8BA05DC5">Default Locations for Dump_ Log_ and SQL Files</a>&#34;</span> for information about Data Pump file management rules of precedence under normal Data Pump conditions (that is, non-legacy mode)</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-C36B6B69-E55C-4278-AF6D-C9E2306AAE06.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-998125C5-D00F-4E04-9359-B4835696902E.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
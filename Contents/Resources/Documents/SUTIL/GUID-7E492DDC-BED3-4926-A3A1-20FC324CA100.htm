<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105521"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Integrity%20Constraints"></a><title>Integrity Constraints</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="integrity constraints, enabled during direct path load, disabled during direct path load"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-973925DA-8F86-49C1-A707-4564DC3B57AE.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-B5EA310B-FFB7-4CF0-8A2D-78E5E11EBC87.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-7E492DDC-BED3-4926-A3A1-20FC324CA100"></a> <span id="PAGE" style="display:none;">507/1019</span> <!-- End Header -->
<a id="SUTIL1331"></a>
<h1 id="SUTIL-GUID-7E492DDC-BED3-4926-A3A1-20FC324CA100" class="sect1">Integrity Constraints</h1>
<div>
<p>During a direct path load, some integrity constraints are automatically disabled. Others are not. For a description of the constraints, see the information about maintaining data integrity in the <a class="olink ADFNS004" target="_blank" href="../ADFNS/adfns_constraints.htm#ADFNS004"><span class="italic">Oracle Database Development Guide.</span></a></p>
</div>
<a id="SUTIL1332"></a>
<div class="props_rev_3"><a id="GUID-7E25B949-757E-4924-AF51-2CB3BB1EFB24"></a>
<h2 id="SUTIL-GUID-7E25B949-757E-4924-AF51-2CB3BB1EFB24" class="sect2">Enabled Constraints</h2>
<div>
<p>During a direct path load, the constraints that remain enabled are as follows:<a id="d101444e72" class="indexterm-anchor"></a></p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">NOT</code> <code class="codeph">NULL</code></p>
</li>
<li>
<p><code class="codeph">UNIQUE</code></p>
</li>
<li>
<p><code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> (unique-constraints on not-null columns)</p>
</li>
</ul>
<p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints are checked at column array build time. Any row that violates the <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint is rejected.</p>
<p>Even though <code class="codeph">UNIQUE</code> constraints remain enabled during direct path loads, any rows that violate those constraints are loaded anyway (this is different than in conventional path in which such rows would be rejected). When indexes are rebuilt at the end of the direct path load, <code class="codeph">UNIQUE</code> constraints are verified and if a violation is detected, then the index will be left in an Index Unusable state. See <span class="q">&#34;<a href="GUID-C44AADF7-777D-4847-A5ED-75E36B40D0EB.htm">Indexes Left in an Unusable State</a>&#34;</span>.</p>
</div>
</div>
<a id="SUTIL1333"></a>
<div class="props_rev_3"><a id="GUID-20F804EE-5015-4899-9A64-64254BC9FDC1"></a>
<h2 id="SUTIL-GUID-20F804EE-5015-4899-9A64-64254BC9FDC1" class="sect2">Disabled Constraints</h2>
<div>
<p>During a direct path load, the following constraints are automatically disabled by default:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CHECK</code> constraints</p>
</li>
<li>
<p>Referential constraints (<code class="codeph">FOREIGN</code> <code class="codeph">KEY</code>)</p>
</li>
</ul>
<p>You can override<a id="d101444e177" class="indexterm-anchor"></a> the automatic disabling of <code class="codeph">CHECK</code> constraints by specifying the <code class="codeph">EVALUATE CHECK_CONSTRAINTS</code> clause.<a id="d101444e188" class="indexterm-anchor"></a> SQL*Loader will then evaluate <code class="codeph">CHECK</code> constraints during a direct path load. Any row that violates the <code class="codeph">CHECK</code> constraint is rejected. The following example shows the use of the <code class="codeph">EVALUATE</code> <code class="codeph">CHECK_CONSTRAINTS</code> clause in a SQL*Loader control file:</p>
<pre dir="ltr">LOAD DATA 
INFILE * 
APPEND 
INTO TABLE emp 
EVALUATE CHECK_CONSTRAINTS 
FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&#34;&#39; 
(c1 CHAR(10) ,c2) 
BEGINDATA 
Jones,10
Smith,20 
Brown,30
Taylor,40
</pre></div>
</div>
<a id="SUTIL1334"></a>
<div class="props_rev_3"><a id="GUID-B42C86CD-A41C-4F75-B8D6-6F9C8155E074"></a>
<h2 id="SUTIL-GUID-B42C86CD-A41C-4F75-B8D6-6F9C8155E074" class="sect2">Reenable Constraints</h2>
<div>
<p>When the load completes, the integrity constraints will be reenabled automatically if the <code class="codeph">REENABLE</code> clause is specified. The syntax for the <code class="codeph">REENABLE</code> clause is as follows:</p>
<div class="figure" id="GUID-B42C86CD-A41C-4F75-B8D6-6F9C8155E074__GUID-8490F2F8-7131-4060-9251-F0DD82E46CBA"><img width="702" height="46" src="img/GUID-2C0E5235-CF56-4524-8E10-A61539E5A5E6-default.gif" alt="Description of GUID-2C0E5235-CF56-4524-8E10-A61539E5A5E6-print.eps follows" title="Description of GUID-2C0E5235-CF56-4524-8E10-A61539E5A5E6-print.eps follows"/><br/>
<a href="img_text/GUID-2C0E5235-CF56-4524-8E10-A61539E5A5E6-print.htm">Description of the illustration GUID-2C0E5235-CF56-4524-8E10-A61539E5A5E6-print.eps</a></div>
<!-- class="figure" -->
<div class="figure" id="GUID-B42C86CD-A41C-4F75-B8D6-6F9C8155E074__GUID-19A2BEA2-9C32-42C9-88FC-FD637C7C066D"><img width="421" height="37" src="img/GUID-174CF2DE-61ED-4A84-BF5E-C9B71738864D-default.gif" alt="Description of GUID-174CF2DE-61ED-4A84-BF5E-C9B71738864D-print.eps follows" title="Description of GUID-174CF2DE-61ED-4A84-BF5E-C9B71738864D-print.eps follows"/><br/>
<a href="img_text/GUID-174CF2DE-61ED-4A84-BF5E-C9B71738864D-print.htm">Description of the illustration GUID-174CF2DE-61ED-4A84-BF5E-C9B71738864D-print.eps</a></div>
<!-- class="figure" -->
<p>The optional parameter <code class="codeph">DISABLED_CONSTRAINTS</code> is provided for readability. If the <code class="codeph">EXCEPTIONS</code> clause is included, then the table must already exist and you must be able to insert into it. This table contains the <code class="codeph">ROWID</code>s of all rows that violated one of the integrity constraints. It also contains the name of the constraint that was violated. See <a class="olink SQLRF52228" target="_blank" href="../SQLRF/clauses002.htm#SQLRF52228"><span class="italic">Oracle Database SQL Language Reference</span></a> for instructions on how to create an exceptions table.</p>
<p>The SQL*Loader log file describes the constraints that were disabled, the ones that were reenabled, and what error, if any, prevented reenabling or validating of each constraint. It also contains the name of the exceptions table specified for each loaded table.</p>
<p>If the <code class="codeph">REENABLE</code> clause is not used, then the constraints must be reenabled manually, at which time all rows in the table are verified. If the Oracle database finds any errors in the new data, then error messages are produced. The names of violated constraints and the ROWIDs of the bad data are placed in an exceptions table, if one is specified.</p>
<p>If the <code class="codeph">REENABLE</code> clause is used, then SQL*Loader automatically reenables the constraint and verifies all new rows. If no errors are found in the new data, then SQL*Loader automatically marks the constraint as validated. If any errors <span class="italic">are</span> found in the new data, then error messages are written to the log file and SQL*Loader marks the status of the constraint as <code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code>. The names of violated constraints and the ROWIDs of the bad data are placed in an exceptions table, if one is specified.</p>
<div class="infobox-note" id="GUID-B42C86CD-A41C-4F75-B8D6-6F9C8155E074__GUID-9D991006-93D7-4122-B7A9-718F40F2962C">
<p class="notep1">Note:</p>
<p>Normally, when a table constraint is left in an <code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code> state, new data can be inserted into the table but no new invalid data may be inserted. However, SQL*Loader direct path load does not enforce this rule. Thus, if subsequent direct path loads are performed with invalid data, then the invalid data will be inserted but the same error reporting and exception table processing as described previously will take place. In this scenario the exception table may contain duplicate entries if it is not cleared out before each load. Duplicate entries can easily be filtered out by performing a query such as the following:</p>
<pre dir="ltr">SELECT UNIQUE * FROM exceptions_table; 
</pre></div>
<div class="infobox-note" id="GUID-B42C86CD-A41C-4F75-B8D6-6F9C8155E074__GUID-4085A320-8151-462F-A35E-3BC71FBE0B5B">
<p class="notep1">Note:</p>
<p>Because referential integrity must be reverified for the entire table, performance may be improved by using the conventional path, instead of the direct path, when a small number of rows are to be loaded into a very large table.</p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-973925DA-8F86-49C1-A707-4564DC3B57AE.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-B5EA310B-FFB7-4CF0-8A2D-78E5E11EBC87.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
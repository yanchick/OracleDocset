<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-106050"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Examples%20of%20Loading%20LOB%20Data%20from%20LOBFILEs"></a><title>Examples of Loading LOB Data from LOBFILEs</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="predetermined size LOBs, delimited LOBs, length-value pair specified LOBs"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-E488305F-90E5-4FE8-B122-A9341F99C450.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-4BD4BA87-BD69-4FA9-A6A6-ECA5CE2B6A60.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-FE58EA0F-F3F9-443F-8C64-47F13C5A6475"></a> <span id="PAGE" style="display:none;">465/1019</span> <!-- End Header -->
<a id="SUTIL1270"></a>
<h1 id="SUTIL-GUID-FE58EA0F-F3F9-443F-8C64-47F13C5A6475" class="sect1">Examples of Loading LOB Data from LOBFILEs</h1>
<div>
<p>This section contains examples of loading data from different types of fields in LOBFILEs.</p>
</div>
<a id="SUTIL3387"></a><a id="SUTIL3386"></a><a id="SUTIL1271"></a>
<div class="props_rev_3"><a id="GUID-C8C0CC51-2638-4FAA-9CB1-9E9B20EB852E"></a>
<h2 id="SUTIL-GUID-C8C0CC51-2638-4FAA-9CB1-9E9B20EB852E" class="sect2">One LOB per File</h2>
<div>
<div class="section">
<p>In <a href="GUID-FE58EA0F-F3F9-443F-8C64-47F13C5A6475.htm#GUID-C8C0CC51-2638-4FAA-9CB1-9E9B20EB852E__CEGHBDGD">Example 11-18</a>, each LOBFILE is the source of a single LOB. To load LOB data that is organized in this way, the column or field name is followed by the LOBFILE data type specifications.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-C8C0CC51-2638-4FAA-9CB1-9E9B20EB852E__CEGHBDGD">
<p class="titleinexample">Example 11-18 Loading LOB DATA with One LOB per LOBFILE</p>
<p>Control File Contents</p>
<pre dir="ltr">LOAD DATA 
INFILE &#39;sample.dat&#39;
   INTO TABLE person_table
   FIELDS TERMINATED BY &#39;,&#39;
   (name      CHAR(20),
<span class="bold">1</span>  ext_fname    FILLER CHAR(40),
<span class="bold">2</span>  &#34;RESUME&#34;     LOBFILE(ext_fname) TERMINATED BY EOF)
</pre>
<p>Data File (sample.dat)</p>
<pre dir="ltr">Johny Quest,jqresume.txt,
Speed Racer,&#39;/private/sracer/srresume.txt&#39;,
</pre>
<p>Secondary Data File (jqresume.txt)</p>
<pre dir="ltr">             Johny Quest
         500 Oracle Parkway
            ...
</pre>
<p>Secondary Data File (srresume.txt)</p>
<pre dir="ltr">         Speed Racer
     400 Oracle Parkway
        ...
</pre>
<div class="infobox-note" id="GUID-C8C0CC51-2638-4FAA-9CB1-9E9B20EB852E__GUID-96CCBFC1-F848-4D9F-BF58-CDF14A9C878A">
<p class="notep1">Note:</p>
<p>The callouts, in bold, to the left of the example correspond to the following notes:</p>
<ol>
<li>
<p>The filler field is mapped to the 40-byte data field, which is read using the SQL*Loader <code class="codeph">CHAR</code> data type. This assumes the use of default byte-length semantics. If character-length semantics were used, then the field would be mapped to a 40-character data field</p>
</li>
<li>
<p>SQL*Loader gets the LOBFILE name from the <code class="codeph">ext_fname</code> filler field. It then loads the data from the LOBFILE (using the <code class="codeph">CHAR</code> data type) from the first byte to the EOF character. If no existing LOBFILE is specified, then the <code class="codeph">&#34;RESUME&#34;</code> field is initialized to empty.</p>
</li>
</ol>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="SUTIL3389"></a><a id="SUTIL3388"></a><a id="SUTIL1272"></a>
<div class="props_rev_3"><a id="GUID-00E6ED60-8BE0-4315-9F40-82DC5C0656B6"></a>
<h2 id="SUTIL-GUID-00E6ED60-8BE0-4315-9F40-82DC5C0656B6" class="sect2">Predetermined Size LOBs</h2>
<div>
<div class="section">
<p>In <a href="GUID-FE58EA0F-F3F9-443F-8C64-47F13C5A6475.htm#GUID-00E6ED60-8BE0-4315-9F40-82DC5C0656B6__i1007065">Example 11-19</a>, you specify the size of the LOBs to be loaded into a particular column in the control file. During the load, SQL*Loader assumes that any LOB data loaded into that particular column is of the specified size. The predetermined size of the fields allows the data-parser to perform optimally. However, it is often difficult to guarantee that all LOBs are the same size.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-00E6ED60-8BE0-4315-9F40-82DC5C0656B6__i1007065">
<p class="titleinexample">Example 11-19 Loading LOB Data Using Predetermined Size LOBs</p>
<p>Control File Contents</p>
<pre dir="ltr">LOAD DATA 
INFILE &#39;sample.dat&#39;
INTO TABLE person_table
FIELDS TERMINATED BY &#39;,&#39;
   (name     CHAR(20),
<span class="bold">1</span>  &#34;RESUME&#34;    LOBFILE(CONSTANT &#39;/usr/private/jquest/jqresume.txt&#39;)
               CHAR(2000))
</pre>
<p>Data File (sample.dat)</p>
<pre dir="ltr">Johny Quest,
Speed Racer,
</pre>
<p>Secondary Data File (jqresume.txt)</p>
<pre dir="ltr">             Johny Quest
         500 Oracle Parkway
            ...
             Speed Racer
         400 Oracle Parkway
            ...
</pre>
<div class="infobox-note" id="GUID-00E6ED60-8BE0-4315-9F40-82DC5C0656B6__GUID-662CA784-A08B-4576-8C0E-34F3D066B87B">
<p class="notep1">Note:</p>
<p>The callout, in bold, to the left of the example corresponds to the following note:</p>
<ol>
<li>
<p>This entry specifies that SQL*Loader load 2000 bytes of data from the <code class="codeph">jqresume.txt</code> LOBFILE, using the <code class="codeph">CHAR</code> data type, starting with the byte following the byte loaded last during the current loading session. This assumes the use of the default byte-length semantics. If character-length semantics were used, then SQL*Loader would load 2000 characters of data, starting from the first character after the last-loaded character. See <span class="q">&#34;<a href="GUID-3DB632A7-BF43-40EF-AB2C-A1CC095854C2.htm">Character-Length Semantics</a>&#34;</span>.</p>
</li>
</ol>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="SUTIL3391"></a><a id="SUTIL3390"></a><a id="SUTIL1273"></a>
<div class="props_rev_3"><a id="GUID-4AADD568-AB5C-4C56-8E3E-D497EF67DC84"></a>
<h2 id="SUTIL-GUID-4AADD568-AB5C-4C56-8E3E-D497EF67DC84" class="sect2">Delimited LOBs</h2>
<div>
<div class="section">
<p>In <a href="GUID-FE58EA0F-F3F9-443F-8C64-47F13C5A6475.htm#GUID-4AADD568-AB5C-4C56-8E3E-D497EF67DC84__i1007097">Example 11-20</a>, the LOB data instances in the LOBFILE are delimited. In this format, loading different size LOBs into the same column is not a problem. However, this added flexibility can affect performance, because SQL*Loader must scan through the data, looking for the delimiter string.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-4AADD568-AB5C-4C56-8E3E-D497EF67DC84__i1007097">
<p class="titleinexample">Example 11-20 Loading LOB Data Using Delimited LOBs</p>
<p>Control File Contents</p>
<pre dir="ltr">LOAD DATA 
INFILE &#39;sample.dat&#39;
INTO TABLE person_table
FIELDS TERMINATED BY &#39;,&#39;
   (name     CHAR(20),
<span class="bold">1</span>  &#34;RESUME&#34;    LOBFILE( CONSTANT &#39;jqresume&#39;) CHAR(2000) 
               TERMINATED BY &#34;&lt;endlob&gt;\n&#34;)
</pre>
<p>Data File (sample.dat)</p>
<pre dir="ltr">Johny Quest,
Speed Racer,
</pre>
<p>Secondary Data File (jqresume.txt)</p>
<pre dir="ltr">             Johny Quest
         500 Oracle Parkway
            ... &lt;endlob&gt;
             Speed Racer
         400 Oracle Parkway
            ... &lt;endlob&gt;
</pre>
<div class="infobox-note" id="GUID-4AADD568-AB5C-4C56-8E3E-D497EF67DC84__GUID-3471D8D4-23D6-4652-BCDA-08B9235DD881">
<p class="notep1">Note:</p>
<p>The callout, in bold, to the left of the example corresponds to the following note:</p>
<ol>
<li>
<p>Because a maximum length of 2000 is specified for <code class="codeph">CHAR</code>, SQL*Loader knows what to expect as the maximum length of the field, which can result in memory usage optimization. <span class="italic">If you choose to specify a maximum length, then you should be sure not to underestimate its value.</span> The <code class="codeph">TERMINATED</code> <code class="codeph">BY</code> clause specifies the string that terminates the LOBs. Alternatively, you could use the <code class="codeph">ENCLOSED</code> <code class="codeph">BY</code> clause. The <code class="codeph">ENCLOSED</code> <code class="codeph">BY</code> clause allows a bit more flexibility as to the relative positioning of the LOBs in the LOBFILE (the LOBs in the LOBFILE need not be sequential).</p>
</li>
</ol>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="SUTIL3393"></a><a id="SUTIL3392"></a><a id="SUTIL1274"></a>
<div class="props_rev_3"><a id="GUID-C04366D7-247F-421E-BBFC-446A61C15258"></a>
<h2 id="SUTIL-GUID-C04366D7-247F-421E-BBFC-446A61C15258" class="sect2">Length-Value Pair Specified LOBs</h2>
<div>
<div class="section">
<p>In <a href="GUID-FE58EA0F-F3F9-443F-8C64-47F13C5A6475.htm#GUID-C04366D7-247F-421E-BBFC-446A61C15258__i1007136">Example 11-21</a> each LOB in the LOBFILE is preceded by its length. You could use <code class="codeph">VARCHAR</code>, <code class="codeph">VARCHARC</code>, or <code class="codeph">VARRAW</code> data types to load LOB data organized in this way.</p>
<p>This method of loading can provide better performance over delimited LOBs, but at the expense of some flexibility (for example, you must know the LOB length for each LOB before loading).</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-C04366D7-247F-421E-BBFC-446A61C15258__i1007136">
<p class="titleinexample">Example 11-21 Loading LOB Data Using Length-Value Pair Specified LOBs</p>
<p>Control File Contents</p>
<pre dir="ltr">LOAD DATA 
INFILE &#39;sample.dat&#39;
INTO TABLE person_table
FIELDS TERMINATED BY &#39;,&#39;
   (name          CHAR(20),
<span class="bold">1</span>  &#34;RESUME&#34;       LOBFILE(CONSTANT &#39;jqresume&#39;) VARCHARC(4,2000))
</pre>
<p>Data File (sample.dat)</p>
<pre dir="ltr">Johny Quest,
Speed Racer,
</pre>
<p>Secondary Data File (jqresume.txt)</p>
<pre dir="ltr"><span class="bold">2</span>      0501Johny Quest
       500 Oracle Parkway
          ... 
<span class="bold">3</span>      0000   
</pre>
<div class="infobox-note" id="GUID-C04366D7-247F-421E-BBFC-446A61C15258__GUID-91E8ACBD-800D-42C4-AF59-26ACA2BB691C">
<p class="notep1">Note:</p>
<p>The callouts, in bold, to the left of the example correspond to the following notes:</p>
<ol>
<li>
<p>The entry <code class="codeph">VARCHARC(4,2000)</code> tells SQL*Loader that the LOBs in the LOBFILE are in length-value pair format and that the first 4 bytes should be interpreted as the length. The value of <code class="codeph">2000</code> tells SQL*Loader that the maximum size of the field is 2000 bytes. This assumes the use of the default byte-length semantics. If character-length semantics were used, then the first 4 characters would be interpreted as the length in characters. The maximum size of the field would be 2000 characters. See <span class="q">&#34;<a href="GUID-3DB632A7-BF43-40EF-AB2C-A1CC095854C2.htm">Character-Length Semantics</a>&#34;</span>.</p>
</li>
<li>
<p>The entry <code class="codeph">0501</code> preceding <code class="codeph">Johny</code> <code class="codeph">Quest</code> tells SQL*Loader that the LOB consists of the next 501 characters.</p>
</li>
<li>
<p>This entry specifies an empty (not null) LOB.</p>
</li>
</ol>
</div>
</div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-E488305F-90E5-4FE8-B122-A9341F99C450.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-4BD4BA87-BD69-4FA9-A6A6-ECA5CE2B6A60.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
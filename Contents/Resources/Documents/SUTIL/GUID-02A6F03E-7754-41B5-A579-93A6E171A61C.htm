<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-105052"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/TIMESTAMP%20WITH%20TIME%20ZONE%20Restrictions"></a><title>TIMESTAMP WITH TIME ZONE Restrictions</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T17:06:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Utilities"/>
<meta name="dcterms.identifier" content="E41528-09"/>
<meta name="dcterms.isVersionOf" content="SUTIL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-D8443A5E-BF6D-4329-AF11-8E5899356C64.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41528-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C"></a> <span id="PAGE" style="display:none;">31/1019</span> <!-- End Header -->
<a id="SUTIL4320"></a>
<h1 id="SUTIL-GUID-02A6F03E-7754-41B5-A579-93A6E171A61C" class="sect1">TIMESTAMP WITH TIME ZONE Restrictions</h1>
<div>
<div class="section">
<p>For export and import jobs that have <code class="codeph">TIMESTAMP with TIME ZONE</code> data, successful job completion can depend on:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The version of the Oracle Database time zone files on the source and target databases. See <span class="q">&#34;<a href="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C.htm#GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4">Time Zone File Versions on the Source and Target</a>&#34;</span>.</p>
</li>
<li>
<p>The export/import mode and whether the Data Pump version being used supports <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data. (Data Pump 11.2.0.1 and later provide support for <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data.) See <span class="q">&#34;<a href="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C.htm#GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1">Data Pump Support for TIMESTAMP WITH TIME ZONE Data</a>&#34;</span>.</p>
</li>
</ul>
<p>To identify the time zone file version of a database, you can execute the following SQL statement:</p>
<pre dir="ltr">SQL&gt; SELECT VERSION FROM V$TIMEZONE_FILE;
</pre>
<div class="infoboxnotealso" id="GUID-02A6F03E-7754-41B5-A579-93A6E171A61C__GUID-9ECDF44E-B6C3-4D54-A0AF-5CE82555FC09">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink NLSPG258" target="_blank" href="../NLSPG/ch4datetime.htm#NLSPG258"><span class="italic">Oracle Database Globalization Support Guide</span></a> for more information about time zone files</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
<a id="SUTIL4321"></a>
<div class="props_rev_3"><a id="GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4"></a>
<h2 id="SUTIL-GUID-4DABDB38-BEAA-471B-9026-F91CD22FD5C4" class="sect2">Time Zone File Versions on the Source and Target</h2>
<div>
<p>Successful job completion can depend on whether the source and target time zone file versions match.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the Oracle Database time zone file version is the same on the source and target databases, then conversion of <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data is not necessary. The export/import job should complete successfully.</p>
<p>The exception to this is a transportable tablespace or transportable table export performed using a Data Pump release earlier than 11.2.0.1. In that case, tables in the dump file that have <code class="codeph">TIMESTAMP WITH TIME ZONE</code> columns are not created on import even though the time zone file version is the same on the source and target.</p>
</li>
<li>
<p>If the source time zone file version is not available on the target database, then the job fails. The version of the time zone file on the source may not be available on the target because the source may have had its time zone file updated to a later version but the target has not. For example, if the export is done on Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.2) with a time zone file version of 17, and the import is done on 11.2.0.2 with only a time zone file of 16 available, then the job fails.</p>
</li>
</ul>
</div>
</div>
<a id="SUTIL4323"></a><a id="SUTIL4324"></a><a id="SUTIL4325"></a><a id="SUTIL4322"></a>
<div class="props_rev_3"><a id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1"></a>
<h2 id="SUTIL-GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1" class="sect2">Data Pump Support for TIMESTAMP WITH TIME ZONE Data</h2>
<div>
<p>This section describes Data Pump support for <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data during different export and import modes when versions of the Oracle Database time zone file are different on the source and target databases.</p>
<div class="section">
<p class="subhead2">Non-transportable Modes</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>If the dump file is created with a Data Pump version that supports <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data (11.2.0.1 or later), then the time zone file version of the export system is recorded in the dump file. Data Pump uses that information to determine whether data conversion is necessary. If the target database knows about the source time zone version, but is actually using a later version, then the data is converted to the later version. <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data cannot be downgraded, so if you attempt to import to a target that is using an earlier version of the time zone file than the source used, the import fails.</p>
</li>
<li>
<p>If the dump file is created with a Data Pump version prior to Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.1), then <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data is not supported, so no conversion is done and corruption may occur.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Transportable Tablespace and Transportable Table Modes</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>In transportable tablespace and transportable table modes, if the source and target have different time zone file versions, then tables with <code class="codeph">TIMESTAMP WITH TIME ZONE</code> columns are not created. A warning is displayed at the beginning of the job showing the source and target database time zone file versions. A message is also displayed for each table not created. This is true even if the Data Pump version used to create the dump file supports <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data. (Release 11.2.0.1 and later support <code class="codeph">TIMESTAMP WITH TIMEZONE</code> data.)</p>
</li>
<li>
<p>If the source is earlier than Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.1), then the time zone file version must be the same on the source and target database for all transportable jobs regardless of whether the transportable set uses <code class="codeph">TIMESTAMP WITH TIME ZONE</code> columns.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Full Transportable Mode</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Full transportable exports and imports are supported when the source database is at least Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.3) and the target is Oracle Database 12c release 1 (12.1) or later.</p>
<p>Data Pump 11.2.0.1 and later provide support for <code class="codeph">TIMESTAMP WITH TIME ZONE</code> data. Therefore, in full transportable operations, tables with <code class="codeph">TIMESTAMP WITH TIME ZONE</code> columns are created. If the source and target database have different time zone file versions, then <code class="codeph">TIMESTAMP WITH TIME ZONE</code> columns from the source are converted to the time zone file version of the target.</p>
<div class="infoboxnotealso" id="GUID-EF3AF1D8-716B-4C3E-931D-52937A5175F1__GUID-91544DBB-B246-4082-9F94-304D109C167D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN10140" target="_blank" href="../ADMIN/transport.htm#ADMIN10140"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about transportable tablespaces</p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-079769D8-40F4-432F-88AD-E7264D7A2E2D.htm#GUID-079769D8-40F4-432F-88AD-E7264D7A2E2D__BEHFFGJG">Using the Transportable Option During Full Mode Exports</a>&#34;</span> for more information about full transportable exports</p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-E27D2DC9-A6D8-4F0B-AB72-6BF526B3AA18.htm#GUID-E27D2DC9-A6D8-4F0B-AB72-6BF526B3AA18__BEHFEGFI">Using the Transportable Option During Full Mode Imports</a>&#34;</span> for more information about full transportable imports</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2015">
<tr>
<td class="cellalignment2022">
<table class="cellalignment2020">
<tr>
<td class="cellalignment2019"><a href="GUID-7EE60BAB-0D3D-46EB-8E11-4FDDA68EF14E.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2019"><a href="GUID-D8443A5E-BF6D-4329-AF11-8E5899356C64.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2024">
<table class="cellalignment2018">
<tr>
<td class="cellalignment2019"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2019"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2019"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2019"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2019"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2019"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
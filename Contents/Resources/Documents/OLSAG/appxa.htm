<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86482"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Advanced%20Topics%20in%20Oracle%20Label%20Security"></a><title>Advanced Topics in Oracle Label Security</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels."/>
<meta name="keywords" content="labels, relationships between, DOMINATES function, dominance, overview, non-comparable, functions, about, OLS_DOMINATES function, Oracle Data Redaction, using OLS_LABEL_DOMINATES function with, OLS_LABEL_DOMINATES function, in Data Redaction policies, in Database Vault policies, Oracle Database Vault, OLS_STRICTLY_DOMINATES function, OLS_DOMINATED_BY function, OLS_STRICTLY_DOMINATED_BY function, SA_UTL package, dominance functions, STRICTLY_DOMINATES function, DOMINATED_BY function, STRICTLY_DOMINATED_BY function, INITIAL_ROW_LABEL variable, INITIAL_LABEL variable, SYS_CONTEXT, variables, OCIAttrSet, OCI interface, session labels, OCI_ATTR_APPCTX_LIST, OCIParamGet, OCI_ATTR_APPCTX_SIZE"/>
<meta name="dcterms.created" content="2017-03-14T13:38:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E48437-08"/>
<meta name="dcterms.isVersionOf" content="OLSAG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="config.htm" title="Previous" type="text/html"/>
<link rel="Next" href="appxb.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48437-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A"></a> <span id="PAGE" style="display:none;">23/29</span> <!-- End Header -->
<a id="OLSAG104"></a>
<h1 id="OLSAG-GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" class="sect1"><span class="enumeration_appendix">B</span> Advanced Topics in Oracle Label Security</h1>
<div>
<p>Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="appxa.htm#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="You can analyze the relationships between labels.">Analyzing the Relationships Between Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" title="You can use the unified audit trail to capture information from various audit sources, including Oracle Label Security.">Queries for Audited Oracle Label Security Session Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="You can use an Oracle Call Interface (OCI) to set session labels.">Oracle Call Interface for Setting Session Labels</a></p>
</li>
</ul>
</div>
<a id="OLSAG3689"></a>
<div class="props_rev_3"><a id="GUID-0E58615C-8F37-487E-8278-E506647BB867"></a>
<h2 id="OLSAG-GUID-0E58615C-8F37-487E-8278-E506647BB867" class="sect2">Analyzing the Relationships Between Labels</h2>
<div>
<p>You can analyze the relationships between labels.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="appxa.htm#GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C" title="The relationship between two labels can be described in terms of dominance.">About Dominant and Dominated Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF" title="It is important to understand how labels can be compared with regard to dominance.">Non-Comparable Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
</li>
</ul>
</div>
<a id="OLSAG3691"></a><a id="OLSAG3690"></a>
<div class="props_rev_3"><a id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C"></a>
<h3 id="OLSAG-GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C" class="sect3">About Dominant and Dominated Labels</h3>
<div>
<p>The relationship between two labels can be described in terms of <span class="italic">dominance.</span></p>
<p>A user&#39;s ability to access an object depends on whether the user&#39;s label dominates the label of the object. If a user&#39;s label does not dominate the object&#39;s label, then the user is not allowed to access the object.</p>
<p>Label dominance is analyzed in terms of all its components: levels, compartments, and groups.</p>
<div class="tblformal" id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C__GUID-A8ACFCD9-D39B-428E-BDDB-159565520F09">
<p class="titleintable">Table B-1 Dominance in the Comparison of Labels</p>
<table class="cellalignment3821" title="Dominance in the Comparison of Labels" summary="This table describes what dominance means in each component of a label. Columns are Factor and Criteria for Dominance.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3892" id="d54842e210">Factor</th>
<th class="cellalignment3927" id="d54842e213">Criteria for Dominance</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3894" id="d54842e218" headers="d54842e210">
<p>Level</p>
</td>
<td class="cellalignment3928" headers="d54842e218 d54842e213">
<p>For <code class="codeph">label1</code> to dominate <code class="codeph">label2</code>, the level of <code class="codeph">label1</code> must be greater than or equal to that of <code class="codeph">label2</code>.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3894" id="d54842e237" headers="d54842e210">
<p>Compartment</p>
</td>
<td class="cellalignment3928" headers="d54842e237 d54842e213">
<p>For <code class="codeph">label1</code> to dominate <code class="codeph">label2</code>, the compartments of <code class="codeph">label1</code> must contain <span class="italic">all</span> the compartments of <code class="codeph">label2</code>.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3894" id="d54842e259" headers="d54842e210">
<p>Group</p>
</td>
<td class="cellalignment3928" headers="d54842e259 d54842e213">
<p>For <code class="codeph">label1</code> to dominate <code class="codeph">label2</code>, <code class="codeph">label1</code> must contain <span class="italic">at least one</span> of the groups of <code class="codeph">label2</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>One label <span class="italic">dominates</span> another label if all of its components dominate the components of the other label. For example, the label <code class="codeph">HIGHLY_SENSITIVE</code>:<code class="codeph">FINANCE</code>,<code class="codeph">OPERATIONS</code> dominates the label <code class="codeph">HIGHLY_SENSITIVE:FINANCE</code>. Similarly, the label <code class="codeph">HIGHLY_SENSITIVE::WR_AP</code> dominates the label <code class="codeph">HIGHLY_SENSITIVE::WR_AP, WR_AR</code>.</p>
<div class="infoboxnotealso" id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C__GUID-E396A64F-6F4F-46B4-B40E-9487C697AB4B">
<p class="notep1">See Also:</p>
<p><a href="releas.htm#GUID-4F86EA80-3ACE-4D33-AC1D-1B62BC012C5E" title="You should understand how dominance rules work for Oracle labels and inverse groups.">Dominance Rules for Labels with Inverse Groups</a></p>
</div>
</div>
</div>
<a id="OLSAG3692"></a>
<div class="props_rev_3"><a id="GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF"></a>
<h3 id="OLSAG-GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF" class="sect3">Non-Comparable Labels</h3>
<div>
<p>It is important to understand how labels can be compared with regard to dominance.</p>
<p>The relationship between two labels cannot always be defined by dominance. Two labels are <span class="italic">non-comparable</span> if neither label dominates the other.</p>
<p>If any compartments differ between the two labels (as with <code class="codeph">HS:A</code> and <code class="codeph">HS:B</code>), then they are non-comparable. Similarly, the labels <code class="codeph">HS:A</code> and <code class="codeph">S:B</code> are non-comparable.</p>
<p>You can find existing labels by querying the <span class="apiname">DBA_SA_LABELS</span> data dictionary view.</p>
</div>
</div>
<a id="OLSAG3693"></a>
<div class="props_rev_3"><a id="GUID-CD606D67-78AE-427D-B397-627C68E77B84"></a>
<h3 id="OLSAG-GUID-CD606D67-78AE-427D-B397-627C68E77B84" class="sect3">Using Dominance Functions</h3>
<div>
<p>Oracle Label Security provides functions to control dominance.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="appxa.htm#GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF" title="You can use dominance functions to specify ranges in queries.">About the Dominance Functions</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596" title="The OLS_DOMINATES (OLS_DOM) function returns 1 (TRUE) if label1 dominates label2, or 0 (FALSE) if it does not.">OLS_DOMINATES Standalone Function</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE" title="The standalone OLS_LABEL_DOMINATES function checks the dominance of session labels.">OLS_LABEL_DOMINATES Standalone Function</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5" title="The OLS_STRICTLY_DOMINATES (OLS_S_DOM) function returns 1 (TRUE) if label1 dominates label2 and is not equal to it.">OLS_STRICTLY_DOMINATES Standalone Function</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D" title="The OLS_DOMINATED_BY (OLS_DOM_BY) function returns 1 (TRUE) if label1 is dominated by label2.">OLS_DOMINATED_BY Standalone Function</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F" title="The OLS_STRICTLY_DOMINATED_BY (OLS_S_DOM_BY) function returns 1 (TRUE) if label1 is dominated by label2 and is not equal to it.">OLS_STRICTLY_DOMINATED_BY Standalone Function</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8" title="The SA_UTL.DOMINATES function returns TRUE if label1 dominates label2 or if the session label for the given OLS policy dominates label.">SA_UTL.DOMINATES</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652" title="The SA_UTL.STRICTLY_DOMINATES function returns TRUE if label1 dominates label2 and is not equal to it.">SA_UTL.STRICTLY_DOMINATES</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A" title="The SA_UTL.DOMINATED_BY function returns TRUE if label1 is dominated by label2.">SA_UTL.DOMINATED_BY</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE" title="The SA_UTL.STRICTLY_DOMINATED_BY function returns TRUE if label1 is dominated by label2 and is not equal to it.">SA_UTL.STRICTLY_DOMINATED_BY</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-CD606D67-78AE-427D-B397-627C68E77B84__GUID-B69D70A8-73C8-47E9-BA2D-451F334B9886">
<p class="notep1">See Also:</p>
<p><a href="worklabel.htm#GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" title="The ORDER BY clause of a SELECT statement can be used to order rows by the numeric label tag.">Ordering Labeled Data Rows</a></p>
</div>
</div>
<a id="OLSAG3694"></a><a id="OLSAG4146"></a>
<div class="props_rev_3"><a id="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF"></a>
<h4 id="OLSAG-GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF" class="sect4">About the Dominance Functions</h4>
<div>
<p>You can use dominance functions to specify ranges in queries.</p>
<p>The following functions enable you to indicate dominance relationships between specified labels.</p>
<div class="tblformal" id="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF__GUID-D22A9249-B0BA-482A-8AF6-DA770686E5F2">
<p class="titleintable">Table B-2 Functions to Determine Dominance</p>
<table class="cellalignment3821" title="Functions to Determine Dominance " summary="This table lists the functions you can use to indicate dominance relationships between specified labels, listing each individual function and its meaning.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3929" id="d54842e714">Function</th>
<th class="cellalignment3930" id="d54842e717">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3931" id="d54842e722" headers="d54842e714">
<p><code class="codeph">OLS_DOMINATES</code></p>
</td>
<td class="cellalignment3932" headers="d54842e722 d54842e717">
<p>The value of <code class="codeph">label1</code> dominates, or is equal to, that of <code class="codeph">label2</code>.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3931" id="d54842e736" headers="d54842e714">
<p><code class="codeph">OLS_LABEL_DOMINATES</code></p>
</td>
<td class="cellalignment3932" headers="d54842e736 d54842e717">
<p>The value of the session label for the corresponding <code class="codeph">policy_name</code> dominates, or is equal to, that of <code class="codeph">label</code>.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3931" id="d54842e750" headers="d54842e714">
<p><code class="codeph">OLS_STRICTLY_DOMINATES</code></p>
</td>
<td class="cellalignment3932" headers="d54842e750 d54842e717">
<p>The value of <code class="codeph">label1</code> dominates that of <code class="codeph">label2</code>, and is not equal to it.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3931" id="d54842e764" headers="d54842e714">
<p><code class="codeph">OLS_DOMINATED_BY</code></p>
</td>
<td class="cellalignment3932" headers="d54842e764 d54842e717">
<p>The value of <code class="codeph">label1</code> is dominated by that of <code class="codeph">label2</code>.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3931" id="d54842e778" headers="d54842e714">
<p><code class="codeph">OLS_STRICTLY_DOMINATED_BY</code></p>
</td>
<td class="cellalignment3932" headers="d54842e778 d54842e717">
<p>The value of <code class="codeph">label1</code> is dominated by that of <code class="codeph">label2</code>, and is not equal to it.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Note that there are two types of dominance function. While the <code class="codeph">SA_UTL</code> dominance functions return <code class="codeph">BOOLEAN</code> values, the standalone dominance functions return integers.</p>
</div>
</div>
<a id="OLSAG3799"></a><a id="OLSAG4155"></a><a id="OLSAG4156"></a><a id="OLSAG4157"></a><a id="OLSAG3695"></a>
<div class="props_rev_3"><a id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596"></a>
<h4 id="OLSAG-GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596" class="sect4">OLS_DOMINATES Standalone Function</h4>
<div>
<p>The <code class="codeph">OLS_DOMINATES</code> (<code class="codeph">OLS_DOM</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> dominates <code class="codeph">label2</code>, or <code class="codeph">0</code> (<code class="codeph">FALSE</code>) if it does not.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">OLS_DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN INTEGER; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-1CA17D30-4B08-4CEE-B5A6-B1A8D1821CEE">
<p class="titleintable">Table B-3 OLS_DOMINATES Parameters</p>
<table class="cellalignment3821" title="OLS_DOMINATES Parameters" summary="OLS_DOMINATES Parameters. Columns are Parameter and Descriptions.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e895">Parameter</th>
<th class="cellalignment3823" id="d54842e898">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e903" headers="d54842e895">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e903 d54842e898">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e920" headers="d54842e895">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e920 d54842e898">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SELECT OLS_DOMINATES (&#39;1111&#39;, &#39;1112&#39;) FROM DUAL;

OLS_DOMINATES(&#39;1111&#39;,&#39;1112&#39;)
----------------------------
                           0
</pre>
<div class="infobox-note" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-C9203716-FD0F-498E-B275-C31CC684FC5B">
<p class="notep1">Note:</p>
<p>The old OLS functions, <code class="codeph">DOMINATES</code> and <code class="codeph">DOM</code>, have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_LABEL_DOMINATES</code> and <code class="codeph">OLS_DOM</code> functions instead. Using the new function names avoids potential name conflicts with other database components.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG4148"></a><a id="OLSAG4158"></a><a id="OLSAG4159"></a><a id="OLSAG4160"></a><a id="OLSAG4147"></a>
<div class="props_rev_3"><a id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE"></a>
<h4 id="OLSAG-GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE" class="sect4">OLS_LABEL_DOMINATES Standalone Function</h4>
<div>
<p>The standalone <code class="codeph">OLS_LABEL_DOMINATES</code> function checks the dominance of session labels.</p>
<div class="section">
<p>It returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if the session label of the specified <code class="codeph">policy_name</code> value dominates or is equal to the label that is specified by the <code class="codeph">label</code> parameter. Otherwise, this function returns <code class="codeph">0</code> (<code class="codeph">FALSE</code>). This function is publicly available.</p>
<div class="infobox-note" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-57CDCA59-3C52-4707-86BC-F4C4EDDA1CDD">
<p class="notep1">Note:</p>
<p>This feature is available starting with Oracle Database 12<span class="italic">c</span> release 1 (12.1.0.2).</p>
</div>
<p>In addition to Oracle Label Security policies, you can use this function with both Oracle Data Redaction and Oracle Database Vault policies.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">OLS_LABEL_DOMINATES (
  policy_name    IN VARCHAR2,
  label          IN VARCHAR2)
RETURN INTEGER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-5F0F7977-D44D-4BE6-B16C-0854FBDB51D7">
<p class="titleintable">Table B-4 OLS_LABEL_DOMINATES Parameters</p>
<table class="cellalignment3821" title="OLS_LABEL_DOMINATES Parameters" summary="OLS_LABEL_DOMINATES Parameters. Columns are Parameters and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1082">Parameter</th>
<th class="cellalignment3823" id="d54842e1085">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1090" headers="d54842e1082">
<p><code class="codeph">policy_name</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1090 d54842e1085">
<p>The name of the Oracle Label Security policy whose session label must be checked for dominance. To find existing label values for policies, query the <code class="codeph">POLICY_NAME</code> and <code class="codeph">LABEL</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1107" headers="d54842e1082">
<p><code class="codeph">label</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1107 d54842e1085">
<p>The base label against whom the dominance has to be checked</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Examples</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example checks if the session label for the <code class="codeph">hr_ols_pol</code> policy dominates or is equal to the <code class="codeph">hs</code> label.</p>
<pre dir="ltr">SELECT OLS_LABEL_DOMINATES (&#39;hr_ols_pol&#39;, &#39;hs&#39;) FROM DUAL;

OLS_LABEL_DOMINATES(&#39;HR_OLS_POL&#39;,&#39;HS&#39;)
--------------------------------------
                                     0
</pre>
<p>This example shows how you can use the <code class="codeph">OLS_LABEL_DOMINATES</code> function in an Oracle Data Redaction policy:</p>
<pre dir="ltr">BEGIN
 DBMS_REDACT.ADD_POLICY(
   object_schema   =&gt; &#39;oe&#39;, 
   object_name     =&gt; &#39;customers&#39;, 
   column_name     =&gt; &#39;customer_id&#39;,
   policy_name     =&gt; &#39;redact_cust_user_ids&#39;, 
   function_type   =&gt; DBMS_REDACT.FULL,
   expression      =&gt; &#39;OLS_LABEL_DOMINATES(&#39;&#39;hr_ols_pol&#39;&#39;, &#39;&#39;hs&#39;&#39;) = 0&#39;);
END;
/
</pre>
<p>The following example shows how you can use the <code class="codeph">OLS_LABEL_DOMINATES</code> function in an Oracle Database Vault rule definition:</p>
<pre dir="ltr">EXEC DBMS_MACADM.CREATE_RULE(&#39;Check OLS Factor&#39;, &#39;OLS_LABEL_DOMINATES(&#39;&#39;hr_ols_pol&#39;&#39;, &#39;&#39;hs&#39;&#39;) = 1&#39;);
</pre>
<div class="infoboxnotealso" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-39C38224-C4D9-476C-A9DE-FED91EE276E8">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ASOAG596" target="_blank" href="../ASOAG/introduction-to-oracle-data-redaction.htm#ASOAG596"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for more information about Data Redaction</p>
</li>
<li>
<p><a class="olink DVADM71155" target="_blank" href="../DVADM/cfrealms.htm#DVADM71155"><span><cite>Oracle Database Vault Administrator&rsquo;s Guide</cite></span></a> for more information about Database Vault realms</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3800"></a><a id="OLSAG4161"></a><a id="OLSAG4162"></a><a id="OLSAG4163"></a><a id="OLSAG3696"></a>
<div class="props_rev_3"><a id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5"></a>
<h4 id="OLSAG-GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5" class="sect4">OLS_STRICTLY_DOMINATES Standalone Function</h4>
<div>
<p>The <code class="codeph">OLS_STRICTLY_DOMINATES</code> (<code class="codeph">OLS_S_DOM</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> and is not equal to it.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">OLS_STRICTLY_DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN INTEGER; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-2A84F58C-07CC-46E6-B980-661399ED35D3">
<p class="titleintable">Table B-5 OLS_STRICTLY_DOMINATES Parameters</p>
<table class="cellalignment3821" title="OLS_STRICTLY_DOMINATES Parameters" summary="OLS_STRICTLY_DOMINATES Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1249">Parameter</th>
<th class="cellalignment3823" id="d54842e1252">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1257" headers="d54842e1249">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1257 d54842e1252">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1274" headers="d54842e1249">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1274 d54842e1252">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Examples</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SELECT OLS_STRICTLY_DOMINATES (&#39;1111&#39;, &#39;1112&#39;) FROM DUAL;

OLS_STRICTLY_DOMINATES(&#39;1111&#39;,&#39;1112&#39;)
-------------------------------------
                                    0
</pre>
<div class="infobox-note" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-186DFE7E-08A5-4B82-ADA5-64D600FE9F6E">
<p class="notep1">Note:</p>
<p>The old OLS functions, <code class="codeph">STRICTLY_DOMINATES</code> and <code class="codeph">S_DOM</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_STRICTLY_DOMINATES</code> and <code class="codeph">OLS_S_DOM</code> functions instead. Using the new function names avoids potential name conflicts with other database components.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3801"></a><a id="OLSAG4164"></a><a id="OLSAG4165"></a><a id="OLSAG4166"></a><a id="OLSAG3697"></a>
<div class="props_rev_3"><a id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D"></a>
<h4 id="OLSAG-GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D" class="sect4">OLS_DOMINATED_BY Standalone Function</h4>
<div>
<p>The <code class="codeph">OLS_DOMINATED_BY</code> (<code class="codeph">OLS_DOM_BY</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code>.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">OLS_DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER)
RETURN INTEGER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-FC2A5009-ED30-488A-85B8-298DEBC4B98F">
<p class="titleintable">Table B-6 OLS_STRICTLY_DOMINATES Parameters</p>
<table class="cellalignment3821" title="OLS_STRICTLY_DOMINATES Parameters" summary="OLS_STRICTLY_DOMINATES Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1405">Parameter</th>
<th class="cellalignment3823" id="d54842e1408">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1413" headers="d54842e1405">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1413 d54842e1408">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1430" headers="d54842e1405">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1430 d54842e1408">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SELECT OLS_DOMINATED_BY (&#39;1111&#39;, &#39;1112&#39;) FROM DUAL;

OLS_DOMINATED_BY(&#39;1111&#39;,&#39;1112&#39;)
-------------------------------
                              1
</pre>
<div class="infobox-note" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-6D007E85-C8E8-401A-8FC7-86C1202A9A8A">
<p class="notep1">Note:</p>
<p>The old OLS functions, <code class="codeph">DOMINATED_BY</code> and <code class="codeph">DOM_BY</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_DOMINATED_BY</code> and <code class="codeph">OLS_DOM_BY</code> functions instead. Using the new function names avoids potential name conflicts with other database components.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3802"></a><a id="OLSAG4167"></a><a id="OLSAG4168"></a><a id="OLSAG4169"></a><a id="OLSAG3698"></a>
<div class="props_rev_3"><a id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F"></a>
<h4 id="OLSAG-GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F" class="sect4">OLS_STRICTLY_DOMINATED_BY Standalone Function</h4>
<div>
<p>The <code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> (<code class="codeph">OLS_S_DOM_BY</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code> and is not equal to it.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">OLS_STRICTLY_DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN INTEGER; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-46BAD4C6-F35E-4E2B-8313-66F4607580E9">
<p class="titleintable">Table B-7 OLS_DOMINATES Parameters</p>
<table class="cellalignment3821" title="OLS_DOMINATES Parameters" summary="OLS_DOMINATES Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1560">Parameter</th>
<th class="cellalignment3823" id="d54842e1563">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1568" headers="d54842e1560">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1568 d54842e1563">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1585" headers="d54842e1560">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1585 d54842e1563">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SELECT OLS_STRICTLY_DOMINATES (&#39;1111&#39;, &#39;1112&#39;) FROM DUAL;

OLS_STRICTLY_DOMINATES(&#39;1111&#39;,&#39;1112&#39;)
-------------------------------------
                                    0
</pre>
<div class="infobox-note" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-953B9693-F2FC-4AE5-BF3A-BB4AB3E90383">
<p class="notep1">Note:</p>
<p>The old OLS functions, <code class="codeph">STRICTLY_DOMINATED_BY</code> and <code class="codeph">S_DOM_BY</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> and <code class="codeph">OLS_S_DOM_BY</code> functions instead. Using the new function names avoids potential name conflicts with other database components.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3803"></a><a id="OLSAG3804"></a><a id="OLSAG4170"></a><a id="OLSAG4171"></a><a id="OLSAG4172"></a><a id="OLSAG3699"></a>
<div class="props_rev_3"><a id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8"></a>
<h4 id="OLSAG-GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8" class="sect4">SA_UTL.DOMINATES</h4>
<div>
<p>The <code class="codeph">SA_UTL.DOMINATES</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> or if the session label for the given OLS policy dominates <code class="codeph">label</code>.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SA_UTL.DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN BOOLEAN; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SA_UTL.DOMINATES (
  ols_policy_name  IN VARCHAR2,
  label            IN VARCHAR2) 
RETURN BOOLEAN; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-871DF2AF-18A6-43FD-89FB-E8358E19C133">
<p class="titleintable">Table B-8 SA_UTL.DOMINATES Parameters</p>
<table class="cellalignment3821" title="SA_UTL.DOMINATES Parameters" summary="SA_UTL.DOMINATES Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1720">Parameter</th>
<th class="cellalignment3823" id="d54842e1723">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1728" headers="d54842e1720">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1728 d54842e1723">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1745" headers="d54842e1720">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1745 d54842e1723">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.DOMINATES(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;Label 1111 dominates label 1112.&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;Label 1112 dominates label 1111.&#39;); 
 END IF; 
END;
/

Label 1112 dominates label 1111.
</pre>
<div class="infobox-note" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-E48519F9-3081-4AFF-B455-715D65576532">
<p class="notep1">Note:</p>
<p>The second <code class="codeph">SA_UTL.DOMINATES</code> function, which takes the Oracle Label Security policy name and label as inputs, has been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use this function, but not with Oracle Data Redaction and Oracle Database Vault conditions. Oracle recommends that you use the <code class="codeph">OLS_LABEL_DOMINATES</code> function instead.</p>
<p>The first <code class="codeph">SA_UTL.DOMINATES</code> function, which uses the <code class="codeph">NUMBER</code> datatype, is not deprecated.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3805"></a><a id="OLSAG4173"></a><a id="OLSAG4174"></a><a id="OLSAG4175"></a><a id="OLSAG3700"></a>
<div class="props_rev_3"><a id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652"></a>
<h4 id="OLSAG-GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652" class="sect4">SA_UTL.STRICTLY_DOMINATES</h4>
<div>
<p>The <code class="codeph">SA_UTL.STRICTLY_DOMINATES</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> and is not equal to it.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SA_UTL.STRICTLY_DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN BOOLEAN; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-1F69215B-E32A-488C-9522-4F1E08FCE83B">
<p class="titleintable">Table B-9 SA_UTL.STRICTLY_DOMINATES Parameters</p>
<table class="cellalignment3821" title="SA_UTL.STRICTLY_DOMINATES Parameters" summary="SA_UTL.STRICTLY_DOMINATES Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1871">Parameter</th>
<th class="cellalignment3823" id="d54842e1874">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1879" headers="d54842e1871">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1879 d54842e1874">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e1896" headers="d54842e1871">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e1896 d54842e1874">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.STRICTLY_DOMINATES(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;Label 1111 strictly dominates label 1112.&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;Label 1112 strictly dominates label 1111.&#39;); 
 END IF; 
END;
/

Label 1112 strictly dominates label 1111.
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3806"></a><a id="OLSAG4176"></a><a id="OLSAG4177"></a><a id="OLSAG4178"></a><a id="OLSAG3701"></a>
<div class="props_rev_3"><a id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A"></a>
<h4 id="OLSAG-GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A" class="sect4">SA_UTL.DOMINATED_BY</h4>
<div>
<p>The <code class="codeph">SA_UTL.DOMINATED_BY</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code>.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SA_UTL.DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-F403402D-98A4-4B04-88DE-AE8D5B3AEDF5">
<p class="titleintable">Table B-10 SA_UTL.DOMINATED_BY Parameters</p>
<table class="cellalignment3821" title="SA_UTL.DOMINATED_BY Parameters" summary="SA_UTL.DOMINATED_BY Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e1999">Parameter</th>
<th class="cellalignment3823" id="d54842e2002">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e2007" headers="d54842e1999">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e2007 d54842e2002">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e2024" headers="d54842e1999">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e2024 d54842e2002">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.DOMINATED_BY(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;Label 1111 is dominated by label 1112.&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;Label 1112 is dominated by label 1111.&#39;); 
 END IF; 
END;
/

Label 1111 is dominated by label 1112.
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3807"></a><a id="OLSAG4179"></a><a id="OLSAG4180"></a><a id="OLSAG4181"></a><a id="OLSAG3702"></a>
<div class="props_rev_3"><a id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE"></a>
<h4 id="OLSAG-GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE" class="sect4">SA_UTL.STRICTLY_DOMINATED_BY</h4>
<div>
<p>The <code class="codeph">SA_UTL.STRICTLY_DOMINATED_BY</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code> and is not equal to it.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SA_UTL.STRICTLY_DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER)
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-642FE7F0-B841-4DC3-9051-D19C5AE5E27B">
<p class="titleintable">Table B-11 SA_UTL.STRICTLY_DOMINATED_BY Parameters</p>
<table class="cellalignment3821" title="SA_UTL.STRICTLY_DOMINATED_BY Parameters" summary="OLS_DOMINATES Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e2127">Parameter</th>
<th class="cellalignment3823" id="d54842e2130">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e2135" headers="d54842e2127">
<p><code class="codeph">label1</code></p>
</td>
<td class="cellalignment3825" headers="d54842e2135 d54842e2130">
<p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e2152" headers="d54842e2127">
<p><code class="codeph">label2</code></p>
</td>
<td class="cellalignment3825" headers="d54842e2152 d54842e2130">
<p>The second label to check</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.</p>
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.STRICTLY_DOMINATED_BY(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;Label 1111 is strictly dominated by label 1112.&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;Label 1112 is strictly dominated by label 1111.&#39;); 
 END IF; 
END;
/

Label 1111 is strictly dominated by label 1112.
</pre>
<div class="infobox-note" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-7E6CDFDE-161E-4F02-9125-A1FCADA73278">
<p class="notep1">See Also::</p>
<p><a href="worklabel.htm#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" title="Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.">Determination of the Upper and Lower Bounds of Labels</a>.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OLSAG3677"></a>
<div class="props_rev_3"><a id="GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8"></a>
<h2 id="OLSAG-GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" class="sect2">Queries for Audited Oracle Label Security Session Labels</h2>
<div>
<p>You can use the unified audit trail to capture information from various audit sources, including Oracle Label Security.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="appxa.htm#GUID-1FF304B3-4701-49AA-8D1C-42C02620243A" title="You must configure OLS auditing by creating unified audit policies.">About Queries for Auditing Oracle Label Security Session Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-5205C294-237E-474B-8CDC-EAB7DDB24298" title="The ORA_GET_AUDITED_LABEL function returns the audited session label for the specified OLS policy and APPLICATION_CONTEXTS column value.">ORA_GET_AUDITED_LABEL Function</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A"></a>
<h3 id="OLSAG-GUID-1FF304B3-4701-49AA-8D1C-42C02620243A" class="sect3">About Queries for Auditing Oracle Label Security Session Labels</h3>
<div>
<p>You must configure OLS auditing by creating unified audit policies.</p>
<p>OLS auditing enables you to audit additional events such as enabling and disabling of OLS policies.</p>
<p>The session labels that the audit trail captures are stored in the <code class="codeph">APPLICATION_CONTEXTS</code> column of the <code class="codeph">UNIFIED_AUDIT_TRAIL</code> view. You can use the <code class="codeph">LBACSYS.ORA_GET_AUDITED_LABEL</code> function to retrieve session labels that are stored in the <code class="codeph">APPLICATION_CONTEXTS</code> column. This function accepts the <code class="codeph">UNIFIED_AUDIT_TRAIL.APPLICATION_CONTEXTS</code> column value, and the Oracle Label Security policy name as arguments, and then returns the session label that is stored in the column for the specified policy.</p>
<p>See <a class="olink DBSEG454" target="_blank" href="../DBSEG/audit_config.htm#DBSEG454"><span class="italic">Oracle Database Security Guide</span></a> for detailed information about configuring and using OLS auditing in a unified audit trail.</p>
</div>
</div>
<a id="OLSAG3808"></a><a id="OLSAG4182"></a><a id="OLSAG4183"></a><a id="OLSAG4184"></a><a id="OLSAG3678"></a>
<div class="props_rev_3"><a id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298"></a>
<h3 id="OLSAG-GUID-5205C294-237E-474B-8CDC-EAB7DDB24298" class="sect3">ORA_GET_AUDITED_LABEL Function</h3>
<div>
<p>The <code class="codeph">ORA_GET_AUDITED_LABEL</code> function returns the audited session label for the specified OLS policy and <code class="codeph">APPLICATION_CONTEXTS</code> column value.</p>
<div class="section">
<p>The <code class="codeph">AUDIT_VIEWER</code> role has <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">ORA_GET_AUDITED_LABEL</code> function.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">ORA_GET_AUDITED_LABEL (
  appctx_col_value   IN VARCHAR2,
  ols_policy_name    IN VARCHAR2)
RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-22B86EA2-7BCB-45CC-B7AB-E92033193EB4">
<p class="titleintable">Table B-12 ORA_GET_AUDITED_LABEL Parameters</p>
<table class="cellalignment3821" title="ORA_GET_AUDITED_LABEL Parameters" summary="ORA_GET_AUDITED_LABEL Parameters. Columns are Parameter and Description.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3822" id="d54842e2401">Parameter</th>
<th class="cellalignment3823" id="d54842e2404">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e2409" headers="d54842e2401">
<p><code class="codeph">appctx_col_value</code></p>
</td>
<td class="cellalignment3825" headers="d54842e2409 d54842e2404">
<p>Value in the <code class="codeph">UNIFIED_AUDIT_TRAIL.APPLICATION_CONTEXTS</code> column</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3824" id="d54842e2420" headers="d54842e2401">
<p><code class="codeph">policy_name</code></p>
</td>
<td class="cellalignment3825" headers="d54842e2420 d54842e2404">
<p>The label security policy name</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example returns the audited session label for the <code class="codeph">hr_ols_pol</code> policy.</p>
<pre dir="ltr">SELECT ORA_GET_AUDITED_LABEL (&#39;cust_ctx&#39;, &#39;hr_ols_pol&#39;) FROM DUAL;

ORA_GET_AUDITED_LABEL(&#39;X&#39;,&#39;HR_OLS_POL&#39;)
---------------------------------------
                                     HS
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<a id="OLSAG106"></a>
<div class="props_rev_3"><a id="GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63"></a>
<h2 id="OLSAG-GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" class="sect2">Oracle Call Interface for Setting Session Labels</h2>
<div>
<p>You can use an Oracle Call Interface (OCI) to set session labels.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="appxa.htm#GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5" title="When you connect using Oracle Call Interface (OCI), you can use the SYS_CONTEXT variables to initialize the session label and the row label.">About Using the Oracle Call Interface to Set Session Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-2D9081FE-EBF0-4E35-9680-44C96576D522" title="You can use the Oracle Call Interface to set the session labels.">Using the Oracle Call Interface to Set Session Labels</a></p>
</li>
<li>
<p><a href="appxa.htm#GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4" title="You can create an OCI call that uses an externalized SYS_CONTEXT function with Oracle Label Security.">Example: Using Oracle Call Interface with the SYS_CONTEXT Function</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5"></a>
<h3 id="OLSAG-GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5" class="sect3">About Using the Oracle Call Interface to Set Session Labels</h3>
<div>
<p>When you connect using Oracle Call Interface (OCI), you can use the <code class="codeph">SYS_CONTEXT</code> variables to initialize the session label and the row label.</p>
<p>You can set the variables using the <code class="codeph">OCIAttrSet</code> function to initialize <span class="italic">externally initialized</span> <code class="codeph">SYS_CONTEXT</code> variables. These are available when Oracle Label Security is enabled.</p>
<p>Each policy has a <code class="codeph">SYS_CONTEXT</code> named <code class="codeph">SA$</code><span class="italic"><code class="codeph">policy_name</code></span><code class="codeph">_X</code>. You can set these two variables, <code class="codeph">INITIAL_LABEL</code> and <code class="codeph">INITIAL_ROW_LABEL</code>.</p>
<p>When the new values are set to valid labels within the user&#39;s authorizations, they will be used instead of the default values stored for the user. This is the same mechanism used for remote connections.</p>
<div class="infoboxnotealso" id="GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5__GUID-8786F842-1BD7-4294-9130-EE5653480060">
<p class="notep1">See Also:</p>
<p><a href="multiple.htm#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="You should understand the special considerations for using Oracle Label Security in a distributed configuration.">Using Oracle Label Security with a Distributed Database</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-2D9081FE-EBF0-4E35-9680-44C96576D522"></a>
<h3 id="OLSAG-GUID-2D9081FE-EBF0-4E35-9680-44C96576D522" class="sect3">Using the Oracle Call Interface to Set Session Labels</h3>
<div>
<p>You can use the Oracle Call Interface to set the session labels.</p>
<ol>
<li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet</code> with <code class="codeph">OCI_ATTR_APPCTX_SIZE</code> to initialize the context array size with the desired number of context attributes:</span>
<div>
<pre dir="ltr">OCIAttrSet(session, OCI_HTYPE_SESSION, 
                 (dvoid *)&amp;size, (ub4)0, OCI_ATTR_APPCTX_SIZE, error_handle); 
 
</pre>
<p>This defines additional attributes for <code class="codeph">OCIAttrSet</code>.</p>
<p>Note that the size is <code class="codeph">ub4</code> type.</p>
</div>
</li>
<li class="stepexpand"><span>Call <code class="codeph">OCIAttrGet</code> with <code class="codeph">OCI_ATTR_APPCTX_LIST</code> to get a handle on the application context list descriptor for the session:</span>
<div>
<pre dir="ltr">OCIAttrGet(session, OCI_HTYPE_SESSION, 
               (dvoid *)&amp;ctxl_desc, (ub4)0, OCI_ATTR_APPCTX_LIST, error_handle);
</pre>
<p>Note that <code class="codeph">ctxl_desc</code> is (<code class="codeph">OCIParam *</code>) type.</p>
</div>
</li>
<li class="stepexpand"><span>Call <code class="codeph">OCIParamGet</code> with the application context list descriptor to obtain an individual descriptor for the i-<span class="italic">th</span> application context:</span>
<div>
<pre dir="ltr">OCIParamGet(ctxl_desc, OCI_DTYPE_PARAM, error_handle,(dvoid **)&amp;ctx_desc, i);  
</pre>
<p>Note that <code class="codeph">ctx_desc</code> is (<code class="codeph">OCIParam *</code>) type.</p>
</div>
</li>
<li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet</code> with each of the three new attributes, <code class="codeph">OCI_ATTR_APPCTX_NAME</code>, <code class="codeph">OCI_ATTR_APPCTX_ATTR</code>, and <code class="codeph">OCI_ATTR_APPCTX_VALUE</code>, to set the proper values in the application context:</span>
<div>
<pre dir="ltr">OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
                 (dvoid *)ctx_name, sizeof(ctx_name), OCI_ATTR_APPCTX_NAME,
                 error_handle);  

OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
                 (dvoid *)attr_name, sizeof(attr_name), OCI_ATTR_APPCTX_ATTR,
                 error_handle);  

OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
                 (dvoid *)value, sizeof(value), OCI_ATTR_APPCTX_VALUE,
                 error_handle);  
</pre>
<p>Note that only character type is supported, because application context operations are based on the <code class="codeph">VARCHAR2</code> type.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="OLSAG3811"></a><a id="OLSAG3501"></a>
<div class="props_rev_3"><a id="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4"></a>
<h3 id="OLSAG-GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4" class="sect3">Example: Using Oracle Call Interface with the SYS_CONTEXT Function</h3>
<div>
<p>You can create an OCI call that uses an externalized <code class="codeph">SYS_CONTEXT</code> function with Oracle Label Security.</p>
<p><a href="appxa.htm#GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4__CDEECEAF">Example B-1</a> shows how to accomplish this.</p>
<div class="example" id="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4__CDEECEAF">
<p class="titleinexample">Example B-1 Using OCI to Externalize SYS_CONTEXT with OLS</p>
<pre dir="ltr">#ifdef RCSID
static char *RCSid =
   &#34;$Header: ext_mls.c 09-may-00.10:07:08 jdoe Exp $ &#34;;
#endif /* RCSID */

/* Copyright (c) Oracle Corporation 1999, 2000. All Rights Reserved. */

/*

   NAME
ext_mls.c - externalized SYS_CONTEXT with Label Security

   DESCRIPTION
Run olsdemo.sql script before executing this example.
Usage: &lt;executable obtained with .c file&gt; &lt;user_name&gt; &lt;password&gt; &lt;session-initial-label
Example: avg_sal sa_demo sa_demo L3:M,E:D10

   PUBLIC FUNCTION(S)
&lt;list of external functions declared/defined - with one-line descriptions&gt;

   PRIVATE FUNCTION(S)
&lt;list of static functions defined in .c file - with one-line descriptions&gt;

   RETURNS
The average salary in the EMP table of the SA_DEMO schema querying as the specified user with the specified session label.

   NOTES
&lt;other useful comments, qualifications, and so on&gt;

   MODIFIED   (MM/DD/YY)
jlev      09/18/03 - cleanup
jdoe      05/09/00 - cleanup
   jdoe      10/13/99 - standalone OCI program to test MLS SYS_CONTEXT
   jdoe      10/13/99 - Creation

*/
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;oci.h&gt;

static OCIEnv *envhp;
static OCIError *errhp;

int main(/*_ int argc, char *argv[] _*/);

/* get and print error */
static void checkerr(/*_OCIError *errhp, sword status _*/);
/* print error */
static void printerr(char *call);
static sword status;

/* return the average of employees&#39; salary */
static CONST text *const selectstmt = (text *)
     &#34;select avg(sal) from sa_demo.emp&#34;;
 
int main(argc, argv)
int argc;
char *argv[];
{
  OCISession *authp = (OCISession *) 0;
  OCIServer *srvhp;
  OCISvcCtx *svchp;
  OCIDefine *defnp = (OCIDefine *) 0;
  dvoid *parmdp;
  ub4 ctxsize;
  OCIParam *ctxldesc;
  OCIParam *ctxedesc;
  OCIStmt *stmtp = (OCIStmt *) 0;
  ub4 avg_sal = 0;
  sword status;

  if (OCIInitialize((ub4) OCI_DEFAULT, (dvoid *) 0,
                    (dvoid * (*)(dvoid *, size_t)) 0,
                    (dvoid * (*)(dvoid *, dvoid *, size_t)) 0,
                    (void (*)(dvoid *, dvoid *)) 0))
    printerr(&#34;OCIInitialize&#34;);

  if (OCIEnvInit((OCIEnv **) &amp;envhp, OCI_DEFAULT, (size_t) 0, (dvoid **) 0))
    printerr(&#34;OCIEnvInit&#34;);
  
  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;errhp, OCI_HTYPE_ERROR,
                     (size_t) 0, (dvoid **) 0))
    printerr(&#34;OCIHandleAlloc:OCI_HTYPE_ERROR&#34;);

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;srvhp, OCI_HTYPE_SERVER,
                     (size_t) 0, (dvoid **) 0))
    printerr(&#34;OCIHandleAlloc:OCI_HTYPE_SERVER&#34;);

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;svchp, OCI_HTYPE_SVCCTX,
                     (size_t) 0, (dvoid **) 0))
    printerr(&#34;OCIHandleAlloc:OCI_HTYPE_SVCCTX&#34;);

  if (OCIServerAttach(srvhp, errhp, (text *) &#34;&#34;, strlen(&#34;&#34;), 0))
    printerr(&#34;OCIServerAttach&#34;);

  /* set attribute server context in the service context */
  if (OCIAttrSet((dvoid *) svchp, OCI_HTYPE_SVCCTX, (dvoid *) srvhp,
                 (ub4) 0, OCI_ATTR_SERVER, (OCIError *) errhp))
    printerr(&#34;OCIAttrSet:OCI_HTYPE_SVCCTX&#34;);

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;authp,
                     (ub4) OCI_HTYPE_SESSION, (size_t) 0, (dvoid **) 0))
    printerr(&#34;OCIHandleAlloc:OCI_HTYPE_SESSION&#34;);

  /* set application context to 1 */
  ctxsize = 1;

  /* set up app ctx buffer */
  if (OCIAttrSet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION, (dvoid *) &amp;ctxsize,
                 (ub4) 0, (ub4) OCI_ATTR_APPCTX_SIZE, errhp))
    printerr(&#34;OCIAttrSet:OCI_ATTR_APPCTX_SIZE&#34;);

  /* retrieve the list descriptor */
  if (OCIAttrGet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION,
                 (dvoid *) &amp;ctxldesc, 0, OCI_ATTR_APPCTX_LIST, errhp))
    printerr(&#34;OCIAttrGet:OCI_ATTR_APPCTX_LIST&#34;);

  if (status = OCIParamGet(ctxldesc, OCI_DTYPE_PARAM, errhp,
                           (dvoid **) &amp;ctxedesc, 1))
    {
      if (status == OCI_NO_DATA)
        {
          printf(&#34;No Data found!\n&#34;);
          exit(1);
        }
    }

  /* set context namespace to SA$&lt;pol_name&gt;_X */
  if (OCIAttrSet((dvoid *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (dvoid *) &#34;SA$HUMAN_RESOURCES_X&#34;,
                 (ub4) strlen((char *) &#34;SA$HUMAN_RESOURCES_X&#34;),
                 (ub4) OCI_ATTR_APPCTX_NAME, errhp))
    printerr(&#34;OCIAttrSet:OCI_ATTR_APPCTX_NAME:SA$HUMAN_RESOURCES_X&#34;);

  /* set context attribute to INITIAL_LABEL */
  if (OCIAttrSet((dvoid *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (dvoid *) &#34;INITIAL_LABEL&#34;,
                 (ub4) strlen((char *) &#34;INITIAL_LABEL&#34;),
                 (ub4) OCI_ATTR_APPCTX_ATTR, errhp))
    printerr(&#34;OCIAttrSet:OCI_DTYPE_PARAM:INITIAL_LABEL&#34;);

  /* set context value to argv[3] - initial label */
  if (OCIAttrSet((dvoid *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (dvoid *) argv[3],
                 (ub4) strlen((char *) argv[3]),
                 (ub4) OCI_ATTR_APPCTX_VALUE, errhp))
    printerr(&#34;OCIAttrSet:argv[3]&#34;);

  /* username first command line argument */
  if (OCIAttrSet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION, (dvoid *) argv[1],
                 (ub4) strlen((char *) argv[1]), (ub4) OCI_ATTR_USERNAME,
                 errhp))
    printerr(&#34;OCIAttrSet:username&#34;);

  /* password second command line argument */
  if (OCIAttrSet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION, (dvoid *) argv[2],
                 (ub4) strlen((char *) argv[2]), (ub4) OCI_ATTR_PASSWORD,
                 errhp))
    printerr(&#34;OCIAttrSet:password&#34;);

  if (OCISessionBegin(svchp, errhp, authp, OCI_CRED_RDBMS, (ub4) OCI_DEFAULT))
    printerr(&#34;OCISessionBegin&#34;);

  if (OCIAttrSet((dvoid *) svchp, (ub4) OCI_HTYPE_SVCCTX, (dvoid *) authp,
                 (ub4) 0, (ub4) OCI_ATTR_SESSION, errhp))
    printerr(&#34;OCIAttrSet:OCI_ATTR_SESSION&#34;);

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;stmtp, OCI_HTYPE_STMT,
                     0, 0))
    printerr(&#34;OCIHandleAlloc:OCI_HTYPE_STMT&#34;);

  if (OCIStmtPrepare(stmtp, errhp, (CONST OraText *) selectstmt,
                     (ub4) strlen((const char *) selectstmt),
                     (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT))
    printerr(&#34;OCIStmtPrepare&#34;);

  if (OCIDefineByPos(stmtp, &amp;defnp, errhp, (ub4) 1, (dvoid *) &amp;avg_sal,
                     (sb4) sizeof(avg_sal), SQLT_INT, 0, 0, 0, OCI_DEFAULT))
    printerr(&#34;OCIDefineByPos&#34;);

  if (status = OCIStmtExecute(svchp, stmtp, errhp, 1, 0, NULL, NULL,
                              OCI_DEFAULT))
    {
      if (status == OCI_NO_DATA)
        {
          printf(&#34;No Data found!\n&#34;);
          exit(1);
        }
    }

  if (OCISessionEnd(svchp, errhp, authp, OCI_DEFAULT))
    printerr(&#34;OCISessionEnd&#34;);

  printf(&#34;average salary is: %d\n&#34;, avg_sal);
}

void checkerr(errhp, status)
     OCIError *errhp;
     sword status;
{
  text errbuf[512];
  sb4 errcode = 0;

  switch (status)
    {
    case OCI_ERROR:
      (void) OCIErrorGet((dvoid *) errhp, 1, NULL, &amp;errcode, errbuf,
                         (ub4) sizeof(errbuf), OCI_HTYPE_ERROR);
      printf(&#34;Error - %.*s\n&#34;, 512, errbuf);
      break;
    default:
      break;
    }
}

void printerr(call)
     char *call;
{
  printf(&#34;Error: %s\n&#34;, call);
}
/* end of file ext_mls.c */
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3809">
<tr>
<td class="cellalignment3826">
<table class="cellalignment3814">
<tr>
<td class="cellalignment3813"><a href="config.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3813"><a href="appxb.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3828">
<table class="cellalignment3812">
<tr>
<td class="cellalignment3813"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3813"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3813"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3813"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3813"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3813"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
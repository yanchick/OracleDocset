<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86537"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Working%20with%20Labeled%20Data"></a><title>Working with Labeled Data</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes."/>
<meta name="keywords" content="policies, enforcement options, policy label column, introduction, NUMBER data type, HIDE option, example, HIDE, multiple, labels, valid, label tags, manually defined, partitioning, CHAR_TO_LABEL function, converting from string, LABEL_TO_CHAR function, converting to string, per-table basis, retrieving hidden, using in WHERE clauses, ORDER BY clause, dominance, least upper bound, OLS_LUBD function, OLS_LEAST_UBOUND function, OLS_GLBD function, greatest lower bound, OLS_GREATEST_LBOUND function, MERGE_LABEL function, merging, row labels, LABEL_DEFAULT option, inserting labeled data, inserting, inserting data, labeling functions, LABEL_DEFAULT option, inserting data when hidden, TO_DATA_LABEL function"/>
<meta name="dcterms.created" content="2017-03-14T13:38:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E48437-08"/>
<meta name="dcterms.isVersionOf" content="OLSAG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="getstrtd.htm" title="Previous" type="text/html"/>
<link rel="Next" href="olsoid.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48437-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA"></a> <span id="PAGE" style="display:none;">12/29</span> <!-- End Header -->
<a id="OLSAG019"></a>
<h1 id="OLSAG-GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" class="sect1"><span class="enumeration_chapter">6</span> Working with Labeled Data</h1>
<div>
<p>You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" title="You should understand how policy label columns in a table or schema are created and filled.">How Policy Label Column and Label Tags Work</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241" title="When you retrieve labels, you do not automatically obtain the character string value.">Presenting the Label</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-620518A2-9072-427C-9560-3F9F165F1247" title="When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.">Filtration of Data Using Labels</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
<div class="infobox-note" id="GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA__GUID-8F1D2D1D-D9FB-4FF7-AAB2-693313015F6D">
<p class="notep1">Note:</p>
<p>Many of the examples in this guide use the <code class="codeph">HUMAN_RESOURCES</code> sample policy. Its policy name is <code class="codeph">HR</code> and its policy label column is <code class="codeph">HR_LABEL</code>. Unless otherwise noted, the examples assume that the SQL statements are performed on rows within the user&#39;s authorization and with full Oracle Label Security policy enforcement in effect.</p>
</div>
</li>
</ul>
</div>
<a id="OLSAG020"></a>
<div class="props_rev_3"><a id="GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128"></a>
<h2 id="OLSAG-GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" class="sect2">How Policy Label Column and Label Tags Work</h2>
<div>
<p>You should understand how policy label columns in a table or schema are created and filled.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-79742979-FD64-4C78-ADCF-229D039D6777" title="You should understand how to use policy label columns.">The Policy Label Column</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" title="You can create label tags, either manually or automatically generating them, that define the label components.">Label Tags</a></p>
</li>
</ul>
</div>
<a id="OLSAG3143"></a>
<div class="props_rev_3"><a id="GUID-79742979-FD64-4C78-ADCF-229D039D6777"></a>
<h3 id="OLSAG-GUID-79742979-FD64-4C78-ADCF-229D039D6777" class="sect3">The Policy Label Column</h3>
<div>
<p>You should understand how to use policy label columns.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B" title="Each policy that is applied to a table creates a column in the database.">About the Policy Label Column</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152" title="You can choose not to display the column representing a policy.">Hiding the Policy Label Column</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B"></a>
<h4 id="OLSAG-GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B" class="sect4">About the Policy Label Column</h4>
<div>
<p>Each policy that is applied to a table creates a column in the database.</p>
<p>By default, the data type of the <code class="codeph">NUMBER</code>.</p>
<p>Each row&#39;s label for that policy is represented by a tag in that column, using the numeric equivalent of the character-string label value. The label tag is automatically generated when the label is created, unless the administrator specifies the tag manually at that time.</p>
<p>The automatic label generation follows the rules established by the administrator while defining the label components, as described in <a href="labels.htm#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="You should understand fundamental concepts of data labels and user labels.">Understanding Data Labels and User Labels</a>.</p>
<div class="infobox-note" id="GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B__GUID-0DC50335-4B38-4BE8-8B20-0ABD890B475F">
<p class="notep1">Note:</p>
<p>The act of creating a policy does not in itself have any effect on tables or schemas. It only applies the policy to a table or schema. Refer to these sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="packages.htm#GUID-D60E2279-6A51-496E-99F0-D779C3AE4959" title="The SA_SYSDBA.CREATE_POLICY procedure creates a new Oracle Label Security policy, defines a policy-specific column name, and specifies default policy options.">SA_SYSDBA.CREATE_POLICY</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-5C1F501B-293A-436E-865D-51D34E3D0829" title="The SA_POLICY_ADMIN.APPLY_TABLE_POLICY procedure adds the specified policy to a table.">SA_POLICY_ADMIN.APPLY_TABLE_POLICY</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-D9E721AB-14D0-4086-9C79-6D402349F85A" title="The SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY procedure applies a policy to all of the tables in a schema and enables the policy for these tables.">SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY</a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="OLSAG3776"></a><a id="OLSAG3777"></a><a id="OLSAG3144"></a>
<div class="props_rev_3"><a id="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152"></a>
<h4 id="OLSAG-GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152" class="sect4">Hiding the Policy Label Column</h4>
<div>
<p>You can choose not to display the column representing a policy.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To hide the display of a column, apply the <code class="codeph">HIDE</code> option to the table.</p>
</li>
</ul>
<p>After a policy using <code class="codeph">HIDE</code> is applied to a table, a user executing a <code class="codeph">SELECT *</code> or performing a <code class="codeph">DESCRIBE</code> operation will not see the policy label column. If the policy label column is not hidden, then the label tag is displayed as data type <code class="codeph">NUMBER</code>. Refer to <a href="enforce.htm#GUID-26ABB868-ADB3-44D0-B5A0-3CAF9C5EC627" title="You can specify the HIDE policy configuration option when you add an Oracle Label Security policy column to a table.">How the HIDE Policy Column Option Works</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example 1: Numeric Column Data Type (NUMBER)</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DESCRIBE EMP;
 Name                                      Null?    Type
 ----------------------------------------- -------- --------
 EMPNO                                     NOT NULL NUMBER(4)
 ENAME                                              CHAR(10)
 JOB                                                CHAR(9)
 MGR                                                NUMBER(4)
 SAL                                                NUMBER(7,2)
 DEPTNO                                    NOT NULL NUMBER(2)
 HR_LABEL                                           NUMBER(10)
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152__BEIIGDED">
<p class="subhead3">Example 2: Numeric Column Data Type with Hidden Column</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Notice that in this example, the <code class="codeph">HR_LABEL</code> column is <span class="italic">not</span> displayed.</p>
<pre dir="ltr">DESCRIBE EMP;
 Name                                      Null?    Type
 ----------------------------------------- -------- --------
 EMPNO                                     NOT NULL NUMBER(4)
 ENAME                                              CHAR(10)
 JOB                                                CHAR(9)
 MGR                                                NUMBER(4)
 SAL                                                NUMBER(7,2)
 DEPTNO                                    NOT NULL NUMBER(2)
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<a id="OLSAG3147"></a>
<div class="props_rev_3"><a id="GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07"></a>
<h3 id="OLSAG-GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" class="sect3">Label Tags</h3>
<div>
<p>You can create label tags, either manually or automatically generating them, that define the label components.</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F" title="The administrator first defines a set of label components to be used in a policy.">About Label Tags</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8" title="By manually defining label tags, you can implement a data manipulation strategy that permits labels to be meaningfully sorted and compared.">Manually Defined Label Tags to Order Labels</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-3EFA07B1-6338-46AA-BB10-98274B39C250" title="An administratively defined label tag is a convenient way to reference a complete label string (that is, a combination of label components).">Manually Defined Label Tags to Manipulate Data</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865" title="Dynamically generated label tags have 10 digits, with no relationship to numbers assigned to any label component.">Automatically Generated Label Tags</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F"></a>
<h4 id="OLSAG-GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F" class="sect4">About Label Tags</h4>
<div>
<p>The administrator first defines a set of label components to be used in a policy.</p>
<p>When creating labels, the administrator specifies the set of valid combinations of components that can make up a label, that is, a level optionally combined with one or more groups or compartments.</p>
<p>Each such valid label within a policy is uniquely identified by an associated numeric tag assigned by the administrator or generated automatically upon its first use. Manual definition has the advantage of allowing the administrator to control the ordering of label values when they are sorted or logically compared.</p>
<p>However, label tags must be unique across all policies in the database. When you use multiple policies in a database, you cannot use the same numeric label tag in different policies. Remember that each label tag uniquely identifies one label, and that numeric tag is what is stored in the data rows, not the label&#39;s character-string representation.</p>
</div>
</div>
<a id="OLSAG3149"></a><a id="OLSAG3148"></a>
<div class="props_rev_3"><a id="GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8"></a>
<h4 id="OLSAG-GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8" class="sect4">Manually Defined Label Tags to Order Labels</h4>
<div>
<p>By manually defining label tags, you can implement a data manipulation strategy that permits labels to be meaningfully sorted and compared.</p>
<p>To do this, you must predefine all of the labels to be associated with protected data, and assigns to each label a meaningful label tag value. Manually assigned label tags can have up to eight digits. The value of a label tag must be greater than zero.</p>
<p>It may be advantageous to implement a strategy in which label tag values are related to the numeric values of label components. In this way, you can use the tags to group data rows in a meaningful way. This approach, however, is not mandatory. It is good practice to set tags for labels of higher sensitivity to a higher numeric value than tags for labels of lower sensitivity.</p>
<p><a href="worklabel.htm#GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8__G1014736" title="This table provides example label tags and label strings to aid in the discussion that follows.">Table 6-1</a> illustrates a set of label tags that have been assigned. Notice that, in this example, the administrator has based the label tag value on the numeric form of the levels, compartments, and rows that were discussed in <a href="labels.htm#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="You should understand fundamental concepts of data labels and user labels.">Understanding Data Labels and User Labels</a>.</p>
<div class="tblformal" id="GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8__G1014736">
<p class="titleintable">Table 6-1 Administratively Defined Label Tags (Example)</p>
<table class="cellalignment3821" title="Administratively Defined Label Tags (Example)" summary="This table provides example label tags and label strings to aid in the discussion that follows.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3944" id="d25870e633">Label Tag</th>
<th class="cellalignment3945" id="d25870e636">Label String</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e641" headers="d25870e633">
<p>10000</p>
</td>
<td class="cellalignment3918" headers="d25870e641 d25870e636">
<p>P</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e648" headers="d25870e633">
<p>20000</p>
</td>
<td class="cellalignment3918" headers="d25870e648 d25870e636">
<p>C</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e655" headers="d25870e633">
<p>21000</p>
</td>
<td class="cellalignment3918" headers="d25870e655 d25870e636">
<p>C:FNCL</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e662" headers="d25870e633">
<p>21100</p>
</td>
<td class="cellalignment3918" headers="d25870e662 d25870e636">
<p>C:FNCL,OP</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e669" headers="d25870e633">
<p>30000</p>
</td>
<td class="cellalignment3918" headers="d25870e669 d25870e636">
<p>S</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e676" headers="d25870e633">
<p>31110</p>
</td>
<td class="cellalignment3918" headers="d25870e676 d25870e636">
<p>S:OP:WR</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e683" headers="d25870e633">
<p>40000</p>
</td>
<td class="cellalignment3918" headers="d25870e683 d25870e636">
<p>HS</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e690" headers="d25870e633">
<p>42000</p>
</td>
<td class="cellalignment3918" headers="d25870e690 d25870e636">
<p>HS:OP</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>In this example, labels with a level of <code class="codeph">PUBLIC</code> begin with &#34;1&#34;, labels with a level of <code class="codeph">CONFIDENTIAL</code> begin with &#34;2&#34;, labels with a level of <code class="codeph">SENSITIVE</code> begin with &#34;3&#34;, and labels with a level of <code class="codeph">HIGHLY_SENSITIVE</code> begin with &#34;4&#34;.</p>
<p>Labels with the <code class="codeph">FINANCIAL</code> compartment then come in the 1000 range, labels with the compartment <code class="codeph">OP</code> are in the 1100 range, and so on. The tens place is used to indicate the group <code class="codeph">WR</code>, for example.</p>
<p>Another strategy might be completely based on groups, where the tags might be 3110, 3120, 3130, and so on.</p>
<p>Note, however, that label tags identify the <span class="italic">whole</span> label, independent of the numeric values assigned for the individual label components. The label tag is used as a whole integer, not as a set of individually evaluated numbers.</p>
</div>
</div>
<a id="OLSAG3150"></a>
<div class="props_rev_3"><a id="GUID-3EFA07B1-6338-46AA-BB10-98274B39C250"></a>
<h4 id="OLSAG-GUID-3EFA07B1-6338-46AA-BB10-98274B39C250" class="sect4">Manually Defined Label Tags to Manipulate Data</h4>
<div>
<p>An administratively defined label tag is a convenient way to reference a complete label string (that is, a combination of label components).</p>
<p>As illustrated in <a href="worklabel.htm#GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8__G1014736" title="This table provides example label tags and label strings to aid in the discussion that follows.">Table 6-1</a>, for example, the tag &#34;31110&#34; could stand for the complete label string &#34;S:OP:WR&#34;.</p>
<p>Label tags can be used as a convenient way to partition data. For example, all data with labels in the range 1000 - 1999 could be placed in tablespace A, all data with labels in the range 2000 - 2999 could be placed in tablespace B, and so on.</p>
<p>This simplified notation also comes in handy when there is a finite number of labels and you need to perform various operations upon them. Consider a situation in which one company hosts a human resources system for many other companies. Assume that all users from Company Y have the label &#34;C:ALPHA:CY&#34;, for which the tag &#34;210&#34; has been set. To determine the total number of application users from Company Y, the host administrator can enter:</p>
<pre dir="ltr">SELECT * FROM tab1
  WHERE hr_label = 210;
</pre></div>
</div>
<a id="OLSAG3152"></a><a id="OLSAG3151"></a>
<div class="props_rev_3"><a id="GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865"></a>
<h4 id="OLSAG-GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865" class="sect4">Automatically Generated Label Tags</h4>
<div>
<p>Dynamically generated label tags have 10 digits, with no relationship to numbers assigned to any label component.</p>
<p>You cannot group the data by label.</p>
<p><a href="worklabel.htm#GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865__G1014767" title="This table lists example label tags and associated label strings for use in the discussion that follows.">Table 6-2</a> describes how automatically generated label tags work.</p>
<div class="tblformal" id="GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865__G1014767">
<p class="titleintable">Table 6-2 Generated Label Tags (Example)</p>
<table class="cellalignment3821" title="Generated Label Tags (Example)" summary="This table lists example label tags and associated label strings for use in the discussion that follows.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3944" id="d25870e854">Label Tag</th>
<th class="cellalignment3945" id="d25870e857">Label String</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e862" headers="d25870e854">
<p><code class="codeph">100000020</code></p>
</td>
<td class="cellalignment3918" headers="d25870e862 d25870e857">
<p><code class="codeph">P</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e871" headers="d25870e854">
<p><code class="codeph">100000052</code></p>
</td>
<td class="cellalignment3918" headers="d25870e871 d25870e857">
<p><code class="codeph">C</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e880" headers="d25870e854">
<p><code class="codeph">100000503</code></p>
</td>
<td class="cellalignment3918" headers="d25870e880 d25870e857">
<p><code class="codeph">C:FNCL</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e889" headers="d25870e854">
<p><code class="codeph">100000132</code></p>
</td>
<td class="cellalignment3918" headers="d25870e889 d25870e857">
<p><code class="codeph">C:FNCL,OP</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e898" headers="d25870e854">
<p><code class="codeph">100000003</code></p>
</td>
<td class="cellalignment3918" headers="d25870e898 d25870e857">
<p><code class="codeph">S</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e907" headers="d25870e854">
<p><code class="codeph">100000780</code></p>
</td>
<td class="cellalignment3918" headers="d25870e907 d25870e857">
<p><code class="codeph">S:OP:WR</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e916" headers="d25870e854">
<p><code class="codeph">100000035</code></p>
</td>
<td class="cellalignment3918" headers="d25870e916 d25870e857">
<p><code class="codeph">HS</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3917" id="d25870e925" headers="d25870e854">
<p><code class="codeph">100000036</code></p>
</td>
<td class="cellalignment3918" headers="d25870e925 d25870e857">
<p><code class="codeph">HS:OP</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865__GUID-6B08BE9A-F775-4DFE-BEAA-45ADDB49FF9E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="packages.htm#GUID-844E5214-76ED-47E6-B332-2AB0180753ED" title="The SA_LABEL_ADMIN.CREATE_LABEL procedure creates data labels.">SA_LABEL_ADMIN.CREATE_LABEL</a></p>
</li>
<li>
<p><a href="utilities.htm#GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB" title="For optimal performance, you can plan a strategy for assigning values to label tags.">Label Tag Strategy Plan to Enhance Performance</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="OLSAG021"></a>
<div class="props_rev_3"><a id="GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66"></a>
<h2 id="OLSAG-GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66" class="sect2">Assignments of Labels to Data Rows</h2>
<div>
<p>For existing data rows, labels can be assigned by a labeling function that you create.</p>
<p>In such a function, you specify the exact table and row conditions defining what label to insert. The function can be named in the call to apply a policy to a table or schema, or in an update by the administrator.</p>
<p>For rows that are being inserted, refer to <a href="worklabel.htm#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a>.</p>
<div class="infoboxnotealso" id="GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66__GUID-C2E46F75-85FE-439B-B746-8903A1D1AF6D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="enforce.htm#GUID-EEAEF7F0-9454-4E00-BAB0-D74BB236CD5B" title="Labeling functions can compute and return a label using resources such as context variables (for example, date or username) and data values.">Labeling Functions</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-5C1F501B-293A-436E-865D-51D34E3D0829" title="The SA_POLICY_ADMIN.APPLY_TABLE_POLICY procedure adds the specified policy to a table.">SA_POLICY_ADMIN.APPLY_TABLE_POLICY</a>.</p>
</li>
<li>
<p><a href="packages.htm#GUID-D9E721AB-14D0-4086-9C79-6D402349F85A" title="The SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY procedure applies a policy to all of the tables in a schema and enables the policy for these tables.">SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY</a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="OLSAG022"></a>
<div class="props_rev_3"><a id="GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241"></a>
<h2 id="OLSAG-GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241" class="sect2">Presenting the Label</h2>
<div>
<p>When you retrieve labels, you do not automatically obtain the character string value.</p>
<p>By default, the label tag value is returned. Two label manipulation functions enable you to convert the label tag value to and from its character string representation.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-4C4E227B-6BBA-47A7-B839-CE7893201505" title="The CHAR_TO_LABEL function converts character strings to a label tag, returning the label tag for the specified character string.">Converting a Character String to a Label Tag with CHAR_TO_LABEL</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" title="You can convert label tags to character strings.">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</a></p>
</li>
</ul>
</div>
<a id="OLSAG3153"></a>
<div class="props_rev_3"><a id="GUID-4C4E227B-6BBA-47A7-B839-CE7893201505"></a>
<h3 id="OLSAG-GUID-4C4E227B-6BBA-47A7-B839-CE7893201505" class="sect3">Converting a Character String to a Label Tag with CHAR_TO_LABEL</h3>
<div>
<p>The <code class="codeph">CHAR_TO_LABEL</code> function converts character strings to a label tag, returning the label tag for the specified character string.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To convert a character string to a label tab, use the following syntax for the <code class="codeph">CHAR_TO_LABEL</code> function:</p>
<pre dir="ltr">FUNCTION CHAR_TO_LABEL (
     policy_name     IN VARCHAR2,
     label_string    IN VARCHAR2)
RETURN NUMBER; 

</pre></li>
</ul>
<p>For example:</p>
<pre dir="ltr">INSERT INTO emp (empno,hr_label) 
VALUES (999, CHAR_TO_LABEL(&#39;HR&#39;,&#39;S:A,B:G5&#39;);
</pre>
<p>Here, <code class="codeph">HR</code> is the label policy name, <code class="codeph">S</code> is a sensitivity level, <code class="codeph">A,B</code> compartments, and <code class="codeph">G5</code> a group.</p>
<pre dir="ltr">FUNCTION CHAR_TO_LABEL (
     policy_name     IN VARCHAR2,
     label_string    IN VARCHAR2)
RETURN NUMBER; 

</pre>
<p>Here, <code class="codeph">HR</code> is the label policy name, <code class="codeph">S</code> is a sensitivity level, <code class="codeph">A,B</code> compartments, and <code class="codeph">G5</code> a group.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3154"></a>
<div class="props_rev_3"><a id="GUID-99E3502F-ED31-4A79-8722-E0C680C188F0"></a>
<h3 id="OLSAG-GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" class="sect3">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</h3>
<div>
<p>You can convert label tags to character strings.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733" title="The LABEL_TO_CHAR function returns a VARCHAR2 string when it converts a label tag to a character string.">Converting a Label Tag to a Character String with LABEL_TO_CHAR</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37" title="Oracle provides examples that illustrate the use of LABEL_TO_CHAR.">LABEL_TO_CHAR Examples</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733"></a>
<h4 id="OLSAG-GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733" class="sect4">Converting a Label Tag to a Character String with LABEL_TO_CHAR</h4>
<div>
<p>The <code class="codeph">LABEL_TO_CHAR</code> function returns a <code class="codeph">VARCHAR2</code> string when it converts a label tag to a character string.</p>
<div class="section">
<p>When you query a table or view, you automatically retrieve all of the rows in the table or view that satisfy the qualifications of the query and are dominated by your label. If the policy label column is not hidden, then the label tag value for each row is displayed. You must use the <code class="codeph">LABEL_TO_CHAR</code> function to display the character string value of each label.</p>
<p>Note that all conversions must be explicit. There is no automatic casting to and from tag and character string representations.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To convert a label tag to a character string, use the following syntax for the <code class="codeph">LABEL_TO_CHAR</code> function:</p>
<pre dir="ltr">FUNCTION LABEL_TO_CHAR (
     label IN NUMBER)
RETURN VARCHAR2; 
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3781"></a><a id="OLSAG3782"></a><a id="OLSAG3783"></a><a id="OLSAG3155"></a>
<div class="props_rev_3"><a id="GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37"></a>
<h4 id="OLSAG-GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37" class="sect4">LABEL_TO_CHAR Examples</h4>
<div>
<p>Oracle provides examples that illustrate the use of <code class="codeph">LABEL_TO_CHAR</code>.</p>
<div class="section">
<p class="subhead3">Example: Retrieving a Row Label from a Table or a View</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To retrieve the label of a row from a table or view, specify the <a id="d25870e1404" class="indexterm-anchor"></a>policy label column in the <code class="codeph">SELECT</code> statement.</p>
<p>For example:</p>
<pre dir="ltr">SELECT label_to_char (hr_label) AS label, ename FROM tab1;
  WHERE ename = &#39;RWRIGHT&#39;;
</pre>
<p>This statement returns the following:</p>
<pre dir="ltr">LABEL          ENAME
------------   ----------
S:A,B:G1       RWRIGHT
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example: Retrieving a Policy Label Column</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You can also specify the policy label column in the <code class="codeph">WHERE</code> clause of a <code class="codeph">SELECT</code> statement.</p>
<p>The following statement displays all rows that have the policy label <code class="codeph">S:A,B:G1</code></p>
<pre dir="ltr">SELECT label_to_char (hr_label) AS label,ename FROM emp
  WHERE hr_label = char_to_label (&#39;HR&#39;, &#39;S:A,B:G1&#39;);
</pre>
<p>This statement returns the following:</p>
<pre dir="ltr">LABEL           ENAME
-------------   ---------
S:A,B:G1        RWRIGHT
S:A,B:G1        ESTANTON 
</pre>
<p>Alternatively, you could use a more flexible statement to look up data that contains the string &#34;S:A,B:G1&#34; anywhere in the text of the <code class="codeph">HR_LABEL</code> column:</p>
<pre dir="ltr">SELECT label_to_char (hr_label) AS label,ename FROM emp
  WHERE label_to_char (hr_label) like &#39;%S:A,B:G1%&#39;;
</pre>
<p>If you do not use the <code class="codeph">LABEL_TO_CHAR</code> function, then you will see the label tag.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example: Retrieving a Numeric Column Data Type</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example is with the numeric column data type (<code class="codeph">NUMBER</code>) and dynamically generated label tags, but without using the <code class="codeph">LABEL_TO_CHAR</code> function. If you do not use the <code class="codeph">LABEL_TO_CHAR</code> function, then you will see the label tag.</p>
<pre dir="ltr">SQL&gt; select empno, hr_label from emp
     where ename=&#39;RWRIGHT&#39;;

EMPNO      HR_LABEL
---------- ----------
7839       1000000562
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3160"></a><a id="OLSAG3159"></a>
<div class="props_rev_3"><a id="GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A"></a>
<h4 id="OLSAG-GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A" class="sect4">Retrieving All Columns from a Table When the Policy Label Column Is Hidden</h4>
<div>
<p>If the policy label column is hidden, then it is not automatically returned when you execute <code class="codeph">SELECT *</code> on the table.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To explicitly specify that you want to retrieve a label, use the <code class="codeph">LABEL_TO_CHAR</code> function in the <code class="codeph">SELECT</code> statement.</p>
</li>
</ul>
<p>For example, to retrieve all columns from the <code class="codeph">DEPT</code> table (including the policy label column in its character representation), enter the following:</p>
<pre dir="ltr">COLUMN LABEL FORMAT a10
SELECT LABEL_TO_CHAR (hr_label) AS LABEL, DEPT.* FROM DEPT;
</pre>
<p>Running these SQL statements returns the following data:</p>
<div class="tblformal" id="GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A__GUID-9D61FE90-2017-494F-A108-B57A84DFD2C4">
<p class="titleintable">Table 6-3 Data Returned from Sample SQL Statements re Hidden Column</p>
<table class="cellalignment3821" title="Data Returned from Sample SQL Statements re Hidden Column " summary="This table shows the data returned from the query shown, listing the label, department number, distinguished name, and location.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3886" id="d25870e1560">LABEL</th>
<th class="cellalignment3886" id="d25870e1563">DEPTNO</th>
<th class="cellalignment3836" id="d25870e1566">DNAME</th>
<th class="cellalignment3946" id="d25870e1569">LOC</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3888" id="d25870e1574" headers="d25870e1560">
<p><code class="codeph">L1</code></p>
</td>
<td class="cellalignment3888" headers="d25870e1574 d25870e1563">
<p><code class="codeph">10</code></p>
</td>
<td class="cellalignment3842" headers="d25870e1574 d25870e1566">
<p><code class="codeph">ACCOUNTING</code></p>
</td>
<td class="cellalignment3947" headers="d25870e1574 d25870e1569">
<p><code class="codeph">NEW YORK</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3888" id="d25870e1591" headers="d25870e1560">
<p><code class="codeph">L1</code></p>
</td>
<td class="cellalignment3888" headers="d25870e1591 d25870e1563">
<p><code class="codeph">20</code></p>
</td>
<td class="cellalignment3842" headers="d25870e1591 d25870e1566">
<p><code class="codeph">RESEARCH</code></p>
</td>
<td class="cellalignment3947" headers="d25870e1591 d25870e1569">
<p><code class="codeph">DALLAS</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3888" id="d25870e1608" headers="d25870e1560">
<p><code class="codeph">L1</code></p>
</td>
<td class="cellalignment3888" headers="d25870e1608 d25870e1563">
<p><code class="codeph">30</code></p>
</td>
<td class="cellalignment3842" headers="d25870e1608 d25870e1566">
<p><code class="codeph">SALES</code></p>
</td>
<td class="cellalignment3947" headers="d25870e1608 d25870e1569">
<p><code class="codeph">CHICAGO</code></p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3888" id="d25870e1625" headers="d25870e1560">
<p><code class="codeph">L1</code></p>
</td>
<td class="cellalignment3888" headers="d25870e1625 d25870e1563">
<p><code class="codeph">40</code></p>
</td>
<td class="cellalignment3842" headers="d25870e1625 d25870e1566">
<p><code class="codeph">OPERATIONS</code></p>
</td>
<td class="cellalignment3947" headers="d25870e1625 d25870e1569">
<p><code class="codeph">BOSTON</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>By contrast, if you do not explicitly specify the <code class="codeph">HR_LABEL</code> column, the label is not displayed at all. Note that while the policy column name is on a policy basis, the <code class="codeph">HIDE</code> option is on a table-by-table basis.</p>
<div class="infoboxnotealso" id="GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A__GUID-5551F978-EBF2-40C5-84A8-6BBB68DB8523">
<p class="notep1">See Also:</p>
<p><a href="enforce.htm#GUID-26ABB868-ADB3-44D0-B5A0-3CAF9C5EC627" title="You can specify the HIDE policy configuration option when you add an Oracle Label Security policy column to a table.">How the HIDE Policy Column Option Works</a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="OLSAG023"></a>
<div class="props_rev_3"><a id="GUID-620518A2-9072-427C-9560-3F9F165F1247"></a>
<h2 id="OLSAG-GUID-620518A2-9072-427C-9560-3F9F165F1247" class="sect2">Filtration of Data Using Labels</h2>
<div>
<p>When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.</p>
<p>These create and apply procedures are discussed in <a href="packages.htm#GUID-5A1345FF-404B-468E-A5EA-792511E386DB" title="The SA_POLICY_ADMIN PL/SQL package manages Oracle Label Security policies as a whole.">SA_POLICY_ADMIN Policy Administration PL/SQL Package</a>.</p>
<p>For <code class="codeph">SELECT</code> statements, the policy filters the data rows that the user is authorized to see. For <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> statements, Oracle Label Security permits or denies the requested operation, based on the user&#39;s authorizations.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E" title="There are different techniques of using numeric label tags in WHERE clauses of SELECT statements.">Use of Numeric Label Tags in WHERE Clauses</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" title="The ORDER BY clause of a SELECT statement can be used to order rows by the numeric label tag.">Ordering Labeled Data Rows</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-49361ADF-A62F-412D-A59D-0226C069ECEC" title="The LABEL_TO_CHAR function orders data rows by the character representation of the label.">Ordering by Character Representation of Label</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" title="Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.">Determination of the Upper and Lower Bounds of Labels</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C" title="The MERGE_LABEL function merges two labels together.">Merging Labels with the MERGE_LABEL Function</a></p>
<div class="infoboxnotealso" id="GUID-620518A2-9072-427C-9560-3F9F165F1247__GUID-DDF6A4F2-393E-44AD-9ECE-36C6ED8686CA">
<p class="notep1">See Also:</p>
<p><a href="utilities.htm#GUID-EA5143CF-C4A3-48E8-B7E8-6B379C7756ED" title="Using a numeric ordering strategy with the numeric label tags applied to the labels can a basis for Oracle Database data partitioning.">Partitioned Data Based on Numeric Label Tags</a></p>
</div>
</li>
</ul>
</div>
<a id="OLSAG3161"></a>
<div class="props_rev_3"><a id="GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E"></a>
<h3 id="OLSAG-GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E" class="sect3">Use of Numeric Label Tags in WHERE Clauses</h3>
<div>
<p>There are different techniques of using numeric label tags in <code class="codeph">WHERE</code> clauses of <code class="codeph">SELECT</code> statements.</p>
<p>When using labels in the <code class="codeph">NUMBER</code> format, you can set up labels so that a list of your label tags distinguishes the different levels. Comparisons of these numeric label tags can be used for <code class="codeph">ORDER BY</code> processing, and with the logical operators.</p>
<p>For example, if you have assigned all <code class="codeph">UNCLASSIFIED</code> labels to the 1000 range, all <code class="codeph">SENSITIVE</code> labels to the 2000 range, and all <code class="codeph">HIGHLY_SENSITIVE</code> labels to the 3000 range, then you can list all <code class="codeph">SENSITIVE</code> records.</p>
<pre dir="ltr">SELECT * FROM emp
WHERE hr_label BETWEEN 2000 AND 2999;
</pre>
<p>To list all <code class="codeph">SENSITIVE</code> and <code class="codeph">UNCLASSIFIED</code> records, you can enter:</p>
<pre dir="ltr">SELECT * FROM emp
WHERE hr_label &lt;3000;
</pre>
<p>To list all <code class="codeph">HIGHLY_SENSITIVE</code> records, you can enter:</p>
<pre dir="ltr">SELECT * FROM emp
WHERE hr_label=3000;
</pre>
<div class="infobox-note" id="GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E__GUID-D3E4FAAE-5907-46A5-9FF5-B58753DD2024">
<p class="notep1">Note:</p>
<p>Remember that such queries have meaning only if the administrator has applied a numeric ordering strategy to the label tags that he or she originally assigned to the labels. In this way, the administrator can provide for convenient dissemination of data. If, however, the label tag values are generated automatically, then there is no intrinsic relationship between the value of the tag and the order of the labels.</p>
</div>
<p>Alternatively, you can use dominance relationships to set up an ordering strategy.</p>
<div class="infoboxnotealso" id="GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E__GUID-CC676831-A934-4FC1-974E-5B68B9EA2311">
<p class="notep1">See Also:</p>
<p><a href="appxa.htm#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
</div>
</div>
</div>
<a id="OLSAG3162"></a>
<div class="props_rev_3"><a id="GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93"></a>
<h3 id="OLSAG-GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" class="sect3">Ordering Labeled Data Rows</h3>
<div>
<p>The <code class="codeph">ORDER BY</code> clause of a <code class="codeph">SELECT</code> statement can be used to order rows by the numeric label tag.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To perform the <code class="codeph">ORDER BY</code> operation, use a <code class="codeph">SELECT</code> statement similar to the following:</p>
<pre dir="ltr">SELECT * from emp
ORDER BY hr_label;
</pre></li>
</ul>
<p>Notice that no functions were necessary in this statement. The statement made use of label tags set up by the administrator.</p>
<div class="infobox-note" id="GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93__GUID-6FF73DF3-62BB-4BBD-B09C-554E5CF43482">
<p class="notep1">Note:</p>
<p>Again, such queries have meaning only if the administrator has applied a numeric ordering strategy to the label tags originally assigned to the labels.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3163"></a>
<div class="props_rev_3"><a id="GUID-49361ADF-A62F-412D-A59D-0226C069ECEC"></a>
<h3 id="OLSAG-GUID-49361ADF-A62F-412D-A59D-0226C069ECEC" class="sect3">Ordering by Character Representation of Label</h3>
<div>
<p>The <code class="codeph">LABEL_TO_CHAR</code> function orders data rows by the character representation of the label.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To order data rows by the character representation of a label, use a statement similar to the following, which returns all rows sorted by the text order of the label :</p>
<pre dir="ltr">SELECT * FROM emp
ORDER BY label_to_char (hr_label);
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3164"></a>
<div class="props_rev_3"><a id="GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35"></a>
<h3 id="OLSAG-GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" class="sect3">Determination of the Upper and Lower Bounds of Labels</h3>
<div>
<p>Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.</p>
<p>Two single-row functions operate on each row returned by a query. They return one result for each row.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-041219B9-A9BC-449E-828C-627E167F3785" title="The OLS_LEAST_UBOUND (OLS_LUBD) function returns a character string label that is the least upper bound of label1 and label2:.">Finding Least Upper Bound with LEAST_UBOUND</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-EF496648-2E08-4B63-9047-B0436274E77E" title="The OLS_GREATEST_LBOUND (OLS_GLBD) standalone function determines the lowest label of the data that can be involved in an operation, given two different labels.">Finding Greatest Lower Bound with GREATEST_LBOUND</a></p>
<div class="infobox-note" id="GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35__GUID-46A96F5D-7A09-45B1-A44D-ABCE9B9B9ACD">
<p class="notep1">Note:</p>
<p>In all functions that take multiple labels, the labels must all belong to the same policy.</p>
</div>
</li>
</ul>
</div>
<a id="OLSAG3685"></a><a id="OLSAG3165"></a>
<div class="props_rev_3"><a id="GUID-041219B9-A9BC-449E-828C-627E167F3785"></a>
<h4 id="OLSAG-GUID-041219B9-A9BC-449E-828C-627E167F3785" class="sect4">Finding Least Upper Bound with LEAST_UBOUND</h4>
<div>
<p>The <code class="codeph">OLS_LEAST_UBOUND</code> (<code class="codeph">OLS_LUBD</code>) function returns a character string label that is the least upper bound of <span class="italic"><code class="codeph">label1</code></span> and <span class="italic"><code class="codeph">label2:</code></span>.</p>
<div class="section">
<p>That is, the one label that dominates both. The least upper bound is the highest level, the union of the compartments in the labels, and the union of the groups in the labels.</p>
<p>For example, the least upper bound of <code class="codeph">HIGHLY_SENSITIVE:ALPHA</code> and <code class="codeph">SENSITIVE:BETA</code> is <code class="codeph">HIGHLY_SENSITIVE:ALPHA,BETA.</code></p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To find the least upper bound, use the following syntax:</p>
<pre dir="ltr">FUNCTION OLS_LEAST_UBOUND (
     label1                    IN NUMBER,
     label2                    IN NUMBER) 
RETURN VARCHAR2; 
</pre></li>
</ul>
<p>The <code class="codeph">OLS_LEAST_UBOUND</code> function is useful when joining rows with different labels, because it provides a high water mark label for joined rows.</p>
<p>The following query compares each employee&#39;s label with the label of his or her department, and returns the higher label, whether it be in the EMP table or the DEPT table.</p>
<pre dir="ltr">SELECT ename,dept.deptno, 
  OLS_LEAST_UBOUND(emp.hr_label,dept.hr_label) as label
  FROM emp, dept
  WHERE emp.deptno=dept.deptno;
</pre>
<p>This query returns the following data:</p>
<div class="tblformal" id="GUID-041219B9-A9BC-449E-828C-627E167F3785__GUID-29F09980-B199-4081-814E-65645C2FBAE5">
<p class="titleintable">Table 6-4 Data Returned from Sample SQL Statements re Least_UBound</p>
<table class="cellalignment3821" title="Data Returned from Sample SQL Statements re Least_UBound " summary="This table lists the rows returned from the query, showing each row&rsquo;s employee name, department number, and label.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3939" id="d25870e2223">ENAME</th>
<th class="cellalignment3939" id="d25870e2226">DEPTNO</th>
<th class="cellalignment3939" id="d25870e2229">LABEL</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3940" id="d25870e2234" headers="d25870e2223">
<p><code class="codeph">KING</code></p>
</td>
<td class="cellalignment3940" headers="d25870e2234 d25870e2226">
<p>10</p>
</td>
<td class="cellalignment3940" headers="d25870e2234 d25870e2229">
<p>L3:M:D10</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3940" id="d25870e2245" headers="d25870e2223">
<p><code class="codeph">BLAKE</code></p>
</td>
<td class="cellalignment3940" headers="d25870e2245 d25870e2226">
<p>30</p>
</td>
<td class="cellalignment3940" headers="d25870e2245 d25870e2229">
<p>L3:M:D30</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3940" id="d25870e2256" headers="d25870e2223">
<p><code class="codeph">CLARK</code></p>
</td>
<td class="cellalignment3940" headers="d25870e2256 d25870e2226">
<p>10</p>
</td>
<td class="cellalignment3940" headers="d25870e2256 d25870e2229">
<p>L3:M:D10</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3940" id="d25870e2267" headers="d25870e2223">
<p><code class="codeph">JONES</code></p>
</td>
<td class="cellalignment3940" headers="d25870e2267 d25870e2226">
<p>20</p>
</td>
<td class="cellalignment3940" headers="d25870e2267 d25870e2229">
<p>L3:M:D20</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3940" id="d25870e2278" headers="d25870e2223">
<p><code class="codeph">MARTIN</code></p>
</td>
<td class="cellalignment3940" headers="d25870e2278 d25870e2226">
<p>30</p>
</td>
<td class="cellalignment3940" headers="d25870e2278 d25870e2229">
<p>L2:E:D30</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infobox-note" id="GUID-041219B9-A9BC-449E-828C-627E167F3785__GUID-78EC4B49-84E7-4E14-9E5C-47DF53BC13C6">
<p class="notep1">Note:</p>
<p>The old OLS functions, <code class="codeph">LEAST_UBOUND</code> and <code class="codeph">LUBD</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_LEAST_UBOUND</code> and <code class="codeph">OLS_LUBD</code> functions instead. Using the new function names avoids potential name conflicts with other database components.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3167"></a>
<div class="props_rev_3"><a id="GUID-EF496648-2E08-4B63-9047-B0436274E77E"></a>
<h4 id="OLSAG-GUID-EF496648-2E08-4B63-9047-B0436274E77E" class="sect4">Finding Greatest Lower Bound with GREATEST_LBOUND</h4>
<div>
<p>The <code class="codeph">OLS_GREATEST_LBOUND</code> (<code class="codeph">OLS_GLBD</code>) standalone function determines the lowest label of the data that can be involved in an operation, given two different labels.</p>
<div class="section">
<p>This function returns a character string label that is the greatest lower bound of <span class="italic"><code class="codeph">label1</code></span> and <span class="italic"><code class="codeph">label2.</code></span> The greatest lower bound is the lowest level, the intersection of the compartments in the labels and the groups in the labels. For example, the greatest lower bound of <code class="codeph">HIGHLY_SENSITIVE:ALPHA</code> and <code class="codeph">SENSITIVE</code> is <code class="codeph">SENSITIVE.</code></p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To find the greatest lower bound, use the following syntax:</p>
<pre dir="ltr">FUNCTION OLS_GREATEST_LBOUND (
     label1                  IN NUMBER,
     label2                  IN NUMBER) 
RETURN VARCHAR2; 
</pre></li>
</ul>
<div class="infobox-note" id="GUID-EF496648-2E08-4B63-9047-B0436274E77E__GUID-22B8A8B2-A3E2-436B-8682-BEAA81AD1403">
<p class="notep1">Note:</p>
<p>The old OLS functions, <code class="codeph">GREATEST_LBOUND</code> and <code class="codeph">GLBD</code> were deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).</p>
<p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_GREATEST_LBOUND</code> and <code class="codeph">OLS_GLBD</code> functions instead. Using the new function names avoids potential name conflicts with other database components.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OLSAG3169"></a><a id="OLSAG3168"></a>
<div class="props_rev_3"><a id="GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C"></a>
<h3 id="OLSAG-GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C" class="sect3">Merging Labels with the MERGE_LABEL Function</h3>
<div>
<p>The <code class="codeph">MERGE_LABEL</code> function merges two labels together.</p>
<div class="section">
<p>It accepts the character string form of two labels and the three-character specification of a merge format.</p>
<ul style="list-style-type: disc;">
<li>
<p>To merge labels, use the following syntax:</p>
<pre dir="ltr">FUNCTION merge_label (label1 IN number,
                      label2 IN number,
                      merge_format IN VARCHAR2)
RETURN number;
</pre></li>
</ul>
<p>The valid merge format is specified with a three-character string:</p>
<p><span class="italic"><code class="codeph">&lt;highest level or lowest level&gt;&lt;union or intersection of compartments&gt;&lt;union or intersection of groups&gt;</code></span></p>
<ul style="list-style-type: disc;">
<li>
<p>The first character indicates whether to merge using the highest level or the lowest level of the two labels.</p>
</li>
<li>
<p>The second character indicates whether to merge using the union or the intersection of the compartments in the two labels.</p>
</li>
<li>
<p>The third character indicates whether to merge using the union or the intersection of the groups in the two labels.</p>
</li>
</ul>
<p><a href="worklabel.htm#GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C__BEIIFDCH" title="This table lists the constants used in MERGE_LABEL formats, giving for each one the format specification, datatype, constsant, meaning, and position where it is used.">Table 6-5</a> defines the <code class="codeph">MERGE_LABEL</code> format constants.</p>
<div class="tblformal" id="GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C__BEIIFDCH">
<p class="titleintable">Table 6-5 MERGE_LABEL Format Constants</p>
<table class="cellalignment3821" title="MERGE_LABEL Format Constants " summary="This table lists the constants used in MERGE_LABEL formats, giving for each one the format specification, datatype, constsant, meaning, and position where it is used.">
<thead>
<tr class="cellalignment3810">
<th class="cellalignment3847" id="d25870e2520">Format Specification</th>
<th class="cellalignment3869" id="d25870e2523">Data Type</th>
<th class="cellalignment3838" id="d25870e2526">Constant</th>
<th class="cellalignment3886" id="d25870e2529">Meaning</th>
<th class="cellalignment3885" id="d25870e2532">Positions in Which Format Is Used</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3810">
<td class="cellalignment3851" id="d25870e2537" headers="d25870e2520">
<p><code class="codeph">max_lvl_fmt</code></p>
</td>
<td class="cellalignment3871" headers="d25870e2537 d25870e2523">
<p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
</td>
<td class="cellalignment3844" headers="d25870e2537 d25870e2526">
<p><code class="codeph">H</code></p>
</td>
<td class="cellalignment3888" headers="d25870e2537 d25870e2529">
<p>Maximum level</p>
</td>
<td class="cellalignment3887" headers="d25870e2537 d25870e2532">
<p>First (level)</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3851" id="d25870e2559" headers="d25870e2520">
<p><code class="codeph">min_lvl_fmt</code></p>
</td>
<td class="cellalignment3871" headers="d25870e2559 d25870e2523">
<p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
</td>
<td class="cellalignment3844" headers="d25870e2559 d25870e2526">
<p><code class="codeph">L</code></p>
</td>
<td class="cellalignment3888" headers="d25870e2559 d25870e2529">
<p>Minimum level</p>
</td>
<td class="cellalignment3887" headers="d25870e2559 d25870e2532">
<p>First (Level)</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3851" id="d25870e2581" headers="d25870e2520">
<p><code class="codeph">union_fmt</code></p>
</td>
<td class="cellalignment3871" headers="d25870e2581 d25870e2523">
<p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
</td>
<td class="cellalignment3844" headers="d25870e2581 d25870e2526">
<p><code class="codeph">U</code></p>
</td>
<td class="cellalignment3888" headers="d25870e2581 d25870e2529">
<p>Union of the two labels</p>
</td>
<td class="cellalignment3887" headers="d25870e2581 d25870e2532">
<p>Second (compartments) and Third (groups)</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3851" id="d25870e2603" headers="d25870e2520">
<p><code class="codeph">inter_fmt</code></p>
</td>
<td class="cellalignment3871" headers="d25870e2603 d25870e2523">
<p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
</td>
<td class="cellalignment3844" headers="d25870e2603 d25870e2526">
<p><code class="codeph">I</code></p>
</td>
<td class="cellalignment3888" headers="d25870e2603 d25870e2529">
<p>Intersection of the two labels</p>
</td>
<td class="cellalignment3887" headers="d25870e2603 d25870e2532">
<p>Second (compartments) and Third (groups)</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3851" id="d25870e2625" headers="d25870e2520">
<p><code class="codeph">minus_fmt</code></p>
</td>
<td class="cellalignment3871" headers="d25870e2625 d25870e2523">
<p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
</td>
<td class="cellalignment3844" headers="d25870e2625 d25870e2526">
<p><code class="codeph">M</code></p>
</td>
<td class="cellalignment3888" headers="d25870e2625 d25870e2529">
<p>Remove second label from first label</p>
</td>
<td class="cellalignment3887" headers="d25870e2625 d25870e2532">
<p>Second (compartments) and Third (groups)</p>
</td>
</tr>
<tr class="cellalignment3810">
<td class="cellalignment3851" id="d25870e2647" headers="d25870e2520">
<p><code class="codeph">null_fmt</code></p>
</td>
<td class="cellalignment3871" headers="d25870e2647 d25870e2523">
<p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
</td>
<td class="cellalignment3844" headers="d25870e2647 d25870e2526">
<p><code class="codeph">N</code></p>
</td>
<td class="cellalignment3888" headers="d25870e2647 d25870e2529">
<p>If specified in compartments column, returns no compartments. If specified in groups column, returns no groups.</p>
</td>
<td class="cellalignment3887" headers="d25870e2647 d25870e2532">
<p>Second (compartments) and Third (groups)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>For example, <code class="codeph">HUI</code> specifies the highest level of the two labels, union of the compartments, intersection of the groups.</p>
<p>The <code class="codeph">MERGE_LABEL</code> function is particularly useful to developers if the <code class="codeph">LEAST_UBOUND</code> function does not provide the intended result. The <code class="codeph">LEAST_UBOUND</code> function, when used with two labels containing groups, may result in a less sensitive data label than expected. The <code class="codeph">MERGE_LABEL</code> function enables you to compute an intersection on the groups, instead of the union of groups that is provided by the <code class="codeph">LEAST_UBOUND</code> function.</p>
<p>For example, if the label of one data record contains the group <code class="codeph">UNITED_STATES</code>, and the label of another data record contains the group <code class="codeph">UNITED_KINGDOM</code>, and the <code class="codeph">LEAST_UBOUND</code> function is used to compute the least upper bound of these two labels, then the resulting label would be accessible to users authorized for either the <code class="codeph">UNITED_STATES</code> or the <code class="codeph">UNITED_KINGDOM</code>.</p>
<p>If, by contrast, the <code class="codeph">MERGE_LABEL</code> function is used with a format clause of <code class="codeph">HUI</code>, then the resulting label would contain the highest level, the union of the compartments, and no groups. This is because <code class="codeph">UNITED_STATES</code> and <code class="codeph">UNITED_KINGDOM</code> do not intersect.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OLSAG024"></a>
<div class="props_rev_3"><a id="GUID-ED5DA711-477C-42D9-B03C-866A909DDE23"></a>
<h2 id="OLSAG-GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" class="sect2">Inserting Labeled Data</h2>
<div>
<p>You can insert labeled data in a variety of situations.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="worklabel.htm#GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6" title="When you insert data into a table protected by an Oracle Label Security policy, you must supply a numeric label value tag.">About Inserting Labeled Data</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033" title="To insert a row label, you can specify the label character string and then transform it into a label using the CHAR_TO_LABEL function.">Inserting Labels Using CHAR_TO_LABEL</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36" title="You can insert data using the numeric label tag value of a label, rather than using the CHAR_TO_LABEL function.">Inserting Labels Using Numeric Label Tag Values</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-9624056D-B307-4292-9FD1-756B83B8A5F1" title="There are two situations in which you do not need to specify a label in INSERT statements.">Inserting Data Without Specifying a Label</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6" title="If the label column is hidden, then the existence of the column is transparent to the insertion of data.">Inserting Data When the Policy Label Column Is Hidden</a></p>
</li>
<li>
<p><a href="worklabel.htm#GUID-200BD865-1840-4A11-B179-D445A2342C21" title="The TO_DATA_LABEL function can generate new labels dynamically.">Inserting Labels Using TO_DATA_LABEL</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6"></a>
<h3 id="OLSAG-GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6" class="sect3">About Inserting Labeled Data</h3>
<div>
<p>When you insert data into a table protected by an Oracle Label Security policy, you must supply a numeric label value tag.</p>
<p>Usually, you can insert this value in the <code class="codeph">INSERT</code> statement itself.</p>
<p>To do this, you must explicitly specify the tag for the desired label or explicitly convert the character string representation of the label into the correct tag. Note that this does not mean generating new label tags, but referencing the correct tag. When Oracle Label Security is using Oracle Internet Directory, the only permissible labels (and corresponding tags) are those pre-defined by the administrator and already in Oracle Internet Directory.</p>
<p>The only times an <code class="codeph">INSERT</code> statement may omit a label value are:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the <code class="codeph">LABEL_DEFAULT</code> enforcement option was specified when the policy was applied, or</p>
</li>
<li>
<p>If no enforcement options were specified when the policy was applied and <code class="codeph">LABEL_DEFAULT</code> was specified when the policy was created</p>
</li>
<li>
<p>If the statement applying the policy named a labeling function.</p>
</li>
</ul>
<p>In the first two cases, the user&#39;s session default row label is used as the inserted row&#39;s label. In the third case, the inserted row&#39;s label is created by that labeling function.</p>
<div class="infoboxnotealso" id="GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6__GUID-CD282574-6F6A-429A-977F-C6B9D8034E43">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="packages.htm#GUID-5C1F501B-293A-436E-865D-51D34E3D0829" title="The SA_POLICY_ADMIN.APPLY_TABLE_POLICY procedure adds the specified policy to a table.">SA_POLICY_ADMIN.APPLY_TABLE_POLICY</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-D9E721AB-14D0-4086-9C79-6D402349F85A" title="The SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY procedure applies a policy to all of the tables in a schema and enables the policy for these tables.">SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-D60E2279-6A51-496E-99F0-D779C3AE4959" title="The SA_SYSDBA.CREATE_POLICY procedure creates a new Oracle Label Security policy, defines a policy-specific column name, and specifies default policy options.">SA_SYSDBA.CREATE_POLICY</a></p>
</li>
<li>
<p><a href="enforce.htm#GUID-EEAEF7F0-9454-4E00-BAB0-D74BB236CD5B" title="Labeling functions can compute and return a label using resources such as context variables (for example, date or username) and data values.">Labeling Functions</a></p>
</li>
<li>
<p>All of <a href="enforce.htm#GUID-74CD83CB-3398-439D-B791-7C08867EF645" title="You can customize the enforcement of Oracle Label Security policies and implement labeling functions.">Implementing Policy Enforcement Options and Labeling Functions</a> regarding reading and writing labeled data (and labels) and according to policy enforcement options</p>
</li>
</ul>
</div>
</div>
</div>
<a id="OLSAG3170"></a>
<div class="props_rev_3"><a id="GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033"></a>
<h3 id="OLSAG-GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033" class="sect3">Inserting Labels Using CHAR_TO_LABEL</h3>
<div>
<p>To insert a row label, you can specify the label character string and then transform it into a label using the <code class="codeph">CHAR_TO_LABEL</code> function.</p>
<div class="section">
<p>The <code class="codeph">CHAR_TO_LABEL</code> function automatically creates a valid data label.</p>
<ul style="list-style-type: disc;">
<li>
<p>To insert labels, use an <code class="codeph">INSERT INTO</code> statement.</p>
</li>
</ul>
<p>Using the definition for table <code class="codeph">emp</code>, the following example shows how to insert data with explicit labels:</p>
<pre dir="ltr">INSERT INTO emp (ename,empno,hr_label)
VALUES (&#39;ESTANTON&#39;,10,char_to_label (&#39;HR&#39;, &#39;SENSITIVE&#39;));
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3171"></a>
<div class="props_rev_3"><a id="GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36"></a>
<h3 id="OLSAG-GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36" class="sect3">Inserting Labels Using Numeric Label Tag Values</h3>
<div>
<p>You can insert data using the numeric label tag value of a label, rather than using the <code class="codeph">CHAR_TO_LABEL</code> function.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To insert labels using numeric label tag values, use an <code class="codeph">INSERT INTO</code> statement.</p>
</li>
</ul>
<p>For example, if the numeric label tag for <code class="codeph">SENSITIVE</code> is 3000, it would appear as follows:</p>
<pre dir="ltr">INSERT INTO emp (ename, empno, hr_label)
VALUES (&#39;ESTANTON&#39;, 10, 3000);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3172"></a>
<div class="props_rev_3"><a id="GUID-9624056D-B307-4292-9FD1-756B83B8A5F1"></a>
<h3 id="OLSAG-GUID-9624056D-B307-4292-9FD1-756B83B8A5F1" class="sect3">Inserting Data Without Specifying a Label</h3>
<div>
<p>There are two situations in which you do not need to specify a label in <code class="codeph">INSERT</code> statements.</p>
<div class="section">
<p>If <code class="codeph">LABEL_DEFAULT</code> is set, or if there is a labeling function applied to the table, then you do not need to specify a label in your <code class="codeph">INSERT</code> statements. The label will be provided automatically.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To insert data without specifying a label, use an <code class="codeph">INSERT INTO</code> statement.</p>
</li>
</ul>
<p>For example:</p>
<pre dir="ltr">INSERT INTO emp (ename, empno)
VALUES (&#39;ESTANTON&#39;, 10);
</pre>
<p>The resulting row label is set according to the default value (or by a labeling function).</p>
<div class="infoboxnotealso" id="GUID-9624056D-B307-4292-9FD1-756B83B8A5F1__GUID-0249C6B4-C060-4889-B9BB-09DE153B3A8E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="enforce.htm#GUID-3B3EDADD-190E-465C-93E3-D10429F7DD84" title="Of all the enforcement controls that Oracle Label Security permits, the administrator must choose those that meet the needs of the given application.">About Policy Enforcement Options</a></p>
</li>
<li>
<p><a href="enforce.htm#GUID-A04D6EFD-9D93-4D2B-A04F-4156A1D0BAD7" title="The three label enforcement options control the data label written when a row is inserted or updated.">How the Label Management Enforcement Options Work</a></p>
</li>
<li>
<p><a href="enforce.htm#GUID-EEAEF7F0-9454-4E00-BAB0-D74BB236CD5B" title="Labeling functions can compute and return a label using resources such as context variables (for example, date or username) and data values.">Labeling Functions</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-5C1F501B-293A-436E-865D-51D34E3D0829" title="The SA_POLICY_ADMIN.APPLY_TABLE_POLICY procedure adds the specified policy to a table.">SA_POLICY_ADMIN.APPLY_TABLE_POLICY</a></p>
</li>
<li>
<p><a href="packages.htm#GUID-D60E2279-6A51-496E-99F0-D779C3AE4959" title="The SA_SYSDBA.CREATE_POLICY procedure creates a new Oracle Label Security policy, defines a policy-specific column name, and specifies default policy options.">SA_SYSDBA.CREATE_POLICY</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3173"></a>
<div class="props_rev_3"><a id="GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6"></a>
<h3 id="OLSAG-GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6" class="sect3">Inserting Data When the Policy Label Column Is Hidden</h3>
<div>
<p>If the label column is hidden, then the existence of the column is transparent to the insertion of data.</p>
<div class="section">
<p><code class="codeph">INSERT</code> statements can be written that do not explicitly list the table columns and do not include a value for the label column.</p>
<p>The session&#39;s row label is used to label the data, or a labeling function is used if one was specified when the policy was applied to the table or schema.</p>
<p>You can insert into a table without explicitly naming the columns, as long as you specify a value for each non-hidden column in the table. The following example shows how to insert a row into the table described in <a href="worklabel.htm#GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152__BEIIGDED">Example 2: Numeric Column Data Type with Hidden Column</a>:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To insert data when the policy label column is hidden, use the following syntax:</p>
<pre dir="ltr">INSERT INTO emp
VALUES (&#39;196&#39;,&#39;ESTANTON&#39;,Technician,RSTOUT,50000,10);
</pre></li>
</ul>
<p>Its label will be one of the following three possibilities:</p>
<ul style="list-style-type: disc;">
<li>
<p>The label you specify</p>
</li>
<li>
<p>The label established by the <code class="codeph">LABEL_DEFAULT</code> option of the policy being applied</p>
</li>
<li>
<p>The label created by a labeling function named by the policy being applied</p>
<div class="infobox-note" id="GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6__GUID-0F96A424-0E9F-4861-84DC-05266CC12700">
<p class="notep1">Note:</p>
<p>If the policy label column is <span class="italic">not</span> hidden, then you must explicitly include a label value (possibly null, indicated by a comma) in the <code class="codeph">INSERT</code> statement.</p>
</div>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="OLSAG3174"></a>
<div class="props_rev_3"><a id="GUID-200BD865-1840-4A11-B179-D445A2342C21"></a>
<h3 id="OLSAG-GUID-200BD865-1840-4A11-B179-D445A2342C21" class="sect3">Inserting Labels Using TO_DATA_LABEL</h3>
<div>
<p>The <code class="codeph">TO_DATA_LABEL</code> function can generate new labels dynamically.</p>
<div class="section">
<p>This approach guarantees that the data labels are valid. However, be aware that when Oracle Label Security is installed to work with Oracle Internet Directory, dynamic label generation is not allowed, because labels are managed centrally in Oracle Internet Directory, using <code class="codeph">olsadmintool</code> commands. Refer to <a href="appxb.htm#GUID-CEBDC422-8872-46C1-8A3B-F1161539DD22" title="Oracle Label Security provides command-line tools for using Oracle Internet Directory.">Command-line Tools for Label Security Using Oracle Internet Directory</a> for more information. Therefore, when Oracle Label Security is directory-enabled, this function, <code class="codeph">TO_DATA_LABEL</code>, is not available and will generate an error message if used.</p>
<ol>
<li>
<p>Ensure that you have the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">TO_DATA_LABEL</code> function.</p>
</li>
<li>
<p>Use the <code class="codeph">TO_DATA_LABEL</code> as necessary, for example, in an <code class="codeph">INSERT INTO</code> statement.</p>
</li>
</ol>
<p>For example:</p>
<pre dir="ltr">INSERT INTO emp (ename, empno, hr_label)
VALUES (&#39;ESTANTON&#39;, 10, to_data_label (&#39;HR&#39;, &#39;SENSITIVE&#39;));
</pre>
<div class="infobox-note" id="GUID-200BD865-1840-4A11-B179-D445A2342C21__GUID-3DC09E4E-7183-45DA-A3D5-53463AF49FC4">
<p class="notep1">Note:</p>
<p>The <code class="codeph">TO_DATA_LABEL</code> function must be explicitly granted to individuals, in order to be used. Its usage should be tightly controlled.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="OLSAG3787"></a>
<div class="props_rev_3"><a id="GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF"></a>
<h2 id="OLSAG-GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF" class="sect2">Changing Session and Row Labels</h2>
<div>
<p>During a session, a user can change labels based on the authorizations an administrator sets.</p>
<div class="section">
<div class="infoboxnotealso" id="GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF__GUID-595ECFD5-0037-4809-A7B1-B92F87A642C4">
<p class="notep1">See Also:</p>
<p><a href="packages.htm#GUID-406E4A7D-EC93-4720-BE46-0553EA0B1BB7" title="The SA_SESSION PL/SQL package manages session behavior for user authorizations.">SA_SESSION Session Management PL/SQL Package</a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3809">
<tr>
<td class="cellalignment3826">
<table class="cellalignment3814">
<tr>
<td class="cellalignment3813"><a href="getstrtd.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3813"><a href="olsoid.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3828">
<table class="cellalignment3812">
<tr>
<td class="cellalignment3813"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3813"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3813"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3813"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3813"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3813"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-147"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20Oracle%20LOB%20Storage"></a><title>Using Oracle LOB Storage</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Oracle LOB storage has two types, SecureFiles LOB storage and BasicFiles LOB storage, which are used with different types of tablespaces."/>
<meta name="keywords" content="BasicFiles LOB Storage, SecureFiles LOB Storage, ASSM tablespace, compression, Advanced LOB, Advanced LOB compression, Advanced LOB Deduplication, deduplication, TDE, Transparent Data Encryption (TDE), SecureFiles Encryption, encryption, SecureFiles, CREATE TABLE parameters for SecureFiles LOBs, SecureFiles LOB, CREATE TABLE parameter, CREATE TABLE syntax and notes, CREATE TABLE and SecureFiles LOB features, ALTER TABLE parameters for SecureFiles LOBs, SECUREFILE, ALTER TABLE parameters, DBMS_REDEFINITION package, initialization parameters for SecureFiles LOBs, SecureFiles LOBs, initialization parameters, init.ora parameter db_securefile, db_securefile init.ora parameter, migrating to SecureFiles LOBs, Parallel Online Redefinition, PL/SQL packages for SecureFiles LOB, PL/SQL, DBMS_LOB package, using with SecureFiles and DBFS, DBMS_SPACE package"/>
<meta name="dcterms.created" content="2017-03-16T22:27:47Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17605-12"/>
<meta name="dcterms.isVersionOf" content="ADLOB"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="adlob_managing.htm" title="Previous" type="text/html"/>
<link rel="Next" href="part_securef.htm" title="Next" type="text/html"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-EC76077B-3EE9-491E-AC6D-171DA919B84C"></a> <span id="PAGE" style="display:none;">9/34</span> <!-- End Header -->
<a id="ADLOB4444"></a>
<h1 id="ADLOB-GUID-EC76077B-3EE9-491E-AC6D-171DA919B84C" class="sect1"><span class="enumeration_chapter">4</span> Using Oracle LOB Storage</h1>
<div>
<p>Oracle LOB storage has two types, SecureFiles LOB storage and BasicFiles LOB storage, which are used with different types of tablespaces.</p>
<p>You design, create, and modify tables with LOB column types.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316" title="Earlier Oracle database releases supported only one type of LOB storage. In Oracle Database 11g, SecureFiles LOB storage was introduced; the original storage type was given the name BasicFiles LOB storage and became the default.">LOB Storage</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7" title="The CREATE TABLE statement works with LOB storage using parameters that are specific to SecureFiles or BasicFiles LOB storage, or both.">CREATE TABLE with LOB Storage</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F" title="You can modify LOB storage with an ALTER TABLE statement and specific LOB-related parameters.">ALTER TABLE with LOB Storage</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" title="You must perform LOB initialization using appropriate compatibility parameters.">Initialization_ Compatibility_ and Upgrading</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" title="Migrating BasicFiles LOB columns generates redo data, which can cause performance problems. Online redefinition is the recommended method for migration of BasicFiles LOBs to SecureFiles LOBs.You can migrate a table using Online Redefinition. You can redefine a SecureFiles LOB column in parallel, if the system has sufficient resources for parallel execution.">Migrating Columns from BasicFiles LOBs to SecureFiles LOBs</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" title="There are PL/SQL packages that can be used with BasicFiles LOBs and SecureFiles LOBs.">PL/SQL Packages for LOBs and DBFS</a></p>
</li>
</ul>
</div>
<a id="ADLOB45162"></a>
<div class="props_rev_2"><a id="GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316"></a>
<h2 id="ADLOB-GUID-F93D1E80-E141-49E4-ADD7-AC6AD3E70316" class="sect2">LOB Storage</h2>
<div>
<p>Earlier Oracle database releases supported only one type of LOB storage. In Oracle Database 11<span class="italic">g</span>, SecureFiles LOB storage was introduced; the original storage type was given the name BasicFiles LOB storage and became the default.</p>
<p>LOBs created using BasicFiles LOB storage became known as BasicFiles LOBs and LOBs created using SecureFiles LOB storage were named SecureFiles LOBs. The <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement added new keywords to indicate the differences: <code class="codeph">BASICFILE</code> specifies BasicFiles LOB storage and <code class="codeph">SECUREFILE</code> specifies SecureFiles LOB storage.</p>
<p>Beginning with Oracle Database 12<span class="italic">c</span>, SecureFiles LOB storage became the default in the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement. If no storage type is explicitly specified, new LOB columns use SecureFiles LOB storage.</p>
<p>The term LOB can represent LOBs of either storage type unless the storage type is explicitly indicated, by name or by reference to archiving or linking (can only apply to the SecureFiles LOB storage type).</p>
<p>Initialization and compatibility are discussed in <span class="q">&#34;<a href="adlob_smart.htm#GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" title="You must perform LOB initialization using appropriate compatibility parameters.">Initialization_ Compatibility_ and Upgrading</a>&#34;</span></p>
<p>The following sections discuss the two storage types in detail:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-39201489-F035-4AA4-BE66-8FA199628F55" title="You must use BasicFiles LOB storage for LOB storage in tablespaces that are not managed with Automatic Segment Space Management (ASSM).">BasicFiles LOB Storage</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0" title="SecureFiles LOBs can only be created in tablespaces managed with Automatic Segment Space Management (ASSM), unlike BasicFiles LOB storage.">SecureFiles LOB Storage</a></p>
</li>
</ul>
</div>
<a id="ADLOB46175"></a>
<div class="props_rev_3"><a id="GUID-39201489-F035-4AA4-BE66-8FA199628F55"></a>
<h3 id="ADLOB-GUID-39201489-F035-4AA4-BE66-8FA199628F55" class="sect3">BasicFiles LOB Storage</h3>
<div>
<p>You must use BasicFiles LOB storage for LOB storage in tablespaces that are not managed with Automatic Segment Space Management (ASSM).</p>
</div>
</div>
<a id="ADLOB46176"></a>
<div class="props_rev_3"><a id="GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0"></a>
<h3 id="ADLOB-GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0" class="sect3">SecureFiles LOB Storage</h3>
<div>
<p>SecureFiles LOBs can only be created in tablespaces managed with Automatic Segment Space Management (ASSM), unlike BasicFiles LOB storage.</p>
<p>SecureFiles LOB storage is designed to provide much better performance and scalability compared to BasicFiles LOBs and to meet or exceed the performance capabilities of traditional network file systems.</p>
<p>SecureFiles LOB storage supports three features that are not available with the BasicFiles LOB storage option: compression, deduplication, and encryption.</p>
<p>Oracle recommends that you enable compression, deduplication, and encryption through the <code class="codeph">CREATE&nbsp;TABLE</code> statement. If you enable these features through the <code class="codeph">ALTER&nbsp;TABLE</code> statement, <span class="italic">all</span> SecureFiles LOB data in the table is read, modified, and written; this can cause the database to lock the table during a potentially lengthy operation, though there are online capabilities in the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement which can help you avoid this issue.</p>
<div class="infobox-note" id="GUID-A65C0BA7-BA2A-4DDE-A577-4670CCCC60C0__GUID-9644B25F-F3BF-46DA-91AA-D92D4C74F7AA">
<p class="notep1">Note:</p>
<p>These features have specific licensing requirements as described in <a class="olink DBLIC142" target="_blank" href="../DBLIC/options.htm#DBLIC142"><span class="italic">Oracle Database Licensing Information</span></a>.</p>
</div>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE" title="Advanced LOB Compression transparently analyzes and compresses SecureFiles LOB data to save disk space and improve performance.">About Advanced LOB Compression</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-6DF3DA9B-3406-4B15-B173-559472B65C16" title="Advanced LOB Deduplication enables Oracle Database to automatically detect duplicate LOB data within a LOB column or partition, and conserve space by storing only one copy of the data.">About Advanced LOB Deduplication</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12" title="SecureFiles Encryption introduces a new encryption facility for LOBs. The data is encrypted using Transparent Data Encryption (TDE), which allows the data to be stored securely, and still allows for random read and write access.">About SecureFiles Encryption</a></p>
</li>
</ul>
</div>
<a id="ADLOB46109"></a>
<div class="props_rev_3"><a id="GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE"></a>
<h4 id="ADLOB-GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE" class="sect4">About Advanced LOB Compression</h4>
<div>
<p>Advanced LOB Compression transparently analyzes and compresses SecureFiles LOB data to save disk space and improve performance.</p>
<p><span class="bold">License Requirement:</span> You must have a license for the Oracle Advanced Compression Option to implement Advanced LOB Compression.</p>
<div class="infoboxnotealso" id="GUID-F74C5330-91F7-4C0E-BB83-6FAA8D0FCCBE__GUID-565D4723-5297-4ACE-B001-2402C35E9EE0">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="adlob_smart.htm#GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" title="You can use Advanced LOB Compression with the CREATE TABLE statement under certain circumstances.">CREATE TABLE with Advanced LOB Compression</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="adlob_smart.htm#GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" title="Advanced LOB Compression works with the ALTER TABLE statement.">ALTER TABLE with Advanced LOB Compression</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADLOB46110"></a>
<div class="props_rev_3"><a id="GUID-6DF3DA9B-3406-4B15-B173-559472B65C16"></a>
<h4 id="ADLOB-GUID-6DF3DA9B-3406-4B15-B173-559472B65C16" class="sect4">About Advanced LOB Deduplication</h4>
<div>
<p>Advanced LOB Deduplication enables Oracle Database to automatically detect duplicate LOB data within a LOB column or partition, and conserve space by storing only one copy of the data.</p>
<p><span class="bold">License Requirement:</span> You must have a license for the Oracle Advanced Compression Option to implement Advanced LOB Deduplication.</p>
<p>Note also that Oracle Streams does not support SecureFiles LOBs that are deduplicated.</p>
<div class="infoboxnotealso" id="GUID-6DF3DA9B-3406-4B15-B173-559472B65C16__GUID-0493AA13-018A-45D1-88D8-5ED2ECD21BF9">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="adlob_smart.htm#GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" title="You can use Advanced LOB Deduplication with the CREATE TABLE statement.">CREATE TABLE with Advanced LOB Deduplication</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="adlob_smart.htm#GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" title="Advanced LOB Deduplication works with the ALTER TABLE statement.">ALTER TABLE with Advanced LOB Deduplication</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADLOB46111"></a>
<div class="props_rev_3"><a id="GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12"></a>
<h4 id="ADLOB-GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12" class="sect4">About SecureFiles Encryption</h4>
<div>
<p>SecureFiles Encryption introduces a new encryption facility for LOBs. The data is encrypted using Transparent Data Encryption (TDE), which allows the data to be stored securely, and still allows for random read and write access.</p>
<p><span class="bold">License Requirement:</span> You must have a license for the Oracle Advanced Security Option to implement SecureFiles Encryption.</p>
<div class="infoboxnotealso" id="GUID-36592CEE-0C08-46A4-8218-D6CB1EB9EA12__GUID-FDA63A93-FC1B-432D-99E1-B6AF60E3280C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="adlob_smart.htm#GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" title="You can use SecureFiles Encryption with the CREATE TABLE statement.">CREATE TABLE with SecureFiles Encryption</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="adlob_smart.htm#GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" title="SecureFiles Encryption works with the ALTER TABLE statement.">ALTER TABLE with SecureFiles Encryption</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="ADLOB46226"></a><a id="ADLOB45944"></a>
<div class="props_rev_3"><a id="GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7"></a>
<h2 id="ADLOB-GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7" class="sect2">CREATE TABLE with LOB Storage</h2>
<div>
<p>The <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement works with LOB storage using parameters that are specific to SecureFiles or BasicFiles LOB storage, or both.</p>
<div class="section">
<p><a href="adlob_smart.htm#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__BABCFJBF">Example 4-1</a> provides the syntax for <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> in Backus Naur (BNF) notation, with LOB-specific parameters in bold. See <span class="q">&#34;<a href="adlob_smart.htm#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="The CREATE TABLE statement uses parameters relating to LOB storage, and more specifically to either BasicFiles LOB or SecureFiles LOB.">CREATE TABLE LOB Storage Parameters</a>&#34;</span> for these parameter descriptions and the <code class="codeph">CREATE TABLE</code> <span>statement,</span> <a class="olink SQLRF01402" target="_blank" href="../SQLRF/statements_7002.htm#SQLRF01402"><span class="italic">Oracle Database SQL Language Reference</span></a>, for complete reference.</p>
<p>The <code class="codeph">SHRINK</code> option is not supported for SecureFiles LOBs.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__BABCFJBF">
<p class="titleinexample">Example 4-1 BNF for CREATE TABLE</p>
<p>Keywords are in bold.</p>
<pre dir="ltr"><span class="bold">CREATE</span> [ <span class="bold">GLOBAL</span> <span class="bold">TEMPORARY</span> ] <span class="bold">TABLE</span>
</pre>
<pre dir="ltr">   [ schema.]table <span class="bold">OF</span>
</pre>
<pre dir="ltr">   [ schema.]object_type
</pre>
<pre dir="ltr">   [ ( relational_properties ) ]
</pre>
<pre dir="ltr">   [ <span class="bold">ON</span> <span class="bold">COMMIT</span> { <span class="bold">DELETE</span> | <span class="bold">PRESERVE</span> } <span class="bold">ROWS</span> ]
</pre>
<pre dir="ltr">   [ OID_clause ]
</pre>
<pre dir="ltr">   [ OID_index_clause ]
</pre>
<pre dir="ltr">   [ physical_properties ]
</pre>
<pre dir="ltr">   [ table_properties ] ;
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;relational_properties&gt; ::= 
</pre>
<pre dir="ltr">{ column_definition
</pre>
<pre dir="ltr">| { out_of_line_constraint
</pre>
<pre dir="ltr">  | out_of_line_ref_constraint
</pre>
<pre dir="ltr">  | supplemental_logging_props
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr">}
</pre>
<pre dir="ltr">  [, { column_definition
</pre>
<pre dir="ltr">     | { out_of_line_constraint
</pre>
<pre dir="ltr">       | out_of_line_ref_constraint
</pre>
<pre dir="ltr">       | supplemental_logging_props
</pre>
<pre dir="ltr">       }
</pre>
<pre dir="ltr">  ]...
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;column_definition&gt; ::= 
</pre>
<pre dir="ltr">column data_type [ <span class="bold">SORT</span> ]
</pre>
<pre dir="ltr">      [ <span class="bold">DEFAULT</span> expr ]
</pre>
<pre dir="ltr">      [ <span class="bold">ENCRYPT</span> encryption_spec ]
</pre>
<pre dir="ltr">      [ ( inline_constraint [ inline_constraint ] ... )
</pre>
<pre dir="ltr">      | inline_ref_constraint 
</pre>
<pre dir="ltr">      ]
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;data_type&gt; ::=
</pre>
<pre dir="ltr">{ Oracle_built_in_datatypes
</pre>
<pre dir="ltr">| ANSI_supported_datatypes
</pre>
<pre dir="ltr">| user_defined_types
</pre>
<pre dir="ltr">| Oracle_supplied_types
</pre>
<pre dir="ltr">}
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;Oracle_built_in_datatypes&gt; ::=
</pre>
<pre dir="ltr">{ character_datatypes
</pre>
<pre dir="ltr">| number_datatypes
</pre>
<pre dir="ltr">| long_and_raw_datatypes
</pre>
<pre dir="ltr">| datetime_datatypes
</pre>
<pre dir="ltr">| large_object_datatypes
</pre>
<pre dir="ltr">| rowid_datatypes
</pre>
<pre dir="ltr">}
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;large_object_datatypes&gt; ::= 
</pre>
<pre dir="ltr">{ <span class="bold">BLOB</span> | <span class="bold">CLOB</span> | <span class="bold">NCLOB</span>| <span class="bold">BFILE</span> }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr"> &lt;table_properties&gt; ::=
</pre>
<pre dir="ltr">  [ column_properties ]
</pre>
<pre dir="ltr">  [ table_partitioning_clauses ]
</pre>
<pre dir="ltr">  [ <span class="bold">CACHE</span> | <span class="bold">NOCACHE</span> ]
</pre>
<pre dir="ltr">  [ parallel_clause ]
</pre>
<pre dir="ltr">  [ <span class="bold">ROWDEPENDENCIES</span> | <span class="bold">NOROWDEPENDENCIES</span> ]
</pre>
<pre dir="ltr">  [ enable_disable_clause ]
</pre>
<pre dir="ltr">  [ enable_disable_clause ]...
</pre>
<pre dir="ltr">  [ row_movement_clause ]
</pre>
<pre dir="ltr">  [ <span class="bold">AS</span> subquery ]
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;column_properties&gt; ::=
</pre>
<pre dir="ltr">  { object_type_col_properties
</pre>
<pre dir="ltr">  | nested_table_col_properties
</pre>
<pre dir="ltr">  | { varray_col_properties | LOB_storage_clause }
</pre>
<pre dir="ltr">    [ (LOB_partition_storage
</pre>
<pre dir="ltr">        [, LOB_partition_storage ]...
</pre>
<pre dir="ltr">      )
</pre>
<pre dir="ltr">    ]
</pre>
<pre dir="ltr">  | XMLType_column_properties
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr">  [ { object_type_col_properties
</pre>
<pre dir="ltr">    | nested_table_col_properties
</pre>
<pre dir="ltr">    | { varray_col_properties | LOB_storage_clause }
</pre>
<pre dir="ltr">      [ ( LOB_partition_storage
</pre>
<pre dir="ltr">          [, LOB_partition_storage ]...
</pre>
<pre dir="ltr">        )
</pre>
<pre dir="ltr">      ]
</pre>
<pre dir="ltr">    | XMLType_column_properties
</pre>
<pre dir="ltr">    }
</pre>
<pre dir="ltr">  ]...
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_partition_storage&gt; ::=
</pre>
<pre dir="ltr">  <span class="bold">PARTITION</span> partition
</pre>
<pre dir="ltr">  { LOB_storage_clause | varray_col_properties }
</pre>
<pre dir="ltr">    [ LOB_storage_clause | varray_col_properties ]...
</pre>
<pre dir="ltr">  [ ( <span class="bold">SUBPARTITION</span> subpartition
</pre>
<pre dir="ltr">     { LOB_storage_clause | varray_col_properties }
</pre>
<pre dir="ltr">       [ LOB_storage_clause
</pre>
<pre dir="ltr">       | varray_col_properties
</pre>
<pre dir="ltr">       ]...
</pre>
<pre dir="ltr">    )
</pre>
<pre dir="ltr">  ]
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_storage_clause&gt; ::=
</pre>
<pre dir="ltr">  <span class="bold">LOB</span>
</pre>
<pre dir="ltr">  { (LOB_item [, LOB_item ]...)
</pre>
<pre dir="ltr">      <span class="bold">STORE</span> <span class="bold">AS</span> [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ] (LOB_storage_parameters)
</pre>
<pre dir="ltr">  | (LOB_item)
</pre>
<pre dir="ltr">      <span class="bold">STORE</span> <span class="bold">AS</span> [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ]
</pre>
<pre dir="ltr">        { LOB_segname (LOB_storage_parameters)
</pre>
<pre dir="ltr">        | LOB_segname
</pre>
<pre dir="ltr">        | (LOB_storage_parameters)
</pre>
<pre dir="ltr">        }
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_storage_parameters&gt; ::=
</pre>
<pre dir="ltr">  { <span class="bold">TABLESPACE</span> tablespace
</pre>
<pre dir="ltr">  | { LOB_parameters [ storage_clause ]
</pre>
<pre dir="ltr">    }
</pre>
<pre dir="ltr">  | storage_clause
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr">    [ <span class="bold">TABLESPACE</span> tablespace
</pre>
<pre dir="ltr">    | { LOB_parameters [ storage_clause ]
</pre>
<pre dir="ltr">      }
</pre>
<pre dir="ltr">    ]...
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_parameters&gt; ::=
</pre>
<pre dir="ltr">  [ { <span class="bold">ENABLE</span> | <span class="bold">DISABLE</span> } <span class="bold">STORAGE</span> <span class="bold">IN</span> <span class="bold">ROW</span>
</pre>
<pre dir="ltr">  | <span class="bold">CHUNK</span> integer
</pre>
<pre dir="ltr">  | <span class="bold">PCTVERSION</span> integer
</pre>
<pre dir="ltr">  | <span class="bold">RETENTION</span> [ { <span class="bold">MAX</span> | <span class="bold">MIN</span> integer | <span class="bold">AUTO</span> | <span class="bold">NONE</span> } ]
</pre>
<pre dir="ltr">  | <span class="bold">FREEPOOLS</span> integer
</pre>
<pre dir="ltr">  | LOB_deduplicate_clause
</pre>
<pre dir="ltr">  | LOB_compression_clause
</pre>
<pre dir="ltr">  | LOB_encryption_clause
</pre>
<pre dir="ltr">  | { <span class="bold">CACHE</span> |  <span class="bold">NOCACHE</span> | <span class="bold">CACHE</span> <span class="bold">READS</span> } [ logging_clause ] } }
</pre>
<pre dir="ltr">  ]
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;logging_clause&gt; ::=
</pre>
<pre dir="ltr">  { <span class="bold">LOGGING</span> | <span class="bold">NOLOGGING</span> | <span class="bold">FILESYSTEM_LIKE_LOGGING</span> }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;storage_clause&gt; ::=
</pre>
<pre dir="ltr">  <span class="bold">STORAGE</span>
</pre>
<pre dir="ltr">  ({ <span class="bold">INITIAL</span> integer [ <span class="bold">K</span> | <span class="bold">M</span> ]
</pre>
<pre dir="ltr">   | <span class="bold">NEXT</span> integer [ <span class="bold">K</span> | <span class="bold">M</span> ]
</pre>
<pre dir="ltr">   | <span class="bold">MINEXTENTS</span> integer
</pre>
<pre dir="ltr">   | <span class="bold">MAXEXTENTS</span> { integer | <span class="bold">UNLIMITED</span> }
</pre>
<pre dir="ltr">   | <span class="bold">PCTINCREASE</span> integer
</pre>
<pre dir="ltr">   | <span class="bold">FREELISTS</span> integer
</pre>
<pre dir="ltr">   | <span class="bold">FREELIST</span> <span class="bold">GROUPS</span> integer
</pre>
<pre dir="ltr">   | <span class="bold">OPTIMAL</span> [ integer [ <span class="bold">K</span> | <span class="bold">M</span> ]
</pre>
<pre dir="ltr">             | <span class="bold">NULL</span>
</pre>
<pre dir="ltr">             ]
</pre>
<pre dir="ltr">   | <span class="bold">BUFFER_POOL</span> { <span class="bold">KEEP</span> | <span class="bold">RECYCLE</span> | <span class="bold">DEFAULT</span> }
</pre>
<pre dir="ltr">   }
</pre>
<pre dir="ltr">     [ <span class="bold">INITIAL</span> integer [ <span class="bold">K</span> | <span class="bold">M</span> ]
</pre>
<pre dir="ltr">     | <span class="bold">NEXT</span> integer [ <span class="bold">K</span> | <span class="bold">M</span> ]
</pre>
<pre dir="ltr">     | <span class="bold">MINEXTENTS</span> integer
</pre>
<pre dir="ltr">     | <span class="bold">MAXEXTENTS</span> { integer | <span class="bold">UNLIMITED</span> }
</pre>
<pre dir="ltr">     | <span class="bold">MAXSIZE</span> { { integer { <span class="bold">K</span> | <span class="bold">M</span> | <span class="bold">G</span> | <span class="bold">T</span> | <span class="bold">P</span> } } | <span class="bold">UNLIMITED</span> }
</pre>
<pre dir="ltr">     | <span class="bold">PCTINCREASE</span> integer
</pre>
<pre dir="ltr">     | <span class="bold">FREELISTS</span> integer
</pre>
<pre dir="ltr">     | <span class="bold">FREELIST</span> <span class="bold">GROUPS</span> integer
</pre>
<pre dir="ltr">     | <span class="bold">OPTIMAL</span> [ integer [ <span class="bold">K</span> | <span class="bold">M</span> ]
</pre>
<pre dir="ltr">               | <span class="bold">NULL</span>
</pre>
<pre dir="ltr">               ]
</pre>
<pre dir="ltr">     | <span class="bold">BUFFER_POOL</span> { <span class="bold">KEEP</span> | <span class="bold">RECYCLE</span> | <span class="bold">DEFAULT</span> }
</pre>
<pre dir="ltr">     ]...
</pre>
<pre dir="ltr">  )
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_deduplicate_clause&gt; ::=
</pre>
<pre dir="ltr">  { <span class="bold">DEDUPLICATE</span> 
</pre>
<pre dir="ltr">  | <span class="bold">KEEP_DUPLICATES</span>
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_compression_clause&gt; ::=
</pre>
<pre dir="ltr">  { <span class="bold">COMPRESS</span> [ <span class="bold">HIGH</span> | <span class="bold">MEDIUM</span> | <span class="bold">LOW</span> ]
</pre>
<pre dir="ltr">  | <span class="bold">NOCOMPRESS</span> }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;LOB_encryption_clause&gt; ::=
</pre>
<pre dir="ltr">  { <span class="bold">ENCRYPT</span> [ <span class="bold">USING</span> &#39;encrypt_algorithm&#39; ] 
</pre>
<pre dir="ltr">    [ <span class="bold">IDENTIFIED</span> <span class="bold">BY</span> password ]
</pre>
<pre dir="ltr">  | <span class="bold">DECRYPT</span> 
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;XMLType_column_properties&gt; ::= 
</pre>
<pre dir="ltr">XMLTYPE [ COLUMN ] column
</pre>
<pre dir="ltr">   [ XMLType_storage ]
</pre>
<pre dir="ltr">   [ XMLSchema_spec ]
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;XMLType_storage&gt; ::=
</pre>
<pre dir="ltr"><span class="bold">STORE</span> <span class="bold">AS</span>
</pre>
<pre dir="ltr">   { <span class="bold">OBJECT</span> <span class="bold">RELATIONAL</span>
</pre>
<pre dir="ltr">   | [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ] {<span class="bold"> CLOB</span> | <span class="bold">BINARY</span> <span class="bold">XML</span> }
</pre>
<pre dir="ltr">       [ { LOB_segname [ (LOB_parameters) ]
</pre>
<pre dir="ltr">         | LOB_parameters
</pre>
<pre dir="ltr">         }
</pre>
<pre dir="ltr">         ]
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;varray_col_properties&gt; ::=
</pre>
<pre dir="ltr"><span class="bold">VARRAY</span> varray_item 
</pre>
<pre dir="ltr">   { [ substitutable_column_clause ]
</pre>
<pre dir="ltr">     <span class="bold">STORE</span> <span class="bold">AS</span> [ <span class="bold">SECUREFILE</span> | <span class="bold">BASICFILE</span> ] <span class="bold">LOB</span>
</pre>
<pre dir="ltr">        { [ LOB_segname ] (LOB_parameters)
</pre>
<pre dir="ltr">        | LOB_segname 
</pre>
<pre dir="ltr">        }
</pre>
<pre dir="ltr">   | substitutable_column_clause
</pre>
<pre dir="ltr">   }
</pre></div>
<!-- class="example" --></div>
<a id="ADLOB46114"></a><a id="ADLOB46113"></a>
<div class="props_rev_3"><a id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C"></a>
<h3 id="ADLOB-GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" class="sect3">CREATE TABLE LOB Storage Parameters</h3>
<div>
<p>The <code class="codeph">CREATE TABLE</code> statement uses parameters relating to LOB storage, and more specifically to either BasicFiles LOB or SecureFiles LOB.</p>
<div class="section">
<p><a href="adlob_smart.htm#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__CIHBJBAG" title="Column 1 is a parameter of CREATE TABLE statement, with a link to its full description. Column 2 is a brief description of the parameter.">Table 4-1</a> summarizes the parameters of the <code class="codeph">CREATE TABLE</code> statement that relate to LOB storage, where necessary noting whether a parameter is specific to BasicFiles LOB or SecureFiles LOB storage.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C__CIHBJBAG">
<p class="titleintable">Table 4-1 Parameters of CREATE TABLE Statement Related to LOBs</p>
<table class="cellalignment2789" title="Parameters of CREATE TABLE Statement Related to LOBs" summary="Column 1 is a parameter of CREATE TABLE statement, with a link to its full description. Column 2 is a brief description of the parameter.">
<thead>
<tr class="cellalignment2783">
<th class="cellalignment2823" id="d9489e1777">Parameter</th>
<th class="cellalignment2896" id="d9489e1779">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1783" headers="d9489e1777">
<p><a id="d9489e1785" class="indexterm-anchor"></a><code class="codeph">BASICFILE</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1783 d9489e1779">
<p>Specifies BasicFiles LOB storage, the original architecture for LOBs.</p>
<p>If you set the compatibility mode to Oracle Database 11<span class="italic">g</span>, then <code class="codeph">BASICFILE</code> functionality is enabled by default and specified for completeness.</p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, you must explicitly specify the parameter <code class="codeph">BASICFILE</code> to use the <span>BasicFiles LOB</span> storage type. Otherwise, the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement uses SecureFiles LOB, the current default.</p>
<p>See <span class="q">&#34;<a href="adlob_smart.htm#GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" title="You must perform LOB initialization using appropriate compatibility parameters.">Initialization_ Compatibility_ and Upgrading</a>&#34;</span>.</p>
<p>For BasicFiles LOBs, specifying any of the SecureFiles LOB options results in an error.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1832" headers="d9489e1777">
<p><a id="d9489e1834" class="indexterm-anchor"></a><code class="codeph">SECUREFILE</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1832 d9489e1779">
<p>Specifies SecureFiles LOBs storage.</p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, the <span>SecureFiles LOB</span> storage type, specified by the parameter <code class="codeph">SECUREFILE</code>, is the default.</p>
<p>A SecureFiles LOB can only be created in a tablespace managed with Automatic Segment Space Management (<a id="d9489e1856" class="indexterm-anchor"></a>ASSM).</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1860" headers="d9489e1777">
<p><a id="d9489e1862" class="indexterm-anchor"></a><code class="codeph">CHUNK</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1860 d9489e1779">
<p>For BasicFiles LOBs, specifies the chunk size when creating a table that stores LOBs.</p>
<p><code class="codeph">CHUNK</code> is one or more Oracle blocks and corresponds to the data size used by Oracle Database when accessing or modifying the LOB.</p>
<p>For SecureFiles LOBs, it is an advisory size provided for backward compatibility.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1876" headers="d9489e1777">
<p><a id="d9489e1878" class="indexterm-anchor"></a><code class="codeph">RETENTION</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1876 d9489e1779">
<p>Configures the LOB column to store old versions of LOB data in a specified manner.</p>
<p>In Oracle Database Release 12<span class="italic">c</span>, this parameter specifies the retention policy.</p>
<p><code class="codeph">RETENTION</code> has these possible values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">MAX</code> specifies that the system keep old versions of LOB data blocks until the space used by the segment has reached the size specified in the <code class="codeph">MAXSIZE</code> parameter. If <code class="codeph">MAXSIZE</code> is not specified, <code class="codeph">MAX</code> behaves like <code class="codeph">AUTO</code>.</p>
</li>
<li>
<p><code class="codeph">MIN</code> specifies that the system keep old versions of LOB data blocks for the specified number of seconds.</p>
</li>
<li>
<p><code class="codeph">NONE</code> specifies that there is no retention period and space can be reused in any way deemed necessary.</p>
</li>
<li>
<p><code class="codeph">AUTO</code> specifies that the system manage the space as efficiently as possible weighing both time and space needs.</p>
</li>
</ul>
<p>For details of the <code class="codeph">RETENTION</code> parameter used with BasicFiles LOBs, see <span class="q">&#34;<a href="adlob_tables.htm#GUID-8FB3E176-1024-4531-9706-BA9C75C7CD28">RETENTION Parameter for BasicFiles LOBs</a>&#34;</span>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1938" headers="d9489e1777">
<p><a id="d9489e1940" class="indexterm-anchor"></a><code class="codeph">MAXSIZE</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1938 d9489e1779">
<p>Specifies the upper limit of storage space that a LOB may use.</p>
<p>If this amount of space is consumed, new LOB data blocks are taken from the pool of old versions of LOB data blocks as needed, regardless of time requirements.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1950" headers="d9489e1777">
<p><a id="d9489e1952" class="indexterm-anchor"></a><code class="codeph">FREEPOOLS</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1950 d9489e1779">
<p>Specifies the number of <code class="codeph">FREELIST</code> groups for BasicFiles LOBs, if the database is in automatic undo mode. Under Release 12<span class="italic">c</span> compatibility, this parameter is ignored when SecureFiles LOBs are created.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e1966" headers="d9489e1777">
<p><a id="d9489e1968" class="indexterm-anchor"></a><a id="d9489e1972" class="indexterm-anchor"></a><a id="d9489e1976" class="indexterm-anchor"></a><code class="codeph">LOGGING</code>, <code class="codeph">NOLOGGING</code>, or <code class="codeph">FILESYSTEM_LIKE_LOGGING</code></p>
</td>
<td class="cellalignment2897" headers="d9489e1966 d9489e1779">
<p>Specifies logging options:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">LOGGING</code> specifies logging the creation of the LOB and subsequent inserts into the LOB, in the redo log file. <code class="codeph">LOGGING</code> is the default.</p>
</li>
<li>
<p><code class="codeph">NOLOGGING</code> specifies no logging.</p>
</li>
<li>
<p><code class="codeph">FILESYSTEM_LIKE_LOGGING</code> specifies that the system only logs the metadata. This is similar to metadata journaling of file systems, which reduces mean time to recovery from failures. <code class="codeph">FILESYSTEM_LIKE_LOGGING</code> ensures that data is completely recoverable (an instance recovery) after a server failure.</p>
<p><span class="italic">This option is invalid for BasicFiles LOBs.</span></p>
</li>
</ul>
<p>For SecureFiles LOBs, the following applies:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">NOLOGGING</code> setting is converted internally to <code class="codeph">FILESYSTEM_LIKE_LOGGING.</code></p>
</li>
<li>
<p>The <code class="codeph">LOGGING</code> setting is similar to the data journaling of file systems.</p>
</li>
<li>
<p>Both the <code class="codeph">LOGGING</code> and <code class="codeph">FILESYSTEM_LIKE_LOGGING</code> settings provide a complete transactional file system.</p>
</li>
</ul>
<p>See <span class="q">&#34;<a href="adlob_tables.htm#GUID-3543D99F-A826-4750-8E94-7BAE754E0792">LOGGING / NOLOGGING Parameter for BasicFiles LOBs</a> &#34;</span> and <span class="q">&#34;<a href="adlob_lob_ops.htm#GUID-06CC03E6-4DD2-4326-82E2-3CABC9A37941">Ensuring Read Consistency</a>&#34;</span>.</p>
<p>For a non-partitioned object, the value specified for this clause is the actual physical attribute of the segment associated with the object.</p>
<p>For partitioned objects, the value specified for this clause is the default physical attribute of the segments associated with all partitions specified in the <code class="codeph">CREATE</code> statement (and in subsequent <code class="codeph">ALTER</code> ... <code class="codeph">ADD PARTITION</code> statements), unless you specify the logging attribute in the <code class="codeph">PARTITION</code> description.</p>
<p><span class="bold">CAUTION:</span></p>
<p>For LOB segments with <code class="codeph">NOLOGGING</code> or <code class="codeph">FILESYSTEM_LIKE_LOGGING</code> settings, it is possible that data can change on the disk during a backup operation. This results in read inconsistency. To avoid this situation, ensure that changes to LOB segments are saved in the redo log file by setting <code class="codeph">LOGGING</code> for LOB storage.</p>
<p><code class="codeph">NOLOGGING</code> and <code class="codeph">FILESYSTEM_LIKE_LOGGING</code> SecureFiles are recoverable after an instance failure, but not after a media failure. <code class="codeph">LOGGING</code> SecureFiles are recoverable after both instance and media failures.</p>
<p>See the <a class="olink BRADV89335" target="_blank" href="../BRADV/rcmintro.htm#BRADV89335"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for a discussion of data protection, media failure, and instance failure.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e2103" headers="d9489e1777">
<p><a id="d9489e2105" class="indexterm-anchor"></a><a id="d9489e2107" class="indexterm-anchor"></a><code class="codeph">FREELISTS</code> or <code class="codeph">FREELIST</code> <code class="codeph">GROUPS</code></p>
</td>
<td class="cellalignment2897" headers="d9489e2103 d9489e1779">
<p>Specifies the number of process freelists or freelist groups, respectively, allocated to the segment; <code class="codeph">NULL</code> for partitioned tables. Under Release 12<span class="italic">c</span> compatibility, these parameters are ignored when SecureFiles LOBs are created.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e2127" headers="d9489e1777">
<p><a id="d9489e2129" class="indexterm-anchor"></a><a id="d9489e2131" class="indexterm-anchor"></a><code class="codeph">PCTVERSION</code></p>
</td>
<td class="cellalignment2897" headers="d9489e2127 d9489e1779">
<p>Specifies the percentage of used BasicFiles LOB data space that may be occupied by old versions of the LOB data pages.</p>
<p>Under Release 12<span class="italic">c</span> compatibility, this parameter is ignored when SecureFiles LOBs are created.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e2144" headers="d9489e1777">
<p><a id="d9489e2146" class="indexterm-anchor"></a><a id="d9489e2148" class="indexterm-anchor"></a><code class="codeph">COMPRESS</code> or <code class="codeph">NOCOMPRESS</code></p>
</td>
<td class="cellalignment2897" headers="d9489e2144 d9489e1779">
<p>The <code class="codeph">COMPRESS</code> option turns on Advanced LOB Compression, and <code class="codeph">NOCOMPRESS</code> turns it off.</p>
<p>Note that setting table or index compression does not affect Advanced LOB Compression.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e2167" headers="d9489e1777">
<p><a id="d9489e2169" class="indexterm-anchor"></a><a id="d9489e2171" class="indexterm-anchor"></a><code class="codeph">DEDUPLICATE</code> or <code class="codeph">KEEP_DUPLICATES</code></p>
</td>
<td class="cellalignment2897" headers="d9489e2167 d9489e1779">
<p>The <code class="codeph">DEDUPLICATE</code> option enables Advanced LOB Deduplication; it specifies that SecureFiles LOB data that is identical in two or more rows in a LOB column, partition or subpartition must share the same data blocks. The database combines SecureFiles LOBs with identical content into a single copy, reducing storage and simplifying storage management. The opposite of this option is <code class="codeph">KEEP_DUPLICATES</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e2189" headers="d9489e1777">
<p><a id="d9489e2191" class="indexterm-anchor"></a><a id="d9489e2193" class="indexterm-anchor"></a><code class="codeph">ENCRYPT</code> or <code class="codeph">DECRYPT</code></p>
</td>
<td class="cellalignment2897" headers="d9489e2189 d9489e1779">
<p>The <code class="codeph">ENCRYPT</code> option turns on SecureFiles Encryption, and encrypts all SecureFiles LOB data using Oracle Transparent Data Encryption (TDE). The <code class="codeph">DECRYPT</code> options turns off SecureFiles Encryption.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADLOB46177"></a>
<div class="props_rev_3"><a id="GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138"></a>
<h3 id="ADLOB-GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138" class="sect3">CREATE TABLE and SecureFiles LOB Features</h3>
<div>
<p>Note usage notes and examples for SecureFiles LOBs used with the<code class="codeph">CREATE</code> <code class="codeph">TABLE</code>.</p>
<p>This section provides usage notes and examples for features specific to SecureFiles LOBs used with <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>.</p>
<div class="infobox-note" id="GUID-3FA5F4CE-A296-49C3-913E-0D7482E2A138__GUID-2112019E-7501-43CD-B83D-32EDC4F39219">
<p class="notep1">Note:</p>
<p>Clauses in example discussions refer to the Backus Naur (BNF) notation <span class="q">&#34;<a href="adlob_smart.htm#GUID-D4B9A527-6DF8-4451-B88B-B973E961D9F7__BABCFJBF">Example 4-1</a>&#34;</span>. Parameters are described in <span class="q">&#34;<a href="adlob_smart.htm#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="The CREATE TABLE statement uses parameters relating to LOB storage, and more specifically to either BasicFiles LOB or SecureFiles LOB.">CREATE TABLE LOB Storage Parameters</a>&#34;</span>.</p>
</div>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" title="You can use Advanced LOB Compression with the CREATE TABLE statement under certain circumstances.">CREATE TABLE with Advanced LOB Compression</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" title="You can use Advanced LOB Deduplication with the CREATE TABLE statement.">CREATE TABLE with Advanced LOB Deduplication</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" title="You can use SecureFiles Encryption with the CREATE TABLE statement.">CREATE TABLE with SecureFiles Encryption</a></p>
</li>
</ul>
</div>
<a id="ADLOB45959"></a>
<div class="props_rev_3"><a id="GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A"></a>
<h4 id="ADLOB-GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" class="sect4">CREATE TABLE with Advanced LOB Compression</h4>
<div>
<p>You can use Advanced LOB Compression with the <code class="codeph">CREATE TABLE</code> statement under certain circumstances.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20" title="Consider these issues when using the CREATE TABLE statement and Advanced LOB Compression.">Usage Notes for Advanced LOB Compression</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8" title="These examples demonstrate how to issue CREATE TABLE statements for specific compression scenarios.">Examples of CREATE TABLE and Advanced LOB Compression</a></p>
</li>
</ul>
</div>
<a id="ADLOB46115"></a>
<div class="props_rev_3"><a id="GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20"></a>
<h5 id="ADLOB-GUID-84AD5E2D-9C1F-4954-AA0F-D66AAB655F20" class="sect5">Usage Notes for Advanced LOB Compression</h5>
<div>
<p>Consider these issues when using the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement and Advanced LOB Compression.</p>
<ul style="list-style-type: disc;">
<li>
<p>Advanced LOB Compression is performed on the server and enables random reads and writes to LOB data. Compression utilities on the client, like <code class="codeph">utl_compress</code>, cannot provide random access.</p>
</li>
<li>
<p>Advanced LOB Compression does not enable table or index compression. Conversely, table and index compression do not enable Advanced LOB Compression.</p>
</li>
<li>
<p>The <code class="codeph">LOW</code>, <code class="codeph">MEDIUM</code>, and <code class="codeph">HIGH</code> options provide varying degrees of compression. The higher the compression, the higher the latency incurred. The <code class="codeph">HIGH</code> setting incurs more work, but compresses the data better. The default is <code class="codeph">MEDIUM</code>.</p>
<p>The <code class="codeph">LOW</code> compression option uses an extremely lightweight compression algorithm that removes the majority of the CPU cost that is typical with file compression. Compressed SecureFiles LOBs at the <code class="codeph">LOW</code> level provide a very efficient choice for SecureFiles LOB storage. SecureFiles LOBs compressed at <code class="codeph">LOW</code> generally consume less CPU time and less storage than BasicFiles LOBs, and typically help the application run faster because of a reduction in disk I/O.</p>
</li>
<li>
<p>Compression can be specified at the partition level. The <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">lob_storage_clause</code> enables specification of compression for partitioned tables on a per-partition basis.</p>
</li>
<li>
<p>The <code class="codeph">DBMS_LOB.SETOPTIONS</code> procedure can enable and disable compression on individual SecureFiles LOBs. See <a class="olink ARPLS66745" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66745"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for further information.</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB46116"></a><a id="ADLOB46117"></a><a id="ADLOB46118"></a><a id="ADLOB46119"></a><a id="ADLOB46120"></a><a id="ADLOB45960"></a>
<div class="props_rev_3"><a id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8"></a>
<h5 id="ADLOB-GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8" class="sect5">Examples of CREATE TABLE and Advanced LOB Compression</h5>
<div>
<p>These examples demonstrate how to issue <code class="codeph">CREATE TABLE</code> statements for specific compression scenarios.</p>
<div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-D49B2612-F5C7-46DA-87C9-A57A02FB4912">
<p class="titleinexample">Example 4-2 Creating a SecureFiles LOB Column with LOW Compression</p>
<pre dir="ltr">CREATE TABLE t1 (a CLOB)
    LOB(a) STORE AS SECUREFILE(
    COMPRESS LOW
    CACHE
    NOLOGGING
  );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-73887717-D621-42B5-B232-E3E86CFDABF8">
<p class="titleinexample">Example 4-3 Creating a SecureFiles LOB Column with MEDIUM (default) Compression</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB)
    LOB(a) STORE AS SECUREFILE (
         COMPRESS
         CACHE
         NOLOGGING
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-EAAFBE5F-A158-4454-99EB-96F6E7259537">
<p class="titleinexample">Example 4-4 Creating a SecureFiles LOB Column with HIGH Compression</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB)
    LOB(a) STORE AS SECUREFILE (
         COMPRESS HIGH
         CACHE
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-C98E2ABF-96AB-43E3-BFB6-8FEF0EDD3252">
<p class="titleinexample">Example 4-5 Creating a SecureFiles LOB Column with Disabled Compression</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB)
    LOB(a) STORE AS SECUREFILE (
         NOCOMPRESS
         CACHE
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-DBE5876D-06B0-4F9F-9B5A-D6E5F365CED8__GUID-0FD773DA-4B17-4D9B-9288-7E1C9C9850BC">
<p class="titleinexample">Example 4-6 Creating a SecureFiles LOB Column with Compression on One Partition</p>
<pre dir="ltr">CREATE TABLE t1 ( REGION VARCHAR2(20), a BLOB) 
     LOB(a) STORE AS SECUREFILE (
        CACHE
     )
     PARTITION BY LIST (REGION) (
          PARTITION p1 VALUES (&#39;x&#39;, &#39;y&#39;)
               LOB(a) STORE AS SECUREFILE (
                   COMPRESS
                ),
          PARTITION p2 VALUES (DEFAULT)
     );
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADLOB45957"></a>
<div class="props_rev_3"><a id="GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC"></a>
<h4 id="ADLOB-GUID-5D574777-C7A8-44F8-B9E2-91B2FF51D3DC" class="sect4">CREATE TABLE with Advanced LOB Deduplication</h4>
<div>
<p>You can use Advanced LOB Deduplication with the <code class="codeph">CREATE TABLE</code> statement.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-6873CF13-025B-4277-84DB-B30FFA0434E7" title="Consider these issues when using CREATE TABLE and Advanced LOB Deduplication.">Usage Notes for Advanced LOB Deduplication</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D" title="These examples demonstrate how to issue CREATE TABLE statements for specific deduplication scenarios.">Examples of CREATE TABLE and Advanced LOB Deduplication</a></p>
</li>
</ul>
</div>
<a id="ADLOB46121"></a>
<div class="props_rev_3"><a id="GUID-6873CF13-025B-4277-84DB-B30FFA0434E7"></a>
<h5 id="ADLOB-GUID-6873CF13-025B-4277-84DB-B30FFA0434E7" class="sect5">Usage Notes for Advanced LOB Deduplication</h5>
<div>
<p>Consider these issues when using <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> and Advanced LOB Deduplication.</p>
<ul style="list-style-type: disc;">
<li>
<p>Identical LOBs are good candidates for deduplication. Copy operations can avoid data duplication by enabling deduplication.</p>
</li>
<li>
<p>Duplicate detection happens within a LOB segment. Duplicate detection does not span partitions or subpartitions for partitioned and subpartitioned LOB columns.</p>
</li>
<li>
<p>Deduplication can be specified at a partition level. The <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">lob_storage_clause</code> enables specification for partitioned tables on a per-partition basis.</p>
</li>
<li>
<p>The <code class="codeph">DBMS_LOB.SETOPTIONS</code> procedure can enable or disable deduplication on individual LOBs.</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB46122"></a><a id="ADLOB46123"></a><a id="ADLOB46124"></a><a id="ADLOB46125"></a><a id="ADLOB45958"></a>
<div class="props_rev_3"><a id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D"></a>
<h5 id="ADLOB-GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D" class="sect5">Examples of CREATE TABLE and Advanced LOB Deduplication</h5>
<div>
<p>These examples demonstrate how to issue <code class="codeph">CREATE TABLE</code> statements for specific deduplication scenarios.</p>
<div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-1E0942E6-F9BC-4F98-BEFF-8DE6F46D0779">
<p class="titleinexample">Example 4-7 Creating a SecureFiles LOB Column with Deduplication</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB)
    LOB(a) STORE AS SECUREFILE (
        DEDUPLICATE
        CACHE
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-96BDCBCE-9231-4E98-AF06-30D7544E9B95">
<p class="titleinexample">Example 4-8 Creating a SecureFiles LOB Column with Disabled Deduplication</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB)
    LOB(a) STORE AS SECUREFILE (
         KEEP_DUPLICATES
         CACHE
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-EB74BF86-234A-4D45-9F1C-4A7DDDEB7CFA">
<p class="titleinexample">Example 4-9 Creating a SecureFiles LOB Column with Deduplication on One Partition</p>
<pre dir="ltr">CREATE TABLE t1 ( REGION VARCHAR2(20), a BLOB) 
     LOB(a) STORE AS SECUREFILE (
           CACHE
)
PARTITION BY LIST (REGION) (
     PARTITION p1 VALUES (&#39;x&#39;, &#39;y&#39;)
          LOB(a) STORE AS SECUREFILE (
               DEDUPLICATE
          ),
     PARTITION p2 VALUES (DEFAULT)
);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9008B14C-B084-491D-9BA1-F964EC42EE8D__GUID-204AD0BA-6347-47CA-AA55-CD43F1C305A1">
<p class="titleinexample">Example 4-10 Creating a SecureFiles LOB column with Deduplication Disabled on One Partition</p>
<pre dir="ltr">CREATE TABLE t1 ( REGION VARCHAR2(20), ID NUMBER, a BLOB)
     LOB(a) STORE AS SECUREFILE (
           DEDUPLICATE
           CACHE
)
PARTITION BY RANGE (REGION)
      SUBPARTITION BY HASH(ID) SUBPARTITIONS 2 (
        PARTITION p1 VALUES LESS THAN (51)
           lob(a) STORE AS a_t2_p1
           (SUBPARTITION t2_p1_s1 lob(a) STORE AS a_t2_p1_s1,
            SUBPARTITION t2_p1_s2 lob(a) STORE AS a_t2_p1_s2),
        PARTITION p2 VALUES LESS THAN (MAXVALUE)
           lob(a) STORE AS a_t2_p2 ( KEEP_DUPLICATES ) 
           (SUBPARTITION t2_p2_s1 lob(a) STORE AS a_t2_p2_s1,
            SUBPARTITION t2_p2_s2 lob(a) STORE AS a_t2_p2_s2)
      );
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADLOB45961"></a>
<div class="props_rev_3"><a id="GUID-43C83F15-745A-4C22-AF53-7C102A740DDB"></a>
<h4 id="ADLOB-GUID-43C83F15-745A-4C22-AF53-7C102A740DDB" class="sect4">CREATE TABLE with SecureFiles Encryption</h4>
<div>
<p>You can use SecureFiles Encryption with the <code class="codeph">CREATE TABLE</code> statement.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742" title="Consider these issues when using CREATE TABLE and SecureFiles Encryptions">Usage Notes for SecureFiles Encryption</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC" title="These examples demonstrate how to issue CREATE TABLE statements for specific encryption scenarios.">Examples of CREATE TABLE and SecureFiles Encryption</a></p>
</li>
</ul>
</div>
<a id="ADLOB46126"></a>
<div class="props_rev_3"><a id="GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742"></a>
<h5 id="ADLOB-GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742" class="sect5">Usage Notes for SecureFiles Encryption</h5>
<div>
<p>Consider these issues when using <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> and SecureFiles Encryptions</p>
<ul style="list-style-type: disc;">
<li>
<p>Transparent Data Encryption (TDE) supports encryption of LOB data types.</p>
</li>
<li>
<p>Encryption is performed at the block level.</p>
</li>
<li>
<p>The <span class="italic"><code class="codeph">encrypt_algorithm</code></span> indicates the name of the encryption algorithm. Valid algorithms are: <code class="codeph">AES192</code> (default), <code class="codeph">3DES168</code>, <code class="codeph">AES128</code>, and <code class="codeph">AES256</code>.</p>
</li>
<li>
<p>The column encryption key is derived from <code class="codeph">PASSWORD</code>, if specified.</p>
</li>
<li>
<p>The default for LOB encryption is <code class="codeph">SALT</code>. <code class="codeph">NO</code> <code class="codeph">SALT</code> is not supported.</p>
</li>
<li>
<p>All LOBs in the LOB column are encrypted.</p>
</li>
<li>
<p><code class="codeph">DECRYPT</code> keeps the LOBs in clear text.</p>
</li>
<li>
<p>LOBs can be encrypted only on a per-column basis, similar to TDE. All partitions within a LOB column are encrypted.</p>
</li>
<li>
<p>Key management controls the ability to encrypt or decrypt.</p>
</li>
<li>
<p>TDE is not supported by the traditional <code class="codeph">import</code> and <code class="codeph">export</code> utilities or by transportable-tablespace-based <code class="codeph">export</code>. Use the Data Pump <code class="codeph">expdb</code> and <code class="codeph">impdb</code> utilities with encrypted columns instead.</p>
<div class="infoboxnotealso" id="GUID-C9A48AB2-91A2-4440-B28E-ECC53A287742__GUID-E1822910-78F5-47B9-BDC3-053E8A7E9F03">
<p class="notep1">See Also:</p>
<p>&#34;<a class="olink ASOAG600" target="_blank" href="../ASOAG/asopart1.htm#ASOAG600"><span class="italic">Oracle Database Advanced Security Guide</span></a> for information about using the <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> statement to create TDE keystores</p>
</div>
</li>
</ul>
</div>
</div>
<a id="ADLOB46127"></a><a id="ADLOB46128"></a><a id="ADLOB46129"></a><a id="ADLOB46130"></a><a id="ADLOB45962"></a>
<div class="props_rev_3"><a id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC"></a>
<h5 id="ADLOB-GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC" class="sect5">Examples of CREATE TABLE and SecureFiles Encryption</h5>
<div>
<p>These examples demonstrate how to issue <code class="codeph">CREATE TABLE</code> statements for specific encryption scenarios.</p>
<div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-AF5A73D4-A816-47BB-BBDB-3E707D565E06">
<p class="titleinexample">Example 4-11 Creating a SecureFiles LOB Column with a Specific Encryption Algorithm</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB ENCRYPT USING &#39;AES128&#39;)
    LOB(a) STORE AS SECUREFILE (
         CACHE
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-F20D76C2-6B5A-4549-8454-33BB76D5DAC5">
<p class="titleinexample">Example 4-12 Creating a SecureFiles LOB column with encryption for all partitions</p>
<pre dir="ltr">CREATE TABLE t1 ( REGION VARCHAR2(20), a BLOB)
  LOB(a) STORE AS SECUREFILE (
  ENCRYPT USING &#39;AES128&#39;
  NOCACHE
  FILESYSTEM_LIKE_LOGGING
)
PARTITION BY LIST (REGION) (
PARTITION p1 VALUES (&#39;x&#39;, &#39;y&#39;),
PARTITION p2 VALUES (DEFAULT)
);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-8B1CD51F-EB9F-434B-946A-334B49D2C840">
<p class="titleinexample">Example 4-13 Creating a SecureFiles LOB Column with Encryption Based on a Password Key</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB ENCRYPT IDENTIFIED BY foo)
    LOB(a) STORE AS SECUREFILE (
        CACHE
    );
</pre>
<p>The following example has the same result because the encryption option can be set in the <code class="codeph">LOB_deduplicate_clause</code> section of the statement:</p>
<pre dir="ltr">CREATE TABLE t1 (a CLOB)
    LOB(a) STORE AS SECUREFILE (
        CACHE
        ENCRYPT
        IDENTIFIED BY foo
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-5EC208EB-3D6D-4D33-B434-A09FF16A15AC__GUID-4504EE95-2F0A-451F-804E-8B902CD4DF5B">
<p class="titleinexample">Example 4-14 Creating a SecureFiles LOB Column with Disabled Encryption</p>
<pre dir="ltr">CREATE TABLE t1 ( a CLOB )
    LOB(a) STORE AS SECUREFILE (
        CACHE DECRYPT
    );
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
</div>
<a id="ADLOB45963"></a>
<div class="props_rev_3"><a id="GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F"></a>
<h2 id="ADLOB-GUID-E82DC080-8AA0-46F5-B6C6-DDAB7105BC9F" class="sect2">ALTER TABLE with LOB Storage</h2>
<div>
<p>You can modify LOB storage with an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement and specific LOB-related parameters.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-57EF50BD-2BC4-4E19-A109-145323D23E42" title="You can use ALTER TABLE to enable compression, deduplication, or encryption features for a LOB column.">About ALTER TABLE and LOB Storage</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" title="This Backus Naur (BNF) notation provides the syntax for ALTER TABLE with LOB-specific parameters in bold.">BNF for the ALTER TABLE Statement</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" title="You must use specific parameters of the ALTER TABLE statement that relate to LOB storage.">ALTER TABLE LOB Storage Parameters</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9" title="Certain features specific to SecureFiles LOBs work with the ALTER TABLEstatement.">ALTER TABLE SecureFiles LOB Features</a></p>
</li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-57EF50BD-2BC4-4E19-A109-145323D23E42"></a>
<h3 id="ADLOB-GUID-57EF50BD-2BC4-4E19-A109-145323D23E42" class="sect3">About ALTER TABLE and LOB Storage</h3>
<div>
<p>You can use <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> to enable compression, deduplication, or encryption features for a LOB column.</p>
<p>The <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement supports online operations (see <a class="olink SQLRF53453" target="_blank" href="../SQLRF/statements_3001.htm#SQLRF53453">Oracle Database SQL Language Reference</a>) and Oracle Database supports parallel operations on SecureFiles LOBs columns, making this a resource-efficient approach.</p>
<p>As an alternative to <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, you can use online redefinition to enable one or more of these features. As with <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, online redefinition of SecureFiles LOB columns can be executed in parallel. See <span class="q">&#34;<a href="adlob_smart.htm#GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" title="Migrating BasicFiles LOB columns generates redo data, which can cause performance problems. Online redefinition is the recommended method for migration of BasicFiles LOBs to SecureFiles LOBs.You can migrate a table using Online Redefinition. You can redefine a SecureFiles LOB column in parallel, if the system has sufficient resources for parallel execution.">Migrating Columns from BasicFiles LOBs to SecureFiles LOBs</a>&#34;</span> for details of online redefinition and <a class="olink ARPLS042" target="_blank" href="../ARPLS/d_redefi.htm#ARPLS042"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for the <code class="codeph">DBMS_REDEFINITION</code> package.</p>
<p>Note that the <code class="codeph">SHRINK</code> option is not supported for SecureFiles LOBs.</p>
</div>
</div>
<a id="ADLOB46131"></a>
<div class="props_rev_3"><a id="GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A"></a>
<h3 id="ADLOB-GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" class="sect3">BNF for the ALTER TABLE Statement</h3>
<div>
<p>This Backus Naur (BNF) notation provides the syntax for <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> with LOB-specific parameters in bold.</p>
<div class="section">
<p>See <span class="q">&#34;<a href="adlob_smart.htm#GUID-751E9A34-CEFB-405E-8CC1-27A28C802E8C" title="The CREATE TABLE statement uses parameters relating to LOB storage, and more specifically to either BasicFiles LOB or SecureFiles LOB.">CREATE TABLE LOB Storage Parameters</a>&#34;</span> for these parameter descriptions and the <code class="codeph">ALTER TABLE</code> <span>statement,</span> <a class="olink SQLRF20015" target="_blank" href="../SQLRF/statements_3001.htm#SQLRF20015"><span class="italic">Oracle Database SQL Language Reference</span></a>, for complete reference.</p>
<pre dir="ltr"><span class="bold">ALTER</span> <span class="bold">TABLE</span> [ schema.]table
</pre>
<pre dir="ltr">  [ alter_table_properties
</pre>
<pre dir="ltr">  | column_clauses
</pre>
<pre dir="ltr">  | constraint_clauses
</pre>
<pre dir="ltr">  | alter_table_partitioning
</pre>
<pre dir="ltr">  | alter_external_table_clauses
</pre>
<pre dir="ltr">  | move_table_clause
</pre>
<pre dir="ltr">  ]
</pre>
<pre dir="ltr">    [ enable_disable_clause
</pre>
<pre dir="ltr">    | { <span class="bold">ENABLE</span> | <span class="bold">DISABLE</span> }
</pre>
<pre dir="ltr">      { <span class="bold">TABLE</span> <span class="bold">LOCK</span> | <span class="bold">ALL</span> <span class="bold">TRIGGERS</span> }
</pre>
<pre dir="ltr">    [ enable_disable_clause
</pre>
<pre dir="ltr">    | { <span class="bold">ENABLE</span> | <span class="bold">DISABLE</span> }
</pre>
<pre dir="ltr">      { <span class="bold">TABLE</span> <span class="bold">LOCK</span> | <span class="bold">ALL</span> <span class="bold">TRIGGERS</span> }
</pre>
<pre dir="ltr">    ]...
</pre>
<pre dir="ltr">  ] ;
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;column_clauses&gt; ::=
</pre>
<pre dir="ltr">  { { add_column_clause
</pre>
<pre dir="ltr">    | modify_column_clause
</pre>
<pre dir="ltr">    | drop_column_clause
</pre>
<pre dir="ltr">    }
</pre>
<pre dir="ltr">    [ add_column_clause
</pre>
<pre dir="ltr">    | modify_column_clause
</pre>
<pre dir="ltr">    | drop_column_clause
</pre>
<pre dir="ltr">    ]...
</pre>
<pre dir="ltr">  | rename_column_clause
</pre>
<pre dir="ltr">  | modify_collection_retrieval
</pre>
<pre dir="ltr">    [ modify_collection_retrieval ]...
</pre>
<pre dir="ltr">  | modify_LOB_storage_clause
</pre>
<pre dir="ltr">    [ modify_LOB_storage_clause ] ...
</pre>
<pre dir="ltr">  | alter_varray_col_properties
</pre>
<pre dir="ltr">    [ alter_varray_col_properties ]
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;modify_LOB_storage_clause&gt; ::=
</pre>
<pre dir="ltr"><span class="bold">MODIFY</span> <span class="bold">LOB</span> (LOB_item) ( modify_LOB_parameters )
</pre>
<pre dir="ltr"> 
</pre>
<pre dir="ltr">&lt;modify_LOB_parameters&gt; ::=
</pre>
<pre dir="ltr">{ storage_clause
</pre>
<pre dir="ltr">| <span class="bold">PCTVERSION</span> integer
</pre>
<pre dir="ltr">| <span class="bold">FREEPOOLS</span> integer
</pre>
<pre dir="ltr">| <span class="bold">REBUILD FREEPOOLS</span>
</pre>
<pre dir="ltr">| LOB_retention_clause
</pre>
<pre dir="ltr">| LOB_deduplicate_clause
</pre>
<pre dir="ltr">| LOB_compression_clause
</pre>
<pre dir="ltr">| { <span class="bold">ENCRYPT</span> encryption_spec | <span class="bold">DECRYPT</span> }
</pre>
<pre dir="ltr">| { <span class="bold">CACHE</span> 
</pre>
<pre dir="ltr">  | { <span class="bold">NOCACHE</span> | <span class="bold">CACHE</span> <span class="bold">READS</span> } [ logging_clause ]
</pre>
<pre dir="ltr">  }
</pre>
<pre dir="ltr">| allocate_extent_clause
</pre>
<pre dir="ltr">| shrink_clause
</pre>
<pre dir="ltr">| deallocate_unused_clause
</pre>
<pre dir="ltr">} ...
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADLOB46133"></a><a id="ADLOB46132"></a>
<div class="props_rev_3"><a id="GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25"></a>
<h3 id="ADLOB-GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" class="sect3">ALTER TABLE LOB Storage Parameters</h3>
<div>
<p>You must use specific parameters of the <code class="codeph">ALTER TABLE</code> statement that relate to LOB storage.</p>
<div class="section">
<p>Parameters may be specific to BasicFiles LOB or SecureFiles LOB storage, as indicated.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25__GUID-6ADDB005-8EB6-4023-A77A-B83DA07B7DD9">
<p class="titleintable">Table 4-2 Parameters of ALTER TABLE Statement Related to LOBs</p>
<table class="cellalignment2789" title="Parameters of ALTER TABLE Statement Related to LOBs" summary="Column 1 is a parameter of CREATE TABLE statement, with a link to its full description. Column 2 is a brief description of the parameter.">
<thead>
<tr class="cellalignment2783">
<th class="cellalignment2823" id="d9489e3929">Parameter</th>
<th class="cellalignment2896" id="d9489e3932">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e3937" headers="d9489e3929">
<p><a id="d9489e3939" class="indexterm-anchor"></a><code class="codeph">RETENTION</code></p>
</td>
<td class="cellalignment2897" headers="d9489e3937 d9489e3932">
<p>Configures the LOB column to store old versions of LOB data in a specified manner. Altering <code class="codeph">RETENTION</code> only affects space created after the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement runs.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e3956" headers="d9489e3929">
<p><a id="d9489e3958" class="indexterm-anchor"></a><a id="d9489e3960" class="indexterm-anchor"></a><code class="codeph">COMPRESS</code> or <code class="codeph">NOCOMPRESS</code></p>
</td>
<td class="cellalignment2897" headers="d9489e3956 d9489e3932">
<p>Enables or disables Advanced LOB Compression. All LOBs in the LOB segment are altered with the new setting.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e3971" headers="d9489e3929">
<p><a id="d9489e3973" class="indexterm-anchor"></a><a id="d9489e3975" class="indexterm-anchor"></a><code class="codeph">DEDUPLICATE</code> or <code class="codeph">KEEP_DUPLICATES</code></p>
</td>
<td class="cellalignment2897" headers="d9489e3971 d9489e3932">
<p>Enables or disables Advanced LOB Deduplication.</p>
<p>The option <code class="codeph">DEDUPLICATE</code> enables you to specify that LOB data that is identical in two or more rows in a LOB column share the same data blocks. The database combines LOBs with identical content into a single copy, reducing storage and simplifying storage management. The opposite of this option is <code class="codeph">KEEP_DUPLICATES</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2825" id="d9489e3994" headers="d9489e3929">
<p><a id="d9489e3996" class="indexterm-anchor"></a><a id="d9489e3998" class="indexterm-anchor"></a><code class="codeph">ENCRYPT</code> or <code class="codeph">DECRYPT</code></p>
</td>
<td class="cellalignment2897" headers="d9489e3994 d9489e3932">
<p>Enables or disables SecureFiles LOB encryption. Alters all LOBs in the LOB segment with the new setting. A LOB segment can be only altered to enable or disable LOB encryption. That is, <code class="codeph">ALTER</code> cannot be used to update the encryption algorithm or the encryption key. Update the encryption algorithm or encryption key using the <code class="codeph">ALTER TABLE REKEY</code> syntax.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADLOB46178"></a>
<div class="props_rev_3"><a id="GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9"></a>
<h3 id="ADLOB-GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9" class="sect3">ALTER TABLE SecureFiles LOB Features</h3>
<div>
<p>Certain features specific to SecureFiles LOBs work with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>statement.</p>
<p>These SecureFiles LOBs features work with <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> as described in the usage notes and examples.</p>
<div class="infobox-note" id="GUID-3F76D891-BAE3-463B-9109-0D7674AF8DA9__GUID-E0AF9DBA-C73C-49BA-A23A-7BA6D9540BE6">
<p class="notep1">Note:</p>
<p>Clauses in example discussions refer to the Backus Naur (BNF) notation <span class="q">&#34;<a href="adlob_smart.htm#GUID-BFA5A4D5-652A-4C8D-8CFB-DEB6E7A46C9A" title="This Backus Naur (BNF) notation provides the syntax for ALTER TABLE with LOB-specific parameters in bold.">BNF for the ALTER TABLE Statement</a>&#34;</span>.</p>
<p>Parameters are described in <span class="q">&#34;<a href="adlob_smart.htm#GUID-B464E26A-BEA3-4F2A-85AF-D5A394957F25" title="You must use specific parameters of the ALTER TABLE statement that relate to LOB storage.">ALTER TABLE LOB Storage Parameters</a>&#34;</span>.</p>
</div>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" title="Advanced LOB Compression works with the ALTER TABLE statement.">ALTER TABLE with Advanced LOB Compression</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" title="Advanced LOB Deduplication works with the ALTER TABLE statement.">ALTER TABLE with Advanced LOB Deduplication</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" title="SecureFiles Encryption works with the ALTER TABLE statement.">ALTER TABLE with SecureFiles Encryption</a></p>
</li>
</ul>
</div>
<a id="ADLOB45970"></a>
<div class="props_rev_3"><a id="GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD"></a>
<h4 id="ADLOB-GUID-3DE5B204-7398-43AC-930C-5956A86AFFAD" class="sect4">ALTER TABLE with Advanced LOB Compression</h4>
<div>
<p>Advanced LOB Compression works with the <code class="codeph">ALTER TABLE</code> statement.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3" title="Consider these issues when using ALTER TABLE and Advanced LOB Compression.">Usage Notes for Advanced LOB Compression</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A" title="These examples demonstrate how to issue ALTER TABLE statements for specific compression scenarios.">Examples of ALTER TABLE and Advanced LOB Compression</a></p>
</li>
</ul>
</div>
<a id="ADLOB46134"></a>
<div class="props_rev_3"><a id="GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3"></a>
<h5 id="ADLOB-GUID-0A7FD291-8D0F-435E-91A9-D7C4713B45E3" class="sect5">Usage Notes for Advanced LOB Compression</h5>
<div>
<p>Consider these issues when using <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> and Advanced LOB Compression.</p>
<ul style="list-style-type: disc;">
<li>
<p>This syntax alters the compression mode of the LOB column.</p>
</li>
<li>
<p>The <code class="codeph">DBMS_LOB.SETOPTIONS</code> procedure can enable or disable compression on individual LOBs.</p>
</li>
<li>
<p>Compression may be specified either at the table level or the partition level.</p>
</li>
<li>
<p>The <code class="codeph">LOW</code>, <code class="codeph">MEDIUM</code>, and <code class="codeph">HIGH</code> options provide varying degrees of compression. The higher the compression, the higher the latency incurred. The <code class="codeph">HIGH</code> setting incurs more work, but compresses the data better. The default is <code class="codeph">MEDIUM</code>. See <span class="q">&#34;<a href="adlob_smart.htm#GUID-89992EE0-4939-42BD-8B48-443AC2E02E9A" title="You can use Advanced LOB Compression with the CREATE TABLE statement under certain circumstances.">CREATE TABLE with Advanced LOB Compression</a>&#34;</span>.</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB46135"></a><a id="ADLOB46136"></a><a id="ADLOB46137"></a><a id="ADLOB46138"></a><a id="ADLOB45971"></a>
<div class="props_rev_3"><a id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A"></a>
<h5 id="ADLOB-GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A" class="sect5">Examples of ALTER TABLE and Advanced LOB Compression</h5>
<div>
<p>These examples demonstrate how to issue <code class="codeph">ALTER TABLE</code> statements for specific compression scenarios.</p>
<div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-1589EC5A-A784-4F84-ACEB-FF848375A0BE">
<p class="titleinexample">Example 4-15 Altering a SecureFiles LOB Column to Enable LOW Compression</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY
   LOB(a) (
           COMPRESS LOW
   );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-81F81CD7-F5C8-4EDA-8263-56E36B5D27EB">
<p class="titleinexample">Example 4-16 Altering a SecureFiles LOB Column to Disable Compression</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY 
    LOB(a) (
         NOCOMPRESS
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-A538A1E5-6FFE-4E31-9542-AB373C5F49F9">
<p class="titleinexample">Example 4-17 Altering a SecureFiles LOB Column to Enable HIGH Compression</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY 
    LOB(a) (
         COMPRESS HIGH
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-C3D580A4-B3B4-49D7-9187-CD0260FBD42A__GUID-7838587B-771E-44C8-8F26-333332CECE1F">
<p class="titleinexample">Example 4-18 Altering a SecureFiles LOB Column to Enable Compression on One partition</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY PARTITION p1
    LOB(a) (
         COMPRESS HIGH
    );
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADLOB45968"></a>
<div class="props_rev_3"><a id="GUID-457FC42E-B70D-4A06-8AE0-0B1319957050"></a>
<h4 id="ADLOB-GUID-457FC42E-B70D-4A06-8AE0-0B1319957050" class="sect4">ALTER TABLE with Advanced LOB Deduplication</h4>
<div>
<p>Advanced LOB Deduplication works with the <code class="codeph">ALTER TABLE</code> statement.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-43A69E35-FA3F-4732-9066-12587B881131" title="Consider these issues when using ALTER TABLE and Advanced LOB Deduplication.">Usage Notes for Advanced LOB Deduplication</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5" title="These examples demonstrate how to issue ALTER TABLE statements for specific deduplication scenarios.">Examples of ALTER TABLE and Advanced LOB Deduplication</a></p>
</li>
</ul>
</div>
<a id="ADLOB46139"></a>
<div class="props_rev_3"><a id="GUID-43A69E35-FA3F-4732-9066-12587B881131"></a>
<h5 id="ADLOB-GUID-43A69E35-FA3F-4732-9066-12587B881131" class="sect5">Usage Notes for Advanced LOB Deduplication</h5>
<div>
<p>Consider these issues when using <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> and Advanced LOB Deduplication.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> syntax can enable or disable LOB-level deduplication.</p>
</li>
<li>
<p>This syntax alters the deduplication mode of the LOB column.</p>
</li>
<li>
<p>The <code class="codeph">DBMS_LOB.SETOPTIONS</code> procedure can enable or disable deduplication on individual LOBs.</p>
</li>
<li>
<p>Deduplication can be specified at a table level or partition level. Deduplication does not span across partitioned LOBs.</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB46140"></a><a id="ADLOB46141"></a><a id="ADLOB46142"></a><a id="ADLOB45969"></a>
<div class="props_rev_3"><a id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5"></a>
<h5 id="ADLOB-GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5" class="sect5">Examples of ALTER TABLE and Advanced LOB Deduplication</h5>
<div>
<p>These examples demonstrate how to issue <code class="codeph">ALTER TABLE</code> statements for specific deduplication scenarios.</p>
<div class="example" id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5__GUID-A32AD97A-3E04-455E-80FA-E98E3D00E63C">
<p class="titleinexample">Example 4-19 Altering a SecureFiles LOB Column to Disable Deduplication</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY 
     LOB(a) (
         KEEP_DUPLICATES 
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5__GUID-6D436B11-640D-44D3-9B82-1693860B1B8B">
<p class="titleinexample">Example 4-20 Altering a SecureFiles LOB Column to Enable Deduplication</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY 
    LOB(a) (
         DEDUPLICATE
    );
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5D36440-A2EB-46C7-B447-79F25C4F06F5__GUID-4471617F-351D-4B00-AB33-25249F77E993">
<p class="titleinexample">Example 4-21 Altering a SecureFiles LOB Column to Enable Deduplication on One Partition</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY PARTITION p1
    LOB(a) (
         DEDUPLICATE
    );
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADLOB45972"></a>
<div class="props_rev_3"><a id="GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990"></a>
<h4 id="ADLOB-GUID-73E64636-83C4-4B2D-A6F1-563A17FE7990" class="sect4">ALTER TABLE with SecureFiles Encryption</h4>
<div>
<p>SecureFiles Encryption works with the <code class="codeph">ALTER TABLE</code> statement.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-E2570018-0365-46FC-845E-0ADB540B576F" title="Consider these issues when using ALTER TABLE and SecureFiles Encryption.">Usage Notes for SecureFiles Encryption</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38" title="These examples demonstrate how to issue ALTER TABLE statements for specific encryption scenarios.">Examples of ALTER TABLE and SecureFiles Encryption</a></p>
</li>
</ul>
</div>
<a id="ADLOB46143"></a>
<div class="props_rev_3"><a id="GUID-E2570018-0365-46FC-845E-0ADB540B576F"></a>
<h5 id="ADLOB-GUID-E2570018-0365-46FC-845E-0ADB540B576F" class="sect5">Usage Notes for SecureFiles Encryption</h5>
<div>
<p>Consider these issues when using <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> and SecureFiles Encryption.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> enables and disables SecureFiles Encryption. This syntax also allows the user to re-key LOB columns with a new key or algorithm.</p>
</li>
<li>
<p><code class="codeph">ENCRYPT</code> and <code class="codeph">DECRYPT</code> options enable or disable encryption on all LOBs in the specified SecureFiles LOB column.</p>
</li>
<li>
<p>The default for LOB encryption is <code class="codeph">SALT</code>. <code class="codeph">NO</code> <code class="codeph">SALT</code> is not supported.</p>
</li>
<li>
<p>The <code class="codeph">DECRYPT</code> option converts encrypted columns to clear text form.</p>
</li>
<li>
<p>Key management controls the ability to encrypt or decrypt.</p>
</li>
<li>
<p>LOBs can be encrypted only on a per-column basis. A partitioned LOB has either all partitions encrypted or not encrypted.</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB46144"></a><a id="ADLOB46145"></a><a id="ADLOB46146"></a><a id="ADLOB45973"></a>
<div class="props_rev_3"><a id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38"></a>
<h5 id="ADLOB-GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38" class="sect5">Examples of ALTER TABLE and SecureFiles Encryption</h5>
<div>
<p>These examples demonstrate how to issue <code class="codeph">ALTER TABLE</code> statements for specific encryption scenarios.</p>
<div class="example" id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38__GUID-E4649CDF-E879-4D36-89EF-DD3C03B72262">
<p class="titleinexample">Example 4-22 Altering a SecureFiles LOB Column by Encrypting Based on a Specific Algorithm</p>
<p>Enable LOB encryption using <code class="codeph">3DES168</code>.</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY 
      ( a CLOB ENCRYPT USING &#39;3DES168&#39;);
</pre>
<p>This is another example of enabling LOB encryption using <code class="codeph">3DES168</code>.</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY LOB(a)
      (ENCRYPT USING &#39;3DES168&#39;);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38__GUID-AB099D30-548D-4C4D-B837-0607FA539CBD">
<p class="titleinexample">Example 4-23 Altering a SecureFiles LOB Column by Encrypting Based on a Password Key</p>
<p>Enable encryption on a SecureFiles LOB column and build the encryption key using a password.</p>
<pre dir="ltr">ALTER TABLE t1 MODIFY 
    ( a CLOB ENCRYPT IDENTIFIED BY foo);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-A676B9F2-2231-4577-9A1D-FCEBC8DAED38__GUID-7F91D6FA-2778-482A-9F16-8B7B39338B24">
<p class="titleinexample">Example 4-24 Altering a SecureFiles LOB Column by Re-keying the Encryption</p>
<p>To re-encrypt the LOB column with a new key, re-key the table.</p>
<pre dir="ltr">ALTER TABLE t1 REKEY USING &#39;3DES168&#39;;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
</div>
<a id="ADLOB46179"></a>
<div class="props_rev_3"><a id="GUID-5D305904-4685-45AE-A60F-4C491AFD98BD"></a>
<h2 id="ADLOB-GUID-5D305904-4685-45AE-A60F-4C491AFD98BD" class="sect2">Initialization, Compatibility, and Upgrading</h2>
<div>
<p>You must perform LOB initialization using appropriate compatibility parameters.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" title="All features described in this document are enabled with compatibility set to 11.2.0.0.0 or higher. There is no downgrade capability after 11.2.0.0.0 is set.">Compatibility and Upgrading</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A" title="You, as database administrator, using the DB_SECUREFILE initialization parameter, can modify the initial settings that the COMPATIBILITY parameter sets as default.">Initialization Parameter for SecureFiles LOBs</a></p>
</li>
</ul>
</div>
<a id="ADLOB45230"></a>
<div class="props_rev_3"><a id="GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91"></a>
<h3 id="ADLOB-GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" class="sect3">Compatibility and Upgrading</h3>
<div>
<p>All features described in this document are enabled with compatibility set to <code class="codeph">11.2.0.0.0</code> or higher. There is no downgrade capability after <code class="codeph">11.2.0.0.0</code> is set.</p>
<p>If you want to upgrade BasicFiles LOBs to SecureFiles LOBs, you must use typical methods for upgrading data (CTAS/ITAS, online redefinition, export/import, column to column copy, or using a view and a new column). Most of these solutions require twice the disk space used by the data in the input LOB column. However, partitioning and taking these actions on a partition-by-partition basis lowers the disk space requirements.</p>
</div>
</div>
<a id="ADLOB46148"></a><a id="ADLOB45228"></a>
<div class="props_rev_3"><a id="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A"></a>
<h3 id="ADLOB-GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A" class="sect3">Initialization Parameter for SecureFiles LOBs</h3>
<div>
<p>You, as database administrator, using the <code class="codeph">DB_SECUREFILE</code> initialization parameter, can modify the initial settings that the <code class="codeph">COMPATIBILITY</code> parameter sets as default.</p>
<p>By changing the intial settings, you change the circumstances under which SecureFiles LOBs or BasicFiles LOBs are created or allowed. The <code class="codeph">DB_SECUREFILE</code> parameter is typically set in the file <code class="codeph">init.ora</code>. See <span class="q">&#34;<a href="adlob_smart.htm#GUID-D97366FB-4D91-43CC-8D0B-6577C1B9CA91" title="All features described in this document are enabled with compatibility set to 11.2.0.0.0 or higher. There is no downgrade capability after 11.2.0.0.0 is set.">Compatibility and Upgrading</a>&#34;</span>.</p>
<div class="infoboxnotealso" id="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A__GUID-0B3E2E38-66D0-49AF-8FA8-A17ADDC67B9F">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10290" target="_blank" href="../REFRN/GUID-6F7C5E21-3929-4AB1-9C72-1BB9BDDB011F.htm#REFRN10290"><span class="italic">Oracle Database Reference</span></a></p>
</div>
<p>The <code class="codeph">DB_SECUREFILE</code> initialization parameter is dynamic and can be modified with the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement. <a href="adlob_smart.htm#GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A__BABEEBCF">Example 4-25</a> shows the format for changing the parameter value:</p>
<p>The valid values for <code class="codeph">DB_SECUREFILE</code> are:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">NEVER</code> prevents SecureFiles LOBs from being created. If <code class="codeph">NEVER</code> is specified, any LOBs that are specified as SecureFiles LOBs are created as BasicFiles LOBs. If storage options are not specified, the BasicFiles LOB defaults are used. All SecureFiles LOB-specific storage options and features such as compress, encrypt, or deduplicate throw an exception.</p>
</li>
<li>
<p><code class="codeph">IGNORE</code> disallows SecureFiles LOBs and ignores any errors that forcing BasicFiles LOBs with SecureFiles LOBs options might cause. If <code class="codeph">IGNORE</code> is specified, the <code class="codeph">SECUREFILE</code> keyword and all SecureFiles LOB options are ignored.</p>
</li>
<li>
<p><code class="codeph">PERMITTED</code> allows SecureFiles LOBs to be created, if specified by users. Otherwise, BasicFiles LOBs are created.</p>
</li>
<li>
<p><code class="codeph">PERFERRED</code> attempts to create a SecureFiles LOB unless BasicFiles LOB is explicitly specified for the LOB or the parent LOB (if the LOB is in a partition or sub-partition). <code class="codeph">PREFERRED</code> is the default value starting with Oracle Database 12<span class="italic">c</span>.</p>
</li>
<li>
<p><code class="codeph">ALWAYS</code> attempts to create SecureFiles LOBs but creates any LOBs not in <a id="d9489e5378" class="indexterm-anchor"></a><code class="codeph">ASSM</code> tablespaces as BasicFiles LOBs, unless the <code class="codeph">SECUREFILE</code> parameter is explicitly specified. Any BasicFiles LOB storage options specified are ignored, and the SecureFiles LOB defaults are used for all storage options not specified.</p>
</li>
<li>
<p><code class="codeph">FORCE</code> attempts to create all LOBs as SecureFiles LOBs even if users specify <code class="codeph">BASICFILE</code>. This option is not recommended. Instead, <code class="codeph">PREFERRED</code> or <code class="codeph">ALWAYS</code> should be used.</p>
</li>
</ul>
<div class="example" id="GUID-AD240DE1-392F-41EC-864D-2D892CF7D45A__BABEEBCF">
<p class="titleinexample">Example 4-25 Setting DB_SECUREFILE parameter through ALTER SYSTEM</p>
<pre dir="ltr">ALTER SYSTEM SET DB_SECUREFILE = &#39;ALWAYS&#39;;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADLOB45231"></a>
<div class="props_rev_3"><a id="GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F"></a>
<h2 id="ADLOB-GUID-95FB6968-59BA-436F-ABEB-F6FA6DD5584F" class="sect2">Migrating Columns from BasicFiles LOBs to SecureFiles LOBs</h2>
<div>
<p>You can use several methods of migrating LOBs columns.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144" title="Migrating BasicFiles LOB columns generates redo data, which can cause performance problems.">Preventing Generation of REDO Data When Migrating to SecureFiles LOBs</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-54445A58-A22C-4125-A539-24CA83017358" title="Online redefinition is the recommended method for migration of BasicFiles LOBs to SecureFiles LOBs.">Online Redefinition for BasicFiles LOBs</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-98C823D4-347F-4C94-B829-18E27E188C2A" title="You can migrate a table using Online Redefinition.">Online Redefinition Example for Migrating Tables with BasicFiles LOBs</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-699CA1F5-4478-410D-94C0-157750C5110A" title="You can redefine a SecureFiles LOB column in parallel, if the system has sufficient resources for parallel execution.">Redefining a SecureFiles LOB in Parallel</a></p>
</li>
</ul>
</div>
<a id="ADLOB45232"></a>
<div class="props_rev_3"><a id="GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144"></a>
<h3 id="ADLOB-GUID-D5C93FF3-7BD5-42A0-8277-D83F4889F144" class="sect3">Preventing Generation of REDO Data When Migrating to SecureFiles LOBs</h3>
<div>
<p>Migrating BasicFiles LOB columns generates redo data, which can cause performance problems.</p>
<div class="section">
<p>Redo changes for the table are logged during the migration process if the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement had the <code class="codeph">LOGGING</code> clause set.</p>
<p>Redo changes for a column being converted from BasicFiles LOB to <span>SecureFiles LOB</span> are logged if <code class="codeph">LOGGING</code> is the storage setting for the SecureFiles LOB column. The logging setting (<code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code>) for the LOB column is inherited from the tablespace in which the LOB is created.</p>
<p>You can prevent redo space generation during migration to SecureFiles LOB.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Specify the <code class="codeph">NOLOGGING</code> storage parameter for any new SecureFiles LOB columns.</p>
<p>You may turn <code class="codeph">LOGGING</code> on when the migration is complete.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45234"></a><a id="ADLOB45235"></a><a id="ADLOB45233"></a>
<div class="props_rev_3"><a id="GUID-54445A58-A22C-4125-A539-24CA83017358"></a>
<h3 id="ADLOB-GUID-54445A58-A22C-4125-A539-24CA83017358" class="sect3">Online Redefinition for BasicFiles LOBs</h3>
<div>
<p>Online redefinition is the recommended method for migration of BasicFiles LOBs to <span>SecureFiles LOB</span>s.</p>
<p>You can perform online redefinition at the table or partition level.</p>
<div class="section">
<p class="subhead3">Online Redefinition Advantage</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>No requirement to take the table or partition offline</p>
</li>
<li>
<p>Can be done in parallel</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Online Redefinition Disadvantages</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Additional storage equal to the entire table or partition required and all LOB segments must be available</p>
</li>
<li>
<p>Global indexes must be rebuilt</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45237"></a><a id="ADLOB45236"></a>
<div class="props_rev_3"><a id="GUID-98C823D4-347F-4C94-B829-18E27E188C2A"></a>
<h3 id="ADLOB-GUID-98C823D4-347F-4C94-B829-18E27E188C2A" class="sect3">Online Redefinition Example for Migrating Tables with BasicFiles LOBs</h3>
<div>
<p>You can migrate a table using Online Redefinition.</p>
<p>Online Redefinition has the advantage of not requiring the table to be off line, but it requires additional free space equal to or even slightly greater than the space used by the table. <a href="adlob_smart.htm#GUID-98C823D4-347F-4C94-B829-18E27E188C2A__BABGGEBB">Example 4-26</a> demonstrates how to migrate a table using Online Redefinition.</p>
<div class="example" id="GUID-98C823D4-347F-4C94-B829-18E27E188C2A__BABGGEBB">
<p class="titleinexample">Example 4-26 Example of Online Redefinition</p>
<pre dir="ltr">REM Grant privileges required for online redefinition.
GRANT EXECUTE ON DBMS_REDEFINITION TO pm;
GRANT ALTER ANY TABLE TO pm;
GRANT DROP ANY TABLE TO pm;
GRANT LOCK ANY TABLE TO pm;
GRANT CREATE ANY TABLE TO pm;
GRANT SELECT ANY TABLE TO pm;
REM Privileges required to perform cloning of dependent objects.
GRANT CREATE ANY TRIGGER TO pm;
GRANT CREATE ANY INDEX TO pm;
CONNECT pm
//  ALTER SESSION FORCE parallel dml;
DROP TABLE cust;
CREATE TABLE cust(c_id NUMBER PRIMARY KEY,
    c_zip NUMBER,
    c_name VARCHAR(30) DEFAULT NULL,
    c_lob CLOB
);
INSERT INTO cust VALUES(1, 94065, &#39;hhh&#39;, &#39;ttt&#39;);
-- Creating Interim Table
-- There is no requirement to specify constraints because they are
-- copied over from the original table.
CREATE TABLE cust_int(c_id NUMBER NOT NULL,
    c_zip NUMBER,
    c_name VARCHAR(30) DEFAULT NULL,
    c_lob CLOB
) LOB(c_lob) STORE AS SECUREFILE (NOCACHE FILESYSTEM_LIKE_LOGGING);
DECLARE
    col_mapping VARCHAR2(1000);
BEGIN
-- map all the columns in the interim table to the original table
    col_mapping :=
    &#39;c_id c_id , &#39;||
    &#39;c_zip c_zip , &#39;||
    &#39;c_name c_name, &#39;||
    &#39;c_lob c_lob&#39;;
DBMS_REDEFINITION.START_REDEF_TABLE(&#39;pm&#39;, &#39;cust&#39;, &#39;cust_int&#39;, col_mapping);
END;
/
DECLARE
    error_count pls_integer := 0;
BEGIN
    DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(&#39;pm&#39;, &#39;cust&#39;, &#39;cust_int&#39;,
      1, TRUE,TRUE,TRUE,FALSE, error_count);
    DBMS_OUTPUT.PUT_LINE(&#39;errors := &#39; || TO_CHAR(error_count));
END;
/
EXEC DBMS_REDEFINITION.FINISH_REDEF_TABLE(&#39;pm&#39;, &#39;cust&#39;, &#39;cust_int&#39;);
-- Drop the interim table
DROP TABLE cust_int;
DESC cust;
-- The following insert statement fails. This illustrates
-- that the primary key constraint on the c_id column is
-- preserved after migration.
INSERT INTO cust VALUES(1, 94065, &#39;hhh&#39;, &#39;ttt&#39;);
SELECT * FROM cust;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADLOB45238"></a>
<div class="props_rev_3"><a id="GUID-699CA1F5-4478-410D-94C0-157750C5110A"></a>
<h3 id="ADLOB-GUID-699CA1F5-4478-410D-94C0-157750C5110A" class="sect3">Redefining a SecureFiles LOB in Parallel</h3>
<div>
<p>You can redefine a SecureFiles LOB column in parallel, if the system has sufficient resources for parallel execution.</p>
<div class="section">
<p>To set up parallel execution of online redefinition, run <code class="codeph">ALTER SESSION.</code></p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Add the following statement after the connect statement<a href="adlob_smart.htm#GUID-98C823D4-347F-4C94-B829-18E27E188C2A__BABGGEBB">Example 4-26</a> in the last section:</p>
<pre dir="ltr">ALTER SESSION FORCE PARALLEL DML;
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADLOB45193"></a>
<div class="props_rev_3"><a id="GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A"></a>
<h2 id="ADLOB-GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" class="sect2">PL/SQL Packages for LOBs and DBFS</h2>
<div>
<p>There are PL/SQL packages that can be used with BasicFiles LOBs and SecureFiles LOBs.</p>
<p>Changes made to accommodate SecureFiles LOBs and DBFS are emphasized.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_smart.htm#GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840" title="The DBMS_LOB package provides subprograms to operate on, or access and manipulate specific parts of a LOB or complete LOBs.">The DBMS_LOB Package Used with SecureFiles LOBs and DBFS</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-D91EC383-D41F-4744-9144-14B045622507" title="Certain constants support DBFS link interfaces.">DBMS_LOB Constants Used with SecureFiles LOBs and DBFS</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" title="You should note that some changes have been made to the DBMS_LOB subprograms over time.">DBMS_LOB Subprograms Used with SecureFiles LOBs and DBFS</a></p>
</li>
<li>
<p><a href="adlob_smart.htm#GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7" title="You can analyze segment growth and space requirements using the DBMS_SPACE PL/SQL package.">DBMS_SPACE Package</a></p>
</li>
</ul>
</div>
<a id="ADLOB45194"></a>
<div class="props_rev_3"><a id="GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840"></a>
<h3 id="ADLOB-GUID-0D34EA09-7A58-4EB4-9D87-9A4D5501C840" class="sect3">The DBMS_LOB Package Used with SecureFiles LOBs and DBFS</h3>
<div>
<p>The <code class="codeph">DBMS_LOB</code> package provides subprograms to operate on, or access and manipulate specific parts of a LOB or complete LOBs.</p>
<p>The <code class="codeph">DBMS_LOB</code> package applies to both SecureFiles LOB and BasicFiles LOB. See <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>, <code class="codeph">DBMS_LOB</code> package for the complete details of this package.</p>
<p><a href="adlob_smart.htm#GUID-D91EC383-D41F-4744-9144-14B045622507" title="Certain constants support DBFS link interfaces.">DBMS_LOB Constants Used with SecureFiles LOBs and DBFS</a> and <a href="adlob_smart.htm#GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" title="You should note that some changes have been made to the DBMS_LOB subprograms over time.">DBMS_LOB Subprograms Used with SecureFiles LOBs and DBFS</a> describe modifications made to the <code class="codeph">DBMS_LOB</code> constants and subprograms with the addition of SecureFiles LOB and Database File System (DBFS), which is introduced in <a href="adlob_fs.htm#GUID-B7A83817-F0D6-4A09-AE98-DFC966783109" title="Conceptually, a database file system is a file system interface placed on top of files and directories that are stored in database tables.Database File System (DBFS) creates a standard file system interface on top of files and directories that are stored in database tables.DBFS is similar to NFS in that it provides a shared network file system that looks like a local file system and has both a server component and a client component.In DBFS, the file server is the Oracle database. For client systems, the Database File System offers several access methods.A content store is a collection of documents.">Introducing the Database File System</a> .</p>
</div>
</div>
<a id="ADLOB45203"></a><a id="ADLOB46180"></a>
<div class="props_rev_3"><a id="GUID-D91EC383-D41F-4744-9144-14B045622507"></a>
<h3 id="ADLOB-GUID-D91EC383-D41F-4744-9144-14B045622507" class="sect3">DBMS_LOB Constants Used with SecureFiles LOBs and DBFS</h3>
<div>
<p>Certain constants support DBFS link interfaces.</p>
<div class="section">
<p><a href="adlob_smart.htm#GUID-D91EC383-D41F-4744-9144-14B045622507__CIHBJECF" title="Column 1 lists a constant, and column 2 provides a description">Table 4-3</a> lists constants that support <a href="glossary.htm#GUID-17752223-6D05-4494-8D2D-606547831280"><span class="xrefglossterm">DBFS Link</span></a> interfaces. For complete information about constants used in the PL/SQL <code class="codeph">DBMS_LOB</code> package, see <a class="olink ARPLS66601" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66601"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-D91EC383-D41F-4744-9144-14B045622507__CIHBJECF">
<p class="titleintable">Table 4-3 DBMS_LOB Constants That Support DBFS Link Interfaces</p>
<table class="cellalignment2789" title="DBMS_LOB Constants That Support DBFS Link Interfaces" summary="Column 1 lists a constant, and column 2 provides a description">
<thead>
<tr class="cellalignment2783">
<th class="cellalignment2790" id="d9489e6204">Constant</th>
<th class="cellalignment2791" id="d9489e6207">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6212" headers="d9489e6204">
<pre dir="ltr">DBFS_LINK_NEVER
</pre></td>
<td class="cellalignment2793" headers="d9489e6212 d9489e6207">
<p>DBFS link state value</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6219" headers="d9489e6204">
<pre dir="ltr">DBFS_LINK_YES
</pre></td>
<td class="cellalignment2793" headers="d9489e6219 d9489e6207">
<p>DBFS link state value</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6226" headers="d9489e6204">
<pre dir="ltr">DBFS_LINK_NO
</pre></td>
<td class="cellalignment2793" headers="d9489e6226 d9489e6207">
<p>DBFS link state value</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6233" headers="d9489e6204">
<pre dir="ltr">DBFS_LINK_CACHE
</pre></td>
<td class="cellalignment2793" headers="d9489e6233 d9489e6207">
<p>Flag used by <code class="codeph">COPY_DBFS_LINK()</code> and <code class="codeph">MOVE_DBFS_LINK()</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6246" headers="d9489e6204">
<pre dir="ltr">DBFS_LINK_NOCACHE
</pre></td>
<td class="cellalignment2793" headers="d9489e6246 d9489e6207">
<p>Flag used by <code class="codeph">COPY_DBFS_LINK()</code> and <code class="codeph">MOVE_DBFS_LINK()</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6259" headers="d9489e6204">
<pre dir="ltr">DBFS_LINK_PATH_MAX_SIZE
</pre></td>
<td class="cellalignment2793" headers="d9489e6259 d9489e6207">
<p>The maximum length of DBFS pathnames; <code class="codeph">1024</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2792" id="d9489e6269" headers="d9489e6204">
<pre dir="ltr">CONTENTTYPE_MAX_SIZE
</pre></td>
<td class="cellalignment2793" headers="d9489e6269 d9489e6207">
<p>The maximum 1-byte ASCII characters for content type; <code class="codeph">128</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADLOB45213"></a><a id="ADLOB46149"></a><a id="ADLOB46181"></a>
<div class="props_rev_3"><a id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8"></a>
<h3 id="ADLOB-GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8" class="sect3">DBMS_LOB Subprograms Used with SecureFiles LOBs and DBFS</h3>
<div>
<p>You should note that some changes have been made to the <code class="codeph">DBMS_LOB</code> subprograms over time.</p>
<div class="section">
<p><a href="adlob_smart.htm#GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__CIHEFBJA" title="Column 1 lists a method, and column 2 provides a description">Table 4-4</a> summarizes changes made to PL/SQL package <code class="codeph">DBMS_LOB</code> subprograms.</p>
<p>Be aware that some of the <code class="codeph">DBMS_LOB</code> operations that existed before Oracle Database 11<span class="italic">g</span> Release 2 throw an exception error if the LOB is a DBFS link. To remedy this problem, modify your applications to explicitly replace the DBFS link with a LOB by calling the <code class="codeph">DBMS_LOB.COPY_FROM_LINK</code> procedure before they make these calls. When the call completes, then the application can move the updated LOB back to DBFS using the <code class="codeph">DBMS_LOB.MOVE_TO_DBFS_LINK</code> procedure, if necessary.</p>
<p>Other <code class="codeph">DBMS_LOB</code> operations that existed before Oracle Database 11<span class="italic">g</span> Release 2 work transparently if the DBFS Link is in a file system that supports streaming. Note that these operations fail if streaming is either not supported or disabled.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-FD35FE2A-7990-45CB-846A-79ACA2075AC8__CIHEFBJA">
<p class="titleintable">Table 4-4 DBMS_LOB Subprograms</p>
<table class="cellalignment2789" title="DBMS_LOB Subprograms" summary="Column 1 lists a method, and column 2 provides a description">
<thead>
<tr class="cellalignment2783">
<th class="cellalignment2807" id="d9489e6389">Subprogram</th>
<th class="cellalignment2870" id="d9489e6392">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6397" headers="d9489e6389">
<p><code class="codeph">APPEND</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6397 d9489e6392">
<p>Appends the contents of the source LOB to the destination LOB</p>
<p>See <a class="olink ARPLS66624" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66624"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6412" headers="d9489e6389">
<p><code class="codeph">COMPARE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6412 d9489e6392">
<p>Compares two LOBs in full or in parts</p>
<p>See <a class="olink ARPLS66647" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66647"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6427" headers="d9489e6389">
<p><code class="codeph">CONVERTTOBLOB</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6427 d9489e6392">
<p>Converts the character data of a <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code> into the specified character set and writes it in binary format to a destination <code class="codeph">BLOB</code></p>
<p>See <a class="olink ARPLS603" target="_blank" href="../ARPLS/d_lob.htm#ARPLS603"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6450" headers="d9489e6389">
<p><code class="codeph">CONVERTTOCLOB</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6450 d9489e6392">
<p>Converts the binary data of a <code class="codeph">BLOB</code> into the specified character set and writes it in character format to a destination <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code></p>
<p>See <a class="olink ARPLS602" target="_blank" href="../ARPLS/d_lob.htm#ARPLS602"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6473" headers="d9489e6389">
<p><code class="codeph">COPY</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6473 d9489e6392">
<p>Copies all or part of the source LOB to the destination LOB</p>
<p>See <a class="olink ARPLS66662" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66662"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6488" headers="d9489e6389">
<p><code class="codeph">COPY_DBFS_LINK</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6488 d9489e6392">
<p>Copies an existing DBFS link into a new LOB</p>
<p>See <a class="olink ARPLS66627" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66627"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6503" headers="d9489e6389">
<p><code class="codeph">COPY_FROM_DBFS_LINK</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6503 d9489e6392">
<p>Copies the specified LOB data from DBFS HSM Store into the database</p>
<p>See <a class="olink ARPLS66630" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66630"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6518" headers="d9489e6389">
<p><code class="codeph">DBFS_LINK_GENERATE_PATHNAME</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6518 d9489e6392">
<p>Returns a unique file path name for creating a DBFS Link</p>
<p>See <a class="olink ARPLS73450" target="_blank" href="../ARPLS/d_lob.htm#ARPLS73450"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6533" headers="d9489e6389">
<p><code class="codeph">ERASE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6533 d9489e6392">
<p>Erases all or part of a LOB</p>
<p>See <a class="olink ARPLS66667" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66667"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6548" headers="d9489e6389">
<p><code class="codeph">FRAGMENT_DELETE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6548 d9489e6392">
<p>Deletes a specified fragment of the LOB</p>
<p>See <a class="olink ARPLS66688" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66688"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6563" headers="d9489e6389">
<p><code class="codeph">FRAGMENT_INSERT</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6563 d9489e6392">
<p>Inserts a fragment of data into the LOB</p>
<p>See <a class="olink ARPLS66691" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66691"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6579" headers="d9489e6389">
<p><code class="codeph">FRAGMENT_MOVE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6579 d9489e6392">
<p>Moves a fragment of a LOB from one location in the LOB to another location</p>
<p>See <a class="olink ARPLS66694" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66694"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6594" headers="d9489e6389">
<p><code class="codeph">FRAGMENT_REPLACE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6594 d9489e6392">
<p>Replaces a fragment of a LOB with new data</p>
<p>See <a class="olink ARPLS66697" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66697"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6609" headers="d9489e6389">
<p><code class="codeph">GET_DBFS_LINK</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6609 d9489e6392">
<p>Returns the DBFS path name for a LOB</p>
<p>See <a class="olink ARPLS66633" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66633"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6624" headers="d9489e6389">
<p><code class="codeph">GET_DBFS_LINK_STATE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6624 d9489e6392">
<p>Returns the linking state of a LOB</p>
<p>See <a class="olink ARPLS66642" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66642"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6639" headers="d9489e6389">
<p><code class="codeph">GETCONTENTTYPE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6639 d9489e6392">
<p>Retrieves the content type string of the LOB data</p>
<p>See <a class="olink ARPLS66702" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66702"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6654" headers="d9489e6389">
<p><code class="codeph">GETOPTIONS</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6654 d9489e6392">
<p>Retrieves the previously set options of a specific LOB</p>
<p>See <a class="olink ARPLS66712" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66712"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
<p>See Also the <a class="olink LNOCI162" target="_blank" href="../LNOCI/oci17msc002.htm#LNOCI162"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> for more information on the corresponding OCI LOB function <code class="codeph">OCILobGetContentType()</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6679" headers="d9489e6389">
<p><code class="codeph">ISSECUREFILE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6679 d9489e6392">
<p>Determines if a LOB is a SecureFiles LOB</p>
<p>See <a class="olink ARPLS74402" target="_blank" href="../ARPLS/d_lob.htm#ARPLS74402"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6694" headers="d9489e6389">
<p><code class="codeph">LOADBLOBFROMFILE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6694 d9489e6392">
<p>Loads <code class="codeph">BFILE</code> data into a <code class="codeph">BLOB</code></p>
<p>See <a class="olink ARPLS66723" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66723"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6714" headers="d9489e6389">
<p><code class="codeph">LOADCLOBFROMFILE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6714 d9489e6392">
<p>Loads <code class="codeph">BFILE</code> data into a <code class="codeph">CLOB</code></p>
<p>If the <code class="codeph">CLOB</code> is linked, an exception is thrown.</p>
<p>See <a class="olink ARPLS66728" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66728"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6739" headers="d9489e6389">
<p><code class="codeph">LOADFROMFILE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6739 d9489e6392">
<p>Loads <code class="codeph">BFILE</code> data into a LOB</p>
<p>See <a class="olink ARPLS66733" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66733"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6757" headers="d9489e6389">
<p><code class="codeph">MOVE_TO_DBFS_LINK</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6757 d9489e6392">
<p>Moves the specified LOB data from the database into DBFS HSM Store</p>
<p>See <a class="olink ARPLS66639" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66639"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6772" headers="d9489e6389">
<p><code class="codeph">READ</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6772 d9489e6392">
<p>Reads data from a LOB</p>
<p>See <a class="olink ARPLS66738" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66738"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6787" headers="d9489e6389">
<p><code class="codeph">SET_DBFS_LINK</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6787 d9489e6392">
<p>Links a LOB with a DBFS path name</p>
<p>See <a class="olink ARPLS66642" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66642"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6801" headers="d9489e6389">
<p><code class="codeph">SETCONTENTTYPE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6801 d9489e6392">
<p>Sets the content type string of the LOB data</p>
<p>See <a class="olink ARPLS66742" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66742"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6816" headers="d9489e6389">
<p><code class="codeph">SETOPTIONS</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6816 d9489e6392">
<p>Sets new options for a specific LOB</p>
<p>See <a class="olink ARPLS66745" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66745"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
<p>See also <a class="olink LNOCI162" target="_blank" href="../LNOCI/oci17msc002.htm#LNOCI162"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> for more information on the corresponding OCI LOB function <code class="codeph">OCILobSetContentType()</code>.</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6841" headers="d9489e6389">
<p><code class="codeph">SUBSTR</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6841 d9489e6392">
<p>Returns a fragment of a LOB</p>
<p>See <a class="olink ARPLS66748" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66748"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6856" headers="d9489e6389">
<p><code class="codeph">TRIM</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6856 d9489e6392">
<p>Trims the LOB to a specified length</p>
<p>See <a class="olink ARPLS66752" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66752"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6871" headers="d9489e6389">
<p><code class="codeph">WRITE</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6871 d9489e6392">
<p>Writes data to a LOB</p>
<p>See <a class="olink ARPLS66755" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66755"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2808" id="d9489e6886" headers="d9489e6389">
<p><code class="codeph">WRITEAPPEND</code></p>
</td>
<td class="cellalignment2871" headers="d9489e6886 d9489e6392">
<p>Appends data to the end of a LOB</p>
<p>See <a class="olink ARPLS66758" target="_blank" href="../ARPLS/d_lob.htm#ARPLS66758"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADLOB45226"></a>
<div class="props_rev_3"><a id="GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7"></a>
<h3 id="ADLOB-GUID-ADD32B32-26B7-4D23-9FDA-2422001082D7" class="sect3">DBMS_SPACE Package</h3>
<div>
<p>You can analyze segment growth and space requirements using the <code class="codeph">DBMS_SPACE</code> PL/SQL package.</p>
<p>The <code class="codeph">DBMS_SPACE</code> PL/SQL package enables you to analyze segment growth and space requirements.</p>
</div>
<a id="ADLOB45227"></a>
<div class="props_rev_3"><a id="GUID-7FC0FDEC-60D0-4108-B5A1-CC61081970BC"></a>
<h4 id="ADLOB-GUID-7FC0FDEC-60D0-4108-B5A1-CC61081970BC" class="sect4">DBMS_SPACE.SPACE_USAGE()</h4>
<div>
<p>The existing <code class="codeph">DBMS_SPACE.SPACE_USAGE</code> procedure is overloaded to return information about LOB space usage.</p>
<p>It returns the amount of disk space in blocks used by all the SecureFiles LOBs in the LOB segment. See <a class="olink ARPLS68113" target="_blank" href="../ARPLS/d_space.htm#ARPLS68113"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information.</p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2782">
<tr>
<td class="cellalignment2794">
<table class="cellalignment2787">
<tr>
<td class="cellalignment2786"><a href="adlob_managing.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2786"><a href="part_securef.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2796">
<table class="cellalignment2785">
<tr>
<td class="cellalignment2786"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2786"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2786"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2786"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2786"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2786"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
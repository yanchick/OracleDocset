<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-129"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/LOB%20APIs%20for%20BFILE%20Operations"></a><title>LOB APIs for BFILE Operations</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="accessing external LOBs, BFILEs, accessing, DIRECTORY object, name specification, names on Windows platforms, security, directories, ownership and privileges, system owned object, See DIRECTORY object, READ permission on object not individual files, SQL DDL, BFILE security, BFILEs using SQL DDL, SQL DML, BFILEs using SQL DML, catalog views, views on DIRECTORY object, guidelines for usage, multithreaded server, locators, BFILEs, two rows can refer to the same file, BFILE guidelines, loading, a LOB with BFILE data, conversions, character set, from binary data to character set, converting to CLOB or NCLOB, amount parameter, used with BFILEs, opening, BFILEs with OPEN, BFILEs using FILEOPEN, open, checking if BFILE is open with ISOPEN, checking for open BFILEs with FILEISOPEN(), LOBs, internal LOBs, initializing, polling, callback, amount, reading, portion of BFILE data using substr, comparing, all or parts of two BFILEs, pattern, check if it exists in BFILE using instr, existence, check for BFILE, maximum number of open, length, getting BFILE, copying, LOB locator for BFILE, getting the alias and filename, closing, BFILEs with FILECLOSE, BFILEs with CLOSE, all open BFILEs, inserting, a row by initializing BFILE locator"/>
<meta name="dcterms.created" content="2017-03-16T22:27:47Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SecureFiles and Large Objects Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17605-12"/>
<meta name="dcterms.isVersionOf" content="ADLOB"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="adlob_data_interface.htm" title="Previous" type="text/html"/>
<link rel="Next" href="adlob_lob_ops.htm" title="Next" type="text/html"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-043A9B91-69C8-44D4-A38A-E872B0A2B9A9"></a> <span id="PAGE" style="display:none;">30/34</span> <!-- End Header -->
<a id="ADLOB012"></a>
<h1 id="ADLOB-GUID-043A9B91-69C8-44D4-A38A-E872B0A2B9A9" class="sect1"><span class="enumeration_chapter">21</span> LOB APIs for BFILE Operations</h1>
<div>
<p>APIs for operations that use <code class="codeph">BFILE</code>s are listed in <a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>.</p>
<p>This information is given for each operation described:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Usage Notes</span> provide implementation guidelines such as information specific to a given programmatic environment or data type.</p>
</li>
<li>
<p><span class="bold">Syntax</span> refers you to the syntax reference documentation for each supported programmatic environment.</p>
</li>
<li>
<p><span class="bold">Examples</span> describe any setup tasks necessary to run the examples given. Demonstration files listed are available in subdirectories under <code class="codeph">$ORACLE_HOME/rdbms/demo/lobs/</code> named <code class="codeph">plsql</code>, <code class="codeph">oci</code>, <code class="codeph">vb</code>, and <code class="codeph">java</code>. The driver program <code class="codeph">lobdemo.sql</code> is in <code class="codeph">/plsql</code> and the driver program <code class="codeph">lobdemo.c</code> is in <code class="codeph">/oci</code>.</p>
<div class="infobox-note" id="GUID-043A9B91-69C8-44D4-A38A-E872B0A2B9A9__GUID-0DC11F77-54DC-4D00-AEC3-AC8EE6A50ACF">
<p class="notep1">Note:</p>
<p>LOB APIs do not support loading data into <code class="codeph">BFILE</code>s. See <span class="q">&#34;<a href="adlob_managing.htm#GUID-6C345C7E-120D-4653-AF13-DB99325D106E" title="There are two general techniques for using SQL*Loader to load data into LOBs">About Using SQL*Loader to Load LOBs</a>&#34;</span> for details on techniques for loading data into <code class="codeph">BFILE</code>s.</p>
</div>
</li>
</ul>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4">Supported Environments for BFILE APIs</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-171CD60A-ADAB-4DB4-8E1C-60A3074EFEFF">About Accessing BFILEs</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-F7440C27-C7F0-4874-8C3C-F3BC1534CBE0">Directory Objects</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-8E287C3F-32D5-4AF6-9858-FDBCFA28A480">BFILENAME and Initialization</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-46DA84E0-3125-459F-8DE9-0D84D8726238">Characteristics of the BFILE Data Type</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-A64086EB-8445-446F-B93D-06996576EC06">BFILE Security</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-F90B8084-BC99-44E0-B720-99733F38BCFA">About Loading a LOB with BFILE Data</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-8EF5851B-4761-41F9-8644-FA2774310EA1">About Opening a BFILE with OPEN</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A">About Opening a BFILE with FILEOPEN</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2">About Determining Whether a BFILE Is Open Using ISOPEN</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-07093E96-982E-4F80-8D91-E658B12AFE0A">About Determining Whether a BFILE Is Open with FILEISOPEN</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-E0BCA195-2C4F-43E9-B9B3-23357572081D">About Displaying BFILE Data</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-1D65DA76-1762-473A-BC7B-1457C76CBC8F">About Reading Data from a BFILE</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-C402C85C-0936-4CA0-8CC7-2A14D9D93253">About Reading a Portion of BFILE Data Using SUBSTR</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-32A40AEE-BD4E-4F08-AE97-40FFC4A7F372">Comparing All or Parts of Two BFILES</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-18962E11-C875-428D-B4E8-A5598ED4E0B0" title="You can determine whether a pattern exists in a BFILE using the INSTRoperation.">Checking If a Pattern Exists in a BFILE Using INSTR</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-EA29C989-CFE8-49F7-8B37-B9A6F8863FAA">Determining Whether a BFILE Exists</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-0826ACC0-2B8C-46A6-8D5A-8CD0B300DF73">Getting the Length of a BFILE</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-1F3EC765-275E-4A7B-A3CC-79B3FAB02E42">About Assigning a BFILE Locator</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-CE75D79D-036D-4C17-8DCA-981D3FB4286D">Getting Directory Object Name and File Name of a BFILE</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-B6E4A363-02DA-4FEB-B382-1F59B29F526D">About Updating a BFILE by Initializing a BFILE Locator</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-EA7896B7-77B4-4634-A3F9-3103C14F883B">Closing a BFILE with FILECLOSE</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16">Closing a BFILE with CLOSE</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-33EBCF95-E453-492B-AA53-E75F0D0DFB64">Closing All Open BFILEs with FILECLOSEALL</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-D243A61C-4445-4AB8-9820-E49C0C18E511">About Inserting a Row Containing a BFILE</a></p>
</li>
</ul>
</div>
<a id="ADLOB45826"></a><a id="ADLOB45825"></a>
<div class="props_rev_3"><a id="GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4"></a>
<h2 id="ADLOB-GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4" class="sect2">Supported Environments for BFILE APIs</h2>
<div>
<p>Those programmatic environments that are supported for the APIs are listed in <a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>. The first column describes the operation that the API performs. The remaining columns indicate with Yes or No whether the API is supported in PL/SQL, OCI, COBOL, Pro*C/C++, and JDBC.</p>
<div class="tblformalwide" id="GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815">
<p class="titleintable">Table 21-1 Environments Supported for BFILE APIs</p>
<table class="cellalignment2809" title="Environments Supported for BFILE APIs" summary="This table is described in the preceding text">
<thead>
<tr class="cellalignment2783">
<th class="cellalignment2832" id="d79506e356">Operation</th>
<th class="cellalignment2833" id="d79506e359">PL/SQL</th>
<th class="cellalignment2833" id="d79506e362">OCI</th>
<th class="cellalignment2833" id="d79506e365">COBOL</th>
<th class="cellalignment2834" id="d79506e368">Pro*C/C++</th>
<th class="cellalignment2833" id="d79506e371">JDBC</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e376" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-D243A61C-4445-4AB8-9820-E49C0C18E511">About Inserting a Row Containing a BFILE</a></p>
</td>
<td class="cellalignment2836" headers="d79506e376 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e376 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e376 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e376 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e376 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e398" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-F90B8084-BC99-44E0-B720-99733F38BCFA">About Loading a LOB with BFILE Data</a></p>
</td>
<td class="cellalignment2836" headers="d79506e398 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e398 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e398 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e398 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e398 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e420" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A">About Opening a BFILE with FILEOPEN</a></p>
</td>
<td class="cellalignment2836" headers="d79506e420 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e420 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e420 d79506e365">
<p>No</p>
</td>
<td class="cellalignment2837" headers="d79506e420 d79506e368">
<p>No</p>
</td>
<td class="cellalignment2836" headers="d79506e420 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e442" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-8EF5851B-4761-41F9-8644-FA2774310EA1">About Opening a BFILE with OPEN</a></p>
</td>
<td class="cellalignment2836" headers="d79506e442 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e442 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e442 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e442 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e442 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e464" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2">About Determining Whether a BFILE Is Open Using ISOPEN</a></p>
</td>
<td class="cellalignment2836" headers="d79506e464 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e464 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e464 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e464 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e464 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e486" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-07093E96-982E-4F80-8D91-E658B12AFE0A">About Determining Whether a BFILE Is Open with FILEISOPEN</a></p>
</td>
<td class="cellalignment2836" headers="d79506e486 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e486 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e486 d79506e365">
<p>No</p>
</td>
<td class="cellalignment2837" headers="d79506e486 d79506e368">
<p>No</p>
</td>
<td class="cellalignment2836" headers="d79506e486 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e508" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-E0BCA195-2C4F-43E9-B9B3-23357572081D">About Displaying BFILE Data</a></p>
</td>
<td class="cellalignment2836" headers="d79506e508 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e508 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e508 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e508 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e508 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e530" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-1D65DA76-1762-473A-BC7B-1457C76CBC8F">About Reading Data from a BFILE</a></p>
</td>
<td class="cellalignment2836" headers="d79506e530 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e530 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e530 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e530 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e530 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e552" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-C402C85C-0936-4CA0-8CC7-2A14D9D93253">About Reading a Portion of BFILE Data Using SUBSTR</a></p>
</td>
<td class="cellalignment2836" headers="d79506e552 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e552 d79506e362">
<p>No</p>
</td>
<td class="cellalignment2836" headers="d79506e552 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e552 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e552 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e574" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-32A40AEE-BD4E-4F08-AE97-40FFC4A7F372">Comparing All or Parts of Two BFILES</a></p>
</td>
<td class="cellalignment2836" headers="d79506e574 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e574 d79506e362">
<p>No</p>
</td>
<td class="cellalignment2836" headers="d79506e574 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e574 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e574 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e596" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-18962E11-C875-428D-B4E8-A5598ED4E0B0" title="You can determine whether a pattern exists in a BFILE using the INSTRoperation.">Checking If a Pattern Exists in a BFILE Using INSTR</a></p>
</td>
<td class="cellalignment2836" headers="d79506e596 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e596 d79506e362">
<p>No</p>
</td>
<td class="cellalignment2836" headers="d79506e596 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e596 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e596 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e628" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-EA29C989-CFE8-49F7-8B37-B9A6F8863FAA">Determining Whether a BFILE Exists</a></p>
</td>
<td class="cellalignment2836" headers="d79506e628 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e628 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e628 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e628 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e628 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e649" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-0826ACC0-2B8C-46A6-8D5A-8CD0B300DF73">Getting the Length of a BFILE</a></p>
</td>
<td class="cellalignment2836" headers="d79506e649 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e649 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e649 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e649 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e649 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e671" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-1F3EC765-275E-4A7B-A3CC-79B3FAB02E42">About Assigning a BFILE Locator</a></p>
</td>
<td class="cellalignment2836" headers="d79506e671 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e671 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e671 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e671 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e671 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e693" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-CE75D79D-036D-4C17-8DCA-981D3FB4286D">Getting Directory Object Name and File Name of a BFILE</a></p>
</td>
<td class="cellalignment2836" headers="d79506e693 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e693 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e693 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e693 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e693 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e715" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-B6E4A363-02DA-4FEB-B382-1F59B29F526D">About Updating a BFILE by Initializing a BFILE Locator</a></p>
</td>
<td class="cellalignment2836" headers="d79506e715 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e715 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e715 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e715 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e715 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e737" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-EA7896B7-77B4-4634-A3F9-3103C14F883B">Closing a BFILE with FILECLOSE</a></p>
</td>
<td class="cellalignment2836" headers="d79506e737 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e737 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e737 d79506e365">
<p>No</p>
</td>
<td class="cellalignment2837" headers="d79506e737 d79506e368">
<p>No</p>
</td>
<td class="cellalignment2836" headers="d79506e737 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e759" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16">Closing a BFILE with CLOSE</a></p>
</td>
<td class="cellalignment2836" headers="d79506e759 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e759 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e759 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e759 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e759 d79506e371">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment2783">
<td class="cellalignment2835" id="d79506e781" headers="d79506e356">
<p><a href="adlob_bfile_ops.htm#GUID-33EBCF95-E453-492B-AA53-E75F0D0DFB64">Closing All Open BFILEs with FILECLOSEALL</a></p>
</td>
<td class="cellalignment2836" headers="d79506e781 d79506e359">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e781 d79506e362">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e781 d79506e365">
<p>Yes</p>
</td>
<td class="cellalignment2837" headers="d79506e781 d79506e368">
<p>Yes</p>
</td>
<td class="cellalignment2836" headers="d79506e781 d79506e371">
<p>Yes</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADLOB45827"></a>
<div class="props_rev_3"><a id="GUID-171CD60A-ADAB-4DB4-8E1C-60A3074EFEFF"></a>
<h2 id="ADLOB-GUID-171CD60A-ADAB-4DB4-8E1C-60A3074EFEFF" class="sect2">About Accessing BFILEs</h2>
<div>
<p>To access <code class="codeph">BFILE</code>s use one of the following interfaces:</p>
<ul style="list-style-type: disc;">
<li>
<p>OCI (Oracle Call Interface)</p>
</li>
<li>
<p>PL/SQL (DBMS_LOB package)</p>
</li>
<li>
<p>Precompilers, such as Pro*C/C++ and Pro*COBOL</p>
</li>
<li>
<p>Java (JDBC)</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-171CD60A-ADAB-4DB4-8E1C-60A3074EFEFF__GUID-853D913D-5187-4473-A805-020455FD1D9E">
<p class="notep1">See Also:</p>
<p><a href="adlob_api_overview.htm#GUID-54BD371D-4486-48FD-BBCE-6374D03E5697">Overview of Supplied LOB APIs</a> for information about supported environments for accessing <code class="codeph">BFILE</code>s.</p>
</div>
</div>
</div>
<a id="ADLOB45828"></a>
<div class="props_rev_3"><a id="GUID-F7440C27-C7F0-4874-8C3C-F3BC1534CBE0"></a>
<h2 id="ADLOB-GUID-F7440C27-C7F0-4874-8C3C-F3BC1534CBE0" class="sect2">Directory Objects</h2>
<div>
<p>The <code class="codeph">DIRECTORY</code> object facilitates administering access and usage of <code class="codeph">BFILE</code> data types.</p>
<p>A <code class="codeph">DIRECTORY</code> object specifies a <span class="italic">logical alias name</span> for a physical directory on the database server file system under which the file to be accessed is located. You can access a file in the server file system only if granted the required access privilege on <code class="codeph">DIRECTORY</code> object. You can also use Oracle Enterprise Manager Cloud Control to manage <code class="codeph">DIRECTORY</code> objects.</p>
<div class="infoboxnotealso" id="GUID-F7440C27-C7F0-4874-8C3C-F3BC1534CBE0__GUID-E665C2DE-2136-47FE-811E-9387BE55E3B2">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> in <a class="olink SQLRF01207" target="_blank" href="../SQLRF/statements_5008.htm#SQLRF01207"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
</li>
<li>
<p>See <a class="olink ADMIN12110" target="_blank" href="../ADMIN/ds_concepts.htm#ADMIN12110"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for the description of Oracle Enterprise Manager Cloud Control</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB45829"></a>
<div class="props_rev_3"><a id="GUID-25C7A763-E27E-4D38-92DE-C7E51E9DD467"></a>
<h3 id="ADLOB-GUID-25C7A763-E27E-4D38-92DE-C7E51E9DD467" class="sect3">Initializing a BFILE Locator</h3>
<div>
<div class="section">
<p>The <code class="codeph">DIRECTORY</code> object provides the flexibility to manage the locations of the files, instead of forcing you to hard-code the absolute path names of physical files in your applications.</p>
<p>A directory object name is used in conjunction with the <code class="codeph">BFILENAME</code> function, in SQL and PL/SQL, or the <code class="codeph">OCILobFileSetName()</code> in OCI, for initializing a <code class="codeph">BFILE</code> locator.</p>
<div class="infoboxnotewarn" id="GUID-25C7A763-E27E-4D38-92DE-C7E51E9DD467__GUID-E66BE3D5-C577-4F7E-8D92-13B0A14D3F70">
<p class="notep1">WARNING:</p>
<p>The database does not verify that the directory and path name you specify actually exist. You should take care to specify a valid directory in your operating system. If your operating system uses case-sensitive path names, then be sure you specify the directory in the correct format. There is no requirement to specify a terminating slash (for example, <code class="codeph">/tmp/</code> is not necessary, simply use <code class="codeph">/tmp</code>).</p>
<p>Directory specifications cannot contain &#34;..&#34; anywhere in the path (for example, <code class="codeph">/abc/def/hij..</code>).</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45830"></a>
<div class="props_rev_3"><a id="GUID-67369525-C7D9-4F94-AD15-2E3E7152AB74"></a>
<h3 id="ADLOB-GUID-67369525-C7D9-4F94-AD15-2E3E7152AB74" class="sect3">How to Associate Operating System Files with a BFILE</h3>
<div>
<div class="section">
<p>To associate an operating system file to a <code class="codeph">BFILE</code>, first create a <code class="codeph">DIRECTORY</code> object which is an alias for the full path name to the operating system file.</p>
<p>To associate existing operating system files with relevant database records of a particular table use Oracle SQL DML (Data Manipulation Language). For example:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Use <code class="codeph">INSERT</code> to initialize a <code class="codeph">BFILE</code> column to point to an existing file in the server file system.</p>
</li>
<li>
<p>Use <code class="codeph">UPDATE</code> to change the reference target of the <code class="codeph">BFILE</code>.</p>
</li>
<li>
<p>Initialize a <code class="codeph">BFILE</code> to <code class="codeph">NULL</code> and then update it later to refer to an operating system file using the <code class="codeph">BFILENAME</code> function.</p>
</li>
<li>
<p>OCI users can also use <code class="codeph">OCILobFileSetName()</code> to initialize a <code class="codeph">BFILE</code> locator variable that is then used in the <code class="codeph">VALUES</code> clause of an <code class="codeph">INSERT</code> statement.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Directory Example</p>
<p>The following statements associate the files <code class="codeph">Image1.gif</code> and <code class="codeph">image2.gif</code> with records having <code class="codeph">key_value</code> of 21 and 22 respectively. &#39;<code class="codeph">IMG</code>&#39; is a <code class="codeph">DIRECTORY</code> object that represents the physical directory under which <code class="codeph">Image1.gif</code> and <code class="codeph">image2.gif</code> are stored.</p>
<p>You may be required to set up data structures similar to the following for certain examples to work:</p>
<pre dir="ltr">CREATE TABLE Lob_table (
   Key_value NUMBER NOT NULL,
   F_lob BFILE)
<span class="bold">   </span>INSERT INTO Lob_table VALUES
      (21,  BFILENAME(&#39;IMG&#39;, &#39;Image1.gif&#39;));
   INSERT INTO Lob_table VALUES
      (22, BFILENAME(&#39;IMG&#39;, &#39;image2.gif&#39;));
</pre>
<p>The following <code class="codeph">UPDATE</code> statement changes the target file to <code class="codeph">image3.gif</code> for the row with <code class="codeph">key_value</code> of 22.</p>
<pre dir="ltr"><span class="bold">  </span> UPDATE Lob_table SET f_lob = BFILENAME(&#39;IMG&#39;, &#39;image3.gif&#39;) 
       WHERE Key_value = 22;
</pre>
<div class="infoboxnotewarn" id="GUID-67369525-C7D9-4F94-AD15-2E3E7152AB74__GUID-03CAE341-B162-43F6-A15D-AC8D1EA33540">
<p class="notep1">WARNING:</p>
<p>The database does not expand environment variables specified in the <code class="codeph">DIRECTORY</code> object or file name of a <code class="codeph">BFILE</code> locator. For example, specifying:</p>
<pre dir="ltr">BFILENAME(&#39;WORK_DIR&#39;, &#39;$MY_FILE&#39;) 
</pre>
<p>where <code class="codeph">MY_FILE</code>, an environment variable defined in the operating system, is not valid.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADLOB45832"></a>
<div class="props_rev_3"><a id="GUID-8E287C3F-32D5-4AF6-9858-FDBCFA28A480"></a>
<h2 id="ADLOB-GUID-8E287C3F-32D5-4AF6-9858-FDBCFA28A480" class="sect2">BFILENAME and Initialization</h2>
<div>
<p><a id="d79506e1369" class="indexterm-anchor"></a><code class="codeph">BFILENAME</code> is a built-in function that you use to initialize a <code class="codeph">BFILE</code> column to point to an external file.</p>
<p>Once physical files are associated with records using SQL DML, subsequent read operations on the <code class="codeph">BFILE</code> can be performed using PL/SQL <code class="codeph">DBMS_LOB</code> package and OCI. However, these files are read-only when accessed through <code class="codeph">BFILE</code>s, and so they cannot be updated or deleted through <code class="codeph">BFILE</code>s.</p>
<p>As a consequence of the <a id="d79506e1393" class="indexterm-anchor"></a>reference-based <a id="d79506e1398" class="indexterm-anchor"></a>semantics for <code class="codeph">BFILEs</code>, it is possible to have multiple <code class="codeph">BFILE</code> columns in the same record or different records referring to the same file. For example, the following <code class="codeph">UPDATE</code> statements set the <code class="codeph">BFILE</code> column of the row with <code class="codeph">key_value</code> = 21 in <code class="codeph">lob_table</code> to point to the same file as the row with <code class="codeph">key_value</code> = 22.</p>
<pre dir="ltr">UPDATE lob_table 
   SET f_lob = (SELECT f_lob FROM lob_table WHERE key_value = 22)
      WHERE key_value = 21;
</pre>
<p>Think of <code class="codeph">BFILENAME</code> in terms of initialization &mdash; it can initialize the value for the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">BFILE</code> column</p>
</li>
<li>
<p><code class="codeph">BFILE</code> (automatic) variable declared inside a PL/SQL module</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB45833"></a>
<div class="props_rev_3"><a id="GUID-46DA84E0-3125-459F-8DE9-0D84D8726238"></a>
<h2 id="ADLOB-GUID-46DA84E0-3125-459F-8DE9-0D84D8726238" class="sect2">Characteristics of the BFILE Data Type</h2>
<div>
<p>Using the <code class="codeph">BFILE</code> data type has the following advantages:</p>
<ul style="list-style-type: disc;">
<li>
<p>If your need for a particular <code class="codeph">BFILE</code> is temporary and limited within the module on which you are working, then you can use the <code class="codeph">BFILE</code> related APIs on the variable without ever having to associate this with a column in the database.</p>
</li>
<li>
<p>Because you are not forced to create a <code class="codeph">BFILE</code> column in a server side table, initialize this column value, and then retrieve this column value using a <code class="codeph">SELECT</code>, you save a round-trip to the server.</p>
</li>
</ul>
<p>For more information, refer to the example given for <code class="codeph">DBMS_LOB</code>.<code class="codeph">LOADFROMFILE</code> (see <span class="q">&#34; <a href="adlob_bfile_ops.htm#GUID-F90B8084-BC99-44E0-B720-99733F38BCFA">About Loading a LOB with BFILE Data</a>&#34;</span>).</p>
<p>The OCI counterpart for <code class="codeph">BFILENAME</code> is <code class="codeph">OCILobFileSetName()</code>, which can be used in a similar fashion.</p>
</div>
<a id="ADLOB45834"></a>
<div class="props_rev_3"><a id="GUID-4BD66861-D096-4AFB-8919-41CA0877BEF2"></a>
<h3 id="ADLOB-GUID-4BD66861-D096-4AFB-8919-41CA0877BEF2" class="sect3">DIRECTORY Name Specification</h3>
<div>
<p>You must have <code class="codeph">CREATE ANY DIRECTORY</code> system privilege to create directories.</p>
<p>Path names cannot contain two dots (&#34;..&#34;). The naming convention for <code class="codeph">DIRECTORY</code> objects is the same as that for tables and indexes. That is, normal identifiers are interpreted in uppercase, but delimited identifiers are interpreted as is. For example, the following statement:</p>
<pre dir="ltr">CREATE OR REPLACE DIRECTORY scott_dir AS &#39;/usr/home/scott&#39;;
</pre>
<p>creates or redefines a <code class="codeph">DIRECTORY</code> object whose name is &#39;<code class="codeph">SCOTT_DIR</code>&#39; (in uppercase). But if a delimited identifier is used for the <code class="codeph">DIRECTORY</code> name, as shown in the following statement</p>
<pre dir="ltr">CREATE DIRECTORY &#34;Mary_Dir&#34; AS &#39;/usr/home/mary&#39;;
</pre>
<p>then the directory object name is &#39;<code class="codeph">Mary_Dir</code>&#39;. Use &#39;<code class="codeph">SCOTT_DIR</code>&#39; and &#39;<code class="codeph">Mary_Dir</code>&#39; when calling <code class="codeph">BFILENAME</code>. For example:</p>
<pre dir="ltr">BFILENAME(&#39;SCOTT_DIR&#39;, &#39;afile&#39;)
BFILENAME(&#39;Mary_Dir&#39;, &#39;afile&#39;)
</pre></div>
<a id="ADLOB45835"></a>
<div class="props_rev_3"><a id="GUID-02FE394C-6FB5-4B85-82EC-6E206A2DF4AD"></a>
<h4 id="ADLOB-GUID-02FE394C-6FB5-4B85-82EC-6E206A2DF4AD" class="sect4">On Windows Platforms</h4>
<div>
<p>On Windows platforms the directory names are case-insensitive. Therefore the following two statements refer to the same directory:</p>
<pre dir="ltr">CREATE DIRECTORY &#34;big_cap_dir&#34; AS &#34;g:\data\source&#34;;

CREATE DIRECTORY &#34;small_cap_dir&#34; AS &#34;G:\DATA\SOURCE&#34;;
</pre></div>
</div>
</div>
</div>
<a id="ADLOB45836"></a>
<div class="props_rev_3"><a id="GUID-A64086EB-8445-446F-B93D-06996576EC06"></a>
<h2 id="ADLOB-GUID-A64086EB-8445-446F-B93D-06996576EC06" class="sect2">BFILE Security</h2>
<div>
<p><code class="codeph">BEFILE</code> security concerns the <code class="codeph">BFILE</code> security model and associated SQL statements. The main SQL statements associated with <code class="codeph">BFILE</code> security are:</p>
<ul style="list-style-type: disc;">
<li>
<p>SQL DDL: <code class="codeph">CREATE</code> and <code class="codeph">REPLACE</code> or <code class="codeph">ALTER</code> a <code class="codeph">DIRECTORY</code> object</p>
</li>
<li>
<p>SQL DML: <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> the <code class="codeph">READ</code> system and object privileges on <code class="codeph">DIRECTORY</code> objects</p>
</li>
</ul>
</div>
<a id="ADLOB45837"></a>
<div class="props_rev_3"><a id="GUID-21DB07D0-C09E-4421-9493-E6548B3D4B51"></a>
<h3 id="ADLOB-GUID-21DB07D0-C09E-4421-9493-E6548B3D4B51" class="sect3">Ownership and Privileges</h3>
<div>
<p>The <code class="codeph">DIRECTORY</code> object is a <span class="italic">system owned</span> object.</p>
<p>For more information on system owned objects, see <a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a>. Oracle Database supports two new system privileges, which are granted only to DBA:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code>: For creating or altering the <code class="codeph">DIRECTORY</code> object creation</p>
</li>
<li>
<p><code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code>: For deleting the <code class="codeph">DIRECTORY</code> object</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB45838"></a>
<div class="props_rev_3"><a id="GUID-5FEC9380-2F17-4139-B913-F8C0C8AFC206"></a>
<h3 id="ADLOB-GUID-5FEC9380-2F17-4139-B913-F8C0C8AFC206" class="sect3">Read Permission on a DIRECTORY Object</h3>
<div>
<p><code class="codeph">READ</code> permission on the <code class="codeph">DIRECTORY</code> object enables you to read files located under that directory. The creator of the <code class="codeph">DIRECTORY</code> object automatically earns the <code class="codeph">READ</code> privilege.</p>
<p>If you have been granted the <code class="codeph">READ</code> permission with <code class="codeph">GRANT</code> option, then you may in turn grant this privilege to other users/roles and add them to your privilege domains.</p>
<div class="infobox-note" id="GUID-5FEC9380-2F17-4139-B913-F8C0C8AFC206__GUID-AB52C93A-9098-457B-A223-65FADE5FE4BA">
<p class="notep1">Note:</p>
<p>The <code class="codeph">READ</code> permission is defined only on the <code class="codeph">DIRECTORY</code> <span class="italic">object</span>, not on individual files. Hence there is no way to assign different privileges to files in the same directory.</p>
</div>
<p>The physical directory that it represents may or may not have the corresponding operating system privileges (<span class="italic">read</span> in this case) for the Oracle Server process.</p>
<p>It is the responsibility of the DBA to ensure the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>That the physical directory exists</p>
</li>
<li>
<p><span class="italic">Read</span> permission for the Oracle Server process is enabled on the file, the directory, and the path leading to it</p>
</li>
<li>
<p>The directory remains available, and <span class="italic">read</span> permission remains enabled, for the entire duration of file access by database users</p>
</li>
</ul>
<p>The privilege just implies that as far as the Oracle Server is concerned, you may read from files in the directory. These privileges are checked and enforced by the PL/SQL <code class="codeph">DBMS_LOB</code> package and OCI APIs at the time of the actual file operations.</p>
<div class="infoboxnotewarn" id="GUID-5FEC9380-2F17-4139-B913-F8C0C8AFC206__GUID-6229516B-768C-4E08-9ACB-B9B5A73EB12F">
<p class="notep1">WARNING:</p>
<p>Because <span class="bold"><code class="codeph">CREATE</code></span> <span class="bold"><code class="codeph">ANY</code></span> <span class="bold"><code class="codeph">DIRECTORY</code></span> and <span class="bold"><code class="codeph">DROP</code></span> <span class="bold"><code class="codeph">ANY</code></span> <span class="bold"><code class="codeph">DIRECTORY</code></span> privileges potentially expose the server file system to all database users, the DBA should be prudent in granting these privileges to normal database users to prevent security breach.</p>
</div>
</div>
</div>
<a id="ADLOB45839"></a>
<div class="props_rev_3"><a id="GUID-F3F57AB9-6D5C-4514-8AC7-E8EEF007E807"></a>
<h3 id="ADLOB-GUID-F3F57AB9-6D5C-4514-8AC7-E8EEF007E807" class="sect3">SQL DDL for BFILE Security</h3>
<div>
<p>Refer to the <a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the following SQL DDL statements that create, replace, and drop <code class="codeph">DIRECTORY</code> objects:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code></p>
</li>
<li>
<p><code class="codeph">DROP</code> <code class="codeph">DIRECTORY</code></p>
</li>
</ul>
</div>
</div>
<a id="ADLOB45840"></a>
<div class="props_rev_3"><a id="GUID-A9F22DDA-1A84-423A-B3E8-39ED475210F2"></a>
<h3 id="ADLOB-GUID-A9F22DDA-1A84-423A-B3E8-39ED475210F2" class="sect3">SQL DML for BFILE Security</h3>
<div>
<p>Refer to the <a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the following SQL DML statements that provide security for <code class="codeph">BFILE</code>s:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">GRANT</code> (system privilege)</p>
</li>
<li>
<p><code class="codeph">GRANT</code> (object privilege)</p>
</li>
<li>
<p><code class="codeph">REVOKE</code> (system privilege)</p>
</li>
<li>
<p><code class="codeph">REVOKE</code> (object privilege)</p>
</li>
<li>
<p><code class="codeph">AUDIT</code> (new statements)</p>
</li>
<li>
<p><code class="codeph">AUDIT</code> (schema objects)</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB45841"></a>
<div class="props_rev_3"><a id="GUID-AFDD558D-CACA-409A-857D-A65127E34A87"></a>
<h3 id="ADLOB-GUID-AFDD558D-CACA-409A-857D-A65127E34A87" class="sect3">Catalog Views on Directories</h3>
<div>
<p>Catalog views are provided for DIRECTORY objects to enable users to view object names and corresponding paths and privileges. Supported views are:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ALL_DIRECTORIES</code> (<code class="codeph">OWNER</code>, <code class="codeph">DIRECTORY_NAME</code>, <code class="codeph">DIRECTORY_PATH</code>)</p>
<p>This view describes all directories accessible to the user.</p>
</li>
<li>
<p><code class="codeph">DBA_DIRECTORIES</code>(<code class="codeph">OWNER</code>, <code class="codeph">DIRECTORY_NAME</code>, <code class="codeph">DIRECTORY_PATH</code>)</p>
<p>This view describes all directories specified for the entire database.</p>
</li>
</ul>
</div>
</div>
<a id="ADLOB45842"></a>
<div class="props_rev_3"><a id="GUID-AA41463D-A2F8-42DE-9DCC-A75573942783"></a>
<h3 id="ADLOB-GUID-AA41463D-A2F8-42DE-9DCC-A75573942783" class="sect3">Guidelines for DIRECTORY Usage</h3>
<div>
<p>The main goal of the <code class="codeph">DIRECTORY</code> feature is to enable a simple, flexible, non-intrusive, yet secure mechanism for the DBA to manage access to large files in the server file system. But to realize this goal, it is very important that the DBA follow these guidelines when using <code class="codeph">DIRECTORY</code> objects:</p>
<ul style="list-style-type: disc;">
<li>
<p>Do not map a <code class="codeph">DIRECTORY</code> object to a data file directory. A <code class="codeph">DIRECTORY</code> object should not be mapped to physical directories that contain Oracle data files, control files, log files, and other system files. Tampering with these files (accidental or otherwise) could corrupt the database or the server operating system.</p>
</li>
<li>
<p>Only the DBA should have system privileges. The system privileges such as <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">DIRECTORY</code> (granted to the DBA initially) should be used carefully and not granted to other users indiscriminately. In most cases, only the database administrator should have these privileges.</p>
</li>
<li>
<p>Use caution when granting the DIRECTORY privilege. Privileges on <code class="codeph">DIRECTORY</code> objects should be granted to different users carefully. The same holds for the use of the <code class="codeph">WITH</code> <code class="codeph">GRANT</code> <code class="codeph">OPTION</code> clause when granting privileges to users.</p>
</li>
<li>
<p>Do not drop or replace <code class="codeph">DIRECTORY</code> objects when database is in operation. <code class="codeph">DIRECTORY</code> objects should not be arbitrarily dropped or replaced when the database is in operation. If this were to happen, then operations <span class="italic">from all sessions</span> on all files associated with this <code class="codeph">DIRECTORY</code> object fail. Further, if a <code class="codeph">DROP</code> or <code class="codeph">REPLACE</code> command is executed before these files could be successfully closed, then the references to these files are lost in the programs, and system resources associated with these files are not be released until the session(s) is shut down.</p>
<p>The only recourse left to PL/SQL users, for example, is to either run a program block that calls <code class="codeph">DBMS_LOB</code>.<code class="codeph">FILECLOSEALL</code> and restart their file operations, or exit their sessions altogether. Hence, it is imperative that you use these commands with prudence, and preferably during maintenance downtimes.</p>
</li>
<li>
<p>Use caution when revoking a user&#39;s privilege on <code class="codeph">DIRECTORY</code> objects. Revoking a user&#39;s privilege on a <code class="codeph">DIRECTORY</code> object using the <code class="codeph">REVOKE</code> statement causes all subsequent operations on dependent files from the user&#39;s session to fail. Either you must re-acquire the privileges to close the file, or run a <code class="codeph">FILECLOSEALL</code> in the session and restart the file operations.</p>
</li>
</ul>
<p>In general, using <code class="codeph">DIRECTORY</code> objects for managing file access is an extension of system administration work at the operating system level. With some planning, files can be logically organized into suitable directories that have READ privileges for the Oracle process.</p>
<p><code class="codeph">DIRECTORY</code> objects can be created with <code class="codeph">READ</code> privileges that map to these physical directories, and specific database users granted access to these directories.</p>
</div>
</div>
<a id="ADLOB45843"></a>
<div class="props_rev_3"><a id="GUID-4E85F18E-0628-46D9-B05E-4E826F0568FF"></a>
<h3 id="ADLOB-GUID-4E85F18E-0628-46D9-B05E-4E826F0568FF" class="sect3">BFILEs in Shared Server (Multithreaded Server) Mode</h3>
<div>
<p><a id="d79506e2687" class="indexterm-anchor"></a><a id="d79506e2691" class="indexterm-anchor"></a><a id="d79506e2695" class="indexterm-anchor"></a>The database does not support session migration for <code class="codeph">BFILE</code> data types in shared server (multithreaded server) mode. This implies that operations on open <code class="codeph">BFILE</code> instances can persist beyond the end of a call to a shared server.</p>
<p>In shared server sessions, <code class="codeph">BFILE</code> operations are bound to one shared server, they cannot migrate from one server to another.</p>
</div>
</div>
<a id="ADLOB45844"></a>
<div class="props_rev_3"><a id="GUID-C9536CC9-23D5-414F-9BD2-02DBC266514E"></a>
<h3 id="ADLOB-GUID-C9536CC9-23D5-414F-9BD2-02DBC266514E" class="sect3">External LOB (BFILE) Locators</h3>
<div>
<p>For <code class="codeph">BFILE</code>s, the value is stored in a server-side operating system file; in other words, external to the database. The <code class="codeph">BFILE</code> locator that refers to that file is stored in the row.</p>
</div>
<a id="ADLOB45845"></a>
<div class="props_rev_3"><a id="GUID-612685C2-1110-4E09-B549-155165D6180D"></a>
<h4 id="ADLOB-GUID-612685C2-1110-4E09-B549-155165D6180D" class="sect4">When Two Rows in a BFILE Table Refer to the Same File</h4>
<div>
<p>If a <code class="codeph">BFILE</code> locator variable that is used in a <code class="codeph">DBMS_LOB</code>.<code class="codeph">FILEOPEN</code> (for example L1) is assigned to another locator variable, (for example L2), then both L1 and L2 point to the same file.</p>
<p>This means that two rows in a table with a <code class="codeph">BFILE</code> column can refer to the same file or to two distinct files &mdash; a fact that the canny developer might turn to advantage, but which could well be a pitfall for the unwary.</p>
</div>
</div>
<a id="ADLOB45846"></a>
<div class="props_rev_3"><a id="GUID-83E44147-B4AD-4188-84B6-D80EC8B626C2"></a>
<h4 id="ADLOB-GUID-83E44147-B4AD-4188-84B6-D80EC8B626C2" class="sect4">BFILE Locator Variable</h4>
<div>
<p><code class="codeph">A BFILE</code> locator variable operates like any other automatic variable. With respect to file operations, it operates like a <span class="italic">file descriptor</span> available as part of the standard input/output library of most conventional programming languages.</p>
<p>This implies that once you define and initialize a <code class="codeph">BFILE</code> locator, and open the file pointed to by this locator, all subsequent operations until the closure of this file must be done from within the same program block using this locator or local copies of this locator.</p>
</div>
</div>
<a id="ADLOB45847"></a>
<div class="props_rev_3"><a id="GUID-4D795628-F84F-45FE-A102-8AC6E75AF52E"></a>
<h4 id="ADLOB-GUID-4D795628-F84F-45FE-A102-8AC6E75AF52E" class="sect4">Guidelines for BFILEs</h4>
<div>
<p>Note the following guidelines when working with <code class="codeph">BFILE</code>s:</p>
<ul style="list-style-type: disc;">
<li>
<p>Open and close a file from the same program block at same nesting level. The <code class="codeph">BFILE</code> locator variable can be used, just as any scalar, as a parameter to other procedures, member methods, or external function callouts. However, it is recommended that you open and close a file from the same program block at the same nesting level.</p>
</li>
<li>
<p>Set the <code class="codeph">BFILE</code> value before flushing the object to the database. If an object contains a <code class="codeph">BFILE</code>, then you must set the <code class="codeph">BFILE</code> value before flushing the object to the database, thereby inserting a new row. In other words, you must call <code class="codeph">OCILobFileSetName()</code> after <code class="codeph">OCIObjectNew()</code> and before <code class="codeph">OCIObjectFlush()</code>.</p>
</li>
<li>
<p>Indicate the <code class="codeph">DIRECTORY</code> object name and file name before inserting or updating of a <code class="codeph">BFILE</code>. It is an error to insert or update a <code class="codeph">BFILE</code> without indicating a <code class="codeph">DIRECTORY</code> object name and file name.</p>
<p>This rule also applies to users using an OCI bind variable for a <code class="codeph">BFILE</code> in an insert or update statement. The OCI bind variable must be initialized with a <code class="codeph">DIRECTORY</code> object name and file name before issuing the insert or update statement.</p>
</li>
<li>
<p>Initialize <code class="codeph">BFILE</code> Before insert or update</p>
<div class="infobox-note" id="GUID-4D795628-F84F-45FE-A102-8AC6E75AF52E__GUID-B6023A5C-DCB2-43BB-8984-2FDB1AE85F59">
<p class="notep1">Note:</p>
<p><code class="codeph">OCISetAttr()</code> does not allow the user to set a <code class="codeph">BFILE</code> locator to <code class="codeph">NULL</code>.</p>
</div>
</li>
<li>
<p>Before using SQL to insert or update a row with a <code class="codeph">BFILE</code>, you must initialize the <code class="codeph">BFILE</code> to one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">NULL</code> (not possible if using an OCI bind variable)</p>
</li>
<li>
<p>A <code class="codeph">DIRECTORY</code> object name and file name</p>
</li>
</ul>
</li>
<li>
<p>A path name cannot contain two dots (&#34;..&#34;) anywhere in its specification. A file name cannot start with two dots.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADLOB1016"></a>
<div class="props_rev_3"><a id="GUID-F90B8084-BC99-44E0-B720-99733F38BCFA"></a>
<h2 id="ADLOB-GUID-F90B8084-BC99-44E0-B720-99733F38BCFA" class="sect2">About Loading a LOB with BFILE Data</h2>
<div>
<div class="section">
<p>You can load a LOB with data from a <code class="codeph">BFILE</code>.</p>
<div class="infoboxnotealso" id="GUID-F90B8084-BC99-44E0-B720-99733F38BCFA__GUID-6E5BC52E-89DF-4EE5-9181-E2DBC05C326F">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
<p><a class="olink JJDBC" target="_blank" href="../JJDBC/toc.htm"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a> for details of working with <code class="codeph">BFILE</code> functions in this chapter.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Preconditions</p>
<p>The following preconditions must exist before calling this procedure:</p>
<ul style="list-style-type: disc;">
<li>
<p>The source <code class="codeph">BFILE</code> instance must exist.</p>
</li>
<li>
<p>The destination LOB instance must exist.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<div class="infobox-note" id="GUID-F90B8084-BC99-44E0-B720-99733F38BCFA__GUID-5704BB94-3767-4C9F-AB9B-5E92050DF3A1">
<p class="notep1">Note:</p>
<p>The <code class="codeph">LOADBLOBFROMFILE</code> and <code class="codeph">LOADCLOBFROMFILE</code> procedures implement the functionality of this procedure and provide improved features for loading binary data and character data. The improved procedures are available in the PL/SQL environment only. When possible, using one of the improved procedures is recommended. See <span class="q">&#34;<a href="adlob_lob_ops.htm#GUID-3DCD0C11-5A7D-46A2-ABF0-1DACFDE5BCD8">About Loading a BLOB with Data from a BFILE</a>&#34;</span> and <span class="q">&#34;<a href="adlob_lob_ops.htm#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">Loading a CLOB or NCLOB with Data from a BFILE</a>&#34;</span> for more information.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Character Set Conversion</p>
<p>In using OCI, or any of the programmatic environments that access OCI functionality, character set conversions are <span class="italic">implicitly</span> performed when translating from one character set to another.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">BFILE to CLOB or NCLOB: Converting From Binary Data to a Character Set</p>
<p>When you use the <code class="codeph">DBMS_LOB.LOADFROMFILE</code> procedure to populate a <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code>, you are populating the LOB with binary data from the <code class="codeph">BFILE</code>. <span class="italic">No implicit translation</span> is performed from binary data to a character set. For this reason, you should use the <code class="codeph">LOADCLOBFROMFILE</code> procedure when loading text (see <a href="adlob_lob_ops.htm#GUID-3E8F6AB9-B07B-4C22-981E-296C86ECC125">Loading a CLOB or NCLOB with Data from a BFILE</a>).</p>
<div class="infoboxnotealso" id="GUID-F90B8084-BC99-44E0-B720-99733F38BCFA__GUID-AA8B6435-8DE8-498A-9F0F-2F5A721EAB2E">
<p class="notep1">See Also:</p>
<p><a class="olink NLSPG" target="_blank" href="../NLSPG/toc.htm"><span class="italic">Oracle Database Globalization Support Guide</span></a> for character set conversion issues.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Amount Parameter</p>
<p>Note the following with respect to the <code class="codeph">amount</code> parameter:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBMS_LOB.LOADFROMFILE</code></p>
<p>If you want to load the entire <code class="codeph">BFILE</code>, then pass the constant <code class="codeph">DBMS_LOB.LOBMAXSIZE</code>. If you pass any other value, then it must be less than or equal to the size of the <code class="codeph">BFILE</code>.</p>
</li>
<li>
<p><code class="codeph">OCILobLoadFromFile()</code></p>
<p>If you want to load the entire <code class="codeph">BFILE</code>, then you can pass the constant <code class="codeph">UB4MAXVAL</code>. If you pass any other value, then it must be less than or equal to the size of the <code class="codeph">BFILE</code>.</p>
</li>
<li>
<p><code class="codeph">OCILobLoadFromFile2()</code></p>
<p>If you want to load the entire <code class="codeph">BFILE</code>, then you can pass the constant <code class="codeph">UB8MAXVAL</code>. If you pass any other value, then it must be less than or equal to the size of the <code class="codeph">BFILE</code>.</p>
<div class="infoboxnotealso" id="GUID-F90B8084-BC99-44E0-B720-99733F38BCFA__GUID-A5E8D1D2-63C5-48A8-AB2A-798226D50123">
<p class="notep1">See Also:</p>
<p><a href="adlob_lob_ops.htm#GUID-94FBC256-0F45-49CF-A01F-31701B34B586__g1098617" title="This table is described in the preceding text">Table 22-2</a> for details on the maximum value of the amount parameter.</p>
</div>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; LOADFROMFILE</p>
</li>
<li>
<p>C (OCI): <a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34;, for usage notes and examples. Chapter 16, &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobLoadFromFile2()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, embedded SQL, and LOB LOAD precompiler directives.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34; &#34;Embedded SQL Statements and Directives&#34;&mdash; LOB LOAD.</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide)</span></a>: &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">floaddat.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">floaddat.c</code></p>
</li>
<li>
<p>Java (JDBC): No example.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45857"></a><a id="ADLOB45855"></a>
<div class="props_rev_3"><a id="GUID-8EF5851B-4761-41F9-8644-FA2774310EA1"></a>
<h2 id="ADLOB-GUID-8EF5851B-4761-41F9-8644-FA2774310EA1" class="sect2">About Opening a BFILE with OPEN</h2>
<div>
<div class="section">
<p>You can open a <code class="codeph">BFILE</code> using the OPEN function.</p>
<div class="infobox-note" id="GUID-8EF5851B-4761-41F9-8644-FA2774310EA1__GUID-60892774-C598-4915-988A-B1AFF2D3FC7E">
<p class="notep1">Note:</p>
<p>You can also open a <code class="codeph">BFILE</code> using the <code class="codeph">FILEOPEN</code> function; however, using the <code class="codeph">OPEN</code> function is recommended for new development. Using the <code class="codeph">FILEOPEN</code> function is described in <a href="adlob_bfile_ops.htm#GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A">About Opening a BFILE with FILEOPEN</a>.</p>
</div>
<div class="infoboxnotealso" id="GUID-8EF5851B-4761-41F9-8644-FA2774310EA1__GUID-7865A795-5F26-41A4-BE74-6C1A1DC32040">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL(DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference): &#34;DBMS_LOB&#34; &mdash;</span></a> OPEN</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34;, for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobOpen()</code>, <code class="codeph">OCILobClose()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB statements, and embedded SQL and precompiler directives &mdash; LOB OPEN.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB OPEN.</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">(Oracle Database JDBC Developer&#39;s Guide):</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2"><span class="bold">Scenario</span></p>
</div>
<!-- class="section" -->
<div class="section">
<p>These examples open an image in operating system file <code class="codeph">ADPHOTO_DIR</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL(DBMS_LOB): <code class="codeph">fopen.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fopen.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fopen.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB1012"></a>
<div class="props_rev_3"><a id="GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A"></a>
<h2 id="ADLOB-GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A" class="sect2">About Opening a BFILE with FILEOPEN</h2>
<div>
<div class="section">
<p>You can open a <code class="codeph">BFILE</code> using the <code class="codeph">FILEOPEN</code> function.</p>
<div class="infobox-note" id="GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A__GUID-51FC81B1-0CEB-4103-8802-FA95309B963A">
<p class="notep1">Note:</p>
<p>The <code class="codeph">FILEOPEN</code> function is not recommended for new application development. The <code class="codeph">OPEN</code> function is recommended for new development. See <span class="q">&#34;<a href="adlob_bfile_ops.htm#GUID-8EF5851B-4761-41F9-8644-FA2774310EA1">About Opening a BFILE with OPEN</a>&#34;</span></p>
</div>
<div class="infoboxnotealso" id="GUID-7179D0FE-4A46-4ECD-85BB-A65E46230E4A__GUID-7E5294F1-809F-4FDD-9B98-B04F23A974E2">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes for Opening a BFILE</p>
<p>While you can continue to use the older <code class="codeph">FILEOPEN</code> form, Oracle <span class="italic">strongly recommends</span> that you switch to using <code class="codeph">OPEN</code>, because this facilitates future extensibility.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; <span class="italic">&mdash;</span> FILEOPEN, FILECLOSE</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations, for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileOpen()</code>, <code class="codeph">OCILobFileClose()</code>, <code class="codeph">OCILobFileSetName()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>Java (JDBC) (<a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a><span class="italic">)</span>: &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Scenario for Opening a BFILE</p>
<p>These examples open <code class="codeph">keyboard_logo.jpg</code> in <code class="codeph">DIRECTORY</code> object <code class="codeph">MEDIA_DIR</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">ffilopen.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">ffilopen.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">ffilopen.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45863"></a>
<div class="props_rev_3"><a id="GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2"></a>
<h2 id="ADLOB-GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2" class="sect2">About Determining Whether a BFILE Is Open Using ISOPEN</h2>
<div>
<div class="section">
<p>You can determine whether a <code class="codeph">BFILE</code> is open using <code class="codeph">ISOPEN</code>.</p>
<div class="infobox-note" id="GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2__GUID-DC5B1B79-38CB-490C-8ADC-B88387B41DF9">
<p class="notep1">Note:</p>
<p>This function (<code class="codeph">ISOPEN</code>) is recommended for new application development. The older <code class="codeph">FILEISOPEN</code> function, described in <span class="q">&#34;<a href="adlob_bfile_ops.htm#GUID-07093E96-982E-4F80-8D91-E658B12AFE0A">About Determining Whether a BFILE Is Open with FILEISOPEN</a>&#34;</span>, is not recommended for new development.</p>
</div>
<div class="infoboxnotealso" id="GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2__GUID-FD1AD060-924A-488F-8EBF-755601EAAC89">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; ISOPEN</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileIsOpen()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB DESCRIBE ... ISOPEN.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB DESCRIBE ... ISOPEN</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">(Oracle Database JDBC Developer&#39;s Guide):</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fisopen.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fisopen.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fisopen.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB1011"></a>
<div class="props_rev_3"><a id="GUID-07093E96-982E-4F80-8D91-E658B12AFE0A"></a>
<h2 id="ADLOB-GUID-07093E96-982E-4F80-8D91-E658B12AFE0A" class="sect2">About Determining Whether a BFILE Is Open with FILEISOPEN</h2>
<div>
<div class="section">
<p>You can determine whether a <code class="codeph">BFILE</code> is <code class="codeph">OPEN</code> using the <code class="codeph">FILEISOPEN</code> function.</p>
<div class="infobox-note" id="GUID-07093E96-982E-4F80-8D91-E658B12AFE0A__GUID-7CD857FC-0459-42F7-B527-2209C471D036">
<p class="notep1">Note:</p>
<p>The <code class="codeph">FILEISOPEN</code> function is not recommended for new application development. The <code class="codeph">ISOPEN</code> function is recommended for new development. See <a href="adlob_bfile_ops.htm#GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2">About Determining Whether a BFILE Is Open Using ISOPEN</a></p>
</div>
<div class="infoboxnotealso" id="GUID-07093E96-982E-4F80-8D91-E658B12AFE0A__GUID-375E56AA-582E-454B-9B26-46A5BCFF7BF4">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>While you can continue to use the older <code class="codeph">FILEISOPEN</code> form, Oracle <span class="italic">strongly recommends</span> that you switch to using <code class="codeph">ISOPEN</code>, because this facilitates future extensibility.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL(DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; FILEISOPEN</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileIsOpen()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>Java (JDBC) (<a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a><span class="italic">)</span>: &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Scenario</p>
<p>These examples query whether a <code class="codeph">BFILE</code> associated with <code class="codeph">ad_graphic</code> is open.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL(DBMS_LOB): <code class="codeph">ffisopen.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">ffisopen.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">ffisopen.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45870"></a>
<div class="props_rev_3"><a id="GUID-E0BCA195-2C4F-43E9-B9B3-23357572081D"></a>
<h2 id="ADLOB-GUID-E0BCA195-2C4F-43E9-B9B3-23357572081D" class="sect2">About Displaying BFILE Data</h2>
<div>
<div class="section">
<p>You can display <code class="codeph">BFILE</code> data using various operations that differ by programmatic environment..</p>
<div class="infoboxnotealso" id="GUID-E0BCA195-2C4F-43E9-B9B3-23357572081D__GUID-38018782-7DFB-48F5-AA98-1E6FEBFA9D75">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; READ. Chapter 29, &#34;DBMS_OUTPUT&#34; - PUT_LINE</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileOpen()</code>, <code class="codeph">OCILobRead2()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB READ, DISPLAY.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34; &mdash; READ</p>
</li>
<li>
<p>Java (JDBC) (<a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a><span class="italic">)</span>: Chapter 7, &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in these programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fdisplay.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fdisplay.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fdisplay.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45875"></a><a id="ADLOB45873"></a>
<div class="props_rev_3"><a id="GUID-1D65DA76-1762-473A-BC7B-1457C76CBC8F"></a>
<h2 id="ADLOB-GUID-1D65DA76-1762-473A-BC7B-1457C76CBC8F" class="sect2">About Reading Data from a BFILE</h2>
<div>
<div class="section">
<p>You can read data from a <code class="codeph">BFILE</code>.</p>
<div class="infoboxnotealso" id="GUID-1D65DA76-1762-473A-BC7B-1457C76CBC8F__GUID-BCBD3E90-EA4E-4B50-AE16-6D0B41CF4131">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Note the following when using this operation.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Streaming Read in OCI</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The most efficient way to read large amounts of <code class="codeph">BFILE</code> data is by <code class="codeph">OCILobRead2()</code> with the streaming mechanism enabled, and using polling or callback. To do so, specify the starting point of the read using the <code class="codeph">offset</code> parameter as follows:</p>
<pre dir="ltr">ub8  char_amt =  0;
ub8  byte_amt =  0;
ub4  offset = 1000;

OCILobRead2(svchp, errhp, locp, &amp;byte_amt, &amp;char_amt, offset, bufp, bufl,
            OCI_ONE_PIECE, 0, 0, 0, 0);
</pre>
<p>When using <span class="italic">polling mode</span>, be sure to look at the value of the <code class="codeph">byte_amt</code> parameter after each <code class="codeph">OCILobRead2()</code> call to see how many bytes were read into the buffer, because the buffer may not be entirely full.</p>
<p>When using <span class="italic">callbacks</span>, the <code class="codeph">lenp</code> parameter, which is input to the callback, indicates how many bytes are filled in the buffer. Be sure to check the <code class="codeph">lenp</code> parameter during your callback processing because the entire buffer may not be filled with data (see the <a class="olink LNOCI" target="_blank" href="../LNOCI/toc.htm"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a><span class="italic">.</span>)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Amount Parameter</p>
<ul style="list-style-type: disc;">
<li>
<p>When calling <code class="codeph">DBMS_LOB.READ</code>, the amount parameter can be larger than the size of the data; however, the amount parameter should be less than or equal to the size of the buffer. In PL/SQL, the buffer size is limited to 32K.</p>
</li>
<li>
<p>When calling <code class="codeph">OCILobRead2()</code>, you can pass a value of 0 (zero) for the <code class="codeph">byte_amt</code> parameter to read to the end of the <code class="codeph">BFILE</code>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; READ</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobRead2()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB READ.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB READ</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">(Oracle Database JDBC Developer&#39;s Guide):</span></a> Chapter 7, &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fread.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fread.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fread.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45879"></a>
<div class="props_rev_3"><a id="GUID-C402C85C-0936-4CA0-8CC7-2A14D9D93253"></a>
<h2 id="ADLOB-GUID-C402C85C-0936-4CA0-8CC7-2A14D9D93253" class="sect2">About Reading a Portion of BFILE Data Using SUBSTR</h2>
<div>
<p>You can read a portion of <code class="codeph">BFILE</code> data using <code class="codeph">SUBSTR</code>.</p>
<div class="infoboxnotealso" id="GUID-C402C85C-0936-4CA0-8CC7-2A14D9D93253__GUID-F62590B5-54F4-4F1D-9B53-BA11597041AD">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; SUBSTR</p>
</li>
<li>
<p>OCI: A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB OPEN, LOB CLOSE. See PL/SQL DBMS_LOB.SUBSTR.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB OPEN. See also PL/SQL DBMS_LOB.SUBSTR</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">(Oracle Database JDBC Developer&#39;s Guide)</span></a>: Chapter 7, &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in these programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">freadprt.sql</code></p>
</li>
<li>
<p>C (OCI): No example is provided with this release.</p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">freadprt.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45882"></a>
<div class="props_rev_3"><a id="GUID-32A40AEE-BD4E-4F08-AE97-40FFC4A7F372"></a>
<h2 id="ADLOB-GUID-32A40AEE-BD4E-4F08-AE97-40FFC4A7F372" class="sect2">Comparing All or Parts of Two BFILES</h2>
<div>
<div class="section">
<p>You can compare all or parts of two <code class="codeph">BFILE</code>s.</p>
<div class="infoboxnotealso" id="GUID-32A40AEE-BD4E-4F08-AE97-40FFC4A7F372__GUID-94AB8EFE-11B5-4B1A-AA85-BE13DF6947B9">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL(DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; COMPARE</p>
</li>
<li>
<p>C (OCI): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB OPEN. See PL/SQL DBMS_LOB.COMPARE.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB OPEN. See PL/SQL DBMS_LOB.COMPARE.</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">(Oracle Database JDBC Developer&#39;s Guide):</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples are provided in these programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL(DBMS_LOB): <code class="codeph">fcompare.sql</code></p>
</li>
<li>
<p>OCI: No example is provided with this release.</p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fcompare.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45885"></a>
<div class="props_rev_3"><a id="GUID-18962E11-C875-428D-B4E8-A5598ED4E0B0"></a>
<h2 id="ADLOB-GUID-18962E11-C875-428D-B4E8-A5598ED4E0B0" class="sect2">Checking If a Pattern Exists in a BFILE Using INSTR</h2>
<div>
<p>You can determine whether a pattern exists in a <code class="codeph">BFILE</code> using the <code class="codeph">INSTR</code>operation.</p>
<div class="section">
<div class="infoboxnotealso" id="GUID-18962E11-C875-428D-B4E8-A5598ED4E0B0__GUID-4BA3E577-9A66-473D-B58F-D51F9E507B01">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; INSTR</p>
</li>
<li>
<p>C (OCI): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB OPEN. See PL/SQL DBMS_LOB.INSTR.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB OPEN. See PL/SQL DBMS_LOB.INSTR.</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">(Oracle Database JDBC Developer&#39;s Guide):</span></a>&#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>These examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fpattern.sql</code></p>
</li>
<li>
<p>OCI: No example is provided with this release.</p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fpattern.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB1009"></a>
<div class="props_rev_3"><a id="GUID-EA29C989-CFE8-49F7-8B37-B9A6F8863FAA"></a>
<h2 id="ADLOB-GUID-EA29C989-CFE8-49F7-8B37-B9A6F8863FAA" class="sect2">Determining Whether a BFILE Exists</h2>
<div>
<div class="section">
<p>This procedure determines whether a <code class="codeph">BFILE</code> locator points to a valid <code class="codeph">BFILE</code> instance.</p>
<div class="infoboxnotealso" id="GUID-EA29C989-CFE8-49F7-8B37-B9A6F8863FAA__GUID-57AFF180-B270-4530-8B91-31C69F7E61FA">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; FILEEXISTS</p>
</li>
<li>
<p>C (OCI) <a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileExists()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB DESCRIBE ... FILEEXISTS.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) <a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB DESCRIBE ... GET FILEEXISTS</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide:</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fexists.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fexists.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fexists.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45890"></a>
<div class="props_rev_3"><a id="GUID-0826ACC0-2B8C-46A6-8D5A-8CD0B300DF73"></a>
<h2 id="ADLOB-GUID-0826ACC0-2B8C-46A6-8D5A-8CD0B300DF73" class="sect2">Getting the Length of a BFILE</h2>
<div>
<div class="section">
<p>You can get the length of a <code class="codeph">BFILE</code>.</p>
<div class="infoboxnotealso" id="GUID-0826ACC0-2B8C-46A6-8D5A-8CD0B300DF73__GUID-C9312812-197A-4475-8000-D0BD747357D8">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; <span class="italic">&mdash;</span> GETLENGTH</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34;. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobGetLength2()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB DESCRIBE ... GET LENGTH INTO ...</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB DESCRIBE ... GET LENGTH INTO ...</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a>: &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The examples are provided in these programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">flength.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">flength.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">flength.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45893"></a>
<div class="props_rev_3"><a id="GUID-1F3EC765-275E-4A7B-A3CC-79B3FAB02E42"></a>
<h2 id="ADLOB-GUID-1F3EC765-275E-4A7B-A3CC-79B3FAB02E42" class="sect2">About Assigning a BFILE Locator</h2>
<div>
<div class="section">
<p>You can assign one <code class="codeph">BFILE</code> locator to another.</p>
<div class="infoboxnotealso" id="GUID-1F3EC765-275E-4A7B-A3CC-79B3FAB02E42__GUID-2BF31840-7785-4AF8-8677-24662D00E176">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>SQL <a class="olink SQLRF013" target="_blank" href="../SQLRF/statements_6.htm#SQLRF013"><span class="italic">(Oracle Database SQL Language Reference):</span></a> Chapter 7, &#34;SQL Statements&#34; <span class="italic">&mdash;</span> CREATE PROCEDURE</p>
</li>
<li>
<p>PL/SQL (DBMS_LOB): Refer to <a href="adlob_design.htm#GUID-1153755A-C4F4-4462-B592-6EE520F1C6A7">Advanced Design Considerations</a> of this manual for information on assigning one lob locator to another.</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobLocatorAssign()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB ASSIGN</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB ASSIGN</p>
</li>
<li>
<p>Java (JDBC<a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">) Oracle Database JDBC Developer&#39;s Guide:</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The examples are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fcopyloc.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fcopyloc.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fcopyloc.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB1010"></a>
<div class="props_rev_3"><a id="GUID-CE75D79D-036D-4C17-8DCA-981D3FB4286D"></a>
<h2 id="ADLOB-GUID-CE75D79D-036D-4C17-8DCA-981D3FB4286D" class="sect2">Getting Directory Object Name and File Name of a BFILE</h2>
<div>
<div class="section">
<p>You can get the <code class="codeph">DIRECTORY</code> object name and file name of a <code class="codeph">BFILE</code>.</p>
<div class="infoboxnotealso" id="GUID-CE75D79D-036D-4C17-8DCA-981D3FB4286D__GUID-3A1FD788-DF86-45F4-AB5A-F4084B77F6C2">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; <span class="italic">&mdash;</span> FILEGETNAME</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileGetName()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB DESCRIBE ... GET DIRECTORY ...</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB DESCRIBE ... GET DIRECTORY ...</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide:</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Examples of this procedure are provided in the following programmatic environments:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fgetdir.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fgetdir.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fgetdir.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45898"></a>
<div class="props_rev_3"><a id="GUID-B6E4A363-02DA-4FEB-B382-1F59B29F526D"></a>
<h2 id="ADLOB-GUID-B6E4A363-02DA-4FEB-B382-1F59B29F526D" class="sect2">About Updating a BFILE by Initializing a BFILE Locator</h2>
<div>
<div class="section">
<p>You can update a <code class="codeph">BFILE</code> by initializing a <code class="codeph">BFILE</code> locator.</p>
<div class="infoboxnotealso" id="GUID-B6E4A363-02DA-4FEB-B382-1F59B29F526D__GUID-32800409-70EE-4E28-A853-623CE1732430">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): See the <a class="olink SQLRF017" target="_blank" href="../SQLRF/statements_10.htm#SQLRF017"><span class="italic">(Oracle Database SQL Language Reference),</span></a> Chapter 7, &#34;SQL Statements&#34; <span class="italic">&mdash;</span> UPDATE</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileSetName()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; ALLOCATE. See also <a class="olink ARPLS" target="_blank" href="../ARPLS/toc.htm"><span class="italic">(Oracle Database SQL Language Reference), Chapter 7, &#34;SQL Statements&#34; &mdash;</span></a> UPDATE</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34;. See also <a class="olink ARPLS" target="_blank" href="../ARPLS/toc.htm"><span class="italic">(Oracle Database SQL Language Reference), Chapter 7, &#34;SQL Statements&#34; &mdash;</span></a> UPDATE</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide:</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fupdate.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fupdate.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fupdate.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB1007"></a>
<div class="props_rev_3"><a id="GUID-EA7896B7-77B4-4634-A3F9-3103C14F883B"></a>
<h2 id="ADLOB-GUID-EA7896B7-77B4-4634-A3F9-3103C14F883B" class="sect2">Closing a BFILE with FILECLOSE</h2>
<div>
<div class="section">
<p>You can close a <code class="codeph">BFILE</code> with <code class="codeph">FILECLOSE</code>.</p>
<div class="infobox-note" id="GUID-EA7896B7-77B4-4634-A3F9-3103C14F883B__GUID-91AEB5C4-21CB-4CAC-93AB-CC7396AE6F6F">
<p class="notep1">Note:</p>
<p>This function (<code class="codeph">FILECLOSE</code>) is not recommended for new development. For new development, use the <code class="codeph">CLOSE</code> function instead. See <span class="q">&#34;<a href="adlob_bfile_ops.htm#GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16">Closing a BFILE with CLOSE</a>&#34;</span> for more information.</p>
</div>
<div class="infoboxnotealso" id="GUID-EA7896B7-77B4-4634-A3F9-3103C14F883B__GUID-D6E8D996-60A4-4DA9-A192-F86EF7E4D8FE">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB)<a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; FILEOPEN, FILECLOSE</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileClose()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++): A syntax reference is not applicable in this release.</p>
</li>
<li>
<p>Java (JDBC<a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">) Oracle Database JDBC Developer&#39;s Guide:</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fclose_f.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fclose_f.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fclose_f.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45903"></a>
<div class="props_rev_3"><a id="GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16"></a>
<h2 id="ADLOB-GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16" class="sect2">Closing a BFILE with CLOSE</h2>
<div>
<div class="section">
<p>You can close a <code class="codeph">BFILE</code> with the <code class="codeph">CLOSE</code> function.</p>
<div class="infobox-note" id="GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16__GUID-2F657979-B217-459E-9F86-4C73DD04A028">
<p class="notep1">Note:</p>
<p>This function (<code class="codeph">CLOSE</code>) is recommended for new application development. The older <code class="codeph">FILECLOSE</code> function, is not recommended for new development.</p>
</div>
<div class="infoboxnotealso" id="GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16__GUID-34CF6A61-6FED-4ED7-BAD1-6F8DF8184378">
<p class="notep1">See Also:</p>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Opening and closing a <code class="codeph">BFILE</code> is mandatory. You must close the instance later in the session.</p>
<div class="infoboxnotealso" id="GUID-926A6B9D-DF7A-44BA-BDB9-90EC3AC39C16__GUID-BB7775EF-B97F-409B-8D79-262B99042B63">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_bfile_ops.htm#GUID-8EF5851B-4761-41F9-8644-FA2774310EA1">About Opening a BFILE with OPEN</a></p>
</li>
<li>
<p><a href="adlob_bfile_ops.htm#GUID-D45A34A4-0DDE-4BA9-9276-48E821AC33C2">About Determining Whether a BFILE Is Open Using ISOPEN</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; &mdash; CLOSE</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobClose()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB CLOSE</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB CLOSE</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide:</span></a> &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fclose_c.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fclose_c.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fclose_c.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB1008"></a>
<div class="props_rev_3"><a id="GUID-33EBCF95-E453-492B-AA53-E75F0D0DFB64"></a>
<h2 id="ADLOB-GUID-33EBCF95-E453-492B-AA53-E75F0D0DFB64" class="sect2">Closing All Open BFILEs with FILECLOSEALL</h2>
<div>
<div class="section">
<p>You can close all open <code class="codeph">BFILE</code>s.</p>
<p>You are responsible for closing any <code class="codeph">BFILE</code> instances before your program terminates. For example, you must close any open <code class="codeph">BFILE</code> instance before the termination of a PL/SQL block or OCI program.</p>
<p>You must close open BFILE instances even in cases where an exception or unexpected termination of your application occurs. In these cases, if a <code class="codeph">BFILE</code> instance is not closed, then it is still considered open by the database. Ensure that your exception handling strategy does not allow BFILE instances to remain open in these situations.</p>
<div class="infoboxnotealso" id="GUID-33EBCF95-E453-492B-AA53-E75F0D0DFB64__GUID-814829D1-47C7-4C7D-8C52-5B4565978255">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</li>
<li>
<p><span class="q">&#34;<a href="adlob_managing.htm#GUID-9AE7A4DC-2846-4DE7-8685-285920596FB9" title="A limited number of BFILEs can be open simultaneously in each session.">Setting Maximum Number of Open BFILEs</a> &#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>Use the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB) <a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">(Oracle Database PL/SQL Packages and Types Reference):</span></a> &#34;DBMS_LOB&#34; <span class="italic">&mdash;</span> FILECLOSEALL</p>
</li>
<li>
<p>C (OCI) (<a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide)</span></a>: Chapter 7, &#34;LOB and File Operations&#34; for usage notes. Chapter 16, section &#34;LOB Functions&#34; &mdash; <code class="codeph">OCILobFileCloseAll()</code>.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives &mdash; LOB FILE CLOSE ALL</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) (<a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide)</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB FILE CLOSE ALL</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide:</span></a> Chapter 7, &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">fclosea.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">fclosea.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">fclosea.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADLOB45909"></a>
<div class="props_rev_3"><a id="GUID-D243A61C-4445-4AB8-9820-E49C0C18E511"></a>
<h2 id="ADLOB-GUID-D243A61C-4445-4AB8-9820-E49C0C18E511" class="sect2">About Inserting a Row Containing a BFILE</h2>
<div>
<div class="section">
<p>You can insert a row containing a <code class="codeph">BFILE</code> by initializing a <code class="codeph">BFILE</code> locator.</p>
<div class="infoboxnotealso" id="GUID-D243A61C-4445-4AB8-9820-E49C0C18E511__GUID-A163E039-3646-43CF-89B5-97DC93833562">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adlob_bfile_ops.htm#GUID-43A8979C-97AC-4F97-9B5C-F44E72FE64F4__g1074815" title="This table is described in the preceding text">Table 21-1</a>, for a list of operations on <code class="codeph">BFILE</code>s and APIs provided for each programmatic environment.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>You must initialize the <code class="codeph">BFILE</code> locator bind variable to <code class="codeph">NULL</code> or a <code class="codeph">DIRECTORY</code> object and file name before issuing the <code class="codeph">INSERT</code> statement.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>See the following syntax references for each programmatic environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>SQL(<a class="olink SQLRF016" target="_blank" href="../SQLRF/statements_9.htm#SQLRF016"><span class="italic">Oracle Database SQL Language Reference</span></a>, Chapter 7 &#34;SQL Statements&#34; &mdash; INSERT</p>
</li>
<li>
<p>C (OCI) <a class="olink LNOCI070" target="_blank" href="../LNOCI/oci07lob.htm#LNOCI070"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a>: Chapter 7, &#34;LOB and File Operations&#34;.</p>
</li>
<li>
<p>COBOL (Pro*COBOL) <a class="olink LNPCB" target="_blank" href="../LNPCB/toc.htm"><span class="italic">Pro*COBOL Programmer&#39;s Guide</span></a> for information on LOBs, usage notes on LOB Statements, embedded SQL, and precompiler directives. See also <a class="olink SQLRF016" target="_blank" href="../SQLRF/statements_9.htm#SQLRF016"><span class="italic">Oracle Database SQL Language Reference</span></a>, for related information on the SQL INSERT statement.</p>
</li>
<li>
<p>C/C++ (Pro*C/C++) <a class="olink LNPCC017" target="_blank" href="../LNPCC/pc_17obj.htm#LNPCC017"><span class="italic">Pro*C/C++ Programmer&#39;s Guide</span></a>: &#34;Large Objects (LOBs)&#34;, &#34;LOB Statements&#34;, &#34;Embedded SQL Statements and Directives&#34; &mdash; LOB FILE SET. See also (<a class="olink SQLRF016" target="_blank" href="../SQLRF/statements_9.htm#SQLRF016"><span class="italic">Oracle Database SQL Language Reference</span></a>), Chapter 7 &#34;SQL Statements&#34; &mdash; INSERT</p>
</li>
<li>
<p>Java (JDBC) <a class="olink JJDBC15000" target="_blank" href="../JJDBC/oralob.htm#JJDBC15000"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a>: &#34;Working With LOBs and BFILEs&#34; &mdash; Working with BFILEs.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<ul style="list-style-type: disc;">
<li>
<p>PL/SQL (DBMS_LOB): <code class="codeph">finsert.sql</code></p>
</li>
<li>
<p>OCI: <code class="codeph">finsert.c</code></p>
</li>
<li>
<p>Java (JDBC): <code class="codeph">finsert.java</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2782">
<tr>
<td class="cellalignment2794">
<table class="cellalignment2787">
<tr>
<td class="cellalignment2786"><a href="adlob_data_interface.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2786"><a href="adlob_lob_ops.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2015, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2796">
<table class="cellalignment2785">
<tr>
<td class="cellalignment2786"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2786"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2786"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2786"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2786"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2786"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-107206"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_TOPO_MAP%20Package%20Subprograms"></a><title>SDO_TOPO_MAP Package Subprograms</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="ADD_EDGE function, SDO_TOPO_MAP package, ADD_EDGE, edges, adding, ADD_ISOLATED_NODE function, ADD_ISOLATED_NODE, nodes, adding isolated (topology), isolated nodes (topology), ADD_LINEAR_GEOMETRY function, ADD_LINEAR_GEOMETRY, linear geometries, adding linear geometry, ADD_LOOP function, ADD_LOOP, loops, adding loop, ADD_NODE function, ADD_NODE, ADD_POINT_GEOMETRY function, ADD_POINT_GEOMETRY, point geometries, adding point geometry, ADD_POLYGON_GEOMETRY function, ADD_POLYGON_GEOMETRY, polygon geometries, faces, adding polygon geometry, CHANGE_EDGE_COORDS procedure, CHANGE_EDGE_COORDS, changing coordinates, CLEAR_TOPO_MAP procedure, CLEAR_TOPO_MAP, topology, clearing map, TopoMap objects, clearing, COMMIT_TOPO_MAP procedure, COMMIT_TOPO_MAP, committing map, committing changes to the database, CREATE_EDGE_INDEX procedure, CREATE_EDGE_INDEX, creating edge index, edge index, creating for TopoMap object, CREATE_FACE_INDEX procedure, CREATE_FACE_INDEX, creating face index, face index, CREATE_FEATURE function, CREATE_FEATURE, features, creating from geometries, CREATE_TOPO_MAP procedure, CREATE_TOPO_MAP, creating map, creating, DROP_TOPO_MAP procedure, DROP_TOPO_MAP, deleting (dropping) map, deleting (dropping), GET_CONTAINING_FACE function, GET_CONTAINING_FACE, getting containing face for point, containing face, getting for point, GET_EDGE_ADDITIONS function, GET_EDGE_ADDITIONS, getting ID numbers of added edges, GET_EDGE_CHANGES function, GET_EDGE_CHANGES, getting ID numbers of changed edges, GET_EDGE_COORDS function, GET_EDGE_COORDS, getting coordinates of shape points, GET_EDGE_DELETIONS function, GET_EDGE_DELETIONS, getting ID numbers of deleted edges, GET_EDGE_NODES function, GET_EDGE_NODES, getting nodes on, GET_FACE_ADDITIONS function, GET_FACE_ADDITIONS, getting ID numbers of added faces, GET_FACE_CHANGES function, GET_FACE_CHANGES, getting ID numbers of changed faces, GET_FACE_BOUNDARY function, GET_FACE_BOUNDARY, getting boundary, GET_FACE_DELETIONS function, GET_FACE_DELETIONS, getting ID numbers of deleted faces, GET_NEAREST_EDGE function, GET_NEAREST_EDGE, getting nearest edge for point, nearest edge, GET_NEAREST_EDGE_IN_CACHE function, GET_NEAREST_EDGE_IN_CACHE, getting nearest edge in cache for point, getting in cache for point, GET_NEAREST_NODE function, GET_NEAREST_NODE, getting nearest node for point, nearest node, GET_NEAREST_NODE_IN_CACHE function, GET_NEAREST_NODE_IN_CACHE, getting nearest node in cache for point, GET_NODE_ADDITIONS function, GET_NODE_ADDITIONS, getting ID numbers of added nodes, GET_NODE_CHANGES function, GET_NODE_CHANGES, getting ID numbers of changed nodes, GET_NODE_COORD function, GET_NODE_COORD, getting coordinates of, GET_NODE_DELETIONS function, GET_NODE_DELETIONS, getting ID numbers of deleted nodes, GET_NODE_FACE_STAR function, GET_NODE_FACE_STAR, getting node face star, node face star, getting for node, star, node face, GET_NODE_STAR function, GET_NODE_STAR, getting node star, node star, node, GET_TOPO_NAME function, GET_TOPO_NAME, getting name from TopoMap object, getting topology name, GET_TOPO_TRANSACTION_ID function, GET_TOPO_TRANSACTION_ID, topology transaction ID, getting, LIST_TOPO_MAPS function, LIST_TOPO_MAPS, topology maps, listing, LOAD_TOPO_MAP function or procedure, LOAD_TOPO_MAP, loading, loading into TopoMap object, MOVE_EDGE procedure, MOVE_EDGE, moving, MOVE_ISOLATED_NODE procedure, MOVE_ISOLATED_NODE, moving isolated nodes (topology), MOVE_NODE procedure, MOVE_NODE, REMOVE_EDGE procedure, REMOVE_EDGE, removing, REMOVE_NODE procedure, REMOVE_NODE, REMOVE_OBSOLETE_NODES procedure, REMOVE_OBSOLETE_NODES, removing obsolete, obsolete, obsolete nodes, ROLLBACK_TOPO_MAP procedure, ROLLBACK_TOPO_MAP, rolling back, rolling back changes in, SEARCH_EDGE_RTREE_TOPO_MAP function, SEARCH_EDGE_RTREE_TOPO_MAP, finding edges interacting with a query window, SEARCH_FACE_RTREE_TOPO_MAP function, SEARCH_FACE_RTREE_TOPO_MAP, finding faces interacting with a query window, SET_MAX_MEMORY_SIZE procedure, SET_MAX_MEMORY_SIZE, Java maximum heap size, setting, heap size, Java, OutOfMemoryError exception, raising maximum heap size, UPDATE_TOPO_MAP procedure, UPDATE_TOPO_MAP, updating, VALIDATE_TOPO_MAP function, VALIDATE_TOPO_MAP, validating, VALIDATE_TOPOLOGY procedure, VALIDATE_TOPOLOGY"/>
<meta name="dcterms.created" content="2017-03-12T16:47:56Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Topology Data Model and Network Data Model Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E53120-04"/>
<meta name="dcterms.isVersionOf" content="TOPOL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="SDO_TOPO-reference.htm" title="Previous" type="text/html"/>
<link rel="Next" href="network-data-model.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53120-04.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0"></a> <span id="PAGE" style="display:none;">11/15</span> <!-- End Header -->
<a id="TOPOL250"></a>
<h1 id="TOPOL-GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" class="sect1"><span class="enumeration_chapter">4</span> SDO_TOPO_MAP Package Subprograms</h1>
<div>
<p><a id="d16895e21" class="indexterm-anchor"></a><a id="d16895e25" class="indexterm-anchor"></a>The MDSYS.SDO_TOPO_MAP package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package contains subprograms related to editing topologies. These subprograms use a TopoMap object, either one that you previously created or that Spatial and Graph creates implicitly.</p>
<p>To use the subprograms in this chapter, you must understand the conceptual information about topology in <a href="topology-data-model-overview.htm#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D">Topology Data Model Overview</a>, as well as the information about editing topologies in <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>The rest of this chapter provides reference information about the SDO_TOPO_MAP subprograms, listed in alphabetical order.</p>
</div>
<a id="TOPOL835"></a>
<div class="props_rev_3"><a id="GUID-D3945002-582C-484A-8D86-F20CF35C4555"></a>
<h2 id="TOPOL-GUID-D3945002-582C-484A-8D86-F20CF35C4555" class="sect2">SDO_TOPO_MAP.ADD_EDGE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_EDGE(     
  topology IN VARCHAR2,      
  node_id1 IN NUMBER,      
  node_id2 IN NUMBER,      
  geom     IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds an edge to a topology, and returns the edge ID of the added edge.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107207"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D3945002-582C-484A-8D86-F20CF35C4555__GUID-2E677A59-2CC8-4A8B-8FCD-6797325E0FE1"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the edge, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107208"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D3945002-582C-484A-8D86-F20CF35C4555__GUID-1EC8CCF8-129C-4050-8EEC-BE62A5A59B5A"><!-- --></a>node_id1</dt>
<dd>
<p>Node ID of the start node for the edge to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107209"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D3945002-582C-484A-8D86-F20CF35C4555__GUID-19928F10-FF49-48B6-99FE-1A7121071FB5"><!-- --></a>node_id2</dt>
<dd>
<p>Node ID of the end node for the edge to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107210"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D3945002-582C-484A-8D86-F20CF35C4555__GUID-F63F835E-8F53-4CD2-B52F-7390B6E6A690"><!-- --></a>geom</dt>
<dd>
<p>SDO_GEOMETRY object (line or contiguous line string geometry) representing the edge to be added.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Spatial and Graph automatically assigns an edge ID to the added edge. If <code class="codeph">topology</code> is not null, the appropriate entry is inserted in the &lt;topology-name&gt;_EDGE$ table; and if the addition of the edge affects the face information table, the appropriate entries in the &lt;topology-name&gt;_FACE$ table are updated. (If <code class="codeph">topology</code> is null, you can update these tables at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>If <code class="codeph">node_id1</code> and <code class="codeph">node_id2</code> are the same value, a loop edge is created.</p>
<p>For information about adding and deleting nodes and edges, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This function is equivalent to using the <code class="codeph">addEdge</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds an edge connecting node N3 to node N4 in the current updatable TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.ADD_EDGE(null, 3, 4,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1),
    SDO_ORDINATE_ARRAY(25,35, 20,37)))
  INTO :res_number;
 
Call completed.
 
SQL&gt; PRINT res_number;
 
RES_NUMBER                                                                      
----------                                                                      
        29 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL836"></a>
<div class="props_rev_3"><a id="GUID-7752EB56-41C8-4180-8C85-920B8E1A831A"></a>
<h2 id="TOPOL-GUID-7752EB56-41C8-4180-8C85-920B8E1A831A" class="sect2">SDO_TOPO_MAP.ADD_ISOLATED_NODE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_ISOLATED_NODE(     
  topology IN VARCHAR2,      
  face_id  IN NUMBER,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_ISOLATED_NODE(     
  topology IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_ISOLATED_NODE(     
topology IN VARCHAR2,      
face_id  IN NUMBER,      
x        IN NUMBER,      
y        IN NUMBER      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_ISOLATED_NODE(     
topology IN VARCHAR2,      
x        IN NUMBER,      
y        IN NUMBER      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds an isolated node (that is, an island node) to a topology, and returns the node ID of the added isolated node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107211"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7752EB56-41C8-4180-8C85-920B8E1A831A__GUID-28FD641B-80AD-47C7-9A82-815913023A2D"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the isolated node, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107212"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7752EB56-41C8-4180-8C85-920B8E1A831A__GUID-978E0523-38B1-4979-8522-6950C299EAB4"><!-- --></a>face_id</dt>
<dd>
<p>Face ID of the face on which the isolated node is to be added. (An exception is raised if the specified point is not on the specified face.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107213"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7752EB56-41C8-4180-8C85-920B8E1A831A__GUID-15D05063-69B5-4C34-ACC5-F0787BE0AC26"><!-- --></a>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the isolated node to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107214"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7752EB56-41C8-4180-8C85-920B8E1A831A__GUID-39E86658-F833-41B8-B26A-3B1B9ABBC273"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point representing the isolated node to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107215"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7752EB56-41C8-4180-8C85-920B8E1A831A__GUID-DB08BDC4-3150-41FA-9829-54EB190F4894"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point representing the isolated node to be added.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Spatial and Graph automatically assigns a node ID to the added node. If <code class="codeph">topology</code> is not null, the appropriate entry is inserted in the &lt;topology-name&gt;_NODE$ table, and the &lt;topology-name&gt;_FACE$ table is updated to include an entry for the added isolated node. (If <code class="codeph">topology</code> is null, you can update these tables at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>If you know the ID of the face on which the isolated node is to be added, you can specify the <code class="codeph">face_id</code> parameter. If you specify this parameter, there are two benefits:</p>
<ul style="list-style-type: disc;">
<li>
<p>Validation: The function checks to see if the point is on the specified face, and raises an exception if it is not. Otherwise, the function checks to see if the point is on any face in the topology, and raises an exception if it is not.</p>
</li>
<li>
<p>Performance: The function checks only if the point is on the specified face. Otherwise, it checks potentially all faces in the topology to see if the point is on any face.</p>
</li>
</ul>
<p>To add a non-isolated node, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a> function.</p>
<p>For information about adding and deleting nodes and edges, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This function is equivalent to using the <code class="codeph">addIsolatedNode</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds an isolated node to the right of isolated node N4 on face F2, and it returns the node ID of the added node. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">DECLARE
  result_num NUMBER;
BEGIN
result_num := SDO_TOPO_MAP.ADD_ISOLATED_NODE(null, 2,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,37,NULL), NULL, NULL));
DBMS_OUTPUT.PUT_LINE(&#39;Result = &#39; || result_num);
END;
/
Result = 24                                                                     
 
PL/SQL procedure successfully completed.
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL837"></a>
<div class="props_rev_3"><a id="GUID-71D305E7-B53F-4CAD-9DB8-9A6597F55874"></a>
<h2 id="TOPOL-GUID-71D305E7-B53F-4CAD-9DB8-9A6597F55874" class="sect2">SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(     
  topology IN VARCHAR2,      
  curve    IN SDO_GEOMETRY      
) RETURN SDO_NUMBER_ARRAY;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(     
  topology IN VARCHAR2,      
  coords   IN SDO_NUMBER_ARRAY      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds a linear (line string or multiline string) geometry to the topology, inserting edges and nodes as necessary based on the full intersection of the geometry with the edges and nodes in the topology graph, and an array of the edge IDs of the inserted and shared edges in sequence from the start to the end of the geometry.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107216"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-71D305E7-B53F-4CAD-9DB8-9A6597F55874__GUID-5640E8D9-BF7B-44BB-AE27-EFD0AF0423F4"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the edge or edges, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107217"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-71D305E7-B53F-4CAD-9DB8-9A6597F55874__GUID-47DB92D4-853C-4A5C-8A26-22C3C8C3CCE1"><!-- --></a>curve</dt>
<dd>
<p>SDO_GEOMETRY object (curve or line string geometry) representing the edge or edges to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107218"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-71D305E7-B53F-4CAD-9DB8-9A6597F55874__GUID-FCB1CD4C-5194-481A-B4E9-0ACA86EDF1E3"><!-- --></a>coords</dt>
<dd>
<p>SDO_NUMBER_ARRAY object specifying the coordinates of the edge or edges to be added.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function creates at least one new edge, and more edges if necessary. For example, if the line string geometry intersects an existing edge, two edges are created for the added line string, and the existing edge (the one being intersected) is divided into two edges. If <code class="codeph">topology</code> is not null, Spatial and Graph automatically updates the &lt;topology-name&gt;_EDGE$ table as needed. (If <code class="codeph">topology</code> is null, you can update this table at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>This function returns an array of the edge IDs of the inserted and shared edges in sequence from the start to the end of the geometry. If a segment in the added geometry overlaps an existing edge in the topology, the sign of the returned edge depends on the directions of the added segment and the existing edge: if the direction of the existing edge is the same as the linear geometry, the returned edge element is positive; if the direction of the existing edge is the opposite of the linear geometry, the returned edge element is negative.</p>
<p>An exception is raised if the object in the <code class="codeph">curve</code> or <code class="codeph">coords</code> parameter contains any line segments that run together (overlap) in any manner; however, the line segments can cross at one or more points.</p>
<p>For information about adding and deleting nodes and edges, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This function is equivalent to using the <code class="codeph">addLinearGeometry</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds an edge representing a specified line string geometry, and it returns the edge ID of the added edge. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(null,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,2,1),
    SDO_ORDINATE_ARRAY(50,10, 55,10, 57,11)))
FROM DUAL;
 
SDO_TOPO_MAP.ADD_LINEAR_GEOMETRY(NULL,SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(31)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL838"></a>
<div class="props_rev_3"><a id="GUID-D25D7695-9ABE-4087-93B7-A11E4A760027"></a>
<h2 id="TOPOL-GUID-D25D7695-9ABE-4087-93B7-A11E4A760027" class="sect2">SDO_TOPO_MAP.ADD_LOOP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_LOOP(     
  topology  IN VARCHAR2,      
  node_id   IN NUMBER,      
  geom      IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds an edge that loops and connects to the same node, and returns the edge ID of the added edge.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107219"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D25D7695-9ABE-4087-93B7-A11E4A760027__GUID-7CE05530-4D8B-4372-ABD7-EBAB97CFFE5B"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the edge, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107220"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D25D7695-9ABE-4087-93B7-A11E4A760027__GUID-27C52A43-5264-4375-89A6-D60BA01EDB00"><!-- --></a>node_id</dt>
<dd>
<p>Node ID of the node to which to add the edge that will start and end at this node.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107221"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D25D7695-9ABE-4087-93B7-A11E4A760027__GUID-BBA36CC3-ECED-457D-A855-270598CBEB5A"><!-- --></a>geom</dt>
<dd>
<p>SDO_GEOMETRY object (line string geometry) representing the edge to be added. The start and end points of the line string must be the same point representing <code class="codeph">node_id</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function creates a new edge, as well as a new face consisting of the interior of the loop. If the edge is added at an isolated node, the edge is an isolated edge. If <code class="codeph">topology</code> is not null, Spatial and Graph automatically updates the &lt;topology-name&gt;_EDGE$ and &lt;topology-name&gt;_FACE$ tables as needed. (If <code class="codeph">topology</code> is null, you can update these tables at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>For information about adding and deleting nodes and edges, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This function is equivalent to using the <code class="codeph">addLoop</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds an edge loop starting and ending at node N4, and it returns the edge ID of the added edge. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.ADD_LOOP(null, 4,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1),
    SDO_ORDINATE_ARRAY(20,37, 20,39, 25,39, 20,37)))
  INTO :res_number;
 
Call completed.
 
SQL&gt; PRINT res_number;
 
RES_NUMBER                                                                      
----------                                                                      
        30 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL839"></a>
<div class="props_rev_3"><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2"></a>
<h2 id="TOPOL-GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2" class="sect2">SDO_TOPO_MAP.ADD_NODE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_NODE(     
  topology           IN VARCHAR2,      
  edge_id            IN NUMBER,      
  point              IN SDO_GEOMETRY,      
  coord_index        IN NUMBER,      
  is_new_shape_point IN VARCHAR2      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_NODE(     
  topology           IN VARCHAR2,      
  edge_id            IN NUMBER,      
  x                  IN NUMBER,      
  y                  IN NUMBER,      
  coord_index        IN NUMBER,      
  is_new_shape_point IN VARCHAR2      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds a non-isolated node to a topology to split an existing edge, and returns the node ID of the added node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107222"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-3C530C5C-B436-4401-967B-DE678D46D501"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the node, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107223"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-82C7D630-A3C5-401E-A3F8-BCBDF0F35D4D"><!-- --></a>edge_id</dt>
<dd>
<p>Edge ID of the edge on which the node is to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107224"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-44182D2B-42F2-457E-8595-5F70DD379461"><!-- --></a>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the node to be added. The point must be an existing shape point or a new point that breaks a line segment connecting two consecutive shape points.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107225"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-6608313D-8D22-45AA-811A-51743C71BDA0"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point representing the node to be added. The point must be an existing shape point or a new point that breaks a line segment connecting two consecutive shape points.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107226"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-976A7428-1BF3-4821-8A12-7DBC00C60A6E"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point representing the node to be added. The point must be an existing shape point or a new point that breaks a line segment connecting two consecutive shape points.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107227"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-90E7AD00-9466-4106-B4FB-F78D6799B7BE"><!-- --></a>coord_index</dt>
<dd>
<p>The index (position) of the array position in the edge coordinate array on or after which the node is to be added. Each vertex (node or shape point) has a position in the edge coordinate array. The start point (node) is index (position) 0, the first point after the start point is 1, and so on. (However, the <code class="codeph">coord_index</code> value cannot be the index of the last vertex.) For example, if the edge coordinates are (2,2, 5,2, 8,3) the index of the second vertex (5,2) is 1.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107228"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2__GUID-147F1B91-C30C-4FA2-BD9A-444A01896378"><!-- --></a>is_new_shape_point</dt>
<dd>
<p><code class="codeph">TRUE</code> if the added node is to be a new shape point following the indexed vertex (<code class="codeph">coord_index</code> value) of the edge; <code class="codeph">FALSE</code> if the added node is exactly on the indexed vertex.</p>
<p>A value of <code class="codeph">TRUE</code> lets you add a node at a new point, breaking an edge segment at the coordinates specified in the <code class="codeph">point</code> parameter or the <code class="codeph">x</code> and <code class="codeph">y</code> parameter pair. A value of <code class="codeph">FALSE</code> causes the coordinates in the <code class="codeph">point</code> parameter or the <code class="codeph">x</code> and <code class="codeph">y</code> parameter pair to be ignored, and causes the node to be added at the existing shape point associated with the <code class="codeph">coord_index</code> value.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Spatial and Graph automatically assigns a node ID to the added node and creates a new edge. The split piece at the beginning of the old edge is given the edge ID of the old edge. If <code class="codeph">topology</code> is not null, appropriate entries are inserted in the &lt;topology-name&gt;_NODE$ and &lt;topology-name&gt;_EDGE$ tables. (If <code class="codeph">topology</code> is null, you can update these tables at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>To add an isolated node (that is, an island node), use the <a href="SDO_TOPO_MAP-reference.htm#GUID-7752EB56-41C8-4180-8C85-920B8E1A831A">SDO_TOPO_MAP.ADD_ISOLATED_NODE</a> function.</p>
<p>For information about adding and deleting nodes and edges, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This function is equivalent to using the <code class="codeph">addNode</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds a non-isolated node to the right of node N2 on edge E2, and it returns the node ID of the added node. It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">DECLARE
  result_num NUMBER;
BEGIN
result_num := SDO_TOPO_MAP.ADD_NODE(null, 2,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(27,30,NULL), NULL, NULL),
  0, &#39;TRUE&#39;);
DBMS_OUTPUT.PUT_LINE(&#39;Result = &#39; || result_num);
END;
/
Result = 26                                                                     
 
PL/SQL procedure successfully completed.
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL840"></a>
<div class="props_rev_3"><a id="GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488"></a>
<h2 id="TOPOL-GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488" class="sect2">SDO_TOPO_MAP.ADD_POINT_GEOMETRY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_POINT_GEOMETRY(
  topology IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_POINT_GEOMETRY(
  topology IN VARCHAR2,      
  coord    IN SDO_NUMBER_ARRAY      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds a node representing a specified point geometry or coordinate pair, and returns the node ID of the added node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107229"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488__GUID-DA2E199B-2A76-433F-AF04-CB3FE3679892"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the node, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107230"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488__GUID-48F5D7E7-47AD-429C-AE4E-ADD072E8B9FF"><!-- --></a>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the node to be added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107231"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488__GUID-ACBCAC68-AB11-4BFB-A319-9C5C24CC5900"><!-- --></a>coord</dt>
<dd>
<p>SDO_NUMBER_ARRAY object specifying the coordinates of the node to be added.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If the point coincides with an existing node, no changes are made to the topology. Otherwise, an isolated node or a node splitting an edge is added.</p>
<p>For information about adding and deleting nodes and edges, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This function is equivalent to using the <code class="codeph">addPointGeometry</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds a node representing a specified point geometry, and it returns the node ID of the added node. It uses the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.ADD_POINT_GEOMETRY(null,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(57,12,NULL), NULL, NULL))
FROM DUAL;
 
SDO_TOPO_MAP.ADD_POINT_GEOMETRY(NULL,SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(57,12
--------------------------------------------------------------------------------
                                                                              29
</pre>
<p>The following example adds a node at the specified coordinates (58, 12), and it returns the node ID of the added node. It uses the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.ADD_POINT_GEOMETRY(null, SDO_NUMBER_ARRAY(58,12))
FROM DUAL;
 
SDO_TOPO_MAP.ADD_POINT_GEOMETRY(NULL,SDO_NUMBER_ARRAY(58,12))                   
-------------------------------------------------------------                   
                                                           30 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL841"></a>
<div class="props_rev_3"><a id="GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876"></a>
<h2 id="TOPOL-GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876" class="sect2">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY(     
  topology  IN VARCHAR2,      
  polygon   IN SDO_GEOMETRY      
) RETURN SDO_NUMBER_ARRAY;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY(     
  topology  IN VARCHAR2,      
  coords    IN SDO_NUMBER_ARRAY      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds one or more faces representing a specified polygon geometry, and returns the face ID of each added face.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107232"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876__GUID-2E52D505-A0EF-493F-8200-9A232A4DAD8E"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to which to add the face or faces, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107233"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876__GUID-4B85FF54-A74B-47B6-AC33-AE46BC56EFA9"><!-- --></a>polygon</dt>
<dd>
<p>SDO_GEOMETRY object (polygon or multipolygon geometry) representing the face or faces to be added. Each polygon in the object must have a single exterior ring that can contain any number of interior rings.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107234"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876__GUID-7F20F599-C31B-4F4D-8FBE-1AA9F9D1C5D5"><!-- --></a>coords</dt>
<dd>
<p>SDO_NUMBER_ARRAY object specifying the coordinates of a single polygon geometry representing the face or faces to be added. The vertices of the polygon must be in counterclockwise order, with the last vertex the same as the first vertex.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function creates at least one new face, and more faces if necessary. For example, if the polygon geometry intersects an existing face, faces are created for the added polygon, and the existing face (the one being intersected) definition is adjusted. If <code class="codeph">topology</code> is not null, Spatial and Graph automatically updates the &lt;topology-name&gt;_FACE$ table as needed. (If <code class="codeph">topology</code> is null, you can update this table at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>If the polygon coincides with an existing face, no changes are made to the topology.</p>
<p>For a multipolygon geometry, no exterior ring may overlap any other exterior ring. For example, you cannot add a face representing the following single multipolygon geometry: a park (exterior ring) containing a lake (interior ring) with an island in the lake (exterior ring inside the preceding interior ring).</p>
<p>This function is equivalent to using the <code class="codeph">addPolygonGeometry</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds a face representing a specified polygon geometry, and it returns and prints the face ID of the added edge. It uses the current updatable TopoMap object.</p>
<pre dir="ltr">DECLARE
  res_number_array SDO_NUMBER_ARRAY;
  face_count NUMBER;
  face_ctr NUMBER;
  this_face NUMBER;
BEGIN
res_number_array := SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY(null,
  SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,1003,1),
    SDO_ORDINATE_ARRAY(61,10, 70,10, 70,15, 65,15, 61,10)));
-- DBMS_OUTPUT.PUT_LINE(&#39;Result = &#39; || res_number_array);
-- Print each face associated with the geometry.
face_count := res_number_array.count;
for face_ctr in 1..face_count loop
  this_face := res_number_array(face_ctr);
  dbms_output.put_line (&#39;this face = &#39;|| this_face);
  end loop;  -- printed each face
END;
/
this face = 12 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL842"></a>
<div class="props_rev_3"><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9"></a>
<h2 id="TOPOL-GUID-785884A2-4894-469B-B272-10E480F9EFC9" class="sect2">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.CHANGE_EDGE_COORDS(     
  topology  IN VARCHAR2,      
  edge_id   IN NUMBER,      
  geom      IN SDO_GEOMETRY);
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.CHANGE_EDGE_COORDS(     
  topology         IN VARCHAR2,      
  edge_id          IN NUMBER,      
  geom             IN SDO_GEOMETRY,      
  moved_iso_nodes  OUT SDO_NUMBER_ARRAY,      
  moved_iso_edges  OUT SDO_NUMBER_ARRAY,      
  allow_iso_moves  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Changes the coordinates and related information about an edge.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107235"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9__GUID-018A9E41-1CFE-4935-94B3-755FB65403B0"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology containing the edge, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107236"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9__GUID-47A6F9E8-B891-446F-B9CD-4D7BD1431958"><!-- --></a>edge_id</dt>
<dd>
<p>Edge ID of the edge whose coordinates are to be changed.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107237"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9__GUID-B9FEE1A9-8336-472C-AC29-ED3C4D674F44"><!-- --></a>geom</dt>
<dd>
<p>SDO_GEOMETRY object (line or contiguous line string geometry) representing the modified edge. The start and end points of the modified edge must be the same as for the original edge.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107238"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9__GUID-9B3B8255-21AF-48F7-9E39-BDCF45FCE81B"><!-- --></a>moved_iso_nodes</dt>
<dd>
<p>Output parameter in which, if the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">TRUE</code>, Spatial and Graph stores the node ID values of any isolated nodes that have moved to a different face as a result of this procedure. If the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">FALSE</code>, Spatial and Graph stores the node ID values of any isolated nodes that did not move but that would have moved to a different face if the <code class="codeph">allow_iso_moves</code> parameter value had been <code class="codeph">TRUE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107239"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9__GUID-1BDC4D8F-0849-4A62-930C-84F7EAACDE69"><!-- --></a>moved_iso_edges</dt>
<dd>
<p>Output parameter in which, if the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">TRUE</code>, Spatial and Graph stores the edge ID values of any isolated edges that have moved to a different face as a result of this procedure. If the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">FALSE</code>, Spatial and Graph stores the edge ID values of any isolated edges that did not move but that would have moved to a different face if the <code class="codeph">allow_iso_moves</code> parameter value had been <code class="codeph">TRUE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107240"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-785884A2-4894-469B-B272-10E480F9EFC9__GUID-9A83CABC-9687-4451-96FF-228022E529EF"><!-- --></a>allow_iso_moves</dt>
<dd>
<p><code class="codeph">TRUE</code> causes Spatial and Graph to allow an edge coordinates change operation that would cause any isolated nodes or edges to be in a different face, and to adjust the containing face information for such isolated nodes and edges; <code class="codeph">FALSE</code> causes Spatial and Graph not to allow an edge coordinates change operation that would cause any isolated nodes or edges to be in a different face.</p>
<p>If you use the format that does not include the <code class="codeph">allow_iso_moves</code> parameter, Spatial and Graph allows edge move operations that would cause any isolated nodes or edges to be in a different face, and it adjusts the containing face information for such isolated nodes and edges.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If this procedure modifies a boundary between faces, Spatial and Graph automatically performs the following operations and updates the Topology Data Model tables as needed: reassigning island nodes and faces, and adjusting the MBRs of the faces on both sides.</p>
<p>If <code class="codeph">topology</code> is not null, this procedure modifies the information about the specified edge in the &lt;topology-name&gt;_EDGE$ table (described in <a href="topology-data-model-overview.htm#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">Edge Information Table</a>). (If <code class="codeph">topology</code> is null, you can update this table at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>You cannot use this procedure to change the start point or the end point, or both, of the specified edge. To do any of these operations, you must delete the edge, delete the node or nodes for the start or end point (or both) to be changed, add the necessary new node or nodes, and add the edge.</p>
<p>For information about editing topological elements, see <a href="editing-topologies.htm#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA">Editing Topologies</a> .</p>
<p>This procedure is equivalent to using the <code class="codeph">changeEdgeCoords</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example changes the coordinates of edge E1. (It changes only the third point, from 16,38 to 16,39.) It uses the current updatable TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.CHANGE_EDGE_COORDS(null, 1,
  SDO_GEOMETRY(2002, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1),
    SDO_ORDINATE_ARRAY(8,30, 16,30, 16,39, 3,38, 3,30, 8,30)));
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL843"></a>
<div class="props_rev_3"><a id="GUID-224A6A71-AB01-4D9B-939C-7366AACD3376"></a>
<h2 id="TOPOL-GUID-224A6A71-AB01-4D9B-939C-7366AACD3376" class="sect2">SDO_TOPO_MAP.CLEAR_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.CLEAR_TOPO_MAP(     
  topo_map  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Clears all objects and changes in the cache associated with a TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107241"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-224A6A71-AB01-4D9B-939C-7366AACD3376__GUID-67B4C0EE-BB2C-4162-AEB4-CC08D1876286"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If the TopoMap object is updatable, this procedure changes it to be read-only.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>Contrast this procedure with the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure, which applies the changes in the cache associated with the TopoMap object to the topology. You cannot call the SDO_TOPO_MAP.CLEAR_TOPO_MAP procedure if you previously used the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure on the specified TopoMap object.</p>
<p>This procedure is equivalent to using the <code class="codeph">clearCache</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example clears the cache associated with the TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code>, which is associated with the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.CLEAR_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL844"></a>
<div class="props_rev_3"><a id="GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10"></a>
<h2 id="TOPOL-GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10" class="sect2">SDO_TOPO_MAP.COMMIT_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.COMMIT_TOPO_MAP;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Updates the topology to reflect changes made to the current updatable TopoMap object, commits all changes to the database, and makes the TopoMap object read-only.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Use this procedure when you are finished with a batch of edits to a topology and you want to commit all changes to the database. After the commit operation completes, you cannot edit the TopoMap object. To make further edits to the topology, you must either clear the cache (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a> procedure) or create a new TopoMap object (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D">SDO_TOPO_MAP.CREATE_TOPO_MAP</a> procedure), and then load the topology into the TopoMap object for update (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a> function or procedure).</p>
<p>Contrast this procedure with the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure, which leaves the TopoMap object available for editing operations and which does not perform a commit operation (and thus does not end the database transaction).</p>
<p>To roll back all TopoMap object changes, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a> procedure.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>This procedure is equivalent to using the <code class="codeph">commitDB</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example commits to the database all changes to the current updatable TopoMap object, and prevents further editing of the TopoMap object.</p>
<pre dir="ltr">EXECUTE SDO_TOPO_MAP.COMMIT_TOPO_MAP;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL845"></a>
<div class="props_rev_3"><a id="GUID-92DF4764-8E33-4854-B869-B6C67D163FE1"></a>
<h2 id="TOPOL-GUID-92DF4764-8E33-4854-B869-B6C67D163FE1" class="sect2">SDO_TOPO_MAP.CREATE_EDGE_INDEX</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.CREATE_EDGE_INDEX(     
  topo_map  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Creates an internal R-tree index (or rebuilds the index if one already exists) on the edges in the cache associated with a TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107242"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-92DF4764-8E33-4854-B869-B6C67D163FE1__GUID-5F12CC36-508D-4C00-9400-617394EA8720"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>You can cause Spatial and Graph to create in-memory R-tree indexes to be built on the edges and faces in the specified TopoMap object. These indexes use some memory resources and take some time to create; however, they significantly improve performance if you edit a large number of topological elements in the session. They can also improve performance for queries that use a read-only TopoMap object. If the TopoMap object is updatable and if you are performing many editing operations, you should probably rebuild the indexes periodically; however, if the TopoMap object will not be updated, create the indexes when or after loading the read-only TopoMap object or after calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>Compare this procedure with the <a href="SDO_TOPO_MAP-reference.htm#GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5">SDO_TOPO_MAP.CREATE_FACE_INDEX</a> procedure, which creates an internal R-tree index (or rebuilds the index if one already exists) on the faces in the cache associated with a TopoMap object.</p>
<p>This procedure is equivalent to using the <code class="codeph">createEdgeIndex</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example creates an internal R-tree index (or rebuilds the index if one already exists) on the edges in the cache associated with the TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code>, which is associated with the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.CREATE_EDGE_INDEX(&#39;CITY_DATA_TOPOMAP&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL846"></a>
<div class="props_rev_3"><a id="GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5"></a>
<h2 id="TOPOL-GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5" class="sect2">SDO_TOPO_MAP.CREATE_FACE_INDEX</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.CREATE_FACE_INDEX(     
  topo_map  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Creates an internal R-tree index (or rebuilds the index if one already exists) on the faces in the cache associated with a TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107243"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5__GUID-E81F0CEB-56F2-4886-854F-FA58E00D6CB1"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>You can cause Spatial and Graph to create in-memory R-tree indexes to be built on the edges and faces in the specified TopoMap object. These indexes use some memory resources and take some time to create; however, they significantly improve performance if you edit a large number of topological elements in the session. They can also improve performance for queries that use a read-only TopoMap object. If the TopoMap object is updatable and if you are performing many editing operations, you should probably rebuild the indexes periodically; however, if the TopoMap object will not be updated, create the indexes when or after loading the read-only TopoMap object or after calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>Compare this procedure with the <a href="SDO_TOPO_MAP-reference.htm#GUID-92DF4764-8E33-4854-B869-B6C67D163FE1">SDO_TOPO_MAP.CREATE_EDGE_INDEX</a> procedure, which creates an internal R-tree index (or rebuilds the index if one already exists) on the edges in the cache associated with a TopoMap object.</p>
<p>This procedure is equivalent to using the <code class="codeph">createFaceIndex</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example creates an internal R-tree index (or rebuilds the index if one already exists) on the faces in the cache associated with the TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code>, which is associated with the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.CREATE_FACE_INDEX(&#39;CITY_DATA_TOPOMAP&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL275"></a>
<div class="props_rev_3"><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D"></a>
<h2 id="TOPOL-GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D" class="sect2">SDO_TOPO_MAP.CREATE_FEATURE</h2>
<div>
<div class="section">
<p class="subhead2">Format (no topology geometry layer hierarchy or lowest level in a hierarchy)</p>
<pre dir="ltr">SDO_TOPO_MAP.CREATE_FEATURE(     
  topology    IN VARCHAR2,      
  table_name  IN VARCHAR2,      
  column_name IN VARCHAR2,      
  geom        IN SDO_GEOMETRY      
) RETURN SDO_TOPO_GEOMETRY;
or
SDO_TOPO_MAP.CREATE_FEATURE(     
  topology    IN VARCHAR2,      
  table_name  IN VARCHAR2,      
  column_name IN VARCHAR2,      
  geom        IN SDO_GEOMETRY,
  snapfeature IN NUMBER     
) RETURN SDO_TOPO_GEOMETRY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Format (parent level in a hierarchy)</p>
<pre dir="ltr">SDO_TOPO_MAP.CREATE_FEATURE(     
  topology      IN VARCHAR2,      
  table_name    IN VARCHAR2,      
  column_name   IN VARCHAR2,      
  dml_condition IN VARCHAR2      
) RETURN SDO_TOPO_GEOMETRY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Creates a feature from Oracle Spatial and Graph geometries. (This function is intended to be used for inserting rows into a feature table.)</p>
<ul style="list-style-type: disc;">
<li>
<p>The first two formats (with the <code class="codeph">geom</code> parameter and without the <code class="codeph">dml_condition</code> parameter) are for creating a feature in a topology without a topology geometry layer hierarchy or in the lowest level of a topology with a topology geometry layer hierarchy.</p>
</li>
<li>
<p>The third format (with the <code class="codeph">dml_condition</code> parameter and without the <code class="codeph">geom</code> parameter) is for creating a feature in a parent level of a topology with a topology geometry layer hierarchy.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107244"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D__GUID-BEB665CD-A322-4E52-8F8C-AE4029750F65"><!-- --></a>topology</dt>
<dd>
<p>Topology having the associated specified feature table and feature column.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107245"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D__GUID-3647817A-52AF-4F34-B957-A731B2D2F1A5"><!-- --></a>table_name</dt>
<dd>
<p>Name of the feature table containing the feature column specified in <code class="codeph">column_name</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107246"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D__GUID-F9260C2B-ADA4-4308-8BE4-4C33B0FEE66F"><!-- --></a>column_name</dt>
<dd>
<p>Name of the feature column (of type SDO_TOPO_GEOMETRY) containing the topology geometries.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107247"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D__GUID-1610184F-A2D1-415E-AE30-2A74F10BAF90"><!-- --></a>geom</dt>
<dd>
<p>Geometry objects.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107248"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D__GUID-419E8812-515F-49F0-90D0-F07BB8985DE4"><!-- --></a>snapfeature</dt>
<dd>
<p>If set to 1, the specified new feature is snapped to existing edges and nodes in the topology.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107249"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D__GUID-EEA45F5F-CBC3-4549-894A-CA3C1738FE4B"><!-- --></a>dml_condition</dt>
<dd>
<p>For topologies with a topology geometry layer hierarchy (described in <a href="topology-data-model-overview.htm#GUID-048DC942-FC27-4977-AB98-2451E4A4910F">Topology Geometry Layer Hierarchy</a>): DML condition for selecting rows from a child layer to be inserted into a parent layer. Specify the condition in a quoted string, but without the word WHERE. For example, to select only rows where the STATE_ABBR column value is <code class="codeph">MA</code>, specify the following: <code class="codeph">&#39;state_abbr=&#39;&#39;MA&#39;&#39;&#39;</code></p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function is used to create features from existing geometries stored in a spatial table. Creating features from existing geometries is one approach to creating topology features; the other approach is to load the topology data into the node, edge, and face information tables. Both approaches are described in <a href="topology-data-model-overview.htm#GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC">Main Steps in Using Topology Data</a>, which contains the following subsections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="topology-data-model-overview.htm#GUID-87358F41-995F-46A6-87D7-79D183268506">Using a Topology Built from Topology Data</a></p>
</li>
<li>
<p><a href="topology-data-model-overview.htm#GUID-9B4C1443-116E-40AB-A633-4CB101A59461">Using a Topology Built from Spatial Geometries</a> (that is, the approach using the CREATE_FEATURE function)</p>
</li>
</ul>
<p>When you use the first or second format of this function, you must first create and load an updatable TopoMap object. To create a topology feature or an associated topological element, the function internally calls the <code class="codeph">addPointGeometry</code>, <code class="codeph">addLinearGeometry</code>, or <code class="codeph">addPolygonGeometry</code> method of the updatable TopoMap object, depending on the SDO_GTYPE value of the geometry object, and it calls the <code class="codeph">updateTopology</code> method of the updatable TopoMap object to write topological elements to the database. If this function is called in an INSERT or UPDATE statement, a feature is created or updated in the feature table. When the function completes, it has the effect of overlaying the geometry onto the topology. (That is, Spatial and Graph uses an implicitly created TopoMap object to create a new TopoMap object for each call to this function.)</p>
<p>When you use the third format of this function, you do not need to create an updatable TopoMap object. The function internally collects TG_ID values of features in the child level based on the <code class="codeph">dml_condition</code> parameter value, and it assembles an SDO_TGL_OBJECT_ARRAY object to create the SDO_GEOMETRY object.</p>
<p>To ensure that this function works correctly with all geometries, use a loop to call the function for each geometry. Do not use this function in a subquery in an INSERT or UPDATE statement, because doing so may cause inconsistencies in the topology, and you may not receive any error or warning messages about the inconsistencies.</p>
<p>An exception is raised if one or more of the following conditions exist:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">topology</code>, <code class="codeph">table_name</code>, or <code class="codeph">column_name</code> does not exist.</p>
</li>
<li>
<p><code class="codeph">geom</code> specifies geometry objects of a type inconsistent with the topology geometry layer type. For example, you cannot use line string geometries to create land parcel features.</p>
</li>
<li>
<p><code class="codeph">dml_condition</code> is used with a topology that does not have a topology geometry layer hierarchy.</p>
</li>
<li>
<p>The input geometries include any optimized shapes, such as optimized rectangles or circles.</p>
</li>
<li>
<p>A line string or multiline string geometry contains any overlapping line segments.</p>
</li>
<li>
<p>In a multipolygon geometry, an exterior ring overlaps any other exterior ring.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example populates the FEATURE column in the CITY_STREETS, TRAFFIC_SIGNS, and LAND_PARCELS feature tables with all geometries in the GEOMETRY column in the CITY_STREETS_GEOM, TRAFFIC_SIGNS_GEOM, and LAND_PARCELS_GEOM spatial tables, respectively. This example assumes that an updatable TopoMap object has been created and loaded for the <code class="codeph">CITY_DATA</code> topology. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567">Topology Built from Spatial Geometries</a>.)</p>
<pre dir="ltr">BEGIN
  FOR street_rec IN (SELECT name, geometry FROM city_streets_geom) LOOP
   INSERT INTO city_streets VALUES(street_rec.name,
     SDO_TOPO_MAP.CREATE_FEATURE(&#39;CITY_DATA&#39;, &#39;CITY_STREETS&#39;, &#39;FEATURE&#39;,
         street_rec.geometry));
  END LOOP;
 
  FOR sign_rec IN (SELECT name, geometry FROM traffic_signs_geom) LOOP
   INSERT INTO traffic_signs VALUES(sign_rec.name,
     SDO_TOPO_MAP.CREATE_FEATURE(&#39;CITY_DATA&#39;, &#39;TRAFFIC_SIGNS&#39;, &#39;FEATURE&#39;,
         sign_rec.geometry));
  END LOOP;
 
  FOR parcel_rec IN (SELECT name, geometry FROM land_parcels_geom) LOOP
   INSERT INTO land_parcels VALUES(parcel_rec.name,
     SDO_TOPO_MAP.CREATE_FEATURE(&#39;CITY_DATA&#39;, &#39;LAND_PARCELS&#39;, &#39;FEATURE&#39;,
         parcel_rec.geometry));
  END LOOP;
END;
/
</pre>
<p>The following example creates a topology that has a topology geometry layer hierarchy with two layers: counties and states. The calls to the CREATE_FEATURE function that create parent layer (state) features include the <code class="codeph">dml_condition</code> parameter (for example, <code class="codeph">&#39;p_name=&#39;&#39;NH&#39;&#39;&#39;</code>).</p>
<pre dir="ltr">declare
 name varchar2(64);
 cursor c1 is select state_abrv, county from
   counties order by 1, 2;
 stateabrv varchar2(2);
begin
 
 -- Initialize.
 sdo_topo_map.create_topo_map(&#39;cnty&#39;, &#39;m2&#39;, 10000, 10000, 10000);
 sdo_topo_map.load_topo_map(&#39;m2&#39;, -180, -90, 180, 90, &#39;true&#39;);
 
 -- Insert one county at a time.
 for cnty_rec in c1 loop
   stateabrv := cnty_rec.state_abrv;
   name := cnty_rec.county;
   insert into cnty_areas select state_abrv || &#39;-&#39; ||county,
     sdo_topo_map.create_feature(&#39;CNTY&#39;, &#39;CNTY_AREAS&#39;, &#39;FEATURE&#39;, geom) from
     counties where state_abrv=stateabrv and county=name;
 end loop;
 
 -- Roll back topology.
 sdo_topo_map.rollback_topo_map();
 sdo_topo_map.drop_topo_map(&#39;m2&#39;);
 
 -- Roll back inserts.
 rollback;
 
exception
 when others then
   dbms_output.put_line(SQLERRM);
   sdo_topo_map.rollback_topo_map();
   sdo_topo_map.drop_topo_map(&#39;m2&#39;);
   rollback;
end;
/
 
-- Add parent feature layer.
--  
--   The following commented out statement can be used to populate the
--     child_layer_id parameter in sdo_topo.add_topo_geometry_layer.
--  
--   select tg_layer_id
--     from user_sdo_topo_info 
--     where TOPOLOGY = &#39;SC&#39; 
--       and table_name = &#39;SC_AREAS&#39;;
-- 
execute sdo_topo.add_topo_geometry_layer(&#39;SC&#39;,&#39;SC_P_AREAS&#39;, &#39;FEATURE&#39;, -
                                      &#39;POLYGON&#39;, NULL, child_layer_id =&gt; 1);
 
-- Create and insert state features (logically) from county features.
insert into sc_p_areas (f_name, p_name, feature) values (&#39;NH&#39;, &#39;US&#39;,
  sdo_topo_map.create_feature(&#39;SC&#39;,&#39;SC_P_AREAS&#39;,&#39;FEATURE&#39;,&#39;p_name=&#39;&#39;NH&#39;&#39;&#39;));
insert into sc_p_areas (f_name, p_name, feature) values (&#39;CT&#39;, &#39;US&#39;,
  sdo_topo_map.create_feature(&#39;SC&#39;,&#39;SC_P_AREAS&#39;,&#39;FEATURE&#39;,&#39;p_name=&#39;&#39;CT&#39;&#39;&#39;));
insert into sc_p_areas (f_name, p_name, feature) values (&#39;ME&#39;, &#39;US&#39;,
  sdo_topo_map.create_feature(&#39;SC&#39;,&#39;SC_P_AREAS&#39;,&#39;FEATURE&#39;,&#39;p_name=&#39;&#39;ME&#39;&#39;&#39;));
insert into sc_p_areas (f_name, p_name, feature) values (&#39;MA&#39;, &#39;US&#39;,
  sdo_topo_map.create_feature(&#39;SC&#39;,&#39;SC_P_AREAS&#39;,&#39;FEATURE&#39;,&#39;p_name=&#39;&#39;MA&#39;&#39;&#39;));
commit;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL847"></a>
<div class="props_rev_3"><a id="GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D"></a>
<h2 id="TOPOL-GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D" class="sect2">SDO_TOPO_MAP.CREATE_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.CREATE_TOPO_MAP(     
  topology         IN VARCHAR2,      
  topo_map         IN VARCHAR2,      
  number_of_edges  IN NUMBER DEFAULT 100,      
  number_of_nodes  IN NUMBER DEFAULT 80,      
  number_of_faces  IN NUMBER DEFAULT 30);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Creates a TopoMap object cache associated with an existing topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107250"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D__GUID-E0F144A8-4A43-4EEC-840E-AE1F05BE6862"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107251"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D__GUID-8B86D3D6-202B-49DF-9691-6A2579CC1898"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107252"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D__GUID-9A58F3A6-F226-4034-8BAB-69F8084B775A"><!-- --></a>number_of_edges</dt>
<dd>
<p>An estimate of the maximum number of edges that will be in the TopoMap object at any given time. If you do not specify this parameter, a default value of 100 is used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107253"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D__GUID-51F8E365-BF22-4396-B210-DD0F71E1DD22"><!-- --></a>number_of_nodes</dt>
<dd>
<p>An estimate of the maximum number of nodes that will be in the TopoMap object at any given time. If you do not specify this parameter, a default value of 80 is used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107254"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D__GUID-682B30D4-8F80-4BD6-B5E9-F4F9415573FF"><!-- --></a>number_of_faces</dt>
<dd>
<p>An estimate of the maximum number of faces that will be in the TopoMap object at any given time. If you do not specify this parameter, a default value of 30 is used.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">number_of_edges</code>, <code class="codeph">number_of_nodes</code>, and <code class="codeph">number_of_faces</code> parameters let you improve the performance and memory usage of the procedure when you have a good idea of the approximate number of edges, nodes, or faces (or any combination) that will be placed in the cache associated with the specified TopoMap object. Spatial and Graph initially allocates memory cache for the specified or default number of objects of each type, and incrementally increases the allocation later if more objects need to be accommodated.</p>
<p>You can create more than one TopoMap object in a user session; however, there can be no more than one updatable TopoMap object at any given time in a user session.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>Using this procedure is equivalent to calling the constructor of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example creates a TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code> and its associated cache, and it associates the TopoMap object with the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.CREATE_TOPO_MAP(&#39;CITY_DATA&#39;, &#39;CITY_DATA_TOPOMAP&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL848"></a>
<div class="props_rev_3"><a id="GUID-48216A60-21E7-4DFB-8AE9-D1C8D50EE6DA"></a>
<h2 id="TOPOL-GUID-48216A60-21E7-4DFB-8AE9-D1C8D50EE6DA" class="sect2">SDO_TOPO_MAP.DROP_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.DROP_TOPO_MAP(     
  topo_map IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Deletes a TopoMap object from the current user session.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107255"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-48216A60-21E7-4DFB-8AE9-D1C8D50EE6DA__GUID-C6474F42-57A3-4A96-B5E7-E992C33DD193"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure rolls back any uncommitted changes if the TopoMap object is updatable (that is, performs the equivalent of an <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a> operation). It clears the cache associated with the TopoMap object, and removes the TopoMap object from the session.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>Using this procedure is equivalent to setting the variable of the TopoMap object to a null value in a client-side Java application. (The client-side Java API is described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>.)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example drops the TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.DROP_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL849"></a>
<div class="props_rev_3"><a id="GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45"></a>
<h2 id="TOPOL-GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45" class="sect2">SDO_TOPO_MAP.GET_CONTAINING_FACE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_CONTAINING_FACE(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_CONTAINING_FACE(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  x        IN NUMBER,      
  y        IN NUMBER      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the face ID number of the face that contains the specified point.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107256"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45__GUID-44A4E499-AEC1-4A75-AB82-A56D34569693"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the face and the point, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107257"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45__GUID-27DDCA3F-21BF-41FF-BDBF-881E7A57E560"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107258"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45__GUID-6C168A59-12C6-4132-A804-B15AF3189E74"><!-- --></a>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107259"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45__GUID-42891DBA-25CD-440F-9A1D-0647F7544479"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107260"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCFC4E51-DF15-4BE7-824B-F7F39FF5FB45__GUID-9AE96085-91D9-4DB1-A28C-EF7B72F6A771"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>This function determines, from the faces in the specified TopoMap object (including any island faces), which one face (if any) contains the specified point in its open set, excluding islands. (The open set, excluding islands, of a face consists of all points inside, but not on the boundary of, the face.) If the point is exactly on the boundary of a face, the function returns a value of 0 (zero).</p>
<p>If the entire topology has been loaded into the TopoMap object and if the point is not in any finite face in the cache, this function returns a value of -1 (for the universe face). If a window from the topology has been loaded into the TopoMap object and if the point is not in any finite face in the cache, this function returns a value of -1 (for the universe face) if the point is inside the window and a value of 0 (zero) if the point is outside the window. If neither the entire topology nor a window has been loaded, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code class="codeph">getContainingFace</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the face ID number of the face that contains the point at (22, 37) in the <code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_CONTAINING_FACE(null, &#39;CITY_DATA_TOPOMAP&#39;,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,37,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_CONTAINING_FACE(NULL,&#39;CITY_DATA_TOPOMAP&#39;,SDO_GEOMETRY(2001,NULL
--------------------------------------------------------------------------------
                                                                               2
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL850"></a>
<div class="props_rev_3"><a id="GUID-BCCFB631-1319-4851-ABDD-0703D14F91E5"></a>
<h2 id="TOPOL-GUID-BCCFB631-1319-4851-ABDD-0703D14F91E5" class="sect2">SDO_TOPO_MAP.GET_EDGE_ADDITIONS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_EDGE_ADDITIONS() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of edge ID numbers of edges that have been added to the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the edge ID numbers of edges in the current updatable TopoMap object that have been added since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no additions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getEdgeAdditions</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edge ID numbers of edges that have been added to the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_ADDITIONS FROM DUAL;
 
GET_EDGE_ADDITIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(28, 29, 30, 32)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL851"></a>
<div class="props_rev_3"><a id="GUID-A94D1462-A727-473E-A6BC-9199F33CC886"></a>
<h2 id="TOPOL-GUID-A94D1462-A727-473E-A6BC-9199F33CC886" class="sect2">SDO_TOPO_MAP.GET_EDGE_CHANGES</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_EDGE_CHANGES() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of edge ID numbers of edges that have been changed (modified) in the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the edge ID numbers of edges in the current updatable TopoMap object that have been changed since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no changes during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getEdgeChanges</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edge ID numbers of edges that have been changed in the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_CHANGES FROM DUAL;
 
GET_EDGE_CHANGES                                                                
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(3, 2, 1) 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL852"></a>
<div class="props_rev_3"><a id="GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943"></a>
<h2 id="TOPOL-GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943" class="sect2">SDO_TOPO_MAP.GET_EDGE_COORDS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_EDGE_COORDS(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  edge_id  IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array with the coordinates of the start node, shape points, and end node for the specified edge.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107261"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943__GUID-FC1C308B-9510-4F7B-8E5D-902787C9FC4A"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the edge, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107262"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943__GUID-5AB13EB2-CE05-4457-8D30-0553AE8CD38D"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107263"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943__GUID-E7C81953-A868-406C-AFD4-61A0C7370588"><!-- --></a>edge_id</dt>
<dd>
<p>Edge ID value of the edge.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>This function is equivalent to using the <code class="codeph">getEdgeCoords</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the coordinates of the start node, shape points, and end node for the edge whose edge ID value is 1. The returned array contains coordinates for six points. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_COORDS(null, &#39;CITY_DATA_TOPOMAP&#39;, 1) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_COORDS(NULL,&#39;CITY_DATA_TOPOMAP&#39;,1)                            
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(8, 30, 16, 30, 16, 38, 3, 38, 3, 30, 8, 30)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL853"></a>
<div class="props_rev_3"><a id="GUID-ACC50F34-C151-440E-BCAA-0E681EC6B947"></a>
<h2 id="TOPOL-GUID-ACC50F34-C151-440E-BCAA-0E681EC6B947" class="sect2">SDO_TOPO_MAP.GET_EDGE_DELETIONS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_EDGE_DELETIONS() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of edge ID numbers of edges that have been deleted from the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the edge ID numbers of edges in the current updatable TopoMap object that have been deleted since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no deletions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getEdgeDeletions</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edge ID numbers of edges that have been deleted from the current updatable TopoMap object. In this case, the return of an empty SDO_NUMBER_ARRAY object indicates that no edges have been deleted.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_DELETIONS FROM DUAL;
 
GET_EDGE_DELETIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY()
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL854"></a>
<div class="props_rev_3"><a id="GUID-B86F5CF7-BC57-4652-9427-3425B44E4BC4"></a>
<h2 id="TOPOL-GUID-B86F5CF7-BC57-4652-9427-3425B44E4BC4" class="sect2">SDO_TOPO_MAP.GET_EDGE_NODES</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_EDGE_NODES(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  edge_id  IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array with the ID numbers of the start and end nodes on the specified edge.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107264"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B86F5CF7-BC57-4652-9427-3425B44E4BC4__GUID-A9AFB618-2C3E-4D43-9A1B-F0C0D29FE6D2"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the edge, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107265"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B86F5CF7-BC57-4652-9427-3425B44E4BC4__GUID-137C8948-02E4-47A8-A7FC-015021C26077"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107266"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B86F5CF7-BC57-4652-9427-3425B44E4BC4__GUID-B8FF48DD-885E-4822-8F4C-E20A5A91ABD8"><!-- --></a>edge_id</dt>
<dd>
<p>Edge ID value of the edge.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>If the edge starts and ends at a node, the ID number of the node is the first and last number in the array.</p>
<p>This function has no exact equivalent method in the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>). The <code class="codeph">getEdge</code> method returns a Java edge object of the <code class="codeph">oracle.spatial.topo.Edge</code> class.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the ID numbers of the nodes on the edge whose edge ID value is 1. The returned array contains two nodes ID numbers, both of them 1 (for the same node), because the specified edge starts and ends at the node with node ID 1 and has a loop edge. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_NODES(null, &#39;CITY_DATA_TOPOMAP&#39;, 1) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_NODES(NULL,&#39;CITY_DATA_TOPOMAP&#39;,1)                             
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(1, 1)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL855"></a>
<div class="props_rev_3"><a id="GUID-83435605-07A4-4BAD-A77B-B7BB1F2A54B9"></a>
<h2 id="TOPOL-GUID-83435605-07A4-4BAD-A77B-B7BB1F2A54B9" class="sect2">SDO_TOPO_MAP.GET_FACE_ADDITIONS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_FACE_ADDITIONS() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of face ID numbers of faces that have been added to the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the face ID numbers of faces in the current updatable TopoMap object that have been added since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no additions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getFaceAdditions</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the face ID numbers of faces that have been added to the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_FACE_ADDITIONS FROM DUAL;
 
GET_FACE_ADDITIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(11)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL856"></a>
<div class="props_rev_3"><a id="GUID-2C8D285F-DEF2-4CF3-A7C2-651C7A393D19"></a>
<h2 id="TOPOL-GUID-2C8D285F-DEF2-4CF3-A7C2-651C7A393D19" class="sect2">SDO_TOPO_MAP.GET_FACE_CHANGES</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_FACE_CHANGES() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of face ID numbers of faces that have been changed (modified) in the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the face ID numbers of faces in the current updatable TopoMap object that have been changed since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no changes during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getFaceChanges</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the face ID numbers of faces that have been changed in the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_FACE_CHANGES FROM DUAL;
 
GET_FACE_CHANGES                                                                
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(2, 1, -1)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL857"></a>
<div class="props_rev_3"><a id="GUID-5F99E50F-5DF3-4A84-BC7F-C633EA66F0FA"></a>
<h2 id="TOPOL-GUID-5F99E50F-5DF3-4A84-BC7F-C633EA66F0FA" class="sect2">SDO_TOPO_MAP.GET_FACE_BOUNDARY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_FACE_BOUNDARY(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  face_id  IN NUMBER      
  option   IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array with the edge ID numbers of the edges that make up the boundary for the specified face.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107267"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5F99E50F-5DF3-4A84-BC7F-C633EA66F0FA__GUID-42780CF1-2EA6-476C-A37D-6F7E017A31BB"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the face, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107268"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5F99E50F-5DF3-4A84-BC7F-C633EA66F0FA__GUID-2E731071-BB73-4DC5-9034-D7D1F923A666"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107269"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5F99E50F-5DF3-4A84-BC7F-C633EA66F0FA__GUID-23AF10EE-2D74-4102-98ED-DB171C359A9B"><!-- --></a>face_id</dt>
<dd>
<p>Face ID value of the face.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107270"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5F99E50F-5DF3-4A84-BC7F-C633EA66F0FA__GUID-2974ADB0-0CD8-4899-AECA-E2592E760DD8"><!-- --></a>option</dt>
<dd>
<p>One of the following numbers to indicate an option for computing the boundary: 0 for an external boundary ring without spurs (that is, without doubly traced edges), 1 for external and internal rings without spurs, or 2 for external and internal rings with spurs. A value of 2 returns the full, though possibly degenerate, boundary.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>This function is equivalent to using the <code class="codeph">getFaceBoundary</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edges in the external boundary ring without spurs for the face whose face ID value is 3. The returned array contains four edge ID values. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_FACE_BOUNDARY(null, &#39;CITY_DATA_TOPOMAP&#39;, 3, 0) FROM DUAL;
 
SDO_TOPO_MAP.GET_FACE_BOUNDARY(NULL,&#39;CITY_DATA_TOPOMAP&#39;,3,0)                    
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(19, 6, 21, 9)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL858"></a>
<div class="props_rev_3"><a id="GUID-3608FCDE-20E5-4733-A784-69D8D913CFAD"></a>
<h2 id="TOPOL-GUID-3608FCDE-20E5-4733-A784-69D8D913CFAD" class="sect2">SDO_TOPO_MAP.GET_FACE_DELETIONS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_FACE_DELETIONS() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of face ID numbers of faces that have been deleted from the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the face ID numbers of faces in the current updatable TopoMap object that have been deleted since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no deletions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getFaceDeletions</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the face ID numbers of faces that have been deleted from the current updatable TopoMap object. In this case, the return of an empty SDO_NUMBER_ARRAY object indicates that no faces have been deleted.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_FACE_DELETIONS FROM DUAL;
 
GET_FACE_DELETIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY()
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL859"></a>
<div class="props_rev_3"><a id="GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2"></a>
<h2 id="TOPOL-GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2" class="sect2">SDO_TOPO_MAP.GET_NEAREST_EDGE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_EDGE(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_EDGE(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  x        IN NUMBER,      
  y        IN NUMBER      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the edge ID number of the edge that is nearest (closest to) the specified point.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107271"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2__GUID-C554742A-A790-4043-A304-6A84AC635D80"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the edge and the point, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107272"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2__GUID-3068AFF7-53E8-4EBC-BC1E-9E20647380F7"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107273"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2__GUID-59BC8149-925B-472C-A58E-85792ECDF913"><!-- --></a>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107274"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2__GUID-77AABF53-00AB-4760-A1AF-24452E7CFE8E"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107275"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BCD9472F-ED48-49F3-8CEA-CF22917AA2D2__GUID-E9FB9373-25A9-49CE-AAB9-18341748D442"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>The nearest edge is determined from the representation of the topology in the database, using the spatial index. If there are changed, added, or deleted edges in the instance and the database has not been updated to reflect those changes, the result may not reflect the true situation in the TopoMap object cache.</p>
<p>If multiple edges are equally close to the point, any one of the edge ID values is returned. If no edges exist in the topology, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code class="codeph">getNearestEdge</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edge ID number of the edge that is closest to the point at (8, 8) in the <code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NEAREST_EDGE(null, &#39;CITY_DATA_TOPOMAP&#39;,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_EDGE(NULL,&#39;CITY_DATA_TOPOMAP&#39;,SDO_GEOMETRY(2001,NULL,SD
--------------------------------------------------------------------------------
                                                                              22
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL860"></a>
<div class="props_rev_3"><a id="GUID-7A0953C3-D3FF-4E98-9552-A0BDEF979791"></a>
<h2 id="TOPOL-GUID-7A0953C3-D3FF-4E98-9552-A0BDEF979791" class="sect2">SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE(     
  topo_map  IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE(     
  topo_map IN VARCHAR2,      
  x        IN NUMBER,      
  y        IN NUMBER      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the edge ID number of the edge that, of the edges loaded in the specified TopoMap object, is nearest (closest to) the specified point.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107276"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7A0953C3-D3FF-4E98-9552-A0BDEF979791__GUID-3A1C170D-2B9F-40A0-B6EE-0D3EBC49080E"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107277"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7A0953C3-D3FF-4E98-9552-A0BDEF979791__GUID-26592282-876D-489D-B3B7-55847C753297"><!-- --></a>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107278"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7A0953C3-D3FF-4E98-9552-A0BDEF979791__GUID-B27767A6-627E-432B-A58C-AD22B3472BCF"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107279"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7A0953C3-D3FF-4E98-9552-A0BDEF979791__GUID-D2688DA0-454B-4CC3-A819-645A817ECDC2"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If multiple edges are equally close to the point, any one of the edge ID values is returned. If no topology data is loaded or if no edges exist in the cache, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code class="codeph">getNearestEdgeInCache</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edge ID number of the edge that is closest to the point at (8, 8) in the <code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE(&#39;CITY_DATA_TOPOMAP&#39;,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_EDGE_IN_CACHE(&#39;CITY_DATA_TOPOMAP&#39;,SDO_GEOMETRY(2001,NUL
--------------------------------------------------------------------------------
                                                                              22
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL861"></a>
<div class="props_rev_3"><a id="GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC"></a>
<h2 id="TOPOL-GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC" class="sect2">SDO_TOPO_MAP.GET_NEAREST_NODE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_NODE(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_NODE(     
  topology IN VARCHAR2,      
  topo_map IN VARCHAR2,      
  x        IN NUMBER,      
  y        IN NUMBER      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the node ID number of the node that is nearest (closest to) the specified point.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107280"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC__GUID-2ED13F12-92C8-4E73-8AF3-CF8E36A2489F"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the node and the point, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107281"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC__GUID-919BD2C8-B364-4455-BB1C-A02CBD8B4FD1"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107282"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC__GUID-030C9C28-8EB3-4DA7-A515-64CCE838111C"><!-- --></a>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107283"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC__GUID-37D680DE-3BF5-450A-9138-E3EA51C799C1"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107284"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-1E3B29DF-3BCA-416D-8789-FED61F35DCDC__GUID-B92DB57D-C674-4813-8424-9D93D82A6BFA"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>The nearest node is determined from the representation of the topology in the database, using the spatial index. If there are changed, added, or deleted nodes in the instance and the database has not been updated to reflect those changes, the result may not reflect the true situation in the TopoMap object cache.</p>
<p>If multiple nodes are equally close to the point, any one of the node ID values is returned.</p>
<p>This function is equivalent to using the <code class="codeph">getNearestNode</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node ID number of the node that is closest to the point at (8, 8) in the <code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NEAREST_NODE(null, &#39;CITY_DATA_TOPOMAP&#39;,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_NODE(NULL,&#39;CITY_DATA_TOPOMAP&#39;,SDO_GEOMETRY(2001,NULL,SD
--------------------------------------------------------------------------------
                                                                               8
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL862"></a>
<div class="props_rev_3"><a id="GUID-01135333-4552-42B4-BD08-114054206702"></a>
<h2 id="TOPOL-GUID-01135333-4552-42B4-BD08-114054206702" class="sect2">SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE(     
  topo_map IN VARCHAR2,      
  point    IN SDO_GEOMETRY      
) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE(     
  topo_map IN VARCHAR2,      
  x        IN NUMBER,      
  y        IN NUMBER      
) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the node ID number of the node that, of the nodes loaded in the specified TopoMap object, is nearest (closest to) the specified point.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107285"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-01135333-4552-42B4-BD08-114054206702__GUID-2DA0A98A-4CFD-400A-BAEA-0BD208472E23"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107286"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-01135333-4552-42B4-BD08-114054206702__GUID-9ACE0C43-EF27-47CD-9454-C16F6317C87D"><!-- --></a>point</dt>
<dd>
<p>Geometry object specifying the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107287"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-01135333-4552-42B4-BD08-114054206702__GUID-F717520C-88C8-46A0-9C58-06A59CBD6814"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107288"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-01135333-4552-42B4-BD08-114054206702__GUID-D2D32043-0593-4CFC-B5E3-B1BCDA2E92CF"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If multiple nodes are equally close to the point, any one of the node ID values is returned. If no topology data is loaded or if no nodes exist in the cache, this function returns 0 (zero).</p>
<p>This function is equivalent to using the <code class="codeph">getNearestNodeInCache</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node ID number of the node that is closest to the point at (8, 8) in the <code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap object. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE(&#39;CITY_DATA_TOPOMAP&#39;,
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(8,8,NULL), NULL, NULL))
  FROM DUAL;
 
SDO_TOPO_MAP.GET_NEAREST_NODE_IN_CACHE(&#39;CITY_DATA_TOPOMAP&#39;,SDO_GEOMETRY(2001,NUL
--------------------------------------------------------------------------------
                                                                               8
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL863"></a>
<div class="props_rev_3"><a id="GUID-DAEA2C74-E96C-46CC-A52D-A4ED3C5306E6"></a>
<h2 id="TOPOL-GUID-DAEA2C74-E96C-46CC-A52D-A4ED3C5306E6" class="sect2">SDO_TOPO_MAP.GET_NODE_ADDITIONS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NODE_ADDITIONS() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of node ID numbers of nodes that have been added to the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the node ID numbers of nodes in the current updatable TopoMap object that have been added since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no additions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getNodeAdditions</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node ID numbers of nodes that have been added to the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NODE_ADDITIONS FROM DUAL;
 
GET_NODE_ADDITIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(24, 25, 26, 27, 28)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL864"></a>
<div class="props_rev_3"><a id="GUID-0FEF9A33-788D-4BE1-B93D-489B873EF5B5"></a>
<h2 id="TOPOL-GUID-0FEF9A33-788D-4BE1-B93D-489B873EF5B5" class="sect2">SDO_TOPO_MAP.GET_NODE_CHANGES</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NODE_CHANGES() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of node ID numbers of nodes that have been changed (modified) in the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the node ID numbers of nodes in the current updatable TopoMap object that have been changed since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no changes during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getNodeChanges</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node ID numbers of nodes that have been changed in the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NODE_CHANGES FROM DUAL;
 
GET_NODE_CHANGES                                                                
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(2, 4) 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL865"></a>
<div class="props_rev_3"><a id="GUID-CB37D77A-11EB-4473-870F-FAD05F21A8A9"></a>
<h2 id="TOPOL-GUID-CB37D77A-11EB-4473-870F-FAD05F21A8A9" class="sect2">SDO_TOPO_MAP.GET_NODE_COORD</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NODE_COORD(     
  topology  IN VARCHAR2,      
  topo_map  IN VARCHAR2,      
  node_id   IN NUMBER      
) RETURN SDO_GEOMETRY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an SDO_GEOMETRY object with the coordinates of the specified node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107289"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CB37D77A-11EB-4473-870F-FAD05F21A8A9__GUID-907CFC90-CD34-405E-8D77-AA9146F5A4F9"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the node, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107290"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CB37D77A-11EB-4473-870F-FAD05F21A8A9__GUID-542042C8-9811-449C-8676-60AFFE4B496B"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107291"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CB37D77A-11EB-4473-870F-FAD05F21A8A9__GUID-BD1643E2-536F-4364-889D-8BD6DAB4172D"><!-- --></a>node_id</dt>
<dd>
<p>Node ID value of the node.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>This function is equivalent to using the <code class="codeph">getNodeCoord</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns a geometry object with the coordinates of the node whose node ID value is 14. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NODE_COORD(null, &#39;CITY_DATA_TOPOMAP&#39;, 14) FROM DUAL;
 
SDO_TOPO_MAP.GET_NODE_COORD(NULL,&#39;CITY_DATA_TOPOMAP&#39;,14)(SDO_GTYPE, SDO_SRID, SD
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, 0, SDO_POINT_TYPE(21, 14, NULL), NULL, NULL)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL866"></a>
<div class="props_rev_3"><a id="GUID-6DA1586D-4508-4C60-83E5-DEB3300081D0"></a>
<h2 id="TOPOL-GUID-6DA1586D-4508-4C60-83E5-DEB3300081D0" class="sect2">SDO_TOPO_MAP.GET_NODE_DELETIONS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NODE_DELETIONS() RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of node ID numbers of nodes that have been deleted from the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function returns the node ID numbers of nodes in the current updatable TopoMap object that have been deleted since the object was most recently loaded (using <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>), updated (using <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>), cleared (using <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>), committed (using <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>), or rolled back (using <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>). If there have been no deletions during that time, the function returns an empty SDO_NUMBER_ARRAY object.</p>
<p>This function is equivalent to using the <code class="codeph">getNodeDeletions</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node ID numbers of nodes that have been deleted from the current updatable TopoMap object. In this case, the return of an empty SDO_NUMBER_ARRAY object indicates that no nodes have been deleted.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NODE_DELETIONS FROM DUAL;
 
GET_NODE_DELETIONS                                                              
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY()
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL867"></a>
<div class="props_rev_3"><a id="GUID-ADD1C311-1A50-4E57-B539-617CCBDF8A29"></a>
<h2 id="TOPOL-GUID-ADD1C311-1A50-4E57-B539-617CCBDF8A29" class="sect2">SDO_TOPO_MAP.GET_NODE_FACE_STAR</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NODE_FACE_STAR(     
  topology  IN VARCHAR2,      
  topo_map  IN VARCHAR2,      
  node_id   IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an SDO_NUMBER_ARRAY object with the face ID numbers, in clockwise order, of the faces that are connected to the specified node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107292"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-ADD1C311-1A50-4E57-B539-617CCBDF8A29__GUID-28D7A501-3CEA-4100-B65E-0680E432C740"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the node, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107293"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-ADD1C311-1A50-4E57-B539-617CCBDF8A29__GUID-04E69F90-3E95-4595-A5DB-EAEB030F6C98"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107294"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-ADD1C311-1A50-4E57-B539-617CCBDF8A29__GUID-ED560E93-A769-4CAD-B765-0A246F8CF381"><!-- --></a>node_id</dt>
<dd>
<p>Node ID value of the node.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <span class="bold">node face star</span> of a node is the faces that are connected to the node. One face is returned for each edge connected to the node. For an isolated node, the containing face is returned. A face may appear more than once in the list.</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>This function is equivalent to using the <code class="codeph">getNodeFaceStar</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
<p>To return the node star of a node, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124">SDO_TOPO_MAP.GET_NODE_STAR</a> function.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node face star of the node whose node ID value is 14. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NODE_FACE_STAR(null, &#39;CITY_DATA_TOPOMAP&#39;, 14) FROM DUAL;
 
SDO_TOPO_MAP.GET_NODE_FACE_STAR(NULL,&#39;CITY_DATA_TOPOMAP&#39;,14)                    
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(4, 7, 6, 3)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL868"></a>
<div class="props_rev_3"><a id="GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124"></a>
<h2 id="TOPOL-GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124" class="sect2">SDO_TOPO_MAP.GET_NODE_STAR</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_NODE_STAR(     
  topology  IN VARCHAR2,      
  topo_map  IN VARCHAR2,      
  node_id   IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an SDO_NUMBER_ARRAY object with the edge ID numbers, in clockwise order, of the edges that are connected to the specified node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107295"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124__GUID-62D3F2F1-5D95-4D02-BD01-CA5ECFFB484F"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the node, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107296"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124__GUID-26968CFA-3B53-40CD-820A-338F0A81895B"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object, or a null value, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107297"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124__GUID-16C040C6-0613-4E35-AFF8-4E7E4D9709AF"><!-- --></a>node_id</dt>
<dd>
<p>Node ID value of the node.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The <span class="bold">node star</span> of a node is the edges that are connected to the node. A positive edge ID represents an edge for which the node is its start node. A negative edge ID represents an edge for which the node is its end node. If any loops are connected to the node, edges may appear in the list twice with opposite signs.</p>
<p>The <code class="codeph">topology</code> or <code class="codeph">topo_map</code> parameter should specify a valid name, as explained in <a href="editing-topologies.htm#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">Using GET_xxx Topology Functions</a>.</p>
<p>This function is equivalent to using the <code class="codeph">getNodeStar</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
<p>To return the node face star of a node, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-ADD1C311-1A50-4E57-B539-617CCBDF8A29">SDO_TOPO_MAP.GET_NODE_FACE_STAR</a> function.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the node star of the node whose node ID value is 14. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_NODE_STAR(null, &#39;CITY_DATA_TOPOMAP&#39;, 14) FROM DUAL;
 
SDO_TOPO_MAP.GET_NODE_STAR(NULL,&#39;CITY_DATA_TOPOMAP&#39;,14)                             
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(19, -10, -20, -9)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL869"></a>
<div class="props_rev_3"><a id="GUID-9F67E9FB-6347-446C-9C5A-A2D7E8F1CB3A"></a>
<h2 id="TOPOL-GUID-9F67E9FB-6347-446C-9C5A-A2D7E8F1CB3A" class="sect2">SDO_TOPO_MAP.GET_TOPO_NAME</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_TOPO_NAME(     
  topo_map  IN VARCHAR2      
) RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the name of the topology associated with the specified TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107298"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9F67E9FB-6347-446C-9C5A-A2D7E8F1CB3A__GUID-742B8C40-E6F8-4A04-BC96-E2159375BCBE"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function is equivalent to using the <code class="codeph">getTopoName</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the name of the topology associated with the TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_TOPO_NAME(&#39;CITY_DATA_TOPOMAP&#39;) FROM DUAL;
 
SDO_TOPO_MAP.GET_TOPO_NAME(&#39;CITY_DATA_TOPOMAP&#39;)                                     
--------------------------------------------------------------------------------
CITY_DATA 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL870"></a>
<div class="props_rev_3"><a id="GUID-563778C3-3948-45A5-9A2D-53E4E75DFD3C"></a>
<h2 id="TOPOL-GUID-563778C3-3948-45A5-9A2D-53E4E75DFD3C" class="sect2">SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID() RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns the topology transaction ID number, if data has been loaded into the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>For each row in the history information table for a topology, the TOPO_TX_ID column contains the topology transaction ID number. The history information table is described in <a href="topology-data-model-overview.htm#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">History Information Table</a>.</p>
<p>This function is equivalent to using the <code class="codeph">getTopoTransactionId</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the topology transaction ID number for the current updatable TopoMap object.</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID FROM DUAL;
 
GET_TOPO_TRANSACTION_ID                                                              
-----------------------
                      1 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL871"></a>
<div class="props_rev_3"><a id="GUID-743883E5-A1B1-410D-8F9A-F32E850C9C22"></a>
<h2 id="TOPOL-GUID-743883E5-A1B1-410D-8F9A-F32E850C9C22" class="sect2">SDO_TOPO_MAP.LIST_TOPO_MAPS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.LIST_TOPO_MAPS() RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns a comma-delimited list of entries for each TopoMap object currently active in the session, or an empty string if there are no currently active TopoMap objects.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Each entry in the comma-delimited list contains the following information: the name of the TopoMap object, the name of the topology associated with the TopoMap object, and either <code class="codeph">updatable</code> if the TopoMap object can be updated (that is, edited) or <code class="codeph">read-only</code> if the TopoMap object cannot be updated.</p>
<p>For more information about TopoMap objects, including updatable and read-only status, see <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.</p>
<p>To remove a TopoMap object from the session, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-48216A60-21E7-4DFB-8AE9-D1C8D50EE6DA">SDO_TOPO_MAP.DROP_TOPO_MAP</a> procedure.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example lists the Topomap object name, topology name, and whether the object is updatable or read-only for each TopoMap object currently active in the session. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.LIST_TOPO_MAPS FROM DUAL;
 
LIST_TOPO_MAPS
--------------------------------------------------------------------------------
(CITY_DATA_TOPOMAP, CITY_DATA, updatable)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL873"></a><a id="TOPOL872"></a>
<div class="props_rev_3"><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2"></a>
<h2 id="TOPOL-GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2" class="sect2">SDO_TOPO_MAP.LOAD_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format (Function)</p>
<pre dir="ltr">SDO_TOPO_MAP.LOAD_TOPO_MAP(     
  topo_map      IN VARCHAR2,      
  allow_updates IN VARCHAR2,      
  build_indexes IN VARCHAR2 DEFAULT &#39;TRUE&#39;      
) RETURN VARCHAR2;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.LOAD_TOPO_MAP(     
  topo_map      IN VARCHAR2,      
  xmin          IN NUMBER,      
  ymin          IN NUMBER,      
  xmax          IN NUMBER,      
  ymax          IN NUMBER,      
  allow_updates IN VARCHAR2,      
  build_indexes IN VARCHAR2 DEFAULT &#39;TRUE&#39;      
) RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Format (Procedure)</p>
<pre dir="ltr">SDO_TOPO_MAP.LOAD_TOPO_MAP(     
  topo_map      IN VARCHAR2,      
  allow_updates IN VARCHAR2,      
  build_indexes IN VARCHAR2 DEFAULT &#39;TRUE&#39;);&#39;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.LOAD_TOPO_MAP(     
  topo_map      IN VARCHAR2,      
  xmin          IN NUMBER,      
  ymin          IN NUMBER,      
  xmax          IN NUMBER,      
  ymax          IN NUMBER,      
  allow_updates IN VARCHAR2,      
  build_indexes IN VARCHAR2 DEFAULT &#39;TRUE&#39;);&#39;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Loads the topological elements (primitives) for an entire topology or a window (rectangular portion) of a topology into a TopoMap object. If you use a function format, returns the string <code class="codeph">TRUE</code> if topological elements were loaded into the cache, and <code class="codeph">FALSE</code> if no topological elements were loaded into the cache.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107299"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-80E643DF-56E5-4E63-B27E-84B42931A9AA"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107300"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-F4C952F5-E5E1-4537-AE1F-5C8335435714"><!-- --></a>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
<p>See the Usage Notes and <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__CACJBAII">Figure 4-1</a> for information about which topological elements are loaded when you specify a window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107301"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-04263054-04C0-4B17-B4B3-558D4D2393DE"><!-- --></a>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107302"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-99E212DF-7980-4917-97C6-5EA1F497176E"><!-- --></a>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107303"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-B47A5C4E-5B09-48BB-AEDD-2B092D1B6A0E"><!-- --></a>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the window (rectangular portion of the topology) to be loaded.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107304"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-56905B0C-E73D-4686-B557-3663CF63AE79"><!-- --></a>allow_updates</dt>
<dd>
<p><code class="codeph">TRUE</code> makes the TopoMap object updatable; that is, it allows topology editing operations to be performed on the TopoMap object and changes to be written back to the database. <code class="codeph">FALSE</code> makes the TopoMap object read-only with respect to the database; that is, it allows topology editing operations to be performed on the TopoMap object but does not allow changes to be written back to the database.</p>
<p>Making a TopoMap object updatable causes the topological elements in the TopoMap object to be locked, which means that they cannot be included in an updatable TopoMap object in the session of another database user. (Within any given user session, there can be no more than one updatable TopoMap object active.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107305"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__GUID-B671AA2E-10D0-41EB-881E-5622630A79A4"><!-- --></a>build_indexes</dt>
<dd>
<p><code class="codeph">TRUE</code> (the default) builds in-memory R-tree indexes for edge and face data; <code class="codeph">FALSE</code> does not build in-memory R-tree indexes for edge and face data. The indexes improve the performance of editing operations, especially with large topologies.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Using a procedure format for loading the TopoMap object is more efficient than using the function format, if you do not need to know if any topological elements were loaded (for example, if the specified topology or rectangular area is empty). Using a function format lets you know if any topological elements were loaded.</p>
<p>You must create the TopoMap object (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D">SDO_TOPO_MAP.CREATE_TOPO_MAP</a> procedure) before you load data into it.</p>
<p>You cannot use this function or procedure if the TopoMap object already contains data. If the TopoMap object contains any data, you must do one of the following before calling this function or procedure: commit the changes (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure) and clear the cache (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a> procedure), or roll back the changes (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a> procedure).</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>This function or procedure is equivalent to using the <code class="codeph">loadTopology</code> or <code class="codeph">loadWindow</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
<p>Every TopoMap object, whether for an entire topology or for a window specified using the <code class="codeph">xmin</code>, <code class="codeph">ymin</code>, <code class="codeph">xmax</code>, and <code class="codeph">ymax</code> parameters, has a region associated with it. For an updatable TopoMap object, updates are allowed only within this region. (The region might also contain topological elements that you cannot update directly, but that might be modified by Oracle Spatial and Graph as needed as a result of your editing operations.)</p>
<p>When a TopoMap object is loaded, all nodes, faces, and edges that intersect the region for the TopoMap object are loaded. When a face is loaded, all edges and nodes that are on the boundary of the face are loaded. When an edge is loaded, the start node and end node of the edge are loaded. Consider the topology and the window (shown by a dashed line) in <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__CACJBAII">Figure 4-1</a>.</p>
<div class="figure" id="GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__CACJBAII">
<p class="titleinfigure">Figure 4-1 Loading Topological Elements into a Window</p>
<img width="344" height="332" src="img/GUID-45C8593C-1147-4A1D-B3F0-575272DE0C86-default.gif" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows"/><br/>
<a href="img_text/GUID-45C8593C-1147-4A1D-B3F0-575272DE0C86-print.htm">Description of &#34;Figure 4-1 Loading Topological Elements into a Window&#34;</a></div>
<!-- class="figure" -->
<p>With the window shown in <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2__CACJBAII">Figure 4-1</a>:</p>
<ul style="list-style-type: disc;">
<li>
<p>Face F1 is loaded because it partially overlaps the window.</p>
</li>
<li>
<p>The following edges are loaded: E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E16.</p>
<p>Edge E3 is loaded because it partially overlaps the window.</p>
<p>Edge E9 is loaded because it bounds a face (F1) that partially overlaps a window.</p>
<p>Edge E12 is loaded because it is an island edge in a face (F1) that partially overlaps the window.</p>
<p>Edge E1 is not loaded because it is not associated with any face that interacts with the window.</p>
</li>
<li>
<p>The following nodes are loaded: N2, N5, N6, N7, N8, N9, N10, N11, N12, N16, N19, N20.</p>
<p>Non-isolated node N2 is loaded because edge E3 is loaded.</p>
<p>Non-isolated node N12 is loaded because edges E9 and E11 are loaded.</p>
<p>Isolated node N16 is loaded because it is an isolated (island) node inside a locked face.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example loads all <code class="codeph">CITY_DATA</code> topology elements into its associated TopoMap object for editing and builds the in-memory R-tree indexes by default. It returns a result indicating that the operation was successful and that some topological elements were loaded into the cache. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.LOAD_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;, &#39;TRUE&#39;) INTO :res_varchar;
 
Call completed.
 
PRINT res_varchar;
 
RES_VARCHAR
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL874"></a>
<div class="props_rev_3"><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC"></a>
<h2 id="TOPOL-GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC" class="sect2">SDO_TOPO_MAP.MOVE_EDGE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.MOVE_EDGE(     
  topology    IN VARCHAR2,      
  edge_id     IN NUMBER,      
  s_node_id   IN NUMBER,      
  t_node_id   IN NUMBER,      
  edge_coords IN SDO_NUMBER_ARRAY);
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.MOVE_EDGE(     
  topology        IN VARCHAR2,      
  edge_id         IN NUMBER,      
  s_node_id       IN NUMBER,      
  t_node_id       IN NUMBER,      
  edge_coords     IN SDO_NUMBER_ARRAY,      
  moved_iso_nodes OUT SDO_NUMBER_ARRAY,      
  moved_iso_edges OUT SDO_NUMBER_ARRAY,      
  allow_iso_moves IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Moves a non-isolated edge.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107306"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-F2057770-D692-4826-99FA-C03747F94666"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology in which to move the edge, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107307"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-15DCF7AC-C483-41D0-890F-E8E4FABB45A0"><!-- --></a>edge_id</dt>
<dd>
<p>Edge ID of the edge to be moved.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107308"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-78144CD4-1D2F-411B-B3CE-015B5308C131"><!-- --></a>edge_coords</dt>
<dd>
<p>An array of coordinates of the resulting moved edge, from start point to end point.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107309"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-14A9AB65-D416-4780-847E-AAD3A8111BD8"><!-- --></a>s_node_id</dt>
<dd>
<p>Node ID of the source node, which identifies the point (start node or end node of the edge) affected by the move, before the move occurs. For example, if the end point of edge E19 is to be moved from node N17 to node N16, the <code class="codeph">s_node_id</code> value is the node ID number for node N17.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107310"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-9A4A3B82-E9AD-4C3A-BCAB-EC2EEAA997DF"><!-- --></a>t_node_id</dt>
<dd>
<p>Node ID of the target node, which identifies the point affected by the move, after the move occurs. For example, if the end point of edge E19 is to be moved from node N17 to node N16, the <code class="codeph">t_node_id</code> value is the node ID number for node N16.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107311"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-44B2C370-6587-47C7-95B0-611CCD774F6A"><!-- --></a>moved_iso_nodes</dt>
<dd>
<p>Output parameter in which, if the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">TRUE</code>, Spatial and Graph stores the node ID values of any isolated nodes that have moved to a different face as a result of this procedure. If the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">FALSE</code>, Spatial and Graph stores the node ID values of any isolated nodes that did not move but that would have moved to a different face if the <code class="codeph">allow_iso_moves</code> parameter value had been <code class="codeph">TRUE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107312"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-C8A19E34-23F5-4C23-B384-B06CBDDCFE15"><!-- --></a>moved_iso_edges</dt>
<dd>
<p>Output parameter in which, if the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">TRUE</code>, Spatial and Graph stores the edge ID values of any isolated edges that have moved to a different face as a result of this procedure. If the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">FALSE</code>, Spatial and Graph stores the edge ID values of any isolated edges that did not move but that would have moved to a different face if the <code class="codeph">allow_iso_moves</code> parameter value had been <code class="codeph">TRUE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107313"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC__GUID-C777E9D3-87D2-4B58-ADC2-5D0AF59C0465"><!-- --></a>allow_iso_moves</dt>
<dd>
<p><code class="codeph">TRUE</code> causes Spatial and Graph to allow an edge move operation that would cause any isolated nodes or edges to be in a different face, and to adjust the containing face information for such isolated nodes and edges; <code class="codeph">FALSE</code> causes Spatial and Graph not to allow an edge move operation that would cause any isolated nodes or edges to be in a different face.</p>
<p>If you use the format that does not include the <code class="codeph">allow_iso_moves</code> parameter, Spatial and Graph allows an edge move operation that would cause any isolated nodes or edges to be in a different face, and it adjusts the containing face information for such isolated nodes and edges.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>For information about moving edges, see <a href="editing-topologies.htm#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447">Moving an Edge</a>.</p>
<p>This procedure is equivalent to using the <code class="codeph">moveEdge</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example moves the edge with edge ID value 19, and it displays the edge coordinates before and after the move. The edge move operation moves the end point of the edge from the node with node ID value 17 to the node with node ID value 16. (The edge being moved is E19 in <a href="topology-data-model-overview.htm#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__CIHDGFGC">Figure 1-2</a> in <a href="topology-data-model-overview.htm#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B">Topology Data Model Concepts</a>; and the edge is being changed from going vertically up to node N17, to going diagonally up and left to node N16. The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">-- Get coordinates of edge E19.
SELECT SDO_TOPO_MAP.GET_EDGE_COORDS(null, &#39;CITY_DATA_TOPOMAP&#39;, 19) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_COORDS(NULL,&#39;CITY_DATA_TOPOMAP&#39;,19)                           
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(21, 14, 21, 22)                                                
 
-- Move edge E19: from N14 -&gt; N17 to N14 -&gt; N16. The 3rd and 4th parameters
-- identify N17 and N16.
CALL SDO_TOPO_MAP.MOVE_EDGE(null, 19, 17, 16,
  SDO_NUMBER_ARRAY(21,14, 9,22));
 
Call completed.
 
-- Get coordinates of edge E19 after the move.
SELECT SDO_TOPO_MAP.GET_EDGE_COORDS(null, &#39;CITY_DATA_TOPOMAP&#39;, 19) FROM DUAL;
 
SDO_TOPO_MAP.GET_EDGE_COORDS(NULL,&#39;CITY_DATA_TOPOMAP&#39;,19)                           
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(21, 14, 9, 22)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL875"></a>
<div class="props_rev_3"><a id="GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E"></a>
<h2 id="TOPOL-GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E" class="sect2">SDO_TOPO_MAP.MOVE_ISOLATED_NODE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.MOVE_ISOLATED_NODE(     
  topology  IN VARCHAR2,      
  node_id   IN NUMBER,      
  point     IN SDO_GEOMETRY);
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.MOVE_ISOLATED_NODE(     
  topology  IN VARCHAR2,      
  node_id   IN NUMBER,      
  x         IN NUMBER,      
  y         IN NUMBER);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Moves an isolated (island) node.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107314"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E__GUID-B80FF605-C8F3-42F5-9F4E-9F7B0CFBCFE8"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology in which to move the node, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107315"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E__GUID-C8DABB2D-F7B9-488B-B3EB-C625D5CB1379"><!-- --></a>node_id</dt>
<dd>
<p>Node ID of the node to be moved.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107316"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E__GUID-5139590F-6ABD-4DC6-B671-006F8AD133A8"><!-- --></a>point</dt>
<dd>
<p>SDO_GEOMETRY object (point geometry) representing the location to which the isolated node is to be moved.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107317"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E__GUID-4091FCD7-08AA-4D57-B95E-E1D0700C5820"><!-- --></a>x</dt>
<dd>
<p>X-axis value of the point representing the location to which the isolated node is to be moved.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107318"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E__GUID-3C923EE6-8093-4B0E-924F-853779FB5526"><!-- --></a>y</dt>
<dd>
<p>Y-axis value of the point representing the location to which the isolated node is to be moved.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>For information about moving nodes, see <a href="editing-topologies.htm#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B">Moving a Node</a>.</p>
<p>The node must be moved to a location inside the face in which it is currently located. Otherwise, you must delete the node and re-create it.</p>
<p>This procedure is equivalent to using the <code class="codeph">moveIsolatedNode</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds an isolated node and then moves it. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.ADD_ISOLATED_NODE(null, 2, 
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,38,NULL), NULL, NULL))
  INTO :res_number;
 
-- Move the just-added isolated node (from 20,38 to 22,39).
CALL SDO_TOPO_MAP.MOVE_ISOLATED_NODE( null, :res_number, 
  SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(22,39,NULL), NULL, NULL));
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL876"></a>
<div class="props_rev_3"><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9"></a>
<h2 id="TOPOL-GUID-5A836D8B-A319-46F2-B644-E845D6B804B9" class="sect2">SDO_TOPO_MAP.MOVE_NODE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.MOVE_NODE(     
  topology     IN VARCHAR2,      
  node_id      IN NUMBER,      
  edges_coords IN SDO_EDGE_ARRAY);
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.MOVE_NODE(     
  topology        IN VARCHAR2,      
  node_id         IN NUMBER,      
  edges_coords    IN SDO_EDGE_ARRAY,      
  moved_iso_nodes OUT SDO_NUMBER_ARRAY,      
  moved_iso_edges OUT SDO_NUMBER_ARRAY,      
  allow_iso_moves IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Moves a non-isolated node and its attached edges.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107319"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9__GUID-4E58D300-DFF4-42FE-B97A-F6B7ADAEDC72"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology in which to move the node, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107320"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9__GUID-D74D2934-7C41-4C6C-B53F-E93FB730CB25"><!-- --></a>node_id</dt>
<dd>
<p>Node ID of the node to be moved.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107321"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9__GUID-13F9FCA0-7676-4954-849B-A92164A7A497"><!-- --></a>edges_coords</dt>
<dd>
<p>An array of arrays, of type SDO_EDGE_ARRAY (described in <a href="topology-data-model-overview.htm#GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B">SDO_EDGE_ARRAY and SDO_NUMBER_ARRAY Types</a>). Each inner array consists of coordinates of each resulting attached edge, from start point to end point. The outer array consists of the attached edge arrays, starting with the start edge of the node to be moved and proceeding in clockwise order (with the sequence of the edges as would be obtained in a call to the <a href="SDO_TOPO_MAP-reference.htm#GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124">SDO_TOPO_MAP.GET_NODE_STAR</a> function).</p>
<p>The array for each edge must include the start and end points. Any loops that connect twice at the moved node must be specified twice in the array.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107322"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9__GUID-9766B5DC-4203-44E5-8302-DD88F90A99BC"><!-- --></a>moved_iso_nodes</dt>
<dd>
<p>Output parameter in which, if the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">TRUE</code>, Spatial and Graph stores the node ID values of any isolated nodes that have moved to a different face as a result of this procedure. If the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">FALSE</code>, Spatial and Graph stores the node ID values of any isolated nodes that did not move but that would have moved to a different face if the <code class="codeph">allow_iso_moves</code> parameter value had been <code class="codeph">TRUE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107323"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9__GUID-AB36179C-CEA6-4B20-99F4-7F9D93B4B7ED"><!-- --></a>moved_iso_edges</dt>
<dd>
<p>Output parameter in which, if the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">TRUE</code>, Spatial and Graph stores the edge ID values of any isolated edges that have moved to a different face as a result of this procedure. If the <code class="codeph">allow_iso_moves</code> parameter value is <code class="codeph">FALSE</code>, Spatial and Graph stores the edge ID values of any isolated edges that did not move but that would have moved to a different face if the <code class="codeph">allow_iso_moves</code> parameter value had been <code class="codeph">TRUE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107324"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5A836D8B-A319-46F2-B644-E845D6B804B9__GUID-B2A4E44E-09C2-4215-852E-B1FDFE221801"><!-- --></a>allow_iso_moves</dt>
<dd>
<p><code class="codeph">TRUE</code> causes Spatial and Graph to allow a node move operation that would cause any isolated nodes or edges to be in a different face, and to adjust the containing face information for such isolated nodes and edges; <code class="codeph">FALSE</code> causes Spatial and Graph not to allow a node move operation that would cause any isolated nodes or edges to be in a different face.</p>
<p>If you use the format that does not include the <code class="codeph">allow_iso_moves</code> parameter, Spatial and Graph allows a node move operation that would cause any isolated nodes or edges to be in a different face, and it adjusts the containing face information for such isolated nodes and edges.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>For information about moving nodes, see <a href="editing-topologies.htm#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B">Moving a Node</a>.</p>
<p>This procedure is equivalent to using the <code class="codeph">moveNode</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example moves node N3 and adjusts the coordinates of the only attached edge. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">-- Move node N3 to right: from 25,35 to 26,35.
-- E3 is changed from 25,30 -&gt; 25,35 to 25,30 -&gt; 26,35.
CALL SDO_TOPO_MAP.MOVE_NODE(null, 3,
  SDO_EDGE_ARRAY(SDO_NUMBER_ARRAY(25,30, 26,35)));
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL877"></a>
<div class="props_rev_3"><a id="GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971"></a>
<h2 id="TOPOL-GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971" class="sect2">SDO_TOPO_MAP.REMOVE_EDGE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.REMOVE_EDGE(     
  topology IN VARCHAR2,      
  edge_id  IN NUMBER);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Removes an edge from a topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107325"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971__GUID-F48AB3CF-DAF7-44E4-AA6E-151D97F1F95E"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology from which to remove the edge, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107326"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971__GUID-53025F89-C490-4A88-9B54-5199E24BC1D4"><!-- --></a>edge_id</dt>
<dd>
<p>Edge ID of the edge to be removed.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If <code class="codeph">topology</code> is not null, Spatial and Graph automatically updates the appropriate entries in the &lt;topology-name&gt;_EDGE$ and &lt;topology-name&gt;_FACE$ tables. (If <code class="codeph">topology</code> is null, you can update these tables at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>For information about removing an edge from a topology, see <a href="editing-topologies.htm#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6">Removing an Edge</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example removes the edge with edge ID value 99 from the current updatable TopoMap object.</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.REMOVE_EDGE(null, 99);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL878"></a>
<div class="props_rev_3"><a id="GUID-087936D6-3E29-4598-9B86-A340C112F81C"></a>
<h2 id="TOPOL-GUID-087936D6-3E29-4598-9B86-A340C112F81C" class="sect2">SDO_TOPO_MAP.REMOVE_NODE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.REMOVE_NODE(     
  topology IN VARCHAR2,      
  node_id  IN NUMBER);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Removes a node from a topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107327"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-087936D6-3E29-4598-9B86-A340C112F81C__GUID-E8CB54EE-DBFB-4F25-BE99-BA3961F0B8B9"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology from which to remove the node, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107328"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-087936D6-3E29-4598-9B86-A340C112F81C__GUID-512F18F9-EF65-44D7-BE04-123338D44FBA"><!-- --></a>node_id</dt>
<dd>
<p>Node ID of the node to be removed.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If <code class="codeph">topology</code> is not null, Spatial and Graph automatically updates the appropriate entries in the &lt;topology-name&gt;_NODE$ and &lt;topology-name&gt;_EDGE$ tables, and in the &lt;topology-name&gt;_FACE$ table if necessary. (If <code class="codeph">topology</code> is null, you can update these tables at any time by calling the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure.)</p>
<p>For information about removing a node from a topology, see <a href="editing-topologies.htm#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867">Removing a Node</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example removes the node with node ID value 500 from the current updatable TopoMap object.</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.REMOVE_NODE(null, 500);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL879"></a>
<div class="props_rev_3"><a id="GUID-6C17F5AA-0233-475B-BB32-0094E9C7C182"></a>
<h2 id="TOPOL-GUID-6C17F5AA-0233-475B-BB32-0094E9C7C182" class="sect2">SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES(     
  topology  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Removes obsolete nodes from a topology. (Obsolete nodes are explained in <a href="editing-topologies.htm#GUID-723A45B4-D759-4807-8A30-081552D0C8DF">Removing Obsolete Nodes</a>.)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107329"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-6C17F5AA-0233-475B-BB32-0094E9C7C182__GUID-2EBF7150-38B8-421E-8075-3E2746D4F43A"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology from which to remove obsolete nodes, or null if you are using an updatable TopoMap object (see <a href="editing-topologies.htm#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">Specifying the Editing Approach with the Topology Parameter</a>). Must not exceed 20 characters.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>For information about removing obsolete nodes from a topology, see <a href="editing-topologies.htm#GUID-723A45B4-D759-4807-8A30-081552D0C8DF">Removing Obsolete Nodes</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example removes all obsolete nodes from the current updatable TopoMap object.</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES(null);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL880"></a>
<div class="props_rev_3"><a id="GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C"></a>
<h2 id="TOPOL-GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C" class="sect2">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Rolls back all changes to the database that were made using the current updatable TopoMap object, discards any changes in the object, clears the object&#39;s cache structure, and makes the object read-only.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Use this procedure when you are finished with a batch of edits to a topology and you want to discard (that is, not commit) all changes to the database and in the cache. After the rollback operation completes, you cannot edit the TopoMap object. To make further edits to the topology, you can load the topology into the same TopoMap object for update (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a> function or procedure), or you can create a new TopoMap object (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D">SDO_TOPO_MAP.CREATE_TOPO_MAP</a> procedure) and load the topology into that TopoMap object for update.</p>
<p>To commit all TopoMap object changes, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>This procedure is equivalent to using the <code class="codeph">rollbackDB</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example rolls back from the database all changes associated with the current updatable TopoMap object.</p>
<pre dir="ltr">EXECUTE SDO_TOPO_MAP.ROLLBACK_TOPO_MAP;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL881"></a>
<div class="props_rev_3"><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE"></a>
<h2 id="TOPOL-GUID-91C6A65E-9078-403D-8A56-FCC957E114EE" class="sect2">SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP(     
  topo_map IN VARCHAR2,      
  xmin     IN NUMBER,      
  ymin     IN NUMBER,      
  xmax     IN NUMBER,      
  ymax     IN NUMBER,      
  capacity IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array with the edge ID numbers of the edges that interact with a specified query window. The query uses the edge R-tree built on the specified TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107330"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE__GUID-FF0C6C50-4A43-48F4-B4A5-D1AB786561AB"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107331"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE__GUID-A5367E46-54D8-49C4-9773-0279424C1CE6"><!-- --></a>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107332"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE__GUID-A8481296-F7C9-4E9A-86BA-04A97361FE66"><!-- --></a>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107333"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE__GUID-5CDE7821-AEF2-4C27-BEF9-586084C6AFCB"><!-- --></a>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107334"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE__GUID-B2DB0033-138F-4C66-BE79-0C8BDAF4D15C"><!-- --></a>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107335"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-91C6A65E-9078-403D-8A56-FCC957E114EE__GUID-CA51F268-CD20-4457-84B6-FA32A43AD080"><!-- --></a>capacity</dt>
<dd>
<p>Maximum number of edge ID values to be returned. If you specify 0 or a negative number, 100 is used.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure is equivalent to using the <code class="codeph">searchEdgeRTree</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the edge ID numbers (up to 200) of edge that interact with a query window whose lower-left corner is at (5,5) and upper-right corner is at (30,40). (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;, -
  5,5, 30,40, 200) FROM DUAL;
 
SDO_TOPO_MAP.SEARCH_EDGE_RTREE_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;,5,5,30,40,200)      
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(12, 13, 22, 20, 9, 21, 19, 6, 10, 7, 26, 3, 1, 25, 2)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL882"></a>
<div class="props_rev_3"><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA"></a>
<h2 id="TOPOL-GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA" class="sect2">SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP(     
  topo_map IN VARCHAR2,      
  xmin     IN NUMBER,      
  ymin     IN NUMBER,      
  xmax     IN NUMBER,      
  ymax     IN NUMBER,      
  capacity IN NUMBER      
) RETURN SDO_NUMBER_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array with the face ID numbers of the faces that interact with a specified query window. The query uses the face R-tree built on the specified TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107336"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA__GUID-97E40236-B0E6-4C0B-992F-35A73D62BCF0"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107337"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA__GUID-A1306A7B-2EEE-4751-8E22-FBEEC77629B6"><!-- --></a>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107338"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA__GUID-43683597-4F35-4196-BB85-5A2E14451396"><!-- --></a>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107339"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA__GUID-832BBB8B-048B-4A20-AB24-8FD13864784D"><!-- --></a>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107340"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA__GUID-89218522-6E0F-45A9-8E61-92A2375C3B01"><!-- --></a>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the query window.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107341"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C011A754-60BA-40BD-9EDB-D14DD186CDCA__GUID-685C9E55-DDEB-4D7D-97E7-7A216E22C6BB"><!-- --></a>capacity</dt>
<dd>
<p>Maximum number of face ID values to be returned. If you specify 0 or a negative number, 100 is used.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure is equivalent to using the <code class="codeph">searchFaceRTree</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the face ID numbers (up to 200) of faces that interact with a query window whose lower-left corner is at (5,5) and upper-right corner is at (30,40). (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">SELECT SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;, -
  5,5, 30,40, 200) FROM DUAL;
 
SDO_TOPO_MAP.SEARCH_FACE_RTREE_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;,5,5,30,40,200)      
--------------------------------------------------------------------------------
SDO_NUMBER_ARRAY(6, 7, 3, 4, 9, 1, 2)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL883"></a>
<div class="props_rev_3"><a id="GUID-4D03DADA-54DD-463B-B420-74BE7C2B6F40"></a>
<h2 id="TOPOL-GUID-4D03DADA-54DD-463B-B420-74BE7C2B6F40" class="sect2">SDO_TOPO_MAP.SET_MAX_MEMORY_SIZE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.SET_MAX_MEMORY_SIZE(     
  maxsize IN NUMBER DEFAULT 268435456);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Sets the Java maximum heap size for an application to run in an Oracle Java virtual machine.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107342"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4D03DADA-54DD-463B-B420-74BE7C2B6F40__GUID-ECD3E9BA-BD4F-407D-BDF4-8CF42C25B019"><!-- --></a>maxsize</dt>
<dd>
<p>Number of bytes for the Java maximum heap size. The default value is 268435456 (256 MB).</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>If you encounter the <code class="codeph">java.lang.OutOfMemoryError</code> exception, you can use this procedure to increase the maximum heap size.</p>
<p>If you specify a value greater than the system limit, the system limit is used.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example sets the Java maximum heap size to 536870912 (512 MB).</p>
<pre dir="ltr">EXECUTE SDO_TOPO_MAP.SET_MAX_MEMORY_SIZE(536870912);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL884"></a>
<div class="props_rev_3"><a id="GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E"></a>
<h2 id="TOPOL-GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E" class="sect2">SDO_TOPO_MAP.UPDATE_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.UPDATE_TOPO_MAP;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Updates the topology to reflect edits made to the current updatable TopoMap object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>Use this procedure to update the topology periodically during an editing session, as explained in <a href="editing-topologies.htm#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB">Process for Editing Using Cache Explicitly (PL/SQL API)</a>. Updates are made, as needed, to the edge, face, and node information tables (described in <a href="topology-data-model-overview.htm#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99">Topology Data Model Tables</a>). The TopoMap object remains open for further editing operations. The updates are not actually committed to the database until you call the <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>This procedure performs a level-0 validation of the TopoMap object before it updates the topology. (See the explanation of the <code class="codeph">level</code> parameter for the <a href="SDO_TOPO_MAP-reference.htm#GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</a> function.)</p>
<p>If you caused in-memory R-tree indexes to be created when you loaded the TopoMap object (by specifying or accepting the default value of <code class="codeph">TRUE</code> for the <code class="codeph">build_indexes</code> parameter with the <a href="SDO_TOPO_MAP-reference.htm#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a> function or procedure), you can rebuild these indexes by using the <a href="SDO_TOPO_MAP-reference.htm#GUID-92DF4764-8E33-4854-B869-B6C67D163FE1">SDO_TOPO_MAP.CREATE_EDGE_INDEX</a> and <a href="SDO_TOPO_MAP-reference.htm#GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5">SDO_TOPO_MAP.CREATE_FACE_INDEX</a> procedures. For best index performance, these indexes should be rebuilt periodically when you are editing a large number of topological elements.</p>
<p>Contrast this procedure with the <a href="SDO_TOPO_MAP-reference.htm#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a> procedure, which clears the cache associated with a specified TopoMap object and makes the object read-only.</p>
<p>To commit all TopoMap object changes, use the <a href="SDO_TOPO_MAP-reference.htm#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a> procedure.</p>
<p>For information about using an in-memory cache to edit topological elements, see <a href="editing-topologies.htm#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">Approaches for Editing Topology Data</a>.</p>
<p>This procedure is equivalent to using the <code class="codeph">updateTopology</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example updates the topology associated with the current updatable TopoMap object to reflect changes made to that object.</p>
<pre dir="ltr">EXECUTE SDO_TOPO_MAP.UPDATE_TOPO_MAP;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL885"></a>
<div class="props_rev_3"><a id="GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1"></a>
<h2 id="TOPOL-GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1" class="sect2">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.VALIDATE_TOPO_MAP(     
  topo_map IN VARCHAR2,      
  level    IN NUMBER DEFAULT 1      
) RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Performs a first-order validation of a TopoMap object, and optionally (by default) checks the computational geometry also; returns the string <code class="codeph">TRUE</code> if the structure of the topological elements in TopoMap object is consistent, and raises an exception if the structure of the topological elements in TopoMap object is not consistent.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107343"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1__GUID-41A7EDAD-224A-47C3-A4E0-679B9BC327C3"><!-- --></a>topo_map</dt>
<dd>
<p>Name of the TopoMap object. (TopoMap objects are explained in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107344"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1__GUID-37CDAA46-0F23-497F-B7E1-44005FFC0762"><!-- --></a>level</dt>
<dd>
<p>A value of 0 checks for the following conditions as part of a first-order validation:</p>
<ul style="list-style-type: disc;">
<li>
<p>All faces are closed, and none have infinite loops.</p>
</li>
<li>
<p>All previous and next edge pointers are consistent.</p>
</li>
<li>
<p>All edges meet at nodes.</p>
</li>
<li>
<p>Each island node is associated with a face.</p>
</li>
<li>
<p>All edges on a face boundary are associated with the face.</p>
</li>
</ul>
<p>A value of 1 (the default) checks for all conditions associated with a value of 0, plus the following conditions related to computational geometry:</p>
<ul style="list-style-type: disc;">
<li>
<p>Each island is inside the boundary of its associated face.</p>
</li>
<li>
<p>No edge intersects itself or another edge.</p>
</li>
<li>
<p>Start and end coordinates of edges match coordinates of nodes.</p>
</li>
<li>
<p>Node stars are properly ordered geometrically.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function checks the consistency of all pointer relationships among edges, nodes, and faces. You can use this function to validate an updatable TopoMap object before you update the topology (using the <a href="SDO_TOPO_MAP-reference.htm#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> procedure) or to validate a read-only TopoMap object before issuing queries.</p>
<p>This function uses a tolerance value of 10E-15 for its internal computations, as explained in <a href="topology-data-model-overview.htm#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">Tolerance in the Topology Data Model</a>.</p>
<p>This function is equivalent to using the <code class="codeph">validateCache</code> method of the <code class="codeph">TopoMap</code> class of the client-side Java API (described in <a href="topology-data-model-overview.htm#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">Topology Data Model Java Interface</a>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example validates the topology in the TopoMap object named <code class="codeph">CITY_DATA_TOPOMAP</code>, and it returns a result indicating that the topology is valid. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.VALIDATE_TOPO_MAP(&#39;CITY_DATA_TOPOMAP&#39;) INTO :res_varchar;
 
Call completed.
 
PRINT res_varchar;
 
RES_VARCHAR
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL886"></a>
<div class="props_rev_3"><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3"></a>
<h2 id="TOPOL-GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3" class="sect2">SDO_TOPO_MAP.VALIDATE_TOPOLOGY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(     
  topology  IN VARCHAR2,      
) RETURN VARCHAR2;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(     topology               IN VARCHAR2,      prevent_updates  IN VARCHAR2,      level                      IN NUMBER DEFAULT 1      ) RETURN VARCHAR2;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(     topology               IN VARCHAR2,      xmin                     IN NUMBER,      ymin                     IN NUMBER,      xmax                    IN NUMBER,      ymax                    IN NUMBER      ) RETURN VARCHAR2;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO_MAP.VALIDATE_TOPOLOGY(     topology               IN VARCHAR2,      xmin                     IN NUMBER,      ymin                     IN NUMBER,      xmax                    IN NUMBER,      ymax                    IN NUMBER,      prevent_updates  IN VARCHAR2,      level                      IN NUMBER DEFAULT 1      ) RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Loads an entire topology or a window (rectangular portion) of a topology into a TopoMap object; returns the string <code class="codeph">TRUE</code> if the structure of the topology is consistent, and raises an exception if the structure of the topology is not consistent.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107345"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-72C5381F-B22D-46CD-AC53-E585C52B58AE"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to be validated. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107346"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-C317C766-99DF-4943-9ED3-09F3C07E2C3D"><!-- --></a>xmin</dt>
<dd>
<p>Lower-left X coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107347"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-AC669566-8C40-495A-BD5A-6EF11C3E3D38"><!-- --></a>ymin</dt>
<dd>
<p>Lower-left Y coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107348"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-DB94E4A2-F244-496F-BB30-7353F125D642"><!-- --></a>xmax</dt>
<dd>
<p>Upper-right X coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107349"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-AEC2EEA0-1502-4279-8404-AAEC4A3AD98D"><!-- --></a>ymax</dt>
<dd>
<p>Upper-right Y coordinate value for the window (rectangular portion of the topology) to be validated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107350"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-4175F205-8359-4B4D-9638-AF53E6295F6B"><!-- --></a>prevent_updates</dt>
<dd>
<p><code class="codeph">TRUE</code> prevents other users from updating the topology while the validation is being performed; <code class="codeph">FALSE</code> allows other users to update the topology while the validation is being performed. If you specify <code class="codeph">FALSE</code>, any topology changes made by other users while the validation is being performed will not be considered by this function and will not affect the result.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107351"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3__GUID-B836B1B6-8292-4D7A-852D-9F9C2FE533A0"><!-- --></a>level</dt>
<dd>
<p>A value of 0 checks for the following conditions:</p>
<ul style="list-style-type: disc;">
<li>
<p>All faces are closed, and none have infinite loops.</p>
</li>
<li>
<p>All previous and next edge pointers are consistent.</p>
</li>
<li>
<p>All edges meet at nodes.</p>
</li>
<li>
<p>Each island node is associated with a face.</p>
</li>
<li>
<p>All edges on a face boundary are associated with the face.</p>
</li>
</ul>
<p>A value of 1 (the default) checks for all conditions associated with a value of 0, plus the following conditions related to computational geometry:</p>
<ul style="list-style-type: disc;">
<li>
<p>Each island is inside the boundary of its associated face.</p>
</li>
<li>
<p>No edge intersects itself or another edge.</p>
</li>
<li>
<p>Start and end coordinates of edges match coordinates of nodes.</p>
</li>
<li>
<p>Node stars are properly ordered geometrically.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This function implicitly creates a TopoMap object, and removes the object after the validation is complete. (TopoMap objects are described in <a href="editing-topologies.htm#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects</a>.)</p>
<p>This function uses a tolerance value of 10E-15 for its internal computations, as explained in <a href="topology-data-model-overview.htm#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">Tolerance in the Topology Data Model</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example validates the topology named <code class="codeph">CITY_DATA</code>, and it returns a result indicating that the topology is valid. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">CALL SDO_TOPO_MAP.VALIDATE_TOPOLOGY(&#39;CITY_DATA&#39;) INTO :res_varchar;
 
Call completed.
 
PRINT res_varchar;
 
RES_VARCHAR
--------------------------------------------------------------------------------
TRUE
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment106">
<tr>
<td class="cellalignment121">
<table class="cellalignment111">
<tr>
<td class="cellalignment110"><a href="SDO_TOPO-reference.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment110"><a href="network-data-model.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment123">
<table class="cellalignment109">
<tr>
<td class="cellalignment110"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment110"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment110"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment110"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment110"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment110"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
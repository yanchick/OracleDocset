<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-107170"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_TOPO%20Package%20Subprograms"></a><title>SDO_TOPO Package Subprograms</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="ADD_TOPO_GEOMETRY_LAYER procedure, SDO_TOPO package, ADD_TOPO_GEOMETRY_LAYER, topology geometry layer, adding, layer, topology geometry, CREATE_TOPOLOGY procedure, CREATE_TOPOLOGY, topology, creating, DELETE_TOPO_GEOMETRY_LAYER procedure, DELETE_TOPO_GEOMETRY_LAYER, deleting, DROP_TOPOLOGY procedure, DROP_TOPOLOGY, deleting (dropping), GET_FACE_BOUNDARY function, GET_FACE_BOUNDARY, faces, getting boundary of, GET_TOPO_OBJECTS function, GET_TOPO_OBJECTS, INITIALIZE_AFTER_IMPORT procedure, INITIALIZE_AFTER_IMPORT, importing, initializing after, INITIALIZE_METADATA procedure, INITIALIZE_METADATA, initializing metadata, metadata, initializing for a topology, PREPARE_FOR_EXPORT procedure, PREPARE_FOR_EXPORT, exporting, preparing for, RELATE function, RELATE"/>
<meta name="dcterms.created" content="2017-03-12T16:47:56Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Topology Data Model and Network Data Model Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E53120-04"/>
<meta name="dcterms.isVersionOf" content="TOPOL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="editing-topologies.htm" title="Previous" type="text/html"/>
<link rel="Next" href="SDO_TOPO_MAP-reference.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53120-04.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04"></a> <span id="PAGE" style="display:none;">10/15</span> <!-- End Header -->
<a id="TOPOL200"></a>
<h1 id="TOPOL-GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" class="sect1"><span class="enumeration_chapter">3</span> SDO_TOPO Package Subprograms</h1>
<div>
<p><a id="d15591e21" class="indexterm-anchor"></a><a id="d15591e25" class="indexterm-anchor"></a>The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.</p>
<p>To use the subprograms in this chapter, you must understand the conceptual information about topology in <a href="topology-data-model-overview.htm#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D">Topology Data Model Overview</a>.</p>
<p>Another package, SDO_TOPO_MAP, mainly contains subprograms related to editing topologies. Reference information for the SDO_TOPO_MAP package is in <a href="SDO_TOPO_MAP-reference.htm#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0">SDO_TOPO_MAP Package Subprograms</a>.</p>
<p>The rest of this chapter provides reference information about the SDO_TOPO subprograms, listed in alphabetical order.</p>
</div>
<a id="TOPOL825"></a>
<div class="props_rev_3"><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30"></a>
<h2 id="TOPOL-GUID-56C1B565-72E4-43BD-B46C-096D3C878B30" class="sect2">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER(     
  topology                 IN VARCHAR2,      
  table_name               IN VARCHAR2,      
  column_name              IN VARCHAR2,      
  topo_geometry_layer_type IN VARCHAR2,      
  relation_table_storage   IN VARCHAR2 DEFAULT NULL,      
  child_layer_id           IN NUMBER DEFAULT NULL);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Adds a topology geometry layer to a topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107171"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-B2503EF1-4DEB-4D53-ADA9-B9AB484CED7C"><!-- --></a>topology</dt>
<dd>
<p>Topology to which to add the topology geometry layer containing the topology geometries in the specified column. The topology must have been created using the <a href="SDO_TOPO-reference.htm#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107172"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-95C2673B-DE66-4FA4-8B3E-D6AAB7F7AACB"><!-- --></a>table_name</dt>
<dd>
<p>Name of the topology geometry layer table containing the column specified in <code class="codeph">column_name</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107173"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-E886C4F5-D35E-4F69-9421-DAD006430F73"><!-- --></a>column_name</dt>
<dd>
<p>Name of the column (of type SDO_TOPO_GEOMETRY) containing the topology geometries in the topology geometry layer to be added to the topology.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107174"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-05CF0B8F-72F0-41D5-A10B-19BA5DF83179"><!-- --></a>topo_geometry_layer_type</dt>
<dd>
<p>Type of topology geometry layer: POINT, LINE, CURVE, POLYGON, or COLLECTION.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107175"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-7C9B70C3-4107-4CD6-95BC-01B86C2846C7"><!-- --></a>relation_table_storage</dt>
<dd>
<p>Physical storage parameters used internally to create the &lt;topology-name&gt;_RELATION$ table (described in <a href="topology-data-model-overview.htm#GUID-46B81706-7812-4E79-972A-7024D0A28191">Relationship Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107176"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-4CE2F58C-BAC7-4645-B82F-A7AA0D246C5C"><!-- --></a>child_layer_id</dt>
<dd>
<p>Layer ID number of the child topology geometry layer for this layer, if the topology has a topology geometry layer hierarchy. (Topology geometry layer hierarchy is explained in <a href="topology-data-model-overview.htm#GUID-048DC942-FC27-4977-AB98-2451E4A4910F">Topology Geometry Layer Hierarchy</a>.) If you do not specify this parameter and if the topology has a topology geometry layer hierarchy, the topology geometry layer is added to the lowest level (level 0) of the hierarchy.</p>
<p>If the topology does not have a topology geometry layer hierarchy, do not specify this parameter when adding any of the topology geometry layers.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The first call to this procedure for a given topology creates the &lt;topology-name&gt;_RELATION$ table, which is described in <a href="topology-data-model-overview.htm#GUID-46B81706-7812-4E79-972A-7024D0A28191">Relationship Information Table</a>.</p>
<p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back. To delete the topology that you just created, call the <a href="SDO_TOPO-reference.htm#GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER</a> procedure.</p>
<p>The procedure creates a spatial index on the spatial features in the topology geometries, and a B-tree index on the combination of <code class="codeph">tg_type</code> and <code class="codeph">tg_id</code> in the topology geometries.</p>
<p>Users granted CONNECT and RESOURCE roles must also be granted the CREATE VIEW privilege to call the procedure. This is necessary because effective with Oracle Database 10<span class="italic">g</span> Release 2, the CONNECT role privilege reduction feature removed the following privileges from the CONNECT role: CREATE CLUSTER, CREATE DATABASE LINK, CREATE SEQUENCE, ALTER SESSION, CREATE SYNONYM, CREATE TABLE, and CREATE VIEW.</p>
<p>The topology geometry layer table (<code class="codeph">table_name</code> parameter) cannot be an object table.</p>
<p>An exception is raised if <code class="codeph">topology</code>, <code class="codeph">table_name</code>, or <code class="codeph">column_name</code> does not exist, or if <code class="codeph">topo_geometry_layer_type</code> is not one of the supported values.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example adds a topology geometry layer to the <code class="codeph">CITY_DATA</code> topology. The topology geometry layer consists of polygon geometries in the FEATURE column of the LAND_PARCELS table. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER(&#39;CITY_DATA&#39;, &#39;LAND_PARCELS&#39;, &#39;FEATURE&#39;, &#39;POLYGON&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL826"></a>
<div class="props_rev_3"><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147"></a>
<h2 id="TOPOL-GUID-FCF18F45-89D5-4394-9339-323DBA235147" class="sect2">SDO_TOPO.CREATE_TOPOLOGY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.CREATE_TOPOLOGY(     
  topology                 IN VARCHAR2,      
  tolerance                IN NUMBER,      
  srid                     IN NUMBER DEFAULT NULL,      
  node_table_storage       IN VARCHAR2 DEFAULT NULL,      
  edge_table_storage       IN VARCHAR2 DEFAULT NULL,      
  face_table_storage       IN VARCHAR2 DEFAULT NULL,      
  history_table_storage    IN VARCHAR2 DEFAULT NULL.      
  digits_right_of_decimal  IN VARCHAR2 DEFAULT 16);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Creates a topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107177"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-0A5E6EA3-8FD4-4886-91F8-202544E242F2"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to be created. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107178"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-B7BE165D-2758-48D1-91EC-3F13DECC5C39"><!-- --></a>tolerance</dt>
<dd>
<p>Tolerance value associated with topology geometries in the topology. (Tolerance is explained in <a href="topology-data-model-overview.htm#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">Tolerance in the Topology Data Model</a>.)</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107179"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-41E3C495-764F-4C80-9D0B-7076C64E1AE5"><!-- --></a>srid</dt>
<dd>
<p>Coordinate system (spatial reference system) associated with all topology geometry layers in the topology. The default is null: no coordinate system is associated; otherwise, it must be a value from the SRID column of the SDO_COORD_REF_SYS table (described in <a class="olink SPATL" target="_blank" href="../SPATL/toc.htm"><span class="italic">Oracle Spatial and Graph Developer&#39;s Guide</span></a>).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107180"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-27B07806-5455-44C5-8234-AB4D8EE1EE65"><!-- --></a>node_table_storage</dt>
<dd>
<p>Physical storage parameters used internally to create the &lt;topology-name&gt;_NODE$ table (described in <a href="topology-data-model-overview.htm#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F">Node Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107181"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-E4E75B97-E7F6-4B8C-BBF2-898327CDCB50"><!-- --></a>edge_table_storage</dt>
<dd>
<p>Physical storage parameters used internally to create the &lt;topology-name&gt;_EDGE$ table (described in <a href="topology-data-model-overview.htm#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">Edge Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107182"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-D3B24656-F81F-415B-8463-D043A78715DE"><!-- --></a>face_table_storage</dt>
<dd>
<p>Physical storage parameters used internally to create the &lt;topology-name&gt;_FACE$ table (described in <a href="topology-data-model-overview.htm#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3">Face Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107183"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-1C153690-0D57-4B73-8754-3BF19EC5DD44"><!-- --></a>history_table_storage</dt>
<dd>
<p>Physical storage parameters used internally to create the &lt;topology-name&gt;_HISTORY$ table (described in <a href="topology-data-model-overview.htm#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">History Information Table</a>. Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107184"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-0ECBB0B7-A8B6-43C9-8720-19C99F0681B5"><!-- --></a>digits_right_of_decimal</dt>
<dd>
<p>The number of digits permitted to the right of the decimal point in the expression of any coordinate position when features are added to an existing topology. All incoming features (those passed as arguments to the <code class="codeph">addLinearGeometry</code>, <code class="codeph">addPolygonGeometry</code>, or <code class="codeph">addPointGeometry</code> method in the Java API or the equivalent PL/SQL subprograms) will be automatically snapped (truncated) to the number of digits right of the decimal that is specified in this parameter. The default is 16.</p>
<p>This value should be set to match the last digit right of the decimal point that is considered valid based on the accuracy of the incoming data. This mechanism is provided to improve the stability of the computational geometry during the feature insertion process, and to minimize the creation of sliver polygons and other undesired results.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure creates the &lt;topology-name&gt;_EDGE$, &lt;topology-name&gt;_NODE$, &lt;topology-name&gt;_FACE$, and &lt;topology-name&gt;_HISTORY$ tables, which are described in <a href="topology-data-model-overview.htm#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99">Topology Data Model Tables</a>, and it creates B-tree indexes on the primary keys of these tables. This procedure also creates the metadata for the topology.</p>
<p>In the <code class="codeph">srid</code> parameter, you can specify a geodetic coordinate system; however, all Spatial and Graph internal operations on the topology will use Cartesian (not geodetic) arithmetic operations. (Geodetic and non-geodetic coordinate systems are discussed in <a class="olink SPATL" target="_blank" href="../SPATL/toc.htm"><span class="italic">Oracle Spatial and Graph Developer&#39;s Guide</span></a>.)</p>
<p>Node, edge, face, and history tables are created without partitions; however, you can alter any of these tables to make it partitioned. You can also create a partitioned spatial index on a partitioned table, as explained in <a class="olink SPATL" target="_blank" href="../SPATL/toc.htm"><span class="italic">Oracle Spatial and Graph Developer&#39;s Guide</span></a>.</p>
<p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back. To delete the topology that you just created, call the <a href="SDO_TOPO-reference.htm#GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559">SDO_TOPO.DROP_TOPOLOGY</a> procedure.</p>
<p>An exception is raised if the topology already exists.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example creates a topology named <code class="codeph">CITY_DATA</code>. The spatial geometries in this topology have a tolerance value of 0.5 and use the <code class="codeph">WGS 84</code> coordinate system (longitude and latitude, SRID value 8307). (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.CREATE_TOPOLOGY(&#39;CITY_DATA&#39;, 0.5, 8307);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL827"></a>
<div class="props_rev_3"><a id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56"></a>
<h2 id="TOPOL-GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56" class="sect2">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER(     
  topology    IN VARCHAR2,      
  table_name  IN VARCHAR2,      
  column_name IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Deletes a topology geometry layer from a topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107185"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-70ADF56C-8DA6-4E36-AB2B-23CAB12B1700"><!-- --></a>topology</dt>
<dd>
<p>Topology from which to delete the topology geometry layer containing the topology geometries in the specified column. The topology must have been created using the <a href="SDO_TOPO-reference.htm#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107186"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-58942AC7-17BF-4423-B29C-DBD0ECCF2149"><!-- --></a>table_name</dt>
<dd>
<p>Name of the table containing the column specified in <code class="codeph">column_name</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107187"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-C6205E2A-E7AE-40F0-A6DF-51A57795747A"><!-- --></a>column_name</dt>
<dd>
<p>Name of the column containing the topology geometries in the topology geometry layer to be deleted from the topology.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure deletes data associated with the specified topology geometry layer from the &lt;topology-name&gt;_RELATION$ table (described in <a href="topology-data-model-overview.htm#GUID-46B81706-7812-4E79-972A-7024D0A28191">Relationship Information Table</a>). If this procedure is deleting the only remaining topology geometry layer from the topology, it also deletes the &lt;topology-name&gt;_RELATION$ table.</p>
<p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example deletes the topology geometry layer that is based on the geometries in the FEATURE column of the LAND_PARCELS table from the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER(&#39;CITY_DATA&#39;, &#39;LAND_PARCELS&#39;, &#39;FEATURE&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL828"></a>
<div class="props_rev_3"><a id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559"></a>
<h2 id="TOPOL-GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559" class="sect2">SDO_TOPO.DROP_TOPOLOGY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.DROP_TOPOLOGY(     
  topology  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Deletes a topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107188"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-86CC072D-63F4-4241-82AB-EE9F3F1C0876"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to be deleted. The topology must have been created using the <a href="SDO_TOPO-reference.htm#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure deletes the &lt;topology-name&gt;_EDGE$, &lt;topology-name&gt;_NODE$, &lt;topology-name&gt;_FACE$, &lt;topology-name&gt;_NODE$, &lt;topology-name&gt;_RELATION$, and &lt;topology-name&gt;_HISTORY$ tables (described in <a href="topology-data-model-overview.htm#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99">Topology Data Model Tables</a>).</p>
<p>If there are no topology layers associated with the topology, the topology is removed from the Spatial and Graph metadata.</p>
<p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back.</p>
<p>A database user that owns a topology cannot be deleted. Therefore, before you can use the DROP USER ... CASCADE statement on a database user that owns a topology, you must connect as that user and execute the SDO_TOPO.DROP_TOPOLOGY procedure.</p>
<p>An exception is raised if the topology contains any topology geometries from any topology geometry layers. If you encounter this exception, delete all topology geometry layers in the topology using the <a href="SDO_TOPO-reference.htm#GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER</a> procedure for each topology geometry layer, and then drop the topology.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example drops the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.DROP_TOPOLOGY(&#39;CITY_DATA&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL829"></a>
<div class="props_rev_3"><a id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4"></a>
<h2 id="TOPOL-GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4" class="sect2">SDO_TOPO.GET_FACE_BOUNDARY</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.GET_FACE_BOUNDARY(     
  topology   IN VARCHAR2,      
  face_id    IN NUMBER,      
  all_edges  IN VARCHAR2 DEFAULT &#39;FALSE&#39;      
) RETURN SDO_LIST_TYPE;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns a list of the signed ID numbers of the edges for the specified face.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107189"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-118E31FB-9D7D-4E37-A28A-BC47028BF809"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology that contains the face. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107190"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-1A525537-C19B-4275-A6DC-47556AF5230D"><!-- --></a>face_id</dt>
<dd>
<p>Face ID value of the face.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107191"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-F59AD255-2B60-42D5-A166-6ADC50E8EC91"><!-- --></a>all_edges</dt>
<dd>
<p><code class="codeph">TRUE</code> includes all edges that bound the face (that is, that have the face on one or both sides); <code class="codeph">FALSE</code> (the default) includes only edges that constitute the external boundary of the face. (See the examples for this function.)</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>None.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following examples return the ID numbers of the edges for the face whose face ID value is 1. The first example accepts the default value of &#39;<code class="codeph">FALSE&#39;</code> for the <code class="codeph">all_edges</code> parameter. The second example specifies <code class="codeph">&#39;TRUE&#39;</code> for <code class="codeph">all_edges</code>, and the list includes the ID numbers of the boundary edge and the two isolated edges on the face. (The examples refer to definitions and data from <a href="topology-data-model-overview.htm#GUID-637E97AE-C81B-444E-9683-89A143F803F3">Topology Examples (PL/SQL)</a>.)</p>
<pre dir="ltr">-- Get the boundary of face with face_id 1.
SELECT SDO_TOPO.GET_FACE_BOUNDARY(&#39;CITY_DATA&#39;, 1) FROM DUAL;
 
SDO_TOPO.GET_FACE_BOUNDARY(&#39;CITY_DATA&#39;,1)                                       
--------------------------------------------------------------------------------
SDO_LIST_TYPE(1)                                                                
 
-- Specify &#39;TRUE&#39; for the all_edges parameter.
SELECT SDO_TOPO.GET_FACE_BOUNDARY(&#39;CITY_DATA&#39;, 1, &#39;TRUE&#39;) FROM DUAL;
 
SDO_TOPO.GET_FACE_BOUNDARY(&#39;CITY_DATA&#39;,1,&#39;TRUE&#39;)                                
--------------------------------------------------------------------------------
SDO_LIST_TYPE(1, -26, 25)
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL830"></a>
<div class="props_rev_3"><a id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C"></a>
<h2 id="TOPOL-GUID-697D0367-D5AF-498A-8AFE-08CFB486627C" class="sect2">SDO_TOPO.GET_TOPO_OBJECTS</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.GET_TOPO_OBJECTS(     
  topology  IN VARCHAR2,      
  geometry  IN SDO_GEOMETRY      
) RETURN SDO_TOPO_OBJECT_ARRAY;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO.GET_TOPO_OBJECTS(     
  topology               IN VARCHAR2,      
  topo_geometry_layer_id IN NUMBER,      
  topo_geometry_id       IN NUMBER      
) RETURN SDO_TOPO_OBJECT_ARRAY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Returns an array of SDO_TOPO_OBJECT objects that interact with a specified geometry object or topology geometry object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107192"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-D495E392-42A9-4882-B4B5-CD70852A544A"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology. Must not exceed 20 characters.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107193"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-A7ABF3E0-C6F1-4277-92F6-5C45501F1301"><!-- --></a>geometry</dt>
<dd>
<p>Geometry object to be checked.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107194"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-822792AA-3DB4-4219-9132-BB1634570AB1"><!-- --></a>topo_geometry_layer_id</dt>
<dd>
<p>ID number of the topology geometry layer that contains the topology geometry object to be checked.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107195"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-B655AB42-5C18-4B78-B152-1A664EA46F15"><!-- --></a>topo_geometry_id</dt>
<dd>
<p>ID number of the topology geometry object to be checked.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The SDO_TOPO_OBJECT_ARRAY data type is described in <a href="topology-data-model-overview.htm#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">Constructors for Insert Operations: Specifying Topological Elements</a>.</p>
<p>For a topology that has a topology geometry layer hierarchy, this function works for all levels of the hierarchy, and it always returns the leaf-level (lowest-level) objects. (Topology geometry layer hierarchy is explained in <a href="topology-data-model-overview.htm#GUID-048DC942-FC27-4977-AB98-2451E4A4910F">Topology Geometry Layer Hierarchy</a>.)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example returns the topology geometry objects that interact with land parcel P2 in the <code class="codeph">CITY_DATA</code> topology. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">-- CITY_DATA layer, land parcels (topo_geometry_ layer_id = 1), 
-- parcel P2 (topo_geometry_id = 2)
SELECT SDO_TOPO.GET_TOPO_OBJECTS(&#39;CITY_DATA&#39;, 1, 2) FROM DUAL;
 
SDO_TOPO.GET_TOPO_OBJECTS(&#39;CITY_DATA&#39;,1,2)(TOPO_ID, TOPO_TYPE)                  
--------------------------------------------------------------------------------
SDO_TOPO_OBJECT_ARRAY(SDO_TOPO_OBJECT(9, 1), SDO_TOPO_OBJECT(10, 1), SDO_TOPO_OB
JECT(13, 1), SDO_TOPO_OBJECT(14, 1), SDO_TOPO_OBJECT(17, 1), SDO_TOPO_OBJECT(18,
 1), SDO_TOPO_OBJECT(6, 2), SDO_TOPO_OBJECT(7, 2), SDO_TOPO_OBJECT(8, 2), SDO_TO
PO_OBJECT(9, 2), SDO_TOPO_OBJECT(10, 2), SDO_TOPO_OBJECT(11, 2), SDO_TOPO_OBJECT
(12, 2), SDO_TOPO_OBJECT(13, 2), SDO_TOPO_OBJECT(14, 2), SDO_TOPO_OBJECT(17, 2),
 SDO_TOPO_OBJECT(18, 2), SDO_TOPO_OBJECT(19, 2), SDO_TOPO_OBJECT(20, 2), SDO_TOP
O_OBJECT(-6, 2), SDO_TOPO_OBJECT(-7, 2), SDO_TOPO_OBJECT(-8, 2), SDO_TOPO_OBJECT
(-9, 2), SDO_TOPO_OBJECT(-10, 2), SDO_TOPO_OBJECT(-11, 2), SDO_TOPO_OBJECT(-12, 
2), SDO_TOPO_OBJECT(-13, 2), SDO_TOPO_OBJECT(-14, 2), SDO_TOPO_OBJECT(-17, 2), S
DO_TOPO_OBJECT(-18, 2), SDO_TOPO_OBJECT(-19, 2), SDO_TOPO_OBJECT(-20, 2), SDO_TO
PO_OBJECT(-1, 3), SDO_TOPO_OBJECT(3, 3), SDO_TOPO_OBJECT(4, 3), SDO_TOPO_OBJECT(
5, 3), SDO_TOPO_OBJECT(6, 3), SDO_TOPO_OBJECT(7, 3), SDO_TOPO_OBJECT(8, 3)) 
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL831"></a>
<div class="props_rev_3"><a id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC"></a>
<h2 id="TOPOL-GUID-3C5C023B-079D-4225-802B-CE9B952D82DC" class="sect2">SDO_TOPO.INITIALIZE_AFTER_IMPORT</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.INITIALIZE_AFTER_IMPORT(     
  topology  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Creates (initializes) a topology that was imported from another database.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107196"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-4CFF5C96-DEAE-4DF7-BC01-FA0423EDAE02"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to be created. The topology must have been exported from a source database.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure creates the specified topology and all related database structures, adjusts (if necessary) the topology ID values in all feature tables, and creates the feature layers in the correct order.</p>
<p>Before calling this procedure, connect to the database as the user for the schema that is to own the topology to be created.</p>
<p>You must use this procedure after following all other required steps for exporting and importing the topology, as explained in <a href="topology-data-model-overview.htm#GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70">Exporting and Importing Topology Data</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example creates the topology named <code class="codeph">CITY_DATA</code>, using information from the imported tables, including CITY_DATA_EXP$. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.INITIALIZE_AFTER_IMPORT(&#39;CITY_DATA&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL832"></a>
<div class="props_rev_3"><a id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1"></a>
<h2 id="TOPOL-GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1" class="sect2">SDO_TOPO.INITIALIZE_METADATA</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.INITIALIZE_METADATA(     
  topology  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Initializes the topology metadata: sets sequence information for the node, edge, and face tables, and creates (or re-creates) required indexes on these tables.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107197"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-1A1A2941-8C0C-41BA-86C8-7533890599DA"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology for which to initialize the sequences. The topology must have been created using the <a href="SDO_TOPO-reference.htm#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>You should run this procedure after loading data into the node, edge, or face tables, to initialize the sequences for these tables with numeric values 2 higher than the highest ID values stored in those tables. This ensures that no attempt is made to reuse the unique ID values in these tables. (The node, edge, and face tables are described in <a href="topology-data-model-overview.htm#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99">Topology Data Model Tables</a>.)</p>
<p>This procedure creates spatial indexes on the geometry or MBR geometry columns in the node, edge, and face tables. If the indexes were dropped before a bulk load operation, running this procedure after the bulk load will re-create these indexes.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example initializes the metadata for the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.INITIALIZE_METADATA(&#39;CITY_DATA&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL833"></a>
<div class="props_rev_3"><a id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB"></a>
<h2 id="TOPOL-GUID-F49486FC-1125-4C51-8F23-4E8332C935AB" class="sect2">SDO_TOPO.PREPARE_FOR_EXPORT</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.PREPARE_FOR_EXPORT(     
  topology  IN VARCHAR2);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Prepares a topology to be exported to another database.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107198"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-F63BB309-B3AF-41C3-A816-8BC3E8746FE0"><!-- --></a>topology</dt>
<dd>
<p>Name of the topology to be prepared for export. The topology must have been created using the <a href="SDO_TOPO-reference.htm#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>This procedure prepares the specified topology in the current database (the source database) to be exported to another database (the target database).</p>
<p>This procedure creates a table in the current schema with a table name in the format &lt;topology-name&gt;_EXP$. This table contains the same columns as the USER_SDO_TOPO_INFO and ALL_SDO_TOPO_INFO views. These columns are described in <a href="topology-data-model-overview.htm#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67__BABFBAFF" title="Columns in the xxx_SDO_TOPO_INFO Views">Table 1-8</a> in <a href="topology-data-model-overview.htm#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67">xxx_SDO_TOPO_INFO Views</a>.</p>
<p>Before calling this procedure, connect to the database as the owner of the topology.</p>
<p>For information about exporting and importing topologies, including the steps to be followed, see <a href="topology-data-model-overview.htm#GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70">Exporting and Importing Topology Data</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example prepares the topology named <code class="codeph">CITY_DATA</code> for export to a target database. (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)</p>
<pre dir="ltr">EXECUTE SDO_TOPO.PREPARE_FOR_EXPORT(&#39;CITY_DATA&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="TOPOL834"></a>
<div class="props_rev_3"><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7"></a>
<h2 id="TOPOL-GUID-2131609B-F033-4712-9EA5-FC04B466DEF7" class="sect2">SDO_TOPO.RELATE</h2>
<div>
<div class="section">
<p class="subhead2">Format</p>
<pre dir="ltr">SDO_TOPO.RELATE(     
  geom1  IN SDO_TOPO_GEOMETRY,      
  geom2  IN SDO_TOPO_GEOMETRY,      
  mask   IN VARCHAR2      
) RETURN VARCHAR2;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO.RELATE(
  feature1  IN SDO_TOPO_GEOMETRY,
  feature2  IN SDO_GEOMETRY,
  mask      IN VARCHAR2
) RETURN VARCHAR2;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TOPO.RELATE(
  geom            IN SDO_TOPO_GEOMETRY,
  topo_elem_array IN SDO_TOPO_OBJECT_ARRAY,
  mask            IN VARCHAR2      
) RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Description</p>
<p>Examines two topology geometry objects, or a topology geometry and a spatial geometry, or a topology geometry and a topology object array (SDO_TOPO_OBJECT_ARRAY object), to determine their spatial relationship.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107199"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-20DB5EC4-5D7E-41D9-A2E0-25FE33A3811D"><!-- --></a>geom1</dt>
<dd>
<p>Topology geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107200"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-5B20FA2C-440D-45C9-91F9-0C2F0C61A349"><!-- --></a>geom2</dt>
<dd>
<p>Topology geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107201"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-E4761D8F-AB27-4FD0-92E8-8BC212C6D447"><!-- --></a>feature1</dt>
<dd>
<p>Topology geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107202"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-AF4CCD45-D50D-4491-B4A1-31081EADB8CD"><!-- --></a>feature2</dt>
<dd>
<p>Spatial geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107203"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-7C215825-C76E-4ED8-8EEE-2491892DC93F"><!-- --></a>geom</dt>
<dd>
<p>Topology geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107204"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-93D6AF94-B9E8-40EB-B179-6571B45E265C"><!-- --></a>topo_elem_array</dt>
<dd>
<p>Topology object array (of type SDO_TOPO_OBJECT_ARRAY, which is described in <a href="topology-data-model-overview.htm#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">Constructors for Insert Operations: Specifying Topological Elements</a>).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-107205"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-844EC6AA-932D-4EA8-858F-3D32FA2E10A0"><!-- --></a>mask</dt>
<dd>
<p>Specifies one or more relationships to check. See the list of keywords in the Usage Notes.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Usage Notes</p>
<p>The topology operators (described in <a href="topology-data-model-overview.htm#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">Topology Operators</a>) provide better performance than the SDO_TOPO.RELATE function if you are checking a large number of objects; however, if you are checking just two objects or a small number, the SDO_TOPO.RELATE function provides better performance. In addition, sometimes you may need to use the SDO_TOPO.RELATE function instead of a topology operator. For example, you cannot specify the DETERMINE mask keyword with the topology operators.</p>
<p>The following keywords can be specified in the <code class="codeph">mask</code> parameter to determine the spatial relationship between two objects:</p>
<ul style="list-style-type: disc;">
<li>
<p>ANYINTERACT: Returns TRUE if the objects are not disjoint.</p>
</li>
<li>
<p>CONTAINS: Returns TRUE if the second object is entirely within the first object and the object boundaries do not touch; otherwise, returns FALSE.</p>
</li>
<li>
<p>COVEREDBY: Returns TRUE if the first object is entirely within the second object and the object boundaries touch at one or more points; otherwise, returns FALSE.</p>
</li>
<li>
<p>COVERS: Returns TRUE if the second object is entirely within the first object and the boundaries touch in one or more places; otherwise, returns FALSE.</p>
</li>
<li>
<p>DETERMINE: Returns the one relationship keyword that best matches the geometries.</p>
</li>
<li>
<p>DISJOINT: Returns TRUE if the objects have no common boundary or interior points; otherwise, returns FALSE.</p>
</li>
<li>
<p>EQUAL: Returns TRUE if the objects share every point of their boundaries and interior, including any holes in the objects; otherwise, returns FALSE.</p>
</li>
<li>
<p>INSIDE: Returns TRUE if the first object is entirely within the second object and the object boundaries do not touch; otherwise, returns FALSE.</p>
</li>
<li>
<p>ON: Returns TRUE if the boundary and interior of a line (the first object) is completely on the boundary of a polygon (the second object); otherwise, returns FALSE.</p>
</li>
<li>
<p>OVERLAPBDYDISJOINT: Returns TRUE if the objects overlap, but their boundaries do not interact; otherwise, returns FALSE.</p>
</li>
<li>
<p>OVERLAPBDYINTERSECT: Returns TRUE if the objects overlap, and their boundaries intersect in one or more places; otherwise, returns FALSE.</p>
</li>
<li>
<p>TOUCH: Returns TRUE if the two objects share a common boundary point, but no interior points; otherwise, returns FALSE.</p>
</li>
</ul>
<p>Values for <code class="codeph">mask</code> (except for DETERMINE) can be combined using the logical Boolean operator OR. For example, &#39;INSIDE + TOUCH&#39; returns the string TRUE or FALSE depending on the outcome of the test.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following example finds whether or not the ANYINTERACT relationship exists between each topology geometry object in the CITY_STREETS table and the <code class="codeph">P3</code> land parcel (that is, which streets interact with that land parcel). (The example refers to definitions and data from <a href="topology-data-model-overview.htm#GUID-637E97AE-C81B-444E-9683-89A143F803F3">Topology Examples (PL/SQL)</a>. The output is reformatted for readability.)</p>
<pre dir="ltr">SELECT c.feature_name,
  SDO_TOPO.RELATE(c.feature, l.feature, &#39;anyinteract&#39;) Any_Interaction
  FROM city_streets c, land_parcels l WHERE l.feature_name = &#39;P3&#39;;
 
FEATURE_NAME  ANY_INTERACTION                                                                     
------------  ---------------        
R1            TRUE
R2            FALSE                
R3            FALSE                            
R4            FALSE
</pre>
<p>The following example finds whether or not the ANYINTERACT relationship exists between each topology geometry object in the CITY_STREETS table and an SDO_TOPO_OBJECT_ARRAY object that happens to be identical to the land parcel feature named P3. (This example uses definitions and data from <a href="topology-data-model-overview.htm#GUID-637E97AE-C81B-444E-9683-89A143F803F3">Topology Examples (PL/SQL)</a>.) The output is identical to that in the preceding example, and is reformatted for readability.</p>
<pre dir="ltr">SELECT c.feature_name, 
  SDO_TOPO.RELATE(c.feature,
    SDO_TOPO_OBJECT_ARRAY (SDO_TOPO_OBJECT (5, 3), SDO_TOPO_OBJECT (8, 3)), 
    &#39;anyinteract&#39;) Any_Interaction 
  FROM city_streets c, land_parcels l WHERE l.feature_name = &#39;P3&#39;;
 
FEATURE_NAME  ANY_INTERACTION                                                                     
------------  ---------------        
R1            TRUE
R2            FALSE                
R3            FALSE                            
R4            FALSE
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment106">
<tr>
<td class="cellalignment121">
<table class="cellalignment111">
<tr>
<td class="cellalignment110"><a href="editing-topologies.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment110"><a href="SDO_TOPO_MAP-reference.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment123">
<table class="cellalignment109">
<tr>
<td class="cellalignment110"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment110"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment110"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment110"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment110"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment110"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
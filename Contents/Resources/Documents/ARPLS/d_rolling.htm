<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2337"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_ROLLING"></a><title>DBMS_ROLLING</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:29Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_rls.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_rowid.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">140/290</span> <!-- End Header -->
<div id="ARPLS73534" class="chapter"><a id="CEGDECAB"></a>
<h1 class="chapter"><span class="secnum">136</span> DBMS_ROLLING</h1>
<p>The <code dir="ltr">DBMS_ROLLING</code> PL/SQL package is used to implement the Rolling Upgrade Using Active Data Guard feature, which streamlines the process of upgrading Oracle Database software in a Data Guard configuration in a rolling fashion. The Rolling Upgrade Using Active Data Guard feature requires a license for the Oracle Active Data Guard option, and can be used for database version upgrades starting with the first patchset of Oracle Database 12<span class="italic">c</span>.</p>
<p>Additionally, you can use this feature immediately for other database maintenance tasks. The database where maintenance is performed must be operating at a minimum of Oracle Database 12<span class="italic">c</span> Release 1 (12.1). Such maintenance tasks include:</p>
<ul>
<li>
<p>Adding partitioning to non-partitioned tables</p>
</li>
<li>
<p>Changing BasicFiles LOBs to SecureFiles LOBs</p>
</li>
<li>
<p>Changing <code dir="ltr">XMLType</code> stored as <code dir="ltr">CLOB</code> to <code dir="ltr">XMLtype</code> stored as binary XML</p>
</li>
<li>
<p>Altering tables to be OLTP-compressed</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink SBYDB5214" href="../SBYDB/dbms_rolling_upgrades.htm#SBYDB5214"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about using <code dir="ltr">DBMS_ROLLING</code> to perform a rolling upgrade</p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CACJIECH">Using DBMS_ROLLING</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
</ul>
</li>
<li>
<p><a href="#CACGGADF">Summary of DBMS_ROLLING Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CACJIECH"></a>
<div id="ARPLS73535" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_ROLLING</h2>
<ul>
<li>
<p><a href="#CACCEHHB">Overview</a></p>
</li>
<li>
<p><a href="#CACCCBHD">Security Model</a></p>
</li>
</ul>
<div id="ARPLS73536" class="refsect2"><a id="CACCEHHB"></a>
<h3 class="refsect2">Overview</h3>
<p>The <code dir="ltr">DBMS_ROLLING</code> PL/SQL package provides procedures that you can use to perform any change throughout a Data Guard configuration in a rolling fashion, including a rolling upgrade of the Oracle Database software. Although the focus of this document is rolling upgrade operations, the content is applicable to the deployment of any rolling changes.</p>
<p>All the procedures are executed at the current primary database, which eliminates the potential confusion of moving between remote databases to perform various operations related to the rolling upgrade. If necessary, all the procedures can be called again to resume the rolling upgrade after an error or interruption. (The upgrade script must still be run at the standby.)</p>
<p>The package also provides a procedure that allows you to return a Data Guard configuration back to its original, pre-upgrade state in the event users wish to abandon the rolling upgrade.</p>
<p>The actual execution of a rolling upgrade has been reduced to three steps (excluding the upgrade of the Oracle Database software itself and the on-disk setup of the new Oracle Database software). The number of steps remains the same regardless of the size of the Data Guard configuration.</p>
<p>Conceptually, for the purposes of the <code dir="ltr">DBMS_ROLLING</code> package, you divide your Data Guard configuration into two groups: the leading group and the trailing group. The databases in the leading group undergo the upgrade operation (or any other change that you are deploying) first. The databases in the trailing group undergo the upgrade of the Oracle Database software (or any other change that you are deploying) only after the switchover operation. This insulates them from the upgrade and gives you time to evaluate the effect of the change in the leading group databases.</p>
<p>Each group has a master database: the future primary database as specified in the <code dir="ltr">DBMS_ROLLING.INIT_PLAN</code> procedure is the master of the leading group, called Leading Group Master (LGM), while the original primary database is the master of the trailing group called Trailing Group Master (TGM). You can configure databases to protect the LGM and the TGM. Standbys designated to protect the LGM are referred to as Leading Group Standbys (LGS). Standbys designated to protect the TGM are referred to as Trailing Group Standbys (TGS). These terms are used throughout this documentation.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73537" class="refsect2"><a id="CACCCBHD"></a>
<h3 class="refsect2">Security Model</h3>
<p>The <code dir="ltr">DBMS_ROLLING</code> package is available to users who have been granted the DBA role.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CACGGADF"></a>
<div id="ARPLS73538" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_ROLLING Subprograms</h2>
<div id="ARPLS73539" class="tblformal">
<p class="titleintable"><a id="sthref7962"></a><a id="sthref7963"></a>Table 136-1 DBMS_ROLLING Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_ROLLING Package Subprograms" summary="DBMS_ROLLING Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#CACFBEDJ">INIT_PLAN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>Initializes a rolling operation plan with system-generated default values.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#BCGJCCAI">DESTROY_PLAN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>Destroys any existing rolling operation plan, its parameters, and all resources associated with the rolling operation.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#BCGEHIFC">BUILD_PLAN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p>Validates plan parameters and creates or modifies a rolling operation plan.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#BCGEECJD">SET_PARAMETER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>Modifies a rolling operation parameter.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#BCGHFGHE">START_PLAN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p>Starts the rolling operation.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#BCGCBEAC">SWITCHOVER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>Performs a switchover between the current primary database and the transient logical standby database.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><a href="#BCGHEDJH">FINISH_PLAN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p>Finalizes the rolling operation.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><a href="#BCGIGBHH">ROLLBACK_PLAN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p>Completely rolls back the rolling operation.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS73540" class="refsect2"><a id="CACFBEDJ"></a>
<h3 class="refsect2">INIT_PLAN Procedure</h3>
<p>This procedure initializes a rolling operation plan with system-generated default values.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7964"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.INIT_PLAN (
   future_primary   IN VARCHAR2);
           
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7965"></a>Parameters</p>
<div id="ARPLS73541" class="tblformal">
<p class="titleintable"><a id="sthref7966"></a><a id="sthref7967"></a>Table 136-2 <span class="bolditalic">INIT_PLAN Procedure Parameters</span></p>
<table class="cellalignment4330" title="INIT_PLAN Procedure Parameters" summary="This table describes the parameters of the DBMS_ASSERT.ENQUOTE_LITERAL subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Parameter</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">future_primary</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p><code dir="ltr">DB_UNIQUE_NAME</code> of the future primary (also known as the Leading Group Master (LGM))</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7968"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45401</code>: upgrade plan is already active</p>
</li>
<li>
<p><code dir="ltr">ORA-45402</code>: <code dir="ltr">LOG_ARCHIVE_CONFIG</code> must contain the <code dir="ltr">DG_CONFIG</code> attribute</p>
</li>
<li>
<p><code dir="ltr">ORA-45403</code>: database %s must be specified in <code dir="ltr">DG_CONFIG</code></p>
</li>
<li>
<p><code dir="ltr">ORA-45411</code>: operation requires additional arguments</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7969"></a>Usage Notes</p>
<ul>
<li>
<p>A plan must be prepared before any parameters can be customized.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74603" class="refsect2"><a id="BCGJCCAI"></a>
<h3 class="refsect2">DESTROY_PLAN Procedure</h3>
<p>This procedure destroys any existing upgrade plan, its parameters, and all resources associated with a rolling operation.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7970"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.DESTROY_PLAN ();   
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7971"></a>Parameters</p>
<p>This procedure has no parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7972"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45422</code>: operation requires existing plan</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7973"></a>Usage Notes</p>
<ul>
<li>
<p>When a rolling operation is complete, this procedure can be called to completely purge all states related to a rolling operation.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74604" class="refsect2"><a id="BCGEHIFC"></a>
<h3 class="refsect2">BUILD_PLAN Procedure</h3>
<p>This procedure validates plan parameters and creates or modifies a rolling operation plan. A successfully constructed plan is required in order to perform a rolling operation. This procedure must return successfully before the <code dir="ltr">START_PLAN</code> procedure can be called to start the rolling operation. Parameter changes made after a plan has been created may require calling the <code dir="ltr">BUILD_PLAN</code> procedure to modify the existing plan. The <code dir="ltr">DBA_ROLLING_EVENTS</code> view will indicate if any invocation of the <code dir="ltr">SET_PARAMETER</code> procedure requires a plan rebuild. Failure to rebuild the plan will result in an <code dir="ltr">ORA-45416</code> error when attempting to resume the rolling operation.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7974"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.BUILD_PLAN ();
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7975"></a>Parameters</p>
<p>This procedure has no parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7976"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45403</code>: database %s must be specified in the <code dir="ltr">DG_CONFIG</code></p>
</li>
<li>
<p><code dir="ltr">ORA-45414</code>: could not connect to a remote database</p>
</li>
<li>
<p><code dir="ltr">ORA-45419</code>: <code dir="ltr">DB_UNIQUE_NAME</code> parameter must be specified</p>
</li>
<li>
<p><code dir="ltr">ORA-45433</code>: failover was detected on an unsupported database</p>
</li>
<li>
<p><code dir="ltr">ORA-45434</code>: multiple failovers of the same type detected</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7977"></a>Usage Notes</p>
<ul>
<li>
<p>This procedure connects to databases specified as plan parameters. These instances must be mounted or open, and must be reachable via the network.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74605" class="refsect2"><a id="BCGEECJD"></a>
<h3 class="refsect2">SET_PARAMETER Procedure</h3>
<p>This procedure modifies a rolling operation parameter.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7978"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.SET_PARAMETER (
   scope    IN VARCHAR2 DEFAULT NULL,
   name     IN NUMBER,
   value    IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7979"></a>Parameters</p>
<div id="ARPLS74606" class="tblformal">
<p class="titleintable"><a id="sthref7980"></a><a id="sthref7981"></a>Table 136-3 <span class="bolditalic">SET_PARAMETER Procedure Parameters</span></p>
<table class="cellalignment4330" title="SET_PARAMETER Procedure Parameters" summary="This table describes the parameters of the DBMS_ROLLING package." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Parameter</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">scope</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>Parameter scope. It can either be NULL for global parameters, or the <code dir="ltr">DB_UNIQUE_NAME</code> of a specific database for local parameters.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>The <code dir="ltr">DBMS_ROLLING</code> constant for a given parameter.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t5" headers="r1c1-t5">
<p><code dir="ltr">value</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c2-t5">
<p>New value for the parameter or NULL to revert to a default value.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7982"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45408</code>: parameter name is unknown</p>
</li>
<li>
<p><code dir="ltr">ORA-45409</code>: parameter value is invalid or out of bounds</p>
</li>
<li>
<p><code dir="ltr">ORA-45410</code>: parameter may not be modified</p>
</li>
<li>
<p><code dir="ltr">ORA-45411</code>: operation requires additional arguments</p>
</li>
<li>
<p><code dir="ltr">ORA-45412</code>: parameter scope argument is unknown</p>
</li>
<li>
<p><code dir="ltr">ORA-45413</code>: parameter has no default value</p>
</li>
<li>
<p><code dir="ltr">ORA-45414</code>: could not connect to a remote database</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7983"></a>Usage Notes</p>
<ul>
<li>
<p>Changes to a parameter value may require a call to the <code dir="ltr">DBMS_ROLLING.BUILD_PLAN</code> procedure to modify the existing plan. Users should check the <code dir="ltr">DBA_ROLLING_EVENTS</code> view after setting a parameter to determine if a rebuild is necessary.</p>
</li>
<li>
<p><a href="#BCGGIIEE">Table 136-4</a> lists all the available parameters and their descriptions. The parameter names and values described in the table are all of type <code dir="ltr">VARCHAR2</code>.</p>
</li>
<li>
<p>The <code dir="ltr">MINVAL</code> and <code dir="ltr">MAXVAL</code> columns in the <code dir="ltr">DBA_ROLLING_PARAMETERS</code> view identify the valid range of values for a parameter. The view does not contain any parameters until the <code dir="ltr">DBMS_ROLLING.INIT_PLAN</code> procedure has been successfully invoked.</p>
</li>
</ul>
<div id="ARPLS74607" class="tblruleformalwidemax">
<p class="titleintable"><a id="sthref7984"></a><a id="BCGGIIEE"></a>Table 136-4 Valid Values for DBMS_ROLLING.SET_PARAMETER Procedure</p>
<table class="cellalignment4327" title="Valid Values for DBMS_ROLLING.SET_PARAMETER Procedure" summary="Rolling Upgrade Parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter Name</th>
<th class="cellalignment4328" id="r1c2-t6">Global?</th>
<th class="cellalignment4328" id="r1c3-t6">Description</th>
<th class="cellalignment4328" id="r1c4-t6">Default</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">ACTIVE_SESSIONS_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">ACTIVE_SESSIONS_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">ACTIVE_SESSIONS_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c4-t6">
<p>3600</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">ACTIVE_SESSIONS_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c3-t6">
<p>Whether the switchover operation will wait for active sessions to finish. If set to 1, the <code dir="ltr">SWITCHOVER</code> procedure waits for active sessions to compete. If set to 0, the <code dir="ltr">SWITCHOVER</code> procedure kills active sessions to expedite the switchover.</p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c4-t6">
<p>0</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">BACKUP_CONTROLFILE</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c3-t6">
<p>File name of the backup control file that is created during a rolling upgrade.</p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c4-t6">
<p>rolling_change_backup.f</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t6" headers="r1c1-t6">
<p><code dir="ltr">DICTIONARY_LOAD_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">DICTIONARY_LOAD_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">DICTIONARY_LOAD_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c4-t6">
<p>3600</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t6" headers="r1c1-t6">
<p><code dir="ltr">DICTIONARY_LOAD_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r6c1-t6 r1c3-t6">
<p>Whether the instantiation of the transient logical standby will include a wait for the complete loading of the data dictionary snapshot in redo. If set to 1, then the <code dir="ltr">START_PLAN</code> procedure will not return until the dictionary has been completely loaded. If set to 0, then the <code dir="ltr">START_PLAN</code> procedure will only verify that the loading of the dictionary has started.</p>
</td>
<td class="cellalignment4329" headers="r6c1-t6 r1c4-t6">
<p><code dir="ltr">0</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t6" headers="r1c1-t6">
<p><code dir="ltr">DICTIONARY_PLS_WAIT_INIT</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r7c1-t6 r1c3-t6">
<p>The time in seconds to wait in between attempts to quiesce PL/SQL activity in order to write the data dictionary to redo.</p>
</td>
<td class="cellalignment4329" headers="r7c1-t6 r1c4-t6">
<p>300</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t6" headers="r1c1-t6">
<p><code dir="ltr">DICTIONARY_PLS_WAIT_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r8c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to attempt to quiesce PL/SQL activity in order to write the data dictionary to redo.</p>
</td>
<td class="cellalignment4329" headers="r8c1-t6 r1c4-t6">
<p>3600</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t6" headers="r1c1-t6">
<p><code dir="ltr">EVENT_RECORDS</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r9c1-t6 r1c3-t6">
<p>The maximum number of records to permit in <code dir="ltr">DBA_ROLLING_EVENTS</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t6 r1c4-t6">
<p><code dir="ltr">10000</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t6" headers="r1c1-t6">
<p><code dir="ltr">FAILOVER</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r10c1-t6 r1c3-t6">
<p>Automatically attempt to adjust the upgrade plan as a result of a failover event. This parameter resets its value to 0 upon completion of a subsequent call to <code dir="ltr">BUILD_PLAN</code>.</p>
</td>
<td class="cellalignment4329" headers="r10c1-t6 r1c4-t6">
<p><code dir="ltr">0</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t6" headers="r1c1-t6">
<p><code dir="ltr">GRP_PREFIX</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t6 r1c2-t6">&nbsp;</td>
<td class="cellalignment4329" headers="r11c1-t6 r1c3-t6">
<p>Execution of procedures in <code dir="ltr">DBMS_ROLLING</code> results in a number of Guaranteed Restore Points (GRP) taken in various databases participating in the Data Guard configuration. All such GRPs have the same prefix in their names. You can use this parameter to override the default prefix.</p>
</td>
<td class="cellalignment4329" headers="r11c1-t6 r1c4-t6">
<p><code dir="ltr">DBMSRU</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t6" headers="r1c1-t6">
<p><code dir="ltr">IGNORE_BUILD_WARNINGS</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r12c1-t6 r1c3-t6">
<p>Ignore warnings which would otherwise raise exceptions during execution of the <code dir="ltr">BUILD_PLAN</code> procedure.</p>
</td>
<td class="cellalignment4329" headers="r12c1-t6 r1c4-t6">
<p><code dir="ltr">1</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t6" headers="r1c1-t6">
<p><code dir="ltr">IGNORE_LAST_ERROR</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r13c1-t6 r1c3-t6">
<p>Ignore last encountered error upon startup of next rolling operation. This parameter resets its value to 0 upon invocation of a procedure call which resumes the rolling upgrade.</p>
</td>
<td class="cellalignment4329" headers="r13c1-t6 r1c4-t6">
<p><code dir="ltr">0</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t6" headers="r1c1-t6">
<p><code dir="ltr">LAD_ENABLED_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r14c1-t6 r1c3-t6">
<p>The maximum time in seconds to wait for a recently enabled log archive destination to reach a VALID state.</p>
</td>
<td class="cellalignment4329" headers="r14c1-t6 r1c4-t6">
<p>600</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t6" headers="r1c1-t6">
<p><code dir="ltr">LOG_LEVEL</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r15c1-t6 r1c3-t6">
<p>Logging level for the <code dir="ltr">DBS_ROLLING</code> PL/SQL package. A value of <code dir="ltr">INFO</code> results in the logging of errors and relevant non-fatal warnings. A value of <code dir="ltr">FULL</code> results in the logging of all events.</p>
</td>
<td class="cellalignment4329" headers="r15c1-t6 r1c4-t6">
<p><code dir="ltr">INFO</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t6" headers="r1c1-t6">
<p><code dir="ltr">MEMBER</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t6 r1c2-t6">
<p>No</p>
</td>
<td class="cellalignment4329" headers="r16c1-t6 r1c3-t6">
<p>The upgrade group in which the specified database is a member.</p>
<p>A value of <code dir="ltr">LEADING</code> indicates that the standby is a member of the leading upgrade group. As such, it is a standby of the Leading Group Master (LGM). The LGM is the database which is converted into the transient logical standby, and which becomes the new primary after the switchover.</p>
<p>A value of <code dir="ltr">TRAILING</code> indicates that the standby is a member of the trailing upgrade group. As such, it is a standby of the Trailing Group Master (TGM). The TGM is the original primary database.</p>
</td>
<td class="cellalignment4329" headers="r16c1-t6 r1c4-t6">
<p><code dir="ltr">LEADING</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t6" headers="r1c1-t6">
<p><code dir="ltr">READY_LGM_LAG_TIME</code></p>
</td>
<td class="cellalignment4329" headers="r17c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r17c1-t6 r1c3-t6">
<p>The apply lag time in seconds associated with the <code dir="ltr">READY_LGM_LAG_WAIT</code> parameter.</p>
</td>
<td class="cellalignment4329" headers="r17c1-t6 r1c4-t6">
<p>600</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r18c1-t6" headers="r1c1-t6">
<p><code dir="ltr">READY_LGM_LAG_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r18c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r18c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">READY_LGM_LAG_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">READY_LGM_LAG_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r18c1-t6 r1c4-t6">
<p>60</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r19c1-t6" headers="r1c1-t6">
<p><code dir="ltr">READY_LGM_LAG_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r19c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r19c1-t6 r1c3-t6">
<p>Whether the <code dir="ltr">START_PLAN</code> procedure will wait for the apply lag on the leading group master to fall below <code dir="ltr">READY_LGM_LAG_TIME</code> seconds before returning control back to the user. If set to 1, the wait is performed. If set to 0, the wait is not performed.</p>
</td>
<td class="cellalignment4329" headers="r19c1-t6 r1c4-t6">
<p>0</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r20c1-t6" headers="r1c1-t6">
<p><code dir="ltr">SWITCH_LGM_LAG_TIME</code></p>
</td>
<td class="cellalignment4329" headers="r20c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r20c1-t6 r1c3-t6">
<p>The apply lag time in seconds associated with the <code dir="ltr">SWITCH_LGM_LAG_WAIT</code> parameter.</p>
</td>
<td class="cellalignment4329" headers="r20c1-t6 r1c4-t6">
<p>600</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r21c1-t6" headers="r1c1-t6">
<p><code dir="ltr">SWITCH_LGM_LAG_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r21c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r21c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">SWITCH_LGM_LAG_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">SWITCH_LGM_LAG_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r21c1-t6 r1c4-t6">
<p>60</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r22c1-t6" headers="r1c1-t6">
<p><code dir="ltr">SWITCH_LGM_LAG_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r22c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r22c1-t6 r1c3-t6">
<p>Whether the <code dir="ltr">SWITCHOVER</code> procedure will wait for the apply lag on the leading group master to fall below <code dir="ltr">SWITCH_LGM_LAG_TIME</code> seconds before initiating the switchover. If set to 1, the wait is performed. If set to 0, the wait is not performed.</p>
</td>
<td class="cellalignment4329" headers="r22c1-t6 r1c4-t6">
<p>1</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r23c1-t6" headers="r1c1-t6">
<p><code dir="ltr">SWITCH_LGS_LAG_TIME</code></p>
</td>
<td class="cellalignment4329" headers="r23c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r23c1-t6 r1c3-t6">
<p>The apply lag time in seconds associated with the <code dir="ltr">SWITCH_LGS_LAG_WAIT</code> parameter.</p>
</td>
<td class="cellalignment4329" headers="r23c1-t6 r1c4-t6">
<p>60</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r24c1-t6" headers="r1c1-t6">
<p><code dir="ltr">SWITCH_LGS_LAG_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r24c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r24c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">SWITCH_LGS_LAG_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">SWITCH_LGS_LAG_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r24c1-t6 r1c4-t6">
<p>60</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r25c1-t6" headers="r1c1-t6">
<p><code dir="ltr">SWITCH_LGS_LAG_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r25c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r25c1-t6 r1c3-t6">
<p>Whether the <code dir="ltr">SWITCHOVER</code> procedure will wait for the apply lag on the leading group standbys to fall below <code dir="ltr">SWITCH_LGS_LAG_TIME</code> seconds before initiating the switchover. If set to 1, the wait is performed. If set to 0, the wait is not performed.</p>
</td>
<td class="cellalignment4329" headers="r25c1-t6 r1c4-t6">
<p>0</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r26c1-t6" headers="r1c1-t6">
<p><code dir="ltr">UPDATED_LGS_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r26c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r26c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">UPDATED_LGS_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">UPDATED_LGS_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r26c1-t6 r1c4-t6">
<p>10800</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r27c1-t6" headers="r1c1-t6">
<p><code dir="ltr">UPDATED_LGS_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r27c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r27c1-t6 r1c3-t6">
<p>Whether the <code dir="ltr">SWITCHOVER</code> procedure will wait for the leading group standbys to complete recovery of all upgrade redo before initiating the switchover. If set to 1, the wait is performed. If set to 0, the wait is not performed</p>
</td>
<td class="cellalignment4329" headers="r27c1-t6 r1c4-t6">
<p>1</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r28c1-t6" headers="r1c1-t6">
<p><code dir="ltr">UPDATED_TGS_TIMEOUT</code></p>
</td>
<td class="cellalignment4329" headers="r28c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r28c1-t6 r1c3-t6">
<p>The maximum amount of time in seconds to enforce <code dir="ltr">UPDATED_TGS_WAIT</code> before halting the rolling upgrade. This parameter is only valid if <code dir="ltr">UPDATED_TGS_WAIT</code> is set to 1.</p>
</td>
<td class="cellalignment4329" headers="r28c1-t6 r1c4-t6">
<p>10800</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r29c1-t6" headers="r1c1-t6">
<p><code dir="ltr">UPDATED_TGS_WAIT</code></p>
</td>
<td class="cellalignment4329" headers="r29c1-t6 r1c2-t6">
<p>Yes</p>
</td>
<td class="cellalignment4329" headers="r29c1-t6 r1c3-t6">
<p>Whether the <code dir="ltr">FINISH_PLAN</code> procedure will wait for the trailing group standbys to complete recovery of all upgrade redo before returning control to the user. If set to 1, the wait is performed. If set to 0, the wait is not performed.</p>
</td>
<td class="cellalignment4329" headers="r29c1-t6 r1c4-t6">
<p>1</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwidemax" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74608" class="refsect2"><a id="BCGHFGHE"></a>
<h3 class="refsect2">START_PLAN Procedure</h3>
<p>This procedure starts the rolling operation. This procedure must be executed on the primary database to formally start the rolling operation. When the <code dir="ltr">START_PLAN</code> procedure is complete, the LGM (identified with the <code dir="ltr">future_primary</code> parameter in the <code dir="ltr">INIT_PLAN</code> procedure) will be converted into a fully configured transient logical standby database.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7985"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.START_PLAN ();
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7986"></a>Parameters</p>
<p>This procedure has no parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7987"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45414</code>: could not connect to a remote database</p>
</li>
<li>
<p><code dir="ltr">ORA-45415</code>: instruction execution failure</p>
</li>
<li>
<p><code dir="ltr">ORA-45416</code>: operation cannot start until plan rebuild</p>
</li>
<li>
<p><code dir="ltr">ORA-45417</code>: operation not permitted since current phase was not %s</p>
</li>
<li>
<p><code dir="ltr">ORA-45422</code>: operation requires existing plan</p>
</li>
<li>
<p><code dir="ltr">ORA-45426</code>: managed recovery process was not running</p>
</li>
<li>
<p><code dir="ltr">ORA-45427</code>: logical standby Redo Apply process was not running</p>
</li>
<li>
<p><code dir="ltr">ORA-45428</code>: database was not in expected database role</p>
</li>
<li>
<p><code dir="ltr">ORA-45435</code>: managed recovery process was running</p>
</li>
<li>
<p><code dir="ltr">ORA-45436</code>: logical standby Redo Apply process was running</p>
</li>
<li>
<p><code dir="ltr">ORA-45438</code>: database is not in mounted mode</p>
</li>
<li>
<p><code dir="ltr">ORA-45439</code>: database is not in open read/write mode</p>
</li>
<li>
<p><code dir="ltr">ORA-45486</code>: database update progress is inconsistent</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7988"></a>Usage Notes</p>
<ul>
<li>
<p>A rolling operation plan must have previously been generated through the <code dir="ltr">BUILD_PLAN</code> procedure.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74609" class="refsect2"><a id="BCGCBEAC"></a>
<h3 class="refsect2">SWITCHOVER Procedure</h3>
<p>This procedure performs a switchover between the current primary database (also known as the TGM) and the transient logical standby database (also known as the LGM). At the successful completion of the procedure, the LGM assumes the primary role for the Data Guard configuration.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7989"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.SWITCHOVER (); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7990"></a>Parameters</p>
<p>This procedure has no parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7991"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45414</code>: could not connect to a remote database</p>
</li>
<li>
<p><code dir="ltr">ORA-45415</code>: instruction execution failure</p>
</li>
<li>
<p><code dir="ltr">ORA-45416</code>: operation cannot start until plan rebuild</p>
</li>
<li>
<p><code dir="ltr">ORA-45417</code>: operation not permitted since current phase was not %s</p>
</li>
<li>
<p><code dir="ltr">ORA-45422</code>: operation requires existing plan</p>
</li>
<li>
<p><code dir="ltr">ORA-45426</code>: managed recovery process was not running</p>
</li>
<li>
<p><code dir="ltr">ORA-45427</code>: logical standby Redo Apply process was not running</p>
</li>
<li>
<p><code dir="ltr">ORA-45428</code>: database was not in expected database role</p>
</li>
<li>
<p><code dir="ltr">ORA-45435</code>: managed recovery process was running</p>
</li>
<li>
<p><code dir="ltr">ORA-45436</code>: logical standby Redo Apply process was running</p>
</li>
<li>
<p><code dir="ltr">ORA-45438</code>: database is not in mounted mode</p>
</li>
<li>
<p><code dir="ltr">ORA-45439</code>: database is not in open read/write mode</p>
</li>
<li>
<p><code dir="ltr">ORA-45486</code>: database update progress is inconsistent</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7992"></a>Usage Notes</p>
<ul>
<li>
<p>This procedure can only be called after you have manually upgraded the transient logical standby and opened it on the higher Oracle Database version.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74610" class="refsect2"><a id="BCGHEDJH"></a>
<h3 class="refsect2">FINISH_PLAN Procedure</h3>
<p>This procedure finalizes the rolling operation. It configures the former primary (also known as the TGM) as a physical standby, and configures remaining physical standbys to recover the upgrade redo from the future primary.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7993"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.FINISH_PLAN ();
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7994"></a>Parameters</p>
<p>This procedure has no parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7995"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45414</code>: could not connect to a remote database</p>
</li>
<li>
<p><code dir="ltr">ORA-45415</code>: instruction execution failure</p>
</li>
<li>
<p><code dir="ltr">ORA-45416</code>: operation cannot start until plan rebuild</p>
</li>
<li>
<p><code dir="ltr">ORA-45417</code>: operation not permitted since current phase was not %s</p>
</li>
<li>
<p><code dir="ltr">ORA-45422</code>: operation requires existing plan</p>
</li>
<li>
<p><code dir="ltr">ORA-45426</code>: managed recovery process was not running</p>
</li>
<li>
<p><code dir="ltr">ORA-45427</code>: logical standby Redo Apply process was not running</p>
</li>
<li>
<p><code dir="ltr">ORA-45428</code>: database was not in expected database role</p>
</li>
<li>
<p><code dir="ltr">ORA-45435</code>: managed recovery process was running</p>
</li>
<li>
<p><code dir="ltr">ORA-45436</code>: logical standby Redo Apply process was running</p>
</li>
<li>
<p><code dir="ltr">ORA-45438</code>: database is not in mounted mode</p>
</li>
<li>
<p><code dir="ltr">ORA-45439</code>: database is not in open read/write mode</p>
</li>
<li>
<p><code dir="ltr">ORA-45486</code>: database update progress is inconsistent</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7996"></a>Usage Notes</p>
<ul>
<li>
<p>This procedure can only be called after you have remounted the former primary and remaining physical standbys on the higher Oracle Database version.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74611" class="refsect2"><a id="BCGIGBHH"></a>
<h3 class="refsect2">ROLLBACK_PLAN Procedure</h3>
<p>This procedure rolls back the configuration-wide rolling operation. Once completed, all of the databases in the leading group become physical standbys of the original primary database. This procedure can only be called if the configuration has not yet gone through a switchover operation since the <code dir="ltr">START_PLAN</code> procedure was invoked.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7997"></a>Syntax</p>
<pre dir="ltr">DBMS_ROLLING.ROLLBACK_PLAN;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7998"></a>Parameters</p>
<p>This procedure has no parameters.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7999"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">ORA-45400</code>: operation not permitted on current database</p>
</li>
<li>
<p><code dir="ltr">ORA-45414</code>: could not connect to a remote database</p>
</li>
<li>
<p><code dir="ltr">ORA-45415</code>: instruction execution failure</p>
</li>
<li>
<p><code dir="ltr">ORA-45441</code>: no databases eligible for rollback</p>
</li>
<li>
<p><code dir="ltr">ORA-45442</code>: rollback is not permitted after a role change</p>
</li>
<li>
<p><code dir="ltr">ORA-65040</code>: operation not allowed from within a pluggable database</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref8000"></a>Usage Notes</p>
<ul>
<li>
<p>You must manually restart media recovery on the lower Oracle Database version if the upgrade of the transient logical standby has already been performed.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_rls.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_rowid.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
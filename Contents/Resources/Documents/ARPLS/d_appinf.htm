<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2223"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_APPLICATION_INFO"></a><title>DBMS_APPLICATION_INFO</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:7Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_app_cont.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_apply.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">26/290</span> <!-- End Header -->
<div id="ARPLS003" class="chapter"><a id="CHECEIEB"></a>
<h1 class="chapter"><span class="secnum">22</span> DBMS_APPLICATION_INFO</h1>
<p>Application developers can use the <code dir="ltr"><a id="sthref526"></a>DBMS_APPLICATION_INFO</code> package with Oracle Trace and the SQL trace facility to record names of executing modules or transactions in the database for later use when tracking the performance of various modules and debugging.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHEEFBBD">Using DBMS_APPLICATION_INFO</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i999290">Summary of DBMS_APPLICATION_INFO Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CHEEFBBD"></a>
<div id="ARPLS65225" class="refsect1">
<h2 class="refsect1">Using DBMS_APPLICATION_INFO</h2>
<ul>
<li>
<p><a href="#i999056">Overview</a></p>
</li>
<li>
<p><a href="#i999061">Security Model</a></p>
</li>
<li>
<p><a href="#CHECEHFD">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS65226" class="refsect2"><a id="i999056"></a>
<h3 class="refsect2">Overview</h3>
<p>Registering the application allows system administrators and performance tuning specialists to track performance by module. System administrators can also use this information to track resource use by module. When an application registers with the database, its name and actions are recorded in the <code dir="ltr">V$SESSION</code> and <code dir="ltr">V$SQLAREA</code> views.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65227" class="refsect2"><a id="i999061"></a>
<h3 class="refsect2">Security Model</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
The public synonym for <code dir="ltr">DBMS_APPLICATION_INFO</code> is not dropped before creation so that you can redirect the public synonym to point to your own package.</div>
<p>No further privileges are required. The <code dir="ltr">DBMSAPIN.SQL</code> script is already run as a part of standard database creation.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65228" class="refsect2"><a id="CHECEHFD"></a>
<h3 class="refsect2">Operational Notes</h3>
<p>Your applications should set the name of the module and name of the action automatically each time a user enters that module. The module name could be the name of a form in an Oracle Forms application, or the name of the code segment in an Oracle Precompilers application. The action name should usually be the name or description of the current transaction within a module.</p>
<p>If you want to gather your own statistics based on module, you can implement a wrapper around this package by writing a version of this package in another schema that first gathers statistics and then calls the <code dir="ltr">SYS</code> version of the package. The public synonym for <code dir="ltr">DBMS_APPLICATION_INFO</code> can then be changed to point to the DBA&#39;s version of the package.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i999290"></a>
<div id="ARPLS65229" class="refsect1">
<h2 class="refsect1">Summary of DBMS_APPLICATION_INFO Subprograms</h2>
<div id="ARPLS65230" class="tblformal">
<p class="titleintable"><a id="sthref527"></a><a id="sthref528"></a>Table 22-1 DBMS_APPLICATION_INFO Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_APPLICATION_INFO Package Subprograms" summary="DBMS_APPLICATION_INFO Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#BABCHFIH">READ_CLIENT_INFO Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>Reads the value of the <code dir="ltr">client_info</code> field of the current session</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#i999292">READ_MODULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>Reads the values of the module and action fields of the current session</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#i999254">SET_ACTION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p>Sets the name of the current action within the current module</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#CHEJCFGG">SET_CLIENT_INFO Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>Sets the <code dir="ltr">client_info</code> field of the session</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#i996826">SET_MODULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p>Sets the name of the module that is currently running to a new module</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#i996999">SET_SESSION_LONGOPS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>Sets a row in the <code dir="ltr">V$SESSION_LONGOPS</code> table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS65231" class="refsect2"><a id="BABCHFIH"></a>
<h3 class="refsect2"><a id="sthref529"></a>READ_CLIENT_INFO Procedure</h3>
<p>This procedure reads the value of the <code dir="ltr">client_info</code> field of the current session.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref530"></a>Syntax</p>
<pre dir="ltr">DBMS_APPLICATION_INFO.READ_CLIENT_INFO (
   client_info OUT VARCHAR2); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref531"></a>Parameters</p>
<div id="ARPLS65232" class="tblformal">
<p class="titleintable"><a id="sthref532"></a><a id="sthref533"></a>Table 22-2 <span class="bolditalic">READ_CLIENT_INFO Procedure Parameters</span></p>
<table class="cellalignment4330" title="READ_CLIENT_INFO Procedure Parameters" summary="RAD_CLIENT_INFO parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Parameter</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">client_info</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>Last client information value supplied to the <code dir="ltr">SET_CLIENT_INFO</code> procedure.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65233" class="refsect2"><a id="i999292"></a>
<h3 class="refsect2"><a id="sthref534"></a>READ_MODULE Procedure</h3>
<p>This procedure reads the values of the module and action fields of the current session.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref535"></a>Syntax</p>
<pre dir="ltr">DBMS_APPLICATION_INFO.READ_MODULE ( 
   module_name OUT VARCHAR2, 
   action_name OUT VARCHAR2); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref536"></a>Parameters</p>
<div id="ARPLS65234" class="tblformal">
<p class="titleintable"><a id="sthref537"></a><a id="sthref538"></a>Table 22-3 READ_MODULE Procedure Parameters</p>
<table class="cellalignment4330" title="READ_MODULE Procedure Parameters" summary="READ_MODULE procedure parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Parameter</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">module_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>Last value that the module name was set to by calling <code dir="ltr">SET_MODULE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">action_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>Last value that the action name was set to by calling <code dir="ltr">SET_ACTION</code> or <code dir="ltr">SET_MODULE</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref539"></a>Usage Notes</p>
<p>Module and action names for a registered application can be retrieved by querying <code dir="ltr">V$SQLAREA</code> or by calling the <code dir="ltr">READ_MODULE</code> procedure. Client information can be retrieved by querying the <code dir="ltr">V$SESSION</code> view, or by calling the <a href="#BABCHFIH">READ_CLIENT_INFO Procedure</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref540"></a>Examples</p>
<p>The following sample query illustrates the use of the <code dir="ltr">MODULE</code> and <code dir="ltr">ACTION</code> column of the <code dir="ltr">V$SQLAREA</code>.</p>
<pre dir="ltr">SELECT sql_text, disk_reads, module, action 
FROM v$sqlarea 
WHERE module = &#39;add_employee&#39;; 

SQL_TEXT DISK_READS MODULE ACTION 
------------------- ---------- ------------------ ---------------- 
INSERT INTO emp 1 add_employee insert into emp 
(ename, empno, sal, mgr, job, hiredate, comm, deptno) 
VALUES 
(name, next.emp_seq, manager, title, SYSDATE, commission, department) 

1 row selected.
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65235" class="refsect2"><a id="i999254"></a>
<h3 class="refsect2"><a id="sthref541"></a>SET_ACTION Procedure</h3>
<p>This procedure sets the name of the current action within the current module.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref542"></a>Syntax</p>
<pre dir="ltr">DBMS_APPLICATION_INFO.SET_ACTION (
   action_name IN VARCHAR2); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref543"></a>Parameters</p>
<div id="ARPLS65236" class="tblformal">
<p class="titleintable"><a id="sthref544"></a><a id="sthref545"></a>Table 22-4 SET_ACTION Procedure Parameters</p>
<table class="cellalignment4330" title="SET_ACTION Procedure Parameters" summary="SET_ACTION procedure parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">action_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>The name of the current action within the current module. When the current action terminates, call this procedure with the name of the next action if there is one, or <code dir="ltr">NULL</code> if there is not. Names longer than 32 bytes are truncated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref546"></a>Usage Notes</p>
<p>The action name should be descriptive text about the current action being performed. You should probably set the action name before the start of every transaction.</p>
<p>Set the transaction name to <code dir="ltr">NULL</code> after the transaction completes, so that subsequent transactions are logged correctly. If you do not set the transaction name to <code dir="ltr">NULL</code>, subsequent transactions may be logged with the previous transaction&#39;s name.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref547"></a>Example</p>
<p>The following is an example of a transaction that uses the registration procedure:</p>
<pre dir="ltr">CREATE OR REPLACE PROCEDURE bal_tran (amt IN NUMBER(7,2)) AS 
BEGIN 

-- balance transfer transaction 

   DBMS_APPLICATION_INFO.SET_ACTION(
      action_name =&gt; &#39;transfer from chk to sav&#39;); 
   UPDATE chk SET bal = bal + :amt 
      WHERE acct# = :acct; 
   UPDATE sav SET bal = bal - :amt 
      WHERE acct# = :acct; 
   COMMIT; 
   DBMS_APPLICATION_INFO.SET_ACTION(null); 

END;  
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65237" class="refsect2"><a id="CHEJCFGG"></a>
<h3 class="refsect2"><a id="sthref548"></a>SET_CLIENT_INFO Procedure</h3>
<p>This procedure supplies additional information about the client application.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref549"></a>Syntax</p>
<pre dir="ltr">DBMS_APPLICATION_INFO.SET_CLIENT_INFO (
   client_info IN VARCHAR2); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref550"></a>Parameters</p>
<div id="ARPLS65238" class="tblformal">
<p class="titleintable"><a id="sthref551"></a><a id="sthref552"></a>Table 22-5 SET_CLIENT_INFO Procedure Parameters</p>
<table class="cellalignment4330" title="SET_CLIENT_INFO Procedure Parameters" summary="SET_CLIENT_INFO procedure parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">client_info</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Supplies any additional information about the client application. This information is stored in the <code dir="ltr">V$SESSION</code> view. Information exceeding 64 bytes is truncated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
<code dir="ltr">CLIENT_INFO</code> is readable and writable by any user. For storing secured application attributes, you can use the application context feature.</div>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65239" class="refsect2"><a id="i996826"></a>
<h3 class="refsect2"><a id="sthref553"></a>SET_MODULE Procedure</h3>
<p>This procedure sets the name of the current application or module.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref554"></a>Syntax</p>
<pre dir="ltr">DBMS_APPLICATION_INFO.SET_MODULE ( 
   module_name IN VARCHAR2, 
   action_name IN VARCHAR2); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref555"></a>Parameters</p>
<div id="ARPLS65240" class="tblformal">
<p class="titleintable"><a id="sthref556"></a><a id="sthref557"></a>Table 22-6 SET_MODULE Procedure Parameters</p>
<table class="cellalignment4330" title="SET_MODULE Procedure Parameters" summary="SET_MODULE procedure parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">module_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Name of module that is currently running. When the current module terminates, call this procedure with the name of the new module if there is one, or <code dir="ltr">NULL</code> if there is not. Names longer than 48 bytes are truncated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">action_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>Name of current action within the current module. If you do not want to specify an action, this value should be <code dir="ltr">NULL</code>. Names longer than 32 bytes are truncated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref558"></a>Usage Notes</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref559"></a>Example</p>
<pre dir="ltr">CREATE or replace PROCEDURE add_employee( 
  name VARCHAR2, 
  salary NUMBER, 
  manager NUMBER, 
  title VARCHAR2, 
  commission NUMBER, 
  department NUMBER) AS 
BEGIN 
  DBMS_APPLICATION_INFO.SET_MODULE( 
    module_name =&gt; &#39;add_employee&#39;, 
    action_name =&gt; &#39;insert into emp&#39;); 
  INSERT INTO emp 
    (ename, empno, sal, mgr, job, hiredate, comm, deptno) 
    VALUES (name, emp_seq.nextval, salary, manager, title, SYSDATE, 
            commission, department); 
  DBMS_APPLICATION_INFO.SET_MODULE(null,null); 
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65241" class="refsect2"><a id="i996999"></a>
<h3 class="refsect2"><a id="sthref560"></a>SET_SESSION_LONGOPS Procedure</h3>
<p>This procedure sets a row in the <code dir="ltr">V$SESSION_LONGOPS</code> view. This is a view that is used to indicate the on-going progress of a long running operation. Some Oracle functions, such as parallel execution and Server Managed Recovery, use rows in this view to indicate the status of, for example, a database backup.</p>
<p>Applications may use the <code dir="ltr">SET_SESSION_LONGOPS</code> procedure to advertise information on the progress of application specific long running tasks so that the progress can be monitored by way of the <code dir="ltr">V$SESSION_LONGOPS</code> view.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref561"></a>Syntax</p>
<pre dir="ltr">DBMS_APPLICATION_INFO.SET_SESSION_LONGOPS (
   rindex      IN OUT BINARY_INTEGER,
   slno        IN OUT BINARY_INTEGER,
   op_name     IN     VARCHAR2       DEFAULT NULL,
   target      IN     BINARY_INTEGER DEFAULT 0,
   context     IN     BINARY_INTEGER DEFAULT 0,
   sofar       IN     NUMBER         DEFAULT 0,
   totalwork   IN     NUMBER         DEFAULT 0,
   target_desc IN     VARCHAR2       DEFAULT &#39;unknown target&#39;,
   units       IN     VARCHAR2       DEFAULT NULL)  

set_session_longops_nohint constant BINARY_INTEGER := -1;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref562"></a>Parameters</p>
<div id="ARPLS65242" class="tblformal">
<p class="titleintable"><a id="sthref563"></a><a id="sthref564"></a>Table 22-7 SET_SESSION_LONGOPS Procedure Parameters</p>
<table class="cellalignment4330" title="SET_SESSION_LONGOPS Procedure Parameters" summary="SET_SESSION_LONGOPS procedure parameters" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">rindex</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>A token which represents the <code dir="ltr">v$session_longops</code> row to update. Set this to <code dir="ltr">set_session_longops_nohint</code> to start a new row. Use the returned value from the prior call to reuse a row.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">slno</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Saves information across calls to <code dir="ltr">set_session_longops</code>: It is for internal use and should not be modified by the caller.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10">
<p><code dir="ltr">op_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">
<p>Specifies the name of the long running task. It appears as the <code dir="ltr">OPNAME</code> column of <code dir="ltr">v$session_longops</code>. The maximum length is 64 bytes.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t10" headers="r1c1-t10">
<p><code dir="ltr">target</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t10 r1c2-t10">
<p>Specifies the object that is being worked on during the long running operation. For example, it could be a table ID that is being sorted. It appears as the <code dir="ltr">TARGET</code> column of <code dir="ltr">v$session_longops</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t10" headers="r1c1-t10">
<p><code dir="ltr">context</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t10 r1c2-t10">
<p>Any number the client wants to store. It appears in the <code dir="ltr">CONTEXT</code> column of <code dir="ltr">v$session_longops</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t10" headers="r1c1-t10">
<p><code dir="ltr">sofar</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t10 r1c2-t10">
<p>Any number the client wants to store. It appears in the <code dir="ltr">SOFAR</code> column of <code dir="ltr">v$session_longops</code>. This is typically the amount of work which has been done so far.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t10" headers="r1c1-t10">
<p><code dir="ltr">totalwork</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t10 r1c2-t10">
<p>Any number the client wants to store. It appears in the <code dir="ltr">TOTALWORK</code> column of <code dir="ltr">v$session_longops</code>. This is typically an estimate of the total amount of work needed to be done in this long running operation.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t10" headers="r1c1-t10">
<p><code dir="ltr">target_desc</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t10 r1c2-t10">
<p>Specifies the description of the object being manipulated in this long operation. This provides a caption for the <code dir="ltr">target</code> parameter. This value appears in the <code dir="ltr">TARGET_DESC</code> field of <code dir="ltr">v$session_longops</code>. The maximum length is 32 bytes.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t10" headers="r1c1-t10">
<p><code dir="ltr">units</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t10 r1c2-t10">
<p>Specifies the units in which <code dir="ltr">sofar</code> and <code dir="ltr">totalwork</code> are being represented. It appears as the <code dir="ltr">UNITS</code> field of <code dir="ltr">v$session_longops</code>. The maximum length is 32 bytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref565"></a>Example</p>
<p>This example performs a task on 10 objects in a loop. As the example completes each object, Oracle updates <code dir="ltr">V$SESSION_LONGOPS</code> on the procedure&#39;s progress.</p>
<pre dir="ltr">DECLARE
        rindex    BINARY_INTEGER;
        slno      BINARY_INTEGER;
        totalwork number;
        sofar     number;
        obj       BINARY_INTEGER;
 
      BEGIN
        rindex := dbms_application_info.set_session_longops_nohint;
        sofar := 0;
        totalwork := 10;
 
        WHILE sofar &lt; 10 LOOP
          -- update obj based on sofar
          -- perform task on object target
 
          sofar := sofar + 1;
          dbms_application_info.set_session_longops(rindex, slno,
            &#34;Operation X&#34;, obj, 0, sofar, totalwork, &#34;table&#34;, &#34;tables&#34;);
        END LOOP;
      END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_app_cont.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_apply.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
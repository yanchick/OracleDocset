<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2407"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DEBUG_EXTPROC"></a><title>DEBUG_EXTPROC</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:37:5Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_xstrm_auth.htm" title="Previous" type="text/html"/>
<link rel="Next" href="w_htf.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">210/290</span> <!-- End Header -->
<div id="ARPLS067" class="chapter"><a id="sthref16446"></a>
<h1 class="chapter"><span class="secnum">206</span> DEBUG_EXTPROC</h1>
<p>The <a id="sthref16447"></a><code dir="ltr">DEBUG_EXTPROC</code> package enables you to start up the extproc agent within a session. This utility package can help you debug external procedures.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BHABHHAD">Using DEBUG_EXTPROC</a></p>
<ul>
<li>
<p>Security Model</p>
</li>
<li>
<p>Operational Notes</p>
</li>
<li>
<p>Rules and Limits</p>
</li>
</ul>
</li>
<li>
<p><a href="#i997853">Summary of DEBUG_EXTPROC Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BHABHHAD"></a>
<div id="ARPLS70206" class="refsect1">
<h2 class="refsect1">Using DEBUG_EXTPROC</h2>
<ul>
<li>
<p><a href="#i997655">Security Model</a></p>
</li>
<li>
<p><a href="#i997687">Operational Notes</a></p>
</li>
<li>
<p><a href="#i997688">Rules and Limits</a></p>
</li>
</ul>
<div id="ARPLS70207" class="refsect2"><a id="i997655"></a>
<h3 class="refsect2">Security Model</h3>
<p>Your Oracle account must have <code dir="ltr">EXECUTE</code> privileges on the package and <code dir="ltr">CREATE LIBRARY</code> privileges.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS70208" class="refsect2"><a id="i997687"></a>
<h3 class="refsect2">Operational Notes</h3>
<p>To install the package, run the script <code dir="ltr">DBGEXTP</code>.<code dir="ltr">SQL</code>.</p>
<ul>
<li>
<p>Install/load this package in the Oracle USER where you want to debug the &#39;extproc&#39; process.</p>
</li>
<li>
<p>Ensure that you have execute privileges on package <code dir="ltr">DEBUG_EXTPROC</code></p>
</li>
</ul>
<pre dir="ltr">    SELECT SUBSTR(OBJECT_NAME, 1, 20) 
    FROM USER_OBJECTS 
    WHERE OBJECT_NAME = &#39;DEBUG_EXTPROC&#39;;
</pre>
<ul>
<li>
<p>You can install this package as any other user, as long as you have <code dir="ltr">EXECUTE</code> privileges on the package.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
These notes assumes that you built your shared library with debug symbols to aid in the debugging process. Please check the C compiler manual pages for the appropriate C compiler switches to build the shared library with debug symbols.</div>
</li>
</ul>
<p>Having installed the package, proceed accordingly:</p>
<ul>
<li>
<p>Start a new Oracle session through SQL*Plus or OCI program by connecting to <code dir="ltr">ORACLE</code>.</p>
</li>
<li>
<p>Execute procedure <code dir="ltr">DEBUG_EXTPROC</code>.<code dir="ltr">STARTUP_EXTPROC_AGENT</code> to startup the extproc agent in this session; for example, execute <code dir="ltr">DEBUG_EXTPROC</code>.<code dir="ltr">STARTUP_EXTPROC_AGENT</code>; Do not exit this session, because that terminates the extproc agent.</p>
</li>
<li>
<p>Determine the PID of the extproc agent that was started up for this session.</p>
</li>
<li>
<p>Using a debugger (for example, gdb, dbx, or the native system debugger), load the extproc executable and attach to the running process.</p>
</li>
<li>
<p>Set a breakpoint on function &#39;pextproc&#39; and let the debugger continue with its execution.</p>
</li>
<li>
<p>Now execute your external procedure in the same session where you first executed <code dir="ltr">DEBUG_EXTPROC</code>.<code dir="ltr">STARTUP_EXTPROC_AGENT</code></p>
</li>
<li>
<p>Your debugger should now break in function &#39;pextproc&#39;. At this point in time, the shared library referenced by your PL/SQL external function would have been loaded and the function resolved. Now set a breakpoint in your C function and let the debugger continue its execution.</p>
</li>
</ul>
<p>Because PL/SQL loads the shared library at runtime, the debugger you use may or may not automatically be able to track the new symbols from the shared library. You may have to issue some debugger command to load the symbols (for example, &#39;share&#39; in gdb)</p>
<ul>
<li>
<p>The debugger should now break in your C function. Its assumed that you had built the shared library with debugging symbols.</p>
</li>
<li>
<p>Now proceed with your debugging.</p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS70209" class="refsect2"><a id="i997688"></a>
<h3 class="refsect2">Rules and Limits</h3>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
<code dir="ltr">DEBUG_EXTPROC</code> works only on platforms with debuggers that can attach to a running process.</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i997853"></a>
<div id="ARPLS70210" class="refsect1">
<h2 class="refsect1">Summary of DEBUG_EXTPROC Subprograms</h2>
<div id="ARPLS70211" class="tblformal">
<p class="titleintable"><a id="sthref16448"></a><a id="sthref16449"></a>Table 206-1 DEBUG_EXTPROC Package Subprograms</p>
<table class="cellalignment4330" title=" DEBUG_EXTPROC Package Subprograms " summary="This table lists the DEBUG_EXTPROC subprogram and briefly describes it," dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><a href="#i996784">STARTUP_EXTPROC_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>Starts up the extproc agent process in the session</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS70212" class="refsect2"><a id="i996784"></a>
<h3 class="refsect2"><a id="sthref16450"></a>STARTUP_EXTPROC_AGENT Procedure</h3>
<p>This procedure starts up the extproc agent process in the session.This enables you to get the PID of the executing process. This PID is needed to be able to attach to the running process using a debugger.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref16451"></a>Syntax</p>
<pre dir="ltr">DEBUG_EXTPROC.STARTUP_EXTPROC_AGENT;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_xstrm_auth.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="w_htf.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2398"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_XMLSCHEMA"></a><title>DBMS_XMLSCHEMA</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:37:2Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_xmlsav.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_xmlschema_annotate.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">201/290</span> <!-- End Header -->
<div id="ARPLS377" class="chapter"><a id="CBHJBEIA"></a> <a id="i1008494"></a>
<h1 class="chapter"><span class="secnum">197</span> <a id="sthref15604"></a><a id="sthref15605"></a>DBMS_XMLSCHEMA</h1>
<p><code dir="ltr">DBMS_XMLSCHEMA</code> package provides procedures to manage XML schemas. It is created by script <code dir="ltr">dbmsxsch.sql</code> during Oracle database installation.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADXDB" href="../ADXDB/toc.htm"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CBHDGBBH">Using DBMS_XMLSCHEMA</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Deprecated Subprograms</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
<li>
<p>Views</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i1009918">Summary of DBMS_XMLSCHEMA Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CBHDGBBH"></a>
<div id="ARPLS70044" class="refsect1">
<h2 class="refsect1"><a id="sthref15606"></a>Using DBMS_XMLSCHEMA</h2>
<p>This section contains topics which relate to using the <code dir="ltr">DBMS_XMLSCHEMA</code> package.</p>
<ul>
<li>
<p><a href="#CHDJHFAG">Overview</a></p>
</li>
<li>
<p><a href="#CHDHGFBF">Deprecated Subprograms</a></p>
</li>
<li>
<p><a href="#CHDICCCA">Security Model</a></p>
</li>
<li>
<p><a href="#CHDJJBEB">Constants</a></p>
</li>
<li>
<p><a href="#CHDJABJC">Views</a></p>
</li>
<li>
<p><a href="#CHDBCDAE">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS70045" class="refsect2"><a id="CHDJHFAG"></a>
<h3 class="refsect2">Overview</h3>
<p>This package provides subprograms to</p>
<ul>
<li>
<p>Register an XML schema</p>
</li>
<li>
<p>Delete a previously registered XML schema</p>
</li>
<li>
<p>Re-compile a previously registered XML schema</p>
</li>
<li>
<p>Generate an XML schema</p>
</li>
<li>
<p>Evolves an XML schema</p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74740" class="refsect2"><a id="CHDHGFBF"></a>
<h3 class="refsect2">Deprecated Subprograms</h3>
<p>Oracle recommends that you do not use deprecated subprograms in new applications. Support for deprecated features is for backward compatibility only</p>
<p>The following subprograms are deprecated with release Oracle Database 12<span class="italic">c</span>:</p>
<ul>
<li>
<p><a href="#i1009760">GENERATESCHEMA Function</a></p>
</li>
<li>
<p><a href="#i1007548">GENERATESCHEMAS Function</a></p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74020" class="refsect2"><a id="CHDICCCA"></a>
<h3 class="refsect2">Security Model</h3>
<p>Owned by <code dir="ltr">XDB</code>, the <code dir="ltr">DBMS_XMLSCHEMA</code> package must be created by <code dir="ltr">SYS</code> or <code dir="ltr">XDB</code>. The <code dir="ltr">EXECUTE</code> privilege is granted to <code dir="ltr">PUBLIC</code>. Subprograms in this package are executed using the privileges of the current user.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS70046" class="refsect2"><a id="CHDJJBEB"></a>
<h3 class="refsect2"><a id="sthref15607"></a>Constants</h3>
<p>The <code dir="ltr">DBMS_XMLSCHEMA</code> package uses the constants shown in following tables.</p>
<ul>
<li>
<p><a href="#CHDEHIIF"><span class="bolditalic">DBMS_XMLSCHEMA Constants</span> - Delete Option</a></p>
</li>
<li>
<p><a href="#CHDIAGJC"><span class="bolditalic">DBMS_XMLSCHEMA Constants</span> - Enable Hierarchy</a></p>
</li>
<li>
<p><a href="#CHDGIBBD"><span class="bolditalic">DBMS_XMLSCHEMA Constants</span> - Register CSID</a></p>
</li>
</ul>
<div id="ARPLS70047" class="tblformal">
<p class="titleintable"><a id="sthref15608"></a><a id="CHDEHIIF"></a>Table 197-1 <span class="bolditalic">DBMS_XMLSCHEMA Constants</span> - Delete Option</p>
<table class="cellalignment4330" title="DBMS_XMLSCHEMA Constants - Delete Option" summary="This table describes delete option related constants used by DBMS_XMLSCHEMA subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Constant</th>
<th class="cellalignment4328" id="r1c2-t3">Type</th>
<th class="cellalignment4328" id="r1c3-t3">Value</th>
<th class="cellalignment4328" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">DELETE_RESTRICT</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c3-t3">
<p><code dir="ltr">1</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c4-t3">
<p>Deletion of an XML schema fails if there are any tables or XML schemas that depend on it</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">DELETE_INVALIDATE</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c3-t3">
<p><code dir="ltr">2</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c4-t3">
<p>Deletion of an XML schema does not fail if there are tables or XML schemas that depend on it. All dependent tables and schemas are invalidated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr">DELETE_CASCADE</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c3-t3">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c4-t3">
<p>Deletion of an XML schema also drops all SQL types and default tables associated with it. SQL types are dropped only if <code dir="ltr">gentypes</code> argument was set to <code dir="ltr">TRUE</code> during registration of the XML schema. However, deletion of the XML schema fails if there are any instance documents conforming to the schema or any dependent XML schemas.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><code dir="ltr">DELETE_CASCADE_FORCE</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c3-t3">
<p><code dir="ltr">4</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c4-t3">
<p>This option is similar to <code dir="ltr">DELETE_CASCADE</code> except that it does not check for any stored instance documents conforming to the schema or any dependent XML schemas. Also, it ignores any errors.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS70048" class="tblformal">
<p class="titleintable"><a id="sthref15609"></a><a id="CHDIAGJC"></a>Table 197-2 <span class="bolditalic">DBMS_XMLSCHEMA Constants</span> - Enable Hierarchy</p>
<table class="cellalignment4330" title="DBMS_XMLSCHEMA Constants - Enable Hierarchy" summary="This table describes enable hierarchy related constants used by DBMS_XMLSCHEMA subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Constant</th>
<th class="cellalignment4328" id="r1c2-t4">Type</th>
<th class="cellalignment4328" id="r1c3-t4">Value</th>
<th class="cellalignment4328" id="r1c4-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">ENABLE_HIERARCHY_NONE</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c3-t4">
<p><code dir="ltr">1</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c4-t4">
<p>The <code dir="ltr">ENABLE_HIERARCHY</code> procedure of the <code dir="ltr">DBMS_XDBZ</code> package will not be called on any tables created while registering that schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">ENABLE_HIERARCHY_CONTENTS</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c3-t4">
<p><code dir="ltr">2</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c4-t4">
<p>The <code dir="ltr">ENABLE_HIERARCHY</code> procedure of the <code dir="ltr">DBMS_XDBZ</code> package will be called for all tables created during schema registration with <code dir="ltr">hierarchy_type</code> as <code dir="ltr">DBMS_XDBZ</code>.<code dir="ltr">ENABLE_CONTENTS</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">ENABLE_HIERARCHY_RESMETADATA</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c3-t4">
<p><code dir="ltr">3</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c4-t4">
<p>The <code dir="ltr">ENABLE_HIERARCHY</code> procedure of the <code dir="ltr">DBMS_XDBZ</code> package will be called on all tables created during schema registration with <code dir="ltr">hierarchy_type</code> as <code dir="ltr">DBMS_XDBZ</code>.<code dir="ltr">ENABLE_RESMETADATA</code>. Users should pass in <code dir="ltr">DBMS_XMLSCHEMA</code>.<code dir="ltr">ENABLE_RESMETADATA</code> for schemas they intend to use as resource metadata tables.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS70049" class="tblformal">
<p class="titleintable"><a id="sthref15610"></a><a id="CHDGIBBD"></a>Table 197-3 <span class="bolditalic">DBMS_XMLSCHEMA Constants</span> - Register CSID</p>
<table class="cellalignment4330" title="DBMS_XMLSCHEMA Constants - Register CSID" summary="This table describes register csid related constants used by DBMS_XMLSCHEMA subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Constant</th>
<th class="cellalignment4328" id="r1c2-t5">Type</th>
<th class="cellalignment4328" id="r1c3-t5">Value</th>
<th class="cellalignment4328" id="r1c4-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">REGISTER_NODOCID</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c3-t5">
<p><code dir="ltr">1</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c4-t5">
<p>If a schema is registered for metadata use (using the value <code dir="ltr">ENABLE_HIER_RESMETADATA</code> for parameter <code dir="ltr">enablehierarchy</code> during registration), a column named <code dir="ltr">DOCID</code> is added to all tables created during schema registration. This constant can be used in the options argument of <code dir="ltr">REGISTERSCHEMA</code> to prevent the creation of this column if the user wishes to optimize on storage</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">REGISTER_CSID_NULL</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c3-t5">
<p><code dir="ltr">-1</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c4-t5">
<p>If user wishes to not specify the character set of the input schema document when invoking <code dir="ltr">REGISTERSCHEMA</code>, this value can be used for the csid parameter</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70050" class="refsect2"><a id="CHDJABJC"></a>
<h3 class="refsect2"><a id="sthref15611"></a>Views</h3>
<p>The <code dir="ltr">DBMS_XMLSCHEMA</code> package uses the views shown in <a href="#CHDCADGJ">Table 197-4</a>. The columns of these views are described in detail in the <a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference.</span></a></p>
<div id="ARPLS70051" class="tblformal">
<p class="titleintable"><a id="sthref15612"></a><a id="CHDCADGJ"></a>Table 197-4 Summary of Views used by DBMS_XMLSCHEMA</p>
<table class="cellalignment4330" title="Summary of Views used by DBMS_XMLSCHEMA" summary="This table lists the Catalog Views of DBMS_XMLSCHEMA subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Schema</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN26307" href="../REFRN/GUID-34284940-2D50-4970-928F-D9392BA788EF.htm#REFRN26307"><code dir="ltr">USER_XML_SCHEMAS</code></a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>All registered XML Schemas owned by the user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN20307" href="../REFRN/GUID-511F0692-A989-433A-AA8D-643068A97F65.htm#REFRN20307"><code dir="ltr">ALL_XML_SCHEMAS</code></a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>All registered XML Schemas usable by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN23307" href="../REFRN/GUID-7A08C13C-DA8F-4D50-AABA-34FD16612203.htm#REFRN23307"><code dir="ltr">DBA_XML_SCHEMAS</code></a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>All registered XML Schemas in the database</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN23309" href="../REFRN/GUID-650E64E0-7EEA-4790-85BA-69ED95D310FA.htm#REFRN23309"><code dir="ltr">DBA_XML_TABLES</code></a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> tables in the system</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN26309" href="../REFRN/GUID-5E64009C-A625-4103-9B40-89FA6451FC35.htm#REFRN26309"><code dir="ltr">USER_XML_TABLES</code></a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> tables owned by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN20309" href="../REFRN/GUID-978ADE26-E9DE-4C77-9452-7D08AC61F2ED.htm#REFRN20309"><code dir="ltr">ALL_XML_TABLES</code></a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> tables usable by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN23308" href="../REFRN/GUID-99EB898B-18BB-4D15-9683-133C353B3759.htm#REFRN23308"><code dir="ltr">DBA_XML_TAB_COLS</code></a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> table columns in the system</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN26308" href="../REFRN/GUID-D59A0290-B417-40B6-A4EB-E01FC3A40AC4.htm#REFRN26308"><code dir="ltr">USER_XML_TAB_COLS</code></a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> table columns in tables owned by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN20308" href="../REFRN/GUID-315681BC-0826-4FDD-9A04-FFCB3D47DE40.htm#REFRN20308"><code dir="ltr">ALL_XML_TAB_COLS</code></a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> table columns in tables usable by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN23311" href="../REFRN/GUID-37221F66-ABB4-48AD-AB8A-6BF7BE86102E.htm#REFRN23311"><code dir="ltr">DBA_XML_VIEWS</code></a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> views in the system</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN26311" href="../REFRN/GUID-2D8A29EB-2B69-46BC-B357-4EB91B8F749C.htm#REFRN26311"><code dir="ltr">USER_XML_VIEWS</code></a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMlType</code> views owned by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN20311" href="../REFRN/GUID-15157269-8871-464C-B20C-3AF8CB696EC8.htm#REFRN20311"><code dir="ltr">ALL_XML_VIEWS</code></a></p>
</td>
<td class="cellalignment4329" headers="r13c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> views usable by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN23310" href="../REFRN/GUID-2826A0B1-1013-4F24-9F2A-D51D810CA5F5.htm#REFRN23310"><code dir="ltr">DBA_XML_VIEW_COLS</code></a></p>
</td>
<td class="cellalignment4329" headers="r14c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> view columns in the system</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN26310" href="../REFRN/GUID-E1BB553F-5DC4-4ABB-A966-8DC7FB45C0E9.htm#REFRN26310"><code dir="ltr">USER_XML_VIEW_COLS</code></a></p>
</td>
<td class="cellalignment4329" headers="r15c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> view columns in views owned by the current user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t6" headers="r1c1-t6">
<p><a class="olink REFRN20310" href="../REFRN/GUID-6D859228-1DF8-40FA-96C9-ABEC61F5FB2D.htm#REFRN20310"><code dir="ltr">ALL_XML_VIEW_COLS</code></a></p>
</td>
<td class="cellalignment4329" headers="r16c1-t6 r1c2-t6">
<p>All <code dir="ltr">XMLType</code> view columns in views usable by the current user</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70052" class="refsect2"><a id="CHDBCDAE"></a>
<h3 class="refsect2"><a id="sthref15613"></a>Operational Notes</h3>
<p class="subhead2"><a id="ARPLS70053"></a>Guidelines for Using In-Place XML Schema Evolution</p>
<p>Before you perform an in-place XML-schema evolution, you should follow these preparatory steps:</p>
<ol>
<li>
<p>Back up all existing data (instance documents) for the XML schema that will be evolved.</p>
</li>
<li>
<p>Perform a dry run using trace only, that is, without actually evolving the XML schema or updating any instance documents, to produce a trace of the update operations that would be performed during evolution. To do this, set the flag parameter value to only <code dir="ltr">INPLACE_TRACE</code>. Do not also use <code dir="ltr">INPLACE_EVOLVE</code>. After performing the dry run, examine the trace file, verifying that the listed DDL operations are in fact those that you intend.</p>
</li>
</ol>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1009918"></a>
<div id="ARPLS70054" class="refsect1">
<h2 class="refsect1"><a id="sthref15614"></a>Summary of DBMS_XMLSCHEMA Subprograms</h2>
<div id="ARPLS70055" class="tblformal">
<p class="titleintable"><a id="sthref15615"></a><a id="sthref15616"></a>Table 197-5 DBMS_XMLSCHEMA Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_XMLSCHEMA Package Subprograms" summary="This table lists the DBMS_XMLSCHEMA subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Method</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><a href="#BABDFDJF">COMPILESCHEMA Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Used to re-compile an already registered XML schema. This is useful for bringing a schema in an invalid state to a valid state.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><a href="#i1008264">COPYEVOLVE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>Evolves registered schemas so that existing XML instances remain valid</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><a href="#i1007471">DELETESCHEMA Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>Removes the schema from the database</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t7" headers="r1c1-t7">
<p><a href="#i1009760">GENERATESCHEMA Function</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t7 r1c2-t7">
<p>Generates an XML schema from an oracle type name</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t7" headers="r1c1-t7">
<p><a href="#i1007548">GENERATESCHEMAS Function</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t7 r1c2-t7">
<p>Generates several XML schemas from an oracle type name</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t7" headers="r1c1-t7">
<p><a href="#BABEJBJE">INPLACEEVOLVE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t7 r1c2-t7">
<p>Evolves registered schemas by propagating schema changes to object types and tables</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t7" headers="r1c1-t7">
<p><a href="#BABEGJDD">PURGESCHEMA Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t7 r1c2-t7">
<p>Removes the XML schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t7" headers="r1c1-t7">
<p><a href="#i1003177">REGISTERSCHEMA Procedures</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t7 r1c2-t7">
<p>Registers the specified schema for use by Oracle. This schema can then be used to store documents conforming to this.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t7" headers="r1c1-t7">
<p><a href="#i1003294">REGISTERURI Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t7 r1c2-t7">
<p>Registers an XML schema specified by a URI name</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS70056" class="refsect2"><a id="BABDFDJF"></a>
<h3 class="refsect2"><a id="sthref15617"></a>COMPILESCHEMA Procedure</h3>
<p>This procedure can be used to re-compile an already registered XML schema. This is useful for bringing a schema in an invalid state to a valid state. Can result in a <code dir="ltr">ORA-31001</code> exception: invalid resource handle or path name.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15618"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.COMPILESCHEMA(
   schemaurl IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15619"></a>Parameters</p>
<div id="ARPLS70057" class="tblformal">
<p class="titleintable"><a id="sthref15620"></a><a id="sthref15621"></a>Table 197-6 COMPILESCHEMA Procedure Parameters</p>
<table class="cellalignment4330" title="COMPILESCHEMA Procedure Parameters" summary="This table describes the Parameters of the DBMS_XMLSCHEMA.COMPILESCHEMA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">schemaurl</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>URL identifying the schema</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70058" class="refsect2"><a id="i1008264"></a>
<h3 class="refsect2"><a id="sthref15622"></a>COPYEVOLVE Procedure</h3>
<p>This procedure evolves registered schemas so that existing XML instances remain valid.</p>
<p>This procedure is accomplished in according to the following basic scenario (alternative actions are controlled by the procedure&#39;s parameters):</p>
<ul>
<li>
<p>copies data in schema based <code dir="ltr">XMLType</code> tables to temporary table storage</p>
</li>
<li>
<p>drops old tables</p>
</li>
<li>
<p>deletes old schemas</p>
</li>
<li>
<p>registers new schemas</p>
</li>
<li>
<p>creates new <code dir="ltr">XMLType</code> tables</p>
</li>
<li>
<p>Populates new tables with data in temporary storage; auxiliary structures (constraints, triggers, indexes, and others) are not preserved</p>
</li>
<li>
<p>drops temporary tables</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>&#34;Schema Evolution&#34; chapter of the <a class="olink ADXDB0800" href="../ADXDB/xdb07evo.htm#ADXDB0800"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a> for examples on how to evolve existing schemas</p>
</li>
<li>
<p><a class="olink ERRMG" href="../ERRMG/toc.htm"><span class="italic">Oracle Database Error Messages</span></a> for information on exceptions specific to schema evolution, ORA-30142 through ORA-30946.</p>
</li>
</ul>
</div>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15623"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.COPYEVOLVE(
   schemaurls       IN  XDB$STRUBG_LIST_T,
   newschemas       IN  XMLSequenceType,
   transforms       IN  XMLSequenceType :=NULL,
   preserveolddocs  IN  BOOLEAN :=FALSE,
   maptablename     IN  VARCHAR2 :=NULL,
   generatetables   IN  BOOLEAN :=TRUE,
   force            IN  BOOLEAN :=FALSE,
   schemaowners     IN  XDB$STRING_LIST_T :=NULL
   parallelDegree   IN  PLS_INTEGER := 0,
   options          IN  PLS_INTEGER := 0);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15624"></a>Parameters</p>
<div id="ARPLS70059" class="tblformal">
<p class="titleintable"><a id="sthref15625"></a><a id="sthref15626"></a>Table 197-7 COPYEVOLVE Procedure Parameters</p>
<table class="cellalignment4330" title="COPYEVOLVE Procedure Parameters" summary="This table describes parameters of the DBMS_XMLSCHEMA.COPYEVOLVE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">schemaurls</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p><code dir="ltr">VARRAY</code> of URLs of all schemas to be evolved. Should include the dependent schemas. Unless the <code dir="ltr">FORCE</code> parameter is <code dir="ltr">TRUE</code>, URLs should be in the order of dependency.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">newschemas</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p><code dir="ltr">VARRAY</code> of new schema documents. Should be specified in same order as the corresponding URLs.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10">
<p><code dir="ltr">transforms</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">
<p><code dir="ltr">VARRAY</code> of transforming XSL documents to be applied to schema-based documents. Should be specified in same order as the corresponding URLs. Optional if no transformations are required.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t10" headers="r1c1-t10">
<p><code dir="ltr">preserveolddocs</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t10 r1c2-t10">
<p>Default is <code dir="ltr">FALSE</code>, and temporary tables with old data are dropped. If <code dir="ltr">TRUE</code>, these table are still available after schema evolution is complete.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t10" headers="r1c1-t10">
<p><code dir="ltr">maptabname</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t10 r1c2-t10">
<p>Specifies the name of the table mapping permanent to temporary tables during the evolution process. Valid columns are:</p>
<ul>
<li>
<p><code dir="ltr">SCHEMA_URL</code> - <code dir="ltr">VARCHAR2(700)</code> - URL of schema to which this table conforms</p>
</li>
<li>
<p><code dir="ltr">SCHEMA_OWNER</code> -<code dir="ltr">VARCHAR2(30)</code> - Owner of the schema</p>
</li>
<li>
<p><code dir="ltr">ELEMENT_NAME</code> - <code dir="ltr">VARCHAR2(256)</code>- Element to which this table conforms</p>
</li>
<li>
<p><code dir="ltr">TAB_NAME</code> - <code dir="ltr">VARCHAR2(65)</code> - Qualified table name: <code dir="ltr"><span class="codeinlineitalic">&lt;owner_name&gt;.&lt;table_name&gt;</span></code></p>
</li>
<li>
<p><code dir="ltr">COL_NAME</code> - <code dir="ltr">VARCHAR2(4000)</code> - Name of the column (<code dir="ltr">NULL</code> for <code dir="ltr">XMLType</code> tables)</p>
</li>
<li>
<p><code dir="ltr">TEMP_TABNAME</code> - <code dir="ltr">VARCHAR2(30)</code> - Name of temporary tables which holds data for this table.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t10" headers="r1c1-t10">
<p><code dir="ltr">generatetables</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t10 r1c2-t10">
<p>Default is <code dir="ltr">TRUE</code>, and new tables will be generated.</p>
<p>If <code dir="ltr">FALSE</code>:</p>
<ul>
<li>
<p>new tables will not be generated after registration of new schemas</p>
</li>
<li>
<p><code dir="ltr">preserveolddocs</code> must be <code dir="ltr">TRUE</code></p>
</li>
<li>
<p><code dir="ltr">maptablename</code> must be non-<code dir="ltr">NULL</code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t10" headers="r1c1-t10">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t10 r1c2-t10">
<p>Default is <code dir="ltr">FALSE</code>.</p>
<p>If <code dir="ltr">TRUE</code>, ignores errors generated during schema evolution. Used when there are circular dependencies among schemas to ensure that all schemas are stored despite possible errors in registration.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t10" headers="r1c1-t10">
<p><code dir="ltr">schemaowners</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t10 r1c2-t10">
<p><code dir="ltr">VARRAY</code> of names of schema owners. Should be specified in same order as the corresponding URLs. Default is NULL, assuming that all schemas are owned by the current user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t10" headers="r1c1-t10">
<p><code dir="ltr">paralleldegree</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t10 r1c2-t10">
<p>Specifies the degree of parallelism to be used in a <code dir="ltr">PARALLEL</code> hint during the data copy stage of the evolution. If this is 0 (default), the <code dir="ltr">PARALLEL</code> hint will not be given in the data copy statements.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t10" headers="r1c1-t10">
<p><code dir="ltr">options</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t10 r1c2-t10">
<p>Currently, the only supported option is <code dir="ltr">COPYEVOLVE_BINARY_XML</code> which lets you register the new schemas for binary XML and create the new tables/columns with binary XML as the storage type.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15627"></a>Usage Notes</p>
<p>You should back up all schemas and documents prior to invocation because <a href="#i1008264">COPYEVOLVE Procedure</a> deletes all conforming documents prior to implementing the schema evolution.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70060" class="refsect2"><a id="i1007471"></a>
<h3 class="refsect2"><a id="sthref15628"></a>DELETESCHEMA Procedure</h3>
<p>This procedure deletes the XML Schema specified by the URL.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15629"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.DELETESCHEMA(
   schemaurl      IN  VARCHAR2,
   delete_option  IN  PLS_INTEGER := DELETE_RESTRICT);
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;XMLSCHEMA Storage and Query: Basic&#34; chapter of the <a class="olink ADXDB0600" href="../ADXDB/xdb05sto.htm#ADXDB0600"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15630"></a>Parameters</p>
<div id="ARPLS70061" class="tblformal">
<p class="titleintable"><a id="sthref15631"></a><a id="sthref15632"></a>Table 197-8 DELETESCHEMA Procedure Parameters</p>
<table class="cellalignment4330" title="DELETESCHEMA Procedure Parameters" summary="This table describes parameters of the DBMS_XMLSCHEMA.DELETESCHEMA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">schemaurl</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>URL identifying the schema to be deleted</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t12" headers="r1c1-t12">
<p><code dir="ltr">delete_option</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t12 r1c2-t12">
<p>Delete options:</p>
<ul>
<li>
<p><code dir="ltr">DELETE_RESTRICT</code> - Schema deletion fails if there are any tables or schemas that depend on this schema</p>
</li>
<li>
<p><code dir="ltr">DELETE_INVALIDATE</code> - Schema deletion does not fail if there are any dependencies. Instead, it simply invalidates all dependent objects.</p>
</li>
<li>
<p><code dir="ltr">DELETE_CASCADE</code> - Schema deletion will also drop all default SQL types and default tables. However the deletion fails if there are any stored instances conforming to this schema.</p>
</li>
<li>
<p><code dir="ltr">DELETE_CASCADE_FORCE</code> - Similar to <code dir="ltr">DELETE_CASCADE</code> except that it does not check for any stored instances conforming to this schema. Also, it ignores any errors.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15633"></a>Exceptions</p>
<div id="ARPLS70062" class="tblformal">
<p class="titleintable"><a id="sthref15634"></a><a id="sthref15635"></a>Table 197-9 DELETESCHEMA Procedure Exceptions</p>
<table class="cellalignment4330" title="DELETESCHEMA Procedure Exceptions" summary="This table describes exceptions raised by the DBMS_XMLSCHEMA.DELETESCHEMA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Exception</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">ORA-31001</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>Invalid resource handle or path name</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70066" class="refsect2"><a id="i1009760"></a>
<h3 class="refsect2"><a id="sthref15636"></a>GENERATESCHEMA Function</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
This subprogram is deprecated with Oracle Database 12<span class="italic">c</span>.</div>
<p>This function generates XML schema(s) from an Oracle type name. It inlines all in one schema (<code dir="ltr">XMLType</code>).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;XMLSCHEMA Storage and Query: Advanced&#34; chapter of the <a class="olink ADXDB0700" href="../ADXDB/xdb06stt.htm#ADXDB0700"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15637"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.GENERATESCHEMA( 
   schemaname    IN  VARCHAR2,
   typename      IN  VARCHAR2,
   elementname   IN  VARCHAR2 := NULL,
   recurse       IN  BOOLEAN  := TRUE,
   annotate      IN  BOOLEAN  := TRUE,
   embedcoll     IN  BOOLEAN  := TRUE) 
RETURN SYS.XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15638"></a>Parameters</p>
<div id="ARPLS70067" class="tblformal">
<p class="titleintable"><a id="sthref15639"></a><a id="sthref15640"></a>Table 197-10 GENERATESCHEMA Function Parameters</p>
<table class="cellalignment4330" title="GENERATESCHEMA Function Parameters" summary="This table describes the parameters of the DBMS_XMLSCHEMA.REGISTERSCHEMA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Parameter</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16">
<p><code dir="ltr">schemaname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">
<p>Name of the database schema containing the type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16">
<p><code dir="ltr">typename</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">
<p>Name of the Oracle type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t16" headers="r1c1-t16">
<p><code dir="ltr">elementname</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t16 r1c2-t16">
<p>The name of the top level element in the XML Schema. Defaults to <code dir="ltr">typename</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t16" headers="r1c1-t16">
<p><code dir="ltr">recurse</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t16 r1c2-t16">
<p>Whether or not to also generate schema for all types referred to by the type specified</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t16" headers="r1c1-t16">
<p><code dir="ltr">annotate</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t16 r1c2-t16">
<p>Whether or not to put the SQL annotations in the XML Schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t16" headers="r1c1-t16">
<p><code dir="ltr">embedcoll</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t16 r1c2-t16">
<p>Determines whether the collections should be embedded in the type which refers to them, or create a <code dir="ltr">complextype</code>. Cannot be <code dir="ltr">FALSE</code> if annotations are turned on</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15641"></a>Exceptions</p>
<div id="ARPLS70068" class="tblformal">
<p class="titleintable"><a id="sthref15642"></a><a id="sthref15643"></a>Table 197-11 GENERATESCHEMA Function Exceptions</p>
<table class="cellalignment4330" title="GENERATESCHEMA Function Exceptions" summary="This table describes exceptions raised by the DBMS_XMLSCHEMA.GENERATESCHEMA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t17">Exception</th>
<th class="cellalignment4328" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t17" headers="r1c1-t17">
<p><code dir="ltr">ORA-31001</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t17 r1c2-t17">
<p>Invalid resource handle or path name</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70069" class="refsect2"><a id="i1007548"></a>
<h3 class="refsect2"><a id="sthref15644"></a>GENERATESCHEMAS Function</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
This subprogram is deprecated with Oracle Database 12<span class="italic">c</span>.</div>
<p>This function generates XML schema(s) from an Oracle type name. It returns a collection of <code dir="ltr">XMLType</code>s, one XML Schema document for each database schema.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;XMLSCHEMA Storage and Query: Advanced&#34; chapter of the <a class="olink ADXDB0700" href="../ADXDB/xdb06stt.htm#ADXDB0700"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15645"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.GENERATESCHEMAS( 
   schemaname   IN  VARCHAR2,
   typename     IN  VARCHAR2,
   elementname  IN  VARCHAR2 := NULL,
   schemaurl    IN  VARCHAR2 := NULL,
   annotate     IN  BOOLEAN := TRUE,
   embedcoll    IN  BOOLEAN := TRUE ) 
 RETURN SYS.XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15646"></a>Parameters</p>
<div id="ARPLS70070" class="tblformal">
<p class="titleintable"><a id="sthref15647"></a><a id="sthref15648"></a>Table 197-12 GENERATESCHEMAS Function Parameters</p>
<table class="cellalignment4330" title="GENERATESCHEMAS Function Parameters" summary="This table describes parameters of the DBMS_XMLSCHEMA.GENERATESCHEMAS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t20">Parameter</th>
<th class="cellalignment4328" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t20" headers="r1c1-t20">
<p><code dir="ltr">schemaname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t20 r1c2-t20">
<p>Name of the database schema containing the type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t20" headers="r1c1-t20">
<p><code dir="ltr">typename</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t20 r1c2-t20">
<p>Name of the Oracle type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t20" headers="r1c1-t20">
<p><code dir="ltr">elementname</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t20 r1c2-t20">
<p>The name of the top level element in the XML Schema defaults to <code dir="ltr">typeName</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t20" headers="r1c1-t20">
<p><code dir="ltr">schemaurl</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t20 r1c2-t20">
<p>Specifies base URL where schemas will be stored, needed by top level schema for import statement</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t20" headers="r1c1-t20">
<p><code dir="ltr">annotate</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t20 r1c2-t20">
<p>Whether or not to put the SQL annotations in the XML Schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t20" headers="r1c1-t20">
<p><code dir="ltr">embedcoll</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t20 r1c2-t20">
<p>Determines whether the collections be embedded in the type which refers to them, or create a <code dir="ltr">complextype</code>. Cannot be <code dir="ltr">FALSE</code> if annotations are turned on</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15649"></a>Exceptions</p>
<div id="ARPLS70071" class="tblformal">
<p class="titleintable"><a id="sthref15650"></a><a id="sthref15651"></a>Table 197-13 GENERATESCHEMAS Function Exceptions</p>
<table class="cellalignment4330" title="GENERATESCHEMAS Function Exceptions" summary="This table describes exceptions raised by the DBMS_XMLSCHEMA.GENERATESCHEMAS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t21">Exception</th>
<th class="cellalignment4328" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t21" headers="r1c1-t21">
<p><code dir="ltr">ORA-31001</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t21 r1c2-t21">
<p>Invalid resource handle or path name</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70072" class="refsect2"><a id="BABEJBJE"></a>
<h3 class="refsect2"><a id="sthref15652"></a>INPLACEEVOLVE Procedure</h3>
<p>This procedure evolves registered schemas by propagating schema changes to object types and tables.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15653"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.INPLACEEVOLVE(
   schemaURL    IN   VARCHAR2, 
   diffXML      IN   XMLType, 
   flags        IN   NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15654"></a>Parameters</p>
<div id="ARPLS70073" class="tblformal">
<p class="titleintable"><a id="sthref15655"></a><a id="sthref15656"></a>Table 197-14 INPLACEEVOLVE Procedure Parameters</p>
<table class="cellalignment4330" title="INPLACEEVOLVE Procedure Parameters" summary="This table describes parameters of the DBMS_XMLSCHEMA.INPLACEEVOLVE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t22">Parameter</th>
<th class="cellalignment4328" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t22" headers="r1c1-t22">
<p><code dir="ltr">schemaurl</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t22 r1c2-t22">
<p>URL of the schema to evolve</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t22" headers="r1c1-t22">
<p><code dir="ltr">diffXML</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t22 r1c2-t22">
<p>Changes to be applied to the schema. This is an XML document conforming to the <code dir="ltr">XDIFF</code> schema and specifies what changes need to be applied and the locations in the schema document where the changes are to be applied.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t22" headers="r1c1-t22">
<p><code dir="ltr">flags</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t22 r1c2-t22">
<p>The following bits may be set in this parameter to control the behavior of this procedure:</p>
<ul>
<li>
<p><code dir="ltr">INPLACE_EVOLVE</code> (value 1, meaning that bit 1 is on) &ndash; Perform in-place XML schema evolution: construct a new XML schema and validate it (against the XML schema for XML schemas); construct the DDL statements needed to evolve the instance-document disk structures, execute the DDL statements, and replace the old XML schema with the new.</p>
</li>
<li>
<p><code dir="ltr">INPLACE_TRACE</code> (value 2, meaning that bit 2 is on) &ndash; Perform all steps necessary for in-place evolution, except executing the DDL statements and overwriting the old XML schema with the new, then write both the DDL statements and the new XML schema to a trace file.</p>
</li>
</ul>
<p>That is, each of the bits constructs the new XML schema, validates it, and determines the steps needed to evolve the disk structures underlying the instance documents. In addition:</p>
<ul>
<li>
<p>Bit <code dir="ltr">INPLACE_EVOLVE</code> carries out those evolution steps and replaces the old XML schema with the new.</p>
</li>
<li>
<p>Bit <code dir="ltr">INPLACE_TRACE</code> saves the evolution steps and the new XML schema in a trace file (it does not carry out the evolution steps)</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15657"></a>Exceptions</p>
<p>The procedure raises exceptions in the following cases:</p>
<ul>
<li>
<p>An error will be raised for invalid <code dir="ltr">XPATH</code> expressions and for <code dir="ltr">XDIFF</code> documents that do not conform to the xdiff schema.</p>
</li>
<li>
<p>Path expressions that are syntactically correct but result in an invalid node in the schema document will result in an error.</p>
</li>
<li>
<p>If the schema change makes the schema an ill-formed XML document or an invalid XML schema, this will raise an error.</p>
</li>
<li>
<p>Any errors resulting from <code dir="ltr">CREATE</code> <code dir="ltr">TYPE</code>, <code dir="ltr">ALTER</code> <code dir="ltr">TYPE</code> and like commands will generate error messages.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15658"></a>Usage Notes</p>
<ul>
<li>
<p>Users are required to backup all their data before attempting in-place evolution, as there is no rollback with this operation.</p>
</li>
<li>
<p>A user must register their new XML schema with the database using the <a href="#i1003177">REGISTERSCHEMA Procedures</a> and the <a href="#i1003294">REGISTERURI Procedure</a> at a schema URL that is different from that of the one to be evolved. If the new schema registers successfully and is usable, only then should the user attempt to evolve the existing schema to the new schema by means of this subprogram. If the registration of the new schema is successful, then the user must delete this schema (and all its dependent objects) before attempting to evolve the schema at the old schema URL.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70074" class="refsect2"><a id="BABEGJDD"></a>
<h3 class="refsect2"><a id="sthref15659"></a>PURGESCHEMA Procedure</h3>
<p>This procedure removes the XML schema.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;XMLSCHEMA Storage and Query: Advanced&#34; chapter of the <a class="olink ADXDB0700" href="../ADXDB/xdb06stt.htm#ADXDB0700"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15660"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.PURGESCHEMA( 
   schemaid   IN  RAW);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15661"></a>Parameters</p>
<div id="ARPLS70075" class="tblformal">
<p class="titleintable"><a id="sthref15662"></a><a id="sthref15663"></a>Table 197-15 PURGESCHEMA Procedure Parameters</p>
<table class="cellalignment4330" title="PURGESCHEMA Procedure Parameters" summary="This table describes parameters of the DBMS_XMLSCHEMA.PURGESCHEMAS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t24">Parameter</th>
<th class="cellalignment4328" id="r1c2-t24">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t24" headers="r1c1-t24">
<p><code dir="ltr">schemaid</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t24 r1c2-t24">
<p>ID of the schema to be purged</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15664"></a>Usage Notes</p>
<ul>
<li>
<p>The schema should have been originally registered for binary encoding and should have been deleted in the <code dir="ltr">HIDE</code> mode.</p>
</li>
<li>
<p>Once a schema has been deleted in <code dir="ltr">HIDE</code> mode, it continues to exist in the XML DB dictionary and is used for decoding already encoded documents. The user invokes this interface when there are no stored instances encoded with this schema.</p>
</li>
<li>
<p>Once the schema is purged, any space used by that schema will be reclaimed and documents encoded using the schema will raise an error if an attempt is made to decode them.</p>
</li>
<li>
<p>The Schema ID can be obtained from the catalog views.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70076" class="refsect2"><a id="i1003177"></a>
<h3 class="refsect2"><a id="sthref15665"></a>REGISTERSCHEMA Procedures</h3>
<p>This procedure registers the specified schema for use by the database. The procedure is overloaded. The different functionality of each form of syntax is presented along with the definition.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
As of Oracle Database 11<span class="italic">g</span> Release 2 (11.2) the <code dir="ltr">genbean</code> parameter is deprecated. Oracle recommends that you do not use this parameter in new applications. Support for this feature is for backward compatibility only.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;XMLSCHEMA Storage and Query: Basic&#34; chapter of the <a class="olink ADXDB0600" href="../ADXDB/xdb05sto.htm#ADXDB0600"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15666"></a>Syntax</p>
<p>Registers a schema specified as a <code dir="ltr">VARCHAR2</code>:</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
    schemaurl        IN  VARCHAR2,
    schemadoc        IN  VARCHAR2,
    local            IN  BOOLEAN := TRUE,
    gentypes         IN  BOOLEAN := TRUE,
    genbean          IN  BOOLEAN := FALSE,
    gentables        IN  BOOLEAN := TRUE,
    force            IN  BOOLEAN := FALSE,
    owner            IN  VARCHAR2 := NULL,
    enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
    options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as a <code dir="ltr">BFILE</code>. The contents of the schema document must be in the database character set:</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2,
   schemadoc        IN  BFILE,
   local            IN  BOOLEAN := TRUE,
   gentypes         IN  BOOLEAN := TRUE,
   genbean          IN  BOOLEAN := FALSE,
   force            IN  BOOLEAN := FALSE,
   owner            IN  VARCHAR2 := NULL,
   enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
   options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as a <code dir="ltr">BFILE</code> and identifies the character set id of the schema document:</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2, 
   schemadoc        IN  BFILE, 
   local            IN  BOOLEAN := TRUE, 
   gentypes         IN  BOOLEAN := TRUE, 
   genbean          IN  BOOLEAN := TRUE,
   gentables        IN  BOOLEAN := TRUE,
   force            IN  BOOLEAN := TRUE,
   owner            IN  VARCHAR2 := &#39;&#39;,
   csid             IN  NUMBER,
   enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
   options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as a <code dir="ltr">BLOB</code>. The contents of the schema document must be in the database character set:</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2, 
   schemadoc        IN  BLOB, 
   local            IN  BOOLEAN := TRUE, 
   genTypes         IN  BOOLEAN := TRUE, 
   genBean          IN  BOOLEAN := FASLE,
   force            IN  BOOLEAN := FALSE,
   owner            IN  VARCHAR2 := NULL,
   enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
   options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as a <code dir="ltr">BLOB</code> and identifies the character set id of the schema document:</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2, 
   schemadoc        IN  BLOB, 
   local            IN  BOOLEAN := TRUE, 
   gentypes         IN  BOOLEAN := TRUE, 
   genbean          IN  BOOLEAN := TRUE,
   gentables        IN  BOOLEAN := TRUE,
   force            IN  BOOLEAN := TRUE,
   owner            IN  VARCHAR2 := &#39;&#39;,
   csid             IN  NUMBER,
   enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
   options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as a <code dir="ltr">CLOB</code></p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2, 
   schemadoc        IN  CLOB, 
   local            IN  BOOLEAN := TRUE, 
   gentypes         IN  BOOLEAN := TRUE, 
   genbean          IN  BOOLEAN := FALSE,
   force            IN  BOOLEAN := FALSE,
   owner            IN  VARCHAR2 := NULL,
   options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as an <code dir="ltr">XMLTYPE</code>.</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2, 
   schemadoc        IN  SYS.XMLTYPE, 
   local            IN  BOOLEAN := TRUE, 
   gentypes         IN  BOOLEAN := TRUE, 
   genbean          IN  BOOLEAN := FALSE,
   force            IN  BOOLEAN := FALSE,
   owner            IN  VARCHAR2 := NULL,
   enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
   options          IN  PLS_INTEGER := 0);
 
</pre>
<p>Registers the schema specified as a <code dir="ltr">BLOB</code>. The contents of the schema document must be in the database character set:</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERSCHEMA(
   schemaurl        IN  VARCHAR2, 
   schemadoc        IN  SYS.URIType, 
   local            IN  BOOLEAN := TRUE, 
   gentypes         IN  BOOLEAN := TRUE, 
   genbean          IN  BOOLEAN := FALSE,
   force            IN  BOOLEAN := FALSE,
   owner            IN  VARCHAR2 := NULL,
   enablehierarchy  IN  PLS_INTEGER := DBMS_XMLSCHEMA.ENABLE_CONTENTS,
   options          IN  PLS_INTEGER := 0);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15667"></a>Parameters</p>
<div id="ARPLS70077" class="tblformal">
<p class="titleintable"><a id="sthref15668"></a><a id="sthref15669"></a>Table 197-16 REGSITERSCHEMA Procedure Parameters</p>
<table class="cellalignment4330" title="REGSITERSCHEMA Procedure Parameters" summary="This table describes the parameters of the DBMS_XMLSCHEMA.REGISTERSCHEMA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t27">Parameter</th>
<th class="cellalignment4328" id="r1c2-t27">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t27" headers="r1c1-t27">
<p><code dir="ltr">schemaurl</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t27 r1c2-t27">
<p>URL that uniquely identifies the schema document. This value is used to derive the path name of the schema document within the database hierarchy. Can be used inside <code dir="ltr">schemalocation</code> attribute of XML Schema import element.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t27" headers="r1c1-t27">
<p><code dir="ltr">schemadoc</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t27 r1c2-t27">
<p>A valid XML schema document</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t27" headers="r1c1-t27">
<p><code dir="ltr">local</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t27 r1c2-t27">
<p>Is this a local or global schema?</p>
<ul>
<li>
<p>By default, all schemas are registered as local schemas, under <code dir="ltr">/sys/schemas/&lt;username&gt;/...</code></p>
</li>
<li>
<p>If a schema is registered as global, it is added under <code dir="ltr">/sys/schemas/PUBLIC/...</code></p>
</li>
</ul>
<p>You need write privileges on the directory to be able to register a schema as global.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t27" headers="r1c1-t27">
<p><code dir="ltr">gentypes</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t27 r1c2-t27">
<p>Determines whether the schema compiler generates object types. By default, <code dir="ltr">TRUE.</code> If you use binary XML, you must be set <code dir="ltr">gentypes</code> to <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t27" headers="r1c1-t27">
<p><code dir="ltr">genbean</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t27 r1c2-t27">
<p>Determines whether the schema compiler generates Java beans. By default, <code dir="ltr">FALSE</code>. Oracle recommends that this parameter always be set to <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t27" headers="r1c1-t27">
<p><code dir="ltr">gentables</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t27 r1c2-t27">
<p>Determines whether the schema compiler generates default tables. By default, <code dir="ltr">TRUE</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t27" headers="r1c1-t27">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t27 r1c2-t27">
<p>If this parameter is set to <code dir="ltr">TRUE</code>, the schema registration will not raise errors. Instead, it creates an invalid XML schema object in case of any errors. By default, the value of this parameter is <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t27" headers="r1c1-t27">
<p><code dir="ltr">owner</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t27 r1c2-t27">
<p>This parameter specifies the name of the database user owning the XML schema object. By default, the user registering the schema owns the XML schema object. This parameter can be used to register a XML schema to be owned by a different database user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t27" headers="r1c1-t27">
<p><code dir="ltr">csid</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t27 r1c2-t27">
<p>Identifies the character set of the input schema document. If this value is <code dir="ltr">0</code>, the schema document&#39;s encoding is determined by the current rule for &#34;text/xml&#34; MIME type.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t27" headers="r1c1-t27">
<p><code dir="ltr">enablehierarchy</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t27 r1c2-t27">
<ul>
<li>
<p><code dir="ltr">ENABLE_HIERARCHY_NONE</code> - enable hierarchy will not be called on any tables created while registering that schema</p>
</li>
<li>
<p><code dir="ltr">ENABLE_HIERARCHY_CONTENTS</code> - enable hierarchy will be called for all tables created during schema registration with <code dir="ltr">hierarchy_type</code> as <code dir="ltr">DBMS_XDBZ</code>.<code dir="ltr">ENABLE_CONTENTS</code>. This is the default.</p>
</li>
<li>
<p><code dir="ltr">ENABLE_HIERARCHY_RESMETADATA</code> - enable hierarchy will be called on all tables created during schema registration with <code dir="ltr">hierarchy_type</code> as <code dir="ltr">DBMS_XDBZ</code>.<code dir="ltr">ENABLE_RESMETADATA</code>. Users should pass in <code dir="ltr">DBMS_XMLSCHEMA</code>.<code dir="ltr">ENABLE_RESMETADATA</code> for schemas they intend to use as resource metadata tables.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t27" headers="r1c1-t27">
<p><code dir="ltr">options</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t27 r1c2-t27">
<p>Additional options to specify how the schema should be registered. The various options are represented as bits of an integer and the options parameter should be constructed by doing a <code dir="ltr">BITOR</code> of the desired bits. Possible bits:</p>
<ul>
<li>
<p><code dir="ltr">REGISTER_NODOCID</code> - this will suppress the creation of the <code dir="ltr">DOCID</code> column for out of line tables. This is a storage optimization which might be desirable when we do not need to join back to the document table (for example if we do not care about rewriting certain queries that could be rewritten by making use of the <code dir="ltr">DOCID</code> column)</p>
</li>
<li>
<p><code dir="ltr">REGISTER_BINARYXML</code> - Register the schema for Binary XML</p>
</li>
<li>
<p><code dir="ltr">REGISTER_NT_AS_IOT</code> - Store nested tables created during schema registration as index organized tables. The default is to store nested tables as heap tables</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70078" class="refsect2"><a id="i1003294"></a>
<h3 class="refsect2"><a id="sthref15670"></a>REGISTERURI Procedure</h3>
<p>This procedure registers an XML Schema specified by a URI name.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
As of Oracle Database 11g Release 2 (11.2) the <code dir="ltr">genbean</code> parameter is deprecated. Oracle recommends that you do not use this parameter in new applications. Support for this feature is for backward compatibility only.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15671"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLSCHEMA.REGISTERURI(
   schemaurl      IN  VARCHAR2,
   schemadocuri   IN  VARCHAR2,
   local          IN  BOOLEAN := TRUE,
   gentypes       IN  BOOLEAN := TRUE,
   genbean        IN  BOOLEAN := FALSE,
   gentables      IN  BOOLEAN := TRUE,
   force          IN  BOOLEAN := FALSE,
   owner          IN  VARCHAR2 := NULL, 
   options          IN  PLS_INTEGER := 0);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15672"></a>Parameters</p>
<div id="ARPLS70079" class="tblformal">
<p class="titleintable"><a id="sthref15673"></a><a id="sthref15674"></a>Table 197-17 REGISTERURI Procedure Parameters</p>
<table class="cellalignment4330" title="REGISTERURI Procedure Parameters" summary="This table describes the parameters of the DBMS_XMLSCHEMA.REGISTERURI subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t29">Parameter</th>
<th class="cellalignment4328" id="r1c2-t29">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t29" headers="r1c1-t29">
<p><code dir="ltr">schemaurl</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t29 r1c2-t29">
<p>Uniquely identifies the schema document. Can be used inside <code dir="ltr">schemaLocation</code> attribute of XML Schema import element.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t29" headers="r1c1-t29">
<p><code dir="ltr">schemadocuri</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t29 r1c2-t29">
<p>Pathname (URI) corresponding to the physical location of the schema document. The URI path could be based on HTTP, FTP, DB or Oracle XML DB protocols. This function constructs a <code dir="ltr">URIType</code> instance using the <code dir="ltr">urifactory</code>, and invokes the <a href="#i1003177">REGISTERSCHEMA Procedures</a>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t29" headers="r1c1-t29">
<p><code dir="ltr">local</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t29 r1c2-t29">
<p>Determines whether this is a local or global schema. By default, all schemas are registered as local schemas, under <code dir="ltr">/sys/schemas/ &lt;username&gt;/...</code> If a schema is registered as global, it is added under <code dir="ltr">/sys/schemas/PUBLIC/...</code> The user needs write privileges on the directory to register a global schema.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t29" headers="r1c1-t29">
<p><code dir="ltr">gentypes</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t29 r1c2-t29">
<p>Determines whether the compiler generate object types. By default, <code dir="ltr">TRUE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t29" headers="r1c1-t29">
<p><code dir="ltr">genbean</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t29 r1c2-t29">
<p>Determines whether the compiler generate Java beans. By default, <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t29" headers="r1c1-t29">
<p><code dir="ltr">gentables</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t29 r1c2-t29">
<p>Determines whether the compiler generate default tables. <code dir="ltr">TRUE</code> by default.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t29" headers="r1c1-t29">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t29 r1c2-t29">
<p><code dir="ltr">TRUE:</code> schema registration will not raise errors. Instead, it creates an invalid XML schema object in case of any errors. By default, the value of this parameter is <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t29" headers="r1c1-t29">
<p><code dir="ltr">owner</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t29 r1c2-t29">
<p>This parameter specifies the name of the database user owning the XML schema object. By default, the user registering the schema owns the XML schema object. This parameter can be used to register a XML schema to be owned by a different database user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t29" headers="r1c1-t29">
<p><code dir="ltr">options</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t29 r1c2-t29">
<p>Additional options to specify how the schema should be registered. The various options are represented as bits of an integer and the options parameter should be constructed by doing a <code dir="ltr">BITOR</code> of the desired bits. Possible bits:</p>
<ul>
<li>
<p><code dir="ltr">REGISTER_NODOCID</code> - this will suppress the creation of the <code dir="ltr">DOCID</code> column for out of line tables. This is a storage optimization which might be desirable when we do not need to join back to the document table (for example if we do not care about rewriting certain queries that could be rewritten by making use of the <code dir="ltr">DOCID</code> column)</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_xmlsav.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_xmlschema_annotate.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
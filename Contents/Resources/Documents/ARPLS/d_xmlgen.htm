<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2393"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_XMLGEN"></a><title>DBMS_XMLGEN</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:37:1Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_xmldom.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_xmlindex.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">196/290</span> <!-- End Header -->
<div id="ARPLS374" class="chapter"><a id="i1012053"></a>
<h1 class="chapter"><span class="secnum">192</span> <a id="sthref15288"></a><a id="sthref15289"></a>DBMS_XMLGEN</h1>
<p>The <code dir="ltr">DBMS_XMLGEN</code> package converts the results of a SQL query to a canonical XML format. The package takes an arbitrary SQL query as input, converts it to XML format, and returns the result as a <code dir="ltr">CLOB</code>. This package is similar to the <code dir="ltr">DBMS_XMLQUERY</code> package, except that it is written in C and compiled into the kernel. This package can only be run on the database.</p>
<p>This chapter contains the following topic:</p>
<ul>
<li>
<p><a href="#CHDJIAAJ">Using DBMS_XMLGEN</a></p>
</li>
<li>
<p><a href="#CHEJCICB">Summary of DBMS_XMLGEN Subprograms</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a class="olink ADXDB" href="../ADXDB/toc.htm"><span class="italic">Oracle XML DB Developer&#39;s Guide, f</span></a>or more information on XML support and on examples of using <code dir="ltr">DBMS_XMLGEN</code></div>
<div class="refentry"><a id="CHDJIAAJ"></a>
<div id="ARPLS74013" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_XMLGEN</h2>
<ul>
<li>
<p><a href="#CHDGCCIJ">Security Model</a></p>
</li>
</ul>
<div id="ARPLS74014" class="refsect2"><a id="CHDGCCIJ"></a>
<h3 class="refsect2">Security Model</h3>
<p>Owned by <code dir="ltr">XDB</code>, the <code dir="ltr">DBMS_XMLGEN</code> package must be created by <code dir="ltr">SYS</code> or <code dir="ltr">XDB</code>. The <code dir="ltr">EXECUTE</code> privilege is granted to <code dir="ltr">PUBLIC</code>. Subprograms in this package are executed using the privileges of the current user.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CHEJCICB"></a>
<div id="ARPLS69848" class="refsect1">
<h2 class="refsect1">Summary of DBMS_XMLGEN Subprograms</h2>
<div id="ARPLS69849" class="tblformal">
<p class="titleintable"><a id="sthref15290"></a><a id="sthref15291"></a>Table 192-1 Summary of DBMS_XMLGEN Package Subprograms</p>
<table class="cellalignment4330" title="Summary of DBMS_XMLGEN Package Subprograms" summary="This table lists the DBMS_XMLGEN subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#i1014938">CLOSECONTEXT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>Closes the context and releases all resources</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#i1013100">CONVERT Functions</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>Converts the XML into the escaped or unescaped XML equivalent</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#i1013173">GETNUMROWSPROCESSED Function</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p>Gets the number of SQL rows that were processed in the last call to <a href="#i1013206">GETXML Functions</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#i1013206">GETXML Functions</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>Gets the XML document</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#i1015152">GETXMLTYPE Functions</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p>Gets the XML document and returns it as <code dir="ltr">XMLType</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#CHEDFHIG">NEWCONTEXT Functions</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>Creates a new context handle</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><a href="#CHDEGIDC">NEWCONTEXTFROMHIERARCHY Function</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p>Obtains a handle to use in the <a href="#i1013206">GETXML Functions</a> and other functions to get a hierarchical XML with recursive elements from the result</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><a href="#i1013303">RESTARTQUERY Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p>Restarts the query to start fetching from the beginning</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t3" headers="r1c1-t3">
<p><a href="#i1013328">SETCONVERTSPECIALCHARS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c2-t3">
<p>Sets whether special characters such as <code dir="ltr">$,</code> which are non-XML characters, should be converted or not to their escaped representation</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t3" headers="r1c1-t3">
<p><a href="#i1013360">SETMAXROWS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c2-t3">
<p>Sets the maximum number of rows to be fetched each time</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t3" headers="r1c1-t3">
<p><a href="#i1014818">SETNULLHANDLING Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t3 r1c2-t3">
<p>Sets <code dir="ltr">NULL</code> handling options</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t3" headers="r1c1-t3">
<p><a href="#i1013393">SETROWSETTAG Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r13c1-t3 r1c2-t3">
<p>Sets the name of the element enclosing the entire result</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t3" headers="r1c1-t3">
<p><a href="#i1015722">SETROWTAG Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r14c1-t3 r1c2-t3">
<p>Sets the name of the element enclosing each row of the result</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t3" headers="r1c1-t3">
<p><a href="#i1010859">SETSKIPROWS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r15c1-t3 r1c2-t3">
<p>Sets the number of rows to skip every time before generating the XML.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t3" headers="r1c1-t3">
<p><a href="#i1010963">USEITEMTAGSFORCOLL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r16c1-t3 r1c2-t3">
<p>Forces the use of the collection column name appended with the tag <code dir="ltr">_ITEM</code> for collection elements</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t3" headers="r1c1-t3">
<p><a href="#i1013950">USENULLATTRIBUTEINDICATOR Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r17c1-t3 r1c2-t3">
<p>Specifies whether to use an XML attribute to indicate <code dir="ltr">NULL</code>ness, or to do it by omitting the inclusion of the particular entity in the XML document.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS69850" class="refsect2"><a id="i1014938"></a>
<h3 class="refsect2"><a id="sthref15292"></a><a id="sthref15293"></a>CLOSECONTEXT Procedure</h3>
<p>This procedure closes a given context and releases all resources associated with it, including the SQL cursor and bind and define buffers. After this call, the handle cannot be used for a subsequent function call.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15294"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.CLOSECONTEXT (
   ctx  IN ctxHandle);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15295"></a>Parameters</p>
<div id="ARPLS69851" class="tblformal">
<p class="titleintable"><a id="sthref15296"></a><a id="sthref15297"></a>Table 192-2 CLOSECONTEXT Procedure Parameters</p>
<table class="cellalignment4330" title="CLOSECONTEXT Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.CLOSECONTEXT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Parameter</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>The context handle to close.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69852" class="refsect2"><a id="i1013100"></a>
<h3 class="refsect2"><a id="sthref15298"></a><a id="sthref15299"></a>CONVERT Functions</h3>
<p>This function converts the XML data into the escaped or unescapes XML equivalent, and returns XML <code dir="ltr">CLOB</code> data in encoded or decoded format. There are several version of the function.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15300"></a>Syntax</p>
<p>Uses <code dir="ltr">XMLDATA</code> in string form (<code dir="ltr">VARCHAR2</code>):</p>
<pre dir="ltr">DBMS_XMLGEN.CONVERT (
   xmlData IN VARCHAR2,
   flag    IN NUMBER := ENTITY_ENCODE)
RETURN VARCHAR2;
</pre>
<p>Uses <code dir="ltr">XMLDATA</code> in <code dir="ltr">CLOB</code> form:</p>
<pre dir="ltr">DBMS_XMLGEN.CONVERT (
   xmlData IN CLOB,
   flag    IN NUMBER := ENTITY_ENCODE)
 RETURN CLOB;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15301"></a>Parameters</p>
<div id="ARPLS69853" class="tblformal">
<p class="titleintable"><a id="sthref15302"></a><a id="sthref15303"></a>Table 192-3 CONVERT Function Parameters</p>
<table class="cellalignment4330" title="CONVERT Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.CONVERT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Parameter</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">xmlData</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>The XML <code dir="ltr">CLOB</code> data to be encoded or decoded.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">flag</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>The flag setting; <code dir="ltr">ENTITY_ENCODE</code> (default) for encode, and <code dir="ltr">ENTITY_DECODE</code> for decode.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15304"></a>Usage Notes</p>
<p>This function escapes the XML data if the <code dir="ltr">ENTITY_ENCODE</code> is specified. For example, the escaped form of the character <code dir="ltr">&lt;</code> is <code dir="ltr">&amp;lt;</code>. Unescaping is the reverse transformation.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69854" class="refsect2"><a id="i1013173"></a>
<h3 class="refsect2"><a id="sthref15305"></a><a id="sthref15306"></a>GETNUMROWSPROCESSED Function</h3>
<p>This function retrieves the number of SQL rows processed when generating the XML using the <a href="#i1013206">GETXML Functions</a> call. This count does not include the number of rows skipped before generating the XML. Note that <a href="#i1013206">GETXML Functions</a> always generates an XML document, even if there are no rows present.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15307"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.GETNUMROWSPROCESSED (
   ctx     IN    ctxHandle)
RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15308"></a>Parameters</p>
<div id="ARPLS69855" class="tblformal">
<p class="titleintable"><a id="sthref15309"></a><a id="sthref15310"></a>Table 192-4 GETNUMROWSPROCESSED Function Parameters</p>
<table class="cellalignment4330" title="GETNUMROWSPROCESSED Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.GETNUMROWS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>The context handle obtained from the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15311"></a>Usage Notes</p>
<p>This function is used to determine the terminating condition if calling <a href="#i1013206">GETXML Functions</a> in a loop.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69856" class="refsect2"><a id="i1013206"></a>
<h3 class="refsect2"><a id="sthref15312"></a><a id="sthref15313"></a>GETXML Functions</h3>
<p>This function gets the XML document. The function is overloaded.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15314"></a>Syntax</p>
<p>Gets the XML document by fetching the maximum number of rows specified. It appends the XML document to the <code dir="ltr">CLOB</code> passed in. Use this version of <a href="#i1013206">GETXML Functions</a> to avoid any extra <code dir="ltr">CLOB</code> copies and to reuse the same <code dir="ltr">CLOB</code> for subsequent calls. Because of the <code dir="ltr">CLOB</code> reuse, this <a href="#i1013206">GETXML Functions</a>call is potentially more efficient:</p>
<pre dir="ltr">DBMS_XMLGEN.GETXML (
   ctx          IN ctxHandle, 
   tmpclob      IN OUT NCOPY CLOB,
   dtdOrSchema  IN number := NONE)
 RETURN BOOLEAN;
</pre>
<p>Generates the XML document and returns it as a temporary <code dir="ltr">CLOB</code>. The temporary <code dir="ltr">CLOB</code> obtained from this function must be freed using the <code dir="ltr">DBMS_LOB.FREETEMPORARY</code> call:</p>
<pre dir="ltr">DBMS_XMLGEN.GETXML (
   ctx          IN ctxHandle,
   dtdOrSchema  IN number := NONE)
 RETURN CLOB;
</pre>
<p>Converts the results from the SQL query string to XML format, and returns the XML as a temporary <code dir="ltr">CLOB</code>, which must be subsequently freed using the <code dir="ltr">DBMS_LOB.FREETEMPORARY</code> call:</p>
<pre dir="ltr">DBMS_XMLGEN.GETXML (
   sqlQuery     IN VARCHAR2,
   dtdOrSchema  IN number := NONE)
 RETURN CLOB;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15315"></a>Parameters</p>
<div id="ARPLS69857" class="tblformal">
<p class="titleintable"><a id="sthref15316"></a><a id="sthref15317"></a>Table 192-5 GETXML Function Parameters</p>
<table class="cellalignment4330" title="GETXML Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.GETRXML subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<pre dir="ltr">ctx
</pre></td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>The context handle obtained from the <code dir="ltr">newContext</code> call.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<pre dir="ltr">tmpclob
</pre></td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>The <code dir="ltr">CLOB</code> to which the XML document is appended.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">sqlQuery</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>The SQL query string.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t7" headers="r1c1-t7">
<p><code dir="ltr">dtdOrSchema</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t7 r1c2-t7">
<p>Generate a DTD or a schema? Only <code dir="ltr">NONE</code> is supported.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15318"></a>Usage Notes</p>
<p>When the rows indicated by the <a href="#i1010859">SETSKIPROWS Procedure</a> call are skipped, the maximum number of rows as specified by the <a href="#i1013360">SETMAXROWS Procedure</a> call (or the entire result if not specified) is fetched and converted to XML. Use the <a href="#i1013173">GETNUMROWSPROCESSED Function</a> to check if any rows were retrieved.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69858" class="refsect2"><a id="i1015152"></a>
<h3 class="refsect2"><a id="sthref15319"></a><a id="sthref15320"></a>GETXMLTYPE Functions</h3>
<p>This function gets the XML document and returns it as an <code dir="ltr">XMLTYPE</code>. <code dir="ltr">XMLTYPE</code> operations can be performed on the results.This function is overloaded.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15321"></a>Syntax</p>
<p>Generates the XML document and returns it as a <code dir="ltr">sys.XMLType:</code></p>
<pre dir="ltr">DBMS_XMLGEN.GETXMLTYPE (
   ctx           IN ctxhandle,
   dtdOrSchema   IN number := NONE)
 RETURN sys.XMLType;
</pre>
<p>Converts the results from the SQL query string to XML format, and returns the XML as a <code dir="ltr">sys.XMLType</code>:</p>
<pre dir="ltr">DBMS_XMLGEN.GETXMLTYPE (
   sqlQuery     IN VARCHAR2,
   dtdOrSchema  IN number := NONE)
 RETURN sys.XMLType
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15322"></a>Parameters</p>
<div id="ARPLS69859" class="tblformal">
<p class="titleintable"><a id="sthref15323"></a><a id="sthref15324"></a>Table 192-6 GETXMLTYPE Function Parameters</p>
<table class="cellalignment4330" title="GETXMLTYPE Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.GETXMLTYPE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>The context handle obtained from the <code dir="ltr">newContext</code> call.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">sqlQuery</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>The SQL query string.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dtdOrSchema</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">
<p>Generate a DTD or a schema? Only <code dir="ltr">NONE</code> is supported.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69860" class="refsect2"><a id="CHEDFHIG"></a>
<h3 class="refsect2"><a id="sthref15325"></a><a id="sthref15326"></a>NEWCONTEXT Functions</h3>
<p>This function generates and returns a new context handle. This context handle is used in <a href="#i1013206">GETXML Functions</a> and other functions to get XML back from the result. There are several version of the function.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15327"></a>Syntax</p>
<p>Generates a new context handle from a query:</p>
<pre dir="ltr">DBMS_XMLGEN.NEWCONTEXT ( 
      query     IN VARCHAR2) 
 RETURN ctxHandle;
</pre>
<p>Generates a new context handle from a query string in the form of a PL/SQL ref cursor:</p>
<pre dir="ltr">DBMS_XMLGEN.NEWCONTEXT (
   queryString  IN SYS_REFCURSOR)
 RETURN ctxHandle;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15328"></a>Parameters</p>
<div id="ARPLS69861" class="tblformal">
<p class="titleintable"><a id="sthref15329"></a><a id="sthref15330"></a>Table 192-7 NEWCONTEXT Function Parameters</p>
<table class="cellalignment4330" title="NEWCONTEXT Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.NEWCONTEXT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">query</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>The query, in the form of a <code dir="ltr">VARCHAR</code>, the result of which must be converted to XML.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">queryString</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>The query string in the form of a PL/SQL ref cursor, the result of which must be converted to XML.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73479" class="refsect2"><a id="CHDEGIDC"></a>
<h3 class="refsect2"><a id="sthref15331"></a>NEWCONTEXTFROMHIERARCHY Function</h3>
<p>This function obtains a handle to use in the <a href="#i1013206">GETXML Functions</a> and other functions to get a hierarchical XML with recursive elements from the result.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15332"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.NEWCONTEXTFROMHIERARCHY ( 
   queryString IN VARCHAR2) 
 RETURN ctxHandle;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15333"></a>Parameters</p>
<div id="ARPLS73480" class="tblformal">
<p class="titleintable"><a id="sthref15334"></a><a id="sthref15335"></a>Table 192-8 NEWCONTEXTFROMHIERARCHY Function Parameters</p>
<table class="cellalignment4330" title="NEWCONTEXTFROMHIERARCHY Function Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.NEWCONTEXTFROMHIERARCHY subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">queryString</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>The query string, the result of which must be converted to XML. The query is a hierarchical query typically formed using a <code dir="ltr">CONNECT</code> <code dir="ltr">BY</code> clause, and the result must have the same property as the result set generated by a <code dir="ltr">CONNECT</code> <code dir="ltr">BY</code> query. The result set must have only two columns, the level number and an XML value. The level number is used to determine the hierarchical position of the XML value within the result XML document.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69862" class="refsect2"><a id="i1013303"></a>
<h3 class="refsect2"><a id="sthref15336"></a><a id="sthref15337"></a>RESTARTQUERY Procedure</h3>
<p>This procedure restarts the query and generates the XML from the first row. It can be used to start executing the query again, without having to create a new context.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15338"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.RESTARTQUERY (
ctx  IN ctxHandle);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15339"></a>Parameters</p>
<div id="ARPLS69863" class="tblformal">
<p class="titleintable"><a id="sthref15340"></a><a id="sthref15341"></a>Table 192-9 RESTARTQUERY Procedure Parameters</p>
<table class="cellalignment4330" title="RESTARTQUERY Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.RESTARTQUERY subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>The context handle corresponding to the current query.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69864" class="refsect2"><a id="i1013328"></a>
<h3 class="refsect2"><a id="sthref15342"></a><a id="sthref15343"></a>SETCONVERTSPECIALCHARS Procedure</h3>
<p>This procedure sets whether or not special characters in the XML data must be converted into their escaped XML equivalent. For example, the <code dir="ltr">&lt;</code> sign is converted to <code dir="ltr">&amp;lt;.</code> The default is to perform conversions. This function improves performance of XML processing when the input data cannot contain any special characters such as <code dir="ltr">&lt;</code>, <code dir="ltr">&gt;</code>, <code dir="ltr">&#34;,&#39;</code>, which must be escaped. It is expensive to scan the character data to replace the special characters, particularly if it involves a lot of data.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15344"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.SETCONVERTSPECIALCHARS (
ctx   IN ctxHandle,
conv  IN BOOLEAN);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15345"></a>Parameters</p>
<div id="ARPLS69865" class="tblformal">
<p class="titleintable"><a id="sthref15346"></a><a id="sthref15347"></a>Table 192-10 SETCONVERTSPECIALCHARS Procedure Parameters</p>
<table class="cellalignment4330" title="SETCONVERTSPECIALCHARS Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETCONVERTSPECIALCHARS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>The context handle obtained from one of the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t12" headers="r1c1-t12">
<p><code dir="ltr">conv</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t12 r1c2-t12">
<p><code dir="ltr">TRUE</code> indicates that conversion is needed.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69866" class="refsect2"><a id="i1013360"></a>
<h3 class="refsect2"><a id="sthref15348"></a><a id="sthref15349"></a>SETMAXROWS Procedure</h3>
<p>This procedure sets the maximum number of rows to fetch from the SQL query result for every invocation of the <a href="#i1013206">GETXML Functions</a> call. It is used when generating paginated results. For example, when generating a page of XML or HTML data, restrict the number of rows converted to XML or HTML by setting the <code dir="ltr">maxrows</code> parameter.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15350"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.SETMAXROWS (
ctx      IN ctxHandle,
maxRows  IN NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15351"></a>Parameters</p>
<div id="ARPLS69867" class="tblformal">
<p class="titleintable"><a id="sthref15352"></a><a id="sthref15353"></a>Table 192-11 SETMAXROWS Procedure Parameters</p>
<table class="cellalignment4330" title="SETMAXROWS Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETMAXROWS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Parameter</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>The context handle corresponding to the query executed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">maxRows</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t13 r1c2-t13">
<p>The maximum number of rows to get for each call to <a href="#i1013206">GETXML Functions</a></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69868" class="refsect2"><a id="i1014818"></a>
<h3 class="refsect2">SETNULLHANDLING Procedure</h3>
<p>This procedure sets <code dir="ltr">NULL</code> handling options, handled through the <code dir="ltr">flag</code> parameter setting.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15354"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.SETNULLHANDLING(
ctx  IN ctx,
flag IN NUMBER); 
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15355"></a>Parameters</p>
<div id="ARPLS69869" class="tblformal">
<p class="titleintable"><a id="sthref15356"></a><a id="sthref15357"></a>Table 192-12 SETNULLHANDLING Procedure Parameters</p>
<table class="cellalignment4330" title="SETNULLHANDLING Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETNULLHANDLING subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Parameter</th>
<th class="cellalignment4328" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14">
<p>The context handle corresponding to the query executed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14">
<p><code dir="ltr">flag</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14">
<p>The <code dir="ltr">NULL</code> handling option set.</p>
<ul>
<li>
<p><code dir="ltr">DROP_NULLS CONSTANT NUMBER:= 0;</code> (Default) Leaves out the tag for <code dir="ltr">NULL</code> elements.</p>
</li>
<li>
<p><code dir="ltr">NULL_ATTR CONSTANT NUMBER:= 1</code>; Sets <code dir="ltr">xsi:nil=&#34;true&#34;</code>.</p>
</li>
<li>
<p><code dir="ltr">EMPTY_TAG CONSTANT NUMBER:= 2;</code> Sets, for example, <code dir="ltr">&lt;foo/&gt;</code>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69870" class="refsect2"><a id="i1013393"></a>
<h3 class="refsect2"><a id="sthref15358"></a><a id="sthref15359"></a>SETROWSETTAG Procedure</h3>
<p>This procedure sets the name of the root element of the document. The default name is <code dir="ltr">ROWSET.</code></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15360"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.SETROWSETTAG ( 
ctx            IN ctxHandle,  
rowSetTagName  IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15361"></a>Parameters</p>
<div id="ARPLS69871" class="tblformal">
<p class="titleintable"><a id="sthref15362"></a><a id="sthref15363"></a>Table 192-13 SETROWSETTAG Procedure Parameters</p>
<table class="cellalignment4330" title="SETROWSETTAG Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETROWSETTAG subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Parameter</th>
<th class="cellalignment4328" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15">
<p>ctx</p>
</td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15">
<p>The context handle obtained from the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t15" headers="r1c1-t15">
<p>rowSetTagName</p>
</td>
<td class="cellalignment4329" headers="r3c1-t15 r1c2-t15">
<p>The name of the document element. Passing <code dir="ltr">NULL</code> indicates that you do not want the <code dir="ltr">ROWSET</code> element present.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15364"></a>Usage Notes</p>
<p>The user can set the <code dir="ltr">rowSetTag</code> to <code dir="ltr">NULL</code> to suppress the printing of this element. However, an error is produced if both the row and the rowset are <code dir="ltr">NULL</code> and there is more than one column or row in the output. This is because the generated XML would not have a top-level enclosing tag, and so would be invalid.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69872" class="refsect2"><a id="i1015722"></a>
<h3 class="refsect2"><a id="sthref15365"></a>SETROWTAG Procedure</h3>
<p>This procedure sets the name of the element separating all the rows. The default name is <code dir="ltr">ROW.</code></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15366"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.SETROWTAG (
ctx         IN ctxHandle,
rowTagName  IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15367"></a>Parameters</p>
<div id="ARPLS69873" class="tblformal">
<p class="titleintable"><a id="sthref15368"></a><a id="sthref15369"></a>Table 192-14 SETROWTAG Procedure Parameters</p>
<table class="cellalignment4330" title="SETROWTAG Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETROWTAG subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Parameter</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">
<p>The context handle obtained from the <a href="#CHEDFHIG">NEWCONTEXT Functions</a> call.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16">
<p><code dir="ltr">rowTagName</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">
<p>The name of the <code dir="ltr">ROW</code> element. Passing <code dir="ltr">NULL</code> indicates that you do not want the <code dir="ltr">ROW</code> element present.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15370"></a>Usage Notes</p>
<p>The user can set the name of the element to <code dir="ltr">NULL</code> to suppress the <code dir="ltr">ROW</code> element itself. However, an error is produced if both the row and the rowset are <code dir="ltr">NULL</code> and there is more than one column or row in the output. This is because the generated XML would not have a top-level enclosing tag, and so would be invalid.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69874" class="refsect2"><a id="i1010859"></a>
<h3 class="refsect2"><a id="sthref15371"></a><a id="sthref15372"></a>SETSKIPROWS Procedure</h3>
<p>This procedure skips a given number of rows before generating the XML output for every call to the <a href="#i1013206">GETXML Functions</a>. It is used when generating paginated results for stateless Web pages using this utility. For example, when generating the first page of XML or HTML data, set <code dir="ltr">skiprows</code> to zero. For the next set, set the <code dir="ltr">skiprows</code> to the number of rows obtained in the first case. See <a href="#i1013173">GETNUMROWSPROCESSED Function</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15373"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.SETSKIPROWS (
ctx       IN ctxHandle,
skipRows  IN NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15374"></a>Parameters</p>
<div id="ARPLS69875" class="tblformal">
<p class="titleintable"><a id="sthref15375"></a><a id="sthref15376"></a>Table 192-15 SETSKIPROWS Procedure Parameters</p>
<table class="cellalignment4330" title="SETSKIPROWS Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.SETSKIPROWS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t17">Parameter</th>
<th class="cellalignment4328" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t17" headers="r1c1-t17">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t17 r1c2-t17">
<p>The context handle corresponding to the query executed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t17" headers="r1c1-t17">
<p><code dir="ltr">skipRows</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t17 r1c2-t17">
<p>The number of rows to skip for each call to <code dir="ltr">getXML.</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69876" class="refsect2"><a id="i1010963"></a>
<h3 class="refsect2"><a id="sthref15377"></a><a id="sthref15378"></a>USEITEMTAGSFORCOLL Procedure</h3>
<p>This procedure overrides the default name of the collection elements. The default name for collection elements is the type name itself.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15379"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.USEITEMTAGSFORCOLL (
   ctx  IN ctxHandle);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15380"></a>Parameters</p>
<div id="ARPLS69877" class="tblformal">
<p class="titleintable"><a id="sthref15381"></a><a id="sthref15382"></a>Table 192-16 USEITEMTAGSFORCOLL Procedure Parameters</p>
<table class="cellalignment4330" title="USEITEMTAGSFORCOLL Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.USEITEM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t18">Parameter</th>
<th class="cellalignment4328" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t18" headers="r1c1-t18">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t18 r1c2-t18">
<p>The context handle.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15383"></a>Usage Notes</p>
<p>Using this procedure, you can override the default to use the name of the column with the <code dir="ltr">_ITEM</code> tag appended to it. If there is a collection of <code dir="ltr">NUMBER</code>, the default tag name for the collection elements is <code dir="ltr">NUMBER</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS69878" class="refsect2"><a id="i1013950"></a>
<h3 class="refsect2"><a id="sthref15384"></a><a id="sthref15385"></a>USENULLATTRIBUTEINDICATOR Procedure</h3>
<p>This procedure specifies whether to use an XML attribute to indicate <code dir="ltr">NULL</code>ness, or to do it by omitting the inclusion of the particular entity in the XML document. It is used as a shortcut for the <a href="#i1014818">SETNULLHANDLING Procedure</a><code dir="ltr">.</code></p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15386"></a>Syntax</p>
<pre dir="ltr">DBMS_XMLGEN.USENULLATTRIBUTEINDICATOR(
ctx       IN   ctxType,
attrind   IN   BOOLEAN := TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref15387"></a>Parameters</p>
<div id="ARPLS69879" class="tblformal">
<p class="titleintable"><a id="sthref15388"></a><a id="sthref15389"></a>Table 192-17 USENULLATTRIBUTEINDICATOR Procedure Parameters</p>
<table class="cellalignment4330" title="USENULLATTRIBUTEINDICATOR Procedure Parameters" summary="This table describes the Parameters of DBMS_XMLGEN.USENALLATTRIBUTE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t19">Parameter</th>
<th class="cellalignment4328" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t19" headers="r1c1-t19">
<p><code dir="ltr">ctx</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t19 r1c2-t19">
<p>Context handle.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t19" headers="r1c1-t19">
<p><code dir="ltr">attrind</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t19 r1c2-t19">
<p>Use attribute to indicate <code dir="ltr">NULL</code>?</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_xmldom.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_xmlindex.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
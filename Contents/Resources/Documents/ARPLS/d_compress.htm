<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2237"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_COMPRESSION"></a><title>DBMS_COMPRESSION</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:10Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_comparison.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_connection_pool.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">40/290</span> <!-- End Header -->
<div id="ARPLS236" class="chapter"><a id="BEIHIIDI"></a>
<h1 class="chapter"><span class="secnum">36</span> DBMS_COMPRESSION</h1>
<p>The <code dir="ltr">DBMS_COMPRESSION</code> package provides an interface to facilitate choosing the correct compression level for an application.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11630" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMIN11630"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink CNCPT1132" href="../CNCPT/tablecls.htm#CNCPT1132"><span class="italic">Oracle Database Concepts</span></a></p>
</li>
<li>
<p><a class="olink SQLRF54484" href="../SQLRF/statements_7002.htm#SQLRF54484"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
</li>
<li>
<p><a class="olink DWHSG00833" href="../DWHSG/basicmv.htm#DWHSG00833"><span class="italic">Oracle Database Data Warehousing Guide</span></a></p>
</li>
<li>
<p><a class="olink VLDBG00404" href="../VLDBG/GUID-F26AFD78-DC1D-4E6B-9B37-375C59FD1787.htm#VLDBG00404"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
</li>
<li>
<p><a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a></p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BEIHIJBI">Using DBMS_COMPRESSION</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
</ul>
</li>
<li>
<p><a href="#BABBEEGE">Data Structures</a></p>
</li>
<li>
<p><a href="#BEIJJDAC">Summary of DBMS_COMPRESSION Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BEIHIJBI"></a>
<div id="ARPLS65598" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_COMPRESSION</h2>
<ul>
<li>
<p><a href="#BEIHFJBH">Overview</a></p>
</li>
<li>
<p><a href="#BEIGCCHE">Security Model</a></p>
</li>
<li>
<p><a href="#BEIJJEAD">Constants</a></p>
</li>
</ul>
<div id="ARPLS65599" class="refsect2"><a id="BEIHFJBH"></a>
<h3 class="refsect2">Overview</h3>
<p>The <code dir="ltr">DBMS_COMPRESSION</code> package gathers compression-related information within a database environment. This includes tools for estimating compressibility of a table for both partitioned and non-partitioned tables, and gathering row-level compression information on previously compressed tables. This gives the user with adequate information to make compression-related decision.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65600" class="refsect2"><a id="BEIGCCHE"></a>
<h3 class="refsect2">Security Model</h3>
<p>The <code dir="ltr">DBMS_COMPRESSSION</code> package is defined with <code dir="ltr">AUTHID CURRENT USER</code>, so it executes with the privileges of the current user.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS72894" class="refsect2"><a id="BEIJJEAD"></a>
<h3 class="refsect2">Constants</h3>
<p>The <code dir="ltr">DBMS_COMPRESSION</code> package uses the constants shown in <a href="#BEIBFCCB">Table 36-1, &#34;DBMS_COMPRESSION Constants - Compression Types&#34;</a>e:</p>
<div id="ARPLS72895" class="tblformal">
<p class="titleintable"><a id="sthref1598"></a><a id="BEIBFCCB"></a>Table 36-1 DBMS_COMPRESSION Constants - Compression Types</p>
<table class="cellalignment4330" title="DBMS_COMPRESSION Constants - Compression Types" summary="This table describes DBMS_DBFS_CONTENT Constants - Chunk Status Value" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Constant</th>
<th class="cellalignment4328" id="r1c2-t3">Type</th>
<th class="cellalignment4328" id="r1c3-t3">Value</th>
<th class="cellalignment4328" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_NOCOMPRESS</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c3-t3">
<p><code dir="ltr">1</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c4-t3">
<p>No compression</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_ADVANCED</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c3-t3">
<p><code dir="ltr">2</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c4-t3">
<p>Advanced compression level</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_QUERY_HIGH</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c3-t3">
<p><code dir="ltr">4</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c4-t3">
<p>High compression level for query operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_QUERY_LOW</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c3-t3">
<p><code dir="ltr">8</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c4-t3">
<p>Low compression level for query operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_ARCHIVE_HIGH</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c3-t3">
<p><code dir="ltr">16</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c4-t3">
<p>High compression level for archive operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_ARCHIVE_LOW</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c3-t3">
<p><code dir="ltr">32</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c4-t3">
<p>Low compression level for archive operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_BLOCK</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c3-t3">
<p><code dir="ltr">64</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c4-t3">
<p>Compressed row</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_LOB_HIGH</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c3-t3">
<p><code dir="ltr">128</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c4-t3">
<p>High compression level for LOB operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_LOB_MEDIUM</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c3-t3">
<p><code dir="ltr">256</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c4-t3">
<p>Medium compression level for LOB operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_LOB_LOW</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c3-t3">
<p><code dir="ltr">512</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c4-t3">
<p>Low compression level for LOB operations</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INDEX_ADVANCED_HIGH</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t3 r1c3-t3">
<p><code dir="ltr">1024</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t3 r1c4-t3">
<p>High compression level for indexes</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INDEX_ADVANCED_LOW</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t3 r1c3-t3">
<p><code dir="ltr">2048</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t3 r1c4-t3">
<p>Low compression level for indexes</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_RATIO_LOB_MINROWS</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t3 r1c3-t3">
<p><code dir="ltr">1000</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t3 r1c4-t3">
<p>Minimum required number of LOBs in the object for which LOB compression ratio is to be estimated</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_BASIC</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t3 r1c3-t3">
<p><code dir="ltr">4096</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t3 r1c4-t3">
<p>Basic compression level</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_RATIO_LOB_MAXROWS</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t3 r1c3-t3">
<p><code dir="ltr">5000</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t3 r1c4-t3">
<p>Maximum number of LOBs used to compute the LOB compression ratio</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INMEMORY_NOCOMPRESS</code></p>
</td>
<td class="cellalignment4329" headers="r17c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r17c1-t3 r1c3-t3">
<p><code dir="ltr">8192</code></p>
</td>
<td class="cellalignment4329" headers="r17c1-t3 r1c4-t3">
<p>In-Memory with no compression</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r18c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INMEMORY_DML</code></p>
</td>
<td class="cellalignment4329" headers="r18c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r18c1-t3 r1c3-t3">
<p><code dir="ltr">16384</code></p>
</td>
<td class="cellalignment4329" headers="r18c1-t3 r1c4-t3">
<p>In-Memory compression level for DML</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r19c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INMEMORY_QUERY_LOW</code></p>
</td>
<td class="cellalignment4329" headers="r19c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r19c1-t3 r1c3-t3">
<p><code dir="ltr">32768</code></p>
</td>
<td class="cellalignment4329" headers="r19c1-t3 r1c4-t3">
<p>In-Memory compression level optimized for query performance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r20c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INMEMORY_QUERY_HIGH</code></p>
</td>
<td class="cellalignment4329" headers="r20c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r20c1-t3 r1c3-t3">
<p><code dir="ltr">65536</code></p>
</td>
<td class="cellalignment4329" headers="r20c1-t3 r1c4-t3">
<p>In-Memory compression level optimized on query performance as well as space saving</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r21c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INMEMORY_CAPACITY_LOW</code></p>
</td>
<td class="cellalignment4329" headers="r21c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r21c1-t3 r1c3-t3">
<p><code dir="ltr">32768</code></p>
</td>
<td class="cellalignment4329" headers="r21c1-t3 r1c4-t3">
<p>In-Memory low compression level optimizing for capacity</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r22c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_INMEMORY_CAPACITY_HIGH</code></p>
</td>
<td class="cellalignment4329" headers="r22c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r22c1-t3 r1c3-t3">
<p><code dir="ltr">65536</code></p>
</td>
<td class="cellalignment4329" headers="r22c1-t3 r1c4-t3">
<p>In-Memory high compression level optimizing for capacity</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r23c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_RATIO_MINROWS</code></p>
</td>
<td class="cellalignment4329" headers="r23c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r23c1-t3 r1c3-t3">
<p><code dir="ltr">1000000</code></p>
</td>
<td class="cellalignment4329" headers="r23c1-t3 r1c4-t3">
<p>Minimum required number of rows in the object for which HCC ratio is to be estimated</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r24c1-t3" headers="r1c1-t3">
<p><code dir="ltr">COMP_RATIO_ALLROWS</code></p>
</td>
<td class="cellalignment4329" headers="r24c1-t3 r1c2-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r24c1-t3 r1c3-t3">
<p><code dir="ltr">-1</code></p>
</td>
<td class="cellalignment4329" headers="r24c1-t3 r1c4-t3">
<p>To indicate the use of all the rows in the object to estimate HCC ratio</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r25c1-t3" headers="r1c1-t3">
<p><code dir="ltr">OBJTYPE_TABLE</code></p>
</td>
<td class="cellalignment4329" headers="r25c1-t3 r1c2-t3">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r25c1-t3 r1c3-t3">
<p><code dir="ltr">1</code></p>
</td>
<td class="cellalignment4329" headers="r25c1-t3 r1c4-t3">
<p>Identifies the object whose compression ratio is estimated as of type table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r26c1-t3" headers="r1c1-t3">
<p><code dir="ltr">OBJTYPE_INDEX</code></p>
</td>
<td class="cellalignment4329" headers="r26c1-t3 r1c2-t3">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r26c1-t3 r1c3-t3">
<p>2</p>
</td>
<td class="cellalignment4329" headers="r26c1-t3 r1c4-t3">
<p>Identifies the object whose compression ratio is estimated as of type index</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
Hybrid columnar compression is a feature of certain Oracle storage systems. See <a class="olink CNCPT89198" href="../CNCPT/tablecls.htm#CNCPT89198"><span class="italic">Oracle Database Concepts</span></a> for more information.</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BABBEEGE"></a>
<div id="ARPLS74997" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Data Structures</h2>
<p>The <code dir="ltr">DBMS_COMPRESSION</code> package defines a <code dir="ltr">RECORD</code> type and a <code dir="ltr">TABLE</code> type.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1599"></a>RECORD TYPES</p>
<p><a href="#BABEGDHF">COMPREC Record Type</a></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1600"></a>TABLE TYPES</p>
<p><a href="#BABEJBJF">COMPRECLIST Table Type</a></p>
</div>
<!-- class="refsubsect" -->
<div id="ARPLS74998" class="refsect2"><a id="BABEGDHF"></a>
<h3 class="refsect2">COMPREC Record Type</h3>
<p>Record for calculating an individual index compression ratio on a table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1601"></a>Syntax</p>
<pre dir="ltr">TYPE COMPREC IS RECORD(
  ownname           varchar2(255),
  objname           varchar2(255),
  blkcnt_cmp        PLS_INTEGER,
  blkcnt_uncmp      PLS_INTEGER,
  row_cmp           PLS_INTEGER,
  row_uncmp         PLS_INTEGER,
  cmp_ratio         NUMBER,
  objtype           PLS_INTEGER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1602"></a>Fields</p>
<div id="ARPLS74999" class="tblformal">
<p class="titleintable"><a id="sthref1603"></a><a id="sthref1604"></a>Table 36-2 COMPREC Attributes</p>
<table class="cellalignment4330" title="COMPREC Attributes" summary="This table desribes the field of the COMPREC Record Type" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Field</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">ownname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>Schema of the object owner</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">objname</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t5" headers="r1c1-t5">
<p><code dir="ltr">blkcnt_cmp</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c2-t5">
<p>Number of blocks used by the compressed sample of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t5" headers="r1c1-t5">
<p><code dir="ltr">blkcnt_uncmp</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t5 r1c2-t5">
<p>Number of blocks used by the uncompressed sample of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t5" headers="r1c1-t5">
<p><code dir="ltr">row_cmp</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t5 r1c2-t5">
<p>Number of rows in a block in compressed sample of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t5" headers="r1c1-t5">
<p><code dir="ltr">row_uncmp</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t5 r1c2-t5">
<p>Number of rows in a block in uncompressed sample of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t5" headers="r1c1-t5">
<p><code dir="ltr">cmp_ratio</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t5 r1c2-t5">
<p>Compression ratio, <code dir="ltr">blkcnt_uncmp</code> divided by <code dir="ltr">blkcnt_cmp</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t5" headers="r1c1-t5">
<p><code dir="ltr">objtype</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t5 r1c2-t5">
<p>Type of the object</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS75000" class="refsect2"><a id="BABEJBJF"></a>
<h3 class="refsect2">COMPRECLIST Table Type</h3>
<p>A table type of <a href="#BABEGDHF">COMPREC Record Type</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1605"></a>Syntax</p>
<pre dir="ltr">TYPE compreclist IS TABLE OF comprec;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BEIJJDAC"></a>
<div id="ARPLS65601" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_COMPRESSION Subprograms</h2>
<div id="ARPLS65602" class="tblformal">
<p class="titleintable"><a id="sthref1606"></a><a id="sthref1607"></a>Table 36-3 DBMS_COMPRESSION Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_COMPRESSION Package Subprograms" summary="DBMS_COMPRESSION Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><a href="#BEIBEEJC">GET_COMPRESSION_RATIO Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>Analyzes the compression ratio of a table, and gives information about compressibility of a table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><a href="#BEIFFAHJ">GET_COMPRESSION_TYPE Function</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>Returns the compression type for a specified row</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS65605" class="refsect2"><a id="BEIBEEJC"></a>
<h3 class="refsect2"><a id="sthref1608"></a>GET_COMPRESSION_RATIO Procedure</h3>
<p>This procedure analyzes the compression ratio of a table, and gives information about compressibility of a table. Various parameters can be provided by the user to selectively analyze different compression types.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1609"></a>Syntax</p>
<p>Get compression ratio for an object (table or index, default is table):</p>
<pre dir="ltr">DBMS_COMPRESSION.GET_COMPRESSION_RATIO (
   scratchtbsname        IN     VARCHAR2, 
   ownname               IN     VARCHAR2, 
   objname               IN     VARCHAR2,
   subobjname            IN     VARCHAR2,
   comptype              IN     NUMBER,
   blkcnt_cmp            OUT    PLS_INTEGER,
   blkcnt_uncmp          OUT    PLS_INTEGER,
   row_cmp               OUT    PLS_INTEGER,
   row_uncmp             OUT    PLS_INTEGER,
   cmp_ratio             OUT    NUMBER,
   comptype_str          OUT    VARCHAR2,
   subset_numrows        IN     NUMBER  DEFAULT COMP_RATIO_MINROWS,
   objtype               IN     PLS_INTEGER DEFAULT OBJTYPE_TABLE); 
</pre>
<p>Get compression ratio for LOBs:</p>
<pre dir="ltr">DBMS_COMPRESSION.GET_COMPRESSION_RATIO (
   scratchtbsname        IN     VARCHAR2,
   tabowner              IN     VARCHAR2,
   tabname               IN     VARCHAR2,
   lobname               IN     VARCHAR2,
   partname              IN     VARCHAR2,
   comptype              IN     NUMBER,
   blkcnt_cmp            OUT    PLS_INTEGER,
   blkcnt_uncmp          OUT    PLS_INTEGER,
   lobcnt                OUT    PLS_INTEGER,
   cmp_ratio             OUT    NUMBER,
   comptype_str          OUT    VARCHAR2,
   subset_numrows        IN     number DEFAULT COMP_RATIO_LOB_MAXROWS);
</pre>
<p>Get compression ratio for all indexes on a table. The compression ratios are returned as a collection.</p>
<pre dir="ltr">DBMS_COMPRESSION.GET_COMPRESSION_RATIO (
  scratchtbsname        IN     VARCHAR2,
  ownname               IN     VARCHAR2,
  tabname               IN     VARCHAR2,
  comptype              IN     NUMBER,
  index_cr              OUT    compRecList,
  comptype_str          OUT    VARCHAR2,
  subset_numrows        IN     NUMBER DEFAULT COMP_RATIO_INDEX_MINROWS);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1610"></a>Parameters</p>
<div id="ARPLS65606" class="tblformal">
<p class="titleintable"><a id="sthref1611"></a><a id="sthref1612"></a>Table 36-4 GET_COMPRESSION_RATIO Procedure Parameters</p>
<table class="cellalignment4330" title="GET_COMPRESSION_RATIO Procedure Parameters" summary="This table describes the Parameters of DBMS_COMPRESSION.GET_COMPRESSION_RATIO subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">scratchtbsname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Temporary scratch tablespace that can be used for analysis</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">ownname</code> / <code dir="ltr">tabowner</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>Schema of the table to analyze</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">tabname</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>Name of the table to analyze</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t7" headers="r1c1-t7">
<p><code dir="ltr">objname</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t7 r1c2-t7">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t7" headers="r1c1-t7">
<p><code dir="ltr">subobjname</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t7 r1c2-t7">
<p>Name of the partition or sub-partition of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t7" headers="r1c1-t7">
<p><code dir="ltr">comptype</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t7 r1c2-t7">
<p>Compression types for which analysis should be performed</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t7" headers="r1c1-t7">
<p><code dir="ltr">blkcnt_cmp</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t7 r1c2-t7">
<p>Number of blocks used by compressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t7" headers="r1c1-t7">
<p><code dir="ltr">blkcnt_uncmp</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t7 r1c2-t7">
<p>Number of blocks used by uncompressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t7" headers="r1c1-t7">
<p><code dir="ltr">row_cmp</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t7 r1c2-t7">
<p>Number of rows in a block in compressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t7" headers="r1c1-t7">
<p><code dir="ltr">row_uncmp</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t7 r1c2-t7">
<p>Number of rows in a block in uncompressed sample of the table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t7" headers="r1c1-t7">
<p><code dir="ltr">cmp_ratio</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t7 r1c2-t7">
<p>Compression ratio, <code dir="ltr">blkcnt_uncmp</code> divided by <code dir="ltr">blkcnt_cmp</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t7" headers="r1c1-t7">
<p><code dir="ltr">comptype_str</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t7 r1c2-t7">
<p>String describing the compression type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t7" headers="r1c1-t7">
<p><code dir="ltr">subset_numrows</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t7 r1c2-t7">
<p>Number of rows sampled to estimate compression ratio.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t7" headers="r1c1-t7">
<p><code dir="ltr">objtype</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t7 r1c2-t7">
<p>Type of the object. Should be a constant to indicate object types defined in this package.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t7" headers="r1c1-t7">
<p><code dir="ltr">lobname</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t7 r1c2-t7">
<p>Name of the LOB column</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t7" headers="r1c1-t7">
<p><code dir="ltr">partname</code></p>
</td>
<td class="cellalignment4329" headers="r17c1-t7 r1c2-t7">
<p>In case of partitioned tables, the related partition name</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r18c1-t7" headers="r1c1-t7">
<p><code dir="ltr">lobcnt</code></p>
</td>
<td class="cellalignment4329" headers="r18c1-t7 r1c2-t7">
<p>Number of lobs actually sampled to estimate compression ratio</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r19c1-t7" headers="r1c1-t7">
<p><code dir="ltr">index_cr</code></p>
</td>
<td class="cellalignment4329" headers="r19c1-t7 r1c2-t7">
<p>List of indexes and their estimated compression ratios</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1613"></a>Usage Notes</p>
<p>The procedure creates different tables in the scratch tablespace and runs analysis on these objects. It does not modify anything in the user-specified tables.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65609" class="refsect2"><a id="BEIFFAHJ"></a>
<h3 class="refsect2"><a id="sthref1614"></a>GET_COMPRESSION_TYPE Function</h3>
<p>This function returns the compression type for a specified row. If the row is chained, the function returns the compression type of the head piece only, and does not examine the intermediate or the tail piece since head pieces can be differently compressed.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1615"></a>Syntax</p>
<pre dir="ltr">DBMS_COMPRESSION.GET_COMPRESSION_TYPE (
   ownname      IN    VARCHAR2, 
   tabname      IN    VARCHAR2, 
   row_id       IN    ROWID,
   subobjname   IN    VARCHAR2 DEFAULT NULL))
  RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1616"></a>Parameters</p>
<div id="ARPLS65610" class="tblformal">
<p class="titleintable"><a id="sthref1617"></a><a id="sthref1618"></a>Table 36-5 GET_COMPRESSION_TYPE Function Parameters</p>
<table class="cellalignment4330" title="GET_COMPRESSION_TYPE Function Parameters" summary="This table describes the Parameters of DBMS_COMPRESSION.GET_COMPRESSION_RATIO subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">ownname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>Schema name of the table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">tabname</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>Name of table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">rowid</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">
<p>Rowid of the row</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t8" headers="r1c1-t8">
<p><code dir="ltr">subobjname</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t8 r1c2-t8">
<p>Name of the table partition or subpartition</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1619"></a>Return Values</p>
<p>Flag to indicate the compression type (see <a href="#BEIBFCCB">DBMS_COMPRESSION Constants - Compression Types</a>).</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_comparison.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_connection_pool.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
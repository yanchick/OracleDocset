<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2497"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OWA_PATTERN"></a><title>OWA_PATTERN</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:37:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="w_optlock.htm" title="Previous" type="text/html"/>
<link rel="Next" href="w_sec.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">220/290</span> <!-- End Header -->
<div id="ARPLS398" class="chapter"><a id="CHDGFDDG"></a>
<h1 class="chapter"><span class="secnum">216</span> OWA_PATTERN</h1>
<p>The <a id="sthref17869"></a>OWA_PATTERN package provides an interface to locate text patterns within strings and replace the matched string with another string.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information about implementation of this package:
<ul>
<li>
<p><a class="olink HSADM" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=HSADM"><span class="italic">Oracle Fusion Middleware Administrator&#39;s Guide for Oracle HTTP Server</span></a></p>
</li>
<li>
<p><a class="olink YPMOD" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=YPMOD"><span class="italic">Oracle Fusion Middleware User&#39;s Guide for mod_plsql</span></a></p>
</li>
</ul>
</div>
<p>The chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDDJIGI">Using OWA_PATTERN</a></p>
<ul>
<li>
<p>Types</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i997998">Summary of OWA_PATTERN Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CHDDJIGI"></a>
<div id="ARPLS70709" class="refsect1">
<h2 class="refsect1">Using OWA_PATTERN</h2>
<ul>
<li>
<p><a href="#i999674">Types</a></p>
</li>
<li>
<p><a href="#i999692">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS70710" class="refsect2"><a id="i999674"></a>
<h3 class="refsect2">Types</h3>
<p>You can use a pattern as both an input and output parameter. Thus, you can pass the same regular expression to <code dir="ltr">OWA_PATTERN</code> function calls, and it only has to be parsed once.</p>
<ul>
<li>
<p><code dir="ltr">OWA_PATTERN.PATTERN</code></p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS70711" class="refsect2"><a id="i999692"></a>
<h3 class="refsect2">Operational Notes</h3>
<p>The OWA_PATTERN subprograms are overloaded. Specifically, there are six versions of <code dir="ltr">MATCH</code>, and four each of <code dir="ltr">AMATCH</code> and <code dir="ltr">CHANGE</code>. The subprograms use the following parameters:</p>
<ul>
<li>
<p><code dir="ltr">line</code> - This is the target to be examined for a match. It can be more than one line of text or a owa_text.multi_line datatype.</p>
</li>
<li>
<p><code dir="ltr">pat</code> - This is the pattern that the subprograms attempt to locate in line. The pattern can contain regular expressions. In the owa_pattern.change function and procedure, this parameter is called <code dir="ltr">from_str</code>.</p>
</li>
<li>
<p><code dir="ltr">flags</code> - This specifies whether the search is case-sensitive or if substitutions are done globally.</p>
</li>
</ul>
<p>Use regular expressions with the subprograms in this package. You Specify a regular expression by creating the string you want to match interspersed with various wildcard tokens and quantifiers.</p>
<ul>
<li>
<p><a href="#i999643">Wildcards</a></p>
</li>
<li>
<p><a href="#i999668">Quantifiers</a></p>
</li>
<li>
<p><a href="#i999669">Flags</a></p>
</li>
</ul>
<div id="ARPLS70712" class="refsect3"><a id="i999643"></a>
<h4 class="refsect3">Wildcards</h4>
<p>Wildcard tokens match something other than themselves:</p>
<div id="ARPLS70713" class="tblformal">
<p class="titleintable"><a id="sthref17870"></a><a id="sthref17871"></a>Table 216-1 <span class="bolditalic">Wildcard tokens recognized by OWA_PATTERN package</span></p>
<table class="cellalignment4330" title="Wildcard tokens recognized by OWA_PATTERN package" summary="This table describes Wildcard Tokens recognized by OWA_PATTERN subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Token</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">^</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>Matches newline or the beginning of the target</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">$</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>Matches newline or the end of the target</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\n</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p>Matches newline</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><code dir="ltr">.</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>Matches any character except newline</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\t</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p>Matches tab</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\d</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>Matches digits [0-9]</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\D</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p>Matches non-digits [not 0-9]</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\w</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p>Matches word characters (0-9, a-z, A-Z, or _)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\W</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c2-t3">
<p>Matches non-word characters (not 0-9, a-z, A-Z, or _)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\s</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c2-t3">
<p>Matches whitespace characters (blank, tab, or newline).</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\S</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t3 r1c2-t3">
<p>Matches non-whitespace characters (not blank, tab, or newline)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\b</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t3 r1c2-t3">
<p>Matches &#34;word&#34; boundaries (between \w and \W)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\x&lt;HEX&gt;</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t3 r1c2-t3">
<p>Matches the value in the current character set of the two hexadecimal digits</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\&lt;OCT&gt;</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t3 r1c2-t3">
<p>Matches the value in the current character set of the two or three octal digits</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t3" headers="r1c1-t3">
<p><code dir="ltr">\</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t3 r1c2-t3">
<p>Followed by any character not covered by another case matches that character</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t3" headers="r1c1-t3">
<p><code dir="ltr">&amp;</code></p>
</td>
<td class="cellalignment4329" headers="r17c1-t3 r1c2-t3">
<p>Applies only to <code dir="ltr">CHANGE</code>. This causes the string that matched the regular expression to be included in the string that replaces it. This differs from the other tokens in that it specifies how a target is changed rather than how it is matched. This is explained further under <a href="#i998597">CHANGE Functions and Procedures</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="ARPLS70714" class="refsect3"><a id="i999668"></a>
<h4 class="refsect3">Quantifiers</h4>
<p>Any tokens except <code dir="ltr">&amp;</code> can have their meaning extended by any of the following quantifiers. You can also apply these quantifiers to literals:</p>
<div id="ARPLS70715" class="tblformal">
<p class="titleintable"><a id="sthref17872"></a><a id="sthref17873"></a>Table 216-2 Quantifiers</p>
<table class="cellalignment4330" title="Quantifiers" summary="This table describes Quantifiers used by OWA_PATTERN subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Quantifier</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">?</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>0 or 1 occurrence(s)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">*</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p>0 or more occurrences</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">+</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p>1 or more occurrence(s)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t4" headers="r1c1-t4">
<p><code dir="ltr">{n}</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c2-t4">
<p>Exactly <span class="italic">n</span> occurrences</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t4" headers="r1c1-t4">
<p><code dir="ltr">(n,}</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t4 r1c2-t4">
<p>At least <span class="italic">n</span> occurrences</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t4" headers="r1c1-t4">
<p><code dir="ltr">{n,m}</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t4 r1c2-t4">
<p>At least <span class="italic">n</span>, but not more than <span class="italic">m</span>, occurrences</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" -->
<div id="ARPLS70716" class="refsect3"><a id="i999669"></a>
<h4 class="refsect3">Flags</h4>
<p>In addition to targets and regular expressions, the <code dir="ltr">OWA_PATTERN</code> functions and procedures use flags to affect how they are interpreted.</p>
<div id="ARPLS70717" class="tblformal">
<p class="titleintable"><a id="sthref17874"></a><a id="sthref17875"></a>Table 216-3 Flags</p>
<table class="cellalignment4330" title="Flags" summary="This table describes Flags used by OWA_PATTERN subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Flag</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">i</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>This indicates a case-insensitive search.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">g</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>This applies only to CHANGE. It indicates a global replace. That is, all portions of the target that match the regular expression are replaced.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i997998"></a>
<div id="ARPLS70718" class="refsect1">
<h2 class="refsect1">Summary of OWA_PATTERN Subprograms</h2>
<div id="ARPLS70719" class="tblformal">
<p class="titleintable"><a id="sthref17876"></a><a id="sthref17877"></a>Table 216-4 OWA_PATTERN Package Subprograms</p>
<table class="cellalignment4330" title="OWA_PATTERN Package Subprograms " summary="This table lists the OWA_PATTERN subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><a href="#i998053">AMATCH Function</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>Determines if a string contains the specified pattern. It lets you specify where in the string the match has to occur</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><a href="#i998597">CHANGE Functions and Procedures</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>Replaces a pattern within a string. If you call it as a function it returns the number of times the regular expression was found and replaced</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><a href="#i998054">GETPAT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>Generates a pattern datatype from a <code dir="ltr">VARCHAR2</code> type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t6" headers="r1c1-t6">
<p><a href="#i999925">MATCH Function</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c2-t6">
<p>Determines if a string contains the specified pattern</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS70720" class="refsect2"><a id="i998053"></a>
<h3 class="refsect2"><a id="sthref17878"></a>AMATCH Function</h3>
<p>This function specifies if a pattern occurs in a particular location in a string. There are four versions to this function:</p>
<ul>
<li>
<p>The first and second versions of the function do not save the matched tokens (these are saved in the <code dir="ltr">backrefs</code> parameters in the third and fourth versions). The difference between the first and second versions is the <code dir="ltr">pat</code> parameter, which can be a <code dir="ltr">VARCHAR2</code> or a pattern datatype.</p>
</li>
<li>
<p>The third and fourth versions of the function save the matched tokens in the <code dir="ltr">backrefs</code> parameter. The difference between the third and fourth versions is the <code dir="ltr">pat</code> parameter, which can be a VARCHAR2 or a pattern datatype.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If multiple overlapping strings match the regular expression, this function takes the longest match.</div>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17879"></a>Syntax</p>
<pre dir="ltr">OWA_PATTERN.AMATCH(
   line           IN       VARCHAR2,
   from_loc       IN       INTEGER,
   pat            IN       VARCHAR2,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN INTEGER;

OWA_PATTERN.AMATCH(
   line           IN       VARCHAR2,
   from_loc       IN       INTEGER,
   pat            IN OUT   PATTERN,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN INTEGER;

OWA_PATTERN.AMATCH(
   line           IN       VARCHAR2
   from_loc       IN       INTEGER
   pat            in       varchar2
   backrefs       OUT      owa_text.vc_arr
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN INTEGER;

OWA_PATTERN.AMATCH(
   line           IN       VARCHAR2
   from_loc       IN       INTEGER
   pat            IN OUT   PATTERN
   backrefs       OUT      owa_text.vc_arr
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN INTEGER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17880"></a>Parameters</p>
<div id="ARPLS70721" class="tblformal">
<p class="titleintable"><a id="sthref17881"></a><a id="sthref17882"></a>Table 216-5 AMATCH Function Parameters</p>
<table class="cellalignment4330" title="AMATCH Function Parameters " summary="This table describes the Parameters of the OWA_PATTERN.AMATCH subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">line</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>The text to search in.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p>from_loc</p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>The location (in number of characters) in <code dir="ltr">line</code> where the search is to begin.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">pat</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">
<p>The string to match. It can contain regular expressions. This can be either a <code dir="ltr">VARCHAR2</code> or a pattern. If it is a pattern, the output value of this parameter is the pattern matched.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t8" headers="r1c1-t8">
<p>backrefs</p>
</td>
<td class="cellalignment4329" headers="r5c1-t8 r1c2-t8">
<p>The text that is matched. Each token that is matched is placed in a cell in the <code dir="ltr">OWA_TEXT.VC_ARR DATA TYPE</code> PL/SQL table.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t8" headers="r1c1-t8">
<p>flags</p>
</td>
<td class="cellalignment4329" headers="r6c1-t8 r1c2-t8">
<p>Whether or not the search is case-sensitive. If the value of this parameter is &#34;i&#34;, the search is case-insensitive. Otherwise the search is case-sensitive.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17883"></a>Return Values</p>
<p>The index of the character after the end of the match, counting from the beginning of <code dir="ltr">line</code>. If there was no match, the function returns <code dir="ltr">0</code>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70722" class="refsect2"><a id="i998597"></a>
<h3 class="refsect2"><a id="sthref17884"></a>CHANGE Functions and Procedures</h3>
<p>This function or procedure searches and replaces a string or <code dir="ltr">multi_line</code> datatype. If multiple overlapping strings match the regular expression, this subprogram takes the longest match.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17885"></a>Syntax</p>
<pre dir="ltr">OWA_PATTERN.CHANGE(
   line           IN OUT    VARCHAR2,
   from_str       IN        VARCHAR2,
   to_str         IN        VARCHAR2,
   flags          IN        VARCHAR2   DEFAULT NULL)
 RETURN INTEGER;

OWA_PATTERN.CHANGE(
   line           IN OUT   VARCHAR2,
   from_str       IN       VARCHAR2,
   to_str         IN       VARCHAR2,
   flags          IN       VARCHAR2   DEFAULT NULL);

owa_pattern.change(
   mline          IN OUT   owa_text.multi_line,
   from_str       IN       VARCHAR2,
   to_str         IN       VARCHAR2,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN INTEGER;

OWA_PATTERN.CHANGE(
   mline          IN OUT   owa_text.multi_line,
   from_str       IN       VARCHAR2,
   to_str         IN       VARCHAR2,
   flags          IN       VARCHAR2   DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17886"></a>Parameters</p>
<div id="ARPLS70723" class="tblformal">
<p class="titleintable"><a id="sthref17887"></a><a id="sthref17888"></a>Table 216-6 CHANGE Procedure Parameters</p>
<table class="cellalignment4330" title="CHANGE Procedure Parameters " summary="This table describes the Parameters of the OWA_PATTERN.CHANGE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">line</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>The text to search in. The output value of this parameter is the altered string.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p>mline</p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>The text to search in. This is a <code dir="ltr">owa_text.multi_line datatype</code>. The output value of this parameter is the altered string.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9">
<p><code dir="ltr">from_str</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">
<p>The regular expression to replace.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t9" headers="r1c1-t9">
<p>to_str</p>
</td>
<td class="cellalignment4329" headers="r5c1-t9 r1c2-t9">
<p>The substitution pattern.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t9" headers="r1c1-t9">
<p>flags</p>
</td>
<td class="cellalignment4329" headers="r6c1-t9 r1c2-t9">
<p>Whether or not the search is case-sensitive, and whether or not changes are to be made globally. If &#34;<code dir="ltr">i</code>&#34; is specified, the search is case-insensitive. If &#34;<code dir="ltr">g</code>&#34; is specified, changes are made to all matches. Otherwise, the function stops after the first substitution is made.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17889"></a>Return Values</p>
<p>As a function, it returns the number of substitutions made. If the flag &#34;g&#34; is not used, this number can only be 0 or 1 and only the first match is replaced. The flag &#34;g&#34; specifies to replace all matches with the regular expression.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17890"></a>Examples</p>
<pre dir="ltr">OWA_PATTERN.CHANGE(&#39;Cats in pajamas&#39;, &#39;C.+in&#39;, &#39;&amp; red &#39;)
</pre>
<p>The regular expression matches the substring &#34;<code dir="ltr">Cats</code> <code dir="ltr">in</code>&#34;. It then replaces this string with &#34;&amp; red&#34;. The ampersand character &#34;<code dir="ltr">&amp;</code>&#34; indicates &#34;<code dir="ltr">Cats</code> <code dir="ltr">in</code>&#34; because that is what matched the regular expression. Thus, this procedure replaces the string &#34;<code dir="ltr">Cats</code> <code dir="ltr">in</code> <code dir="ltr">pajamas</code>&#34; with &#34;<code dir="ltr">Cats</code> <code dir="ltr">in</code> <code dir="ltr">red</code>&#34; If you call this as a function instead of a procedure, the value returned is 1, indicating that a single substitution has been made.</p>
<p>Example 2:</p>
<pre dir="ltr">CREATE OR REPLACE PROCEDURE test_pattern as theline VARCHAR2(256);
num_found     INTEGER;
   BEGIN
       theline := &#39;what is the goal?&#39;;
       num_found := OWA_PATTERN.CHANGE(theline, &#39;goal&#39;, &#39;idea&#39;, &#39;g&#39;);
       HTP.PRINT(num_found); -- num_found is 1
       HTP.PRINT(theline); -- theline is &#39;what is the idea?&#39;
   END;
/
SHOW ERRORS
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70724" class="refsect2"><a id="i998054"></a>
<h3 class="refsect2"><a id="sthref17891"></a>GETPAT Procedure</h3>
<p>This procedure converts a VARCHAR2 string into an <code dir="ltr">OWA_PATTERN.PATTERN DATA TYPE</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17892"></a>Syntax</p>
<pre dir="ltr">OWA_PATTERN.GETPAT(
   arg      IN          VARCHAR2, 
   pat      IN OUT      pattern);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17893"></a>Parameters</p>
<div id="ARPLS70725" class="tblformal">
<p class="titleintable"><a id="sthref17894"></a><a id="sthref17895"></a>Table 216-7 GETPAT Procedure Parameters</p>
<table class="cellalignment4330" title="GETPAT Procedure Parameters " summary="This table describes the Parameters of the OWA_PATTERN.GETPAT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">arg</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>The string to convert.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p>pat</p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>the <code dir="ltr">OWA_PATTERN.PATTERN DATA TYPE</code> initialized with <code dir="ltr">arg</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70726" class="refsect2"><a id="i999925"></a>
<h3 class="refsect2"><a id="sthref17896"></a>MATCH Function</h3>
<p>This function determines if a string contains the specified pattern. The pattern can contain regular expressions. If multiple overlapping strings can match the regular expression, this function takes the longest match.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17897"></a>Syntax</p>
<pre dir="ltr">owa_pattern.match(
   line           IN       VARCHAR2,
   pat            IN       VARCHAR2,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN BOOLEAN;

owa_pattern.match(
   line           IN       VARCHAR2,
   pat            IN OUT   PATTERN,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN BOOLEAN;

owa_pattern.match(
   line           IN       VARCHAR2,
   pat            IN       VARCHAR2,
   backrefs       OUT      owa_text.vc_arr,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN BOOLEAN;

OWA_PATTERN.MATCH(
   line           IN       VARCHAR2,
   pat            IN OUT   PATTERN,
   backrefs       OUT      owa_text.vc_arr,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN BOOLEAN;

owa_pattern.match(
   mline          IN       owa_text.multi_line,
   pat            IN       VARCHAR2,
   rlist          OUT      owa_text.row_list,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN BOOLEAN;

OWA_PATTERN.MATCH(
   mline          IN       owa_text.multi_line,
   pat            IN OUT   pattern,
   rlist          OUT      owa_text.row_list,
   flags          IN       VARCHAR2   DEFAULT NULL)
 RETURN BOOLEAN;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17898"></a>Parameters</p>
<div id="ARPLS70727" class="tblformal">
<p class="titleintable"><a id="sthref17899"></a><a id="sthref17900"></a>Table 216-8 MATCH Function Parameters</p>
<table class="cellalignment4330" title="MATCH Function Parameters " summary="This table describes the Parameters of the OWA_PATTERN.CHANGE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">line</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>The line to search in.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><code dir="ltr">mline</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>The text to search in. This is a <code dir="ltr">owa_text.multi_line datatype</code>..</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t11" headers="r1c1-t11">
<p><code dir="ltr">pat</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t11 r1c2-t11">
<p>The pattern to match. This is either a <code dir="ltr">VARCHAR2</code> or a <code dir="ltr">OWA_PATTERN.PATTERN DATA TYPE</code>. It is a pattern, the output value of this parameter is the pattern matched.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t11" headers="r1c1-t11">
<p><code dir="ltr">backrefs</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t11 r1c2-t11">
<p>The text that is matched. Each token that is matched is placed in a cell in the <code dir="ltr">OWA_TEXT.VC_ARR DATA TYPE</code> PL/SQL table. <code dir="ltr">This parameter is a row_list</code> that holds each string in the target that was matched by a sequence of tokens in the regular expression.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t11" headers="r1c1-t11">
<p><code dir="ltr">rlist</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t11 r1c2-t11">
<p>An output parameter containing a list of matches.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t11" headers="r1c1-t11">
<p><code dir="ltr">flags</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t11 r1c2-t11">
<p>Whether or not the search is case-sensitive. If the value of this parameter is &#34;i&#34;, the search is case-insensitive. Otherwise the search is case-sensitive.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17901"></a>Return Values</p>
<p><code dir="ltr">TRUE</code> if a match was found, <code dir="ltr">FALSE</code> otherwise.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17902"></a>Examples</p>
<p><code dir="ltr">KAZOO</code> is the target where it is searching for the <code dir="ltr">zoo.*</code> regular expression. The period indicates any character other than newline, and the asterisk matches 0 or more of the preceding characters. In this case, it matches any character other than the newline.</p>
<p>Therefore, this regular expression specifies that a matching target consists of <code dir="ltr">zoo</code>, followed by any set of characters neither ending in nor including a newline (which does not match the period). The i flag indicates to ignore case in the search. In this case, the function returns <code dir="ltr">TRUE</code>, which indicates that a match had been found.</p>
<pre dir="ltr">boolean foundMatch;
foundMatch := owa_pattern.match(&#39;KAZOO&#39;, &#39;zoo.*&#39;, &#39;i&#39;);
</pre>
<p>The following example searches for the string &#34;goal&#34; followed by any number of characters in <code dir="ltr">sometext</code>. If found,</p>
<pre dir="ltr">sometext  VARCHAR2(256);
pat       VARCHAR2(256);

sometext    := &#39;what is the goal?&#39;
pat         := &#39;goal.*&#39;;
IF OWA_PATTERN.MATCH(sometext, pat) 
   THEN
      HTP.PRINT(&#39;Match found&#39;);
   ELSE
     HTP.PRINT(&#39;Match not found&#39;);
END IF;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref17903"></a>Operational Notes</p>
<ul>
<li>
<p>The regular expression in this function can be either a <code dir="ltr">VARCHAR2</code> or an <code dir="ltr">OWA_PATTERN.PATTERN</code> <code dir="ltr">DATA</code> <code dir="ltr">TYPE.</code> Create <code dir="ltr">AN OWA_PATTERN.PATTERN DATA TYPE</code> from a string using the <code dir="ltr">OWA_PATTERN.GETPAT</code> procedure.</p>
</li>
<li>
<p>Create a <code dir="ltr">MULTI_LINE</code> <code dir="ltr">DATA</code> <code dir="ltr">TYPE</code> from a long string using the <code dir="ltr">OWA_TEXT.STREAM2MULTI</code> procedure. If a <code dir="ltr">multi_line</code> is used, the <code dir="ltr">rlist</code> parameter specifies a list of chunks where matches were found.</p>
</li>
<li>
<p>If the line is a string and not a <code dir="ltr">multi_line</code>, you can add an optional output parameter called <code dir="ltr">backrefs</code>. This parameter is a <code dir="ltr">row_list</code> that holds each string in the target that was matched by a sequence of tokens in the regular expression.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="w_optlock.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="w_sec.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
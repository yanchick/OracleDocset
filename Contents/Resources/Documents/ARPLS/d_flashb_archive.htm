<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2271"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_FLASHBACK_ARCHIVE"></a><title>DBMS_FLASHBACK_ARCHIVE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:20Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_flashb.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_goldengate_auth.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">75/290</span> <!-- End Header -->
<div id="ARPLS72463" class="chapter"><a id="CHDDCEDI"></a>
<h1 class="chapter"><span class="secnum">71</span> DBMS_FLASHBACK_ARCHIVE</h1>
<p>The <code dir="ltr">DBMS_FLASHBACK_ARCHIVE</code> package contains procedures for performing various tasks such as:</p>
<ul>
<li>
<p>Disassociation and reassociation of a Flashback Data Archive (FDA) enabled table from/with its underlying FDA</p>
</li>
<li>
<p>Tamper-proofing the tables of an application</p>
</li>
<li>
<p>Importing of user history</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Importing user-generated history can lead to inaccurate, or unreliable results. This procedure should only be used after consulting with Oracle Support.</div>
</li>
<li>
<p>Enabling and disabling of session-level support for valid-time</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<span class="italic">Oracle Database Development Guide</span> for more information about <a class="olink ADFNS01011" href="../ADFNS/adfns_flashback.htm#ADFNS01011">&#34;Using Flashback Data Archive (Oracle Temporal)&#34;</a></div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDGBBBC">Using DBMS_FLASHBACK_ARCHIVE</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
</ul>
</li>
<li>
<p><a href="#CHDHDIEG">Summary of DBMS_FLASHBACK_ARCHIVE Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CHDGBBBC"></a>
<div id="ARPLS72464" class="refsect1">
<h2 class="refsect1">Using DBMS_FLASHBACK_ARCHIVE</h2>
<ul>
<li>
<p><a href="#CHDDCCFA">Overview</a></p>
</li>
<li>
<p><a href="#CHDFJGAH">Security Model</a></p>
</li>
<li>
<p><a href="#CHDEAADF">Constants</a></p>
</li>
</ul>
<div id="ARPLS72473" class="refsect2"><a id="CHDDCCFA"></a>
<h3 class="refsect2">Overview</h3>
<p>Flashback Data Archive (FDA) provides strict protection on the internal history tables that it creates and maintains for users.</p>
<p>The read-only semantics prohibit users, including a DBA, from doing updates, deletes, and inserts on the Flashback Data Archive internal history tables. Users are also prevented from issuing any DDL statements on these tables. This strict security enforcement helps meet the requirements of applications in regulatory / compliance environments. Flashback Data Archive supports most common DDL statements, including those that alter the table definition or incur data movement. However, some DDL statements are not supported on Flashback Data Archive-enabled tables. Since most application schemas are modified during application software upgrades, the ability to perform DDL operations on tracked tables is critical.</p>
<p>To support schema evolution during application upgrades and other table maintenance tasks that require use of DDL statements not supported by Flashback Data Archive, the <code dir="ltr">DBMS_FLASHBACK_ARCHIVE</code> package provides a set of simple-to-use PL/SQL procedures:</p>
<ul>
<li>
<p>To disassociate a Flashback Data Archive enabled base table from the underlying FDA</p>
</li>
<li>
<p>To reassociate a temporarily disassociated base table with its underlying FDA</p>
</li>
</ul>
<p>After a user has disassociated the base table from its FDA, it&#39;s possible to issue any DDL statements on the base table or the history tables in the FDA. Having finished with the schema changes, the user can then reassociate the base table with its FDA so that Flashback Data Archive protection is in operation and automatic tracking and archiving is resumed.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS72465" class="refsect2"><a id="CHDFJGAH"></a>
<h3 class="refsect2">Security Model</h3>
<p>Users need the <code dir="ltr">FLASHBACK_ARCHIVE_ADMINISTER</code> privilege to import user-generated history, to set context level, and to tamper-proof tables. After a table is disassociated, users can perform DDL and DML statements on the table if they have the necessary privileges. Enabling and disabling session-level Valid Time Temporal flashback needs no additional privileges.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Oracle cannot endorse compliance history of a table after the table is disassociated. Disassociating a table should only be done after consulting with Oracle Support.</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74538" class="refsect2"><a id="CHDEAADF"></a>
<h3 class="refsect2">Constants</h3>
<p>The <code dir="ltr">DBMS_FLASHBACK_ARCHIVE</code> package uses the constants shown in <a href="#CHDHGFAA">Table 71-1</a>.</p>
<div id="ARPLS74539" class="tblformal">
<p class="titleintable"><a id="sthref4422"></a><a id="CHDHGFAA"></a>Table 71-1 DBMS_FLASHBACK_ARCHIVE Constants</p>
<table class="cellalignment4330" title="DBMS_FLASHBACK_ARCHIVE Constants" summary="DBMS_FLASHBACK_ARCHIVE Constants" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Constant</th>
<th class="cellalignment4328" id="r1c2-t5">Type</th>
<th class="cellalignment4328" id="r1c3-t5">Value</th>
<th class="cellalignment4328" id="r1c4-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">NODROP</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p><code dir="ltr">BINARY_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c3-t5">
<p><code dir="ltr">1</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c4-t5">
<p>Do not drop temporary history table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">NOCOMMIT</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p><code dir="ltr">BINARY_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c3-t5">
<p><code dir="ltr">2</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c4-t5">
<p>Do not commit transaction</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t5" headers="r1c1-t5">
<p><code dir="ltr">NODELETE</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c2-t5">
<p><code dir="ltr">BINARY_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c3-t5">
<p><code dir="ltr">4</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c4-t5">
<p>Do not delete data in history table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CHDHDIEG"></a>
<div id="ARPLS72467" class="refsect1">
<h2 class="refsect1">Summary of DBMS_FLASHBACK_ARCHIVE Subprograms</h2>
<div id="ARPLS72468" class="tblformal">
<p class="titleintable"><a id="sthref4423"></a><a id="sthref4424"></a>Table 71-2 DBMS_FLASHBACK_ARCHIVE Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_FLASHBACK_ARCHIVE Package Subprograms" summary="This table lists the DBMS_FLASHBACK_ARCHIVE subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><a href="#CHDGHBED">ADD_TABLE_TO_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>Takes an application name and adds a table to the application as a security table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><a href="#CHDDGIEF">CREATE_TEMP_HISTORY_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>Creates a table called <code dir="ltr">TEMP_HISTORY</code> with the correct definition in schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><a href="#CHDHADJH">DISABLE_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>Takes an application name and marks a table in it as a security table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t6" headers="r1c1-t6">
<p><a href="#CHDEDEHB">DISABLE_ASOF_VALID_TIME Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c2-t6">
<p>Disables session level valid-time flashback</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t6" headers="r1c1-t6">
<p><a href="#CHDGHBJD">DISASSOCIATE_FBA Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t6 r1c2-t6">
<p>Disassociates the given table from the flashback data archive</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t6" headers="r1c1-t6">
<p><a href="#CHDEFDJB">DROP_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t6 r1c2-t6">
<p>Takes an application name and removes it from the list of applications</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t6" headers="r1c1-t6">
<p><a href="#CHDDAAEA">ENABLE_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t6 r1c2-t6">
<p>Takes an application name and enables Flashback Data Archive on all the security tables for this application</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t6" headers="r1c1-t6">
<p><a href="#CHDGEEIG">ENABLE_AT_VALID_TIME Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t6 r1c2-t6">
<p>Enables session level valid time flashback</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t6" headers="r1c1-t6">
<p><a href="#CHDIAEBD">EXTEND_MAPPINGS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t6 r1c2-t6">
<p>Extends time mappings to times in the past</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t6" headers="r1c1-t6">
<p><a href="#CHDFGCIG">GET_SYS_CONTEXT Function</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t6 r1c2-t6">
<p>Gets the context previously selected by the <a href="#CHDHGAFE">SET_CONTEXT_LEVEL Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t6" headers="r1c1-t6">
<p><a href="#CHDICIJI">IMPORT_HISTORY Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t6 r1c2-t6">
<p>Imports history from a table called <code dir="ltr">TEMP_HISTORY</code> in the given schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t6" headers="r1c1-t6">
<p><a href="#CHDJHJID">LOCK_DOWN_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r13c1-t6 r1c2-t6">
<p>Takes an application name and makes all the security tables read-only. The group called <code dir="ltr">SYSTEM</code> cannot be locked</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t6" headers="r1c1-t6">
<p><a href="#CHDIJFII">PURGE_CONTEXT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r14c1-t6 r1c2-t6">
<p>Purges the context to be saved selected by the <a href="#CHDHGAFE">SET_CONTEXT_LEVEL Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t6" headers="r1c1-t6">
<p><a href="#CHDICBIH">REASSOCIATE_FBA Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r15c1-t6 r1c2-t6">
<p>Reassociates the given table with the flashback data archive</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t6" headers="r1c1-t6">
<p><a href="#CHDHHBAB">REGISTER_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r16c1-t6 r1c2-t6">
<p>Takes an application name and optionally a Flashback Data Archive, and registers an application for database hardening</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t6" headers="r1c1-t6">
<p><a href="#CHDJGIBH">REMOVE_TABLE_FROM_APPLICATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r17c1-t6 r1c2-t6">
<p>Takes an application name and marks a table in it as no longer being a security table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r18c1-t6" headers="r1c1-t6">
<p><a href="#CHDHGAFE">SET_CONTEXT_LEVEL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r18c1-t6 r1c2-t6">
<p>Defines how much of the user context is to be saved</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS74540" class="refsect2"><a id="CHDGHBED"></a>
<h3 class="refsect2"><a id="sthref4425"></a>ADD_TABLE_TO_APPLICATION Procedure</h3>
<p>This procedure takes an application name and adds a table to the application as a security table. If the application is enabled for Flashback Data Archive, then this table will also be enabled for Flashback Data Archive.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4426"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.ADD_TABLE_TO_APPLICATION (
   application_name           IN   VARCHAR2,
   table_name                 IN   VARCHAR2,
   schema_name                IN   VARCHAR2 := NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4427"></a>Parameters</p>
<div id="ARPLS74541" class="tblformal">
<p class="titleintable"><a id="sthref4428"></a><a id="sthref4429"></a>Table 71-3 ADD_TABLE_TO_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="ADD_TABLE_TO_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.ADD_TABLE_TO_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Name of the application for which a table has been added as a security table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">table_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>Name of the table to add as a security table for the given application</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">schema_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>Name of the schema containing the desired table. If no schema name is specified, the current schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS72469" class="refsect2"><a id="CHDDGIEF"></a>
<h3 class="refsect2"><a id="sthref4430"></a>CREATE_TEMP_HISTORY_TABLE Procedure</h3>
<p>This procedure creates a table called <code dir="ltr">TEMP_HISTORY</code> with the correct definition in schema.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4431"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.CREATE_TEMP_HISTORY_TABLE (
   owner_name1      IN   VARCHAR2, 
   table_name1      IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4432"></a>Parameters</p>
<div id="ARPLS72903" class="tblformal">
<p class="titleintable"><a id="sthref4433"></a><a id="sthref4434"></a>Table 71-4 CREATE_TEMP_HISTORY_TABLE Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_TEMP_HISTORY_TABLE Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.CREATE_TEMP_HISTORY_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">owner_name</code>1</p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>Schema of the Flashback Data Archive-enabled table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">table_name</code>1</p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>Name of the Flashback Data Archive-enabled table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74542" class="refsect2"><a id="CHDHADJH"></a>
<h3 class="refsect2"><a id="sthref4435"></a>DISABLE_APPLICATION Procedure</h3>
<p>This procedure takes an application name and disables Flashback Data Archive on all of its security tables.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4436"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.DISABLE_APPLICATION (
   application_name           IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4437"></a>Parameters</p>
<div id="ARPLS74543" class="tblformal">
<p class="titleintable"><a id="sthref4438"></a><a id="sthref4439"></a>Table 71-5 DISABLE_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="DISABLE_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.DISABLE_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Name of the application whose security tables will be disabled for Flashback Data Archive</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74544" class="refsect2"><a id="CHDEDEHB"></a>
<h3 class="refsect2"><a id="sthref4440"></a>DISABLE_ASOF_VALID_TIME Procedure</h3>
<p>This procedure disables session level valid-time flashback.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4441"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.DISABLE_ASOF_VALID_TIME;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74545" class="refsect2"><a id="CHDGHBJD"></a>
<h3 class="refsect2"><a id="sthref4442"></a>DISASSOCIATE_FBA Procedure</h3>
<p>This procedure disassociates the given table from the flashback data archive.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4443"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.DISASSOCIATE_FBA (
   owner_name     IN    VARCHAR2, 
   table_name     IN    VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4444"></a>Parameters</p>
<div id="ARPLS74546" class="tblformal">
<p class="titleintable"><a id="sthref4445"></a><a id="sthref4446"></a>Table 71-6 DISASSOCIATE_FBA Procedure Parameters</p>
<table class="cellalignment4330" title="DISASSOCIATE_FBA Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.DISASSOCIATE_FBA." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">owner_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>Schema of the Flashback Data Archive enabled base table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">table_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Name of the Flashback Data Archive enabled base table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4447"></a>Exceptions</p>
<div id="ARPLS74547" class="tblformal">
<p class="titleintable"><a id="sthref4448"></a><a id="sthref4449"></a>Table 71-7 DISASSOCIATE_FBA Procedure Exceptions</p>
<table class="cellalignment4330" title="DISASSOCIATE_FBA Procedure Exceptions" summary="This table describes the Exceptions raised by DISASSOCIATE_FBA" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA-55602</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>User table is not enabled for Flashback Data Archive</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ORA-55634</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>Cannot acquire the lock on the table for disassociation</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74548" class="refsect2"><a id="CHDEFDJB"></a>
<h3 class="refsect2"><a id="sthref4450"></a>DROP_APPLICATION Procedure</h3>
<p>This procedure takes an application name and removes it from the list of applications. As part of this procedure, Flashback Data Archive will be disabled on all security-enabled tables and all history data will be lost. The group called <code dir="ltr">SYSTEM</code> cannot be dropped.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4451"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.DROP_APPLICATION (
   application_name           IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4452"></a>Parameters</p>
<div id="ARPLS74549" class="tblformal">
<p class="titleintable"><a id="sthref4453"></a><a id="sthref4454"></a>Table 71-8 DROP_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.DROP_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>Name of the application for which a table has been added as a security table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74550" class="refsect2"><a id="CHDDAAEA"></a>
<h3 class="refsect2"><a id="sthref4455"></a>ENABLE_APPLICATION Procedure</h3>
<p>This procedure takes an application name and enables Flashback Data Archive on all the security tables for this application. Once an application is enabled, every change to an FDA enabled table will be tracked.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4456"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.ENABLE_APPLICATION (
   application_name           IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4457"></a>Parameters</p>
<div id="ARPLS74551" class="tblformal">
<p class="titleintable"><a id="sthref4458"></a><a id="sthref4459"></a>Table 71-9 ENABLE_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="ENABLE_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.ENABLE_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Parameter</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>Name of the application for which to enable Flashback Data Archive on all its security tables</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74552" class="refsect2"><a id="CHDGEEIG"></a>
<h3 class="refsect2"><a id="sthref4460"></a>ENABLE_AT_VALID_TIME Procedure</h3>
<p>This procedure enables session level valid time flashback.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4461"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.ENABLE_AT_VALID_TIME (
   level          IN    VARCHAR2, 
   query_time     IN    TIMESTAMP DEFAULT SYSTIMESTAMP);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4462"></a>Parameters</p>
<div id="ARPLS74553" class="tblformal">
<p class="titleintable"><a id="sthref4463"></a><a id="sthref4464"></a>Table 71-10 ENABLE_AT_VALID_TIME Procedure Parameters</p>
<table class="cellalignment4330" title="ENABLE_AT_VALID_TIME Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.ENABLE_AT_VALID_TIME." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Parameter</th>
<th class="cellalignment4328" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14">
<p><code dir="ltr">level</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14">
<p>Options:</p>
<ul>
<li>
<p><code dir="ltr">All</code> - Sets the visibility of temporal data to the full table, which is the default temporal table visibility</p>
</li>
<li>
<p><code dir="ltr">CURRENT</code> - Sets the visibility of temporal data to currently valid data within the valid time period at the session level</p>
</li>
<li>
<p><code dir="ltr">ASOF</code> - Sets the visibility of temporal data to data valid as of the given time as defined by the timestamp</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14">
<p><code dir="ltr">query_time</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14">
<p>Used only if level is <code dir="ltr">ASOF</code>. Data which is valid at this <code dir="ltr">query_time</code> will only be shown.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74554" class="refsect2"><a id="CHDIAEBD"></a>
<h3 class="refsect2"><a id="sthref4465"></a>EXTEND_MAPPINGS Procedure</h3>
<p>This procedure extends time mappings to times in the past.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4466"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.EXTEND_MAPPINGS;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74555" class="refsect2"><a id="CHDFGCIG"></a>
<h3 class="refsect2"><a id="sthref4467"></a>GET_SYS_CONTEXT Function</h3>
<p>This function gets the context previously selected by the <a href="#CHDHGAFE">SET_CONTEXT_LEVEL Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4468"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.GET_SYS_CONTEXT (
   xid            IN   RAW, 
   namespace      IN   VARCHAR2, 
   parameter      IN   VARCHAR2)
 RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4469"></a>Parameters</p>
<div id="ARPLS74556" class="tblformal">
<p class="titleintable"><a id="sthref4470"></a><a id="sthref4471"></a>Table 71-11 GET_SYS_CONTEXT Function Parameters</p>
<table class="cellalignment4330" title="GET_SYS_CONTEXT Function Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.GET_SYS_CONTEXT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Parameter</th>
<th class="cellalignment4328" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15">
<p><code dir="ltr">xid</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15">
<p>Transaction identifier is an opaque handle to a transaction obtained from the versions query</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t15" headers="r1c1-t15">
<p><code dir="ltr">namespace</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t15 r1c2-t15">
<p>Namespace</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t15" headers="r1c1-t15">
<p><code dir="ltr">parameter</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t15 r1c2-t15">
<p>If undefined, the subprogram returns <code dir="ltr">NULL</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74557" class="refsect2"><a id="CHDICIJI"></a>
<h3 class="refsect2"><a id="sthref4472"></a>IMPORT_HISTORY Procedure</h3>
<p>This procedure is called after invoking the <a href="#CHDDGIEF">CREATE_TEMP_HISTORY_TABLE Procedure</a> procedure, and after the <code dir="ltr">TEMP_HISTORY</code> table is populated with user-generated history data.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Importing user-generated history can lead to inaccurate, or unreliable results. This procedure should only be used after consulting with Oracle Support.</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4473"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.IMPORT_HISTORY (
   owner_name1         IN   VARCHAR2, 
   table_name1         IN   VARCHAR2 
   temp_history_name   IN   VARCHAR2 DEFAULT &#39;TEMP_HISTORY&#39;,
   options             IN   BINARY_INTEGER DEFAULT 0);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4474"></a>Parameters</p>
<div id="ARPLS74558" class="tblformal">
<p class="titleintable"><a id="sthref4475"></a><a id="sthref4476"></a>Table 71-12 IMPORT_HISTORY Procedure Parameters</p>
<table class="cellalignment4330" title="IMPORT_HISTORY Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.CREATE_TEMP_HISTORY_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t17">Parameter</th>
<th class="cellalignment4328" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t17" headers="r1c1-t17">
<p><code dir="ltr">owner_name</code>1</p>
</td>
<td class="cellalignment4329" headers="r2c1-t17 r1c2-t17">
<p>Schema of the Flashback Data Archive-enabled table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t17" headers="r1c1-t17">
<p><code dir="ltr">table_name</code>1</p>
</td>
<td class="cellalignment4329" headers="r3c1-t17 r1c2-t17">
<p>Name of the Flashback Data Archive-enabled table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t17" headers="r1c1-t17">
<p><code dir="ltr">temp_history_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t17 r1c2-t17">
<p>Optional temporary history table from which we import history data</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t17" headers="r1c1-t17">
<p><code dir="ltr">options</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t17 r1c2-t17">
<p>One (or a combination) of constants (<code dir="ltr">NODROP</code>, <code dir="ltr">NOCOMMIT</code>, and <code dir="ltr">NODELETE</code>) to specify if we want to drop, commit changes of, or truncate the temporary history table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4477"></a>Usage Notes</p>
<p>The database function <a class="olink SQLRF51858" href="../SQLRF/functions211.htm#SQLRF51858"><code dir="ltr">TIMESTAMP_TO_SCN</code></a> can be used to convert times to SCN when populating the temporary history table.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74559" class="refsect2"><a id="CHDJHJID"></a>
<h3 class="refsect2"><a id="sthref4478"></a>LOCK_DOWN_APPLICATION Procedure</h3>
<p>This procedure takes an application name and makes all the security tables read-only. The group called <code dir="ltr">SYSTEM</code> cannot be locked.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4479"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.LOCK_DOWN_APPLICATION (
   application_name           IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4480"></a>Parameters</p>
<div id="ARPLS74560" class="tblformal">
<p class="titleintable"><a id="sthref4481"></a><a id="sthref4482"></a>Table 71-13 LOCK_DOWN_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="LOCK_DOWN_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.LOCK_DOWN_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t18">Parameter</th>
<th class="cellalignment4328" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t18" headers="r1c1-t18">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t18 r1c2-t18">
<p>Name of the application for which a table has been added as a security table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74561" class="refsect2"><a id="CHDIJFII"></a>
<h3 class="refsect2"><a id="sthref4483"></a>PURGE_CONTEXT Procedure</h3>
<p>This procedure purges the context to be saved selected by the <a href="#CHDHGAFE">SET_CONTEXT_LEVEL Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4484"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.PURGE_CONTEXT;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS72470" class="refsect2"><a id="CHDICBIH"></a>
<h3 class="refsect2"><a id="sthref4485"></a>REASSOCIATE_FBA Procedure</h3>
<p>This procedure reassociates the given table with the flashback data archive.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4486"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.REASSOCIATE_FBA (
   owner_name      VARCHAR2, 
   table_name      VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4487"></a>Parameters</p>
<div id="ARPLS72205" class="tblformal">
<p class="titleintable"><a id="sthref4488"></a><a id="sthref4489"></a>Table 71-14 REASSOCIATE_FBA Procedure Parameters</p>
<table class="cellalignment4330" title="REASSOCIATE_FBA Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.REASSOCIATE_FBA." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t19">Parameter</th>
<th class="cellalignment4328" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t19" headers="r1c1-t19">
<p><code dir="ltr">owner_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t19 r1c2-t19">
<p>Schema of the Flashback Data Archive enabled base table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t19" headers="r1c1-t19">
<p><code dir="ltr">table_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t19 r1c2-t19">
<p>Name of the Flashback Data Archive enabled base table</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4490"></a>Exceptions</p>
<div id="ARPLS72905" class="tblformal">
<p class="titleintable"><a id="sthref4491"></a><a id="sthref4492"></a>Table 71-15 REASSOCIATE_FBA Procedure Exceptions</p>
<table class="cellalignment4330" title="REASSOCIATE_FBA Procedure Exceptions" summary="This table describes the Exceptions raised by REASSOCIATE_FBA" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t20">Parameter</th>
<th class="cellalignment4328" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t20" headers="r1c1-t20">
<p><code dir="ltr">ORA-55602</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t20 r1c2-t20">
<p>User table is not enabled for Flashback Data Archive</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t20" headers="r1c1-t20">
<p><code dir="ltr">ORA-55636</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t20 r1c2-t20">
<p>Table definition validation failed</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4493"></a>Usage Notes</p>
<ul>
<li>
<p>The procedure will signal an error if the base table and the history table do not have identical data definitions. For example, when columns are added or table is split, the resulting base table and history table need to have the same schema.</p>
</li>
<li>
<p>The FDA internal history table schema has some row versions metadata columns. The procedure will signal an error if any metadata column is dropped by users.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74562" class="refsect2"><a id="CHDHHBAB"></a>
<h3 class="refsect2"><a id="sthref4494"></a>REGISTER_APPLICATION Procedure</h3>
<p>This procedure takes an application name and optionally a Flashback Data Archive, and registers an application for database hardening. When database hardening is enabled, then all the security tables for that application are enabled for Flashback Data Archive using the given Flashback Data Archive. If no Flashback Data Archive is specified, the default Flashback Data Archive is used.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADFNS01011" href="../ADFNS/adfns_flashback.htm#ADFNS01011">Using Flashback Data Archive</a> in <span class="italic">Oracle Database Development Guide</span> regarding database hardening</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4495"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.REGISTER_APPLICATION (
   application_name           IN   VARCHAR2,
   flashback_archive_name     IN    VARCHAR2 := NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4496"></a>Parameters</p>
<div id="ARPLS74563" class="tblformal">
<p class="titleintable"><a id="sthref4497"></a><a id="sthref4498"></a>Table 71-16 REGISTER_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="REGISTER_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.REGISTER_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t22">Parameter</th>
<th class="cellalignment4328" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t22" headers="r1c1-t22">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t22 r1c2-t22">
<p>Name of the application which is being registered. The application <code dir="ltr">SYSTEM</code> is already registered when the package is created and is populated with list of tables needed for database hardening.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t22" headers="r1c1-t22">
<p><code dir="ltr">flashback_archive_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t22 r1c2-t22">
<p>Name of the Flashback Data Archive in which the historical data for the security tables for given application is stored. If no Flashback Data Archive is specified, the default Flashback Data Archive is used.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74564" class="refsect2"><a id="CHDJGIBH"></a>
<h3 class="refsect2"><a id="sthref4499"></a>REMOVE_TABLE_FROM_APPLICATION Procedure</h3>
<p>This procedure takes an application name and marks a table in it as no longer being a security table. If the application is already enabled for Flashback Data Archive, Flashback Data Archive will be disabled for this table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4500"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.REMOVE_TABLE_TO_APPLICATION (
   application_name           IN   VARCHAR2,
   table_name                 IN   VARCHAR2,
   schema_name                IN   VARCHAR2 := NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4501"></a>Parameters</p>
<div id="ARPLS74565" class="tblformal">
<p class="titleintable"><a id="sthref4502"></a><a id="sthref4503"></a>Table 71-17 REMOVE_TABLE_FROM_APPLICATION Procedure Parameters</p>
<table class="cellalignment4330" title="REMOVE_TABLE_FROM_APPLICATION Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.REMOVE_TABLE_FROM_APPLICATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t23">Parameter</th>
<th class="cellalignment4328" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t23" headers="r1c1-t23">
<p><code dir="ltr">application_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t23 r1c2-t23">
<p>Name of the application for which a table is being removed from the list of security tables</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t23" headers="r1c1-t23">
<p><code dir="ltr">table_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t23 r1c2-t23">
<p>Name of the table to mark as being no longer a security table for the given application</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t23" headers="r1c1-t23">
<p><code dir="ltr">schema_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t23 r1c2-t23">
<p>Name of the schema containing the desired table. If no schema name is specified, the current schema is used.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74566" class="refsect2"><a id="CHDHGAFE"></a>
<h3 class="refsect2"><a id="sthref4504"></a>SET_CONTEXT_LEVEL Procedure</h3>
<p>This procedure defines how much of the user context is to be saved.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4505"></a>Syntax</p>
<pre dir="ltr">DBMS_FLASHBACK_ARCHIVE.SET_CONTEXT_LEVEL (
   level          VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4506"></a>Parameters</p>
<div id="ARPLS74567" class="tblformal">
<p class="titleintable"><a id="sthref4507"></a><a id="sthref4508"></a>Table 71-18 SET_CONTEXT_LEVEL Procedure Parameters</p>
<table class="cellalignment4330" title="SET_CONTEXT_LEVEL Procedure Parameters" summary="This table describes the parameters of DBMS_FLASHBACK_ARCHIVE.SET_CONTEXT_LEVEL." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t24">Parameter</th>
<th class="cellalignment4328" id="r1c2-t24">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t24" headers="r1c1-t24">
<p><code dir="ltr">level</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t24 r1c2-t24">
<p>Depending on how much of the user context needs to be saved:</p>
<ul>
<li>
<p><code dir="ltr">ALL</code> - the entire <code dir="ltr">SYS_CONTEXT</code></p>
</li>
<li>
<p><code dir="ltr">TYPICAL</code> - the user ID, global user ID and the hostname</p>
</li>
<li>
<p><code dir="ltr">NONE</code> - nothing</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_flashb.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_goldengate_auth.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2363"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_STREAMS_HANDLER_ADM"></a><title>DBMS_STREAMS_HANDLER_ADM</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:53Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_streams_aut.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_streams_msg.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">166/290</span> <!-- End Header -->
<div id="ARPLS72015" class="chapter"><a id="BEIBCJEA"></a>
<h1 class="chapter"><span class="secnum">162</span> DBMS_STREAMS_HANDLER_ADM</h1>
<p><a id="sthref11686"></a>The <code dir="ltr">DBMS_STREAMS_HANDLER_ADM</code> package, one of a set of Oracle Streams packages, provides interfaces to manage statement DML handlers.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BEIGFJIA">Using DBMS_STREAMS_HANDLER_ADM</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Views</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#CIHHFDGF">Summary of DBMS_STREAMS_HANDLER_ADM Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BEIGFJIA"></a>
<div id="ARPLS72016" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_STREAMS_HANDLER_ADM</h2>
<p>This section contains topics that relate to using the <code dir="ltr">DBMS_STREAMS_HANDLER_ADM</code> package.</p>
<ul>
<li>
<p><a href="#BEIJFAAC">Overview</a></p>
</li>
<li>
<p><a href="#BABBCICD">Security Model</a></p>
</li>
<li>
<p><a href="#BEIBEHJC">Views</a></p>
</li>
<li>
<p><a href="#BEIBGIEA">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS72017" class="refsect2"><a id="BEIJFAAC"></a>
<h3 class="refsect2">Overview</h3>
<p>A statement DML handler runs one or more data manipulation language (DML) statements on row logical change records (row LCRs) that are dequeued by an apply process. A single statement DML handler can include multiple statements, and you control the execution order of the statements.</p>
<p>Statement DML handlers are similar to procedure DML handlers for apply processes. Both statement DML handlers and procedure DML handlers provide custom processing of row changes that are encapsulated in row LCRs. Statement DML handlers and procedure DML handlers both run when an apply process dequeues a row LCR. However, statement DML handlers have the following advantages over procedure DML handlers:</p>
<ul>
<li>
<p>Statement DML handlers typically perform better than procedure DML handlers because statement DML handlers do not require PL/SQL processing.</p>
</li>
<li>
<p>The syntax for statement DML handlers is same as DML syntax. Statement DML handlers do not require PL/SQL programming. Procedure DML handlers require PL/SQL programming.</p>
</li>
<li>
<p>Statement DML handlers do not require the manipulation of <code dir="ltr">ANYDATA</code> values to access the information in row LCRs. Typically, procedure DML handlers must manipulate <code dir="ltr">ANYDATA</code> values.</p>
</li>
<li>
<p>A statement DML handler can coexist with an error handler for same operation on the same database object. In contrast, you cannot specify both a procedure DML handler and an error handler for the same operation on the same database object.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can specify multiple statement DML handlers for the same operation on the database object. In this case, the statement DML handlers can execute in any order, and each statement DML handler receives a copy of the original row LCR that was dequeued by the apply process.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS175" href="../STRMS/strms_apply.htm#STRMS175"><span class="italic">Oracle Streams Concepts and Administration</span></a></div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73190" class="refsect2"><a id="BABBCICD"></a>
<h3 class="refsect2">Security Model</h3>
<p>Security on this package can be controlled in either of the following ways:</p>
<ul>
<li>
<p>Granting <code dir="ltr">EXECUTE</code> on this package to selected users or roles.</p>
</li>
<li>
<p>Granting <code dir="ltr">EXECUTE_CATALOG_ROLE</code> to selected users or roles.</p>
</li>
</ul>
<p>If subprograms in the package are run from within a stored procedure, then the user who runs the subprograms must be granted <code dir="ltr">EXECUTE</code> privilege on the package directly. It cannot be granted through a role.</p>
<p>To ensure that the user who runs the subprograms in this package has the necessary privileges, configure an Oracle Streams administrator and connect as the Oracle Streams administrator when using this package.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STREP200" href="../STREP/prep_rep.htm#STREP200"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about configuring an Oracle Streams administrator</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS72018" class="refsect2"><a id="BEIBEHJC"></a>
<h3 class="refsect2">Views</h3>
<p>The <code dir="ltr">DBMS_STREAMS_HANDLER_ADM</code> package uses the views listed in the <a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a>.</p>
<ul>
<li>
<p><code dir="ltr">DBA_APPLY_DML_HANDLERS</code></p>
</li>
<li>
<p><code dir="ltr">DBA_STREAMS_STMTS</code></p>
</li>
<li>
<p><code dir="ltr">DBA_STREAMS_STMT_HANDLERS</code></p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS72019" class="refsect2"><a id="BEIBGIEA"></a>
<h3 class="refsect2">Operational Notes</h3>
<p>The following sections contain operational notes about the <code dir="ltr">DBMS_STREAMS_HANDLER_ADM</code> package:</p>
<ul>
<li>
<p><a href="#BEIGGIBH">Statement Execution Order</a></p>
</li>
<li>
<p><a href="#BEIHGDIG">Supported SQL Statements</a></p>
</li>
<li>
<p><a href="#BEIJIECD">Supported Row LCR Column Attributes</a></p>
</li>
<li>
<p><a href="#BEIJHBIC">Supported Row LCR Attributes</a></p>
</li>
<li>
<p><a href="#BEICGDCH">Supported Row LCR Extra Attributes</a></p>
</li>
<li>
<p><a href="#BEIFFGJA">Supported Row LCR Method</a></p>
</li>
</ul>
<div id="ARPLS72020" class="refsect3"><a id="BEIGGIBH"></a>
<h4 class="refsect3">Statement Execution Order</h4>
<p>Each statement in a statement DML handler has a unique execution sequence number. When a statement DML handler is invoked, it executes its statements in order from the statement with the lowest execution sequence number to the statement with the highest execution sequence number.</p>
</div>
<!-- class="refsect3" -->
<div id="ARPLS72021" class="refsect3"><a id="BEIHGDIG"></a>
<h4 class="refsect3">Supported SQL Statements</h4>
<p>You can use statement DML handlers for any valid DML operation on a row logical change record (row LCR). For example, a statement DML handler can audit the DML changes made to a table.</p>
<p>The following SQL statements are supported in statement DML handlers:</p>
<ul>
<li>
<p><code dir="ltr">INSERT</code></p>
</li>
<li>
<p><code dir="ltr">UPDATE</code></p>
</li>
<li>
<p><code dir="ltr">DELETE</code></p>
</li>
<li>
<p><code dir="ltr">MERGE</code></p>
</li>
</ul>
<p>In addition, define variables are not supported in the SQL statements in a statement DML handler.</p>
<p>However, the SQL statements in a statement DML handler can include calls to member subprograms for the row LCR type (<code dir="ltr">LCR$_ROW_RECORD</code>), such as <code dir="ltr">ADD_COLUMN</code>, <code dir="ltr">DELETE_COLUMN</code>, <code dir="ltr">KEEP_COLUMNS</code>, and <code dir="ltr">RENAME_COLUMN</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
A statement DML handler cannot modify the value of a column in a row LCR.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="t_lcr.htm#i997304">&#34;LCR$_ROW_RECORD Type&#34;</a></div>
</div>
<!-- class="refsect3" -->
<div id="ARPLS72022" class="refsect3"><a id="BEIJIECD"></a>
<h4 class="refsect3">Supported Row LCR Column Attributes</h4>
<p>Statements in statement DML handlers can contain the row LCR column attributes described in <a href="#CIHJDIJF">Table 162-1</a>.</p>
<div id="ARPLS72023" class="tblformal">
<p class="titleintable"><a id="sthref11687"></a><a id="CIHJDIJF"></a>Table 162-1 Row LCR Column Attributes</p>
<table class="cellalignment4330" title="Row LCR Column Attributes" summary="This table contains each row LCR column attribute and a description for each one." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Attribute</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">new</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Returns the new column value in a row LCR. If the new value does not exist, then this attribute returns the old value.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">new_exists</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>Returns <code dir="ltr">TRUE</code> if a new column value exists in a row LCR.</p>
<p>Returns <code dir="ltr">FALSE</code> is a new column value does not exist in a row LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">new_only</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>Returns the new column value in a row LCR. If the new value does not exist, then this attribute returns <code dir="ltr">NULL</code> and does not return the old column value.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t7" headers="r1c1-t7">
<p><code dir="ltr">old</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t7 r1c2-t7">
<p>Returns the old column value in a row LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t7" headers="r1c1-t7">
<p><code dir="ltr">old_exists</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t7 r1c2-t7">
<p>Returns <code dir="ltr">TRUE</code> if an old column value exists in a row LCR.</p>
<p>Returns <code dir="ltr">FALSE</code> is an old column value does not exist in a row LCR.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>Specify these attributes in the following way in a statement:</p>
<pre dir="ltr">:<span class="italic">attribute.column_name</span>
</pre>
<p>For example, to specify the <code dir="ltr">new_only</code> attribute for the <code dir="ltr">salary</code> column, enter the following in a statement:</p>
<pre dir="ltr">:new_only.salary
</pre></div>
<!-- class="refsect3" -->
<div id="ARPLS72024" class="refsect3"><a id="BEIJHBIC"></a>
<h4 class="refsect3">Supported Row LCR Attributes</h4>
<p>Statements in statement DML handlers can contain the row LCR attributes described in <a href="#BEIEHBBH">Table 162-2</a>.</p>
<div id="ARPLS72025" class="tblformal">
<p class="titleintable"><a id="sthref11688"></a><a id="BEIEHBBH"></a>Table 162-2 Row LCR Attributes</p>
<table class="cellalignment4330" title="Row LCR Attributes" summary="This table contains each row LCR attribute and a description for each one." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Attribute</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">command_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>Returns the type of DML statement that produced the change, either <code dir="ltr">INSERT</code>, <code dir="ltr">UPDATE</code>, or <code dir="ltr">DELETE</code>. <code dir="ltr">DBMS_LOB</code> piecewise LOB operations are not supported by statement DML handlers.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">commit_scn</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>Returns the commit system change number (SCN) of the transaction to which the LCR belongs.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">compatible</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">
<p>Returns the minimal database compatibility required to support the LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t8" headers="r1c1-t8">
<p><code dir="ltr">instance_number</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t8 r1c2-t8">
<p>Returns the instance number of the database instance that made the change that is encapsulated in the LCR. Typically, the instance number is relevant in an Oracle Real Application Clusters (Oracle RAC) configuration.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t8" headers="r1c1-t8">
<p><code dir="ltr">object_owner</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t8 r1c2-t8">
<p>Returns the schema name that contains the table with the changed row.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t8" headers="r1c1-t8">
<p><code dir="ltr">object_name</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t8 r1c2-t8">
<p>Returns the name of the table that contains the changed row.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t8" headers="r1c1-t8">
<p><code dir="ltr">scn</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t8 r1c2-t8">
<p>Returns the SCN at the time when the change was made.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t8" headers="r1c1-t8">
<p><code dir="ltr">source_database_name</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t8 r1c2-t8">
<p>Returns the name of the source database where the row change occurred.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t8" headers="r1c1-t8">
<p><code dir="ltr">source_time</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t8 r1c2-t8">
<p>Returns the time when the change in an LCR captured by a capture process was generated in the redo log of the source database, or the time when a persistent LCR was created.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t8" headers="r1c1-t8">
<p><code dir="ltr">tag</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t8 r1c2-t8">
<p>Returns a raw tag that can be used to track the LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t8" headers="r1c1-t8">
<p><code dir="ltr">transaction_id</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t8 r1c2-t8">
<p>Returns the identifier of the transaction in which the DML statement was run.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>Specify these attributes in the following way in a statement:</p>
<pre dir="ltr">:<span class="italic">attribute_name</span>
</pre>
<p>For example, to specify the <code dir="ltr">source_database_name</code> attribute for a row LCR, enter the following in a statement:</p>
<pre dir="ltr">:source_database_name
</pre></div>
<!-- class="refsect3" -->
<div id="ARPLS72026" class="refsect3"><a id="BEICGDCH"></a>
<h4 class="refsect3">Supported Row LCR Extra Attributes</h4>
<p>Statements in statement DML handlers can contain the row LCR extra attributes described in <a href="#BEICECDB">Table 162-3</a>.</p>
<div id="ARPLS72027" class="tblformal">
<p class="titleintable"><a id="sthref11689"></a><a id="BEICECDB"></a>Table 162-3 Row LCR Extra Attributes</p>
<table class="cellalignment4330" title="Row LCR Extra Attributes" summary="This table contains each row LCR extra attribute and a description for each one." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Attribute</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">row_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Returns the rowid of the row changed in a row LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">serial#</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>Returns the serial number of the session that performed the change captured in the LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9">
<p><code dir="ltr">session#</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">
<p>Returns the identifier of the session that performed the change captured in the LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t9" headers="r1c1-t9">
<p><code dir="ltr">thread#</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t9 r1c2-t9">
<p>Returns the thread number of the instance in which the change captured in the LCR was performed. Typically, the thread number is relevant only in an Oracle RAC configuration.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t9" headers="r1c1-t9">
<p><code dir="ltr">tx_name</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t9 r1c2-t9">
<p>Returns the name of the transaction that includes the LCR.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t9" headers="r1c1-t9">
<p><code dir="ltr">username</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t9 r1c2-t9">
<p>Returns the name of the current user who performed the change captured in the LCR.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>Specify these attributes in the following way in a statement:</p>
<pre dir="ltr">:extra_attribute.<span class="italic">attribute_name</span>
</pre>
<p>For example, to specify the <code dir="ltr">row_id</code> extra attribute for a row LCR, enter the following in a statement:</p>
<pre dir="ltr">:extra_attribute.row_id
</pre></div>
<!-- class="refsect3" -->
<div id="ARPLS72028" class="refsect3"><a id="BEIFFGJA"></a>
<h4 class="refsect3">Supported Row LCR Method</h4>
<p>A statement in a statement DML handler can include a call to the <code dir="ltr">EXECUTE</code> member procedure for row LCRs. The <code dir="ltr">EXECUTE</code> member procedure executes the row LCR under the security domain of the current user.</p>
<p>A statement that runs the <code dir="ltr">EXECUTE</code> member procedure can be placed anywhere in the execution sequence order of the statement DML handler. It is not necessary to execute a row LCR unless the goal is to apply the changes in the row LCR to a table in addition to performing any other SQL statements in the statement DML handler.</p>
<p>When you call the <code dir="ltr">EXECUTE</code> member procedure in a statement, the <code dir="ltr">conflict_resolution</code> parameter controls whether any conflict resolution defined for the table using the <code dir="ltr">SET_UPDATE_CONFLICT_HANDLER</code> procedure in the <code dir="ltr">DBMS_APPLY_ADM</code> package is used to resolve conflicts resulting from the execution of the LCR:</p>
<pre dir="ltr">:lcr.execute TRUE|FALSE
</pre>
<p>A <code dir="ltr">TRUE</code> argument indicates that conflict resolution is used. A <code dir="ltr">FALSE</code> argument indicates that conflict resolution is not used.</p>
<p>For example, to use conflict resolution, enter the following in a statement:</p>
<pre dir="ltr">:lcr.execute TRUE
</pre>
<p>An error is raised if this parameter is not specified or is set to <code dir="ltr">NULL</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ARPLS323" href="../ARPLS/d_apply.htm#ARPLS323"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</li>
<li>
<p><a class="olink STREP001" href="../STREP/conflict.htm#STREP001"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CIHHFDGF"></a>
<div id="ARPLS72029" class="refsect1">
<h2 class="refsect1">Summary of DBMS_STREAMS_HANDLER_ADM Subprograms</h2>
<div id="ARPLS72030" class="tblformal">
<p class="titleintable"><a id="sthref11690"></a><a id="sthref11691"></a>Table 162-4 DBMS_STREAMS_HANDLER_ADM Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_STREAMS_HANDLER_ADM Package Subprograms" summary="This table lists the DBMS_STREAMS_HANDLER_ADM subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><a href="#CIHFCBBH">ADD_STMT_TO_HANDLER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>Adds a statement to a statement DML handler</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><a href="#CIHEEBEF">CREATE_STMT_HANDLER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>Creates a statement DML handler</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t11" headers="r1c1-t11">
<p><a href="#CIHFEIJH">DROP_STMT_HANDLER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t11 r1c2-t11">
<p>Drops a statement DML handler</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t11" headers="r1c1-t11">
<p><a href="#CIHFEHAE">REMOVE_STMT_FROM_HANDLER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t11 r1c2-t11">
<p>Removes a statement from a statement DML handler</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
The subprograms in this package do not commit.</div>
<div id="ARPLS72031" class="refsect2"><a id="CIHFCBBH"></a>
<h3 class="refsect2">ADD_STMT_TO_HANDLER Procedure<a id="sthref11692"></a></h3>
<p>This procedure adds a statement to a statement DML handler.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11693"></a>Syntax</p>
<pre dir="ltr">DBMS_STREAMS_HANDLER_ADM.ADD_STMT_TO_HANDLER(
   handler_name       IN VARCHAR2,  
   statement          IN CLOB,   
   execution_sequence IN NUMBER  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11694"></a>Parameters</p>
<div id="ARPLS72032" class="tblformal">
<p class="titleintable"><a id="sthref11695"></a><a id="sthref11696"></a>Table 162-5 ADD_STMT_TO_HANDLER Procedure Parameters</p>
<table class="cellalignment4330" title="ADD_STMT_TO_HANDLER Procedure Parameters" summary="This table describes the Parameters of DBMS_STREAMS_HANDLER_ADM.ADD_STMT_TO_HANDLER subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Parameter</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">handler_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>The name of the statement DML handler.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">statement</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t13 r1c2-t13">
<p>The text of the SQL statement to add to the statement DML handler.</p>
<p>If <code dir="ltr">NULL</code>, then the procedure raises an error.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t13" headers="r1c1-t13">
<p><code dir="ltr">execution_sequence</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t13 r1c2-t13">
<p>The position of the statement in the statement DML handler at which a SQL statement is to be set to execute. Statements are executed in order from the lowest execution sequence number to the highest execution sequence number.</p>
<p>You can specify a positive or negative integer or decimal, or you can specify 0 (zero).</p>
<p>If you specify an execution sequence number that is used by an existing statement in the statement DML handler, then the statement in the <code dir="ltr">statement</code> parameter replaces the existing statement.</p>
<p>If <code dir="ltr">NULL</code>, then the statement is added to the statement DML handler with an execution sequence number that is larger than the execution sequence number for any statement in the statement DML handler.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS72033" class="refsect2"><a id="CIHEEBEF"></a>
<h3 class="refsect2">CREATE_STMT_HANDLER Procedure<a id="sthref11697"></a></h3>
<p>This procedure creates a statement DML handler.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11698"></a>Syntax</p>
<pre dir="ltr">DBMS_STREAMS_HANDLER_ADM.CREATE_STMT_HANDLER(
   handler_name IN VARCHAR2,  
   comment      IN VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11699"></a>Parameters</p>
<div id="ARPLS72034" class="tblformal">
<p class="titleintable"><a id="sthref11700"></a><a id="sthref11701"></a>Table 162-6 CREATE_STMT_HANDLER Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_STMT_HANDLER Procedure Parameters" summary="This table describes the Parameters of DBMS_STREAMS_HANDLER_ADM.CREATE_STMT_HANDLER subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Parameter</th>
<th class="cellalignment4328" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14">
<p><code dir="ltr">handler_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14">
<p>The name of the statement DML handler.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14">
<p>A comment for the statement DML handler.</p>
<p>If <code dir="ltr">NULL</code>, then no comment is recorded for the statement DML handler.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS72035" class="refsect2"><a id="CIHFEIJH"></a>
<h3 class="refsect2">DROP_STMT_HANDLER Procedure<a id="sthref11702"></a></h3>
<p>This procedure drops a statement DML handler.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11703"></a>Syntax</p>
<pre dir="ltr">DBMS_STREAMS_HANDLER_ADM.DROP_STMT_HANDLER(
   handler_name IN VARCHAR2);  
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11704"></a>Parameters</p>
<div id="ARPLS72036" class="tblformal">
<p class="titleintable"><a id="sthref11705"></a><a id="sthref11706"></a>Table 162-7 DROP_STMT_HANDLER Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_STMT_HANDLER Procedure Parameters" summary="This table describes the Parameters of DBMS_STREAMS_HANDLER_ADM.DROP_STMT_HANDLER subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Parameter</th>
<th class="cellalignment4328" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15">
<p><code dir="ltr">handler_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15">
<p>The name of the statement DML handler.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS72037" class="refsect2"><a id="CIHFEHAE"></a>
<h3 class="refsect2">REMOVE_STMT_FROM_HANDLER Procedure<a id="sthref11707"></a></h3>
<p>This procedure removes a statement from a statement DML handler.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11708"></a>Syntax</p>
<pre dir="ltr">DBMS_STREAMS_HANDLER_ADM.REMOVE_STMT_FROM_HANDLER(
   handler_name       IN VARCHAR2,  
   execution_sequence IN NUMBER  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11709"></a>Parameters</p>
<div id="ARPLS72038" class="tblformal">
<p class="titleintable"><a id="sthref11710"></a><a id="sthref11711"></a>Table 162-8 REMOVE_STMT_FROM_HANDLER Procedure Parameters</p>
<table class="cellalignment4330" title="REMOVE_STMT_FROM_HANDLER Procedure Parameters" summary="This table describes the Parameters of DBMS_STREAMS_HANDLER_ADM.REMOVE_STMT_FROM_HANDLER subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Parameter</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16">
<p><code dir="ltr">handler_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">
<p>The name of the statement DML handler.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16">
<p><code dir="ltr">execution_sequence</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">
<p>The position of the statement to remove.</p>
<p>You can specify a positive or negative integer or decimal, or you can specify 0 (zero).</p>
<p>If <code dir="ltr">NULL</code>, the procedure removes the last statement in the statement DML handler.</p>
<p>If the specified execution sequence number does not exist for the statement DML handler, then the procedure raises an error.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_streams_aut.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_streams_msg.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
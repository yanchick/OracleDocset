<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2358"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_STORAGE_MAP"></a><title>DBMS_STORAGE_MAP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_stat_f.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_streams.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">161/290</span> <!-- End Header -->
<div id="ARPLS137" class="chapter"><a id="sthref11155"></a>
<h1 class="chapter"><span class="secnum">157</span> DBMS_STORAGE_MAP</h1>
<p>With the <code dir="ltr"><a id="sthref11156"></a>DBMS_STORAGE_MAP</code> package, you can communicate with the Oracle background process FMON to invoke mapping operations that populate mapping views. FMON communicates with operating and storage system vendor-supplied mapping libraries.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGHFAEA">Using DBMS_STORAGE_MAP</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i996776">Summary of DBMS_STORAGE_MAP Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CEGHFAEA"></a>
<div id="ARPLS68688" class="refsect1">
<h2 class="refsect1">Using DBMS_STORAGE_MAP</h2>
<ul>
<li>
<p><a href="#i1000018">Overview</a></p>
</li>
<li>
<p><a href="#i1000255">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS68689" class="refsect2"><a id="i1000018"></a>
<h3 class="refsect2">Overview</h3>
<p>The following terminology and descriptions will help you understand the <code dir="ltr">DBMS_STORAGE_MAP</code> API:</p>
<ul>
<li>
<p>Mapping libraries</p>
<p>Mapping libraries help you map the components of I/O processing stack elements. Examples of I/O processing components include files, logical volumes, and storage array I/O targets. The mapping libraries are identified in <code dir="ltr">filemap.ora</code>.</p>
</li>
<li>
<p>Mapping files</p>
<p>A mapping file is a mapping structure that describes a file. It provides a set of attributes, including file size, number of extents that the file is composed of, and file type.</p>
</li>
<li>
<p>Mapping elements and sub-elements</p>
<p>A mapping element is the abstract mapping structure that describes a storage component within the I/O stack. Examples of elements include mirrors, stripes, partitions, raid5, concatenated elements, and disks&mdash;structures that are the mapping building blocks. A mapping sub-element describes the link between an element and the next elements in the I/O mapping stack</p>
</li>
<li>
<p>Mapping file extents</p>
<p>A mapping file extent describes a contiguous chunk of blocks residing on one element. This includes the device offset, the extent size, the file offset, the type (data or parity), and the name of the element where the extent resides. In the case of a raw device or volume, the file is composed of only one file extent component. A mapping file extent is different from Oracle extents.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information</p>
</li>
<li>
<p><a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for <code dir="ltr">V$MAP</code> views, including <code dir="ltr">V$MAP_FILE</code>, <code dir="ltr">V$MAP_ELEMENT</code>, <code dir="ltr">V$MAP_SUBELEMENT</code>, <code dir="ltr">V$MAP_FILE_EXTENT</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS68690" class="refsect2"><a id="i1000255"></a>
<h3 class="refsect2">Operational Notes</h3>
<p>For <code dir="ltr">MAP_ELEMENT</code>, <code dir="ltr">MAP_FILE</code>, and <code dir="ltr">MAP_ALL:</code> Invoking these functions when mapping information already exists will refresh the mapping if configuration IDs are supported. If configuration IDs are not supported, then invoking these functions again will rebuild the mapping.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for a discussion of the configuration ID, an attribute of the element or file that is changed.</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i996776"></a>
<div id="ARPLS68691" class="refsect1">
<h2 class="refsect1">Summary of DBMS_STORAGE_MAP Subprograms</h2>
<div id="ARPLS68692" class="tblformal">
<p class="titleintable"><a id="sthref11157"></a><a id="sthref11158"></a>Table 157-1 DBMS_STORAGE_MAP Package Subprograms</p>
<table class="cellalignment4330" title=" DBMS_STORAGE_MAP Package Subprograms" summary="This table lists the DBMS_STORAGE_MAP subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><a href="#i1000132">DROP_ALL Function</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>Drops all mapping information in the shared memory of the instance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><a href="#i1000160">DROP_ELEMENT Function</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p>Drops the mapping information for the element defined by <code dir="ltr">elemname</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><a href="#i1000190">DROP_FILE Function</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p>Drops the file mapping information defined by <code dir="ltr">filename</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t4" headers="r1c1-t4">
<p><a href="#i1000268">LOCK_MAP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c2-t4">
<p>Locks the mapping information in the shared memory of the instance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t4" headers="r1c1-t4">
<p><a href="#i1000295">MAP_ALL Function</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t4 r1c2-t4">
<p>Builds the entire mapping information for all types of Oracle files (except archive logs), including all directed acyclic graph (DAG) elements</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t4" headers="r1c1-t4">
<p><a href="#i1000343">MAP_ELEMENT Function</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t4 r1c2-t4">
<p>Builds mapping information for the element identified by <code dir="ltr">elemname</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t4" headers="r1c1-t4">
<p><a href="#CEGJFABB">MAP_FILE Function</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t4 r1c2-t4">
<p>Builds mapping information for the file identified by <code dir="ltr">filename</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t4" headers="r1c1-t4">
<p><a href="#i996974">MAP_OBJECT Function</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t4 r1c2-t4">
<p>Builds the mapping information for the Oracle object identified by the object name, owner, and type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t4" headers="r1c1-t4">
<p><a href="#i1000367">RESTORE Function</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t4 r1c2-t4">
<p>Loads the entire mapping information from the data dictionary into the shared memory of the instance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t4" headers="r1c1-t4">
<p><a href="#i1000377">SAVE Function</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t4 r1c2-t4">
<p>Saves information needed to regenerate the entire mapping into the data dictionary</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t4" headers="r1c1-t4">
<p><a href="#i997102">UNLOCK_MAP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t4 r1c2-t4">
<p>Unlocks the mapping information in the shared memory of the instance.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS68693" class="refsect2"><a id="i1000132"></a>
<h3 class="refsect2"><a id="sthref11159"></a>DROP_ALL Function</h3>
<p>This function drops all mapping information in the shared memory of the instance.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11160"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.DROP_ALL(
      dictionary_update IN BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11161"></a>Parameters</p>
<div id="ARPLS68694" class="tblformal">
<p class="titleintable"><a id="sthref11162"></a><a id="sthref11163"></a>Table 157-2 DROP_ALL Function Parameters</p>
<table class="cellalignment4330" title=" DROP_ALL Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.DROP_ALL subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Parameter</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">dictionary_update</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>If <code dir="ltr">TRUE</code>, mapping information in the data dictionary is updated to reflect the changes. The default value is <code dir="ltr">TRUE</code>; <code dir="ltr">dictionary_update</code> is an overloaded argument.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68695" class="refsect2"><a id="i1000160"></a>
<h3 class="refsect2">DROP_ELEMENT Function</h3>
<p>This function drops the mapping information for the element defined by <code dir="ltr">elemname</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11164"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.DROP_ELEMENT(
   elemname          IN VARCHAR2,
   cascade           IN BOOLEAN,
   dictionary_update IN BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11165"></a>Parameters</p>
<div id="ARPLS68696" class="tblformal">
<p class="titleintable"><a id="sthref11166"></a><a id="sthref11167"></a>Table 157-3 DROP_ELEMENT Function Parameters</p>
<table class="cellalignment4330" title=" DROP_ELEMENT Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.DROP_ELEMENT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">elemname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>The element for which mapping information is dropped.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">cascade</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>If <code dir="ltr">TRUE</code>, then <code dir="ltr">DROP_ELEMENT</code> is invoked recursively on all elements of the DAG defined by <code dir="ltr">elemname,</code> if possible.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">dictionary_update</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>If <code dir="ltr">TRUE</code>, mapping information in the data dictionary is updated to reflect the changes. The default value is <code dir="ltr">TRUE</code>; <code dir="ltr">dictionary_update</code> is an overloaded argument.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68697" class="refsect2"><a id="i1000190"></a>
<h3 class="refsect2"><a id="sthref11168"></a>DROP_FILE Function</h3>
<p>This function drops the file mapping information defined by <code dir="ltr">filename</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11169"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.DROP_FILE(
   filename          IN VARCHAR2,
   cascade           IN BOOLEAN,
   dictionary_update IN BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div id="ARPLS68698" class="refsect3"><a id="sthref11170"></a>
<h4 class="refsect3">Parameters</h4>
<div id="ARPLS68699" class="tblformal">
<p class="titleintable"><a id="sthref11171"></a><a id="sthref11172"></a>Table 157-4 DROP_FILE Function Parameters</p>
<table class="cellalignment4330" title=" DROP_FILE Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.DROP_FILE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">filename</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>The file for which file mapping information is dropped.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">cascade</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>If <code dir="ltr">TRUE</code>, then the mapping DAGs for the elements where the file resides are also dropped, if possible.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">dictionary_update</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>If <code dir="ltr">TRUE</code>, mapping information in the data dictionary is updated to reflect the changes. The default value is <code dir="ltr">TRUE</code>; <code dir="ltr">dictionary_update</code> is an overloaded argument.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68700" class="refsect2"><a id="i1000268"></a>
<h3 class="refsect2"><a id="sthref11173"></a>LOCK_MAP Procedure</h3>
<p>This procedure locks the mapping information in the shared memory of the instance. This is useful when you need a consistent snapshot of the V$MAP tables. Without locking the mapping information, <code dir="ltr">V$MAP_ELEMENT</code> and <code dir="ltr">V$MAP_SUBELEMENT</code>, for example, may be inconsistent.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11174"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.LOCK_MAP;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68701" class="refsect2"><a id="i1000295"></a>
<h3 class="refsect2"><a id="sthref11175"></a>MAP_ALL Function</h3>
<p>This function builds the entire mapping information for all types of Oracle files (except archive logs), including all directed acyclic graph (DAG) elements. It obtains the latest mapping information because it explicitly synchronizes all mapping libraries.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11176"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.MAP_ALL(
   max_num_fileext   IN NUMBER DEFAULT 100,
   dictionary_update IN BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11177"></a>Parameters</p>
<div id="ARPLS68702" class="tblformal">
<p class="titleintable"><a id="sthref11178"></a><a id="sthref11179"></a>Table 157-5 MAP_ALL Function Parameters</p>
<table class="cellalignment4330" title=" MAP_ALL Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.MAP_ALL subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">max_num_fileext</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>Defines the maximum number of file extents to be mapped. This limits the amount of memory used when mapping file extents. The default value is <code dir="ltr">100</code>; <code dir="ltr">max_num_fileextent</code> is an overloaded argument.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">dictionary_update</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>If <code dir="ltr">TRUE</code>, mapping information in the data dictionary is updated to reflect the changes. The default value is <code dir="ltr">TRUE</code>; <code dir="ltr">dictionary_update</code> is an overloaded argument.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11180"></a>Usage Notes</p>
<p>You must explicitly call <code dir="ltr">MAP_ALL</code> in a cold startup scenario.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68703" class="refsect2"><a id="i1000343"></a>
<h3 class="refsect2"><a id="sthref11181"></a>MAP_ELEMENT Function</h3>
<p>This function builds mapping information for the element identified by <code dir="ltr">elemname</code>. It may not obtain the latest mapping information if the element being mapped, or any one of the elements within its I/O stack (if <code dir="ltr">cascade</code> is <code dir="ltr">TRUE</code>), is owned by a library that must be explicitly synchronized.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11182"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.MAP_ELEMENT(
   elemname          IN VARCHAR2,
   cascade           IN BOOLEAN,
   dictionary_update IN BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11183"></a>Parameters</p>
<div id="ARPLS68704" class="tblformal">
<p class="titleintable"><a id="sthref11184"></a><a id="sthref11185"></a>Table 157-6 MAP_ELEMENT Function Parameters</p>
<table class="cellalignment4330" title=" MAP_ELEMENT Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.MAP_ELEMENT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">elemname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>The element for which mapping information is built.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">cascade</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>If <code dir="ltr">TRUE</code>, all elements within the elemname I/O stack DAG are mapped.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9">
<p><code dir="ltr">dictionary_update</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">
<p>If <code dir="ltr">TRUE</code>, mapping information in the data dictionary is updated to reflect the changes. The default value is <code dir="ltr">TRUE</code>; <code dir="ltr">dictionary_update</code> is an overloaded argument.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68705" class="refsect2"><a id="CEGJFABB"></a>
<h3 class="refsect2"><a id="sthref11186"></a>MAP_FILE Function</h3>
<p>This function builds mapping information for the file identified by <code dir="ltr">filename</code>. Use this function if the mapping of one particular file has changed. The Oracle database server does not have to rebuild the entire mapping.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11187"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.MAP_FILE(
   filename           IN VARCHAR2, 
   filetype           IN VARCHAR2,
   cascade            IN BOOLEAN,
   max_num_fileextent IN NUMBER DEFAULT 100,
   dictionary_update  IN BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11188"></a>Parameters</p>
<div id="ARPLS68706" class="tblformal">
<p class="titleintable"><a id="sthref11189"></a><a id="sthref11190"></a>Table 157-7 MAP_FILE Function Parameters</p>
<table class="cellalignment4330" title=" MAP_FILE Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.MAP_FILE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">filename</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>The file for which mapping information is built.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">filetype</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Defines the type of the file to be mapped. It can be &#34;<code dir="ltr">DATAFILE&#34;, &#34;SPFILE&#34;, &#34;TEMPFILE&#34;, &#34;CONTROLFILE&#34;, &#34;LOGFILE&#34;,</code> or <code dir="ltr">&#34;ARCHIVEFILE&#34;</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10">
<p><code dir="ltr">cascade</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">
<p>Should be <code dir="ltr">TRUE</code> only if a storage reconfiguration occurred. For all other instances, such as file resizing (either through an <code dir="ltr">ALTER SYSTEM</code> command or DML operations on extended files), <code dir="ltr">cascade</code> can be set to <code dir="ltr">FALSE</code> because the mapping changes are limited to the file extents only.</p>
<p>If <code dir="ltr">TRUE</code>, mapping DAGs are also built for the elements where the file resides.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t10" headers="r1c1-t10">
<p><code dir="ltr">max_num_fileextent</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t10 r1c2-t10">
<p>Defines the maximum number of file extents to be mapped. This limits the amount of memory used when mapping file extents. The default value is <code dir="ltr">100</code>; <code dir="ltr">max_num_fileextent</code> is an overloaded argument.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t10" headers="r1c1-t10">
<p><code dir="ltr">dictionary_update</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t10 r1c2-t10">
<p>If <code dir="ltr">TRUE</code>, mapping information in the data dictionary is updated to reflect the changes. The default value is <code dir="ltr">TRUE</code>; <code dir="ltr">dictionary_update</code> is an overloaded argument.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11191"></a>Usage Notes</p>
<p>This function may not obtain the latest mapping information if the file being mapped, or any one of the elements within its I/O stack (if <code dir="ltr">cascade</code> is <code dir="ltr">TRUE</code>), is owned by a library that must be explicitly synchronized.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68707" class="refsect2"><a id="i996974"></a>
<h3 class="refsect2"><a id="sthref11192"></a>MAP_OBJECT Function</h3>
<p>This function builds the mapping information for the Oracle object identified by the object name, owner, and type.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11193"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.MAP_OBJECT(
   objname  IN  VARCHAR2,
   owner    IN  VARCHAR2,
   objtype  IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11194"></a>Parameters</p>
<div id="ARPLS68708" class="tblformal">
<p class="titleintable"><a id="sthref11195"></a><a id="sthref11196"></a>Table 157-8 MAP_OBJECT Function Parameters</p>
<table class="cellalignment4330" title=" MAP_OBJECT Function Parameters" summary="This table describes the Parameters of DBMS_STORAGE_MAP.MAP_OBJECT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">objname</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>The name of the object.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><code dir="ltr">owner</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>The owner of the object.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t11" headers="r1c1-t11">
<p><code dir="ltr">objtype</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t11 r1c2-t11">
<p>The type of the object.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68709" class="refsect2"><a id="i1000367"></a>
<h3 class="refsect2"><a id="sthref11197"></a>RESTORE Function</h3>
<p>This function loads the entire mapping information from the data dictionary into the shared memory of the instance. You can invoke <code dir="ltr">RESTORE</code> only after a <code dir="ltr">SAVE</code> operation. You must explicitly call <code dir="ltr">RESTORE</code> in a warm startup scenario.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11198"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.RESTORE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68710" class="refsect2"><a id="i1000377"></a>
<h3 class="refsect2"><a id="sthref11199"></a>SAVE Function</h3>
<p>This function saves information needed to regenerate the entire mapping into the data dictionary.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11200"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.SAVE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS68711" class="refsect2"><a id="i997102"></a>
<h3 class="refsect2"><a id="sthref11201"></a>UNLOCK_MAP Procedure</h3>
<p>This procedure unlocks the mapping information in the shared memory of the instance.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref11202"></a>Syntax</p>
<pre dir="ltr">DBMS_STORAGE_MAP.UNLOCK_MAP;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_stat_f.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_streams.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
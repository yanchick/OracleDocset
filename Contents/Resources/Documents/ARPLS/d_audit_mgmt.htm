<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2230"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_AUDIT_MGMT"></a><title>DBMS_AUDIT_MGMT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:9Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_assert.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_autosta.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">33/290</span> <!-- End Header -->
<div id="ARPLS241" class="chapter"><a id="BABJECFB"></a>
<h1 class="chapter"><span class="secnum">29</span> DBMS_AUDIT_MGMT</h1>
<p>The <code dir="ltr">DBMS_A<a id="sthref1137"></a>UDIT_MGMT</code> package provides subprograms to manage audit trail records. These subprograms enable audit administrators to manage the audit trail. In a mixed-mode environment, these audit trails comprise the database, operating system (OS), and XML audit trails. In a unified auditing environment, this comprises the unified audit trail.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DBSEG006" href="../DBSEG/part_6.htm#DBSEG006"><span class="italic">Oracle Database Security Guide</span></a> regarding verifying security access with auditing</p>
</li>
<li>
<p><a class="olink UPGRD52810" href="../UPGRD/afterup.htm#UPGRD52810"><span class="italic">Oracle Database Upgrade Guide</span></a> regarding migrating to unified auditing</p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABCAHGA">Using DBMS_AUDIT_MGMT</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
<li>
<p>Views</p>
</li>
</ul>
</li>
<li>
<p><a href="#BABIEABE">Subprogram Groups</a></p>
<ul>
<li>
<p>Audit Trail Management Subprograms</p>
</li>
<li>
<p>Audit Trail Cleanup Subprograms</p>
</li>
</ul>
</li>
<li>
<p><a href="#BABCAJBB">Summary of DBMS_AUDIT_MGMT Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BABCAHGA"></a>
<div id="ARPLS65393" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_AUDIT_MGMT</h2>
<p>This section contains topics which relate to using the <code dir="ltr">DBMS_AUDIT_MGMT</code> package. The following topics are included:</p>
<ul>
<li>
<p><a href="#BABGIIFC">Overview</a></p>
</li>
<li>
<p><a href="#BABJJBDE">Security Model</a></p>
</li>
<li>
<p><a href="#BABCEJJI">Constants</a></p>
</li>
<li>
<p><a href="#BABBFDJJ">Views</a></p>
</li>
</ul>
<div id="ARPLS65394" class="refsect2"><a id="BABGIIFC"></a>
<h3 class="refsect2">Overview</h3>
<p>Database auditing helps meet your database security and compliance requirements. In a mixed mode environment, audit records are written to database tables, operating system (OS) files, or XML files depending on the AUDIT_TRAIL initialization parameter setting. If you have upgraded to unified auditing, then the audit records are written to the unified audit trail.</p>
<p>In a mixed mode environment, when <code dir="ltr">AUDIT_TRAIL</code> is set to <code dir="ltr">DB</code>, database records are written to the <code dir="ltr">AUD$</code> table. In a unified auditing environment, audit records are written to a read-only table in the <code dir="ltr">AUDSYS</code> schema. The contents of this table are available from the <code dir="ltr">UNIFIED_AUDIT_TRAIL</code> data dictionary view.When <code dir="ltr">AUDIT_TRAIL</code> is set to OS, audit records are written to operating system files. When <code dir="ltr">AUDIT_TRAIL</code> is set to XML, audit records are written to operating system files in XML format.</p>
<p>With Unified Auditing facility, all audit records are written to the unified audit trail in a uniform format and are made available through the <code dir="ltr">UNIFIED_AUDIT_TRAIL</code> views.</p>
<p>It is important to manage your audit records properly in order to ensure efficient performance and disk space management. The <code dir="ltr">DBMS_AUDIT_MGMT</code> subprograms enable you to efficiently manage your audit trail records.</p>
<p>If you have not yet migrated to unified auditing, the <code dir="ltr">DBMS_AUDIT_MGMT</code> package provides a subprogram that allows you to move the database audit trail tables out of the <code dir="ltr">SYSTEM</code> tablespace. This improves overall database performance by reducing the load on the <code dir="ltr">SYSTEM</code> tablespace. It also enables you to dedicate an optimized tablespace for audit records.</p>
<p>For a mixed mode environment, the <code dir="ltr">DBMS_AUDIT_MGMT</code> subprograms also enable you to manage your operating system and XML audit files. You can define properties like the maximum size and age of an audit file. This enables you to keep the file sizes of OS and XML audit files in check.</p>
<p>The <code dir="ltr">DBMS_AUDIT_MGMT</code> subprograms enable you to perform cleanup operations on all audit trail types. Audit trails can be cleaned based on the last archive timestamp value. The last archive timestamp represents the timestamp of the most recent audit record that was securely archived.</p>
<p>The <code dir="ltr">DBMS_AUDIT_MGMT</code> package provides a subprogram that enables audit administrators to set the last archive timestamp for archived audit records. This subprogram can also be used by external archival systems to set the last archive timestamp.</p>
<p>The <code dir="ltr">DBMS_AUDIT_MGMT</code> subprograms also enable you to configure jobs that periodically delete audit trail records. The frequency with which these jobs should run can be controlled by the audit administrator.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBSEG006" href="../DBSEG/part_6.htm#DBSEG006"><span class="italic">Oracle Database Security Guide</span></a> for a detailed description of unified auditing</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65395" class="refsect2"><a id="BABJJBDE"></a>
<h3 class="refsect2">Security Model</h3>
<p>All <code dir="ltr">DBMS_AUDIT_MGMT</code> subprograms require the user to have <code dir="ltr">EXECUTE</code> privilege over the <code dir="ltr">DBMS_AUDIT_MGMT</code> package. The <code dir="ltr">SYSDBA</code> and <code dir="ltr">AUDIT_ADMIN</code> roles have <code dir="ltr">EXECUTE</code> privileges on the package by default.</p>
<p>Oracle strongly recommends that only audit administrators should have the <code dir="ltr">EXECUTE</code> privilege on the <code dir="ltr">DBMS_AUDIT_MGMT</code> package and be granted the <code dir="ltr">AUDIT_ADMIN</code> role.</p>
<p>Executions of the <code dir="ltr">DBMS_AUDIT_MGMT</code> subprograms are always audited.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65396" class="refsect2"><a id="BABCEJJI"></a>
<h3 class="refsect2">Constants</h3>
<p>The <code dir="ltr">DBMS_AUDIT_MGMT</code> package defines several constants that can be used for specifying parameter values.</p>
<p>The <code dir="ltr">DBMS_AUDIT_MGMT</code> package includes the constants shown in the following tables:</p>
<ul>
<li>
<p><a href="#BABIDGEA">DBMS_AUDIT_MGMT Constants - Audit Trail Types</a></p>
</li>
<li>
<p><a href="#BABCEGDB">DBMS_AUDIT_MGMT Constants - Audit Trail Properties</a></p>
</li>
<li>
<p><a href="#BABJABFA">DBMS_AUDIT_MGMT Constants - Purge Job Status</a></p>
</li>
</ul>
<p>Audit trails can be classified based on whether audit records are written to database tables, operating system files, or XML files. <a href="#BABIDGEA">Table 29-1</a> lists the audit trail type constants.</p>
<div id="ARPLS65397" class="tblformal">
<p class="titleintable"><a id="sthref1138"></a><a id="BABIDGEA"></a>Table 29-1 DBMS_AUDIT_MGMT Constants - Audit Trail Types</p>
<table class="cellalignment4330" title="DBMS_AUDIT_MGMT Constants - Audit Trail Types" summary="This table describes audit trail type constants used by DBMS_AUDIT_MGMT subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Constant</th>
<th class="cellalignment4328" id="r1c2-t4">Type</th>
<th class="cellalignment4328" id="r1c3-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_ALL</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c3-t4">
<p>All audit trail types. This includes the standard database audit trail (<code dir="ltr">SYS.AUD$</code>, <code dir="ltr">SYS.FGA_LOG$</code> and unified audit trail tables), operating system (OS) audit trail, and XML audit trail.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_AUD_STD</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c3-t4">
<p>Standard database audit records in the <code dir="ltr">SYS.AUD$</code> table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_DB_STD</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c3-t4">
<p>Both standard audit (<code dir="ltr">SYS.AUD$</code>) and FGA audit(<code dir="ltr">SYS.FGA_LOG$</code>) records</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_FGA_STD</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c3-t4">
<p>Standard database fine-grained auditing (FGA) records in the <code dir="ltr">SYS.FGA_LOG$</code> table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_FILES</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t4 r1c3-t4">
<p>Both operating system (OS) and XML audit trails</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_OS</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t4 r1c3-t4">
<p>Operating system audit trail. This refers to the audit records stored in operating system files.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_UNIFIED</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t4 r1c3-t4">
<p>Unified audit trail. In unified auditing, all audit records are written to the unified audit trail and are made available through the unified audit trail views, such as <code dir="ltr">UNIFIED_AUDIT_TRAIL</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t4" headers="r1c1-t4">
<p><code dir="ltr">AUDIT_TRAIL_XML</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t4 r1c2-t4">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t4 r1c3-t4">
<p>XML audit trail. This refers to the audit records stored in XML files.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>Audit trail properties determine the audit configuration settings. <a href="#BABCEGDB">Table 29-2</a> lists the constants related to audit trail properties.</p>
<div id="ARPLS65398" class="tblformal">
<p class="titleintable"><a id="sthref1139"></a><a id="BABCEGDB"></a>Table 29-2 DBMS_AUDIT_MGMT Constants - Audit Trail Properties</p>
<table class="cellalignment4330" title="DBMS_AUDIT_MGMT Constants - Audit Trail Properties" summary="This table describes audit trail property constants used by DBMS_AUDIT_MGMT subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Constant</th>
<th class="cellalignment4328" id="r1c2-t5">Type</th>
<th class="cellalignment4328" id="r1c3-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">AUDIT_TRAIL_WRITE_MODE</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c3-t5">
<p>A value of <code dir="ltr">AUDIT_TRAIL_IMMEDIATE_WRITE</code> indicates that the audit record must be immediately persisted and not to be queued. By contrast, <code dir="ltr">AUDIT_TRAIL_QUEUED_WRITE</code> indicates that the audit record can be queued and persisting can be done according the database&#39;s flushing strategy.</p>
<p>See Also <a class="olink DBSEG631" href="../DBSEG/audit_admin.htm#DBSEG631"><span class="italic">Oracle Database Security Guide</span></a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">CLEAN_UP_INTERVAL</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c3-t5">
<p>Interval, in hours, after which the cleanup procedure is called to clear audit records in the specified audit trail</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t5" headers="r1c1-t5">
<p><code dir="ltr">DB_DELETE_BATCH_SIZE</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c2-t5">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c3-t5">
<p>Specifies the batch size to be used for deleting audit records in database audit tables. The audit records are deleted in batches of size equal to <code dir="ltr">DB_DELETE_BATCH_SIZE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t5" headers="r1c1-t5">
<p><code dir="ltr">FILE_DELETE_BATCH_SIZE</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t5 r1c2-t5">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t5 r1c3-t5">
<p>Specifies the batch size to be used for deleting audit files in the audit directory. The audit files are deleted in batches of size equal to <code dir="ltr">FILE_DELETE_BATCH_SIZE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t5" headers="r1c1-t5">
<p><code dir="ltr">OS_FILE_MAX_AGE</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t5 r1c2-t5">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t5 r1c3-t5">
<p>Specifies the maximum number of days for which an operating system (OS) or XML audit file can be kept open before a new audit file gets created</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t5" headers="r1c1-t5">
<p><code dir="ltr">OS_FILE_MAX_SIZE</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t5 r1c2-t5">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t5 r1c3-t5">
<p>Specifies the maximum size, in kilobytes (KB), to which an operating system (OS) or XML audit file can grow before a new file is opened</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The audit trail purge job cleans the audit trail. <a href="#BABJABFA">Table 29-3</a> lists the constants related to purge job status values.</p>
<div id="ARPLS65399" class="tblformal">
<p class="titleintable"><a id="sthref1140"></a><a id="BABJABFA"></a>Table 29-3 DBMS_AUDIT_MGMT Constants - Purge Job Status</p>
<table class="cellalignment4330" title="DBMS_AUDIT_MGMT Constants - Purge Job Status" summary="This table describes purge job status constants used by DBMS_AUDIT_MGMT subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Constant</th>
<th class="cellalignment4328" id="r1c2-t6">Type</th>
<th class="cellalignment4328" id="r1c3-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">PURGE_JOB_DISABLE</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c3-t6">
<p>Disables a purge job</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">PURGE_JOB_ENABLE</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p><code dir="ltr">PLS_INTEGER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c3-t6">
<p>Enables a purge job</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65401" class="refsect2"><a id="BABBFDJJ"></a>
<h3 class="refsect2">Views</h3>
<p>The views listed in <a href="#BABDAEGB">Table 29-4</a> are used to display <code dir="ltr">DBMS_AUDIT_MGMT</code> configuration and cleanup events.</p>
<div id="ARPLS65402" class="tblformal">
<p class="titleintable"><a id="sthref1141"></a><a id="BABDAEGB"></a>Table 29-4 Views used by DBMS_AUDIT_MGMT</p>
<table class="cellalignment4330" title="Views used by DBMS_AUDIT_MGMT" summary="This table uses views used by DBMS_AUDIT_MGMT package" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">View</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">DBA_AUDIT_MGMT_CLEAN_EVENTS</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Displays the cleanup event history</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">DBA_AUDIT_MGMT_CLEANUP_JOBS</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>Displays the currently configured audit trail purge jobs</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">DBA_AUDIT_MGMT_CONFIG_PARAMS</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>Displays the currently configured audit trail properties</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t7" headers="r1c1-t7">
<p><code dir="ltr">DBA_AUDIT_MGMT_LAST_ARCH_TS</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t7 r1c2-t7">
<p>Displays the last archive timestamps set for the audit trails</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for more information on these views</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BABIEABE"></a>
<div id="ARPLS65403" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Subprogram Groups</h2>
<p>The <code dir="ltr">DBMS_AUDIT_MGMT</code> package subprograms can be grouped into the following categories:</p>
<ul>
<li>
<p><a href="#BABECHCD">Audit Trail Management Subprograms</a></p>
</li>
<li>
<p><a href="#BABBHIAI">Audit Trail Cleanup Subprograms</a></p>
</li>
</ul>
<div id="ARPLS65404" class="refsect2"><a id="BABECHCD"></a>
<h3 class="refsect2">Audit Trail Management Subprograms</h3>
<p>Audit trail management subprograms enable you to manage audit trail properties.</p>
<div id="ARPLS65405" class="tblformal">
<p class="titleintable"><a id="sthref1142"></a><a id="sthref1143"></a>Table 29-5 Audit Trail Management Subprograms</p>
<table class="cellalignment4330" title="Audit Trail Management Subprograms" summary="This table lists the audit trail management subprograms of DBMS_AUDIT_MGMT in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><a href="#BABHFBJG">CLEAR_AUDIT_TRAIL_PROPERTY Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Clears the value for the audit trail property that you specify</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><a href="#BABBFBHG">FLUSH_UNIFIED_AUDIT_TRAIL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>Writes the unified audit trail records in the SGA queue to disk</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9">
<p><a href="#BABHEHDC">GET_ AUDIT_TRAIL_PROPERTY_VALUE Function</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">
<p>Returns the property value set by the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t9" headers="r1c1-t9">
<p><a href="#BABGIGDC">GET_LAST_ARCHIVE_TIMESTAMP Function</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t9 r1c2-t9">
<p>Returns the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a> in that database instance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t9" headers="r1c1-t9">
<p><a href="#BABEJFEA">LOAD_UNIFIED_AUDIT_FILES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t9 r1c2-t9">
<p>Loads the data from the spillover OS audit files in a unified audit trail into the designated unified audit trail tablespace</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t9" headers="r1c1-t9">
<p><a href="#BABDAHBG">SET_AUDIT_TRAIL_LOCATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t9 r1c2-t9">
<p>Moves the audit trail tables from their current tablespace to a user-specified tablespace</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t9" headers="r1c1-t9">
<p><a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t9 r1c2-t9">
<p>Sets an audit trail property for the audit trail type that you specify</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t9" headers="r1c1-t9">
<p><a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t9 r1c2-t9">
<p>Sets a timestamp indicating when the audit records or files were last archived</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The <a href="#BABCAJBB">Summary of DBMS_AUDIT_MGMT Subprograms</a> contains a complete listing of all subprograms in the package.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65406" class="refsect2"><a id="BABBHIAI"></a>
<h3 class="refsect2">Audit Trail Cleanup Subprograms</h3>
<p>Audit trail cleanup subprograms help you perform cleanup related operations on the audit trail records.</p>
<div id="ARPLS65407" class="tblformal">
<p class="titleintable"><a id="sthref1144"></a><a id="sthref1145"></a>Table 29-6 Audit Trail Cleanup Subprograms</p>
<table class="cellalignment4330" title="Audit Trail Cleanup Subprograms" summary="This table lists the audit trail cleanup subprograms of DBMS_AUDIT_MGMT in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>Deletes audit trail records or files that have been archived</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><a href="#BABFJEAI">CLEAR_LAST_ARCHIVE_TIMESTAMP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Clears the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10">
<p><a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">
<p>Creates a purge job for periodically deleting the audit trail records or files</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t10" headers="r1c1-t10">
<p><a href="#BABGCGDD">DEINIT_CLEANUP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t10 r1c2-t10">
<p>Undoes the setup and initialization performed by the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t10" headers="r1c1-t10">
<p><a href="#BABGHBCB">DROP_OLD_UNIFIED_AUDIT_TABLES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t10 r1c2-t10">
<p>Drops old unified audit tables following the cloning of a pluggable database (PDB)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t10" headers="r1c1-t10">
<p><a href="#BABGIHAG">DROP_PURGE_JOB Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t10 r1c2-t10">
<p>Drops the purge job created using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t10" headers="r1c1-t10">
<p><a href="#BABFHEFH">INIT_CLEANUP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t10 r1c2-t10">
<p>Sets up the audit management infrastructure and sets a default cleanup interval for audit trail records or files</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t10" headers="r1c1-t10">
<p><a href="#BABDGBCC">IS_CLEANUP_INITIALIZED Function</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t10 r1c2-t10">
<p>Checks to see if the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a> has been run for an audit trail type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t10" headers="r1c1-t10">
<p><a href="#BABFJBGE">SET_PURGE_JOB_INTERVAL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t10 r1c2-t10">
<p>Sets the interval at which the <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a> is called for the purge job that you specify</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t10" headers="r1c1-t10">
<p><a href="#BABGDFAJ">SET_PURGE_JOB_STATUS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t10 r1c2-t10">
<p>Enables or disables the purge job that you specify</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The <a href="#BABCAJBB">Summary of DBMS_AUDIT_MGMT Subprograms</a> contains a complete listing of all subprograms in the package.</p>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BABCAJBB"></a>
<div id="ARPLS65408" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_AUDIT_MGMT Subprograms</h2>
<div id="ARPLS65409" class="tblformal">
<p class="titleintable"><a id="sthref1146"></a><a id="sthref1147"></a>Table 29-7 DBMS_AUDIT_MGMT Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_AUDIT_MGMT Package Subprograms" summary="&#34;&#34;" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>Deletes audit trail records that have been archived</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><a href="#BABHFBJG">CLEAR_AUDIT_TRAIL_PROPERTY Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>Clears the value for the audit trail property that you specify</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t11" headers="r1c1-t11">
<p><a href="#BABFJEAI">CLEAR_LAST_ARCHIVE_TIMESTAMP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t11 r1c2-t11">
<p>Clears the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t11" headers="r1c1-t11">
<p><a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t11 r1c2-t11">
<p>Creates a purge job for periodically deleting the audit trail records</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t11" headers="r1c1-t11">
<p><a href="#BABGCGDD">DEINIT_CLEANUP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t11 r1c2-t11">
<p>Undoes the setup and initialization performed by the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t11" headers="r1c1-t11">
<p><a href="#BABGHBCB">DROP_OLD_UNIFIED_AUDIT_TABLES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t11 r1c2-t11">
<p>Drops old unified audit tables following the cloning of a pluggable database (PDB)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t11" headers="r1c1-t11">
<p><a href="#BABGIHAG">DROP_PURGE_JOB Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t11 r1c2-t11">
<p>Drops the purge job created using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t11" headers="r1c1-t11">
<p><a href="#BABBFBHG">FLUSH_UNIFIED_AUDIT_TRAIL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t11 r1c2-t11">
<p>Writes the unified audit trail records in the SGA queue to disk</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t11" headers="r1c1-t11">
<p><a href="#BABGGHGG">GET_AUDIT_COMMIT_DELAY Function</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t11 r1c2-t11">
<p>Returns the audit commit delay time as the number of seconds. This is the maximum time that it takes to <code dir="ltr">COMMIT</code> an audit record to the database audit trail.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t11" headers="r1c1-t11">
<p><a href="#BABHEHDC">GET_ AUDIT_TRAIL_PROPERTY_VALUE Function</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t11 r1c2-t11">
<p>Returns the property value set by the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t11" headers="r1c1-t11">
<p><a href="#BABGIGDC">GET_LAST_ARCHIVE_TIMESTAMP Function</a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t11 r1c2-t11">
<p>Returns the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a> in that database instance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t11" headers="r1c1-t11">
<p><a href="#BABFHEFH">INIT_CLEANUP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r13c1-t11 r1c2-t11">
<p>Sets up the audit management infrastructure and sets a default cleanup interval for audit trail records</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t11" headers="r1c1-t11">
<p><a href="#BABDGBCC">IS_CLEANUP_INITIALIZED Function</a></p>
</td>
<td class="cellalignment4329" headers="r14c1-t11 r1c2-t11">
<p>Checks to see if the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a> has been run for an audit trail type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t11" headers="r1c1-t11">
<p><a href="#BABEJFEA">LOAD_UNIFIED_AUDIT_FILES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r15c1-t11 r1c2-t11">
<p>Loads the data from the spillover OS audit files in a unified audit trail into the designated unified audit trail tablespace</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t11" headers="r1c1-t11">
<p><a href="#BABDAHBG">SET_AUDIT_TRAIL_LOCATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r16c1-t11 r1c2-t11">
<p>Moves the audit trail tables from their current tablespace to a user-specified tablespace</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t11" headers="r1c1-t11">
<p><a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r17c1-t11 r1c2-t11">
<p>Sets the audit trail properties for the audit trail type that you specify</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r18c1-t11" headers="r1c1-t11">
<p><a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r18c1-t11 r1c2-t11">
<p>Sets a timestamp indicating when the audit records were last archived</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r19c1-t11" headers="r1c1-t11">
<p><a href="#BABFJBGE">SET_PURGE_JOB_INTERVAL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r19c1-t11 r1c2-t11">
<p>Sets the interval at which the <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a> is called for the purge job that you specify</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r20c1-t11" headers="r1c1-t11">
<p><a href="#BABGDFAJ">SET_PURGE_JOB_STATUS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r20c1-t11 r1c2-t11">
<p>Enables or disables the purge job that you specify</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS65410" class="refsect2"><a id="BABIAEAH"></a>
<h3 class="refsect2">CLEAN_AUDI<a id="sthref1148"></a><a id="sthref1149"></a>T_TRAIL Procedure</h3>
<p>This procedure deletes audit trail records. The <code dir="ltr">CLEAN_AUDIT_TRAIL</code> procedure is usually called after the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a> has been used to set the last archived timestamp for the audit records.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1150"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.CLEAN_AUDIT_TRAIL(
   audit_trail_type         IN PLS_INTEGER,
   use_last_arch_timestamp  IN BOOLEAN DEFAULT TRUE,
   container                IN PLS_INTEGER DEFAULT CONTAINER_CURRENT,
   database_id              IN NUMBER DEFAULT NULL,
   container_guid           IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1151"></a>Parameters</p>
<div id="ARPLS65411" class="tblformal">
<p class="titleintable"><a id="sthref1152"></a><a id="sthref1153"></a>Table 29-8 CLEAN_AUDIT_TRAIL Procedure Parameters</p>
<table class="cellalignment4330" title="CLEAN_AUDIT_TRAIL Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.CLEAN_AUDIT_TRAIL subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>The audit trail type for which the cleanup operation needs to be performed. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> .</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t12" headers="r1c1-t12">
<p><code dir="ltr">use_last_arch_timestamp</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t12 r1c2-t12">
<p>Specifies whether the last archived timestamp should be used for deciding on the records that should be deleted.</p>
<p>A value of <code dir="ltr">TRUE</code> indicates that only audit records created before the last archive timestamp should be deleted.</p>
<p>A value of <code dir="ltr">FALSE</code> indicates that all audit records should be deleted.</p>
<p>The default value is <code dir="ltr">TRUE</code>. Oracle recommends using this value, as this helps guard against inadvertent deletion of records.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t12" headers="r1c1-t12">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t12 r1c2-t12">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs). When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, this purges the audit trail in all the PDBs, otherwise it only purges from the connected PDB.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t12" headers="r1c1-t12">
<p><code dir="ltr">database_id</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t12 r1c2-t12">
<p>Database ID (DBID) of the <code dir="ltr">SYS.AUD$</code> and <code dir="ltr">SYS.FGA$</code> audit records to cleanup; does not apply to unified audit records</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t12" headers="r1c1-t12">
<p><code dir="ltr">container_guid</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t12 r1c2-t12">
<p>Container GUID of the audit records to cleanup; applies to unified audit records</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1154"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>When cleaning up operating system (OS) or XML audit files, only files in the current audit directory, specified by the <code dir="ltr">AUDIT_FILE_DEST</code> parameter, are cleaned up.</p>
</li>
<li>
<p>For Windows platforms, no cleanup is performed when the <code dir="ltr">audit_trail_type</code> parameter is set to <code dir="ltr">DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS.</code> This is because operating system (OS) audit records on Windows are written to the Windows Event Viewer.</p>
</li>
<li>
<p>For Unix platforms, no cleanup is performed for cases where the operating system (OS) audit records are written to the syslog. When the <code dir="ltr">audit_trail_type</code> parameter is set to <code dir="ltr">DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,</code> it removes only the <code dir="ltr">*.aud</code> files under the directory specified by the <code dir="ltr">AUDIT_FILE_DEST</code> initialization parameter.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink REFRN10263" href="../REFRN/GUID-EBBAD1D4-A4F8-49A4-9C4E-7CF6A085CB53.htm#REFRN10263">&#34;AUDIT_SYSLOG_LEVEL&#34;</a> in the <span class="italic">Oracle Database Reference</span></div>
</li>
<li>
<p>When the <code dir="ltr">audit_trail_type</code> parameter is set to <code dir="ltr">DBMS_AUDIT_MGMT.AUDIT_TRAIL_XML,</code> this procedure only removes XML audit files (<code dir="ltr">*.xml</code>) from the current audit directory.</p>
<p>Oracle database maintains a book-keeping file <code dir="ltr">(adx_</code><code dir="ltr"><span class="codeinlineitalic">$ORACLE_SID</span></code><code dir="ltr">.txt</code>) for the XML audit files. This file is not removed by the cleanup procedure.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1155"></a>Examples</p>
<p>The following example calls the <code dir="ltr">CLEAN_AUDIT_TRAIL</code> procedure to clean up the operating system (OS) audit trail records that were updated before the last archive timestamp.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.CLEAN_AUDIT_TRAIL(
   audit_trail_type         =&gt;  DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
   use_last_arch_timestamp  =&gt;  TRUE);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65412" class="refsect2"><a id="BABHFBJG"></a>
<h3 class="refsect2">CLEAR_AUDIT_TRAIL_P<a id="sthref1156"></a><a id="sthref1157"></a>ROPERTY Procedure</h3>
<p>This procedure clears the value for the audit trail property that is specified. Audit trail properties are set using the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a>.</p>
<p>The <code dir="ltr">CLEAR_AUDIT_TRAIL_PROPERTY</code> procedure can optionally reset the property value to it&#39;s default value through the <code dir="ltr">use_default_values</code> parameter.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1158"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.CLEAR_AUDIT_TRAIL_PROPERTY(
   audit_trail_type        IN PLS_INTEGER,
   audit_trail_property    IN PLS_INTEGER,
   use_default_values      IN BOOLEAN DEFAULT FALSE) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1159"></a>Parameters</p>
<div id="ARPLS65413" class="tblformal">
<p class="titleintable"><a id="sthref1160"></a><a id="sthref1161"></a>Table 29-9 CLEAR_AUDIT_TRAIL_PROPERTY Procedure Parameters</p>
<table class="cellalignment4330" title="CLEAR_AUDIT_TRAIL_PROPERTY Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.CLEAR_AUDIT_TRAIL_PROPERTY subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Parameter</th>
<th class="cellalignment4328" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14">
<p>The audit trail type for which the property needs to be cleared. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14">
<p><code dir="ltr">audit_trail_property</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14">
<p>The audit trail property whose value needs to be cleared. You cannot clear the value for the <code dir="ltr">CLEANUP_INTERVAL</code> property.</p>
<p>Audit trail properties are listed in <a href="#BABCEGDB">Table 29-2, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Properties&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t14" headers="r1c1-t14">
<p><code dir="ltr">use_default_values</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t14 r1c2-t14">
<p>Specifies whether the default value of the <code dir="ltr">audit_trail_property</code> should be used in place of the cleared value. A value of <code dir="ltr">TRUE</code> causes the default value of the parameter to be used. A value of <code dir="ltr">FALSE</code> causes the <code dir="ltr">audit_trail_property</code> to have no value.</p>
<p>The default value for this parameter is <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1162"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>You can use this procedure to clear the value for an audit trail property that you do not wish to use. For example, if you do not want a restriction on the operating system audit file size, then you can use this procedure to reset the <code dir="ltr">OS_FILE_MAX_SIZE</code> property.</p>
<p>You can also use this procedure to reset an audit trail property to it&#39;s default value. You need to set <code dir="ltr">use_default_values</code> to <code dir="ltr">TRUE</code> when invoking the procedure.</p>
</li>
<li>
<p>The <code dir="ltr">DB_DELETE_BATCH_SIZE</code> property needs to be individually cleared for the <code dir="ltr">AUDIT_TRAIL_AUD_STD</code> and <code dir="ltr">AUDIT_TRAIL_FGA_STD</code> audit trail types. You cannot clear this property collectively using the <code dir="ltr">AUDIT_TRAIL_DB_STD</code> and <code dir="ltr">AUDIT_TRAIL_ALL</code> audit trail types.</p>
</li>
<li>
<p>If you clear the value of the <code dir="ltr">DB_DELETE_BATCH_SIZE</code> property with <code dir="ltr">use_default_value</code> set to <code dir="ltr">FALSE</code>, the default value of <code dir="ltr">DB_DELETE_BATCH_SIZE</code> is still assumed. This is because audit records are always deleted in batches.</p>
</li>
<li>
<p>The <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> property needs to be individually cleared for the <code dir="ltr">AUDIT_TRAIL_OS</code> and <code dir="ltr">AUDIT_TRAIL_XML</code> audit trail types. You cannot clear this property collectively using the <code dir="ltr">AUDIT_TRAIL_FILES</code> and <code dir="ltr">AUDIT_TRAIL_ALL</code> audit trail types.</p>
</li>
<li>
<p>If you clear the value of the <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> property with <code dir="ltr">use_default_value</code> set to <code dir="ltr">FALSE</code>, the default value of <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> is still assumed. This is because audit files are always deleted in batches.</p>
</li>
<li>
<p>You cannot clear the value for the <code dir="ltr">CLEANUP_INTERVAL</code> property.</p>
</li>
<li>
<p>You cannot clear the value for the <code dir="ltr">AUDIT_TRAIL_WRITE_MODE</code> property.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1163"></a>Examples</p>
<p>The following example calls the <code dir="ltr">CLEAR_AUDIT_TRAIL_PROPERTY</code> procedure to clear the value for the audit trail property, <code dir="ltr">OS_FILE_MAX_SIZE</code>. The procedure uses a value of <code dir="ltr">FALSE</code> for the <code dir="ltr">USE_DEFAULT_VALUES</code> parameter. This means that there will be no maximum size threshold for operating system (OS) audit files.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.CLEAR_AUDIT_TRAIL_PROPERTY(
   AUDIT_TRAIL_TYPE        =&gt;  DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
   AUDIT_TRAIL_PROPERTY    =&gt;  DBMS_AUDIT_MGMT.OS_FILE_MAX_SIZE,
   USE_DEFAULT_VALUES      =&gt;  FALSE );
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65414" class="refsect2"><a id="BABFJEAI"></a>
<h3 class="refsect2">CLEAR_LAST_ARCHI<a id="sthref1164"></a><a id="sthref1165"></a>VE_TIMESTAMP Procedure</h3>
<p>This procedure clears the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1166"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.CLEAR_LAST_ARCHIVE_TIMESTAMP(
   audit_trail_type         IN PLS_INTEGER,
   rac_instance_number      IN PLS_INTEGER DEFAULT NULL,
   container                IN PLS_INTEGER DEFAULT CONTAINER_CURRENT,
   database_id              IN NUMBER DEFAULT NULL,
   container_guid           IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1167"></a>Parameters</p>
<div id="ARPLS65415" class="tblformal">
<p class="titleintable"><a id="sthref1168"></a><a id="sthref1169"></a>Table 29-10 CLEAR_LAST_ARCHIVE_TIMESTAMP Procedure Parameters</p>
<table class="cellalignment4330" title="CLEAR_LAST_ARCHIVE_TIMESTAMP Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.CLEAR_LAST_ARCHIVE_TIMESTAMP subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Parameter</th>
<th class="cellalignment4328" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15">
<p>The audit trail type for which the timestamp needs to be cleared. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> .</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t15" headers="r1c1-t15">
<p><code dir="ltr">rac_instance_number</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t15 r1c2-t15">
<p>The instance number for the Oracle Real Application Clusters (Oracle RAC) instance. The default value is <code dir="ltr">NULL</code>. The <code dir="ltr">rac_instance_number</code> is not relevant for single instance databases. You can find the instance number by issuing the <code dir="ltr">SHOW</code> <code dir="ltr">PARAMETER</code> <code dir="ltr">INSTANCE_NUMBER</code> command in SQL*Plus.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t15" headers="r1c1-t15">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t15 r1c2-t15">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs). When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, this clears the last archive timestamp from all the PDBs, otherwise it clears from only the connected PDB.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t15" headers="r1c1-t15">
<p><code dir="ltr">database_id</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t15 r1c2-t15">
<p>Database ID (DBID) of the audit records to cleanup</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t15" headers="r1c1-t15">
<p><code dir="ltr">container_guid</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t15 r1c2-t15">
<p>Container GUID of the audit records to cleanup</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1170"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>The timestamp for only one <code dir="ltr">audit_trail_type</code> can be cleared at a time.</p>
</li>
<li>
<p>The following are invalid <code dir="ltr">audit_trail_type</code> values for this procedure and cannot be used:</p>
<ul>
<li>
<p><code dir="ltr">AUDIT_TRAIL_ALL</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_DB_STD</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_FILES</code></p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1171"></a>Examples</p>
<p>The following example calls the <code dir="ltr">CLEAR_LAST_ARCHIVE_TIMESTAMP</code> procedure to clear the timestamp value for the operating system (OS) audit trail type.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.CLEAR_LAST_ARCHIVE_TIMESTAMP(
   audit_trail_type     =&gt;  DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
   rac_instance_number  =&gt;  1);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65416" class="refsect2"><a id="BABFJHCB"></a>
<h3 class="refsect2">CREATE_PURGE_J<a id="sthref1172"></a><a id="sthref1173"></a>OB Procedure</h3>
<p>This procedure creates a purge job for periodically deleting the audit trail records.</p>
<p>This procedure carries out the cleanup operation at intervals specified by the user. It calls the <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a> to perform the cleanup operation.</p>
<p>The <a href="#BABFJBGE">SET_PURGE_JOB_INTERVAL Procedure</a> is used to modify the frequency of the purge job.</p>
<p>The <a href="#BABGDFAJ">SET_PURGE_JOB_STATUS Procedure</a> is used to enable or disable the purge job.</p>
<p>The <a href="#BABGIHAG">DROP_PURGE_JOB Procedure</a> is used to drop a purge job created with the <code dir="ltr">CREATE_PURGE_JOB</code> procedure.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1174"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.CREATE_PURGE_JOB(
   audit_trail_type            IN PLS_INTEGER,
   audit_trail_purge_interval  IN PLS_INTEGER,
   audit_trail_purge_name      IN VARCHAR2,
   use_last_arch_timestamp     IN BOOLEAN DEFAULT TRUE,
   container                   IN PLS_INTEGER DEFAULT CONTAINER_CURRENT) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1175"></a>Parameters</p>
<div id="ARPLS65417" class="tblformal">
<p class="titleintable"><a id="sthref1176"></a><a id="sthref1177"></a>Table 29-11 CREATE_PURGE_JOB Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_PURGE_JOB Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.CREATE_PURGE_JOB subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Parameter</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">
<p>The audit trail type for which the purge job needs to be created. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> .</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16">
<p><code dir="ltr">audit_trail_purge_interval</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">
<p>The interval, in hours, at which the clean up procedure is called. A lower value means that the cleanup is performed more often.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t16" headers="r1c1-t16">
<p><code dir="ltr">audit_trail_purge_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t16 r1c2-t16">
<p>A name to identify the purge job.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t16" headers="r1c1-t16">
<p><code dir="ltr">use_last_arch_timestamp</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t16 r1c2-t16">
<p>Specifies whether the last archived timestamp should be used for deciding on the records that should be deleted.</p>
<p>A value of <code dir="ltr">TRUE</code> indicates that only audit records created before the last archive timestamp should be deleted.</p>
<p>A value of <code dir="ltr">FALSE</code> indicates that all audit records should be deleted.</p>
<p>The default value is <code dir="ltr">TRUE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t16" headers="r1c1-t16">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t16 r1c2-t16">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs). When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, it creates one job in the Root PDB and the invocation of this job will invoke cleanup in all the PDBs.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1178"></a>Usage Notes</p>
<p>Use this procedure to schedule the <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a> for your audit trail records.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1179"></a>Examples</p>
<p>The following example calls the <code dir="ltr">CREATE_PURGE_JOB</code> procedure to create a cleanup job called <code dir="ltr">CLEANUP</code>, for all audit trail types. It sets the <code dir="ltr">audit_trail_purge_interval</code> parameter to 100. This means that the cleanup job is invoked every 100 hours. It also sets the <code dir="ltr">use_last_arch_timestamp</code> parameter value to <code dir="ltr">TRUE</code>. This means that all audit records older than the last archive timestamp are deleted.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.CREATE_PURGE_JOB(
  audit_trail_type             =&gt;  DBMS_AUDIT_MGMT.AUDIT_TRAIL_ALL,
  audit_trail_purge_interval   =&gt;  100 /* hours */,  
  audit_trail_purge_name       =&gt;  &#39;CLEANUP&#39;,
  use_last_arch_timestamp      =&gt;  TRUE);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65418" class="refsect2"><a id="BABGCGDD"></a>
<h3 class="refsect2">DEINIT_CLEANUP Proc<a id="sthref1180"></a><a id="sthref1181"></a>edure</h3>
<p>This procedure undoes the setup and initialization performed by the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a>. The <code dir="ltr">DEINIT_CLEANUP</code> procedure clears the value of the <code dir="ltr">default_cleanup_interval</code> parameter. However, when used for audit tables, it does not move the audit trail tables back to their original tablespace.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1182"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.DEINIT_CLEANUP(
   audit_trail_type  IN PLS_INTEGER, 
   container         IN PLS_INTEGER DEFAULT CONTAINER_CURRENT);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1183"></a>Parameters</p>
<div id="ARPLS65419" class="tblformal">
<p class="titleintable"><a id="sthref1184"></a><a id="sthref1185"></a>Table 29-12 DEINIT_CLEANUP Procedure Parameters</p>
<table class="cellalignment4330" title="DEINIT_CLEANUP Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.DEINIT_CLEANUP subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t17">Parameter</th>
<th class="cellalignment4328" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t17" headers="r1c1-t17">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t17 r1c2-t17">
<p>The audit trail type for which the procedure needs to be called.</p>
<p>Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t17" headers="r1c1-t17">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t17 r1c2-t17">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs). When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, this de-initializes the audit trail from cleanup in all the pluggable databases, otherwise it de-initializes the audit trail from cleanup in the connected PDB only.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1186"></a>Usage Notes</p>
<p>You cannot invoke this procedure for <code dir="ltr">AUDIT_TRAIL_UNIFIED</code>. Doing so it will raise <code dir="ltr">ORA-46250</code> : <code dir="ltr">Invalid value for argument &#39;AUDIT_TRAIL_TYPE&#39;</code></p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1187"></a>Examples</p>
<p>The following example clears the <code dir="ltr">default_cleanup_interval</code> parameter setting for the standard database audit trail:</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.DEINIT_CLEANUP(
  AUDIT_TRAIL_TYPE  =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_AUD_STD);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65420" class="refsect2"><a id="BABGHBCB"></a>
<h3 class="refsect2"><a id="sthref1188"></a>DROP_OLD_UNIFIED_AUDIT_TABLES Procedure</h3>
<p>This procedure drops old unified audit tables following the cloning of a pluggable database (PDB).</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1189"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.DROP_OLD_UNIFIED_AUDIT_TABLES(
   container_guid    IN VARCHAR2) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1190"></a>Parameters</p>
<div id="ARPLS74991" class="tblformal">
<p class="titleintable"><a id="sthref1191"></a><a id="sthref1192"></a>Table 29-13 DROP_OLD_UNIFIED_AUDIT_TABLES Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_OLD_UNIFIED_AUDIT_TABLES Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.DROP_OLD_UNIFIED_AUDIT_TABLES subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t18">Parameter</th>
<th class="cellalignment4328" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t18" headers="r1c1-t18">
<p><code dir="ltr">container_guid</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t18 r1c2-t18">
<p>Container GUID of the old unified audit tables</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1193"></a>Usage Notes</p>
<p>When a pluggable database gets cloned, the unified audit tables get newly created in the new pluggable database. To drop the old unified audit tables, use the <code dir="ltr">DROP_OLD_UNIFIED_AUDIT_TABLES</code> by specifying the old <code dir="ltr">GUID</code> of the PDB from which the clone was created. You can query the historical <code dir="ltr">GUIDs</code> from the <code dir="ltr">DBA_PDB_HISTORY</code> view for the given PDB.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1194"></a>Examples</p>
<pre dir="ltr">BEGIN
    DBMS_AUDIT_MGMT.DROP_OLD_UNIFIED_AUDIT_TABLES ( 
      container_guid =&gt; &#39;E4721865A9321CB5E043EFA9E80A2D77&#39;); 
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74992" class="refsect2"><a id="BABGIHAG"></a>
<h3 class="refsect2">DROP_PURGE_JOB Pro<a id="sthref1195"></a><a id="sthref1196"></a>cedure</h3>
<p>This procedure drops the purge job created using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>. The name of the purge job is passed as an argument.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1197"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.DROP_PURGE_JOB(
   audit_trail_purge_name    IN VARCHAR2) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1198"></a>Parameters</p>
<div id="ARPLS65421" class="tblformal">
<p class="titleintable"><a id="sthref1199"></a><a id="sthref1200"></a>Table 29-14 DROP_PURGE_JOB Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_PURGE_JOB Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.DROP_PURGE_JOB subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t19">Parameter</th>
<th class="cellalignment4328" id="r1c2-t19">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t19" headers="r1c1-t19">
<p><code dir="ltr">audit_trail_purge_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t19 r1c2-t19">
<p>The name of the purge job which is being deleted. This is the purge job name that you specified with the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1201"></a>Examples</p>
<p>The following example calls the <code dir="ltr">DROP_PURGE_JOB</code> procedure to drop the purge job called <code dir="ltr">CLEANUP</code>.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.DROP_PURGE_JOB(
  AUDIT_TRAIL_PURGE_NAME  =&gt; &#39;CLEANUP&#39;);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74516" class="refsect2"><a id="BABBFBHG"></a>
<h3 class="refsect2"><a id="sthref1202"></a>FLUSH_UNIFIED_AUDIT_TRAIL Procedure</h3>
<p>This procedure writes the unified audit trail records in the SGA queue to disk.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1203"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.FLUSH_UNIFIED_AUDIT_TRAIL (
   flush_type      IN BINARY_INTEGER   DEFAULT FLUSH_CURRENT_INSTANCE,
   container       IN BINARY_INTEGER   DEFAULT CONTAINER_CURRENT);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1204"></a>Parameters</p>
<div id="ARPLS74812" class="tblformal">
<p class="titleintable"><a id="sthref1205"></a><a id="sthref1206"></a>Table 29-15 FLUSH_UNIFIED_AUDIT_TRAIL Procedure Parameters</p>
<table class="cellalignment4330" title="FLUSH_UNIFIED_AUDIT_TRAIL Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.DROP_PURGE_JOB subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t20">Parameter</th>
<th class="cellalignment4328" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t20" headers="r1c1-t20">
<p><code dir="ltr">flush_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t20 r1c2-t20">
<p>Takes one of the following two arguments:</p>
<ul>
<li>
<p><code dir="ltr">FLUSH_CURRENT_INSTANCE</code> - Flushes the audit records from SGA queues in that particular RAC instance</p>
</li>
<li>
<p><code dir="ltr">FLUSH_ALL_INSTANCES</code> - Flushes the audit records from SGA queues in all the RAC instances</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t20" headers="r1c1-t20">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t20 r1c2-t20">
<p>The containers where the SGA queues should be flushed. It takes one of the following two arguments:</p>
<ul>
<li>
<p><code dir="ltr">CONTAINER_CURRENT</code> - Flushes the audit records from SGA queues in that particular PDB</p>
</li>
<li>
<p><code dir="ltr">CONTAINER_ALL</code> - Flushes the audit records from SGA queues in all the active PDBs.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65422" class="refsect2"><a id="BABGGHGG"></a>
<h3 class="refsect2">GET_AUDIT_COMMIT_<a id="sthref1207"></a><a id="sthref1208"></a>DELAY Function</h3>
<p>This function returns the audit commit delay time as the number of seconds. audit commit delay time is the maximum time that it takes to <code dir="ltr">COMMIT</code> an audit record to the database audit trail. If it takes more time to COMMIT an audit record than defined by the audit commit delay time, then a copy of the audit record is written to the operating system (OS) audit trail.</p>
<p>The audit commit delay time value is useful when determining the last archive timestamp for database audit records.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1209"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.GET_AUDIT_COMMIT_DELAY
  RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74993" class="refsect2"><a id="BABHEHDC"></a>
<h3 class="refsect2"><a id="sthref1210"></a>GET_ AUDIT_TRAIL_PROPERTY_VALUE Function</h3>
<p>This procedure returns the property value set by the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1211"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.GET_LAST_ARCHIVE_TIMESTAMP(
   audit_trail_type         IN PLS_INTEGER,
   audit_trail_property     IN PLS_INTEGER)
 RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1212"></a>Parameters</p>
<div id="ARPLS74994" class="tblformal">
<p class="titleintable"><a id="sthref1213"></a><a id="sthref1214"></a>Table 29-16 GET_ AUDIT_TRAIL_PROPERTY_VALUE Function Parameters</p>
<table class="cellalignment4330" title="GET_ AUDIT_TRAIL_PROPERTY_VALUE Function Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.GET_ AUDIT_TRAIL_PROPERTY_VALUE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t21">Parameter</th>
<th class="cellalignment4328" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t21" headers="r1c1-t21">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t21 r1c2-t21">
<p>The audit trail type for the timestamp to be retrieved. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> .</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t21" headers="r1c1-t21">
<p><code dir="ltr">audit_trail_property</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t21 r1c2-t21">
<p>The audit trail property that is being queried. Audit trail properties are listed in <a href="#BABCEGDB">Table 29-2, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Properties&#34;</a> .</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1215"></a>Return Values</p>
<p>If the property value is cached in SGA memory, this function will return the value set by the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a>. Else it will return <code dir="ltr">NULL</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1216"></a>Examples</p>
<p>The following example prints the property value of <code dir="ltr">OS_FILE_MAX_AGE</code> set by the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a>.</p>
<pre dir="ltr">SET_AUDIT_TRAIL_PROPERTY.
SET SERVEROUTPUT ON
DECLARE
 OS_MAX_AGE_VAL NUMBER;
BEGIN
 OS_MAX_AGE_VAL := DBMS_AUDIT_MGMT.GET_AUDIT_TRAIL_PROPERTY_VALUE(
      audit_trail_type          =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
      audit_trail_property      =&gt; DBMS_AUDIT_MGMT. OS_FILE_MAX_AGE);
 IF OS_MAX_AGE_VAL is not NULL THEN
  DBMS_OUTPUT.PUT_LINE(&#39;The Maximum Age configured for OS Audit files is: &#39; ||
                       OS_MAX_AGE_VAL);
 END IF;
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74995" class="refsect2"><a id="BABGIGDC"></a>
<h3 class="refsect2"><a id="sthref1217"></a>GET_LAST_ARCHIVE_TIMESTAMP Function</h3>
<p>This procedure returns the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a> in that database instance.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1218"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.GET_LAST_ARCHIVE_TIMESTAMP(
   audit_trail_type     IN PLS_INTEGER)
 RETURN TIMESTAMP;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1219"></a>Parameters</p>
<div id="ARPLS74996" class="tblformal">
<p class="titleintable"><a id="sthref1220"></a><a id="sthref1221"></a>Table 29-17 GET_LAST_ARCHIVE_TIMESTAMP Function Parameters</p>
<table class="cellalignment4330" title="GET_LAST_ARCHIVE_TIMESTAMP Function Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.GET_LAST_ARCHIVE_TIMESTAMP subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t22">Parameter</th>
<th class="cellalignment4328" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t22" headers="r1c1-t22">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t22 r1c2-t22">
<p>The audit trail type for the timestamp to be retrieved. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> .</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1222"></a>Return Values</p>
<p>In a database that is opened for <code dir="ltr">READ WRITE</code>, since there will no timestamp stored in SGA memory, this function will return <code dir="ltr">NULL</code>. But in a database that is opened for <code dir="ltr">READ ONLY</code>, if a timestamp is set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a>, the timestamp will be returned. Else it will return <code dir="ltr">NULL</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1223"></a>Usage Notes</p>
<p>This function will return <code dir="ltr">NULL</code> on a database that is opened <code dir="ltr">READ WRITE</code>. Use <code dir="ltr">DBA_AUDIT_MGMT_LAST_ARCH_TS</code> view to check the timestamp set in such a case.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1224"></a>Examples</p>
<p>The following example prints the timestamp set by the <a href="#BABBHHGC">SET_LAST_ARCHIVE_TIMESTAMP Procedure</a> on a <code dir="ltr">READ ONLY</code> database.</p>
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE
 LAT_TS TIMESTAMP;
BEGIN
 LAT_TS := DBMS_AUDIT_MGMT.GET_LAST_ARCHIVE_TIMESTAMP(
      audit_trail_type          =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS);
 IF LAT_TS is not NULL THEN
  DBMS_OUTPUT.PUT_LINE(&#39;The Last Archive Timestamp is: &#39; || to_char(LAT_TS));
 END IF;
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65423" class="refsect2"><a id="BABFHEFH"></a>
<h3 class="refsect2">INIT_CLEANUP Pr<a id="sthref1225"></a><a id="sthref1226"></a>ocedure</h3>
<p>This procedure sets up the audit management infrastructure and a default cleanup interval for the audit trail records. If the audit trail tables are in the <code dir="ltr">SYSTEM</code> tablespace, then the procedure moves them to the <code dir="ltr">SYSAUX</code> tablespace. If you are using unified auditing, you do not need to run this procedure because the unified audit trail tables are in the <code dir="ltr">SYSAUX</code> tablespace by default. If you are not using unified auditing, refer to <a class="olink UPGRD52813" href="../UPGRD/afterup.htm#UPGRD52813"><span class="italic">Oracle Database Upgrade Guide</span></a> for documentation which references an environment without unified auditing.</p>
<p>Moving the audit trail tables out of the <code dir="ltr">SYSTEM</code> tablespace enhances overall database performance. The <code dir="ltr">INIT_CLEANUP</code> procedure moves the audit trail tables to the <code dir="ltr">SYSAUX</code> tablespace. If the <a href="#BABDAHBG">SET_AUDIT_TRAIL_LOCATION Procedure</a> has already moved the audit tables elsewhere, then no tables are moved.</p>
<p>The <a href="#BABDAHBG">SET_AUDIT_TRAIL_LOCATION Procedure</a> enables you to specify an alternate target tablespace for the database audit tables.</p>
<p>The <code dir="ltr">INIT_CLEANUP</code> procedure is currently not relevant for the <code dir="ltr">AUDIT_TRAIL_OS</code>, <code dir="ltr">AUDIT_TRAIL_XML</code>, and <code dir="ltr">AUDIT_TRAIL_FILES</code> audit trail types. No preliminary set up is required for these audit trail types.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> for a list of all audit trail types</div>
<p>This procedure also sets a default cleanup interval for the audit trail records.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1227"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.INIT_CLEANUP(
   audit_trail_type          IN PLS_INTEGER,
   default_cleanup_interval  IN PLS_INTEGER
   container                 IN PLS_INTEGER DEFAULT CONTAINER_CURRENT);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1228"></a>Parameters</p>
<div id="ARPLS65424" class="tblformal">
<p class="titleintable"><a id="sthref1229"></a><a id="sthref1230"></a>Table 29-18 INIT_CLEANUP Procedure Parameters</p>
<table class="cellalignment4330" title="INIT_CLEANUP Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.INIT_CLEANUP subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t24">Parameter</th>
<th class="cellalignment4328" id="r1c2-t24">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t24" headers="r1c1-t24">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t24 r1c2-t24">
<p>The audit trail type for which the clean up operation needs to be initialized.</p>
<p>Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> except <code dir="ltr">AUDIT_TRAIL_UNIFIED</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t24" headers="r1c1-t24">
<p><code dir="ltr">default_cleanup_interval</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t24 r1c2-t24">
<p>The default time interval, in hours, after which the cleanup procedure should be called. The minimum value is 1 and the maximum is 999.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t24" headers="r1c1-t24">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t24 r1c2-t24">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs). When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, this initializes the audit trails for clean up in all the pluggable databases, otherwise this initializes the audit trail in the connected PDB only.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1231"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>This procedure may involve data movement across tablespaces. This can be a resource intensive operation especially if your database audit trail tables are already populated. Oracle recommends that you invoke the procedure during non-peak hours.</p>
</li>
<li>
<p>You should ensure that the <code dir="ltr">SYSAUX</code> tablespace, into which the audit trail tables are being moved, has sufficient space to accommodate the audit trail tables. You should also optimize the <code dir="ltr">SYSAUX</code> tablespace for frequent write operations.</p>
</li>
<li>
<p>You can change the <code dir="ltr">default_cleanup_interval</code> later using the <a href="#BABBBBJE">SET_AUDIT_TRAIL_PROPERTY Procedure</a>.</p>
</li>
<li>
<p>If you do not wish to move the audit trail tables to the <code dir="ltr">SYSAUX</code> tablespace, then you should use the <code dir="ltr">DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_LOCATION</code> procedure to move the audit trail tables to another tablespace before calling the <code dir="ltr">INIT_CLEANUP</code> procedure.</p>
</li>
<li>
<p>Invoking this procedure with <code dir="ltr">AUDIT_TRAIL_UNIFIED</code> results in <code dir="ltr">ORA-46250</code>. It requires no initializations for cleanup since it is cleanup-ready by default.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABDAHBG">&#34;SET_AUDIT_TRAIL_LOCATION Procedure&#34;</a></div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1232"></a>Examples</p>
<p>The following example calls the <code dir="ltr">INIT_CLEANUP</code> procedure to set a <code dir="ltr">default_cleanup_interval</code> of 12 hours for all audit trail types:</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.INIT_CLEANUP(
              audit_trail_type   =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_ALL,
      default_cleanup_interval   =&gt; 12 /* hours */);
END;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> for a list of all audit trail types</div>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65425" class="refsect2"><a id="BABDGBCC"></a>
<h3 class="refsect2">IS_CLEANUP_INITIAL<a id="sthref1233"></a><a id="sthref1234"></a>IZED Function</h3>
<p>This function checks to see if the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a> has been run for an audit trail type. The <code dir="ltr">IS_CLEANUP_INITIALIZED</code> function returns <code dir="ltr">TRUE</code> if the procedure has already been run for the audit trail type. It returns <code dir="ltr">FALSE</code> if the procedure has not been run for the audit trail type.</p>
<p>This function is currently not relevant for the <code dir="ltr">AUDIT_TRAIL_OS</code>, <code dir="ltr">AUDIT_TRAIL_XML</code>, and <code dir="ltr">AUDIT_TRAIL_FILES</code> audit trail types. The function always returns TRUE for these audit trail types. No preliminary set up is required for these audit trail types.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> for a list of all audit trail types</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1235"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.IS_CLEANUP_INITIALIZED(
   audit_trail_type  IN PLS_INTEGER
   container         IN PLS_INTEGER DEFAULT CONTAINER_CURRENT)
 RETURN BOOLEAN;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1236"></a>Parameters</p>
<div id="ARPLS65426" class="tblformal">
<p class="titleintable"><a id="sthref1237"></a><a id="sthref1238"></a>Table 29-19 IS_CLEANUP_INITIALIZED Function Parameters</p>
<table class="cellalignment4330" title="IS_CLEANUP_INITIALIZED Function Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.IS_CLEANUP_INITIALIZED subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t28">Parameter</th>
<th class="cellalignment4328" id="r1c2-t28">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t28" headers="r1c1-t28">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t28 r1c2-t28">
<p>The audit trail type for which the function needs to be called. Note that this does not apply to <code dir="ltr">AUDIT_TRAIL_UNIFIED</code>.</p>
<p>Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t28" headers="r1c1-t28">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t28 r1c2-t28">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs).</p>
<ul>
<li>
<p>When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, this function returns the initialization status of all the pluggable databases. The function returns <code dir="ltr">FALSE</code> even if one of the PDBs is not initialized.</p>
</li>
<li>
<p>When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_CURRENT</code>, this returns the initialization status of the connected PDB.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1239"></a>Examples</p>
<p>The following example checks to see if the standard database audit trail type has been initialized for cleanup operation. If the audit trail type has not been initialized, then it calls the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a> to initialize the audit trail type.</p>
<pre dir="ltr">BEGIN
 IF 
   NOT DBMS_AUDIT_MGMT.IS_CLEANUP_INITIALIZED(DBMS_AUDIT_MGMT.AUDIT_TRAIL_AUD_STD)
 THEN
   DBMS_AUDIT_MGMT.INIT_CLEANUP(
      audit_trail_type          =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_AUD_STD,
      default_cleanup_interval  =&gt; 12 /* hours */);
 END IF;
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74517" class="refsect2"><a id="BABEJFEA"></a>
<h3 class="refsect2">LOAD_UNIFIED_AUDIT_FILES Procedure</h3>
<p>This procedure loads the data from the spillover OS audit files in a unified audit trail into the designated unified audit trail tablespace.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBSEG731" href="../DBSEG/audit_admin.htm#DBSEG731"><span class="italic">Oracle Database Security Guide</span></a> for information about moving the OS audit trail records into the unified audit trail</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1240"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.LOAD_UNIFIED_AUDIT_FILES (
   container       IN BINARY_INTEGER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1241"></a>Parameters</p>
<div id="ARPLS74813" class="tblformal">
<p class="titleintable"><a id="sthref1242"></a><a id="sthref1243"></a>Table 29-20 LOAD_UNIFIED_AUDIT_FILES Procedure Parameters</p>
<table class="cellalignment4330" title="LOAD_UNIFIED_AUDIT_FILES Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.LOAD_UNIFIED_AUDIT_FILES subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t30">Parameter</th>
<th class="cellalignment4328" id="r1c2-t30">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t30" headers="r1c1-t30">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t30 r1c2-t30">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs).</p>
<ul>
<li>
<p><code dir="ltr">CONTAINER_CURRENT</code> - loads the unified audit files from <code dir="ltr">$ORACLE_BASE/audit/$ORACLE_SID</code> OS directory to the tables in only current PDB</p>
</li>
<li>
<p><code dir="ltr">CONTAINER_ALL</code> - loads the unified audit files from <code dir="ltr">$ORACLE_BASE/audit/$ORACLE_SID</code> OS directory to the tables in the respective PDBs, but for all the active PDBs</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65427" class="refsect2"><a id="BABDAHBG"></a>
<h3 class="refsect2">SET_AUDIT_TRAIL_LOC<a id="sthref1244"></a><a id="sthref1245"></a>ATION Procedure</h3>
<p>This procedure moves the audit trail tables from their current tablespace to a user-specified tablespace.</p>
<p>The <code dir="ltr">SET_AUDIT_TRAIL_LOCATION</code> procedure is not relevant for the <code dir="ltr">AUDIT_TRAIL_OS</code>, <code dir="ltr">AUDIT_TRAIL_XML</code>, and <code dir="ltr">AUDIT_TRAIL_FILES</code> audit trail types. The <code dir="ltr">AUDIT_FILE_DEST</code> initialization parameter is the only way you can specify the destination directory for these audit trail types.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> for a list of all audit trail types</p>
</li>
<li>
<p><a class="olink REFRN10004" href="../REFRN/GUID-82C7E258-EEF7-48D2-B06B-7F949686E54B.htm#REFRN10004">&#34;AUDIT_FILE_DEST&#34;</a> in the <span class="italic">Oracle Database Reference</span></p>
</li>
</ul>
</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1246"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_LOCATION(
   audit_trail_type            IN PLS_INTEGER,
   audit_trail_location_value  IN VARCHAR2) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1247"></a>Parameters</p>
<div id="ARPLS65428" class="tblformal">
<p class="titleintable"><a id="sthref1248"></a><a id="sthref1249"></a>Table 29-21 SET_AUDIT_TRAIL_LOCATION Procedure Parameters</p>
<table class="cellalignment4330" title="SET_AUDIT_TRAIL_LOCATION Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_LOCATION subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t32">Parameter</th>
<th class="cellalignment4328" id="r1c2-t32">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t32" headers="r1c1-t32">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t32 r1c2-t32">
<p>The audit trail type for which the audit trail location needs to be set.</p>
<p>Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t32" headers="r1c1-t32">
<p><code dir="ltr">audit_trail_location_value</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t32 r1c2-t32">
<p>Target location or tablespace for the audit trail records</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1250"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>This procedure involves data movement across tablespaces. This can be a resource intensive operation especially if your database audit trail tables are already populated. Oracle recommends that you invoke the procedure during non-peak hours.</p>
</li>
<li>
<p>You should ensure that the target tablespace, into which the audit trail tables are being moved, has sufficient space to accommodate the audit trail tables. You should also optimize the target tablespace for frequent write operations.</p>
</li>
<li>
<p>This procedure is valid for the following <code dir="ltr">audit_trail_type</code> values only:</p>
<ul>
<li>
<p><code dir="ltr">AUDIT_TRAIL_AUD_STD</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_FGA_STD</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_DB_STD</code></p>
</li>
</ul>
</li>
<li>
<p>You optionally can specify an encrypted tablespace for the audit trail location.</p>
<p>When <code dir="ltr">AUDIT_TRAIL_TYPE</code> is <code dir="ltr">AUDIT_TRAIL_UNIFIED</code>, this procedure sets the tablespace for newer audit records in the unified audit trail but does not move the older audit records. Thus, it is not resource intensive for unified audit trail.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1251"></a>Examples</p>
<p>The following example moves the database audit trail tables, <code dir="ltr">AUD$</code> and <code dir="ltr">FGA_LOG$</code>, from the current tablespace to a user-created tablespace called <code dir="ltr">RECORDS</code>:</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_LOCATION(
       audit_trail_type            =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_DB_STD,
       audit_trail_location_value  =&gt;  &#39;RECORDS&#39;);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65429" class="refsect2"><a id="BABBBBJE"></a>
<h3 class="refsect2">SET_AUDIT_TRAIL_PROP<a id="sthref1252"></a><a id="sthref1253"></a>ERTY Procedure</h3>
<p>This procedure sets an audit trail property for the audit trail type that is specified.</p>
<p>The procedure sets the properties <code dir="ltr">OS_FILE_MAX_SIZE</code>, <code dir="ltr">OS_FILE_MAX_AGE</code>, and <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> for operating system (OS) and XML audit trail types. The <code dir="ltr">OS_FILE_MAX_SIZE</code> and <code dir="ltr">OS_FILE_MAX_AGE</code> properties determine the maximum size and age of an audit trail file before a new audit trail file gets created. The <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> property specifies the number of audit trail files that are deleted in one batch.</p>
<p>The procedure sets the properties <code dir="ltr">DB_DELETE_BATCH_SIZE</code> and <code dir="ltr">CLEANUP_INTERVAL</code> for the database audit trail type. <code dir="ltr">DB_DELETE_BATCH_SIZE</code> specifies the batch size in which records get deleted from audit trail tables. This ensures that if a cleanup operation gets interrupted midway, the process does not need to start afresh the next time it is invoked. This is because all batches before the last processed batch are already committed.</p>
<p>The <code dir="ltr">CLEANUP_INTERVAL</code> specifies the frequency, in hours, with which the cleanup procedure is called.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1254"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_PROPERTY(
   audit_trail_type            IN PLS_INTEGER,
   audit_trail_property        IN PLS_INTEGER,
   audit_trail_property_value  IN PLS_INTEGER) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1255"></a>Parameters</p>
<div id="ARPLS65430" class="tblformal">
<p class="titleintable"><a id="sthref1256"></a><a id="sthref1257"></a>Table 29-22 SET_AUDIT_TRAIL_PROPERTY Procedure Parameters</p>
<table class="cellalignment4330" title="SET_AUDIT_TRAIL_PROPERTY Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_PROPERTY subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t33">Parameter</th>
<th class="cellalignment4328" id="r1c2-t33">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t33" headers="r1c1-t33">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t33 r1c2-t33">
<p>The audit trail type for which the property needs to be set. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t33" headers="r1c1-t33">
<p><code dir="ltr">audit_trail_property</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t33 r1c2-t33">
<p>The audit trail property that is being set. Audit trail properties are listed in <a href="#BABCEGDB">Table 29-2, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Properties&#34;</a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t33" headers="r1c1-t33">
<p><code dir="ltr">audit_trail_property_value</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t33 r1c2-t33">
<p>The value of the property specified using <code dir="ltr">audit_trail_property</code>. The following are valid values for audit trail properties:</p>
<ul>
<li>
<p><code dir="ltr">OS_FILE_MAX_SIZE</code> can have a minimum value of 1 and maximum value of 2000000. The default value is 10000. <code dir="ltr">OS_FILE_MAX_SIZE</code> is measured in kilobytes (KB).</p>
</li>
<li>
<p><code dir="ltr">OS_FILE_MAX_AGE</code> can have a minimum value of 1 and a maximum value of 497. The default value is 5. <code dir="ltr">OS_FILE_MAX_AGE</code> is measured in days.</p>
</li>
<li>
<p><code dir="ltr">DB_DELETE_BATCH_SIZE</code> can have a minimum value of 100 and a maximum value of 1000000. The default value is 10000. <code dir="ltr">DB_DELETE_BATCH_SIZE</code> is measured as the number of audit records that are deleted in one batch.</p>
</li>
<li>
<p><code dir="ltr">FILE_DELETE_BATCH_SIZE</code> can have a minimum value of 100 and a maximum value of 1000000. The default value is 1000. <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> is measured as the number of audit files that are deleted in one batch.</p>
</li>
<li>
<p><code dir="ltr">CLEANUP_INTERVAL</code> can have a minimum value of 1 and a maximum value of 999. The default value is set using the <a href="#BABFHEFH">INIT_CLEANUP Procedure</a>. <code dir="ltr">CLEANUP_INTERVAL</code> is measured in hours.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1258"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>The audit trail properties for which you do not explicitly set values use their default values.</p>
</li>
<li>
<p>If you have set both the <code dir="ltr">OS_FILE_MAX_SIZE</code> and <code dir="ltr">OS_FILE_MAX_AGE</code> properties for an operating system (OS) or XML audit trail type, then a new audit trail file gets created depending on which of these two limits is reached first.</p>
<p>For example, let us take a scenario where <code dir="ltr">OS_FILE_MAX_SIZE</code> is 10000 and <code dir="ltr">OS_FILE_MAX_AGE</code> is 5. If the operating system audit file is already more than 5 days old and has a size of 9000 KB, then a new audit file is opened. This is because one of the limits has been reached.</p>
</li>
<li>
<p>The <code dir="ltr">DB_DELETE_BATCH_SIZE</code> property needs to be individually set for the <code dir="ltr">AUDIT_TRAIL_AUD_STD</code> and <code dir="ltr">AUDIT_TRAIL_FGA_STD</code> audit trail types. You cannot set this property collectively using the <code dir="ltr">AUDIT_TRAIL_DB_STD</code> and <code dir="ltr">AUDIT_TRAIL_ALL</code> audit trail types.</p>
</li>
<li>
<p>The <code dir="ltr">DB_DELETE_BATCH_SIZE</code> property enables you to control the number of audit records that are deleted in one batch. Setting a large value for this parameter requires increased allocation for the undo log space.</p>
</li>
<li>
<p>The <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> property needs to be individually set for the <code dir="ltr">AUDIT_TRAIL_OS</code> and <code dir="ltr">AUDIT_TRAIL_XML</code> audit trail types. You cannot set this property collectively using the <code dir="ltr">AUDIT_TRAIL_FILES</code> and <code dir="ltr">AUDIT_TRAIL_ALL</code> audit trail types.</p>
</li>
<li>
<p>The <code dir="ltr">FILE_DELETE_BATCH_SIZE</code> property enables you to control the number of audit files that are deleted in one batch. Setting a very large value may engage the <code dir="ltr">GEN0</code> background process for a long time.</p>
</li>
<li>
<p>In Oracle Database Standard Edition, you can only associate the tablespace for unified auditing once. You should perform this association before you generate any audit records for the unified audit trail. The default tablespace is <code dir="ltr">SYSAUX</code>. After you have associated the tablespace, you cannot modify it on the Standard Edition because the partitioning feature is not supported in the Standard Edition.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1259"></a>Examples</p>
<p>The following example calls the <code dir="ltr">SET_AUDIT_TRAIL_PROPERTY</code> procedure to set the <code dir="ltr">OS_FILE_MAX_SIZE</code> property for the operating system (OS) audit trail. It sets this property value to 102400. This means that a new audit file gets created every time the current audit file size reaches 100 MB.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_PROPERTY(
       audit_trail_type            =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
       audit_trail_property        =&gt;  DBMS_AUDIT_MGMT.OS_FILE_MAX_SIZE,
       audit_trail_property_value  =&gt;  102400 /* 100MB*/ );
END;
</pre>
<p>The following example calls the <code dir="ltr">SET_AUDIT_TRAIL_PROPERTY</code> procedure to set the <code dir="ltr">OS_FILE_MAX_AGE</code> property for the operating system (OS) audit trail. It sets this property value to 5. This means that a new audit file gets created every sixth day.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_PROPERTY(
       audit_trail_type            =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
       audit_trail_property        =&gt;  DBMS_AUDIT_MGMT.OS_FILE_MAX_AGE,
       audit_trail_property_value  =&gt;  5 /* days */);
END;
</pre>
<p>The following example calls the <code dir="ltr">SET_AUDIT_TRAIL_PROPERTY</code> procedure to set the <code dir="ltr">DB_DELETE_BATCH_SIZE</code> property for the <code dir="ltr">AUDIT_TRAIL_AUD_STD</code> audit trail. It sets this property value to 100000. This means that during a cleanup operation, audit records are deleted from the <code dir="ltr">SYS.AUD$</code> table in batches of size 100000.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_AUDIT_TRAIL_PROPERTY(
       audit_trail_type              =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_AUD_STD,
       audit_trail_property          =&gt; DBMS_AUDIT_MGMT.DB_DELETE_BATCH_SIZE,
       audit_trail_property_value    =&gt; 100000 /* delete batch size */);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65433" class="refsect2"><a id="BABBHHGC"></a>
<h3 class="refsect2">SET_LAST_ARCHIVE_TIMEST<a id="sthref1260"></a><a id="sthref1261"></a>AMP Procedure</h3>
<p>This procedure sets a timestamp indicating when the audit records were last archived. The audit administrator provides the timestamp to be attached to the audit records. The <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a> uses this timestamp to decide on the audit records to be deleted.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1262"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.SET_LAST_ARCHIVE_TIMESTAMP(
   audit_trail_type         IN PLS_INTEGER,
   last_archive_time        IN TIMESTAMP,
   rac_instance_number      IN PLS_INTEGER DEFAULT NULL,
   container                IN PLS_INTEGER DEFAULT CONTAINER_CURRENT,
   database_id              IN NUMBER DEFAULT NULL,
   container_guid           IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1263"></a>Parameters</p>
<div id="ARPLS65434" class="tblformal">
<p class="titleintable"><a id="sthref1264"></a><a id="sthref1265"></a>Table 29-23 SET_LAST_ARCHIVE_TIMESTAMP Procedure Parameters</p>
<table class="cellalignment4330" title="SET_LAST_ARCHIVE_TIMESTAMP Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.SET_LAST_ARCHIVE_TIMESTAMP subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t34">Parameter</th>
<th class="cellalignment4328" id="r1c2-t34">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t34" headers="r1c1-t34">
<p><code dir="ltr">audit_trail_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t34 r1c2-t34">
<p>The audit trail type for which the timestamp needs to be set. Audit trail types are listed in <a href="#BABIDGEA">Table 29-1, &#34;DBMS_AUDIT_MGMT Constants - Audit Trail Types&#34;</a> .</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t34" headers="r1c1-t34">
<p><code dir="ltr">last_archive_time</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t34 r1c2-t34">
<p>The <code dir="ltr">TIMESTAMP</code> value based on which the audit records or files should be deleted. This indicates the last time when the audit records or files were archived.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t34" headers="r1c1-t34">
<p><code dir="ltr">rac_instance_number</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t34 r1c2-t34">
<p>The instance number for the Oracle Real Application Clusters (Oracle RAC) instance.The default value is <code dir="ltr">NULL</code>.</p>
<p>The <code dir="ltr">rac_instance_number</code> is not relevant for the database audit trail type, as the database audit trail tables are shared by all Oracle RAC instances. The <code dir="ltr">rac_instance_number</code> is also not relevant for a single-instance database.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t34" headers="r1c1-t34">
<p><code dir="ltr">container</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t34 r1c2-t34">
<p>Values: <code dir="ltr">CONTAINER_CURRENT</code> for the connected pluggable database (PDB) or <code dir="ltr">CONTAINER_ALL</code> for all pluggable databases (PDBs). When <code dir="ltr">CONTAINER</code> is set to <code dir="ltr">CONTAINER_ALL</code>, this sets the value for last archive timestamp in all the pluggable databases, otherwise it sets the value in the connected PDB only.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t34" headers="r1c1-t34">
<p><code dir="ltr">database_id</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t34 r1c2-t34">
<p>Database ID (DBID) of the audit records to cleanup</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t34" headers="r1c1-t34">
<p><code dir="ltr">container_guid</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t34 r1c2-t34">
<p>Container GUID of the audit records to cleanup</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1266"></a>Usage Notes</p>
<p>The following usage notes apply:</p>
<ul>
<li>
<p>The <code dir="ltr">last_archive_time</code> must be specified in Coordinated Universal Time (UTC) when the audit trail types are <code dir="ltr">AUDIT_TRAIL_AUD_STD</code>, <code dir="ltr">AUDIT_TRAIL_FGA_STD</code>, or <code dir="ltr">AUDIT_TRAIL_UNIFIED</code>. This is because the database audit trails store the timestamps in UTC. UTC is also known as Greenwich Mean Time (GMT).</p>
</li>
<li>
<p>The <code dir="ltr">last_archive_time</code> must be specified as the local time zone time when the audit trail types are <code dir="ltr">AUDIT_TRAIL_OS</code> or <code dir="ltr">AUDIT_TRAIL_XML</code>. The time zone must be the time zone of the machine where the OS or XML audit files were created. This is because the operating system audit files are cleaned based on the audit file&#39;s Last Modification Timestamp property. The Last Modification Timestamp property value is stored in the local time zone of the machine.</p>
</li>
<li>
<p>The following <code dir="ltr">audit_trail_type</code> values for valid for this procedure:</p>
<ul>
<li>
<p><code dir="ltr">AUDIT_TRAIL_AUD_STD</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_FGA_STD</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_OS</code></p>
</li>
<li>
<p><code dir="ltr">AUDIT_TRAIL_XML</code></p>
</li>
</ul>
</li>
<li>
<p>When using an Oracle Real Application Clusters (Oracle RAC) database, Oracle recommends that you use the Network Time Protocol (NTP) to synchronize individual Oracle RAC nodes.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1267"></a>Examples</p>
<p>The following example calls the <code dir="ltr">SET_LAST_ARCHIVE_TIMESTAMP</code> procedure to set the last archive timestamp for the operating system (OS) audit trail type on Oracle RAC instance 1. It uses the <code dir="ltr">TO_TIMESTAMP</code> function to convert a character string into a timestamp value.</p>
<p>A subsequent call to the <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a>, with <code dir="ltr">use_last_arch_timestamp</code> set to <code dir="ltr">TRUE</code>, will delete all those OS audit files from the current <code dir="ltr">AUDIT_FILE_DEST</code> directory that were modified before 10-Sep-2012 14:10:10.0.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_LAST_ARCHIVE_TIMESTAMP(
   audit_trail_type     =&gt; DBMS_AUDIT_MGMT.AUDIT_TRAIL_OS,
   last_archive_time    =&gt; TO_TIMESTAMP(&#39;12-SEP-0714:10:10.0&#39;,&#39;DD-MON-RRHH24:MI:SS.FF&#39;),
   rac_instance_number  =&gt; 1);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65435" class="refsect2"><a id="BABFJBGE"></a>
<h3 class="refsect2">SET_PURGE_JOB_INTERV<a id="sthref1268"></a><a id="sthref1269"></a>AL Procedure</h3>
<p>This procedure sets the interval at which the <a href="#BABIAEAH">CLEAN_AUDIT_TRAIL Procedure</a> is called for the purge job specified. The purge job must have already been created using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1270"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.SET_PURGE_JOB_INTERVAL(
   audit_trail_purge_name      IN VARCHAR2,
   audit_trail_interval_value  IN PLS_INTEGER) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1271"></a>Parameters</p>
<div id="ARPLS65436" class="tblformal">
<p class="titleintable"><a id="sthref1272"></a><a id="sthref1273"></a>Table 29-24 SET_PURGE_JOB_INTERVAL Procedure Parameters</p>
<table class="cellalignment4330" title="SET_PURGE_JOB_INTERVAL Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.SET_PURGE_JOB_INTERVAL subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t35">Parameter</th>
<th class="cellalignment4328" id="r1c2-t35">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t35" headers="r1c1-t35">
<p><code dir="ltr">audit_trail_purge_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t35 r1c2-t35">
<p>The name of the purge job for which the interval is being set. This is the purge job name that you specified with the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t35" headers="r1c1-t35">
<p><code dir="ltr">audit_trail_interval_value</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t35 r1c2-t35">
<p>The interval, in hours, at which the clean up procedure should be called. This value modifies the <code dir="ltr">audit_trail_purge_interval</code> parameter set using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1274"></a>Usage Notes</p>
<p>Use this procedure to modify the <code dir="ltr">audit_trail_purge_interval</code> parameter set using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1275"></a>Examples</p>
<p>The following example calls the <code dir="ltr">SET_PURGE_JOB_INTERVAL</code> procedure to change the frequency at which the purge job called <code dir="ltr">CLEANUP</code> is invoked. The new interval is set to 24 hours.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_PURGE_JOB_INTERVAL(
  AUDIT_TRAIL_PURGE_NAME       =&gt; &#39;CLEANUP&#39;,
  AUDIT_TRAIL_INTERVAL_VALUE   =&gt; 24 );
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65437" class="refsect2"><a id="BABGDFAJ"></a>
<h3 class="refsect2">SET_PURGE_JOB_STAT<a id="sthref1276"></a><a id="sthref1277"></a>US Procedure</h3>
<p>This procedure enables or disables the specified purge job. The purge job must have already been created using the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1278"></a>Syntax</p>
<pre dir="ltr">DBMS_AUDIT_MGMT.SET_PURGE_JOB_STATUS(
   audit_trail_purge_name    IN VARCHAR2,
   audit_trail_status_value  IN PLS_INTEGER) ;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1279"></a>Parameters</p>
<div id="ARPLS65438" class="tblformal">
<p class="titleintable"><a id="sthref1280"></a><a id="sthref1281"></a>Table 29-25 SET_PURGE_JOB_STATUS Procedure Parameters</p>
<table class="cellalignment4330" title="SET_PURGE_JOB_STATUS Procedure Parameters" summary="This table describes the parameters of the DBMS_AUDIT_MGMT.SET_PURGE_JOB_STATUS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t36">Parameter</th>
<th class="cellalignment4328" id="r1c2-t36">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t36" headers="r1c1-t36">
<p><code dir="ltr">audit_trail_purge_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t36 r1c2-t36">
<p>The name of the purge job for which the status is being set. This is the purge job name that you specified with the <a href="#BABFJHCB">CREATE_PURGE_JOB Procedure</a>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t36" headers="r1c1-t36">
<p><code dir="ltr">audit_trail_status_value</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t36 r1c2-t36">
<p>One of the values specified in <a href="#BABJABFA">DBMS_AUDIT_MGMT Constants - Purge Job Status</a>.</p>
<p>The value <code dir="ltr">PURGE_JOB_ENABLE</code> enables the specified purge job.</p>
<p>The value <code dir="ltr">PURGE_JOB_DISABLE</code> disables the specified purge job.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1282"></a>Examples</p>
<p>The following example calls the SET_PURGE_JOB_STATUS procedure to enable the <code dir="ltr">CLEANUP</code> purge job.</p>
<pre dir="ltr">BEGIN
DBMS_AUDIT_MGMT.SET_PURGE_JOB_STATUS(
  audit_trail_purge_name      =&gt; &#39;CLEANUP&#39;,
  audit_trail_status_value    =&gt; DBMS_AUDIT_MGMT.PURGE_JOB_ENABLE);
END;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_assert.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_autosta.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
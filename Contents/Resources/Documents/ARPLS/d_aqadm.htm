<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2226"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_AQADM"></a><title>DBMS_AQADM</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:8Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_aq.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_aqelm.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">29/290</span> <!-- End Header -->
<div id="ARPLS005" class="chapter"><a id="CACIJAJC"></a> <a id="i1011175"></a>
<h1 class="chapter"><span class="secnum">25</span> DBMS_AQADM</h1>
<p>The <code dir="ltr">DBMS_AQADM</code> package provides procedures to manage Oracle Database Advanced Queuing (AQ) configuration and administration information.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a class="olink ADQUE0800" href="../ADQUE/aq_admin.htm#ADQUE0800"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a></p>
</li>
<li>
<p><a href="t_aq.htm#CBACJJJG">Chapter 271, &#34;Oracle Database Advanced Queuing (AQ) Types&#34;</a> for information about the <code dir="ltr">TYPE</code>s to use with <code dir="ltr">DBMS_AQADM</code></p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CACDIFDH">Using DBMS_AQADM</a></p>
<ul>
<li>
<p>Security model</p>
</li>
<li>
<p>Constants</p>
</li>
</ul>
</li>
<li>
<p><a href="#CIAIFAHF">Subprogram Groups</a></p>
<ul>
<li>
<p>Queue Table Subprograms</p>
</li>
<li>
<p>Privilege Subprograms</p>
</li>
<li>
<p>Queue Subprograms</p>
</li>
<li>
<p>Subscriber Subprograms</p>
</li>
<li>
<p>Notification Subprograms</p>
</li>
<li>
<p>Propagation Subprograms</p>
</li>
<li>
<p>Oracle Streams AQ Agent Subprograms</p>
</li>
<li>
<p>Alias Subprograms</p>
</li>
</ul>
</li>
<li>
<p><a href="#CACDAABD">Summary of DBMS_AQADM Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CACDIFDH"></a>
<div id="ARPLS65303" class="refsect1">
<h2 class="refsect1">Using DBMS_AQADM</h2>
<p>This section contains the following topics.</p>
<ul>
<li>
<p><a href="#BABJEAIF">Security Model</a></p>
</li>
<li>
<p><a href="#i1011229">Constants</a></p>
</li>
</ul>
<div id="ARPLS74797" class="refsect2"><a id="BABJEAIF"></a>
<h3 class="refsect2">Security Model</h3>
<p>Initially, only <code dir="ltr">SYS</code> and <code dir="ltr">SYSTEM</code> have execution privilege for the procedures in <code dir="ltr">DBMS_AQADM</code> and <code dir="ltr">DBMS_AQ</code>. Users who have been granted <code dir="ltr">EXECUTE</code> rights to <code dir="ltr">DBMS_AQ</code> and <code dir="ltr">DBMS_AQADM</code> are able to create, manage, and use queues in their own schemas. The <code dir="ltr">MANAGE_ANY</code> AQ system privilege is used to create and manage queues in other schemas and can be granted and revoked through <code dir="ltr">DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE</code> and <code dir="ltr">DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE</code> respectively.</p>
<p class="subhead2"><a id="ARPLS74798"></a>User Roles</p>
<p>The database administrator has the option of granting the system privileges <code dir="ltr">ENQUEUE_ANY</code> and <code dir="ltr">DEQUEUE_ANY</code>, exercising <code dir="ltr">DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE</code> and <code dir="ltr">DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE</code> directly to a database user, if you want the user to have this level of control.</p>
<p>The application developer gives rights to a queue by granting and revoking privileges at the object level by exercising <code dir="ltr">DBMS_AQADM.GRANT_QUEUE_PRIVILEGE</code> and <code dir="ltr">DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li><a href="d_aq.htm#CBAFIAGC">Chapter 24, &#34;DBMS_AQ.&#34;</a></li>
<li>
<p><a class="olink ADQUE2564" href="../ADQUE/manage.htm#ADQUE2564"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for more information on queue privileges and access control.</p>
</li>
</ul>
</div>
<p class="subhead2"><a id="ARPLS74799"></a>Security Required for Propagation</p>
<p>Propagation jobs are owned by <code dir="ltr">SYS</code>, but the propagation occurs in the security context of the queue table owner. Previously propagation jobs were owned by the user scheduling propagation, and propagation occurred in the security context of the user setting up the propagation schedule. The queue table owner must be granted <code dir="ltr">EXECUTE</code> privileges on the <code dir="ltr">DBMS_AQADM</code> package. Otherwise, the Oracle Database snapshot processes do not propagate and generate trace files with the error identifier <code dir="ltr">SYS.DBMS_AQADM</code> not defined. Private database links owned by the queue table owner can be used for propagation. The username specified in the connection string must have <code dir="ltr">EXECUTE</code> access on the <code dir="ltr">DBMS_AQ</code> and <code dir="ltr">DBMS_AQADM</code> packages on the remote database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADQUE2567" href="../ADQUE/manage.htm#ADQUE2567"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for more information on security required for propagation.</div>
<p class="subhead2"><a id="ARPLS74800"></a>Queue Table Migration</p>
<p>The <code dir="ltr">MIGRATE_QUEUE_TABLE</code> procedure requires that the <code dir="ltr">EXECUTE</code> privilege on <code dir="ltr">DBMS_AQADM</code> be granted to the queue table owner, who is probably an ordinary queue user. If you do not want ordinary queue users to be able to create and drop queues and queue tables, add and delete subscribers, and so forth, then you must revoke the <code dir="ltr">EXECUTE</code> privilege as soon as the migration is done.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li><a href="#i1014582">&#34;MIGRATE_QUEUE_TABLE Procedure.&#34;</a></li>
<li>
<p><a class="olink ADQUE2706" href="../ADQUE/aq_admin.htm#ADQUE2706"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for more information on granting Oracle Database Advanced Queuing system privileges.</p>
</li>
</ul>
</div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS65304" class="refsect2"><a id="i1011229"></a>
<h3 class="refsect2"><a id="sthref857"></a>Constants</h3>
<p>When using enumerated constants, such as <code dir="ltr">INFINITE</code>, <code dir="ltr">TRANSACTIONAL</code>, or <code dir="ltr">NORMAL_QUEUE</code>, the symbol must be specified with the scope of the packages defining it. All types associated with the administrative interfaces must be prepended with <code dir="ltr">DBMS_AQADM</code>. For example: <code dir="ltr">DBMS_AQADM.NORMAL_QUEUE</code>.</p>
<div id="ARPLS65305" class="tblformal">
<p class="titleintable"><a id="sthref858"></a><a id="sthref859"></a>Table 25-1 Enumerated Types in the Administrative Interface</p>
<table class="cellalignment4330" title="Enumerated Types in the Administrative Interface" summary="This table describes Enumerated Types in the Administrative interface." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Options</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">retention</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p><code dir="ltr">0</code>, <code dir="ltr">1</code>, <code dir="ltr">2</code>...<code dir="ltr">INFINITE</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">message_grouping</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p><code dir="ltr">TRANSACTIONAL</code>, <code dir="ltr">NONE</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">queue_type</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p><code dir="ltr">NORMAL_QUEUE</code>, <code dir="ltr">EXCEPTION_QUEUE</code>, <code dir="ltr">NON_PERSISTENT_QUEUE</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information on the Java classes and data structures used in both <code dir="ltr">DBMS_AQ</code> and <code dir="ltr">DBMS_AQADM</code>, see the <a href="d_aq.htm#CBAFIAGC">DBMS_AQ</a> package.</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CIAIFAHF"></a>
<div id="ARPLS65306" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Subprogram Groups</h2>
<p>This DBMS_AQADM package is made up of the following subprogram groups:</p>
<ul>
<li>
<p><a href="#CACGDADJ">Queue Table Subprograms</a></p>
</li>
<li>
<p><a href="#i1013669">Privilege Subprograms</a></p>
</li>
<li>
<p><a href="#i1014228">Queue Subprograms</a></p>
</li>
<li>
<p><a href="#i1014229">Subscriber Subprograms</a></p>
</li>
<li>
<p><a href="#i1016978">Notification Subprograms</a></p>
</li>
<li>
<p><a href="#i1014230">Propagation Subprograms</a></p>
</li>
<li>
<p><a href="#i1014245">Oracle Database Advanced Queuing Agent Subprograms</a></p>
</li>
<li>
<p><a href="#i1013841">Alias Subprograms</a></p>
</li>
</ul>
<div id="ARPLS65307" class="refsect2"><a id="CACGDADJ"></a>
<h3 class="refsect2">Queue Table Subprograms</h3>
<div id="ARPLS65308" class="tblformal">
<p class="titleintable"><a id="sthref860"></a><a id="sthref861"></a>Table 25-2 Queue Table Subprograms</p>
<table class="cellalignment4330" title="Queue Table Subprograms" summary="This table lists the Queue Table subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><a href="#i1014529">ALTER_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>Alters the existing properties of a queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><a href="#i1014381">CREATE_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>Creates a queue table for messages of a predefined type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8">
<p><a href="#i1011453">DROP_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">
<p>Drops an existing queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t8" headers="r1c1-t8">
<p><a href="#i1016404">ENABLE_JMS_TYPES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t8 r1c2-t8">
<p>A precondition for the enqueue of JMS types and XML types</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t8" headers="r1c1-t8">
<p><a href="#i1014582">MIGRATE_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t8 r1c2-t8">
<p>Upgrades an 8.0-compatible queue table to an 8.1-compatible or higher queue table, or downgrades an 8.1-compatible or higher queue table to an 8.0-compatible queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t8" headers="r1c1-t8">
<p><a href="#i1014013">PURGE_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t8 r1c2-t8">
<p>Purges messages from queue tables</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65309" class="refsect2"><a id="i1013669"></a>
<h3 class="refsect2">Privilege Subprograms</h3>
<div id="ARPLS65310" class="tblformal">
<p class="titleintable"><a id="sthref862"></a><a id="sthref863"></a>Table 25-3 Privilege Subprograms</p>
<table class="cellalignment4330" title="Privilege Subprograms" summary="This table lists the Privilege subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><a href="#i1014966">GRANT_QUEUE_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Grants privileges on a queue to users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><a href="#i1014912">GRANT_SYSTEM_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>Grants Oracle Database Advanced Queuing system privileges to users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9">
<p><a href="#i1015021">REVOKE_QUEUE_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">
<p>Revokes privileges on a queue from users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t9" headers="r1c1-t9">
<p><a href="#i1015074">REVOKE_SYSTEM_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t9 r1c2-t9">
<p>Revokes Oracle Database Advanced Queuing system privileges from users and roles</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65311" class="refsect2"><a id="i1014228"></a>
<h3 class="refsect2">Queue Subprograms</h3>
<div id="ARPLS65312" class="tblformal">
<p class="titleintable"><a id="sthref864"></a><a id="sthref865"></a>Table 25-4 Queue Subprograms</p>
<table class="cellalignment4330" title="Queue Subprograms" summary="This table lists the Queue subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><a href="#i1014785">ALTER_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>Alters existing properties of a queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><a href="#i1014730">CREATE_NP_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Creates a nonpersistent <code dir="ltr">RAW</code> queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10">
<p><a href="#i1015639">CREATE_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">
<p>Creates a queue in the specified queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t10" headers="r1c1-t10">
<p><a href="#CHDEDBEF">CREATE_SHARDED_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t10 r1c2-t10">
<p>Creates a queue and its queue table for a sharded queue all together.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t10" headers="r1c1-t10">
<p><a href="#BABBGHGI">DROP_SHARDED_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t10 r1c2-t10">
<p>Drops an existing sharded queue from the database queuing system</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t10" headers="r1c1-t10">
<p><a href="#i1014867">DROP_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t10 r1c2-t10">
<p>Drops an existing queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t10" headers="r1c1-t10">
<p><a href="#i1016768">QUEUE_SUBSCRIBERS Function</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t10 r1c2-t10">
<p>Returns the subscribers to an 8.0-compatible multiconsumer queue in the PL/SQL index by table collection type <code dir="ltr">DBMS_AQADM.AQ$_subscriber_list_t</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t10" headers="r1c1-t10">
<p><a href="#i1011806">START_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t10 r1c2-t10">
<p>Enables the specified queue for enqueuing or dequeuing</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t10" headers="r1c1-t10">
<p><a href="#i1011844">STOP_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t10 r1c2-t10">
<p>Disables enqueuing or dequeuing on the specified queue</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65313" class="refsect2"><a id="i1014229"></a>
<h3 class="refsect2">Subscriber Subprograms</h3>
<div id="ARPLS65314" class="tblformal">
<p class="titleintable"><a id="sthref866"></a><a id="sthref867"></a>Table 25-5 Subscriber Subprograms</p>
<table class="cellalignment4330" title="Subscriber Subprograms" summary="This table lists the Subscriber subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><a href="#i1015125">ADD_SUBSCRIBER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>Adds a default subscriber to a queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><a href="#i1015198">ALTER_SUBSCRIBER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>Alters existing properties of a subscriber to a specified queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t11" headers="r1c1-t11">
<p><a href="#i1015258">REMOVE_SUBSCRIBER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t11 r1c2-t11">
<p>Removes a default subscriber from a queue</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65315" class="refsect2"><a id="i1016978"></a>
<h3 class="refsect2">Notification Subprograms</h3>
<div id="ARPLS65316" class="tblformal">
<p class="titleintable"><a id="sthref868"></a><a id="sthref869"></a>Table 25-6 Notification Subprograms</p>
<table class="cellalignment4330" title="Notification Subprograms" summary="This table lists the Notification subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><a href="#BABDIFDJ">GET_WATERMARK Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>Retrieves the value of watermark set by the <code dir="ltr">SET_WATERMARK</code> Procedure</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t12" headers="r1c1-t12">
<p><a href="#i1016831">GET_MAX_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t12 r1c2-t12">
<p>Retrieves the value of Oracle Database Advanced Queuing maximum streams pool memory limit</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t12" headers="r1c1-t12">
<p><a href="#BABFEFIJ">GET_MIN_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t12 r1c2-t12">
<p>Retrieves the value of Oracle Database Advanced Queuing minimum streams pool memory limit</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t12" headers="r1c1-t12">
<p><a href="#BABBJFJA">SET_WATERMARK Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t12 r1c2-t12">
<p>Used for Oracle Database Advanced Queuing notification to specify and limit memory use</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t12" headers="r1c1-t12">
<p><a href="#i1016938">SET_MAX_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t12 r1c2-t12">
<p>Used for Oracle Database Advanced Queuing to specify and limit maximum streams pool memory use</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t12" headers="r1c1-t12">
<p><a href="#BABFJBAH">SET_MIN_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t12 r1c2-t12">
<p>used for Oracle Database Advanced Queuing to specify and limit minimum streams pool memory use</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65317" class="refsect2"><a id="i1014230"></a>
<h3 class="refsect2">Propagation Subprograms</h3>
<div id="ARPLS65318" class="tblformal">
<p class="titleintable"><a id="sthref870"></a><a id="sthref871"></a>Table 25-7 Propagation Subprograms</p>
<table class="cellalignment4330" title="Propagation Subprograms" summary="This table lists the Propagation subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><a href="#i1015375">ALTER_PROPAGATION_SCHEDULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>Alters parameters for a propagation schedule</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t13" headers="r1c1-t13">
<p><a href="#i1015488">DISABLE_PROPAGATION_SCHEDULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t13 r1c2-t13">
<p>Disables a propagation schedule</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t13" headers="r1c1-t13">
<p><a href="#i1015435">ENABLE_PROPAGATION_SCHEDULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t13 r1c2-t13">
<p>Enables a previously disabled propagation schedule</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t13" headers="r1c1-t13">
<p><a href="#i1015306">SCHEDULE_PROPAGATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t13 r1c2-t13">
<p>Schedules propagation of messages from a queue to a destination identified by a specific database link</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t13" headers="r1c1-t13">
<p><a href="#i1014138">UNSCHEDULE_PROPAGATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t13 r1c2-t13">
<p>Unschedules previously scheduled propagation of messages from a queue to a destination identified by a specific database link</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t13" headers="r1c1-t13">
<p><a href="#i1012328">VERIFY_QUEUE_TYPES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t13 r1c2-t13">
<p>Verifies that the source and destination queues have identical types</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65319" class="refsect2"><a id="i1014245"></a>
<h3 class="refsect2">Oracle Database Advanced Queuing Agent Subprograms</h3>
<div id="ARPLS65320" class="tblformal">
<p class="titleintable"><a id="sthref872"></a><a id="sthref873"></a>Table 25-8 Oracle Streams AQ Agent Subprograms</p>
<table class="cellalignment4330" title="Oracle Streams AQ Agent Subprograms" summary="This table lists the Oracle Streams AQ Agent Subprograms subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14">
<p><a href="#CACDGDCB">ALTER_AQ_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14">
<p>Alters an agent registered for Oracle Database Advanced Queuing Internet access, and an Oracle Database Advanced Queuing agent that accesses secure queues</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14">
<p><a href="#i1015539">CREATE_AQ_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14">
<p>Registers an agent for Oracle Database Advanced Queuing Internet access using HTTP/SMTP protocols, and creates an Oracle Database Advanced Queuing agent to access secure queues</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t14" headers="r1c1-t14">
<p><a href="#i1015964">DISABLE_DB_ACCESS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t14 r1c2-t14">
<p>Revokes the privileges of a specific database user from an Oracle Database Advanced Queuing Internet agent</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t14" headers="r1c1-t14">
<p><a href="#i1015851">DROP_AQ_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t14 r1c2-t14">
<p>Drops an agent that was previously registered for Oracle Database Advanced Queuing Internet access</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t14" headers="r1c1-t14">
<p><a href="#i1015894">ENABLE_DB_ACCESS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t14 r1c2-t14">
<p>Grants an Oracle Database Advanced Queuing Internet agent the privileges of a specific database user</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65321" class="refsect2"><a id="i1013841"></a>
<h3 class="refsect2">Alias Subprograms</h3>
<div id="ARPLS65322" class="tblformal">
<p class="titleintable"><a id="sthref874"></a><a id="sthref875"></a>Table 25-9 Alias Subprograms</p>
<table class="cellalignment4330" title="Alias Subprograms" summary="This table lists the Alias subprograms of the DBMS_AQADM package in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15">
<p><a href="#i1016021">ADD_ALIAS_TO_LDAP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15">
<p>Creates an alias for a queue, agent, or a JMS ConnectionFactory in LDAP</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t15" headers="r1c1-t15">
<p><a href="#i1016072">DEL_ALIAS_FROM_LDAP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t15 r1c2-t15">
<p>Drops an alias for a queue, agent, or JMS ConnectionFactory in LDAP</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="CACDAABD"></a>
<div id="ARPLS65323" class="refsect1">
<h2 class="refsect1">Summary of DBMS_AQADM Subprograms</h2>
<div id="ARPLS65324" class="tblformal">
<p class="titleintable"><a id="sthref876"></a><a id="sthref877"></a>Table 25-10 DBMS_AQADM Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_AQADM Package Subprograms" summary="This table lists the DBMS_AQADM subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Subprograms</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16">
<p><a href="#i1016021">ADD_ALIAS_TO_LDAP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">
<p>Creates an alias for a queue, agent, or a JMS ConnectionFactory in LDAP</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16">
<p><a href="#i1015125">ADD_SUBSCRIBER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">
<p>Adds a default subscriber to a queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t16" headers="r1c1-t16">
<p><a href="#CACDGDCB">ALTER_AQ_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t16 r1c2-t16">
<p>Alters an agent registered for Oracle Database Advanced Queuing Internet access, and an Oracle Database Advanced Queuing agent that accesses secure queues</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t16" headers="r1c1-t16">
<p><a href="#i1015375">ALTER_PROPAGATION_SCHEDULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t16 r1c2-t16">
<p>Alters parameters for a propagation schedule</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t16" headers="r1c1-t16">
<p><a href="#i1014785">ALTER_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t16 r1c2-t16">
<p>Alters existing properties of a queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t16" headers="r1c1-t16">
<p><a href="#i1014529">ALTER_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t16 r1c2-t16">
<p>Alters the existing properties of a queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t16" headers="r1c1-t16">
<p><a href="#i1015198">ALTER_SUBSCRIBER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t16 r1c2-t16">
<p>Alters existing properties of a subscriber to a specified queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t16" headers="r1c1-t16">
<p><a href="#i1015539">CREATE_AQ_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t16 r1c2-t16">
<p>Registers an agent for Oracle Database Advanced Queuing Internet access using HTTP/SMTP protocols, and creates an Oracle Database Advanced Queuing agent to access secure queues</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t16" headers="r1c1-t16">
<p><a href="#i1014730">CREATE_NP_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t16 r1c2-t16">
<p>Creates a nonpersistent <code dir="ltr">RAW</code> queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t16" headers="r1c1-t16">
<p><a href="#i1015639">CREATE_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t16 r1c2-t16">
<p>Creates a queue in the specified queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t16" headers="r1c1-t16">
<p><a href="#CHDEDBEF">CREATE_SHARDED_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t16 r1c2-t16">
<p>Creates a queue and its queue table for a sharded queue all together.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t16" headers="r1c1-t16">
<p><a href="#i1014381">CREATE_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r13c1-t16 r1c2-t16">
<p>Creates a queue table for messages of a predefined type</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t16" headers="r1c1-t16">
<p><a href="#BABBGHGI">DROP_SHARDED_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r14c1-t16 r1c2-t16">
<p>Drops an existing sharded queue from the database queuing system</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t16" headers="r1c1-t16">
<p><a href="#i1016072">DEL_ALIAS_FROM_LDAP Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r15c1-t16 r1c2-t16">
<p>Drops an alias for a queue, agent, or JMS ConnectionFactory in LDAP</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t16" headers="r1c1-t16">
<p><a href="#i1015964">DISABLE_DB_ACCESS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r16c1-t16 r1c2-t16">
<p>Revokes the privileges of a specific database user from an Oracle Database Advanced Queuing Internet agent</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r17c1-t16" headers="r1c1-t16">
<p><a href="#i1015488">DISABLE_PROPAGATION_SCHEDULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r17c1-t16 r1c2-t16">
<p>Disables a propagation schedule</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r18c1-t16" headers="r1c1-t16">
<p><a href="#i1015851">DROP_AQ_AGENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r18c1-t16 r1c2-t16">
<p>Drops an agent that was previously registered for Oracle Database Advanced Queuing Internet access</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r19c1-t16" headers="r1c1-t16">
<p><a href="#i1014867">DROP_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r19c1-t16 r1c2-t16">
<p>Drops an existing queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r20c1-t16" headers="r1c1-t16">
<p><a href="#i1011453">DROP_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r20c1-t16 r1c2-t16">
<p>Drops an existing queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r21c1-t16" headers="r1c1-t16">
<p><a href="#i1015894">ENABLE_DB_ACCESS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r21c1-t16 r1c2-t16">
<p>Grants an Oracle Database Advanced Queuing Internet agent the privileges of a specific database user</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r22c1-t16" headers="r1c1-t16">
<p><a href="#i1016404">ENABLE_JMS_TYPES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r22c1-t16 r1c2-t16">
<p>A precondition for the enqueue of JMS types and XML types</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r23c1-t16" headers="r1c1-t16">
<p><a href="#i1015435">ENABLE_PROPAGATION_SCHEDULE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r23c1-t16 r1c2-t16">
<p>Enables a previously disabled propagation schedule</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r24c1-t16" headers="r1c1-t16">
<p><a href="#BABDIFDJ">GET_WATERMARK Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r24c1-t16 r1c2-t16">
<p>Retrieves the value of watermark set by the <code dir="ltr">SET_WATERMARK</code> Procedure</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r25c1-t16" headers="r1c1-t16">
<p><a href="#i1016831">GET_MAX_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r25c1-t16 r1c2-t16">
<p>Retrieves the value of Oracle Database Advanced Queuing maximum streams pool memory limit</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r26c1-t16" headers="r1c1-t16">
<p><a href="#BABFEFIJ">GET_MIN_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r26c1-t16 r1c2-t16">
<p>Retrieves the value of Oracle Database Advanced Queuing minimum streams pool memory limit</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r27c1-t16" headers="r1c1-t16">
<p><a href="#i1014966">GRANT_QUEUE_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r27c1-t16 r1c2-t16">
<p>Grants privileges on a queue to users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r28c1-t16" headers="r1c1-t16">
<p><a href="#i1014912">GRANT_SYSTEM_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r28c1-t16 r1c2-t16">
<p>Grants Oracle Database Advanced Queuing system privileges to users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r29c1-t16" headers="r1c1-t16">
<p><a href="#i1014582">MIGRATE_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r29c1-t16 r1c2-t16">
<p>Upgrades an 8.0-compatible queue table to an 8.1-compatible or higher queue table, or downgrades an 8.1-compatible or higher queue table to an 8.0-compatible queue table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r30c1-t16" headers="r1c1-t16">
<p><a href="#i1014013">PURGE_QUEUE_TABLE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r30c1-t16 r1c2-t16">
<p>Purges messages from queue tables</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r31c1-t16" headers="r1c1-t16">
<p><a href="#i1016768">QUEUE_SUBSCRIBERS Function</a></p>
</td>
<td class="cellalignment4329" headers="r31c1-t16 r1c2-t16">
<p>Returns the subscribers to an 8.0-compatible multiconsumer queue in the PL/SQL index by table collection type <code dir="ltr">DBMS_AQADM.AQ$_subscriber_list_t</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r32c1-t16" headers="r1c1-t16">
<p><a href="#i1015258">REMOVE_SUBSCRIBER Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r32c1-t16 r1c2-t16">
<p>Removes a default subscriber from a queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r33c1-t16" headers="r1c1-t16">
<p><a href="#i1015021">REVOKE_QUEUE_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r33c1-t16 r1c2-t16">
<p>Revokes privileges on a queue from users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r34c1-t16" headers="r1c1-t16">
<p><a href="#i1015074">REVOKE_SYSTEM_PRIVILEGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r34c1-t16 r1c2-t16">
<p>Revokes Oracle Database Advanced Queuing system privileges from users and roles</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r35c1-t16" headers="r1c1-t16">
<p><a href="#i1015306">SCHEDULE_PROPAGATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r35c1-t16 r1c2-t16">
<p>Schedules propagation of messages from a queue to a destination identified by a specific database link</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r36c1-t16" headers="r1c1-t16">
<p><a href="#BABBJFJA">SET_WATERMARK Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r36c1-t16 r1c2-t16">
<p>Used for Oracle Database Advanced Queuing notification to specify and limit memory use</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r37c1-t16" headers="r1c1-t16">
<p><a href="#i1016938">SET_MAX_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r37c1-t16 r1c2-t16">
<p>Used for Oracle Database Advanced Queuing to specify and limit maximum streams pool memory use</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r38c1-t16" headers="r1c1-t16">
<p><a href="#BABFJBAH">SET_MIN_STREAMS_POOL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r38c1-t16 r1c2-t16">
<p>used for Oracle Database Advanced Queuing to specify and limit minimum streams pool memory use</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r39c1-t16" headers="r1c1-t16">
<p><a href="#i1011806">START_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r39c1-t16 r1c2-t16">
<p>Enables the specified queue for enqueuing or dequeuing</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r40c1-t16" headers="r1c1-t16">
<p><a href="#i1011844">STOP_QUEUE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r40c1-t16 r1c2-t16">
<p>Disables enqueuing or dequeuing on the specified queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r41c1-t16" headers="r1c1-t16">
<p><a href="#i1014138">UNSCHEDULE_PROPAGATION Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r41c1-t16 r1c2-t16">
<p>Unschedules previously scheduled propagation of messages from a queue to a destination identified by a specific database link</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r42c1-t16" headers="r1c1-t16">
<p><a href="#i1012328">VERIFY_QUEUE_TYPES Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r42c1-t16 r1c2-t16">
<p>Verifies that the source and destination queues have identical types</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS134" class="refsect2"><a id="i1016021"></a>
<h3 class="refsect2">ADD_ALIAS_TO_LDAP Procedure</h3>
<p>This procedure creates an alias for a queue, agent, or a JMS ConnectionFactory in LDAP. The alias will be placed directly under the database server&#39;s distinguished name in LDAP hierarchy.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref878"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ADD_ALIAS_TO_LDAP(
   alias          IN VARCHAR2,
   obj_location   IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref879"></a>Parameters</p>
<div id="ARPLS65325" class="tblformal">
<p class="titleintable"><a id="sthref880"></a><a id="sthref881"></a>Table 25-11 ADD_ALIAS_TO_LDAP Procedure Parameters</p>
<table class="cellalignment4330" title="ADD_ALIAS_TO_LDAP Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ADD_ALIAS_TO_LDAP." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t17">Parameter</th>
<th class="cellalignment4328" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t17" headers="r1c1-t17">
<p><code dir="ltr">alias</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t17 r1c2-t17">
<p>Name of the alias. Example: <code dir="ltr">west_shipping.</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t17" headers="r1c1-t17">
<p><code dir="ltr">obj_location</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t17 r1c2-t17">
<p>The distinguished name of the object (queue, agent or connection factory) to which <code dir="ltr">alias</code> refers.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref882"></a>Usage Notes</p>
<p>This method can be used to create aliases for queues, agents, and JMS ConnectionFactory objects. These object must exist before the alias is created. These aliases can be used for JNDI lookup in JMS and Oracle Database Advanced Queuing Internet access.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS119" class="refsect2"><a id="i1015125"></a>
<h3 class="refsect2">ADD_SUBSCRIBER Procedure</h3>
<p>This procedure adds a default subscriber to a queue.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref883"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ADD_SUBSCRIBER (
   queue_name      IN    VARCHAR2,
   subscriber      IN    sys.aq$_agent,
   rule            IN    VARCHAR2 DEFAULT NULL,
   transformation  IN    VARCHAR2 DEFAULT NULL
   queue_to_queue  IN    BOOLEAN DEFAULT FALSE,
   delivery_mode   IN    PLS_INTEGER DEFAULT DBMS_AQADM.PERSISTENT);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref884"></a>Parameters</p>
<div id="ARPLS65326" class="tblformal">
<p class="titleintable"><a id="sthref885"></a><a id="sthref886"></a>Table 25-12 ADD_SUBSCRIBER Procedure Parameters</p>
<table class="cellalignment4330" title="ADD_SUBSCRIBER Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ADD_SUBSCRIBER." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t18">Parameter</th>
<th class="cellalignment4328" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t18" headers="r1c1-t18">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t18 r1c2-t18">
<p>Name of the queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t18" headers="r1c1-t18">
<p><code dir="ltr">subscriber</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t18 r1c2-t18">
<p>Agent on whose behalf the subscription is being defined.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t18" headers="r1c1-t18">
<p><code dir="ltr">rule</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t18 r1c2-t18">
<p>A conditional expression based on the message properties, the message data properties and PL/SQL functions. A rule is specified as a Boolean expression using syntax similar to the <code dir="ltr">WHERE</code> clause of a SQL query. This Boolean expression can include conditions on message properties, user data properties (object payloads only), and PL/SQL or SQL functions (as specified in the where clause of a SQL query). Currently supported message properties are <code dir="ltr">priority</code> and <code dir="ltr">corrid</code>.</p>
<p>To specify rules on a message payload (object payload), use attributes of the object type in clauses. You must prefix each attribute with <code dir="ltr">tab</code>.<code dir="ltr">user_data</code> as a qualifier to indicate the specific column of the queue table that stores the payload. The rule parameter cannot exceed 4000 characters.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t18" headers="r1c1-t18">
<p><code dir="ltr">transformation</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t18 r1c2-t18">
<p>Specifies a transformation that will be applied when this subscriber dequeues the message. The source type of the transformation must match the type of the queue. If the subscriber is remote, then the transformation is applied before propagation to the remote queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t18" headers="r1c1-t18">
<p><code dir="ltr">queue_to_queue</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t18 r1c2-t18">
<p>If <code dir="ltr">TRUE</code>, propagation is from queue-to-queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t18" headers="r1c1-t18">
<p><code dir="ltr">delivery_mode</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t18 r1c2-t18">
<p>The administrator may specify one of <code dir="ltr">DBMS_AQADM</code>.<code dir="ltr">PERSISTENT</code>, <code dir="ltr">DBMS_AQADM</code>.<code dir="ltr">BUFFERED</code>, or <code dir="ltr">DBMS_AQADM</code>.<code dir="ltr">PERSISTENT_OR_BUFFERED</code> for the delivery mode of the messages the subscriber is interested in. This parameter will not be modifiable by <code dir="ltr">ALTER_SUBSCRIBER</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref887"></a>Usage Notes</p>
<p>A program can enqueue messages to a specific list of recipients or to the default list of subscribers. This operation only succeeds on queues that allow multiple consumers. This operation takes effect immediately, and the containing transaction is committed. Enqueue requests that are executed after the completion of this call will reflect the new behavior.</p>
<p>Any string within the rule must be quoted:</p>
<pre dir="ltr">rule   =&gt; &#39;PRIORITY &lt;= 3 AND CORRID =  &#39;&#39;FROM JAPAN&#39;&#39;&#39;
 
</pre>
<p>Note that these are all single quotation marks.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS130" class="refsect2"><a id="CACDGDCB"></a>
<h3 class="refsect2">ALTER_AQ_AGENT Procedure</h3>
<p>This procedure alters an agent registered for Oracle Database Advanced Queuing Internet access. It is also used to alter an Oracle Database Advanced Queuing agent that accesses secure queues.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS" href="../STRMS/toc.htm"><span class="italic">Oracle Streams Concepts and Administration</span></a> for information about secure queues</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref888"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ALTER_AQ_AGENT (
  agent_name                IN VARCHAR2,
  certificate_location      IN VARCHAR2 DEFAULT NULL,
  enable_http               IN BOOLEAN DEFAULT FALSE,
  enable_smtp               IN BOOLEAN DEFAULT FALSE,
  enable_anyp               IN BOOLEAN DEFAULT FALSE )
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref889"></a>Parameters</p>
<div id="ARPLS65327" class="tblformal">
<p class="titleintable"><a id="sthref890"></a><a id="sthref891"></a>Table 25-13 ALTER_AQ_AGENT Procedure Parameters</p>
<table class="cellalignment4330" title="ALTER_AQ_AGENT Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ALTER_AQ_AGENT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t20">Parameter</th>
<th class="cellalignment4328" id="r1c2-t20">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t20" headers="r1c1-t20">
<p><code dir="ltr">agent_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t20 r1c2-t20">
<p>Specifies the username of the Oracle Database Advanced Queuing Internet agent.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t20" headers="r1c1-t20">
<p><code dir="ltr">certification_location</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t20 r1c2-t20">
<p>Agent&#39;s certificate location in LDAP (default is <code dir="ltr">NULL</code>). If the agent is allowed to access Oracle Database Advanced Queuing through SMTP, then its certificate must be registered in LDAP. For access through HTTP, the certificate location is not required.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t20" headers="r1c1-t20">
<p><code dir="ltr">enable_http</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t20 r1c2-t20">
<p><code dir="ltr">TRUE</code> means the agent can access Oracle Database Advanced Queuing through HTTP. <code dir="ltr">FALSE</code> means the agent cannot access Oracle Database Advanced Queuing through HTTP.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t20" headers="r1c1-t20">
<p><code dir="ltr">enable_smtp</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t20 r1c2-t20">
<p><code dir="ltr">TRUE</code> means the agent can access Oracle Database Advanced Queuing through SMTP (e-mail). <code dir="ltr">FALSE</code> means the agent cannot access Oracle Database Advanced Queuing through SMTP.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t20" headers="r1c1-t20">
<p><code dir="ltr">enable_anyp</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t20 r1c2-t20">
<p><code dir="ltr">TRUE</code> means the agent can access Oracle Database Advanced Queuing through any protocol (HTTP or SMTP).</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS125" class="refsect2"><a id="i1015375"></a>
<h3 class="refsect2">ALTER_PROPAGATION_SCHEDULE Procedure</h3>
<p>This procedure alters parameters for a propagation schedule.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref892"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE ( 
   queue_name           IN    VARCHAR2, 
   destination          IN    VARCHAR2 DEFAULT NULL,
   duration             IN    NUMBER   DEFAULT NULL, 
   next_time            IN    VARCHAR2 DEFAULT NULL, 
   latency              IN    NUMBER   DEFAULT 60,
   destination_queue    IN    VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref893"></a>Parameters</p>
<div id="ARPLS65328" class="tblformal">
<p class="titleintable"><a id="sthref894"></a><a id="sthref895"></a>Table 25-14 ALTER_PROPAGATION_SCHEDULE Procedure Parameters</p>
<table class="cellalignment4330" title="ALTER_PROPAGATION_SCHEDULE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ALTER_PROPAGATION_SCHEDULE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t21">Parameter</th>
<th class="cellalignment4328" id="r1c2-t21">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t21" headers="r1c1-t21">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t21 r1c2-t21">
<p>Name of the source queue whose messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t21" headers="r1c1-t21">
<p><code dir="ltr">destination</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t21 r1c2-t21">
<p>Destination database link. Messages in the source queue for recipients at this destination are propagated. If it is <code dir="ltr">NULL</code>, then the destination is the local database and messages are propagated to other queues in the local database. The length of this field is currently limited to 128 bytes, and if the name is not fully qualified, then the default domain name is used.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t21" headers="r1c1-t21">
<p><code dir="ltr">duration</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t21 r1c2-t21">
<p>Duration of the propagation window in seconds. A <code dir="ltr">NULL</code> value means the propagation window is forever or until the propagation is unscheduled.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t21" headers="r1c1-t21">
<p><code dir="ltr">next_time</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t21 r1c2-t21">
<p>Date function to compute the start of the next propagation window from the end of the current window. If this value is <code dir="ltr">NULL</code>, then propagation is stopped at the end of the current window. For example, to start the window at the same time every day, <code dir="ltr">next_time</code> should be specified as <code dir="ltr">SYSDATE</code> <code dir="ltr">+</code> <code dir="ltr">1</code> <code dir="ltr">-</code> <code dir="ltr">duration/86400</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t21" headers="r1c1-t21">
<p><code dir="ltr">latency</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t21 r1c2-t21">
<p>Maximum wait, in seconds, in the propagation window for a message to be propagated after it is enqueued. The default value is 60. Caution: if latency is not specified for this call, then latency will over-write any existing value with the default value.</p>
<p>For example, if the latency is 60 seconds and there are no messages to be propagated during the propagation window, then messages from that queue for the destination are not propagated for at least 60 more seconds. It will be at least 60 seconds before the queue will be checked again for messages to be propagated for the specified destination. If the latency is 600, then the queue will not be checked for 10 minutes and if the latency is 0, then a job queue process will be waiting for messages to be enqueued for the destination and as soon as a message is enqueued it will be propagated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t21" headers="r1c1-t21">
<p><code dir="ltr">destination_queue</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t21 r1c2-t21">
<p>Name of the target queue to which messages are to be propagated in the form of a <code dir="ltr">dblink</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS111" class="refsect2"><a id="i1014785"></a>
<h3 class="refsect2">ALTER_QUEUE Procedure</h3>
<p>This procedure alters existing properties of a queue. The parameters <code dir="ltr">max_retries</code>, <code dir="ltr">retention_time</code>, and <code dir="ltr">retry_delay</code> are not supported for nonpersistent queues.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref896"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ALTER_QUEUE (
   queue_name        IN    VARCHAR2,
   max_retries       IN    NUMBER   DEFAULT NULL,
   retry_delay       IN    NUMBER   DEFAULT NULL,
   retention_time    IN    NUMBER   DEFAULT NULL,
   auto_commit       IN    BOOLEAN  DEFAULT TRUE,
   comment           IN    VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref897"></a>Parameters</p>
<div id="ARPLS65329" class="tblformal">
<p class="titleintable"><a id="sthref898"></a><a id="sthref899"></a>Table 25-15 ALTER_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="ALTER_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ALTER_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t22">Parameter</th>
<th class="cellalignment4328" id="r1c2-t22">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t22" headers="r1c1-t22">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t22 r1c2-t22">
<p>Name of the queue that is to be altered</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t22" headers="r1c1-t22">
<p><code dir="ltr">max_retries</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t22 r1c2-t22">
<p>Limits the number of times a dequeue with <code dir="ltr">REMOVE</code> mode can be attempted on a message. The maximum value of <code dir="ltr">max_retries</code> is 2**31 -1.</p>
<p>A message is moved to an exception queue if <code dir="ltr">RETRY_COUNT</code> is greater than <code dir="ltr">MAX_RETRIES</code>. <code dir="ltr">RETRY_COUNT</code> is incremented when the application issues a rollback after executing the dequeue. If a dequeue transaction fails because the server process dies (including <code dir="ltr">ALTER</code> <code dir="ltr">SYSTEM</code> <code dir="ltr">KILL</code> <code dir="ltr">SESSION</code>) or <code dir="ltr">SHUTDOWN</code> <code dir="ltr">ABORT</code> on the instance, then <code dir="ltr">RETRY_COUNT</code> is not incremented.</p>
<p>Note that <code dir="ltr">max_retries</code> is supported for all single consumer queues and 8.1-compatible or higher multiconsumer queues but not for 8.0-compatible multiconsumer queues.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t22" headers="r1c1-t22">
<p><code dir="ltr">retry_delay</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t22 r1c2-t22">
<p>Delay time in seconds before this message is scheduled for processing again after an application rollback. The default is <code dir="ltr">NULL</code>, which means that the value will not be altered.</p>
<p>Note that <code dir="ltr">retry_delay</code> is supported for single consumer queues and 8.1-compatible or higher multiconsumer queues but not for 8.0-compatible multiconsumer queues.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t22" headers="r1c1-t22">
<p><code dir="ltr">retention_time</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t22 r1c2-t22">
<p>Retention time in seconds for which a message is retained in the queue table after being dequeued. The default is <code dir="ltr">NULL</code>, which means that the value will not be altered.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t22" headers="r1c1-t22">
<p><code dir="ltr">auto_commit</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t22 r1c2-t22">
<p><code dir="ltr">TRUE</code> causes the current transaction, if any, to commit before the <code dir="ltr">ALTER_QUEUE</code> operation is carried out. The <code dir="ltr">ALTER_QUEUE</code> operation become persistent when the call returns. This is the default. <code dir="ltr">FALSE</code> means the operation is part of the current transaction and becomes persistent only when the caller enters a commit.</p>
<p>Caution: This parameter has been deprecated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t22" headers="r1c1-t22">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t22 r1c2-t22">
<p>User-specified description of the queue. This user comment is added to the queue catalog. The default value is <code dir="ltr">NULL</code>, which means that the value will not be changed.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS107" class="refsect2"><a id="i1014529"></a>
<h3 class="refsect2">ALTER_QUEUE_TABLE Procedure</h3>
<p>This procedure alters the existing properties of a queue table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref900"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ALTER_QUEUE_TABLE (
   queue_table          IN   VARCHAR2, 
   comment              IN   VARCHAR2       DEFAULT NULL,
   primary_instance     IN   BINARY_INTEGER DEFAULT NULL, 
   secondary_instance   IN   BINARY_INTEGER DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref901"></a>Parameters</p>
<div id="ARPLS65330" class="tblformal">
<p class="titleintable"><a id="sthref902"></a><a id="sthref903"></a>Table 25-16 ALTER_QUEUE_TABLE Procedure Parameters</p>
<table class="cellalignment4330" title="ALTER_QUEUE_TABLE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ALTER_QUEUE_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t23">Parameter</th>
<th class="cellalignment4328" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t23" headers="r1c1-t23">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t23 r1c2-t23">
<p>Name of a queue table to be created.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t23" headers="r1c1-t23">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t23 r1c2-t23">
<p>Modifies the user-specified description of the queue table. This user comment is added to the queue catalog. The default value is <code dir="ltr">NULL</code> which means that the value will not be changed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t23" headers="r1c1-t23">
<p><code dir="ltr">primary_instance</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t23 r1c2-t23">
<p>This is the primary owner of the queue table. Queue monitor scheduling and propagation for the queues in the queue table will be done in this instance. The default value is <code dir="ltr">NULL</code>, which means that the current value will not be changed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t23" headers="r1c1-t23">
<p><code dir="ltr">secondary_instance</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t23 r1c2-t23">
<p>The queue table fails over to the secondary instance if the primary instance is not available. The default value is <code dir="ltr">NULL</code>, which means that the current value will not be changed.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS120" class="refsect2"><a id="i1015198"></a>
<h3 class="refsect2">ALTER_SUBSCRIBER Procedure</h3>
<p>This procedure alters existing properties of a subscriber to a specified queue. Only the rule can be altered.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref904"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ALTER_SUBSCRIBER (
   queue_name     IN    VARCHAR2,
   subscriber     IN    sys.aq$_agent,
   rule           IN    VARCHAR2
   transformation IN    VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref905"></a>Parameters</p>
<div id="ARPLS65331" class="tblformal">
<p class="titleintable"><a id="sthref906"></a><a id="sthref907"></a>Table 25-17 ALTER_SUBSCRIBER Procedure Parameters</p>
<table class="cellalignment4330" title="ALTER_SUBSCRIBER Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ALTER_SUBSCRIBER." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t24">Parameter</th>
<th class="cellalignment4328" id="r1c2-t24">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t24" headers="r1c1-t24">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t24 r1c2-t24">
<p>Name of the queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t24" headers="r1c1-t24">
<p><code dir="ltr">subscriber</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t24 r1c2-t24">
<p>Agent on whose behalf the subscription is being altered. See <a href="t_aq.htm#i996895">&#34;AQ$_AGENT Type&#34;</a>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t24" headers="r1c1-t24">
<p><code dir="ltr">rule</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t24 r1c2-t24">
<p>A conditional expression based on the message properties, the message data properties and PL/SQL functions. The rule parameter cannot exceed 4000 characters. To eliminate the rule, set the rule parameter to <code dir="ltr">NULL</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t24" headers="r1c1-t24">
<p><code dir="ltr">transformation</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t24 r1c2-t24">
<p>Specifies a transformation that will be applied when this subscriber dequeues the message. The source type of the transformation must match the type of the queue. If the subscriber is remote, then the transformation is applied before propagation to the remote queue.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref908"></a>Usage Notes</p>
<p>This procedure alters both the rule and the transformation for the subscriber. If you want to retain the existing value for either of them, you must specify its old value. The current values for rule and transformation for a subscriber can be obtained from the <code dir="ltr"><span class="codeinlineitalic">schema</span></code><code dir="ltr">.AQ$</code><code dir="ltr"><span class="codeinlineitalic">queue_table</span></code><code dir="ltr">_R</code> and <code dir="ltr"><span class="codeinlineitalic">schema</span></code><code dir="ltr">.AQ$</code><code dir="ltr"><span class="codeinlineitalic">queue_table</span></code><code dir="ltr">_S</code> views.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS129" class="refsect2"><a id="i1015539"></a>
<h3 class="refsect2">CREATE_AQ_AGENT Procedure</h3>
<p>This procedure registers an agent for Oracle Database Advanced Queuing Internet access using HTTP/SMTP protocols. It is also used to create an Oracle Database Advanced Queuing agent to access secure queues.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS" href="../STRMS/toc.htm"><span class="italic">Oracle Streams Concepts and Administration</span></a> for information about secure queues</div>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref909"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.CREATE_AQ_AGENT (
  agent_name                IN VARCHAR2,
  certificate_location      IN VARCHAR2 DEFAULT NULL,
  enable_http               IN BOOLEAN DEFAULT FALSE,
  enable_smtp               IN BOOLEAN DEFAULT FALSE,
  enable_anyp               IN BOOLEAN DEFAULT FALSE )
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref910"></a>Parameters</p>
<div id="ARPLS65332" class="tblformal">
<p class="titleintable"><a id="sthref911"></a><a id="sthref912"></a>Table 25-18 CREATE_AQ_AGENT Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_AQ_AGENT Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_AQ_AGENT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t26">Parameter</th>
<th class="cellalignment4328" id="r1c2-t26">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t26" headers="r1c1-t26">
<p><code dir="ltr">agent_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t26 r1c2-t26">
<p>Specifies the username of the Oracle Database Advanced Queuing Internet agent.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t26" headers="r1c1-t26">
<p><code dir="ltr">certification_location</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t26 r1c2-t26">
<p>Agent&#39;s certificate location in LDAP (default is <code dir="ltr">NULL</code>). If the agent is allowed to access Oracle Database Advanced Queuing through SMTP, then its certificate must be registered in LDAP. For access through HTTP, the certificate location is not required.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t26" headers="r1c1-t26">
<p><code dir="ltr">enable_http</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t26 r1c2-t26">
<p><code dir="ltr">TRUE</code> means the agent can access Oracle Database Advanced Queuing through HTTP. <code dir="ltr">FALSE</code> means the agent cannot access Oracle Database Advanced Queuing through HTTP.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t26" headers="r1c1-t26">
<p><code dir="ltr">enable_smtp</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t26 r1c2-t26">
<p><code dir="ltr">TRUE</code> means the agent can access Oracle Database Advanced Queuing through SMTP (e-mail). <code dir="ltr">FALSE</code> means the agent cannot access Oracle Database Advanced Queuing through SMTP.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t26" headers="r1c1-t26">
<p><code dir="ltr">enable_anyp</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t26 r1c2-t26">
<p><code dir="ltr">TRUE</code> means the agent can access Oracle Database Advanced Queuing through any protocol (HTTP or SMTP).</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref913"></a>Usage Notes</p>
<p>The <code dir="ltr">SYS.AQ$INTERNET_USERS</code> view has a list of all Oracle Database Advanced Queuing Internet agents.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS110" class="refsect2"><a id="i1014730"></a>
<h3 class="refsect2">CREATE_NP_QUEUE Procedure</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
nonpersistent queues are deprecated as of Release 10gR2. Oracle recommends using buffered messaging.</div>
<p>This procedure creates a nonpersistent <code dir="ltr">RAW</code> queue.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref914"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.CREATE_NP_QUEUE ( 
   queue_name              IN        VARCHAR2, 
   multiple_consumers      IN        BOOLEAN  DEFAULT FALSE, 
   comment                 IN        VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref915"></a>Parameters</p>
<div id="ARPLS65333" class="tblformal">
<p class="titleintable"><a id="sthref916"></a><a id="sthref917"></a>Table 25-19 CREATE_NP_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_NP_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_NP_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t28">Parameter</th>
<th class="cellalignment4328" id="r1c2-t28">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t28" headers="r1c1-t28">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t28 r1c2-t28">
<p>Name of the nonpersistent queue that is to be created. The name must be unique within a schema and must follow object name guidelines in <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference.</span></a></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t28" headers="r1c1-t28">
<p><code dir="ltr">multiple_consumers</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t28 r1c2-t28">
<p><code dir="ltr">FALSE</code> means queues created in the table can only have one consumer for each message. This is the default. <code dir="ltr">TRUE</code> means queues created in the table can have multiple consumers for each message.</p>
<p>Note that this parameter is distinguished at the queue level, because a nonpersistent queue does not inherit this characteristic from any user-created queue table.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t28" headers="r1c1-t28">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t28 r1c2-t28">
<p>User-specified description of the queue. This user comment is added to the queue catalog.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref918"></a>Usage Notes</p>
<p>The queue may be either single-consumer or multiconsumer queue. All queue names must be unique within a schema. The queues are created in a 8.1-compatible or higher system-created queue table (<code dir="ltr">AQ$_MEM_SC</code> or <code dir="ltr">AQ$_MEM_MC</code>) in the same schema as that specified by the queue name.</p>
<p>If the queue name does not specify a schema name, the queue is created in the login user&#39;s schema. After a queue is created with <code dir="ltr">CREATE_NP_QUEUE</code>, it can be enabled by calling <code dir="ltr">START_QUEUE</code>. By default, the queue is created with both enqueue and dequeue disabled.</p>
<p>You cannot dequeue from a nonpersistent queue. The only way to retrieve a message from a nonpersistent queue is by using the OCI notification mechanism. You cannot invoke the <code dir="ltr">LISTEN</code> call on a nonpersistent queue.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS109" class="refsect2"><a id="i1015639"></a>
<h3 class="refsect2">CREATE_QUEUE Procedure</h3>
<p>This procedure creates a queue in the specified queue table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref919"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.CREATE_QUEUE (
   queue_name          IN       VARCHAR2,
   queue_table         IN       VARCHAR2,
   queue_type          IN       BINARY_INTEGER DEFAULT NORMAL_QUEUE,
   max_retries         IN       NUMBER         DEFAULT NULL,
   retry_delay         IN       NUMBER         DEFAULT 0,
   retention_time      IN       NUMBER         DEFAULT 0,
   dependency_tracking IN       BOOLEAN        DEFAULT FALSE,
   comment             IN       VARCHAR2       DEFAULT NULL,
   auto_commit         IN       BOOLEAN        DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref920"></a>Parameters</p>
<div id="ARPLS65334" class="tblformal">
<p class="titleintable"><a id="sthref921"></a><a id="sthref922"></a>Table 25-20 CREATE_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t29">Parameter</th>
<th class="cellalignment4328" id="r1c2-t29">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t29" headers="r1c1-t29">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t29 r1c2-t29">
<p>Name of the queue that is to be created. The name must be unique within a schema and must follow object name guidelines in <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> with regard to reserved characters.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t29" headers="r1c1-t29">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t29 r1c2-t29">
<p>Name of the queue table that will contain the queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t29" headers="r1c1-t29">
<p><code dir="ltr">queue_type</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t29 r1c2-t29">
<p>Specifies whether the queue being created is an exception queue or a normal queue. <code dir="ltr">NORMAL_QUEUE</code> means the queue is a normal queue. This is the default. <code dir="ltr">EXCEPTION_QUEUE</code> means it is an exception queue. Only the dequeue operation is allowed on the exception queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t29" headers="r1c1-t29">
<p><code dir="ltr">max_retries</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t29 r1c2-t29">
<p>Limits the number of times a dequeue with the <code dir="ltr">REMOVE</code> mode can be attempted on a message. The maximum value of <code dir="ltr">max_retries</code> is 2**31 -1.</p>
<p>A message is moved to an exception queue if <code dir="ltr">RETRY_COUNT</code> is greater than <code dir="ltr">MAX_RETRIES</code>. <code dir="ltr">RETRY_COUNT</code> is incremented when the application issues a rollback after executing the dequeue. If a dequeue transaction fails because the server process dies (including <code dir="ltr">ALTER</code> <code dir="ltr">SYSTEM</code> <code dir="ltr">KILL</code> <code dir="ltr">SESSION</code>) or <code dir="ltr">SHUTDOWN</code> <code dir="ltr">ABORT</code> on the instance, then <code dir="ltr">RETRY_COUNT</code> is not incremented.</p>
<p>Note that <code dir="ltr">max_retries</code> is supported for all single consumer queues and 8.1-compatible or higher multiconsumer queues but not for 8.0-compatible multiconsumer queues.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t29" headers="r1c1-t29">
<p><code dir="ltr">retry_delay</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t29 r1c2-t29">
<p>Delay time, in seconds, before this message is scheduled for processing again after an application rollback.</p>
<p>The default is 0, which means the message can be retried as soon as possible. This parameter has no effect if <code dir="ltr">max_retries</code> is set to 0. Note that <code dir="ltr">retry_delay</code> is supported for single consumer queues and 8.1-compatible or higher multiconsumer queues but not for 8.0-compatible multiconsumer queues.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t29" headers="r1c1-t29">
<p><code dir="ltr">retention_time</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t29 r1c2-t29">
<p>Number of seconds for which a message is retained in the queue table after being dequeued from the queue. <code dir="ltr">INFINITE</code> means the message is retained forever. <code dir="ltr">NUMBER</code> is the number of seconds for which to retain the messages. The default is 0, no retention.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t29" headers="r1c1-t29">
<p><code dir="ltr">dependency_tracking</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t29 r1c2-t29">
<p>Reserved for future use. <code dir="ltr">FALSE</code> is the default. <code dir="ltr">TRUE</code> is not permitted in this release.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t29" headers="r1c1-t29">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t29 r1c2-t29">
<p>User-specified description of the queue. This user comment is added to the queue catalog.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t29" headers="r1c1-t29">
<p><code dir="ltr">auto_commit</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t29 r1c2-t29">
<p><code dir="ltr">TRUE</code> causes the current transaction, if any, to commit before the <code dir="ltr">CREATE_QUEUE</code> operation is carried out. The <code dir="ltr">CREATE_QUEUE</code> operation becomes persistent when the call returns. This is the default. <code dir="ltr">FALSE</code> means the operation is part of the current transaction and becomes persistent only when the caller enters a commit.</p>
<p>Caution: This parameter has been deprecated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref923"></a>Usage Notes</p>
<p>All queue names must be unique within a schema. After a queue is created with <code dir="ltr">CREATE_QUEUE</code>, it can be enabled by calling <code dir="ltr">START_QUEUE</code>. By default, the queue is created with both enqueue and dequeue disabled.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74390" class="refsect2"><a id="CHDEDBEF"></a>
<h3 class="refsect2">CREATE_SHARDED_QUEUE Procedure</h3>
<p><code dir="ltr">CREATE_SHARDED_QUEUE</code> is a new API in 12<span class="italic">c</span> Release 1 (12.1) to create a queue and its queue table as appropriate for a JMS sharded queue. This API cannot be used to create unsharded queues. JMS sharded queues must be created using this single integrated API that will automatically set AQ properties as needed for JMS.</p>
<p>JMS Sharded queues may be either a single consumer or a multi-consumer queue.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref924"></a>Syntax</p>
<pre dir="ltr">PROCEDURE CREATE_SHARDED_QUEUE (
    queue_name             IN VARCHAR2,
    storage_clause         IN VARCHAR2       DEFAULT NULL,
    multiple_consumers     IN BOOLEAN        DEFAULT FALSE,
    max_retries            IN NUMBER         DEFAULT NULL,
    comment                IN VARCHAR2       DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref925"></a>Parameters</p>
<div id="ARPLS74391" class="tblformal">
<p class="titleintable"><a id="sthref926"></a><a id="sthref927"></a>Table 25-21 CREATE_SHARDED_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_SHARDED_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_SHARDED_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t30">Parameter</th>
<th class="cellalignment4328" id="r1c2-t30">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t30" headers="r1c1-t30">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t30 r1c2-t30">
<p>This required parameter specifies the name of the new queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t30" headers="r1c1-t30">
<p><code dir="ltr">storage_clause</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t30 r1c2-t30">
<p>The storage parameter is included in the <code dir="ltr">CREATE TABLE</code> statement when the queue table is created. The <code dir="ltr">storage_clause</code> argument can take any text that can be used in a standard <code dir="ltr">CREATE TABLE storage_clause</code> argument.The storage parameter can be made up of any combinations of the following parameters: <code dir="ltr">PCTFREE</code>, <code dir="ltr">PCTUSED</code>, <code dir="ltr">INITRANS</code>, <code dir="ltr">MAXTRANS</code>, <code dir="ltr">TABLESPACE</code>, <code dir="ltr">LOB</code>, and a table storage clause.</p>
<p>If a tablespace is not specified here, then the queue table and all its related objects are created in the default user tablespace. If a tablespace is specified here, then the queue table and all its related objects are created in the tablespace specified in the storage clause. See <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for the usage of these parameters.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t30" headers="r1c1-t30">
<p><code dir="ltr">multiple_consumers</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t30 r1c2-t30">
<p><code dir="ltr">FALSE</code> means queues can only have one consumer for each message. This is the default. <code dir="ltr">TRUE</code> means queues created in the table can have multiple consumers for each message.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t30" headers="r1c1-t30">
<p><code dir="ltr">max_retries</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t30 r1c2-t30">
<p>This optional parameter limits the number of times that a dequeue can reattempted on a message after a failure. The maximum value of <code dir="ltr">max_retries</code> is <code dir="ltr">2**31 -1</code>. After the retry limit has been exceeded, the message will be purged from the queue. <code dir="ltr">RETRY_COUNT</code> is incremented when the application issues a rollback after executing the dequeue. If a dequeue transaction fails because the server process dies (including <code dir="ltr">ALTER SYSTEM KILL SESSION</code>) or <code dir="ltr">SHUTDOWN ABORT</code> on the instance, then <code dir="ltr">RETRY_COUNT</code> is not incremented.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t30" headers="r1c1-t30">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t30 r1c2-t30">
<p>This optional parameter is a user-specified description of the queue table. This user comment is added to the queue catalog.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74759" class="refsect2"><a id="BABBGHGI"></a>
<h3 class="refsect2">DROP_SHARDED_QUEUE Procedure</h3>
<p>This procedure drops an existing sharded queue from the database queuing system. You must stop the queue before calling <code dir="ltr">DROP_SHARDED_QUEUE</code>. User must stop the queue explicitly if force is set to <code dir="ltr">FALSE</code> before calling <code dir="ltr">DROP_SHARDED_QUEUE</code>. If force is set to <code dir="ltr">TRUE</code> then queue will be stopped internally and then dropped.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref928"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.DROP_SHARDED_QUEUE( 
       queue_name IN VARCHAR2, 
       force      IN BOOLEAN DEFAULT FALSE )
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref929"></a>Parameters</p>
<div id="ARPLS74760" class="tblformal">
<p class="titleintable"><a id="sthref930"></a><a id="sthref931"></a>Table 25-22 CREATE_SHARDED_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_SHARDED_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_SHARDED_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t31">Parameter</th>
<th class="cellalignment4328" id="r1c2-t31">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t31" headers="r1c1-t31">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t31 r1c2-t31">
<p>This required parameter specifies the name of the sharded queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t31" headers="r1c1-t31">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t31 r1c2-t31">
<p>The sharded queue is dropped even if the queue is not stopped.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS106" class="refsect2"><a id="i1014381"></a>
<h3 class="refsect2">CREATE_QUEUE_TABLE Procedure</h3>
<p>This procedure creates a queue table for messages of a predefined type.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref932"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.CREATE_QUEUE_TABLE (
   queue_table          IN      VARCHAR2,
   queue_payload_type   IN      VARCHAR2,
   storage_clause       IN      VARCHAR2        DEFAULT NULL,
   sort_list            IN      VARCHAR2        DEFAULT NULL,
   multiple_consumers   IN      BOOLEAN         DEFAULT FALSE,
   message_grouping     IN      BINARY_INTEGER  DEFAULT NONE,
   comment              IN      VARCHAR2        DEFAULT NULL,
   auto_commit          IN      BOOLEAN         DEFAULT TRUE,
   primary_instance     IN      BINARY_INTEGER  DEFAULT 0, 
   secondary_instance   IN      BINARY_INTEGER  DEFAULT 0,
   compatible           IN      VARCHAR2        DEFAULT NULL,
   secure               IN      BOOLEAN         DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref933"></a>Parameters</p>
<div id="ARPLS65335" class="tblformal">
<p class="titleintable"><a id="sthref934"></a><a id="sthref935"></a>Table 25-23 CREATE_QUEUE_TABLE Procedure Parameters</p>
<table class="cellalignment4330" title="CREATE_QUEUE_TABLE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.CREATE_QUEUE_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t32">Parameter</th>
<th class="cellalignment4328" id="r1c2-t32">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t32" headers="r1c1-t32">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t32 r1c2-t32">
<p>Name of a queue table to be created</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t32" headers="r1c1-t32">
<p><code dir="ltr">queue_payload_type</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t32 r1c2-t32">
<p>Type of the user data stored. See <a href="d_aq.htm#i996875">Type Name</a> for valid values for this parameter.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t32" headers="r1c1-t32">
<p><code dir="ltr">storage_clause</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t32 r1c2-t32">
<p>Storage parameter. The storage parameter is included in the <code dir="ltr">CREATE</code> <code dir="ltr">TABLE</code> statement when the queue table is created. The <code dir="ltr">storage_clause</code> argument can take any text that can be used in a standard <code dir="ltr">CREATE TABLE</code> <code dir="ltr">storage_clause</code> argument.The storage parameter can be made up of any combinations of the following parameters: <code dir="ltr">PCTFREE</code>, <code dir="ltr">PCTUSED</code>, <code dir="ltr">INITRANS</code>, <code dir="ltr">MAXTRANS</code>, <code dir="ltr">TABLESPACE</code>, <code dir="ltr">LOB</code>, and a table storage clause.</p>
<p>If a tablespace is not specified here, then the queue table and all its related objects are created in the default user tablespace. If a tablespace is specified here, then the queue table and all its related objects are created in the tablespace specified in the storage clause. See <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for the usage of these parameters.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t32" headers="r1c1-t32">
<p><code dir="ltr">sort_list</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t32 r1c2-t32">
<p>The columns to be used as the sort key in ascending order. This parameter has the following format:</p>
<p>&#39;<code dir="ltr"><span class="codeinlineitalic">sort_column_1</span></code><code dir="ltr">,</code><code dir="ltr"><span class="codeinlineitalic">sort_column_2</span></code>&#39;</p>
<p>The allowed column names are <code dir="ltr">priority</code>, <code dir="ltr">enq_time</code>, and <code dir="ltr">commit_time</code>.If both columns are specified, then <code dir="ltr"><span class="codeinlineitalic">sort_column_1</span></code> defines the most significant order.</p>
<p>After a queue table is created with a specific ordering mechanism, all queues in the queue table inherit the same defaults. The order of a queue table cannot be altered after the queue table has been created.</p>
<p>If no sort list is specified, then all the queues in this queue table are sorted by the enqueue time in ascending order. This order is equivalent to FIFO order.</p>
<p>Even with the default ordering defined, a dequeuer is allowed to choose a message to dequeue by specifying its <code dir="ltr">msgid</code> or <code dir="ltr">correlation</code>. <code dir="ltr">msgid</code>, <code dir="ltr">correlation</code>, and <code dir="ltr">sequence_deviation</code> take precedence over the default dequeueing order, if they are specified.</p>
<p>When <code dir="ltr">commit_time</code> is specified for the <code dir="ltr">sort_list</code> parameter the resulting queue table uses commit-time ordering. See &#34;Commit-Time Queues&#34; in <a class="olink STRMS148" href="../STRMS/strms_adqueue.htm#STRMS148"><span class="italic">Oracle Streams Concepts and Administration</span></a> for more information about commit-time ordering.</p>
<p>See also &#34;Priority and Ordering of Messages&#34; in <a class="olink ADQUE2916" href="../ADQUE/jm_create.htm#ADQUE2916"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for information about message ordering in Oracle Database Advanced Queuing.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t32" headers="r1c1-t32">
<p><code dir="ltr">multiple_consumers</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t32 r1c2-t32">
<p><code dir="ltr">FALSE</code> means queues created in the table can only have one consumer for each message. This is the default. <code dir="ltr">TRUE</code> means queues created in the table can have multiple consumers for each message.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t32" headers="r1c1-t32">
<p><code dir="ltr">message_grouping</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t32 r1c2-t32">
<p>Message grouping behavior for queues created in the table. <code dir="ltr">NONE</code> means each message is treated individually. <code dir="ltr">TRANSACTIONAL</code> means messages enqueued as part of one transaction are considered part of the same group and can be dequeued as a group of related messages.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t32" headers="r1c1-t32">
<p><code dir="ltr">comment</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t32 r1c2-t32">
<p>User-specified description of the queue table. This user comment is added to the queue catalog.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t32" headers="r1c1-t32">
<p><code dir="ltr">auto_commit</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t32 r1c2-t32">
<p><code dir="ltr">TRUE</code> causes the current transaction, if any, to commit before the <code dir="ltr">CREATE_QUEUE_TABLE</code> operation is carried out. The <code dir="ltr">CREATE_QUEUE_TABLE</code> operation becomes persistent when the call returns. This is the default. <code dir="ltr">FALSE</code> means the operation is part of the current transaction and becomes persistent only when the caller enters a commit.</p>
<p>Note: This parameter has been deprecated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t32" headers="r1c1-t32">
<p><code dir="ltr">primary_instance</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t32 r1c2-t32">
<p>The primary owner of the queue table. Queue monitor scheduling and propagation for the queues in the queue table are done in this instance.</p>
<p>The default value for primary instance is 0, which means queue monitor scheduling and propagation will be done in any available instance.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t32" headers="r1c1-t32">
<p><code dir="ltr">secondary_instance</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t32 r1c2-t32">
<p>The queue table fails over to the secondary instance if the primary instance is not available. The default value is 0, which means that the queue table will fail over to any available instance.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t32" headers="r1c1-t32">
<p><code dir="ltr">compatible</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t32 r1c2-t32">
<p>The lowest database version with which the queue is compatible. Currently the possible values are either <code dir="ltr">8.0</code>, <code dir="ltr">8.1</code>, or <code dir="ltr">10.0</code>. If the database is in 10.1-compatible mode, the default value is <code dir="ltr">10.0</code>. If the database is in 8.1-compatible or 9.2-compatible mode, the default value is <code dir="ltr">8.1</code>. If the database is in 8.0 compatible mode, the default value is <code dir="ltr">8.0</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t32" headers="r1c1-t32">
<p><code dir="ltr">secure</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t32 r1c2-t32">
<p>This parameter must be set to <code dir="ltr">TRUE</code> if you want to use the queue table for secure queues. Secure queues are queues for which AQ agents must be associated explicitly with one or more database users who can perform queue operations, such as enqueue and dequeue. The owner of a secure queue can perform all queue operations on the queue, but other users cannot perform queue operations on a secure queue, unless they are configured as secure queue users.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref936"></a>Usage Notes</p>
<p>The sort keys for dequeue ordering, if any, must be defined at table creation time. The following objects are created at this time:</p>
<ul>
<li>
<p><code dir="ltr">aq$_</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_e</code>, a default exception queue associated with the queue table</p>
</li>
<li>
<p><code dir="ltr">aq$</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code>, a read-only view, which is used by Oracle Database Advanced Queuing applications for querying queue data</p>
</li>
<li>
<p><code dir="ltr">aq$_</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_t</code>, an index (or an index organized table (IOT) in the case of multiple consumer queues) for the queue monitor operations</p>
</li>
<li>
<p><code dir="ltr">aq$_</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_i</code>, an index (or an index organized table in the case of multiple consumer queues) for dequeue operations</p>
</li>
</ul>
<p>For 8.1-compatible or higher queue tables, the following index-organized tables are created:</p>
<ul>
<li>
<p><code dir="ltr">aq$_</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_s</code>, a table for storing information about the subscribers</p>
</li>
<li>
<p><code dir="ltr">aq$_</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_r</code>, a table for storing information about rules on subscriptions</p>
</li>
</ul>
<p><code dir="ltr">aq$_</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_h</code>, an index-organized table for storing the dequeue history data</p>
<p><code dir="ltr">CLOB</code>, <code dir="ltr">BLOB</code>, and <code dir="ltr">BFILE</code> are valid attributes for Oracle Database Advanced Queuing object type payloads. However, only <code dir="ltr">CLOB</code> and <code dir="ltr">BLOB</code> can be propagated using Oracle Database Advanced Queuing propagation in Oracle8<span class="italic">i</span> release 8.1.5 or later. See the <a class="olink ADQUE" href="../ADQUE/toc.htm"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for more information.</p>
<p>The default value of the compatible parameter depends on the database compatibility mode in the <code dir="ltr">init.ora</code>. If the database is in 10.1-compatible mode, the default value is 10.0. If the database is in 8.1-compatible or 9.2-compatible mode, the default value is 8.1. If the database is in 8.0 compatible mode, the default value is 8.0</p>
<p>You can specify and modify the <code dir="ltr">primary_instance</code> and <code dir="ltr">secondary_instance</code> only in 8.1-compatible or higher mode. You cannot specify a secondary instance unless there is a primary instance.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS135" class="refsect2"><a id="i1016072"></a>
<h3 class="refsect2">DEL_ALIAS_FROM_LDAP Procedure</h3>
<p>This procedure drops an alias for a queue, agent, or JMS ConnectionFactory in LDAP.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref937"></a>Syntax</p>
<pre dir="ltr">DBMS_AQ.DEL_ALIAS_FROM_LDAP(
   alias IN VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref938"></a>Parameters</p>
<div id="ARPLS65336" class="tblformal">
<p class="titleintable"><a id="sthref939"></a><a id="sthref940"></a>Table 25-24 DEL_ALIAS_FROM_LDAP Procedure Parameters</p>
<table class="cellalignment4330" title="DEL_ALIAS_FROM_LDAP Procedure Parameters" summary="This table describes the parameters of DBMS_AQ.DEL_ALIAS_FROM_LDAP." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t33">Parameter</th>
<th class="cellalignment4328" id="r1c2-t33">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t33" headers="r1c1-t33">
<p><code dir="ltr">alias</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t33 r1c2-t33">
<p>The alias to be removed.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS133" class="refsect2"><a id="i1015964"></a>
<h3 class="refsect2">DISABLE_DB_ACCESS Procedure</h3>
<p>This procedure revokes the privileges of a specific database user from an Oracle Database Advanced Queuing Internet agent.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref941"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.DISABLE_DB_ACCESS (
  agent_name                IN VARCHAR2,
  db_username               IN VARCHAR2)
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref942"></a>Parameters</p>
<div id="ARPLS65337" class="tblformal">
<p class="titleintable"><a id="sthref943"></a><a id="sthref944"></a>Table 25-25 DISABLE_DB_ACCESS Procedure Parameters</p>
<table class="cellalignment4330" title="DISABLE_DB_ACCESS Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.DISABLE_DB_ACCESS." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t34">Parameter</th>
<th class="cellalignment4328" id="r1c2-t34">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t34" headers="r1c1-t34">
<p><code dir="ltr">agent_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t34 r1c2-t34">
<p>Specifies the username of the Oracle Database Advanced Queuing Internet agent.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t34" headers="r1c1-t34">
<p><code dir="ltr">db_username</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t34 r1c2-t34">
<p>Specifies the database user whose privileges are to be revoked from the Oracle Database Advanced Queuing Internet agent.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref945"></a>Usage Notes</p>
<p>The Oracle Database Advanced Queuing Internet agent should have been previously granted those privileges using the <a href="#i1015894">ENABLE_DB_ACCESS Procedure</a>.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS127" class="refsect2"><a id="i1015488"></a>
<h3 class="refsect2">DISABLE_PROPAGATION_SCHEDULE Procedure</h3>
<p>This procedure disables a propagation schedule.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref946"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE ( 
   queue_name            IN   VARCHAR2, 
   destination           IN   VARCHAR2 DEFAULT NULL,
   destination_queue  IN  VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref947"></a>Parameters</p>
<div id="ARPLS65338" class="tblformal">
<p class="titleintable"><a id="sthref948"></a><a id="sthref949"></a>Table 25-26 DISABLE_PROPAGATION_SCHEDULE Procedure Parameters</p>
<table class="cellalignment4330" title="DISABLE_PROPAGATION_SCHEDULE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.DISABLE_PROPAGATION_SCHEDULE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t35">Parameter</th>
<th class="cellalignment4328" id="r1c2-t35">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t35" headers="r1c1-t35">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t35 r1c2-t35">
<p>Name of the source queue whose messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t35" headers="r1c1-t35">
<p><code dir="ltr">destination</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t35 r1c2-t35">
<p>Destination database link. Messages in the source queue for recipients at this destination are propagated. If it is <code dir="ltr">NULL</code>, then the destination is the local database and messages are propagated to other queues in the local database. The length of this field is currently limited to 128 bytes, and if the name is not fully qualified, then the default domain name is used.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t35" headers="r1c1-t35">
<p><code dir="ltr">destination_queue</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t35 r1c2-t35">
<p>Name of the target queue to which messages are to be propagated in the form of a <code dir="ltr">dblink</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS131" class="refsect2"><a id="i1015851"></a>
<h3 class="refsect2">DROP_AQ_AGENT Procedure</h3>
<p>This procedure drops an agent that was previously registered for Oracle Database Advanced Queuing Internet access.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref950"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.DROP_AQ_AGENT (
  agent_name                IN VARCHAR2)
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref951"></a>Parameters</p>
<div id="ARPLS65339" class="tblformal">
<p class="titleintable"><a id="sthref952"></a><a id="sthref953"></a>Table 25-27 DROP_AQ_AGENT Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_AQ_AGENT Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.DROP_AQ_AGENT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t36">Parameter</th>
<th class="cellalignment4328" id="r1c2-t36">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t36" headers="r1c1-t36">
<p><code dir="ltr">agent_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t36 r1c2-t36">
<p>Specifies the username of the Oracle Database Advanced Queuing Internet agent</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS112" class="refsect2"><a id="i1014867"></a>
<h3 class="refsect2">DROP_QUEUE Procedure</h3>
<p>This procedure drops an existing queue.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref954"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.DROP_QUEUE (
   queue_name        IN    VARCHAR2,
   auto_commit       IN    BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref955"></a>Parameters</p>
<div id="ARPLS65340" class="tblformal">
<p class="titleintable"><a id="sthref956"></a><a id="sthref957"></a>Table 25-28 DROP_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.DROP_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t37">Parameter</th>
<th class="cellalignment4328" id="r1c2-t37">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t37" headers="r1c1-t37">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t37 r1c2-t37">
<p>Name of the queue that is to be dropped.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t37" headers="r1c1-t37">
<p><code dir="ltr">auto_commit</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t37 r1c2-t37">
<p><code dir="ltr">TRUE</code> causes the current transaction, if any, to commit before the <code dir="ltr">DROP_QUEUE</code> operation is carried out. The <code dir="ltr">DROP_QUEUE</code> operation becomes persistent when the call returns. This is the default. <code dir="ltr">FALSE</code> means the operation is part of the current transaction and becomes persistent only when the caller enters a commit.</p>
<p>Caution: This parameter has been deprecated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref958"></a>Usage Notes</p>
<p><code dir="ltr">DROP_QUEUE</code> is not allowed unless <code dir="ltr">STOP_QUEUE</code> has been called to disable the queue for both enqueuing and dequeuing. All the queue data is deleted as part of the drop operation.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS108" class="refsect2"><a id="i1011453"></a>
<h3 class="refsect2">DROP_QUEUE_TABLE Procedure</h3>
<p>This procedure drops an existing queue table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref959"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.DROP_QUEUE_TABLE (
   queue_table       IN    VARCHAR2,
   force             IN    BOOLEAN DEFAULT FALSE,
   auto_commit       IN    BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref960"></a>Parameters</p>
<div id="ARPLS65341" class="tblformal">
<p class="titleintable"><a id="sthref961"></a><a id="sthref962"></a>Table 25-29 DROP_QUEUE_TABLE Procedure Parameters</p>
<table class="cellalignment4330" title="DROP_QUEUE_TABLE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.DROP_QUEUE_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t38">Parameter</th>
<th class="cellalignment4328" id="r1c2-t38">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t38" headers="r1c1-t38">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t38 r1c2-t38">
<p>Name of a queue table to be dropped.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t38" headers="r1c1-t38">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t38 r1c2-t38">
<p><code dir="ltr">FALSE</code> means the operation does not succeed if there are any queues in the table. This is the default. <code dir="ltr">TRUE</code> means all queues in the table are stopped and dropped automatically.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t38" headers="r1c1-t38">
<p><code dir="ltr">auto_commit</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t38 r1c2-t38">
<p><code dir="ltr">TRUE</code> causes the current transaction, if any, to commit before the <code dir="ltr">DROP_QUEUE_TABLE</code> operation is carried out. The <code dir="ltr">DROP_QUEUE_TABLE</code> operation becomes persistent when the call returns. This is the default. <code dir="ltr">FALSE</code> means the operation is part of the current transaction and becomes persistent only when the caller enters a commit.</p>
<p>Caution: This parameter has been deprecated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref963"></a>Usage Notes</p>
<p>All the queues in a queue table must be stopped and dropped before the queue table can be dropped. You must do this explicitly unless the <code dir="ltr">force</code> option is used, in which case this is done automatically.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS132" class="refsect2"><a id="i1015894"></a>
<h3 class="refsect2">ENABLE_DB_ACCESS Procedure</h3>
<p>This procedure grants an Oracle Database Advanced Queuing Internet agent the privileges of a specific database user.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref964"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ENABLE_DB_ACCESS (
  agent_name                IN VARCHAR2,
  db_username               IN VARCHAR2)
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref965"></a>Parameters</p>
<div id="ARPLS65342" class="tblformal">
<p class="titleintable"><a id="sthref966"></a><a id="sthref967"></a>Table 25-30 ENABLE_DB_ACCESS Procedure Parameters</p>
<table class="cellalignment4330" title="ENABLE_DB_ACCESS Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ENABLE_DB_ACCESS." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t39">Parameter</th>
<th class="cellalignment4328" id="r1c2-t39">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t39" headers="r1c1-t39">
<p><code dir="ltr">agent_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t39 r1c2-t39">
<p>Specifies the username of the Oracle Database Advanced Queuing Internet agent.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t39" headers="r1c1-t39">
<p><code dir="ltr">db_username</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t39 r1c2-t39">
<p>Specified the database user whose privileges are to be granted to the Oracle Database Advanced Queuing Internet agent.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref968"></a>Usage Notes</p>
<p>The Oracle Database Advanced Queuing Internet agent should have been previously created using the <a href="#i1015539">CREATE_AQ_AGENT Procedure</a>.</p>
<p>For secure queues, the sender and receiver agent of the message must be mapped to the database user performing the enqueue or dequeue operation.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS" href="../STRMS/toc.htm"><span class="italic">Oracle Streams Concepts and Administration</span></a> for information about secure queues</div>
<p>The <code dir="ltr">SYS.AQ$INTERNET_USERS</code> view has a list of all Oracle Database Advanced Queuing Internet agents and the names of the database users whose privileges are granted to them.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65343" class="refsect2"><a id="i1016404"></a>
<h3 class="refsect2">ENABLE_JMS_TYPES Procedure</h3>
<p>Enqueue of JMS types and XML types does not work with Oracle Streams <code dir="ltr">Sys.Anydata</code> queues unless you call this procedure after <code dir="ltr">DBMS_STREAMS_ADM.SET_UP_QUEUE</code>. Enabling an Oracle Streams queue for these types may affect import/export of the queue table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref969"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ENABLE_JMS_TYPES (
   queue_table   IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref970"></a>Parameters</p>
<div id="ARPLS65344" class="tblformal">
<p class="titleintable"><a id="sthref971"></a><a id="sthref972"></a>Table 25-31 ENABLE_JMS_TYPES Procedure Parameters</p>
<table class="cellalignment4330" title="ENABLE_JMS_TYPES Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ENABLE_JMS_TYPES." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t41">Parameter</th>
<th class="cellalignment4328" id="r1c2-t41">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t41" headers="r1c1-t41">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t41 r1c2-t41">
<p>Specifies name of the queue table to be enabled for JMS and XML types.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS126" class="refsect2"><a id="i1015435"></a>
<h3 class="refsect2">ENABLE_PROPAGATION_SCHEDULE Procedure</h3>
<p>This procedure enables a previously disabled propagation schedule.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref973"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE ( 
   queue_name         IN   VARCHAR2, 
   destination        IN   VARCHAR2 DEFAULT NULL,
   destination_queue  IN   VARCHAR2  DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref974"></a>Parameters</p>
<div id="ARPLS65345" class="tblformal">
<p class="titleintable"><a id="sthref975"></a><a id="sthref976"></a>Table 25-32 ENABLE_PROPAGATION_SCHEDULE Procedure Parameters</p>
<table class="cellalignment4330" title="ENABLE_PROPAGATION_SCHEDULE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.ENABLE_PROPAGATION_SCHEDULE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t42">Parameter</th>
<th class="cellalignment4328" id="r1c2-t42">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t42" headers="r1c1-t42">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t42 r1c2-t42">
<p>Name of the source queue whose messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t42" headers="r1c1-t42">
<p><code dir="ltr">destination</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t42 r1c2-t42">
<p>Destination database link. Messages in the source queue for recipients at this destination are propagated. If it is <code dir="ltr">NULL</code>, then the destination is the local database and messages are propagated to other queues in the local database. The length of this field is currently limited to 128 bytes, and if the name is not fully qualified, then the default domain name is used.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t42" headers="r1c1-t42">
<p><code dir="ltr">destination_queue</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t42 r1c2-t42">
<p>Name of the target queue to which messages are to be propagated in the form of a <code dir="ltr">dblink</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74801" class="refsect2"><a id="BABDIFDJ"></a>
<h3 class="refsect2"><a id="sthref977"></a>GET_WATERMARK Procedure</h3>
<p>This procedure retrieves the value of watermark set by <code dir="ltr">SET_WATERMARK</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref978"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.GET_WATERMARK (
   wmvalue     IN      NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref979"></a>Parameters</p>
<div id="ARPLS74802" class="tblformal">
<p class="titleintable"><a id="sthref980"></a><a id="sthref981"></a>Table 25-33 GET_WATERMARK Procedure Parameter</p>
<table class="cellalignment4330" title="GET_WATERMARK Procedure Parameter" summary="This table describes the parameters of DBMS_AQADM.GET_WATERMARK" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t43">Parameter</th>
<th class="cellalignment4328" id="r1c2-t43">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t43" headers="r1c1-t43">
<p><code dir="ltr">wmvalue</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t43 r1c2-t43">
<p>Watermark value in megabytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65346" class="refsect2"><a id="i1016831"></a>
<h3 class="refsect2"><a id="sthref982"></a>GET_MAX_STREAMS_POOL Procedure</h3>
<p>This procedure retrieves the value of Oracle Database Advanced Queuing maximum streams pool memory limit.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref983"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.GET_MAX_STREAMS_POOL (
   value     OUT      NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref984"></a>Parameters</p>
<div id="ARPLS65347" class="tblformal">
<p class="titleintable"><a id="sthref985"></a><a id="sthref986"></a>Table 25-34 GET_MAX_STREAMS_POOL Procedure Parameter</p>
<table class="cellalignment4330" title="GET_MAX_STREAMS_POOL Procedure Parameter" summary="This table describes the parameters of DBMS_AQADM.GET_MAX_STREAMS_POOL." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t44">Parameter</th>
<th class="cellalignment4328" id="r1c2-t44">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t44" headers="r1c1-t44">
<p><code dir="ltr">value</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t44 r1c2-t44">
<p>Value in megabytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74803" class="refsect2"><a id="BABFEFIJ"></a>
<h3 class="refsect2"><a id="sthref987"></a>GET_MIN_STREAMS_POOL Procedure</h3>
<p>This procedure retrieves the value of Oracle Database Advanced Queuing minimum streams pool memory limit.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref988"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.GET_MIN_STREAMS_POOL (
   value     OUT      NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref989"></a>Parameters</p>
<div id="ARPLS74804" class="tblformal">
<p class="titleintable"><a id="sthref990"></a><a id="sthref991"></a>Table 25-35 GET_MIN_STREAMS_POOL Procedure Parameter</p>
<table class="cellalignment4330" title="GET_MIN_STREAMS_POOL Procedure Parameter" summary="This table describes the parameters of DBMS_AQADM.GET_MIN_STREAMS_POOL." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t45">Parameter</th>
<th class="cellalignment4328" id="r1c2-t45">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t45" headers="r1c1-t45">
<p><code dir="ltr">value</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t45 r1c2-t45">
<p>Value in megabytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS117" class="refsect2"><a id="i1014966"></a>
<h3 class="refsect2">GRANT_QUEUE_PRIVILEGE Procedure</h3>
<p>This procedure grants privileges on a queue to users and roles. The privileges are <code dir="ltr">ENQUEUE</code> or <code dir="ltr">DEQUEUE</code>. Initially, only the queue table owner can use this procedure to grant privileges on the queues.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref992"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.GRANT_QUEUE_PRIVILEGE (
   privilege        IN    VARCHAR2,
   queue_name       IN    VARCHAR2,
   grantee          IN    VARCHAR2,
   grant_option     IN    BOOLEAN := FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref993"></a>Parameters</p>
<div id="ARPLS65348" class="tblformal">
<p class="titleintable"><a id="sthref994"></a><a id="sthref995"></a>Table 25-36 GRANT_QUEUE_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment4330" title="GRANT_QUEUE_PRIVILEGE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.GRANT_QUEUE_PRIVILEGE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t46">Parameter</th>
<th class="cellalignment4328" id="r1c2-t46">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t46" headers="r1c1-t46">
<p><code dir="ltr">privilege</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t46 r1c2-t46">
<p>The Oracle Database Advanced Queuing queue privilege to grant. The options are <code dir="ltr">ENQUEUE</code>, <code dir="ltr">DEQUEUE</code>, and <code dir="ltr">ALL</code>. <code dir="ltr">ALL</code> means both <code dir="ltr">ENQUEUE</code> and <code dir="ltr">DEQUEUE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t46" headers="r1c1-t46">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t46 r1c2-t46">
<p>Name of the queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t46" headers="r1c1-t46">
<p><code dir="ltr">grantee</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t46 r1c2-t46">
<p>Grantee(s). The grantee(s) can be a user, a role, or the <code dir="ltr">PUBLIC</code> role.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t46" headers="r1c1-t46">
<p><code dir="ltr">grant_option</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t46 r1c2-t46">
<p>Specifies if the access privilege is granted with the <code dir="ltr">GRANT</code> option or not. If the privilege is granted with the <code dir="ltr">GRANT</code> option, then the grantee is allowed to use this procedure to grant the access privilege to other users or roles, regardless of the ownership of the queue table. The default is <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS115" class="refsect2"><a id="i1014912"></a>
<h3 class="refsect2">GRANT_SYSTEM_PRIVILEGE Procedure</h3>
<p>This procedure grants Oracle Database Advanced Queuing system privileges to users and roles. The privileges are <code dir="ltr">ENQUEUE_ANY</code>, <code dir="ltr">DEQUEUE_ANY</code>, and <code dir="ltr">MANAGE_ANY</code>. Initially, only <code dir="ltr">SYS</code> and <code dir="ltr">SYSTEM</code> can use this procedure successfully.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref996"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE (
   privilege         IN    VARCHAR2,
   grantee           IN    VARCHAR2,
   admin_option      IN    BOOLEAN := FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref997"></a>Parameters</p>
<div id="ARPLS65349" class="tblformal">
<p class="titleintable"><a id="sthref998"></a><a id="sthref999"></a>Table 25-37 GRANT_SYSTEM_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment4330" title="GRANT_SYSTEM_PRIVILEGE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.GRANT_SYSTEM_PRIVILEGE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t47">Parameter</th>
<th class="cellalignment4328" id="r1c2-t47">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t47" headers="r1c1-t47">
<p><code dir="ltr">privilege</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t47 r1c2-t47">
<p>The Oracle Database Advanced Queuing system privilege to grant. The options are <code dir="ltr">ENQUEUE_ANY</code>, <code dir="ltr">DEQUEUE_ANY</code>, and <code dir="ltr">MANAGE_ANY</code>. <code dir="ltr">ENQUEUE_ANY</code> means users granted this privilege are allowed to enqueue messages to any queues in the database. <code dir="ltr">DEQUEUE_ANY</code> means users granted this privilege are allowed to dequeue messages from any queues in the database. <code dir="ltr">MANAGE_ANY</code> means users granted this privilege are allowed to run <code dir="ltr">DBMS_AQADM</code> calls on any schemas in the database.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t47" headers="r1c1-t47">
<p><code dir="ltr">grantee</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t47 r1c2-t47">
<p>Grantee(s). The grantee(s) can be a user, a role, or the <code dir="ltr">PUBLIC</code> role.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t47" headers="r1c1-t47">
<p><code dir="ltr">admin_option</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t47 r1c2-t47">
<p>Specifies if the system privilege is granted with the <code dir="ltr">ADMIN</code> option or not.</p>
<p>If the privilege is granted with the <code dir="ltr">ADMIN</code> option, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles. The default is <code dir="ltr">FALSE</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS128" class="refsect2"><a id="i1014582"></a>
<h3 class="refsect2">MIGRATE_QUEUE_TABLE Procedure</h3>
<p>This procedure upgrades an 8.0-compatible queue table to an 8.1-compatible or higher queue table, or downgrades an 8.1-compatible or higher queue table to an 8.0-compatible queue table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1000"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.MIGRATE_QUEUE_TABLE (
   queue_table   IN   VARCHAR2,
   compatible    IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1001"></a>Parameters</p>
<div id="ARPLS65350" class="tblformal">
<p class="titleintable"><a id="sthref1002"></a><a id="sthref1003"></a>Table 25-38 MIGRATE_QUEUE_TABLE Procedure Parameters</p>
<table class="cellalignment4330" title="MIGRATE_QUEUE_TABLE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.MIGRATE_QUEUE_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t48">Parameter</th>
<th class="cellalignment4328" id="r1c2-t48">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t48" headers="r1c1-t48">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t48 r1c2-t48">
<p>Specifies name of the queue table to be migrated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t48" headers="r1c1-t48">
<p><code dir="ltr">compatible</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t48 r1c2-t48">
<p>Set this to <code dir="ltr">8.1</code> to upgrade an 8.0-compatible queue table, or set this to <code dir="ltr">8.0</code> to downgrade an 8.1-compatible queue table.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65351" class="refsect2"><a id="i1014013"></a>
<h3 class="refsect2"><a id="sthref1004"></a>PURGE_QUEUE_TABLE Procedure</h3>
<p>This procedure purges messages from queue tables. You can perform various purge operations on both single-consumer and multiconsumer queue tables for persistent and buffered messages.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1005"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.PURGE_QUEUE_TABLE(
   queue_table        IN   VARCHAR2,
   purge_condition    IN   VARCHAR2,
   purge_options      IN   aq$_purge_options_t);
</pre>
<p>where type <code dir="ltr">aq$_purge_options_t</code> is described in <a href="t_aq.htm#CBACJJJG">Chapter 271, &#34;Oracle Database Advanced Queuing (AQ) Types&#34;</a>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1006"></a>Parameters</p>
<div id="ARPLS65352" class="tblformal">
<p class="titleintable"><a id="sthref1007"></a><a id="CACJADHD"></a>Table 25-39 PURGE_QUEUE_TABLE Procedure Parameters</p>
<table class="cellalignment4330" title="PURGE_QUEUE_TABLE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.PURGE_QUEUE_TABLE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t49">Parameter</th>
<th class="cellalignment4328" id="r1c2-t49">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t49" headers="r1c1-t49">
<p><code dir="ltr">queue_table</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t49 r1c2-t49">
<p>Specifies the name of the queue table to be purged.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t49" headers="r1c1-t49">
<p><code dir="ltr">purge_condition</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t49 r1c2-t49">
<p>Specifies the purge condition to use when purging the queue table. The purge condition must be in the format of a SQL <code dir="ltr">WHERE</code> clause, and it is case-sensitive. The condition is based on the columns of <code dir="ltr">aq$queue_table_name</code> view.</p>
<p>When specifying the <code dir="ltr">purge_condition</code>, qualify the column names in <code dir="ltr">aq$queue_table_name</code> view with <code dir="ltr">qtview</code>.</p>
<p>To purge all queues in a queue table, set <code dir="ltr">purge_condition</code> to either <code dir="ltr">NULL</code> (a bare null word, no quotes) or<code dir="ltr">&#39;&#39;</code> (two single quotes).</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t49" headers="r1c1-t49">
<p><code dir="ltr">purge_options</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t49 r1c2-t49">
<p>Type <code dir="ltr">aq$_purge_options_t</code> contains a <code dir="ltr">block</code> parameter and a <code dir="ltr">delivery_mode</code> parameter.</p>
<ul>
<li>
<p>If <code dir="ltr">block</code> is <code dir="ltr">TRUE</code>, then an exclusive lock on all the queues in the queue table is held while purging the queue table. This will cause concurrent enqueuers and dequeuers to block while the queue table is purged. The purge call always succeeds if <code dir="ltr">block</code> is <code dir="ltr">TRUE</code>. The default for <code dir="ltr">block</code> is <code dir="ltr">FALSE</code>. This will not block enqueuers and dequeuers, but it can cause the purge to fail with an error during high concurrency times.</p>
</li>
<li>
<p><code dir="ltr">delivery_mode</code> is used to specify whether <code dir="ltr">DBMS_AQADM.PERSISTENT</code>, <code dir="ltr">DBMS_AQADM.BUFFERED</code> or <code dir="ltr">DBMS_AQADM.PERSISTENT_OR_BUFFERED</code> types of messages are to be purged. You cannot implement arbitrary purge conditions if buffered messages have to be purged.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1008"></a>Usage Notes</p>
<ul>
<li>
<p>You an purge selected messages from the queue table by specifying a purge_condition. <a href="#CACJADHD">Table 25-39</a> describes these parameters. Messages can be enqueued to and dequeued from the queue table while the queue table is being purged.</p>
</li>
<li>
<p>A trace file is generated in the <code dir="ltr">udump</code> destination when you run this procedure. It details what the procedure is doing.</p>
</li>
<li>
<p>This procedure commits batches of messages in autonomous transactions. Several such autonomous transactions may get executed as a part of one <code dir="ltr">purge_queue_table</code> call depending on the number of messages in the queue table.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65353" class="refsect2"><a id="i1016768"></a>
<h3 class="refsect2">QUEUE_SUBSCRIBERS Function</h3>
<p>This function returns the subscribers to an 8.0-compatible multiconsumer queue in the PL/SQL index by table collection type <code dir="ltr">DBMS_AQADM.AQ$_subscriber_list_t</code>. Each element of the collection is of type <code dir="ltr">sys.aq$_agent</code>. This functionality is provided for 8.1-compatible queues by the <code dir="ltr">AQ$</code><code dir="ltr"><span class="codeinlineitalic">queue_table_name</span></code><code dir="ltr">_S</code> view.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1009"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.QUEUE_SUBSCRIBERS (
   queue_name         IN         VARCHAR2);
RETURN aq$_subscriber_list_t IS
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1010"></a>Parameters</p>
<div id="ARPLS65354" class="tblformal">
<p class="titleintable"><a id="sthref1011"></a><a id="sthref1012"></a>Table 25-40 QUEUE_SUBSCRIBERS Function Parameters</p>
<table class="cellalignment4330" title="QUEUE_SUBSCRIBERS Function Parameters" summary="This table describes the parameters of DBMS_AQADM.QUEUE_SUBSCRIBERS." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t50">Parameter</th>
<th class="cellalignment4328" id="r1c2-t50">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t50" headers="r1c1-t50">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t50 r1c2-t50">
<p>Specifies the queue whose subscribers are to be printed.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS121" class="refsect2"><a id="i1015258"></a>
<h3 class="refsect2">REMOVE_SUBSCRIBER Procedure</h3>
<p>This procedure removes a default subscriber from a queue. This operation takes effect immediately, and the containing transaction is committed. All references to the subscriber in existing messages are removed as part of the operation.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1013"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.REMOVE_SUBSCRIBER (
   queue_name         IN         VARCHAR2,
   subscriber         IN         sys.aq$_agent);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1014"></a>Parameters</p>
<div id="ARPLS65355" class="tblformal">
<p class="titleintable"><a id="sthref1015"></a><a id="sthref1016"></a>Table 25-41 REMOVE_SUBSCRIBER Procedure Parameters</p>
<table class="cellalignment4330" title="REMOVE_SUBSCRIBER Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.REMOVE_SUBSCRIBER." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t51">Parameter</th>
<th class="cellalignment4328" id="r1c2-t51">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t51" headers="r1c1-t51">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t51 r1c2-t51">
<p>Name of the queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t51" headers="r1c1-t51">
<p><code dir="ltr">subscriber</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t51 r1c2-t51">
<p>Agent who is being removed. See <a href="t_aq.htm#i996895">AQ$_AGENT Type</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS118" class="refsect2"><a id="i1015021"></a>
<h3 class="refsect2">REVOKE_QUEUE_PRIVILEGE Procedure</h3>
<p>This procedure revokes privileges on a queue from users and roles. The privileges are <code dir="ltr">ENQUEUE</code> or <code dir="ltr">DEQUEUE</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1017"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE (
   privilege         IN      VARCHAR2,
   queue_name        IN      VARCHAR2,
   grantee           IN      VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1018"></a>Parameters</p>
<div id="ARPLS65356" class="tblformal">
<p class="titleintable"><a id="sthref1019"></a><a id="sthref1020"></a>Table 25-42 REVOKE_QUEUE_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment4330" title="REVOKE_QUEUE_PRIVILEGE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.REVOKE_QUEUE_PRIVILEGE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t52">Parameter</th>
<th class="cellalignment4328" id="r1c2-t52">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t52" headers="r1c1-t52">
<p><code dir="ltr">privilege</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t52 r1c2-t52">
<p>The Oracle Database Advanced Queuing queue privilege to revoke. The options are <code dir="ltr">ENQUEUE</code>, <code dir="ltr">DEQUEUE</code>, and <code dir="ltr">ALL</code>. <code dir="ltr">ALL</code> means both <code dir="ltr">ENQUEUE</code> and <code dir="ltr">DEQUEUE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t52" headers="r1c1-t52">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t52 r1c2-t52">
<p>Name of the queue.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t52" headers="r1c1-t52">
<p><code dir="ltr">grantee</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t52 r1c2-t52">
<p>Grantee(s). The grantee(s) can be a user, a role, or the <code dir="ltr">PUBLIC</code> role. If the privilege has been propagated by the grantee through the <code dir="ltr">GRANT</code> option, then the propagated privilege is also revoked.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1021"></a>Usage Notes</p>
<p>To revoke a privilege, the revoker must be the original grantor of the privilege. The privileges propagated through the <code dir="ltr">GRANT</code> option are revoked if the grantor&#39;s privileges are revoked.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS116" class="refsect2"><a id="i1015074"></a>
<h3 class="refsect2">REVOKE_SYSTEM_PRIVILEGE Procedure</h3>
<p>This procedure revokes Oracle Database Advanced Queuing system privileges from users and roles. The privileges are <code dir="ltr">ENQUEUE_ANY</code>, <code dir="ltr">DEQUEUE_ANY</code> and <code dir="ltr">MANAGE_ANY</code>. The <code dir="ltr">ADMIN</code> option for a system privilege cannot be selectively revoked.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1022"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE (
   privilege         IN   VARCHAR2,
   grantee           IN   VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1023"></a>Parameters</p>
<div id="ARPLS65357" class="tblformal">
<p class="titleintable"><a id="sthref1024"></a><a id="sthref1025"></a>Table 25-43 REVOKE_SYSTEM_PRIVILEGE Procedure Parameters</p>
<table class="cellalignment4330" title="REVOKE_SYSTEM_PRIVILEGE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.REVOKE_SYSTEM_PRIVILEGE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t53">Parameter</th>
<th class="cellalignment4328" id="r1c2-t53">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t53" headers="r1c1-t53">
<p><code dir="ltr">privilege</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t53 r1c2-t53">
<p>The Oracle Database Advanced Queuing system privilege to revoke. The options are <code dir="ltr">ENQUEUE_ANY</code>, <code dir="ltr">DEQUEUE_ANY</code>, and <code dir="ltr">MANAGE_ANY</code>. The <code dir="ltr">ADMIN</code> option for a system privilege cannot be selectively revoked.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t53" headers="r1c1-t53">
<p><code dir="ltr">grantee</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t53 r1c2-t53">
<p>Grantee(s). The grantee(s) can be a user, a role, or the <code dir="ltr">PUBLIC</code> role.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS122" class="refsect2"><a id="i1015306"></a>
<h3 class="refsect2"><a id="sthref1026"></a>SCHEDULE_PROPAGATION Procedure</h3>
<p>This procedure schedules propagation of messages from a queue to a destination identified by a specific database link.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1027"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.SCHEDULE_PROPAGATION (
   queue_name          IN    VARCHAR2,
   destination         IN    VARCHAR2 DEFAULT NULL,
   start_time          IN    DATE     DEFAULT SYSDATE,
   duration            IN    NUMBER   DEFAULT NULL,
   next_time           IN    VARCHAR2 DEFAULT NULL,
   latency             IN    NUMBER   DEFAULT 60,
   destination_queue   IN    VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1028"></a>Parameters</p>
<div id="ARPLS65358" class="tblformal">
<p class="titleintable"><a id="sthref1029"></a><a id="sthref1030"></a>Table 25-44 SCHEDULE_PROPAGATION Procedure Parameters</p>
<table class="cellalignment4330" title="SCHEDULE_PROPAGATION Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.SCHEDULE_PROPAGATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t54">Parameter</th>
<th class="cellalignment4328" id="r1c2-t54">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t54" headers="r1c1-t54">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t54 r1c2-t54">
<p>Name of the source queue whose messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the administrative user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t54" headers="r1c1-t54">
<p><code dir="ltr">destination</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t54 r1c2-t54">
<p>Destination database link. Messages in the source queue for recipients at this destination are propagated. If it is <code dir="ltr">NULL</code>, then the destination is the local database and messages are propagated to other queues in the local database. The length of this field is currently limited to 128 bytes, and if the name is not fully qualified, then the default domain name is used.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t54" headers="r1c1-t54">
<p><code dir="ltr">start_time</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t54 r1c2-t54">
<p>Initial start time for the propagation window for messages from the source queue to the destination.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t54" headers="r1c1-t54">
<p><code dir="ltr">duration</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t54 r1c2-t54">
<p>Duration of the propagation window in seconds. A <code dir="ltr">NULL</code> value means the propagation window is forever or until the propagation is unscheduled.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t54" headers="r1c1-t54">
<p><code dir="ltr">next_time</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t54 r1c2-t54">
<p>Date function to compute the start of the next propagation window from the end of the current window. If this value is <code dir="ltr">NULL</code>, then propagation is stopped at the end of the current window. For example, to start the window at the same time every day, next_time should be specified as <code dir="ltr">SYSDATE + 1 - duration/86400.</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t54" headers="r1c1-t54">
<p><code dir="ltr">latency</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t54 r1c2-t54">
<p>Maximum wait, in seconds, in the propagation window for a message to be propagated after it is enqueued.</p>
<p>For example, if the latency is 60 seconds and there are no messages to be propagated during the propagation window, then messages from that queue for the destination are not propagated for at least 60 more seconds.</p>
<p>It is at least 60 seconds before the queue is checked again for messages to be propagated for the specified destination. If the latency is 600, then the queue is not checked for 10 minutes, and if the latency is 0, then a job queue process will be waiting for messages to be enqueued for the destination. As soon as a message is enqueued, it is propagated.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t54" headers="r1c1-t54">
<p><code dir="ltr">destination_queue</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t54 r1c2-t54">
<p>Name of the target queue to which messages are to be propagated in the form of a <code dir="ltr">dblink</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1031"></a>Usage Notes</p>
<p>Messages may also be propagated to other queues in the same database by specifying a <code dir="ltr">NULL</code> destination. If a message has multiple recipients at the same destination in either the same or different queues, the message is propagated to all of them at the same time.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74805" class="refsect2"><a id="BABBJFJA"></a>
<h3 class="refsect2"><a id="sthref1032"></a>SET_WATERMARK Procedure</h3>
<p>This procedure is used for Oracle Database Advanced Queuing notification to specify and limit memory use.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1033"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.SET_WATERMARK (
   wmvalue     IN      NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1034"></a>Parameters</p>
<div id="ARPLS74806" class="tblformal">
<p class="titleintable"><a id="sthref1035"></a><a id="sthref1036"></a>Table 25-45 SET_WATERMARK Procedure Parameter</p>
<table class="cellalignment4330" title="SET_WATERMARK Procedure Parameter" summary="This table describes the parameters of DBMS_AQADM.SET_WATERMARK" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t55">Parameter</th>
<th class="cellalignment4328" id="r1c2-t55">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t55" headers="r1c1-t55">
<p><code dir="ltr">wmvalue</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t55 r1c2-t55">
<p>Watermark value in megabytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS65359" class="refsect2"><a id="i1016938"></a>
<h3 class="refsect2"><a id="sthref1037"></a>SET_MAX_STREAMS_POOL Procedure</h3>
<p>This procedure is used for Oracle Database Advanced Queuing to specify and limit maximum streams pool memory use.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1038"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.SET_MAX_STREAMS_POOL (
   value     IN      NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1039"></a>Parameters</p>
<div id="ARPLS65360" class="tblformal">
<p class="titleintable"><a id="sthref1040"></a><a id="sthref1041"></a>Table 25-46 SET_MAX_STREAMS_POOL Procedure Parameter</p>
<table class="cellalignment4330" title="SET_MAX_STREAMS_POOL Procedure Parameter" summary="This table describes the parameters of DBMS_AQADM.SET_MAX_STREAMS_POOL." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t56">Parameter</th>
<th class="cellalignment4328" id="r1c2-t56">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t56" headers="r1c1-t56">
<p><code dir="ltr">value</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t56 r1c2-t56">
<p>Value in megabytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74807" class="refsect2"><a id="BABFJBAH"></a>
<h3 class="refsect2"><a id="sthref1042"></a>SET_MIN_STREAMS_POOL Procedure</h3>
<p>This procedure is used for Oracle Database AQ to specify and limit minimum streams pool memory use.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1043"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.SET_MIN_STREAMS_POOL (
   value     IN      NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1044"></a>Parameters</p>
<div id="ARPLS74808" class="tblformal">
<p class="titleintable"><a id="sthref1045"></a><a id="sthref1046"></a>Table 25-47 SET_MIN_STREAMS_POOL Procedure Parameter</p>
<table class="cellalignment4330" title="SET_MIN_STREAMS_POOL Procedure Parameter" summary="This table describes the parameters of DBMS_AQADM.SET_MIN_STREAMS_POOL." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t57">Parameter</th>
<th class="cellalignment4328" id="r1c2-t57">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t57" headers="r1c1-t57">
<p><code dir="ltr">value</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t57 r1c2-t57">
<p>Value in megabytes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS113" class="refsect2"><a id="i1011806"></a>
<h3 class="refsect2">START_QUEUE Procedure</h3>
<p>This procedure enables the specified queue for enqueuing or dequeuing.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1047"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.START_QUEUE ( 
   queue_name      IN     VARCHAR2,
   enqueue         IN     BOOLEAN DEFAULT TRUE,
   dequeue         IN     BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1048"></a>Parameters</p>
<div id="ARPLS65361" class="tblformal">
<p class="titleintable"><a id="sthref1049"></a><a id="sthref1050"></a>Table 25-48 START_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="START_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.START_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t58">Parameter</th>
<th class="cellalignment4328" id="r1c2-t58">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t58" headers="r1c1-t58">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t58 r1c2-t58">
<p>Name of the queue to be enabled</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t58" headers="r1c1-t58">
<p><code dir="ltr">enqueue</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t58 r1c2-t58">
<p>Specifies whether <code dir="ltr">ENQUEUE</code> should be enabled on this queue. <code dir="ltr">TRUE</code> means enable <code dir="ltr">ENQUEUE</code>. This is the default. <code dir="ltr">FALSE</code> means do not alter the current setting.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t58" headers="r1c1-t58">
<p><code dir="ltr">dequeue</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t58 r1c2-t58">
<p>Specifies whether <code dir="ltr">DEQUEUE</code> should be enabled on this queue. <code dir="ltr">TRUE</code> means enable <code dir="ltr">DEQUEUE</code>. This is the default. <code dir="ltr">FALSE</code> means do not alter the current setting.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1051"></a>Usage Notes</p>
<p>After creating a queue, the administrator must use <code dir="ltr">START_QUEUE</code> to enable the queue. The default is to enable it for both <code dir="ltr">ENQUEUE</code> and <code dir="ltr">DEQUEUE</code>. Only dequeue operations are allowed on an exception queue. This operation takes effect when the call completes and does not have any transactional characteristics.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS114" class="refsect2"><a id="i1011844"></a>
<h3 class="refsect2">STOP_QUEUE Procedure</h3>
<p>This procedure disables enqueuing or dequeuing on the specified queue.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1052"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.STOP_QUEUE (   
   queue_name      IN   VARCHAR2,
   enqueue         IN   BOOLEAN DEFAULT TRUE,
   dequeue         IN   BOOLEAN DEFAULT TRUE,
   wait            IN   BOOLEAN DEFAULT TRUE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1053"></a>Parameters</p>
<div id="ARPLS65362" class="tblformal">
<p class="titleintable"><a id="sthref1054"></a><a id="sthref1055"></a>Table 25-49 STOP_QUEUE Procedure Parameters</p>
<table class="cellalignment4330" title="STOP_QUEUE Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.STOP_QUEUE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t59">Parameter</th>
<th class="cellalignment4328" id="r1c2-t59">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t59" headers="r1c1-t59">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t59 r1c2-t59">
<p>Name of the queue to be disabled</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t59" headers="r1c1-t59">
<p><code dir="ltr">enqueue</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t59 r1c2-t59">
<p>Specifies whether <code dir="ltr">ENQUEUE</code> should be disabled on this queue. <code dir="ltr">TRUE</code> means disable <code dir="ltr">ENQUEUE</code>. This is the default. <code dir="ltr">FALSE</code> means do not alter the current setting.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t59" headers="r1c1-t59">
<p><code dir="ltr">dequeue</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t59 r1c2-t59">
<p>Specifies whether <code dir="ltr">DEQUEUE</code> should be disabled on this queue. <code dir="ltr">TRUE</code> means disable <code dir="ltr">DEQUEUE</code>. This is the default. <code dir="ltr">FALSE</code> means do not alter the current setting.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t59" headers="r1c1-t59">
<p><code dir="ltr">wait</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t59 r1c2-t59">
<p>Specifies whether to wait for the completion of outstanding transactions. <code dir="ltr">TRUE</code> means wait if there are any outstanding transactions. In this state no new transactions are allowed to enqueue to or dequeue from this queue. <code dir="ltr">FALSE</code> means return immediately either with a success or an error.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1056"></a>Usage Notes</p>
<p>By default, this call disables both <code dir="ltr">ENQUEUE</code> and <code dir="ltr">DEQUEUE</code>. A queue cannot be stopped if there are outstanding transactions against the queue. This operation takes effect when the call completes and does not have any transactional characteristics.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS123" class="refsect2"><a id="i1014138"></a>
<h3 class="refsect2">UNSCHEDULE_PROPAGATION Procedure</h3>
<p>This procedure unschedules previously scheduled propagation of messages from a queue to a destination identified by a specific database link.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1057"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.UNSCHEDULE_PROPAGATION (
   queue_name         IN  VARCHAR2,
   destination        IN  VARCHAR2 DEFAULT NULL
   destination_queue  IN  VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1058"></a>Parameters</p>
<div id="ARPLS65363" class="tblformal">
<p class="titleintable"><a id="sthref1059"></a><a id="sthref1060"></a>Table 25-50 UNSCHEDULE_PROPAGATION Procedure Parameters</p>
<table class="cellalignment4330" title="UNSCHEDULE_PROPAGATION Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.UNSCHEDULE_PROPAGATION." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t60">Parameter</th>
<th class="cellalignment4328" id="r1c2-t60">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t60" headers="r1c1-t60">
<p><code dir="ltr">queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t60 r1c2-t60">
<p>Name of the source queue whose messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the administrative user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t60" headers="r1c1-t60">
<p><code dir="ltr">destination</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t60 r1c2-t60">
<p>Destination database link. Messages in the source queue for recipients at this destination are propagated. If it is <code dir="ltr">NULL</code>, then the destination is the local database and messages are propagated to other queues in the local database. The length of this field is currently limited to 128 bytes, and if the name is not fully qualified, then the default domain name is used.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t60" headers="r1c1-t60">
<p><code dir="ltr">destination_queue</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t60 r1c2-t60">
<p>Name of the target queue to which messages are to be propagated in the form of a <code dir="ltr">dblink</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS124" class="refsect2"><a id="i1012328"></a>
<h3 class="refsect2">VERIFY_QUEUE_TYPES Procedure</h3>
<p>This procedure verifies that the source and destination queues have identical types. The result of the verification is stored in the table <code dir="ltr">sys</code>.<code dir="ltr">aq$_message_types</code>, overwriting all previous output of this command.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1061"></a>Syntax</p>
<pre dir="ltr">DBMS_AQADM.VERIFY_QUEUE_TYPES (
   src_queue_name    IN    VARCHAR2,
   dest_queue_name   IN    VARCHAR2,
   destination       IN    VARCHAR2 DEFAULT NULL,
   rc                OUT   BINARY_INTEGER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref1062"></a>Parameters</p>
<div id="ARPLS65364" class="tblformal">
<p class="titleintable"><a id="sthref1063"></a><a id="sthref1064"></a>Table 25-51 VERIFY_QUEUE_TYPES Procedure Parameters</p>
<table class="cellalignment4330" title="VERIFY_QUEUE_TYPES Procedure Parameters" summary="This table describes the parameters of DBMS_AQADM.VERIFY_QUEUE_TYPES." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t61">Parameter</th>
<th class="cellalignment4328" id="r1c2-t61">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t61" headers="r1c1-t61">
<p><code dir="ltr">src_queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t61 r1c2-t61">
<p>Name of the source queue whose messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t61" headers="r1c1-t61">
<p><code dir="ltr">dest_queue_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t61 r1c2-t61">
<p>Name of the destination queue where messages are to be propagated, including the schema name. If the schema name is not specified, then it defaults to the schema name of the user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t61" headers="r1c1-t61">
<p><code dir="ltr">destination</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t61 r1c2-t61">
<p>Destination database link. Messages in the source queue for recipients at this destination are propagated. If it is <code dir="ltr">NULL</code>, then the destination is the local database and messages are propagated to other queues in the local database. The length of this field is currently limited to 128 bytes, and if the name is not fully qualified, then the default domain name is used.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t61" headers="r1c1-t61">
<p><code dir="ltr">rc</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t61 r1c2-t61">
<p>Return code for the result of the procedure. If there is no error, and if the source and destination queue types match, then the result is 1. If they do not match, then the result is 0. If an Oracle error is encountered, then it is returned in <code dir="ltr">rc</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_aq.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_aqelm.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
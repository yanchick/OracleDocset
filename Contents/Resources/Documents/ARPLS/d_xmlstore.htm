<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2401"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_XMLSTORE"></a><title>DBMS_XMLSTORE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:37:2Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_xmlstorage_man.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_xmltranslations.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">204/290</span> <!-- End Header -->
<div id="ARPLS801" class="chapter"><a id="CJGHEFID"></a> <a id="i1008591"></a>
<h1 class="chapter"><span class="secnum">200</span> DBMS_XMLSTORE</h1>
<p><a id="sthref15892"></a><code dir="ltr">DBMS_XMLSTORE</code> provides the ability to store XML data in relational tables.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADXDB" href="../ADXDB/toc.htm"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></div>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#CJGDBHAF">Using DBMS_XMLSTORE</a></p>
<ul>
<li>
<p>Security Model</p>
</li>
<li>
<p>Types</p>
</li>
</ul>
</li>
<li>
<p><a href="#i1049070">Summary of DBMS_XMLSTORE Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CJGDBHAF"></a>
<div id="ARPLS70080" class="refsect1">
<h2 class="refsect1">Using DBMS_XMLSTORE</h2>
<ul>
<li>
<p><a href="#CHDEIFHE">Security Model</a></p>
</li>
<li>
<p><a href="#i1045836">Types</a></p>
</li>
</ul>
<div id="ARPLS74021" class="refsect2"><a id="CHDEIFHE"></a>
<h3 class="refsect2">Security Model</h3>
<p>Owned by <code dir="ltr">XDB</code>, the <code dir="ltr">DBMS_XMLSTORE</code> package must be created by <code dir="ltr">SYS</code> or <code dir="ltr">XDB</code>. The <code dir="ltr">EXECUTE</code> privilege is granted to <code dir="ltr">PUBLIC</code>. Subprograms in this package are executed using the privileges of the current user.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS70081" class="refsect2"><a id="i1045836"></a>
<h3 class="refsect2"><a id="sthref15893"></a>Types</h3>
<div id="ARPLS70082" class="tblformal">
<p class="titleintable"><a id="sthref15894"></a><a id="sthref15895"></a>Table 200-1 <span class="bolditalic">Types of DBMS_XMLSTORE</span></p>
<table class="cellalignment4330" title="Types of DBMS_XMLSTORE" summary="This table describes Types used by DBMS_XMLSTORE subprograms." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Type</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ctxType</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>The type of the query context handle. This is the return type of <a href="#i1044980">NEWCONTEXT</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1049070"></a>
<div id="ARPLS70083" class="refsect1">
<h2 class="refsect1">Summary of DBMS_XMLSTORE Subprograms</h2>
<div id="ARPLS70084" class="tblformal">
<p class="titleintable"><a id="sthref15896"></a><a id="sthref15897"></a>Table 200-2 DBMS_XMLSTORE Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_XMLSTORE Package Subprograms" summary="This table lists the DBMS_XMLSTORE subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Method</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><a href="#i1048244">CLEARKEYCOLUMNLIST</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>Clears the key column list.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><a href="#i1048271">CLEARUPDATECOLUMNLIST</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p>Clears the update column list.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><a href="#i1048297">CLOSECONTEXT</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p>It closes/deallocates a particular save context.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t4" headers="r1c1-t4">
<p><a href="#i1048324">DELETEXML</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c2-t4">
<p>Deletes records specified by data from the XML document, from the table specified at the context creation time.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t4" headers="r1c1-t4">
<p><a href="#i1048381">INSERTXML</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t4 r1c2-t4">
<p>Inserts the XML document into the table specified at the context creation time.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t4" headers="r1c1-t4">
<p><a href="#i1044980">NEWCONTEXT</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t4 r1c2-t4">
<p>Creates a save context, and returns the context handle.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t4" headers="r1c1-t4">
<p><a href="#i1048810">SETKEYCOLUMN</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t4 r1c2-t4">
<p>This method adds a column to the key column list.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t4" headers="r1c1-t4">
<p><a href="#CJGJAFFC">SETROWTAG</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t4 r1c2-t4">
<p>Names the tag used in the XML document., to enclose the XML elements corresponding to the database.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t4" headers="r1c1-t4">
<p><a href="#CJGDEFEE">SETUPDATECOLUMN</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t4 r1c2-t4">
<p>Adds a column to the &#34;update column list&#34;.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t4" headers="r1c1-t4">
<p><a href="#CJGJHJEA">UPDATEXML</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t4 r1c2-t4">
<p>Updates the table given the XML document.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS70085" class="refsect2"><a id="i1048244"></a>
<h3 class="refsect2"><a id="sthref15898"></a><a id="sthref15899"></a>CLEARKEYCOLUMNLIST</h3>
<p>Clears the key column list.</p>
<p class="subhead2"><a id="ARPLS70086"></a>Syntax</p>
<pre dir="ltr">PROCEDURE clearKeyColumnList(
   ctxHdl IN ctxType);
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.CLEARKEYCOLUMNLIST subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Parameter</th>
<th class="cellalignment4328" id="r1c2-t5">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t5 r1c3-t5">Context handle.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70087" class="refsect2"><a id="i1048271"></a>
<h3 class="refsect2"><a id="sthref15900"></a><a id="sthref15901"></a>CLEARUPDATECOLUMNLIST</h3>
<p>Clears the update column list.</p>
<p class="subhead2"><a id="ARPLS70088"></a>Syntax</p>
<pre dir="ltr">PROCEDURE clearUpdateColumnList(
   ctxHdl IN ctxType);
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.CLEARUPDATECOLUMNLIST subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t6 r1c3-t6">Context handle.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70089" class="refsect2"><a id="i1048297"></a>
<h3 class="refsect2"><a id="sthref15902"></a><a id="sthref15903"></a>CLOSECONTEXT</h3>
<p>Closes/deallocates a particular save context.</p>
<p class="subhead2"><a id="ARPLS70090"></a>Syntax</p>
<pre dir="ltr">PROCEDURE closeContext(
   ctxHdl IN ctxType);
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.CLOSECONTEXT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t7 r1c3-t7">Context handle.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70091" class="refsect2"><a id="i1048324"></a>
<h3 class="refsect2"><a id="sthref15904"></a><a id="sthref15905"></a>DELETEXML</h3>
<p>Deletes records specified by data from the XML document from the table specified at the context creation time, and returns the number of rows deleted.</p>
<div class="inftblinformal">
<table class="cellalignment4327" title="INFORMATION TO BE REMOVED" summary="REMOVE FROM TABLE" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Syntax</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8"><code dir="ltr">FUNCTION deleteXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxPType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN VARCHAR2)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">Uses a <code dir="ltr">VARCHAR2</code> type for the <code dir="ltr">xDoc</code> parameter.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8"><code dir="ltr">FUNCTION deleteXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN CLOB)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">Uses a <code dir="ltr">CLOB</code> type for the <code dir="ltr">xDoc</code> parameter.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8"><code dir="ltr">FUNCTION deleteXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN XMLType)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">Uses an <code dir="ltr">XMLType</code> type for the <code dir="ltr">xDoc</code> parameter.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<pre dir="ltr"></pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.DELETEXML subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t9 r1c3-t9">Context handle.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9"><code dir="ltr">xDoc</code></td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r3c1-t9 r1c3-t9">String containing the XML document.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70092" class="refsect2"><a id="i1048381"></a>
<h3 class="refsect2"><a id="sthref15906"></a><a id="sthref15907"></a>INSERTXML</h3>
<p>Inserts the XML document into the table specified at the context creation time, and returns the number of rows inserted.</p>
<p>Note that if a user passes an XML file for insertXML to <code dir="ltr">DBMS_XMLSTORE</code> which contains extra elements (ones that do not match up to any columns in the table), Oracle will try to insert into those columns unless <a href="#CJGDEFEE">SETUPDATECOLUMN</a> is used. The use of setUpdateColumn is optional only if the elements in the XML file match up to the columns in the table.</p>
<div class="inftblinformal">
<table class="cellalignment4327" title="INFORMATION TO BE REMOVED FROM TABLE" summary="REMOVE FROM TABLE" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Syntax</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10"><code dir="ltr">FUNCTION insertXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN VARCHAR2)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">Passes in the <code dir="ltr">xDoc</code> parameter as a <code dir="ltr">VARCHAR2</code>.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10"><code dir="ltr">FUNCTION insertXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN CLOB)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">Passes in the <code dir="ltr">xDoc</code> parameter as a <code dir="ltr">CLOB</code>.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10"><code dir="ltr">FUNCTION insertXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN XMLType)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">Passes in the <code dir="ltr">xDoc</code> parameter as an <code dir="ltr">XMLType</code>.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<pre dir="ltr"></pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.INSERTXML subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t11 r1c3-t11">Context handle.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11"><code dir="ltr">xDoc</code></td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r3c1-t11 r1c3-t11">String containing the XML document.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70093" class="refsect2"><a id="i1044980"></a>
<h3 class="refsect2"><a id="sthref15908"></a><a id="sthref15909"></a>NEWCONTEXT</h3>
<p>Creates a save context, and returns the context handle.</p>
<p class="subhead2"><a id="ARPLS70094"></a>Syntax</p>
<pre dir="ltr">FUNCTION newContext(
   targetTable IN VARCHAR2)
RETURN ctxType;
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.NEWCONTEXT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12"><code dir="ltr">targetTable</code></td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t12 r1c3-t12">The target table into which to load the XML document.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70095" class="refsect2"><a id="i1048810"></a>
<h3 class="refsect2"><a id="sthref15910"></a><a id="sthref15911"></a>SETKEYCOLUMN</h3>
<p>This method adds a column to the &#34;key column list&#34;. The value for the column cannot be <code dir="ltr">NULL</code>. In case of update or delete, the columns in the key column list make up the <code dir="ltr">WHERE</code> clause of the statement. The key columns list must be specified before updates can complete; this is optional for delete operations</p>
<p class="subhead2"><a id="ARPLS70096"></a>Syntax</p>
<pre dir="ltr">PROCEDURE setKeyColumn( 
   ctxHdl IN ctxType,
   colName IN VARCHAR2);
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.SETKEYCOLUMN subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Parameter</th>
<th class="cellalignment4328" id="r1c2-t13">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t13 r1c3-t13">Context handle.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t13" headers="r1c1-t13"><code dir="ltr">colName</code></td>
<td class="cellalignment4329" headers="r3c1-t13 r1c2-t13"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r3c1-t13 r1c3-t13">Column to be added to the key column list; cannot be <code dir="ltr">NULL</code>.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70097" class="refsect2"><a id="CJGJAFFC"></a>
<h3 class="refsect2"><a id="sthref15912"></a><a id="sthref15913"></a>SETROWTAG</h3>
<p>Names the tag used in the XML document, to enclose the XML elements corresponding to database records.</p>
<p class="subhead2"><a id="ARPLS70098"></a>Syntax</p>
<pre dir="ltr">PROCEDURE setRowTag(
   ctxHdl IN ctxType,
   tag IN VARCHAR2);
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.SETROWTAG subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Parameter</th>
<th class="cellalignment4328" id="r1c2-t14">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t14 r1c3-t14">Context handle.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14"><code dir="ltr">tag</code></td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r3c1-t14 r1c3-t14">Tag name.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70099" class="refsect2"><a id="CJGDEFEE"></a>
<h3 class="refsect2"><a id="sthref15914"></a><a id="sthref15915"></a>SETUPDATECOLUMN</h3>
<p>Adds a column to the update column list. In case of insert, the default is to insert values to all the columns in the table; on the other hand, in case of updates, the default is to only update the columns corresponding to the tags present in the <code dir="ltr">ROW</code> element of the XML document. When the update column list is specified, the columns making up this list alone will get updated or inserted into.</p>
<p>Note that if a user passes an XML file for <a href="#i1048381">INSERTXML</a> to <code dir="ltr">DBMS_XMLSTORE</code> which contains extra elements (ones that do not match up to any columns in the table), Oracle will try to insert into those columns unless setUpdateColumn is used. The use of setUpdateColumn is optional only if the elements in the XML file match up to the columns in the table.</p>
<p class="subhead2"><a id="ARPLS70100"></a>Syntax</p>
<pre dir="ltr">PROCEDURE setUpdateColumn( 
   ctxHdl IN ctxType,
   colName IN VARCHAR2);
</pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.SETUPDATECOLUMN subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Parameter</th>
<th class="cellalignment4328" id="r1c2-t15">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t15 r1c3-t15">Context handle.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t15" headers="r1c1-t15"><code dir="ltr">colName</code></td>
<td class="cellalignment4329" headers="r3c1-t15 r1c2-t15"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r3c1-t15 r1c3-t15">Column to be added to the update column list.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS70101" class="refsect2"><a id="CJGJHJEA"></a>
<h3 class="refsect2"><a id="sthref15916"></a><a id="sthref15917"></a>UPDATEXML</h3>
<p>Updates the table specified at the context creation time with data from the XML document, and returns the number of rows updated. The options are described in the following table.</p>
<div class="inftblinformal">
<table class="cellalignment4327" title="INFORMATION TO BE REMOVED FROM TABLE" summary="REMOVE FROM TABLE" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Syntax</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16"><code dir="ltr">FUNCTION updateXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN VARCHAR2)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">Passes in the <code dir="ltr">xDoc</code> parameter as a <code dir="ltr">VARCHAR2</code>.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16"><code dir="ltr">FUNCTION updateXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN CLOB)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">Passes in the <code dir="ltr">xDoc</code> parameter as a <code dir="ltr">CLOB</code>.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t16" headers="r1c1-t16"><code dir="ltr">FUNCTION updateXML(</code>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;ctxHdl IN ctxType,</code></p>
<p><code dir="ltr">&nbsp;&nbsp;&nbsp;xDoc IN XMLType)</code></p>
<p><code dir="ltr">RETURN NUMBER;</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t16 r1c2-t16">Passes in the <code dir="ltr">xDoc</code> parameter as a <code dir="ltr">XMLType</code>.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<pre dir="ltr"></pre>
<div class="inftblinformal">
<table class="cellalignment4327" title="Parameters" summary="This table describes the Parameters of DBMS_XMLSTORE.UPDATEXML subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t17">Parameter</th>
<th class="cellalignment4328" id="r1c2-t17">IN / OUT</th>
<th class="cellalignment4328" id="r1c3-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t17" headers="r1c1-t17"><code dir="ltr">ctxHdl</code></td>
<td class="cellalignment4329" headers="r2c1-t17 r1c2-t17"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r2c1-t17 r1c3-t17">Context handle.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t17" headers="r1c1-t17"><code dir="ltr">xDoc</code></td>
<td class="cellalignment4329" headers="r3c1-t17 r1c2-t17"><code dir="ltr">(IN)</code></td>
<td class="cellalignment4329" headers="r3c1-t17 r1c3-t17">String containing the XML document.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_xmlstorage_man.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_xmltranslations.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
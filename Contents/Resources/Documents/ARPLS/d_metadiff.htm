<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2296"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_METADATA_DIFF"></a><title>DBMS_METADATA_DIFF</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:25Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_metada.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_mgd_id_utl.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">99/290</span> <!-- End Header -->
<div id="ARPLS354" class="chapter"><a id="CHEGCGCB"></a>
<h1 class="chapter"><span class="secnum">95</span> DBMS_METADATA_DIFF</h1>
<p>The <code dir="ltr">DBMS_METADATA_DIFF<a id="sthref5823"></a></code> package contains the interfaces for comparing two metadata documents in SXML format.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SUTIL" href="../SUTIL/toc.htm"><span class="italic">Oracle Database Utilities</span></a> for more information and for examples of using the Metadata API</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGAGHG">Using DBMS_METADATA_DIFF</a></p>
<ul>
<li>
<p><a href="#BABCDFHD">Overview</a></p>
</li>
<li>
<p><a href="#BABBJIEG">Security Model</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#BABBHFFG">Browsing APIs for Fetching and Comparing Objects</a></p>
</li>
<li>
<p><a href="#CHEGJBCA">Summary of DBMS_METADATA_DIFF Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BABGAGHG"></a>
<div id="ARPLS73146" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_METADATA_DIFF</h2>
<p>This section contains topics which relate to using the <code dir="ltr">DBMS_METADATA_DIFF</code> package.</p>
<ul>
<li>
<p><a href="#BABCDFHD">Overview</a></p>
</li>
<li>
<p><a href="#BABBJIEG">Security Model</a></p>
</li>
</ul>
<div id="ARPLS73147" class="refsect2"><a id="BABCDFHD"></a>
<h3 class="refsect2">Overview</h3>
<p>You can use the interfaces contained in the <code dir="ltr">DBMS_METADATA_DIFF<a id="sthref5824"></a></code> package to compare two metadata documents in SXML format. The result of the comparison is an SXML difference document. This document can be converted to other formats using the <code dir="ltr">DBMS_METADATA</code> submit interface and the <code dir="ltr">CONVERT</code> API.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73148" class="refsect2"><a id="BABBJIEG"></a>
<h3 class="refsect2">Security Model</h3>
<p>The browsing interface of the <code dir="ltr">DBMS_METADATA_DIFF</code> package actually uses the <code dir="ltr">DBMS_METADATA</code> package to fetch the metadata to be compared. Therefore, the security model used for <code dir="ltr">DBMS_METADATA</code> also applies to <code dir="ltr">DBMS_METADATA_DIFF</code>. (Note, however, that <code dir="ltr">DBMS_METADATA_DIFF</code> does not support all object types.)</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="d_metada.htm#BGBBIEGA">DBMS_METADATA</a> for information about the DBMS_METADATA security model</div>
</div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="BABBHFFG"></a>
<div id="ARPLS66915" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Browsing APIs for Fetching and Comparing Objects</h2>
<p>These functions allow you to compare the metadata for two objects with a single call.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5825"></a>Syntax</p>
<pre dir="ltr">DBMS_METADATA_DIFF.COMPARE_SXML(
object_type   IN VARCHAR2,
name1         IN VARCHAR2,
name2         IN VARCHAR2,
schema1       IN VARCHAR2 DEFAULT NULL,
schema2       IN VARCHAR2 DEFAULT NULL,
network_link1 IN VARCHAR2 DEFAULT NULL,
network_link2 IN VARCHAR2 DEFAULT NULL)
RETURN CLOB;

DBMS_METADATA_DIFF.COMPARE_ALTER(
object_type   IN VARCHAR2,
name1         IN VARCHAR2,
name2         IN VARCHAR2,
schema1       IN VARCHAR2 DEFAULT NULL,
schema2       IN VARCHAR2 DEFAULT NULL,
network_link1 IN VARCHAR2 DEFAULT NULL,
network_link2 IN VARCHAR2 DEFAULT NULL)
RETURN CLOB;

DBMS_METADATA_DIFF.COMPARE_ALTER_XML(
object_type   IN VARCHAR2,
name1         IN VARCHAR2,
name2         IN VARCHAR2,
schema1       IN VARCHAR2 DEFAULT NULL,
schema2       IN VARCHAR2 DEFAULT NULL,
network_link1 IN VARCHAR2 DEFAULT NULL,
network_link2 IN VARCHAR2 DEFAULT NULL)
RETURN CLOB;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5826"></a>Parameters</p>
<div id="ARPLS66916" class="tblhruleformal">
<p class="titleintable"><a id="sthref5827"></a><a id="sthref5828"></a>Table 95-1 COMPARE_xxx Function Parameters</p>
<table class="cellalignment4327" title="COMPARE_xxx Function Parameters" summary="This table describes the parameters of the DBMS_METADATA.ADD_TRANSFORM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Parameters</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">object_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>The type of object to be compared. Valid type names are <code dir="ltr">CLUSTER</code>, <code dir="ltr">CONTEXT</code>, <code dir="ltr">DB_LINK</code>, <code dir="ltr">FGA_POLICY</code>, <code dir="ltr">INDEX</code>, <code dir="ltr">MATERIALIZED_VIEW</code>, <code dir="ltr">MATERIALIZED_VIEW_LOG</code>, <code dir="ltr">QUEUE</code>, <code dir="ltr">QUEUE_TABLE</code>, <code dir="ltr">RLS_CONTEXT</code>, <code dir="ltr">RLS_GROUP</code>, <code dir="ltr">RLS_POLICY</code>, <code dir="ltr">ROLE</code>, <code dir="ltr">SEQUENCE</code>, <code dir="ltr">SYNONYM</code>, <code dir="ltr">TABLE</code>, <code dir="ltr">TABLESPACE</code>, <code dir="ltr">TRIGGER</code>, <code dir="ltr">TYPE</code>, <code dir="ltr">TYPE_SPEC</code>, <code dir="ltr">TYPE_BODY</code>, <code dir="ltr">USER</code>, and <code dir="ltr">VIEW</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">name1</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p>The name of the first object in the comparison.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">name2</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p>The name of the second object in the comparison.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t4" headers="r1c1-t4">
<p><code dir="ltr">schema1</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c2-t4">
<p>The schema of the first object in the comparison. The default is the current user.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t4" headers="r1c1-t4">
<p><code dir="ltr">schema2</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t4 r1c2-t4">
<p>The schema of the second object in the comparison. The default is the value of <code dir="ltr">schema1</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t4" headers="r1c1-t4">
<p><code dir="ltr">network_link1</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t4 r1c2-t4">
<p>The name of a database link to the database on which the first object resides. If NULL (the default), then the object is assumed to be in the database on which the caller is running.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t4" headers="r1c1-t4">
<p><code dir="ltr">network_link2</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t4 r1c2-t4">
<p>The name of a database link to the database on which the second object resides. The default is the value of <code dir="ltr">network_link1</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5829"></a>Return Values</p>
<p><code dir="ltr">DBMS_METADATA_DIFF.COMPARE_xxx</code> returns the differences between two objects.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5830"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">INVALID_ARGVAL</code></p>
<p>A <code dir="ltr">NULL</code> or invalid value was supplied for an input parameter. The error message text identifies the parameter.</p>
</li>
<li>
<p><code dir="ltr">OBJECT_NOT_FOUND</code></p>
<p>The specified object was not found in the database.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5831"></a>Usage Notes</p>
<p>These functions encapsulate calls to both <code dir="ltr">DBMS_METADATA</code> and <code dir="ltr">DBMS_METADATA_DIFF</code> functions and procedures to fetch the metadata for each of the two objects and compare them.</p>
<p>Which function you use depends on the comparison format you want:</p>
<ul>
<li>
<p><code dir="ltr">COMPARE_SXML</code> returns an SXML difference document.</p>
</li>
<li>
<p><code dir="ltr">COMPARE_ALTER</code> returns a set of <code dir="ltr">ALTER</code> statements for making the first object like the second object.</p>
</li>
<li>
<p><code dir="ltr">COMPARE_ALTER_XML</code> returns an <code dir="ltr">ALTER_XML</code> document.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" -->
<a id="CHEGJBCA"></a>
<div id="ARPLS66917" class="refsect1">
<h2 class="refsect1">Summary of DBMS_METADATA_DIFF Subprograms</h2>
<p>The <code dir="ltr">DBMS_METADATA_DIFF</code> subprograms are used to:</p>
<ul>
<li>
<p>Specify the type of objects to be compared</p>
</li>
<li>
<p>Specify the SXML documents to be compared</p>
</li>
<li>
<p>Show the differences between the compared documents</p>
</li>
<li>
<p>Clean up after the comparison</p>
</li>
</ul>
<p><a href="#CHEEJBCD">Table 95-2</a> provides a summary of <code dir="ltr">DBMS_METADATA_DIFF</code> subprograms.</p>
<div id="ARPLS66918" class="tblformal">
<p class="titleintable"><a id="sthref5832"></a><a id="CHEEJBCD"></a>Table 95-2 DBMS_METADATA_DIFF Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_METADATA_DIFF Package Subprograms " summary="This table lists the DBMS_METADATA subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><a href="#CHEIGFDG">OPENC Function</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>Specifies the type of objects to be compared</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><a href="#CHEGEICI">ADD_DOCUMENT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>Specifies an SXML document to be compared</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t5" headers="r1c1-t5">
<p><a href="#CHEHEAFJ">FETCH_CLOB Functions and Procedures</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c2-t5">
<p>Returns a CLOB showing the differences between the two documents specified by <code dir="ltr">ADD_DOCUMENT</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t5" headers="r1c1-t5">
<p><a href="#CHEEHABD">CLOSE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t5 r1c2-t5">
<p>Invalidates the handle returned by <code dir="ltr">OPENC</code> and cleans up associated state</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS66919" class="refsect2"><a id="CHEIGFDG"></a>
<h3 class="refsect2">OPENC Function<a id="sthref5833"></a></h3>
<p>This function specifies the type of objects to be compared. The return value is an opaque context handle.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5834"></a>Syntax</p>
<pre dir="ltr">DBMS_METADATA_DIFF.OPENC (
object_type  IN VARCHAR2)
RETURN NUMBER;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5835"></a>Parameters</p>
<div id="ARPLS66920" class="tblhruleformal">
<p class="titleintable"><a id="sthref5836"></a><a id="sthref5837"></a>Table 95-3 OPENC Function Parameters</p>
<table class="cellalignment4327" title="OPENC Function Parameters" summary="This table describes the parameters of the DBMS_METADATA.ADD_TRANSFORM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameters</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">object_type</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>The type of object to be compared. Valid type names are <code dir="ltr">CLUSTER</code>, <code dir="ltr">CONTEXT</code>, <code dir="ltr">DB_LINK</code>, <code dir="ltr">FGA_POLICY</code>, <code dir="ltr">INDEX</code>, <code dir="ltr">MATERIALIZED_VIEW</code>, <code dir="ltr">MATERIALIZED_VIEW_LOG</code>, <code dir="ltr">QUEUE</code>, <code dir="ltr">QUEUE_TABLE</code>, <code dir="ltr">RLS_CONTEXT</code>, <code dir="ltr">RLS_GROUP</code>, <code dir="ltr">RLS_POLICY</code>, <code dir="ltr">ROLE</code>, <code dir="ltr">SEQUENCE</code>, <code dir="ltr">SYNONYM</code>, <code dir="ltr">TABLE</code>, <code dir="ltr">TABLESPACE</code>, <code dir="ltr">TRIGGER</code>, <code dir="ltr">TYPE</code>, <code dir="ltr">TYPE_SPEC</code>, <code dir="ltr">TYPE_BODY</code>, <code dir="ltr">USER</code>, and <code dir="ltr">VIEW</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5838"></a>Return Values</p>
<p>The opaque handle that is returned is used as input to <code dir="ltr">ADD_DOCUMENT</code>, <code dir="ltr">FETCH_xxx</code> and <code dir="ltr">CLOSE</code>.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5839"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">INVALID_ARGVAL</code></p>
<p>A <code dir="ltr">NULL</code> or invalid value was supplied for an input parameter. The error message text identifies the parameter.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66921" class="refsect2"><a id="CHEGEICI"></a>
<h3 class="refsect2">ADD_DOCUMENT Procedure<a id="sthref5840"></a></h3>
<p>This procedure specifies an SXML document that is to be compared.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5841"></a>Syntax</p>
<pre dir="ltr">DBMS_METADATA_DIFF.ADD_DOCUMENT(
handle IN NUMBER, document IN sys.XMLType);

DBMS_METADATA_DIFF.ADD_DOCUMENT(
handle IN NUMBER, document IN CLOB);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5842"></a>Parameters</p>
<div id="ARPLS66922" class="tblhruleformal">
<p class="titleintable"><a id="sthref5843"></a><a id="sthref5844"></a>Table 95-4 CLOSE Procedure Parameters</p>
<table class="cellalignment4327" title="CLOSE Procedure Parameters" summary="This table describes the parameters of the DBMS_METADATA.CLOSE subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">handle</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>The handle returned from <code dir="ltr">OPENC</code></p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">document</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>A document to be compared. The document must be of the type specified in <code dir="ltr">OPENC</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5845"></a>Usage Notes</p>
<p>Because the comparison interface allows you to compare exactly two SXML documents, a program must call <code dir="ltr">ADD_DOCUMENT</code> exactly twice for each <code dir="ltr">OPENC</code> handle. In the comparison result, the document specified by the first call is document 1, and the document specified by the second call is document 2.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5846"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">INVALID_ARGVAL</code></p>
<p>A <code dir="ltr">NULL</code> or invalid value was supplied for an input parameter. The error message text identifies the parameter.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66923" class="refsect2"><a id="CHEHEAFJ"></a>
<h3 class="refsect2">FETCH_CLOB Functions and Procedures<a id="sthref5847"></a></h3>
<p>The <code dir="ltr">FETCH_CLOB</code> functions and procedures return a CLOB showing the differences between the two documents specified by <code dir="ltr">ADD_DOCUMENT</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5848"></a>Syntax</p>
<pre dir="ltr">DBMS_METADATA_DIFF.FETCH_CLOB(
handle IN NUMBER)
RETURN CLOB;

DBMS_METADATA_DIFF.FETCH_CLOB(
</pre>
<pre dir="ltr">handle IN  NUMBER, 
doc    IN  OUT NOCOPY CLOB);

DBMS_METADATA_DIFF.FETCH_CLOB(
handle IN  NUMBER, 
doc    IN  OUT NOCOPY CLOB 
diffs  OUT BOOLEAN);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5849"></a>Parameters</p>
<div id="ARPLS66924" class="tblformal">
<p class="titleintable"><a id="sthref5850"></a><a id="sthref5851"></a>Table 95-5 CONVERT Subprogram Parameters</p>
<table class="cellalignment4330" title="CONVERT Subprogram Parameters" summary="This table describes the parameters of the DBMS_METADATA.CONVERT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">handle</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>The handle returned from <code dir="ltr">OPENC</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">doc</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>A CLOB containing the differences between documents 1 and 2.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">diffs</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t8 r1c2-t8">
<p><code dir="ltr">TRUE</code> if the documents are different or <code dir="ltr">FALSE</code> if they are identical.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5852"></a>Return Values</p>
<p>The differences between documents 1 and 2.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5853"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">INVALID_ARGVAL</code></p>
<p>A <code dir="ltr">NULL</code> or invalid value was supplied for an input parameter. The error message text identifies the parameter.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66925" class="refsect2"><a id="CHEEHABD"></a>
<h3 class="refsect2">CLOSE Procedure</h3>
<p>This procedure invalidates the handle returned by <code dir="ltr">OPENC</code> and cleans up associated state.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5854"></a>Syntax</p>
<pre dir="ltr">DBMS_METADATA_DIFF.CLOSE(
handle IN NUMBER);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5855"></a>Parameters</p>
<div id="ARPLS66926" class="tblhruleformal">
<p class="titleintable"><a id="sthref5856"></a><a id="sthref5857"></a>Table 95-6 FETCH_xxx Function Parameters</p>
<table class="cellalignment4327" title="FETCH_xxx Function Parameters" summary="This table describes the parameters of the DBMS_METADATA.FETCH subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameters</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">handle</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>The handle returned from <code dir="ltr">OPENC</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref5858"></a>Exceptions</p>
<ul>
<li>
<p><code dir="ltr">INVALID_ARGVAL</code></p>
<p>A <code dir="ltr">NULL</code> or invalid value was supplied for an input parameter. The error message text identifies the parameter.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_metada.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_mgd_id_utl.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
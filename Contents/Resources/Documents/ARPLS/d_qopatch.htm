<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2319"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_QOPATCH"></a><title>DBMS_QOPATCH</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:28Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_prop_a.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_random.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">122/290</span> <!-- End Header -->
<div id="ARPLS74834" class="chapter"><a id="CEGJDFIH"></a>
<h1 class="chapter"><span class="secnum">118</span> DBMS_QOPATCH</h1>
<p>The <code dir="ltr">DBMS_QOPATCH</code> package provides an interface to view the installed database patches.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CBHEBGIB">Using DBMS_QOPATCH</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Operational Notes</p>
</li>
<li>
<p>Exceptions</p>
</li>
</ul>
</li>
<li>
<p><a href="#CBHDBJBE">Summary of DBMS_QOPATCH Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CBHEBGIB"></a>
<div id="ARPLS74835" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_QOPATCH</h2>
<ul>
<li>
<p><a href="#CBHGJIAI">Overview</a></p>
</li>
<li>
<p><a href="#CBHJDEAG">Security Model</a>l</p>
</li>
<li>
<p><a href="#CEGIFCHH">Operational Notes</a></p>
</li>
<li>
<p><a href="#CEGGDBAH">Error Messages</a></p>
</li>
</ul>
<div id="ARPLS74836" class="refsect2"><a id="CBHGJIAI"></a>
<h3 class="refsect2">Overview</h3>
<p>The <code dir="ltr">DBMS_QOPATCH</code> package provides a PLSQL/SQL interface to view the installed database patches. The interface provides all the patch information available as part of the <code dir="ltr">OPATCH LSINVENTORY -XML</code> command. The package accesses the OUI patch inventory in real time to provide patch and meta-information.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74837" class="refsect2"><a id="CBHJDEAG"></a>
<h3 class="refsect2">Security Model</h3>
<p>The <code dir="ltr">DBMS_QOPATCH</code> package is created as part of SYS schema and SYS is the only user who can execute these subprograms.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74912" class="refsect2"><a id="CEGIFCHH"></a>
<h3 class="refsect2">Operational Notes</h3>
<ul>
<li>
<p>The package will work only if the database is <code dir="ltr">OPEN</code>.</p>
</li>
<li>
<p>In an Oracle Real Application Clusters (RAC) environment, if the subprogram requires to fetch data from other RAC nodes it spawns a job in the other node(s) to get the data. In this case <code dir="ltr">JOB_QUEUE_PROCESSES</code> needs to be <code dir="ltr">&gt;0</code> for the package to fetch the data from other RAC nodes.</p>
</li>
<li>
<p>If there is a delay in the job execution, the package returns <code dir="ltr">ORA-20008</code> error.</p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74913" class="refsect2"><a id="CEGGDBAH"></a>
<h3 class="refsect2">Error Messages</h3>
<p>The following table lists the exceptions raised by the <code dir="ltr">DBMS_QOPATCH</code> package.</p>
<div id="ARPLS74914" class="tblformal">
<p class="titleintable"><a id="sthref7219"></a><a id="sthref7220"></a>Table 118-1 DBMS_QOPATCH Error Messages</p>
<table class="cellalignment4330" title="DBMS_QOPATCH Error Messages" summary="Exceptions Raised by DBMS_QOPATCH" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t2">Error Code</th>
<th class="cellalignment4328" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20001</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t2 r1c2-t2">
<p>Latest XML inventory is not loaded into table.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20002</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t2 r1c2-t2">
<p>Directory creation failed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20003</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t2 r1c2-t2">
<p>Configuration of a job on a node failed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20004</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t2 r1c2-t2">
<p>Job configuration failed as node is inactive.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20005</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t2 r1c2-t2">
<p>Job is not configured with given node, instance name.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20006</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t2 r1c2-t2">
<p>Number of RAC active instances and opatch jobs configured are not same.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20007</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t2 r1c2-t2">
<p>Job configuration failed as node or instance is not active.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20008</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t2 r1c2-t2">
<p>Timed out - job execution time is more than 120Secs.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20009</code></p>
</td>
<td class="cellalignment4329" headers="r10c1-t2 r1c2-t2">
<p>Job execution failed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20010</code></p>
</td>
<td class="cellalignment4329" headers="r11c1-t2 r1c2-t2">
<p>Node is inactive and job cannot be executed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20011</code></p>
</td>
<td class="cellalignment4329" headers="r12c1-t2 r1c2-t2">
<p>Job name is <code dir="ltr">NULL</code> and inventory cannot be loaded.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20012</code></p>
</td>
<td class="cellalignment4329" headers="r13c1-t2 r1c2-t2">
<p><code dir="ltr">JOB_QUEUE_PROCESSES</code> is set to zero and the inventory cannot be loaded.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20013</code></p>
</td>
<td class="cellalignment4329" headers="r14c1-t2 r1c2-t2">
<p><code dir="ltr">DBMS_QOPATCH</code> ran mostly in non-install area.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20014</code></p>
</td>
<td class="cellalignment4329" headers="r15c1-t2 r1c2-t2">
<p>Database is not opened.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t2" headers="r1c1-t2">
<p><code dir="ltr">ORA-20015</code></p>
</td>
<td class="cellalignment4329" headers="r16c1-t2 r1c2-t2">
<p>Database opened as read-only.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CBHDBJBE"></a>
<div id="ARPLS74838" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_QOPATCH Subprograms</h2>
<div id="ARPLS74839" class="tblformal">
<p class="titleintable"><a id="sthref7221"></a><a id="sthref7222"></a>Table 118-2 DBMS_QOPATCH Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_QOPATCH Package Subprograms" summary="DBMS_XYZ Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#CEGGFIAA">GET_OPATCH_BUGS Function</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>Provides a bugs list for a patch in XML format if the patch number is given. If patch is not given then it lists all the bugs installed in all the patches in XML format.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#CEGCCBJC">GET_OPATCH_COUNT Function</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>Provides the total number of installed patches in XML format</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#CEGHCFBA">GET_OPATCH_DATA Function</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p>Provides top level patch information for the patch (such as Patch ID, patch creation time) in the XML element</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#CEGCBFGF">GET_OPATCH_FILES Function</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>Provides the list of files modified in the given patch number in XML format</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#CEGGJJDB">GET_OPATCH_INSTALL_INFO Function</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p>Returns the XML element containing the <code dir="ltr">ORACLE_HOME</code> details such as patch and inventory location</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#CEGGCEGG">GET_OPATCH_LIST Function</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>Provides list of patches installed as an XML element from the XML inventory</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><a href="#CEGJFJGB">GET_OPATCH_LSINVENTORY</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p>Returns whole opatch inventory as XML instance document.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><a href="#CEGJEJDI">GET_OPATCH_OLAYS Function</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p>Provides overlay patches for a given patch as XML element</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t3" headers="r1c1-t3">
<p><a href="#CEGDDDIF">GET_OPATCH_PREQS Function</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c2-t3">
<p>Provides prerequisite patches for a given patch as XML element</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t3" headers="r1c1-t3">
<p><a href="#CEGFEHCI">GET_OPATCH_XSLT</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c2-t3">
<p>Returns the style-sheet for the opatch XML inventory presentation</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r12c1-t3" headers="r1c1-t3">
<p><a href="#CEGEEEBJ">GET_PENDING_ACTIVITY Function</a></p>
</td>
<td class="cellalignment4329" headers="r12c1-t3 r1c2-t3">
<p>Returns the information related to SQL patches applied on a single instance by querying the binary inventory</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r13c1-t3" headers="r1c1-t3">
<p><a href="#CEGDEHCC">GET_SQLPATCH_STATUS Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r13c1-t3 r1c2-t3">
<p>Displays the SQL patch status by querying from SQL patch registry to produce complete patch level information</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r14c1-t3" headers="r1c1-t3">
<p><a href="#CEGEECEB">IS_PATCH_INSTALLED Function</a></p>
</td>
<td class="cellalignment4329" headers="r14c1-t3 r1c2-t3">
<p>Provides information (such as patchID, application date, and SQL patch information) on the installed patch as XML node by querying the XML inventory</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r15c1-t3" headers="r1c1-t3">
<p><a href="#CEGCAABG">PATCH_CONFLICT_DETECTION Function</a></p>
</td>
<td class="cellalignment4329" headers="r15c1-t3 r1c2-t3">
<p>Returns the conflicting patch for a given file, if it conflicts with an existing patch</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r16c1-t3" headers="r1c1-t3">
<p><a href="#CEGFGAGF">SET_CURRENT_OPINST Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r16c1-t3 r1c2-t3">
<p>Sets the node name and instance to get the inventory details specific to it in an Oracle Real Application Clusters (RAC) environment</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS74915" class="refsect2"><a id="CEGGFIAA"></a>
<h3 class="refsect2"><a id="sthref7223"></a>GET_OPATCH_BUGS Function</h3>
<p>This function provides a bugs list in a patch if the patch number is given. If a patch number is not given, it lists all the bugs in the specified XML format.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7224"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_BUGS (
   patchnum IN VARCHAR2 DEFAULT NULL);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7225"></a>Parameters</p>
<div id="ARPLS74916" class="tblformal">
<p class="titleintable"><a id="sthref7226"></a><a id="sthref7227"></a>Table 118-3 GET_OPATCH_BUGS Function Parameters</p>
<table class="cellalignment4330" title="GET_OPATCH_BUGS Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_BUGS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Parameter</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74917" class="refsect2"><a id="CEGCCBJC"></a>
<h3 class="refsect2"><a id="sthref7228"></a>GET_OPATCH_COUNT Function</h3>
<p>This function provides the total number of installed patches in XML format.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7229"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_COUNT (
   patchnum IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7230"></a>Parameters</p>
<div id="ARPLS74918" class="tblformal">
<p class="titleintable"><a id="sthref7231"></a><a id="sthref7232"></a>Table 118-4 GET_OPATCH_COUNT Function Parameters</p>
<table class="cellalignment4330" title="GET_OPATCH_COUNT Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_COUNT subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Parameter</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74919" class="refsect2"><a id="CEGHCFBA"></a>
<h3 class="refsect2"><a id="sthref7233"></a>GET_OPATCH_DATA Function</h3>
<p>This function provides top level patch information for the patch (such as Patch ID, patch creation time) in the XML element.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7234"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_DATA (
   patchnum IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7235"></a>Parameters</p>
<div id="ARPLS74920" class="tblformal">
<p class="titleintable"><a id="sthref7236"></a><a id="sthref7237"></a>Table 118-5 GET_OPATCH_DATA Function Parameters</p>
<table class="cellalignment4330" title="GET_OPATCH_DATA Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_DATA subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74921" class="refsect2"><a id="CEGCBFGF"></a>
<h3 class="refsect2"><a id="sthref7238"></a>GET_OPATCH_FILES Function</h3>
<p>This function provides the list of files modified in the given patch number in XML format.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7239"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_FILES (
   patchnum IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7240"></a>Parameters</p>
<div id="ARPLS74922" class="tblformal">
<p class="titleintable"><a id="sthref7241"></a><a id="sthref7242"></a>Table 118-6 GET_OPATCH_FILES Function Parameters</p>
<table class="cellalignment4330" title="GET_OPATCH_FILES Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_FILES subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74840" class="refsect2"><a id="CEGGJJDB"></a>
<h3 class="refsect2"><a id="sthref7243"></a>GET_OPATCH_INSTALL_INFO Function</h3>
<p>This function returns the XML element containing the <code dir="ltr">ORACLE_HOME</code> details such as patch and inventory location.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7244"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_INSTALL_INFO
 RETURNS XMLTYPE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74923" class="refsect2"><a id="CEGGCEGG"></a>
<h3 class="refsect2"><a id="sthref7245"></a>GET_OPATCH_LIST Function</h3>
<p>This function provides list of patches installed as an XML element from the XML inventory.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7246"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_LIST
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74924" class="refsect2"><a id="CEGJFJGB"></a>
<h3 class="refsect2"><a id="sthref7247"></a>GET_OPATCH_LSINVENTORY</h3>
<p>This function returns whole opatch inventory as XML instance document.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7248"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_LSINVENTORY
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74925" class="refsect2"><a id="CEGJEJDI"></a>
<h3 class="refsect2"><a id="sthref7249"></a>GET_OPATCH_OLAYS Function</h3>
<p>This function provides overlay patches for a given patch as XML element.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7250"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_OLAYS (
   patchnum IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7251"></a>Parameters</p>
<div id="ARPLS74926" class="tblformal">
<p class="titleintable"><a id="sthref7252"></a><a id="sthref7253"></a>Table 118-7 GET_OPATCH_OLAYS Function Parameters</p>
<table class="cellalignment4330" title="GET_OPATCH_OLAYS Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_OLAYS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74927" class="refsect2"><a id="CEGDDDIF"></a>
<h3 class="refsect2"><a id="sthref7254"></a>GET_OPATCH_PREQS Function</h3>
<p>This function provides prerequisite patches for a given patch as XML element.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7255"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_PREQS (
   patchnum IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7256"></a>Parameters</p>
<div id="ARPLS74928" class="tblformal">
<p class="titleintable"><a id="sthref7257"></a><a id="sthref7258"></a>Table 118-8 GET_OPATCH_PREQS Function Parameters</p>
<table class="cellalignment4330" title="GET_OPATCH_PREQS Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_OPATCH_FILES subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74929" class="refsect2"><a id="CEGFEHCI"></a>
<h3 class="refsect2"><a id="sthref7259"></a>GET_OPATCH_XSLT</h3>
<p>This function returns the style-sheet for the opatch XML inventory presentation. You can use the return type of this subprogram to perform XMLTRANSFORM and the transformed result has the same appearance as opatch text output.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7260"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_OPATCH_XSLT
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74930" class="refsect2"><a id="CEGEEEBJ"></a>
<h3 class="refsect2"><a id="sthref7261"></a>GET_PENDING_ACTIVITY Function</h3>
<p>This function returns the information related to SQL patches applied on a single instance by querying the binary inventory. If this is Oracle Real Application Clusters (RAC) system, it will list the node names where the SQL patch is not applied.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7262"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_PENDING_ACTIVITY
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74931" class="refsect2"><a id="CEGDEHCC"></a>
<h3 class="refsect2"><a id="sthref7263"></a>GET_SQLPATCH_STATUS Procedure</h3>
<p>This procedure displays the SQL patch status by querying from SQL patch registry to produce complete patch level information. If the patch number is given, it displays the information specific to the given SQL patch, otherwise information for all SQL patches.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7264"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.GET_SQLPATCH_STATUS (
   patchnum IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7265"></a>Parameters</p>
<div id="ARPLS74932" class="tblformal">
<p class="titleintable"><a id="sthref7266"></a><a id="sthref7267"></a>Table 118-9 GET_SQLPATCH_STATUS Procedure Parameters</p>
<table class="cellalignment4330" title="GET_SQLPATCH_STATUS Procedure Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.GET_SQLPATCH_STATUS subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74933" class="refsect2"><a id="CEGEECEB"></a>
<h3 class="refsect2"><a id="sthref7268"></a>IS_PATCH_INSTALLED Function</h3>
<p>This function provides information (such as patchID, application date, and SQL patch information) on the installed patch as XML node by querying the XML inventory.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7269"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.IS_PATCH_INSTALLED (
   patchnum IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7270"></a>Parameters</p>
<div id="ARPLS74934" class="tblformal">
<p class="titleintable"><a id="sthref7271"></a><a id="sthref7272"></a>Table 118-10 IS_PATCH_INSTALLED Function Parameters</p>
<table class="cellalignment4330" title="IS_PATCH_INSTALLED Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.IS_PATCH_INSTALLED subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">patchnum</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>Patch number</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74935" class="refsect2"><a id="CEGCAABG"></a>
<h3 class="refsect2"><a id="sthref7273"></a>PATCH_CONFLICT_DETECTION Function</h3>
<p>This function returns the conflicting patch for a given file, if it conflicts with an existing patch.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7274"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.PATCH_CONFLICT_DETECTION (
   fileName  IN VARCHAR2);
 RETURN XMLTYPE;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7275"></a>Parameters</p>
<div id="ARPLS74936" class="tblformal">
<p class="titleintable"><a id="sthref7276"></a><a id="sthref7277"></a>Table 118-11 PATCH_CONFLICT_DETECTION Function Parameters</p>
<table class="cellalignment4330" title="PATCH_CONFLICT_DETECTION Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.PATCH_CONFLICT_DETECTION subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">fileName</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>File name</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74841" class="refsect2"><a id="CEGFGAGF"></a>
<h3 class="refsect2"><a id="sthref7278"></a>SET_CURRENT_OPINST Procedure</h3>
<p>This procedure sets the node name and instance to get the inventory details specific to it in an Oracle Real Application Clusters (RAC) environment.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7279"></a>Syntax</p>
<pre dir="ltr">DBMS_QOPATCH.SET_CURRENT_OPINST (
   node_name    IN VARCHAR2 DEFAULT NULL,
   inst_name    IN VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref7280"></a>Parameters</p>
<div id="ARPLS74937" class="tblformal">
<p class="titleintable"><a id="sthref7281"></a><a id="sthref7282"></a>Table 118-12 PATCH_CONFLICT_DETECTION Function Parameters</p>
<table class="cellalignment4330" title="PATCH_CONFLICT_DETECTION Function Parameters" summary="This table describes Parameters used by the DBMS_QOPATCH.PATCH_CONFLICT_DETECTION subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Parameter</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">node_name</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>Name of node</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">inst_name</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t13 r1c2-t13">
<p>Name of instance</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_prop_a.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_random.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
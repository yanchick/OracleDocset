<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2285"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_JOB"></a><title>DBMS_JOB</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:21Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_java.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_ldap.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">88/290</span> <!-- End Header -->
<div id="ARPLS019" class="chapter"><a id="BABHCBFD"></a>
<h1 class="chapter"><span class="secnum">84</span> DBMS_JOB</h1>
<p>The <code dir="ltr"><a id="sthref4893"></a>DBMS_JOB</code> package schedules and manages jobs in the job queue.</p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
The <code dir="ltr">DBMS_JOB</code> package has been superseded by the <code dir="ltr">DBMS_SCHEDULER</code> package. In particular, if you are administering jobs to manage system load, you should consider disabling <code dir="ltr">DBMS_JOB</code> by revoking the package execution privilege for users.
<p>For more information, see <a href="d_sched.htm#CIHHBGGI">Chapter 140, &#34;DBMS_SCHEDULER&#34;</a> and <a class="olink ADMIN11002" href="../ADMIN/appendix_a.htm#ADMIN11002">&#34;Moving from <code dir="ltr">DBMS_JOB</code> to <code dir="ltr">DBMS_SCHEDULER</code>&#34;</a> in <a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide.</span></a></p>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABBICAJ">Using DBMS_JOB</a></p>
<ul>
<li>
<p>Security Model</p>
</li>
<li>
<p>Operational Notes</p>
</li>
</ul>
</li>
<li>
<p><a href="#i1000390">Summary of DBMS_JOB Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="BABBICAJ"></a>
<div id="ARPLS66558" class="refsect1">
<h2 class="refsect1">Using DBMS_JOB</h2>
<ul>
<li>
<p><a href="#i996758">Security Model</a></p>
</li>
<li>
<p><a href="#i1001473">Operational Notes</a></p>
</li>
</ul>
<div id="ARPLS66559" class="refsect2"><a id="i996758"></a>
<h3 class="refsect2">Security Model</h3>
<p>No specific system privileges are required to use <code dir="ltr">DBMS_JOB</code>. No system privileges are available to manage <code dir="ltr">DBMS_JOB</code>. Jobs cannot be altered or deleted other than jobs owned by the user. This is true for all users including those users granted DBA privileges.</p>
<p>You can execute procedures that are owned by the user or for which the user is explicitly granted <code dir="ltr">EXECUTE</code>. However, procedures for which the user is granted the execute privilege through roles cannot be executed.</p>
<p>Note that, once a job is started and running, there is no easy way to stop the job.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS66560" class="refsect2"><a id="i1001473"></a>
<h3 class="refsect2">Operational Notes</h3>
<ul>
<li>
<p><a href="#i1001507">Working with Oracle Real Application Clusters</a></p>
</li>
<li>
<p><a href="#i1001525">Stopping a Job</a></p>
</li>
</ul>
<div id="ARPLS66561" class="refsect3"><a id="i1001507"></a>
<h4 class="refsect3">Working with Oracle Real Application Clusters</h4>
<p><code dir="ltr">DBMS_JOB</code> supports multi-instance execution of jobs. By default jobs can be executed on any instance, but only one single instance will execute the job. In addition, you can force instance binding by binding the job to a particular instance. You implement instance binding by specifying an instance number to the instance affinity parameter. Note, however, that in Oracle Database 10g Release 1 (10.1) instance binding is not recommended. Service affinity is preferred. This concept is implemented in the <a href="d_sched.htm#CIHHBGGI">DBMS_SCHEDULER</a> package.</p>
<p>The following procedures can be used to create, alter or run jobs with instance affinity. Note that not specifying affinity means any instance can run the job.</p>
<div id="ARPLS66562" class="refsect4"><a id="sthref4894"></a>
<h5 class="refsect4">DBMS_JOB.SUBMIT</h5>
<p>To submit a job to the job queue, use the following syntax:</p>
<pre dir="ltr">DBMS_JOB.SUBMIT( 
   job       OUT    BINARY_INTEGER,
   what      IN     VARCHAR2, 
   next_date IN     DATE DEFAULT SYSDATE, 
   interval  IN     VARCHAR2 DEFAULT &#39;NULL&#39;,
   no_parse  IN     BOOLEAN DEFAULT FALSE,
   instance  IN     BINARY_INTEGER DEFAULT ANY_INSTANCE,
   force     IN     BOOLEAN DEFAULT FALSE);
</pre>
<p>Use the parameters <code dir="ltr">instance</code> and <a id="sthref4895"></a><code dir="ltr">force</code> to control job and instance affinity. The default value of <code dir="ltr">instance</code> is 0 (zero) to indicate that any instance can execute the job. To run the job on a certain instance, specify the <code dir="ltr">instance</code> value. Oracle displays error <code dir="ltr">ORA-23319</code> if the <code dir="ltr">instance</code> value is a negative number or <code dir="ltr">NULL.</code></p>
<p>The <code dir="ltr">force</code> parameter defaults to <code dir="ltr">false.</code> If <code dir="ltr">force</code> is <code dir="ltr">TRUE,</code> any positive integer is acceptable as the job instance. If <code dir="ltr">force</code> is <code dir="ltr">FALSE,</code> the specified instance must be running, or Oracle displays error number <code dir="ltr">ORA-23428.</code></p>
<br/></div>
<!-- class="refsect4" -->
<div id="ARPLS66563" class="refsect4"><a id="sthref4896"></a>
<h5 class="refsect4">DBMS_JOB.INSTANCE</h5>
<p>To assign a particular instance to execute a job, use the following syntax:</p>
<pre dir="ltr">   DBMS_JOB.INSTANCE(  JOB IN BINARY_INTEGER,
     instance                IN BINARY_INTEGER, 
     force                   IN BOOLEAN DEFAULT FALSE);
</pre>
<p>The <code dir="ltr">FORCE</code> parameter in this example defaults to <code dir="ltr">FALSE.</code> If the instance value is 0 (zero), job affinity is altered and any available instance can execute the job despite the value of force. If the <code dir="ltr">INSTANCE</code> value is positive and the <code dir="ltr">FORCE</code> parameter is <code dir="ltr">FALSE,</code> job affinity is altered only if the specified instance is running, or Oracle displays error <code dir="ltr">ORA-23428.</code></p>
<p>If the <code dir="ltr">force</code> parameter is <code dir="ltr">TRUE</code>, any positive integer is acceptable as the job instance and the job affinity is altered. Oracle displays error ORA-23319 if the <code dir="ltr">instance</code> value is negative or <code dir="ltr">NULL</code>.</p>
<br/></div>
<!-- class="refsect4" -->
<div id="ARPLS66564" class="refsect4"><a id="sthref4897"></a>
<h5 class="refsect4">DBMS_JOB.CHANGE</h5>
<p>To alter user-definable parameters associated with a job, use the following syntax:</p>
<pre dir="ltr">   DBMS_JOB.CHANGE(  JOB IN BINARY_INTEGER,
   what                  IN VARCHAR2 DEFAULT NULL,
   next_date             IN DATE DEFAULT NULL,
   interval              IN VARCHAR2 DEFAULT NULL,
   instance              IN BINARY_INTEGER DEFAULT NULL,
   force                 IN BOOLEAN DEFAULT FALSE );
</pre>
<p>Two parameters, <code dir="ltr">instance</code> and <code dir="ltr">force,</code> appear in this example. The default value of <code dir="ltr">instance</code> is <code dir="ltr">null</code> indicating that job affinity will not change.</p>
<p>The default value of <code dir="ltr">force</code> is <code dir="ltr">FALSE.</code> Oracle displays error <code dir="ltr">ORA-23428</code> if the specified instance is not running and error <code dir="ltr">ORA-23319</code> if the <code dir="ltr">instance</code> number is negative.</p>
<br/></div>
<!-- class="refsect4" -->
<div id="ARPLS66565" class="refsect4"><a id="sthref4898"></a>
<h5 class="refsect4">DBMS_JOB.RUN</h5>
<p>The <code dir="ltr">force</code> parameter for <code dir="ltr">DBMS_JOB.RUN</code> defaults to <code dir="ltr">FALSE.</code> If <code dir="ltr">force</code> is <code dir="ltr">TRUE,</code> instance affinity is irrelevant for running jobs in the foreground process. If force is <code dir="ltr">FALSE</code>, the job can run in the foreground only in the specified instance. Oracle displays error <code dir="ltr">ORA-23428</code> if force is <code dir="ltr">FALSE</code> and the connected instance is the incorrect instance.</p>
<pre dir="ltr">   DBMS_JOB.RUN( 
      job    IN BINARY_INTEGER,
      force  IN BOOLEAN DEFAULT FALSE);
</pre>
<br/></div>
<!-- class="refsect4" --></div>
<!-- class="refsect3" -->
<div id="ARPLS66566" class="refsect3"><a id="i1001525"></a>
<h4 class="refsect3">Stopping a Job</h4>
<p>Note that, once a job is started and running, there is no easy way to stop the job.</p>
</div>
<!-- class="refsect3" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" -->
<a id="i1000390"></a>
<div id="ARPLS66567" class="refsect1">
<h2 class="refsect1">Summary of DBMS_JOB Subprograms</h2>
<div id="ARPLS66568" class="tblformal">
<p class="titleintable"><a id="sthref4899"></a><a id="sthref4900"></a>Table 84-1 DBMS_JOB Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_JOB Package Subprograms " summary="This table lists the DBMS_JOB subprograms in alphabetical order and briefly describes them." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><a href="#i1000521">BROKEN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p>Disables job execution</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><a href="#i1000622">CHANGE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>Alters any of the user-definable parameters associated with a job</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><a href="#i1000681">INSTANCE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p>Assigns a job to be run by a instance</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><a href="#i1000712">INTERVAL Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>Alters the interval between executions for a specified job</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><a href="#i1000769">NEXT_DATE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p>Alters the next execution time for a specified job</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><a href="#i997008">REMOVE Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>Removes specified job from the job queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><a href="#i1000972">RUN Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p>Forces a specified job to run</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><a href="#i1000807">SUBMIT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p>Submits a new job to the job queue</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r10c1-t3" headers="r1c1-t3">
<p><a href="#i1000925">USER_EXPORT Procedures</a></p>
</td>
<td class="cellalignment4329" headers="r10c1-t3 r1c2-t3">
<p>Re-creates a given job for export, or re-creates a given job for export with instance affinity</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r11c1-t3" headers="r1c1-t3">
<p><a href="#i1000977">WHAT Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r11c1-t3 r1c2-t3">
<p>Alters the job description for a specified job</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS66569" class="refsect2"><a id="i1000521"></a>
<h3 class="refsect2"><a id="sthref4901"></a>BROKEN Procedure</h3>
<p>This procedure sets the broken flag. Broken jobs are never run.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4902"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.BROKEN ( 
   job       IN  BINARY_INTEGER,
   broken    IN  BOOLEAN,
   next_date IN  DATE DEFAULT SYSDATE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4903"></a>Parameters</p>
<div id="ARPLS66570" class="tblformal">
<p class="titleintable"><a id="sthref4904"></a><a id="sthref4905"></a>Table 84-2 BROKEN Procedure Parameters</p>
<table class="cellalignment4330" title="BROKEN Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.BROKEN." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Parameter</th>
<th class="cellalignment4328" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">broken</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p>Sets the job as broken or not broken. <code dir="ltr">TRUE</code> sets it as broken; <code dir="ltr">FALSE</code> sets it as not broken.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">next_date</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p>Next date when the job will be run.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
If you set job as broken while it is running, Oracle resets the job&#39;s status to normal after the job completes. Therefore, only execute this procedure for jobs that are not running.</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4906"></a>Usage Notes</p>
<ul>
<li>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</li>
<li>
<p>If a job fails 16 times in a row, Oracle automatically sets it as broken and then stops trying to run it.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66571" class="refsect2"><a id="i1000622"></a>
<h3 class="refsect2"><a id="sthref4907"></a>CHANGE Procedure</h3>
<p>This procedure changes any of the fields a user can set in a job.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4908"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.CHANGE ( 
   job       IN  BINARY_INTEGER,
   what      IN  VARCHAR2,
   next_date IN  DATE,
   interval  IN  VARCHAR2,
   instance  IN  BINARY_INTEGER DEFAULT NULL,
   force     IN  BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4909"></a>Parameters</p>
<div id="ARPLS66572" class="tblformal">
<p class="titleintable"><a id="sthref4910"></a><a id="sthref4911"></a>Table 84-3 CHANGE Procedure Parameters</p>
<table class="cellalignment4330" title="CHANGE Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.CHANGE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">what</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>PL/SQL procedure to run.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">next_date</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>Next date when the job will be run.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t6" headers="r1c1-t6">
<p><code dir="ltr">interval</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c2-t6">
<p>Date function; evaluated immediately before the job starts running.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t6" headers="r1c1-t6">
<p><code dir="ltr">instance</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t6 r1c2-t6">
<p>When a job is submitted, specifies which instance can run the job. This defaults to <code dir="ltr">NULL</code>, which indicates that instance affinity is not changed.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t6" headers="r1c1-t6">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t6 r1c2-t6">
<p>If this is <code dir="ltr">FALSE</code>, then the specified instance (to which the instance number change) must be running. Otherwise, the routine raises an exception.</p>
<p>If this is <code dir="ltr">TRUE</code>, then any positive integer is acceptable as the job instance.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4912"></a>Usage Notes</p>
<ul>
<li>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</li>
<li>
<p>The parameters <code dir="ltr">instance</code> and <code dir="ltr">force</code> are added for job queue affinity. Job queue affinity gives users the ability to indicate whether a particular instance or any instance can run a submitted job.</p>
</li>
<li>
<p>If the parameters <code dir="ltr">what</code>, <code dir="ltr">next_date</code>, or <code dir="ltr">interval</code> are <code dir="ltr">NULL</code>, then leave that value as it is.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4913"></a>Example</p>
<pre dir="ltr">BEGIN
   DBMS_JOB.CHANGE(14144, null, null, &#39;sysdate+3&#39;);
   COMMIT;
END; 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66573" class="refsect2"><a id="i1000681"></a>
<h3 class="refsect2">I<a id="sthref4914"></a>NSTANCE Procedure</h3>
<p>This procedure changes job instance affinity.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4915"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.INSTANCE ( 
   job        IN BINARY_INTEGER,
   instance   IN BINARY_INTEGER,
   force      IN BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4916"></a>Parameters</p>
<div id="ARPLS66574" class="tblformal">
<p class="titleintable"><a id="sthref4917"></a><a id="sthref4918"></a>Table 84-4 INSTANCE Procedure Parameters</p>
<table class="cellalignment4330" title="INSTANCE Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.INSTANCE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">instance</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t7 r1c2-t7">
<p>When a job is submitted, a user can specify which instance can run the job.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t7 r1c2-t7">
<p>If this is <code dir="ltr">TRUE</code>, then any positive integer is acceptable as the job instance. If this is <code dir="ltr">FALSE</code> (the default), then the specified instance must be running; otherwise the routine raises an exception.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4919"></a>Usage Notes</p>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66575" class="refsect2"><a id="i1000712"></a>
<h3 class="refsect2"><a id="sthref4920"></a>INTERVAL Procedure</h3>
<p>This procedure changes how often a job runs.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4921"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.INTERVAL ( 
   job       IN  BINARY_INTEGER,
   interval  IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4922"></a>Parameters</p>
<div id="ARPLS66576" class="tblformal">
<p class="titleintable"><a id="sthref4923"></a><a id="sthref4924"></a>Table 84-5 INTERVAL Procedure Parameters</p>
<table class="cellalignment4330" title="INTERVAL Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.INTERVAL" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t8">Parameter</th>
<th class="cellalignment4328" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t8 r1c2-t8">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">interval</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t8 r1c2-t8">
<p>Date function, evaluated immediately before the job starts running.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4925"></a>Usage Notes</p>
<ul>
<li>
<p>If the job completes successfully, then this new date is placed in <code dir="ltr">next_date</code>. <code dir="ltr">interval</code> is evaluated by plugging it into the statement select <code dir="ltr">interval</code> into <code dir="ltr">next_date</code> from dual;</p>
</li>
<li>
<p>The <code dir="ltr">interval</code> parameter must evaluate to a time in the future. Legal intervals include:</p>
<div class="inftblinformal">
<table class="cellalignment4327" title="Legal Intervals" summary="This table describes legal intervals for use with INTERVAL." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Interval</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9"><code dir="ltr">&#39;sysdate + 7&#39;</code></td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">Run once a week.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9"><code dir="ltr">&#39;next_day(sysdate,&#39;&#39;TUESDAY&#39;&#39;)&#39;</code></td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">Run once every Tuesday.</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9"><code dir="ltr">&#39;null&#39;</code></td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">Run only once.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
<li>
<p>If <code dir="ltr">interval</code> evaluates to <code dir="ltr">NULL</code> and if a job completes successfully, then the job is automatically deleted from the queue.</p>
</li>
<li>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66577" class="refsect2"><a id="i1000769"></a>
<h3 class="refsect2"><a id="sthref4926"></a>NEXT_DATE Procedure</h3>
<p>This procedure changes when an existing job next runs.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4927"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.NEXT_DATE ( 
   job       IN  BINARY_INTEGER,
   next_date IN  DATE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4928"></a>Parameters</p>
<div id="ARPLS66578" class="tblformal">
<p class="titleintable"><a id="sthref4929"></a><a id="sthref4930"></a>Table 84-6 NEXT_DATE Procedure Parameters</p>
<table class="cellalignment4330" title="NEXT_DATE Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.NEXT_DATE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">next_date</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Date of the next refresh: it is when the job will be automatically run, assuming there are background processes attempting to run it.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4931"></a>Usage Notes</p>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66579" class="refsect2"><a id="i997008"></a>
<h3 class="refsect2"><a id="sthref4932"></a>REMOVE Procedure</h3>
<p>This procedure removes an existing job from the job queue. This currently does not stop a running job.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4933"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.REMOVE ( 
   job       IN  BINARY_INTEGER );
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4934"></a>Parameters</p>
<div id="ARPLS66580" class="tblformal">
<p class="titleintable"><a id="sthref4935"></a><a id="sthref4936"></a>Table 84-7 REMOVE Procedure Parameters</p>
<table class="cellalignment4330" title="REMOVE Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.REMOVE." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4937"></a>Usage Notes</p>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4938"></a>Example</p>
<pre dir="ltr">BEGIN
   DBMS_JOB.REMOVE(14144);
   COMMIT;
END; 
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66581" class="refsect2"><a id="i1000972"></a>
<h3 class="refsect2"><a id="sthref4939"></a>RUN Procedure</h3>
<p>This procedure runs job <code dir="ltr">JOB</code> now. It runs it even if it is broken.</p>
<p>Running the job recomputes <code dir="ltr">next_date</code>. See data dictionary view <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4940"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.RUN ( 
   job       IN  BINARY_INTEGER,
   force     IN  BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4941"></a>Parameters</p>
<div id="ARPLS66582" class="tblformal">
<p class="titleintable"><a id="sthref4942"></a><a id="sthref4943"></a>Table 84-8 RUN Procedure Parameters</p>
<table class="cellalignment4330" title="RUN Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.RUN." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t12" headers="r1c1-t12">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t12 r1c2-t12">
<p>If this is <code dir="ltr">TRUE</code>, then instance affinity is irrelevant for running jobs in the foreground process. If this is <code dir="ltr">FALSE</code>, then the job can be run in the foreground only in the specified instance.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4944"></a>Example</p>
<pre dir="ltr">EXECUTE DBMS_JOB.RUN(14144);
</pre>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">This re-initializes the current session&#39;s packages.</p>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4945"></a>Exceptions</p>
<p>An exception is raised if <code dir="ltr">force</code> is <code dir="ltr">FALSE</code>, and if the connected instance is the wrong one.</p>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66583" class="refsect2"><a id="i1000807"></a>
<h3 class="refsect2"><a id="sthref4946"></a>SUBMIT Procedure</h3>
<p>This procedure submits a new job. It chooses the job from the sequence <code dir="ltr">sys</code>.<code dir="ltr">jobseq</code>.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4947"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.SUBMIT ( 
   job       OUT BINARY_INTEGER,
   what      IN  VARCHAR2,
   next_date IN  DATE DEFAULT SYSDATE,
   interval  IN  VARCHAR2 DEFAULT &#39;null&#39;,
   no_parse  IN  BOOLEAN DEFAULT FALSE,
   instance  IN  BINARY_INTEGER DEFAULT any_instance,
   force     IN  BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4948"></a>Parameters</p>
<div id="ARPLS66584" class="tblformal">
<p class="titleintable"><a id="sthref4949"></a><a id="sthref4950"></a>Table 84-9 SUBMIT Procedure Parameters</p>
<table class="cellalignment4330" title="SUBMIT Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.SUBMIT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t14">Parameter</th>
<th class="cellalignment4328" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t14" headers="r1c1-t14">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t14 r1c2-t14">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t14" headers="r1c1-t14">
<p><code dir="ltr">what</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t14 r1c2-t14">
<p>PL/SQL text o the job to be run. This must be a valid PL/SQL statement or block of code. For example, to run a stored procedure <code dir="ltr">P</code>, you could pass the string <code dir="ltr">P</code>; (with the semi-colon) to this routine. The SQL that you submit in the <code dir="ltr">what</code> parameter is wrapped in the following PL/SQL block:</p>
<pre dir="ltr">DECLARE
 job BINARY_INTEGER := :job;
 next_date DATE := :mydate;
 broken BOOLEAN := FALSE;
BEGIN
 WHAT
 :mydate := next_date;
 IF broken THEN :b := 1; ELSE :b := 0; END IF;
END;
</pre>
<p>Ensure that you include the <code dir="ltr">;</code> semi-colon with the statement.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t14" headers="r1c1-t14">
<p><code dir="ltr">next_date</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t14 r1c2-t14">
<p>Next date when the job will be run.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t14" headers="r1c1-t14">
<p><code dir="ltr">interval</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t14 r1c2-t14">
<p>Date function that calculates the next time to run the job. The default is <code dir="ltr">NULL</code>. This must evaluate to a either a future point in time or <code dir="ltr">NULL</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t14" headers="r1c1-t14">
<p><code dir="ltr">no_parse</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t14 r1c2-t14">
<p>A flag. The default is <code dir="ltr">FALSE</code>. If this is set to <code dir="ltr">FALSE</code>, then Oracle parses the procedure associated with the job. If this is set to <code dir="ltr">TRUE</code>, then Oracle parses the procedure associated with the job the first time that the job is run.</p>
<p>For example, if you want to submit a job before you have created the tables associated with the job, then set this to <code dir="ltr">TRUE</code>.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t14" headers="r1c1-t14">
<p><code dir="ltr">instance</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t14 r1c2-t14">
<p>When a job is submitted, specifies which instance can run the job.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t14" headers="r1c1-t14">
<p><code dir="ltr">force</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t14 r1c2-t14">
<p>If this is <code dir="ltr">TRUE</code>, then any positive integer is acceptable as the job instance. If this is <code dir="ltr">FALSE</code> (the default), then the specified instance must be running; otherwise the routine raises an exception.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4951"></a>Usage Notes</p>
<ul>
<li>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</li>
<li>
<p>The parameters <code dir="ltr">instance</code> and <code dir="ltr">force</code> are added for job queue affinity. Job queue affinity gives users the ability to indicate whether a particular instance or any instance can run a submitted job.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4952"></a>Example</p>
<p>This submits a new job to the job queue. The job calls the procedure <code dir="ltr">DBMS_DDL</code>.<code dir="ltr">ANALYZE_OBJECT</code> to generate optimizer statistics for the table <code dir="ltr">DQUON</code>.<code dir="ltr">ACCOUNTS</code>. The statistics are based on a sample of half the rows of the <code dir="ltr">ACCOUNTS</code> table. The job is run every 24 hours:</p>
<pre dir="ltr">VARIABLE jobno number;
BEGIN
   DBMS_JOB.SUBMIT(:jobno, 
      &#39;dbms_ddl.analyze_object(&#39;&#39;TABLE&#39;&#39;,
      &#39;&#39;DQUON&#39;&#39;, &#39;&#39;ACCOUNTS&#39;&#39;, 
      &#39;&#39;ESTIMATE&#39;&#39;, NULL, 50);&#39; 
      SYSDATE, &#39;SYSDATE + 1&#39;);
   COMMIT;
END;
/
Statement processed.
print jobno
JOBNO
----------
14144
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66585" class="refsect2"><a id="i1000925"></a>
<h3 class="refsect2"><a id="sthref4953"></a>USER_EXPORT Procedures</h3>
<p>There are two overloaded procedures. The first produces the text of a call to re-create the given job. The second alters instance affinity (8<span class="italic">i</span> and after) and preserves the compatibility.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4954"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.USER_EXPORT ( 
   job    IN     BINARY_INTEGER,
   mycall IN OUT VARCHAR2);

DBMS_JOB.USER_EXPORT ( 
   job      IN     BINARY_INTEGER,
   mycall   IN OUT VARCHAR2,
   myinst   IN OUT VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4955"></a>Parameters</p>
<div id="ARPLS66586" class="tblformal">
<p class="titleintable"><a id="sthref4956"></a><a id="sthref4957"></a>Table 84-10 USER_EXPORT Procedure Parameter</p>
<table class="cellalignment4330" title="USER_EXPORT Procedure Parameter" summary="This table describes the parameters of DBMS_JOB.USER_EXPORT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t15">Parameter</th>
<th class="cellalignment4328" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t15" headers="r1c1-t15">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t15 r1c2-t15">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t15" headers="r1c1-t15">
<p><code dir="ltr">mycall</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t15 r1c2-t15">
<p>Text of a call to re-create the given job.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t15" headers="r1c1-t15">
<p><code dir="ltr">myinst</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t15 r1c2-t15">
<p>Text of a call to alter instance affinity.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS66587" class="refsect2"><a id="i1000977"></a>
<h3 class="refsect2"><a id="sthref4958"></a>WHAT Procedure</h3>
<p>This procedure changes what an existing job does, and replaces its environment.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4959"></a>Syntax</p>
<pre dir="ltr">DBMS_JOB.WHAT ( 
   job       IN  BINARY_INTEGER,
   what      IN  VARCHAR2);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4960"></a>Parameters</p>
<div id="ARPLS66588" class="tblformal">
<p class="titleintable"><a id="sthref4961"></a><a id="sthref4962"></a>Table 84-11 WHAT Procedure Parameters</p>
<table class="cellalignment4330" title="WHAT Procedure Parameters" summary="This table describes the parameters of DBMS_JOB.WHAT." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t16">Parameter</th>
<th class="cellalignment4328" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t16" headers="r1c1-t16">
<p><code dir="ltr">job</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t16 r1c2-t16">
<p>System-assigned ID of the job being run. To find this ID, query the <code dir="ltr">JOB</code> column of the <code dir="ltr">USER_JOBS</code> or <code dir="ltr">DBA_JOBS</code> view.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t16" headers="r1c1-t16">
<p><code dir="ltr">what</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t16 r1c2-t16">
<p>PL/SQL procedure to run.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4963"></a>Usage Notes</p>
<ul>
<li>
<p>Your job will not be available for processing by the job queue in the background until it is committed.</p>
</li>
<li>
<p>Some legal values of <code dir="ltr">what</code> (assuming the routines exist) are:</p>
<ul>
<li>
<p><code dir="ltr">&#39;myproc(&#39;&#39;10-JAN-82&#39;&#39;, next_date, broken);&#39;</code></p>
</li>
<li>
<p><code dir="ltr">&#39;scott.emppackage.give_raise(&#39;&#39;JENKINS&#39;&#39;, 30000.00);&#39;</code></p>
</li>
<li>
<p><code dir="ltr">&#39;dbms_job.remove(job);&#39;</code></p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_java.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_ldap.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
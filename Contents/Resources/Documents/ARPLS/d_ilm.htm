<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2280"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_ILM"></a><title>DBMS_ILM</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1086"/>
<meta name="dcterms.created" content="2016-09-02T5:36:21Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"/>
<meta name="dcterms.identifier" content="E41829-07"/>
<meta name="dcterms.isVersionOf" content="ARPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="d_hspass.htm" title="Previous" type="text/html"/>
<link rel="Next" href="d_ilm_admin.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41829-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">83/290</span> <!-- End Header -->
<div id="ARPLS73513" class="chapter"><a id="CACGFHBB"></a>
<h1 class="chapter"><span class="secnum">79</span> DBMS_ILM</h1>
<p>The <code dir="ltr">DBMS_ILM</code> package provides an interface for implementing Information Lifecycle Management (ILM) strategies using Automatic Data Optimization (ADO) policies.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink VLDBG14117" href="../VLDBG/GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836.htm#VLDBG14117"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about managing Automatic Data Optimization (ADO) with this package</p>
</li>
<li>
<p><a href="d_ilm_admin.htm#CDCCIHCB">DBMS_ILM_ADMIN</a></p>
</li>
<li>
<p><a href="d_heat_map.htm#BEHHGBFI">DBMS_HEAT_MAP</a></p>
</li>
</ul>
</div>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CACCCHAG">Using DBMS_ILM</a></p>
<ul>
<li>
<p>Overview</p>
</li>
<li>
<p>Security Model</p>
</li>
<li>
<p>Constants</p>
</li>
<li>
<p>Exceptions</p>
</li>
</ul>
</li>
<li>
<p><a href="#CACJEFIG">Summary of DBMS_ILM Subprograms</a></p>
</li>
</ul>
<div class="refentry"><a id="CACCCHAG"></a>
<div id="ARPLS73514" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Using DBMS_ILM</h2>
<ul>
<li>
<p><a href="#CACEIHEC">Overview</a></p>
</li>
<li>
<p><a href="#CACFJACF">Security Model</a></p>
</li>
<li>
<p><a href="#CACDCJAG">Constants</a></p>
</li>
<li>
<p><a href="#CACDIEDF">Exceptions</a></p>
</li>
</ul>
<div id="ARPLS73515" class="refsect2"><a id="CACEIHEC"></a>
<h3 class="refsect2">Overview</h3>
<p>To implement your ILM strategy, you can use Heat Map in Oracle Database to track data access and modification. You can also use Automatic Data Optimization (ADO) to automate the compression and movement of data between different tiers of storage within the database.</p>
<p>The <code dir="ltr">DBMS_ILM</code> package supports immediate evaluation or execution of Automatic Data Optimization (ADO) related tasks. The package supports the following two ways for scheduling ADO actions.</p>
<ul>
<li>
<p>A database user schedules immediate ADO policy execution on a set of objects.</p>
</li>
<li>
<p>A database user views the results of evaluation of ADO policies on a set of objects. The user then adds or deletes objects to this set and reviews the results of ADO policy evaluation again. The user repeats this step to determine the set of objects for ADO execution. The user can then perform immediate scheduling of ADO actions on this set of objects</p>
</li>
</ul>
<p>The following procedures support the two usage modes. Before describing the procedures, we introduce the notion of an ADO task as an entity that helps to track a particular evaluation or (an evaluation and execution) of ADO policies. A particular ADO task could be in one of the following states.</p>
<ul>
<li>
<p>Inactive</p>
</li>
<li>
<p>Active</p>
</li>
<li>
<p>Completed</p>
</li>
</ul>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73619" class="refsect2"><a id="CACFJACF"></a>
<h3 class="refsect2">Security Model</h3>
<p>The <code dir="ltr">DBMS_ILM</code> package runs under invoker&#39;s rights.</p>
</div>
<!-- class="refsect2" -->
<div id="ARPLS73769" class="refsect2"><a id="CACDCJAG"></a>
<h3 class="refsect2">Constants</h3>
<p>The <code dir="ltr">DBMS_ILM</code> package uses the constants shown in <a href="#CACIJBIH">Table 79-1, &#34;DBMS_ILM Constants&#34;</a></p>
<div id="ARPLS73770" class="tblformal">
<p class="titleintable"><a id="sthref4783"></a><a id="CACIJBIH"></a>Table 79-1 DBMS_ILM Constants</p>
<table class="cellalignment4330" title="DBMS_ILM Constants" summary="This table presents the contants used in DBMS_ILM" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t3">Constant</th>
<th class="cellalignment4328" id="r1c2-t3">Value</th>
<th class="cellalignment4328" id="r1c3-t3">Type</th>
<th class="cellalignment4328" id="r1c4-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ILM_ALL_POLICIES</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c2-t3">
<p><code dir="ltr">&#39;ALL POLICIES&#39;</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c3-t3">
<p><code dir="ltr">VARCHAR2(20)</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t3 r1c4-t3">
<p>Selects all ADO policies on an object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ILM_EXECUTION_OFFLINE</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c2-t3">
<p>1</p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c3-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t3 r1c4-t3">
<p>Specifies that the object may be offline while ADO action is performed</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ILM_EXECUTION_ONLINE</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c2-t3">
<p><code dir="ltr">2</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c3-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t3 r1c4-t3">
<p>Specifies that the object should be online while ADO action is performed</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t3" headers="r1c1-t3">
<p><code dir="ltr">SCOPE_DATABASE</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c2-t3">
<p>1</p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c3-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t3 r1c4-t3">
<p>Selects all ADO policies in the database</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t3" headers="r1c1-t3">
<p><code dir="ltr">SCOPE_SCHEMA</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c2-t3">
<p><code dir="ltr">2</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c3-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t3 r1c4-t3">
<p>Selects all ADO policies in the current schema</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t3" headers="r1c1-t3">
<p><code dir="ltr">SCHEDULE_IMMEDIATE</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c2-t3">
<p>1</p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c3-t3">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t3 r1c4-t3">
<p>Schedules ADO task for immediate execution</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ARCHIVE_STATE_ACTIVE</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c2-t3">
<p><code dir="ltr">&#39;0&#39;</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c3-t3">
<p><code dir="ltr">VARCHAR2(1)</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t3 r1c4-t3">
<p>Represents the value of the <code dir="ltr">ORA_ARCHIVE_STATE</code> column of a row-archival enabled table that would make the row active</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r9c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ARCHIVE_STATE_ARCHIVED</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c2-t3">
<p><code dir="ltr">&#39;1&#39;</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c3-t3">
<p><code dir="ltr">VARCHAR2(1)</code></p>
</td>
<td class="cellalignment4329" headers="r9c1-t3 r1c4-t3">
<p>Represents the value of the <code dir="ltr">ORA_ARCHIVE_STATE</code> column of a row-archival enabled table that would make the row inactive</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73771" class="refsect2"><a id="CACDIEDF"></a>
<h3 class="refsect2">Exceptions</h3>
<p>The following table lists the exceptions raised by the <code dir="ltr">DBMS_ILM</code> package.</p>
<div id="ARPLS73772" class="tblformal">
<p class="titleintable"><a id="sthref4784"></a><a id="sthref4785"></a>Table 79-2 DBMS_ILM Exceptions</p>
<table class="cellalignment4330" title="DBMS_ILM Exceptions" summary="This table contains information about the DBMS_ILM exceptions" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t4">Exception</th>
<th class="cellalignment4328" id="r1c2-t4">Error Code</th>
<th class="cellalignment4328" id="r1c3-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">INVALID_ARGUMENT_VALUE</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c2-t4">
<p><code dir="ltr">38327</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t4 r1c3-t4">
<p>Invalid argument value</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">INVALID_ILM_DICTIONARY</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c2-t4">
<p><code dir="ltr">38328</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t4 r1c3-t4">
<p>Inconsistent dictionary state</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">INTERNAL_ILM_ERROR</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c2-t4">
<p><code dir="ltr">38329</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t4 r1c3-t4">
<p>Internal error</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t4" headers="r1c1-t4">
<p><code dir="ltr">INSUFFICIENT_PRIVILEGES</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c2-t4">
<p><code dir="ltr">38330</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t4 r1c3-t4">
<p>Insufficient privileges</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"><a id="CACJEFIG"></a>
<div id="ARPLS73516" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Summary of DBMS_ILM Subprograms</h2>
<div id="ARPLS73517" class="tblformal">
<p class="titleintable"><a id="sthref4786"></a><a id="sthref4787"></a>Table 79-3 DBMS_ILM Package Subprograms</p>
<table class="cellalignment4330" title="DBMS_ILM Package Subprograms" summary="DBMS_ILM Package Subprograms" dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t5">Subprogram</th>
<th class="cellalignment4328" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t5" headers="r1c1-t5">
<p><a href="#CACCHHJE">ADD_TO_ILM Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r2c1-t5 r1c2-t5">
<p>Adds the object specified through the argument to a particular ADO task and evaluates the ADO policies on this object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t5" headers="r1c1-t5">
<p><a href="#CACHAEJF">ARCHIVESTATENAME Function</a></p>
</td>
<td class="cellalignment4329" headers="r3c1-t5 r1c2-t5">
<p>Returns the value of the <code dir="ltr">ORA_ARCHIVE_STATE</code> column of a row-archival enabled table</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t5" headers="r1c1-t5">
<p><a href="#CACHBJFB">EXECUTE_ILM Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r4c1-t5 r1c2-t5">
<p>Executes an ADO task.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t5" headers="r1c1-t5">
<p><a href="#CACHBIAF">EXECUTE_ILM_TASK Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r5c1-t5 r1c2-t5">
<p>Executes an ADO task that has been evaluated previously</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t5" headers="r1c1-t5">
<p><a href="#CACEIDAA">PREVIEW_ILM Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r6c1-t5 r1c2-t5">
<p>Evaluates all ADO policies in the scope specified by means of an argument</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t5" headers="r1c1-t5">
<p><a href="#CACIFEAB">REMOVE_FROM_ILM Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r7c1-t5 r1c2-t5">
<p>Removes the object specified through the argument from a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t5" headers="r1c1-t5">
<p><a href="#CACIBEEF">STOP_ILM Procedure</a></p>
</td>
<td class="cellalignment4329" headers="r8c1-t5 r1c2-t5">
<p>Stops ADO-related jobs created for a particular ADO task</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ARPLS74881" class="refsect2"><a id="CACCHHJE"></a>
<h3 class="refsect2"><a id="sthref4788"></a>ADD_TO_ILM Procedure</h3>
<p>This procedure adds the object specified through the argument to a particular ADO task and evaluates the ADO policies on this object. The procedure can only be executed on an ADO task in an inactive state. The results of the ADO policy evaluation on this object can be viewed using the appropriate views depending on role and access (<code dir="ltr">USER_ILMTASKS</code> or <code dir="ltr">DBA_ILMTASKS</code>, <code dir="ltr">USER_ILMEVALUATIONDETAILS</code> or <code dir="ltr">DBA_ILMEVALUATIONDETAILS</code>, <code dir="ltr">USER_ILMRESULTS</code> or <code dir="ltr">DBA_ILMRESULTS</code>).</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4789"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.ADD_TO_ILM (
   task_id           IN    NUMBER,
   owner             IN    VARCHAR2,
   object_name       IN    VARCHAR2,
   subobject_name    IN    VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4790"></a>Parameters</p>
<div id="ARPLS74882" class="tblformal">
<p class="titleintable"><a id="sthref4791"></a><a id="sthref4792"></a>Table 79-4 <span class="bolditalic">ADD_TO_ILM Procedure Parameters</span></p>
<table class="cellalignment4330" title="ADD_TO_ILM Procedure Parameters" summary="This table describes the parameters of the DBMS_ILM.ADD_TO_ILM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t6">Parameter</th>
<th class="cellalignment4328" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t6" headers="r1c1-t6">
<p><code dir="ltr">task_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t6 r1c2-t6">
<p>Identifies a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t6" headers="r1c1-t6">
<p><code dir="ltr">owner</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t6 r1c2-t6">
<p>Owner of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">object_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t6 r1c2-t6">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t6" headers="r1c1-t6">
<p><code dir="ltr">subobject_name</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t6 r1c2-t6">
<p>Name of the subobject (partition name in the case of partitioned tables)</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74948" class="refsect2"><a id="CACHAEJF"></a>
<h3 class="refsect2"><a id="sthref4793"></a>ARCHIVESTATENAME Function</h3>
<p>This function returns the value of the <code dir="ltr">ORA_ARCHIVE_STATE</code> column of a row-archival enabled table.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4794"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.ARCHIVESTATENAME (
   value      IN  VARCHAR2) 
 RETURN VARCHAR2;
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4795"></a>Parameters</p>
<div id="ARPLS74949" class="tblformal">
<p class="titleintable"><a id="sthref4796"></a><a id="sthref4797"></a>Table 79-5 <span class="bolditalic">ARCHIVESTATENAME Function Parameters</span></p>
<table class="cellalignment4330" title="ARCHIVESTATENAME Function Parameters" summary="This table describes the parameters of the DBMS_ILM.PREVIEW_ILM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t7">Parameter</th>
<th class="cellalignment4328" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">value</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t7 r1c2-t7">
<p>Value for which the archive state name is to be returned</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4798"></a>Usage Notes</p>
<p>Returns <code dir="ltr">ARCHIVE_STATE_ACTIVE</code> for <code dir="ltr">0</code>, <code dir="ltr">ARCHIVE_STATE_ARCHIVED</code> for others</p>
</div>
<!-- class="refsubsect" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink VLDBG14154" href="../VLDBG/GUID-5A76B6CE-C96D-49EE-9A89-0A2CB993A933.htm#VLDBG14154">&#34;Using In-Database Archiving&#34;</a> in <span class="italic">Oracle Database VLDB and Partitioning Guide</span></div>
</div>
<!-- class="refsect2" -->
<div id="ARPLS74883" class="refsect2"><a id="CACHBJFB"></a>
<h3 class="refsect2"><a id="sthref4799"></a>EXECUTE_ILM Procedure</h3>
<p>This procedure executes an ADO task.</p>
<p>There are two overloads to this procedure. The first overload executes an ADO task for a set of objects without having evaluated them previously. The second overload executes ADO policies for a specific object.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4800"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.EXECUTE_ILM (
   task_id             OUT    NUMBER,
   ilm_scope           IN     NUMBER DEFAULT SCOPE_SCHEMA,
   execution_mode      IN     NUMBER DEFAULT ILM_EXECUTION_ONLINE);

DBMS_ILM.EXECUTE_ILM (
   owner               IN     VARCHAR2,
   object_name         IN     VARCHAR2,
   task_id             OUT    NUMBER, 
   subobject_name      IN     VARCHAR2 DEFAULT NULL,
   policy_name         IN     VARCHAR2 DEFAULT ILM_ALL_POLICIES,
   execution_mode      IN     NUMBER DEFAULT ILM_EXECUTION_ONLINE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4801"></a>Parameters</p>
<div id="ARPLS74884" class="tblformal">
<p class="titleintable"><a id="sthref4802"></a><a id="sthref4803"></a>Table 79-6 <span class="bolditalic">EXECUTE_ILM Procedure Parameters</span></p>
<table class="cellalignment4330" title="EXECUTE_ILM Procedure Parameters" summary="This table describes the parameters of the DBMS_ILM.EXECUTE_ILM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t9">Parameter</th>
<th class="cellalignment4328" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">task_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t9 r1c2-t9">
<p>Identifies a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">ilm_scope</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t9 r1c2-t9">
<p>Determines the set of objects considered for ADO execution. The default is to consider only the objects in the schema.</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t9" headers="r1c1-t9">
<p><code dir="ltr">execution_mode</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t9 r1c2-t9">
<p>Whether the ADO task be executed online (<code dir="ltr">ILM_EXECUTION_ONLINE</code>) or offline (<code dir="ltr">ILM_EXECUTION_OFFLINE</code>)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t9" headers="r1c1-t9">
<p><code dir="ltr">owner</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t9 r1c2-t9">
<p>Owner of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r6c1-t9" headers="r1c1-t9">
<p><code dir="ltr">object_name</code></p>
</td>
<td class="cellalignment4329" headers="r6c1-t9 r1c2-t9">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r7c1-t9" headers="r1c1-t9">
<p><code dir="ltr">subobject_name</code></p>
</td>
<td class="cellalignment4329" headers="r7c1-t9 r1c2-t9">
<p>Name of the subobject (partition name in the case of partitioned tables)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r8c1-t9" headers="r1c1-t9">
<p><code dir="ltr">policy_name</code></p>
</td>
<td class="cellalignment4329" headers="r8c1-t9 r1c2-t9">
<p>Name of the ADO policy to be evaluated on the object. The package constant <code dir="ltr">ILM_ALL_POLICIES</code> should be used if all ADO policies on an object should be evaluated.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4804"></a>Usage Notes</p>
<ul>
<li>
<p>The <code dir="ltr">EXECUTE_ILM</code> procedure can be used by users who want more control of when ADO is performed, and who do not want to wait until the next maintenance window.</p>
</li>
<li>
<p>The procedure executes like a DDL in that it auto commits before and after the ADO task and related jobs are created.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74976" class="refsect2"><a id="CACHBIAF"></a>
<h3 class="refsect2"><a id="sthref4805"></a>EXECUTE_ILM_TASK Procedure</h3>
<p>This procedure executes an ADO task that has been evaluated previously and moves it to an active state.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4806"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.EXECUTE_ILM_TASK (
   task_id             IN     NUMBER,
   execution_mode      IN     NUMBER DEFAULT ILM_EXECUTION_ONLINE);
   execution_schedule  IN     NUMBER DEFAULT SCHEDULE_IMMEDIATE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4807"></a>Parameters</p>
<div id="ARPLS74977" class="tblformal">
<p class="titleintable"><a id="sthref4808"></a><a id="sthref4809"></a>Table 79-7 <span class="bolditalic">EXECUTE_ILM_TASK Procedure Parameters</span></p>
<table class="cellalignment4330" title="EXECUTE_ILM_TASK Procedure Parameters" summary="This table describes the parameters of the DBMS_ILM.EXECUTE_ILM_TASK subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t10">Parameter</th>
<th class="cellalignment4328" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">task_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t10 r1c2-t10">
<p>Identifies a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">execution_mode</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t10 r1c2-t10">
<p>Whether the ADO task be executed online (<code dir="ltr">ILM_EXECUTION_ONLINE</code>) or offline (<code dir="ltr">ILM_EXECUTION_OFFLINE</code>)</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t10" headers="r1c1-t10">
<p><code dir="ltr">execution_schedule</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t10 r1c2-t10">
<p>Identifies when the ADO task should be executed.Currently, the only choice available is immediate scheduling of ADO jobs</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73518" class="refsect2"><a id="CACEIDAA"></a>
<h3 class="refsect2"><a id="sthref4810"></a>PREVIEW_ILM Procedure</h3>
<p>This procedure evaluates the ADO policies on the objects specified using the <code dir="ltr">ILM_SCOPE</code> argument. It returns a number as <code dir="ltr">task_id</code> which identifies a particular ADO task. This can be used to view the results of the policy evaluation in the appropriate views depending on role and access (<code dir="ltr">USER_ILMTASKS</code> or <code dir="ltr">DBA_ILMTASKS</code>, <code dir="ltr">USER_ILMEVALUATIONDETAILS</code> or <code dir="ltr">DBA_ILMEVALUATIONDETAILS</code>, <code dir="ltr">USER_ILMRESULTS</code> or <code dir="ltr">DBA_ILMRESULTS</code>).</p>
<p>The <code dir="ltr">PREVIEW_ILM</code> procedure leaves the ADO task in an inactive state. Once you have previewed the results, you can add or delete objects to this task.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4811"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.PREVIEW_ILM (
   task_id           OUT    NUMBER,
  ilm_scope          IN     NUMBER DEFAULT SCOPE_SCHEMA);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4812"></a>Parameters</p>
<div id="ARPLS73519" class="tblformal">
<p class="titleintable"><a id="sthref4813"></a><a id="sthref4814"></a>Table 79-8 <span class="bolditalic">PREVIEW_ILM Procedure Parameters</span></p>
<table class="cellalignment4330" title="PREVIEW_ILM Procedure Parameters" summary="This table describes the parameters of the DBMS_ILM.PREVIEW_ILM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t11">Parameter</th>
<th class="cellalignment4328" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t11" headers="r1c1-t11">
<p><code dir="ltr">task_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t11 r1c2-t11">
<p>Identifies a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t11" headers="r1c1-t11">
<p><code dir="ltr">ilm_scope</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t11 r1c2-t11">
<p>Identifies the scope of execution. Should be either <code dir="ltr">SCOPE_DATABASE</code> or <code dir="ltr">SCOPE_SCHEMA</code> as described in <a href="#CACDCJAG">Constants</a></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS74885" class="refsect2"><a id="CACIFEAB"></a>
<h3 class="refsect2"><a id="sthref4815"></a>REMOVE_FROM_ILM Procedure</h3>
<p>This procedure removes the object specified through the argument from a particular ADO task. The procedure can only be executed on an ADO task in an inactive state.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4816"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.REMOVE_FROM_ILM (
   task_id           IN    NUMBER,
   owner             IN    VARCHAR2,
   object_name       IN    VARCHAR2,
   subobject_name    IN    VARCHAR2 DEFAULT NULL);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4817"></a>Parameters</p>
<div id="ARPLS74886" class="tblformal">
<p class="titleintable"><a id="sthref4818"></a><a id="sthref4819"></a>Table 79-9 <span class="bolditalic">REMOVE_FROM_ILM Procedure Parameters</span></p>
<table class="cellalignment4330" title="REMOVE_FROM_ILM Procedure Parameters" summary="This table describes the parameters of the DBMS_ILM.REMOVE_FROM_ILMsubprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t12">Parameter</th>
<th class="cellalignment4328" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">task_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t12 r1c2-t12">
<p>Identifies a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t12" headers="r1c1-t12">
<p><code dir="ltr">owner</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t12 r1c2-t12">
<p>Owner of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r4c1-t12" headers="r1c1-t12">
<p><code dir="ltr">object_name</code></p>
</td>
<td class="cellalignment4329" headers="r4c1-t12 r1c2-t12">
<p>Name of the object</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r5c1-t12" headers="r1c1-t12">
<p><code dir="ltr">subobject_name</code></p>
</td>
<td class="cellalignment4329" headers="r5c1-t12 r1c2-t12">
<p>Name of the subobject (partition name in the case of partitioned tables)</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" -->
<div id="ARPLS73780" class="refsect2"><a id="CACIBEEF"></a>
<h3 class="refsect2"><a id="sthref4820"></a>STOP_ILM Procedure</h3>
<p>This procedure stops ADO-related jobs created for a particular ADO task.</p>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4821"></a>Syntax</p>
<pre dir="ltr">DBMS_ILM.STOP_ILM (
   task_id               IN         NUMBER,
   p_drop_running_jobs   IN         BOOLEAN DEFAULT FALSE);
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref4822"></a>Parameters</p>
<div id="ARPLS73781" class="tblformal">
<p class="titleintable"><a id="sthref4823"></a><a id="sthref4824"></a>Table 79-10 <span class="bolditalic">STOP_ILM Procedure Parameters</span></p>
<table class="cellalignment4330" title="STOP_ILM Procedure Parameters" summary="This table describes the parameters of the DBMS_ILM.STOP_ILM subprogram." dir="ltr">
<thead>
<tr class="cellalignment4321">
<th class="cellalignment4328" id="r1c1-t13">Parameter</th>
<th class="cellalignment4328" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">task_id</code></p>
</td>
<td class="cellalignment4329" headers="r2c1-t13 r1c2-t13">
<p>Number that uniquely identifies a particular ADO task</p>
</td>
</tr>
<tr class="cellalignment4321">
<td class="cellalignment4329" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">p_drop_running_jobs</code></p>
</td>
<td class="cellalignment4329" headers="r3c1-t13 r1c2-t13">
<p>Determines whether running jobs are dropped</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect2" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4320">
<tr>
<td class="cellalignment4329">
<table class="cellalignment4325">
<tr>
<td class="cellalignment4324"><a href="d_hspass.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4324"><a href="d_ilm_admin.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4332">
<table class="cellalignment4323">
<tr>
<td class="cellalignment4324"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4324"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4324"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4324"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4324"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4324"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
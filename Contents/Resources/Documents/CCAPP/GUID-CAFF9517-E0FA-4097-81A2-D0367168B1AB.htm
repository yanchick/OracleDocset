<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-2969"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/The%20CTX_REPORT%20Package"></a><title>The CTX_REPORT Package</title>
<meta name="generator" content="DITA Open Toolkit version 1.7.5"/>
<meta name="keywords" content="CTX_REPORT package, viewing information on indexes and queries, query, viewing information on, index, getting report on, CTX_REPORT.DESCRIBE_INDEX, DESCRIBE_INDEX, CTX_REPORT.DESCRIBE_POLICY, CREATE_INDEX_SCRIPT, CREATE_POLICY_SCRIPT, CTX_REPORT.CREATE_POLICY_SCRIPT, CTX_REPORT.CREATE_INDEX_SCRIPT, CTX_REPORT.INDEX_SIZE, INDEX_SIZE, size of index, viewing, viewing size of index, CTX_REPORT.INDEX_STATS, INDEX_STATS, statistics on, CTX_REPORT.QUERY_LOG_SUMMARY, QUERY_LOG_SUMMARY, query log, viewing log of, CTX_REPORT.TOKEN_INFO, TOKEN_INFO, CTX_REPORT_TOKEN_TYPE, TOKEN_TYPE"/>
<meta name="dcterms.created" content="2015-05-15T00:35:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Application Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41398-07"/>
<meta name="dcterms.isVersionOf" content="CCAPP"/>
<meta name="dcterms.rights" content="Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-096E9A77-2BDC-4543-A689-9D574A05F199.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-C8C62D18-695A-4F78-9126-90FBCD75BBB6.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41398-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB"></a> <span id="PAGE" style="display:none;">287/321</span> <!-- End Header --><a id="CCAPP9359"></a>
<h1 id="CCAPP-GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB" class="sect1">The CTX_REPORT Package</h1>
<div>
<p>Use the <code>CTX_REPORT</code> package to produce reports on indexes and queries. These reports can help you fine-tune or troubleshoot your applications.</p>
<div class="infoboxnotealso" id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-C3D7069A-AA4D-49D9-B8D7-849858AFF06B">
<p class="notep1"><a id="GUID-C3D7069A-AA4D-49D9-B8D7-849858AFF06B"></a>See Also:</p>
<p><a class="olink CCREF1100" target="_blank" href="../CCREF/crptpkg.htm#CCREF1100"><span class="italic">Oracle Text Reference</span></a> for more information about this package</p>
</div>
<p>The <code>CTX_REPORT</code> package contains the following procedures:</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2962"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-DD83438B-2EB2-4CFE-9872-191CB0798A03"><!-- --></a>CTX_REPORT.DESCRIBE_INDEX</dt>
<dt class="dlterm">CTX_REPORT.DESCRIBE_POLICY</dt>
<dd>
<p>These procedures create reports that describe an existing index or policy, including the settings of the index metadata, the indexing objects used, the settings of the attributes of the objects, and (for <code>CTX_REPORT.DESCRIBE_INDEX</code>) index partition information, if any. These procedures are especially useful for diagnosing index-related problems.</p>
<p>This is sample output from <code>DESCRIBE_INDEX</code>, run on a simple context index:</p>
<pre>=================================================================
                        INDEX DESCRIPTION
=================================================================
index name:                      &#34;DR_TEST&#34;.&#34;TDRBPRX0&#34;
index id:                        1160
index type:                      context
base table:                      &#34;DR_TEST&#34;.&#34;TDRBPR&#34;
primary key column:              ID
text column:                     TEXT2
text column type:                VARCHAR2(80)
language column:
format column:
charset column:
=================================================================
                          INDEX OBJECTS
=================================================================
datastore:                       DIRECT_DATASTORE
filter:                          NULL_FILTER
section group:                   NULL_SECTION_GROUP
lexer:                           BASIC_LEXER
wordlist:                        BASIC_WORDLIST
   stemmer:                         ENGLISH
   fuzzy_match:                     GENERIC
stoplist:                        BASIC_STOPLIST
   stop_word:                       teststopword
storage:                         BASIC_STORAGE
   r_table_clause:                  lob (data) store as (cache)
   i_index_clause:                  compress 2
</pre></dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2963"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-0101B4F5-3F5A-487F-B6EF-9C2B29198B2B"><!-- --></a>CTX_REPORT.CREATE_INDEX_SCRIPT</dt>
<dt class="dlterm">CTX_REPORT.CREATE_POLICY_SCRIPT</dt>
<dd>
<p><code>CREATE_INDEX_SCRIPT</code> creates a SQL*Plus script that can create a duplicate of a given text index. Use this when you have an index but you do not have the original script (if any) that was used to create this index, and you want to be able to re-create the index. For example, if you accidentally drop a script, <code>CREATE_INDEX_SCRIPT</code> can re-create it. Likewise, <code>CREATE_INDEX_SCRIPT</code> can be useful if you have inherited indexes from another user but not the scripts that created them.</p>
<p><code>CREATE_POLICY_SCRIPT</code> does the same thing as <code>CREATE_INDEX_SCRIPT</code>, except that it enables you to re-create a policy instead of an index.</p>
<p>This is sample output from <code>CREATE_INDEX_SCRIPT</code>, run on a simple context index (not a complete listing):</p>
<pre>begin
  ctx_ddl.create_preference(&#39;&#34;TDRBPRX0_DST&#34;&#39;,&#39;DIRECT_DATASTORE&#39;);
end;
/
...
/
begin
  ctx_ddl.create_section_group(&#39;&#34;TDRBPRX0_SGP&#34;&#39;,&#39;NULL_SECTION_GROUP&#39;);
end;
/
...
begin
  ctx_ddl.create_preference(&#39;&#34;TDRBPRX0_WDL&#34;&#39;,&#39;BASIC_WORDLIST&#39;);
  ctx_ddl.set_attribute(&#39;&#34;TDRBPRX0_WDL&#34;&#39;,&#39;STEMMER&#39;,&#39;ENGLISH&#39;);
  ctx_ddl.set_attribute(&#39;&#34;TDRBPRX0_WDL&#34;&#39;,&#39;FUZZY_MATCH&#39;,&#39;GENERIC&#39;);
end;
/
begin
  ctx_ddl.create_stoplist(&#39;&#34;TDRBPRX0_SPL&#34;&#39;,&#39;BASIC_STOPLIST&#39;);
  ctx_ddl.add_stopword(&#39;&#34;TDRBPRX0_SPL&#34;&#39;,&#39;teststopword&#39;);
end;
/
...
/
begin
  ctx_output.start_log(&#39;TDRBPRX0_LOG&#39;);
end;
/
create index &#34;DR_TEST&#34;.&#34;TDRBPRX0&#34;
  on &#34;DR_TEST&#34;.&#34;TDRBPR&#34;
      (&#34;TEXT2&#34;)
  indextype is ctxsys.context
  parameters(&#39;
    datastore       &#34;TDRBPRX0_DST&#34;
    filter          &#34;TDRBPRX0_FIL&#34;
    section group   &#34;TDRBPRX0_SGP&#34;
    lexer           &#34;TDRBPRX0_LEX&#34;
    wordlist        &#34;TDRBPRX0_WDL&#34;
    stoplist        &#34;TDRBPRX0_SPL&#34;
    storage         &#34;TDRBPRX0_STO&#34;
  &#39;)
/
</pre></dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2964"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-795AE8D4-0C48-407A-A1A6-296DEF893C49"><!-- --></a>CTX_REPORT.INDEX_SIZE</dt>
<dd>
<p>This procedure creates a report showing the names of the internal index objects, along with their tablespaces, allocated sizes, and used sizes. It is useful for DBAs who may need to monitor the size of their indexes (for example, when disk space is at a premium).</p>
<p>Sample output from this procedure looks like this (partial listing):</p>
<pre>=================================================================
                INDEX SIZE FOR DR_TEST.TDRBPRX10
=================================================================
TABLE:                          DR_TEST.DR$TDRBPRX10$I
TABLESPACE NAME:                DRSYS
BLOCKS ALLOCATED:                                            4
BLOCKS USED:                                                 1
BYTES ALLOCATED:                               8,192 (8.00 KB)
BYTES USED:                                    2,048 (2.00 KB)

INDEX (LOB):                    DR_TEST.SYS_IL0000023161C00006$$
TABLE NAME:                     DR_TEST.DR$TDRBPRX10$I
TABLESPACE NAME:                DRSYS
BLOCKS ALLOCATED:                                            5
BLOCKS USED:                                                 2
BYTES ALLOCATED:                             10,240 (10.00 KB)
BYTES USED:                                    4,096 (4.00 KB)

INDEX (NORMAL):                 DR_TEST.DR$TDRBPRX10$X
TABLE NAME:                     DR_TEST.DR$TDRBPRX10$I
TABLESPACE NAME:                DRSYS
BLOCKS ALLOCATED:                                            4
BLOCKS USED:                                                 2
BYTES ALLOCATED:                               8,192 (8.00 KB)
BYTES USED:                                    4,096 (4.00 KB)
</pre></dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2965"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-B1CD5F99-ADAE-4BF5-9150-D0A64D879C03"><!-- --></a>CTX_REPORT.INDEX_STATS</dt>
<dd>
<p><code>INDEX_STATS</code> produces a variety of calculated statistics about an index, such as how many documents are indexed, how many unique tokens the index contains, average size of its tokens, fragmentation information for the index, and so on. An example of a use of <code>INDEX_STATS</code> might be in optimizing stoplists.</p>
<p>See <a class="olink CCREF1100" target="_blank" href="../CCREF/crptpkg.htm#CCREF1100"><span class="italic">Oracle Text Reference</span></a> for an example of the output of this procedure.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2966"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-6A01957E-9443-42B5-992B-CF880A6F6229"><!-- --></a>CTX_REPORT.QUERY_LOG_SUMMARY</dt>
<dd>
<p>This procedure creates a report of logged queries, which you can use to perform simple analyses. With query analysis, you can find out:</p>
<ul style="list-style-type: disc;">
<li>
<p>which queries were made</p>
</li>
<li>
<p>which queries were successful</p>
</li>
<li>
<p>which queries were unsuccessful</p>
</li>
<li>
<p>how many times each query was made</p>
</li>
</ul>
<p>You can combine these factors in various ways, such as determining the 50 most frequent unsuccessful queries made by your application.</p>
<p>See <a class="olink CCREF1100" target="_blank" href="../CCREF/crptpkg.htm#CCREF1100"><span class="italic">Oracle Text Reference</span></a> for an example of the output of this procedure.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2967"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-6F9A02C4-E69E-450A-9952-7BEA0DCA224C"><!-- --></a>CTX_REPORT.TOKEN_INFO</dt>
<dd>
<p><code>TOKEN_INFO</code> is used mainly to diagnose query problems; for instance, to check that index data is not corrupted. As an example, you can use it to find out which documents are producing unexpected or bad tokens.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-2968"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-CAFF9517-E0FA-4097-81A2-D0367168B1AB__GUID-55ED5FAB-BA35-47BD-B1E3-C24024A9D5C5"><!-- --></a>CTX_REPORT.TOKEN_TYPE</dt>
<dd>
<p>This is a lookup function, used mainly as input to other functions (<code>CTX_DDL.OPTIMIZE_INDEX</code>, <code>CTX_REPORT.TOKEN_INFO</code>, and so on).</p>
</dd>
</dl>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6351">
<tr>
<td class="cellalignment6358">
<table class="cellalignment6356">
<tr>
<td class="cellalignment6355"><a href="GUID-096E9A77-2BDC-4543-A689-9D574A05F199.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6355"><a href="GUID-C8C62D18-695A-4F78-9126-90FBCD75BBB6.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6360">
<table class="cellalignment6354">
<tr>
<td class="cellalignment6355"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6355"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6355"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6355"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6355"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6355"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
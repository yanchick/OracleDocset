<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-2887"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Improved%20Response%20Time%20using%20SEPARATE_OFFSETS%20Option%20of%20CONTEXT%20Index"></a><title>Improved Response Time using SEPARATE_OFFSETS Option of CONTEXT Index</title>
<meta name="generator" content="DITA Open Toolkit version 1.7.5"/>
<meta name="dcterms.created" content="2015-05-15T00:35:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Application Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41398-07"/>
<meta name="dcterms.isVersionOf" content="CCAPP"/>
<meta name="dcterms.rights" content="Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-9AD2AB93-2FB6-4C49-8082-046ED90F2C08.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-54F2466B-7D05-45AC-A64E-04717F75C507.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41398-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8D3C30AE-D466-46C1-A281-916B7D48994C"></a> <span id="PAGE" style="display:none;">213/321</span> <!-- End Header --><a id="CCAPP9553"></a>
<h1 id="CCAPP-GUID-8D3C30AE-D466-46C1-A281-916B7D48994C" class="sect1">Improved Response Time using SEPARATE_OFFSETS Option of CONTEXT Index</h1>
<div>
<p>Oracle Text provides the <a id="d30604e53" class="indexterm-anchor"></a><code>SEPARATE_OFFSETS</code> option for improving the query performance for the CONTEXT indexes that extensively use IO operations, and whose queries are mainly single-word or Boolean queries.</p>
<p>The <code>SEPARATE_OFFSETS</code> option creates a different postings list structure for the tokens of type TEXT. Instead of interspersing docids, frequencies, info-length (length of the offsets information), and the offsets in the postings list, the <code>SEPARATE_OFFSETS</code> option stores all the docids and the frequencies together at the beginning of the postings list, and all the info-lengths and the offsets at the end of the postings list. The header at the beginning of the posting contains the information about the boundary points between the docids and the offsets. This separation of the docids and the offsets reduces the time for the queries to read the data, thus improving the query response time.</p>
<p>The performance of the <code>SEPARATE_OFFSETS</code> option is best realized when it is used in conjunction with the BIG_IO option, and is used for the tokens with very long posting.</p>
<p>To create a CONTEXT index with the <code>SEPARATE_OFFSETS</code> index option, first create a basic storage preference by setting the value of its <code>SEPARATE_OFFSETS</code> storage attribute to <code>T</code>, and then specify this storage preference while creating the CONTEXT index.</p>
<p>The following example creates a basic storage preference <code>mystore</code> and sets the value of its <code>SEPARATE_OFFSETS</code> storage attribute to <code>T</code>:</p>
<pre>exec ctx_ddl.create_preference(&#39;mystore&#39;, &#39;BASIC_STORAGE&#39;);
exec ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;SEPARATE_OFFSETS&#39;, &#39;T&#39;);
</pre>
<p>To disable the SEPARATE_OFFSETS option, update the existing storage preference (<code>mystore</code>) by setting the value of its <code>SEPARATE_OFFSETS</code> storage attribute to <code>F</code>, and then rebuild the index.</p>
<pre>exec ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;SEPARATE_OFFSETS&#39;, &#39;F&#39;);
alter index idx rebuild(&#39;replace storage mystore&#39;);
</pre>
<div class="infoboxnotewarn" id="GUID-8D3C30AE-D466-46C1-A281-916B7D48994C__GUID-A8158A06-5648-4AD9-BEA0-2321746BD819">
<p class="notep1"><a id="GUID-A8158A06-5648-4AD9-BEA0-2321746BD819"></a>WARNING:</p>
<p>Do not use replace metadata operation to disable the SEPARATE_OFFSETS index option, as it can leave the index in an inconsistent state.</p>
</div>
<p>To enable the SEPARATE_OFFSETS option for a partitioned index without rebuilding the index, modify the basic storage preference by setting the value of its <code>SEPARATE_OFFSETS</code> storage attribute to <code>T</code>, replace the global index metadata using <code>ctx_ddl.replace_index_metadata</code>, and then call <code>optimize_index</code> in REBUILD mode for each of the partitions of the partitioned index table.</p>
<p>The following example enables the SEPARATE_OFFSETS option for the partitioned index <code>idx</code>:</p>
<pre>exec ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;SEPARATE_OFFSETS&#39;, &#39;T&#39;);
exec ctx_ddl.replace_index_metadata(&#39;idx&#39;, &#39;replace storage mystore&#39;);
exec ctx_ddl.optimize_index(&#39;idx&#39;, &#39;rebuild&#39;, part_name=&gt;&#39;part1&#39;);
</pre>
<div class="infobox-note" id="GUID-8D3C30AE-D466-46C1-A281-916B7D48994C__GUID-A378A48E-AC57-4955-89BE-3CE72B574A28">
<p class="notep1"><a id="GUID-A378A48E-AC57-4955-89BE-3CE72B574A28"></a>Note:</p>
<p>If a procedure modifies the existing index tables with only the SEPARATE_OFFSETS option enabled, then it will not result in reindexing of the data.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6351">
<tr>
<td class="cellalignment6358">
<table class="cellalignment6356">
<tr>
<td class="cellalignment6355"><a href="GUID-9AD2AB93-2FB6-4C49-8082-046ED90F2C08.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6355"><a href="GUID-54F2466B-7D05-45AC-A64E-04717F75C507.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6360">
<table class="cellalignment6354">
<tr>
<td class="cellalignment6355"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6355"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6355"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6355"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6355"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6355"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
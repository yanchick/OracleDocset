<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-2830"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Augmenting%20Knowledge%20Base%20with%20Custom%20Thesaurus"></a><title>Augmenting Knowledge Base with Custom Thesaurus</title>
<meta name="generator" content="DITA Open Toolkit version 1.7.5"/>
<meta name="keywords" content="knowledge base, augmenting, thesaurus, adding to knowledge base, linking new terms, ctxload, load thesaurus example, CTX_THES.IMPORT_THESAURUS, ctxkbtc, example"/>
<meta name="dcterms.created" content="2015-05-15T00:35:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Application Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41398-07"/>
<meta name="dcterms.isVersionOf" content="CCAPP"/>
<meta name="dcterms.rights" content="Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-8251B968-DB73-4125-9A2E-E19F1FA03EDD.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41398-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-63336C63-95D9-45FB-8824-A166A44E1370"></a> <span id="PAGE" style="display:none;">274/321</span> <!-- End Header --><a id="CCAPP9343"></a>
<h1 id="CCAPP-GUID-63336C63-95D9-45FB-8824-A166A44E1370" class="sect1">Augmenting Knowledge Base with Custom Thesaurus</h1>
<div>
<div class="section">
<p>You can add your custom thesaurus to a branch in the existing knowledge base. The knowledge base is a hierarchical tree of concepts used for theme indexing, <code>ABOUT</code> queries, and deriving themes for document services.</p>
<p>When you augment the existing knowledge base with your new thesaurus, you query with the <code>ABOUT</code> operator which implicitly expands to synonyms and narrower terms. You do not query with the thesaurus operators.</p>
<p>To augment the existing knowledge base with your custom thesaurus, follow these steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create your custom thesaurus, linking new terms to existing knowledge base terms. See <span class="q">&#34;<a href="GUID-241A1449-F84B-4C47-97C0-376EA68DCC88.htm#GUID-241A1449-F84B-4C47-97C0-376EA68DCC88">Defining Terms in a Thesaurus</a>&#34;</span> and <span class="q">&#34;<a href="GUID-63336C63-95D9-45FB-8824-A166A44E1370.htm#GUID-45C350FA-B73A-468C-9727-E4EE8A40244D">Linking New Terms to Existing Terms</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Load thesaurus by one of the following methods:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Using the <code>ctxload</code> utility. See <span class="q">&#34;<a href="GUID-63336C63-95D9-45FB-8824-A166A44E1370.htm#GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A">Loading a Thesaurus with ctxload</a>&#34;</span>.</p>
</li>
<li>
<p>Using the PL/SQL procedure <code>CTX_THES.IMPORT_THESAURUS</code>. See <span class="q">&#34;<a href="GUID-63336C63-95D9-45FB-8824-A166A44E1370.htm#GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76">Loading a Thesaurus with PL/SQL procedure CTX_THES.IMPORT_THESAURUS</a>&#34;</span>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Compile the loaded thesaurus with <code>ctxkbtc</code> compiler. Refer to <span class="q">&#34;<a href="GUID-63336C63-95D9-45FB-8824-A166A44E1370.htm#GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3">Compiling a Loaded Thesaurus</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Index your documents. By default the system creates a theme component to your index.</span></li>
<li class="stepexpand"><span>Use <code>ABOUT</code> operator to query. For example, to find all documents that are related to the term politics including any synonyms or narrower terms as defined in the knowledge base, enter the query:</span>
<div>
<pre>&#39;about(politics)&#39;
</pre></div>
</li>
</ol>
</div>
<a id="CCAPP9344"></a>
<div class="props_rev_3" lang="en-US" id="GUID-CFCDE045-2B61-494B-8B35-42CDDD71A01C"><a name="GUID-CFCDE045-2B61-494B-8B35-42CDDD71A01C"></a>
<h2 id="CCAPP-GUID-CFCDE045-2B61-494B-8B35-42CDDD71A01C" class="sect2">Advantage</h2>
<div>
<p>Compiling your custom thesaurus with the existing knowledge base before indexing enables faster and simpler queries with the <code>ABOUT</code> operator. Document services can also take full advantage of the customized information for creating theme summaries and Gists.</p>
</div>
</div>
<a id="CCAPP9345"></a>
<div class="props_rev_3" lang="en-US" id="GUID-F5C612D5-AF53-46BE-B171-930CCE1C8B84"><a name="GUID-F5C612D5-AF53-46BE-B171-930CCE1C8B84"></a>
<h2 id="CCAPP-GUID-F5C612D5-AF53-46BE-B171-930CCE1C8B84" class="sect2">Limitations</h2>
<div>
<p>Use of the <code>ABOUT</code> operator requires a theme component in the index, which requires slightly more disk space. You must also define the thesaurus before indexing your documents. If you make any change to the thesaurus, you must recompile your thesaurus and re-index your documents.</p>
</div>
</div>
<a id="CCAPP9346"></a>
<div class="props_rev_3" lang="en-US" id="GUID-45C350FA-B73A-468C-9727-E4EE8A40244D"><a name="GUID-45C350FA-B73A-468C-9727-E4EE8A40244D"></a>
<h2 id="CCAPP-GUID-45C350FA-B73A-468C-9727-E4EE8A40244D" class="sect2">Linking New Terms to Existing Terms</h2>
<div>
<p>When adding terms to the knowledge base, Oracle recommends that new terms be linked to one of the categories in the knowledge base for best results in theme proving.</p>
<div class="infoboxnotealso" id="GUID-45C350FA-B73A-468C-9727-E4EE8A40244D__GUID-5FA935D0-975F-4B9C-A63D-B1D205244E24">
<p class="notep1"><a id="GUID-5FA935D0-975F-4B9C-A63D-B1D205244E24"></a>See Also:</p>
<p><a class="olink CCREF" target="_blank" href="../CCREF/toc.htm"><span class="italic">Oracle Text Reference</span></a> for more information about the supplied English knowledge base</p>
</div>
<p>If new terms are kept completely separate from existing categories, fewer themes from new terms will be proven. The result of this is poor precision and recall with <code>ABOUT</code> queries as well as poor quality of gists and theme highlighting.</p>
<p>You link new terms to existing terms by making an existing term the broader term for the new terms.</p>
</div>
<a id="CCAPP9347"></a>
<div class="props_rev_3" lang="en-US" id="GUID-D4F939A2-9439-4F32-A2B4-E54072B42E06"><a name="GUID-D4F939A2-9439-4F32-A2B4-E54072B42E06"></a>
<h3 id="CCAPP-GUID-D4F939A2-9439-4F32-A2B4-E54072B42E06" class="sect3">Example: Linking New Terms to Existing Terms</h3>
<div>
<p>You purchase a medical thesaurus <code>medthes</code> containing a a hierarchy of medical terms. The four top terms in the thesaurus are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Anesthesia and Analgesia</p>
</li>
<li>
<p>Anti-Allergic and Respiratory System Agents</p>
</li>
<li>
<p>Anti-Inflammatory Agents, Antirheumatic Agents, and Inflammation Mediators</p>
</li>
<li>
<p>Antineoplastic and Immunosuppressive Agents</p>
</li>
</ul>
<p>To link these terms to the existing knowledge base, add the following entries to the medical thesaurus to map the new terms to the existing <span class="italic">health and medicine</span> branch:</p>
<pre>health and medicine
 NT Anesthesia and Analgesia
 NT Anti-Allergic and Respiratory System Agents
 NT Anti-Inflamammatory Agents, Antirheumatic Agents, and Inflamation Mediators
 NT Antineoplastic and Immunosuppressive Agents
</pre></div>
</div>
</div>
<a id="CCAPP9348"></a>
<div class="props_rev_3" lang="en-US" id="GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A"><a name="GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A"></a>
<h2 id="CCAPP-GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A" class="sect2">Loading a Thesaurus with ctxload</h2>
<div>
<p>Assuming the medical thesaurus is in a file called <code>med.thes</code>, you load the thesaurus as <code>medthes</code> with <code>ctxload</code> as follows:</p>
<pre>ctxload -thes -thescase y -name medthes -file med.thes -user ctxsys
</pre>
<p>When you enter the <code>ctxload</code> command line, you are prompted for the user password. For best security practices, never enter the password at the command line. Alternatively, you may omit the <code>-user</code> and let <code>ctxload</code> prompt you for username and password, respectively.</p>
</div>
</div>
<a id="CCAPP9558"></a>
<div class="props_rev_3" lang="en-US" id="GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76"><a name="GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76"></a>
<h2 id="CCAPP-GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76" class="sect2">Loading a Thesaurus with PL/SQL procedure CTX_THES.IMPORT_THESAURUS</h2>
<div>
<p>The following example creates a case-sensitive thesaurus named <code>mythesaurus</code> and imports the thesaurus content present in <code>myclob</code> into the Oracle Text thesaurus tables:</p>
<pre>declare 
 myclob clob; 
begin 
 myclob := to_clob(&#39;peking SYN beijing BT capital country NT beijing tokyo&#39;);
 ctx_thes.import_thesaurus(&lsquo;mythesaurus&#39;, myclob, &lsquo;Y&#39;);
end;
</pre>
<p>The format of the thesaurus to be imported (<code>myclob</code> in this example) should be the same as used by the <code>ctxload</code> utility. If the format of the thesaurus to be imported is not correct, then <code>IMPORT_THESAURUS</code> raises an exception.</p>
</div>
</div>
<a id="CCAPP9349"></a>
<div class="props_rev_3" lang="en-US" id="GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3"><a name="GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3"></a>
<h2 id="CCAPP-GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3" class="sect2">Compiling a Loaded Thesaurus</h2>
<div>
<p>To link the loaded thesaurus <code>medthes</code> to the knowledge base, use <code>ctxkbtc</code> as follows:</p>
<pre>ctxkbtc -user ctxsys -name medthes 
</pre>
<p>When you enter the <code>ctxkbtc</code> command line, you are prompted for the user password. As with <code>ctxload</code>, for best security practices, do not enter the password at the command line.</p>
<div class="infoboxnotewarn" id="GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3__GUID-751CEC24-DA5A-45F8-A89F-A8D29DCB3D4E">
<p class="notep1"><a id="GUID-751CEC24-DA5A-45F8-A89F-A8D29DCB3D4E"></a>WARNING:</p>
<p>In order to ensure sound security practices, Oracle recommends that you enter the password for <code>ctxload</code> and <code>ctxkbtc</code> using the interactive mode, which prompts you for the user password. Oracle strongly recommends that you do not enter a password on the command line.</p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6351">
<tr>
<td class="cellalignment6358">
<table class="cellalignment6356">
<tr>
<td class="cellalignment6355"><a href="GUID-8251B968-DB73-4125-9A2E-E19F1FA03EDD.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6355"><a href="GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6360">
<table class="cellalignment6354">
<tr>
<td class="cellalignment6355"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6355"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6355"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6355"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6355"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6355"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
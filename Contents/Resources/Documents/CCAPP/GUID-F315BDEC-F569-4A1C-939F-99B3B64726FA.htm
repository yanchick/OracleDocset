<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-3019"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Performance%20Tuning%20with%20CDI"></a><title>Performance Tuning with CDI</title>
<meta name="generator" content="DITA Open Toolkit version 1.7.5"/>
<meta name="dcterms.created" content="2015-05-15T00:35:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Application Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41398-07"/>
<meta name="dcterms.isVersionOf" content="CCAPP"/>
<meta name="dcterms.rights" content="Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-0A82CB4D-A252-4838-ACA1-8EF10FCD9A29.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-E282E4C7-6F64-46AB-909D-1E2F07A563CF.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41398-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-F315BDEC-F569-4A1C-939F-99B3B64726FA"></a> <span id="PAGE" style="display:none;">217/321</span> <!-- End Header --><a id="CCAPP9513"></a><a id="CCAPP9246"></a>
<h1 id="CCAPP-GUID-F315BDEC-F569-4A1C-939F-99B3B64726FA" class="sect1">Performance Tuning with CDI</h1>
<div>
<p>Support for mapping a <code>FILTER</code> <code>BY</code> column to <code>MDATA</code> enables query performance to be optimized for equality searches by restricting supported functionality of <code>RANGE</code> and <code>LIKE</code>. However, mapping a <code>FILTER</code> <code>BY</code> column to <code>MDATA</code> is not recommended if the <code>FILTER</code> <code>BY</code> column contains sequential values, or has very high cardinality. Doing so can result in a very long and narrow <code>$I</code> table and reduced <code>$X</code> performance. One example of such a sequential column might be one that uses <code>DATE</code> stamp. For such sequential columns, mapping to <code>SDATA</code> is recommended.</p>
<p>The following hints can be used to push or not push the <code>SORT</code> and <code>FILTER</code> <code>BY</code> predicates into the CDI:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>DOMAIN_INDEX_SORT</code>. The query optimizer will try to push the applicable sorting criteria into the specified composite domain index.</p>
</li>
<li>
<p><code>DOMAIN_INDEX_NO_SORT</code>. The query optimizer will try NOT to push sorting criteria into the specified composite domain index.</p>
</li>
<li>
<p><code>DOMAIN_INDEX_FILTER</code>(<span class="italic">table name</span> <span class="italic">index name</span>). The query optimizer will try to push the applicable <code>FILTER</code> <code>BY</code> predicate(s) into the specified composite domain index.</p>
</li>
<li>
<p><code>DOMAIN_INDEX_NO_FILTER</code>(<span class="italic">table name</span> <span class="italic">index name</span>). The query optimizer will not try to push the applicable <code>FILTER</code> <code>BY</code> predicate(s) into the specified composite domain index.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-F315BDEC-F569-4A1C-939F-99B3B64726FA__GUID-A07D0C51-E53C-4FE5-842A-EFDC900126AD">
<p class="notep1"><a id="GUID-A07D0C51-E53C-4FE5-842A-EFDC900126AD"></a>Note:</p>
<p>The <code>domain_index_filter</code> hint does not force the query optimizer to use CDI. Instead, if the cost-based optimizer chooses to use the CDI, then it should also push the filter predicate into the index. To force the query optimizer to choose CDI index, you additionally need to use the <code>INDEX</code> hint.</p>
</div>
<div class="example" id="GUID-F315BDEC-F569-4A1C-939F-99B3B64726FA__GUID-C727C451-D842-423D-83BD-7F17AB4C3295">
<p class="titleinexample"><a id="GUID-C727C451-D842-423D-83BD-7F17AB4C3295"></a>Example 7-1 Performance Tuning a Text Query with CDI Hints</p>
<p>The following example performs an optimized query on the table <code>books</code>.</p>
<pre>SELECT bookid, pub_date, source FROM
  (SELECT /*+ domain_index_sort domain_index_filter(books books_ctxcdi) */ bookid, pub_date, source
      FROM books
      WHERE CONTAINS(text, &#39;aaa&#39;,1)&gt;0 AND bookid &gt;= 80
      ORDER BY PUB_DATE desc nulls last, SOURCE asc  nulls last, score(1) desc)
 WHERE rownum &lt; 20;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6351">
<tr>
<td class="cellalignment6358">
<table class="cellalignment6356">
<tr>
<td class="cellalignment6355"><a href="GUID-0A82CB4D-A252-4838-ACA1-8EF10FCD9A29.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6355"><a href="GUID-E282E4C7-6F64-46AB-909D-1E2F07A563CF.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6360">
<table class="cellalignment6354">
<tr>
<td class="cellalignment6355"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6355"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6355"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6355"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6355"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6355"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
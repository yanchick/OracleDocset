<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-2877"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Frequently%20Asked%20Questions%20About%20Indexing%20Performance"></a><title>Frequently Asked Questions About Indexing Performance</title>
<meta name="generator" content="DITA Open Toolkit version 1.7.5"/>
<meta name="keywords" content="indexing performance, FAQs, performance tuning, indexing, indexing time, index memory, memory allocation, MAX_INDEX_MEMORY, DEFAULT_INDEX_MEMORY, SORT_AREA_SIZE, SGA memory allocation, document format, affect on index performance, AUTO_FILTER filter, parallel indexing, parallel, partitioned table"/>
<meta name="dcterms.created" content="2015-05-15T00:35:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Application Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41398-07"/>
<meta name="dcterms.isVersionOf" content="CCAPP"/>
<meta name="dcterms.rights" content="Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-90312BBE-00D7-4200-B6AF-77CAFAA5D2F3.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-45D2A9BB-17BC-4B68-A3F1-A0C01B4ACDA3.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41398-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9"></a> <span id="PAGE" style="display:none;">224/321</span> <!-- End Header --><a id="CCAPP9272"></a>
<h1 id="CCAPP-GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9" class="sect1">Frequently Asked Questions About Indexing Performance</h1>
<div>
<p>This section answers some of the frequently asked questions about indexing performance.</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-A8DD62AA-F50D-4929-A692-61180F5BACE1">How long should indexing take?</a></p>
</li>
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-BBF8E750-E6C9-4149-AB88-8403EC583536">Which index memory settings should I use?</a></p>
</li>
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-AF9AEA5F-7665-4342-8EC8-963701CABCB4">How much disk overhead will indexing require?</a></p>
</li>
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-24EF49DB-AFFB-499C-BC57-000941C6833F">How does the format of my data affect indexing?</a></p>
</li>
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-7ADB0B30-0E1A-4308-B941-3BEEA5DEA5E5">Can parallel indexing improve performance?</a></p>
</li>
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-EA5B318D-9D38-4D4E-925B-8FA9CFD81561">How can I improve index performance for creating local partitioned index?</a></p>
</li>
<li>
<p><a href="GUID-82000645-74B9-407E-A9C0-C1ACEE319BD9.htm#GUID-E89DE5BB-7C25-4901-A890-B7925506A3DF">How can I tell how much indexing has completed?</a></p>
</li>
</ul>
</div>
<a id="CCAPP9273"></a>
<div class="props_rev_3" lang="en-US" id="GUID-A8DD62AA-F50D-4929-A692-61180F5BACE1"><a name="GUID-A8DD62AA-F50D-4929-A692-61180F5BACE1"></a>
<h2 id="CCAPP-GUID-A8DD62AA-F50D-4929-A692-61180F5BACE1" class="sect2">How long should indexing take?</h2>
<div>
<p><span class="bold">Answer:</span> Indexing text is a resource-intensive process. The speed of indexing will depend on the power of the hardware involved. Indexing speed depends on CPU and I/O capacity. Given sufficient I/O capacity to read in the original data and write out index entries, then CPU will be the limiting factor.</p>
<p>Tests with Intel x86 (Core 2 architecture, 2.5GHz) CPUs have shown that Oracle Text can index around 100GB of text per CPU core, per day. This would be expected to increase as CPU clock speeds increase and/or CPU architectures become more efficient.</p>
<p>Other factors such as your document format, location of your data, and the calls to user-defined datastores, filters, and lexers can have an impact on your indexing speed.</p>
</div>
</div>
<a id="CCAPP9274"></a>
<div class="props_rev_3" lang="en-US" id="GUID-BBF8E750-E6C9-4149-AB88-8403EC583536"><a name="GUID-BBF8E750-E6C9-4149-AB88-8403EC583536"></a>
<h2 id="CCAPP-GUID-BBF8E750-E6C9-4149-AB88-8403EC583536" class="sect2">Which index memory settings should I use?</h2>
<div>
<p><span class="bold">Answer:</span> You can set your index memory with the system parameters <code>DEFAULT_INDEX_MEMORY</code> and <code>MAX_INDEX_MEMORY</code>. You can also set your index memory at run time with the <code>CREATE INDEX</code> <code>memory</code> parameter in the parameter string.</p>
<p>You should aim to set the <code>DEFAULT_INDEX_MEMORY</code> value as high as possible, without causing paging.</p>
<p>You can also improve Indexing performance by increasing the <code>SORT_AREA_SIZE</code> system parameter.</p>
<p>Oracle recommends that you use a large index memory setting. Large settings, even up to hundreds of megabytes, can improve the speed of indexing, and reduce the fragmentation of the final indexes. However, if you set the index memory setting too high, then memory paging can occur that will reduce indexing speed.</p>
<p>With parallel indexing, each stream requires its own index memory. When dealing with very large tables, you can tune your database system global area (SGA) differently for indexing and retrieval. For querying, you want to get as much information cached in the system global area&#39;s (SGA) block buffer cache as possible. So you should allocate a large amount of memory to the block buffer cache. But this will not make any difference to indexing, so you would be better off reducing the size of the SGA to make more room for a large index memory settings during indexing.</p>
<p>You set the size of SGA in your Oracle Database initialization file.</p>
<div class="infoboxnotealso" id="GUID-BBF8E750-E6C9-4149-AB88-8403EC583536__GUID-D9908D9A-EBDC-4258-A538-AED03646C7B4">
<p class="notep1"><a id="GUID-D9908D9A-EBDC-4258-A538-AED03646C7B4"></a>See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CCREF0245" target="_blank" href="../CCREF/cdatadic.htm#CCREF0245"><span class="italic">Oracle Text Reference</span></a> to learn more about Oracle Text system parameters</p>
</li>
<li>
<p><a class="olink ADMIN" target="_blank" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information on setting SGA related parameters</p>
</li>
<li>
<p><a class="olink TGDBA" target="_blank" href="../TGDBA/toc.htm"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information on memory allocation and setting the <code>SORT_AREA_SIZE</code> parameter</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CCAPP9275"></a>
<div class="props_rev_3" lang="en-US" id="GUID-AF9AEA5F-7665-4342-8EC8-963701CABCB4"><a name="GUID-AF9AEA5F-7665-4342-8EC8-963701CABCB4"></a>
<h2 id="CCAPP-GUID-AF9AEA5F-7665-4342-8EC8-963701CABCB4" class="sect2">How much disk overhead will indexing require?</h2>
<div>
<p><span class="bold">Answer:</span> The overhead, the amount of space needed for the index tables, varies between about 50% of the original text volume and 200%. Generally, the larger the total amount of text, the smaller the overhead, but many small records will use more overhead than fewer large records. Also, clean data (such as published text) will require less overhead than dirty data such as e-mails or discussion notes, because the dirty data is likely to include many unique words from mis-spellings and abbreviations.</p>
<p>A text-only index is smaller than a combined text and theme index. A prefix and substring index makes the index significantly larger.</p>
</div>
</div>
<a id="CCAPP9276"></a>
<div class="props_rev_3" lang="en-US" id="GUID-24EF49DB-AFFB-499C-BC57-000941C6833F"><a name="GUID-24EF49DB-AFFB-499C-BC57-000941C6833F"></a>
<h2 id="CCAPP-GUID-24EF49DB-AFFB-499C-BC57-000941C6833F" class="sect2">How does the format of my data affect indexing?</h2>
<div>
<p><span class="bold">Answer:</span> You can expect much lower storage overhead for formatted documents such as Microsoft Word files because such documents tend to be very large compared to the actual text held in them. So 1GB of Word documents might only require 50MB of index space, whereas 1GB of plain text might require 500MB, because there is ten times as much plain text in the latter set.</p>
<p>Indexing time is less clear-cut. Although the reduction in the amount of text to be indexed will have an obvious effect, you must balance this out against the cost of filtering the documents with the <code>AUTO_FILTER</code> filter or other user-defined filters.</p>
</div>
</div>
<a id="CCAPP9277"></a>
<div class="props_rev_3" lang="en-US" id="GUID-7ADB0B30-0E1A-4308-B941-3BEEA5DEA5E5"><a name="GUID-7ADB0B30-0E1A-4308-B941-3BEEA5DEA5E5"></a>
<h2 id="CCAPP-GUID-7ADB0B30-0E1A-4308-B941-3BEEA5DEA5E5" class="sect2">Can parallel indexing improve performance?</h2>
<div>
<p><span class="bold">Answer:</span> Parallel indexing can improve index performance when you have a large amount of data, and have multiple CPUs.</p>
<p>You use the <code>PARALLEL</code> keyword when creating the index:</p>
<pre>CREATE INDEX index_name ON table_name (column_name) 
INDEXTYPE IS ctxsys.context PARAMETERS (&#39;...&#39;) PARALLEL 3;
</pre>
<p>This will create the index with up to three separate indexing processes depending on your resources.</p>
<p>Parallel indexing can also be used to create local partitioned indexes on partitioned tables. However, indexing performance only improves when you have multiple CPUs.</p>
<div class="infobox-note" id="GUID-7ADB0B30-0E1A-4308-B941-3BEEA5DEA5E5__GUID-CCAE3B53-7729-4E68-8A52-9CF4D35A5954">
<p class="notep1"><a id="GUID-CCAE3B53-7729-4E68-8A52-9CF4D35A5954"></a>Note:</p>
<p>Using <code>PARALLEL</code> to create a local partitioned index enables parallel queries. (Creating a non-partitioned index in parallel does not turn on parallel query processing.)</p>
<p>Parallel querying degrades query throughput especially on heavily loaded systems. Because of this, Oracle recommends that you disable parallel querying after parallel indexing. To do so, use <code>ALTER INDEX NOPARALLEL</code>.</p>
</div>
</div>
</div>
<a id="CCAPP9278"></a>
<div class="props_rev_3" lang="en-US" id="GUID-EA5B318D-9D38-4D4E-925B-8FA9CFD81561"><a name="GUID-EA5B318D-9D38-4D4E-925B-8FA9CFD81561"></a>
<h2 id="CCAPP-GUID-EA5B318D-9D38-4D4E-925B-8FA9CFD81561" class="sect2">How can I improve index performance for creating local partitioned index?</h2>
<div>
<p><span class="bold">Answer:</span> When you have multiple CPUs, you can improve indexing performance by creating a local index in parallel. There are two ways to index in parallel:</p>
<p>You can create a local partitioned index in parallel in two ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the <code>PARALLEL</code> clause with the <code>LOCAL</code> clause in <code>CREATE INDEX.</code>In this case, the maximum parallel degree is limited to the number of partitions you have.</p>
</li>
<li>
<p>Create an unusable index first, then run the <code>DBMS_PCLXUTIL.BUILD_PART_INDEX</code> utility. This method can result in a higher degree of parallelism, especially if you have more CPUs than partitions.</p>
</li>
</ul>
<p>The following is an example for the second method. In this example, the base table has three partitions. We create a local partitioned unusable index first, the run the <code>DBMS_PCLUTIL.BUILD_PART_INDEX</code>, which builds the 3 partitions in parallel (inter-partition parallelism). Also inside each partition, index creation is done in parallel (intra-partition parallelism) with a parallel degree of 2.</p>
<pre>create index tdrbip02bx on tdrbip02b(text) 
indextype is ctxsys.context local (partition tdrbip02bx1, 
                                   partition tdrbip02bx2, 
                                   partition tdrbip02bx3) 
unusable; 

exec dbms_pclxutil.build_part_index(3,2,&#39;TDRBIP02B&#39;,&#39;TDRBIP02BX&#39;,TRUE); 
</pre></div>
</div>
<a id="CCAPP9279"></a>
<div class="props_rev_3" lang="en-US" id="GUID-E89DE5BB-7C25-4901-A890-B7925506A3DF"><a name="GUID-E89DE5BB-7C25-4901-A890-B7925506A3DF"></a>
<h2 id="CCAPP-GUID-E89DE5BB-7C25-4901-A890-B7925506A3DF" class="sect2">How can I tell how much indexing has completed?</h2>
<div>
<p><span class="bold">Answer:</span> You can use the <code>CTX_OUTPUT.START_LOG</code> procedure to log output from the indexing process. Filename will normally be written to <code>$ORACLE_HOME/ctx/log</code>, but you can change the directory using the <code>LOG_DIRECTORY</code> parameter in <code>CTX_ADM.SET_PARAMETER</code>.</p>
<div class="infoboxnotealso" id="GUID-E89DE5BB-7C25-4901-A890-B7925506A3DF__GUID-45113A64-4C60-423E-B5D5-9F3753B6108B">
<p class="notep1"><a id="GUID-45113A64-4C60-423E-B5D5-9F3753B6108B"></a>See Also:</p>
<p><a class="olink CCREF0800" target="_blank" href="../CCREF/coutpkg.htm#CCREF0800"><span class="italic">Oracle Text Reference</span></a> to learn more about using this procedure</p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6351">
<tr>
<td class="cellalignment6358">
<table class="cellalignment6356">
<tr>
<td class="cellalignment6355"><a href="GUID-90312BBE-00D7-4200-B6AF-77CAFAA5D2F3.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6355"><a href="GUID-45D2A9BB-17BC-4B68-A3F1-A0C01B4ACDA3.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright &nbsp;&copy;&nbsp;2001, 2015, Oracle and/or its affiliates. All rights reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6360">
<table class="cellalignment6354">
<tr>
<td class="cellalignment6355"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6355"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6355"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6355"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6355"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6355"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
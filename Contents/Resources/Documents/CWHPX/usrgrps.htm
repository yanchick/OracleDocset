<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-4949"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Users%2C%20Groups%20and%20Environments%20for%20Oracle%20Grid%20Infrastructure%20and%20Oracle%20RAC"></a><title>Configuring Users, Groups and Environments for Oracle Grid Infrastructure and Oracle RAC</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T1:48:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide"/>
<meta name="dcterms.identifier" content="E51134-05"/>
<meta name="dcterms.isVersionOf" content="CWHPX"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="networks.htm" title="Previous" type="text/html"/>
<link rel="Next" href="storage.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E51134-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/20</span> <!-- End Header -->
<div id="CWHPX483" class="chapter"><a id="CHDIGEIH"></a>
<h1 class="chapter"><span class="secnum">5</span> Configuring Users, Groups and Environments for Oracle Grid Infrastructure and Oracle RAC</h1>
<p>This chapter describes the users, groups user environment and management environment settings to complete before you install Oracle Grid Infrastructure for a Cluster and Oracle Real Application Clusters.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABFBGCI">Creating Groups, Users and Paths for Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABIDIJE">Configuring Grid Infrastructure Software Owner User Environments</a></p>
</li>
<li>
<p><a href="#BABFIBJH">Enabling Intelligent Platform Management Interface (IPMI)</a></p>
</li>
<li>
<p><a href="#CHDHBDIJ">Determining Root Script Execution Plan</a></p>
</li>
</ul>
<a id="BABFBGCI"></a>
<div id="CWHPX164" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.1</span> Creating Groups, Users and Paths for Oracle Grid Infrastructure</h2>
<p>Log in as <code dir="ltr">root</code>, and use the following instructions to locate or create the Oracle Inventory group and a software owner for Oracle Grid Infrastructure.</p>
<ul>
<li>
<p><a href="#CEGDECJJ">Determining If the Oracle Inventory and Oracle Inventory Group Exists</a></p>
</li>
<li>
<p><a href="#CEGJJBJJ">Creating the Oracle Inventory Group If an Oracle Inventory Does Not Exist</a></p>
</li>
<li>
<p><a href="#CEGGEHID">Creating the Oracle Grid Infrastructure User</a></p>
</li>
<li>
<p><a href="#CEGFAGAI">Creating the Oracle Base Directory Path</a></p>
</li>
<li>
<p><a href="#BABHJFFG">About Job Role Separation Operating System Privileges Groups and Users</a></p>
</li>
<li>
<p><a href="#CEGGHAHC">Example of Creating Standard Groups, Users, and Paths</a></p>
</li>
<li>
<p><a href="#CEGDDFGG">Example of Creating Role-allocated Groups, Users, and Paths</a></p>
</li>
<li>
<p><a href="#CEGJJJFG">Creating the External Jobs User Account for HP-UX</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
During an Oracle Grid Infrastructure installation, both Oracle Clusterware and Oracle Automatic Storage Management are installed. You no longer can have separate Oracle Clusterware installation owners and Oracle Automatic Storage Management installation owners.</div>
<a id="CEGDECJJ"></a>
<div id="CWHPX165" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.1</span> <a id="sthref172"></a><a id="sthref173"></a><a id="sthref174"></a><a id="sthref175"></a>Determining If the Oracle Inventory and Oracle Inventory Group Exists</h3>
<p>When you install Oracle software on the system for the first time, OUI creates the <code dir="ltr">oraInst.loc</code> file. This file identifies the name of the Oracle Inventory group (by default, <code dir="ltr">oinstall</code>), and the path of the Oracle Central Inventory directory. An <a id="sthref176"></a><a id="sthref177"></a><a id="sthref178"></a><code dir="ltr">oraInst.loc</code> file has contents similar to the following:</p>
<pre dir="ltr">inventory_loc=<span class="italic">central_inventory_location</span>
inst_group=<span class="italic">group</span>
</pre>
<p><a id="sthref179"></a>In the preceding example, <code dir="ltr"><span class="codeinlineitalic">central_inventory_location</span></code> is the location of the Oracle central inventory, and <code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the group that has permissions to write to the central inventory (the OINSTALL group privilege).</p>
<p><a id="sthref180"></a>For Oracle Grid Infrastructure installations, the central inventory must be on local storage on the node.</p>
<p>If you have an existing Oracle central inventory, then ensure that you use the same Oracle Inventory for all Oracle software installations, and ensure that all Oracle software users you intend to use for installation have permissions to write to this directory.</p>
<p>To determine if you have an Oracle Inventory on your system:</p>
<ol>
<li>
<p>Enter the following command:<a id="sthref181"></a><a id="sthref182"></a><a id="sthref183"></a><a id="sthref184"></a></p>
<pre dir="ltr"># more /var/opt/oracle/oraInst.loc
</pre>
<p>If the <code dir="ltr">oraInst.loc</code> file exists, then the output from this command is similar to the following:</p>
<pre dir="ltr">inventory_loc=/u01/app/oracle/oraInventory
inst_group=oinstall
</pre>
<p>In the previous output example:</p>
<ul>
<li>
<p>The <code dir="ltr">inventory_loc</code> group shows the location of the Oracle Inventory</p>
</li>
<li>
<p>The <code dir="ltr">inst_group</code> parameter shows the name of the Oracle Inventory group (in this example, <code dir="ltr">oinstall</code>).</p>
</li>
</ul>
</li>
<li>
<p>Ensure that Oracle Inventory group members are granted the HP-UX privileges RTPRIO, MLOCK, and RTSCHED. For example:</p>
<pre dir="ltr"># /usr/bin/getprivgrp oinstall
oinstall: RTPRIO MLOCK RTSCHED
</pre>
<p>If the group is not granted these privileges, then add these privileges as described in the next section.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGJJBJJ"></a>
<div id="CWHPX166" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.2</span> Creating the Oracle Inventory Group If an Oracle Inventory Does Not Exist<a id="sthref185"></a><a id="sthref186"></a></h3>
<p>If the <code dir="ltr">oraInst.loc</code> file does not exist, then complete the following tasks:</p>
<ol>
<li>
<p>Create the Oracle Inventory group by entering a command similar to the following:</p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54321 oinstall
</pre>
<p><a id="sthref187"></a>The preceding command creates the oraInventory group <code dir="ltr">oinstall</code>, with the group ID number 54321. Members of the oraInventory group are granted privileges to write to the Oracle central inventory (<code dir="ltr">oraInventory</code>).</p>
<p>By default, if an oraInventory group does not exist, then the installer lists the primary group of the installation owner for the Oracle Grid Infrastructure for a Cluster software as the oraInventory group. Ensure that this group is available as a primary group for all planned Oracle software installation owners.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref188"></a>Group and user IDs must be identical on all nodes in the cluster. Check to make sure that the group and user IDs you want to use are available on each cluster member node, and confirm that the primary group for each Oracle Grid Infrastructure for a Cluster installation owner has the same name and group ID.</div>
</li>
<li>
<p>If it does not already exist, create the <code dir="ltr">/etc/privgroup</code> file. Add a line similar to the following to grant Oracle installation owners the RTPRIO, MLOCK, and RTSCHED privileges:</p>
<pre dir="ltr">oinstall RTPRIO MLOCK RTSCHED
</pre>
<p>If <code dir="ltr">/etc/privgroup</code> exists, then add these privileges to the Oracle Inventory group. For example:</p>
<pre dir="ltr"># /usr/sbin/setprivgrp oinstall RTPRIO MLOCK RTSCHED
</pre>
<p>Confirm the grant of privileges to the group. For example:</p>
<pre dir="ltr"># /usr/bin/getprivgrp oinstall
oinstall: RTPRIO MLOCK RTSCHED
</pre></li>
<li>
<p>Repeat this procedure on all of the other nodes in the cluster.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CEGGEHID"></a>
<div id="CWHPX167" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.3</span> Creating the Oracle Grid Infrastructure User<a id="sthref189"></a><a id="sthref190"></a><a id="sthref191"></a><a id="sthref192"></a></h3>
<p>You must create a software owner for Oracle Clusterware in the following circumstances:</p>
<ul>
<li>
<p>If an Oracle software owner user does not exist; for example, if this is the first installation of Oracle software on the system</p>
</li>
<li>
<p>If an Oracle software owner user exists, but you want to use a different operating system user, with different group membership, to separate Oracle Grid Infrastructure administrative privileges from Oracle Database administrative privileges.</p>
<p>In Oracle documentation, a user created to own only Oracle Grid Infrastructure software installations is called the <code dir="ltr">grid</code> user. A user created to own either all Oracle installations, or only Oracle database installations, is called the <code dir="ltr">oracle</code> user.</p>
</li>
</ul>
<div id="CWHPX168" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref193"></a>
<h4 class="sect3"><span class="secnum">5.1.3.1</span> Understanding Restrictions for Oracle Software Installation Owners</h4>
<p>Review the following restrictions for users created to own Oracle software:</p>
<ul>
<li>
<p>If you intend to use <a id="sthref194"></a><a id="sthref195"></a>multiple Oracle software owners for different Oracle Database homes, then Oracle recommends that you create a separate software owner for Oracle Grid Infrastructure software (Oracle Clusterware and Oracle ASM), and use that owner to run the Oracle Grid Infrastructure installation.</p>
</li>
<li>
<p><a id="sthref196"></a>During installation, SSH must be set up between cluster member nodes. SSH can be set up automatically by Oracle Universal Installer (the installer). To enable SSH to be set up automatically, create Oracle installation owners without any <code dir="ltr">stty</code> commands in their profiles, and remove other security measures that are triggered during a login that generate messages to the terminal. These messages, mail checks, and other displays prevent Oracle software installation owner accounts from using the SSH configuration script that is built into the installer. If they are not disabled, then SSH must be configured manually before an installation can be run.</p>
</li>
<li>
<p><a id="sthref197"></a>If you plan to install Oracle Database or Oracle RAC, then Oracle recommends that you create separate users for the Oracle Grid Infrastructure and the Oracle Database installations. If you use one installation owner, then when you want to perform administration tasks, you must change the value for <code dir="ltr">$ORACLE_HOME</code> to the instance you want to administer (Oracle ASM, in the Oracle Grid Infrastructure home, or the database in the Oracle home), using command syntax such as the following example, where <code dir="ltr">/u01/app/12.1.0/grid</code> is the Oracle Grid Infrastructure home:</p>
<p><code dir="ltr">$ ORACLE_HOME=/u01/app/12.1.0/grid; export ORACLE_HOME</code></p>
</li>
<li>
<p><a id="sthref198"></a><a id="sthref199"></a><a id="sthref200"></a><a id="sthref201"></a><a id="sthref202"></a>If you try to administer an Oracle home or Grid home instance using <code dir="ltr">sqlplus</code>, <code dir="ltr">lsnrctl</code>, or <code dir="ltr">asmcmd</code> commands while the environment variable <code dir="ltr">$ORACLE_HOME</code> is set to a different Oracle home or Grid home path, then you encounter errors. For example, when you start SRVCTL from a database home, <code dir="ltr">$ORACLE_HOME</code> should be set to that database home, or SRVCTL fails. The exception is when you are using SRVCTL in the Oracle Grid Infrastructure home. In that case, <code dir="ltr">$ORACLE_HOME</code> is ignored, and the Oracle home environment variable does not affect SRVCTL commands. In all other cases, you must change <code dir="ltr">$ORACLE_HOME</code> to the instance that you want to administer.</p>
</li>
<li>
<p><a id="sthref203"></a>To create separate Oracle software owners and separate operating system privileges groups for different Oracle software installations, note that each of these users must have the Oracle central inventory group (oraInventory group) as their primary group. Members of this group are granted the OINSTALL system privileges to write to the Oracle central inventory (<code dir="ltr">oraInventory</code>) directory, and are also granted permissions for various Oracle Clusterware resources, OCR keys, directories in the Oracle Clusterware home to which DBAs need write access, and other necessary privileges. In Oracle documentation, this group is represented as <code dir="ltr">oinstall</code> in code examples.</p>
</li>
<li>
<p>Each Oracle software owner must be a member of the same central inventory oraInventory group, and they must have this group as their primary group, so that all Oracle software installation owners share the same OINSTALL system privileges. Oracle recommends that you do not have more than one central inventory for Oracle installations. If an Oracle software owner has a different central inventory group, then you may corrupt the central inventory.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div id="CWHPX169" class="sect3"><a id="sthref204"></a>
<h4 class="sect3"><span class="secnum">5.1.3.2</span> Determining if an Oracle Software Owner User Exists<a id="sthref205"></a><a id="sthref206"></a><a id="sthref207"></a><a id="sthref208"></a></h4>
<p>To determine whether an Oracle software owner user named <code dir="ltr">oracle</code> or <code dir="ltr">grid</code> exists, enter a command similar to the following (in this case, to determine if <code dir="ltr">oracle</code> exists):</p>
<pre dir="ltr"># id oracle
</pre>
<p>If the user exists, then the output from this command is similar to the following:</p>
<pre dir="ltr">uid=54421(oracle) gid=54321(oinstall) groups=54322(dba),54323(oper)
</pre>
<p>Determine whether you want to use the existing user, or create another user. The user and group ID numbers must be the same on each node you intend to make a cluster member node.</p>
<p>To use the existing user, ensure that the user&#39;s primary group is the Oracle Inventory group (<code dir="ltr">oinstall</code>).</p>
</div>
<!-- class="sect3" -->
<div id="CWHPX170" class="sect3"><a id="sthref209"></a>
<h4 class="sect3"><span class="secnum">5.1.3.3</span> Creating or Modifying an Oracle Software Owner User<a id="sthref210"></a> for Oracle Grid Infrastructure</h4>
<p>If the Oracle software owner (<code dir="ltr">oracle</code>, <code dir="ltr">grid</code>) user does not exist, or if you require a new Oracle software owner user, then create it. If you want to use an existing user account, then modify it to ensure that the user ID and group IDs are the same on each cluster member node.</p>
<p><a id="sthref211"></a><a id="sthref212"></a><a id="sthref213"></a><a id="sthref214"></a>Oracle recommends that you do not use the defaults on each node, because UIDs and GIDs assigned by default are likely to be different on each node. Instead, determine specifically named and numbered UIDs and GIDs, and confirm that they are unused on any node before you create or modify groups and users. Oracle strongly recommends that you confirm that you have identical user configuration on each node you intend to make a cluster member node before you start installation, and that the UID and GIDs do not need to be changed. If you need to change UIDs and GIDs for Oracle software users and groups, then you must reinstall the software.</p>
<p>Oracle does not support changing the UID or GID or group memberships for a user account that you have previously used to install and configure Oracle RAC or Oracle Grid Infrastructure. Oracle does not support changing the ownership of an existing Oracle Database home from one Oracle user to a different user.</p>
<p>If you must modify an existing Grid installation owner after previously installing Oracle Grid Infrastructure (for example, if you want to modify an existing Oracle Database user account before you install Oracle RAC, to distinguish between the Oracle Grid Infrastructure owner and the Oracle RAC Oracle Database owner user accounts), then you must stop and start Oracle Clusterware on each node (in a rolling fashion) to pick up the changes made to the user account that owns Oracle Grid Infrastructure.</p>
<p>The following procedures use <code dir="ltr">grid</code> as the name of the Oracle software owner, and <code dir="ltr">asmadmin</code> as the OSASM group. To create separate system privilege groups to separate administration privileges, complete group creation before you create the user, as described in <a href="#BABHJFFG">Section 5.1.7, &#34;About Job Role Separation Operating System Privileges Groups and Users,&#34;</a>.</p>
<ol>
<li>
<p>To create a grid installation owner account where you have an existing system privileges group (in this example, <code dir="ltr">dba</code>), whose members you want to have granted the <code dir="ltr">SYSASM</code> privilege to administer the Oracle ASM instance, enter a command similar to the following:<a id="sthref215"></a><a id="sthref216"></a></p>
<pre dir="ltr"># /usr/sbin/useradd -u 54321 -g oinstall -G dba grid
</pre>
<p>In the preceding command:</p>
<ul>
<li>
<p>The <code dir="ltr">-u</code> option specifies the user ID. Using this command flag is optional, as you can allow the system to provide you with an automatically generated user ID number. However, you must make note of the user ID number of the user you create for Oracle Grid Infrastructure, as you require it later during preinstallation, and you must have the same user ID number for this user on all nodes of the cluster.</p>
</li>
<li>
<p>The <code dir="ltr">-g</code> option specifies the primary group, which must be the Oracle Inventory group. For example: <code dir="ltr">oinstall</code>.</p>
</li>
<li>
<p>The -G option specified the secondary group, which in this example is <code dir="ltr">dba</code>.</p>
<p>The secondary groups must include the OSASM group, whose members are granted the <code dir="ltr">SYSASM</code> privilege to administer the Oracle ASM instance. You can designate a unique group for the <code dir="ltr">SYSASM</code> system privileges, separate from database administrator groups, or you can designate one group as the OSASM and OSDBA group, so that members of that group are granted the <code dir="ltr">SYSASM</code> and <code dir="ltr">SYSDBA</code> privileges to grant system privileges to administer both the Oracle ASM instances and Oracle Database instances. In code examples, this group is <code dir="ltr">asmadmin</code>.</p>
<p>If you are creating this user to own both Oracle Grid Infrastructure and an Oracle Database installation, then this user must have the OSDBA for ASM group as a secondary group. In code examples, this group name is <code dir="ltr">asmdba</code>. Members of the OSDBA for ASM group are granted access to Oracle ASM storage. You must create an OSDBA for ASM group if you plan to have multiple databases accessing Oracle ASM storage, or you must use the same group as the OSDBA for all databases, and for the OSDBA for ASM group.</p>
</li>
</ul>
<p>Use the <code dir="ltr">usermod</code> command to change existing user id numbers and groups.</p>
<p>For example:</p>
<pre dir="ltr"># id oracle
uid=501(oracle) gid=501(oracle) groups=501(oracle)
# /usr/sbin/usermod -u 54421 -g 54331 -G 54321,54322,54327 oracle
# id oracle
uid=54421(oracle) gid=54331(oinstall) groups=54321(oinstall),54322(dba),54327 (asmdba)
</pre></li>
<li>
<p>Set the password of the user that will own Oracle Grid Infrastructure. For example:</p>
<pre dir="ltr"># passwd grid
</pre></li>
<li>
<p>Repeat this procedure on all of the other nodes in the cluster.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If necessary, contact your system administrator before using or modifying an existing user.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CWHPX10054" class="sect2"><a id="sthref217"></a>
<h3 class="sect2"><span class="secnum">5.1.4</span> About the Oracle Base Directory for the Grid User</h3>
<p>The Oracle base directory for the Oracle Grid Infrastructure installation is the location where diagnostic and administrative logs, and other logs associated with Oracle ASM and Oracle Clusterware are stored. For Oracle installations other than Oracle Grid Infrastructure for a cluster, it is also the location under which an Oracle home is placed.</p>
<p>However, in the case of an Oracle Grid Infrastructure installation, you must create a <span class="italic">different</span> path, so that the path for Oracle bases remains available for other Oracle installations.</p>
<p>For OUI to recognize the Oracle base path, it must be in the form u[<span class="italic">00-99</span>][00-99]/app, and it must be writable by any member of the oraInventory (<code dir="ltr">oinstall</code>) group. The OFA path for the Oracle base is u[00-99][00-99]<code dir="ltr">/app/</code><code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the software installation owner. For example:</p>
<pre dir="ltr">/u01/app/grid
</pre></div>
<!-- class="sect2" -->
<div id="CWHPX10055" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref218"></a>
<h3 class="sect2"><span class="secnum">5.1.5</span> About the Oracle Home Directory for Oracle Grid Infrastructure Software</h3>
<p>The Oracle home for Oracle Grid Infrastructure software (Grid home) should be located in a path that is different from the Oracle home directory paths for any other Oracle software. The Optimal Flexible Architecture guideline for a Grid home is to create a path in the form /<span class="italic">pm</span>/<span class="italic">v</span>/<span class="italic">u</span>, where <span class="italic">/p</span> is a string constant, /<span class="italic">m</span> is a unique fixed-length key (typically a two-digit number), /<span class="italic">v</span> is the version of the software, and /<span class="italic">u</span> is the installation owner of the Oracle Grid Infrastructure software (Grid user). During Oracle Grid Infrastructure for a cluster installation, the path of the Grid home is changed to the <code dir="ltr">root</code> user, so any other users are unable to read, write, or execute commands in that path.</p>
<p>For example, to create a Grid home in the standard mount point path format u[00-99][00-99]/app/<span class="italic">release</span>/grid, where <span class="italic">release</span> is the release number of the Oracle Grid Infrastructure software, create the following path:</p>
<pre dir="ltr">/u01/app/12.1.0/grid
</pre>
<p>During installation, ownership of the entire path to the Grid home is changed to <code dir="ltr">root</code>. (<code dir="ltr">/u01</code>, <code dir="ltr">/u01/app</code>, <code dir="ltr">/u01/app/12.1.0</code>, <code dir="ltr">/u01/app/12.1.0/grid</code>). If you do not create a unique path to the Grid home, then after the Grid install, you can encounter permission errors for other installations, including any existing installations under the same path.</p>
<p>To avoid placing the application directory in the mount point under root ownership, you can create and select paths such as the following for the Grid home:</p>
<pre dir="ltr">/u01/12.1.0/grid
</pre>
<div class="infobox-note">
<p class="notep1">Caution:</p>
<a id="sthref219"></a><a id="sthref220"></a><a id="sthref221"></a>For Oracle Grid Infrastructure for a cluster installations, note the following restrictions for the Oracle Grid Infrastructure binary home (Grid home directory for Oracle Grid Infrastructure):
<ul>
<li>
<p>It must not be placed under one of the Oracle base directories, including the Oracle base directory of the Oracle Grid Infrastructure installation owner.</p>
</li>
<li>
<p>It must not be placed in the home directory of an installation owner.</p>
</li>
</ul>
<p>These requirements are specific to Oracle Grid Infrastructure for a cluster installations. Oracle Grid Infrastructure for a standalone server (Oracle Restart) can be installed under the Oracle base for the Oracle Database installation.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST0015" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST0015"><span class="italic">Oracle Database Installation Guide</span></a> for details about Optimal Flexible Architecture (OFA) guidelines</div>
</div>
<!-- class="sect2" -->
<div id="CWHPX10056" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref222"></a>
<h3 class="sect2"><span class="secnum">5.1.6</span> Creating the Oracle Home and Oracle Base Directory</h3>
<p>Oracle recommends that you create Oracle Grid Infrastructure Grid home and Oracle base homes manually, particularly if you have separate Oracle Grid Infrastructure for a cluster and Oracle Database software owners, so that you can separate log files for the Oracle Grid Infrastructure installation owner in a separate Oracle base, and prevent accidental placement of the Grid home under an Oracle base path.</p>
<p>For example:</p>
<pre dir="ltr"># mkdir -p /u01/app/12.1.0/grid
# mkdir -p /u01/app/grid
# mkdir -p /u01/app/oracle
# chown -R grid:oinstall /u01
# chown oracle:oinstall /u01/app/oracle
# chmod -R 775 /u01/
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="concepts.htm#BABDBFHE">Appendix D, &#34;Oracle Grid Infrastructure for a Cluster Installation Concepts&#34;</a> for more details about Oracle base and Oracle home directories</div>
</div>
<!-- class="sect2" -->
<a id="BABHJFFG"></a>
<div id="CWHPX173" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.7</span> About Job Role Separation Operating System Privileges Groups and Users<a id="sthref223"></a></h3>
<p>A job role separation configuration of Oracle Database and Oracle ASM is a configuration with groups and users to provide separate groups for operating system authentication.</p>
<p>With Oracle Database job role separation, each Oracle Database installation has separate operating system groups to provide authentication for system privileges on that Oracle Database, so multiple databases can be installed on the cluster without sharing operating system authentication for system privileges. In addition, each Oracle software installation is owned by a separate installation owner, to provide operating system user authentication for modifications to Oracle Database binaries.</p>
<p>With Oracle Grid Infrastructure job role separation, Oracle ASM has separate operating system groups that provides operating system authentication for Oracle ASM system privileges for storage tier administration. This operating system authentication is separated from Oracle Database operating system authentication. In addition, the Oracle Grid Infrastructure installation owner provides operating system user authentication for modifications to Oracle Grid Infrastructure binaries.</p>
<p>During the Oracle Database installation, Oracle Universal Installer (OUI) prompts you to specify the name of the OSDBA, OSOPER, OSBACKUPDBA, OSDGDBA and OSKMDBA groups. Members of these groups are granted operating system authentication for the set of database system privileges each group authorizes. Oracle recommends that you create different operating system groups for each set of system privileges.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This configuration is optional, to restrict user access to Oracle software by responsibility areas for different administrator users.</div>
<p>You can choose to create one administrative user and one group for operating system authentication for all system privileges on the storage and database tiers.</p>
<p>For example, you can designate the <code dir="ltr">oracle</code> user to be the installation owner for all Oracle software, and designate <code dir="ltr">oinstall</code> to be the group whose members are granted all system privileges for Oracle Clusterware; all system privileges for Oracle ASM; all system privileges for all Oracle Databases on the servers; and all OINSTALL system privileges for installation owners. This group must also be the Oracle Inventory group.</p>
<p>If you do not want to use role allocation groups, then Oracle strongly recommends that you use at least two groups:</p>
<ul>
<li>
<p>A system privileges group whose members are granted administrative system privileges, including OSDBA, OSASM, and other system privileges groups.</p>
</li>
<li>
<p>An installation owner group (the oraInventory group) whose members are granted Oracle installation owner system privileges (the OINSTALL system privilege).</p>
</li>
</ul>
<p>To simplify using the defaults for Oracle tools such as Cluster Verification Utility, if you do choose to use a single operating system group to grant all system privileges and the right to write to the oraInventory, then that group name should be <code dir="ltr">oinstall</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref224"></a><a id="sthref225"></a><a id="sthref226"></a>To configure users for installation that are on a network directory service such as Network Information Services (NIS), refer to your directory service documentation.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11010" href="../ADMIN/dba.htm#ADMIN11010"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about planning for system privileges authentication</p>
</li>
<li>
<p><a class="olink OSTMG94101" href="../OSTMG/GUID-359A6592-6AF6-483E-9B31-C70DB308608D.htm#OSTMG94101"><span class="italic">Oracle Database Storage Administrator&#39;s Guide</span></a> for more information about Oracle ASM operating system authentication</p>
</li>
</ul>
</div>
<a id="BABHIJDF"></a>
<div id="CWHPX174" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.7.1</span> Overview of Creating Job Role Separation Groups and Users</h4>
<p>This section provides an overview of how to create users and groups to use job role separation. Log in as <code dir="ltr">root</code> to create these groups and users.</p>
<ul>
<li>
<p><a href="#BABCICIG">Users for Oracle Installations with Job Role Separation</a></p>
</li>
<li>
<p><a href="#BABJJDHA">Database Groups for Job Role Separation Installations</a></p>
</li>
<li>
<p><a href="#BABBAFJC">Oracle ASM Groups for Job Role Separation Installations</a></p>
</li>
</ul>
<a id="BABCICIG"></a>
<div id="CWHPX175" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.7.1.1</span> Users for Oracle Installations with Job Role Separation</h5>
<p>Oracle recommends that you create the following operating system groups and users for all installations where you create separate software installation owners:</p>
<p><span class="bold">One software owner to own each Oracle software product</span> (typically, <code dir="ltr">oracle</code>, for the database software owner user, and <code dir="ltr">grid</code> for Oracle Grid Infrastructure.<a id="sthref227"></a><a id="sthref228"></a><a id="sthref229"></a><a id="sthref230"></a><a id="sthref231"></a><a id="sthref232"></a><a id="sthref233"></a><a id="sthref234"></a><a id="sthref235"></a><a id="sthref236"></a><a id="sthref237"></a></p>
<p>You must create at least one software owner the first time you install Oracle software on the system. This user owns the Oracle binaries of the Oracle Grid Infrastructure software, and you can also make this user the owner of the Oracle Database or Oracle RAC binaries.</p>
<p>Oracle software owners must have the Oracle Inventory group as their primary group, so that each Oracle software installation owner can write to the central inventory (<code dir="ltr">oraInventory</code>), and so that OCR and Oracle Clusterware resource permissions are set correctly. The database software owner must also have the OSDBA group and (if you create it) the OSOPER group as secondary groups. In Oracle documentation, when Oracle software owner users are referred to, they are called <code dir="ltr">oracle</code> users.</p>
<p>Oracle recommends that you create separate software owner users to own each Oracle software installation. Oracle particularly recommends that you do this if you intend to install multiple databases on the system.</p>
<p>In Oracle documentation, a user created to own the Oracle Grid Infrastructure binaries is called the <code dir="ltr">grid</code> user. This user owns both the Oracle Clusterware and Oracle Automatic Storage Management binaries.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../CWADD/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> and <a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about the OSDBA, OSASM and OSOPER groups and the <code dir="ltr">SYSDBA</code>, <code dir="ltr">SYSASM</code> and <code dir="ltr">SYSOPER</code> privileges</div>
</div>
<!-- class="sect4" -->
<a id="BABJJDHA"></a>
<div id="CWHPX176" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.7.1.2</span> Database Groups for Job Role Separation Installations</h5>
<p>The following operating system groups and user are required if you are installing Oracle Database:</p>
<ul>
<li>
<p>The OSDBA group (typically, <code dir="ltr">dba</code>)<a id="sthref238"></a><a id="sthref239"></a><a id="sthref240"></a><a id="sthref241"></a><a id="sthref242"></a></p>
<p>You must create this group the first time you install Oracle Database software on the system. This group identifies operating system user accounts that have database administrative privileges (the <code dir="ltr">SYSDBA</code> privilege). If you do not create separate OSDBA, OSOPER and OSASM groups for the Oracle ASM instance, then operating system user accounts that have the <code dir="ltr">SYSOPER</code> and <code dir="ltr">SYSASM</code> privileges must be members of this group. The name used for this group in Oracle code examples is <code dir="ltr">dba</code>. <a id="sthref243"></a><a id="sthref244"></a>If you do not designate a separate group as the OSASM group, then the OSDBA group you define is also by default the OSASM group.</p>
<p>To specify a group name other than the default <code dir="ltr">dba</code> group, then you must choose the Advanced installation type to install the software or start Oracle Universal Installer (OUI) as a user that is not a member of this group. In this case, OUI prompts you to specify the name of this group.<a id="sthref245"></a></p>
<p>Members of the OSDBA group formerly were granted <code dir="ltr">SYSASM</code> privileges on Oracle ASM instances, including mounting and dismounting disk groups. This privileges grant is removed with Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2), if different operating system groups are designated as the OSDBA and OSASM groups. If the same group is used for both OSDBA and OSASM, then the privilege is retained.</p>
</li>
<li>
<p>The OSOPER group for Oracle Database (typically, <code dir="ltr">oper</code>)<a id="sthref246"></a><a id="sthref247"></a><a id="sthref248"></a><a id="sthref249"></a><a id="sthref250"></a></p>
<p>This is an optional group. Create this group if you want a separate group of operating system users to have a limited set of database administrative privileges (the <code dir="ltr">SYSOPER</code> privilege). By default, members of the OSDBA group also have all privileges granted by the <code dir="ltr">SYSOPER</code> privilege.</p>
<p>To use the OSOPER group to create a database administrator group with fewer privileges than the default <code dir="ltr">dba</code> group, then you must choose the Advanced installation type to install the software or start OUI as a user that is not a member of the <code dir="ltr">dba</code> group. In this case, OUI prompts you to specify the name of this group. The usual name chosen for this group is <code dir="ltr">oper</code>.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<a id="BABBAFJC"></a>
<div id="CWHPX177" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.7.1.3</span> <a id="sthref251"></a><a id="sthref252"></a><a id="sthref253"></a>Oracle ASM Groups for Job Role Separation Installations</h5>
<p><code dir="ltr">SYSASM</code> is a new system privilege that enables the separation of the Oracle ASM storage administration privilege from SYSDBA. With Oracle Automatic Storage Management 11<span class="italic">g</span> release 2 (11.2), members of the database OSDBA group are not granted <code dir="ltr">SYSASM</code> privileges, unless the operating system group designated as the OSASM group is the same group designated as the OSDBA group.</p>
<p>Select separate operating system groups as the operating system authentication groups for privileges on Oracle ASM. Before you start OUI, create the following groups and users for Oracle ASM</p>
<ul>
<li>
<p><a id="sthref254"></a><a id="sthref255"></a><a id="sthref256"></a><a id="sthref257"></a>The Oracle Automatic Storage Management Group (typically <code dir="ltr">asmadmin</code>)</p>
<p>This is a required group. Create this group as a separate group if you want to have separate administration privilege groups for Oracle ASM and Oracle Database administrators. In Oracle documentation, the operating system group whose members are granted privileges is called the OSASM group, and in code examples, where there is a group specifically created to grant this privilege, it is referred to as <code dir="ltr">asmadmin</code>.</p>
<p>If you have multiple databases on your system, and use multiple OSDBA groups so that you can provide separate SYSDBA privileges for each database, then you should create a separate OSASM group, and use a separate user from the database users to own the Oracle Grid Infrastructure installation (Oracle Clusterware and Oracle ASM). Oracle ASM can support multiple databases.<a id="sthref258"></a><a id="sthref259"></a><a id="sthref260"></a><a id="sthref261"></a><a id="sthref262"></a><a id="sthref263"></a></p>
<p>Members of the OSASM group can use SQL to connect to an Oracle ASM instance as <code dir="ltr">SYSASM</code> using operating system authentication. The <code dir="ltr">SYSASM</code> privileges permit mounting and dismounting disk groups, and other storage administration tasks. <code dir="ltr">SYSASM</code> privileges provide no access privileges on an RDBMS instance.</p>
</li>
<li>
<p>The Oracle ASM Database Administrator group (OSDBA for ASM, typically <code dir="ltr">asmdba</code>)<a id="sthref264"></a><a id="sthref265"></a><a id="sthref266"></a></p>
<p>Members of the Oracle ASM Database Administrator group (OSDBA for ASM) are granted read and write access to files managed by Oracle ASM. The Oracle Grid Infrastructure installation owner and all Oracle Database software owners must be a member of this group, and all users with OSDBA membership on databases that have access to the files managed by Oracle ASM must be members of the OSDBA group for ASM.</p>
</li>
<li>
<p><a id="sthref267"></a>Members of the Oracle ASM Operator Group (OSOPER for ASM, typically <code dir="ltr">asmoper</code>)</p>
<p>This is an optional group. Create this group if you want a separate group of operating system users to have a limited set of Oracle ASM instance administrative privileges (the SYSOPER for ASM privilege), including starting up and stopping the Oracle ASM instance. By default, members of the OSASM group also have all privileges granted by the SYSOPER for ASM privilege.</p>
<p>To use the Oracle ASM Operator group to create an Oracle ASM administrator group with fewer privileges than the default <code dir="ltr">asmadmin</code> group, then you must choose the Advanced installation type to install the software, In this case, OUI prompts you to specify the name of this group. In code examples, this group is <code dir="ltr">asmoper</code>.</p>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CWHPX10057" class="sect2"><a id="sthref268"></a>
<h3 class="sect2"><span class="secnum">5.1.8</span> Descriptions of Job Role Separation Groups and Users</h3>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGAJDG">Oracle Software Owner For Each Oracle Software Product</a></p>
</li>
<li>
<p><a href="#BABCBFFF">Standard Oracle Database Groups for Job Role Separation</a></p>
</li>
<li>
<p><a href="#BABIBIFC">Extended Oracle Database Groups for Job Role Separation</a></p>
</li>
<li>
<p><a href="#BABIADJC">Oracle ASM Groups for Job Role Separation</a></p>
</li>
</ul>
<a id="BABGAJDG"></a>
<div id="CWHPX10058" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.8.1</span> Oracle Software Owner For Each Oracle Software Product</h4>
<p>Oracle recommends that you create one software owner to own each Oracle software product (typically, <code dir="ltr">oracle</code>, for the database software owner user, and <code dir="ltr">grid</code> for Oracle Grid Infrastructure).<a id="sthref269"></a><a id="sthref270"></a><a id="sthref271"></a><a id="sthref272"></a><a id="sthref273"></a><a id="sthref274"></a><a id="sthref275"></a><a id="sthref276"></a><a id="sthref277"></a><a id="sthref278"></a><a id="sthref279"></a></p>
<p>You must create at least one software owner the first time you install Oracle software on the system. This user owns the Oracle binaries of the Oracle Grid Infrastructure software, and you can also make this user the owner of the Oracle Database or Oracle RAC binaries.</p>
<p>Oracle software owners must have the Oracle Inventory group as their primary group, so that each Oracle software installation owner can write to the central inventory (<code dir="ltr">oraInventory</code>), and so that OCR and Oracle Clusterware resource permissions are set correctly. The database software owner must also have the OSDBA group and (if you create them) the OSOPER, OSBACKUPDBA, OSDGDBA, and OSKMDBA groups as secondary groups. In Oracle documentation, when Oracle software owner users are referred to, they are called <code dir="ltr">oracle</code> users.</p>
<p>Oracle recommends that you create separate software owner users to own each Oracle software installation. Oracle particularly recommends that you do this if you intend to install multiple databases on the system.</p>
<p>In Oracle documentation, a user created to own the Oracle Grid Infrastructure binaries is called the <code dir="ltr">grid</code> user. This user owns both the Oracle Clusterware and Oracle Automatic Storage Management binaries.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG94093" href="../OSTMG/GUID-7396FD18-628B-4026-AA55-79C6D6205EAE.htm#OSTMG94093"><span class="italic">Oracle Database Storage Administrator&#39;s Guide</span></a> and <a class="olink ADMIN11052" href="../ADMIN/dba.htm#ADMIN11052"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about operating system groups and system privileges authentication</div>
</div>
<!-- class="sect3" -->
<a id="BABCBFFF"></a>
<div id="CWHPX10060" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.8.2</span> Standard Oracle Database Groups for Job Role Separation</h4>
<p>The following is a list of standard Oracle Database groups. These groups provide operating system authentication for database administration system privileges:</p>
<ul>
<li>
<p><span class="bold">OSDBA group</span> (typically, <code dir="ltr">dba</code>)<a id="sthref280"></a><a id="sthref281"></a><a id="sthref282"></a><a id="sthref283"></a><a id="sthref284"></a><a id="sthref285"></a></p>
<p>You must create this group the first time you install Oracle Database software on the system. This group identifies operating system user accounts that have database administrative privileges (the SYSDBA privilege). If you do not create separate OSDBA, OSOPER and OSASM groups for the Oracle ASM instance, then operating system user accounts that have the SYSOPER and SYSASM privileges must be members of this group. The name used for this group in Oracle code examples is <code dir="ltr">dba</code>. <a id="sthref286"></a><a id="sthref287"></a><a id="sthref288"></a><a id="sthref289"></a>If you do not designate a separate group as the OSASM group, then the OSDBA group you define is also by default the OSASM group.</p>
<p>To specify a group name other than the default <code dir="ltr">dba</code> group, you must either choose the Advanced installation type to install the software, or you start Oracle Universal Installer (OUI) as a user that is not a member of this group. If you start OUI with a user that is not a member of a group called <code dir="ltr">dba</code>, then OUI prompts you to specify the name of the OSDBA group.<a id="sthref290"></a></p>
<p>Members of the OSDBA group formerly were granted SYSASM privilege on Oracle ASM instances, including mounting and dismounting disk groups. This privileges grant is removed with Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2), if different operating system groups are designated as the OSDBA and OSASM groups. If the same group is used for both OSDBA and OSASM, then the privileges are retained.</p>
</li>
<li>
<p><span class="bold">OSOPER group for Oracle Database</span> (typically, <code dir="ltr">oper</code>)<a id="sthref291"></a><a id="sthref292"></a><a id="sthref293"></a><a id="sthref294"></a><a id="sthref295"></a></p>
<p>You can choose to create this group if you want a separate group of operating system users to have a limited set of database administrative privileges for starting up and shutting down the database (the <code dir="ltr">SYSOPER</code> privilege).</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABIBIFC"></a>
<div id="CWHPX10061" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.8.3</span> Extended Oracle Database Groups for Job Role Separation</h4>
<p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1), in addition to the OSOPER privileges to start up and shut down the database, you can create new administrative privileges that are more task-specific and less privileged than the OSDBA/SYSDBA system privileges to support specific administrative privileges tasks required for everyday database operation Users granted these system privileges are also authenticated through operating system group membership.</p>
<p>You do not have to create these specific group names, but during installation you are prompted to provide operating system groups whose members are granted access to these system privileges. You can assign the same group to provide authentication for these privileges, but Oracle recommends that you provide a unique group to designate each privilege.</p>
<p>The OSDBA subset job role separation privileges and groups consist of the following:</p>
<ul>
<li>
<p><a id="sthref296"></a><a id="sthref297"></a><a id="sthref298"></a><a id="sthref299"></a><span class="bold">OSBACKUPDBA group for Oracle Database</span> (typically, <code dir="ltr">backupdba</code>)</p>
<p>Create this group if you want a separate group of operating system users to have a limited set of database backup and recovery related administrative privileges (the SYSBACKUP privilege).</p>
</li>
<li>
<p><span class="bold"><a id="sthref300"></a><a id="sthref301"></a><a id="sthref302"></a><a id="sthref303"></a>OSDGDBA group for Oracle Data Guard</span> (typically, <code dir="ltr">dgdba</code>)</p>
<p>Create this group if you want a separate group of operating system users to have a limited set of privileges to administer and monitor Oracle Data Guard (the SYSDG privilege).</p>
</li>
<li>
<p><a id="sthref304"></a><a id="sthref305"></a><a id="sthref306"></a><a id="sthref307"></a><span class="bold">OSKMDBA group for encryption key management</span> (typically, <code dir="ltr">kmdba</code>)</p>
<p>Create this group if you want a separate group of operating sytem users to have a limited set of privileges for encryption key management such as Oracle Wallet Manager management (the SYSKM privilege).</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABIADJC"></a>
<div id="CWHPX10062" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.8.4</span> <a id="sthref308"></a><a id="sthref309"></a><a id="sthref310"></a><a id="sthref311"></a>Oracle ASM Groups for Job Role Separation</h4>
<p>The SYSASM, SYSOPER for ASM, and SYSDBA for ASM system privileges enables the separation of the Oracle ASM storage administration privileges from SYSDBA. Members of operating systems you designate are granted the system privileges for these roles. Select separate operating system groups as the operating system authentication groups for privileges on Oracle ASM.</p>
<p>Before you start OUI, create the following OS groups and users for Oracle ASM, whose members are granted the corresponding SYS privileges:</p>
<ul>
<li>
<p><a id="sthref312"></a><a id="sthref313"></a><a id="sthref314"></a><a id="sthref315"></a><a id="sthref316"></a><span class="bold">OSASM Group for Oracle ASM Administration</span> (typically <code dir="ltr">asmadmin</code>)</p>
<p>Create this group as a separate group if you want to have separate administration privileges groups for Oracle ASM and Oracle Database administrators. Members of this group are granted the SYSASM system privileges to administer Oracle ASM. In Oracle documentation, the operating system group whose members are granted privileges is called the OSASM group, and in code examples, where there is a group specifically created to grant this privilege, it is referred to as <code dir="ltr">asmadmin</code>.</p>
<p>Oracle ASM can support multiple databases. If you have multiple databases on your system, and use multiple OSDBA groups so that you can provide separate SYSDBA privileges for each database, then you should create a group whose members are granted the OSASM/SYSASM administrative privileges, and create a grid infrastructure user (<code dir="ltr">grid</code>) that does not own a database installation, so that you separate Oracle Grid Infrastructure SYSASM administrative privileges from a database administrative privileges group.</p>
<p>Members of the OSASM group can use SQL to connect to an Oracle ASM instance as SYSASM using operating system authentication. The SYSASM privileges permit mounting and dismounting disk groups, and other storage administration tasks. SYSASM privileges provide no access privileges on an RDBMS instance.</p>
</li>
<li>
<p><span class="bold">OSDBA for ASM Database Administrator group for ASM</span>, typically <code dir="ltr">asmdba</code>)<a id="sthref317"></a><a id="sthref318"></a><a id="sthref319"></a><a id="sthref320"></a><a id="sthref321"></a></p>
<p>Members of the ASM Database Administrator group (OSDBA for ASM) are granted read and write access to files managed by Oracle ASM. The Oracle Grid Infrastructure installation owner and all Oracle Database software owners must be a member of this group, and all users with OSDBA membership on databases that have access to the files managed by Oracle ASM must be members of the OSDBA group for ASM.</p>
</li>
<li>
<p><a id="sthref322"></a><a id="sthref323"></a><a id="sthref324"></a><a id="sthref325"></a><a id="sthref326"></a><span class="bold">OSOPER for ASM Group for ASM Operators</span> (OSOPER for ASM, typically <code dir="ltr">asmoper</code>)</p>
<p>This is an optional group. Create this group if you want a separate group of operating system users to have a limited set of Oracle ASM instance administrative privileges (the SYSOPER for ASM privilege), including starting up and stopping the Oracle ASM instance. By default, members of the OSASM group also have all privileges granted by the SYSOPER for ASM privilege.</p>
<p>To use the Oracle ASM Operator group to create an Oracle ASM administrator group with fewer privileges than the default <code dir="ltr">asmadmin</code> group, then you must choose the Advanced installation type to install the software, In this case, OUI prompts you to specify the name of this group. In code examples, this group is <code dir="ltr">asmoper</code>.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="CWHPX10063" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref327"></a>
<h3 class="sect2"><span class="secnum">5.1.9</span> Creating Job Role Separation Operating System Privileges Groups and User</h3>
<p>The following sections describe how to create the required operating system user and group for Oracle Grid Infrastructure and Oracle Database:</p>
<ul>
<li>
<p><a href="#BABBDJDA">Creating the OSDBA Group to Prepare for Database Installations</a></p>
</li>
<li>
<p><a href="#BABCBFAB">Creating an OSOPER Group for Database Installations</a></p>
</li>
<li>
<p><a href="#BABGHJDD">Creating the OSASM Group</a></p>
</li>
<li>
<p><a href="#BABBDAIC">Creating the OSOPER for ASM Group</a></p>
</li>
<li>
<p><a href="#BABBAIDJ">Creating the OSDBA for ASM Group for Database Access to Oracle ASM</a></p>
</li>
<li>
<p><a href="#BABIECDC">Oracle Software Owner User Installation Tasks</a></p>
</li>
<li>
<p><a href="#BABCACJH">Creating Identical Database Users and Groups on Other Cluster Nodes</a></p>
</li>
</ul>
<a id="BABBDJDA"></a>
<div id="CWHPX179" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.9.1</span> Creating the OSDBA Group to Prepare for Database Installations<a id="sthref328"></a><a id="sthref329"></a></h4>
<p>If you intend to install Oracle Database to use with the Oracle Grid Infrastructure installation, then you must create an OSDBA group in the following circumstances:</p>
<ul>
<li>
<p>An OSDBA group does not exist; for example, if this is the first installation of Oracle Database software on the system</p>
</li>
<li>
<p>An OSDBA group exists, but you want to give a different group of operating system users database administrative privileges for a new Oracle Database installation</p>
</li>
</ul>
<p>If the OSDBA group does not exist, or if you require a new OSDBA group, then create it as follows. Use the group name <code dir="ltr">dba</code> unless a group with that name already exists:</p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54323 dba
</pre></div>
<!-- class="sect3" -->
<a id="BABCBFAB"></a>
<div id="CWHPX180" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.9.2</span> Creating an OSOPER Group for Database Installations<a id="sthref330"></a></h4>
<p>Create an OSOPER group only if you want to identify a group of operating system users with a limited set of database administrative privileges (SYSOPER operator privileges). For most installations, it is sufficient to create only the OSDBA group. To use an OSOPER group, then you must create it in the following circumstances:</p>
<ul>
<li>
<p>If an OSOPER group does not exist; for example, if this is the first installation of Oracle Database software on the system</p>
</li>
<li>
<p>If an OSOPER group exists, but you want to give a different group of operating system users database operator privileges in a new Oracle installation</p>
</li>
</ul>
<p>If you require a new OSOPER group, then create it as follows. Use the group name <code dir="ltr">oper</code> unless a group with that name already exists.</p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54324 oper1
</pre></div>
<!-- class="sect3" -->
<a id="BABGHJDD"></a>
<div id="CWHPX181" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.9.3</span> Creating the OSASM Group<a id="sthref331"></a><a id="sthref332"></a><a id="sthref333"></a><a id="sthref334"></a></h4>
<p>If the OSASM group does not exist or if you require a new OSASM group, then create it as follows. Use the group name <code dir="ltr">asmadmin</code> unless a group with that name already exists:</p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54325 asmadmin
</pre></div>
<!-- class="sect3" -->
<a id="BABBDAIC"></a>
<div id="CWHPX182" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.9.4</span> <a id="sthref335"></a>Creating the OSOPER for ASM Group</h4>
<p>Create an OSOPER for ASM group if you want to identify a group of operating system users, such as database administrators, whom you want to grant a limited set of Oracle ASM storage tier administrative privileges, including the ability to start up and shut down the Oracle ASM storage. For most installations, it is sufficient to create only the OSASM group, and provide that group as the OSOPER for ASM group during the installation interview.</p>
<p>If you require a new OSOPER for ASM group, then create it as follows. In the following, use the group name <code dir="ltr">asmoper</code> unless a group with that name already exists:</p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54326 asmoper
</pre></div>
<!-- class="sect3" -->
<a id="BABBAIDJ"></a>
<div id="CWHPX183" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.9.5</span> Creating the OSDBA for ASM Group for Database Access to Oracle ASM<a id="sthref336"></a><a id="sthref337"></a><a id="sthref338"></a></h4>
<p>You must create an OSDBA for ASM group to provide access to the Oracle ASM instance. This is necessary if OSASM and OSDBA are different groups.</p>
<p>If the OSDBA for ASM group does not exist or if you require a new OSDBA for ASM group, then create it as follows. Use the group name <code dir="ltr">asmdba</code> unless a group with that name already exists:</p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54327 asmdba
</pre></div>
<!-- class="sect3" -->
<a id="BABIECDC"></a>
<div id="CWHPX10064" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.9.6</span> Oracle Software Owner User Installation Tasks</h4>
<p>This section contains information about the Oracle software owner user, which is typically the user that owns Oracle Database or other Oracle application software. This section contains the following topics:</p>
<a id="BABFADJB"></a>
<div id="CWHPX184" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.9.6.1</span> About Creating the Oracle Software Owner User<a id="sthref339"></a><a id="sthref340"></a><a id="sthref341"></a><a id="sthref342"></a></h5>
<p>You must create an Oracle software owner user in the following circumstances:</p>
<ul>
<li>
<p>If an Oracle software owner user exists, but you want to use a different operating system user, with different group membership, to give database administrative privileges to those groups in a new Oracle Database installation</p>
</li>
<li>
<p>If you have created an Oracle software owner for Oracle Grid Infrastructure, such as <code dir="ltr">grid</code>, and you want to create a separate Oracle software owner for Oracle Database software, such as <code dir="ltr">oracle</code>.</p>
</li>
</ul>
<a id="BABGIFHH"></a>
<div id="CWHPX185" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.9.6.2</span> Determining if an Oracle Software Owner User Exists<a id="sthref343"></a><a id="sthref344"></a><a id="sthref345"></a><a id="sthref346"></a></h5>
<p>To determine whether an Oracle software owner user named <code dir="ltr">oracle</code> or <code dir="ltr">grid</code> exists, enter a command similar to the following (in this case, to determine if <code dir="ltr">oracle</code> exists):</p>
<pre dir="ltr"># id oracle
</pre>
<p>If the user exists, then the output from this command is similar to the following:</p>
<pre dir="ltr">uid=54321(oracle) gid=54421(oinstall) groups=54322(dba),54323(oper)
</pre>
<p>Determine whether you want to use the existing user, or create another user. To use the existing user, ensure that the user&#39;s primary group is the Oracle Inventory group and that it is a member of the appropriate OSDBA and OSOPER groups. Refer to the following sections for more information:</p>
<ul>
<li>
<p>To modify an existing user, refer to <a href="#BABEFHEH">Section 5.1.9.6.4, &#34;Modifying an Existing Oracle Software Owner User,&#34;</a>.</p>
</li>
<li>
<p>To create a user, refer to the following section.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If necessary, contact your system administrator before using or modifying an existing user.
<p><a id="sthref347"></a><a id="sthref348"></a>Oracle recommends that you do not use the UID and GID defaults on each node, as group and user IDs likely will be different on each node. Instead, provide common assigned group and user IDs, and confirm that they are unused on any node before you create or modify groups and users.</p>
</div>
</div>
<!-- class="sect4" -->
<a id="BABFHGGH"></a>
<div id="CWHPX186" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.9.6.3</span> Creating an Oracle Software Owner User<a id="sthref349"></a></h5>
<p>If the Oracle software owner user does not exist, or if you require a new Oracle software owner user, then create it as follows. Use the user name <code dir="ltr">oracle</code> unless a user with that name already exists.</p>
<ol>
<li>
<p>To create an <code dir="ltr">oracle</code> user, enter a command similar to the following:<a id="sthref350"></a><a id="sthref351"></a></p>
<pre dir="ltr"># /usr/sbin/useradd -u 54321 -g oinstall -G dba,asmdba oracle
</pre>
<p>In the preceding command:</p>
<ul>
<li>
<p>The -u option specifies the user ID. Using this command flag is optional, as you can allow the system to provide you with an automatically generated user ID number. However, you must make note of the <code dir="ltr">oracle</code> user ID number, as you require it later during preinstallation.</p>
</li>
<li>
<p>The <code dir="ltr">-g</code> option specifies the primary group, which must be the Oracle Inventory group--for example, <code dir="ltr">oinstall</code></p>
</li>
<li>
<p>The <code dir="ltr">-G</code> option specifies the secondary groups, which must include the OSDBA group, the OSDBA for ASM group, and, if required, the OSOPER for ASM group. For example: <code dir="ltr">dba</code>, <code dir="ltr">asmdba</code>, or <code dir="ltr">dba</code>, <code dir="ltr">asmdba</code>, <code dir="ltr">asmoper</code></p>
</li>
</ul>
</li>
<li>
<p>Set the password of the <code dir="ltr">oracle</code> user:</p>
<pre dir="ltr"># passwd oracle
</pre></li>
</ol>
</div>
<!-- class="sect4" -->
<a id="BABEFHEH"></a>
<div id="CWHPX187" class="sect4">
<h5 class="sect4"><span class="secnum">5.1.9.6.4</span> Modifying an Existing Oracle Software Owner User</h5>
<p>If the <code dir="ltr">oracle</code> user exists, but its primary group is not <code dir="ltr">oinstall</code>, or it is not a member of the appropriate OSDBA or OSDBA for ASM groups, then enter a command similar to the following to modify it. Specify the primary group using the <code dir="ltr">-g</code> option and any required secondary group using the <code dir="ltr">-G</code> option:<a id="sthref352"></a></p>
<pre dir="ltr"># /usr/sbin/usermod -g oinstall -G dba,asmdba oracle
</pre>
<p>Repeat this procedure on all of the other nodes in the cluster.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="BABCACJH"></a>
<div id="CWHPX188" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.9.7</span> Creating Identical Database Users and Groups on Other Cluster Nodes<a id="sthref353"></a><a id="sthref354"></a><a id="sthref355"></a><a id="sthref356"></a><a id="sthref357"></a><a id="sthref358"></a></h4>
<p><a id="sthref359"></a><a id="sthref360"></a><a id="sthref361"></a><a id="sthref362"></a><a id="sthref363"></a><a id="sthref364"></a><a id="sthref365"></a><a id="sthref366"></a><a id="sthref367"></a><a id="sthref368"></a><a id="sthref369"></a><a id="sthref370"></a><a id="sthref371"></a>Oracle software owner users and the Oracle Inventory, OSDBA, and OSOPER groups must exist and be identical on all cluster nodes. To create these identical users and groups, you must identify the user ID and group IDs assigned them on the node where you created them, and then create the user and groups with the same name and ID on the other cluster nodes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must complete the following procedures only if you are using local users and groups. If you are using users and groups defined in a directory service such as NIS, then they are already identical on each cluster node.</div>
<p class="subhead2"><a id="CWHPX189"></a><a id="sthref372"></a><a id="sthref373"></a><a id="sthref374"></a><a id="sthref375"></a><a id="sthref376"></a><a id="sthref377"></a>Identifying Existing User and Group IDs</p>
<p>To determine the user ID (<code dir="ltr">uid</code>) of the <code dir="ltr">grid</code> or <code dir="ltr">oracle</code> users, and the group IDs (<code dir="ltr">gid</code>) of the existing Oracle groups, follow these steps:</p>
<ol>
<li>
<p>Enter a command similar to the following (in this case, to determine a user ID for the <code dir="ltr">oracle</code> user):</p>
<pre dir="ltr"># id oracle
</pre>
<p>The output from this command is similar to the following:</p>
<pre dir="ltr">uid=54321(oracle) gid=54421(oinstall) groups=54322(dba),54323(oper),54327(asmdba)
</pre></li>
<li>
<p>From the output, identify the user ID (<code dir="ltr">uid</code>) for the user and the group identities (<code dir="ltr">gid</code>) for the groups to which it belongs. Ensure that these ID numbers are identical on each node of the cluster. The user&#39;s primary group is listed after <code dir="ltr">gid</code>. Secondary groups are listed after <code dir="ltr">groups</code>.</p>
</li>
</ol>
<p class="subhead2"><a id="CWHPX190"></a>Creating Users and Groups on the Other Cluster Nodes<a id="sthref378"></a><a id="sthref379"></a><a id="sthref380"></a><a id="sthref381"></a><a id="sthref382"></a><a id="sthref383"></a><a id="sthref384"></a><a id="sthref385"></a></p>
<p>To create users and groups on the other cluster nodes, repeat the following procedure on each node:</p>
<ol>
<li>
<p>Log in to the next cluster node as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Enter commands similar to the following to create the <code dir="ltr">oinstall</code>, <code dir="ltr">asmadmin</code>, and <code dir="ltr">asmdba</code> groups, and if required, the <code dir="ltr">asmoper</code>, <code dir="ltr">dba</code>, and <code dir="ltr">oper</code> groups. Use the <code dir="ltr">-g</code> option to specify the correct <code dir="ltr">gid</code> for each group.<a id="sthref386"></a></p>
<pre dir="ltr"># /usr/sbin/groupadd -g 54431 oinstall
# /usr/sbin/groupadd -g 54322 asmadmin
# /usr/sbin/groupadd -g 54323 asmdba
# /usr/sbin/groupadd -g 54324 asmoper
# /usr/sbin/groupadd -g 54325 dba
# /usr/sbin/groupadd -g 54326 oper
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the group already exists, then use the <code dir="ltr">groupmod</code> command to modify it if necessary. If you cannot use the same group ID for a particular group on this node, then view the <code dir="ltr">/etc/group</code> file on all nodes to identify a group ID that <span class="italic">is</span> available on every node. You must then change the group ID on all nodes to the same group ID.</div>
</li>
<li>
<p>To create the <code dir="ltr">oracle</code> or Oracle Grid Infrastructure (<code dir="ltr">grid</code>) user, enter a command similar to the following (in this example, to create the <code dir="ltr">oracle</code> user):<a id="sthref387"></a><a id="sthref388"></a></p>
<pre dir="ltr"># /usr/sbin/useradd -u 54321 -g oinstall -G asmdba,dba oracle
</pre>
<p>In the preceding command:</p>
<ul>
<li>
<p>The <code dir="ltr">-u</code> option specifies the user ID, which must be the user ID that you identified in the previous subsection</p>
</li>
<li>
<p>The <code dir="ltr">-g</code> option specifies the primary group, which must be the Oracle Inventory group, for example <code dir="ltr">oinstall</code></p>
</li>
<li>
<p>The <code dir="ltr">-G</code> option specifies the secondary groups, which can include the OSASM, OSDBA, OSDBA for ASM, and OSOPER or OSOPER for ASM groups. For example:</p>
<ul>
<li>
<p>A grid installation owner: OSASM (<code dir="ltr">asmadmin</code>), whose members are granted the SYSASM privilege.</p>
</li>
<li>
<p>An Oracle Database installation owner without SYSASM privileges access: OSDBA (<code dir="ltr">dba</code>), OSDBA for ASM (<code dir="ltr">asmdba</code>), OSOPER for ASM (<code dir="ltr">asmoper</code>).</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the user already exists, then use the <code dir="ltr">usermod</code> command to modify it if necessary. If you cannot use the same user ID for the user on every node, then view the <code dir="ltr">/etc/passwd</code> file on all nodes to identify a user ID that <span class="italic">is</span> available on every node. You must then specify that ID for the user on all of the nodes.</div>
</li>
</ul>
</li>
<li>
<p>Set the password of the user. For example:<a id="sthref389"></a><a id="sthref390"></a></p>
<pre dir="ltr"># passwd oracle
</pre></li>
<li>
<p>Complete user environment configuration tasks for each user as described in the section <a href="#BABIDIJE">Configuring Grid Infrastructure Software Owner User Environments</a>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CEGGHAHC"></a>
<div id="CWHPX10065" class="sect2">
<h3 class="sect2"><span class="secnum">5.1.10</span> Example of Creating Standard Groups, Users, and Paths</h3>
<p>This configuration example shows the following:</p>
<ul>
<li>
<p>Creation of the Oracle Inventory group (<code dir="ltr">oinstall</code>)</p>
</li>
<li>
<p>Creation of a single group (<code dir="ltr">dba</code>) as the only system privileges group to assign for all Oracle Grid Infrastructure, Oracle ASM, and Oracle Database system privileges</p>
</li>
<li>
<p>Creation of the Oracle Grid Infrastructure software owner (<code dir="ltr">grid</code>), and one Oracle Database owner (<code dir="ltr">oracle</code>) with correct group memberships</p>
</li>
<li>
<p>Creation and configuration of an Oracle base path compliant with OFA structure with correct permissions</p>
</li>
</ul>
<p>Enter the following commands to create a minimal operating system authentication configuration:</p>
<pre dir="ltr"># groupadd -g 54431 oinstall
# groupadd -g 54432 dba
# useradd -u 53333 -g oinstall -G dba grid
# useradd -u 53334 -g oinstall -G dba oracle
# mkdir -p  /u01/app/12.1.0/grid
# mkdir -p /u01/app/grid
# chown -R grid:oinstall /u01
# mkdir /u01/app/oracle
# chown oracle:oinstall /u01/app/oracle
# chmod -R 775 /u01/
</pre>
<p>After running these commands, you have the following groups and users:</p>
<ul>
<li>
<p>An Oracle central inventory group, or oraInventory group (<code dir="ltr">oinstall</code>). Members who have the central inventory group as their primary group, are granted the OINSTALL permission to write to the <code dir="ltr">oraInventory</code> directory.</p>
</li>
<li>
<p>One system privileges group, <code dir="ltr">dba</code>, for Oracle Grid Infrastructure, Oracle ASM and Oracle Database system privileges. Members who have the <code dir="ltr">dba</code> group as their primary or secondary group are granted operating system authentication for OSASM/SYSASM, OSDBA/SYSDBA, OSOPER/SYSOPER, OSBACKUPDBA/SYSBACKUP, OSDGDBA/SYSDG, OSKMDBA/SYSKM, OSDBA for ASM/SYSDBA for ASM, and OSOPER for ASM/SYSOPER for ASM to administer Oracle Clusterware, Oracle ASM, and Oracle Database, and are granted SYSASM and OSOPER for ASM access to the Oracle ASM storage.</p>
</li>
<li>
<p>An Oracle Grid Infrastructure for a cluster owner, or Grid user (<code dir="ltr">grid</code>), with the oraInventory group (<code dir="ltr">oinstall</code>) as its primary group, and with the OSASM group (<code dir="ltr">dba</code>) as the secondary group, with its Oracle base directory <code dir="ltr">/u01/app/grid</code>.</p>
</li>
<li>
<p>An Oracle Database owner (<code dir="ltr">oracle</code>) with the oraInventory group (<code dir="ltr">oinstall</code>) as its primary group, and the OSDBA group (<code dir="ltr">dba</code>) as its secondary group, with its Oracle base directory <code dir="ltr">/u01/app/oracle</code>.</p>
</li>
<li>
<p><code dir="ltr">/u01/app</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions before installation, and by <code dir="ltr">root</code> after the <code dir="ltr">root.sh</code> script is run during installation. This ownership and permissions enables OUI to create the Oracle Inventory directory, in the path <code dir="ltr">/u01/app/oraInventory</code>.</p>
</li>
<li>
<p><code dir="ltr">/u01</code> owned by <code dir="ltr">grid:oinstall</code> before installation, and by <code dir="ltr">root</code> after the <code dir="ltr">root.sh</code> script is run during installation.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/12.1.0/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions. These permissions are required for installation, and are changed during the installation process.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions before installation, and 755 permissions after installation.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/oracle</code> owned by <code dir="ltr">oracle:oinstall</code> with 775 permissions.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use one installation owner for both Oracle Grid Infrastructure and any other Oracle installations. However, Oracle recommends that you use separate installation owner accounts for each Oracle software installation.</div>
</div>
<!-- class="sect2" -->
<a id="CEGDDFGG"></a>
<div id="CWHPX10066" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.11</span> Example of Creating Role-allocated Groups, Users, and Paths</h3>
<p>This section contains an example of how to create role-allocated groups and users that is compliant with an Optimal Flexible Architecture (OFA) deployment.</p>
<p>This example illustrates the following scenario:</p>
<ul>
<li>
<p>An Oracle Grid Infrastructure installation</p>
</li>
<li>
<p>Two separate Oracle Database installations planned for the cluster, DB1 and DB2</p>
</li>
<li>
<p>Separate installation owners for Oracle Grid Infrastructure, and for each Oracle Database</p>
</li>
<li>
<p>Full role allocation of system privileges for Oracle ASM, and for each Oracle Database</p>
</li>
<li>
<p>Oracle Database owner <code dir="ltr">oracle1</code> granted the right to start up and shut down the Oracle ASM instance</p>
</li>
</ul>
<p>Create groups and users for a role-allocated configuration for this scenario using the following commands:</p>
<pre dir="ltr"># groupadd -g 54321 oinstall
# groupadd -g 54322 asmadmin
# groupadd -g 54323 asmdba
# groupadd -g 54324 dba1
# groupadd -g 54325 dba2
# groupadd -g 54326 asmoper
# useradd -u 54421 -g oinstall -G asmadmin,asmdba grid
# useradd -u 54322 -g oinstall -G dba1,asmdba oracle1
# useradd -u 54323 -g oinstall -G dba2,asmdba oracle2
# mkdir -p  /u01/app/12.1.0/grid
# mkdir -p /u01/app/grid
# chown -R grid:oinstall /u01
# mkdir -p /u01/app/oracle1
# chown oracle1:oinstall /u01/app/oracle1
# mkdir -p /u01/app/oracle2
# chown oracle2:oinstall /u01/app/oracle2
# chmod -R 775 /u01
</pre>
<p>After running these commands, you have a set of administrative privileges groups and users for Oracle Grid Infrastructure, and for two separate Oracle databases (DB1 and DB2):</p>
<ul>
<li>
<p><a href="#BABHADID">Oracle Grid Infrastructure Groups and Users Example</a></p>
</li>
<li>
<p><a href="#BABHFHCD">Oracle Database DB1 Groups and Users Example</a></p>
</li>
<li>
<p><a href="#BABJDDHG">Oracle Database DB2 Groups and Users Example</a></p>
</li>
</ul>
<a id="BABHADID"></a>
<div id="CWHPX10067" class="sect3">
<h4 class="sect3"><span class="secnum">5.1.11.1</span> Oracle Grid Infrastructure Groups and Users Example</h4>
<ul>
<li>
<p>An Oracle central inventory group, or oraInventory group (<code dir="ltr">oinstall</code>), whose members that have this group as their primary group. Members of this group are granted the OINSTALL system privileges, which grants permissions to write to the <code dir="ltr">oraInventory</code> directory, and other associated install binary privileges.</p>
</li>
<li>
<p>An OSASM group (<code dir="ltr">asmadmin</code>), associated with Oracle Grid Infrastructure during installation, whose members are granted the SYSASM privileges to administer Oracle ASM.</p>
</li>
<li>
<p>An OSDBA for ASM group (<code dir="ltr">asmdba</code>), associated with Oracle Grid Infrastructure storage during installation. Its members include <code dir="ltr">grid</code> and any database installation owners, such as <code dir="ltr">oracle1</code> and <code dir="ltr">oracle2</code>, who are granted access to Oracle ASM. Any additional installation owners that use Oracle ASM for storage must also be made members of this group.</p>
</li>
<li>
<p>An OSOPER for ASM group for Oracle ASM (<code dir="ltr">asmoper</code>), associated with Oracle Grid Infrastructure during installation. Members of asmoper group are granted limited Oracle ASM administrator privileges, including the permissions to start and stop the Oracle ASM instance.</p>
</li>
<li>
<p>An Oracle Grid Infrastructure installation owner (<code dir="ltr">grid</code>), with the oraInventory group (<code dir="ltr">oinstall</code>) as its primary group, and with the OSASM (<code dir="ltr">asmadmin</code>) group and the OSDBA for ASM (<code dir="ltr">asmdba</code>) group as secondary groups.</p>
</li>
<li>
<p><code dir="ltr">/u01/app/oraInventory</code>. The central inventory of Oracle installations on the cluster. This path remains owned by <code dir="ltr">grid:oinstall</code>, to enable other Oracle software owners to write to the central inventory.</p>
</li>
<li>
<p>An OFA-compliant mount point <code dir="ltr">/u01</code> owned by <code dir="ltr">grid:oinstall</code> before installation, so that Oracle Universal Installer can write to that path.</p>
</li>
<li>
<p>An Oracle base for the grid installation owner <code dir="ltr">/u01/app/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 permissions, and changed during the installation process to 755 permissions.</p>
</li>
<li>
<p>A Grid home <code dir="ltr">/u01/app/12.1.0/grid</code> owned by <code dir="ltr">grid:oinstall</code> with 775 (<code dir="ltr">drwxdrwxr-x</code>) permissions. These permissions are required for installation, and are changed during the installation process to <code dir="ltr">root:oinstall</code> with 755 permissions (<code dir="ltr">drwxr-xr-x</code>).</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABHFHCD"></a>
<div id="CWHPX10068" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.11.2</span> Oracle Database DB1 Groups and Users Example</h4>
<ul>
<li>
<p>An Oracle Database software owner (<code dir="ltr">oracle1</code>), which owns the Oracle Database binaries for DB1. The <code dir="ltr">oracle1</code> user has the oraInventory group as its primary group, and the OSDBA group for its database (<code dir="ltr">dba1</code>) and the OSDBA for ASM group for Oracle Grid Infrastructure (<code dir="ltr">asmdba</code>) as secondary groups. In addition the <code dir="ltr">oracle1</code> user is a member of <code dir="ltr">asmoper</code>, granting that user privileges to start up and shut down Oracle ASM.</p>
</li>
<li>
<p>An OSDBA group (<code dir="ltr">dba1</code>). During installation, you identify the group <code dir="ltr">dba1</code> as the OSDBA group for the database installed by the user <code dir="ltr">oracle1</code>. Members of <code dir="ltr">dba1</code> are granted the SYSDBA privileges for the Oracle Database DB1. Users who connect as SYSDBA are identified as user SYS on DB1.</p>
</li>
<li>
<p>An OSBACKUPDBA group (<code dir="ltr">backupdba1</code>). During installation, you identify the group <code dir="ltr">backupdba1</code> as the OSDBA group for the database installed by the user <code dir="ltr">oracle1</code>. Members of <code dir="ltr">backupdba1</code> are granted the SYSBACKUP privileges for the database installed by the user <code dir="ltr">oracle1</code> to back up the database.</p>
</li>
<li>
<p>An OSDGDBA group (<code dir="ltr">dgdba1</code>). During installation, you identify the group <code dir="ltr">dgdba1</code> as the OSDGDBA group for the database installed by the user <code dir="ltr">oracle1</code>. Members of <code dir="ltr">dgdba1</code> are granted the SYSDG privileges to administer Oracle Data Guard for the database installed by the user <code dir="ltr">oracle1</code>.</p>
</li>
<li>
<p>An OSKMDBA group (<code dir="ltr">kmdba1</code>). During installation, you identify the group <code dir="ltr">kmdba1</code> as the OSKMDBA group for the database installed by the user <code dir="ltr">oracle1</code>. Members of <code dir="ltr">kmdba1</code> are granted the SYSKM privileges to administer encryption keys for the database installed by the user <code dir="ltr">oracle1</code>.</p>
</li>
<li>
<p>An OSOPER group (<code dir="ltr">oper1</code>). During installation, you identify the group <code dir="ltr">oper1</code> as the OSOPER group for the database installed by the user <code dir="ltr">oracle1</code>. Members of <code dir="ltr">oper1</code> are granted the SYSOPER privileges (a limited set of the SYSDBA privileges), including the right to start up and shut down the DB1 database. Users who connect as OSOPER privileges are identified as user PUBLIC on DB1.</p>
</li>
<li>
<p>An Oracle base <code dir="ltr">/u01/app/oracle1</code> owned by <code dir="ltr">oracle1:oinstall</code> with 775 permissions. The user <code dir="ltr">oracle1</code> has permissions to install software in this directory, but in no other directory in the <code dir="ltr">/u01/app</code> path.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABJDDHG"></a>
<div id="CWHPX10069" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.11.3</span> Oracle Database DB2 Groups and Users Example</h4>
<ul>
<li>
<p>An Oracle Database software owner (<code dir="ltr">oracle2</code>), which owns the Oracle Database binaries for DB2. The oracle2 user has the oraInventory group as its primary group, and the OSDBA group for its database (<code dir="ltr">dba2</code>) and the OSDBA for ASM group for Oracle Grid Infrastructure (<code dir="ltr">asmdba</code>) as secondary groups. However, the <code dir="ltr">oracle2</code> user is not a member of the <code dir="ltr">asmoper</code> group, so <code dir="ltr">oracle2</code> cannot shut down or start up Oracle ASM.</p>
</li>
<li>
<p>An OSDBA group (<code dir="ltr">dba2</code>). During installation, you identify the group <code dir="ltr">dba2</code> as the OSDBA group for the database installed by the user <code dir="ltr">oracle2</code>. Members of <code dir="ltr">dba2</code> are granted the SYSDBA privileges for the Oracle Database DB2. Users who connect as SYSDBA are identified as user SYS on DB2.</p>
</li>
<li>
<p>An OSBACKUPDBA group (<code dir="ltr">backupdba2</code>). During installation, you identify the group <code dir="ltr">backupdba2</code> as the OSDBA group for the database installed by the user <code dir="ltr">oracle2</code>. Members of <code dir="ltr">backupdba2</code> are granted the SYSBACKUP privileges for the database installed by the user <code dir="ltr">oracle2</code> to back up the database.</p>
</li>
<li>
<p>An OSDGDBA group (<code dir="ltr">dgdba2</code>). During installation, you identify the group <code dir="ltr">dgdba2</code> as the OSDGDBA group for the database installed by the user <code dir="ltr">oracle2</code>. Members of <code dir="ltr">dgdba2</code> are granted the SYSDG privileges to administer Oracle Data Guard for the database installed by the user <code dir="ltr">oracle2</code>.</p>
</li>
<li>
<p>An OSKMDBA group (<code dir="ltr">kmdba2</code>). During installation, you identify the group <code dir="ltr">kmdba2</code> as the OSKMDBA group for the database installed by the user <code dir="ltr">oracle2</code>. Members of <code dir="ltr">kmdba2</code> are granted the SYSKM privileges to administer encryption keys for the database installed by the user <code dir="ltr">oracle2</code>.</p>
</li>
<li>
<p>An OSOPER group (<code dir="ltr">oper2</code>). During installation, you identify the group <code dir="ltr">oper2</code> as the OSOPER group for the database installed by the user <code dir="ltr">oracle2</code>. Members of <code dir="ltr">oper2</code> are granted the SYSOPER privileges (a limited set of the SYSDBA privileges), including the right to start up and shut down the DB2 database. Users who connect as OSOPER privileges are identified as user PUBLIC on DB2.</p>
</li>
<li>
<p>An Oracle base <code dir="ltr">/u01/app/oracle2</code> owned by <code dir="ltr">oracle1:oinstall</code> with 775 permissions. The user <code dir="ltr">oracle2</code> has permissions to install software in this directory, but in no other directory in the <code dir="ltr">/u01/app</code> path.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CEGJJJFG"></a>
<div id="CWHPX10070" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.12</span> Creating the External Jobs User Account for HP-UX</h3>
<p>On the HP-UX platform, if you intend to install Oracle Database or Oracle Real Application Clusters on Oracle Grid Infrastructure, then use the following procedure to create an external jobs user account to provide a low-privilege user with which external jobs can be run:</p>
<ol>
<li>
<p>Log in as root.</p>
</li>
<li>
<p>Create the unprivileged user <code dir="ltr">extjob</code>. For example:</p>
<pre dir="ltr"># useradd extjob
</pre></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABIDIJE"></a>
<div id="CWHPX214" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> Configuring Grid Infrastructure Software Owner User Environments<a id="sthref391"></a><a id="sthref392"></a><a id="sthref393"></a></h2>
<p>You run the installer software with the Oracle Grid Infrastructure installation owner user account (<code dir="ltr">oracle</code> or <code dir="ltr">grid</code>). However, before you start the installer, you must configure the environment of the installation owner user account. Also, create other required Oracle software owners, if needed.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CEGFECHF">Environment Requirements for Oracle Software Owner</a></p>
</li>
<li>
<p><a href="#CEGFEEDC">Procedure for Configuring Oracle Software Owner Environments</a></p>
</li>
<li>
<p><a href="#BABEADDD">Setting Remote Display and X11 Forwarding Configuration</a></p>
</li>
<li>
<p><a href="#BABIHJJH">Preventing Installation Errors Caused by Terminal Output Commands</a></p>
</li>
</ul>
<a id="CEGFECHF"></a>
<div id="CWHPX215" class="sect2">
<h3 class="sect2"><span class="secnum">5.2.1</span> Environment Requirements for Oracle Software Owner</h3>
<p>You must make the following changes to configure the Oracle Grid Infrastructure software owner environment:</p>
<ul>
<li>
<p>Set the installation software owner user (<code dir="ltr">grid</code>, <code dir="ltr">oracle</code>) default file mode creation mask (umask) to 022 in the shell startup file<a id="sthref394"></a><a id="sthref395"></a><a id="sthref396"></a><a id="sthref397"></a><a id="sthref398"></a><a id="sthref399"></a>. Setting the mask to 022 ensures that the user performing the software installation creates files with 644 permissions.</p>
</li>
<li>
<p>Set ulimit settings for file descriptors and processes for the installation software owner (<code dir="ltr">grid</code>, <code dir="ltr">oracle</code>)</p>
</li>
<li>
<p>Set the software owner&#39;s environment variable DISPLAY environment variables in preparation for the Oracle Grid Infrastructure installation</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Use shell programs supported by your operating system vendor. If you use a shell program that is not supported by your operating system, then you can encounter errors during installation.</div>
</div>
<!-- class="sect2" -->
<a id="CEGFEEDC"></a>
<div id="CWHPX216" class="sect2">
<h3 class="sect2"><span class="secnum">5.2.2</span> Procedure for Configuring Oracle Software Owner Environments</h3>
<p>To set the Oracle software owners&#39; environments, follow these steps, for each software owner (<code dir="ltr">grid</code>, <code dir="ltr">oracle</code>):</p>
<ol>
<li>
<p>Start a new terminal session; for example, start an X terminal (<code dir="ltr">xterm</code>).</p>
</li>
<li>
<p>Enter the following command to ensure that X Window applications can display on this system:</p>
<pre dir="ltr">$ xhost + <span class="italic">hostname</span>
</pre>
<p>The <span class="italic">hostname</span> is the name of the local host.</p>
</li>
<li>
<p>If you are not already logged in to the system where you want to install the software, then log in to that system as the software owner user.</p>
</li>
<li>
<p>If you are not logged in as the user, then switch to the software owner user you are configuring. For example, with the <code dir="ltr">grid</code> user:</p>
<pre dir="ltr">$ su - grid
</pre></li>
<li>
<p>To determine the default shell for the user, enter the following command:<a id="sthref400"></a><a id="sthref401"></a><a id="sthref402"></a><a id="sthref403"></a><a id="sthref404"></a></p>
<pre dir="ltr">$ echo $SHELL
</pre></li>
<li>
<p>Open the user&#39;s shell startup file in any text editor:<a id="sthref405"></a><a id="sthref406"></a><a id="sthref407"></a><a id="sthref408"></a><a id="sthref409"></a><a id="sthref410"></a><a id="sthref411"></a><a id="sthref412"></a><a id="sthref413"></a><a id="sthref414"></a><a id="sthref415"></a><a id="sthref416"></a><a id="sthref417"></a></p>
<ul>
<li>
<p>Bourne shell (<code dir="ltr">sh</code>) or Korn shell (<code dir="ltr">ksh</code>):</p>
<pre dir="ltr">$ vi .profile
</pre></li>
<li>
<p>C shell (<code dir="ltr">csh</code> or <code dir="ltr">tcsh</code>):</p>
<pre dir="ltr">% vi .login
</pre></li>
</ul>
</li>
<li>
<p>Enter or edit the following line, specifying a value of 022 for the default file mode creation mask:</p>
<pre dir="ltr">umask 022
</pre></li>
<li>
<p>If the <code dir="ltr">ORACLE_SID</code>, <code dir="ltr">ORACLE_HOME</code>, or <code dir="ltr">ORACLE_BASE</code> environment variable is set in the file, then remove the appropriate lines from the file.<a id="sthref418"></a><a id="sthref419"></a><a id="sthref420"></a><a id="sthref421"></a><a id="sthref422"></a></p>
</li>
<li>
<p>Save the file, and exit from the text editor.</p>
</li>
<li>
<p>To run the shell startup script, enter one of the following commands:</p>
<ul>
<li>
<p>Bourne or Korn shell:</p>
<pre dir="ltr">$ . ./.profile
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">% source ./.login
</pre></li>
</ul>
</li>
<li>
<p>Use the following command to check the PATH environment variable:</p>
<pre dir="ltr">$ echo $PATH
</pre>
<p>Remove any Oracle environment variables.</p>
</li>
<li>
<p>If you are not installing the software on the local system, then enter a command similar to the following to direct X applications to display on the local system:<a id="sthref423"></a><a id="sthref424"></a></p>
<ul>
<li>
<p>Bourne or Korn shell:</p>
<pre dir="ltr">$ DISPLAY=<span class="codeinlineitalic">local_host</span>:0.0 ; export DISPLAY
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">% setenv DISPLAY <span class="codeinlineitalic">local_host</span>:0.0
</pre></li>
</ul>
<p>In this example, <code dir="ltr"><span class="codeinlineitalic">local_host</span></code> is the host name or IP address of the system to use to display OUI (your workstation or PC).</p>
</li>
<li>
<p>If the <code dir="ltr">/tmp</code> directory has less than 7 GB of free disk space, then identify a file system with at least 7 GB of free space and set the <code dir="ltr">TEMP</code> and <code dir="ltr">TMPDIR</code> environment variables to specify a temporary directory on this file system:<a id="sthref425"></a><a id="sthref426"></a><a id="sthref427"></a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You cannot use a shared file system as the location of the temporary file directory (typically <code dir="ltr">/tmp</code>) for Oracle RAC installation. If you place <code dir="ltr">/tmp</code> on a shared file system, then the installation fails.</div>
<ol>
<li>
<p>Use the <code dir="ltr">bdf</code> command to identify a suitable file system with sufficient free space.</p>
</li>
<li>
<p>If necessary, enter commands similar to the following to create a temporary directory on the file system that you identified, and set the appropriate permissions on the directory:</p>
<pre dir="ltr">$ su - root
# mkdir /<span class="italic">mount_point</span>/tmp
# chmod a+wr /<span class="italic">mount_point</span>/tmp
# exit
</pre></li>
<li>
<p>Enter commands similar to the following to set the TEMP and TMPDIR environment variables:</p>
<ul>
<li>
<p>Bourne or Korn shell:</p>
<pre dir="ltr">$ TEMP=/<span class="italic">mount_point</span>/tmp
$ TMPDIR=/<span class="italic">mount_point</span>/tmp
$ export TEMP TMPDIR
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">% setenv TEMP /<span class="italic">mount_point</span>/tmp
% setenv TMPDIR /<span class="italic">mount_point</span>/tmp
</pre></li>
</ul>
</li>
</ol>
</li>
<li>
<p>Enter the following command to ensure that the ORACLE_HOME and TNS_ADMIN environment variables are not set:<a id="sthref428"></a><a id="sthref429"></a><a id="sthref430"></a><a id="sthref431"></a><a id="sthref432"></a><a id="sthref433"></a><a id="sthref434"></a><a id="sthref435"></a></p>
<ul>
<li>
<p>Bourne or Korn shell:</p>
<pre dir="ltr">$ unset ORACLE_HOME
$ unset TNS_ADMIN
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">% unsetenv ORACLE_HOME
% unsetenv TNS_ADMIN
</pre></li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the ORACLE_HOME environment variable is set, the Installer uses the value that it specifies as the default path for the Oracle home directory. However, if you set the ORACLE_BASE environment variable, Oracle recommends that you unset the ORACLE_HOME environment variable and choose the default path suggested by the Installer.</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABEADDD"></a>
<div id="CWHPX219" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> Setting Remote Display and <a id="sthref436"></a><a id="sthref437"></a><a id="sthref438"></a>X11 Forwarding Configuration</h3>
<p><a id="sthref439"></a>If you are on a remote terminal, and the local node has only one visual (which is typical), then use the following syntax to set the DISPLAY environment variable:</p>
<p>Bourne, Korn, and Bash shells</p>
<pre dir="ltr">$ export DISPLAY=<span class="italic">hostname</span>:0
</pre>
<p>C shell:</p>
<pre dir="ltr">$ setenv DISPLAY <span class="italic">hostname</span>:0
</pre>
<p>For example, if you are using the Bash shell, and if your host name is <code dir="ltr">node1</code>, then enter the following command:</p>
<pre dir="ltr">$ export DISPLAY=node1:0
</pre>
<p><a id="sthref440"></a>To ensure that X11 forwarding does not cause the installation to fail, create a user-level SSH client configuration file for the Oracle software owner user, as follows:</p>
<ol>
<li>
<p>Using any text editor, edit or create the software installation owner&#39;s <code dir="ltr">~/.ssh/config</code> file.</p>
</li>
<li>
<p>Ensure that the <code dir="ltr">ForwardX11</code> attribute in the <code dir="ltr">~/.ssh/config</code> file is set to <code dir="ltr">no</code>. For example:</p>
<pre dir="ltr">Host * 
    ForwardX11 no
</pre></li>
<li>
<p>Ensure that the permissions on the ~/.ssh are secured to the Grid user. For example:</p>
<pre dir="ltr">$ ls -al .ssh
total 28
drwx------  2 grid oinstall 4096 Jun 21 2015
drwx------ 19 grid oinstall 4096 Jun 21 2015
-rw-r--r--  1 grid oinstall 1202 Jun 21 2015 authorized_keys
-rwx------  1 grid oinstall  668 Jun 21 2015 id_dsa
-rwx------  1 grid oinstall  601 Jun 21 2015 id_dsa.pub
-rwx------  1 grid oinstall 1610 Jun 21 2015 known_hosts
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABIHJJH"></a>
<div id="CWHPX220" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.4</span> Preventing Installation Errors Caused by Terminal Output Commands</h3>
<p><a id="sthref441"></a><a id="sthref442"></a>During an Oracle Grid Infrastructure installation, OUI uses SSH to run commands and copy files to the other nodes. During the installation, hidden files on the system (for example, <code dir="ltr">.bashrc</code> or <code dir="ltr">.cshrc</code>) will cause makefile and other installation errors if they contain <code dir="ltr">stty</code> commands.</p>
<p><a id="sthref443"></a><a id="sthref444"></a><a id="sthref445"></a><a id="sthref446"></a>To avoid this problem, you must modify these files in each Oracle installation owner user home directory to suppress all output on <code dir="ltr">STDOUT</code> or <code dir="ltr">STDERR</code> (for example, <code dir="ltr">stty</code>, <code dir="ltr">xtitle</code>, and other such commands) as in the following examples:</p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">if [ -t 0 ]; then
   stty intr ^C
fi
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">test -t 0
if ($status == 0) then
   stty intr ^C
endif
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
When SSH is not available, the Installer uses the <code dir="ltr">remsh</code> commands instead of <code dir="ltr">ssh</code> and <code dir="ltr">scp</code>.
<p>If there are hidden files that contain <code dir="ltr">stty</code> commands that are loaded by the remote shell, then OUI indicates an error and stops the installation.</p>
</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABFIBJH"></a>
<div id="CWHPX10071" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Enabling Intelligent Platform Management Interface (IPMI)</h2>
<p>Intelligent Platform Management Interface (IPMI) provides a set of common interfaces to computer hardware and firmware that system administrators can use to monitor system health and manage the system. Oracle Clusterware can integrate IPMI to provide failure isolation support and to ensure cluster integrity. <a id="sthref447"></a><a id="sthref448"></a><a id="sthref449"></a></p>
<p>Oracle Clusterware does not currently support the native IPMI driver on HP-UX, so OUI does not collect the administrator credentials, and CSS is unable to obtain the IP address. You must configure failure isolation manually by configuring the BMC with a static IP address before installation, and using <code dir="ltr">crsctl</code> to store the IP address and IPMI credentials after installation.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABDHGBF">Requirements for Enabling IPMI</a></p>
</li>
<li>
<p><a href="#BABBGDHI">Configuring the IPMI Management Network</a></p>
</li>
<li>
<p><a href="#BABCGDJC">Configuring the BMC</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="../CWADD/toc.htm"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to configure IPMI after installation</div>
<a id="BABDHGBF"></a>
<div id="CWHPX10072" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.1</span> Requirements for Enabling IPMI</h3>
<p>You must have the following hardware and software configured to enable cluster nodes to be managed with IPMI:</p>
<ul>
<li>
<p>Each cluster member node requires a Baseboard Management Controller (BMC) running firmware compatible with IPMI version 1.5 or greater, which supports IPMI over LANs, and configured for remote control using LAN.</p>
</li>
<li>
<p>Each cluster member node requires an IPMI driver installed on each node.</p>
</li>
<li>
<p>The cluster requires a management network for IPMI. This can be a shared network, but Oracle recommends that you configure a dedicated network.</p>
</li>
<li>
<p>Each cluster member node&#39;s Ethernet port used by BMC must be connected to the IPMI management network.</p>
</li>
<li>
<p>Each cluster member must be connected to the management network.</p>
</li>
<li>
<p>Some server platforms put their network interfaces into a power saving mode when they are powered off. In this case, they may operate only at a lower link speed (for example, 100 MB, instead of 1 GB). For these platforms, the network switch port to which the BMC is connected must be able to auto-negotiate down to the lower speed, or IPMI cannot function properly.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
IPMI operates on the physical hardware platform through the network interface of the baseboard management controller (BMC). Depending on your system configuration, an IPMI-initiated restart of a server can affect all virtual environments hosted on the server. Contact your hardware and OS vendor for more information.</div>
</div>
<!-- class="sect2" -->
<a id="BABBGDHI"></a>
<div id="CWHPX10073" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.2</span> Configuring the IPMI Management Network</h3>
<p>On HP-UX platforms, the BMC shares configuration information with the management processor (iLO). For Oracle Clusterware, you must configure the ilO/BMC for static IP addresses. Configuring the BMC with dynamic addresses (DHCP) is not supported on HP-UX.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you configure IPMI, and you use Grid Naming Service (GNS) you still must configure separate addresses for the IPMI interfaces. As the IPMI adapter is not seen directly by the host, the IPMI adapter is not visible to GNS as an address on the host.</div>
</div>
<!-- class="sect2" -->
<a id="BABCGDJC"></a>
<div id="CWHPX10074" class="sect2">
<h3 class="sect2"><span class="secnum">5.3.3</span> <a id="sthref450"></a>Configuring the BMC</h3>
<p>On each node, complete the following steps to configure the BMC to support IPMI-based node fencing:</p>
<ul>
<li>
<p>Configure a static IP address for the BMC.</p>
</li>
<li>
<p>Set a password for the null (<code dir="ltr">noname)</code> account for the BMC.</p>
</li>
</ul>
<p>On HP-UX, the BMC and the iLO share network configuration. They have the same IP address, the same hardware MAC address, and the same default gateway address.</p>
<p>If your iLO processor is already configured for network access using a static address, then you have already established the required BMC network configuration. If you have not set up a static address for the iLO, then you must set a static address, and note the address so that you can enter it into the Oracle Clusterware local registry after installation.</p>
<p>You must also set up a password for the null (<code dir="ltr">noname</code>) user account, as this is the single account that the BMC uses. Administration accounts in the iLO are unrelated to the BMC. For security reasons, Oracle requires that you set a password for the BMC account.</p>
<p>Refer to your HP-UX documentation for more information about how to configure the BMC. Ensure that the BMC is configured on each cluster member node.</p>
<div id="CWHPX10075" class="sect3"><a id="sthref451"></a>
<h4 class="sect3"><span class="secnum">5.3.3.1</span> Configuring the iLO Processor on HP-UX</h4>
<p>To configure IPMI in the iLO processor on HP platforms, and to set a password for the null (<code dir="ltr">noname</code> user), complete the following procedure:</p>
<ol>
<li>
<p>Log in to the iLO web interface, and configure the required network settings for the iLO and BMC under <span class="bold">Administration</span>, then <span class="bold">Network Settings</span> to obtain the IP address, and to check the netmask and default gateway.</p>
</li>
<li>
<p>Start a terminal session from a device with network connectivity to the BMC of the node to configure.</p>
</li>
<li>
<p>From the terminal session, set the IPMI password for the anonymous user (<code dir="ltr">noname</code>) over the network, using an IPMI administration tool, such as <code dir="ltr">ipmitool</code> from a client or server connected to the note whose user password you want to change. For example, where <code dir="ltr"><span class="codeinlineitalic">ipmiaddr</span></code> is the IPMI address, and <code dir="ltr"><span class="codeinlineitalic">password</span></code> is the password:</p>
<pre dir="ltr">% ipmitool -H <span class="italic">ipmiaddr</span> -U &#34;&#34; user set password 1 &#34;<span class="italic">password</span>&#34;
</pre>
<p>Note that in this example, the anonymous username is being provided explicitly using <code dir="ltr">-U &#34;&#34;</code> for clarity, but it is implied if the username argument is missing. This command prompts for the current password, which can be the initial null password. If the password is successfully changed, then the command prints an error similar to: &#34;Close session command failed.&#34; This message is printed because the command attempts to terminate the IPMI network session using the previous password.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
It is not possible to set the password for the IPMI administrator account using the Local Accounts web interface page.</div>
</li>
<li>
<p>After you configure the BMC on each cluster member node, and have completed Oracle Grid Infrastructure installation, you must store the IPMI administrator credentials and the BMC static IP address in the Oracle Local Registry (OLR) on each cluster member node. Use <code dir="ltr">crsctl</code> to do this, as described in <a href="postinst.htm#CIHJGIHJ">Section 8.2.1, &#34;Configuring IPMI-based Failure Isolation Using Crsctl.&#34;</a> However, when you store the IPMI credentials in the OLR, you must have the anonymous user specified explicitly, or a parsing error will be reported:</p>
<pre dir="ltr">% crsctl set css ipmiadmin &#34;&#34;
</pre>
<p>When prompted, provide the password you set with the IPMI administrator tool.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDHBDIJ"></a>
<div id="CWHPX10076" class="sect1">
<h2 class="sect1"><span class="secnum">5.4</span> Determining Root Script Execution Plan</h2>
<p>During Oracle Grid Infrastructure installation, the installer requires you to run scripts with superuser (or <code dir="ltr">root</code>) privileges to complete a number of system configuration tasks.</p>
<p>You can continue to run scripts manually as <code dir="ltr">root</code>, or you can delegate to the installer the privilege to run configuration steps as <code dir="ltr">root</code>, using one of the following options:</p>
<ul>
<li>
<p>Use the <code dir="ltr">root</code> password: Provide the password to the installer as you are providing other configuration information. The password is used during installation, and not stored. The root user password must be identical on each cluster member node.</p>
<p>To enable root command delegation, provide the <code dir="ltr">root</code> password to the installer when prompted.</p>
</li>
<li>
<p>Use Sudo: Sudo is a UNIX and Linux utility that allows members of the sudoers list privileges to run individual commands as <code dir="ltr">root</code>.</p>
<p>To enable Sudo, have a system administrator with the appropriate privileges configure a user that is a member of the sudoers list, and provide the username and password when prompted during installation.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CEGFAGAI"></a>
<div id="CWHPX171" class="sect1">
<h2 class="sect1"><span class="secnum">5.5</span> Creating the Oracle Base Directory Path</h2>
<p>The Oracle base directory for the grid installation owner is the location where diagnostic and administrative logs, and other logs associated with Oracle ASM and Oracle Clusterware are stored.</p>
<p>If you have created a path for the Oracle Clusterware home that is compliant with Oracle Optimal Flexible Architecture (OFA) guidelines for Oracle software paths then you do not need to create an Oracle base directory. When OUI finds an OFA-compliant path, it creates the Oracle base directory in that path.</p>
<p>For OUI to recognize the path as an Oracle software path, it must be in the form u[<span class="italic">00-99</span>]/app, and it must be writable by any member of the oraInventory (<code dir="ltr">oinstall</code>) group. The OFA path for the Oracle base is <code dir="ltr">/u01/app/</code><code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the software installation owner.</p>
<p>Oracle recommends that you create an Oracle Grid Infrastructure Grid home and Oracle base homes manually, particularly if you have separate Oracle Grid Infrastructure for a cluster and Oracle Database software owners, so that you can separate log files.</p>
<p>For example:</p>
<pre dir="ltr"># mkdir -p  /u01/app/12.1.0/grid
# mkdir -p /u01/app/grid
# mkdir -p /u01/app/oracle
# chown grid:oinstall /u01/app/12.1.0/grid
# chown grid:oinstall /u01/app/grid
# chown oracle:oinstall /u01/app/oracle
# chmod -R 775 /u01/
# chown -R grid:oinstall /u01
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Placing Oracle Grid Infrastructure for a Cluster binaries on a cluster file system is not supported.</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment797">
<tr>
<td class="cellalignment804">
<table class="cellalignment802">
<tr>
<td class="cellalignment801"><a href="networks.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment801"><a href="storage.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment806">
<table class="cellalignment800">
<tr>
<td class="cellalignment801"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment801"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment801"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment801"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment801"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment801"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
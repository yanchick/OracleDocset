<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-365"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Running%20the%20SQL%20Tuning%20Advisor"></a><title>Running the SQL Tuning Advisor</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-17T07:25:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database 2 Day DBA"/>
<meta name="dcterms.identifier" content="E51671-10"/>
<meta name="dcterms.isVersionOf" content="ADMQS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2004, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E51671-10.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A"></a> <span id="PAGE" style="display:none;">301/340</span> <!-- End Header -->
<a id="ADMQS12257"></a><a id="ADMQS1032"></a>
<h1 id="ADMQS-GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A" class="sect1"><span class="enumeration_section">10.3.6</span> Running the SQL Tuning Advisor</h1>
<div>
<div class="section">
<p><a id="d55145e23" class="indexterm-anchor"></a><a id="d55145e27" class="indexterm-anchor"></a>Use the SQL Tuning Advisor for tuning SQL statements. Typically, you run this advisor in response to an ADDM performance finding that recommends its use. You can also start the SQL Tuning Advisor manually. One reason is to tune statements that the Automatic SQL Tuning Advisor has not considered for tuning.</p>
<p>As described in <span class="q">&#34;<a href="GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9.htm">About the SQL Tuning Advisor</a>,&#34;</span> the SQL Tuning Advisor can select SQL statements to tune from several sources. The following scenario assumes that you want to tune the SQL statements with the most activity:</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">To run the SQL Tuning Advisor:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In EM Express, from the <span class="bold">Performance</span> menu, choose <span class="bold">Performance Hub</span>.</span>
<div>
<p>The Performance Hub page appears.</p>
</div>
</li>
<li class="stepexpand"><span>In the <span class="bold">Select Time Period</span> field, select the desired time period.</span>
<div>
<p>In this example, <span class="bold">Historical - All</span> has been selected in the <span class="bold">Select Time Period</span> field.</p>
</div>
</li>
<li class="stepexpand"><span>Select <span class="bold">Activity</span>.</span>
<div>
<p>The Activity tab appears.</p>
</div>
</li>
<li class="stepexpand"><span>In the table at the bottom of the Activity tab, select the row that includes the SQL statement that you want to tune, and then click the <span class="bold">Tune SQL</span> button.</span>
<div>
<p>In this example, the SQL statement in the sixth row of the table is selected.</p>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-F8719FD4-F87A-4677-8714-E9E31FD17F3E"><img width="1272" height="777" src="img/GUID-E1A0CC0B-F301-49AB-9B45-91B411315800-default.gif" alt="Description of GUID-E1A0CC0B-F301-49AB-9B45-91B411315800-default.gif follows" title="Description of GUID-E1A0CC0B-F301-49AB-9B45-91B411315800-default.gif follows"/><br/>
<a href="img_text/GUID-E1A0CC0B-F301-49AB-9B45-91B411315800-default.htm">Description of the illustration GUID-E1A0CC0B-F301-49AB-9B45-91B411315800-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>The Schedule SQL Tuning Advisor wizard appears, with the Task Information page showing.</span>
<div>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-2F72C359-E737-40C6-84E1-83BF930421D0"><img width="501" height="208" src="img/GUID-C2C68A4D-A10B-4B33-8934-58985237C1FE-default.gif" alt="Description of GUID-C2C68A4D-A10B-4B33-8934-58985237C1FE-default.gif follows" title="Description of GUID-C2C68A4D-A10B-4B33-8934-58985237C1FE-default.gif follows"/><br/>
<a href="img_text/GUID-C2C68A4D-A10B-4B33-8934-58985237C1FE-default.htm">Description of the illustration GUID-C2C68A4D-A10B-4B33-8934-58985237C1FE-default.gif</a></div>
<!-- class="figure" -->
<p>On the Task Information page, you can accept the tuning task name generated by the system, or enter a name of your choosing for the tuning task that will be created for the selected SQL statement. You also have the option of entering a description for the tuning task.</p>
<p>Click the right arrow button.</p>
</div>
</li>
<li class="stepexpand"><span>The Scope page appears. Specify the total time SQL Tuning Advisor should spend analyzing the statement (the default value is Unlimited), and the scope of the analysis (Comprehensive or Limited).</span>
<div>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-40BCA1EB-2E5E-42B1-AD3B-E27C1C3B407F"><img width="501" height="224" src="img/GUID-54A28410-D57D-491F-AD34-F6885D1457BC-default.gif" alt="Description of GUID-54A28410-D57D-491F-AD34-F6885D1457BC-default.gif follows" title="Description of GUID-54A28410-D57D-491F-AD34-F6885D1457BC-default.gif follows"/><br/>
<a href="img_text/GUID-54A28410-D57D-491F-AD34-F6885D1457BC-default.htm">Description of the illustration GUID-54A28410-D57D-491F-AD34-F6885D1457BC-default.gif</a></div>
<!-- class="figure" -->
<p>Click the right arrow button.</p>
</div>
</li>
<li class="stepexpand"><span>The Schedule page appears. On this page, you can schedule SQL Tuning Advisor to analyze the statement immediately or later. If you choose to have SQL Tuning Advisor analyze the statement later, specify the time that you want SQL Tuning Advisor to analyze the statement.</span>
<div>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-0B296647-EA4D-4CD0-BFE4-AF264DF90AE6"><img width="501" height="200" src="img/GUID-622C93ED-D37E-4867-A95C-6AE5DBE6AF73-default.gif" alt="Description of GUID-622C93ED-D37E-4867-A95C-6AE5DBE6AF73-default.gif follows" title="Description of GUID-622C93ED-D37E-4867-A95C-6AE5DBE6AF73-default.gif follows"/><br/>
<a href="img_text/GUID-622C93ED-D37E-4867-A95C-6AE5DBE6AF73-default.htm">Description of the illustration GUID-622C93ED-D37E-4867-A95C-6AE5DBE6AF73-default.gif</a></div>
<!-- class="figure" -->
<p>Click <span class="bold">OK</span> to begin the tuning task creation by SQL Tuning Advisor for the selected SQL statement.</p>
</div>
</li>
<li class="stepexpand"><span>When the SQL Tuning Advisor finishes analyzing the SQL statement, the <span class="bold">Completed</span> (check mark) icon appears in the <span class="bold">Status</span> column on the SQL Tuning Advisor page.</span>
<div>
<p>Select the row that includes the SQL statement that SQL Tuning Advisor has finished analyzing, and then click <span class="bold">View Result</span> to see the recommendations the SQL Tuning Advisor has for this SQL statement. In this example, the first row is selected.</p>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-831210A8-5197-4BCC-897C-72ED6CA41C2E"><img width="1272" height="407" src="img/GUID-040AA662-D17C-426C-A63F-DA3CE2806E8F-default.gif" alt="Description of GUID-040AA662-D17C-426C-A63F-DA3CE2806E8F-default.gif follows" title="Description of GUID-040AA662-D17C-426C-A63F-DA3CE2806E8F-default.gif follows"/><br/>
<a href="img_text/GUID-040AA662-D17C-426C-A63F-DA3CE2806E8F-default.htm">Description of the illustration GUID-040AA662-D17C-426C-A63F-DA3CE2806E8F-default.gif</a></div>
<!-- class="figure" -->
<p>The Tuning Result for SQL: SQLID page appears, which shows a summary of the tuning recommendations for the selected SQL statement.</p>
</div>
</li>
<li class="stepexpand"><span>The Select Recommendation section at the bottom of the page shows the recommendations for tuning the SQL statement.</span>
<div>
<p>If there are multiple recommendations on the page, only one of them should be implemented.</p>
<p>To implement a recommendation, select it in the table and click <span class="bold">Implement</span>. You will be prompted to provide the necessary information to implement the recommendation.</p>
<p>To help you decide which (if any) of the recommendations to implement, you may want to view more details about each of the recommendations.</p>
<p>To view more details about a recommendation, select it in the table, then click <span class="bold">View Details</span>.</p>
<p>In this example, the <span class="bold">Some alternative execution plans for this statement were found by searching the system&#39;s real-time and historical performance data</span> recommendation is selected.</p>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-45080C98-37C4-4A9F-AB6E-366C6E7F58A6"><img width="1271" height="450" src="img/GUID-D42A9D8C-C71A-4209-9FE0-A18AB62466DE-default.gif" alt="Description of GUID-D42A9D8C-C71A-4209-9FE0-A18AB62466DE-default.gif follows" title="Description of GUID-D42A9D8C-C71A-4209-9FE0-A18AB62466DE-default.gif follows"/><br/>
<a href="img_text/GUID-D42A9D8C-C71A-4209-9FE0-A18AB62466DE-default.htm">Description of the illustration GUID-D42A9D8C-C71A-4209-9FE0-A18AB62466DE-default.gif</a></div>
<!-- class="figure" -->
<p>The Recommendation Details page appears.</p>
</div>
</li>
<li class="stepexpand"><span>The top section of this page describes the performance recommendation, and the section is named after the type of recommendation. Some possible names for this section are &#34;Alternative Plan(s),&#34; &#34;Stale or Missing Statistics,&#34; &#34;Restructure SQL,&#34; and &#34;SQL Profile.&#34; This section provides an overview of the recommendation.</span>
<div>
<div class="figure" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-F5CA65F2-76EC-499B-B469-9970A2791DB9"><img width="1273" height="781" src="img/GUID-EB02314D-C996-467A-9442-F0EE55967D4F-default.gif" alt="Description of GUID-EB02314D-C996-467A-9442-F0EE55967D4F-default.gif follows" title="Description of GUID-EB02314D-C996-467A-9442-F0EE55967D4F-default.gif follows"/><br/>
<a href="img_text/GUID-EB02314D-C996-467A-9442-F0EE55967D4F-default.htm">Description of the illustration GUID-EB02314D-C996-467A-9442-F0EE55967D4F-default.gif</a></div>
<!-- class="figure" -->
<p>The Compare Explain Plans section at the bottom of the page includes one or more tabs that that enable you to view one or more execution plans for the selected statement. The four tabs that can appear are the Original Plan, Original Plan with Adjusted Cost, Plan Using SQL Profile, and Alternative Plan tabs. The Tabular and Graphical button enable you to display an execution plan in tabular or graphical format. In this example, the execution plan is displayed in tabular format.</p>
<p>For recommendations that do not include a potentially better execution plan, only the Original Plan tab appears, and the operations for the original plan are shown on the Original Plan subpage.</p>
<p>On the Original Plan with Adjusted Cost subpage, the execution plan steps are the same as the Original Plan steps, but the Original Plan with Adjusted Cost steps have different costs for the steps (as shown in the <span class="bold">Operation Cost</span> column).</p>
<p>On the Plan Using SQL Profile subpage, the steps are different than the Original Plan steps, and the steps have different costs (as shown in the <span class="bold">Operation Cost</span> column).</p>
<p>The Alternative Plan subpage is available when the execution history for the original plan cannot be found. In this case, if you know that the alternative plan suggested by SQL Tuning Advisor is better than the original plan, you can click the <span class="bold">Create SQL Plan Baseline</span> button to create a SQL plan baseline for the alternative plan so that the Oracle optimizer will pick the alternative plan for the statement in the future.</p>
<p>To implement a recommendation, click the <span class="bold">Back</span> button in your browser, and implement the recommendation on the Tuning Result page.</p>
</div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-15FA1315-30FA-4FA9-BD2A-066392F9165A__GUID-ED974ACF-0C5E-465F-B0BC-8D0F5841F3F8">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="GUID-DD26C6DE-F66F-4B04-9D6B-1491F2371EE9.htm">About the SQL Tuning Advisor</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-F6635C5A-3EE2-4B7A-9A3F-0E2C1CE11026.htm">About the Automatic SQL Tuning Advisor</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4647">
<tr>
<td class="cellalignment4654">
<table class="cellalignment4652">
<tr>
<td class="cellalignment4651"><a href="GUID-5591790E-1E07-4D7A-853E-3DB0F3D57AF4.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4651"><a href="GUID-9EC479AF-E92A-4868-9D0E-156D7F7B64AB.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2004, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4656">
<table class="cellalignment4650">
<tr>
<td class="cellalignment4651"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4651"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4651"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4651"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4651"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4651"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
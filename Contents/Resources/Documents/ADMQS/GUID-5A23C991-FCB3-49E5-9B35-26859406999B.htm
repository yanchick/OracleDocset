<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-475"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20Data%20Recovery%20Advisor"></a><title>Using Data Recovery Advisor</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-01-17T07:25:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database 2 Day DBA"/>
<meta name="dcterms.identifier" content="E51671-10"/>
<meta name="dcterms.isVersionOf" content="ADMQS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2004, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-4678D9C4-7949-4050-A6DF-F52F79CEDC9F.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-2DEB3182-10FA-488C-A01D-550CA49CDBD6.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E51671-10.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5A23C991-FCB3-49E5-9B35-26859406999B"></a> <span id="PAGE" style="display:none;">271/340</span> <!-- End Header -->
<a id="ADMQS12235"></a><a id="ADMQS0982"></a>
<h1 id="ADMQS-GUID-5A23C991-FCB3-49E5-9B35-26859406999B" class="sect1"><span class="enumeration_section">9.7.2</span> Using Data Recovery Advisor</h1>
<div>
<div class="section">
<p>The recovery process begins when you either suspect or discover a failure. You can discover failures in many ways, including error messages, alerts, trace files, and health checks. You can then use Data Recovery Advisor to gain information and advice about failures and repair them automatically.</p>
<p>This section describes a scenario in which you use Data Recovery Advisor to repair a corrupted block.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">To use the Oracle advised recovery strategy to automatically repair failures:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Connect Oracle Recovery Manager (RMAN) to the target database as described in <span class="q">&#34;<a href="GUID-7ACCA8DF-537B-4DA9-A7C7-306FBFC9D903.htm">Connecting to the Target Database Using RMAN</a>.&#34;</span></span>
<div>
<p>In a multitenant environment, connect to the root as a common user with the <code>SYSDBA</code> or <code>SYSBACKUP</code> privilege.</p>
</div>
</li>
<li class="stepexpand"><span>List all the failures know to the Data Recovery Advisor by running the following command:</span>
<div>
<pre dir="ltr">LIST FAILURE;

List of Database Failures
=========================
Failure ID Priority Status Time Detected Summary
---------- -------- ------ ------------- --------
142        HIGH     OPEN   23-APR-07     One or more non-system datafiles are
                                         missing
101        HIGH     OPEN   23-APR-07     Datafile 1: &#39;/disk1/oradata/prod/
                                         system01.dbf&#39; contains one or more  
                                         corrupt blocks
</pre>
<p>Wherever possible, RMAN consolidates failures while displaying the result of the <code>LIST FAILURE</code> command. For example, if a data file contains multiple block failures, the <code>LIST FAILURE</code> command consolidates and displays the repair options.</p>
<div class="infoboxnotealso" id="GUID-5A23C991-FCB3-49E5-9B35-26859406999B__GUID-492284E4-0A3E-40ED-874E-BAA068D7F1EF">
<p class="notep1">See Also:</p>
<p><a class="olink BRADV89726" target="_blank" href="../BRADV/rcmrepai.htm#BRADV89726"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about using the <code>LIST FAILURE ... DETAIL</code> command to display failures individually</p>
</div>
</div>
</li>
<li class="stepexpand"><span>If you suspect that some failures that have not been automatically diagnosed by the database exist, then check for corrupt blocks and missing data files by using the following command:</span>
<div>
<pre dir="ltr">VALIDATE DATABASE;
</pre>
<p>If a problem is detected during the validation, then RMAN triggers the execution of a failure assessment</p>
</div>
</li>
<li class="stepexpand"><span>Determine repair options, both automatic and manual, by using the following command:</span>
<div>
<pre dir="ltr">ADVISE FAILURE;
</pre></div>
</li>
<li class="stepexpand"><span>Fix the failures by using the following command:</span>
<div>
<pre dir="ltr">REPAIR FAILURE;
</pre>
<p>Automated repairs are performed by the Data Recovery Advisor. In certain cases, such as when no backups exist for a lost control file, the only repair option possible is the manual option.</p>
</div>
</li>
</ol>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4647">
<tr>
<td class="cellalignment4654">
<table class="cellalignment4652">
<tr>
<td class="cellalignment4651"><a href="GUID-4678D9C4-7949-4050-A6DF-F52F79CEDC9F.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4651"><a href="GUID-2DEB3182-10FA-488C-A01D-550CA49CDBD6.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2004, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4656">
<table class="cellalignment4650">
<tr>
<td class="cellalignment4651"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4651"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4651"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4651"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4651"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4651"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-100768"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Loading%20ESRI%20Shapefiles%20into%20Spatial%20and%20Graph"></a><title>Loading ESRI Shapefiles into Spatial and Graph</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="shapefiles, loading into Spatial, ESRI shapefiles"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="sdo_nn-examples.htm" title="Previous" type="text/html"/>
<link rel="Next" href="routing-engine-administration.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-0FEDEB4E-5039-490A-83AB-1E226512A0A0"></a> <span id="PAGE" style="display:none;">467/475</span> <!-- End Header -->
<a id="SPATL1427"></a>
<h1 id="SPATL-GUID-0FEDEB4E-5039-490A-83AB-1E226512A0A0" class="sect1"><span class="enumeration_chapter">D</span> Loading ESRI Shapefiles into Spatial and Graph</h1>
<div>
<p>The Java shapefile converter transforms an ESRI shapefile into an Oracle Database table for use with Oracle Spatial and Graph and Locator. The shapefile converter uses the Oracle Spatial and Graph Java-based shapefile <code>AdapterShapefileJGeom</code> and <code>SampleShapefileToJGeomFeature</code> classes to load a shapefile directly into a database table, with the Oracle-equivalent <code>.dbf</code> data types for the attribute columns and the SDO_GEOMETRY data type for the geometry column.</p>
<p>To load a shapefile into the database, use the converter as described in this appendix. (You can also use the <code>Adapter</code> class to create your own applications and interfaces that transform shapefiles to SDO_GEOMETRY or JGeometry data types; however, doing this is beyond the scope of this manual. For information about shapefile-related classes, see <a class="olink SPAJV" target="_blank" href="../SPAJV/toc.htm"><span class="italic">Oracle Spatial and Graph Java API Reference</span></a>).</p>
<p>To use the shapefile converter, you must have the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The following Oracle utilities and JDBC libraries: <code>ojdbc14.jar</code> or <code>ojdbc5.jar</code>, <code>sdoutl.jar</code>, and <code>sdoapi.jar</code></p>
</li>
<li>
<p>One or more ESRI shapefiles (<code>.shp</code>, <code>.shx</code>, .and <code>.dbf</code> files) to be converted</p>
</li>
</ul>
</div>
<a id="SPATL1429"></a><a id="SPATL1428"></a>
<div class="props_rev_3"><a id="GUID-2E1C765C-E29E-4EDC-9918-14FF4A73E049"></a>
<h2 id="SPATL-GUID-2E1C765C-E29E-4EDC-9918-14FF4A73E049" class="sect2"><span class="enumeration_section">D.1</span> Usage of the Shapefile Converter</h2>
<div>
<p>The following is the syntax for the shapefile converter. (Enter the command all on a single line.)</p>
<pre dir="ltr">&gt; java -cp [ORACLE_HOME]/jdbc/lib/ojdbc5.jar:[ORACLE_HOME]/md/jlib/sdoutl.jar:[ORACLE_HOME]/md/jlib/sdoapi.jar oracle.spatial.util.SampleShapefileToJGeomFeature -h db_host -p db_port -s db_sid|-sn db_service_name -u db_username -d db_password -t db_table -f shapefile_name [-r srid] [-i table_id_column_name][-n start_id] [-g db_geometry_column] [-x max_x,min_x] [-y max_y,min_y] [-o tolerance] [-k keyword_table] [-a append][-c commit_int] [-v println_int]
</pre>
<div class="section">
<p class="subhead2">Parameters</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code>-h</code>: Host machine with an existing Oracle database</p>
<p><code>-p</code>: Port on the host machine (for example, 1521)</p>
<p><code>-s</code>: SID (database name) on the host machine</p>
<p><code>-sn</code>: Service name on the host machine (do not specify <code>-s</code> when using <code>-sn</code>)</p>
<p><code>-u</code>: Database user</p>
<p><code>-d</code>: Password for the database user</p>
<p><code>-t</code>: Table name for the converted shapefile</p>
<p><code>-f</code>: File name of an input shapefile (with or without extension)</p>
<p><code>-r</code>: Valid Oracle SRID for coordinate system; use 0 if unknown</p>
<p><code>-i</code>: Column name for unique numeric ID, if required</p>
<p><code>-n</code>: Start ID for column specified in -i parameter</p>
<p><code>-g</code>: Preferred SDO_GEOMETRY column name</p>
<p><code>-x</code>: Bounds for the X dimension; use -180,180 if unknown</p>
<p><code>-y</code>: Bounds for the Y dimension; use -90,90 if unknown</p>
<p><code>-o</code>: Load tolerance fields (x and y) in metadata; if not specified, tolerance fields are 0.05</p>
<p><code>-k</code>: Table name that contains Oracle reserved word(s) in a column named KEYWORD</p>
<p><code>-a</code>: Append shapefile data to an existing table</p>
<p><code>-c</code>: Commit interval; by default, commits occur every 1000 conversions and at the end</p>
<p><code>-v</code>: Println interval; by default, a display every 10 conversions</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SPATL1431"></a><a id="SPATL1432"></a><a id="SPATL1430"></a>
<div class="props_rev_3"><a id="GUID-D622DD73-BB4B-4105-B293-7AAB0BDE6E33"></a>
<h2 id="SPATL-GUID-D622DD73-BB4B-4105-B293-7AAB0BDE6E33" class="sect2"><span class="enumeration_section">D.2</span> Examples of the Shapefile Converter</h2>
<div>
<p>The following examples show the use of the shapefile converter to transform a file named <code>shapes.shp</code> to a table named <code>shapes</code> containing an SDO_GEOMETRY column named <code>geom</code>. The SRID for the Longitude/Latitude (WGS 84) coordinate system is used (8307).</p>
<div class="section">
<p class="subhead2">Linux Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">&gt; setenv clpath $ORACLE_HOME/jdbc/lib/ojdbc5.jar:$ORACLE_HOME/md/jlib/sdoutl.jar:$ORACLE_HOME/md/jlib/sdoapi.jar
&gt; java -cp $clpath oracle.spatial.util.SampleShapefileToJGeomFeature -h gis01 -p 1521 -s orcl -u scott -d <span class="italic">&lt;password-for-scott&gt;</span> -t shapes -f shapes.shp -r 8307 -g geom
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Windows Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">&gt; java -classpath %ORACLE_HOME%\jdbc\lib\ojdbc5.jar;%ORACLE_HOME%\md\jlib\sdoutl.jar;%ORACLE_HOME%\md\jlib\sdoapi.jar oracle.spatial.util.SampleShapefileToJGeomFeature -h gis01 -p 1521 -s orcl -u scott -d <span class="italic">&lt;password-for-scott&gt;</span> -t shapes -f shapes.shp -r 8307 -g geom
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="sdo_nn-examples.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="routing-engine-administration.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-100694"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Geometry%20Metadata%20Views"></a><title>Geometry Metadata Views</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="TABLE_NAME (in USER_SDO_GEOM_METADATA), table names, restrictions on spatial table names, COLUMN_NAME (in USER_SDO_GEOM_METADATA), column name, restrictions on spatial column names, DIMINFO (in USER_SDO_GEOM_METADATA), SRID, in USER_SDO_GEOM_METADATA"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="three-dimensional-geometry-types.htm" title="Previous" type="text/html"/>
<link rel="Next" href="other-spatial-metadata-views.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-AEA8FA01-880B-4865-8074-3B6FBD17A5E1"></a> <span id="PAGE" style="display:none;">57/475</span> <!-- End Header -->
<a id="SPATL545"></a>
<h1 id="SPATL-GUID-AEA8FA01-880B-4865-8074-3B6FBD17A5E1" class="sect1"><span class="enumeration_section">2.8</span> Geometry Metadata Views</h1>
<div>
<p>The geometry metadata describing the dimensions, lower and upper bounds, and tolerance in each dimension is stored in a global table owned by MDSYS (which users should never directly update). Each Spatial and Graph user has the following views available in the schema associated with that user:</p>
<ul style="list-style-type: disc;">
<li>
<p><a id="d25408e46" class="indexterm-anchor"></a><a id="d25408e48" class="indexterm-anchor"></a>USER_SDO_GEOM_METADATA contains metadata information for all spatial tables owned by the user (schema). This is the only view that you can update, and it is the one in which Spatial and Graph users must insert metadata related to spatial tables.</p>
</li>
<li>
<p><a id="d25408e55" class="indexterm-anchor"></a><a id="d25408e57" class="indexterm-anchor"></a>ALL_SDO_GEOM_METADATA contains metadata information for all spatial tables on which the user has SELECT permission.</p>
</li>
</ul>
<p>Spatial and Graph users are responsible for populating these views. For each spatial column, you must insert an appropriate row into the USER_SDO_GEOM_METADATA view. Oracle Spatial and Graph ensures that the ALL_SDO_GEOM_METADATA view is also updated to reflect the rows that you insert into USER_SDO_GEOM_METADATA.</p>
<p>Each metadata view has the following definition:</p>
<pre dir="ltr">(
  TABLE_NAME   VARCHAR2(32),
  COLUMN_NAME  VARCHAR2(32),
  DIMINFO      SDO_DIM_ARRAY,
  SRID         NUMBER
);
</pre>
<p>In addition, the ALL_SDO_GEOM_METADATA view has an OWNER column identifying the schema that owns the table specified in TABLE_NAME.</p>
<p><a id="d25408e71" class="indexterm-anchor"></a>The following considerations apply to schema, table, and column names, and to any SDO_DIMNAME values, that are stored in any Oracle Spatial and Graph metadata views:</p>
<ul style="list-style-type: disc;">
<li>
<p>They must contain only letters, numbers, and underscores. For example, such a name cannot contain a space ( ), an apostrophe (<code>&#39;</code>), a quotation mark (<code>&#34;</code>), or a comma (<code>,</code>).</p>
</li>
<li>
<p>All letters in the names are converted to uppercase before the names are stored in geometry metadata views or before the tables are accessed. This conversion also applies to any schema name specified with the table name.</p>
</li>
</ul>
</div>
<a id="SPATL546"></a>
<div class="props_rev_3"><a id="GUID-76097710-5E16-4A2F-8DCA-6BCC2C6E4429"></a>
<h2 id="SPATL-GUID-76097710-5E16-4A2F-8DCA-6BCC2C6E4429" class="sect2"><span class="enumeration_section">2.8.1</span> TABLE_NAME</h2>
<div>
<p>The TABLE_NAME column contains the name of a feature table, such as COLA_MARKETS, that has a column of type SDO_GEOMETRY.</p>
<p>The table name is stored in the spatial metadata views in all uppercase characters.</p>
<p>The table name cannot contain spaces or mixed-case letters in a quoted string when inserted into the USER_SDO_GEOM_METADATA view, and it cannot be in a quoted string when used in a query (unless it is in all uppercase characters).</p>
<p><a id="d25408e153" class="indexterm-anchor"></a>The spatial feature table cannot be an index-organized table if you plan to create a spatial index on the spatial column.</p>
</div>
</div>
<a id="SPATL547"></a>
<div class="props_rev_3"><a id="GUID-39C747F5-69B7-473A-8B66-0CF5CF38D1F6"></a>
<h2 id="SPATL-GUID-39C747F5-69B7-473A-8B66-0CF5CF38D1F6" class="sect2"><span class="enumeration_section">2.8.2</span> COLUMN_NAME</h2>
<div>
<p>The COLUMN_NAME column contains the name of the column of type SDO_GEOMETRY. For the COLA_MARKETS table, this column is called SHAPE.</p>
<p>The column name is stored in the spatial metadata views in all uppercase characters.</p>
<p>The column name cannot contain spaces or mixed-case letters in a quoted string when inserted into the USER_SDO_GEOM_METADATA view, and it cannot be in a quoted string when used in a query (unless it is in all uppercase characters).</p>
</div>
</div>
<a id="SPATL548"></a>
<div class="props_rev_3"><a id="GUID-483D9FB7-AEC1-433C-A2AF-D0FE3018CDCF"></a>
<h2 id="SPATL-GUID-483D9FB7-AEC1-433C-A2AF-D0FE3018CDCF" class="sect2"><span class="enumeration_section">2.8.3</span> DIMINFO</h2>
<div>
<p>The DIMINFO column is a varying length array of an object type, ordered by dimension, and has one entry for each dimension. The SDO_DIM_ARRAY type is defined as follows:</p>
<pre dir="ltr">Create Type SDO_DIM_ARRAY as VARRAY(4) of SDO_DIM_ELEMENT; 
</pre>
<p>The SDO_DIM_ELEMENT type is defined as:</p>
<pre dir="ltr">Create Type SDO_DIM_ELEMENT as OBJECT (
  SDO_DIMNAME VARCHAR2(64),
  SDO_LB NUMBER,
  SDO_UB NUMBER,
  SDO_TOLERANCE NUMBER);
</pre>
<p>The SDO_DIM_ARRAY instance is of size <span class="italic">n</span> if there are <span class="italic">n</span> dimensions. That is, DIMINFO contains 2 SDO_DIM_ELEMENT instances for two-dimensional geometries, 3 instances for three-dimensional geometries, and 4 instances for four-dimensional geometries. Each SDO_DIM_ELEMENT instance in the array must have valid (not null) values for the SDO_LB, SDO_UB, and SDO_TOLERANCE attributes.</p>
<div class="infobox-note" id="GUID-483D9FB7-AEC1-433C-A2AF-D0FE3018CDCF__GUID-D4407439-2F36-4654-B8DC-EE6B06DAE197">
<p class="notep1">Note:</p>
<p>The number of dimensions reflected in the DIMINFO information must match the number of dimensions of each geometry object in the layer.</p>
</div>
<p>For an explanation of tolerance and how to determine the appropriate SDO_TOLERANCE value, see <a href="data-model.htm#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>, especially <a href="data-model.htm#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">Tolerance in the Geometry Metadata for a Layer</a>.</p>
<p>Spatial and Graph assumes that the varying length array is ordered by dimension. The DIMINFO varying length array must be ordered by dimension in the same way the ordinates for the points in SDO_ORDINATES varying length array are ordered. For example, if the SDO_ORDINATES varying length array contains {X1, Y1, ..., X<span class="italic">n</span>, Y<span class="italic">n</span>}, then the first DIMINFO entry must define the X dimension and the second DIMINFO entry must define the Y dimension.</p>
<p><a href="simple-example-inserting-indexing-and-querying-spatial-data.htm">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a> shows the use of the SDO_GEOMETRY and SDO_DIM_ARRAY types. This example demonstrates how geometry objects (hypothetical market areas for colas) are represented, and how the COLA_MARKETS feature table and the USER_SDO_GEOM_METADATA view are populated with the data for those objects.</p>
</div>
</div>
<a id="SPATL549"></a>
<div class="props_rev_3"><a id="GUID-6A2A2DA6-A9E3-4218-B33F-B512C96A4D5A"></a>
<h2 id="SPATL-GUID-6A2A2DA6-A9E3-4218-B33F-B512C96A4D5A" class="sect2"><span class="enumeration_section">2.8.4</span> SRID</h2>
<div>
<p>The SRID column should contain either of the following: the SRID value for the coordinate system for all geometries in the column, or NULL if no specific coordinate system should be associated with the geometries. (For information about coordinate systems, see <a href="coordinate-systems-spatial-reference-systems.htm">Coordinate Systems (Spatial Reference Systems)</a>.)</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="three-dimensional-geometry-types.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="other-spatial-metadata-views.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
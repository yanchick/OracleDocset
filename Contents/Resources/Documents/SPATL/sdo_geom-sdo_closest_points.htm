<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101086"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_GEOM.SDO_CLOSEST_POINTS"></a><title>SDO_GEOM.SDO_CLOSEST_POINTS</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="SDO_CLOSEST_POINTS procedure, closest points, SDO_CLOSEST_POINTS procedure, SDO_GEOM package, SDO_CLOSEST_POINTS"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="sdo_geom-sdo_centroid.htm" title="Previous" type="text/html"/>
<link rel="Next" href="sdo_geom-sdo_concavehull.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B"></a> <span id="PAGE" style="display:none;">275/475</span> <!-- End Header -->
<a id="SPATL1113"></a>
<h1 id="SPATL-GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B" class="sect1"><span class="enumeration_section">23.7</span> SDO_GEOM.SDO_CLOSEST_POINTS</h1>
<div>
<div class="section">
<p class="subhead1">Format</p>
<pre dir="ltr">SDO_GEOM.SDO_CLOSEST_POINTS(     
  geom1     IN SDO_GEOMETRY,      
  geom2     IN SDO_GEOMETRY,      
  tolerance IN NUMBER,       
  unit      IN VARCHAR2,      
  dist      OUT NUMBER,      
  geoma     OUT SDO_GEOMETRY,      
  geomb     OUT SDO_GEOMETRY);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Computes the minimum distance between two geometries and the points (one on each geometry) that are the minimum distance apart.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101079"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-EF357B73-480C-4A32-A889-899BB919B7AF"><!-- --></a>geom1</dt>
<dd>
<p>Geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101080"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-D9B82548-1F1D-4F8B-AF6C-C1F2AFD6BA8D"><!-- --></a>geom2</dt>
<dd>
<p>Geometry object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101081"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-7FE21EB2-F1FD-4AEA-AC23-948C9A9AEB91"><!-- --></a>tolerance</dt>
<dd>
<p>Tolerance value (see <a href="data-model.htm#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101082"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-1DC8466F-9991-4595-A671-8BD32D38FBAB"><!-- --></a>unit</dt>
<dd>
<p>Unit of measurement: a quoted string with <code>unit=</code> and an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, &#39;unit=KM&#39;). See <a href="unit-measurement-support.htm#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99">Unit of Measurement Support</a> for more information about unit of measurement specification.</p>
<p>If this parameter is not specified, the unit of measurement associated with the data is assumed.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101083"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-6C671135-F91A-48D9-AFE8-06E12F6D1D79"><!-- --></a>dist</dt>
<dd>
<p>Output parameter containing the minimum distance between <code>geom1</code> and <code>geom2</code>. Specifically, the distance between <code>geoma</code> and <code>geomb</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101084"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-09DD964B-C04E-4562-99BF-1175DC6971F6"><!-- --></a>geoma</dt>
<dd>
<p>Output parameter containing the point geometry object on the boundary of <code>geom1</code> that is closest to the closest point on the boundary of <code>geom2</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101085"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D3E9002-95E7-4477-99EE-D874347C0E0B__GUID-55C018A5-A99D-4FEC-9171-966D7E2B1866"><!-- --></a>geomb</dt>
<dd>
<p>Output parameter containing the point geometry object on the boundary of <code>geom2</code> that is closest to the closest point on the boundary of <code>geom1</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>This procedure uses output parameters to store the computed minimum distance and the point on each input geometry associated with the minimum distance.</p>
<p>If the distance between the two points is 0 (zero), the output geometries (<code>geoma</code> and <code>geomb</code>) will be as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>For two-dimensional (2D) geometries, if one of the input geometries is a point geometry, each output geometry is that point; otherwise, each output geometry is the first point in the first element of the intersection of the input geometries.</p>
</li>
<li>
<p>For three-dimensional (3D) geometries, if one of the input geometries is a point geometry, each output geometry is that point; otherwise, the output geometries are null.</p>
</li>
</ul>
<p>An exception is raised if <code>geom1</code> and <code>geom2</code> are based on different coordinate systems.</p>
<p>If the input data is three-dimensional and geodetic, a 3D SRID must be used for the geometries; otherwise, the results will be incorrect.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example computes the minimum distance between geometries <code>cola_c</code> and cola_d, as well as the one point on each input geometry associated with the minimum distance. It also inserts the two output point geometries into the table and then selects these point geometries. The minimum distance between the two input geometries is 2.47213595499958, the closest point on <code>cola_c</code> is at (6,5), and the closest point on <code>cola_d</code> is at (7.10557281, 7.21114562). (The example uses the definitions and data from <a href="simple-example-inserting-indexing-and-querying-spatial-data.htm">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)</p>
<pre dir="ltr">DECLARE
  cola_c_geom SDO_GEOMETRY;
  cola_d_geom SDO_GEOMETRY;
  dist NUMBER;
  geoma SDO_GEOMETRY;
  geomb SDO_GEOMETRY;
  
BEGIN
  
-- Populate geometry variables with cola market shapes.
SELECT c.shape into cola_c_geom FROM cola_markets c
  WHERE c.name = &#39;cola_c&#39;;
SELECT c.shape into cola_d_geom FROM cola_markets c
  WHERE c.name = &#39;cola_d&#39;;
 
SDO_GEOM.SDO_CLOSEST_POINTS(cola_c_geom, cola_d_geom, 0.005, NULL,
  dist, geoma, geomb);
  
INSERT INTO cola_markets VALUES(9901, &#39;geoma&#39;, geoma);
INSERT INTO cola_markets VALUES(9902, &#39;geomb&#39;, geomb);
  
DBMS_OUTPUT.PUT_LINE(&#39;dist output parameter value = &#39; || dist);
END;
/
dist output parameter value = 2.47213595499958                                  
 
PL/SQL procedure successfully completed.
 
SELECT c.shape FROM cola_markets c WHERE c.name = &#39;geoma&#39;;
 
SHAPE(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)    
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(
6, 5))                                                                          
                                                                                
SELECT c.shape FROM cola_markets c WHERE c.name = &#39;geomb&#39;;
 
SHAPE(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)    
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(
7.10557281, 7.21114562))
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Related Topics</p>
<p>None.</p>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="sdo_geom-sdo_centroid.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="sdo_geom-sdo_concavehull.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101660"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE"></a><title>SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="ESTIMATE_RTREE_INDEX_SIZE function, indexes, size (R-tree), SDO_TUNE package, ESTIMATE_RTREE_INDEX_SIZE"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="sdo_tune-average_mbr.htm" title="Previous" type="text/html"/>
<link rel="Next" href="sdo_tune-extent_of.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F"></a> <span id="PAGE" style="display:none;">387/475</span> <!-- End Header -->
<a id="SPATL1215"></a>
<h1 id="SPATL-GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F" class="sect1"><span class="enumeration_section">30.2</span> SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE</h1>
<div>
<div class="section">
<p class="subhead1">Format</p>
<pre dir="ltr">SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(
     schemaname IN VARCHAR2, 
     tabname    IN VARCHAR2, 
     colname    IN VARCHAR2, 
     partname   IN VARCHAR2 DEFAULT NULL 
     ) RETURN NUMBER;
</pre>
<p>or</p>
<pre dir="ltr">SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(
     number_of_geoms IN INTEGER, 
     db_block_size   IN INTEGER, 
     sdo_rtr_pctfree IN INTEGER DEFAULT 10, 
     num_dimensions  IN INTEGER DEFAULT 2,      is_geodetic               IN INTEGER DEFAULT 0 
     ) RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Estimates the maximum number of megabytes needed for an R-tree spatial index table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101651"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-EFB29122-C44D-4912-B233-E19B935CDF1D"><!-- --></a>schemaname</dt>
<dd>
<p>Schema that owns the spatial geometry table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101652"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-3BF83AF6-47E3-47CB-BA1B-BF86C3ED2D56"><!-- --></a>tabname</dt>
<dd>
<p>Spatial geometry table name.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101653"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-AA04EFD1-1BAE-42D0-BB13-79436B718FA9"><!-- --></a>colname</dt>
<dd>
<p>Geometry column name.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101654"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-159F960E-714D-4A1D-9769-EBEA73351B35"><!-- --></a>partname</dt>
<dd>
<p>Name of a partition containing geometries from <code>colname</code>. If you specify this parameter, the value returned by the function is the estimated size for an R-tree index table on geometries in that partition. If you do not specify this parameter, the value is the estimated size for an R-tree index table on all geometries in <code>colname</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101655"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-2E10465C-5E86-4C88-A2C8-E5282793C784"><!-- --></a>number_of_geoms</dt>
<dd>
<p>Approximate number of geometries in the spatial geometry table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101656"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-4ADF7FF5-25CE-4C67-B7D2-6CCF09C1E550"><!-- --></a>db_block_size</dt>
<dd>
<p>Database block size (in bytes).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101657"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-E6341F90-8D9C-4A40-8CF5-9CF2E382074B"><!-- --></a>sdo_rtr_pctfree</dt>
<dd>
<p>Minimum percentage of slots in each index tree node to be left empty when the index is created. Slots that are left empty can be filled later when new data is inserted into the table. The value can range from 0 to 50. The default value (10) is best for most applications; however, a value of 0 is recommended if no updates will be performed to the geometry column.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101658"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-D5C8629D-2279-41BD-B758-51C6EE43C300"><!-- --></a>num_dimensions</dt>
<dd>
<p>Number of dimensions to be indexed. The default value is 2. If you plan to specify the <code>sdo_indx_dims</code> parameter in the <a href="create-index.htm">CREATE INDEX</a> statement, the <code>num_dimensions</code> value should match the <code>sdo_indx_dims</code> value.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101659"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-BE58E3F8-63C2-4E81-A2B8-F17CDD381F1F__GUID-4AC17E12-836F-4EC4-BF32-1F112ADAC0E7"><!-- --></a>is_geodetic</dt>
<dd>
<p>A value indicating whether or not the spatial index will be a geodetic index: 1 for a geodetic index, or 0 (the default) for a non-geodetic index.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>The function returns the estimated maximum number of megabytes needed for the spatial index table (described in <a href="spatial-index-related-structures.htm#GUID-C55DB00C-892F-4F2C-BE6E-A287A8102B09">Spatial Index Table Definition</a>) for an R-tree spatial index to be created. The value returned is the maximum number of megabytes needed after index creation. During index creation, approximately three times this value of megabytes will be needed in the tablespace, to ensure that there is enough space for temporary tables while the index is being created.</p>
<p>This function has two formats:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the format with character string parameters (<code>schemaname</code>, <code>tabname</code>, <code>colname</code>, and optionally <code>partname</code>) in most cases when the spatial geometry table already exists, you do not plan to add substantially more geometries to it before creating the index, and you plan to use the default R-tree indexing parameters.</p>
</li>
<li>
<p>Use the format with integer parameters (<code>number_of_geoms</code>, <code>db_block_size</code>, <code>sdo_rtr_pctfree</code>, <code>num_dimensions</code>, <code>is_geodetic</code>) in any of the following cases: the spatial geometry table does not exist; the spatial geometry table exists but you plan to add substantially more geometries to it before creating the index; or the <code>num_dimensions</code> value is not 2 for non-geodetic data or 3 for geodetic data, and a nondefault value will be specified using the <code>sdo_indx_dims</code> parameter in the <a href="create-index.htm">CREATE INDEX</a> statement.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example estimates the maximum number of megabytes needed for a spatial index table for an index given the following information: <code>number_of_geoms</code> <code>= 1000000</code> (one million), <code>db_block_size</code> <code>= 2048</code>, <code>sdo_rtr_pctfree</code> <code>= 10</code>, <code>num_dimensions</code> <code>= 2</code>, <code>is_geodetic = 0</code>.</p>
<pre dir="ltr">SELECT SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(1000000, 2048, 10, 2, 0) FROM DUAL;

SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(1000000,2048,10,2,0)
-----------------------------------------------------
                                                   82
</pre>
<p>The following example estimates the maximum number of megabytes needed for a spatial index table for an index on the SHAPE column in the COLA_MARKETS table in the SCOTT schema. The estimate is based on the geometries that are currently in the table.</p>
<pre dir="ltr">SELECT SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(&#39;SCOTT&#39;, &#39;COLA_MARKETS&#39;, &#39;SHAPE&#39;) FROM DUAL;

SDO_TUNE.ESTIMATE_RTREE_INDEX_SIZE(&#39;SCOTT&#39;,&#39;COLA_MARKETS&#39;,&#39;SHAPE&#39;)
---------------------------------------------------------------------
                                                                    1
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="sdo_tune-average_mbr.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="sdo_tune-extent_of.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
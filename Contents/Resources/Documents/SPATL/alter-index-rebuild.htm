<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-100632"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/ALTER%20INDEX%20REBUILD"></a><title>ALTER INDEX REBUILD</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="ALTER INDEX statement, REBUILD clause, R-tree indexes, rebuilding, indexes, rebuilding, spatial indexes"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="alter-index.htm" title="Previous" type="text/html"/>
<link rel="Next" href="alter-index-rename.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677"></a> <span id="PAGE" style="display:none;">178/475</span> <!-- End Header -->
<a id="SPATL1017"></a>
<h1 id="SPATL-GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677" class="sect1"><span class="enumeration_section">17.2</span> ALTER INDEX REBUILD</h1>
<div>
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">ALTER INDEX [schema.]index REBUILD  
     [PARAMETERS (&#39;rebuild_params [physical_storage_params]&#39; ) ] 
     [{ NOPARALLEL | PARALLEL [ integer ] }] ;
</pre>
<p>or</p>
<pre dir="ltr">ALTER INDEX [schema.]index REBUILD ONLINE 
     [PARAMETERS (&#39;rebuild_params [physical_storage_params]&#39; ) ] 
     [{ NOPARALLEL | PARALLEL [ integer ] }] ;
</pre>
<p>or</p>
<pre dir="ltr">ALTER INDEX [schema.]index REBUILD PARTITION partition  
     [PARAMETERS (&#39;rebuild_params [physical_storage_params]&#39; ) ];
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Purpose</p>
<p>Rebuilds a spatial index or a specified partition of a partitioned index.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Keywords and Parameters</p>
<div class="tblformal" id="GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677__GUID-786415AC-0A48-4571-BC89-606E484E52B2">
<table class="cellalignment152" summary="Keywords and parameters for ALTER INDEX REBUILD">
<thead>
<tr class="cellalignment143">
<th class="cellalignment175" id="d103337e88">Value</th>
<th class="cellalignment176" id="d103337e91">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e96" headers="d103337e88">
<p><span class="italic"><span class="bold">REBUILD_PARAMS</span></span></p>
</td>
<td class="cellalignment178" headers="d103337e96 d103337e91">
<p>Specifies in a command string the index parameters to use in rebuilding the spatial index.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e105" headers="d103337e88">
<p>index_status=cleanup</p>
</td>
<td class="cellalignment178" headers="d103337e105 d103337e91">
<p>For an online rebuild operation (ALTER INDEX REBUILD ONLINE), performs cleanup operations on tables associated with the older version of the index.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e112" headers="d103337e88">
<p>layer_gtype</p>
</td>
<td class="cellalignment178" headers="d103337e112 d103337e91">
<p>Checks to ensure that all geometries are of a specified geometry type. The value must be from the Geometry Type column in <a href="sdo_geometry-object-type.htm#GUID-4D84CE67-67E4-4A84-8255-C586E765A94B">SDO_GTYPE</a> (except that UNKNOWN_GEOMETRY is not allowed). In addition, specifying POINT allows for optimized processing of point data. Data type is VARCHAR2.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e125" headers="d103337e88">
<p>sdo_dml_batch_size</p>
</td>
<td class="cellalignment178" headers="d103337e125 d103337e91">
<p>Specifies the number of index updates to be processed in each batch of updates after a commit operation. The default value is 1000. For example, if you insert 3500 rows into the spatial table and then perform a commit operation, the updates to the spatial index table are performed in four batches of insert operations (1000, 1000, 1000, and 500). See the Usage Notes for the <a href="create-index.htm">CREATE INDEX</a> statement for more information. Data type is NUMBER. Default = 1000.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e138" headers="d103337e88">
<p>sdo_indx_dims</p>
</td>
<td class="cellalignment178" headers="d103337e138 d103337e91">
<p>Specifies the number of dimensions to be indexed. For example, a value of 2 causes only the first two dimensions to be indexed. Must be less than or equal to the number of actual dimensions. For usage information related to three-dimensional geometries, see <a href="three-dimensional-spatial-objects.htm">Three-Dimensional Spatial Objects</a>. Data type is NUMBER. Default = 2.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e151" headers="d103337e88">
<p>sdo_max_memory</p>
</td>
<td class="cellalignment178" headers="d103337e151 d103337e91">
<p>Specifies the amount of maximum memory that can be allocated to perform a spatial index build or rebuild operation. Can be from 64000 (about 64 KB) to 200000000 (about 200 MB). If the specified number of bytes cannot be allocated, 64000 (about 64 KB) is allocated. Specifying a value greater than the default can significantly improve index creation performance; however, do not specify more than 20 percent of available memory. Data type is NUMBER. Default = 10000000 (about 10 MB).</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e160" headers="d103337e88">
<p>sdo_rtr_pctfree</p>
</td>
<td class="cellalignment178" headers="d103337e160 d103337e91">
<p>Specifies the minimum percentage of slots in each index tree node to be left empty when the index is created. Slots that are left empty can be filled later when new data is inserted into the table. The value can range from 0 to 50. Data type is NUMBER. Default = 10.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e169" headers="d103337e88">
<p><span class="italic"><span class="bold">PHYSICAL_STORAGE_PARAMS</span></span></p>
</td>
<td class="cellalignment178" headers="d103337e169 d103337e91">
<p>Determines the storage parameters used for rebuilding the spatial index data table. A spatial index data table is a regular Oracle table with a prescribed format. Not all physical storage parameters that are allowed in the STORAGE clause of a CREATE TABLE statement are supported. The following is a list of the supported subset.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e178" headers="d103337e88">
<p>tablespace</p>
</td>
<td class="cellalignment178" headers="d103337e178 d103337e91">
<p>Specifies the tablespace in which the index data table is created. Same as TABLESPACE in the STORAGE clause of a CREATE TABLE statement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e185" headers="d103337e88">
<p>initial</p>
</td>
<td class="cellalignment178" headers="d103337e185 d103337e91">
<p>Is the same as INITIAL in the STORAGE clause of a CREATE TABLE statement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e192" headers="d103337e88">
<p>next</p>
</td>
<td class="cellalignment178" headers="d103337e192 d103337e91">
<p>Is the same as NEXT in the STORAGE clause of a CREATE TABLE statement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e200" headers="d103337e88">
<p>minextents</p>
</td>
<td class="cellalignment178" headers="d103337e200 d103337e91">
<p>Is the same as MINEXTENTS in the STORAGE clause of a CREATE TABLE statement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e207" headers="d103337e88">
<p>maxextents</p>
</td>
<td class="cellalignment178" headers="d103337e207 d103337e91">
<p>Is the same as MAXEXTENTS in the STORAGE clause of a CREATE TABLE statement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e214" headers="d103337e88">
<p>pctincrease</p>
</td>
<td class="cellalignment178" headers="d103337e214 d103337e91">
<p>Is the same as PCTINCREASE in the STORAGE clause of a CREATE TABLE statement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment177" id="d103337e221" headers="d103337e88">
<p><span class="italic"><span class="bold">{ NOPARALLEL | PARALLEL [ integer ] }</span></span></p>
</td>
<td class="cellalignment178" headers="d103337e221 d103337e91">
<p><a id="d103337e232" class="indexterm-anchor"></a><a id="d103337e238" class="indexterm-anchor"></a>Controls whether serial (NOPARALLEL) execution or parallel (PARALLEL) execution is used for the rebuilding of the index and for subsequent queries and DML operations that use the index. For parallel execution you can specify an integer value of degree of parallelism. See the Usage Notes for the <a href="create-index.htm">CREATE INDEX</a> statement for guidelines and restrictions that apply to the use of the PARALLEL keyword. Default = NOPARALLEL. (If PARALLEL is specified without an integer value, the Oracle database calculates the optimum degree of parallelism.)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Prerequisites</p>
<ul style="list-style-type: disc;">
<li>
<p>You must have EXECUTE privileges on the index type and its implementation type.</p>
</li>
<li>
<p>The spatial index to be altered is not marked in-progress.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>An ALTER INDEX REBUILD &#39;rebuild_params&#39; statement rebuilds the index using supplied parameters. Spatial index creation involves creating and inserting index data, for each row in the underlying table column being spatially indexed, into a table with a prescribed format. All rows in the underlying table are processed before the insertion of index data is committed, and this requires adequate rollback segment space.</p>
<p>The ONLINE keyword rebuilds the index without blocking the index; that is, queries can use the spatial index while it is being rebuilt. However, after all queries issued during the rebuild operation have completed, you must clean up the old index information (in the MDRT tables) by entering a SQL statement in the following form:</p>
<pre dir="ltr">ALTER INDEX [schema.]index REBUILD ONLINE PARAMETERS (&#39;index_status=cleanup&#39;);
</pre>
<p>The following limitations apply to the use of the ONLINE keyword:</p>
<ul style="list-style-type: disc;">
<li>
<p>Only query operations are permitted while the index is being rebuilt. Insert, update, and delete operations that would affect the index are blocked while the index is being rebuilt; and an online rebuild is blocked while any insert, update, or delete operations that would affect the index are being performed.</p>
</li>
<li>
<p>You cannot use the ONLINE keyword for a rebuild operation if the index was created using the <code>&#39;sdo_non_leaf_tbl=TRUE&#39;</code> parameter.</p>
</li>
<li>
<p>You cannot use the ONLINE keyword for a partitioned spatial index.</p>
</li>
</ul>
<p>Effective with Release 12.1, the ALTER INDEX REBUILD statement reuses any previous parameters from the index creation. If new or changed parameters are passed, new parameters are merged with the previous ones, and changed parameters override the previous ones.</p>
<p>For more information about using the <code>layer_gtype</code> keyword to constrain data in a layer to a geometry type, see <a href="constraining-data-geometry-type.htm">Constraining Data to a Geometry Type</a>.</p>
<p>With a partitioned spatial index, you must use a separate ALTER INDEX REBUILD statement for each partition to be rebuilt.</p>
<p>If you want to use a <span class="italic">local</span> partitioned spatial index, follow the procedure in <a href="creating-local-partitioned-spatial-index.htm">Creating a Local Partitioned Spatial Index</a>.</p>
<p>See also the Usage Notes for the <a href="create-index.htm">CREATE INDEX</a> statement for usage information about many of the available parameters and about the use of the PARALLEL keyword.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example rebuilds OLDINDEX and specifies the tablespace in which to create the index data table.</p>
<pre dir="ltr">ALTER INDEX oldindex REBUILD PARAMETERS(&#39;tablespace=TBS_3&#39;);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Related Topics</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="create-index.htm">CREATE INDEX</a></p>
</li>
<li>
<p><a href="drop-index.htm">DROP INDEX</a></p>
</li>
<li>
<p><a class="olink SQLRF01001" target="_blank" href="../SQLRF/statements_3001.htm#SQLRF01001"><span>ALTER TABLE</span></a> and <a class="olink SQLRF00805" target="_blank" href="../SQLRF/statements_1012.htm#SQLRF00805"><span>ALTER INDEX</span></a> (clauses for partition maintenance) in <span class="italic">Oracle Database SQL Language Reference</span></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="alter-index.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="alter-index-rename.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101973"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20the%20Geocoding%20Service%20%28XML%20API%29"></a><title>Using the Geocoding Service (XML API)</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="geocoding requests, XML Schema definition, geocoding responses"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="installing-profile-tables.htm" title="Previous" type="text/html"/>
<link rel="Next" href="business-directory-yellow-pages-support.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-01A2C4F9-B250-4A76-9DA6-D829FE5921E1"></a> <span id="PAGE" style="display:none;">128/475</span> <!-- End Header -->
<a id="SPATL848"></a><a id="SPATL847"></a>
<h1 id="SPATL-GUID-01A2C4F9-B250-4A76-9DA6-D829FE5921E1" class="sect1"><span class="enumeration_section">11.7</span> Using the Geocoding Service (XML API)</h1>
<div>
<p>In addition to the SQL API, Oracle Spatial and Graph also provides an XML API for a geocoding service that enables you to geocode addresses. A Java geocoder application engine performs international address standardization, geocoding, and POI matching, by querying geocoder data stored in the Oracle database. The support for unparsed addresses adds flexibility and convenience to customer applications.</p>
<p>This geocoding service is implemented as a Java 2 Enterprise Edition (J2EE) Web application that you can deploy in a WebLogic Server environment.</p>
<p><a href="using-geocoding-service-xml-api.htm#GUID-01A2C4F9-B250-4A76-9DA6-D829FE5921E1__CIHCBEHA">Figure 11-1</a> shows the basic flow of action with the geocoding service: a client locates a remote geocoding service instance, sends a geocoding request, and processes the response returned by the geocoding service instance.</p>
<div class="figure" id="GUID-01A2C4F9-B250-4A76-9DA6-D829FE5921E1__CIHCBEHA">
<p class="titleinfigure">Figure 11-1 Basic Flow of Action with the Spatial Geocoding Service</p>
<img width="573" height="399" src="img/basic_flow_geocode1.jpg" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows"/><br/>
<a href="img_text/basic_flow_geocode1.htm">Description of &#34;Figure 11-1 Basic Flow of Action with the Spatial Geocoding Service&#34;</a></div>
<!-- class="figure" -->
<p>As shown in <a href="using-geocoding-service-xml-api.htm#GUID-01A2C4F9-B250-4A76-9DA6-D829FE5921E1__CIHCBEHA">Figure 11-1</a>:</p>
<ol>
<li>
<p>The client sends an XML geocoding request, containing one or more input addresses to be geocoded, to the geocoding service using the HTTP protocol.</p>
</li>
<li>
<p>The geocoding service parses the input request and looks up the input address in the database.</p>
</li>
<li>
<p>The geocoding service sends the geocoded result in XML format to the client using the HTTP protocol.</p>
</li>
</ol>
<p>After you load the geocoder schema into the database, you must configure the J2EE geocoder before it can be used, as explained in <a href="using-geocoding-service-xml-api.htm#GUID-20A1A868-2260-4300-B874-486A5D818CC1">Deploying and Configuring the J2EE Geocoder</a></p>
</div>
<a id="SPATL849"></a>
<div class="props_rev_3"><a id="GUID-20A1A868-2260-4300-B874-486A5D818CC1"></a>
<h2 id="SPATL-GUID-20A1A868-2260-4300-B874-486A5D818CC1" class="sect2"><span class="enumeration_section">11.7.1</span> Deploying and Configuring the J2EE Geocoder</h2>
<div>
<div class="section">
<p>The J2EE geocoder processes geocoding requests and generates responses. To enable this geocoding service, a <code>geocoder.ear.zip</code> file must be deployed using Oracle WebLogic Server. To deploy and configure the geocoding service, follow these steps.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Deploy the geocoder using Oracle WebLogic Server:</span>
<div>
<ol>
<li>
<p>Unzip the <code>geocoder.ear.zip</code> file found in your <code>$ORACLE_HOME/md/jlib</code> directory into a suitable directory. Your resulting directory structure should be: <code>$geocoder.ear/web.war/...</code>.</p>
</li>
<li>
<p>Log on to the WebLogic Server console (for example, <code>http://</code><span class="italic"><code>&lt;hostname&gt;</code></span><code>:7001/console</code>); and from <span class="bold">Deployments</span> install the <code>geocoder.ear</code> file, accepting the <span class="bold">Name</span> <code>geocoder</code> for the deployment and choosing the <span class="bold">Location</span> option <code>Make the deployment accessible from the following location</code>.</p>
</li>
</ol>
</div>
</li>
<li class="stepexpand"><span>Launch the geocoder welcome page in a web browser using the URL <code>http://</code><span class="italic"><code>&lt;hostname&gt;:&lt;port&gt;</code></span><code>/geocoder</code> . On the welcome page, select the <span class="bold">Administration</span> link and enter the administrator (<code>weblogic</code>) user name and password.</span>
<div>
<div class="infobox-note" id="GUID-20A1A868-2260-4300-B874-486A5D818CC1__GUID-173516BA-919A-40D5-B45E-A74F86B5FCED">
<p class="notep1">Note:</p>
<p>If you are <span class="italic">not</span> using the default WebLogic administrator user name (<code>weblogic</code>) , you will need to edit the <code>weblogic.xml</code> file located in the <code>$geocoder.ear/web.war/WEB-INF/</code> directory. Replace <code>&lt;principal-name&gt;weblogic&lt;/principal-name&gt;</code> with your WebLogic Server administrator user name, for example, <code>&lt;principal-name&gt;my_weblogic_admin&lt;/principal-name&gt;</code>.</p>
<p>If the welcome page was not displayed, ensure that the newly deployed geocoding service was successfully started. (It is assumed that you are running WebLogic Server 12.1 or later with an Oracle Database 12.2 or later <code>geocoder.ear.zip</code> file.)</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Modify the geocoder configuration file (<code>geocodercfg.xml</code>). Uncomment at least one <code>&lt;geocoder&gt;</code> element, and change the <code>&lt;database&gt;</code> element attributes of that <code>&lt;geocoder&gt;</code> element to reflect the configuration of your database. For information about this file, see <a href="using-geocoding-service-xml-api.htm#GUID-1728F898-AF14-4B28-AB37-280C8C9F7953">Configuring the geocodercfg.xml File</a>.</span></li>
<li class="stepexpand"><span>Save the changes to the file, and restart the geocoder.</span></li>
<li class="stepexpand"><span>Test the database connection by going to the welcome page at URL <code>http://</code><span class="italic"><code>&lt;hostname&gt;:&lt;port&gt;</code></span><code>/geocoder</code> and running the XML geocoding request page. (This demo requires geocoder data for the United States.)</span>
<div>
<p>Examples are available to demonstrate various capabilities of the geocoding service. Reviewing the examples at URL <code>http://<span class="codeinlineitalic">&lt;hostname&gt;:&lt;port&gt;</span>/geocoder/gcxmlreq_exp_af.html</code> is a good way to learn the XML API, which is described in <a href="using-geocoding-service-xml-api.htm#GUID-740A9692-71FB-4601-B7A4-00DE21485C85">Geocoding Request XML Schema Definition and Example</a>.</p>
</div>
</li>
</ol>
</div>
<a id="SPATL851"></a><a id="SPATL850"></a>
<div class="props_rev_3"><a id="GUID-1728F898-AF14-4B28-AB37-280C8C9F7953"></a>
<h3 id="SPATL-GUID-1728F898-AF14-4B28-AB37-280C8C9F7953" class="sect3"><span class="enumeration_section">11.7.1.1</span> Configuring the geocodercfg.xml File</h3>
<div>
<p>You will need to edit the <code>&lt;database&gt;</code> element in the default <code>geocodercfg.xml</code> file that is included with Spatial and Graph, to specify the database and schema where the geocoding data is loaded.</p>
<p>In this file, each <code>&lt;geocoder&gt;</code> element defines the geocoder for the database in which the geocoder schema resides. The <code>&lt;database&gt;</code> element defines the database connection for the geocoder. In Oracle 11<span class="italic">g</span> or later, there are two ways to define a database connection: by providing the JDBC database connection parameters, or by providing the JNDI name (<code>container_ds</code>) of a predefined container data source.</p>
<p><a href="using-geocoding-service-xml-api.htm#GUID-1728F898-AF14-4B28-AB37-280C8C9F7953__CIHCHCGJ">Example 11-6</a> illustrates two different ways in which a <code>&lt;database&gt;</code> element can be defined. The first definition specifies a JDBC connection; the second definition uses the JNDI name of a predefined container data source.</p>
<div class="example" id="GUID-1728F898-AF14-4B28-AB37-280C8C9F7953__CIHCHCGJ">
<p class="titleinexample">Example 11-6 &lt;database&gt; Element Definitions</p>
<pre dir="ltr">&lt;database name=&#34;gcdatabase&#34;
          host=&#34;gisserver.example.com&#34;
          port=&#34;1521&#34;
          sid=&#34;orcl&#34;
          mode=&#34;thin&#34;
          user=&#34;geocoder_us&#34;
          password=&#34;geocoder_us&#34;
          load_db_parser_profiles=&#34;true&#34; /&gt;
 
&lt;database container_ds=&#34;jdbc/gc_europe&#34;
          load_db_parser_profiles=&#34;true&#34; /&gt;
</pre>
<p>The attributes of the <code>&lt;database&gt;</code> element are as follows</p>
<ul style="list-style-type: disc;">
<li>
<p><code>name</code> is a descriptive name for the database connection; it is not used to connect to the database.</p>
</li>
<li>
<p><code>host</code>, <code>port</code>, and <code>sid</code> identify the database.</p>
</li>
<li>
<p><code>mode</code> identifies the type of JDBC driver to use for the connection.</p>
</li>
<li>
<p><code>user</code> and <code>password</code> are the user name and password for the database user under whose schema the geocoding data is stored.</p>
</li>
<li>
<p><code>load_db_parser_profiles</code> specifies whether to load the address parser profiles from the specified database connection. If <code>true</code>, the address parser-profiles are loaded from the geocoder schema; otherwise, the parser profiles are loaded from the application at <code>../applications/geocoder/web/WEB-INF/parser_profiles/</code><span class="italic"><code>&lt;country-name&gt;</code></span><code>.ppr</code> (for example, usa.ppr). Before Oracle 11<span class="italic">g</span>, parser profiles were loaded from the application only. This parameter should be set to <code>true</code>.</p>
</li>
<li>
<p><code>container_ds</code> specifies the JNDI name for a predefined data source.</p>
</li>
</ul>
</div>
<!-- class="example" --></div>
</div>
</div>
<a id="SPATL853"></a><a id="SPATL852"></a>
<div class="props_rev_3"><a id="GUID-740A9692-71FB-4601-B7A4-00DE21485C85"></a>
<h2 id="SPATL-GUID-740A9692-71FB-4601-B7A4-00DE21485C85" class="sect2"><span class="enumeration_section">11.7.2</span> Geocoding Request XML Schema Definition and Example</h2>
<div>
<p>For a geocoding request (HTTP GET or POST method), it is assumed the request has a parameter named <code>xml_request</code> whose value is a string containing the XML document for the request. The input XML document describes the input addresses that need to be geocoded. One XML request can contain one or more input addresses. Several internationalized address formats are available for describing the input addresses. (The input XML API also supports reverse geocoding, that is, a longitude/latitude point to a street address.)</p>
<p>The XML schema definition (XSD) for a geocoding request is as follows:</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;!-- Schema for an XML geocoding request that takes one or more input_locations and supports reverse geocoding using the input_location&#39;s attributes --&gt;
&lt;xsd:schema xmlns:xsd=&#34;http://www.w3.org/2001/XMLSchema&#34; elementFormDefault=&#34;qualified&#34;&gt;
  &lt;xsd:complexType name=&#34;address_lineType&#34;&gt;
    &lt;xsd:attribute name=&#34;value&#34; type=&#34;xsd:string&#34; use=&#34;required&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;address_listType&#34;&gt;
    &lt;xsd:sequence&gt;
      &lt;xsd:element name=&#34;input_location&#34; type=&#34;input_locationType&#34;
         maxOccurs=&#34;unbounded&#34;/&gt;
    &lt;/xsd:sequence&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;gdf_formType&#34;&gt;
    &lt;xsd:attribute name=&#34;name&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;intersecting_street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;builtup_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;order8_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;order2_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;order1_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;country&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;postal_code&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;postal_addon_code&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;gen_formType&#34;&gt;
    &lt;xsd:attribute name=&#34;name&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;intersecting_street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;sub_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;city&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;region&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;country&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;postal_code&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;postal_addon_code&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:element name=&#34;geocode_request&#34;&gt;
    &lt;xsd:complexType&gt;
      &lt;xsd:sequence&gt;
        &lt;xsd:element name=&#34;address_list&#34; type=&#34;address_listType&#34;/&gt;
      &lt;/xsd:sequence&gt;
      &lt;xsd:attribute name=&#34;vendor&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;/xsd:complexType&gt;
  &lt;/xsd:element&gt;
  &lt;xsd:complexType name=&#34;input_addressType&#34;&gt;
    &lt;xsd:choice&gt;
      &lt;xsd:element name=&#34;us_form1&#34; type=&#34;us_form1Type&#34;/&gt;
      &lt;xsd:element name=&#34;us_form2&#34; type=&#34;us_form2Type&#34;/&gt;
      &lt;xsd:element name=&#34;gdf_form&#34; type=&#34;gdf_formType&#34;/&gt;
      &lt;xsd:element name=&#34;gen_form&#34; type=&#34;gen_formType&#34;/&gt;
      &lt;xsd:element name=&#34;unformatted&#34; type=&#34;unformattedType&#34;/&gt;
    &lt;/xsd:choice&gt;
    &lt;xsd:attribute name=&#34;match_mode&#34; default=&#34;relax_postal_code&#34;&gt;
      &lt;xsd:simpleType&gt;
        &lt;xsd:restriction base=&#34;xsd:NMTOKEN&#34;&gt;
          &lt;xsd:enumeration value=&#34;exact&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_street_type&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_poi_name&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_house_number&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_base_name&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_postal_code&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_builtup_area&#34;/&gt;
          &lt;xsd:enumeration value=&#34;relax_all&#34;/&gt;
          &lt;xsd:enumeration value=&#34;DEFAULT&#34;/&gt;
        &lt;/xsd:restriction&gt;
      &lt;/xsd:simpleType&gt;
    &lt;/xsd:attribute&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;input_locationType&#34;&gt;
    &lt;xsd:sequence&gt;
      &lt;xsd:element name=&#34;input_address&#34; type=&#34;input_addressType&#34;
         minOccurs=&#34;0&#34;/&gt;
    &lt;/xsd:sequence&gt;
    &lt;xsd:attribute name=&#34;id&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;country&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;longitude&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;latitude&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;x&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;y&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;srid&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;multimatch_number&#34; type=&#34;xsd:string&#34; default=&#34;1000&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;unformattedType&#34;&gt;
    &lt;xsd:sequence&gt;
      &lt;xsd:element name=&#34;address_line&#34; type=&#34;address_lineType&#34;
         maxOccurs=&#34;unbounded&#34;/&gt;
    &lt;/xsd:sequence&gt;
    &lt;xsd:attribute name=&#34;country&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;us_form1Type&#34;&gt;
    &lt;xsd:attribute name=&#34;name&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;intersecting_street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;lastline&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;us_form2Type&#34;&gt;
    &lt;xsd:attribute name=&#34;name&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;intersecting_street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;city&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;state&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;zip_code&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
</pre>
<p><a href="using-geocoding-service-xml-api.htm#GUID-740A9692-71FB-4601-B7A4-00DE21485C85__CIHFGGCB">Example 11-7</a> is a request to geocode several three addresses (representing two different actual physical addresses), using different address formats and an unformatted address.</p>
<div class="example" id="GUID-740A9692-71FB-4601-B7A4-00DE21485C85__CIHFGGCB">
<p class="titleinexample">Example 11-7 Geocoding Request (XML API)</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;geocode_request xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:noNamespaceSchemaLocation=&#34;../geocode_request.xsd&#34;&gt;
  &lt;address_list&gt;
    &lt;input_location id=&#34;1&#34;&gt;
      &lt;input_address&gt;
        &lt;us_form2 name=&#34;Oracle&#34; street=&#34;500 Oracle Parkway&#34; city=&#34;Redwood City&#34;
           state=&#34;CA&#34; zip_code=&#34;94021&#34;/&gt;
      &lt;/input_address&gt;
    &lt;/input_location&gt;
    &lt;input_location id=&#34;2&#34;&gt;
      &lt;input_address&gt;
 &lt;gdf_form street=&#34;1 Oracle Drive&#34; builtup_area=&#34;Nashua&#34; order1_area=&#34;NH&#34;
        postal_code=&#34;03062&#34; country=&#34;US&#34;/&gt;
      &lt;/input_address&gt;
    &lt;/input_location&gt;
    &lt;input_location id=&#34;3&#34;&gt;
      &lt;input_address&gt;
&lt;gen_form street=&#34;1 Oracle Drive&#34; city=&#34;Nashua&#34; region=&#34;NH&#34; postal_code=&#34;03062&#34; country=&#34;US&#34;/&gt;
      &lt;/input_address&gt;
    &lt;/input_location&gt;
    &lt;input_location id=&#34;4&#34;&gt;
      &lt;input_address&gt;
        &lt;unformatted country=&#34;UNITED STATES&#34;&gt;
          &lt;address_line value=&#34;Oracle NEDC&#34;/&gt;
          &lt;address_line value=&#34;1 Oracle drive &#34;/&gt;
          &lt;address_line value=&#34;Nashua &#34;/&gt;
          &lt;address_line value=&#34;NH&#34;/&gt;
        &lt;/unformatted&gt;
      &lt;/input_address&gt;
    &lt;/input_location&gt;
  &lt;/address_list&gt;
&lt;/geocode_request&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="SPATL855"></a><a id="SPATL854"></a>
<div class="props_rev_3"><a id="GUID-C55DC663-3C42-402A-9FC6-2DF58A87E712"></a>
<h2 id="SPATL-GUID-C55DC663-3C42-402A-9FC6-2DF58A87E712" class="sect2"><span class="enumeration_section">11.7.3</span> Geocoding Response XML Schema Definition and Example</h2>
<div>
<p>A geocoding response contains one or more standardized addresses including longitude/latitude points, the matching code, and possibly multiple match and no match indication and an error message.</p>
<p>The XML schema definition (XSD) for a geocoding response is as follows:</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;!-- Schema for an XML geocoding response --&gt;
&lt;xsd:schema xmlns:xsd=&#34;http://www.w3.org/2001/XMLSchema&#34; elementFormDefault=&#34;qualified&#34;&gt;
  &lt;xsd:complexType name=&#34;geocodeType&#34;&gt;
    &lt;xsd:sequence&gt;
      &lt;xsd:element name=&#34;match&#34; type=&#34;matchType&#34; minOccurs=&#34;0&#34;
         maxOccurs=&#34;unbounded&#34;/&gt;
    &lt;/xsd:sequence&gt;
    &lt;xsd:attribute name=&#34;id&#34; type=&#34;xsd:string&#34; use=&#34;required&#34;/&gt;
    &lt;xsd:attribute name=&#34;match_count&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:element name=&#34;geocode_response&#34;&gt;
    &lt;xsd:complexType&gt;
      &lt;xsd:sequence&gt;
        &lt;xsd:element name=&#34;geocode&#34; type=&#34;geocodeType&#34; maxOccurs=&#34;unbounded&#34;/&gt;
      &lt;/xsd:sequence&gt;
    &lt;/xsd:complexType&gt;
  &lt;/xsd:element&gt;
  &lt;xsd:complexType name=&#34;matchType&#34;&gt;
    &lt;xsd:sequence&gt;
      &lt;xsd:element name=&#34;output_address&#34; type=&#34;output_addressType&#34;/&gt;
    &lt;/xsd:sequence&gt;
    &lt;xsd:attribute name=&#34;sequence&#34; type=&#34;xsd:string&#34; use=&#34;required&#34;/&gt;
    &lt;xsd:attribute name=&#34;longitude&#34; type=&#34;xsd:string&#34; use=&#34;required&#34;/&gt;
    &lt;xsd:attribute name=&#34;latitude&#34; type=&#34;xsd:string&#34; use=&#34;required&#34;/&gt;
    &lt;xsd:attribute name=&#34;match_code&#34; use=&#34;required&#34;&gt;
      &lt;xsd:simpleType&gt;
        &lt;xsd:restriction base=&#34;xsd:NMTOKEN&#34;&gt;
          &lt;xsd:enumeration value=&#34;0&#34;/&gt;
          &lt;xsd:enumeration value=&#34;1&#34;/&gt;
          &lt;xsd:enumeration value=&#34;2&#34;/&gt;
          &lt;xsd:enumeration value=&#34;3&#34;/&gt;
          &lt;xsd:enumeration value=&#34;4&#34;/&gt;
          &lt;xsd:enumeration value=&#34;10&#34;/&gt;
          &lt;xsd:enumeration value=&#34;11&#34;/&gt;
        &lt;/xsd:restriction&gt;
      &lt;/xsd:simpleType&gt;
    &lt;/xsd:attribute&gt;
    &lt;xsd:attribute name=&#34;error_message&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
  &lt;xsd:complexType name=&#34;output_addressType&#34;&gt;
    &lt;xsd:attribute name=&#34;name&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;house_number&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;street&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;builtup_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;order1_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;order8_area&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;country&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;postal_code&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;postal_addon_code&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;side&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;percent&#34; type=&#34;xsd:string&#34;/&gt;
    &lt;xsd:attribute name=&#34;edge_id&#34; type=&#34;xsd:string&#34;/&gt;
  &lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
</pre>
<p><a href="using-geocoding-service-xml-api.htm#GUID-C55DC663-3C42-402A-9FC6-2DF58A87E712__CIHDDGCG">Example 11-8</a> is the response to the request in <a href="using-geocoding-service-xml-api.htm#GUID-740A9692-71FB-4601-B7A4-00DE21485C85__CIHFGGCB">Example 11-7</a> in <a href="using-geocoding-service-xml-api.htm#GUID-740A9692-71FB-4601-B7A4-00DE21485C85">Geocoding Request XML Schema Definition and Example</a>.</p>
<div class="example" id="GUID-C55DC663-3C42-402A-9FC6-2DF58A87E712__CIHDDGCG">
<p class="titleinexample">Example 11-8 Geocoding Response (XML API)</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;geocode_response xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
     xsi:noNamespaceSchemaLocation=&#34;../geocode_response.xsd&#34;&gt;
 &lt;geocode id=&#34;1&#34; match_count=&#34;1&#34;&gt;
    &lt;match sequence=&#34;0&#34; 
         longitude=&#34;-122.26193971893862&#34; latitude=&#34;37.53195483966782&#34;
         match_code=&#34;10&#34; error_message=&#34;????#ENUT?B281C??&#34;&gt;
      &lt;output_address name=&#34;&#34; house_number=&#34;500&#34; street=&#34;ORACLE PKY&#34;
           builtup_area=&#34;REDWOOD CITY&#34; order1_area=&#34;CA&#34; order8_area=&#34;&#34; 
           country=&#34;US&#34; postal_code=&#34;94065&#34; postal_addon_code=&#34;&#34; side=&#34;L&#34; 
           percent=&#34;0.33166666666666667&#34; edge_id=&#34;28503563&#34;/&gt;
    &lt;/match&gt;
 &lt;/geocode&gt;
 &lt;geocode id=&#34;2&#34; match_count=&#34;1&#34;&gt;
   &lt;match sequence=&#34;0&#34; 
        longitude=&#34;-71.45937299307225&#34; latitude=&#34;42.70784494226865&#34;
        match_code=&#34;1&#34; error_message=&#34;????#ENUT?B281CP?&#34;&gt;
      &lt;output_address name=&#34;&#34; house_number=&#34;1&#34; street=&#34;ORACLE DR&#34;
            builtup_area=&#34;NASHUA&#34; order1_area=&#34;NH&#34; order8_area=&#34;&#34; 
            country=&#34;US&#34; postal_code=&#34;03062&#34; postal_addon_code=&#34;&#34; side=&#34;L&#34; 
            percent=&#34;0.01&#34; edge_id=&#34;22325991&#34;/&gt;
   &lt;/match&gt;
 &lt;/geocode&gt;
 &lt;geocode id=&#34;3&#34; match_count=&#34;1&#34;&gt;
   &lt;match sequence=&#34;0&#34; 
         longitude=&#34;-71.45937299307225&#34; latitude=&#34;42.70784494226865&#34;
         match_code=&#34;1&#34; error_message=&#34;????#ENUT?B281CP?&#34;&gt;
      &lt;output_address name=&#34;&#34; house_number=&#34;1&#34; street=&#34;ORACLE DR&#34;
            builtup_area=&#34;NASHUA&#34; order1_area=&#34;NH&#34; order8_area=&#34;&#34; 
            country=&#34;US&#34; postal_code=&#34;03062&#34; postal_addon_code=&#34;&#34; side=&#34;L&#34; 
            percent=&#34;0.01&#34; edge_id=&#34;22325991&#34;/&gt;
   &lt;/match&gt;
 &lt;/geocode&gt;
 &lt;geocode id=&#34;4&#34; match_count=&#34;1&#34;&gt;
   &lt;match sequence=&#34;0&#34; 
         longitude=&#34;-71.45937299307225&#34; latitude=&#34;42.70784494226865&#34;
         match_code=&#34;1&#34; error_message=&#34;????#ENUT?B281CP?&#34;&gt;
     &lt;output_address name=&#34;&#34; house_number=&#34;1&#34; street=&#34;ORACLE DR&#34;
           builtup_area=&#34;NASHUA&#34; order1_area=&#34;NH&#34; order8_area=&#34;&#34; 
           country=&#34;US&#34; postal_code=&#34;03062&#34; postal_addon_code=&#34;&#34; side=&#34;L&#34; 
           percent=&#34;0.01&#34; edge_id=&#34;22325991&#34;/&gt;
   &lt;/match&gt;
 &lt;/geocode&gt;
&lt;/geocode_response&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="installing-profile-tables.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="business-directory-yellow-pages-support.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
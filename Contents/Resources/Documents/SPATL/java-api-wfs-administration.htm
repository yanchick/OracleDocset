<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-100765"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Java%20API%20for%20WFS%20Administration"></a><title>Java API for WFS Administration</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="Java application programming interface (API) for Spatial, WFS administration, WFSAdmin Java class, WFS, Java API, createXMLTableIndex method, XMLTABLEINDEX index, creating on feature table, dropFeatureType method, feature types, dropping, dropXMLTableIndex method, deleting on feature table, getIsXMLTableIndexCreated method, checking for existence, grantFeatureTypeToUser method, granting access to a user, grantMDAccessToUser method, publishFeatureType method, publishing, revokeFeatureTypeFromUser method, revoking access from a user, revokeMDAccessToUser method, setXMLTableIndexInfo method, XML table index, setting information for a feature type"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="wfs-operations-requests-and-responses-xml-examples.htm" title="Previous" type="text/html"/>
<link rel="Next" href="using-wfs-oracle-workspace-manager.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-436F0873-9E2E-440D-A40D-CBB94E5828C1"></a> <span id="PAGE" style="display:none;">168/475</span> <!-- End Header -->
<a id="SPATL943"></a>
<h1 id="SPATL-GUID-436F0873-9E2E-440D-A40D-CBB94E5828C1" class="sect1"><span class="enumeration_section">15.4</span> Java API for WFS Administration</h1>
<div>
<p>In addition to the PL/SQL APIs in the SDO_WFS_PROCESS and SDO_WFS_LOCK packages, you can use a Java API to publish and drop feature types, and to grant and revoke access to feature types and WFS metadata tables.</p>
<p>This section provides basic reference information about the methods in the <code>oracle.spatial.wfs.WFSAdmin</code> class. The methods are presented in alphabetical order.</p>
</div>
<a id="SPATL944"></a>
<div class="props_rev_3"><a id="GUID-B1C31292-6C36-48C3-9927-F82A79BC9DAC"></a>
<h2 id="SPATL-GUID-B1C31292-6C36-48C3-9927-F82A79BC9DAC" class="sect2"><span class="enumeration_section">15.4.1</span> createXMLTableIndex method</h2>
<div>
<p>The <code>createXMLTableIndex</code> method creates an index of XDB.XMLINDEX on document-based feature type instances. This method has the following format:</p>
<pre dir="ltr">public static void createXMLTableIndex(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
</div>
<a id="SPATL945"></a>
<div class="props_rev_3"><a id="GUID-2FE52A45-A1AF-421D-A60F-2F4FCF7090EB"></a>
<h2 id="SPATL-GUID-2FE52A45-A1AF-421D-A60F-2F4FCF7090EB" class="sect2"><span class="enumeration_section">15.4.2</span> dropFeatureType method</h2>
<div>
<p>The <code>dropFeatureType</code> method deletes a feature type from the WFS repository. This method has the following format:</p>
<pre dir="ltr">public static void dropFeatureType(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
</div>
<a id="SPATL946"></a>
<div class="props_rev_3"><a id="GUID-122DF56E-90AD-4E96-B464-8D8F0F9EBB4B"></a>
<h2 id="SPATL-GUID-122DF56E-90AD-4E96-B464-8D8F0F9EBB4B" class="sect2"><span class="enumeration_section">15.4.3</span> dropXMLTableIndex method</h2>
<div>
<p>The <code>dropXMLTableIndex</code> method drops an index of type XDB.XMLINDEX that was created on document-based feature type instances. This method has the following format:</p>
<pre dir="ltr">public static void dropXMLTableIndex(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
</div>
<a id="SPATL947"></a>
<div class="props_rev_3"><a id="GUID-C9E5AA97-8448-4FD8-B87E-7C94C33FADC1"></a>
<h2 id="SPATL-GUID-C9E5AA97-8448-4FD8-B87E-7C94C33FADC1" class="sect2"><span class="enumeration_section">15.4.4</span> getIsXMLTableIndexCreated method</h2>
<div>
<p>The <code>getIsXMLTableIndexCreated</code> method returns a Boolean <code>TRUE</code> if an index of type XDB.XMLINDEX has been created on a document-based feature type, or a Boolean <code>FALSE</code> if such an index has not been created. This method has the following format:</p>
<pre dir="ltr">public static boolean getIsXMLTableIndexCreated(
    OracleConnection conn, 
    String ftNSUrl, 
    String ftName) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
</div>
</div>
<a id="SPATL948"></a>
<div class="props_rev_3"><a id="GUID-0C9F5521-33FD-4444-BB9F-84B408180145"></a>
<h2 id="SPATL-GUID-0C9F5521-33FD-4444-BB9F-84B408180145" class="sect2"><span class="enumeration_section">15.4.5</span> grantFeatureTypeToUser method</h2>
<div>
<p>The <code>grantFeatureTypeToUser</code> method grants access to a feature type to a database user. This method has the following format:</p>
<pre dir="ltr">public static void grantFeatureTypeToUser(
    OracleConnection conn, 
    String typeNS, 
    String typeName, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the feature type.</p>
<p><code>typeName</code> is the name of the feature type.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
</div>
<a id="SPATL949"></a>
<div class="props_rev_3"><a id="GUID-1D4829EC-06BD-48AF-BFDC-63319F35F444"></a>
<h2 id="SPATL-GUID-1D4829EC-06BD-48AF-BFDC-63319F35F444" class="sect2"><span class="enumeration_section">15.4.6</span> grantMDAccessToUser method</h2>
<div>
<p>The <code>grantMDAccessToUser</code> method grants access to the WFS metadata to a database user. This method has the following format:</p>
<pre dir="ltr">public static void grantMDAccessToUser(
    OracleConnection conn, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
</div>
<a id="SPATL950"></a>
<div class="props_rev_3"><a id="GUID-14646B3C-EFED-45BA-B98C-4C51129E41B9"></a>
<h2 id="SPATL-GUID-14646B3C-EFED-45BA-B98C-4C51129E41B9" class="sect2"><span class="enumeration_section">15.4.7</span> publishFeatureType method</h2>
<div>
<p>The <code>publishFeatureType</code> method publishes a document-based feature type; that is, it registers metadata related to the feature type. This method has the following formats:</p>
<pre dir="ltr">public static void publishFeatureType(OracleConnection conn, 
     XMLType featureTypeMD) throws SQLException , WFSException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths,   
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn,
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths,
     String primarySpatialPath,
     String featureMemberNS,
     String featureMemberName,
     String ftNSUrl, 
     String ftName,
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths,
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo,
     String srsNS, 
     String srsNSAlias,
     String ftXSDRefId,
     boolean genSpatialIndex,
     boolean lockEnable) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     String featureCollectionNS,
     String featureCollectionName, 
     boolean isGML3) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     String featureCollectionNS,
     String featureCollectionName, 
     boolean isGML3, 
     CollectionPathInfo collPathInfo) throws SQLException;
 
public static void publishFeatureType(OracleConnection conn, 
     XMLType schemaDocXt, 
     XMLType featureDescXt, 
     ArrayList&lt;String&gt; docIdPaths, 
     String primarySpatialPath, 
     String featureMemberNS, 
     String featureMemberName, 
     String ftNSUrl, 
     String ftName, 
     ArrayList&lt;PathInfo&gt; spatialPaths, 
     ArrayList&lt;PathInfo&gt; mandatoryPaths, 
     ArrayList&lt;PathInfo&gt; tsPaths, 
     ArrayList&lt;GeomMetaInfo&gt; sdoMetaInfo, 
     String srsNS, 
     String srsNSAlias, 
     String ftXSDRefId, 
     boolean genSpatialIndex, 
     boolean lockEnable, 
     ArrayList&lt;PathInfo&gt; numPaths,
     ArrayList&lt;PathInfo&gt; idxPaths,
     ArrayList&lt;String[]&gt; idxPathTypes, 
     boolean genXMLIndex, 
     String featureCollectionNS,
     String featureCollectionName, 
     boolean isGML3, 
     CollectionPathInfo collPathInfo, 
     boolean hasMultipleSRSNS) throws SQLException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>featureTypeMD</code> is the feature type path registration metadata. This metadata must conform to the <code>featureTypeMd</code> element definition as specified in the <code>wstype_md.xsd</code> file. An example of feature type path registration metadata XML is provided in <code>ft_metadata.xml</code>. These files are included in the <code>ws_client.jar</code> demo file (described in <a href="demo-files-sample-java-client.htm">Demo Files for Sample Java Client</a>) under the <code>src/data/</code> path. For information about using the example to publish a feature type, see the <code>Readme.txt</code> file, which is included in <code>ws_client.jar</code> under the <code>src/</code> path.</p>
<p><code>schemaDocXt</code> is the XML schema definition (XSD) of the feature type.</p>
<p><code>featureDescXt</code> is the XML schema definition (XSD) of the feature type description, to be included in the <code>Capabilities</code> document.</p>
<p><code>docIdPaths</code> is a list of document ID path elements where each element is a String.</p>
<p><code>primarySpatialPath</code> is the primary spatial path that will be used to compute the bounding box in the result.</p>
<p><code>featureMemberNS</code> is the namespace of the feature member.</p>
<p><code>featureMemberName</code> is the name of the feature member.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
<p><code>spatialPaths</code> is a list of spatial paths in the feature type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>mandatoryPaths</code> is a list of mandatory paths in the feature type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>tsPaths</code> is a list of time-related paths in the feature type (for example, <code>date</code>, <code>dateTime</code>, <code>gYear</code>, <code>gMonth</code>, <code>gDay</code>, <code>gMonthDay</code>, and <code>gYearMonth</code>). It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>sdoMetaInfo</code> is the spatial metadata information for spatial paths. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.GeomMetaInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>srsNS</code> is the user-defined namespace of the spatial reference system (coordinate system) associated with the data in the spatial paths. This namespace (if specified) is also used to generate the <code>srsName</code> attribute in the <code>&lt;boundedBy&gt;</code> element of the FeatureCollection result generated for the GetFeature request.</p>
<p><code>srsNSAlias</code> is the namespace alias of the spatial reference system (coordinate system) associated with the data in the spatial paths.</p>
<p><code>ftXSDRefId</code> is the group feature type XML schema definition file name (as a string), for cases where multiple feature types are defined in a single XSD file. This parameter is used to store the group XSD definition once in the WFS metadata, and then refer to it from multiple feature types whose schema definitions are present in the group feature type XSD file.</p>
<p><code>genSpatialIndex</code> is a Boolean value: <code>TRUE</code> causes a spatial index to be created on the feature type at type creation time; <code>FALSE</code> does not cause a spatial index to be created.</p>
<p><code>lockEnable</code> is a Boolean value: <code>TRUE</code> causes the feature type table (the underlying system-generated table where instances of this feature type are stored) to be lock-enabled at type creation time; <code>FALSE</code> does not cause the feature type table to be lock-enabled. If <code>lockEnable</code> is <code>TRUE</code>, this will WFS-transaction lock enable the WFS data table for the feature type. (This data table is automatically generated when the feature type is published.)</p>
<p><code>numPaths</code> is a list of numeric (NUMBER, INTEGER, and so on) related paths in the feature type. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>idxPaths</code> is the index path list. It is list of paths on which to create an index of type XDB.XMLINDEX when that index is created. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>idxPathTypes</code> specifies information about each index path, where each element of string[3] contains the following: string[0] is the type name, string[1] is the type format (such as the type length), and string[2] specifies whether a Btree or unique index, or no index, should be created (<code>WFSAdmin.BTREE</code>, <code>WFSAdmin.UNIQUE</code>, or null).</p>
<p><code>genXMLIndex</code> is a Boolean value: <code>TRUE</code> causes an index of type XDB.XMLINDEX to be created on the document-based feature type; <code>FALSE</code> does not cause an index of type XDB.XMLINDEX to be created on the document-based feature type. If you choose not to create the index now, you can create it later using the <code>createXMLTableIndex</code> method (described in <a href="java-api-wfs-administration.htm#GUID-B1C31292-6C36-48C3-9927-F82A79BC9DAC">createXMLTableIndex method</a>).</p>
<p><code>featureCollectionNS</code> is the namespace of the feature collection.</p>
<p><code>featureCollectionName</code> is the name of the feature collection.</p>
<p><code>isGML3</code> is a Boolean value: <code>TRUE</code> means that the geometries inside instances of this feature type are GML3.1.1 compliant; <code>FALSE</code> means that the geometries inside instances of this feature type are GML 2.1.2 compliant.</p>
<p><code>collPathInfo</code> is spatial collection path information.</p>
<p><code>hasMultipleSRSNS</code> is a Boolean value: <code>TRUE</code> means that this feature type refers to multiple user-defined spatial reference system namespaces; <code>FALSE</code> means that this feature type does not refer to multiple user-defined spatial reference system namespaces.</p>
</div>
<a id="SPATL951"></a>
<div class="props_rev_3"><a id="GUID-883C6AA7-68A0-4143-B669-C0903460A275"></a>
<h3 id="SPATL-GUID-883C6AA7-68A0-4143-B669-C0903460A275" class="sect3"><span class="enumeration_section">15.4.7.1</span> Related Classes for publishFeatureType</h3>
<div>
<p>This section describes some classes used in the definition of parameters of the <a href="java-api-wfs-administration.htm#GUID-14646B3C-EFED-45BA-B98C-4C51129E41B9">publishFeatureType method</a>.</p>
<p><code>oracle.spatial.ws.PathElement</code> is a Java class that contains a pair of String objects: the <code>PathElement</code> namespace am the <code>PathElement</code> name. This class includes the <code>getValue()</code> method, which returns a string format of the <code>PathElement</code> object. This class has the following format:</p>
<pre dir="ltr">public class PathElement {
// Set namespace and name information for a PathElement.
        public void set(String ns, String name);
 //Get a string value for the PathElement object.
        public String getValue() ;
}
</pre>
<p><code>oracle.spatial.ws.Path</code> is a Java class that contains an ordered list of <code>PathElement</code> objects that constitute the path. For example, if an XPath is <code>myns:A/myns:B</code>, then <code>myns:A</code> and <code>myns:B</code> are <code>PathElement</code> objects. This class includes the <code>getValue()</code> method, which returns a string format of the <code>Path</code> object. This class has the following format:</p>
<pre dir="ltr">public class Path {
//Add a PathElement.
        public void add(PathElement p) ;
//Get a string Value for the Path object.
        public String getValue() ;
}
</pre>
<p><code>oracle.spatial.ws.PathInfo</code> is a container class that contains information about a path or list of paths, including their association and metadata information. This class has the following format:</p>
<pre dir="ltr">public class PathInfo {
 
 // Set number of occurrences for the Path. Default value is 1. Number of 
 // occurrences &gt; 1 in case of arrays.
        public void setNumOfOccurrences(int i) ;
 
 // Get number of occurrences for the Path.
        public int getNumOfOccurrences();
 
 // Add a path, in case PathInfo has multiple paths associated via a 
 // choice association
        public void addPath(Path p) ;
 
  // Add path type information. This is relevant for time-related Paths
  // (for example, date, dateTime, gDay, gMonth, gYear, gMonthDay, 
  // gYearMonth, duration, or time).
        public void addPathType(String t) ;
 
  // Add a PathInfo type. This can be PathInfo.CHOICE or 
  // PathInfo.DEFAULT or PathInfo.COLLECTION.
  // PathInfo.CHOICE - means that the list of paths  in this PathInfo are
  // related to each other via choice association. For example, we may have
  // a list of Spatial Paths, which are associated with one another via choice.
  // So, only one of these path can occur in a feature instance/document.
  // PathInfo.COLLECTION - means the list of paths in this PathInfo are part 
  // of a collection (currently spatial collections are 
  // supported) which will be indexed.
  // Default value is PathInfo.DEFAULT for one Path or a finite array Paths.
  //  @param t PathInfo type information. PathInfo.CHOICE or 
  // PathInfo.DEFAULT or PathInfo.COLLECTION
        public void addPathInfoType(int t) ;
 
 //  Returns a  string representation for PathInfo content.
        public String getPathContent() ;
 
 // Returns Path type information (for example, date, dateTime, gDay, gMonth, 
 // gYear, gMonthDay, gYearMonth, duration, or time).
        public String getPathType() ;
 
 // Returns a  string representation for PathInfo path content.
 // param i The index of the path in the PathInfo whose path content needs to
 // be returned
 // @return a  string representation for PathInfo path content
        public String getCollectionPathContent(int i);
 
 // Returns number of paths in the PathInfo. 
 // @return number of paths in the PathInfo which is of type PathInfo.COLLECTION
 // if PathInfo is not of type PathInfo.COLLECTION returns -1
        public int getCollectionPathContentSize();
}
</pre>
<p><code>oracle.spatial.ws.CollectionPathInfo</code> is a container class that contains information about a collection of PathInfo objects. Each PathInfo object in this collection, represents a group of spatial paths that will be indexed and searched on. This class will be used to register paths referring to spatial collection-based content in feature and record types. This class has the following format:</p>
<pre dir="ltr">public class CollectionPathInfo {
 
  /**
   * Add a PathInfo.
   * @param p PathInfo to be added 
   * @param g geometry related metadata for PathInfo to be added 
   */
  public void addPathInfo(PathInfo p, GeomMetaInfo g) ;
 
  /**
   * Get a PathInfo.
   * @param i index of the PathInfo to be retrieved
   */
  public PathInfo getPathInfo(int i) ;
  /**
   * Get geometry related metadata for a certain PathInfo.
   * @param i index of the PathInfo whose geomMetaInfo is to be retrieved
  */
        public GeomMetaInfo getGeomMetaInfo(int i) ;
 
  /**
   * Get all PathInfo objects in this CollectionPathInfo.
   */
        public ArrayList&lt;PathInfo&gt; getPathInfos() ;
}
</pre>
<p><code>oracle.spatial.ws.GeomMetaInfo</code> is a class that contains dimension-related information corresponding to a spatial path in a feature type. This information includes the dimension name, the lower and upper bounds, the tolerance, and the coordinate system (SRID). This class has the following format:</p>
<pre dir="ltr">public class GeomMetaInfo {
 
  // Default constructor. Creates a GeomMetaInfo object with number of 
  // dimensions equal to 2.
        public GeomMetaInfo() ;
 
  // Creates a GeomMetaInfo object of a specified number of dimensions.
  // Parameter numOfDimensions is the number of dimensions represented
  // in the GeomMetaInfo object.
  // Note: max number of dimensions supported is 4.
        public GeomMetaInfo(int numOfDimensions)  throws  
        ArrayIndexOutOfBoundsException ;
 
  //Set Dimension Name.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension name value.
        public void setDimName(int index, String val) throws
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension Lower Bound.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension lower bound value.
        public void setLB(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension Upper Bound
  // Parameter index represents the dimension index which needs to be set.
  // Parameter val is dimension upper bound value
        public void setUB(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Dimension tolerance value.
  // Parameter index represents the dimension index which needs to be set.
  // Parameter  val is dimension tolerance value.
        public void setTolerance(int index, double val) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Set Coordinate Reference System Identifier
        public void setSRID (int val) ;
 
  // Get dimension Name.
  // Parameter index represents the dimension index whose name needs to be 
  // returned. This method returns the dimension name for the given index.
        public String getDimName(int index) throws 
        ArrayIndexOutOfBoundsException ;
 
  // Get dimension lower bound.
  // Parameter index represents the dimension index whose lower bound needs
  //  to be returned.
  // This method returns the lower bound for the given index.
        public double getLB(int index) throws ArrayIndexOutOfBoundsException ;
 
  // Get dimension upper bound.
  // Parameter index represents the dimension index whose upper bound needs 
  // to be returned.
  // This method returns the upper bound for the given index.
        public double getUB(int index) throws ArrayIndexOutOfBoundsException ;
 
       // Get dimension tolerance.
  // Parameter index represents the dimension index whose tolerance needs 
  // to be returned.
  // This method returns the tolerance value for the given index.
        public double getTolerance(int index) throws
        ArrayIndexOutOfBoundsException ;
 
  // Get coordinate system (spatial reference system) identifier.
        public int getSRID () ;
 
  // Get number of dimensions represented by this GeomMetaInfo object.
        public int getNumOfDimensions() ;
 
  // Sets the spatial index dimension parameter. By default it is 2.
  // return  Coordinate Reference System Identifier value
        public int setSpatialIndexDimension(int d) ;
 
  // Get the spatial index dimension parameter.
  // return  number of dimensions
        public int getSpatialIndexDimension() ;
 
  // Sets the user spatial srs namespace refered by this GeomMetaInfo object. 
  // Needs to be specified if multiple srs namespace are refered within the same 
  //feature or record type.
        public void setSRSNS(String s) ;
 
  // Gets the user defined spatial srs namespace refered by this 
  // GeomMetaInfo object.
        public String getSRSNS() ;
 
  // Sets the user defined spatial srs namespace alias refered by this 
  // GeomMetaInfo object. 
        public void setSRSNSAlias (String s) ;
 
  // Gets the user defined spatial srs namespace  alias refered by this 
  // GeomMetaInfo object.
        public String getSRSNSAlias () ;
}
</pre></div>
</div>
</div>
<a id="SPATL952"></a>
<div class="props_rev_3"><a id="GUID-53A4A89D-3102-4DC7-9660-E22FF6B1062A"></a>
<h2 id="SPATL-GUID-53A4A89D-3102-4DC7-9660-E22FF6B1062A" class="sect2"><span class="enumeration_section">15.4.8</span> revokeFeatureTypeFromUser method</h2>
<div>
<p>The <code>revokeFeatureTypeFromUser</code> method revokes access to a feature type from a database user. This method has the following format:</p>
<pre dir="ltr">public static void revokeFeatureTypeFromUser(
    OracleConnection conn, 
    String typeNS, 
    String typeName, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>typeNS</code> is the URL of the namespace of the feature type.</p>
<p><code>typeName</code> is the name of the feature type.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
</div>
<a id="SPATL953"></a>
<div class="props_rev_3"><a id="GUID-D828F232-2D9C-49E8-BD9F-1FC309CF75AE"></a>
<h2 id="SPATL-GUID-D828F232-2D9C-49E8-BD9F-1FC309CF75AE" class="sect2"><span class="enumeration_section">15.4.9</span> revokeMDAccessFromUser method</h2>
<div>
<p>The <code>revokeMDAccessFromUser</code> method revokes access to the WFS metadata from a database user. This method has the following format:</p>
<pre dir="ltr">public static void revokeMDAccessFromUser(
    OracleConnection conn, 
    String usrName)  throws SQLException;
 
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>usrName</code> is the name of the database user.</p>
</div>
</div>
<a id="SPATL954"></a>
<div class="props_rev_3"><a id="GUID-D735BF0F-F88E-412C-AD20-64CCDBC2878F"></a>
<h2 id="SPATL-GUID-D735BF0F-F88E-412C-AD20-64CCDBC2878F" class="sect2"><span class="enumeration_section">15.4.10</span> setXMLTableIndexInfo method</h2>
<div>
<p>The <code>setXMLTableIndexInfo</code> method updates the XMLTableIndex index information for a document-based feature type, with the option of creating the index. This method has the following format:</p>
<div class="infobox-note" id="GUID-D735BF0F-F88E-412C-AD20-64CCDBC2878F__GUID-D16C9478-408D-4DA8-840D-9CD6A5503784">
<p class="notep1">Note:</p>
<p>If the XMLTableIndex index already exists, you must drop it (using the <a href="java-api-wfs-administration.htm#GUID-122DF56E-90AD-4E96-B464-8D8F0F9EBB4B">dropXMLTableIndex method</a>) before you call the <code>setXMLTableIndexInfo</code> method.</p>
</div>
<pre dir="ltr">public static void setXMLTableIndexInfo(OracleConnection conn,
   String ftNSUrl,
   String ftName,
   ArrayList&lt;PathInfo&gt; idxPaths,
   ArrayList&lt;String[]&gt; idxPathTypes,
   boolean genXMLIndex) throws SQLException , WFSException;
</pre>
<p><code>conn</code> is an Oracle Database connection for a user that has been granted the DBA role.</p>
<p><code>ftNSUrl</code> is the URL of the namespace of the feature type.</p>
<p><code>ftName</code> is the name of the feature type.</p>
<p><code>idxPaths</code> is the index path list. It is list of paths on which to create an index of type XDB.XMLINDEX when that index is created. It is an <code>ArrayList</code> of class <code>oracle.spatial.ws.PathInfo</code>, which is described in <a href="java-api-wfs-administration.htm#GUID-883C6AA7-68A0-4143-B669-C0903460A275">Related Classes for publishFeatureType</a>.</p>
<p><code>idxPathTypes</code> specifies information about each index path, where each element of string[3] contains the following: string[0] is the type name, string[1] is the type format (such as the type length), and string[2] specifies whether a Btree or unique index, or no index, should be created (<code>WFSAdmin.BTREE</code>, <code>WFSAdmin.UNIQUE</code>, or null).</p>
<p><code>genXMLIndex</code> is a Boolean value: <code>TRUE</code> causes an index of type XDB.XMLINDEX to be created on the document-based feature type; <code>FALSE</code> does not cause an index of type XDB.XMLINDEX to be created on the document-based feature type. If you choose not to create the index now, you can create it later using the <code>createXMLTableIndex</code> method (described in <a href="java-api-wfs-administration.htm#GUID-B1C31292-6C36-48C3-9927-F82A79BC9DAC">createXMLTableIndex method</a>).</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="wfs-operations-requests-and-responses-xml-examples.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="using-wfs-oracle-workspace-manager.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
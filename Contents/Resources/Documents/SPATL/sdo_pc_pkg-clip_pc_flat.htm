<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101486"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_PC_PKG.CLIP_PC_FLAT"></a><title>SDO_PC_PKG.CLIP_PC_FLAT</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="CLIP_PC_FLAT function, point clouds, clipping, SDO_PC_PKG package, CLIP_PC_FLAT"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="sdo_pc_pkg-clip_pc.htm" title="Previous" type="text/html"/>
<link rel="Next" href="sdo_pc_pkg-create_contour_geometries.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-888DDB41-6FDB-454B-B6A3-F48776034A44"></a> <span id="PAGE" style="display:none;">359/475</span> <!-- End Header -->
<a id="SPATL1509"></a>
<h1 id="SPATL-GUID-888DDB41-6FDB-454B-B6A3-F48776034A44" class="sect1"><span class="enumeration_section">27.2</span> SDO_PC_PKG.CLIP_PC_FLAT</h1>
<div>
<div class="section">
<p class="subhead1">Format</p>
<pre dir="ltr">SDO_PC_PKG.CLIP_PC_FLAT(
     geometry       IN SDO_GEOMETRY, 
     table_name     IN VARCHAR2, 
     tolerance      IN NUMBER, 
     other_dim_qry  IN SDO_MBR, 
     mask           IN VARCHAR2 DEFAULT NULL 
     ) RETURN REF CURSOR;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Performs a clip operation on a flat-format point cloud, in which the point cloud data is stored in a flat table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101481"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-888DDB41-6FDB-454B-B6A3-F48776034A44__GUID-E73E311E-6D00-4264-8210-2095F090B124"><!-- --></a>geometry</dt>
<dd>
<p>Two-dimensional geometry to serve as the clip window. For example:</p>
<pre dir="ltr">geometry =&gt;
  SDO_GEOMETRY(
    2003,
    NULL,
    NULL,
    SDO_ELEM_INFO_ARRAY(1, 1003, 3),
    SDO_ORDINATE_ARRAY(
      0.75, 0.75,
      1.25, 1.25))
</pre></dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101482"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-888DDB41-6FDB-454B-B6A3-F48776034A44__GUID-A1E94A2C-6AEB-47C2-A40E-857F36D0AFF2"><!-- --></a>table_name</dt>
<dd>
<p>Name of the table or view containing the point cloud data. The first two columns in the table or view must be named X and Y and be of type Oracle NUMBER. Optionally, following X and Y, the table or view can contain a Z column of type NUMBER, and additional nonspatial point cloud attributes. The additional nonspatial point cloud attributes can be any data type, but must be type Oracle NUMBER if they will participate as constraints in the <code>other_dim_qry</code> parameter.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101483"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-888DDB41-6FDB-454B-B6A3-F48776034A44__GUID-AD014E05-A084-411F-91A2-5856E09A8866"><!-- --></a>tolerance</dt>
<dd>
<p>Tolerance value for objects in the point cloud (see <a href="data-model.htm#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a> for information about spatial tolerance). If this parameter is null, the default value is 0.0000000000005</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101484"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-888DDB41-6FDB-454B-B6A3-F48776034A44__GUID-178F49E2-BD79-4304-B5AC-0FDA9DBD8218"><!-- --></a>other_dim_qry</dt>
<dd>
<p>Minimum bounding rectangle (MBR) to provide a user defined query ranges for any Oracle NUMBER type columns (not including the X and Y columns).</p>
<p>The SDO_MBR type is defined as <code>(LOWER_LEFT SDO_VPOINT_TYPE, UPPER_RIGHT SDO_VPOINT_TYPE)</code> and SDO_V_POINT_TYPE is defined as V<code>ARRAY(64) OF NUMBER</code>.</p>
<p>Specify NULL in the SDO_V_POINT_TYPE array for Oracle NUMBER type columns that are not constrained by a query range.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101485"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-888DDB41-6FDB-454B-B6A3-F48776034A44__GUID-CD194A28-3209-46E9-B7F7-968932782963"><!-- --></a>mask</dt>
<dd>
<p>The topological relationship of interest, as applicable to points interacting with polygons. Valid values are <code>&#39;mask=</code><span class="italic"><code>&lt;value&gt;</code></span><code>&#39;</code> where <code>&lt;value&gt;</code> is one or more of the mask values valid for the <a href="sdo_relate.htm">SDO_RELATE</a> operator (<code>TOUCH</code>, <code>OVERLAPBDYDISJOINT</code>, <code>OVERLAPBDYINTERSECT</code>, <code>EQUAL</code>, <code>INSIDE</code>, <code>COVEREDBY</code>, <code>CONTAINS</code>, <code>COVERS</code>, <code>ANYINTERACT</code>, <code>ON</code>), or <code>FILTER</code>, which performs an approximate check. <code>FILTER</code> will return all the candidates that intersect the polygon, and possibly a few more. Multiple masks are combined with the logical Boolean operator <code>OR</code> (for example, <code>&#39;mask=inside+touch&#39;</code>); however, <code>FILTER</code> cannot be combined with any other mask.</p>
<p>If this parameter is null or contains an empty string, <code>mask=ANYINTERACT</code> is assumed.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>This function works with flat-format point clouds, in contrast to <a href="sdo_pc_pkg-clip_pc.htm">SDO_PC_PKG.CLIP_PC</a>, which works with input point cloud data stored in an SDO_PC object. The flat format has been added to point cloud support to offer an alternative to SDO_PC, depending on hardware environment and usage patterns. One advantage of the flat format is its dynamic nature, since updates to the point data do not require reblocking.</p>
<p>In environments other than Exadata, it is highly recommended that you create a compound B-tree index on the X, Y columns. In the compound B-tree index, also include any other Oracle NUMBER columns that will constrained with user-defined query ranges described for the <code>other_dim_qry</code> parameter. Any point cloud data update will result in an automatic update of that B-tree index.</p>
<p>Contrast this function with <a href="sdo_pc_pkg-clip_pc.htm">SDO_PC_PKG.CLIP_PC</a>, which takes as input point cloud data stored in an SDO_PC object.</p>
<p><a href="modeling-solids.htm">Modeling Solids</a> describes how to use point clouds to model solids. It includes some discussion of the SDO_PC and flat table approaches for storing point cloud data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example creates a view named INPTAB2 from the first three columns of a table named INPPTAB. It then performs a clip operation on the point cloud date.</p>
<pre dir="ltr">CREATE VIEW inptab2 AS (select x x, y y, z z from inptab);
 
DECLARE
  my_cursor sys_refcursor;
  TYPE rec IS RECORD(x NUMBER, y NUMBER, z number);
  TYPE lst IS TABLE OF rec;
  result_list lst;
BEGIN
  my_cursor :=
    SDO_PC_PKG.CLIP_PC_FLAT(
      geometry =&gt;
        MDSYS.SDO_GEOMETRY(
          2003,
          NULL,
          NULL,
          MDSYS.SDO_ELEM_INFO_ARRAY(1, 1003, 3),
          MDSYS.SDO_ORDINATE_ARRAY(
            0.75, 0.75,
            1.25, 1.25)),
      table_name    =&gt; &#39;INPTAB2&#39;,
      tolerance     =&gt; 0.05,
      other_dim_qry =&gt; null,
      mask          =&gt; null);
 
  FETCH my_cursor BULK COLLECT INTO result_list;
  FOR I in 1 .. result_list.COUNT LOOP
    dbms_output.put_line(
      &#39;(&#39; || result_list(i).x || &#39;, &#39; ||
             result_list(i).y || &#39;, &#39; ||
             result_list(i).z || &#39;)&#39;);
  END LOOP;
  CLOSE my_cursor;
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="sdo_pc_pkg-clip_pc.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="sdo_pc_pkg-create_contour_geometries.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101967"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Unit%20of%20Measurement%20Support"></a><title>Unit of Measurement Support</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="unit of measurement, MDSYS tables, coordinate systems, unit of measurement support"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="spatial-index-related-structures.htm" title="Previous" type="text/html"/>
<link rel="Next" href="sql-multimedia-type-support.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99"></a> <span id="PAGE" style="display:none;">60/475</span> <!-- End Header -->
<a id="SPATL559"></a>
<h1 id="SPATL-GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" class="sect1"><span class="enumeration_section">2.11</span> Unit of Measurement Support</h1>
<div>
<p>Geometry functions that involve measurement allow an optional <code>unit</code> parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries. The <code>unit</code> parameter is not valid for geometries with a null SDO_SRID value (that is, an orthogonal Cartesian system). For information about support for coordinate systems, see <a href="coordinate-systems-spatial-reference-systems.htm">Coordinate Systems (Spatial Reference Systems)</a>.</p>
<p>The default unit of measure is the one associated with the georeferenced coordinate system. The unit of measure for most coordinate systems is the meter, and in these cases the default unit for distances is meter and the default unit for areas is square meter. By using the <code>unit</code> parameter, however, you can have Spatial and Graph automatically convert and return results that are more meaningful to application users, for example, displaying the distance to a restaurant in miles.</p>
<p>The <code>unit</code> parameter must be enclosed in single quotation marks and contain the string <code>unit=</code> and a valid UNIT_OF_MEAS_NAME value from the SDO_UNITS_OF_MEASURE table (described in <a href="coordinate-systems-data-structures.htm#GUID-C105DDDD-E8A6-47DA-9A97-CAEF657340B9">SDO_UNITS_OF_MEASURE Table</a>). For example, &#39;unit=KM&#39; in the following example (using data and definitions from <a href="example-coordinate-system-transformation.htm#GUID-A20C91C0-FE69-4F2C-B725-6B327B43558C__I885437">Example 6-17</a> in <a href="example-coordinate-system-transformation.htm">Example of Coordinate System Transformation</a>) specifies kilometers as the unit of measurement:</p>
<pre dir="ltr">SELECT c.name, SDO_GEOM.SDO_LENGTH(c.shape, m.diminfo, &#39;unit=KM&#39;)
  FROM cola_markets_cs c, user_sdo_geom_metadata m 
  WHERE m.table_name = &#39;COLA_MARKETS_CS&#39; AND m.column_name = &#39;SHAPE&#39;;
</pre>
<p>Spatial and Graph uses the information in the SDO_UNITS_OF_MEASURE table (described in <a href="coordinate-systems-data-structures.htm#GUID-C105DDDD-E8A6-47DA-9A97-CAEF657340B9">SDO_UNITS_OF_MEASURE Table</a>) to determine which unit names are valid and what ratios to use in comparing or converting between different units. For convenience, you can also use the following legacy views to see the angle, area, and distance units of measure:</p>
<ul style="list-style-type: disc;">
<li>
<p>MDSYS.SDO_ANGLE_UNITS (described in <a href="legacy-tables-and-views.htm#GUID-B83EA8CD-6441-4E2E-9587-8BA8826B11E2">MDSYS.SDO_ANGLE_UNITS View</a>)</p>
</li>
<li>
<p>MDSYS.SSDO_AREA_UNITS (described in <a href="legacy-tables-and-views.htm#GUID-F5AD3C09-13A8-48FF-94CC-036EF8DE6368">MDSYS.SDO_AREA_UNITS View</a>)</p>
</li>
<li>
<p>MDSYS.SSDO_DIST_UNITS (described in <a href="legacy-tables-and-views.htm#GUID-D7D10E55-2FF4-47F9-9A7E-AE0F39C786E6">MDSYS.SDO_DIST_UNITS View</a>)</p>
</li>
</ul>
</div>
<a id="SPATL561"></a><a id="SPATL562"></a><a id="SPATL560"></a>
<div class="props_rev_3"><a id="GUID-1780C567-2C59-438A-857D-E2B278C0D65D"></a>
<h2 id="SPATL-GUID-1780C567-2C59-438A-857D-E2B278C0D65D" class="sect2"><span class="enumeration_section">2.11.1</span> Creating a User-Defined Unit of Measurement</h2>
<div>
<p>If the area and distance units of measurement supplied by Oracle are not sufficient for your needs, you can create user-defined area and distance units. (You cannot create a user-defined angle unit.) To do so, you must connect to the database as a user that has been granted the DBA role, and insert a row for each desired unit to the SDO_UNITS_OF_MEASURE table (described in <a href="coordinate-systems-data-structures.htm#GUID-C105DDDD-E8A6-47DA-9A97-CAEF657340B9">SDO_UNITS_OF_MEASURE Table</a>)</p>
<p><a href="unit-measurement-support.htm#GUID-1780C567-2C59-438A-857D-E2B278C0D65D__CIHECEAB" title="SDO_UNITS_OF_MEASURE Table">Table 2-14</a> lists the columns in the SDO_UNITS_OF_MEASURE table and the requirements and recommendations for each if you are inserting a row for a user-defined unit of measurement.</p>
<div class="tblformal" id="GUID-1780C567-2C59-438A-857D-E2B278C0D65D__CIHECEAB">
<p class="titleintable">Table 2-14 SDO_UNITS_OF_MEASURE Table Entries for User-Defined Unit</p>
<table class="cellalignment152" title="SDO_UNITS_OF_MEASURE Table Entries for User-Defined Unit" summary="SDO_UNITS_OF_MEASURE Table">
<thead>
<tr class="cellalignment143">
<th class="cellalignment153" id="d30575e183">Column Name</th>
<th class="cellalignment215" id="d30575e186">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e191" headers="d30575e183">
<p>UOM_ID</p>
</td>
<td class="cellalignment216" headers="d30575e191 d30575e186">
<p>Any unit of measure ID number not currently used for an Oracle-supplied unit or another user-defined unit. Example: <code>1000001</code></p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e200" headers="d30575e183">
<p>UNIT_OF_MEAS_NAME</p>
</td>
<td class="cellalignment216" headers="d30575e200 d30575e186">
<p>Name of the user-defined unit of measurement. Example: <code>HALF_METER</code></p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e209" headers="d30575e183">
<p>SHORT_NAME</p>
</td>
<td class="cellalignment216" headers="d30575e209 d30575e186">
<p>Optional short name (if any) of the unit of measurement.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e216" headers="d30575e183">
<p>UNIT_OF_MEAS_TYPE</p>
</td>
<td class="cellalignment216" headers="d30575e216 d30575e186">
<p>Type of measure for which the unit is used. Must be either <code>area</code> (for an area unit) or <code>length</code> (for a distance unit).</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e229" headers="d30575e183">
<p>TARGET_UOM_ID</p>
</td>
<td class="cellalignment216" headers="d30575e229 d30575e186">
<p>Optional, but for support purposes you should enter one of the following: <code>10008</code> for an area unit (10008 = UOM_ID for SQ_METER) or <code>10032</code> for a distance unit (10032 = UOM_ID for METER).</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e242" headers="d30575e183">
<p>FACTOR_B</p>
</td>
<td class="cellalignment216" headers="d30575e242 d30575e186">
<p>For a value that can be expressed as a floating point number, specify how many square meters (for an area unit) or meters (for a distance unit) are equal to one of the user-defined unit. For example, for a unit defined as one-half of a standard meter, specify: <code>.5</code></p>
<p>For a value that cannot be expressed as a simple floating point number, specify the dividend for the expression FACTOR_B/FACTOR_C that determines how many square meters (for an area unit) or meters (for a distance unit) are equal to one of the user-defined unit.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e253" headers="d30575e183">
<p>FACTOR_C</p>
</td>
<td class="cellalignment216" headers="d30575e253 d30575e186">
<p>For a value that can be expressed as a floating point number, specify 1.</p>
<p>For a value that cannot be expressed as a simple floating point number, specify the divisor for the expression FACTOR_B/FACTOR_C that determines how many square meters (for an area unit) or meters (for a distance unit) are equal to one of the user-defined unit.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e262" headers="d30575e183">
<p>INFORMATION_SOURCE</p>
</td>
<td class="cellalignment216" headers="d30575e262 d30575e186">
<p>Specify the following: <code>USER_DEFINED</code></p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e271" headers="d30575e183">
<p>DATA_SOURCE</p>
</td>
<td class="cellalignment216" headers="d30575e271 d30575e186">
<p>A phrase briefly describing the unit. Example: <code>User-defined half meter</code></p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e280" headers="d30575e183">
<p>IS_LEGACY</p>
</td>
<td class="cellalignment216" headers="d30575e280 d30575e186">
<p>Specify the following: <code>FALSE</code>.</p>
</td>
</tr>
<tr class="cellalignment143">
<td class="cellalignment156" id="d30575e290" headers="d30575e183">
<p>LEGACY_CODE</p>
</td>
<td class="cellalignment216" headers="d30575e290 d30575e186">
<p>(Do not use this for a user-defined unit.)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a href="unit-measurement-support.htm#GUID-1780C567-2C59-438A-857D-E2B278C0D65D__CBBJCGCE">Example 2-20</a> creates a user-defined distance unit named <code>HALF_METER</code>, and uses it in a query to find all customers within 400,000 half-meters (200 kilometers) of a specified store.</p>
<div class="example" id="GUID-1780C567-2C59-438A-857D-E2B278C0D65D__CBBJCGCE">
<p class="titleinexample">Example 2-20 Creating and Using a User-Defined Unit of Measurement</p>
<pre dir="ltr">-- Distance unit: HALF_METER
-- FACTOR_B specifies how many meters = one of this unit.

INSERT INTO MDSYS.SDO_UNITS_OF_MEASURE
  (UOM_ID, UNIT_OF_MEAS_NAME, UNIT_OF_MEAS_TYPE, TARGET_UOM_ID,
   FACTOR_B, FACTOR_C, INFORMATION_SOURCE, DATA_SOURCE, IS_LEGACY)
VALUES
  (100001, &#39;HALF_METER&#39;, &#39;length&#39;, 100001,
   .5, 1, &#39;User-defined half meter&#39;, &#39;USER_DEFINED&#39;, &#39;FALSE&#39;);
 
. . .
-- Find all the customers within 400,000 half-meters of store_id = 101
SELECT /*+ordered*/
    c.customer_id,
    c.first_name,
    c.last_name
FROM stores s,
    customers c
WHERE s.store_id = 101
AND sdo_within_distance (c.cust_geo_location,
    s.store_geo_location,
    &#39;distance = 400000 unit = HALF_METER&#39;) = &#39;TRUE&#39;;
 
CUSTOMER_ID FIRST_NAME                     LAST_NAME                           
----------- ------------------------------ ------------------------------      
       1005 Carla                          Rodriguez                           
       1004 Thomas                         Williams                            
       1003 Marian                         Chang                               
       1001 Alexandra                      Nichols
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="spatial-index-related-structures.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="sql-multimedia-type-support.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
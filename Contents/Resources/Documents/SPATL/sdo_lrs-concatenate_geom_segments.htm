<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101248"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_LRS.CONCATENATE_GEOM_SEGMENTS"></a><title>SDO_LRS.CONCATENATE_GEOM_SEGMENTS</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="CONCATENATE_GEOM_SEGMENTS function, SDO_LRS package, CONCATENATE_GEOM_SEGMENTS"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="sdo_lrs-clip_geom_segment.htm" title="Previous" type="text/html"/>
<link rel="Next" href="sdo_lrs-connected_geom_segments.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3"></a> <span id="PAGE" style="display:none;">306/475</span> <!-- End Header -->
<a id="SPATL1138"></a>
<h1 id="SPATL-GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3" class="sect1"><span class="enumeration_section">24.2</span> SDO_LRS.CONCATENATE_GEOM_SEGMENTS</h1>
<div>
<div class="section">
<p class="subhead1">Format</p>
<pre dir="ltr">SDO_LRS.CONCATENATE_GEOM_SEGMENTS(
     geom_segment_1  IN SDO_GEOMETRY, 
     geom_segment_2  IN SDO_GEOMETRY, 
     tolerance       IN NUMBER DEFAULT 1.0e-8 
     ) RETURN SDO_GEOMETRY;
</pre>
<p>or</p>
<pre dir="ltr">SDO_LRS.CONCATENATE_GEOM_SEGMENTS(
     geom_segment_1  IN SDO_GEOMETRY, 
     dim_array_1     IN SDO_DIM_ARRAY, 
     geom_segment_2  IN SDO_GEOMETRY, 
     dim_array_2     IN SDO_DIM_ARRAY 
     ) RETURN SDO_GEOMETRY;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Returns the geometry object resulting from the concatenation of two geometric segments.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101243"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3__GUID-8FD8FEFF-1377-47A0-A27B-CFFCA97FBA4C"><!-- --></a>geom_segment_1</dt>
<dd>
<p>First geometric segment to be concatenated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101244"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3__GUID-8EC0C764-6754-4D96-B92E-DF1F45A3AB71"><!-- --></a>dim_array_1</dt>
<dd>
<p>Dimensional information array corresponding to <code>geom_segment_1</code>, usually selected from one of the xxx_SDO_GEOM_METADATA views (described in <a href="geometry-metadata-views.htm#GUID-AEA8FA01-880B-4865-8074-3B6FBD17A5E1">Geometry Metadata Views</a>).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101245"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3__GUID-3AFD00C5-3D58-4F30-9D66-DA7EE6E27D9F"><!-- --></a>geom_segment_2</dt>
<dd>
<p>Second geometric segment to be concatenated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101246"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3__GUID-55C0560D-A364-4030-944B-568D7539549A"><!-- --></a>dim_array_2</dt>
<dd>
<p>Dimensional information array corresponding to <code>geom_segment_2</code>, usually selected from one of the xxx_SDO_GEOM_METADATA views (described in <a href="geometry-metadata-views.htm#GUID-AEA8FA01-880B-4865-8074-3B6FBD17A5E1">Geometry Metadata Views</a>).</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101247"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3__GUID-A0FAEC7C-97AA-41BD-9FB3-13AE334DAFE7"><!-- --></a>tolerance</dt>
<dd>
<p>Tolerance value (see <a href="data-model.htm#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a> and <a href="tolerance-values-lrs-functions.htm">Tolerance Values with LRS Functions</a>). The default value is 0.00000001.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>An exception is raised if <code>geom_segment_1</code> or <code>geom_segment_2</code> has an invalid geometry type or dimensionality, or if <code>geom_segment_1</code> and <code>geom_segment_2</code> are based on different coordinate systems.</p>
<p>The direction of the first geometric segment is preserved, and all measures of the second segment are shifted so that its start measure is the same as the end measure of the first segment.</p>
<p>The geometry type of <code>geom_segment_1</code> and <code>geom_segment_2</code> must be line or multiline. Neither can be a polygon.</p>
<p>The <span class="italic">_3D</span> format of this function (SDO_LRS.CONCATENATE_GEOM_SEGMENTS_3D) is available. For information about <span class="italic">_3D</span> formats of LRS functions, see <a href="3d-formats-lrs-functions.htm">3D Formats of LRS Functions</a>.</p>
<p>For more information about concatenating geometric segments, see <a href="lrs-operations.htm#GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC">Concatenating Geometric Segments</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example defines the geometric segment, splits it into two segments, then concatenates those segments. (This example uses the definitions from the example in <a href="example-lrs-functions.htm">Example of LRS Functions</a>. The definitions of <code>result_geom_1</code>, <code>result_geom_2</code>, and <code>result_geom_3</code> are displayed in <a href="example-lrs-functions.htm#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">Example 7-3</a>.)</p>
<pre dir="ltr">DECLARE
geom_segment SDO_GEOMETRY;
line_string SDO_GEOMETRY;
dim_array SDO_DIM_ARRAY;
result_geom_1 SDO_GEOMETRY;
result_geom_2 SDO_GEOMETRY;
result_geom_3 SDO_GEOMETRY;

BEGIN

SELECT a.route_geometry into geom_segment FROM lrs_routes a
  WHERE a.route_name = &#39;Route1&#39;;
SELECT m.diminfo into dim_array from 
  user_sdo_geom_metadata m
  WHERE m.table_name = &#39;LRS_ROUTES&#39; AND m.column_name = &#39;ROUTE_GEOMETRY&#39;;

-- Define the LRS segment for Route1.
SDO_LRS.DEFINE_GEOM_SEGMENT (geom_segment, 
  dim_array,
  0,    -- Zero starting measure: LRS segment starts at start of route.
  27);  -- End of LRS segment is at measure 27.

SELECT a.route_geometry INTO line_string FROM lrs_routes a 
  WHERE a.route_name = &#39;Route1&#39;;

-- Split Route1 into two segments.
SDO_LRS.SPLIT_GEOM_SEGMENT(line_string,dim_array,5,result_geom_1,result_geom_2);

-- Concatenate the segments that were just split.
result_geom_3 := SDO_LRS.CONCATENATE_GEOM_SEGMENTS(result_geom_1, dim_array, result_geom_2, dim_array);

-- Insert geometries into table, to display later.
INSERT INTO lrs_routes VALUES(
  11,
  &#39;result_geom_1&#39;,
  result_geom_1
);
INSERT INTO lrs_routes VALUES(
  12,
  &#39;result_geom_2&#39;,
  result_geom_2
);
INSERT INTO lrs_routes VALUES(
  13,
  &#39;result_geom_3&#39;,
  result_geom_3
);

END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="sdo_lrs-clip_geom_segment.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="sdo_lrs-connected_geom_segments.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
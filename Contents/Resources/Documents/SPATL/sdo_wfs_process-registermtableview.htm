<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-101906"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SDO_WFS_PROCESS.RegisterMTableView"></a><title>SDO_WFS_PROCESS.RegisterMTableView</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="RegisterMTableView procedure, SDO_WFS_PROCESS package, RegisterMTableView"/>
<meta name="dcterms.created" content="2017-01-26T11:46:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49172-07"/>
<meta name="dcterms.isVersionOf" content="SPATL"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="sdo_wfs_process-publishfeaturetype.htm" title="Previous" type="text/html"/>
<link rel="Next" href="sdo_wfs_process-revokefeaturetypefromuser.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49172-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B"></a> <span id="PAGE" style="display:none;">452/475</span> <!-- End Header -->
<a id="SPATL1269"></a>
<h1 id="SPATL-GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B" class="sect1"><span class="enumeration_section">33.12</span> SDO_WFS_PROCESS.RegisterMTableView</h1>
<div>
<div class="section">
<p class="subhead1">Format</p>
<pre dir="ltr">SDO_WFS_PROCESS.RegisterMTableView(
     ftNsUrl              IN VARCHAR2, 
     ftName               IN VARCHAR2, 
     viewTableList        IN MDSYS.STRINGLIST, 
     viewTablePkeyColList IN MDSYS.STRINGLIST, 
     tablePkeyColList     IN MDSYS.STRINGLIST);
</pre>
<p>or</p>
<pre dir="ltr">SDO_WFS_PROCESS.RegisterMTableView(
     ftNsUrl                   IN VARCHAR2, 
     ftName                    IN VARCHAR2, 
     viewTableList             IN MDSYS.STRINGLIST, 
     viewTablePkeyColList      IN MDSYS.STRINGLIST, 
     formattedViewTableColList IN MDSYS.STRINGLISTLIST, 
     tablePkeyColList          IN MDSYS.STRINGLIST);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Enables the publishing of content from a multitable view as a feature instance.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101900"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B__GUID-60B25C97-AE7E-4903-BF41-5A2F9F3019AB"><!-- --></a>ftNsUrl</dt>
<dd>
<p>Uniform resource locator (URL) of the namespace for the feature type.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101901"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B__GUID-5753E768-0586-4521-9F96-85DA98BD1C9B"><!-- --></a>ftName</dt>
<dd>
<p>Name of the feature type.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101902"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B__GUID-42285F89-1D76-4434-BBE3-B0E6CC4D5720"><!-- --></a>viewTableList</dt>
<dd>
<p>List of tables in the view. To specify table names, use the MDSYS.STRINGLIST type constructor as in the following example: <code>MDSYS.STRINGLIST(&#39;MYUSER.ROADS&#39;, &#39;MYUSER.ROADS_DESC&#39;)</code></p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101903"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B__GUID-257B36E4-E87B-47AA-A556-8C511A203676"><!-- --></a>viewTablePkeyColList</dt>
<dd>
<p>List of view columns that correspond to the primary key columns in the tables in the view, in the order that corresponds to the order of the tables in <code>viewTableList</code>. To specify column names, use the MDSYS.STRINGLIST type constructor as in the following example: <code>MDSYS.STRINGLIST(&#39;ROAD_ID&#39;, &#39;ROAD_ID&#39;)</code>, where both the ROADS and ROAD_DESC table have ROAD_ID as primary key.</p>
<p>If the view has columns that correspond to table columns in a multicolumn primary key, use a semicolon to separate the columns in the primary key. For example: <code>&#39;COL1;COL2&#39;</code></p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101904"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B__GUID-B379DF88-E5A7-4B19-80B9-0D5B4483919B"><!-- --></a>formattedViewTableColList</dt>
<dd>
<p>A list of string formatted table primary key columns that correspond to the string formatted primary key columns in the view, in the order that corresponds to the order of the tables in <code>viewTableList</code>. To specify column names, use the MDSYS.STRINGLISTLIST type constructor as in the following example: <code>MDSYS.STRINGLISTLIST(MDSYS.STRINGLIST(&#39;to_char(ROAD_ID)&#39;), MDSYS.STRINGLIST(&#39;to_char(ROAD_ID)&#39;))</code></p>
<p>The list of string formatted primary key columns for each table should be specified in the same order as the primary key columns for each table specified in <code>tablePkeyColList</code> parameter.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-101905"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-72764DF4-C5B7-4D0A-92B8-D405A43C322B__GUID-97ADD65F-33F6-4EB8-8D7A-D45129B43832"><!-- --></a>tablePkeyColList</dt>
<dd>
<p>List of the primary key columns in the tables, in the order that corresponds to the order of the tables in <code>viewTableList</code>. For each table the primary key columns should be specified in the order that correspond to the key columns in the view as specified in <code>viewTablePkeyColList</code> parameter. To specify column names, use the MDSYS.STRINGLIST type constructor as in the following example: <code>MDSYS.STRINGLIST(&#39;ROAD_ID&#39;, &#39;ROAD_ID&#39;)</code></p>
<p>If a table has a multicolumn primary key, use a semicolon to separate the columns in the primary key. For example : <code>&#39;COL1;COL2&#39;</code></p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>If you need to publish content from a multitable view as a feature instance, you must call this procedure after calling the <a href="sdo_wfs_process-publishfeaturetype.htm">SDO_WFS_PROCESS.PublishFeatureType</a> procedure.</p>
<p>To disable the publishing of content from a multitable view as a feature instance, use the <a href="sdo_wfs_process-unregistermtableview.htm">SDO_WFS_PROCESS.UnRegisterMTableView</a> procedure.</p>
<p>For information about support for Web Feature Services, see <a href="web-feature-service-wfs-support.htm">Web Feature Service (WFS) Support</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example creates two feature tables, creates a view based on these tables. publishes a feature type, and registers the multitable view to enable the publishing of content from the view.</p>
<pre dir="ltr">CREATE TABLE cola_markets_cs (
  mkt_id NUMBER PRIMARY KEY,
  name VARCHAR2(32),
  shape MDSYS.SDO_GEOMETRY);
 
CREATE TABLE cola_markets_cs_details (
  mkt_id NUMBER PRIMARY KEY,
  description VARCHAR2(400));
 
create view cola_markets_view as select t1.mkt_id, t1.name, t1.shape,
  t2.description from
  cola_markets_cs t1, cola_markets_cs_details t2
  where t1.mkt_id = t2.mkt_id;
 
DECLARE
cm MDSYS.StringList := MDSYS.StringList(&#39;PolygonMemberType&#39;);
BEGIN
SDO_WFS_PROCESS.publishFeatureType(
 &#39;WFS_USER.COLA_MARKETS_VIEW&#39;,
 &#39;http://www.example.com/myns&#39;,
 &#39;COLA&#39;,
 &#39;myns&#39;,
 xmltype(bfilename(&#39;WFSUSERDIR&#39;, &#39;featuredesct.xml&#39;), nls_charset_id(&#39;AL32UTF8&#39;)),
 null, &#39;MKT_ID&#39;, cm, &#39;SHAPE&#39;, null, null, null, null);
END;
/
 
BEGIN
SDO_WFS_PROCESS.registerMTableView(&#39;http://www.example.com/myns&#39;,
        &#39;COLA&#39;, mdsys.StringList(&#39;WFS_USER.COLA_MARKETS_CS&#39;,
        &#39;WFS_USER.COLA_MARKETS_CS_DETAILS&#39;),
        mdsys.StringList(&#39;MKT_ID&#39;, &#39;MKT_ID&#39;), -- view keys per table
        mdsys.StringList(&#39;MKT_ID&#39;, &#39;MKT_ID&#39;));-- corresponding table keys
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment142">
<tr>
<td class="cellalignment149">
<table class="cellalignment147">
<tr>
<td class="cellalignment146"><a href="sdo_wfs_process-publishfeaturetype.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment146"><a href="sdo_wfs_process-revokefeaturetypefromuser.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment151">
<table class="cellalignment145">
<tr>
<td class="cellalignment146"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment146"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment146"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment146"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment146"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment146"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
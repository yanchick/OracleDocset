<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-2660"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Recovery%20Manager%20Architecture"></a><title>Recovery Manager Architecture</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="Recovery Manager, overview"/>
<meta name="dcterms.created" content="2017-06-07T23:52:16Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E50658-09"/>
<meta name="dcterms.isVersionOf" content="BRADV"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="part_pln.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rcmcnctg.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50658-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8ECC1FB0-7D25-4883-B9A6-2593FDB35940"></a> <span id="PAGE" style="display:none;">12/48</span> <!-- End Header -->
<a id="BRADV001"></a>
<h1 id="BRADV-GUID-8ECC1FB0-7D25-4883-B9A6-2593FDB35940" class="sect1"><span class="enumeration_chapter">3</span> Recovery Manager Architecture</h1>
<div>
<p><a id="d16079e67" class="indexterm-anchor"></a>This chapter describes the Recovery Manager (RMAN) interface and the basic components of the RMAN environment. This chapter contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="rcmarchi.htm#GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673">About the RMAN Environment</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-740E8D5C-CCB4-489D-9253-B44458237B91">About RMAN Command-Line Client</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-282FD0B6-8593-4775-9965-DB47534D349C">About RMAN Channels</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-D5EBBDAF-5392-4D75-B919-A298F6C0881E">About the RMAN Repository</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-12A32971-242E-4C62-AE95-26D58D5C983D">About Media Management Using RMAN</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-06A2CC19-9D45-4360-98D4-79FB32EE6153">About the Fast Recovery Area</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-B18B15EA-1F59-4858-B6E9-9870A564CD62">About RMAN in a Data Guard Environment</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-370362C4-9F7C-4D23-A9F8-42F0376F1F5A">About RMAN in a Recovery Appliance Environment</a></p>
</li>
</ul>
</div>
<a id="BRADV144"></a><a id="BRADV559"></a><a id="BRADV101"></a>
<div class="props_rev_3"><a id="GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673"></a>
<h2 id="BRADV-GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673" class="sect2">About the RMAN Environment</h2>
<div>
<p>The Recovery Manager environment consists of the various applications and databases that play a role in a backup and recovery strategy.</p>
<p><a href="rcmarchi.htm#GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673__CHDBEBIE" title="Lists possible components of the RMAN environment">Table 3-1</a> lists some components in a typical RMAN environment.</p>
<div class="tblformal" id="GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673__CHDBEBIE">
<p class="titleintable">Table 3-1 Components of the RMAN Environment</p>
<table class="cellalignment515" title="Components of the RMAN Environment" summary="Lists possible components of the RMAN environment">
<thead>
<tr class="cellalignment501">
<th class="cellalignment522" id="d16079e200">Component</th>
<th class="cellalignment525" id="d16079e203">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e208" headers="d16079e200">
<p><a id="d16079e210" class="indexterm-anchor"></a><a href="glossary.htm#GUID-BAF6F6F1-D4F1-4F46-B1B6-9F662B7AB35D"><span class="xrefglossterm">RMAN client</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e208 d16079e203">
<p>The client application that manages backup and recovery operations for a target database. The RMAN client can use Oracle Net to connect to a target database, so it can be located on any host that is connected to the target host through Oracle Net.</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e219" headers="d16079e200">
<p><a id="d16079e221" class="indexterm-anchor"></a><a href="glossary.htm#GUID-272C4366-303F-4629-9679-1379AAC3FBC1"><span class="xrefglossterm">target database</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e219 d16079e203">
<p>A database containing the control files, data files, and optional archived redo logs that RMAN backs up or restores. RMAN uses the target database control file to gather metadata about the target database and to store information about its own operations. The work of backup and recovery is performed by server sessions running on the target database.</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e232" headers="d16079e200">
<p><a id="d16079e234" class="indexterm-anchor"></a><a href="glossary.htm#GUID-C54D9858-2461-412B-95FF-80FBACD58AB0"><span class="xrefglossterm">recovery catalog database</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e232 d16079e203">
<p>A database containing a <a href="glossary.htm#GUID-CBFA8015-2DFF-42B1-A818-D6C5B92C608F"><span class="xrefglossterm">recovery catalog</span></a>, which contains metadata that RMAN uses to perform backup and recovery. You can create one recovery catalog that contains the RMAN metadata for multiple target databases. Unless you are using RMAN with a <a href="glossary.htm#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">physical standby database</span></a>, a recovery catalog is optional when using RMAN because RMAN stores its metadata in the control file of each target database.</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e253" headers="d16079e200">
<p><a href="glossary.htm#GUID-3EF7A531-FA6D-483B-AE34-F87D31DCE572"><span class="xrefglossterm">recovery catalog schema</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e253 d16079e203">
<p>The user within the recovery catalog database that owns the metadata tables maintained by RMAN. RMAN periodically propagates metadata from the target database control file into the recovery catalog.</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e262" headers="d16079e200">
<p><a href="glossary.htm#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">physical standby database</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e262 d16079e203">
<p>A copy of the primary database that is updated with redo generated by the primary database. You can fail over to the standby database if the primary database becomes inaccessible.</p>
<p>RMAN can create, back up, or recover a <a id="d16079e272" class="indexterm-anchor"></a>standby database. Backups that you make at a physical standby database are usable at the primary database or another physical standby database for the same production database. The recovery catalog is required when you use RMAN to back up a physical standby database.</p>
<p><span class="bold">Note:</span> A logical standby database is treated as a separate database by RMAN because it has a different DBID from its primary database.</p>
<p><span class="bold">See Also:</span> <a class="olink SBYDB04700" target="_blank" href="../SBYDB/rman.htm#SBYDB04700"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> to learn how to use RMAN in a Data Guard environment</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e288" headers="d16079e200">
<p><a id="d16079e290" class="indexterm-anchor"></a><a href="glossary.htm#GUID-6E3CDD76-A573-4E5C-B12D-59C232C96C19"><span class="xrefglossterm">fast recovery area</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e288 d16079e203">
<p>A disk location that you can use to store recovery-related files such as control file and online redo log copies, archived redo logs, <a href="glossary.htm#GUID-725ED3D7-5077-4F16-85AA-CDAD5BFCE554"><span class="xrefglossterm">flashback logs</span></a>, and RMAN backups. Oracle Database and RMAN manage the files in the fast recovery area automatically.</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e303" headers="d16079e200">
<p><a id="d16079e305" class="indexterm-anchor"></a><a href="glossary.htm#GUID-26FF62D0-5938-481D-B7B9-929BC971813E"><span class="xrefglossterm">media management software</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e303 d16079e203">
<p>A vendor-specific application that enables RMAN to back up to a storage system such as tape</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e314" headers="d16079e200">
<p><a id="d16079e316" class="indexterm-anchor"></a><a href="glossary.htm#GUID-BF263385-102C-44FF-AE86-40FBA05CE30C"><span class="xrefglossterm">media management catalog</span></a></p>
</td>
<td class="cellalignment526" headers="d16079e314 d16079e203">
<p>A vendor-specific repository of metadata about a media management application</p>
</td>
</tr>
<tr class="cellalignment501">
<td class="cellalignment524" id="d16079e327" headers="d16079e200">
<p>Oracle Enterprise Manager</p>
</td>
<td class="cellalignment526" headers="d16079e327 d16079e203">
<p>A browser-based interface to the database, including backup and recovery through RMAN</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The only required components in an RMAN environment are a target database and RMAN client, but most real-world configurations are more complicated. For example, you use an RMAN client connecting to multiple media managers and multiple target databases, all accessed through Enterprise Manager.</p>
<p><a href="rcmarchi.htm#GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673__CHDHICBA">Figure 3-1</a> illustrates components in a possible RMAN environment. The figure shows that the primary database, standby database, and recovery catalog databases all reside on different computers. The primary and standby database hosts use a locally attached tape drive. The RMAN client and Enterprise Manager console run on a separate computer.</p>
<div class="figure" id="GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673__CHDHICBA">
<p class="titleinfigure">Figure 3-1 Sample RMAN Environment</p>
<img width="672" height="470" src="img/GUID-9E261AF3-F0DB-4412-A456-B2BE437D9FC3-default.gif" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows"/><br/>
<a href="img_text/GUID-9E261AF3-F0DB-4412-A456-B2BE437D9FC3-print.htm">Description of &#34;Figure 3-1 Sample RMAN Environment&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-3A2C1C02-880D-4278-9F98-043CF0E7E673__GUID-D2AF0E95-1AFB-4620-931F-35AEEBD21865">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG" target="_blank" href="../NETAG/toc.htm"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> to learn about Oracle Net</p>
</div>
</div>
</div>
<a id="BRADV1002"></a>
<div class="props_rev_3"><a id="GUID-740E8D5C-CCB4-489D-9253-B44458237B91"></a>
<h2 id="BRADV-GUID-740E8D5C-CCB4-489D-9253-B44458237B91" class="sect2">About RMAN Command-Line Client</h2>
<div>
<p><a id="d16079e425" class="indexterm-anchor"></a><a id="d16079e429" class="indexterm-anchor"></a>Use the <a id="d16079e434" class="indexterm-anchor"></a>RMAN command-line client to enter commands that you can use to manage all aspects of backup and recovery operations. RMAN uses a command language interpreter that can execute commands in interactive or batch mode.</p>
</div>
</div>
<a id="BRADV560"></a><a id="BRADV105"></a>
<div class="props_rev_3"><a id="GUID-282FD0B6-8593-4775-9965-DB47534D349C"></a>
<h2 id="BRADV-GUID-282FD0B6-8593-4775-9965-DB47534D349C" class="sect2">About RMAN Channels</h2>
<div>
<p><a id="d16079e510" class="indexterm-anchor"></a><a id="d16079e512" class="indexterm-anchor"></a>The RMAN client directs database server sessions to perform all backup and recovery tasks. What constitutes a session depends on the operating system. For example, on Linux, a server session corresponds to a server process, whereas on Windows it corresponds to a thread within the database service. The RMAN client itself does not perform backup, restore, or recovery operations.</p>
<p><a id="d16079e516" class="indexterm-anchor"></a><a id="d16079e520" class="indexterm-anchor"></a><a id="d16079e524" class="indexterm-anchor"></a><a id="d16079e526" class="indexterm-anchor"></a>An RMAN <a id="d16079e529" class="indexterm-anchor"></a><a id="d16079e531" class="indexterm-anchor"></a><a href="glossary.htm#GUID-D7D8E7D7-3CD3-4FCF-AF75-AF2BE11A366F"><span class="xrefglossterm">channel</span></a> represents one stream of data to a device, and corresponds to one database server session. During a backup or restore operation, the channel reads data from the input device, processes it, and writes it to the output device. See <span class="q">&#34;<a href="rcmtunin.htm#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3">Basic Concepts of RMAN Performance Tuning</a>&#34;</span> for a low-level description of how channels work.</p>
<p>Most RMAN commands are executed by channels, which must be either configured to persist across RMAN sessions, or manually allocated in each <a id="d16079e546" class="indexterm-anchor"></a><a href="glossary.htm#GUID-01D29658-41E1-4D45-9C7F-A761D56885B9"><span class="xrefglossterm">RMAN session</span></a>. As illustrated in <a href="rcmarchi.htm#GUID-282FD0B6-8593-4775-9965-DB47534D349C__i1006208">Figure 3-2</a>, a channel establishes a connection from the RMAN client to a target or auxiliary database instance by starting a server session on the instance.</p>
<div class="figure" id="GUID-282FD0B6-8593-4775-9965-DB47534D349C__i1006208">
<p class="titleinfigure">Figure 3-2 Channel Allocation</p>
<img width="474" height="240" src="img/GUID-2A0F3323-DF28-4763-BB2C-4EDF3E5D44AB-default.gif" alt="Description of Figure 3-2 follows" title="Description of Figure 3-2 follows"/><br/>
<a href="img_text/GUID-2A0F3323-DF28-4763-BB2C-4EDF3E5D44AB-print.htm">Description of &#34;Figure 3-2 Channel Allocation&#34;</a></div>
<!-- class="figure" --></div>
<a id="BRADV89373"></a>
<div class="props_rev_3"><a id="GUID-5A4D3F72-3545-4ABC-B663-F4BE064F070A"></a>
<h3 id="BRADV-GUID-5A4D3F72-3545-4ABC-B663-F4BE064F070A" class="sect3">About RMAN Channels and Devices</h3>
<div>
<p>The RMAN-supported device types are DISK and <a id="d16079e629" class="indexterm-anchor"></a><a href="glossary.htm#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a> (system backup to tape). An SBT device is controlled by a third-party <a id="d16079e635" class="indexterm-anchor"></a><a href="glossary.htm#GUID-26FF62D0-5938-481D-B7B9-929BC971813E"><span class="xrefglossterm">media management software</span></a>. Typically, SBT devices are tape libraries and tape drives.</p>
<p>If you use a DISK channel for a backup, then the channel creates the backup on disk in the file name space of the target database instance creating the backup. You can make a backup on any device that can store a data file. RMAN does not call a media manager when making DISK backups.</p>
<p>To create backups on non-disk media, you must use media management software such as Oracle Secure Backup and allocate channels supported by this software. RMAN contacts the media manager whenever the channel type allocated is not DISK. How and when the SBT channels cause the media manager to allocate resources is vendor-specific. Some media managers allocate resources when you issue the command; others do not allocate resources until you open a file for reading or writing.</p>
<div class="infoboxnotealso" id="GUID-5A4D3F72-3545-4ABC-B663-F4BE064F070A__GUID-2BC6821A-95D2-415A-BAD7-F26E729D1249">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmconfb.htm#GUID-3845B630-DD47-4147-BA6E-8D677CAF1CC2">Configuring the Default Device for Backups: Disk or SBT</a>&#34;</span></p>
</div>
</div>
</div>
<a id="BRADV89374"></a>
<div class="props_rev_3"><a id="GUID-973B7CEF-25E2-4829-B24E-020C71E9F35E"></a>
<h3 id="BRADV-GUID-973B7CEF-25E2-4829-B24E-020C71E9F35E" class="sect3">About RMAN Automatic and Manual Channels</h3>
<div>
<p>You can use the <a class="olink RCMRF113" target="_blank" href="../RCMRF/rcmsynta009.htm#RCMRF113"><code class="codeph">CONFIGURE CHANNEL</code></a> command to configure channels for use with disk or tape across RMAN sessions. This technique is known as <a id="d16079e726" class="indexterm-anchor"></a><a href="glossary.htm#GUID-8473579D-F533-48AA-B7E7-DB4AB8E812D6"><span class="xrefglossterm">automatic channel allocation</span></a>. RMAN comes preconfigured with one <code class="codeph">DISK</code> channel that you can use for backups to disk.</p>
<p>When you run a command that can use automatic channels, RMAN automatically allocates the channels with the options that you specified in the <code class="codeph">CONFIGURE</code> command. <a id="d16079e740" class="indexterm-anchor"></a><a id="d16079e744" class="indexterm-anchor"></a>For the <a class="olink RCMRF107" target="_blank" href="../RCMRF/rcmsynta006.htm#RCMRF107"><code class="codeph">BACKUP</code></a> command, RMAN allocates only the type of channel required to back up to the specified media. For the <a class="olink RCMRF149" target="_blank" href="../RCMRF/rcmsynta2008.htm#RCMRF149"><code class="codeph">RESTORE</code></a> command and <a id="d16079e757" class="indexterm-anchor"></a><a href="glossary.htm#GUID-F89B6EF7-3067-45B0-A45C-DE5247E0C326"><span class="xrefglossterm">RMAN maintenance commands</span></a>, RMAN allocates all necessary channels for the device types required to execute the command. RMAN determines the names for automatic channels.</p>
<p>You can also manually allocate channels. Each manually allocated channel uses a separate connection to the database. <a id="d16079e766" class="indexterm-anchor"></a><a id="d16079e770" class="indexterm-anchor"></a><a id="d16079e774" class="indexterm-anchor"></a>When you manually allocate a channel, you give it a user-defined name such as <code class="codeph">dev1</code> or <code class="codeph">ch2</code>.</p>
<p>The number of channels available for use with a device when you run a command determines whether RMAN reads from or write to this device in parallel while performing the command. When the work is done in parallel, the backup of the files is done by multiple channels. Each channel may back up multiple files, but unless a <a id="d16079e789" class="indexterm-anchor"></a><a id="d16079e793" class="indexterm-anchor"></a><a href="glossary.htm#GUID-6D6DDA5E-F1EF-4273-8649-137F1FC89EB6"><span class="xrefglossterm">multisection backup</span></a> is performed, no file is backed up by more than one channel.</p>
<div class="infoboxnotealso" id="GUID-973B7CEF-25E2-4829-B24E-020C71E9F35E__GUID-792C3C0E-012F-4A0C-BB19-26B9565E4276">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink RCMRF102" target="_blank" href="../RCMRF/rcmsynta004.htm#RCMRF102"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code class="codeph">ALLOCATE</code> <code class="codeph">CHANNEL</code> syntax</p>
</li>
<li>
<p><a class="olink RCMRF103" target="_blank" href="../RCMRF/rcmsynta005.htm#RCMRF103"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> on <code class="codeph">ALLOCATE</code> <code class="codeph">CHANNEL</code> <code class="codeph">FOR</code> <code class="codeph">MAINTENANCE</code></p>
</li>
<li>
<p><span class="q">&#34;<a href="rcmconfb.htm#GUID-FAFF9171-43CF-493A-BA5A-AD9B59B2CFEB">Configuring Channels for Disk</a>&#34;</span> and <span class="q">&#34;<a href="rcmconfb.htm#GUID-DB37EEF2-426B-4060-BA36-FEE38C11ADB8">Configuring SBT Channels for Use with a Media Manager</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="BRADV103"></a>
<div class="props_rev_3"><a id="GUID-D5EBBDAF-5392-4D75-B919-A298F6C0881E"></a>
<h2 id="BRADV-GUID-D5EBBDAF-5392-4D75-B919-A298F6C0881E" class="sect2">About the RMAN Repository</h2>
<div>
<p><a id="d16079e912" class="indexterm-anchor"></a><a id="d16079e914" class="indexterm-anchor"></a><a id="d16079e918" class="indexterm-anchor"></a>The <a id="d16079e921" class="indexterm-anchor"></a><a id="d16079e925" class="indexterm-anchor"></a><a href="glossary.htm#GUID-F5643EDD-CE1B-4A9F-9E6E-ADDFD6452341"><span class="xrefglossterm">RMAN repository</span></a> is the collection of metadata about the target databases that RMAN uses for backup, recovery, and maintenance. RMAN always stores its metadata in the control file. The version of this metadata in the control file is the authoritative record of RMAN backups of your database. This is one reason why protecting your control file is an important part of your backup strategy. RMAN can conduct all necessary backup and recovery operations using just the control file to store the RMAN repository information, and maintains all records necessary to meet your configured retention policy.</p>
<p>You can also create a <a id="d16079e933" class="indexterm-anchor"></a><a href="glossary.htm#GUID-CBFA8015-2DFF-42B1-A818-D6C5B92C608F"><span class="xrefglossterm">recovery catalog</span></a>, which is a repository of RMAN metadata stored in an Oracle Database schema. The control file has limited space for records of backup activities, whereas a recovery catalog can store a much longer history. You can simplify backup and recovery administration by creating a single recovery catalog that contains the RMAN metadata for all of your databases.</p>
<p>The owner of a recovery catalog can grant or revoke restricted access to the catalog to other database users. Each restricted user has full read/write access to his own metadata, which is called a <a id="d16079e941" class="indexterm-anchor"></a><a id="d16079e945" class="indexterm-anchor"></a><a href="glossary.htm#GUID-3ACE1C6A-AEA0-4F3A-973B-2308E0A5AD4B"><span class="xrefglossterm">virtual private catalog</span></a>. When one or more virtual private catalogs exist in a database, the database contains just one set of catalog tables. These tables are owned by the base recovery catalog owner. The owner of the base recovery catalog controls which databases each virtual private catalog user can access.</p>
<p>Some RMAN features only function when you use a recovery catalog. For example, you can create a <a id="d16079e953" class="indexterm-anchor"></a><a href="glossary.htm#GUID-6A46F2BF-D1BF-4993-89BC-52A0AEC9370C"><span class="xrefglossterm">stored script</span></a> in the recovery catalog and use this script to execute RMAN jobs. Other RMAN commands are specifically related to managing the recovery catalog and so are not available (and not needed) if RMAN is not connected to a recovery catalog.</p>
<p>The recovery catalog is maintained solely by RMAN. A target database instance never accesses the catalog directly. RMAN propagates information about the database structure, archived redo logs, backup sets, and data file copies into the recovery catalog from the target database control file after any operation that updates the repository, and also before certain operations.<a id="d16079e961" class="indexterm-anchor"></a><a id="d16079e967" class="indexterm-anchor"></a></p>
<div class="infoboxnotealso" id="GUID-D5EBBDAF-5392-4D75-B919-A298F6C0881E__GUID-BA7B77F6-23BC-4082-8513-DBDE3D0688C9">
<p class="notep1">See Also:</p>
<p><a href="rcmmaint.htm#GUID-F5C3D045-279B-4AB3-8A91-3231A716402C" title="You can delete backups and recovery catalog records for backups.">Maintaining RMAN Backups and Repository&nbsp;Records</a> and <a href="rcmcatdb.htm#GUID-E836E243-6620-495B-ACFB-AC0001EF4E89">Managing a Recovery Catalog</a></p>
</div>
</div>
</div>
<a id="BRADV104"></a>
<div class="props_rev_2"><a id="GUID-12A32971-242E-4C62-AE95-26D58D5C983D"></a>
<h2 id="BRADV-GUID-12A32971-242E-4C62-AE95-26D58D5C983D" class="sect2">About Media Management Using RMAN</h2>
<div>
<p>The Oracle <a id="d16079e1053" class="indexterm-anchor"></a>Media Management Layer (MML) API lets third-party vendors build <a id="d16079e1056" class="indexterm-anchor"></a><a href="glossary.htm#GUID-26FF62D0-5938-481D-B7B9-929BC971813E"><span class="xrefglossterm">media management software</span></a> that works with RMAN to allow backups to sequential media devices such as tape drives. Media management software handles loading, unloading, and labeling of sequential media such as tapes. You must install media management software to use RMAN with sequential media devices.</p>
<p>When backing up or restoring, the <a id="d16079e1064" class="indexterm-anchor"></a>RMAN client connects to a target database instance and directs the instance to send requests to its media manager. No direct communication occurs between the RMAN client and the media manager.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="rcmarchi.htm#GUID-C437C2D1-FB77-4AD6-9B29-210380FADA92">About RMAN Interaction with a Media Manager</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-03BC1495-32A8-4249-ADFA-FA07D8757665">About RMAN and Oracle Secure Backup</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-8C422DA7-C518-4DF3-9BD4-46CED1CEE7AD">About the Backup Solutions Program</a></p>
</li>
</ul>
</div>
<a id="BRADV89375"></a>
<div class="props_rev_3"><a id="GUID-C437C2D1-FB77-4AD6-9B29-210380FADA92"></a>
<h3 id="BRADV-GUID-C437C2D1-FB77-4AD6-9B29-210380FADA92" class="sect3">About RMAN Interaction with a Media Manager</h3>
<div>
<p><a id="d16079e1154" class="indexterm-anchor"></a><a id="d16079e1160" class="indexterm-anchor"></a>Before performing backup or restore to a media manager, you must allocate one or more channels to handle the communication with the media manager. You can also configure default channels for the media manager. The default channels are used for all backup and recovery tasks that employ the media manager and for which you have not explicitly allocated channels.</p>
<p>RMAN does not issue specific commands to load, label, or unload tapes. When backing up, RMAN gives the media manager a stream of bytes and associates a unique name with this stream. When RMAN must restore the backup, it asks the media manager to retrieve the byte stream. All details of how and where that stream is stored are handled entirely by the media manager. For example, the media manager labels and keeps track of the tape and names of files on each tape, and automatically loads and unloads tapes, or signals an operator to do so.</p>
<p>Some media managers support <a id="d16079e1169" class="indexterm-anchor"></a><a id="d16079e1173" class="indexterm-anchor"></a><a href="glossary.htm#GUID-C4A7D804-0F77-4FA3-AA77-85D3C7E78E2B"><span class="xrefglossterm">proxy copy</span></a> functionality, in which they handle the entire data movement between data files and the backup devices. These products may use technologies such as high-speed connections between storage and media subsystems to reduce the load on the primary database server. RMAN provides a list of files requiring backup or restore to the media manager, which in turn makes all decisions regarding how and when to move the data.</p>
<div class="infoboxnotealso" id="GUID-C437C2D1-FB77-4AD6-9B29-210380FADA92__GUID-5253D127-6C0F-405A-9889-A013C30DB316">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmconfb.htm#GUID-DB37EEF2-426B-4060-BA36-FEE38C11ADB8">Configuring SBT Channels for Use with a Media Manager</a>&#34;</span></p>
</div>
</div>
</div>
<a id="BRADV89376"></a>
<div class="props_rev_3"><a id="GUID-03BC1495-32A8-4249-ADFA-FA07D8757665"></a>
<h3 id="BRADV-GUID-03BC1495-32A8-4249-ADFA-FA07D8757665" class="sect3">About RMAN and Oracle Secure Backup</h3>
<div>
<p><a id="d16079e1254" class="indexterm-anchor"></a><a href="glossary.htm#GUID-8879C26C-4DF5-4040-BC7A-37CF7C482C56"><span class="xrefglossterm">Oracle Secure Backup</span></a> is a media manager that provides reliable and secure data protection through file system backup to tape. All major <a id="d16079e1260" class="indexterm-anchor"></a>tape drives and tape libraries in SAN, Gigabit Ethernet, and SCSI environments are supported.</p>
<p>Although Oracle Secure Backup has no specialized knowledge of database backup and recovery algorithms, it can serve as a <a id="d16079e1265" class="indexterm-anchor"></a>media management layer for RMAN through the <a id="d16079e1270" class="indexterm-anchor"></a><a id="d16079e1272" class="indexterm-anchor"></a>SBT interface. In this capacity, Oracle Secure Backup provides the same services for RMAN as other supported third-party SBT libraries. Oracle Secure Backup has some features, however, that are not available in other <a id="d16079e1275" class="indexterm-anchor"></a>media managers.</p>
<div class="infoboxnotealso" id="GUID-03BC1495-32A8-4249-ADFA-FA07D8757665__GUID-1B808519-D5B8-4774-A148-61B70A3C624B">
<p class="notep1">See Also:</p>
<p><a class="olink OBADM" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OBADM"><span class="italic">Oracle Secure Backup Administrator&#39;s Guide</span></a> to learn how to use Oracle Secure Backup</p>
</div>
</div>
</div>
<a id="BRADV89377"></a>
<div class="props_rev_3"><a id="GUID-8C422DA7-C518-4DF3-9BD4-46CED1CEE7AD"></a>
<h3 id="BRADV-GUID-8C422DA7-C518-4DF3-9BD4-46CED1CEE7AD" class="sect3">About the Backup Solutions Program</h3>
<div>
<p><a id="d16079e1355" class="indexterm-anchor"></a><a id="d16079e1357" class="indexterm-anchor"></a><a id="d16079e1359" class="indexterm-anchor"></a><a id="d16079e1365" class="indexterm-anchor"></a><a id="d16079e1367" class="indexterm-anchor"></a>The <a id="d16079e1372" class="indexterm-anchor"></a>Oracle Backup Solutions Program (BSP), part of the Oracle PartnerNetwork, is a group of media manager vendors whose products are compliant with Oracle&#39;s MML specification. Several products may be available for your platform from media management vendors. For more information, contact your Oracle representative for a list of available products, contact individual vendors to ask them if they participate, or access the Backup Solutions Program website at:</p>
<p><a href="http://www.oracle.com/technetwork/database/features/availability/bsp-088814.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/features/availability/bsp-088814.html</code></a></p>
<p>Oracle does not certify media manager vendors for compatibility with RMAN. Questions about availability, version compatibility, and functionality can only be answered by the media manager vendor, not Oracle.</p>
</div>
</div>
</div>
<a id="BRADV89378"></a>
<div class="props_rev_3"><a id="GUID-06A2CC19-9D45-4360-98D4-79FB32EE6153"></a>
<h2 id="BRADV-GUID-06A2CC19-9D45-4360-98D4-79FB32EE6153" class="sect2">About the Fast Recovery Area</h2>
<div>
<p>The components that create different backup and recovery-related files have no knowledge of each other or of the size of the file systems where they store their data. With automatic disk-based backup and recovery, you can create a <a id="d16079e1453" class="indexterm-anchor"></a><a href="glossary.htm#GUID-6E3CDD76-A573-4E5C-B12D-59C232C96C19"><span class="xrefglossterm">fast recovery area</span></a> (also called the <span class="bold">recovery area</span>), which automates management of backup-related files.</p>
<p>A fast recovery area minimizes the need to manually manage disk space for backup-related files and balance the use of space among the different types of files. In this way, a fast recovery area simplifies the ongoing administration of your database. Oracle recommends that you enable a recovery area to simplify backup management.</p>
<p>When you create a recovery area, you choose a location on disk and set an upper bound for storage space. You also set a <a id="d16079e1466" class="indexterm-anchor"></a><a href="glossary.htm#GUID-ECF0ADBB-3255-43A2-A425-26850EA598EA"><span class="xrefglossterm">backup retention policy</span></a> that governs how long backup files are needed for recovery. The database manages the storage used for backups, archived redo logs, and other recovery-related files for the database within this space. Files no longer needed are eligible for deletion when RMAN must reclaim space for new files.</p>
<div class="infoboxnotealso" id="GUID-06A2CC19-9D45-4360-98D4-79FB32EE6153__GUID-238F9E6F-B23F-4ABA-9B3C-7ABDB3F38C39">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmconfb.htm#GUID-302339EC-EE0F-45FB-9862-BB2BA138AA13">Configuring the Fast Recovery Area</a>&#34;</span> to learn about the fast recovery area and how to configure it</p>
</div>
</div>
</div>
<a id="BRADV89379"></a>
<div class="props_rev_3"><a id="GUID-B18B15EA-1F59-4858-B6E9-9870A564CD62"></a>
<h2 id="BRADV-GUID-B18B15EA-1F59-4858-B6E9-9870A564CD62" class="sect2">About RMAN in a Data Guard Environment</h2>
<div>
<p>Data Guard maintains standby databases as transactionally consistent copies of production database. A standby database can be either a physical standby database or a logical standby database.</p>
<p>A database in a Data Guard environment is uniquely identified by <a id="d16079e1551" class="indexterm-anchor"></a>the <a class="olink REFRN10242" target="_blank" href="../REFRN/GUID-3547C937-5DDA-49FF-A9F9-14FF306545D8.htm#REFRN10242"><code class="codeph">DB_UNIQUE_NAME</code></a> parameter in the initialization parameter file. For RMAN to work correctly in a Data Guard environment, the <code class="codeph">DB_UNIQUE_NAME</code> must be unique across all the databases with the same DBID.</p>
<p>When using RMAN in a <a id="d16079e1564" class="indexterm-anchor"></a>Data Guard environment, a recovery catalog is required. The recovery catalog can store the metadata for all primary and standby databases.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="rcmarchi.htm#GUID-D3BD7E4E-30F5-4696-9649-4154BBEC2C62">About RMAN Configuration in a Data Guard Environment</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-E514F9D2-D96E-4087-B8C5-5A8EB6A44E6B">About RMAN File Management in a Data Guard Environment</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-B18B15EA-1F59-4858-B6E9-9870A564CD62__GUID-7E5C403C-207C-4089-8EB6-CD370D7187E1">
<p class="notep1">See Also:</p>
<p><a class="olink SBYDB04700" target="_blank" href="../SBYDB/rman.htm#SBYDB04700"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> to learn how to use RMAN in a Data Guard environment</p>
</div>
</div>
<a id="BRADV89380"></a>
<div class="props_rev_3"><a id="GUID-D3BD7E4E-30F5-4696-9649-4154BBEC2C62"></a>
<h3 id="BRADV-GUID-D3BD7E4E-30F5-4696-9649-4154BBEC2C62" class="sect3">About RMAN Configuration in a Data Guard Environment</h3>
<div>
<p>To simplify ongoing use of RMAN for backup and recovery, you can set some persistent configuration settings for each primary and <a href="glossary.htm#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">physical standby database</span></a> in a Data Guard environment. These settings control many aspects of RMAN behavior. For example, you can configure the <a href="glossary.htm#GUID-ECF0ADBB-3255-43A2-A425-26850EA598EA"><span class="xrefglossterm">backup retention policy</span></a>, default destinations for backups to tape or disk, default backup device type, and so on.</p>
<p>You can use <a id="d16079e1669" class="indexterm-anchor"></a><a id="d16079e1673" class="indexterm-anchor"></a>the <a class="olink RCMRF113" target="_blank" href="../RCMRF/rcmsynta009.htm#RCMRF113"><code class="codeph">CONFIGURE</code></a> command with the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause to create a persistent configuration for a database in a Data Guard environment without connecting to the standby database or primary database as <code class="codeph">TARGET</code>. For example, you connect RMAN to the recovery catalog, run the<a id="d16079e1689" class="indexterm-anchor"></a> <code class="codeph">SET DBID</code> command, and then can create a configuration for a physical standby database before its creation so that the RMAN configuration applies when the database is created.</p>
<p>RMAN updates the control file of the database when connected to it as <code class="codeph">TARGET</code> during a recovery catalog <a id="d16079e1703" class="indexterm-anchor"></a><a href="glossary.htm#GUID-390A74EF-CD69-4173-B810-23EE2A5BB0EF"><span class="xrefglossterm">resynchronization</span></a>. If you use <code class="codeph">FOR DB_UNIQUE_NAME</code> for a database without being connected as <code class="codeph">TARGET</code> to this database, however, then RMAN changes configurations in the recovery catalog only.</p>
<div class="infoboxnotealso" id="GUID-D3BD7E4E-30F5-4696-9649-4154BBEC2C62__GUID-5A8317F4-73D8-4840-BF95-D0CBDADA9F58">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmconfb.htm#GUID-FDA66A53-B2AA-4C59-A142-C2F04016FAEF">Configuring RMAN in a Data Guard Environment</a>&#34;</span></p>
</div>
</div>
</div>
<a id="BRADV89381"></a>
<div class="props_rev_3"><a id="GUID-E514F9D2-D96E-4087-B8C5-5A8EB6A44E6B"></a>
<h3 id="BRADV-GUID-E514F9D2-D96E-4087-B8C5-5A8EB6A44E6B" class="sect3">About RMAN File Management in a Data Guard Environment</h3>
<div>
<p>RMAN uses a recovery catalog to track file names for all database files in a Data Guard environment. The catalog also records where the online redo log files, standby redo log files, temp files, archived redo log files, backup sets, and image copies are created.</p>
<p>This section contains the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="rcmarchi.htm#GUID-28654CD9-CC0C-4027-BA34-86D73D0D4873">About Interchangeability of Backups in a Data Guard Environment</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-3DDC5739-0A55-4F04-BE4C-4705E300C87F">About Association of Backups in a Data Guard Environment</a></p>
</li>
<li>
<p><a href="rcmarchi.htm#GUID-4176237B-67BE-4C87-A4B8-7AF2E0E6035E">About Accessibility of Backups in a Data Guard Environment</a></p>
</li>
</ul>
</div>
<a id="BRADV99957"></a>
<div class="props_rev_3"><a id="GUID-28654CD9-CC0C-4027-BA34-86D73D0D4873"></a>
<h4 id="BRADV-GUID-28654CD9-CC0C-4027-BA34-86D73D0D4873" class="sect4">About Interchangeability of Backups in a Data Guard Environment</h4>
<div>
<p>RMAN commands use the recovery catalog metadata to function transparently across different physical databases in the <a id="d16079e1879" class="indexterm-anchor"></a>Data Guard environment. For example, you can back up a tablespace on a physical standby database and restore and recover it on the primary database. Similarly, you can back up a tablespace on a primary database and restore and recover it on a physical standby database.</p>
<div class="infobox-note" id="GUID-28654CD9-CC0C-4027-BA34-86D73D0D4873__GUID-89A197B1-F892-4022-8F27-0A7D1B1A1363">
<p class="notep1">Note:</p>
<p>Backups of logical standby databases are not usable at the primary database.</p>
</div>
<p>Backups of standby control files and nonstandby control files are interchangeable. For example, you can restore a standby control file on a primary database and a primary control file on a physical standby database. This interchangeability means that you can offload control file backups to one database in a Data Guard environment. RMAN automatically updates the file names for database files during restore and recovery at the databases.</p>
</div>
</div>
<a id="BRADV99958"></a>
<div class="props_rev_3"><a id="GUID-3DDC5739-0A55-4F04-BE4C-4705E300C87F"></a>
<h4 id="BRADV-GUID-3DDC5739-0A55-4F04-BE4C-4705E300C87F" class="sect4">About Association of Backups in a Data Guard Environment</h4>
<div>
<p><a id="d16079e1958" class="indexterm-anchor"></a>The recovery catalog tracks the files in the Data Guard environment by associating every database file or backup file with <a id="d16079e1963" class="indexterm-anchor"></a>a <code class="codeph">DB_UNIQUE_NAME</code>. The database that creates a file is associated with the file. For example, if RMAN backs up the database with the unique name of <code class="codeph">standby1</code>, then <code class="codeph">standby1</code> is associated with this backup. A backup remains associated with the database that created it unless you use the <a id="d16079e1975" class="indexterm-anchor"></a><a id="d16079e1980" class="indexterm-anchor"></a><a class="olink RCMRF110" target="_blank" href="../RCMRF/rcmsynta008.htm#RCMRF110"><code class="codeph">CHANGE</code></a> <code class="codeph">...RESET DB_UNIQUE_NAME</code> command to associate the backup with a different database.</p>
</div>
</div>
<a id="BRADV99959"></a>
<div class="props_rev_3"><a id="GUID-4176237B-67BE-4C87-A4B8-7AF2E0E6035E"></a>
<h4 id="BRADV-GUID-4176237B-67BE-4C87-A4B8-7AF2E0E6035E" class="sect4">About Accessibility of Backups in a Data Guard Environment</h4>
<div>
<p><a id="d16079e2062" class="indexterm-anchor"></a>The accessibility of a backup is different from its association. In a Data Guard environment, the recovery catalog considers disk backups as accessible only to the database with which they are associated, whereas tape backups created on one database are accessible to all databases. If a backup file is not associated with any database, then the row describing it in the recovery catalog view shows <code class="codeph">null</code> for the <code class="codeph">SITE_KEY</code> column. By default, RMAN associates a file whose <code class="codeph">SITE_KEY</code> is <code class="codeph">null</code> with the database to which they are connected as <code class="codeph">TARGET</code>.</p>
<p>RMAN commands such as<a id="d16079e2084" class="indexterm-anchor"></a><a id="d16079e2088" class="indexterm-anchor"></a> <code class="codeph">BACKUP</code>, <code class="codeph">RESTORE</code>, and <code class="codeph">CROSSCHECK</code> work on any accessible backup. For example, for a <code class="codeph">RECOVER COPY</code> operation, RMAN considers only image copies that are associated with the database as eligible to be recovered. RMAN considers the incremental backups on disk and tape as eligible to recover the image copies. In a database recovery, RMAN considers only the disk backups associated with the database and all files on tape as eligible to be restored.</p>
<p>To illustrate the differences in backup accessibility, assume that databases <code class="codeph">prod</code> and <code class="codeph">standby1</code> reside on different hosts. RMAN backs up data file <code class="codeph">1</code> on <code class="codeph">prod</code> to <code class="codeph">/prmhost/disk1/df1.dbf</code> on the production host and also to tape. RMAN backs up data file <code class="codeph">1</code> on <code class="codeph">standby1</code> to <code class="codeph">/sbyhost/disk2/df1.dbf</code> on the standby host and also to tape. If RMAN is connected to database <code class="codeph">prod</code>, then you cannot use RMAN commands to perform operations with the <code class="codeph">/sbyhost/disk2/df1.dbf</code> backup located on the standby host. However, RMAN does consider the tape backup made on <code class="codeph">standby1</code> as eligible to be restored.</p>
<div class="infobox-note" id="GUID-4176237B-67BE-4C87-A4B8-7AF2E0E6035E__GUID-0BDDBB3E-50DB-41D4-A4E2-7595C94C3792">
<p class="notep1">Note:</p>
<p>You can transfer a backup from a standby host to a primary host or vice versa, connect as <code class="codeph">TARGET</code> to the database on this host, and then use the <a class="olink RCMRF109" target="_blank" href="../RCMRF/rcmsynta007.htm#RCMRF109"><code class="codeph">CATALOG</code></a> command to catalog the backup. After a file is cataloged by the target database, the file is associated with the target database.</p>
</div>
<div class="infoboxnotealso" id="GUID-4176237B-67BE-4C87-A4B8-7AF2E0E6035E__GUID-79E047FD-A42A-42FE-906B-C07FB7CED1B5">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SBYDB" target="_blank" href="../SBYDB/toc.htm"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> to learn how to perform RMAN backup and recovery in a <a id="d16079e2159" class="indexterm-anchor"></a>Data Guard environment</p>
</li>
<li>
<p><span class="q">&#34;<a href="rcmmaint.htm#GUID-F0C0A8F9-CBDF-4EDE-BAAF-F93CC37638B1">About Maintenance Commands in a Data Guard Environment</a>&#34;</span></p>
</li>
<li>
<p><a href="rcmcatdb.htm#GUID-E836E243-6620-495B-ACFB-AC0001EF4E89">Managing a Recovery Catalog</a> to learn how to manage a recovery catalog in a Data Guard environment</p>
</li>
<li>
<p><a class="olink RCMRF113" target="_blank" href="../RCMRF/rcmsynta009.htm#RCMRF113"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code class="codeph">CONFIGURE</code> syntax</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="BRADV446"></a>
<div class="props_rev_3"><a id="GUID-370362C4-9F7C-4D23-A9F8-42F0376F1F5A"></a>
<h2 id="BRADV-GUID-370362C4-9F7C-4D23-A9F8-42F0376F1F5A" class="sect2">About RMAN in a Recovery Appliance Environment</h2>
<div>
<div class="p">RMAN is fully-integrated with <a href="glossary.htm#GUID-238433D1-4ED8-412E-978F-24197B953D94"><span class="xrefglossterm">Zero Data Loss Recovery Appliance (Recovery Appliance)</span></a> and RMAN commands can be used to back up protected databases to Recovery Appliance.
<div class="infoboxnotealso" id="GUID-370362C4-9F7C-4D23-A9F8-42F0376F1F5A__GUID-5A8317F4-73D8-4840-BF95-D0CBDADA9F58">
<p class="notep1">See Also:</p>
<p><a href="rcmarchi.htm#GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78">Creating RMAN Backups to Recovery Appliance</a></p>
</div>
</div>
</div>
<a id="BRADV452"></a><a id="BRADV447"></a>
<div class="props_rev_3"><a id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78"></a>
<h3 id="BRADV-GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78" class="sect3">Creating RMAN Backups to Recovery Appliance</h3>
<div>
<div class="section">
<p>Recovery Appliance provides a centralized remote repository for backups of all target databases in the enterprise. Backups and backup metadata for all target databases is managed by a central recovery catalog (the Recovery Appliance catalog) on Recovery Appliance.</p>
<p>Before you use Recovery Appliance to manage backups of your target database, you must perform some configuration steps both on the Recovery Appliance and on the target database.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To back up a target database to Recovery Appliance:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the target database meets the requirements for protected databases in Recovery Appliance environments.</span>
<div>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-31C2871C-4389-481F-9F6F-DE61495A9A6E">
<p class="notep1">See Also:</p>
<p><a class="olink AMAGD866" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMAGD866"><span class="italic">Zero Data Loss Recovery Appliance Administrator&#39;s Guide</span></a> for information about the supported Oracle Database releases</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Install the Recovery Appliance backup module on the target database. This backup module is a shared library that is used by the target database to transfer backups to Recovery Appliance.</span>
<div>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-8870F1B4-85D8-40DE-BCC1-464558C977AB">
<p class="notep1">See Also:</p>
<p><a class="olink AMPDB715" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMPDB715"><span class="italic">Zero Data Loss Recovery Appliance Protected Database Configuration Guide</span></a> for the steps to install the Recovery Appliance backup module</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Enroll the target database as a protected database with the Recovery Appliance.</span>
<div>
<p>This step includes creating a protection policy, configuring a Recovery Appliance database user that will be used by protected databases to authenticate with Recovery Appliance, and registering the protected database with the Recovery Appliance catalog.</p>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-A000A018-ED96-44B8-BFFD-D3838B1B2BC5">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink AMAGD1085" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMAGD1085"><span class="italic">Zero Data Loss Recovery Appliance Administrator&#39;s Guide</span></a> for the enrolment steps on the Recovery Appliance</p>
</li>
<li>
<p><a class="olink AMPDB713" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMPDB713"><span class="italic">Zero Data Loss Recovery Appliance Protected Database Configuration Guide</span></a> for the enrolment steps on the protected database</p>
</li>
</ul>
</div>
</div>
</li>
<li class="stepexpand"><span>(Optional) Configure backup and recovery settings for the target database. These settings will be used when you perform backup and recovery operations with Recovery Appliance.</span>
<div>
<p>The <code class="codeph">CONFIGURE</code> command is used to configure backup and recovery settings for protected databases.</p>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-52EFFB54-9399-44C9-B586-255AB1CB5113">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="rcmconfb.htm#GUID-5155F8E6-6E35-4261-9CC1-F12DAA9FAC5B">Configuring the RMAN Environment</a></p>
</li>
<li>
<p><a class="olink AMPDB815" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMPDB815"><span class="italic">Zero Data Loss Recovery Appliance Protected Database Configuration Guide</span></a> for information about configuring settings in a Recovery Appliance environment</p>
</li>
</ul>
</div>
</div>
</li>
<li class="stepexpand"><span>Start RMAN and connect as <code class="codeph">TARGET</code> to the protected database and as <code class="codeph">CATALOG</code> to the Recovery Appliance catalog.</span>
<div>
<p>The connection to the target database must be as a user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. The connection to the Recovery Appliance is as the Recovery Appliance user that has privileges required to perform backup and recovery operations for the protected database.</p>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-73DACD1F-3376-44A3-92E8-9D8FD5AA7DB4">
<p class="notep1">See Also:</p>
<p><a class="olink AMPDB804" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMPDB804"><span class="italic">Zero Data Loss Recovery Appliance Protected Database Configuration Guide</span></a> for information about creating connections using RMAN</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Allocate one or more RMAN SBT channels that point to the Recovery Appliance backup module. These channels are used to transfer data to the Recovery Appliance.</span>
<div>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-F335390A-E4DF-43B3-8F20-3F94E201A38D">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmconfb.htm#GUID-6F28089E-6D4E-4D6B-B96E-043C35D029D5">Configuring RMAN to Make Backups to Recovery Appliance</a>&#34;</span></p>
</div>
</div>
</li>
<li class="stepexpand"><span>Back up the target database to Recovery Appliance. You use the regular RMAN commands to back up the database to Recovery Appliance.</span>
<div>
<div class="infoboxnotealso" id="GUID-9F0DA285-4785-4F5F-B185-5452AEF49C78__GUID-490C244B-333B-4382-AE72-54F6546ADC8D">
<p class="notep1">See Also:</p>
<p><a class="olink AMPDB827" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMPDB827"><span class="italic">Zero Data Loss Recovery Appliance Protected Database Configuration Guide</span></a> for the steps to back up protected databases</p>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment500">
<tr>
<td class="cellalignment512">
<table class="cellalignment505">
<tr>
<td class="cellalignment504"><a href="part_pln.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment504"><a href="rcmcnctg.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment514">
<table class="cellalignment503">
<tr>
<td class="cellalignment504"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment504"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment504"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment504"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment504"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment504"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
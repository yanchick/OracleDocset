<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5635"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/DBMS_DATA_MINING.Apply"></a><title>DBMS_DATA_MINING.Apply</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-05-15T23:58:14Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Mining User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E53115-05"/>
<meta name="dcterms.isVersionOf" content="DMPRG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-CA99161A-9A1C-4736-855D-98356E451783.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-DC9371F7-B16A-43C7-A563-5C2016064E72.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53115-05.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-08557F7B-217F-4C96-833B-D4AAA613D90B"></a> <span id="PAGE" style="display:none;">98/141</span> <!-- End Header -->
<a id="DMPRG246"></a><a id="DMPRG247"></a><a id="DMPRG245"></a>
<h1 id="DMPRG-GUID-08557F7B-217F-4C96-833B-D4AAA613D90B" class="sect1">DBMS_DATA_MINING.Apply</h1>
<div>
<p>The <code class="codeph">APPLY</code> procedure in <code class="codeph">DBMS_DATA_MINING</code> is a batch apply operation that writes the results of scoring directly to a table. The columns in the table are mining function-dependent.</p>
<p>Scoring with <code class="codeph">APPLY</code> generates the same results as scoring with the SQL scoring functions. Classification produces a prediction and a probability for each case; clustering produces a cluster ID and a probability for each case, and so on. The difference lies in the way that scoring results are captured and the mechanisms that can be used for retrieving them.</p>
<p><code class="codeph">APPLY</code> creates an output table with the columns shown in the following table:</p>
<div class="tblformal" id="GUID-08557F7B-217F-4C96-833B-D4AAA613D90B__BABIHCEC">
<p class="titleintable">Table 6-2 APPLY Output Table</p>
<table class="cellalignment3333" title="APPLY Output Table" summary="Columns in Apply output table">
<thead>
<tr class="cellalignment3324">
<th class="cellalignment3380" id="d19168e45">Mining Function</th>
<th class="cellalignment3381" id="d19168e48">Output Columns</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3324">
<td class="cellalignment3382" id="d19168e53" headers="d19168e45">
<p>classification</p>
</td>
<td class="cellalignment3383" headers="d19168e53 d19168e48">
<p><code class="codeph">CASE_ID</code></p>
<p><code class="codeph">PREDICTION</code></p>
<p><code class="codeph">PROBABILITY</code></p>
</td>
</tr>
<tr class="cellalignment3324">
<td class="cellalignment3382" id="d19168e67" headers="d19168e45">
<p>regression</p>
</td>
<td class="cellalignment3383" headers="d19168e67 d19168e48">
<p><code class="codeph">CASE_ID</code></p>
<p><code class="codeph">PREDICTION</code></p>
</td>
</tr>
<tr class="cellalignment3324">
<td class="cellalignment3382" id="d19168e78" headers="d19168e45">
<p>anomaly detection</p>
</td>
<td class="cellalignment3383" headers="d19168e78 d19168e48">
<p><code class="codeph">CASE_ID</code></p>
<p><code class="codeph">PREDICTION</code></p>
<p><code class="codeph">PROBABILITY</code></p>
</td>
</tr>
<tr class="cellalignment3324">
<td class="cellalignment3382" id="d19168e92" headers="d19168e45">
<p>clustering</p>
</td>
<td class="cellalignment3383" headers="d19168e92 d19168e48">
<p><code class="codeph">CASE_ID</code></p>
<p><code class="codeph">CLUSTER_ID</code></p>
<p><code class="codeph">PROBABILITY</code></p>
</td>
</tr>
<tr class="cellalignment3324">
<td class="cellalignment3382" id="d19168e106" headers="d19168e45">
<p>feature extraction</p>
</td>
<td class="cellalignment3383" headers="d19168e106 d19168e48">
<p><code class="codeph">CASE_ID</code></p>
<p><code class="codeph">FEATURE_ID</code></p>
<p><code class="codeph">MATCH_QUALITY</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Since <code class="codeph">APPLY</code> output is stored separately from the scoring data, it must be joined to the scoring data to support queries that include the scored rows. Thus any model that is used with <code class="codeph">APPLY</code> must have a case ID.</p>
<p>A <a id="d19168e129" class="indexterm-anchor"></a>case ID is not required for models that is applied with SQL scoring functions. Likewise, storage and joins are not required, since scoring results are generated and consumed in real time within a SQL query.</p>
<p>The following example illustrates <a id="d19168e134" class="indexterm-anchor"></a>Anomaly Detection with <code class="codeph">APPLY</code>. The query of the <code class="codeph">APPLY</code> output table returns the ten first customers in the table. Each has a a probability for being typical (1) and a probability for being anomalous (0).</p>
<div class="example" id="GUID-08557F7B-217F-4C96-833B-D4AAA613D90B__CIHHGHDA">
<p class="titleinexample">Example 6-14 Anomaly Detection with DBMS_DATA_MINING.APPLY</p>
<pre dir="ltr">EXEC dbms_data_mining.apply
        (&#39;SVMO_SH_Clas_sample&#39;,&#39;svmo_sh_sample_prepared&#39;, 
         &#39;cust_id&#39;, &#39;one_class_output&#39;); 

SELECT * from one_class_output where rownum &lt; 11;
 
   CUST_ID PREDICTION PROBABILITY
---------- ---------- -----------
    101798          1  .567389309
    101798          0  .432610691
    102276          1  .564922469
    102276          0  .435077531
    102404          1   .51213544
    102404          0   .48786456
    101891          1  .563474346
    101891          0  .436525654
    102815          0  .500663683
    102815          1  .499336317
</pre>
<div class="infoboxnotealso" id="GUID-08557F7B-217F-4C96-833B-D4AAA613D90B__GUID-D31A7343-E08D-4278-ABB7-3CA69AD0E1CB">
<p class="notep1">See Also:</p>
<p><code class="codeph">DBMS_DATA_MINING.APPLY</code> in <a class="olink SQLRF20030" target="_blank" href="../SQLRF/functions002.htm#SQLRF20030"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
</div>
</div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3323">
<tr>
<td class="cellalignment3330">
<table class="cellalignment3328">
<tr>
<td class="cellalignment3327"><a href="GUID-CA99161A-9A1C-4736-855D-98356E451783.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3327"><a href="GUID-DC9371F7-B16A-43C7-A563-5C2016064E72.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3332">
<table class="cellalignment3326">
<tr>
<td class="cellalignment3327"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3327"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3327"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3327"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3327"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3327"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
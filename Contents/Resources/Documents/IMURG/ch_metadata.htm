<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-48248"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Working%20with%20Metadata%20in%20Oracle%20Multimedia%20Images"></a><title>Working with Metadata in Oracle Multimedia Images</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="description" content="Presents information about using Oracle Database to store, manage, and retrieve images, audio, video, DICOM format medical images and other objects, or other heterogeneous media data in an integrated fashion with other enterprise information. Oracle Multimedia extends Oracle Database reliability, availability, and data management to multimedia content in traditional, Internet, electronic commerce, medical, financial, and other media-rich applications."/>
<meta name="dcterms.created" content="2014-07-31T9:32:46Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Multimedia User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17697-09"/>
<meta name="dcterms.isVersionOf" content="IMURG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="im_glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="ch_imexapp.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch_extend.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17697-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/20</span> <!-- End Header -->
<div id="IMURG3500" class="chapter"><a id="CIAEFDGH"></a>
<h1 class="chapter"><span class="secnum">6</span> Working with Metadata in Oracle Multimedia Images</h1>
<p>Image files can contain information about the content of the images, the image rasters, and image metadata. In general, data about data is referred to as <a href="im_glossary.htm#BGBGAEHC"><span class="xrefglossterm">metadata</span></a><a id="sthref158"></a>. In this case, metadata refers to additional information about the actual images, which is stored in the image files along with the images.</p>
<p>This chapter includes these sections:</p>
<ul>
<li>
<p><a href="#BABEBCCD">Metadata Concepts</a></p>
</li>
<li>
<p><a href="#BABDHJJB">Oracle Multimedia Image Metadata Concepts</a></p>
</li>
<li>
<p><a href="#BABEDBJD">Image File Formats</a></p>
</li>
<li>
<p><a href="#BABBFBEJ">Image Metadata Formats</a></p>
</li>
<li>
<p><a href="#BABBDFAG">Representing Metadata Outside Images</a></p>
</li>
<li>
<p><a href="#BABFHICF">Oracle Multimedia Image Metadata Examples</a></p>
</li>
<li>
<p><a href="#BABBGEDI">Metadata References</a></p>
</li>
</ul>
<a id="BABEBCCD"></a>
<div id="IMURG3510" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.1</span> Metadata Concepts</h2>
<p>Several types of metadata can be stored in an image file, and each type can serve a different purpose. One type, <a href="im_glossary.htm#BGBJDCEJ"><span class="xrefglossterm">technical metadata</span></a><a id="sthref159"></a>, is used to describe an image in a technical sense. For example, technical metadata can include attributes about an image, such as its height and width, in pixels, or the type of compression used to store it. Another type, <a href="im_glossary.htm#BGBFIEEC"><span class="xrefglossterm">content metadata</span></a><a id="sthref160"></a>, can further describe the content of an image, the name of the photographer, and the date and time when a photograph was taken.</p>
<p>Metadata is stored in image files using a variety of mechanisms. Digital cameras and scanners automatically insert metadata into the images they create. Digital photograph processing applications like Adobe Photoshop enable users to add or edit metadata to be stored with the image. Annotating digital images with additional metadata is a common practice in photographic and news gathering applications, for image archiving usages, and at the consumer level.</p>
<p>Storing metadata with image data in the same containing file provides encapsulation. With encapsulation, both types of data can be shared and exchanged reliably as one unit. Metadata that is stored in the image file format is referred to as <a href="im_glossary.htm#BGBHDJJC"><span class="xrefglossterm">embedded metadata</span></a><a id="sthref161"></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BABDHJJB"></a>
<div id="IMURG3520" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.2</span> Oracle Multimedia Image Metadata Concepts</h2>
<p>For a large number of image file formats, Oracle Multimedia can extract and manage a limited set of metadata attributes. These attributes include: height, width, contentLength, fileFormat, contentFormat, compressionFormat, and mimeType. For a limited number of image file formats, Oracle Multimedia can extract a rich set of metadata attributes. This metadata is represented in schema-based XML documents. These XML documents can be stored in a database, indexed, searched, updated, and made available to applications using the standard mechanisms of Oracle Database.</p>
<p>Oracle Multimedia can also write or embed metadata supplied by users into a limited number of image file formats. The application provides the metadata as a schema-based XML document. Oracle Multimedia processes the XML document and writes the metadata into the image file.</p>
</div>
<!-- class="sect1" -->
<a id="BABEDBJD"></a>
<div id="IMURG3530" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.3</span> Image File Formats</h2>
<p>Oracle Multimedia supports metadata extraction and metadata embedding<a id="sthref162"></a><a id="sthref163"></a> for the GIF, TIFF, and JPEG file formats.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<p><a class="olink AIVUG30000" href="../AIVUG/ap_imgfmts.htm#AIVUG30000"><span class="italic">Oracle Multimedia Reference</span></a> for information about the image file formats supported by Oracle Multimedia</p>
</div>
</div>
<!-- class="sect1" -->
<a id="BABBFBEJ"></a>
<div id="IMURG3540" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.4</span> Image Metadata Formats</h2>
<p>The term <a href="im_glossary.htm#BGBJAGHA"><span class="xrefglossterm">image metadata format</span></a> <a id="sthref164"></a>refers to the standard protocols and techniques used to store image metadata within an image file. The following subsections describe the embedded image metadata formats supported by Oracle Multimedia:</p>
<ul>
<li>
<p><a href="#BABCBIJH">EXIF</a></p>
</li>
<li>
<p><a href="#BABGACEG">IPTC&ndash;IIM</a></p>
</li>
<li>
<p><a href="#BABJDJBB">XMP</a></p>
</li>
</ul>
<a id="BABCBIJH"></a>
<div id="IMURG11645" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.4.1</span> EXIF</h3>
<p>The Exchangeable Image File Format (EXIF) <a id="sthref165"></a><a id="sthref166"></a><a id="sthref167"></a>is the standard for image file storage for digital still cameras. It was developed by the Japan Electronic Industry Development Association (JEIDA) as a standard way of storing images created by digital cameras and metadata about the images. EXIF image metadata can be stored in TIFF and JPEG format images. Oracle Multimedia supports the extraction of EXIF metadata from TIFF and JPEG file formats.</p>
</div>
<!-- class="sect2" -->
<a id="BABGACEG"></a>
<div id="IMURG11646" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.4.2</span> IPTC&ndash;IIM</h3>
<p>The International Press Telecommunications Council-Information Interchange Model (IPTC-IIM) Version 4<a id="sthref168"></a><a id="sthref169"></a><a id="sthref170"></a> is a standard developed jointly by the International Press Telecommunications Council and the Newspaper Association of America. This metadata standard is designed to capture information that is important to the activities of news gathering, reporting, and publishing. These information records are commonly referred to as IPTC tags.</p>
<p>The use of embedded IPTC tags in image file formats became widespread with the use of the Adobe Photoshop tool for image editing. IPTC metadata can be stored in TIFF and JPEG format images. Oracle Multimedia supports the extraction of IPTC metadata from TIFF and JPEG file formats.</p>
</div>
<!-- class="sect2" -->
<a id="BABJDJBB"></a>
<div id="IMURG11647" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.4.3</span> XMP</h3>
<p>The Extensible Metadata Platform (XMP) <a id="sthref171"></a><a id="sthref172"></a><a id="sthref173"></a>is a standard metadata format, developed by Adobe, for the creation, processing, and interchange of metadata in a variety of applications. XMP uses Resource Description Framework (RDF) technology for data modeling. XMP also defines how the data model is serialized (converted to a byte stream), and embedded within an image file. Oracle Multimedia supports the extraction of XMP metadata from GIF, TIFF, and JPEG file formats. Oracle Multimedia also supports writing XMP data packets into GIF, TIFF, and JPEG file formats.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><code><a href="http://www.adobe.com/">http://www.adobe.com/</a></code> for more information about the Extensible Metadata Platform</p>
</li>
<li>
<p><code><a href="http://www.w3.org/RDF/">http://www.w3.org/RDF/</a></code> for more information about Resource Description Framework technology</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBDFAG"></a>
<div id="IMURG3550" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.5</span> Representing Metadata Outside Images</h2>
<p>After metadata has been extracted from the binary image file, the next step is to represent the metadata<a id="sthref174"></a><a id="sthref175"></a> in a form that can be easily stored, indexed, queried, updated, and presented. Oracle Multimedia returns image metadata in XML documents. These documents are based on XML schemas that Oracle Multimedia registers with the database. Each type of image metadata has a separate XML schema. These XML schemas are used by the metadata methods of the ORDImage object type.</p>
<p>The XML documents can be stored in XMLType columns within the database. These documents are easily searched and processed using the wide range of standards-based XML technologies provided by Oracle XML DB<a id="sthref176"></a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink AIVUG65000" href="../AIVUG/ap_xmlschms.htm#AIVUG65000"><span class="italic">Oracle Multimedia Reference</span></a> for complete definitions of the XML schemas supported by Oracle Multimedia</p>
</li>
<li>
<p><a class="olink ADXDB0400" href="../ADXDB/xdb04cre.htm#ADXDB0400"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a> for more information about the XML technologies provided by Oracle XML DB</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABFHICF"></a>
<div id="IMURG3560" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.6</span> Oracle Multimedia Image Metadata Examples</h2>
<p>The following examples of metadata extraction and embedding use the <code>photos</code> table, which is defined by the Photo Album sample application. The implementation of the Photo Album sample application is defined in the PL/SQL package <code>PHOTO_ALBUM</code>. See <a href="ch_phtalbapps.htm#CHDCHCDE">Section 3.1</a> for a complete description of the Oracle Multimedia PL/SQL Web Toolkit Photo Album sample application.</p>
<p>The <code>photos</code> table stores two instances of an image: the full-size photograph and a thumbnail image. This table can also store up to four different image metadata documents. These documents are stored in the columns named <code>metaORDImage</code>, <code>metaEXIF</code>, <code>metaIPTC</code>, and <code>metaXMP</code>, and represent image metadata from the ORDImage, EXIF, IPTC, and XMP metadata formats, respectively. The metadata columns are of type XMLType, and they are bound to the corresponding metadata XML schemas that Oracle Multimedia provides.</p>
<p>The following subsections describe some operations you can perform with image metadata:</p>
<ul>
<li>
<p><a href="#BABHDAFD">Creating a Table for Metadata Storage</a></p>
</li>
<li>
<p><a href="#BABCFDIF">Extracting Image Metadata</a></p>
</li>
<li>
<p><a href="#BABGCEIG">Embedding Image Metadata</a></p>
</li>
</ul>
<a id="BABHDAFD"></a>
<div id="IMURG11648" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.6.1</span> Creating a Table for Metadata Storage</h3>
<p><a id="sthref177"></a>Before you can extract or embed metadata, you must create the table and columns where the metadata is to be stored. The following PL/SQL code segment creates the <code>photos</code> table with four XMLTYPE columns (<code>metaORDImage</code>, <code>metaEXIF</code>, <code>metaIPTC</code>, and <code>metaXMP</code>) to store each type of image metadata, and two ORDIMAGE columns (<code>image</code> and <code>thumb</code>) for the original image and the thumbnail image, respectively. Each metadata column is bound to its corresponding metadata schema. For example, the <code>metaEXIF</code> column is bound to the XML schema stored at <code>http://xmlns.oracle.com/ord/meta/exif</code>, and is defined as the XML element <code>exifMetadata</code>.</p>
<p>The code statements where the image metadata columns are defined and bound to XML schemas are highlighted in bold.</p>
<pre>--
-- Create the PHOTOS table
--
CREATE TABLE photos( id           NUMBER PRIMARY KEY,
                     description  VARCHAR2(40) NOT NULL,
                     <span class="bold">metaORDImage XMLTYPE,</span>
                     <span class="bold">metaEXIF     XMLTYPE,</span>
                     <span class="bold">metaIPTC     XMLTYPE,</span>
                     <span class="bold">metaXMP      XMLTYPE,</span>
                     image        ORDSYS.ORDIMAGE,
                     thumb        ORDSYS.ORDIMAGE )
--
-- store full-size images and thumbnail images as SecureFiles LOBs
--
LOB(image.source.localdata) STORE AS SECUREFILE
LOB(thumb.source.localdata) STORE AS SECUREFILE
-- and bind the XMLType columns to the Oracle Multimedia metadata schemas
<span class="bold">XMLType COLUMN metaORDImage</span>
  XMLSCHEMA &#34;http://xmlns.oracle.com/ord/meta/ordimage&#34;
  ELEMENT &#34;ordImageAttributes&#34;
<span class="bold">XMLType COLUMN metaEXIF</span>
  XMLSCHEMA &#34;http://xmlns.oracle.com/ord/meta/exif&#34;
  ELEMENT &#34;exifMetadata&#34;
<span class="bold">XMLType COLUMN metaIPTC</span>
  XMLSCHEMA &#34;http://xmlns.oracle.com/ord/meta/iptc&#34;
  ELEMENT &#34;iptcMetadata&#34;
<span class="bold">XMLType COLUMN metaXMP</span>
  XMLSCHEMA &#34;http://xmlns.oracle.com/ord/meta/xmp&#34;
  ELEMENT &#34;xmpMetadata&#34;;
</pre></div>
<!-- class="sect2" -->
<a id="BABCFDIF"></a>
<div id="IMURG11649" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.6.2</span> Extracting Image Metadata</h3>
<p><a id="sthref178"></a><a id="sthref179"></a>The following PL/SQL procedure extracts metadata from an image and stores it in the specified columns in the <code>photos</code> table you created. This procedure demonstrates the getMetadata( ) method, which returns an array of XML documents. The root element of each document is examined to determine the metadata type. The UPDATE statement stores the documents in the corresponding columns in the <code>photos</code> table.</p>
<p>The code statement where the getMetadata( ) method is called is highlighted in bold.</p>
<pre>--
-- fetch the metadata and sort the results
--
PROCEDURE extractMetadata(inID IN INTEGER)
IS
  img ORDSYS.ORDIMAGE;
  metav XMLSequenceType;
  meta_root VARCHAR2(40);
  xmlORD XMLType;
  xmlXMP XMLType;
  xmlEXIF XMLType;
  xmlIPTC XMLType;
 
BEGIN
 
-- select the image
SELECT image
INTO img
FROM PHOTOS
WHERE id = inID;

-- extract all the metadata
<span class="bold">metav := img.getMetadata( &#39;ALL&#39; );</span>
 
-- process the result array to discover what types of metadata were
returned
FOR i IN 1..metav.count() LOOP
  meta_root := metav(i).getRootElement();
  CASE meta_root
    WHEN &#39;ordImageAttributes&#39; THEN xmlORD := metav(i);
    WHEN &#39;xmpMetadata&#39; THEN xmlXMP := metav(i);
    WHEN &#39;iptcMetadata&#39; THEN xmlIPTC := metav(i);
    WHEN &#39;exifMetadata&#39; THEN xmlEXIF := metav(i);
    ELSE NULL;
  END CASE;
END LOOP;

-- Update metadata columns
--
UPDATE photos
SET metaORDImage = xmlORD,
    metaEXIF = xmlEXIF,
    metaIPTC = xmlIPTC,
    metaXMP = xmlXMP
WHERE id = inID;
 
END extractMetadata;
</pre></div>
<!-- class="sect2" -->
<a id="BABGCEIG"></a>
<div id="IMURG11650" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">6.6.3</span> Embedding Image Metadata</h3>
<p><a id="sthref180"></a><a id="sthref181"></a>The following PL/SQL procedure demonstrates the putMetadata( ) method. This procedure accepts six arguments. The <code>entry_id</code> argument identifies the image in the <code>photos</code> table to be updated. The remaining arguments (<code>title</code>, <code>creator</code>, <code>date</code>, <code>description</code>, and <code>copyright</code>) are strings to be formatted into an XMP packet and embedded within the target image.</p>
<p>This example creates an XML document instance based on the Oracle Multimedia XML schema for XMP metadata. (This schema is preregistered with Oracle XML DB<a id="sthref182"></a>. See <a class="olink ADXDB0600" href="../ADXDB/xdb05sto.htm#ADXDB0600"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a> for more information.)<a id="sthref183"></a> The schema for XMP metadata defines a single, global element <code>&lt;xmpMetadata&gt;</code>. The &lt;xmpMetadata&gt; element contains a single, well-formed RDF document. The RDF document contains a single <code>&lt;RDF&gt;</code> element, which is derived from the <code>rdf</code> namespace. This RDF document is constructed using elements defined by the Dublin Core schema.</p>
<p>The call to the putMetadata( ) method embeds the metadata document into the image file. The UPDATE statement stores the new image and the new metadata back in the <code>photos</code> table.</p>
<p>The code statement where the putMetadata( ) method is called is highlighted in bold.</p>
<pre>--
-- write the metadata to the image
--
PROCEDURE write_metadata( entry_id IN VARCHAR2,
                          title IN VARCHAR2,
                          creator IN VARCHAR2,
                          date IN VARCHAR2,
                          description IN VARCHAR2,
                          copyright IN VARCHAR2 )
IS
  img ORDSYS.ORDImage;
  xmp XMLType;
  buf VARCHAR2(5000);
BEGIN
-- select the image
SELECT image
INTO img
FROM PHOTOS
WHERE id = entry_id FOR UPDATE;

-- Create the XMP packet it must be schema valid
-- to &#34;http://xmlns.oracle.com/ord/meta/xmp&#34;
-- and contain an &lt;RDF&gt; element. This example uses
-- the Dublin Core schema.

/* An example XML instance document
 
&lt;xmpMetadata xmlns=&#34;http://xmlns.oracle.com/ord/meta/xmp&#34; 
              xsi:schemaLocation=&#34;http://xmlns.oracle.com/ord/meta/xmp 
              http://xmlns.oracle.com/ord/meta/xmp&#34; 
              xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;&gt;
 
  &lt;rdf:RDF xmlns:rdf=&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;
    &lt;rdf:Description about=&#34;&#34; xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34;&gt;
      &lt;dc:title&gt;A Winter Day&lt;/dc:title&gt;
      &lt;dc:creator&gt;Frosty S. Man&lt;/dc:creator&gt;
      &lt;dc:date&gt;21-Dec-2004&lt;/dc:date&gt;
      &lt;dc:description&gt;a sleigh ride&lt;/dc:description&gt;
      &lt;dc:copyright&gt;North Pole Inc.&lt;/dc:copyright&gt;
    &lt;/rdf:Description&gt;
  &lt;/rdf:RDF&gt;
&lt;/xmpMetadata&gt;
 
*/
 
buf := &#39;&lt;xmpMetadata xmlns=&#34;http://xmlns.oracle.com/ord/meta/xmp&#34;
         xsi:schemaLocation=&#34;http://xmlns.oracle.com/ord/meta/xmp
         http://xmlns.oracle.com/ord/meta/xmp&#34;
         xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; &gt;
  &lt;rdf:RDF xmlns:rdf=&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;
  &lt;rdf:Description about=&#34;&#34; xmlns:dc=&#34;http://purl.org/dc/elements/1.1/&#34;&gt;&#39;;
 
IF title IS NOT NULL THEN
  buf := buf || &#39;&lt;dc:title&gt;&#39; || htf.escape_sc(title) || &#39;&lt;/dc:title&gt;&#39;;
END IF;
 
IF creator IS NOT NULL THEN
  buf := buf || &#39;&lt;dc:creator&gt;&#39; || htf.escape_sc(creator)
             || &#39;&lt;/dc:creator&gt;&#39;;
END IF;
IF date IS NOT NULL THEN
  buf := buf || &#39;&lt;dc:date&gt;&#39; || htf.escape_sc(date)
             || &#39;&lt;/dc:date&gt;&#39;;
END IF;
IF description IS NOT NULL THEN
  buf := buf || &#39;&lt;dc:description&gt;&#39; || htf.escape_sc(description)
             || &#39;&lt;/dc:description&gt;&#39;;
END IF;
IF copyright IS NOT NULL THEN
  buf := buf || &#39;&lt;dc:copyright&gt;&#39; || htf.escape_sc(copyright)
             || &#39;&lt;/dc:copyright&gt;&#39;;
END IF;
 
buf := buf || &#39;
  &lt;/rdf:Description&gt;
  &lt;/rdf:RDF&gt;
  &lt;/xmpMetadata&gt;&#39;;

-- create the XML document
xmp := XMLType.createXML(buf, &#39;http://xmlns.oracle.com/ord/meta/xmp&#39;);
 
-- write the metadata
<span class="bold">img.putMetadata( xmp, &#39;XMP&#39; );</span>
 
-- update the image
UPDATE photos
SET image = img,
    metaXMP = xmp
WHERE id = entry_id;
 
END write_Metadata;
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBGEDI"></a>
<div id="IMURG3570" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">6.7</span> Metadata References</h2>
<p><a id="sthref184"></a>The following Web sites provide information about standards and technologies related to working with metadata in images.</p>
<ul>
<li>
<p>Dublin Core, a standard schema for Dublin core elements</p>
<p><code><a href="http://dublincore.org/2003/03/24/dces">http://dublincore.org/2003/03/24/dces</a></code></p>
</li>
<li>
<p>Extensible Metadata Platform (XMP)</p>
<p><code><a href="http://www.adobe.com/">http://www.adobe.com/</a></code></p>
</li>
<li>
<p>Resource Description Framework (See <span class="italic">RDF Primer</span>)</p>
<p><code><a href="http://www.w3.org/RDF/">http://www.w3.org/RDF/</a></code></p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1311">
<tr>
<td class="cellalignment1318">
<table class="cellalignment1316">
<tr>
<td class="cellalignment1315"><a href="ch_imexapp.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1315"><a href="ch_extend.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1320">
<table class="cellalignment1314">
<tr>
<td class="cellalignment1315"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1315"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1315"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1315"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1315"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1315"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
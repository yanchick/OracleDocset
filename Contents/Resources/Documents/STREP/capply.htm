<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-104189"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Implicit%20Apply"></a><title>Configuring Implicit Apply</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1044"/>
<meta name="dcterms.created" content="2015-02-12T7:14:19Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Streams Replication Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E53118-02"/>
<meta name="dcterms.isVersionOf" content="STREP"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="cprop.htm" title="Previous" type="text/html"/>
<link rel="Next" href="instant.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53118-02.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/28</span> <!-- End Header -->
<div id="STREP206" class="chapter"><a id="CHDCACFH"></a>
<h1 class="chapter"><span class="secnum">7</span> Configuring Implicit Apply</h1>
<p>In a replication environment, Oracle Streams apply process dequeues logical change records (LCRs) from a specific queue and either applies each one directly or passes it as a parameter to a user-defined procedure called an apply handler.</p>
<p>The following topics describe configuring implicit apply:</p>
<ul>
<li>
<p><a href="#CHDIFEDF">Overview of Apply Process Creation</a></p>
</li>
<li>
<p><a href="#CHDIBBFH">Creating an Apply Process for Captured LCRs Using DBMS_STREAMS_ADM</a></p>
</li>
<li>
<p><a href="#CHDBGFBH">Creating an Apply Process Using DBMS_APPLY_ADM</a></p>
</li>
</ul>
<p>Each task described in this chapter should be completed by an Oracle Streams administrator that has been granted the appropriate privileges, unless specified otherwise.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a class="olink STRMS004" href="../STRMS/strms_apply.htm#STRMS004"><span class="italic">Oracle Streams Concepts and Administration</span></a></p>
</li>
<li>
<p><a href="prep_rep.htm#BABHEJGG">&#34;Configuring an Oracle Streams Administrator on All Databases&#34;</a></p>
</li>
</ul>
</div>
<a id="CHDIFEDF"></a>
<div id="STREP313" class="sect1">
<h2 class="sect1">Overview of Apply Process Creation<a id="sthref281"></a><a id="sthref282"></a><a id="sthref283"></a></h2>
<p>You can use any of the following procedures to configure an apply process:</p>
<ul>
<li>
<p><a class="olink ARPLS308" href="../ARPLS/d_streams_adm.htm#ARPLS308"><code dir="ltr">DBMS_STREAMS_ADM.ADD_TABLE_RULES</code></a></p>
</li>
<li>
<p><a class="olink ARPLS329" href="../ARPLS/d_streams_adm.htm#ARPLS329"><code dir="ltr">DBMS_STREAMS_ADM.ADD_SUBSET_RULES</code></a></p>
</li>
<li>
<p><a class="olink ARPLS309" href="../ARPLS/d_streams_adm.htm#ARPLS309"><code dir="ltr">DBMS_STREAMS_ADM.ADD_SCHEMA_RULES</code></a></p>
</li>
<li>
<p><a class="olink ARPLS310" href="../ARPLS/d_streams_adm.htm#ARPLS310"><code dir="ltr">DBMS_STREAMS_ADM.ADD_GLOBAL_RULES</code></a></p>
</li>
<li>
<p><a class="olink ARPLS521" href="../ARPLS/d_streams_adm.htm#ARPLS521"><code dir="ltr">DBMS_STREAMS_ADM.ADD_MESSAGE_RULE</code></a></p>
</li>
<li>
<p><a class="olink ARPLS313" href="../ARPLS/d_apply.htm#ARPLS313"><code dir="ltr">DBMS_APPLY_ADM.CREATE_APPLY</code></a></p>
</li>
</ul>
<p>Each of the procedures in the <code dir="ltr">DBMS_STREAMS_ADM</code> package creates an apply process with the specified name if it does not already exist, creates either a positive rule set or negative rule set for the apply process if the apply process does not have such a rule set, and can add table rules, schema rules, global rules, or a message rule to the rule set.</p>
<p>The <code dir="ltr">CREATE_APPLY</code> procedure in the <code dir="ltr">DBMS_APPLY_ADM</code> package creates an apply process, but does not create a rule set or rules for the apply process. However, the <code dir="ltr">CREATE_APPLY</code> procedure enables you to specify an existing rule set to associate with the apply process, either as a positive or a negative rule set, and several other options, such as apply handlers, an apply user, an apply tag, and whether to dequeue messages from a buffered queue or a persistent queue.</p>
<p>A single apply process must either dequeue messages from a buffered queue or a persistent queue. Logical change records that were captured by a capture process are called captured LCRs, and they are always in buffered queues. Therefore, if a single apply process applies LCRs that were captured by a capture process, then it cannot apply persistent LCRs or persistent user messages.</p>
<p>Alternatively, LCRs that were captured by a synchronous capture are persistent LCRs, and they are always in persistent queues. Therefore, if a single apply process applies LCRs that were captured by a synchronous capture, then it cannot apply LCRs captured by a capture process. However, a single apply process can apply both persistent LCRs and persistent user messages because both types of messages are staged in a persistent queue.</p>
<p>The examples in this chapter create apply processes that apply captured LCRs, persistent LCRs, and persistent user messages. Before you create an apply process, create an <code dir="ltr">ANYDATA</code> queue to associate with the apply process, if one does not exist.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>You can configure an entire Oracle Streams environment, including apply processes, using procedures in the <code dir="ltr">DBMS_STREAMS_ADM</code> package or Oracle Enterprise Manager Cloud Control. See <a href="config_simple.htm#CACFECJJ">Chapter 2, &#34;Simple Oracle Streams Replication Configuration&#34;</a>.</p>
</li>
<li>
<p>Depending on the configuration of the apply process you create, supplemental logging might be required at the source database on columns in the tables for which an apply process applies changes. See <a href="prep_rep.htm#i1008208">&#34;Specifying Supplemental Logging&#34;</a>.</p>
</li>
<li>
<p><a class="olink STRMS103" href="../STRMS/strms_apply.htm#STRMS103"><span class="italic">Oracle Streams Concepts and Administration</span></a> for more information about the captured LCRs and persistent LCRs</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDHFHFF"></a>
<div id="STREP314" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Preparing to Create an Apply Process</h2>
<p>The following tasks must be completed before you create an apply:</p>
<ul>
<li>
<p>Complete the following tasks in <a href="prep_rep.htm#CACGBCIB">&#34;Tasks to Complete Before Configuring Oracle Streams Replication&#34;</a>.</p>
<ul>
<li>
<p><a href="prep_rep.htm#BABHEJGG">&#34;Configuring an Oracle Streams Administrator on All Databases&#34;</a></p>
</li>
<li>
<p><a href="prep_rep.htm#BABFJJIH">&#34;Setting Initialization Parameters Relevant to Oracle Streams&#34;</a></p>
</li>
<li>
<p><a href="prep_rep.htm#BABBFJEB">&#34;Configuring the Oracle Streams Pool&#34;</a></p>
</li>
</ul>
</li>
<li>
<p>Create an <code dir="ltr">ANYDATA</code> queue to associate with the apply process, if one does not exist. See <a href="cprop.htm#i1006170">&#34;Creating an ANYDATA Queue&#34;</a> for instructions. The examples in this chapter assume that the queue used by the apply process is <code dir="ltr">strmadmin.streams_queue</code>. Create the queue on the same database that will run the apply process.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CHDIBBFH"></a>
<div id="STREP315" class="sect1">
<h2 class="sect1">Creating an Apply Process for Captured LCRs Using DBMS_STREAMS_ADM</h2>
<p>The following example runs the <code dir="ltr">ADD_SCHEMA_RULES</code> procedure in the <code dir="ltr">DBMS_STREAMS_ADM</code> package to create an apply process that applies captured logical change records (LCRs). This apply process can apply LCRs that were captured by a capture process.</p>
<p>Complete the following steps:</p>
<ol>
<li>
<p>Complete the tasks in <a href="#CHDHFHFF">&#34;Preparing to Create an Apply Process&#34;</a>.</p>
</li>
<li>
<p>In SQL*Plus, connect to the database that will run the apply process as the Oracle Streams administrator.</p>
<p>See <a class="olink ADMIN00102" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for instructions about connecting to a database in SQL*Plus.</p>
</li>
<li>
<p>Create the apply process:</p>
<pre dir="ltr">BEGIN
  DBMS_STREAMS_ADM.ADD_SCHEMA_RULES(
    schema_name        =&gt; &#39;hr&#39;,
    streams_type       =&gt; &#39;apply&#39;,
    streams_name       =&gt; &#39;strm01_apply&#39;,
    queue_name         =&gt; &#39;strmadmin.streams_queue&#39;,
    include_dml        =&gt; TRUE,
    include_ddl        =&gt; FALSE,
    include_tagged_lcr =&gt; FALSE,
    source_database    =&gt; &#39;dbs1.example.com&#39;,
    inclusion_rule     =&gt; TRUE);
END;
/
</pre>
<p>Running this procedure performs the following actions:</p>
<ul>
<li>
<p>Creates an apply process named <code dir="ltr">strm01_apply</code> that applies captured LCRs to the local database. The apply process is created only if it does not already exist.</p>
</li>
<li>
<p>Associates the apply process with the existing queue <code dir="ltr">strmadmin.streams_queue</code>. This queue must exist.</p>
</li>
<li>
<p>Creates a positive rule set and associates it with the apply process, if the apply process does not have a positive rule set, because the <code dir="ltr">inclusion_rule</code> parameter is set to <code dir="ltr">TRUE</code>. The rule set uses the <code dir="ltr">SYS.STREAMS$_EVALUATION_CONTEXT</code> evaluation context. The rule set name is system generated.</p>
</li>
<li>
<p>Creates one rule that evaluates to <code dir="ltr">TRUE</code> for row LCRs that contain the results of data manipulation language (DML) changes to database objects in the <code dir="ltr">hr</code> schema. The rule name is system generated.</p>
</li>
<li>
<p>Adds the rule to the positive rule set associated with the apply process because the <code dir="ltr">inclusion_rule</code> parameter is set to <code dir="ltr">TRUE</code>.</p>
</li>
<li>
<p>Sets the <code dir="ltr">apply_tag</code> for the apply process to a value that is the hexadecimal equivalent of <code dir="ltr">&#39;00&#39;</code> (double zero). This is the default apply tag value. Redo entries generated by the apply process have a tag with this value.</p>
</li>
<li>
<p>Specifies that the apply process applies a row LCR only if it has a <code dir="ltr">NULL</code> tag, because the <code dir="ltr">include_tagged_lcr</code> parameter is set to&nbsp;<code dir="ltr">FALSE</code>. This behavior is accomplished through the system-created rule for the apply process.</p>
</li>
<li>
<p>Specifies that the LCRs applied by the apply process originate at the <code dir="ltr">dbs1.example.com</code> source database. The rules in the apply process rule sets determine which LCRs are dequeued by the apply process. If the apply process dequeues an LCR with a source database other than <code dir="ltr">dbs1.example.com</code>, then an error is raised.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CHDBGFBH"></a>
<div id="STREP316" class="sect1">
<h2 class="sect1">Creating an Apply Process Using DBMS_APPLY_ADM</h2>
<p>This section contains the following examples that create an apply process using the <code dir="ltr">DBMS_APPLY_ADM</code> package:</p>
<ul>
<li>
<p><a href="#i1010531">Creating an Apply Process for Captured LCRs with DBMS_APPLY_ADM</a></p>
</li>
<li>
<p><a href="#CHDCEDIG">Creating an Apply Process for Persistent LCRs with DBMS_APPLY_ADM</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="hetero.htm#CHDIBIDC">&#34;Change Apply in an Oracle to Non-Oracle Environment&#34;</a> for information about configuring an apply process to apply messages to a non-Oracle database using the <code dir="ltr">apply_database_link</code> parameter</p>
</li>
<li>
<p><a class="olink STRMS175" href="../STRMS/strms_apply.htm#STRMS175"><span class="italic">Oracle Streams Concepts and Administration</span></a></p>
</li>
</ul>
</div>
<a id="i1010531"></a>
<div id="STREP317" class="sect2">
<h3 class="sect2">Creating an Apply Process for Captured LCRs with DBMS_APPLY_ADM</h3>
<p>The following example runs the <code dir="ltr">CREATE_APPLY</code> procedure in the <code dir="ltr">DBMS_APPLY_ADM</code> package to create an apply process that applies captured logical change records (LCRs). This apply process can apply LCRs that were captured by a capture process.</p>
<p>Complete the following steps:</p>
<ol>
<li>
<p>Complete the tasks in <a href="#CHDHFHFF">&#34;Preparing to Create an Apply Process&#34;</a>.</p>
</li>
<li>
<p>In SQL*Plus, connect to the database that will run the apply process as the Oracle Streams administrator.</p>
<p>Ensure that the Oracle Streams administrator is granted <code dir="ltr">DBA</code> role. <code dir="ltr">DBA</code> role is required because this example sets the apply user to a user other than the Oracle Streams administrator.</p>
<p>See <a class="olink ADMIN00102" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for instructions about connecting to a database in SQL*Plus.</p>
</li>
<li>
<p>Create the rule set that will be used by the apply process if it does not exist. In this example, assume that the rule set is <code dir="ltr">strmadmin.strm02_rule_set</code>. Optionally, you can also add rules to the rule set. See <a class="olink STRMS012" href="../STRMS/strms_mrules.htm#STRMS012"><span class="italic">Oracle Streams Concepts and Administration</span></a> for instructions.</p>
</li>
<li>
<p>Create any apply handlers that will be used by the apply process if they do not exist. In this example, assume that the DDL handler is the <code dir="ltr">strmadmin.history_ddl</code> procedure. An example in the <a class="olink STRMS206" href="../STRMS/strms_mapply.htm#STRMS206"><span class="italic">Oracle Streams Concepts and Administration</span></a> creates this procedure.</p>
</li>
<li>
<p>Create the apply process:</p>
<pre dir="ltr">BEGIN
  DBMS_APPLY_ADM.CREATE_APPLY(
    queue_name             =&gt; &#39;strmadmin.streams_queue&#39;,
    apply_name             =&gt; &#39;strm02_apply&#39;,
    rule_set_name          =&gt; &#39;strmadmin.strm02_rule_set&#39;,
    message_handler        =&gt; NULL,     
    ddl_handler            =&gt; &#39;strmadmin.history_ddl&#39;,
    apply_user             =&gt; &#39;hr&#39;,
    apply_database_link    =&gt; NULL,
    apply_tag              =&gt; HEXTORAW(&#39;5&#39;),
    apply_captured         =&gt; TRUE,
    precommit_handler      =&gt; NULL,
    negative_rule_set_name =&gt; NULL,
    source_database        =&gt; &#39;dbs1.example.com&#39;);
END;
/
</pre>
<p>Running this procedure performs the following actions:</p>
<ul>
<li>
<p>Creates an apply process named <code dir="ltr">strm02_apply</code>. An apply process with the same name must not exist.</p>
</li>
<li>
<p>Associates the apply process with the queue <code dir="ltr">strmadmin.streams_queue</code>. This queue must exist.</p>
</li>
<li>
<p>Associates the apply process with the rule set <code dir="ltr">strmadmin.strm02_rule_set</code>. This rule set must exist. This rule set is the positive rule set for the apply process.</p>
</li>
<li>
<p>Specifies that the apply process does not use a message handler.</p>
</li>
<li>
<p>Specifies that the DDL handler is the <code dir="ltr">history_ddl</code> PL/SQL procedure in the <code dir="ltr">strmadmin</code> schema. This procedure must exist, and the user who runs the <code dir="ltr">CREATE_APPLY</code> procedure must have <code dir="ltr">EXECUTE</code> privilege on the <code dir="ltr">history_ddl</code> PL/SQL procedure.</p>
</li>
<li>
<p>Specifies that the user who applies changes is <code dir="ltr">hr</code>, and not the user who is running the <code dir="ltr">CREATE_APPLY</code> procedure (the Oracle Streams administrator).</p>
</li>
<li>
<p>Specifies that the apply process applies changes to the local database because the <code dir="ltr">apply_database_link</code> parameter is set to <code dir="ltr">NULL</code>.</p>
</li>
<li>
<p>Specifies that each redo entry generated by the apply process has a tag that is the hexadecimal equivalent of <code dir="ltr">&#39;5&#39;</code>. See <a href="rep_tags.htm#g1014437">Chapter 10, &#34;Oracle Streams Tags&#34;</a> for more information about tags.</p>
</li>
<li>
<p>Specifies that the apply process applies captured LCRs, not persistent LCRs or persistent user messages. Therefore, if an LCR that was constructed by a synchronous capture or a user application, not by a capture process, and is staged in the queue for the apply process, then this apply process does not dequeue the LCR.</p>
</li>
<li>
<p>Specifies that the apply process does not use a precommit handler.</p>
</li>
<li>
<p>Specifies that the apply process does not use a negative rule set.</p>
</li>
<li>
<p>Specifies that the LCRs applied by the apply process originate at the <code dir="ltr">dbs1.example.com</code> source database. The rules in the apply process rule sets determine which LCRs are dequeued by the apply process. If the apply process dequeues an LCR with a source database other than <code dir="ltr">dbs1.example.com</code>, then an error is raised.</p>
</li>
</ul>
</li>
</ol>
<p>After creating the apply process, run the <code dir="ltr">ADD_TABLE_RULES</code> or <code dir="ltr">ADD_SUBSET_RULES</code> procedure to add rules to the apply process rule set. These rules direct the apply process to apply LCRs for the specified tables.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS006" href="../STRMS/strms_rules.htm#STRMS006"><span class="italic">Oracle Streams Concepts and Administration</span></a> for more information about rules</div>
</div>
<!-- class="sect2" -->
<a id="CHDCEDIG"></a>
<div id="STREP318" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating an Apply Process for Persistent LCRs with DBMS_APPLY_ADM</h3>
<p>The following example runs the <code dir="ltr">CREATE_APPLY</code> procedure in the <code dir="ltr">DBMS_APPLY_ADM</code> package to create an apply process that applies persistent logical change records (LCRs). This apply process can apply LCRs that were captured by a synchronous capture or constructed by an application.</p>
<p>Complete the following steps:</p>
<ol>
<li>
<p>Complete the tasks in <a href="#CHDHFHFF">&#34;Preparing to Create an Apply Process&#34;</a>.</p>
</li>
<li>
<p>In SQL*Plus, connect to the database that will run the apply process as the Oracle Streams administrator.</p>
<p>See <a class="olink ADMIN00102" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for instructions about connecting to a database in SQL*Plus.</p>
</li>
<li>
<p>Create the rule set that will be used by the apply process if it does not exist. In this example, assume that the rule set is <code dir="ltr">strmadmin.strm03_rule_set</code>. Optionally, you can also add rules to the rule set. See <a class="olink STRMS012" href="../STRMS/strms_mrules.htm#STRMS012"><span class="italic">Oracle Streams Concepts and Administration</span></a> for instructions.</p>
</li>
<li>
<p>Create any apply handlers that will be used by the apply process if they do not exist. The apply process created in this example does not used apply handlers.</p>
</li>
<li>
<p>Create the apply process:</p>
<pre dir="ltr">BEGIN
  DBMS_APPLY_ADM.CREATE_APPLY(
    queue_name             =&gt; &#39;strmadmin.streams_queue&#39;,
    apply_name             =&gt; &#39;strm03_apply&#39;,
    rule_set_name          =&gt; &#39;strmadmin.strm03_rule_set&#39;,
    message_handler        =&gt; NULL,
    ddl_handler            =&gt; NULL,
    apply_user             =&gt; NULL,
    apply_database_link    =&gt; NULL,
    apply_tag              =&gt; NULL,
    apply_captured         =&gt; FALSE,
    precommit_handler      =&gt; NULL,
    negative_rule_set_name =&gt; NULL);
END;
/
</pre>
<p>Running this procedure performs the following actions:</p>
<ul>
<li>
<p>Creates an apply process named <code dir="ltr">strm03_apply</code>. An apply process with the same name must not exist.</p>
</li>
<li>
<p>Associates the apply process with the queue named <code dir="ltr">strmadmin.streams_queue</code>. This queue must exist.</p>
</li>
<li>
<p>Associates the apply process with the rule set <code dir="ltr">strmadmin.strm03_rule_set</code>. This rule set must exist. This rule set is the positive rule set for the apply process.</p>
</li>
<li>
<p>Specifies that the apply process does not use a message handler.</p>
</li>
<li>
<p>Specifies that the apply process does not use a DDL handler.</p>
</li>
<li>
<p>Specifies that the user who applies the changes is the user who runs the <code dir="ltr">CREATE_APPLY</code> procedure, because the <code dir="ltr">apply_user</code> parameter is <code dir="ltr">NULL</code>.</p>
</li>
<li>
<p>Specifies that the apply process applies changes to the local database, because the <code dir="ltr">apply_database_link</code> parameter is set to <code dir="ltr">NULL</code>.</p>
</li>
<li>
<p>Specifies that each redo entry generated by the apply process has a <code dir="ltr">NULL</code> tag. See <a href="rep_tags.htm#g1014437">Chapter 10, &#34;Oracle Streams Tags&#34;</a> for more information about tags.</p>
</li>
<li>
<p>Specifies that the apply process does not apply captured LCRs. Therefore, the apply process can apply persistent LCRs or persistent user messages that are in the persistent queue portion of the apply process&#39;s queue.</p>
</li>
<li>
<p>Specifies that the apply process does not use a precommit handler.</p>
</li>
<li>
<p>Specifies that the apply process does not use a negative rule set.</p>
</li>
</ul>
</li>
</ol>
<p>After creating the apply process, run the <code dir="ltr">ADD_TABLE_RULES</code> or <code dir="ltr">ADD_SUBSET_RULES</code> procedure to add rules to the apply process rule set. These rules direct the apply process to apply LCRs for the specified tables.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STRMS006" href="../STRMS/strms_rules.htm#STRMS006"><span class="italic">Oracle Streams Concepts and Administration</span></a> for more information about rules</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment91">
<tr>
<td class="cellalignment98">
<table class="cellalignment96">
<tr>
<td class="cellalignment95"><a href="cprop.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment95"><a href="instant.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment100">
<table class="cellalignment94">
<tr>
<td class="cellalignment95"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment95"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment95"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment95"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment95"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment95"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
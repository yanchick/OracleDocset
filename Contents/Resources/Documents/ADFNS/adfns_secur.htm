<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-84"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Security"></a><title>Security</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1080"/>
<meta name="dcterms.created" content="2016-05-05T16:23:33Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Development Guide"/>
<meta name="dcterms.identifier" content="E41452-07"/>
<meta name="dcterms.isVersionOf" content="ADFNS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="adfns_perf_scale.htm" title="Previous" type="text/html"/>
<link rel="Next" href="adfns_avail.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41452-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">11/38</span> <!-- End Header -->
<div id="ADFNS230" class="chapter"><a id="BABFHBAF"></a>
<h1 class="chapter"><span class="secnum">3</span> Security</h1>
<p>This chapter explains some fundamentals of designing security into the database and database applications.</p>
<p class="subhead2"><a id="ADFNS518"></a>Topics:</p>
<ul>
<li>
<p><a href="#BABBIJHG">Enabling User Access with Grants, Roles, and Least Privilege</a></p>
</li>
<li>
<p><a href="#BABGICDJ">Automating Database Logins</a></p>
</li>
<li>
<p><a href="#BABEHHCJ">Controlling User Access with Fine-Grained Access Control</a></p>
</li>
<li>
<p><a href="#BABJHACI">Using Invoker&#39;s and Definer&#39;s Rights for Procedures and Functions</a></p>
</li>
<li>
<p><a href="#BABEIHGG">Managing External Procedures for Your Applications</a></p>
</li>
<li>
<p><a href="#BABBGCFC">Auditing User Activity</a></p>
</li>
</ul>
<a id="BABBIJHG"></a>
<div id="ADFNS519" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.1</span> Enabling User Access with Grants, Roles, and Least Privilege</h2>
<p>This topic explains how you can grant privileges and roles to users to restrict access to data. It also explains the importance of the concept of least privilege, introduces secure application roles as a way to automatically filter out users who attempt to log in to your applications.</p>
<p>A user<a id="sthref87"></a><a id="sthref88"></a> <span class="bold">privilege</span> is the right to perform an action, such as updating or deleting data. You can grant users privileges to perform these actions. A<a id="sthref89"></a><a id="sthref90"></a> <span class="bold">role</span> <a id="sthref91"></a>is named collection of privileges that are grouped together, usually to enable users to perform a set of tasks related to their jobs. For example, a role called <code dir="ltr">clerk</code> can enable clerks to do things like create, update, and delete files. The <code dir="ltr">clerk_mgr</code> role can include the <code dir="ltr">clerk</code> role, plus some additional privileges such as approving the clerks&#39; expense reports or managing their performance appraisals.</p>
<p>When you grant privileges to users, apply the principle of least privilege: <span class="italic">Grant users only the privileges that they need</span>. If possible, do not directly grant the user a privilege. Instead, create a role that defines the set of privileges the user needs and then grant the user this role. For example, grant user <code dir="ltr">fred</code> the <code dir="ltr">CREATE SESSION</code> privilege so that he can log in to a database session. But for the privileges that he needs for his job, such as the <code dir="ltr">UPDATE TABLE</code> privilege, grant him a role that has those privileges.</p>
<p>You can design your applications to automatically grant a role to the user who is trying to log in, provided the user meets criteria that you specify. To do so, you create a <span class="bold">secure application role</span>, <a id="sthref92"></a><a id="sthref93"></a>which <a id="sthref94"></a>is a role that is associated with a PL/SQL procedure (or PL/SQL package that contains multiple procedures). The procedure validates the user: if the user fails the validation, then the user cannot log in. If the user passes the validation, then the procedure grants the user a role so that he or she can use the application. The user has this role only while he or she is logged in to the application. When the user logs out, the role is revoked.</p>
<p><a href="#BABCBGJE">Example 3-1</a> shows a secure application role procedure that allows the user to log in during business hours (8 a.m. to 5 p.m.) from a specific set of work stations. If the user passes these checks, then the user is granted the <code dir="ltr">hr_admin</code> role and then is able to log in to the application.</p>
<div id="ADFNS520" class="example">
<p class="titleinexample"><a id="BABCBGJE"></a>Example 3-1 Secure Application Role Procedure to Restrict Access to Business Hours</p>
<pre dir="ltr">CREATE OR REPLACE PROCEDURE hr_admin_role_check
 AUTHID CURRENT_USER 
 AS 
 BEGIN 
  IF (SYS_CONTEXT (&#39;userenv&#39;,&#39;ip_address&#39;) 
    BETWEEN &#39;192.0.2.10&#39; and &#39;192.0.2.20&#39;
     AND
    TO_CHAR (SYSDATE, &#39;HH24&#39;) BETWEEN 8 AND 17)
  THEN
    EXECUTE IMMEDIATE &#39;SET ROLE hr_admin&#39;; 
  END IF;
 END;
/
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DBSEG004" href="../DBSEG/authorization.htm#DBSEG004"><span class="italic">Oracle Database Security Guide</span></a> more information about privilege and role authorization</p>
</li>
<li>
<p><a class="olink DBSEG524" href="../DBSEG/authorization.htm#DBSEG524"><span class="italic">Oracle Database Security Guide</span></a> more information about secure application roles</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABGICDJ"></a>
<div id="ADFNS521" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.2</span> Automating Database Logins</h2>
<p>You can <a id="sthref95"></a><a id="sthref96"></a>automate <a id="sthref97"></a>database logins. To do so, you create a logon trigger to run a PL/SQL procedure that can validate a user who is attempting to log in to an application. When the user logs in, the trigger executes. Logon triggers can perform multiple actions, such as generating an alert if the user fails the validation, displaying error messages, and so on.</p>
<p><a href="#BABHBFAG">Example 3-2</a> shows a simple logon trigger that executes a PL/SQL procedure.</p>
<div id="ADFNS522" class="example">
<p class="titleinexample"><a id="BABHBFAG"></a>Example 3-2 Creating a Logon Trigger</p>
<pre dir="ltr">CREATE OR REPLACE TRIGGER run_logon_trig AFTER LOGON ON DATABASE
 BEGIN
  sec_mgr.check_user_proc;
 END;
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink LNPLS01374" href="../LNPLS/create_trigger.htm#LNPLS01374"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for detailed information about the <code dir="ltr">CREATE TRIGGER</code> statement</p>
</li>
<li>
<p><a class="olink DBSEG60634" href="../DBSEG/app_context.htm#DBSEG60634"><span class="italic">Oracle Database Security Guide</span></a> for information about how to create a logon trigger that runs a database session application context package</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABEHHCJ"></a>
<div id="ADFNS523" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.3</span> Controlling User Access with Fine-Grained Access Control</h2>
<p>There are <a id="sthref98"></a>several<a id="sthref99"></a> ways that you can control the level of access users have to data from your applications.</p>
<ul>
<li>
<p><span class="bold">Oracle Virtual Private Database (VPD):</span> <a id="sthref100"></a><a id="sthref101"></a>VPD enables you to create policies that can restrict database access at the row and column level. Essentially, VPD adds a dynamic <code dir="ltr">WHERE</code> clause to a SQL statement that is issued against the table, view, or synonym to which an VPD security policy was applied.</p>
<p>For example, suppose the user enters the <code dir="ltr">SELECT * FROM OE.ORDERS</code> statement. A VPD policy can transform this statement to the following statement instead, so that only the sales representative who owns the order can view this data:</p>
<pre dir="ltr">SELECT * FROM OE.ORDERS 
 WHERE SALES_REP_ID = SYS_CONTEXT(&#39;USERENV&#39;,&#39;SESSION_USER&#39;); 
</pre></li>
<li>
<p><span class="bold">Oracle Data Redaction:</span> <a id="sthref102"></a><a id="sthref103"></a>Oracle Data Redaction masks data at run time, at the moment the user attempts to access the data (that is, at query-execution time). This solution works well in a dynamic production system in which data is constantly changing. During the time that the data is being redacted, all data processing is performed normally, and the back-end referential integrity constraints are preserved. You typically redact sensitive data, such as credit card or Social Security numbers.</p>
<p>You can mask the data in the following ways:</p>
<ul>
<li>
<p><span class="bold">Full redaction, in which the entire data is masked.</span> For example, the number 37828224 can be displayed as a zero.</p>
</li>
<li>
<p><span class="bold">Partial redaction, in which only a portion of the data is redacted.</span> With this type, the number 37828224 can be displayed as *****224.</p>
</li>
<li>
<p><span class="bold">Random redaction, in which the data is displayed as randomized data.</span> Here, the number 37828224 can appear as 93204857.</p>
</li>
<li>
<p><span class="bold">Regular expressions, in which you redact data based on a search pattern.</span> You can use regular expressions in both full and partial redaction. For example, you can redact the user name of email addresses, so that only the domain shows: <code dir="ltr">jsmith</code> in the email address <code dir="ltr">jsmith@example.com</code> can be replaced with <code dir="ltr">[redacted]</code> so that the email address appears as <code dir="ltr">[redacted]@example.com</code>.</p>
</li>
<li>
<p><span class="bold">No redaction, which enables you to test the internal operation of your redaction policies, with no effect on the results of queries against tables with policies defined on them.</span> You can use this option to test the redaction policy definitions before applying them to a production environment.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Oracle Label Security:</span> <a id="sthref104"></a><a id="sthref105"></a>Oracle Label Security secures your database tables at the row level, and assigns these rows different levels of security based on the needs of your site. Rows that contain highly sensitive data can be assigned a label entitled <code dir="ltr">HIGHLY SENSITIVE</code>; rows that are less sensitive can be labeled as <code dir="ltr">SENSITIVE</code>, and so on. Rows that all users can have access to can be labeled <code dir="ltr">PUBLIC</code>. You can create as many labels as you need, to fit your site&#39;s security requirements.</p>
<p>For example, when user <code dir="ltr">fred</code>, who is a low-level employee, logs in, he would see only data that is available to all users, as defined by the <code dir="ltr">PUBLIC</code> label. Yet when his director, <code dir="ltr">hortensia</code>, logs in, she can see all the sensitive data that has been assigned the <code dir="ltr">HIGHLY SENSITIVE</code> label.</p>
</li>
<li>
<p><span class="bold">Oracle Database Vault:</span> <a id="sthref106"></a><a id="sthref107"></a>Oracle Database Vault enables you to restrict <a id="sthref108"></a>administrative access to your data. By default, administrators (such as user <code dir="ltr">SYS</code> with the <code dir="ltr">SYSDBA</code> privilege) have access to all data in the database. Administrators typically must perform tasks such performance tuning, backup and recovery, and so on. However, they do not need access to your salary records. Database Vault enables you to create policies that restrict the administrator&#39;s actions yet not prevent him or her from performing normal administrative activities.</p>
<p>A typical Database Vault policy could, for example, prevent an administrator from accessing and modifying the <code dir="ltr">HR.EMPLOYEES</code> table. You can create fine-tuned policies that impose restrictions such as limiting the hours the administrator can log in, which computers he can use, whether he can log in to the database using dynamic tools, and so on. Furthermore, you can create policies that generate alerts if the administrator tries to violate a policy.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DBSEG007" href="../DBSEG/vpd.htm#DBSEG007"><span class="italic">Oracle Database Security Guide</span></a> for more information about Oracle Virtual Private Database</p>
</li>
<li>
<p><a class="olink ASOAG10135" href="../ASOAG/asopart2.htm#ASOAG10135"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about Oracle Data Redaction</p>
</li>
<li>
<p><a class="olink OLSAG" href="../OLSAG/toc.htm"><span class="italic">Oracle Label Security Administrator&#39;s Guide</span></a> for more information about Oracle Label Security</p>
</li>
<li>
<p><a class="olink DVADM" href="../DVADM/toc.htm">Oracle Database Vault Administrator&#39;s Guide</a> for more information about Oracle Database Vault</p>
</li>
<li>
<p><a class="olink TDPSG" href="../TDPSG/toc.htm"><span class="italic">Oracle Database 2 Day + Security Guide</span></a> for tutorials on all of these fine-grained access control features</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABJHACI"></a>
<div id="ADFNS524" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.4</span> Using Invoker&#39;s and Definer&#39;s Rights for Procedures and Functions</h2>
<p class="subhead2"><a id="ADFNS525"></a>Topics:</p>
<ul>
<li>
<p><a href="#BABFHAJC">What Are Invoker&#39;s Rights and Definer&#39;s Rights?</a></p>
</li>
<li>
<p><a href="#BABIIBEH">Protecting Users Who Run Invoker&#39;s Rights Procedures and Functions</a></p>
</li>
<li>
<p><a href="#BABGAJIE">How Default Rights Are Handled for Java Stored Procedures</a></p>
</li>
</ul>
<a id="BABFHAJC"></a>
<div id="ADFNS526" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">3.4.1</span> What Are Invoker&#39;s Rights and Definer&#39;s Rights?</h3>
<p>When <a id="sthref109"></a><a id="sthref110"></a><a id="sthref111"></a>you create a procedure or function (that is, a program unit), you can design it so that it runs with either the privileges of the owner (you) or the privileges of the person who is invoking it. Definer&#39;s rights run the program unit using the owner&#39;s privileges and invoker&#39;s rights run the program unit using the privileges of the person who runs it. For example, suppose user <code dir="ltr">harold</code> creates a procedure that updates the table <code dir="ltr">orders</code>. User <code dir="ltr">harold</code> then grants the <code dir="ltr">EXECUTE</code> privilege on this procedure to user <code dir="ltr">hazel</code>. If <code dir="ltr">harold</code> had created the procedure with definer&#39;s rights, then the procedure would expect the <code dir="ltr">orders</code> table to be in <code dir="ltr">harold</code>&#39;s schema. If he created it with invoker&#39;s rights, then the procedure would look for the orders table in <code dir="ltr">hazel</code>&#39;s schema.</p>
<p>To designate a program unit as definer&#39;s rights or invokers rights, use the <code dir="ltr">AUTHID</code> clause in the creation statement. If you omit the <code dir="ltr">AUTHID</code> clause, then the program unit is created with definer&#39;s rights.</p>
<p><a href="#BABDCIIF">Example 3-3</a> shows how to use the <code dir="ltr">AUTHID</code> clause in a <code dir="ltr">CREATE PROCEDURE</code> statement to specify definer&#39;s rights or invoker&#39;s rights.</p>
<div id="ADFNS527" class="example">
<p class="titleinexample"><a id="BABDCIIF"></a>Example 3-3 Creating Program Units with Definer&#39;s Rights or Invoker&#39;s Rights</p>
<pre dir="ltr">CREATE PROCEDURE my_def_proc AUTHID DEFINER -- Definer&#39;s rights procedure
  AS ...

CREATE PROCEDURE my_inv_proc AUTHID CURRENT_USER -- Invoker&#39;s rights procedure
  AS ...
</pre></div>
<!-- class="example" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink LNPLS00809" href="../LNPLS/subprograms.htm#LNPLS00809"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for details about definer&#39;s rights and invoker&#39;s rights procedures and functions</p>
</li>
<li>
<p><a class="olink LNPLS01373" href="../LNPLS/create_procedure.htm#LNPLS01373"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for details about the <code dir="ltr">CREATE PROCEDURE</code> statement</p>
</li>
<li>
<p><a class="olink LNPLS01370" href="../LNPLS/create_function.htm#LNPLS01370"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for details about the <code dir="ltr">CREATE FUNCTION</code> statement</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABIIBEH"></a>
<div id="ADFNS528" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">3.4.2</span> Protecting Users Who Run Invoker&#39;s Rights Procedures and Functions</h3>
<p>An <a id="sthref112"></a><a id="sthref113"></a>important consideration when you create an invoker&#39;s rights program unit is the level of privilege that the invoking users have. Suppose user <code dir="ltr">harold</code> is a low-ranking employee who has few privileges and <code dir="ltr">hazel</code> is an executive with many privileges. When <code dir="ltr">hazel</code> runs <code dir="ltr">harold</code>&#39;s invoker&#39;s rights procedure, the procedure temporarily inherits <code dir="ltr">hazel</code>&#39;s privileges (all of them). But because <code dir="ltr">harold</code> owns this procedure, he can modify it without her knowing it to behave in ways that take advantage of <code dir="ltr">hazel</code>&#39;s privileges, such as giving <code dir="ltr">harold</code> a raise. To help safeguard against this type of scenario, after she has ensured that <code dir="ltr">harold</code> is trustworthy, user <code dir="ltr">hazel</code> can grant <code dir="ltr">harold</code> permission so that his invoker&#39;s rights procedures and functions have access to <code dir="ltr">hazel</code>&#39;s privileges when she runs them. To do so, she must grant him the <code dir="ltr">INHERIT PRIVILEGES</code> privilege.</p>
<p><a href="#BABHFFED">Example 3-4</a> shows how invoking user <code dir="ltr">hazel</code> can grant user <code dir="ltr">harold</code> the<a id="sthref114"></a><a id="sthref115"></a> <code dir="ltr">INHERIT PRIVILEGES</code> privilege</p>
<div id="ADFNS529" class="example">
<p class="titleinexample"><a id="BABHFFED"></a>Example 3-4 Granting a Program Unit Creating the INHERIT PRIVILEGES Privilege</p>
<pre dir="ltr">GRANT INHERIT PRIVILEGES ON hazel TO harold;
</pre></div>
<!-- class="example" -->
<p>If <code dir="ltr">harold</code> proves untrustworthy, <code dir="ltr">hazel</code> can revoke the <code dir="ltr">INHERIT PRIVILEGES</code> privilege from him.</p>
<p>Administrators such as user <code dir="ltr">SYS</code> and <code dir="ltr">SYSTEM</code> have the <code dir="ltr">INHERIT ANY PRIVILEGES</code> privilege<a id="sthref116"></a><a id="sthref117"></a>, which enable these users&#39; invoker&#39;s rights procedures to have access to the privileges of any invoking users. As with all <code dir="ltr">ANY</code> privileges, grant this privilege only to trusted users.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBSEG658" href="../DBSEG/dr_ir.htm#DBSEG658"><span class="italic">Oracle Database Security Guide</span></a> for more information about managing security for definer&#39;s rights and invoker&#39;s rights procedures and functions</div>
</div>
<!-- class="sect2" -->
<a id="BABGAJIE"></a>
<div id="ADFNS530" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">3.4.3</span> How Default Rights Are Handled for Java Stored Procedures</h3>
<p>By <a id="sthref118"></a><a id="sthref119"></a>default, <a id="sthref120"></a><a id="sthref121"></a>Java class schema objects run with the privileges of their invoker, not with definer&#39;s rights. If you want your Java schema objects to run with definer&#39;s rights, then when you load them by using the <code dir="ltr">loadjava</code> tool, specify the <code dir="ltr">-definer</code> option.</p>
<p><a href="#BABJJHFC">Example 3-5</a> shows how to use the <code dir="ltr">-definer</code> option in a <code dir="ltr">loadjava</code> command.</p>
<div id="ADFNS531" class="example">
<p class="titleinexample"><a id="BABJJHFC"></a>Example 3-5 Loading a Java Class with Definer&#39;s Rights</p>
<pre dir="ltr">loadjava -u joe -resolve -schema TEST -definer ServerObjects.jar
Password: <span class="italic">password</span>
</pre></div>
<!-- class="example" -->
<p>You can use the <code dir="ltr">-definer</code> option on individual classes. Be aware that different definers may have different privileges. Apply the <code dir="ltr">-definer</code> option with care, so that you can achieve the desired results. Doing so helps to ensure that your classes run with no more than the privileges that they need.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink JJDEV10060" href="../JJDEV/cheleven.htm#JJDEV10060"><span class="italic">Oracle Database Java Developer&#39;s Guide</span></a> for detailed information about the <code dir="ltr">loadjava</code> tool</p>
</li>
<li>
<p><a class="olink JJDEV13085" href="../JJDEV/chtwo.htm#JJDEV13085"><span class="italic">Oracle Database Java Developer&#39;s Guide</span></a> for more information about controlling the current user in Java applications</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEIHGG"></a>
<div id="ADFNS1421" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.5</span> Managing External Procedures for Your Applications</h2>
<p>For <a id="sthref122"></a><a id="sthref123"></a>security reasons, Oracle external procedures run in a process that is physically separate from Oracle Database. When you invoke an external procedure, Oracle Database creates the <code dir="ltr">extproc</code> operating system process (or agent), by using the operating system privileges of the user that started the listener for the database instance.</p>
<p>You can configure the <code dir="ltr">extproc</code> agent to run as a designated operating system credential. To use this functionality, you define a credential to be associated with the <code dir="ltr">extproc</code> process, which then can authenticate impersonate (that is, run on behalf of the supplied user credential) before loading a user-defined shared library and executing a function. To configure the <code dir="ltr">extproc</code> user credential, you use the PL/SQL package <code dir="ltr">DBMS_CREDENTIAL</code> and the PL/SQL statement <code dir="ltr">CREATE LIBRARY</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBSEG656" href="../DBSEG/app_devs.htm#DBSEG656"><span class="italic">Oracle Database Security Guide</span></a> for more information about securing external procedures</div>
</div>
<!-- class="sect1" -->
<a id="BABBGCFC"></a>
<div id="ADFNS532" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">3.6</span> Auditing User Activity</h2>
<p>You <a id="sthref124"></a><a id="sthref125"></a>can create audit policies to audit specific actions in the database. Oracle Database then records these actions in an audit trail. The database mandatorily audits some actions and writes these to the audit trail as well. The audit policies that you create can be simple, such as auditing all actions by a specific user, or complex, such as testing for specific conditions and sending email alerts if these conditions are violated.</p>
<p>When you install an Oracle Database, you can choose how your database is audited.</p>
<ul>
<li>
<p><span class="bold">Unified auditing:</span> In unified <a id="sthref126"></a><a id="sthref127"></a>auditing, all audit trails are written to a single audit trail, viewable by the <code dir="ltr">V$UNIFIED_AUDIT_TRAIL</code> and <code dir="ltr">GV$UNIFIED_AUDIT_TRAIL</code> dynamic views. This audit trail encompasses not only Oracle Database-specific actions, but also actions performed in Oracle Real Application Security, Oracle Recovery Manager, Oracle Database Vault, and Oracle Label Security environments. The audit records from these sources are presented in a consistent, uniform format. You can create named audit policies and enable and disable them as necessary. If you want to use unified auditing, then you must migrate your databases to it.</p>
</li>
<li>
<p><span class="bold">Mixture of unified auditing and pre-Release 12</span><span class="bolditalic">c</span> <span class="bold">auditing:</span> For the most part, this option enables you to use the pre-Release 12<span class="italic">c</span> auditing, in which audit records are written to different locations using their own formats. However, Release 12<span class="italic">c</span> functionality, such as using auditing in a multitenant environment, is available. This type of auditing is the default for both new and upgraded databases.</p>
</li>
</ul>
<p>In both cases, when you upgrade your databases to Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.1), the audit records from the previous release are preserved. If you decide to migrate to use unified auditing fully, you can archive these earlier records and then purge the audit trail. After you complete the migration, the new audit records are written to the unified audit trail.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DBSEG006" href="../DBSEG/part_6.htm#DBSEG006"><span class="italic">Oracle Database Security Guide</span></a> for more information about creating and managing unified auditing policies</p>
</li>
<li>
<p><a class="olink DBSEG341" href="../DBSEG/audit_changes.htm#DBSEG341"><span class="italic">Oracle Database Security Guide</span></a> to find a detailed comparison of unified auditing and pre-Release 12<span class="italic">c</span> auditing</p>
</li>
<li>
<p><a class="olink UPGRD52810" href="../UPGRD/afterup.htm#UPGRD52810"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about migrating to unified auditing</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment286">
<tr>
<td class="cellalignment295">
<table class="cellalignment291">
<tr>
<td class="cellalignment290"><a href="adfns_perf_scale.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment290"><a href="adfns_avail.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment298">
<table class="cellalignment289">
<tr>
<td class="cellalignment290"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment290"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment290"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment290"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment290"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment290"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
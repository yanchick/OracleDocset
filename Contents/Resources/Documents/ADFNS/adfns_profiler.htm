<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-81"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20the%20PL%2FSQL%20Hierarchical%20Profiler"></a><title>Using the PL/SQL Hierarchical Profiler</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1080"/>
<meta name="dcterms.created" content="2016-05-05T16:23:34Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Development Guide"/>
<meta name="dcterms.identifier" content="E41452-07"/>
<meta name="dcterms.isVersionOf" content="ADFNS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="adfns_plscope.htm" title="Previous" type="text/html"/>
<link rel="Next" href="adfns_web.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41452-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">23/38</span> <!-- End Header -->
<div id="ADFNS023" class="chapter"><a id="CHDBHDFE"></a>
<h1 class="chapter"><span class="secnum">13</span> Using the PL/SQL Hierarchical Profiler</h1>
<p><a id="sthref729"></a><a id="sthref730"></a><a id="sthref731"></a><a id="sthref732"></a>You can use the PL/SQL hierarchical profiler to identify bottlenecks and performance-tuning opportunities in PL/SQL applications.</p>
<p>The profiler reports the dynamic execution profile of a PL/SQL program organized by function calls, and accounts for SQL and PL/SQL execution times separately. No special source or compile-time preparation is required; any PL/SQL program can be profiled.</p>
<p>This chapter describes the PL/SQL hierarchical profiler and explains how to use it to collect and analyze profile data for a PL/SQL program.</p>
<p class="subhead2"><a id="ADFNS1045"></a>Topics:</p>
<ul>
<li>
<p><a href="#CHDJEGIA">Overview of PL/SQL Hierarchical Profiler</a></p>
</li>
<li>
<p><a href="#CHDBCIDI">Collecting Profile Data</a></p>
</li>
<li>
<p><a href="#CHDBADCD">Understanding Raw Profiler Output</a></p>
</li>
<li>
<p><a href="#CHDEEABH">Analyzing Profile Data</a></p>
</li>
<li>
<p><a href="#CHDCIECE">plshprof Utility</a></p>
</li>
</ul>
<a id="CHDJEGIA"></a>
<div id="ADFNS02301" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.1</span> Overview of PL/SQL Hierarchical Profiler</h2>
<p>Nonhierarchical (<span class="bold">flat</span>) profilers record the time that a program spends within each subprogram&mdash;the <span class="bold">function time</span> or <span class="bold">self time</span> of each subprogram. Function time is helpful, but often inadequate. For example, it is helpful to know that a program spends 40% of its time in the subprogram <code dir="ltr">INSERT_ORDER</code>, but it is more helpful to know which subprograms call <code dir="ltr">INSERT_ORDER</code> often and the total time the program spends under <code dir="ltr">INSERT_ORDER</code> (including its descendant subprograms). Hierarchical profilers provide such information.</p>
<p>The PL/SQL hierarchical profiler:</p>
<ul>
<li>
<p>Reports the dynamic execution profile of your PL/SQL program, organized by subprogram calls</p>
</li>
<li>
<p>Accounts for SQL and PL/SQL execution times separately</p>
</li>
<li>
<p>Requires no special source or compile-time preparation</p>
</li>
<li>
<p>Stores results in database tables (<span class="bold">hierarchical profiler tables</span>) for custom report generation by integrated development environment (IDE) tools (such as SQL Developer and third-party tools)</p>
</li>
<li>
<p>Provides subprogram-level execution summary information, such as:</p>
<ul>
<li>
<p>Number of calls to the subprogram</p>
</li>
<li>
<p>Time spent in the subprogram itself (<span class="bold">function time</span> or <span class="bold">self time</span>)</p>
</li>
<li>
<p>Time spent in the subprogram itself and in its descendent subprograms (<span class="bold">subtree time</span>)</p>
</li>
<li>
<p>Detailed parent-children information, for example:</p>
<ul>
<li>
<p>All callers of a given subprogram (parents)</p>
</li>
<li>
<p>All subprograms that a given subprogram called (children)</p>
</li>
<li>
<p>How much time was spent in subprogram <span class="italic">x</span> when called from <span class="italic">y</span></p>
</li>
<li>
<p>How many calls to subprogram <span class="italic">x</span> were from <span class="italic">y</span></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The PL/SQL hierarchical profiler is implemented by the <code dir="ltr">DBMS_HPROF</code> package and has two components:</p>
<ul>
<li>
<p>Data collection</p>
<p>The data collection component is an intrinsic part of the PL/SQL Virtual Machine. The <code dir="ltr">DBMS_HPROF</code> package provides APIs to turn hierarchical profiling on and off and write the <span class="bold">raw profiler output</span> to a file.</p>
</li>
<li>
<p>Analyzer</p>
<p>The analyzer component processes the raw profiler output and stores the results in hierarchical profiler tables.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
To generate simple HTML reports directly from raw profiler output, without using the Analyzer, you can use the <code dir="ltr">plshprof</code> command-line utility.</div>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CHDBCIDI"></a>
<div id="ADFNS02302" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.2</span> Collecting Profile Data</h2>
<p>To collect profile data from your PL/SQL program for the PL/SQL hierarchical profiler, follow these steps:</p>
<ol>
<li>
<p>Ensure that you have these privileges:</p>
<ul>
<li>
<p><code dir="ltr">EXECUTE</code> privilege on the <a id="sthref733"></a><code dir="ltr">DBMS_HPROF</code> package</p>
</li>
<li>
<p><code dir="ltr">WRITE</code> privilege on the directory that you specify when you call <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">START_PROFILING</code></p>
</li>
</ul>
</li>
<li>
<p>Use the <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">START_PROFILING</code> PL/SQL API to start hierarchical profiler data collection in a session.</p>
</li>
<li>
<p>Run your PL/SQL program long enough to get adequate code coverage.</p>
<p>To get the most accurate measurements of elapsed time, avoid unrelated activity on the system on which your PL/SQL program is running.</p>
</li>
<li>
<p>Use the <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">STOP_PROFILING</code> PL/SQL API to stop hierarchical profiler data collection.</p>
</li>
</ol>
<p>For more information about <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">START_PROFILING</code> and <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">STOP_PROFILING</code>, see <a class="olink ARPLS060" href="../ARPLS/d_trace.htm#ARPLS060"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.</p>
<p>Consider this PL/SQL procedure, <code dir="ltr">test</code>:</p>
<pre dir="ltr">CREATE OR REPLACE PROCEDURE test AUTHID DEFINER IS
  n NUMBER;

  PROCEDURE foo IS
  BEGIN
    SELECT COUNT(*) INTO n FROM EMPLOYEES;
  END foo;

BEGIN  -- test
  FOR i IN 1..3 LOOP
    foo;
  END LOOP;
END test;
/
</pre>
<p>The SQL script in <a href="#CHDBBDGJ">Example 13-1</a> profiles the execution of the PL/SQL procedure <code dir="ltr">test</code>.</p>
<div id="ADFNS411" class="example">
<p class="titleinexample"><a id="CHDBBDGJ"></a>Example 13-1 Profiling a PL/SQL Procedure</p>
<pre dir="ltr">BEGIN
  /* Start profiling.
     Write raw profiler output to file test.trc in a directory
     that is mapped to directory object PLSHPROF_DIR
     (see note after example). */

  DBMS_HPROF.START_PROFILING(&#39;PLSHPROF_DIR&#39;, &#39;test.trc&#39;);
END;
/
-- Run procedure to be profiled
BEGIN
  test;
END;
/
BEGIN
  -- Stop profiling
  DBMS_HPROF.STOP_PROFILING;
END;
/
</pre></div>
<!-- class="example" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
A directory object is an alias for a file system path name. For example, if you are connected to the database <code dir="ltr">AS</code> <code dir="ltr">SYSDBA</code>, this <code dir="ltr">CREATE</code> <code dir="ltr">DIRECTORY</code> statement creates the directory object <code dir="ltr">PLSHPROF_DIR</code> and maps it to the file system directory /<code dir="ltr">private</code>/<code dir="ltr">plshprof</code>/<code dir="ltr">results</code>:
<pre dir="ltr">CREATE DIRECTORY PLSHPROF_DIR as &#39;/private/plshprof/results&#39;;
</pre>
<p>To run the SQL script in <a href="#CHDBBDGJ">Example 13-1</a>, you must have <code dir="ltr">READ</code> and <code dir="ltr">WRITE</code> privileges on both <code dir="ltr">PLSHPROF_DIR</code> and the directory to which it is mapped. if you are connected to the database <code dir="ltr">AS</code> <code dir="ltr">SYSDBA</code>, this <code dir="ltr">GRANT</code> statement grants <code dir="ltr">READ</code> and <code dir="ltr">WRITE</code> privileges on <code dir="ltr">PLSHPROF_DIR</code> to <code dir="ltr">HR</code>:</p>
<pre dir="ltr">GRANT READ, WRITE ON DIRECTORY PLSHPROF_DIR TO HR;
</pre>
<p>For more information about using directory objects, see <a class="olink ADLOB1010" href="../ADLOB/adlob_bfile_ops.htm#ADLOB1010"><span class="italic">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a>.</p>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDBADCD"></a>
<div id="ADFNS02303" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.3</span> Understanding Raw Profiler Output</h2>
<p>Raw profiler output is intended to be processed by the analyzer component of the PL/SQL hierarchical profiler. However, even without such processing, it provides a simple function-level trace of the program. This topic explains how to understand raw profiler output.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The raw profiler format shown in this chapter is intended only to illustrate conceptual features of raw profiler output. Format specifics are subject to change at each Oracle Database release.</div>
<p>The SQL script in <a href="#CHDBBDGJ">Example 13-1</a> wrote this raw profiler output to the file <code dir="ltr">test</code>.<code dir="ltr">trc</code>:</p>
<pre dir="ltr">P#V PLSHPROF Internal Version 1.0
P#! PL/SQL Timer Started
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__plsql_vm&#34;
P#X 1
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__anonymous_block&#34;
P#X 66
P#C PLSQL.&#34;SYS&#34;.&#34;DBMS_OUTPUT&#34;::11.&#34;GET_LINES&#34;#660bd56a1b1640db #180
P#X 5
P#R
P#X 29
P#R
P#X 2
P#R
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__plsql_vm&#34;
P#X 1
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__anonymous_block&#34;
P#X 42
P#C PLSQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;TEST&#34;#980980e97e42f8ec #1
P#X 2
P#C PLSQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;TEST.FOO&#34;#980980e97e42f8ec #4
P#X 24
P#C SQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;__static_sql_exec_line6&#34; #6
P#X 165
P#R
P#X 13
P#R
P#X 2
P#C PLSQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;TEST.FOO&#34;#980980e97e42f8ec #4
P#X 3
P#C SQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;__static_sql_exec_line6&#34; #6
P#X 75
P#R
P#X 2
P#R
P#X 2
P#C PLSQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;TEST.FOO&#34;#980980e97e42f8ec #4
P#X 2
P#C SQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;__static_sql_exec_line6&#34; #6
P#X 73
P#R
P#X 3
P#R
P#X 1
P#R
P#X 1
P#R
P#X 1
P#R
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__plsql_vm&#34;
P#X 2
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__anonymous_block&#34;
P#X 69
P#C PLSQL.&#34;SYS&#34;.&#34;DBMS_OUTPUT&#34;::11.&#34;GET_LINES&#34;#660bd56a1b1640db #180
P#X 5
P#R
P#X 35
P#R
P#X 1
P#R
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__plsql_vm&#34;
P#X 1
P#C PLSQL.&#34;&#34;.&#34;&#34;.&#34;__anonymous_block&#34;
P#X 58
P#C PLSQL.&#34;SYS&#34;.&#34;DBMS_HPROF&#34;::11.&#34;STOP_PROFILING&#34;#980980e97e42f8ec #63
P#R
P#R
P#R
P#! PL/SQL Timer Stopped
</pre>
<div id="ADFNS412" class="tblformal">
<p class="titleintable"><a id="sthref734"></a><a id="sthref735"></a>Table 13-1 Raw Profiler Output File Indicators</p>
<table class="cellalignment293" title="Raw Profiler Output File Indicators" summary="This table summarizes the raw profiler output indicators." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t5">Indicator</th>
<th class="cellalignment294" id="r1c2-t5">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">P#V</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t5 r1c2-t5">
<p><code dir="ltr">PLSHPROF</code> banner with version number</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">P#C</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t5 r1c2-t5">
<p>Call to a subprogram (call event)</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t5" headers="r1c1-t5">
<p><code dir="ltr">P#R</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t5 r1c2-t5">
<p>Return from a subprogram (return event)</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t5" headers="r1c1-t5">
<p><code dir="ltr">P#X</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t5 r1c2-t5">
<p>Elapsed time between preceding and following events</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t5" headers="r1c1-t5">
<p><code dir="ltr">P#!</code></p>
</td>
<td class="cellalignment295" headers="r6c1-t5 r1c2-t5">
<p>Comment</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>Call events (<code dir="ltr">P#C</code>) and return events (<code dir="ltr">P#R</code>) are properly nested (like matched parentheses). If an unhandled exception causes a called subprogram to exit, the profiler still reports a matching return event.</p>
<p>Each call event (<code dir="ltr">P#C</code>) entry in the raw profiler output includes this information:</p>
<ul>
<li>
<p><span class="bold">Namespace</span> to which the called subprogram belongs (see <a href="#CHDHJJFD">Section 13.3.1</a>)</p>
</li>
<li>
<p><span class="bold">Name of the PL/SQL module</span> in which the called subprogram is defined</p>
</li>
<li>
<p><span class="bold">Type of the PL/SQL module</span> in which the called subprogram is defined</p>
</li>
<li>
<p><span class="bold">Name of the called subprogram</span></p>
<p>This name might be one of the special function names in <a href="#CHDDEJHA">Section 13.3.2</a>.</p>
</li>
<li>
<p>Hexadecimal value that represents an MD5 hash of the <span class="bold">signature</span> of the called subprogram</p>
<p>The <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code> PL/SQL API (described in <a href="#CHDEEABH">Section 13.4</a>) stores the hash value in a hierarchical profiler table, which allows both you and <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code> to distinguish between <span class="bold">overloaded subprograms</span> (subprograms with the same name).</p>
</li>
<li>
<p><span class="bold">Line number</span> at which the called subprogram is defined in the PL/SQL module</p>
<p>PL/SQL hierarchical profiler does not measure time spent at individual lines within modules, but you can use line numbers to identify the source locations of subprograms in the module (as IDE/Tools do) and to distinguish between overloaded subprograms.</p>
</li>
</ul>
<p>For example, consider this entry in the preceding example of raw profiler output:</p>
<pre dir="ltr">P#C PLSQL.&#34;HR&#34;.&#34;TEST&#34;::7.&#34;TEST.FOO&#34;#980980e97e42f8ec #4
</pre>
<p>The components of the preceding entry have these meanings:</p>
<div class="inftblinformal">
<table class="cellalignment296" title="Raw Profiler Output Components" summary="This table summarizes the components of the preceding line of raw profiler output." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t6">Component</th>
<th class="cellalignment294" id="r1c2-t6">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t6" headers="r1c1-t6"><code dir="ltr">PLSQL</code></td>
<td class="cellalignment295" headers="r2c1-t6 r1c2-t6"><code dir="ltr">PLSQL</code> is the <span class="bold">namespace</span> to which the called subprogram belongs.</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t6" headers="r1c1-t6"><code dir="ltr">&#34;HR&#34;</code>.<code dir="ltr">&#34;TEST&#34;</code></td>
<td class="cellalignment295" headers="r3c1-t6 r1c2-t6"><code dir="ltr">HR</code>.<code dir="ltr">TEST</code> is the <span class="bold">name of the PL/SQL module</span> in which the called subprogram is defined.</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t6" headers="r1c1-t6"><code dir="ltr">7</code></td>
<td class="cellalignment295" headers="r4c1-t6 r1c2-t6">7 is the internal enumerator for the <span class="bold">module type</span> of <code dir="ltr">HR</code>.<code dir="ltr">TEST</code>. Examples of module types are procedure, package, and package body.</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t6" headers="r1c1-t6"><code dir="ltr">&#34;TEST</code>.<code dir="ltr">FOO&#34;</code></td>
<td class="cellalignment295" headers="r5c1-t6 r1c2-t6"><code dir="ltr">TEST</code>.<code dir="ltr">FOO</code> is the <span class="bold">name of the called subprogram</span>.</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t6" headers="r1c1-t6"><code dir="ltr">#980980e97e42f8ec</code></td>
<td class="cellalignment295" headers="r6c1-t6 r1c2-t6"><code dir="ltr">#980980e97e42f8ec</code> is a hexadecimal value that represents an MD5 hash of the <span class="bold">signature</span> of <code dir="ltr">TEST</code>.<code dir="ltr">FOO</code>.</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t6" headers="r1c1-t6"><code dir="ltr">#4</code></td>
<td class="cellalignment295" headers="r7c1-t6 r1c2-t6">4 is the <span class="bold">line number</span> in the PL/SQL module <code dir="ltr">HR</code>.<code dir="ltr">TEST</code> at which <code dir="ltr">TEST</code>.<code dir="ltr">FOO</code> is defined.</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
When a subprogram is inlined, it is not reported in the profiler output. For information about subprogram inlining, see <a class="olink LNPLS01201" href="../LNPLS/tuning.htm#LNPLS01201"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
<p>When a call to a <code dir="ltr">DETERMINISTIC</code> function is &#34;optimized away,&#34; it is not reported in the profiler output. For information about <code dir="ltr">DETERMINISTIC</code> functions, see <a class="olink LNPLS01322" href="../LNPLS/function.htm#LNPLS01322"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.</p>
</div>
<a id="CHDHJJFD"></a>
<div id="ADFNS413" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.3.1</span> Namespaces of Tracked Subprograms</h3>
<p>The subprograms that the PL/SQL hierarchical profiler tracks are classified into the namespaces PLSQL and SQL, as follows:</p>
<ul>
<li>
<p>Namespace PLSQL includes:</p>
<ul>
<li>
<p>PL/SQL subprogram calls</p>
</li>
<li>
<p>PL/SQL triggers</p>
</li>
<li>
<p>PL/SQL anonymous blocks</p>
</li>
<li>
<p>Remote subprogram calls</p>
</li>
<li>
<p>Package initialization blocks</p>
</li>
</ul>
</li>
<li>
<p>Namespace SQL includes SQL statements executed from PL/SQL, such as queries, data manipulation language (DML) statements, data definition language (DDL) statements, and native dynamic SQL statements</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CHDDEJHA"></a>
<div id="ADFNS414" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.3.2</span> Special Function Names</h3>
<p>PL/SQL hierarchical profiler tracks certain operations as if they were functions with the names and namespaces shown in <a href="#g3165404">Table 13-2</a>.</p>
<div id="ADFNS415" class="tblformal">
<p class="titleintable"><a id="sthref736"></a><a id="g3165404"></a>Table 13-2 Function Names of Operations that the PL/SQL Hierarchical Profiler Tracks</p>
<table class="cellalignment293" title="Function Names of Operations that the PL/SQL Hierarchical Profiler Tracks" summary="This table summarizes the operations that the PL/SQL Hierarchical Profiler tracks." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t8">Tracked Operation</th>
<th class="cellalignment294" id="r1c2-t8">Function Name</th>
<th class="cellalignment294" id="r1c3-t8">Namespace</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t8" headers="r1c1-t8">
<p>Call to PL/SQL Virtual Machine</p>
</td>
<td class="cellalignment295" headers="r2c1-t8 r1c2-t8">
<p><code dir="ltr">__plsql_vm</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t8 r1c3-t8">
<p>PL/SQL</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t8" headers="r1c1-t8">
<p>PL/SQL anonymous block</p>
</td>
<td class="cellalignment295" headers="r3c1-t8 r1c2-t8">
<p><code dir="ltr">__anonymous_block</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t8 r1c3-t8">
<p>PL/SQL</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t8" headers="r1c1-t8">
<p>Package initialization block</p>
</td>
<td class="cellalignment295" headers="r4c1-t8 r1c2-t8">
<p><code dir="ltr">__pkg_init</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t8 r1c3-t8">
<p>PL/SQL</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t8" headers="r1c1-t8">
<p>Static SQL statement at line <code dir="ltr"><span class="codeinlineitalic">line#</span></code></p>
</td>
<td class="cellalignment295" headers="r5c1-t8 r1c2-t8">
<p><code dir="ltr">__static_sql_exec_line</code><code dir="ltr"><span class="codeinlineitalic">line#</span></code></p>
</td>
<td class="cellalignment295" headers="r5c1-t8 r1c3-t8">
<p>SQL</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t8" headers="r1c1-t8">
<p>Dynamic SQL statement at line <code dir="ltr"><span class="codeinlineitalic">line#</span></code></p>
</td>
<td class="cellalignment295" headers="r6c1-t8 r1c2-t8">
<p><code dir="ltr">__dyn_sql_exec_line</code><code dir="ltr"><span class="codeinlineitalic">line#</span></code></p>
</td>
<td class="cellalignment295" headers="r6c1-t8 r1c3-t8">
<p>SQL</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t8" headers="r1c1-t8">
<p>SQL <code dir="ltr">FETCH</code> statement at line <code dir="ltr"><span class="codeinlineitalic">line#</span></code></p>
</td>
<td class="cellalignment295" headers="r7c1-t8 r1c2-t8">
<p><code dir="ltr">__sql_fetch_line</code><code dir="ltr"><span class="codeinlineitalic">line#</span></code></p>
</td>
<td class="cellalignment295" headers="r7c1-t8 r1c3-t8">
<p>SQL</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDEEABH"></a>
<div id="ADFNS02304" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.4</span> Analyzing Profile Data</h2>
<p>The analyzer component of the PL/SQL hierarchical profiler, <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>, processes the raw profiler output and stores the results in the <span class="bold">hierarchical database tables</span> described in <a href="#g3151256">Table 13-3</a>.</p>
<div id="ADFNS416" class="tblformal">
<p class="titleintable"><a id="sthref737"></a><a id="g3151256"></a>Table 13-3 PL/SQL Hierarchical Profiler Database Tables</p>
<table class="cellalignment293" title="PL/SQL Hierarchical Profiler Database Tables" summary="This table summarizes the PL/SQL Hierarchical Database tables." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t9">Table</th>
<th class="cellalignment294" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">DBMSHP_RUNS</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t9 r1c2-t9">
<p>Top-level information for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>. For column descriptions, see <a href="#g3154741">Table 13-4</a>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">DBMSHP_FUNCTION_INFO</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t9 r1c2-t9">
<p>Information for each subprogram profiled in this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>. For column descriptions, see <a href="#g3157198">Table 13-5</a>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t9" headers="r1c1-t9">
<p><code dir="ltr">DBMSHP_PARENT_CHILD_INFO</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t9 r1c2-t9">
<p>Parent-child information for each subprogram profiled in this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>. For column descriptions, see <a href="#g3161160">Table 13-6</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="ADFNS1046"></a>Topics:</p>
<ul>
<li>
<p><a href="#CHDGEFJF">Creating Hierarchical Profiler Tables</a></p>
</li>
<li>
<p><a href="#g3324222">Understanding Hierarchical Profiler Tables</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
To generate simple HTML reports directly from raw profiler output, without using the Analyzer, you can use the <code dir="ltr">plshprof</code> command-line utility. For details, see <a href="#CHDCIECE">Section 13.5</a>.</div>
<a id="CHDGEFJF"></a>
<div id="ADFNS417" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.4.1</span> Creating Hierarchical Profiler Tables</h3>
<p>To create the hierarchical profiler tables in <a href="#g3151256">Table 13-3</a> and the other data structures required for persistently storing profile data, follow these steps:</p>
<ol>
<li>
<p>Run the script <code dir="ltr">dbmshptab</code>.<code dir="ltr">sql</code> (located in the directory <code dir="ltr">rdbms/admin</code>).</p>
<p>This script creates both the hierarchical profiler tables in <a href="#g3151256">Table 13-3</a> and the other data structures required for persistently storing profile data.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Running the script <code dir="ltr">dbmshptab</code>.<code dir="ltr">sql</code> drops any previously created hierarchical profiler tables.</div>
</li>
<li>
<p>Ensure that you have these privileges:</p>
<ul>
<li>
<p><code dir="ltr">EXECUTE</code> privilege on the <code dir="ltr">DBMS_HPROF</code> package</p>
</li>
<li>
<p><code dir="ltr">READ</code> privilege on the directory that <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code> specifies</p>
</li>
</ul>
</li>
<li>
<p>Use the PL/SQL API <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code> to analyze a single raw profiler output file and store the results in hierarchical profiler tables.</p>
<p>(For an example of a raw profiler output file, see <code dir="ltr">test</code>.<code dir="ltr">trc</code> in <a href="#CHDBADCD">Section 13.3</a>.)</p>
<p>For more information about <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>, see <a class="olink ARPLS060" href="../ARPLS/d_trace.htm#ARPLS060"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.</p>
</li>
<li>
<p>Use the hierarchical profiler tables to generate custom reports.</p>
</li>
</ol>
<p>The anonymous block in <a href="#CHDDDIHF">Example 13-2</a>:</p>
<ul>
<li>
<p>Invokes the function <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code> function, which:</p>
<ul>
<li>
<p>Analyzes the profile data in the raw profiler output file <code dir="ltr">test</code>.<code dir="ltr">trc</code> (from <a href="#CHDBADCD">Section 13.3</a>), which is in the directory that is mapped to the directory object <code dir="ltr">PLSHPROF_DIR</code>, and stores the data in the hierarchical profiler tables in <a href="#g3151256">Table 13-3</a>.</p>
</li>
<li>
<p>Returns a unique identifier that you can use to query the hierarchical profiler tables in <a href="#g3151256">Table 13-3</a>. (By querying these hierarchical profiler tables, you can produce customized reports.)</p>
</li>
</ul>
</li>
<li>
<p>Stores the unique identifier in the variable <code dir="ltr">runid</code>, which it prints.</p>
</li>
</ul>
<div id="ADFNS418" class="example">
<p class="titleinexample"><a id="CHDDDIHF"></a>Example 13-2 Invoking DBMS_HPROF.analyze</p>
<pre dir="ltr">DECLARE
  runid NUMBER;
BEGIN
  runid := <span class="bold">DBMS_HPROF.analyze(LOCATION=&gt;&#39;PLSHPROF_DIR&#39;,</span>
                              <span class="bold">FILENAME=&gt;&#39;test.trc&#39;);</span>
  DBMS_OUTPUT.PUT_LINE(&#39;runid = &#39; || runid);
END;
/
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="g3324222"></a>
<div id="ADFNS419" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.4.2</span> Understanding Hierarchical Profiler Tables</h3>
<p>These topics explain how to use the hierarchical profiler tables in <a href="#g3151256">Table 13-3</a>:</p>
<ul>
<li>
<p><a href="#g3349157">Section 13.4.2.1, &#34;Hierarchical Profiler Database Table Columns&#34;</a></p>
</li>
<li>
<p><a href="#g3350132">Section 13.4.2.2, &#34;Distinguishing Between Overloaded Subprograms&#34;</a></p>
</li>
<li>
<p><a href="#g3350205">Section 13.4.2.3, &#34;Hierarchical Profiler Tables for Sample PL/SQL Procedure&#34;</a></p>
</li>
<li>
<p><a href="#g3350546">Section 13.4.2.4, &#34;Examples of Calls to DBMS_HPROF.analyze with Options&#34;</a></p>
</li>
</ul>
<a id="g3349157"></a>
<div id="ADFNS420" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.4.2.1</span> Hierarchical Profiler Database Table Columns</h4>
<p><a href="#g3154741">Table 13-4</a> describes the columns of the hierarchical profiler table <code dir="ltr">DBMSHP_RUNS</code>, which contains one row of top-level information for each run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>.</p>
<p>The primary key for the hierarchical profiler table <code dir="ltr">DBMSHP_RUNS</code> is <code dir="ltr">RUNID</code>.</p>
<div id="ADFNS421" class="tblformal">
<p class="titleintable"><a id="sthref738"></a><a id="g3154741"></a>Table 13-4 DBMSHP_RUNS Table Columns</p>
<table class="cellalignment293" title="DBMSHP_RUNS Table Columns" summary="This table summarizes the columns of the DBMSHP_RUNS table." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t12">Column Name</th>
<th class="cellalignment294" id="r1c2-t12">Column Data Type</th>
<th class="cellalignment294" id="r1c3-t12">Column Contents</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t12" headers="r1c1-t12">
<p><code dir="ltr">RUNID</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t12 r1c2-t12">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t12 r1c3-t12">
<p>Unique identifier for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>, generated from <code dir="ltr">DBMSHP_RUNNUMBER</code> sequence.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t12" headers="r1c1-t12">
<p><code dir="ltr">RUN_TIMESTAMP</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t12 r1c2-t12">
<p><code dir="ltr">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t12 r1c3-t12">
<p>Time stamp for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t12" headers="r1c1-t12">
<p><code dir="ltr">RUN_COMMENT</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t12 r1c2-t12">
<p><code dir="ltr">VARCHAR2(2047)</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t12 r1c3-t12">
<p>Comment that you provided for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t12" headers="r1c1-t12">
<p><code dir="ltr">TOTAL_ELAPSED_TIME</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t12 r1c2-t12">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t12 r1c3-t12">
<p>Total elapsed time for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p><a href="#g3157198">Table 13-5</a> describes the columns of the hierarchical profiler table <code dir="ltr">DBMSHP_FUNCTION_INFO</code>, which contains one row of information for each subprogram profiled in this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>. If a subprogram is overloaded, <a href="#g3157198">Table 13-5</a> has a row for each variation of that subprogram. Each variation has its own <code dir="ltr">LINE#</code> and <code dir="ltr">HASH</code> (see <a href="#g3350132">Section 13.4.2.2, &#34;Distinguishing Between Overloaded Subprograms.&#34;</a>)</p>
<p>The primary key for the hierarchical profiler table <code dir="ltr">DBMSHP_FUNCTION_INFO</code> is <code dir="ltr">RUNID,&nbsp;SYMBOLID</code>.</p>
<div id="ADFNS422" class="tblformal">
<p class="titleintable"><a id="sthref739"></a><a id="g3157198"></a>Table 13-5 DBMSHP_FUNCTION_INFO Table Columns</p>
<table class="cellalignment293" title="DBMSHP_FUNCTION_INFO Table Columns" summary="This table summarizes the columns of the DBMSHP_FUNCTION_INFO table." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t13">Column Name</th>
<th class="cellalignment294" id="r1c2-t13">Column Data Type</th>
<th class="cellalignment294" id="r1c3-t13">Column Contents</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">RUNID</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t13 r1c2-t13">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t13 r1c3-t13">
<p>References <code dir="ltr">RUNID</code> column of <code dir="ltr">DBMSHP_RUNS</code> table. For a description of that column, see <a href="#g3154741">Table 13-4</a>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">SYMBOLID</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t13 r1c2-t13">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t13 r1c3-t13">
<p>Symbol identifier for subprogram (unique for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>).</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t13" headers="r1c1-t13">
<p><code dir="ltr">OWNER</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t13 r1c2-t13">
<p><code dir="ltr">VARCHAR2(32)</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t13 r1c3-t13">
<p>Owner of module in which each subprogram is defined (for example, <code dir="ltr">SYS</code> or <code dir="ltr">HR</code>).</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t13" headers="r1c1-t13">
<p><code dir="ltr">MODULE</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t13 r1c2-t13">
<p><code dir="ltr">VARCHAR2(32)</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t13 r1c3-t13">
<p>Module in which subprogram is defined (for example, <code dir="ltr">DBMS_LOB</code>, <code dir="ltr">UTL_HTTP</code>, or <code dir="ltr">MY_PACKAGE</code>).</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t13" headers="r1c1-t13">
<p><code dir="ltr">TYPE</code></p>
</td>
<td class="cellalignment295" headers="r6c1-t13 r1c2-t13">
<p><code dir="ltr">VARCHAR2(32)</code></p>
</td>
<td class="cellalignment295" headers="r6c1-t13 r1c3-t13">
<p>Type of module in which subprogram is defined (for example, <code dir="ltr">PACKAGE</code>, <code dir="ltr">PACKAGE_BODY</code>, or <code dir="ltr">PROCEDURE</code>).</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t13" headers="r1c1-t13">
<p><code dir="ltr">FUNCTION</code></p>
</td>
<td class="cellalignment295" headers="r7c1-t13 r1c2-t13">
<p><code dir="ltr">VARCHAR2(4000)</code></p>
</td>
<td class="cellalignment295" headers="r7c1-t13 r1c3-t13">
<p>Name of subprogram (not necessarily a function) (for example, <code dir="ltr">INSERT_ORDER</code>, <code dir="ltr">PROCESS_ITEMS</code>, or <code dir="ltr">TEST</code>).</p>
<p>This name might be one of the special function names in <a href="#CHDDEJHA">Section 13.3.2</a>.</p>
<p>For subprogram <code dir="ltr">B</code> defined within subprogram <code dir="ltr">A</code>, this name is <code dir="ltr">A.B</code>.</p>
<p>A recursive call to function <code dir="ltr">X</code> is denoted <code dir="ltr">X@</code><code dir="ltr"><span class="codeinlineitalic">n</span></code>, where <code dir="ltr"><span class="codeinlineitalic">n</span></code> is the recursion depth. For example, <code dir="ltr">X@1</code> is the first recursive call to <code dir="ltr">X</code>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r8c1-t13" headers="r1c1-t13">
<p><code dir="ltr">LINE#</code></p>
</td>
<td class="cellalignment295" headers="r8c1-t13 r1c2-t13">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r8c1-t13 r1c3-t13">
<p>Line number in <code dir="ltr">OWNER</code>.<code dir="ltr">MODULE</code> at which <code dir="ltr">FUNCTION</code> is defined.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r9c1-t13" headers="r1c1-t13">
<p><code dir="ltr">HASH</code></p>
</td>
<td class="cellalignment295" headers="r9c1-t13 r1c2-t13">
<p><code dir="ltr">RAW(32)</code></p>
</td>
<td class="cellalignment295" headers="r9c1-t13 r1c3-t13">
<p>Hash code for signature of subprogram (unique for this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>).</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r10c1-t13" headers="r1c1-t13">
<p><code dir="ltr">NAMESPACE</code></p>
</td>
<td class="cellalignment295" headers="r10c1-t13 r1c2-t13">
<p><code dir="ltr">VARCHAR2(32)</code></p>
</td>
<td class="cellalignment295" headers="r10c1-t13 r1c3-t13">
<p>Namespace of subprogram. For details, see <a href="#CHDHJJFD">Section 13.3.1</a>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r11c1-t13" headers="r1c1-t13">
<p><code dir="ltr">SUBTREE_ELAPSED_TIME</code></p>
</td>
<td class="cellalignment295" headers="r11c1-t13 r1c2-t13">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r11c1-t13 r1c3-t13">
<p>Elapsed time, in microseconds, for subprogram, including time spent in descendant subprograms.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r12c1-t13" headers="r1c1-t13">
<p><code dir="ltr">FUNCTION_ELAPSED_TIME</code></p>
</td>
<td class="cellalignment295" headers="r12c1-t13 r1c2-t13">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r12c1-t13 r1c3-t13">
<p>Elapsed time, in microseconds, for subprogram, excluding time spent in descendant subprograms.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r13c1-t13" headers="r1c1-t13">
<p><code dir="ltr">CALLS</code></p>
</td>
<td class="cellalignment295" headers="r13c1-t13 r1c2-t13">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r13c1-t13 r1c3-t13">
<p>Number of calls to subprogram.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p><a href="#g3161160">Table 13-6</a> describes the columns of the hierarchical profiler table <code dir="ltr">DBMSHP_PARENT_CHILD_INFO</code>, which contains one row of parent-child information for each unique parent-child subprogram combination profiled in this run of <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code>.</p>
<div id="ADFNS423" class="tblformal">
<p class="titleintable"><a id="sthref740"></a><a id="g3161160"></a>Table 13-6 DBMSHP_PARENT_CHILD_INFO Table Columns</p>
<table class="cellalignment293" title="DBMSHP_PARENT_CHILD_INFO Table Columns" summary="This table summarizes the columns of the DBMSHP_PARENT_CHILD_INFO table." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t14">Column Name</th>
<th class="cellalignment294" id="r1c2-t14">Column Data Type</th>
<th class="cellalignment294" id="r1c3-t14">Column Contents</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t14" headers="r1c1-t14">
<p><code dir="ltr">RUNID</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t14 r1c2-t14">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r2c1-t14 r1c3-t14">
<p>References <code dir="ltr">RUNID</code> column of <code dir="ltr">DBMSHP_FUNCTION_INFO</code> table. For a description of that column, see <a href="#g3157198">Table 13-5</a>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t14" headers="r1c1-t14">
<p><code dir="ltr">PARENTSYMID</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t14 r1c2-t14">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r3c1-t14 r1c3-t14">
<p>Parent symbol ID.</p>
<p><code dir="ltr">RUNID</code>, <code dir="ltr">PARENTSYMID</code> references <code dir="ltr">DBMSHP_FUNCTION_INFO(RUNID, SYMBOLID)</code>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t14" headers="r1c1-t14">
<p><code dir="ltr">CHILDSYMID</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t14 r1c2-t14">
<p><code dir="ltr">NUMBER</code></p>
</td>
<td class="cellalignment295" headers="r4c1-t14 r1c3-t14">
<p>Child symbol ID.</p>
<p><code dir="ltr">RUNID</code>, <code dir="ltr">CHILDSYMID</code> references <code dir="ltr">DBMSHP_FUNCTION_INFO(RUNID</code>, <code dir="ltr">SYMBOLID)</code>.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t14" headers="r1c1-t14">
<p><code dir="ltr">SUBTREE_ELAPSED_TIME</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t14 r1c2-t14">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r5c1-t14 r1c3-t14">
<p>Elapsed time, in microseconds, for <code dir="ltr">RUNID</code>, <code dir="ltr">CHILDSYMID</code> when called from <code dir="ltr">RUNID</code>, <code dir="ltr">PARENTSYMID</code>, including time spent in descendant subprograms.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t14" headers="r1c1-t14">
<p><code dir="ltr">FUNCTION_ELAPSED_TIME</code></p>
</td>
<td class="cellalignment295" headers="r6c1-t14 r1c2-t14">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r6c1-t14 r1c3-t14">
<p>Elapsed time, in microseconds, for <code dir="ltr">RUNID</code>, <code dir="ltr">CHILDSYMID</code> when called from <code dir="ltr">RUNID</code>, <code dir="ltr">PARENTSYMID</code>, excluding time spent in descendant subprograms.</p>
</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t14" headers="r1c1-t14">
<p><code dir="ltr">CALLS</code></p>
</td>
<td class="cellalignment295" headers="r7c1-t14 r1c2-t14">
<p><code dir="ltr">NUMBER(38)</code></p>
</td>
<td class="cellalignment295" headers="r7c1-t14 r1c3-t14">
<p>Number of calls to <code dir="ltr">RUNID</code>, <code dir="ltr">CHILDSYMID</code> from <code dir="ltr">RUNID</code>, <code dir="ltr">PARENTSYMID</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<a id="g3350132"></a>
<div id="ADFNS424" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.4.2.2</span> Distinguishing Between Overloaded Subprograms</h4>
<p>Overloaded subprograms are different subprograms with the same name (see <a class="olink LNPLS00807" href="../LNPLS/subprograms.htm#LNPLS00807"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>).</p>
<p>Suppose that a program declares three subprograms named <code dir="ltr">compute</code>&mdash;the first at line 50, the second at line 76, and the third at line 100. In the <code dir="ltr">DBMSHP_FUNCTION_INFO</code> table, each of these subprograms has <code dir="ltr">compute</code> in the <code dir="ltr">FUNCTION</code> column. To distinguish between the three subprograms, use either the <code dir="ltr">LINE#</code> column (which has 50 for the first subprogram, 76 for the second, and 100 for the third) or the <code dir="ltr">HASH</code> column (which has a unique value for each subprogram).</p>
<p>In the profile data for two different runs, the <code dir="ltr">LINE#</code> and <code dir="ltr">HASH</code> values for a function might differ. The <code dir="ltr">LINE#</code> value of a function changes if you insert or delete lines before the function definition. The <code dir="ltr">HASH</code> value changes only if the signature of the function changes; for example, if you change the parameter list.</p>
</div>
<!-- class="sect3" -->
<a id="g3350205"></a>
<div id="ADFNS425" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.4.2.3</span> Hierarchical Profiler Tables for Sample PL/SQL Procedure</h4>
<p>The hierarchical profiler tables for the PL/SQL procedure <code dir="ltr">test</code> in <a href="#CHDBCIDI">Section 13.2</a> are shown in <a href="#g3182562">Example 13-3</a> through <a href="#g3183051">Example 13-5</a>.</p>
<div id="ADFNS426" class="example">
<p class="titleinexample"><a id="g3182562"></a>Example 13-3 DBMSHP_RUNS Table for Sample PL/SQL Procedure</p>
<pre dir="ltr">     RUNID RUN_TIMESTAMP                  TOTAL_ELAPSED_TIME RUN_COMMENT
---------- ------------------------------ ------------------ -----------
         1 20-DEC-12 11.37.26.688381 AM                    7
         2 20-DEC-12 11.37.26.700523 AM                    9
         3 20-DEC-12 11.37.26.706824 AM                  123
</pre></div>
<!-- class="example" -->
<div id="ADFNS427" class="example">
<p class="titleinexample"><a id="g3182602"></a>Example 13-4 DBMSHP_FUNCTION_INFO Table for Sample PL/SQL Procedure</p>
<pre dir="ltr">     RUNID    SYMBOLID OWNER   MODULE       TYPE            FUNCTION
---------- ----------- ------- ------------ --------------- -------------------------
         1           1 HR      PKG          PACKAGE BODY    MYPROC
         2           1 HR      PKG          PACKAGE BODY    MYFUNC
         2           2 HR      PKG          PACKAGE BODY    MYPROC
         <span class="bold">3           1                                      __anonymous_block</span>
         <span class="bold">3           2                                      __plsql_vm</span>
         3           3 HR      PKG          PACKAGE BODY    MYFUNC
         3           4 HR      PKG          PACKAGE BODY    MYPROC
         3           5 HR      TEST2        PROCEDURE       TEST2

LINE#  CALLS HASH                                                             NAMESPACE
----- ------ ---------------------------------------------------------------- -----------
    2      1 9689BA467A19CD19                                                 PLSQL
    7      1 28DC3402BAEB2B0D                                                 PLSQL
    2      1 9689BA467A19CD19                                                 PLSQL
    0      1                                                                  PLSQL
    0      1                                                                  PLSQL
    7      1 28DC3402BAEB2B0D                                                 PLSQL
    2      2 9689BA467A19CD19                                                 PLSQL
    1      1 980980E97E42F8EC                                                 PLSQL

NAMESPACE      SUBTREE_ELAPSED_TIME    FUNCTION_ELAPSED_TIME
----------- ----------------------- ------------------------
PLSQL                             7                        7
PLSQL                             9                        8
PLSQL                             1                        1
PLSQL                           121                       44
PLSQL                           123                        2
PLSQL                             9                        8
PLSQL                             8                        8
PLSQL                            77                       61
</pre></div>
<!-- class="example" -->
<div id="ADFNS428" class="example">
<p class="titleinexample"><a id="g3183051"></a>Example 13-5 DBMSHP_PARENT_CHILD_INFO Table for Sample PL/SQL Procedure</p>
<pre dir="ltr">     RUNID PARENTSYMID CHILDSYMID    SUBTREE_ELAPSED_TIME    FUNCTION_ELAPSED_TIME  CALLS
---------- ----------- ---------- ----------------------- ------------------------ ------
         2           1          2                       1                        1      1
         3           1          5                      77                       61      1
         <span class="bold">3           2          1                     121                       44      1</span>
         3           3          4                       1                        1      1
         3           5          3                       9                        8      1
         3           5          4                       7                        7      1
</pre></div>
<!-- class="example" -->
<p>Consider the third row of the table <code dir="ltr">DBMSHP_PARENT_CHILD_INFO</code> (<a href="#g3183051">Example 13-5</a>). The <code dir="ltr">RUNID</code> column shows that this row corresponds to the third run. The columns <code dir="ltr">PARENTSYMID</code> and <code dir="ltr">CHILDSYMID</code> show that the symbol IDs of the parent (caller) and child (called subprogram) are <code dir="ltr">2</code> and <code dir="ltr">1</code>, respectively. The table <code dir="ltr">DBMSHP_FUNCTION_INFO</code> (<a href="#g3182602">Example 13-4</a>) shows that for the third run, the symbol IDs <code dir="ltr">2</code> and <code dir="ltr">1</code> correspond to procedures <code dir="ltr">__plsql_vm</code> and <code dir="ltr">__anonymous_block</code>, respectively. Therefore, the information in this row is about calls from the procedure <code dir="ltr">__plsql_vm</code> to the <code dir="ltr">__anonymous_block</code> (defined within <code dir="ltr">__plsql_vm</code>) in the module <code dir="ltr">HR</code>.<code dir="ltr">TEST</code>. This row shows that, when called from the procedure <code dir="ltr">__plsql_vm</code>, the function time for the procedure <code dir="ltr">__anonymous_block</code> is 44 microseconds, and the time spent in the <code dir="ltr">__anonymous_block</code> subtree (including descendants) is 121 microseconds.</p>
</div>
<!-- class="sect3" -->
<a id="g3350546"></a>
<div id="ADFNS429" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.4.2.4</span> Examples of Calls to DBMS_HPROF.analyze with Options</h4>
<p>For an example of a call to <code dir="ltr">DBMS_HPROF</code>.<code dir="ltr">analyze</code> without options, see <a href="#CHDDDIHF">Example 13-2</a>.</p>
<p><a href="#BABGDFEE">Example 13-6</a> creates a package, creates a procedure that invokes subprograms in the package, profiles the procedure, and uses <code dir="ltr">DBMS_HRPROF</code>.<code dir="ltr">analyze</code> to analyze the raw profiler output file. The raw profiler output file is in the directory corresponding to the <code dir="ltr">PLSHPROF_DIR</code> directory object.</p>
<div id="ADFNS430" class="example">
<p class="titleinexample"><a id="BABGDFEE"></a>Example 13-6 Invoking DBMS_HPROF.analyze with Options</p>
<pre dir="ltr">-- Create package

CREATE OR REPLACE PACKAGE pkg AUTHID DEFINER IS
  PROCEDURE myproc (n IN out NUMBER);
  FUNCTION myfunc (v VARCHAR2) RETURN VARCHAR2;
  FUNCTION myfunc (n PLS_INTEGER) RETURN PLS_INTEGER;
END pkg;
/
CREATE OR REPLACE PACKAGE BODY pkg IS
  PROCEDURE myproc (n IN OUT NUMBER) IS
  BEGIN
    n := n + 5;
  END;

  FUNCTION myfunc (v VARCHAR2) RETURN VARCHAR2 IS
    n NUMBER;
  BEGIN
    n := LENGTH(v);
    myproc(n);
    IF n &gt; 20 THEN
      RETURN SUBSTR(v, 1, 20);
    ELSE
      RETURN v || &#39;...&#39;;
    END IF;
  END;

  FUNCTION myfunc (n PLS_INTEGER) RETURN PLS_INTEGER IS
    i PLS_INTEGER;
    PROCEDURE myproc (n IN out PLS_INTEGER) IS
    BEGIN
      n := n + 1;
    END;
  BEGIN
    i := n;
    myproc(i);
    RETURN i;
  END;
END pkg;
/

-- Create procedure that invokes package subprograms

CREATE OR REPLACE PROCEDURE test2 AUTHID DEFINER IS
  x NUMBER := 5;
  y VARCHAR2(32767);
BEGIN
  pkg.myproc(x);
  y := pkg.myfunc(&#39;hello&#39;);
END;

-- Profile test2

BEGIN
  DBMS_HPROF.START_PROFILING(&#39;PLSHPROF_DIR&#39;, &#39;test2.trc&#39;);
END;
/
BEGIN
  test2;
END;
/
BEGIN
  DBMS_HPROF.STOP_PROFILING;
END;
/
-- If not done, create hierarchical profiler tables (see <a href="#CHDGEFJF">Section 13.4.1</a>).

<span class="bold">-- Call DBMS_HPROF.analyze with options</span>

DECLARE
  runid NUMBER;
BEGIN
  <span class="bold">-- Analyze only subtrees rooted at trace entry &#34;HR&#34;.&#34;PKG&#34;.&#34;MYPROC&#34;</span>

  runid := DBMS_HPROF.analyze(&#39;PLSHPROF_DIR&#39;, &#39;test2.trc&#39;,
                              trace =&gt; &#39;&#34;HR&#34;.&#34;PKG&#34;.&#34;MYPROC&#34;&#39;);

  <span class="bold">-- Analyze up to 20 calls to subtrees rooted at trace entry</span>
  <span class="bold">-- &#34;HR&#34;.&#34;PKG&#34;.&#34;MYFUNC&#34;.  Because &#34;HR&#34;.&#34;PKG&#34;.&#34;MYFUNC&#34; is overloaded,</span>
  <span class="bold">-- both overloads are considered for analysis.</span>

  runid := DBMS_HPROF.analyze(&#39;PLSHPROF_DIR&#39;, &#39;test2.trc&#39;,
                              collect =&gt; 20,
                              trace =&gt; &#39;&#34;HR&#34;.&#34;PKG&#34;.&#34;MYFUNC&#34;&#39;);

  <span class="bold">-- Analyze second call to PL/SQL virtual machine</span>

  runid := DBMS_HPROF.analyze(&#39;PLSHPROF_DIR&#39;, &#39;test2.trc&#39;,
                              skip =&gt; 1, collect =&gt; 1,
                              trace =&gt; &#39;&#34;&#34;.&#34;&#34;.&#34;&#34;__plsql_vm&#34;&#39;);
END;
/
</pre></div>
<!-- class="example" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDCIECE"></a>
<div id="ADFNS02305" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">13.5</span> plshprof Utility</h2>
<p><a id="sthref741"></a>The <code dir="ltr">plshprof</code> command-line utility (located in the directory <code dir="ltr">$ORACLE_HOME/bin/</code>) generates simple HTML reports from either one or two raw profiler output files. (For an example of a raw profiler output file, see <code dir="ltr">test</code>.<code dir="ltr">trc</code> in <a href="#CHDBCIDI">Section 13.2</a>.)</p>
<p>You can browse the generated HTML reports in any browser. The browser&#39;s navigational capabilities, combined with well chosen links, provide a powerful way to analyze performance of large applications, improve application performance, and lower development costs.</p>
<p class="subhead2"><a id="ADFNS1047"></a>Topics:</p>
<ul>
<li>
<p><a href="#g3259957">plshprof Options</a></p>
</li>
<li>
<p><a href="#CHDCIGIB">HTML Report from a Single Raw Profiler Output File</a></p>
</li>
<li>
<p><a href="#CHDEIIGG">HTML Difference Report from Two Raw Profiler Output Files</a></p>
</li>
</ul>
<a id="g3259957"></a>
<div id="ADFNS431" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.5.1</span> plshprof Options</h3>
<p>The command to run the <code dir="ltr">plshprof</code> utility is:</p>
<pre dir="ltr">plshprof [<span class="italic">option</span>...] <span class="italic">profiler_output_filename_1</span> <span class="italic">profiler_output_filename_2</span>
</pre>
<p>Each <code dir="ltr"><span class="codeinlineitalic">option</span></code> is one of these:</p>
<div class="inftblinformal">
<table class="cellalignment296" title="plshprof Utility Options" summary="This table summarizes the options of the plshprof utility." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t15">Option</th>
<th class="cellalignment294" id="r1c2-t15">Description</th>
<th class="cellalignment294" id="r1c3-t15">Default</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t15" headers="r1c1-t15"><code dir="ltr">-skip</code> <code dir="ltr"><span class="codeinlineitalic">count</span></code></td>
<td class="cellalignment295" headers="r2c1-t15 r1c2-t15">Skips first <code dir="ltr"><span class="codeinlineitalic">count</span></code> calls. Use only with <code dir="ltr">-trace</code>&nbsp;<code dir="ltr"><span class="codeinlineitalic">symbol</span></code>.</td>
<td class="cellalignment295" headers="r2c1-t15 r1c3-t15">0</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t15" headers="r1c1-t15"><code dir="ltr">-collect</code> <code dir="ltr"><span class="codeinlineitalic">count</span></code></td>
<td class="cellalignment295" headers="r3c1-t15 r1c2-t15">Collects information for <code dir="ltr"><span class="codeinlineitalic">count</span></code> calls. Use only with <code dir="ltr">-trace</code>&nbsp;<code dir="ltr"><span class="codeinlineitalic">symbol</span></code>.</td>
<td class="cellalignment295" headers="r3c1-t15 r1c3-t15">1</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t15" headers="r1c1-t15"><code dir="ltr">-output</code> <code dir="ltr"><span class="codeinlineitalic">filename</span></code></td>
<td class="cellalignment295" headers="r4c1-t15 r1c2-t15">Specifies name of output file</td>
<td class="cellalignment295" headers="r4c1-t15 r1c3-t15"><code dir="ltr"><span class="codeinlineitalic">symbol</span></code>.<code dir="ltr">html</code> or <code dir="ltr"><span class="codeinlineitalic">tracefile1</span></code>.<code dir="ltr">html</code></td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t15" headers="r1c1-t15"><code dir="ltr">-summary</code></td>
<td class="cellalignment295" headers="r5c1-t15 r1c2-t15">Prints only elapsed time</td>
<td class="cellalignment295" headers="r5c1-t15 r1c3-t15">None</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t15" headers="r1c1-t15"><code dir="ltr">-trace</code> <code dir="ltr"><span class="codeinlineitalic">symbol</span></code></td>
<td class="cellalignment295" headers="r6c1-t15 r1c2-t15">Specifies function name of tree root</td>
<td class="cellalignment295" headers="r6c1-t15 r1c3-t15">Not applicable</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Suppose that your raw profiler output file, <code dir="ltr">test</code>.<code dir="ltr">trc</code>, is in the current directory. You want to analyze and generate HTML reports, and you want the root file of the HTML report to be named <code dir="ltr">report</code>.<code dir="ltr">html</code>. Use this command (<code dir="ltr">%</code> is the prompt):</p>
<pre dir="ltr">% plshprof -output report test.trc
</pre></div>
<!-- class="sect2" -->
<a id="CHDCIGIB"></a>
<div id="ADFNS432" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.5.2</span> HTML Report from a Single Raw Profiler Output File</h3>
<p>To generate a PL/SQL hierarchical profiler HTML report from a single raw profiler output file, use these commands:</p>
<pre dir="ltr">% cd <span class="codeinlineitalic">target_directory</span>
% plshprof -output <span class="codeinlineitalic">html_root_filename</span> <span class="codeinlineitalic">profiler_output_filename</span>
</pre>
<p><code dir="ltr"><span class="codeinlineitalic">target_directory</span></code> is the directory in which you want the HTML files to be created.</p>
<p><code dir="ltr"><span class="codeinlineitalic">html_root_filename</span></code> is the name of the root HTML file to be created.</p>
<p><code dir="ltr"><span class="codeinlineitalic">profiler_output_filename</span></code> is the name of a raw profiler output file.</p>
<p>The preceding <code dir="ltr">plshprof</code> command generates a set of HTML files. Start browsing them from <code dir="ltr"><span class="codeinlineitalic">html_root_filename</span></code>.<code dir="ltr">html</code>.</p>
<p class="subhead2"><a id="ADFNS1048"></a>Topics:</p>
<ul>
<li>
<p><a href="#CHDFCACH">First Page of Report</a></p>
</li>
<li>
<p><a href="#CHDJDIDA">Function-Level Reports</a></p>
</li>
<li>
<p><a href="#CHDEEEGJ">Module-Level Reports</a></p>
</li>
<li>
<p><a href="#CHDDCAHJ">Namespace-Level Reports</a></p>
</li>
<li>
<p><a href="#CHDHDADJ">Parents and Children Report for a Function</a></p>
</li>
</ul>
<a id="CHDFCACH"></a>
<div id="ADFNS433" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.2.1</span> First Page of Report</h4>
<p>The first page of an HTML report from a single raw profiler output file includes summary information and hyperlinks to other pages of the report.</p>
<p class="subhead2"><a id="ADFNS434"></a>Sample First Page</p>
<p><span class="bold">PL/SQL Elapsed Time (microsecs) Analysis</span></p>
<p><span class="bold">2831 microsecs (elapsed time) &amp; 12 function calls</span></p>
<p>The PL/SQL Hierarchical Profiler produces a collection of reports that present information derived from the profiler output log in a variety of formats. These reports have been found to be the most generally useful as starting points for browsing:</p>
<ul>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Subtree Elapsed Time (microsecs)</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs)</p>
</li>
</ul>
<p><span class="bold">Also, the following reports are also available:</span></p>
<ul>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Function Name</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Descendants Elapsed Time (microsecs)</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Function Call Count</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Mean Subtree Elapsed Time (microsecs)</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Mean Function Elapsed Time (microsecs)</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Mean Descendants Elapsed Time (microsecs)</p>
</li>
<li>
<p>Module Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs)</p>
</li>
<li>
<p>Module Elapsed Time (microsecs) Data sorted by Module Name</p>
</li>
<li>
<p>Module Elapsed Time (microsecs) Data sorted by Total Function Call Count</p>
</li>
<li>
<p>Namespace Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs)</p>
</li>
<li>
<p>Namespace Elapsed Time (microsecs) Data sorted by Namespace</p>
</li>
<li>
<p>Namespace Elapsed Time (microsecs) Data sorted by Total Function Call Count</p>
</li>
<li>
<p>Parents and Children Elapsed Time (microsecs) Data</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDJDIDA"></a>
<div id="ADFNS435" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.2.2</span> Function-Level Reports</h4>
<p>The function-level reports provide a flat view of the profile information. Each function-level report includes this information for each function:</p>
<ul>
<li>
<p>Function time (time spent in the function itself, also called &#34;self time&#34;)</p>
</li>
<li>
<p>Descendants time (time spent in the descendants of the function)</p>
</li>
<li>
<p>Subtree time (time spent in the subtree of the function&mdash;function time plus descendants time)</p>
</li>
<li>
<p>Number of calls to the function</p>
</li>
<li>
<p>Function name</p>
<p>The function name is hyperlinked to the Parents and Children Report for the function.</p>
</li>
</ul>
<p>Each function-level report is sorted on a particular attribute; for example, function time or subtree time.</p>
<p>This sample report is sorted in descending order of the total subtree elapsed time for the function, which is why information in the Subtree and Ind% columns is in <span class="bold">bold type</span>:</p>
<p class="subhead2"><a id="ADFNS436"></a>Sample Report</p>
<p><span class="bold">Function Elapsed Time (microsecs) Data sorted by Total Subtree Elapsed Time (microsecs)</span></p>
<p><span class="bold">2831 microsecs (elapsed time) &amp; 12 function calls</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is a sample report whose columns are Subtree, Ind%, Function, Descendent, Ind%, Calls, Ind%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t16">Subtree</th>
<th class="cellalignment294" id="r1c2-t16">Ind%</th>
<th class="cellalignment294" id="r1c3-t16">Function</th>
<th class="cellalignment294" id="r1c4-t16">Descendant</th>
<th class="cellalignment294" id="r1c5-t16">Ind%</th>
<th class="cellalignment294" id="r1c6-t16">Calls</th>
<th class="cellalignment294" id="r1c7-t16">Ind%</th>
<th class="cellalignment294" id="r1c8-t16">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t16" headers="r1c1-t16"><span class="bold">2831</span></td>
<td class="cellalignment295" headers="r2c1-t16 r1c2-t16"><span class="bold">100%</span></td>
<td class="cellalignment295" headers="r2c1-t16 r1c3-t16">93</td>
<td class="cellalignment295" headers="r2c1-t16 r1c4-t16">2738</td>
<td class="cellalignment295" headers="r2c1-t16 r1c5-t16">96.7%</td>
<td class="cellalignment295" headers="r2c1-t16 r1c6-t16">2</td>
<td class="cellalignment295" headers="r2c1-t16 r1c7-t16">16.7%</td>
<td class="cellalignment295" headers="r2c1-t16 r1c8-t16">__plsq_vm</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t16" headers="r1c1-t16"><span class="bold">2738</span></td>
<td class="cellalignment295" headers="r3c1-t16 r1c2-t16"><span class="bold">96.7%</span></td>
<td class="cellalignment295" headers="r3c1-t16 r1c3-t16">310</td>
<td class="cellalignment295" headers="r3c1-t16 r1c4-t16">2428</td>
<td class="cellalignment295" headers="r3c1-t16 r1c5-t16">85.8%</td>
<td class="cellalignment295" headers="r3c1-t16 r1c6-t16">2</td>
<td class="cellalignment295" headers="r3c1-t16 r1c7-t16">16.7%</td>
<td class="cellalignment295" headers="r3c1-t16 r1c8-t16">__anonymous_block</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t16" headers="r1c1-t16"><span class="bold">2428</span></td>
<td class="cellalignment295" headers="r4c1-t16 r1c2-t16"><span class="bold">85.8%</span></td>
<td class="cellalignment295" headers="r4c1-t16 r1c3-t16">15</td>
<td class="cellalignment295" headers="r4c1-t16 r1c4-t16">2413</td>
<td class="cellalignment295" headers="r4c1-t16 r1c5-t16">85.2%</td>
<td class="cellalignment295" headers="r4c1-t16 r1c6-t16">1</td>
<td class="cellalignment295" headers="r4c1-t16 r1c7-t16">8.3%</td>
<td class="cellalignment295" headers="r4c1-t16 r1c8-t16">HR.TEST.TEST (Line 1)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t16" headers="r1c1-t16"><span class="bold">2413</span></td>
<td class="cellalignment295" headers="r5c1-t16 r1c2-t16"><span class="bold">85.2%</span></td>
<td class="cellalignment295" headers="r5c1-t16 r1c3-t16">435</td>
<td class="cellalignment295" headers="r5c1-t16 r1c4-t16">1978</td>
<td class="cellalignment295" headers="r5c1-t16 r1c5-t16">69.9%</td>
<td class="cellalignment295" headers="r5c1-t16 r1c6-t16">3</td>
<td class="cellalignment295" headers="r5c1-t16 r1c7-t16">25.0%</td>
<td class="cellalignment295" headers="r5c1-t16 r1c8-t16">HR.TEST.TEST.FOO (Line 3)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t16" headers="r1c1-t16"><span class="bold">1978</span></td>
<td class="cellalignment295" headers="r6c1-t16 r1c2-t16"><span class="bold">69.9%</span></td>
<td class="cellalignment295" headers="r6c1-t16 r1c3-t16">1978</td>
<td class="cellalignment295" headers="r6c1-t16 r1c4-t16">0</td>
<td class="cellalignment295" headers="r6c1-t16 r1c5-t16">0.0%</td>
<td class="cellalignment295" headers="r6c1-t16 r1c6-t16">3</td>
<td class="cellalignment295" headers="r6c1-t16 r1c7-t16">25.0%</td>
<td class="cellalignment295" headers="r6c1-t16 r1c8-t16">HR.TEST.__static_sql_exec_line5 (Line 5)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t16" headers="r1c1-t16"><span class="bold">0</span></td>
<td class="cellalignment295" headers="r7c1-t16 r1c2-t16"><span class="bold">0.0%</span></td>
<td class="cellalignment295" headers="r7c1-t16 r1c3-t16">0</td>
<td class="cellalignment295" headers="r7c1-t16 r1c4-t16">0</td>
<td class="cellalignment295" headers="r7c1-t16 r1c5-t16">0.0%</td>
<td class="cellalignment295" headers="r7c1-t16 r1c6-t16">1</td>
<td class="cellalignment295" headers="r7c1-t16 r1c7-t16">8.3%</td>
<td class="cellalignment295" headers="r7c1-t16 r1c8-t16">SYS.DBMS_HPROF.STOP_PROFILING (Line 53)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<a id="CHDEEEGJ"></a>
<div id="ADFNS437" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.2.3</span> Module-Level Reports</h4>
<p>Each module-level report includes this information for each module (for example, package or type):</p>
<ul>
<li>
<p>Module time (time spent in the module&mdash;sum of the function times of all functions in the module)</p>
</li>
<li>
<p>Number of calls to functions in the module</p>
</li>
</ul>
<p>Each module-level report is sorted on a particular attribute; for example, module time or module name.</p>
<p>This sample report is sorted by module time, which is why information in the Module, Ind%, and Cum% columns is in <span class="bold">bold type</span>:</p>
<p class="subhead2"><a id="ADFNS438"></a>Sample Report</p>
<p><span class="bold">Module Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs)</span></p>
<p><span class="bold">166878 microsecs (elapsed time) &amp; 1099 function calls</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This informal table is a sample report whose columns show module time and number of calls to functions in the module." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t17">Module</th>
<th class="cellalignment294" id="r1c2-t17">Ind%</th>
<th class="cellalignment294" id="r1c3-t17">Cum%</th>
<th class="cellalignment294" id="r1c4-t17">Calls</th>
<th class="cellalignment294" id="r1c5-t17">Ind%</th>
<th class="cellalignment294" id="r1c6-t17">Module Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t17" headers="r1c1-t17"><span class="bold">84932</span></td>
<td class="cellalignment295" headers="r2c1-t17 r1c2-t17"><span class="bold">50.9%</span></td>
<td class="cellalignment295" headers="r2c1-t17 r1c3-t17"><span class="bold">50.9%</span></td>
<td class="cellalignment295" headers="r2c1-t17 r1c4-t17">6</td>
<td class="cellalignment295" headers="r2c1-t17 r1c5-t17">0.5%</td>
<td class="cellalignment295" headers="r2c1-t17 r1c6-t17">HR.P</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t17" headers="r1c1-t17"><span class="bold">67749</span></td>
<td class="cellalignment295" headers="r3c1-t17 r1c2-t17"><span class="bold">40.6%</span></td>
<td class="cellalignment295" headers="r3c1-t17 r1c3-t17"><span class="bold">91.5%</span></td>
<td class="cellalignment295" headers="r3c1-t17 r1c4-t17">216</td>
<td class="cellalignment295" headers="r3c1-t17 r1c5-t17">19.7%</td>
<td class="cellalignment295" headers="r3c1-t17 r1c6-t17">SYS.DBMS_LOB</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t17" headers="r1c1-t17"><span class="bold">13340</span></td>
<td class="cellalignment295" headers="r4c1-t17 r1c2-t17"><span class="bold">8.0%</span></td>
<td class="cellalignment295" headers="r4c1-t17 r1c3-t17"><span class="bold">99.5%</span></td>
<td class="cellalignment295" headers="r4c1-t17 r1c4-t17">660</td>
<td class="cellalignment295" headers="r4c1-t17 r1c5-t17">60.1%</td>
<td class="cellalignment295" headers="r4c1-t17 r1c6-t17">SYS.UTL_FILE</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t17" headers="r1c1-t17"><span class="bold">839</span></td>
<td class="cellalignment295" headers="r5c1-t17 r1c2-t17"><span class="bold">0.5%</span></td>
<td class="cellalignment295" headers="r5c1-t17 r1c3-t17"><span class="bold">100%</span></td>
<td class="cellalignment295" headers="r5c1-t17 r1c4-t17">214</td>
<td class="cellalignment295" headers="r5c1-t17 r1c5-t17">19.5%</td>
<td class="cellalignment295" headers="r5c1-t17 r1c6-t17">SYS.UTL_RAW</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t17" headers="r1c1-t17"><span class="bold">18</span></td>
<td class="cellalignment295" headers="r6c1-t17 r1c2-t17"><span class="bold">0.0%</span></td>
<td class="cellalignment295" headers="r6c1-t17 r1c3-t17"><span class="bold">100%</span></td>
<td class="cellalignment295" headers="r6c1-t17 r1c4-t17">2</td>
<td class="cellalignment295" headers="r6c1-t17 r1c5-t17">0.2%</td>
<td class="cellalignment295" headers="r6c1-t17 r1c6-t17">HR.UTILS</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t17" headers="r1c1-t17"><span class="bold">0</span></td>
<td class="cellalignment295" headers="r7c1-t17 r1c2-t17"><span class="bold">0.0%</span></td>
<td class="cellalignment295" headers="r7c1-t17 r1c3-t17"><span class="bold">100%</span></td>
<td class="cellalignment295" headers="r7c1-t17 r1c4-t17">1</td>
<td class="cellalignment295" headers="r7c1-t17 r1c5-t17">0.1%</td>
<td class="cellalignment295" headers="r7c1-t17 r1c6-t17">SYS.DBMS_HPROF</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<a id="CHDDCAHJ"></a>
<div id="ADFNS439" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.2.4</span> Namespace-Level Reports</h4>
<p>Each namespace-level report includes this information for each namespace:</p>
<ul>
<li>
<p>Namespace time (time spent in the namespace&mdash;sum of the function times of all functions in the namespace)</p>
</li>
<li>
<p>Number of calls to functions in the namespace</p>
</li>
</ul>
<p>Each namespace-level report is sorted on a particular attribute; for example, namespace time or number of calls to functions in the namespace.</p>
<p>This sample report is sorted by function time, which is why information in the Function, Ind%, and Cum% columns is in <span class="bold">bold type</span>:</p>
<p class="subhead2"><a id="ADFNS440"></a>Sample Report</p>
<p><span class="bold">Namespace Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs)</span></p>
<p><span class="bold">166878 microsecs (elapsed time) &amp; 1099 function calls</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This informal table is a sample report whose columns show function time, number of calls to the function, and namespace of the function." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t18">Function</th>
<th class="cellalignment294" id="r1c2-t18">Ind%</th>
<th class="cellalignment294" id="r1c3-t18">Cum%</th>
<th class="cellalignment294" id="r1c4-t18">Calls</th>
<th class="cellalignment294" id="r1c5-t18">Ind%</th>
<th class="cellalignment294" id="r1c6-t18">Namespace</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t18" headers="r1c1-t18"><span class="bold">93659</span></td>
<td class="cellalignment295" headers="r2c1-t18 r1c2-t18"><span class="bold">56.1%</span></td>
<td class="cellalignment295" headers="r2c1-t18 r1c3-t18"><span class="bold">56.1%</span></td>
<td class="cellalignment295" headers="r2c1-t18 r1c4-t18">1095</td>
<td class="cellalignment295" headers="r2c1-t18 r1c5-t18">99.6%</td>
<td class="cellalignment295" headers="r2c1-t18 r1c6-t18">PLSQL</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t18" headers="r1c1-t18"><span class="bold">73219</span></td>
<td class="cellalignment295" headers="r3c1-t18 r1c2-t18"><span class="bold">43.9%</span></td>
<td class="cellalignment295" headers="r3c1-t18 r1c3-t18"><span class="bold">100%</span></td>
<td class="cellalignment295" headers="r3c1-t18 r1c4-t18">4</td>
<td class="cellalignment295" headers="r3c1-t18 r1c5-t18">0.4%</td>
<td class="cellalignment295" headers="r3c1-t18 r1c6-t18">SQL</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<a id="CHDHDADJ"></a>
<div id="ADFNS441" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.2.5</span> Parents and Children Report for a Function</h4>
<p>For each function tracked by the profiler, the Parents and Children Report provides information about parents (functions that call it) and children (functions that it calls). For each parent, the report gives the function&#39;s execution profile (subtree time, function time, descendants time, and number of calls). For each child, the report gives the execution profile for the child when called from this function (but not when called from other functions).</p>
<p>The execution profile for a function includes the same information for that function as a function-level report includes for each function (for details, see <a href="#CHDJDIDA">Section 13.5.2.2, &#34;Function-Level Reports&#34;</a>).</p>
<p>This <a href="#CHDEGGJG">Sample Report</a> is a fragment of a Parents and Children Report that corresponds to a function named <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>. The first row has this summary information:</p>
<ul>
<li>
<p>There are two calls to the function <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>.</p>
</li>
<li>
<p>The total subtree time for the function is 166,860 microseconds&mdash;11,713 microseconds (7.0%) in the function itself and 155,147 microseconds (93.0%) in its descendants.</p>
</li>
</ul>
<p>After the row &#34;Parents&#34; are the execution profile rows for the two parents of <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>, which are <code dir="ltr">HR</code>.<code dir="ltr">UTILS</code>.<code dir="ltr">COPY_IMAGE</code> and <code dir="ltr">HR</code>.<code dir="ltr">UTILS</code>.<code dir="ltr">COPY_FILE</code>.</p>
<p>The first parent execution profile row, for <code dir="ltr">HR</code>.<code dir="ltr">UTILS</code>.<code dir="ltr">COPY_IMAGE</code>, shows:</p>
<ul>
<li>
<p><code dir="ltr">HR</code>.<code dir="ltr">UTILS</code>.<code dir="ltr">COPY_IMAGE</code> calls <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> once, which is 50% of the number of calls to <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>.</p>
</li>
<li>
<p>The subtree time for <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> when called from <code dir="ltr">HR</code>.<code dir="ltr">UTILS</code>.<code dir="ltr">COPY_IMAGE</code> is 106,325 microseconds, which is 63.7% of the total subtree time for <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>.</p>
</li>
<li>
<p>The function time for <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> when called from <code dir="ltr">HR</code>.<code dir="ltr">UTILS</code>.<code dir="ltr">COPY_IMAGE</code> is 6,434 microseconds, which is 54.9% of the total function time for <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>.</p>
</li>
</ul>
<p>After the row &#34;Children&#34; are the execution profile rows for the children of <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> when called from <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code>.</p>
<p>The third child execution profile row, for <code dir="ltr">SYS</code>.<code dir="ltr">UTL_FILE</code>.<code dir="ltr">GET_RAW</code>, shows:</p>
<ul>
<li>
<p><code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> calls <code dir="ltr">SYS</code>.<code dir="ltr">UTL_FILE</code>.<code dir="ltr">GET_RAW</code> 216 times.</p>
</li>
<li>
<p>The subtree time, function time and descendants time for <code dir="ltr">SYS</code>.<code dir="ltr">UTL_FILE</code>.<code dir="ltr">GET_RAW</code> when called from <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> are 12,487 microseconds, 3,969 microseconds, and 8,518 microseconds, respectively.</p>
</li>
<li>
<p>Of the total descendants time for <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">UPLOAD</code> (155,147 microseconds), the child <code dir="ltr">SYS</code>.<code dir="ltr">UTL_FILE</code>.<code dir="ltr">GET_RAW</code> is responsible for 12,487 microsecs (8.0%).</p>
</li>
</ul>
<p class="subhead2"><a id="CHDEGGJG"></a><a id="ADFNS442"></a>Sample Report</p>
<p><span class="bold">HR.P.UPLOAD (Line 3)</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is a sample report for HR.P.UPLOAD. Its columns are Subtree, Ind%, Function, Ind%, Descendent, Ind%, Calls, Ind%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t19">Subtree</th>
<th class="cellalignment294" id="r1c2-t19">Ind%</th>
<th class="cellalignment294" id="r1c3-t19">Function</th>
<th class="cellalignment294" id="r1c4-t19">Ind%</th>
<th class="cellalignment294" id="r1c5-t19">Descendant</th>
<th class="cellalignment294" id="r1c6-t19">Ind%</th>
<th class="cellalignment294" id="r1c7-t19">Calls</th>
<th class="cellalignment294" id="r1c8-t19">Ind%</th>
<th class="cellalignment294" id="r1c9-t19">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t19" headers="r1c1-t19"><span class="bold">166860</span></td>
<td class="cellalignment295" headers="r2c1-t19 r1c2-t19"><span class="bold">100%</span></td>
<td class="cellalignment295" headers="r2c1-t19 r1c3-t19">11713</td>
<td class="cellalignment295" headers="r2c1-t19 r1c4-t19">7.0%</td>
<td class="cellalignment295" headers="r2c1-t19 r1c5-t19">155147</td>
<td class="cellalignment295" headers="r2c1-t19 r1c6-t19">93.0%</td>
<td class="cellalignment295" headers="r2c1-t19 r1c7-t19">2</td>
<td class="cellalignment295" headers="r2c1-t19 r1c8-t19">0.2%</td>
<td class="cellalignment295" headers="r2c1-t19 r1c9-t19">HR.P.UPLOAD (Line&nbsp;3)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t19" headers="r1c1-t19">Parents:</td>
<td class="cellalignment295" headers="r3c1-t19 r1c2-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c3-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c4-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c5-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c6-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c7-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c8-t19">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t19 r1c9-t19">&nbsp;</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t19" headers="r1c1-t19"><span class="bold">106325</span></td>
<td class="cellalignment295" headers="r4c1-t19 r1c2-t19"><span class="bold">63.7%</span></td>
<td class="cellalignment295" headers="r4c1-t19 r1c3-t19">6434</td>
<td class="cellalignment295" headers="r4c1-t19 r1c4-t19">54.9%</td>
<td class="cellalignment295" headers="r4c1-t19 r1c5-t19">99891</td>
<td class="cellalignment295" headers="r4c1-t19 r1c6-t19">64.4%</td>
<td class="cellalignment295" headers="r4c1-t19 r1c7-t19">1</td>
<td class="cellalignment295" headers="r4c1-t19 r1c8-t19">50.0%</td>
<td class="cellalignment295" headers="r4c1-t19 r1c9-t19">HR.UTILS.COPY_IMAGE (Line 3)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t19" headers="r1c1-t19"><span class="bold">60535</span></td>
<td class="cellalignment295" headers="r5c1-t19 r1c2-t19"><span class="bold">36.3%</span></td>
<td class="cellalignment295" headers="r5c1-t19 r1c3-t19">5279</td>
<td class="cellalignment295" headers="r5c1-t19 r1c4-t19">45.1%</td>
<td class="cellalignment295" headers="r5c1-t19 r1c5-t19">55256</td>
<td class="cellalignment295" headers="r5c1-t19 r1c6-t19">35.6%</td>
<td class="cellalignment295" headers="r5c1-t19 r1c7-t19">1</td>
<td class="cellalignment295" headers="r5c1-t19 r1c8-t19">50.0%</td>
<td class="cellalignment295" headers="r5c1-t19 r1c9-t19">HR.UTILS.COPY_FILE (Line 8))</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t19" headers="r1c1-t19">Children:</td>
<td class="cellalignment295" headers="r6c1-t19 r1c2-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c3-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c4-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c5-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c6-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c7-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c8-t19">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t19 r1c9-t19">&nbsp;</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t19" headers="r1c1-t19"><span class="bold">71818</span></td>
<td class="cellalignment295" headers="r7c1-t19 r1c2-t19"><span class="bold">46.3%</span></td>
<td class="cellalignment295" headers="r7c1-t19 r1c3-t19">71818</td>
<td class="cellalignment295" headers="r7c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r7c1-t19 r1c5-t19">0</td>
<td class="cellalignment295" headers="r7c1-t19 r1c6-t19">N/A</td>
<td class="cellalignment295" headers="r7c1-t19 r1c7-t19">2</td>
<td class="cellalignment295" headers="r7c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r7c1-t19 r1c9-t19">HR.P.__static_sql_exec_line38 (Line 38)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r8c1-t19" headers="r1c1-t19"><span class="bold">67649</span></td>
<td class="cellalignment295" headers="r8c1-t19 r1c2-t19"><span class="bold">43.6%</span></td>
<td class="cellalignment295" headers="r8c1-t19 r1c3-t19">67649</td>
<td class="cellalignment295" headers="r8c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r8c1-t19 r1c5-t19">0</td>
<td class="cellalignment295" headers="r8c1-t19 r1c6-t19">N/A</td>
<td class="cellalignment295" headers="r8c1-t19 r1c7-t19">214</td>
<td class="cellalignment295" headers="r8c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r8c1-t19 r1c9-t19">SYS.DBMS_LOB.WRITEAPPEND (Line 926)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r9c1-t19" headers="r1c1-t19"><span class="bold">12487</span></td>
<td class="cellalignment295" headers="r9c1-t19 r1c2-t19"><span class="bold">8.0%</span></td>
<td class="cellalignment295" headers="r9c1-t19 r1c3-t19">3969</td>
<td class="cellalignment295" headers="r9c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r9c1-t19 r1c5-t19">8518</td>
<td class="cellalignment295" headers="r9c1-t19 r1c6-t19">100%</td>
<td class="cellalignment295" headers="r9c1-t19 r1c7-t19">216</td>
<td class="cellalignment295" headers="r9c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r9c1-t19 r1c9-t19">SYS.UTL_FILE.GET_RAW (Line 1089)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r10c1-t19" headers="r1c1-t19"><span class="bold">1401</span></td>
<td class="cellalignment295" headers="r10c1-t19 r1c2-t19"><span class="bold">0.9%</span></td>
<td class="cellalignment295" headers="r10c1-t19 r1c3-t19">1401</td>
<td class="cellalignment295" headers="r10c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r10c1-t19 r1c5-t19">0</td>
<td class="cellalignment295" headers="r10c1-t19 r1c6-t19">N/A</td>
<td class="cellalignment295" headers="r10c1-t19 r1c7-t19">2</td>
<td class="cellalignment295" headers="r10c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r10c1-t19 r1c9-t19">HR.P.__static_sql_exec_line39 (Line 39)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r11c1-t19" headers="r1c1-t19"><span class="bold">839</span></td>
<td class="cellalignment295" headers="r11c1-t19 r1c2-t19"><span class="bold">0.5%</span></td>
<td class="cellalignment295" headers="r11c1-t19 r1c3-t19">839</td>
<td class="cellalignment295" headers="r11c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r11c1-t19 r1c5-t19">0</td>
<td class="cellalignment295" headers="r11c1-t19 r1c6-t19">N/A</td>
<td class="cellalignment295" headers="r11c1-t19 r1c7-t19">214</td>
<td class="cellalignment295" headers="r11c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r11c1-t19 r1c9-t19">SYS.UTL_FILE.GET_RAW (Line 246)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r12c1-t19" headers="r1c1-t19"><span class="bold">740</span></td>
<td class="cellalignment295" headers="r12c1-t19 r1c2-t19"><span class="bold">0.5%</span></td>
<td class="cellalignment295" headers="r12c1-t19 r1c3-t19">73</td>
<td class="cellalignment295" headers="r12c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r12c1-t19 r1c5-t19">667</td>
<td class="cellalignment295" headers="r12c1-t19 r1c6-t19">100%</td>
<td class="cellalignment295" headers="r12c1-t19 r1c7-t19">2</td>
<td class="cellalignment295" headers="r12c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r12c1-t19 r1c9-t19">SYS.UTL_FILE.FOPEN (Line 422)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r13c1-t19" headers="r1c1-t19"><span class="bold">113</span></td>
<td class="cellalignment295" headers="r13c1-t19 r1c2-t19"><span class="bold">0.1%</span></td>
<td class="cellalignment295" headers="r13c1-t19 r1c3-t19">11</td>
<td class="cellalignment295" headers="r13c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r13c1-t19 r1c5-t19">102</td>
<td class="cellalignment295" headers="r13c1-t19 r1c6-t19">100%</td>
<td class="cellalignment295" headers="r13c1-t19 r1c7-t19">2</td>
<td class="cellalignment295" headers="r13c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r13c1-t19 r1c9-t19">SYS.UTL_FILE.FCLOSE (Line 585)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r14c1-t19" headers="r1c1-t19"><span class="bold">100</span></td>
<td class="cellalignment295" headers="r14c1-t19 r1c2-t19"><span class="bold">0.1%</span></td>
<td class="cellalignment295" headers="r14c1-t19 r1c3-t19">100</td>
<td class="cellalignment295" headers="r14c1-t19 r1c4-t19">100%</td>
<td class="cellalignment295" headers="r14c1-t19 r1c5-t19">0</td>
<td class="cellalignment295" headers="r14c1-t19 r1c6-t19">N/A</td>
<td class="cellalignment295" headers="r14c1-t19 r1c7-t19">2</td>
<td class="cellalignment295" headers="r14c1-t19 r1c8-t19">100%</td>
<td class="cellalignment295" headers="r14c1-t19 r1c9-t19">SYS.DBMS_LOB.CREATETEMPORARY (Line 536)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEIIGG"></a>
<div id="ADFNS443" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">13.5.3</span> HTML Difference Report from Two Raw Profiler Output Files</h3>
<p>To generate a PL/SQL hierarchical profiler HTML difference report from two raw profiler output files, use these commands:</p>
<pre dir="ltr">% cd <span class="codeinlineitalic">target_directory</span>
% plshprof -output <span class="codeinlineitalic">html_root_filename</span> <span class="codeinlineitalic">profiler_output_filename_1</span> <span class="codeinlineitalic">profiler_output_filename_2</span>
</pre>
<p><code dir="ltr"><span class="codeinlineitalic">target_directory</span></code> is the directory in which you want the HTML files to be created.</p>
<p><code dir="ltr"><span class="codeinlineitalic">html_root_filename</span></code> is the name of the root HTML file to be created.</p>
<p><code dir="ltr"><span class="codeinlineitalic">profiler_output_filename_1</span></code> and <code dir="ltr"><span class="codeinlineitalic">profiler_output_filename_2</span></code> are the names of raw profiler output files.</p>
<p>The preceding <code dir="ltr">plshprof</code> command generates a set of HTML files. Start browsing them from <code dir="ltr"><span class="codeinlineitalic">html_root_filename</span></code>.<code dir="ltr">html</code>.</p>
<p class="subhead2"><a id="ADFNS1049"></a>Topics:</p>
<ul>
<li>
<p><a href="#CHDCJDIE">Difference Report Conventions</a></p>
</li>
<li>
<p><a href="#CHDDHHFF">First Page of Difference Report</a></p>
</li>
<li>
<p><a href="#CHDHBGII">Function-Level Difference Reports</a></p>
</li>
<li>
<p><a href="#CHDIAGIF">Module-Level Difference Reports</a></p>
</li>
<li>
<p><a href="#CHDJBEAG">Namespace-Level Difference Reports</a></p>
</li>
<li>
<p><a href="#CHDHIAJA">Parents and Children Difference Report for a Function</a></p>
</li>
</ul>
<a id="CHDCJDIE"></a>
<div id="ADFNS444" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.3.1</span> Difference Report Conventions</h4>
<p>Difference reports use these conventions:</p>
<ul>
<li>
<p>In a report title, <span class="bold">Delta</span> means <span class="bold">difference</span>, or <span class="bold">change</span>.</p>
</li>
<li>
<p>A <span class="bold">positive value</span> indicates that the number increased (<span class="bold">regressed</span>) from the first run to the second run.</p>
</li>
<li>
<p>A <span class="bold">negative value</span> for a difference indicates that the number decreased (<span class="bold">improved</span>) from the first run to the second run.</p>
</li>
<li>
<p>The symbol <code dir="ltr"><span class="codeinlinebold">#</span></code> after a function name means that the function was called in only one run.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDDHHFF"></a>
<div id="ADFNS445" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.3.2</span> First Page of Difference Report</h4>
<p>The first page of an HTML difference report from two raw profiler output files includes summary information and hyperlinks to other pages of the report.</p>
<p class="subhead2"><a id="ADFNS446"></a>Sample First Page</p>
<p><span class="bold">PL/SQL Elapsed Time (microsecs) Analysis &ndash; Summary Page</span></p>
<p>This analysis finds a net <span class="bold">regression</span> of <span class="bold">2709589</span> microsecs (elapsed time) or <span class="bold">80%</span> (<span class="bold">3393719</span> versus <span class="bold">6103308</span>). Here is a summary of the 7 most important individual function regressions and improvements:</p>
<p>Regressions: 3399382 microsecs (elapsed time)</p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is shows regressions on the first page of a sample difference report . Its columns are Function, Rel%, Ind%, Calls, Rel%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t20">Function</th>
<th class="cellalignment294" id="r1c2-t20">Rel%</th>
<th class="cellalignment294" id="r1c3-t20">Ind%</th>
<th class="cellalignment294" id="r1c4-t20">Calls</th>
<th class="cellalignment294" id="r1c5-t20">Rel%</th>
<th class="cellalignment294" id="r1c6-t20">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t20" headers="r1c1-t20"><span class="bold">2075627</span></td>
<td class="cellalignment295" headers="r2c1-t20 r1c2-t20"><span class="bold">+941%</span></td>
<td class="cellalignment295" headers="r2c1-t20 r1c3-t20"><span class="bold">61.1%</span></td>
<td class="cellalignment295" headers="r2c1-t20 r1c4-t20">0</td>
<td class="cellalignment295" headers="r2c1-t20 r1c5-t20">&nbsp;</td>
<td class="cellalignment295" headers="r2c1-t20 r1c6-t20">HR.P.G (Line 35)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t20" headers="r1c1-t20"><span class="bold">1101384</span></td>
<td class="cellalignment295" headers="r3c1-t20 r1c2-t20"><span class="bold">+54.6%</span></td>
<td class="cellalignment295" headers="r3c1-t20 r1c3-t20"><span class="bold">32.4%</span></td>
<td class="cellalignment295" headers="r3c1-t20 r1c4-t20">5</td>
<td class="cellalignment295" headers="r3c1-t20 r1c5-t20">+55.6%</td>
<td class="cellalignment295" headers="r3c1-t20 r1c6-t20">HR.P.H (Line 18)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t20" headers="r1c1-t20"><span class="bold">222371</span></td>
<td class="cellalignment295" headers="r4c1-t20 r1c2-t20">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t20 r1c3-t20"><span class="bold">6.5%</span></td>
<td class="cellalignment295" headers="r4c1-t20 r1c4-t20">1</td>
<td class="cellalignment295" headers="r4c1-t20 r1c5-t20">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t20 r1c6-t20">HR.P.J (Line 10)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Improvements: 689793 microsecs (elapsed time)</p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is shows improvements on the first page of a sample difference report. Its columns are Function, Rel%, Ind%, Calls, Rel%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t21">Function</th>
<th class="cellalignment294" id="r1c2-t21">Rel%</th>
<th class="cellalignment294" id="r1c3-t21">Ind%</th>
<th class="cellalignment294" id="r1c4-t21">Calls</th>
<th class="cellalignment294" id="r1c5-t21">Rel%</th>
<th class="cellalignment294" id="r1c6-t21">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t21" headers="r1c1-t21"><span class="bold">-467051</span></td>
<td class="cellalignment295" headers="r2c1-t21 r1c2-t21"><span class="bold">-50.0%</span></td>
<td class="cellalignment295" headers="r2c1-t21 r1c3-t21"><span class="bold">67.7%</span></td>
<td class="cellalignment295" headers="r2c1-t21 r1c4-t21">-2</td>
<td class="cellalignment295" headers="r2c1-t21 r1c5-t21">-50.0%</td>
<td class="cellalignment295" headers="r2c1-t21 r1c6-t21">HR.P.F (Line 25)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t21" headers="r1c1-t21"><span class="bold">-222737</span></td>
<td class="cellalignment295" headers="r3c1-t21 r1c2-t21">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t21 r1c3-t21"><span class="bold">32.3%</span></td>
<td class="cellalignment295" headers="r3c1-t21 r1c4-t21">-1</td>
<td class="cellalignment295" headers="r3c1-t21 r1c5-t21">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t21 r1c6-t21">HR.P.I (Line 2)#</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t21" headers="r1c1-t21"><span class="bold">-5</span></td>
<td class="cellalignment295" headers="r4c1-t21 r1c2-t21"><span class="bold">-21.7%</span></td>
<td class="cellalignment295" headers="r4c1-t21 r1c3-t21"><span class="bold">0.0%</span></td>
<td class="cellalignment295" headers="r4c1-t21 r1c4-t21">0</td>
<td class="cellalignment295" headers="r4c1-t21 r1c5-t21">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t21 r1c6-t21">HR.P.TEST (Line 46)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p><span class="bold">The PL/SQL Timing Analyzer produces a collection of reports that present information derived from the profiler&#39;s output logs in a variety of formats. The following reports have been found to be the most generally useful as starting points for browsing:</span></p>
<ul>
<li>
<p>Function Elapsed Time (microsecs) Data for Performance Regressions</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data for Performance Improvements</p>
</li>
</ul>
<p><span class="bold">Also, the following reports are also available:</span></p>
<ul>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Function Name</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Subtree Elapsed Time (microsecs) Delta</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs) Delta</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Descendants Elapsed Time (microsecs) Delta</p>
</li>
<li>
<p>Function Elapsed Time (microsecs) Data sorted by Total Function Call Count Delta</p>
</li>
<li>
<p>Module Elapsed Time (microsecs) Data sorted by Module Name</p>
</li>
<li>
<p>Module Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs) Delta</p>
</li>
<li>
<p>Module Elapsed Time (microsecs) Data sorted by Total Function Call Count Delta</p>
</li>
<li>
<p>Namespace Elapsed Time (microsecs) Data sorted by Namespace</p>
</li>
<li>
<p>Namespace Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs)</p>
</li>
<li>
<p>Namespace Elapsed Time (microsecs) Data sorted by Total Function Call Count</p>
</li>
<li>
<p>File Elapsed Time (microsecs) Data Comparison with Parents and Children</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDHBGII"></a>
<div id="ADFNS447" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.3.3</span> Function-Level Difference Reports</h4>
<p>Each function-level difference report includes, for each function, the change in these values from the first run to the second run:</p>
<ul>
<li>
<p>Function time (time spent in the function itself, also called &#34;self time&#34;)</p>
</li>
<li>
<p>Descendants time (time spent in the descendants of the function)</p>
</li>
<li>
<p>Subtree time (time spent in the subtree of the function&mdash;function time plus descendants time)</p>
</li>
<li>
<p>Number of calls to the function</p>
</li>
<li>
<p>Mean function time</p>
<p>The mean function time is the function time divided by number of calls to the function.</p>
</li>
<li>
<p>Function name</p>
<p>The function name is hyperlinked to the Parents and Children Difference Report for the function.</p>
</li>
</ul>
<p>The report in <a href="#CHDDBFHH">Sample Report 1</a> shows the difference information for all functions that performed better in the first run than they did in the second run. Note that:</p>
<ul>
<li>
<p>For <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">G</code>, the function time increased by 2,075,627 microseconds (941%), which accounts for 61.1% of all regressions.</p>
</li>
<li>
<p>For <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">H</code>, the function time and number of calls increased by 1,101,384 microseconds (54.6%) and 5 (55.6%), respectively, but the mean function time improved by 1,346 microseconds (-0.6%).</p>
</li>
<li>
<p><code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">J</code> was called in only one run.</p>
</li>
</ul>
<p class="subhead2"><a id="CHDDBFHH"></a><a id="ADFNS448"></a>Sample Report 1</p>
<p><span class="bold">Function Elapsed Time (microsecs) Data for Performance Regressions</span></p>
<div class="inftblhruleinformalwidemax">
<table class="cellalignment296" title="Sample Report for Performance Regressions" summary="Sample report for performance regressions. Columns are Subtree, Function, Rel%, Ind%, Cum%, Descendent, Calls, Rel%, Mean Function, Rel%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t22">Subtree</th>
<th class="cellalignment294" id="r1c2-t22">Function</th>
<th class="cellalignment294" id="r1c3-t22">Rel%</th>
<th class="cellalignment294" id="r1c4-t22">Ind%</th>
<th class="cellalignment294" id="r1c5-t22">Cum%</th>
<th class="cellalignment294" id="r1c6-t22">Descendant</th>
<th class="cellalignment294" id="r1c7-t22">Calls</th>
<th class="cellalignment294" id="r1c8-t22">Rel%</th>
<th class="cellalignment294" id="r1c9-t22">Mean Function</th>
<th class="cellalignment294" id="r1c10-t22">Rel%</th>
<th class="cellalignment294" id="r1c11-t22">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t22" headers="r1c1-t22">4075787</td>
<td class="cellalignment295" headers="r2c1-t22 r1c2-t22"><span class="bold">2075627</span></td>
<td class="cellalignment295" headers="r2c1-t22 r1c3-t22"><span class="bold">+941%</span></td>
<td class="cellalignment295" headers="r2c1-t22 r1c4-t22"><span class="bold">61.1%</span></td>
<td class="cellalignment295" headers="r2c1-t22 r1c5-t22">61.1%</td>
<td class="cellalignment295" headers="r2c1-t22 r1c6-t22">2000160</td>
<td class="cellalignment295" headers="r2c1-t22 r1c7-t22">0</td>
<td class="cellalignment295" headers="r2c1-t22 r1c8-t22">&nbsp;</td>
<td class="cellalignment295" headers="r2c1-t22 r1c9-t22">2075627</td>
<td class="cellalignment295" headers="r2c1-t22 r1c10-t22">+941%</td>
<td class="cellalignment295" headers="r2c1-t22 r1c11-t22">HR.P.G (Line 35)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t22" headers="r1c1-t22">1101384</td>
<td class="cellalignment295" headers="r3c1-t22 r1c2-t22"><span class="bold">1101384</span></td>
<td class="cellalignment295" headers="r3c1-t22 r1c3-t22"><span class="bold">+54.6%</span></td>
<td class="cellalignment295" headers="r3c1-t22 r1c4-t22"><span class="bold">32.4%</span></td>
<td class="cellalignment295" headers="r3c1-t22 r1c5-t22">93.5%</td>
<td class="cellalignment295" headers="r3c1-t22 r1c6-t22">0</td>
<td class="cellalignment295" headers="r3c1-t22 r1c7-t22">5</td>
<td class="cellalignment295" headers="r3c1-t22 r1c8-t22">+55.6%</td>
<td class="cellalignment295" headers="r3c1-t22 r1c9-t22">-1346</td>
<td class="cellalignment295" headers="r3c1-t22 r1c10-t22">-0.6%</td>
<td class="cellalignment295" headers="r3c1-t22 r1c11-t22">HR.P.H (Line 18)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t22" headers="r1c1-t22">222371</td>
<td class="cellalignment295" headers="r4c1-t22 r1c2-t22"><span class="bold">222371</span></td>
<td class="cellalignment295" headers="r4c1-t22 r1c3-t22">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t22 r1c4-t22">6.5%</td>
<td class="cellalignment295" headers="r4c1-t22 r1c5-t22">100%</td>
<td class="cellalignment295" headers="r4c1-t22 r1c6-t22">0</td>
<td class="cellalignment295" headers="r4c1-t22 r1c7-t22">1</td>
<td class="cellalignment295" headers="r4c1-t22 r1c8-t22">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t22 r1c9-t22">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t22 r1c10-t22">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t22 r1c11-t22">HR.P.J (Line 10)#</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformalwidemax" -->
<p>The report in <a href="#CHDBJAII">Sample Report 2</a> shows the difference information for all functions that performed better in the second run than they did in the first run.</p>
<p class="subhead2"><a id="CHDBJAII"></a><a id="ADFNS449"></a>Sample Report 2</p>
<p><span class="bold">Function Elapsed Time (microsecs) Data for Performance Improvements</span></p>
<div class="inftblhruleinformalwidemax">
<table class="cellalignment296" title="Sample Report for Performance Improvements" summary="Table is a sample report for performance improvements. Columns are Subtree, Function, Rel%, Ind%, Cum%, Descendent, Calls, Rel%, Mean Function, Rel%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t23">Subtree</th>
<th class="cellalignment294" id="r1c2-t23">Function</th>
<th class="cellalignment294" id="r1c3-t23">Rel%</th>
<th class="cellalignment294" id="r1c4-t23">Ind%</th>
<th class="cellalignment294" id="r1c5-t23">Cum%</th>
<th class="cellalignment294" id="r1c6-t23">Descendant</th>
<th class="cellalignment294" id="r1c7-t23">Calls</th>
<th class="cellalignment294" id="r1c8-t23">Rel%</th>
<th class="cellalignment294" id="r1c9-t23">Mean Function</th>
<th class="cellalignment294" id="r1c10-t23">Rel%</th>
<th class="cellalignment294" id="r1c11-t23">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t23" headers="r1c1-t23">-1365827</td>
<td class="cellalignment295" headers="r2c1-t23 r1c2-t23"><span class="bold">-467051</span></td>
<td class="cellalignment295" headers="r2c1-t23 r1c3-t23"><span class="bold">-50.0%</span></td>
<td class="cellalignment295" headers="r2c1-t23 r1c4-t23"><span class="bold">67.7%</span></td>
<td class="cellalignment295" headers="r2c1-t23 r1c5-t23">67.7%</td>
<td class="cellalignment295" headers="r2c1-t23 r1c6-t23">-898776</td>
<td class="cellalignment295" headers="r2c1-t23 r1c7-t23">-2</td>
<td class="cellalignment295" headers="r2c1-t23 r1c8-t23">-50.0%</td>
<td class="cellalignment295" headers="r2c1-t23 r1c9-t23">-32</td>
<td class="cellalignment295" headers="r2c1-t23 r1c10-t23">0.0%</td>
<td class="cellalignment295" headers="r2c1-t23 r1c11-t23">HR.P.F (Line 25)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t23" headers="r1c1-t23">-222737</td>
<td class="cellalignment295" headers="r3c1-t23 r1c2-t23"><span class="bold">-222737</span></td>
<td class="cellalignment295" headers="r3c1-t23 r1c3-t23">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t23 r1c4-t23"><span class="bold">32.3%</span></td>
<td class="cellalignment295" headers="r3c1-t23 r1c5-t23">100%</td>
<td class="cellalignment295" headers="r3c1-t23 r1c6-t23">0</td>
<td class="cellalignment295" headers="r3c1-t23 r1c7-t23">-1</td>
<td class="cellalignment295" headers="r3c1-t23 r1c8-t23">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t23 r1c9-t23">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t23 r1c10-t23">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t23 r1c11-t23">HR.P.I (Line 2)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t23" headers="r1c1-t23">2709589</td>
<td class="cellalignment295" headers="r4c1-t23 r1c2-t23"><span class="bold">-5</span></td>
<td class="cellalignment295" headers="r4c1-t23 r1c3-t23"><span class="bold">-21.7%</span></td>
<td class="cellalignment295" headers="r4c1-t23 r1c4-t23"><span class="bold">0.0%</span></td>
<td class="cellalignment295" headers="r4c1-t23 r1c5-t23">100%</td>
<td class="cellalignment295" headers="r4c1-t23 r1c6-t23">2709594</td>
<td class="cellalignment295" headers="r4c1-t23 r1c7-t23">0</td>
<td class="cellalignment295" headers="r4c1-t23 r1c8-t23">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t23 r1c9-t23">-5</td>
<td class="cellalignment295" headers="r4c1-t23 r1c10-t23">-20.8</td>
<td class="cellalignment295" headers="r4c1-t23 r1c11-t23">HR.P.TEST (Line 46)#</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformalwidemax" -->
<p>The report in <a href="#CHDJAJAB">Sample Report 3</a> summarizes the difference information for all functions.</p>
<p class="subhead2"><a id="CHDJAJAB"></a><a id="ADFNS450"></a>Sample Report 3</p>
<p><span class="bold">Function Elapsed Time (microsecs) Data sorted by Total Function Call Count Delta</span></p>
<div class="inftblhruleinformalwidemax">
<table class="cellalignment296" title="Sample Report" summary="Table is a sample report. Columns are Columns are Subtree, Function, Rel%, Ind%, Descendant, Calls, Rel%, Mean Function, Rel%, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t24">Subtree</th>
<th class="cellalignment294" id="r1c2-t24">Function</th>
<th class="cellalignment294" id="r1c3-t24">Rel%</th>
<th class="cellalignment294" id="r1c4-t24">Ind%</th>
<th class="cellalignment294" id="r1c5-t24">Descendant</th>
<th class="cellalignment294" id="r1c6-t24">Calls</th>
<th class="cellalignment294" id="r1c7-t24">Rel%</th>
<th class="cellalignment294" id="r1c8-t24">Mean Function</th>
<th class="cellalignment294" id="r1c9-t24">Rel%</th>
<th class="cellalignment294" id="r1c10-t24">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t24" headers="r1c1-t24">1101384</td>
<td class="cellalignment295" headers="r2c1-t24 r1c2-t24">1101384</td>
<td class="cellalignment295" headers="r2c1-t24 r1c3-t24">+54.6%</td>
<td class="cellalignment295" headers="r2c1-t24 r1c4-t24">32.4%</td>
<td class="cellalignment295" headers="r2c1-t24 r1c5-t24">0</td>
<td class="cellalignment295" headers="r2c1-t24 r1c6-t24"><span class="bold">5</span></td>
<td class="cellalignment295" headers="r2c1-t24 r1c7-t24"><span class="bold">+55.6%</span></td>
<td class="cellalignment295" headers="r2c1-t24 r1c8-t24">-1346</td>
<td class="cellalignment295" headers="r2c1-t24 r1c9-t24">-0.6%</td>
<td class="cellalignment295" headers="r2c1-t24 r1c10-t24">HR.P.H (Line 18)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t24" headers="r1c1-t24">-1365827</td>
<td class="cellalignment295" headers="r3c1-t24 r1c2-t24">-467051</td>
<td class="cellalignment295" headers="r3c1-t24 r1c3-t24">+50.0%</td>
<td class="cellalignment295" headers="r3c1-t24 r1c4-t24">67.7%</td>
<td class="cellalignment295" headers="r3c1-t24 r1c5-t24">-898776</td>
<td class="cellalignment295" headers="r3c1-t24 r1c6-t24"><span class="bold">-2</span></td>
<td class="cellalignment295" headers="r3c1-t24 r1c7-t24"><span class="bold">-50.0%</span></td>
<td class="cellalignment295" headers="r3c1-t24 r1c8-t24">-32</td>
<td class="cellalignment295" headers="r3c1-t24 r1c9-t24">-0.0%</td>
<td class="cellalignment295" headers="r3c1-t24 r1c10-t24">HR.P.F (Line 25)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t24" headers="r1c1-t24">-222377</td>
<td class="cellalignment295" headers="r4c1-t24 r1c2-t24">-222377</td>
<td class="cellalignment295" headers="r4c1-t24 r1c3-t24">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t24 r1c4-t24">32.3%</td>
<td class="cellalignment295" headers="r4c1-t24 r1c5-t24">0</td>
<td class="cellalignment295" headers="r4c1-t24 r1c6-t24"><span class="bold">-1</span></td>
<td class="cellalignment295" headers="r4c1-t24 r1c7-t24">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t24 r1c8-t24">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t24 r1c9-t24">&nbsp;</td>
<td class="cellalignment295" headers="r4c1-t24 r1c10-t24">HR.P.I (Line 2)#</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t24" headers="r1c1-t24">222371</td>
<td class="cellalignment295" headers="r5c1-t24 r1c2-t24">222371</td>
<td class="cellalignment295" headers="r5c1-t24 r1c3-t24">&nbsp;</td>
<td class="cellalignment295" headers="r5c1-t24 r1c4-t24">6.5%</td>
<td class="cellalignment295" headers="r5c1-t24 r1c5-t24">0</td>
<td class="cellalignment295" headers="r5c1-t24 r1c6-t24"><span class="bold">1</span></td>
<td class="cellalignment295" headers="r5c1-t24 r1c7-t24">&nbsp;</td>
<td class="cellalignment295" headers="r5c1-t24 r1c8-t24">&nbsp;</td>
<td class="cellalignment295" headers="r5c1-t24 r1c9-t24">&nbsp;</td>
<td class="cellalignment295" headers="r5c1-t24 r1c10-t24">HR.P.J(Line 10)#</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t24" headers="r1c1-t24">4075787</td>
<td class="cellalignment295" headers="r6c1-t24 r1c2-t24">2075627</td>
<td class="cellalignment295" headers="r6c1-t24 r1c3-t24">+941%</td>
<td class="cellalignment295" headers="r6c1-t24 r1c4-t24">61.1%</td>
<td class="cellalignment295" headers="r6c1-t24 r1c5-t24">2000160</td>
<td class="cellalignment295" headers="r6c1-t24 r1c6-t24"><span class="bold">0</span></td>
<td class="cellalignment295" headers="r6c1-t24 r1c7-t24">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t24 r1c8-t24">2075627</td>
<td class="cellalignment295" headers="r6c1-t24 r1c9-t24">+941%</td>
<td class="cellalignment295" headers="r6c1-t24 r1c10-t24">HR.P.G (Line 35)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t24" headers="r1c1-t24">2709589</td>
<td class="cellalignment295" headers="r7c1-t24 r1c2-t24">-5</td>
<td class="cellalignment295" headers="r7c1-t24 r1c3-t24">-21.7%</td>
<td class="cellalignment295" headers="r7c1-t24 r1c4-t24">0.0%</td>
<td class="cellalignment295" headers="r7c1-t24 r1c5-t24">2709594</td>
<td class="cellalignment295" headers="r7c1-t24 r1c6-t24"><span class="bold">0</span></td>
<td class="cellalignment295" headers="r7c1-t24 r1c7-t24">&nbsp;</td>
<td class="cellalignment295" headers="r7c1-t24 r1c8-t24">-5</td>
<td class="cellalignment295" headers="r7c1-t24 r1c9-t24">-20.8%</td>
<td class="cellalignment295" headers="r7c1-t24 r1c10-t24">HR.P.TEST (Line 46)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r8c1-t24" headers="r1c1-t24">0</td>
<td class="cellalignment295" headers="r8c1-t24 r1c2-t24">0</td>
<td class="cellalignment295" headers="r8c1-t24 r1c3-t24">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t24 r1c4-t24">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t24 r1c5-t24">0</td>
<td class="cellalignment295" headers="r8c1-t24 r1c6-t24"><span class="bold">0</span></td>
<td class="cellalignment295" headers="r8c1-t24 r1c7-t24">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t24 r1c8-t24">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t24 r1c9-t24">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t24 r1c10-t24">SYS.DBMS_HPROF.STOP_PROFILING (Line 53)</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformalwidemax" --></div>
<!-- class="sect3" -->
<a id="CHDIAGIF"></a>
<div id="ADFNS451" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.3.4</span> Module-Level Difference Reports</h4>
<p>Each module-level report includes, for each module, the change in these values from the first run to the second run:</p>
<ul>
<li>
<p>Module time (time spent in the module&mdash;sum of the function times of all functions in the module)</p>
</li>
<li>
<p>Number of calls to functions in the module</p>
</li>
</ul>
<p class="subhead2"><a id="ADFNS452"></a>Sample Report</p>
<p><span class="bold">Module Elapsed Time (microsecs) Data sorted by Total Function Elapsed Time (microsecs) Delta</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is a sample difference report whose columns are Module, Calls, and Module Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t25">Module</th>
<th class="cellalignment294" id="r1c2-t25">Calls</th>
<th class="cellalignment294" id="r1c3-t25">Module Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t25" headers="r1c1-t25"><span class="bold">2709589</span></td>
<td class="cellalignment295" headers="r2c1-t25 r1c2-t25">3</td>
<td class="cellalignment295" headers="r2c1-t25 r1c3-t25">HR.P</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t25" headers="r1c1-t25"><span class="bold">0</span></td>
<td class="cellalignment295" headers="r3c1-t25 r1c2-t25">0</td>
<td class="cellalignment295" headers="r3c1-t25 r1c3-t25">SYS.DBMS_HPROF</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<a id="CHDJBEAG"></a>
<div id="ADFNS453" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.3.5</span> Namespace-Level Difference Reports</h4>
<p>Each namespace-level report includes, for each namespace, the change in these values from the first run to the second run:</p>
<ul>
<li>
<p>Namespace time (time spent in the namespace&mdash;sum of the function times of all functions in the namespace)</p>
</li>
<li>
<p>Number of calls to functions in the namespace</p>
</li>
</ul>
<p class="subhead2"><a id="ADFNS454"></a>Sample Report</p>
<p><span class="bold">Namespace Elapsed Time (microsecs) Data sorted by Namespace</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is a sample difference report whose columns are Function, Calls, and Namespace." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t26">Function</th>
<th class="cellalignment294" id="r1c2-t26">Calls</th>
<th class="cellalignment294" id="r1c3-t26">Namespace</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t26" headers="r1c1-t26">2709589</td>
<td class="cellalignment295" headers="r2c1-t26 r1c2-t26">3</td>
<td class="cellalignment295" headers="r2c1-t26 r1c3-t26"><span class="bold">PLSQL</span></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" -->
<a id="CHDHIAJA"></a>
<div id="ADFNS455" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">13.5.3.6</span> Parents and Children Difference Report for a Function</h4>
<p>The Parents and Children Difference Report for a function shows changes in the execution profiles of these from the first run to the second run:</p>
<ul>
<li>
<p>Parents (functions that call the function)</p>
</li>
<li>
<p>Children (functions that the function calls)</p>
<p>Execution profiles for children include only information from when this function calls them, not for when other functions call them.</p>
</li>
</ul>
<p>The execution profile for a function includes this information:</p>
<ul>
<li>
<p>Function time (time spent in the function itself, also called &#34;self time&#34;)</p>
</li>
<li>
<p>Descendants time (time spent in the descendants of the function)</p>
</li>
<li>
<p>Subtree time (time spent in the subtree of the function&mdash;function time plus descendants time)</p>
</li>
<li>
<p>Number of calls to the function</p>
</li>
<li>
<p>Function name</p>
</li>
</ul>
<p>The sample report is a fragment of a Parents and Children Difference Report that corresponds to a function named <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">X</code>.</p>
<p>The first row, a summary of the difference between the first and second runs, shows regression: function time increased by 1,094,099 microseconds (probably because the function was called five more times).</p>
<p>The &#34;Parents&#34; rows show that <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">G</code> called <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">X</code> nine more times in the second run than it did in the first run, while <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">F</code> called it four fewer times.</p>
<p>The &#34;Children&#34; rows show that <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">X</code> called each child five more times in the second run than it did in the first run.</p>
<p class="subhead2"><a id="ADFNS456"></a>Sample Report</p>
<p><span class="bold">HR.P.X (Line 11)</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is a sample difference report for HR.P.X (Line 11). Its columns are Subtree, Function, Descendant, Calls, and Function Name." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t27">Subtree</th>
<th class="cellalignment294" id="r1c2-t27">Function</th>
<th class="cellalignment294" id="r1c3-t27">Descendant</th>
<th class="cellalignment294" id="r1c4-t27">Calls</th>
<th class="cellalignment294" id="r1c5-t27">Function Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t27" headers="r1c1-t27"><span class="bold">3322196</span></td>
<td class="cellalignment295" headers="r2c1-t27 r1c2-t27">1094099</td>
<td class="cellalignment295" headers="r2c1-t27 r1c3-t27">2228097</td>
<td class="cellalignment295" headers="r2c1-t27 r1c4-t27">5</td>
<td class="cellalignment295" headers="r2c1-t27 r1c5-t27"><span class="bold">HR.P.X (Line&nbsp;11</span>)</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t27" headers="r1c1-t27">Parents:</td>
<td class="cellalignment295" headers="r3c1-t27 r1c2-t27">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t27 r1c3-t27">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t27 r1c4-t27">&nbsp;</td>
<td class="cellalignment295" headers="r3c1-t27 r1c5-t27">&nbsp;</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t27" headers="r1c1-t27"><span class="bold">6037490</span></td>
<td class="cellalignment295" headers="r4c1-t27 r1c2-t27">1993169</td>
<td class="cellalignment295" headers="r4c1-t27 r1c3-t27">4044321</td>
<td class="cellalignment295" headers="r4c1-t27 r1c4-t27">9</td>
<td class="cellalignment295" headers="r4c1-t27 r1c5-t27"><span class="bold">HR.P.G (Line 38)</span></td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t27" headers="r1c1-t27"><span class="bold">-2715294</span></td>
<td class="cellalignment295" headers="r5c1-t27 r1c2-t27">-899070</td>
<td class="cellalignment295" headers="r5c1-t27 r1c3-t27">-1816224</td>
<td class="cellalignment295" headers="r5c1-t27 r1c4-t27">-4</td>
<td class="cellalignment295" headers="r5c1-t27 r1c5-t27"><span class="bold">HR.P.F (Line 28)</span></td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t27" headers="r1c1-t27">Children:</td>
<td class="cellalignment295" headers="r6c1-t27 r1c2-t27">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t27 r1c3-t27">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t27 r1c4-t27">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t27 r1c5-t27">&nbsp;</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t27" headers="r1c1-t27"><span class="bold">1125489</span></td>
<td class="cellalignment295" headers="r7c1-t27 r1c2-t27">1125489</td>
<td class="cellalignment295" headers="r7c1-t27 r1c3-t27">0</td>
<td class="cellalignment295" headers="r7c1-t27 r1c4-t27">5</td>
<td class="cellalignment295" headers="r7c1-t27 r1c5-t27"><span class="bold">HR.P.J (Line 10)</span></td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r8c1-t27" headers="r1c1-t27"><span class="bold">1102608</span></td>
<td class="cellalignment295" headers="r8c1-t27 r1c2-t27">1102608</td>
<td class="cellalignment295" headers="r8c1-t27 r1c3-t27">0</td>
<td class="cellalignment295" headers="r8c1-t27 r1c4-t27">5</td>
<td class="cellalignment295" headers="r8c1-t27 r1c5-t27"><span class="bold">HR.P.I (Line 2)</span></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>The Parents and Children Difference Report for a function is accompanied by a Function Comparison Report, which shows the execution profile of the function for the first and second runs and the difference between them. This example is the Function Comparison Report for the function <code dir="ltr">HR</code>.<code dir="ltr">P</code>.<code dir="ltr">X</code>:</p>
<p class="subhead2"><a id="ADFNS457"></a>Sample Report</p>
<p><span class="bold">Elapsed Time (microsecs) for HR.P.X (Line 11) (20.1% of total regression)</span></p>
<div class="inftblinformal">
<table class="cellalignment296" title="Sample Report" summary="This table is a sample difference report for HR.P.X (Line 11). Its columns are First Trace, Ind%, Second Trace, Ind%, Diff, and Diff%." dir="ltr">
<thead>
<tr class="cellalignment287">
<th class="cellalignment294" id="r1c1-t28">HR.P.X (Line 11)</th>
<th class="cellalignment294" id="r1c2-t28">First Trace</th>
<th class="cellalignment294" id="r1c3-t28">Ind%</th>
<th class="cellalignment294" id="r1c4-t28">Second Trace</th>
<th class="cellalignment294" id="r1c5-t28">Ind%</th>
<th class="cellalignment294" id="r1c6-t28">Diff</th>
<th class="cellalignment294" id="r1c7-t28">Diff%</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment287">
<td class="cellalignment295" id="r2c1-t28" headers="r1c1-t28"><span class="bold">Function Elapsed Time (microsecs)</span></td>
<td class="cellalignment295" headers="r2c1-t28 r1c2-t28">1999509</td>
<td class="cellalignment295" headers="r2c1-t28 r1c3-t28">26.9%</td>
<td class="cellalignment295" headers="r2c1-t28 r1c4-t28">3093608</td>
<td class="cellalignment295" headers="r2c1-t28 r1c5-t28">24.9%</td>
<td class="cellalignment295" headers="r2c1-t28 r1c6-t28">1094099</td>
<td class="cellalignment295" headers="r2c1-t28 r1c7-t28">+54.7%</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r3c1-t28" headers="r1c1-t28">Descendants Elapsed Time (microsecs)</td>
<td class="cellalignment295" headers="r3c1-t28 r1c2-t28">4095943</td>
<td class="cellalignment295" headers="r3c1-t28 r1c3-t28">55.1%</td>
<td class="cellalignment295" headers="r3c1-t28 r1c4-t28">6324040</td>
<td class="cellalignment295" headers="r3c1-t28 r1c5-t28">50.9%</td>
<td class="cellalignment295" headers="r3c1-t28 r1c6-t28">2228097</td>
<td class="cellalignment295" headers="r3c1-t28 r1c7-t28">+54.4%</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r4c1-t28" headers="r1c1-t28">Subtree Elapsed Time (microsecs)</td>
<td class="cellalignment295" headers="r4c1-t28 r1c2-t28">6095452</td>
<td class="cellalignment295" headers="r4c1-t28 r1c3-t28">81.9%</td>
<td class="cellalignment295" headers="r4c1-t28 r1c4-t28">9417648</td>
<td class="cellalignment295" headers="r4c1-t28 r1c5-t28">75.7%</td>
<td class="cellalignment295" headers="r4c1-t28 r1c6-t28">3322196</td>
<td class="cellalignment295" headers="r4c1-t28 r1c7-t28">+54.5%</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r5c1-t28" headers="r1c1-t28">Function Calls</td>
<td class="cellalignment295" headers="r5c1-t28 r1c2-t28">9</td>
<td class="cellalignment295" headers="r5c1-t28 r1c3-t28">25.0%</td>
<td class="cellalignment295" headers="r5c1-t28 r1c4-t28">14</td>
<td class="cellalignment295" headers="r5c1-t28 r1c5-t28">28.6%</td>
<td class="cellalignment295" headers="r5c1-t28 r1c6-t28">5</td>
<td class="cellalignment295" headers="r5c1-t28 r1c7-t28">+55.6%</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r6c1-t28" headers="r1c1-t28">Mean Function Elapsed Time (microsecs)</td>
<td class="cellalignment295" headers="r6c1-t28 r1c2-t28">222167.7</td>
<td class="cellalignment295" headers="r6c1-t28 r1c3-t28">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t28 r1c4-t28">220972.0</td>
<td class="cellalignment295" headers="r6c1-t28 r1c5-t28">&nbsp;</td>
<td class="cellalignment295" headers="r6c1-t28 r1c6-t28">-1195.7</td>
<td class="cellalignment295" headers="r6c1-t28 r1c7-t28">-0.5%</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r7c1-t28" headers="r1c1-t28">Mean Descendants Elapsed Time (microsecs)</td>
<td class="cellalignment295" headers="r7c1-t28 r1c2-t28">455104.8</td>
<td class="cellalignment295" headers="r7c1-t28 r1c3-t28">&nbsp;</td>
<td class="cellalignment295" headers="r7c1-t28 r1c4-t28">451717.1</td>
<td class="cellalignment295" headers="r7c1-t28 r1c5-t28">&nbsp;</td>
<td class="cellalignment295" headers="r7c1-t28 r1c6-t28">-3387.6</td>
<td class="cellalignment295" headers="r7c1-t28 r1c7-t28">-0.7%</td>
</tr>
<tr class="cellalignment287">
<td class="cellalignment295" id="r8c1-t28" headers="r1c1-t28">Mean Subtree Elapsed Time (microsecs)</td>
<td class="cellalignment295" headers="r8c1-t28 r1c2-t28">677272.4</td>
<td class="cellalignment295" headers="r8c1-t28 r1c3-t28">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t28 r1c4-t28">672689.1</td>
<td class="cellalignment295" headers="r8c1-t28 r1c5-t28">&nbsp;</td>
<td class="cellalignment295" headers="r8c1-t28 r1c6-t28">-4583.3</td>
<td class="cellalignment295" headers="r8c1-t28 r1c7-t28">-0.7%</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment286">
<tr>
<td class="cellalignment295">
<table class="cellalignment291">
<tr>
<td class="cellalignment290"><a href="adfns_plscope.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment290"><a href="adfns_web.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment298">
<table class="cellalignment289">
<tr>
<td class="cellalignment290"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment290"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment290"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment290"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment290"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment290"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
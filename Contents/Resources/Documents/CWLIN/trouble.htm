<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-5012"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Troubleshooting%20the%20Oracle%20Grid%20Infrastructure%20Installation%20Process"></a><title>Troubleshooting the Oracle Grid Infrastructure Installation Process</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T4:23:40Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide"/>
<meta name="dcterms.identifier" content="E48914-22"/>
<meta name="dcterms.isVersionOf" content="CWLIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rem_orcl.htm" title="Previous" type="text/html"/>
<link rel="Next" href="procstop.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48914-22.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/22</span> <!-- End Header -->
<div id="CWLIN354" class="appendix"><a id="CIACEGFJ"></a>
<h1 class="appendix"><span class="secnum">A</span> Troubleshooting the Oracle Grid Infrastructure Installation Process</h1>
<p>This appendix provides troubleshooting information for installing Oracle Grid Infrastructure.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Database 12<span class="italic">c</span> Release 1 (12.1) Oracle RAC documentation set in the Documentation directory:
<ul>
<li>
<p><a class="olink CWADD025" href="../CWADD/GUID-5D0B8A16-31FA-4376-BCFC-DC77F6CEC60A.htm#CWADD025"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a class="olink RACAD025" href="../RACAD/GUID-F23CDEC1-ECA1-4963-8D31-2E8F0857EE24.htm#RACAD025"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
</ul>
</div>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#BABCFIDC">Best Practices for Contacting Oracle Support</a></p>
</li>
<li>
<p><a href="#CIAHHGEB">General Installation Issues</a></p>
</li>
<li>
<p><a href="#CIAJGEAC">Interpreting CVU &#34;Unknown&#34; Output Messages Using Verbose Mode</a></p>
</li>
<li>
<p><a href="#CIAFEFAD">Interpreting CVU Messages About Oracle Grid Infrastructure Setup</a></p>
</li>
<li>
<p><a href="#CIAFFECC">About the Oracle Clusterware Alert Log</a></p>
</li>
<li>
<p><a href="#CIADFEDG">Missing Operating System Packages On Linux</a></p>
</li>
<li>
<p><a href="#CIAJDDHB">Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</a></p>
</li>
<li>
<p><a href="#BABIGBIB">About Using CVU Cluster Healthchecks After Installation</a></p>
</li>
<li>
<p><a href="#CIADFHJJ">Interconnect Configuration Issues</a></p>
</li>
<li>
<p><a href="#BABFAAIG">SCAN VIP and SCAN Listener Issues</a></p>
</li>
<li>
<p><a href="#BABCEEBE">Storage Configuration Issues</a></p>
</li>
<li>
<p><a href="#BABDBHAD">Failed or Incomplete Installations and Upgrades</a></p>
</li>
</ul>
<a id="BABCFIDC"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.1</span> Best Practices for Contacting Oracle Support</h2>
<p>If you find that it is necessary for you to contact Oracle Support to report an issue, then Oracle recommends that you follow these guidelines when you enter your service request:</p>
<ul>
<li>
<p>Provide a clear explanation of the problem, including exact error messages.</p>
</li>
<li>
<p>Provide an explanation of any steps you have taken to troubleshoot issues, and the results of these steps.</p>
</li>
<li>
<p>Provide exact versions (major release and patch release) of the affected software.</p>
</li>
<li>
<p>Provide a step-by-step procedure of what actions you carried out when you encountered the problem, so that Oracle Support can reproduce the problem.</p>
</li>
<li>
<p>Provide an evaluation of the effect of the issue, including affected deadlines and costs.</p>
</li>
<li>
<p>Provide screen shots, logs, Remote Diagnostic Agent (RDA) output, or other relevant information.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIAHHGEB"></a>
<div id="CWLIN355" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.2</span> General Installation Issues<a id="sthref710"></a></h2>
<p>The following is a list of examples of types of errors that can occur during installation. It contains the following issues:</p>
<ul>
<li>
<p><a href="#BABEECAH">root.sh failed to complete with error messages such as: Start of resource &#34;ora.cluster_interconnect.haip&#34; failed...</a></p>
</li>
<li>
<p><a href="#BABGDDIH">During installation of Oracle Clusterware, check for Oracle ASM disks failed with the error: PRVF-5150 : Path /dev/mapper/&lt;alias&gt; is not a valid path on all nodes</a></p>
</li>
<li>
<p><a href="#CIAIICFE">An error occurred while trying to get the disks</a></p>
</li>
<li>
<p><a href="#tahiti51331524">CRS-5018:(:CLSN00037:) Removed unused HAIP route:</a></p>
</li>
<li>
<p><a href="#CIAJGEED">Could not execute auto check for display colors using command /usr/X11R6/bin/xdpyinfo</a></p>
</li>
<li>
<p><a href="#tahiti51693160">CRS-5823:Could not initialize agent framework</a></p>
</li>
<li>
<p><a href="#CIAICBJC">Failed to connect to server, Connection refused by server, or Can&#39;t open display</a></p>
</li>
<li>
<p><a href="#CIAHAFGH">Failed to initialize ocrconfig</a></p>
</li>
<li>
<p><a href="#tahiti50879744">INS-32026 INSTALL_COMMON_HINT_DATABASE_LOCATION_ERROR</a></p>
</li>
<li>
<p><a href="#tahiti51746370">CLSRSC-444: Run <code dir="ltr">root.sh</code> command on the Node with OUI session</a></p>
</li>
<li>
<p><a href="#BABECCGE">MEMORY_TARGET not supported on this system</a></p>
</li>
<li>
<p><a href="#CIAHIBGD">Nodes unavailable for selection from the OUI Node Selection screen</a></p>
</li>
<li>
<p><a href="#CIAHGBGC">Node <span class="italic">nodename</span> is unreachable</a></p>
</li>
<li>
<p><a href="#CIACEGGA">PROT-8: Failed to import data from specified file to the cluster registry</a></p>
</li>
<li>
<p><a href="#tahiti51696606">PRVE-0038 : The SSH LoginGraceTime setting, or fatal: Timeout before authentication</a></p>
</li>
<li>
<p><a href="#tahiti51318289">Timed out waiting for the CRS stack to start</a></p>
</li>
<li>
<p><a href="#CIACEDHA">YPBINDPROC_DOMAIN: Domain not bound</a></p>
</li>
</ul>
<div class="msgset"><a id="BABEECAH"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4971"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref711"></a> root.sh failed to complete with error messages such as: Start of resource &#34;ora.cluster_interconnect.haip&#34; failed...</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> When configuring public and private network interfaces for Oracle RAC, you must enable ARP. Highly Available IP (HAIP) addresses do not require ARP on the public network, but for VIP failover, you will need to enable ARP. Do not configure NOARP.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Configure the <code dir="ltr">hsi0</code> (or <code dir="ltr">eth</code>) device to use ARP protocol by running the following command:
<pre dir="ltr"># ifconfig hsi0 arp
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" -->
<div class="msgset"><a id="BABGDDIH"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4972"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref712"></a>During installation of Oracle Clusterware, check for Oracle ASM disks failed with the error: <a class="dashingAutolink" name="autolink-4973"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref713"></a>PRVF-5150 : Path /dev/mapper/&lt;alias&gt; is not a valid path on all nodes</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> This error may occur on Red Hat Enterprise Linux 6.3 because read access to the <code dir="ltr">/etc/multipath.conf</code> file is not set.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> To resolve this, as <code dir="ltr">root</code>, add +r to <code dir="ltr">/etc/multipath.conf</code> as follows:
<pre dir="ltr">#chmod +r /etc/multipath.conf
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" -->
<a id="CIACBFEA"></a>
<div class="msgset"><a id="CIAIICFE"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4974"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref714"></a>An error occurred while trying to get the disks</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> There is an entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existent Oracle home. The OUI log file should show the following error: &#34;java.io.IOException: /home/oracle/OraHome/bin/kfod: not found&#34;</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Remove the entry in <code dir="ltr">/etc/oratab</code> pointing to a non-existing Oracle home.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51331524"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4975"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref715"></a><a class="dashingAutolink" name="autolink-4976"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref716"></a>CRS-5018:(:CLSN00037:) Removed unused HAIP route:</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Typically, this error indicates that something (usually Zero Configuration Networking, <code dir="ltr">zeroconf</code>) has created the indicated route that is conflicting with the HAIP code. The error indicates that the Oracle software has removed the route to ensure appropriate stack functioning.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> The Zero Configuration Networking feature should be disabled when using Oracle Clusterware, as this feature may cause communication issues between cluster member nodes.
<p>To disable Zero Configuration Networking:</p>
<ol>
<li>
<p>Log in as <code dir="ltr">root</code>.</p>
</li>
<li>
<p>Change directory to <code dir="ltr">/etc/sysconfig</code>.</p>
</li>
<li>
<p>Create a copy of <code dir="ltr">/etc/sysconfig/network</code>. For example:</p>
<pre dir="ltr"># cp network network_old
</pre></li>
<li>
<p>Use a text editor to open the file <code dir="ltr">/etc/sysconfig/network</code>.</p>
</li>
<li>
<p>Check the file for the value for <code dir="ltr">NOZEROCONF</code> to confirm that it is set to yes. If you do not find this parameter in the file, then append the following entry to the file:</p>
<pre dir="ltr">NOZEROCONF=yes
</pre>
<p>Save the file after you update this setting.</p>
</li>
<li>
<p>Restart the network services. For example:</p>
<pre dir="ltr"># service network restart
</pre></li>
<li>
<p>Repeat this process on each cluster member node.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAJGEED"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4977"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref717"></a>Could not execute auto check for display colors using command /usr/X11R6/bin/xdpyinfo</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Either the DISPLAY variable is not set, or the user running the installation is not authorized to open an X window. This can occur if you run the installation from a remote terminal, or if you use an <code dir="ltr">su</code> command to change from a user that is authorized to open an X window to a user account that is not authorized to open an X window on the display, such as a lower-privileged user opening windows on the <code dir="ltr">root</code> user&#39;s console display.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Run the command <code dir="ltr">echo $DISPLAY</code> to ensure that the variable is set to the correct visual or to the correct host. If the display variable is set correctly then either ensure that you are logged in as the user authorized to open an X window, or run the command <code dir="ltr">xhost +</code> to allow any user to open an X window.
<p>If you are logged in locally on the server console as <code dir="ltr">root</code>, and used the <code dir="ltr">su -</code> command to change to the Oracle Grid Infrastructure installation owner, then log out of the server, and log back in as the grid installation owner.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51693160"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4978"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref718"></a><a class="dashingAutolink" name="autolink-4979"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref719"></a>CRS-5823:Could not initialize agent framework</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Installation of Oracle Grid Infrastructure fails when you run <code dir="ltr">root.sh</code>. Oracle Grid Infrastructure fails to start because the local host entry is missing from the hosts file.
<p>The Oracle Grid Infrastructure <code dir="ltr">alert.log</code> file shows the following:</p>
<pre dir="ltr">[/oracle/app/grid/bin/orarootagent.bin(11392)]CRS-5823:Could not initialize
agent framework. Details at (:CRSAGF00120:) in
/oracle/app/grid/log/node01/agent/crsd/orarootagent_root/orarootagent_root.log
2010-10-04 12:46:25.857
[ohasd(2401)]CRS-2765:Resource &#39;ora.crsd&#39; has failed on server &#39;node01&#39;.
</pre>
<p>You can verify this as the cause by checking <code dir="ltr">crsdOUT.log</code> file, and finding the following:</p>
<pre dir="ltr">Unable to resolve address for localhost:2016
ONS runtime exiting
Fatal error: eONS: eonsapi.c: Aug 6 2009 02:53:02
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Add the local host entry in the hosts file.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAICBJC"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4980"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref720"></a>Failed to connect to server, Connection refused by server, or Can&#39;t open display</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> These are typical of X Window display errors on Windows or UNIX systems, where <code dir="ltr">xhost</code> is not properly configured, or where you are running as a user account that is different from the account you used with the <code dir="ltr">startx</code> command to start the X server.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> In a local terminal window, log in as the user that started the X Window session, and enter the following command:
<p>$ xhost <span class="italic">fullyqualifiedRemoteHostname</span></p>
<p>For example:</p>
<pre dir="ltr">$ xhost somehost.example.com
</pre>
<p>Then, enter the following commands, where <code dir="ltr"><span class="codeinlineitalic">workstationname</span></code> is the host name or IP address of your workstation.</p>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">$ DISPLAY=<span class="italic">workstationname</span>:0.0
$ export DISPLAY
</pre>
<p>To determine whether X Window applications display correctly on the local system, enter the following command:</p>
<pre dir="ltr">$ xclock
</pre>
<p>The X clock should appear on your monitor. If <code dir="ltr">xclock</code> is not available, then install it on your system and repeat the test. If <code dir="ltr">xclock</code> is installed on your system, but the X clock fails to open on your display, then use of the <code dir="ltr">xhost</code> command may be restricted.</p>
<p>If you are using a VNC client to access the server, then ensure that you are accessing the visual that is assigned to the user that you are trying to use for the installation. For example, if you used the <code dir="ltr">su</code> command to become the installation owner on another user visual, and the <code dir="ltr">xhost</code> command use is restricted, then you cannot use the <code dir="ltr">xhost</code> command to change the display. If you use the visual assigned to the installation owner, then the correct display is available, and entering the <code dir="ltr">xclock</code> command results in the X clock starting on your display.</p>
<p>When the X clock appears, close the X clock, and start the installer again.</p>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHAFGH"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4981"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref721"></a>Failed to initialize <a class="dashingAutolink" name="autolink-4982"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref722"></a>ocrconfig</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> You have the wrong options configured for NFS in the <code dir="ltr">/etc/fstab</code> file.
<p>You can confirm this by checking <code dir="ltr">ocrconfig.log</code> files located in the path <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/log/node</code><code dir="ltr"><span class="codeinlineitalic">number</span></code><code dir="ltr">/client</code> and finding the following:</p>
<pre dir="ltr">/u02/app/crs/clusterregistry, ret -1, errno 75, os err string Value too large
for defined data type
2007-10-30 11:23:52.101: [ OCROSD][3085960896]utopen:6&#39;&#39;: OCR location
</pre></div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> For file systems mounted on NFS, provide the correct mount configuration for NFS mounts in the <code dir="ltr">/etc/fstab</code> file:
<pre dir="ltr">rw,sync,bg,hard,nointr,tcp,vers=3,timeo=300,rsize=32768,wsize=32768,actimeo=0
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You should not have <code dir="ltr">netdev</code> in the mount instructions, or <code dir="ltr">vers=2</code>. The <code dir="ltr">netdev</code> option is only required for OCFS file systems, and <code dir="ltr">vers=2</code> forces the kernel to mount NFS using the earlier version 2 protocol.</div>
<p>After correcting the NFS mount information, remount the NFS mount point, and run the <code dir="ltr">root.sh</code> script again. For example, with the mount point <code dir="ltr">/u02</code>:</p>
<pre dir="ltr">#umount /u02
#mount -a -t nfs
#cd $GRID_HOME
#sh root.sh
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti50879744"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4983"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref723"></a>INS-32026 INSTALL_COMMON_HINT_DATABASE_LOCATION_ERROR</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The location selected for the Grid home for a Cluster installation is located under an Oracle base directory.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> For Oracle Grid Infrastructure for a cluster installations, the Grid home must not be placed under one of the Oracle base directories, or under Oracle home directories of Oracle Database installation owners, or in the home directory of an installation owner. During installation, ownership of the path to the Grid home is changed to <code dir="ltr">root</code>. This change causes permission errors for other installations. In addition, the Oracle Clusterware software stack may not come up under an Oracle base path.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51746370"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4984"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref724"></a>CLSRSC-444: Run <code dir="ltr">root.sh</code> command on the Node with OUI session</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If this message appears listing a node that is not the one where you are running OUI, then the likely cause is that the named node shut down during or before the <code dir="ltr">root.sh</code> script completed its run.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Complete running the <code dir="ltr">root.sh</code> script on all other cluster member nodes, and do not attempt to run the <code dir="ltr">root</code> script on the node named in the error message. After you complete Oracle Grid Infrastructure on all or part of the set of planned cluster member nodes, start OUI and deinstall the failed Oracle Grid Infrastructure installation on the node named in the error. When you have deinstalled the failed installation on the node, add that node manually to the cluster.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD1167" href="../CWADD/GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458.htm#CWADD1167"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to add a node</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="BABECCGE"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4985"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref725"></a>MEMORY_TARGET not supported on this system</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> On Linux systems, insufficient <code dir="ltr">/dev/shm</code> size for PGA and SGA.
<p>If you are installing on a Linux system, note that Memory Size (SGA and PGA), which sets the initialization parameter MEMORY_TARGET or MEMORY_MAX_TARGET, cannot be greater than the shared memory file system (<code dir="ltr">/dev/shm</code>) on your operating system.</p>
</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Increase the <code dir="ltr">/dev/shm</code> mountpoint size. For example:
<pre dir="ltr"># mount -t tmpfs shmfs -o size=4g /dev/shm
</pre>
<p>Also, to make this change persistent across system restarts, add an entry in <code dir="ltr">/etc/fstab</code> similar to the following:</p>
<pre dir="ltr">shmfs /dev/shm tmpfs size=7g 0 0 
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHIBGD"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4986"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref726"></a>Nodes unavailable for selection from the <a class="dashingAutolink" name="autolink-4987"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref727"></a>OUI Node Selection screen</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Oracle Grid Infrastructure is either not installed, or the Oracle Grid Infrastructure services are not up and running.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Install Oracle Grid Infrastructure, or review the status of your installation. Consider restarting the nodes, as doing so may resolve the problem.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHGBGC"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4988"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref728"></a>Node <span class="italic">nodename</span> is unreachable</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Unavailable IP host</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Attempt the following:
<ol>
<li>
<p>Run the shell command <code dir="ltr">ifconfig -a</code>. Compare the output of this command with the contents of the <code dir="ltr">/etc/hosts</code> file to ensure that the node IP is listed.</p>
</li>
<li>
<p>Run the shell command <code dir="ltr">nslookup</code> to see if the host is reachable.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIACEGGA"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4989"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref729"></a><a class="dashingAutolink" name="autolink-4990"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref730"></a>PROT-8: Failed to import data from specified file to the cluster registry</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Insufficient space in an existing Oracle Cluster Registry device partition, which causes a migration failure while running <code dir="ltr">rootupgrade.sh</code>. To confirm, look for the error &#34;utopen:12:Not enough space in the backing store&#34; in the log file <code dir="ltr">$GRID_HOME/log/</code><span class="italic">hostname</span><code dir="ltr">/client/ocrconfig_</code><code dir="ltr"><span class="codeinlineitalic">pid</span></code><code dir="ltr">.log</code>, where <code dir="ltr"><span class="codeinlineitalic">pid</span></code> stands for the process id.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Identify a storage device that has 400 MB or more available space. Oracle recommends that you allocate the entire disk to Oracle ASM.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51696606"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4991"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref731"></a><a class="dashingAutolink" name="autolink-4992"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref732"></a>PRVE-0038 : The SSH LoginGraceTime setting, or fatal: Timeout before authentication</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> <a id="sthref733"></a><a id="sthref734"></a>PRVE-0038: The SSH LoginGraceTime setting on node &#34;<span class="italic">nodename</span>&#34; may result in users being disconnected before login is completed. This error may because the default timeout value for SSH connections is too low, or if the LoginGraceTime parameter is commented out.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Oracle recommends uncommenting the LoginGraceTime parameter in the OpenSSH configuration file <code dir="ltr">/etc/ssh/sshd_config</code>, and setting it to a value of 0 (unlimited).</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti51318289"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4993"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref735"></a>Timed out waiting for the CRS stack to start</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If a configuration issue prevents the Oracle Grid Infrastructure software from installing successfully on all nodes, then you may see error messages such as &#34;Timed out waiting for the CRS stack to start,&#34; or you may notice that Oracle Clusterware-managed resources were not create on some nodes after you exit the installer. You also may notice that resources have a status other than ONLINE.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Unconfigure the Oracle Grid Infrastructure installation without removing binaries, and review log files to determine the cause of the configuration issue. After you have fixed the configuration issue, rerun the scripts used during installation to configure Oracle Clusterware.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="rem_orcl.htm#CBHJAGJC">Section 10.5, &#34;Unconfiguring Oracle Clusterware Without Removing Binaries&#34;</a></div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIACEDHA"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4994"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref736"></a>YPBINDPROC_DOMAIN: Domain not bound</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> This error can occur during postinstallation testing when the public network interconnect for a node is pulled out, and the VIP does not fail over. Instead, the node hangs, and users are unable to log in to the system. This error occurs when the Oracle home, <code dir="ltr">listener.ora</code>, Oracle log files, or any action scripts are located on an NAS device or NFS mount, and the name service cache daemon <code dir="ltr">nscd</code> has not been activated.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Enter the following command on all nodes in the cluster to start the nscd service:
<pre dir="ltr">/sbin/service  nscd start
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" -->
<a id="BABDCFCG"></a>
<div id="CWLIN498" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.2.1</span> Other Installation Issues and Errors</h3>
<p>For additional help in resolving error messages, see My Oracle Support. For example, the note with Doc ID 1367631.1 contains some of the most common installation issues for Oracle Grid Infrastructure and Oracle Clusterware.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIAJGEAC"></a>
<div id="CWLIN356" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.3</span> Interpreting CVU &#34;Unknown&#34; Output Messages Using Verbose Mode</h2>
<p>If you run Cluster Verification Utility using the <code dir="ltr">-verbose</code> argument, and a Cluster Verification Utility command responds with <code dir="ltr">UNKNOWN</code> for a particular node, then this is because Cluster Verification Utility cannot determine if a check passed or failed. The following is a list of possible causes for an &#34;Unknown&#34; response:</p>
<ul>
<li>
<p>The node is down</p>
</li>
<li>
<p>Common operating system command binaries required by Cluster Verification Utility are missing in the <code dir="ltr">/bin</code> directory in the Oracle Grid Infrastructure home or Oracle home directory</p>
</li>
<li>
<p>The user account starting Cluster Verification Utility does not have privileges to run common operating system commands on the node</p>
</li>
<li>
<p>The node is missing an operating system patch, or a required package</p>
</li>
<li>
<p>The node has exceeded the maximum number of processes or maximum number of open files, or there is a problem with IPC segments, such as shared memory or semaphores</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIAFEFAD"></a>
<div id="CWLIN357" class="sect1">
<h2 class="sect1"><span class="secnum">A.4</span> Interpreting CVU Messages About Oracle Grid Infrastructure Setup</h2>
<p>If the Cluster Verification Utility (CVU) report indicates that your system fails to meet the requirements for Oracle Grid Infrastructure installation, then use the topics in this section to correct the problem or problems indicated in the report, and run CVU again.</p>
<ul>
<li>
<p><a href="#CIAJDJHF">User Equivalence Check Failed</a></p>
</li>
<li>
<p><a href="#CIAIJCCB">Node Reachability Check or Node Connectivity Check Failed</a></p>
</li>
<li>
<p><a href="#CIAEAIID">User Existence Check or User-Group Relationship Check Failed</a></p>
</li>
</ul>
<a id="CIAJBAJD"></a>
<div class="msgset"><a id="CIACHDGD"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4995"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="CIAJDJHF"></a>User Equivalence Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Failure to establish user equivalency across all nodes. This can be due to not creating the required users, or failing to complete secure shell (SSH) configuration properly.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Cluster Verification Utility provides a list of nodes on which user equivalence failed.
<p>For each node listed as a failure node, review the installation owner user configuration to ensure that the user configuration is properly completed, and that SSH configuration is properly completed. The user that runs the Oracle Clusterware installation must have permissions to create SSH connections.</p>
<p>Oracle recommends that you use the SSH configuration option in OUI to configure SSH. You can use Cluster Verification Utility before installation if you configure SSH manually, or after installation, when SSH has been configured for installation.</p>
<p>For example, to check user equivalency for the user account <code dir="ltr">oracle</code>, use the command <code dir="ltr">su - oracle</code> and <a id="sthref737"></a><a id="sthref738"></a>check <a id="sthref739"></a>user equivalence manually by running the <code dir="ltr">ssh</code> command on the local node with the <code dir="ltr">date</code> command argument using the following syntax:</p>
<pre dir="ltr">$ ssh <span class="italic">nodename</span> date
</pre>
<p>The output from this command should be the timestamp of the remote node identified by the value that you use for <code dir="ltr">nodename</code>. If you are prompted for a password, then you need to configure SSH. If <code dir="ltr">ssh</code> is in the default location, the <code dir="ltr">/usr/bin</code> directory, then use <code dir="ltr">ssh</code> to configure user equivalence. You can also use <code dir="ltr">rsh</code> to confirm user equivalence.</p>
<p>If you see a message similar to the following when entering the date command with SSH, then this is the probable cause of the user equivalence error:</p>
<pre dir="ltr">The authenticity of host &#39;node1 (140.87.152.153)&#39; can&#39;t be established.
RSA key fingerprint is 7z:ez:e7:f6:f4:f2:4f:8f:9z:79:85:62:20:90:92:z9.
Are you sure you want to continue connecting (yes/no)?
</pre>
<p>Enter yes, and then run Cluster Verification Utility to determine if the user equivalency error is resolved.</p>
<p>If <code dir="ltr">ssh</code> is in a location other than the default, <code dir="ltr">/usr/bin</code>, then Cluster Verification Utility reports a user equivalence check failure. To avoid this error, navigate to the directory <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/cv/admin</code>, open the file <code dir="ltr">cvu_config</code> with a text editor, and add or update the key <code dir="ltr">ORACLE_SRVM_REMOTESHELL</code> to indicate the <code dir="ltr">ssh</code> path location on your system. For example:</p>
<pre dir="ltr"># Locations for ssh and scp commands
ORACLE_SRVM_REMOTESHELL=/usr/local/bin/ssh
ORACLE_SRVM_REMOTECOPY=/usr/local/bin/scp
</pre>
<p>Note the following rules for modifying the <code dir="ltr">cvu_config</code> file:</p>
<ul>
<li>
<p>Key entries have the syntax <span class="italic">name</span><code dir="ltr">=</code><span class="italic">value</span></p>
</li>
<li>
<p>Each key entry and the value assigned to the key defines one property only</p>
</li>
<li>
<p>Lines beginning with the number sign (<code dir="ltr">#</code>) are comment lines, and are ignored</p>
</li>
<li>
<p>Lines that do not follow the syntax <span class="italic">name</span><code dir="ltr">=</code><span class="italic">value</span> are ignored</p>
</li>
</ul>
<p>When you have changed the path configuration, run Cluster Verification Utility again. If <code dir="ltr">ssh</code> is in another location than the default, you also need to start OUI with additional arguments to specify a different location for the remote shell and remote copy commands. Enter <code dir="ltr">runInstaller -help</code> to obtain information about how to use these arguments.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you or OUI run <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code> commands, including any login or other shell scripts they start, you may see errors about invalid arguments or standard input if the scripts generate any output. You should correct the cause of these errors.
<p>To stop the errors, remove all commands from the <code dir="ltr">oracle</code> user&#39;s login scripts that generate output when you run <code dir="ltr">ssh</code> or <code dir="ltr">rsh</code> commands.</p>
<p>If you see messages about X11 forwarding, then complete the task <a href="usrgrps.htm#BABDFDJI">Section 6.2.4, &#34;Setting Remote Display and X11 Forwarding Configuration&#34;</a> to resolve this issue.</p>
<p>If you see errors similar to the following:</p>
<pre dir="ltr">stty: standard input: Invalid argument
stty: standard input: Invalid argument
</pre>
<p>These errors are produced if hidden files on the system (for example, <code dir="ltr">.bashrc</code> or <code dir="ltr">.cshrc</code>) contain <code dir="ltr">stty</code> commands. If you see these errors, then see <a href="usrgrps.htm#BABFACIJ">Section 6.2.5, &#34;Preventing Installation Errors Caused by Terminal Output Commands&#34;</a> to correct the cause of these errors.</p>
</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAGABBB"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4996"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="CIAIJCCB"></a>Node Reachability Check or Node Connectivity Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> One or more nodes in the cluster cannot be reached using TCP/IP protocol, through either the public or private interconnects.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the command <code dir="ltr">/bin/ping</code> <code dir="ltr"><span class="codeinlineitalic">address</span></code> to check each node address. When you find an address that cannot be reached, check your list of public and private addresses to make sure that you have them correctly configured. If you use third-party vendor clusterware, then see the vendor documentation for assistance. Ensure that the public and private network interfaces have the same interface names on each node of your cluster.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAGFBBJ"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4997"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="CIAEAIID"></a>User Existence Check or User-Group Relationship Check Failed</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The administrative privileges for users and groups required for installation are missing or incorrect.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the <code dir="ltr">id</code> command on each node to confirm that the installation owner user (for example, <code dir="ltr">grid</code> or <code dir="ltr">oracle</code>) is created with the correct group membership. Ensure that you have created the required groups, and create or modify the user account on affected nodes to establish required group membership.
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="usrgrps.htm#BABBIDCF">Section 6.1, &#34;Creating Groups, Users and Paths for Oracle Grid Infrastructure&#34;</a> for instructions about how to create required groups, and how to configure the installation owner user</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect1" -->
<a id="CIAFFECC"></a>
<div id="CWLIN358" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.5</span> About the Oracle Clusterware Alert Log</h2>
<p>Oracle Clusterware uses Oracle Database fault diagnosability infrastructure to manage diagnostic data and its alert log. As a result, most diagnostic data resides in the Automatic Diagnostic Repository (ADR), a collection of directories and files located under a base directory that you specify during installation. Starting with Oracle Clusterware 12c release 1 (12.1.0.2), diagnostic data files written by Oracle Clusterware programs are known as trace files and have a .trc file extension, and appear together in the trace subdirectory of the ADR home. Besides trace files, the trace subdirectory in the Oracle Clusterware ADR home contains the simple text Oracle Clusterware alert log. It always has the name alert.log. The alert log is also written as an XML file in the alert subdirectory of the ADR home, but the text alert log is most easily read.</p>
<p>The Oracle Clusterware alert log is the first place to look for serious errors. In the event of an error, it can contain path information to diagnostic logs that can provide specific information about the cause of errors.</p>
<p>After installation, Oracle Clusterware posts alert messages when important events occur. For example, you may see alert messages from the Cluster Ready Services daemon process (CRSD) when it starts, if it aborts, if the failover process fails, or if automatic restart of an Oracle Clusterware resource fails.</p>
<p>Oracle Enterprise Manager monitors the Oracle Clusterware log file and posts an alert on the Cluster Home page if an error is detected. For example, if a voting file is not available, a <a id="sthref740"></a><code dir="ltr">CRS-1604</code> error is raised, and a critical alert is posted on the Cluster Home page. You can customize the error detection and alert settings on the Metric and Policy Settings page.</p>
<p>The location of the Oracle Clusterware log file is <code dir="ltr"><span class="codeinlineitalic">ORACLE_BASE</span></code><code dir="ltr">/diag/crs/</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">/crs/trace/alert</code><code dir="ltr">.log</code>, where <code dir="ltr"><span class="codeinlineitalic">ORACLE_BASE</span></code> is the Oracle base path you specified when you installed Oracle Grid Infrastructure and <code dir="ltr"><span class="codeinlineitalic">hostname</span></code> is the name of the host.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD91438" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWADD91438"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about Oracle Clusterware troubleshooting</p>
</li>
<li>
<p><a class="olink SUTIL700" href="../SUTIL/GUID-DC5744C7-FAC0-436B-99D5-DBD45B66930B.htm#SUTIL700"><span class="italic">Oracle Database Utilities Guide</span></a> for information about the Automatic Diagnostic Repository Command Interpreter (ADRCI) utility to manage Oracle Database diagnostic data</p>
</li>
<li>
<p><a class="olink ADMIN11007" href="../ADMIN/diag.htm#ADMIN11007"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about managing diagnostic data</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CIADFEDG"></a>
<div id="CWLIN359" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.6</span> Missing Operating System Packages On Linux<a id="sthref741"></a><a id="sthref742"></a></h2>
<p>You have missing operating system packages on your system if you receive error messages such as the following during Oracle Grid Infrastructure, Oracle RAC, or Oracle Database installation:</p>
<pre dir="ltr">libstdc++.so.5: cannot open shared object file: No such file or directory
libXp.so.6: cannot open shared object file: No such file or directory
</pre>
<p>Errors such as these should not occur, as missing packages should have been identified during installation. They may indicate that you are using an operating system distribution that has not been certified, or that you are using an earlier version of the Cluster Verification Utility.</p>
<p>If you have a Linux support network configured, such as the Red Hat network or Oracle Unbreakable Linux support, then use the <code dir="ltr">up2date</code> command to determine the name of the package. For example:</p>
<pre dir="ltr"># up2date --whatprovides libstdc++.so.5
compat-libstdc++-33.3.2.3-47.3
</pre>
<p>Also, download the most recent version of Cluster Verification Utility to make sure that you have the current required packages list. You can obtain the most recent version at the following URL:</p>
<pre dir="ltr"><a href="http://www.oracle.com/technetwork/database/options/clustering/downloads/cvu-download-homepage-099973.html">http://www.oracle.com/technetwork/database/options/clustering/downloads/cvu-download-homepage-099973.html</a>
</pre></div>
<!-- class="sect1" -->
<a id="CIAJDDHB"></a>
<div id="CWLIN360" class="sect1">
<h2 class="sect1"><span class="secnum">A.7</span> Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</h2>
<p>If the installer does not display the Node Selection page, then use the following command syntax to check the integrity of the Cluster Manager:</p>
<pre dir="ltr">cluvfy comp clumgr -n <span class="italic">node_list</span> -verbose
</pre>
<p>In the preceding syntax example, the variable <code dir="ltr"><span class="codeinlineitalic">node_list</span></code> is the list of nodes in your cluster, separated by commas.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref743"></a><a id="sthref744"></a>If you encounter unexplained installation errors during or after a period when cron jobs are run, then your cron job may have deleted temporary files before the installation is finished. Oracle recommends that you complete installation before daily cron jobs are run, or disable daily cron jobs that perform cleanup until after the installation is completed.</div>
</div>
<!-- class="sect1" -->
<a id="BABIGBIB"></a>
<div id="CWLIN499" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.8</span> About Using CVU Cluster Healthchecks After Installation</h2>
<p>Starting with Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2.0.3) and later, you can use the Cluster Verification Utility (CVU) healthcheck command option to check your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to check to ensure that they are functioning properly.</p>
<p>Use the following syntax to run the healthcheck command option:</p>
<p><code dir="ltr">cluvfy comp healthcheck</code> [<code dir="ltr">-collect</code> {<code dir="ltr">cluster</code>|<code dir="ltr">database</code>}] [<code dir="ltr">-db</code> <span class="italic">db_unique_name</span>] [<code dir="ltr">-bestpractice</code>|<code dir="ltr">-mandatory</code>] [<code dir="ltr">-deviations</code>] [<code dir="ltr">-html</code>] [<code dir="ltr">-save</code> [<code dir="ltr">-savedir</code> <span class="italic">directory_path</span>]</p>
<p>For example:</p>
<pre dir="ltr">$ cd /home/grid/cvu_home/bin
$ ./cluvfy comp healthcheck -collect cluster -bestpractice -deviations -html
</pre>
<p>The options are:</p>
<ul>
<li>
<p><code dir="ltr">-collect [cluster|database]</code></p>
<p>Use this flag to specify that you want to perform checks for Oracle Clusterware (<code dir="ltr">-cluster</code>) or Oracle Database (<code dir="ltr">-database</code>). If you do not use the <code dir="ltr">-collect</code> flag with the healthcheck option, then <code dir="ltr">cluvfy comp healthcheck</code> performs checks for both Oracle Clusterware and Oracle Database.</p>
</li>
<li>
<p><code dir="ltr">-db</code> <code dir="ltr"><span class="codeinlineitalic">db_unique_name</span></code></p>
<p>Use this flag to specify checks on the database unique name that you enter after the <code dir="ltr">-db</code> flag.</p>
<p>CVU uses JDBC to connect to the database as the user <code dir="ltr">cvusys</code> to verify various database parameters. For this reason, if you want checks to be performed for the database you specify with the <code dir="ltr">-db</code> flag, then you must first create the <code dir="ltr">cvusys</code> user on that database, and grant that user the CVU-specific role, <code dir="ltr">cvusapp</code>. You must also grant members of the <code dir="ltr">cvusapp</code> role <code dir="ltr">select</code> permissions on system tables.</p>
<p>A SQL script is included in <span class="italic">CVU_home</span><code dir="ltr">/cv/admin/cvusys.sql</code> to facilitate the creation of this user. Use this SQL script to create the cvusys user on all the databases that you want to verify using CVU.</p>
<p>If you use the <code dir="ltr">-db</code> flag but do not provide a database unique name, then CVU discovers all the Oracle Databases on the cluster. If you want to perform best practices checks on these databases, then you must create the <code dir="ltr">cvusys</code> user on each database, and grant that user the <code dir="ltr">cvusapp</code> role with the <code dir="ltr">select</code> privileges needed to perform the best practice checks.</p>
</li>
<li>
<p><code dir="ltr">[-bestpractice | -mandatory] [-deviations</code>]</p>
<p>Use the <code dir="ltr">-bestpractice</code> flag to specify best practice checks, and the <code dir="ltr">mandatory</code> flag to specify mandatory checks. Add the <code dir="ltr">-deviations</code> flag to specify that you want to see only the deviations from either the best practice recommendations or the mandatory requirements. You can specify either the <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code> flag, but not both flags. If you specify neither <code dir="ltr">-bestpractice</code> or <code dir="ltr">-mandatory</code>, then both best practices and mandatory requirements are displayed.</p>
</li>
<li>
<p><code dir="ltr">-html</code></p>
<p>Use the <code dir="ltr">-html</code> flag to generate a detailed report in HTML format.</p>
<p>If you specify the <code dir="ltr">-html</code> flag, and a browser CVU recognizes is available on the system, then the browser is started and the report is displayed on the browser when the checks are complete.</p>
<p>If you do not specify the html flag, then the detailed report is generated in a text file.</p>
</li>
<li>
<p><code dir="ltr">-save [-savedir</code> <code dir="ltr"><span class="codeinlineitalic">dir_path</span></code>]</p>
<p>Use the <code dir="ltr">-save</code> or <code dir="ltr">-save -savedir</code> flags to save validation reports (<code dir="ltr">cvuchecdkreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.txt</code> and <code dir="ltr">cvucheckreport_</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.htm</code>), where <code dir="ltr"><span class="codeinlineitalic">timestamp</span></code> is the time and date of the validation report.</p>
<p>If you use the <code dir="ltr">-save</code> flag by itself, then the reports are saved in the path <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code><code dir="ltr">/cv/report</code>, where <code dir="ltr"><span class="codeinlineitalic">CVU_home</span></code> is the location of the CVU binaries.</p>
<p>If you use the flags <code dir="ltr">-save -savedir</code>, and enter a path where you want the CVU reports saved, then the CVU reports are saved in the path you specify.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIADFHJJ"></a>
<div id="CWLIN361" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.9</span> Interconnect Configuration Issues</h2>
<p>If you plan to use multiple network interface cards (NICs) for the interconnect, and you do not configure them during installation or after installation with Redundant Interconnect Usage, then you should use a third-party solution to bond the interfaces at the operating system level. Otherwise, the failure of a single NIC will affect the availability of the cluster node.</p>
<p>If you install Oracle Grid Infrastructure and Oracle RAC, then they must use the same NIC or bonded NIC cards for the interconnect.</p>
<p>If you use bonded NIC cards, and use the Oracle Clusterware Redundant Interconnect Usage feature, then they should be on different subnets. If you use a third-party vendor method of aggregation, such as bonding or IPMP, then follow the directions for that vendor&#39;s product.</p>
<p>If you encounter errors, then carry out the following system checks:</p>
<ul>
<li>
<p>Verify with your network providers that they are using correct cables (length, type) and software on their switches. In some cases, to avoid bugs that cause disconnects under loads, or to support additional features such as Jumbo Frames, you may need a firmware upgrade on interconnect switches, or you may need newer NIC driver or firmware at the operating system level. Running without such fixes can cause later instabilities to Oracle RAC databases, even though the initial installation seems to work.</p>
</li>
<li>
<p>Review VLAN configurations, duplex settings, and auto-negotiation in accordance with vendor and Oracle recommendations.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABFAAIG"></a>
<div id="CWLIN500" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.10</span> SCAN VIP and SCAN Listener Issues</h2>
<p>If the final check of your installation reports errors related to the SCAN VIP addresses or listeners, then check the following items to make sure your network is configured correctly:</p>
<ul>
<li>
<p>Check the file <code dir="ltr">/etc/resolv.conf</code> - verify the contents are the same on each node</p>
</li>
<li>
<p>Verify that there is a DNS entry for the SCAN, and that it resolves to three valid IP addresses. Use the command <code dir="ltr">nslookup</code> <code dir="ltr"><span class="codeinlineitalic">scan-name</span></code>; this command should return the DNS server name and the three IP addresses configured for the SCAN.</p>
</li>
<li>
<p>Use the <code dir="ltr">ping</code> command to test the IP addresses assigned to the SCAN; you should receive a response for each IP address.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you do not have a DNS configured for your cluster environment, then you can create an entry for the SCAN in the <code dir="ltr">/etc/hosts</code> file on each node. However, using the <code dir="ltr">/etc/hosts</code> file to resolve the SCAN results in having only one SCAN available for the entire cluster instead of three. Only the first entry for SCAN in the <code dir="ltr">hosts</code> file is used.</div>
</li>
<li>
<p>Ensure the SCAN VIP uses the same netmask that is used by the public interface.</p>
</li>
</ul>
<p>If you need additional assistance troubleshooting errors related to the SCAN, SCAN VIP or listeners, then refer to My Oracle Support. For example, the note with Doc ID 1373350.1 contains some of the most common issues for the SCAN VIPs and listeners.</p>
</div>
<!-- class="sect1" -->
<a id="BABCEEBE"></a>
<div id="CWLIN501" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.11</span> Storage Configuration Issues</h2>
<p>The following is a list of issues involving storage configuration:</p>
<ul>
<li>
<p><a href="#BABCABHH">Recovery from Losing a Node Filesystem or Grid Home</a></p>
</li>
<li>
<p><a href="#BABJIBJE">Oracle ASM Library Driver Issues</a></p>
</li>
<li>
<p><a href="#BABFBCJB">Oracle ASM Issues After Upgrading Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABFFABH">Oracle ASM Issues After Downgrading Oracle Grid Infrastructure for Standalone Server (Oracle Restart)</a></p>
</li>
</ul>
<a id="BABCABHH"></a>
<div id="CWLIN502" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.11.1</span> Recovery from Losing a Node Filesystem or Grid Home</h3>
<p>If you remove a filesystem by mistake, or encounter another storage configuration issue that results in losing the Oracle Local Registry or otherwise corrupting a node, you can recover the node in one of two ways:</p>
<ul>
<li>
<p>Restore the node from an operating system level backup</p>
</li>
<li>
<p>Remove the node, and then add the node, using <span class="italic">Grid home</span><code dir="ltr">/addnode/addnode.sh</code>. Profile information for is copied to the node, and the node is restored.</p>
</li>
</ul>
<p>Using <code dir="ltr">addnode.sh</code> enables cluster nodes to be removed and added again, so that they can be restored from the remaining nodes in the cluster. If you add nodes in a GNS configuration, then that is called Grid Plug and Play (GPnP). GPnP uses profiles to configure nodes, which eliminates configuration data requirements for nodes and the need for explicit add and delete nodes steps. GPnP allows a system administrator to take a template system image and run it on a new node with no further configuration. GPnP removes many manual operations, reduces the opportunity for errors, and encourages configurations that can be changed easily. Removal of individual node configuration makes the nodes easier to replace, because nodes do not need to contain individually-managed states.</p>
<p>GPnP reduces the cost of installing, configuring, and managing database nodes by making their node state disposable. It allows nodes to be easily replaced with a regenerated state.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD90989" href="../CWADD/GUID-2AE1FEE2-7A45-40E5-97CD-CF6DD91A4E8B.htm#CWADD90989"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about how to add nodes manually or with GNS</div>
</div>
<!-- class="sect2" -->
<a id="BABJIBJE"></a>
<div id="CWLIN503" class="sect2">
<h3 class="sect2"><span class="secnum">A.11.2</span> Oracle ASM Library Driver Issues</h3>
<p>The following is a list of Oracle ASM driver library error messages, and how to address these errors:</p>
<div class="msgset"><a id="tahiti51319173"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-4998"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref745"></a><a class="dashingAutolink" name="autolink-4999"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref746"></a>Asmtool: Unable to clear device &#34;<span class="italic">devicepath</span>&#34;: Input/output error</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> This is a write access error that can have several causes.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> If the disk is mounted, then unmount it. For example: <code dir="ltr">umount /dev/sdb1</code>. Ensure that the group and user that owns the device is the Oracle Grid Infrastructure installation owner and the oraInventory group. For example: <code dir="ltr">chown grid:oinstall</code>.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" -->
<div class="msgset"><a id="tahiti51319279"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-5000"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref747"></a><a class="dashingAutolink" name="autolink-5001"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref748"></a><a class="dashingAutolink" name="autolink-5002"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref749"></a>Unable to open ASMLib; Unable to find candidate disks &#39;ORCL:*&#39;</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If you have created disks but you cannot discover candidate disks from OUI, this could be due to a variety of configuration errors that prevent access to Oracle ASM storage.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> As the Oracle Grid Infrastructure installation owner, enter the command <code dir="ltr">/usr/sbin/oracleasm-discover</code>, using the ASM disk path <span class="italic">asm_diskstring</span>. For example:
<pre dir="ltr">[grid@node1]$ /usr/sbin/oracleasm-discover &#39;ORCL:*&#39;
</pre>
<p>If you do not have <code dir="ltr">/usr/sbin/oracleasm-discover</code>, then you do not have <code dir="ltr">oracleasmlib</code> installed. If you do have the command, then you should be able to determine if ASMLib is enabled, if disks are created, and if other tasks to create candidate disks are completed.</p>
<p>If you have resolved the issue, then you should see output similar to the following when you enter the command:</p>
<pre dir="ltr">[grid@node1]$ /usr/sbin/oracleasm-discover &#39;ORCL:*&#39;
 
Using ASMLib from /opt/oracle/extapi/64/asm/orcl/1/libasm.so
 
[ASM Library - Generic Linux, version 2.0.4 (KABI_V2)]
Discovered disk: ORCL:DISK1 [78140097 blocks (40007729664 bytes), maxio 512]
Discovered disk: ORCL:DISK2 [78140097 blocks (40007729664 bytes), maxio 512]
Discovered disk: ORCL:DISK3 [78140097 blocks (40007729664 bytes), maxio 512]
</pre></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect2" -->
<a id="BABFBCJB"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.11.3</span> Oracle ASM Issues After Upgrading Oracle Grid Infrastructure</h3>
<p>The following section explains an error that can occur when you upgrade Oracle Grid Infrastructure, and how to address it:</p>
<div class="msgset"><a id="tahiti51759324"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-5003"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref750"></a><a class="dashingAutolink" name="autolink-5004"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref751"></a>CRS-0219: Could not update resource &#39;ora.node1.asm1.inst</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> After upgrading Oracle Grid Infrastructure, Oracle ASM client databases prior to Oracle Database 12<span class="italic">c</span> are unable to obtain the Oracle ASM instance aliases on the ora.asm resource through the ALIAS_NAME attribute.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> You must use Local ASM or set the cardinality for Flex ASM to ALL, instead of the default of 3. Use the following command to modify the Oracle ASM resource (ora.asm):
<p><code dir="ltr">$ srvctl modify asm -count ALL</code></p>
<p>This setting changes the cardinality so that Flex ASM instances run on all nodes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="postinst.htm#CHDIEDFJ">Section 9.3.3, &#34;Making Oracle ASM Available to Earlier Oracle Database Releases&#34;</a> for information about making Oracle ASM available to Oracle Database releases earlier than 12<span class="italic">c</span> Release 1</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect2" -->
<a id="BABFFABH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">A.11.4</span> Oracle ASM Issues After Downgrading Oracle Grid Infrastructure for Standalone Server (Oracle Restart)</h3>
<p>The following section explains an error that can occur when you downgrade Oracle Grid Infrastructure for standalone server (Oracle Restart), and how to address it:</p>
<div class="msgset">
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-5005"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref752"></a><a class="dashingAutolink" name="autolink-5006"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref753"></a><a class="dashingAutolink" name="autolink-5007"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref754"></a><a class="dashingAutolink" name="autolink-5008"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref755"></a><a class="dashingAutolink" name="autolink-5009"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref756"></a>CRS-2529: Unable to act on &#39;ora.cssd&#39; because that would require stopping or relocating &#39;ora.asm&#39;</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> After downgrading Oracle Grid Infrastructure for a standalone server (Oracle Restart) from 12.1.0.2 to 12.1.0.1, the <code dir="ltr">ora.asm</code> resource does not contain the Server Parameter File (SPFILE) parameter.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> When you downgrade Oracle Grid Infrastructure for a standalone server (Oracle Restart) from 12.1.0.2 to 12.1.0.1, you must explicitly add the Server Parameter File (SPFILE) from the ora.asm resource when adding the Oracle ASM resource for 12.1.0.1.
<p>Follow these steps when you downgrade Oracle Restart from 12.1.0.2 to 12.1.0.1:</p>
<ol>
<li>
<p>In your 12.1.0.2 Oracle Restart installed configuration, query the <code dir="ltr">SPFILE</code> parameter from the Oracle ASM resource (<code dir="ltr">ora.asm</code>) and remember it:</p>
<pre dir="ltr"> srvctl config asm
</pre></li>
<li>
<p>Deconfigure the 12.1.0.2 release Oracle Restart:</p>
<pre dir="ltr"><span class="italic">Grid_home</span>/crs/install/roothas.pl -deconfig -force
</pre></li>
<li>
<p>Install the 12.1.0.1 release Oracle Restart by running <code dir="ltr">root.sh</code>:</p>
<pre dir="ltr">$ <span class="italic">Grid_home</span>/root.sh
</pre></li>
<li>
<p>Add the listener resource:</p>
<pre dir="ltr">$ <span class="italic">Grid_home</span>/bin/srvctl add LISTENER
</pre></li>
<li>
<p>Add the Oracle ASM resource and provide the <code dir="ltr">SPFILE</code> parameter for the 12.1.0.2 Oracle Restart configuration obtained in step 1:</p>
<pre dir="ltr">$ <span class="italic">Grid_home</span>/bin/srvctl add asm
[-spfile &lt;spfile&gt;]  [-diskstring &lt;asm_diskstring&gt;])
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST999" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST999"><span class="italic">Oracle Database Installation Guide</span></a> for information about installing and deconfiguring Oracle Restart</div>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABDBHAD"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.12</span> Failed or Incomplete Installations and Upgrades</h2>
<p>During installations or upgrades of Oracle Grid Infrastructure, the following actions take place:</p>
<ol>
<li>
<p>Oracle Universal Installer (OUI) accepts inputs to configure Oracle Grid Infrastructure software on your system.</p>
</li>
<li>
<p>You are instructed to run either the <code dir="ltr">orainstRoot.sh</code> or <code dir="ltr">root.sh</code> script or both.</p>
</li>
<li>
<p>You run the scripts either manually or through root automation.</p>
</li>
<li>
<p>OUI runs configuration assistants. The Oracle Grid Infrastructure software installation completes successfully.</p>
</li>
</ol>
<p>If OUI exits before the <code dir="ltr">root.sh</code> or <code dir="ltr">rootupgrade.sh</code> script runs, or if OUI exits before the installation or upgrade session is completed successfully, then the Oracle Grid Infrastructure installation or upgrade is incomplete. If your installation or upgrade does not complete, then Oracle Clusterware does not work correctly. If you are performing an upgrade, then an incomplete upgrade can result in some nodes being upgraded to the latest software and others nodes not upgraded at all. If you are performing an installation, the incomplete installation can result in some nodes not being a part of the cluster.</p>
<p>Additionally, from Oracle Grid Infrastructure release 11.2.0.3 or later, the following messages may be seen during installation or upgrade:</p>
<p><a id="sthref757"></a><a id="sthref758"></a><a id="sthref759"></a><a id="sthref760"></a><code dir="ltr">ACFS-9427 Failed to unload ADVM/ACFS drivers. A system reboot is recommended</code></p>
<p><code dir="ltr">ACFS-9428 Failed to load ADVM/ACFS drivers. A system reboot is recommended</code></p>
<p><code dir="ltr">CLSRSC-400: A system reboot is required to continue installing</code></p>
<p>To resolve this error, you must reboot the server, and then follow the steps for completing an incomplete installation or upgrade as documented in the following sections:</p>
<ul>
<li>
<p><a href="#BABBIJDJ">Completing Failed or Interrupted Upgrades</a></p>
</li>
<li>
<p><a href="#BABECHBJ">Completing Failed or Interrupted Installations</a></p>
</li>
</ul>
<a id="BABBIJDJ"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">A.12.1</span> Completing Failed or Interrupted Upgrades</h3>
<p>If OUI exits on the node from which you started the upgrade, or the node reboots before you confirm that the <code dir="ltr">rootupgrade.sh</code> script was run on all nodes, the upgrade remains <a id="sthref761"></a>incomplete. In an incomplete upgrade, configuration assistants still need to run, and the new Grid home still needs to be marked as active in the central Oracle inventory. You must complete the upgrade on the affected nodes manually.</p>
<p>This section contains the following tasks:</p>
<ul>
<li>
<p><a href="#BABJFGHE">Continuing Upgrade When Force Upgrade in Rolling Upgrade Mode Fails</a></p>
</li>
<li>
<p><a href="#BABHIGGB">Continuing Upgrade When Upgrade Fails on the First Node</a></p>
</li>
<li>
<p><a href="#BABHBHBC">Continuing Upgrade When Upgrade Fails on Nodes Other Than the First Node</a></p>
</li>
</ul>
<a id="BABJFGHE"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">A.12.1.1</span> Continuing Upgrade When Force Upgrade in Rolling Upgrade Mode Fails</h4>
<p>If you attempt to force upgrade cluster nodes in the rolling upgrade mode, you may see the following error:</p>
<div class="msgset">
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-5010"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref762"></a><a class="dashingAutolink" name="autolink-5011"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref763"></a>CRS 1137 - Rejecting the rolling upgrade mode change because the cluster was forcibly upgraded.</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The rolling upgrade mode change was rejected because the cluster was forcibly upgraded.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Delete the nodes that were not upgraded using the procedure documented in <a class="olink CWADD90992" href="../CWADD/GUID-8ADA9667-EC27-4EF9-9F34-C8F65A757F2A.htm#CWADD90992"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a>. You can then retry the rolling upgrade process using the <code dir="ltr">crsctl start rollingupgrade</code> command as documented in <a href="procstop.htm#BABHGAGJ">Section B.8, &#34;Performing Rolling Upgrade of Oracle Grid Infrastructure&#34;</a>.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect3" -->
<a id="BABHIGGB"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">A.12.1.2</span> Continuing Upgrade When Upgrade Fails on the First Node</h4>
<p>When the first node cannot be upgraded, do the following:</p>
<ol>
<li>
<p>If the root script failure indicated a need to reboot, through the message <code dir="ltr">CLSRSC-400</code>, then reboot the first node (the node where the upgrade was started). Otherwise, manually fix or clear the error condition, as reported in the error output. Run the <code dir="ltr">rootupgrade.sh</code> script on that node again.</p>
</li>
<li>
<p>Complete the upgrade of all other nodes in the cluster.</p>
</li>
<li>
<p>Configure a response file, and provide passwords for the installation. See <a href="app_nonint.htm#CIHDEAAA">Section C.5, &#34;Postinstallation Configuration Using a Response File&#34;</a> for information about how to create the response file.</p>
</li>
<li>
<p>To complete the upgrade, log in as the Grid installation owner, and run the script <code dir="ltr">configToolAllCommands</code>, located in the path <span class="italic">Gridhome</span><code dir="ltr">/cfgtoollogs/configToolAllCommands</code>, specifying the response file that you created. For example, where the response file is <code dir="ltr">gridinstall.rsp</code>:</p>
<pre dir="ltr">[grid@node1]$ cd /u01/app/12.1.0/grid/cfgtoollogs
[grid@node1]$ ./configToolAllCommands RESPONSE_FILE=gridinstall.rsp
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABHBHBC"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">A.12.1.3</span> Continuing Upgrade When Upgrade Fails on Nodes Other Than the First Node</h4>
<p>For nodes other than the first node (the node on which the upgrade was started):</p>
<ol>
<li>
<p>If the root script failure indicated a need to reboot, through the message <code dir="ltr">CLSRSC-400</code>, then reboot the first node (the node where the upgrade was started). Otherwise, manually fix or clear the error condition, as reported in the error output.</p>
</li>
<li>
<p>If root automation is being used, click <span class="bold">Retry</span> on the OUI instance on the first node.</p>
</li>
<li>
<p>If root automation is not being used, log into the affected node as <code dir="ltr">root</code>. Change directory to the Grid home, and run the <code dir="ltr">rootupgrade.sh</code> script on that node. For example:</p>
<pre dir="ltr">[root@node6]# cd /u01/app/12.1.0/grid
[root@node6]# ./rootupgrade.sh
</pre></li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABECHBJ"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">A.12.2</span> Completing Failed or Interrupted Installations</h3>
<p>If OUI exits on the node from which you started the install, or the node reboots before you confirm that the <code dir="ltr">orainstRoot.sh</code> or <code dir="ltr">root.sh</code> script were run on all nodes, the install remains incomplete. In an incomplete install, configuration assistants still need to run, and the new Grid home still needs to be marked as active in the central Oracle inventory. You must complete the install on the affected nodes manually.</p>
<p>This section contains the following tasks:</p>
<ul>
<li>
<p><a href="#BABHAFDE">Continuing Incomplete Installations on First Node</a></p>
</li>
<li>
<p><a href="#BABIJIAJ">Continuing Installation on Nodes Other Than the First Node</a></p>
</li>
</ul>
<a id="BABHAFDE"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">A.12.2.1</span> Continuing Incomplete Installations on First Node</h4>
<p>The first node must finish installation before the rest of the clustered nodes. To continue an <a id="sthref764"></a><a id="sthref765"></a>incomplete installation on the first node:</p>
<ol>
<li>
<p>If the root script failure indicated a need to reboot, through the message <code dir="ltr">CLSRSC-400</code>, then reboot the first node (the node where the upgrade was started). Otherwise, manually fix or clear the error condition, as reported in the error output.</p>
</li>
<li>
<p>If necessary, log in as <code dir="ltr">root</code> to the first node. Run the <code dir="ltr">orainstRoot.sh</code> script on that node again. For example:</p>
<pre dir="ltr">$ sudo -s
[root@node1]# cd /u01/app/oraInventory
[root@node1]# ./orainstRoot.sh
</pre></li>
<li>
<p>Change directory to the Grid home on the first node, and run the <code dir="ltr">root</code> script on that node again. For example:</p>
<pre dir="ltr">[root@node1]# cd /u01/app/12.1.0/grid
[root@node1]# ./root.sh
</pre></li>
<li>
<p>Complete the installation on all other nodes.</p>
</li>
<li>
<p>Configure a response file, and provide passwords for the installation. See <a href="app_nonint.htm#CIHDEAAA">Section C.5, &#34;Postinstallation Configuration Using a Response File&#34;</a> for information about how to create the response file.</p>
</li>
<li>
<p>To complete the installation, log in as the Grid installation owner, and run the script <code dir="ltr">configToolAllCommands</code>, located in the path <span class="italic">Gridhome</span><code dir="ltr">/cfgtoollogs/configToolAllCommands</code>, specifying the response file that you created. For example, where the response file is <code dir="ltr">gridinstall.rsp</code>:</p>
<pre dir="ltr">[grid@node1]$ cd /u01/app/12.1.0/grid/cfgtoollogs
[grid@node1]$ ./configToolAllCommands RESPONSE_FILE=gridinstall.rsp
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABIJIAJ"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">A.12.2.2</span> Continuing Installation on Nodes Other Than the First Node</h4>
<p>For nodes other than the first node (the node on which the installation was started):</p>
<ol>
<li>
<p>If the root script failure indicated a need to reboot, through the message <code dir="ltr">CLSRSC-400</code>, then reboot the affected node. Otherwise, manually fix or clear the error condition, as reported in the error output.</p>
</li>
<li>
<p>If root automation is being used, click <span class="bold">Retry</span> on the OUI instance on the first node.</p>
</li>
<li>
<p>If root automation is not being used, follow these steps:</p>
<ol>
<li>
<p>Log into the affected node as <code dir="ltr">root</code>, and run the <code dir="ltr">orainstRoot.sh</code> script on that node. For example:</p>
<pre dir="ltr">$ sudo -s
[root@node6]# cd /u01/app/oraInventory
[root@node6]# ./orainstRoot.sh
</pre></li>
<li>
<p>Change directory to the Grid home, and run the <code dir="ltr">root.sh</code> script on the affected node. For example:</p>
<pre dir="ltr">[root@node6]# cd /u01/app/12.1.0/grid
[root@node6]# ./root.sh
</pre></li>
</ol>
</li>
<li>
<p>Continue the installation from the OUI instance on the first node.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment605">
<tr>
<td class="cellalignment612">
<table class="cellalignment610">
<tr>
<td class="cellalignment609"><a href="rem_orcl.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment609"><a href="procstop.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment614">
<table class="cellalignment608">
<tr>
<td class="cellalignment609"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment609"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment609"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment609"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment609"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment609"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
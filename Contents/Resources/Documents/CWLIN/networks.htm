<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-4960"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Networks%20for%20Oracle%20Grid%20Infrastructure%20and%20Oracle%20RAC"></a><title>Configuring Networks for Oracle Grid Infrastructure and Oracle RAC</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T4:23:39Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide"/>
<meta name="dcterms.identifier" content="E48914-22"/>
<meta name="dcterms.isVersionOf" content="CWLIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="prelinux.htm" title="Previous" type="text/html"/>
<link rel="Next" href="usrgrps.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48914-22.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/22</span> <!-- End Header -->
<script>
<!-- // <![CDATA[
window.name='networks'
// ]]> -->
</script> <script>
// <![CDATA[
function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>');
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() { var height = msg.document.getElementById('footnote').offsetHeight; msg.resizeTo(598, height + 100); }, 100);
    msg.focus();
}
// ]]>
</script> <noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<div id="CWLIN473" class="chapter"><a id="CIHECJAF"></a>
<h1 class="chapter"><span class="secnum">5</span> Configuring Networks for Oracle Grid Infrastructure and Oracle RAC</h1>
<p>Review the following sections to check that you have the networking hardware and internet protocol (IP) addresses required for an Oracle Grid Infrastructure for a cluster installation.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABGGDGC">Network Interface Hardware Requirements</a></p>
</li>
<li>
<p><a href="#CIHIJAJB">IP Interface Configuration Requirements</a></p>
</li>
<li>
<p><a href="#CIHBIBDF">Private Interconnect Redundant Network Requirements</a></p>
</li>
<li>
<p><a href="#CIHCEIJH">IPv4 and IPv6 Protocol Requirements</a></p>
</li>
<li>
<p><a href="#BABHCDII">Oracle Grid Infrastructure IP Name and Address Requirements</a></p>
</li>
<li>
<p><a href="#CIHIABDD">About Oracle Flex ASM Clusters Networks</a></p>
</li>
<li>
<p><a href="#CEGDIDCB">Broadcast Requirements for Networks Used by Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#CEGGIDCG">Multicast Requirements for Networks Used by Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABJDJCJ">Domain Delegation to Grid Naming Service</a></p>
</li>
<li>
<p><a href="#BAIBICBE">Configuration Requirements for Oracle Flex Clusters</a></p>
</li>
<li>
<p><a href="#BABEHBAA">Grid Naming Service Standard Cluster Configuration Example</a></p>
</li>
<li>
<p><a href="#BABIFAEI">Manual IP Address Configuration Example</a></p>
</li>
<li>
<p><a href="#BABBDGCE">Network Interface Configuration Options</a></p>
</li>
<li>
<p><a href="#CEGJDDIA">Multiple Private Interconnects and Oracle Linux</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Certify pages on My Oracle Support for the most up-to-date information about supported network protocols and hardware for Oracle RAC:
<p><code><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</div>
<a id="BABGGDGC"></a>
<div id="CWLIN209" class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Network Interface Hardware Requirements</h2>
<p>The following is a list of requirements for network configuration:</p>
<ul>
<li>
<p>Each node must have at least two network adapters or network interface cards (NICs): one for the public network interface, and one for the private network interface (the interconnect).</p>
<p>When you upgrade a node to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2 (11.2.0.2) and later, the upgraded system uses your existing network classifications.</p>
<p>To configure multiple public interfaces, use a third-party technology for your platform to aggregate the multiple public interfaces before you start installation, and then select the single interface name for the combined interfaces as the public interface. Oracle recommends that you do not identify multiple public interface names during Oracle Grid Infrastructure installation. Note that if you configure two network interfaces as public network interfaces in the cluster without using an aggregation technology, the failure of one public interface on a node does not result in automatic VIP failover to the other public interface.</p>
<p>Oracle recommends that you use the Redundant Interconnect Usage feature to make use of multiple interfaces for the private network. However, you can also use third-party technologies to provide redundancy for the private network.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Redundant Interconnect Usage requires a complete Oracle Grid Infrastructure and Oracle Database Release 2 (11.2.0.2) or higher stack. Earlier release Oracle Databases cannot use this feature, and must use third-party NIC bonding technologies. If you consolidate different database releases in one cluster, and use databases before Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), then you may require both technologies.</div>
</li>
<li>
<p>For the public network, each network adapter must support TCP/IP.</p>
</li>
<li>
<p>For the private network, the interface must support the user datagram protocol (UDP) using high-speed network adapters and switches that support TCP/IP (minimum requirement 1 Gigabit Ethernet).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
UDP is the default interface protocol for Oracle RAC and Oracle Clusterware. You must use a switch for the interconnect. Oracle recommends that you use a dedicated switch.
<p>Oracle does not support token-rings or crossover cables for the interconnect.</p>
</div>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIHIJAJB"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> IP Interface Configuration Requirements</h2>
<ul>
<li>
<p>For clusters using single interfaces for private networks, each node&#39;s private interface for interconnects must be on the same subnet, and that subnet must connect to every node of the cluster. For example, if the private interfaces have a subnet mask of 255.255.255.0, then your private network is in the range 192.168.0.0--192.168.0.255, and your private addresses must be in the range of 192.168.0.[0-255]. If the private interfaces have a subnet mask of 255.255.0.0, then your private addresses can be in the range of 192.168.[0-255].[0-255].</p>
<p>For clusters using Redundant Interconnect Usage, each private interface should be on a different subnet. However, each cluster member node must have an interface on each private interconnect subnet, and these subnets must connect to every node of the cluster. For example, you can have private networks on subnets 192.168.0 and 10.0.0, but each cluster member node must have an interface connected to the 192.168.0 and 10.0.0 subnets.</p>
</li>
<li>
<p>For the private network, the endpoints of all designated interconnect interfaces must be completely reachable on the network. There should be no node that is not connected to every private network interface. You can test if an interconnect interface is reachable using <code dir="ltr"><a id="sthref208"></a>ping</code>.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CIHBIBDF"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Private Interconnect Redundant Network Requirements</h2>
<p><a id="sthref209"></a><a id="sthref210"></a>With Redundant Interconnect Usage, you can identify multiple interfaces to use for the cluster private network, without the need of using bonding or other technologies. This functionality is available starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2). If you use the Oracle Clusterware Redundant Interconnect feature, then you must use IPv4 addresses for the interfaces.</p>
<p>When you define multiple interfaces, Oracle Clusterware creates from one to four highly available IP (HAIP) addresses. Oracle RAC and Oracle Automatic Storage Management (Oracle ASM) instances use these interface addresses to ensure highly available, load-balanced interface communication between nodes. The installer enables Redundant Interconnect Usage to provide a high availability private network.</p>
<p>By default, Oracle Grid Infrastructure software uses all of the HAIP addresses for private network communication, providing load-balancing across the set of interfaces you identify for the private network. If a private interconnect interface fails or become non-communicative, then Oracle Clusterware transparently moves the corresponding HAIP address to one of the remaining functional interfaces.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
During installation, you can define up to four interfaces for the private network. The number of HAIP addresses created during installation is based on both physical and logical interfaces configured for the network adapter. After installation, you can define additional interfaces. If you define more than four interfaces as private network interfaces, then be aware that Oracle Clusterware activates only four of the interfaces at a time. However, if one of the four active interfaces fails, then Oracle Clusterware transitions the HAIP addresses configured to the failed interface to one of the reserve interfaces in the defined set of private interfaces.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD92358" href="../CWADD/GUID-478452E9-5A0B-4B36-BF82-CDF585007D14.htm#CWADD92358"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about HAIP addresses</div>
</div>
<!-- class="sect1" -->
<a id="CIHCEIJH"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.4</span> IPv4 and IPv6 Protocol Requirements</h2>
<p><a id="sthref211"></a><a id="sthref212"></a><a id="sthref213"></a>Oracle Grid Infrastructure and Oracle RAC support the standard IPv6 address notations specified by RFC 2732 and global and site-local IPv6 addresses as defined by RFC 4193.</p>
<p><a id="sthref214"></a><a id="sthref215"></a><a id="sthref216"></a>Cluster member node interfaces can be configured to use IPv4, IPv6, or both types of Internet protocol addresses. However, be aware of the following:</p>
<ul>
<li>
<p><span class="bold">Configuring public VIPs</span>: During installation, you can configure VIPs for a given public network as IPv4 or IPv6 types of addresses. You can configure an IPv6 cluster by selecting VIP and SCAN names that resolve to addresses in an IPv6 subnet for the cluster, and selecting that subnet as public during installation. After installation, you can also configure cluster member nodes with a mixture of IPv4 and IPv6 addresses.</p>
<p>If you install using static virtual IP (VIP) addresses in an IPv4 cluster, then the VIP names you supply during installation should resolve only to IPv4 addresses. If you install using static IPv6 addresses, then the VIP names you supply during installation should resolve only to IPv6 addresses.</p>
<p>During installation, you cannot configure the cluster with VIP and SCAN names that resolve to both IPv4 and IPv6 addresses. For example, you cannot configure VIPs and SCANS on some cluster member nodes to resolve to IPv4 addresses, and VIPs and SCANs on other cluster member nodes to resolve to IPv6 addresses. Oracle does not support this configuration.</p>
</li>
<li>
<p><span class="bold">Configuring private IP interfaces (interconnects)</span>: you must configure the private network as an IPv4 network. IPv6 addresses are not supported for the interconnect.</p>
</li>
<li>
<p><span class="bold">Redundant network interfaces:</span> If you configure redundant network interfaces for a public or VIP node name, then configure both interfaces of a redundant pair to the same address protocol. Also ensure that private IP interfaces use the same IP protocol. Oracle does not support names using redundant interface configurations with mixed IP protocols. You must configure both network interfaces of a redundant pair with the same IP protocol.</p>
</li>
<li>
<p><span class="bold">GNS or Multi-cluster addresses</span>: Oracle Grid Infrastructure supports IPv4 DHCP addresses, and IPv6 addresses configured with the Stateless Address Autoconfiguration protocol, as described in RFC 2462.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Link-local and site-local IPv6 addresses as defined in RFC 1884 are not supported.</div>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><code dir="ltr"><a href="http://www.ietf.org/rfc/rfc2732.txt">http://www.ietf.org/rfc/rfc2732.txt</a></code> for RFC 2732, and information about IPv6 notational representation</p>
</li>
<li>
<p><code dir="ltr"><a href="http://www.ietf.org/rfc/rfc3513.txt">http://www.ietf.org/rfc/rfc3513.txt</a></code> for RFC 3513, and information about proper IPv6 addressing</p>
</li>
<li>
<p><code dir="ltr"><a href="http://www.ietf.org/rfc/rfc2462.txt">http://www.ietf.org/rfc/rfc2462.txt</a></code> for RFC 2462, and information about IPv6 Stateless Address Autoconfiguration protocol</p>
</li>
<li>
<p><a class="olink NETAG004" href="../NETAG/layers.htm#NETAG004"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about network communication and IP address protocol options</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABHCDII"></a>
<div id="CWLIN210" class="sect1">
<h2 class="sect1"><span class="secnum">5.5</span> Oracle Grid Infrastructure IP Name and Address Requirements</h2>
<p>For small clusters, you can use a static configuration of IP addresses. For large clusters, manually maintaining the large number of required IP addresses becomes too cumbersome. The Oracle Grid Naming Service is used with large clusters to ease network administration costs.This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHEECCE">About Oracle Grid Infrastructure Name Resolution Options</a></p>
</li>
<li>
<p><a href="#CEGHHJJH">Cluster Name and SCAN Requirements</a></p>
</li>
<li>
<p><a href="#CIHCBFIH">IP Name and Address Requirements For Grid Naming Service (GNS)</a></p>
</li>
<li>
<p><a href="#CIHHJGHG">IP Name and Address Requirements for Standard Cluster Manual Configuration</a></p>
</li>
</ul>
<a id="CIHEECCE"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.1</span> About Oracle Grid Infrastructure Name Resolution Options</h3>
<p>Before starting the installation, you must have at least two interfaces configured on each node: One for the private IP address and one for the public IP address.</p>
<p>You can configure IP addresses with one of the following options:</p>
<ul>
<li>
<p><span class="bold">Dynamic IP address assignment using Multi-cluster or standard Oracle Grid Naming Service (GNS)</span>. If you select this option, then network administrators delegate a subdomain to be resolved by GNS (standard or multicluster). Requirements for GNS are different depending on whether you choose to configure GNS with zone delegation (resolution of a domain delegated to GNS), or without zone delegation (a GNS virtual IP address without domain delegation):</p>
<p><span class="bold"><a id="sthref217"></a><a id="sthref218"></a>For GNS with zone delegation</span>:</p>
<ul>
<li>
<p>For IPv4, a DHCP service running on the public network the cluster uses</p>
</li>
<li>
<p>For IPv6, an autoconfiguration service running on the public network the cluster uses</p>
</li>
<li>
<p>Enough addresses on the DHCP server to provide one IP address for each node, and three IP addresses for the cluster used by the Single Client Access Name (SCAN) for the cluster</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Use an existing GNS configuration</span>. Starting with Oracle Grid Infrastructure12c Release 1 (12.1), a single GNS instance can be used by multiple clusters. To use GNS for multiple clusters, the DNS administrator must have delegated a zone for use by GNS. Also, there must be an instance of GNS started somewhere on the network and the GNS instance must be accessible (not blocked by a firewall). All of the node names registered with the GNS instance must be unique.</p>
</li>
<li>
<p><span class="bold">Static IP address assignment using DNS or host file resolution</span>. If you select this option, then network administrators assign a fixed IP address for each physical host name in the cluster and for IPs for the Oracle Clusterware managed VIPs. In addition, either domain name server (DNS) based static name resolution is used for each node, or host files for both the clusters and clients have to be updated, resulting in limited SCAN functionality. Selecting this option requires that you request network administration updates when you modify the cluster.</p>
<p><span class="bold"><a id="sthref219"></a><a id="sthref220"></a>For GNS without zone delegation</span>: Configure a GNS virtual IP address (VIP) for the cluster. To enable Oracle Flex Cluster, you must at least configure a GNS virtual IP address.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you use a static host name for all non-VIP server node public host names.
<p>Public IP addresses and virtual IP addresses must be in the same subnet.</p>
</div>
</div>
<!-- class="sect2" -->
<a id="CEGHHJJH"></a>
<div id="CWLIN482" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.2</span> Cluster Name and SCAN Requirements</h3>
<p>The cluster name is case-insensitive, must be unique across your enterprise, must be at least one character long and no more than 15 characters in length, must be alphanumeric, cannot begin with a numeral, and may contain hyphens (-). Underscore characters (_) are not allowed.</p>
<p>If you configure a Standard cluster, and choose a Typical install, then the SCAN is also the name of the cluster. In that case, the SCAN must meet the requirements for a cluster name. The SCAN can be no longer than 15 characters.</p>
<p>In an Advanced installation, The SCAN and cluster name are entered in separate fields during installation, so cluster name requirements do not apply to the name used for the SCAN, and the SCAN can be longer than 15 characters. If you enter a domain with the SCAN name, and you want to use GNS with zone delegation, then the domain must be the GNS domain.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Select your name carefully. After installation, you can only change the cluster name by reinstalling Oracle Grid Infrastructure.</div>
</div>
<!-- class="sect2" -->
<a id="CIHCBFIH"></a>
<div id="CWLIN211" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.3</span> IP Name and Address Requirements For Grid Naming Service (GNS)<a id="sthref221"></a></h3>
<p>If you enable Grid Naming Service (GNS), then name resolution requests to the cluster are delegated to the GNS, which is listening on the GNS virtual IP address. The domain name server (DNS) must be configured to delegate resolution requests for cluster names (any names in the subdomain delegated to the cluster) to the GNS. When a request comes to the domain, GNS processes the requests and responds with the appropriate addresses for the name requested. To use GNS, you must specify a static IP address for the GNS VIP address.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following restrictions apply to vendor configurations on your system: <a id="sthref222"></a>
<ul>
<li>
<p>For Standard Clusters: If you have vendor clusterware installed, then you cannot choose to use GNS, because the vendor clusterware does not support it. Vendor clusterware is not supported with Oracle Flex Cluster configurations.</p>
</li>
<li>
<p>You cannot use GNS with another multicast DNS. To use GNS, disable any third party mDNS daemons on your system.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHGJCGC"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.5.4</span> IP Name and Address Requirements For Multi-Cluster GNS</h3>
<p>Review the following requirements for using Multi-cluster GNS:</p>
<ul>
<li>
<p><a href="#CIHIAJEC">About Multi-Cluster GNS Networks</a></p>
</li>
<li>
<p><a href="#CIHJIFJD">Configuring GNS Server Clusters</a></p>
</li>
<li>
<p><a href="#CIHCGBFD">Configuring GNS Client Clusters</a></p>
</li>
<li>
<p><a href="#CIHJJJIG">Creating and Using a GNS Client Data File</a></p>
</li>
</ul>
<a id="CIHIAJEC"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">5.5.4.1</span> About Multi-Cluster GNS Networks</h4>
<p><a id="sthref223"></a><a id="sthref224"></a>The general requirements for Multi-cluster GNS are similar to those for standard GNS. Multi-cluster GNS differs from standard GNS in that Multi-cluster GNS provides a single networking service across a set of clusters, rather than a networking service for a single cluster.</p>
<p>To provide networking service, Multi-cluster GNS is configured using DHCP addresses, and name advertisement and resolution is carried out with the following components:</p>
<ul>
<li>
<p><span class="bold">The GNS server cluster</span> performs address resolution for GNS client clusters. A GNS server cluster is the cluster where Multi-cluster GNS runs, and where name resolution takes place for the subdomain delegated to the set of clusters.</p>
</li>
<li>
<p><span class="bold">GNS client clusters</span> receive address resolution from the GNS server cluster. A GNS client cluster is a cluster that advertises its cluster member node names using the GNS server cluster.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CIHJIFJD"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.5.4.2</span> Configuring GNS Server Clusters</h4>
<p>To use this option, your network administrators must have delegated a subdomain to GNS for resolution.</p>
<p>Before installation, create a static IP address for the GNS VIP address, and provide a subdomain that your DNS servers delegate to that static GNS IP address for resolution.</p>
</div>
<!-- class="sect3" -->
<a id="CIHCGBFD"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.5.4.3</span> Configuring GNS Client Clusters</h4>
<p>To configure a GNS client cluster, check to ensure all of the following requirements are completed:</p>
<ul>
<li>
<p>A GNS server instance must be running on your network, and it must be accessible (for example, not blocked by a firewall).</p>
</li>
<li>
<p>All of the node names in the GNS domain must be unique; address ranges and cluster names must be unique for both GNS server and GNS client clusters.</p>
</li>
<li>
<p>You must have a GNS client data file that you generated on the GNS server cluster, so that the GNS client cluster has the information needed to delegate its name resolution to the GNS server cluster, and you must have copied that file to the GNS client cluster member node on which you are running the Oracle Grid Infrastructure installation.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CIHJJJIG"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.5.4.4</span> Creating and Using a GNS Client Data File</h4>
<p><a id="sthref225"></a><a id="sthref226"></a>On a GNS server cluster member, run the following command, where <span class="italic">path_to_file</span> is the name and path location of the GNS client data file you create:</p>
<p><code dir="ltr">srvctl export gns -clientdata</code> <code dir="ltr"><span class="codeinlineitalic">path_to_file</span></code></p>
<p>For example:</p>
<pre dir="ltr">$ srvctl export gns -clientdata /home/grid/gns_client_data
</pre>
<p>Copy the GNS Client data file to a secure path on the GNS Client node where you run the GNS Client cluster installation. The Oracle Installation user must have permissions to access that file. Oracle recommends that no other user is granted permissions to access the GNS Client data file. During installation, you are prompted to provide a path to that file.</p>
<p>After you have completed the GNS client cluster installation, you must run the following command on one of the GNS server cluster members to start GNS service, where <span class="italic">path_to_file</span> is the name and path location of the GNS client data file:</p>
<p><code dir="ltr">srvctl add gns -clientdata</code> <code dir="ltr"><span class="codeinlineitalic">path_to_file</span></code></p>
<p>For example:</p>
<pre dir="ltr">$ srvctl add gns -clientdata /home/grid/gns_client_data
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD92403" href="../CWADD/GUID-D893FBA6-4C66-4BEE-B373-F158F2D86341.htm#CWADD92403"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about GNS server and GNS client administration</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIHHJGHG"></a>
<div id="CWLIN212" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.5</span> IP Name and Address Requirements for Standard Cluster Manual Configuration</h3>
<p>If you do not enable GNS, then you must configure static cluster node names and addresses before starting installation.</p>
<p>Public and virtual IP names must conform with the RFC 952 standard, which allows alphanumeric characters and hyphens (&#34;-&#34;), but does not allow underscores (&#34;_&#34;).</p>
<p>Oracle Clusterware manages private IP addresses in the private subnet on interfaces you identify as private during the installation interview.</p>
<p>The cluster must have the following names and addresses:</p>
<ul>
<li>
<p>A public IP address for each node, with the following characteristics:</p>
<ul>
<li>
<p>Static IP address</p>
</li>
<li>
<p>Configured before installation for each node, and resolvable to that node before installation</p>
</li>
<li>
<p>On the same subnet as all other public IP addresses, VIP addresses, and SCAN addresses in the cluster</p>
</li>
</ul>
</li>
<li>
<p>A virtual IP address for each node, with the following characteristics:</p>
<ul>
<li>
<p>Static IP address</p>
</li>
<li>
<p>Configured before installation for each node, but not currently in use</p>
</li>
<li>
<p>On the same subnet as all other public IP addresses, VIP addresses, and SCAN addresses in the cluster</p>
</li>
</ul>
</li>
<li>
<p>A Single Client Access Name (SCAN) for the cluster, with the following characteristics:</p>
<ul>
<li>
<p>Three static IP addresses configured on the domain name server (DNS) before installation so that the three IP addresses are associated with the name provided as the SCAN, and all three addresses are returned in random order by the DNS to the requestor</p>
</li>
<li>
<p>Configured before installation in the DNS to resolve to addresses that are not currently in use</p>
</li>
<li>
<p>Given addresses on the same subnet as all other public IP addresses, VIP addresses, and SCAN addresses in the cluster</p>
</li>
<li>
<p>Given a name that does not begin with a numeral, and that conforms with the RFC 952 standard, which allows alphanumeric characters and hyphens (&#34;-&#34;), but does not allow underscores (&#34;_&#34;)</p>
</li>
</ul>
</li>
<li>
<p>A private IP address for each node, with the following characteristics:</p>
<ul>
<li>
<p>Static IP address</p>
</li>
<li>
<p>Configured before installation, but on a separate, private network, with its own subnet, that is not resolvable except by other cluster member nodes</p>
</li>
</ul>
</li>
</ul>
<p><a id="sthref227"></a>The SCAN is a name used to provide service access for clients to the cluster. Because the SCAN is associated with the cluster as a whole, rather than to a particular node, the SCAN makes it possible to add or remove nodes from the cluster without needing to reconfigure clients. It also adds location independence for the databases, so that client configuration does not have to depend on which nodes are running a particular database. Clients can continue to access the cluster in the same way as with previous releases, but Oracle recommends that clients accessing the cluster use the SCAN.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In a Typical installation, the SCAN you provide is also the name of the cluster, so the SCAN name must meet the requirements for a cluster name. In an Advanced installation, The SCAN and cluster name are entered in separate fields during installation, so cluster name requirements do not apply to the SCAN name.
<p>Oracle strongly recommends that you do not configure SCAN VIP addresses in the hosts file. Use DNS resolution for SCAN VIPs. If you use the hosts file to resolve SCANs, then the SCAN can resolve to one IP address only.</p>
<p>Configuring SCANs in a DNS or a hosts file is the only supported configuration. Configuring SCANs in a Network Information Service (NIS) is not supported.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="concepts.htm#CHDCIAJJ">Appendix E</a>, <a href="concepts.htm#BABHEIBD">&#34;Understanding Network Addresses&#34;</a> for more information about network addresses</div>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref228"></a>
<h3 class="sect2"><span class="secnum">5.5.6</span> Confirming the DNS Configuration for SCAN</h3>
<p>You can use the <code dir="ltr">nslookup</code> command to confirm that the DNS is correctly associating the SCAN with the addresses. For example:</p>
<pre dir="ltr">root@node1]$ nslookup mycluster-scan
Server:         dns.example.com
Address:        192.0.2.001
 
Name:   mycluster-scan.example.com
Address: 192.0.2.201
Name:   mycluster-scan.example.com
Address: 192.0.2.202
Name:   mycluster-scan.example.com
Address: 192.0.2.203
</pre>
<p>After installation, when a client sends a request to the cluster, the Oracle Clusterware SCAN listeners redirect client requests to servers in the cluster.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle strongly recommends that you do not configure SCAN VIP addresses in the hosts file. Use DNS resolution for SCAN VIPs. If you use the hosts file to resolve SCANs, then the SCAN can resolve to one IP address only.
<p>Configuring SCANs in a DNS or a hosts file is the only supported configuration. Configuring SCANs in a Network Information Service (NIS) is not supported.</p>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHIABDD"></a>
<div id="CWLIN474" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.6</span> About Oracle Flex ASM Clusters Networks</h2>
<p><a id="sthref229"></a><a id="sthref230"></a><a id="sthref231"></a><a id="sthref232"></a>Starting with Oracle Grid Infrastructure 12<span class="italic">c</span> Release 1 (12.1), as part of an Oracle Flex Cluster installation, Oracle ASM is configured within Oracle Grid Infrastructure to provide storage services. Each Oracle Flex ASM cluster has its own name that is globally unique within the enterprise.</p>
<p>Oracle Flex ASM enables an Oracle ASM instance to run on a separate physical server from the database servers. Many Oracle ASM instances can be clustered to support numerous database clients.</p>
<p>You can consolidate all the storage requirements into a single set of disk groups. All these disk groups are managed by a small set of Oracle ASM instances running in a single Oracle Flex Cluster.</p>
<p><a id="sthref233"></a><a id="sthref234"></a><a id="sthref235"></a><a id="sthref236"></a>Every Oracle Flex ASM cluster has one or more Hub Nodes on which Oracle ASM instances are running.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD92401" href="../CWADD/GUID-E1014B42-E671-4314-A2B0-D7B03EA4285F.htm#CWADD92401"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about Oracle Flex Clusters</p>
</li>
<li>
<p><a class="olink OSTMG94084" href="../OSTMG/GUID-477BB93D-539D-463C-ADA7-72EBEA76D31A.htm#OSTMG94084"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about Oracle Flex ASM</p>
</li>
</ul>
</div>
<p>Oracle Flex ASM can use either the same private networks as Oracle Clusterware, or use its own dedicated private networks. Each network can be classified PUBLIC, ASM &amp; PRIVATE, PRIVATE, or ASM.</p>
<p>The Oracle Flex ASM cluster network has the following requirements and characteristics:</p>
<ul>
<li>
<p>The ASM network can be configured during installation, or configured or modified after installation.</p>
</li>
</ul>
<p>Cluster nodes can be configured as follows:</p>
<ul>
<li>
<p>Oracle Flex ASM cluster Hub Nodes, with the following characteristics:</p>
<ul>
<li>
<p>Are similar to prior release Oracle Grid Infrastructure cluster member nodes, as all servers configured with the Hub Node role are peers.</p>
</li>
<li>
<p>Have direct connections to the ASM disks.</p>
</li>
<li>
<p>Run a Direct ASM client process.</p>
</li>
<li>
<p>Run an ASM Filter Driver, part of whose function is to provide cluster fencing security for the Oracle Flex ASM cluster.</p>
</li>
<li>
<p>Access the ASM disks as Hub Nodes only, where they are designated a Hub Node for that storage.</p>
</li>
<li>
<p>Respond to service requests delegated to them through the global ASM listener configured for the Oracle Flex ASM cluster, which designates three of the Oracle Flex ASM cluster member Hub Node listeners as remote listeners for the Oracle Flex ASM cluster.</p>
</li>
</ul>
</li>
<li>
<p>Oracle Flex ASM cluster Leaf Nodes, with the following characteristics:</p>
<ul>
<li>
<p>Use Indirect access to the ASM disks, where I/O is handled as a service for the client on a Hub Node.</p>
</li>
<li>
<p>Submit disk service requests through the ASM network.</p>
</li>
</ul>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG95329" href="../OSTMG/GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30.htm#OSTMG95329"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span> for more information about Oracle Flex ASM clusters</a></div>
</div>
<!-- class="sect1" -->
<a id="CEGDIDCB"></a>
<div id="CWLIN475" class="sect1">
<h2 class="sect1"><span class="secnum">5.7</span> Broadcast Requirements for Networks Used by Oracle Grid Infrastructure</h2>
<p>Broadcast communications (ARP and UDP) must work properly across all the public and private interfaces configured for use by Oracle Grid Infrastructure.</p>
<p>The broadcast must work across any configured VLANs as used by the public or private interfaces.</p>
<p>When configuring public and private network interfaces for Oracle RAC, you must enable ARP. Highly Available IP (HAIP) addresses do not require ARP on the public network, but for VIP failover, you will need to enable ARP. Do not configure NOARP.</p>
</div>
<!-- class="sect1" -->
<a id="CEGGIDCG"></a>
<div id="CWLIN476" class="sect1">
<h2 class="sect1"><span class="secnum">5.8</span> Multicast Requirements for Networks Used by Oracle Grid Infrastructure</h2>
<p>For each cluster member node, the Oracle mDNS daemon uses multicasting on all interfaces to communicate with other nodes in the cluster. Multicasting is required on the private interconnect. For this reason, at a minimum, you must enable multicasting for the cluster:</p>
<ul>
<li>
<p>Across the broadcast domain as defined for the private interconnect</p>
</li>
<li>
<p>On the IP address subnet ranges 224.0.0.0/24 and optionally 230.0.1.0/24</p>
</li>
</ul>
<p>You do not need to enable multicast communications across routers.</p>
</div>
<!-- class="sect1" -->
<a id="BABJDJCJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.9</span> Domain Delegation to Grid Naming Service</h2>
<p>If you are configuring Grid Naming Service (GNS) for a standard cluster, then before installing Oracle Grid Infrastructure you must configure DNS to send to GNS any name resolution requests for the subdomain served by GNS. The subdomain that GNS serves represents the cluster member nodes.</p>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref237"></a>
<h3 class="sect2"><span class="secnum">5.9.1</span> Choosing a Subdomain Name for Use with Grid Naming Service</h3>
<p>To implement GNS, your network administrator must configure the DNS to set up a domain for the cluster, and delegate resolution of that domain to the GNS VIP. You can use a separate domain, or you can create a subdomain of an existing domain for the cluster. The subdomain name, can be any supported DNS name such as <code dir="ltr">sales-cluster.rac.com</code>.</p>
<p>Oracle recommends that the subdomain name is distinct from your corporate domain. For example, if your corporate domain is <code dir="ltr">mycorp.example.com</code>, the subdomain for GNS might be <code dir="ltr">rac-gns.mycorp.example.com</code>.</p>
<p>If the subdomain is not distinct, then it should be for the exclusive use of GNS. For example, if you delegate the subdomain <code dir="ltr">mydomain.example.com</code> to GNS, then there should be no other domains that share it such as <code dir="ltr">lab1.mydomain.example.com</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD92403" href="../CWADD/GUID-D893FBA6-4C66-4BEE-B373-F158F2D86341.htm#CWADD92403"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about GNS</p>
</li>
<li>
<p><a href="#CEGHHJJH">Section 5.5.2, &#34;Cluster Name and SCAN Requirements&#34;</a> for information about choosing network identification names</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABEHFBA"></a>
<div id="CWLIN213" class="sect2">
<h3 class="sect2"><span class="secnum">5.9.2</span> Configuring DNS for Cluster Domain Delegation to Grid Naming Service</h3>
<p>If you plan to use Grid Naming Service (GNS) with a delegated domain, then before Oracle Grid Infrastructure installation, configure your domain name server (DNS) to send to GNS name resolution requests for the subdomain GNS serves, which are the cluster member nodes. GNS domain delegation is mandatory with dynamic public networks (DHCP, autoconfiguration). GNS domain delegation is not required with static public networks (static addresses, manual configuration).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD92403" href="../CWADD/GUID-D893FBA6-4C66-4BEE-B373-F158F2D86341.htm#CWADD92403"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about GNS options, delegation, and public networks</div>
<p>The following is an overview of the steps to be performed for domain delegation. Your actual procedure may be different from this example.</p>
<p>Configure the DNS to send GNS name resolution requests using delegation:</p>
<ol>
<li>
<p>In the DNS, create an entry for the GNS virtual IP address, where the address uses the form <code dir="ltr">gns-server</code>.<code dir="ltr"><span class="codeinlineitalic">clustername</span></code>.<code dir="ltr"><span class="codeinlineitalic">domainname</span></code>. For example, where the cluster name is <code dir="ltr">mycluster</code>, and the domain name is <code dir="ltr">example.com</code>, and the IP address is 192.0.2.1, create an entry similar to the following:</p>
<pre dir="ltr">mycluster-gns-vip.example.com  A  192.0.2.1
</pre>
<p>The address you provide must be routable.</p>
</li>
<li>
<p>Set up forwarding of the GNS subdomain to the GNS virtual IP address, so that GNS resolves addresses to the GNS subdomain. To do this, create a BIND configuration entry similar to the following for the delegated domain, where <code dir="ltr">cluster01.example.com</code> is the subdomain you want to delegate:</p>
<pre dir="ltr"> cluster01.example.com  NS  mycluster-gns-vip.example.com
</pre></li>
<li>
<p>When using GNS, you must configure <code dir="ltr">resolve.conf</code> on the nodes in the cluster (or the file on your system that provides resolution information) to contain name server entries that are resolvable to corporate DNS servers. The total timeout period configured&mdash;a combination of options attempts (retries) and options timeout (exponential backoff)&mdash;should be less than 30 seconds. For example, where xxx.xxx.xxx.42 and xxx.xxx.xxx.15 are valid name server addresses in your network, provide an entry similar to the following in <code dir="ltr">/etc/resolv.conf</code>:</p>
<pre dir="ltr">options attempts: 2
options timeout: 1

search cluster01.example.com example.com
nameserver xxx.xxx.xxx.42
nameserver xxx.xxx.xxx.15
</pre>
<p><code dir="ltr">/etc/nsswitch.conf</code> controls name service lookup order. In some system configurations, the Network Information System (NIS) can cause problems with SCAN address resolution. Oracle recommends that you place the <code dir="ltr">nis</code> entry at the end of the search list. For example:</p>
<pre dir="ltr">/etc/nsswitch.conf
     hosts:    files   dns   nis
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Be aware that use of NIS is a frequent source of problems when doing cable pull tests, as host name and username resolution can fail.</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BAIBICBE"></a>
<div id="CWLIN477" class="sect1">
<h2 class="sect1"><span class="secnum">5.10</span> Configuration Requirements for Oracle Flex Clusters</h2>
<p>Review the following information if you intend to configure an Oracle Flex Cluster:</p>
<ul>
<li>
<p><a href="#CIHBGAJB">General Requirements for Oracle Flex Cluster Configuration</a></p>
</li>
<li>
<p><a href="#CIHFFCHH">Oracle Flex Cluster DHCP-Assigned Virtual IP (VIP) Addresses</a></p>
</li>
<li>
<p><a href="#CIHIHDHG">Oracle Flex Cluster Manually-Assigned Addresses</a></p>
</li>
</ul>
<a id="CIHBGAJB"></a>
<div id="CWLIN478" class="sect2">
<h3 class="sect2"><span class="secnum">5.10.1</span> General Requirements for Oracle Flex Cluster Configuration</h3>
<p>Note the following requirements for Oracle Flex Cluster configuration:</p>
<ul>
<li>
<p>You must use Grid Naming Service (GNS) with an Oracle Flex Cluster deployment.</p>
</li>
<li>
<p>You must configure the GNS VIP as a static IP address for Hub Nodes.</p>
</li>
<li>
<p>On Multi-cluster configurations, you must identify the GNS client data file location for Leaf Nodes. The GNS client data files are copied over from the GNS server before you start configuring a GNS client cluster.</p>
</li>
<li>
<p>All public network addresses for both Hub Nodes and Leaf Nodes, whether assigned manually or automatically, must be in the same subnet range.</p>
</li>
<li>
<p>All Oracle Flex Cluster addresses must be either static IP addresses, DHCP addresses assigned through DHCP (IPv4) or autoconfiguration addresses assigned through an autoconfiguration service (IPv6), registered in the cluster through GNS.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CIHFFCHH"></a>
<div id="CWLIN479" class="sect2">
<h3 class="sect2"><span class="secnum">5.10.2</span> Oracle Flex Cluster DHCP-Assigned Virtual IP (VIP) Addresses</h3>
<p>If you choose to configure DHCP-assigned VIPs, then during installation select one of the following options to configure cluster node VIP names for both Hub and Leaf Nodes:</p>
<ul>
<li>
<p><span class="bold">Manual Names</span>: Enter the node name and node VIP name for each cluster member node (for example, linnode1; linnode1-vip; linnode2; linnode2-vip; and so on) to be assigned to the VIP addresses delegated to cluster member nodes through DHCP, and resolved by DNS. Manual names must confirm with the RFC 952 standard, which allows alphanumeric characters and hyphens (&#34;-&#34;), but does not allow underscores (&#34;_&#34;).</p>
</li>
<li>
<p><span class="bold">Automatically Assigned Names</span>: Select <span class="bold">Auto Assigned</span> to allow the installer to assign names to VIP addresses generated through DHCP automatically. using the pattern <span class="italic">name</span># and <span class="italic">name</span>#-vip, where <span class="italic">name</span> is the cluster name and # is an automatically assigned number. Addresses are assigned through DHCP, and resolved by GNS.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CIHIHDHG"></a>
<div id="CWLIN480" class="sect2">
<h3 class="sect2"><span class="secnum">5.10.3</span> Oracle Flex Cluster Manually-Assigned Addresses</h3>
<p>If you choose to configure manually-assigned VIPs, then during installation you must configure cluster node VIP names for both Hub and Leaf Nodes using one of the following options:</p>
<ul>
<li>
<p><span class="bold">Manual Names</span>: Enter the host name and virtual IP name for each node manually, and select whether it is a Hub Node or a Leaf Node. The names you provide must resolve to addresses configured on the DNS. Names must conform with the RFC 952 standard, which allows alphanumeric characters and hyphens (&#34;-&#34;), but does not allow underscores (&#34;_&#34;).</p>
</li>
<li>
<p><span class="bold">Automatically Assigned Names</span>: Enter string variables for values corresponding to host names that you have configured on the DNS. String variables allow you to assign a large number of names rapidly during installation. Configure addresses on the DNS with the following characteristics:</p>
<ul>
<li>
<p><span class="bold">Hostname prefix</span>: a prefix string used in each address configured on the DNS for use by cluster member nodes. For example: mycloud.</p>
</li>
<li>
<p><span class="bold">Range</span>: A range of numbers to be assigned to the cluster member nodes, consisting of a starting node number and an ending node number, designating the end of the range: For example: 001, and 999.</p>
</li>
<li>
<p><span class="bold">Node name suffix</span>: A suffix added after the end of a range number to a public node name. For example: nd.</p>
</li>
<li>
<p><span class="bold">VIP name suffix</span>: A suffix added after the end of a virtual IP node name. For example: -vip.</p>
</li>
</ul>
<p>You can create manual addresses using alphanumeric strings. For example, the following strings are examples of acceptable names: mycloud001nd; mycloud046nd; mycloud046-vip; mycloud348nd; mycloud784-vip.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEHBAA"></a>
<div id="CWLIN214" class="sect1">
<h2 class="sect1"><span class="secnum">5.11</span> Grid Naming Service Standard Cluster Configuration Example</h2>
<p>To use GNS, you must specify a static IP address for the GNS VIP address, and you must have a subdomain configured on your DNS to delegate resolution for that subdomain to the static GNS IP address.</p>
<p>As nodes are added to the cluster, your organization&#39;s DHCP server can provide addresses for these nodes dynamically. These addresses are then registered automatically in GNS, and GNS provides resolution within the subdomain to cluster node addresses registered with GNS.</p>
<p>Because allocation and configuration of addresses is performed automatically with GNS, no further configuration is required. Oracle Clusterware provides dynamic network configuration as nodes are added to or removed from the cluster. The following example is provided only for information.</p>
<p>With a two node cluster where you have defined the GNS VIP, after installation you might have a configuration similar to the following for a two-node cluster, where the cluster name is <code dir="ltr">mycluster</code>, the GNS parent domain is <code dir="ltr">gns.example.com</code>, the subdomain is <code dir="ltr">cluster01.example.com</code>, the 192.0.2 portion of the IP addresses represents the cluster public IP address subdomain, and 192.168 represents the private IP address subdomain:</p>
<div id="CWLIN215" class="tblformal">
<p class="titleintable"><a id="sthref238"></a><a id="sthref239"></a>Table 5-1 Grid Naming Service Example Network</p>
<table class="cellalignment619" title="Grid Naming Service Example Network " summary="This table shows an example of automatic configuration by Grid Naming Service (GNS) of network names and IP Addresses for the public, private, virtual IP, SCAN addresses, and GNS VIP address." dir="ltr">
<thead>
<tr class="cellalignment606">
<th class="cellalignment618" id="r1c1-t21">Identity</th>
<th class="cellalignment618" id="r1c2-t21">Home Node</th>
<th class="cellalignment618" id="r1c3-t21">Host Node</th>
<th class="cellalignment618" id="r1c4-t21">Given Name</th>
<th class="cellalignment618" id="r1c5-t21">Type</th>
<th class="cellalignment618" id="r1c6-t21">Address</th>
<th class="cellalignment618" id="r1c7-t21">Address Assigned By</th>
<th class="cellalignment618" id="r1c8-t21">Resolved By</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment606">
<td class="cellalignment612" id="r2c1-t21" headers="r1c1-t21">
<p>GNS VIP</p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c2-t21">
<p>None</p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c3-t21">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c4-t21">
<p><code dir="ltr">mycluster-gns-vip.example.com</code></p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c5-t21">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c6-t21">
<p>192.0.2.1</p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c7-t21">
<p>Fixed by net administrator</p>
</td>
<td class="cellalignment612" headers="r2c1-t21 r1c8-t21">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r3c1-t21" headers="r1c1-t21">
<p>Node 1 Public</p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c2-t21">
<p>Node 1</p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c3-t21">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c4-t21">
<p><code dir="ltr">node1</code><a id="BABGIDAG" href="#BABGIDAG" onclick="footdisplay(1,&#34;Node host names may resolve to multiple addresses, including VIP addresses currently running on that host.&#34;)"><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a></p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c5-t21">
<p>public</p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c6-t21">
<p>192.0.2.101</p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c7-t21">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r3c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r4c1-t21" headers="r1c1-t21">
<p>Node 1 VIP</p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c2-t21">
<p>Node 1</p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c3-t21">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c4-t21">
<p><code dir="ltr">node1-vip</code></p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c5-t21">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c6-t21">
<p>192.0.2.104</p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c7-t21">
<p>DHCP</p>
</td>
<td class="cellalignment612" headers="r4c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r5c1-t21" headers="r1c1-t21">
<p>Node 1 Private</p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c2-t21">
<p>Node 1</p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c3-t21">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c4-t21">
<p><code dir="ltr">node1-priv</code></p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c5-t21">
<p>private</p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c6-t21">
<p>192.168.0.1</p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c7-t21">
<p>Fixed or DHCP</p>
</td>
<td class="cellalignment612" headers="r5c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r6c1-t21" headers="r1c1-t21">
<p>Node 2 Public</p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c2-t21">
<p>Node 2</p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c3-t21">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c4-t21">
<p><code dir="ltr">node2</code><a id="sthref240" href="#sthref240" onclick="footdisplay(1,&#34;Node host names may resolve to multiple addresses, including VIP addresses currently running on that host.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c5-t21">
<p>public</p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c6-t21">
<p>192.0.2.102</p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c7-t21">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r6c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r7c1-t21" headers="r1c1-t21">
<p>Node 2 VIP</p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c2-t21">
<p>Node 2</p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c3-t21">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c4-t21">
<p><code dir="ltr">node2-vip</code></p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c5-t21">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c6-t21">
<p>192.0.2.105</p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c7-t21">
<p>DHCP</p>
</td>
<td class="cellalignment612" headers="r7c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r8c1-t21" headers="r1c1-t21">
<p>Node 2 Private</p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c2-t21">
<p>Node 2</p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c3-t21">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c4-t21">
<p><code dir="ltr">node2-priv</code></p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c5-t21">
<p>private</p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c6-t21">
<p>192.168.0.2</p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c7-t21">
<p>Fixed or DHCP</p>
</td>
<td class="cellalignment612" headers="r8c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r9c1-t21" headers="r1c1-t21">
<p>SCAN VIP 1</p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c2-t21">
<p>none</p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c3-t21">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c4-t21">
<p><code dir="ltr">mycluster-scan.cluster01.example.com</code></p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c5-t21">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c6-t21">
<p>192.0.2.201</p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c7-t21">
<p>DHCP</p>
</td>
<td class="cellalignment612" headers="r9c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r10c1-t21" headers="r1c1-t21">
<p>SCAN VIP 2</p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c2-t21">
<p>none</p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c3-t21">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c4-t21">
<p><code dir="ltr">mycluster-scan.cluster01.example.com</code></p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c5-t21">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c6-t21">
<p>192.0.2.202</p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c7-t21">
<p>DHCP</p>
</td>
<td class="cellalignment612" headers="r10c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r11c1-t21" headers="r1c1-t21">
<p>SCAN VIP 3</p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c2-t21">
<p>none</p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c3-t21">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c4-t21">
<p><code dir="ltr">mycluster-scan.cluster01.example.com</code></p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c5-t21">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c6-t21">
<p>192.0.2.203</p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c7-t21">
<p>DHCP</p>
</td>
<td class="cellalignment612" headers="r11c1-t21 r1c8-t21">
<p>GNS</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1&nbsp;</sup>Node host names may resolve to multiple addresses, including VIP addresses currently running on that host.</p>
</div>
<!-- class="sect1" -->
<a id="BABIFAEI"></a>
<div id="CWLIN216" class="sect1">
<h2 class="sect1"><span class="secnum">5.12</span> Manual IP Address Configuration Example</h2>
<p>If you choose not to use GNS, then before installation you must configure public, virtual, and private IP addresses. Also, check that the default gateway can be accessed by a <code dir="ltr">ping</code> command. To find the default gateway, use the <code dir="ltr">route</code> command, as described in your operating system&#39;s help utility.</p>
<p>For example, with a two-node cluster where each node has one public and one private interface, and you have defined a SCAN domain address to resolve on your DNS to one of three IP addresses, you might have the configuration shown in the following table for your network interfaces:</p>
<div id="CWLIN217" class="tblformal">
<p class="titleintable"><a id="sthref241"></a><a id="sthref242"></a>Table 5-2 Manual Network Configuration Example</p>
<table class="cellalignment619" title="Manual Network Configuration Example" summary="This table shows a manual configuration example of network names and IP Addresses for the public, private, virtual IP, and SCAN addresses." dir="ltr">
<thead>
<tr class="cellalignment606">
<th class="cellalignment618" id="r1c1-t22">Identity</th>
<th class="cellalignment618" id="r1c2-t22">Home Node</th>
<th class="cellalignment618" id="r1c3-t22">Host Node</th>
<th class="cellalignment618" id="r1c4-t22">Given Name</th>
<th class="cellalignment618" id="r1c5-t22">Type</th>
<th class="cellalignment618" id="r1c6-t22">Address</th>
<th class="cellalignment618" id="r1c7-t22">Address Assigned By</th>
<th class="cellalignment618" id="r1c8-t22">Resolved By</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment606">
<td class="cellalignment612" id="r2c1-t22" headers="r1c1-t22">
<p>Node 1 Public</p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c2-t22">
<p>Node 1</p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c3-t22">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c4-t22">
<p><code dir="ltr">node1</code><a id="BABGJGAH" href="#BABGJGAH" onclick="footdisplay(1,&#34;Node host names may resolve to multiple addresses.&#34;)"><sup class="tablefootnote">Foot&nbsp;1&nbsp;</sup></a></p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c5-t22">
<p>public</p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c6-t22">
<p>192.0.2.101</p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r2c1-t22 r1c8-t22">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r3c1-t22" headers="r1c1-t22">
<p>Node 1 VIP</p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c2-t22">
<p>Node 1</p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c3-t22">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c4-t22">
<p><code dir="ltr">node1-vip</code></p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c5-t22">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c6-t22">
<p>192.0.2.104</p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r3c1-t22 r1c8-t22">
<p>DNS and hosts file</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r4c1-t22" headers="r1c1-t22">
<p>Node 1 Private</p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c2-t22">
<p>Node 1</p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c3-t22">
<p><code dir="ltr">node1</code></p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c4-t22">
<p><code dir="ltr">node1-priv</code></p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c5-t22">
<p>private</p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c6-t22">
<p>192.168.0.1</p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r4c1-t22 r1c8-t22">
<p>DNS and hosts file, or none</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r5c1-t22" headers="r1c1-t22">
<p>Node 2 Public</p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c2-t22">
<p>Node 2</p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c3-t22">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c4-t22">
<p><code dir="ltr">node2</code><a id="sthref243" href="#sthref243" onclick="footdisplay(1,&#34;Node host names may resolve to multiple addresses.&#34;)"><sup class="footnotenumber">Footref&nbsp;1</sup></a></p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c5-t22">
<p>public</p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c6-t22">
<p>192.0.2.102</p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r5c1-t22 r1c8-t22">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r6c1-t22" headers="r1c1-t22">
<p>Node 2 VIP</p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c2-t22">
<p>Node 2</p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c3-t22">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c4-t22">
<p><code dir="ltr">node2-vip</code></p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c5-t22">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c6-t22">
<p>192.0.2.105</p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r6c1-t22 r1c8-t22">
<p>DNS and hosts file</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r7c1-t22" headers="r1c1-t22">
<p>Node 2 Private</p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c2-t22">
<p>Node 2</p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c3-t22">
<p><code dir="ltr">node2</code></p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c4-t22">
<p><code dir="ltr">node2-priv</code></p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c5-t22">
<p>private</p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c6-t22">
<p>192.168.0.2</p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r7c1-t22 r1c8-t22">
<p>DNS and hosts file, or none</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r8c1-t22" headers="r1c1-t22">
<p>SCAN VIP 1</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c2-t22">
<p>none</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c3-t22">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c4-t22">
<p>mycluster-scan</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c5-t22">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c6-t22">
<p>192.0.2.201</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r8c1-t22 r1c8-t22">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r9c1-t22" headers="r1c1-t22">
<p>SCAN VIP 2</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c2-t22">
<p>none</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c3-t22">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c4-t22">
<p>mycluster-scan</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c5-t22">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c6-t22">
<p>192.0.2.202</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r9c1-t22 r1c8-t22">
<p>DNS</p>
</td>
</tr>
<tr class="cellalignment606">
<td class="cellalignment612" id="r10c1-t22" headers="r1c1-t22">
<p>SCAN VIP 3</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c2-t22">
<p>none</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c3-t22">
<p>Selected by Oracle Clusterware</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c4-t22">
<p>mycluster-scan</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c5-t22">
<p>virtual</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c6-t22">
<p>192.0.2.203</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c7-t22">
<p>Fixed</p>
</td>
<td class="cellalignment612" headers="r10c1-t22 r1c8-t22">
<p>DNS</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1&nbsp;</sup>Node host names may resolve to multiple addresses.</p>
<p>You do not need to provide a private name for the interconnect. If you want name resolution for the interconnect, then you can configure private IP names in the hosts file or the DNS. However, Oracle Clusterware assigns interconnect addresses on the interface defined during installation as the private interface (<code dir="ltr">eth1</code>, for example), and to the subnet used for the private subnet.</p>
<p>The addresses to which the SCAN resolves are assigned by Oracle Clusterware, so they are not fixed to a particular node. To enable VIP failover, the configuration shown in the preceding table defines the SCAN addresses and the public and VIP addresses of both nodes on the same subnet, 192.0.2.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
All host names must conform to the RFC 952 standard, which permits alphanumeric characters. Host names using underscores (&#34;_&#34;) are not allowed.</div>
</div>
<!-- class="sect1" -->
<a id="BABBDGCE"></a>
<div id="CWLIN218" class="sect1">
<h2 class="sect1"><span class="secnum">5.13</span> Network Interface Configuration Options</h2>
<p>During installation, you are asked to identify the planned use for each network adapter (or network interface) that Oracle Universal Installer (OUI) detects on your cluster node. Each NIC can be configured to perform only one of the following roles:</p>
<ul>
<li>
<p>Public</p>
</li>
<li>
<p>Private</p>
</li>
<li>
<p>Do Not Use</p>
</li>
</ul>
<p>You must use the same private adapters for both Oracle Clusterware and Oracle RAC. The precise configuration you choose for your network depends on the size and use of the cluster you want to configure, and the level of availability you require. Network interfaces must be at least 1 GbE, with 10 GbE recommended. Alternatively, use InfiniBand for the interconnect.</p>
<p>If certified Network-attached Storage (NAS) is used for Oracle RAC and this storage is connected through Ethernet-based networks, then you must have a third network interface for NAS I/O. Failing to provide three separate interfaces in this case can cause performance and stability problems under load.</p>
<p>Redundant interconnect usage cannot protect network adapters used for public communication. If you require high availability or load balancing for public adapters, then use a third party solution. Typically, bonding, trunking or similar technologies can be used for this purpose.</p>
<p>You can enable redundant interconnect usage for the private network by selecting multiple network adapters to use as private adapters. Redundant interconnect usage creates a redundant interconnect when you identify more than one network adapter as private.</p>
</div>
<!-- class="sect1" -->
<a id="CEGJDDIA"></a>
<div id="CWLIN481" class="sect1">
<h2 class="sect1"><span class="secnum">5.14</span> <a id="sthref244"></a><a id="sthref245"></a><a id="sthref246"></a>Multiple Private Interconnects and Oracle Linux</h2>
<p>With Oracle Linux kernel 2.6.31, which also includes Oracle Unbreakable Enterprise Kernel 2.6.32, a bug has been fixed in the Reverse Path Filtering. As a consequence of this correction, Oracle RAC systems that use multiple NICs for the private interconnect now require specific settings for the <code dir="ltr">rp_filter</code> parameter. This requirement also applies to all Exadata systems that are running Linux kernel 2.6.32 and above. Without these <code dir="ltr">rp_filter</code> parameter settings systems, interconnect packets can be blocked or discarded.</p>
<p>The <code dir="ltr">rp_filter</code> values set the Reverse Path filter to no filtering (<code dir="ltr">0</code>), to strict filtering (<code dir="ltr">1</code>), or to loose filtering (<code dir="ltr">2</code>). Set the <code dir="ltr">rp_filter</code> value for the private interconnects to either <code dir="ltr">0</code> or <code dir="ltr">2</code>. Setting the private interconnect NIC to <code dir="ltr">1</code> can cause connection issues on the private interconnect. It is not considered unsafe to disable or relax this filtering, because the private interconnect should be on a private and isolated network.</p>
<p>For example, where <code dir="ltr">eth1</code> and <code dir="ltr">eth2</code> are the private interconnect NICs, and <code dir="ltr">eth0</code> is the public network NIC, set the <code dir="ltr">rp_filter</code> of the private address to <code dir="ltr">2</code> (loose filtering), the public address to <code dir="ltr">1</code> (strict filtering), using the following entries in <code dir="ltr">/etc/sysctl.conf</code>:</p>
<pre dir="ltr">net.ipv4.conf.eth2.rp_filter = 2
net.ipv4.conf.eth1.rp_filter = 2
net.ipv4.conf.eth0.rp_filter = 1
</pre>
<p><a id="sthref247"></a>Oracle Linux 5.6 (Oracle Linux 5 Update 6) includes a fix using <code dir="ltr">initscripts-8.45.33-1.0.4.el5.i386.rpm</code>, which sets the kernel parameter <code dir="ltr">net.ipv4.conf.default.rp_filter</code> to <code dir="ltr">2</code> (relaxed mode). For that reason, after you apply the Unbreakable Linux kernel on top of Oracle Linux 5.6, you may not need to make manual changes, because the <code dir="ltr">rp_filter</code> value of all NICs is set to <code dir="ltr">2</code>. If you require more strict reverse path filtering on the public network, then set the public NIC <code dir="ltr">rp_filter</code> to <code dir="ltr">1</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
My Oracle Support Note 1286796.1 rp_filter for multiple private interconnects and Linux Kernel 2.6.32+, which is available at the following URL:
<pre dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1286796.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1286796.1</a>
</pre></div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment605">
<tr>
<td class="cellalignment612">
<table class="cellalignment610">
<tr>
<td class="cellalignment609"><a href="prelinux.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment609"><a href="usrgrps.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment614">
<table class="cellalignment608">
<tr>
<td class="cellalignment609"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment609"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment609"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment609"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment609"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment609"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>


</body></html>
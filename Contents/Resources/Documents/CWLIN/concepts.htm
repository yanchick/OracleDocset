<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-4953"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Grid%20Infrastructure%20for%20a%20Cluster%20Installation%20Concepts"></a><title>Oracle Grid Infrastructure for a Cluster Installation Concepts</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T4:23:40Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Grid Infrastructure Installation Guide"/>
<meta name="dcterms.identifier" content="E48914-22"/>
<meta name="dcterms.isVersionOf" content="CWLIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="memry.htm" title="Previous" type="text/html"/>
<link rel="Next" href="manpreins.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48914-22.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">20/22</span> <!-- End Header -->
<div id="CWLIN506" class="appendix"><a id="CHDCIAJJ"></a>
<h1 class="appendix"><span class="secnum">E</span> Oracle Grid Infrastructure for a Cluster Installation Concepts</h1>
<p>This appendix provides an overview of concepts and terms that may be necessary to carry out installation.</p>
<p>This appendix contains the following sections:</p>
<ul>
<li>
<p><a href="#BABFBBID">Understanding Preinstallation Configuration</a></p>
</li>
<li>
<p><a href="#BABHEIBD">Understanding Network Addresses</a></p>
</li>
<li>
<p><a href="#BABHBIFE">Understanding Network Time Requirements</a></p>
</li>
<li>
<p><a href="#CIHEDECJ">Understanding Oracle Flex Clusters and Oracle ASM Flex Clusters</a></p>
</li>
<li>
<p><a href="#BABDBIIH">Understanding Storage Configuration</a></p>
</li>
<li>
<p><a href="#BABCBBGB">Understanding Out-of-Place Upgrade</a></p>
</li>
</ul>
<a id="BABFBBID"></a>
<div id="CWLIN387" class="sect1">
<h2 class="sect1"><span class="secnum">E.1</span> Understanding Preinstallation Configuration</h2>
<p>This section reviews concepts about Oracle Grid Infrastructure for a cluster preinstallation tasks. It contains the following sections:</p>
<ul>
<li>
<p><a href="#CHDJIEGJ">Optimal Flexible Architecture Guidelines for Oracle Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABDGAAI">Oracle Grid Infrastructure for a Cluster and Oracle Restart Differences</a></p>
</li>
<li>
<p><a href="#CHDJDHFI">Understanding the Oracle Inventory Group</a></p>
</li>
<li>
<p><a href="#CHDIEHAD">Understanding the Oracle Inventory Directory</a></p>
</li>
<li>
<p><a href="#CIHCABHF">Understanding the Oracle Base directory</a></p>
</li>
<li>
<p><a href="#CIHIIEBG">Understanding the Oracle Home for Oracle Grid Infrastructure Software</a></p>
</li>
<li>
<p><a href="#CIHIFABC">Location of Oracle Base and Oracle Grid Infrastructure Software Directories</a></p>
</li>
</ul>
<a id="CHDJIEGJ"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">E.1.1</span> Optimal Flexible Architecture Guidelines for Oracle Grid Infrastructure</h3>
<p>For installations with Oracle Grid Infrastructure only, Oracle recommends that you create an Oracle base and Grid home path compliant with Oracle Optimal Flexible Architecture (OFA) guidelines, so that Oracle Universal Installer (OUI) can select that directory during installation. For OUI to recognize the path as an Oracle software path, it must be in the form u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]/app.</p>
<p>The OFA path for an Oracle base is u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]/app/<code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the Oracle software installation owner account.</p>
<p>The OFA path for an Oracle Grid Infrastructure Oracle home is u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]/app/<span class="italic">release</span>/grid where <span class="italic">release</span> is the three-digit Oracle Grid Infrastructure release (for example, <code dir="ltr">12.1.0</code>).</p>
<p>When OUI finds an OFA-compliant software path (u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]/app), it creates the Oracle Grid Infrastructure Grid home and Oracle Inventory (<code dir="ltr">oraInventory</code>) directories for you. For example, the path <code dir="ltr">/u01/app</code> and <code dir="ltr">/u89/app</code> are OFA-compliant paths.</p>
<p>The Oracle Grid Infrastructure home must be in a path that is different from the Grid home for the Oracle Grid Infrastructure installation owner. If you create an Oracle Grid Infrastructure base path manually, then ensure that it is in a separate path specific for this release, and not under an existing Oracle base path.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref838"></a><a id="sthref839"></a>If you choose to create an Oracle Grid Infrastructure home manually, then do not create the Oracle Grid Infrastructure home for a cluster under either the Oracle Grid Infrastructure installation owner (<code dir="ltr">grid</code>) Oracle base or the Oracle Database installation owner (<code dir="ltr">oracle</code>) Oracle base. Creating an Oracle Clusterware installation in an Oracle base directory will cause succeeding Oracle installations to fail.
<p>Oracle Grid Infrastructure homes can be placed in a local home on servers, even if your existing Oracle Clusterware home from a prior release is in a shared location.</p>
</div>
</div>
<!-- class="sect2" -->
<a id="BABDGAAI"></a>
<div id="CWLIN253" class="sect2">
<h3 class="sect2"><span class="secnum">E.1.2</span> Oracle Grid Infrastructure for a Cluster and Oracle Restart Differences</h3>
<p>Requirements for Oracle Grid Infrastructure for a cluster are different from Oracle Grid Infrastructure on a single instance in an Oracle Restart configuration.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for information about Oracle Restart requirements</div>
</div>
<!-- class="sect2" -->
<a id="CHDJDHFI"></a>
<div id="CWLIN507" class="sect2">
<h3 class="sect2"><span class="secnum">E.1.3</span> Understanding the Oracle Inventory Group</h3>
<p><a id="sthref840"></a><a id="sthref841"></a><a id="sthref842"></a><a id="sthref843"></a><a id="sthref844"></a>You must have a group whose members are given access to write to the Oracle Inventory (<code dir="ltr">oraInventory</code>) directory, which is the central inventory record of all Oracle software installations on a server. Members of this group have write privileges to the Oracle central inventory (<code dir="ltr">oraInventory</code>) directory, and are also granted permissions for various Oracle Clusterware resources, OCR keys, directories in the Oracle Clusterware home to which DBAs need write access, and other necessary privileges. By default, this group is called <code dir="ltr">oinstall</code>. The Oracle Inventory group must be the primary group for Oracle software installation owners.</p>
<p>The <code dir="ltr">oraInventory</code> directory contains the following:</p>
<ul>
<li>
<p>A registry of the Oracle home directories (Oracle Grid Infrastructure and Oracle Database) on the system.</p>
</li>
<li>
<p>Installation logs and trace files from installations of Oracle software. These files are also copied to the respective Oracle homes for future reference.</p>
</li>
<li>
<p>Other metadata inventory information regarding Oracle installations are stored in the individual Oracle home inventory directories, and are separate from the central inventory.</p>
</li>
</ul>
<p>You can configure one group to be the access control group for the Oracle Inventory, for database administrators (OSDBA), and for all other access control groups used by Oracle software for operating system authentication. However, if you use one group to provide operating system authentication for all system privileges, then this group must be the primary group for all users to whom you want to grant administrative system privileges.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If Oracle software is already installed on the system, then the existing Oracle Inventory group must be the primary group of the operating system user (<code dir="ltr">oracle</code> or <code dir="ltr">grid</code>) that you use to install Oracle Grid Infrastructure. See <a href="usrgrps.htm#BABDEAIJ">Section 6.1.1, &#34;Determining If the Oracle Inventory and Oracle Inventory Group Exists&#34;</a>to identify an existing Oracle Inventory group.</div>
</div>
<!-- class="sect2" -->
<a id="CHDIEHAD"></a>
<div id="CWLIN508" class="sect2">
<h3 class="sect2"><span class="secnum">E.1.4</span> Understanding the Oracle Inventory Directory</h3>
<p>The Oracle Inventory directory (<code dir="ltr">oraInventory</code>) is the central inventory location for all Oracle software installed on a server. Each cluster member node has its own central inventory file. You cannot have a shared Oracle Inventory directory, because it is used to point to the installed Oracle homes for all Oracle software installed on a node.</p>
<p><a id="sthref845"></a>The first time you install Oracle software on a system, you are prompted to provide an oraInventory directory path.</p>
<p>By default, if an oraInventory group does not exist, then the installer lists the primary group of the installation owner for the Oracle Grid Infrastructure for a cluster software as the oraInventory group. Ensure that this group is available as a primary group for all planned Oracle software installation owners.</p>
<p>The primary group of all Oracle installation owners should be the Oracle Inventory Group (<code dir="ltr">oinstall</code>), whose members are granted the OINSTALL system privileges to write to the central Oracle Inventory for a server, to write log files, and other privileges.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref846"></a>Group and user IDs must be identical on all nodes in the cluster. Check to make sure that the group and user IDs you want to use are available on each cluster member node, and confirm that the primary group for each Oracle Grid Infrastructure for a cluster installation owner has the same name and group ID.</div>
<p>If the primary group of an installation owner is the user home directory (for example, <code dir="ltr">/home/oracle</code>), then the Oracle Inventory is placed in the installation owner&#39;s home directory. This placement can cause permission errors during subsequent installations with multiple Oracle software owners. For that reason, Oracle recommends that you do not accept this option, and instead use an OFA-compliant path.</p>
<p>If you set an Oracle base variable to a path such as <code dir="ltr">/u01/app/grid</code> or <code dir="ltr">/u01/app/oracle</code>, then the Oracle Inventory is defaulted to the path <code dir="ltr">u01/app/oraInventory</code> using correct permissions to allow all Oracle installation owners to write to this central inventory directory.</p>
<p>By default, the Oracle Inventory directory is not installed under the Oracle base directory for the installation owner. This is because all Oracle software installations share a common Oracle Inventory, so there is only one Oracle Inventory for all users, whereas there is a separate Oracle base for each user.</p>
</div>
<!-- class="sect2" -->
<a id="CIHCABHF"></a>
<div id="CWLIN392" class="sect2">
<h3 class="sect2"><span class="secnum">E.1.5</span> Understanding the Oracle Base directory</h3>
<p>During installation, you are prompted to specify an Oracle base location, which is owned by the user performing the installation. The Oracle base directory is where log files specific to the user are placed. You can choose a location with an existing Oracle home, or choose another directory location that does not have the structure for an Oracle base directory.</p>
<p>Using the Oracle base directory path helps to facilitate the organization of Oracle installations, and helps to ensure that installations of multiple databases maintain an Optimal Flexible Architecture (OFA) configuration.</p>
<p>The Oracle base directory for the Oracle Grid Infrastructure installation is the location where diagnostic and administrative logs, and other logs associated with Oracle ASM and Oracle Clusterware are stored. For Oracle installations other than Oracle Grid Infrastructure for a cluster, it is also the location under which an Oracle home is placed.</p>
<p>However, in the case of an Oracle Grid Infrastructure installation, you must create a <span class="italic">different</span> path, so that the path for Oracle bases remains available for other Oracle installations.</p>
<p>For OUI to recognize the Oracle base path as an Oracle software path, it must be in the form u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]/app, and it must be writable by any member of the oraInventory (<code dir="ltr">oinstall</code>) group. The OFA path for the Oracle base is u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]<code dir="ltr">/app/</code><code dir="ltr"><span class="codeinlineitalic">user</span></code>, where <code dir="ltr"><span class="codeinlineitalic">user</span></code> is the name of the software installation owner. For example:</p>
<pre dir="ltr">/u01/app/grid
</pre>
<p>Because you can have only one Oracle Grid Infrastructure installation on a cluster, and all upgrades are out-of-place upgrades, Oracle recommends that you create an Oracle base for the grid infrastructure software owner (<code dir="ltr">grid</code>), and create an Oracle home for the Oracle Grid Infrastructure binaries using the release number of that installation.</p>
</div>
<!-- class="sect2" -->
<a id="CIHIIEBG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">E.1.6</span> Understanding the Oracle Home for Oracle Grid Infrastructure Software</h3>
<p>The Oracle home for Oracle Grid Infrastructure software (Grid home) should be in a path in the format u[<span class="italic">0-9</span>][<span class="italic">1-9</span>]<code dir="ltr">/app/</code><span class="italic">release</span>/<code dir="ltr">grid</code>, where <span class="italic">release</span> is the release number of the Oracle Grid Infrastructure software. For example:</p>
<pre dir="ltr">/u01/app/12.1.0/grid
</pre>
<p>During installation, ownership of the path to the Grid home is changed to <code dir="ltr">root</code>. If you do not create a unique path to the Grid home, then after the Grid install, you can encounter permission errors for other installations, including any existing installations under the same path.</p>
<p><a id="sthref847"></a>Ensure that the directory path you provide for the Oracle Grid Infrastructure software location (Grid home) complies with the following requirements:</p>
<ul>
<li>
<p>If you create the path before installation, then it should be owned by the installation owner of Oracle Grid Infrastructure (typically <code dir="ltr">oracle</code> for a single installation owner for all Oracle software, or <code dir="ltr">grid</code> for role-based Oracle installation owners), and set to 775 permissions.</p>
</li>
<li>
<p>It should be created in a path outside existing Oracle homes, including Oracle Clusterware homes.</p>
</li>
<li>
<p>It should not be located in a user home directory.</p>
</li>
<li>
<p>It must not be the same location as the Oracle base for the Oracle Grid Infrastructure installation owner (<code dir="ltr">grid</code>), or the Oracle base of any other Oracle installation owner (for example, <code dir="ltr">/u01/app/oracle</code>).</p>
</li>
<li>
<p>It should be created either as a subdirectory in a path where all files can be owned by <code dir="ltr">root</code>, or in a unique path.</p>
</li>
</ul>
<p>Oracle recommends that you install Oracle Grid Infrastructure binaries on local homes, rather than using a shared home on shared storage.</p>
</div>
<!-- class="sect2" -->
<a id="CIHIFABC"></a>
<div id="CWLIN393" class="sect2">
<h3 class="sect2"><span class="secnum">E.1.7</span> Location of Oracle Base and Oracle Grid Infrastructure Software Directories</h3>
<p>Even if you do not use the same software owner to install Grid Infrastructure (Oracle Clusterware and Oracle ASM) and Oracle Database, be aware that running the <code dir="ltr">root.sh</code> script during the Oracle Grid Infrastructure installation changes ownership of the home directory where clusterware binaries are placed to <code dir="ltr">root</code>, and all ancestor directories to the root level (<code dir="ltr">/</code>) are also changed to <code dir="ltr">root</code>. For this reason, the Oracle Grid Infrastructure for a cluster home cannot be in the same location as other Oracle software.</p>
<p>However, Oracle Restart can be in the same location as other Oracle software.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for your platform for more information about Oracle Restart</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABHEIBD"></a>
<div id="CWLIN394" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">E.2</span> Understanding Network Addresses</h2>
<p>During installation, you are asked to identify the planned use for each network interface that OUI detects on your cluster node. Identify each interface as a public or private interface, or as an interface that you do not want Oracle Grid Infrastructure or Oracle Flex ASM cluster to use. Public and virtual IP addresses are configured on public interfaces. Private addresses are configured on private interfaces.</p>
<p>See the following sections for detailed information about each address type:</p>
<ul>
<li>
<p><a href="#BABIACIC">About the Public IP Address</a></p>
</li>
<li>
<p><a href="#BABJAHJJ">About the Private IP Address</a></p>
</li>
<li>
<p><a href="#BABDBHAC">About the Virtual IP Address</a></p>
</li>
<li>
<p><a href="#BABBDBDJ">About the Grid Naming Service (GNS) Virtual IP Address</a></p>
</li>
<li>
<p><a href="#BABJAGCA">About the SCAN for Oracle Grid Infrastructure Installations</a></p>
</li>
</ul>
<a id="BABIACIC"></a>
<div id="CWLIN395" class="sect2">
<h3 class="sect2"><span class="secnum">E.2.1</span> About the Public IP Address</h3>
<p>The public IP address is assigned dynamically using DHCP, or defined statically in a DNS or in a hosts file. It uses the public interface (the interface with access available to clients). The public IP address is the primary address for a cluster member node, and should be the address that resolves to the name returned when you enter the command <code dir="ltr">hostname</code>.</p>
<p><a id="sthref848"></a><a id="sthref849"></a>If you configure IP addresses manually, then avoid changing host names after you complete the Oracle Grid Infrastructure installation, including adding or deleting domain qualifications. A node with a new host name is considered a new host, and must be added to the cluster. A node under the old name will appear to be down until it is removed from the cluster.</p>
</div>
<!-- class="sect2" -->
<a id="BABJAHJJ"></a>
<div id="CWLIN396" class="sect2">
<h3 class="sect2"><span class="secnum">E.2.2</span> About the Private IP Address</h3>
<p>Oracle Clusterware uses interfaces marked as private for internode communication. Each cluster node needs to have an interface that you identify during installation as a private interface. Private interfaces need to have addresses configured for the interface itself, but no additional configuration is required. Oracle Clusterware uses interfaces you identify as private for the cluster interconnect. If you identify multiple interfaces during information for the private network, then Oracle Clusterware configures them with Redundant Interconnect Usage. Any interface that you identify as private must be on a subnet that connects to every node of the cluster. Oracle Clusterware uses all the interfaces you identify for use as private interfaces.</p>
<p><a id="sthref850"></a>For the private interconnects, because of Cache Fusion and other traffic between nodes, Oracle strongly recommends using a physically separate, private network. If you configure addresses using a DNS, then you should ensure that the private IP addresses are reachable only by the cluster nodes.</p>
<p>After installation, if you modify interconnects on Oracle RAC with the <code dir="ltr">CLUSTER_INTERCONNECTS</code> initialization parameter, then you must change it to a private IP address, on a subnet that is not used with a public IP address. Oracle does not support changing the interconnect to an interface using a subnet that you have designated as a public subnet.</p>
<p>You should not use a firewall on the network with the private network IP addresses, as this can block interconnect traffic.</p>
</div>
<!-- class="sect2" -->
<a id="BABDBHAC"></a>
<div id="CWLIN397" class="sect2">
<h3 class="sect2"><span class="secnum">E.2.3</span> About the Virtual IP Address</h3>
<p>If you are not using Grid Naming Service (GNS), then determine a <a id="sthref851"></a>virtual host name for each node. A virtual host name is a public node name that is used to reroute client requests sent to the node if the node is down. Oracle Database uses VIPs for client-to-database connections, so the VIP address must be publicly accessible. Oracle recommends that you provide a name in the format <span class="italic">hostname</span>-vip. For example: <code dir="ltr">myclstr2-vip</code>.</p>
<p>The virtual IP (VIP) address is registered in the GNS, or the DNS. Select an address for your VIP that meets the following requirements:</p>
<ul>
<li>
<p>The IP address and host name are currently unused (it can be registered in a DNS, but should not be accessible by a <code dir="ltr">ping</code> command)</p>
</li>
<li>
<p>The VIP is on the same subnet as your public interface</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABBDBDJ"></a>
<div id="CWLIN398" class="sect2">
<h3 class="sect2"><span class="secnum">E.2.4</span> About the Grid Naming Service (GNS) Virtual IP Address</h3>
<p>The GNS virtual IP address is a static IP address configured in the DNS. The DNS delegates queries to the GNS virtual IP address, and the GNS daemon responds to incoming name resolution requests at that address.</p>
<p>Within the subdomain, the GNS uses multicast Domain Name Service (mDNS), included with Oracle Clusterware, to enable the cluster to map host names and IP addresses dynamically as nodes are added and removed from the cluster, without requiring additional host configuration in the DNS.</p>
<p>To enable GNS, you must have your network administrator provide a set of IP addresses for a subdomain assigned to the cluster (for example, <code dir="ltr">grid.example.com</code>), and delegate DNS requests for that subdomain to the GNS virtual IP address for the cluster, which GNS will serve. The set of IP addresses is provided to the cluster through DHCP, which must be available on the public network for the cluster.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD91886" href="../CWADD/GUID-1138BEFD-B0B8-47E3-A78C-B28BDD08003B.htm#CWADD91886"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about Grid Naming Service</div>
</div>
<!-- class="sect2" -->
<a id="BABJAGCA"></a>
<div id="CWLIN399" class="sect2">
<h3 class="sect2"><span class="secnum">E.2.5</span> <a id="sthref852"></a><a id="sthref853"></a>About the SCAN for Oracle Grid Infrastructure Installations</h3>
<p>Oracle Database clients connect to Oracle Real Application Clusters database using SCANs. The SCAN and its associated IP addresses provide a stable name for clients to use for connections, independent of the nodes that make up the cluster. SCAN addresses, virtual IP addresses, and public IP addresses must all be on the same subnet.</p>
<p>The SCAN is a virtual IP name, similar to the names used for virtual IP addresses, such as <code dir="ltr">node1-vip</code>. However, unlike a virtual IP, the SCAN is associated with the entire cluster, rather than an individual node, and associated with multiple IP addresses, not just one address.</p>
<p><a id="sthref854"></a>The SCAN works by being able to resolve to multiple IP addresses in the cluster handling public client connections. When a client submits a request, the SCAN listener listening on a SCAN IP address and the SCAN port is made available to a client. Because all services on the cluster are registered with the SCAN listener, the SCAN listener replies with the address of the local listener on the least-loaded node where the service is currently being offered. Finally, the client establishes connection to the service through the listener on the node where service is offered. All of these actions take place transparently to the client without any explicit configuration required in the client.</p>
<p>During installation listeners are created. They listen on the SCAN IP addresses provided on nodes for the SCAN IP addresses. Oracle Net Services routes application requests to the least loaded instance providing the service. Because the SCAN addresses resolve to the cluster, rather than to a node address in the cluster, nodes can be added to or removed from the cluster without affecting the SCAN address configuration.</p>
<p>The SCAN should be configured so that it is resolvable either by using Grid Naming Service (GNS) within the cluster, or by using Domain Name Service (DNS) resolution. For high availability and scalability, Oracle recommends that you configure the SCAN name so that it resolves to three IP addresses. At a minimum, the SCAN must resolve to at least one address.</p>
<p>If you specify a GNS domain, then the SCAN name defaults to <span class="italic">clustername</span>-scan.<span class="italic">GNS_domain</span>. Otherwise, it defaults to <span class="italic">clustername</span>-scan.<span class="italic">current_domain</span>. For example, if you start Oracle Grid Infrastructure installation from the server <code dir="ltr">node1</code>, the cluster name is <code dir="ltr">mycluster</code>, and the GNS domain is <code dir="ltr">grid.example.com</code>, then the SCAN Name is <code dir="ltr">mycluster-scan.grid.example.com</code>.</p>
<p><a id="sthref855"></a>Clients configured to use IP addresses for Oracle Database releases before Oracle Database 11<span class="italic">g</span> Release 2 can continue to use their existing connection addresses; using SCANs is not required. When you upgrade to Oracle Clusterware 12<span class="italic">c</span> Release 1 (12.1), the SCAN becomes available, and you should use the SCAN for connections to Oracle Database 11<span class="italic">g</span> Release 2 or later databases. When an earlier version of Oracle Database is upgraded, it registers with the SCAN listeners, and clients can start using the SCAN to connect to that database. The database registers with the SCAN listener through the remote listener parameter in the <code dir="ltr">init.ora</code> file. The REMOTE_LISTENER parameter must be set to SCAN:PORT. Do not set it to a TNSNAMES alias with a single address with the SCAN as HOST=SCAN.</p>
<p><a id="sthref856"></a><a id="sthref857"></a>The SCAN is optional for most deployments. However, clients using Oracle Database 11<span class="italic">g</span> Release 2 and later policy-managed databases using server pools should access the database using the SCAN. This is because policy-managed databases can run on different servers at different times, so connecting to a particular node virtual IP address for a policy-managed database is not possible.</p>
<p>Provide SCAN addresses for client access to the cluster. These addresses should be configured as round robin addresses on the domain name service (DNS). Oracle recommends that you supply three SCAN addresses.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The following is a list of additional information about node IP addresses:
<ul>
<li>
<p>For the local node only, OUI automatically fills in public and VIP fields. If your system uses vendor clusterware, then OUI may fill additional fields.</p>
</li>
<li>
<p>Host names and virtual host names are not domain-qualified. If you provide a domain in the address field during installation, then OUI removes the domain from the address.</p>
</li>
<li>
<p>Interfaces identified as private for private IP addresses should not be accessible as public interfaces. Using public interfaces for Cache Fusion can cause performance problems.</p>
</li>
</ul>
</div>
<p>Identify public and <a id="sthref858"></a>private interfaces. OUI configures public interfaces for use by public and virtual IP addresses, and configures private IP addresses on private interfaces.</p>
<p>The private subnet that the private interfaces use must connect all the nodes you intend to have as cluster members.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABHBIFE"></a>
<div id="CWLIN400" class="sect1">
<h2 class="sect1"><span class="secnum">E.3</span> Understanding Network Time Requirements</h2>
<p>Oracle Clusterware 12<span class="italic">c</span> Release 1 (12.1) is automatically configured with Cluster Time Synchronization Service (CTSS). This service provides automatic synchronization of all cluster nodes using the optimal synchronization strategy for the type of cluster you deploy. If you have existing cluster time synchronization service, such as NTP, then it starts in an observer mode. Otherwise, it starts in an active mode to ensure that time is synchronized between cluster nodes. CTSS does not cause compatibility issues.</p>
<p>The CTSS module is installed as a part of Oracle Grid Infrastructure installation. CTSS daemons are started up by the OHAS daemon (<code dir="ltr">ohasd</code>), and do not require a command-line interface.</p>
</div>
<!-- class="sect1" -->
<a id="CIHEDECJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">E.4</span> Understanding Oracle Flex Clusters and Oracle ASM Flex Clusters</h2>
<p><a id="sthref859"></a><a id="sthref860"></a><a id="sthref861"></a><a id="sthref862"></a>Oracle Grid Infrastructure installed in an Oracle Flex Cluster configuration is a scalable, dynamic, robust network of nodes. Oracle Flex Clusters also provide a platform for other service deployments that require coordination and automation for high availability.</p>
<p>All nodes in an Oracle Flex Cluster belong to a single Oracle Grid Infrastructure cluster. This architecture centralizes policy decisions for deployment of resources based on application needs, to account for various service levels, loads, failure responses, and recovery.</p>
<p><a id="sthref863"></a><a id="sthref864"></a><a id="sthref865"></a><a id="sthref866"></a>Oracle Flex Clusters contain two types of nodes arranged in a hub and spoke architecture: Hub Node<a id="sthref867"></a><a id="sthref868"></a>s and Leaf Nodes. The number of Hub Nodes in an Oracle Flex Cluster can be as many as 64. The number of Leaf Nodes can be many more. Hub Nodes and Leaf Nodes can host different types of applications.</p>
<p>Oracle Flex Cluster Hub Nodes are similar to Oracle Grid Infrastructure nodes in a standard configuration: they are tightly connected, and have direct access to shared storage.</p>
<p>Leaf Nodes are different from standard Oracle Grid Infrastructure nodes, in that they do not require direct access to shared storage. Hub Nodes can run in an Oracle Flex Cluster configuration without having any Leaf Nodes as cluster member nodes, but Leaf Nodes must be members of a cluster with a pool of Hub Nodes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWADD92401" href="../CWADD/GUID-E1014B42-E671-4314-A2B0-D7B03EA4285F.htm#CWADD92401"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about Oracle Flex Cluster deployments</p>
</li>
<li>
<p><a class="olink OSTMG94084" href="../OSTMG/GUID-477BB93D-539D-463C-ADA7-72EBEA76D31A.htm#OSTMG94084"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about Oracle Flex ASM</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABDBIIH"></a>
<div id="CWLIN401" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">E.5</span> Understanding Storage Configuration</h2>
<p><a href="#BABFGCBA">Understanding Oracle Automatic Storage Management Cluster File System</a></p>
<p><a href="#BABCFAEJ">About Migrating Existing Oracle ASM Instances</a></p>
<p><a href="#BABJGDDC">Standalone Oracle ASM Installations to Clustered Installation Conversions</a></p>
<a id="BABFGCBA"></a>
<div id="CWLIN402" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">E.5.1</span> Understanding Oracle Automatic Storage Management Cluster File System</h3>
<p><a id="sthref869"></a><a id="sthref870"></a>Oracle Automatic Storage Management has been extended to include a general purpose file system, called Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Oracle ACFS is a new multi-platform, scalable file system, and storage management technology that extends Oracle Automatic Storage Management (Oracle ASM) functionality to support customer files maintained outside of the Oracle Database. Files supported by Oracle ACFS include application binaries and application reports. Other supported files are video, audio, text, images, engineering drawings, and other general-purpose application file data.</p>
<p>Automatic Storage Management Cluster File System (ACFS) can provide optimized storage for all Oracle files, including Oracle Database binaries. It can also store other application files. However, it cannot be used for Oracle Clusterware binaries.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also :</p>
<a class="olink OSTMG30000" href="../OSTMG/GUID-7783FE8B-3BAD-4C4F-83C5-DF1426340290.htm#OSTMG30000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about ACFS</div>
</div>
<!-- class="sect2" -->
<a id="BABCFAEJ"></a>
<div id="CWLIN403" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">E.5.2</span> About Migrating Existing Oracle ASM Instances</h3>
<p>If you have an Oracle ASM installation from a prior release installed on your server, or in an existing Oracle Clusterware installation, then you can use Oracle Automatic Storage Management Configuration Assistant (ASMCA, located in the path <span class="italic">Grid_home</span>/bin) to upgrade the existing Oracle ASM instance to Oracle ASM 12<span class="italic">c</span> Release 1 (12.1), and subsequently configure failure groups, Oracle ASM volumes, and Oracle Automatic Storage Management Cluster File System (Oracle ACFS).</p>
<div class="infoboxnotealso">
<p class="notep1">Note:</p>
You must first shut down all database instances and applications on the node with the existing Oracle ASM instance before upgrading it.</div>
<p>During installation, if you chose to use Oracle ASM and ASMCA detects that there is a prior Oracle ASM version installed in another home, then after installing the Oracle ASM 12<span class="italic">c</span> Release 1 (12.1) binaries, you can start ASMCA to upgrade the existing Oracle ASM instance. You can then choose to configure an Oracle ACFS deployment by creating Oracle ASM volumes and using the upgraded Oracle ASM to create the Oracle ACFS.</p>
<p>On an existing Oracle Clusterware or Oracle RAC installation, if the earlier version of Oracle ASM instances on all nodes is Oracle ASM 11<span class="italic">g</span> Release 1 (11.1), then you are provided with the option to perform a rolling upgrade of Oracle ASM instances. If the earlier version of Oracle ASM instances on an Oracle RAC installation are from an Oracle ASM release before Oracle ASM 11<span class="italic">g</span> Release 1 (11.1), then rolling upgrades cannot be performed. Oracle ASM is then upgraded on all nodes to 12<span class="italic">c</span> Release 1 (12.1).</p>
</div>
<!-- class="sect2" -->
<a id="BABJGDDC"></a>
<div id="CWLIN404" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">E.5.3</span> Standalone Oracle ASM Installations to Clustered Installation Conversions</h3>
<p>If you have existing standalone Oracle ASM installations on one or more nodes that are member nodes of the cluster, then OUI proceeds to install Oracle Grid Infrastructure for a cluster.</p>
<p>If you place Oracle Clusterware files (OCR and voting files) on Oracle ASM, then ASMCA is started at the end of the clusterware installation, and provides prompts for you to migrate and upgrade the Oracle ASM instance on the local node, so that you have an Oracle ASM 12<span class="italic">c</span> Release 1 (12.1) installation.</p>
<p>On remote nodes, ASMCA identifies any standalone Oracle ASM instances that are running, and prompts you to shut down those Oracle ASM instances, and any database instances that use them. ASMCA then extends clustered Oracle ASM instances to all nodes in the cluster. However, disk group names on the cluster-enabled Oracle ASM instances must be different from existing standalone disk group names.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG50000" href="../OSTMG/GUID-C29F444F-C440-450B-A13B-84CC2147826F.htm#OSTMG50000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABCBBGB"></a>
<div id="CWLIN405" class="sect1">
<h2 class="sect1"><span class="secnum">E.6</span> Understanding Out-of-Place Upgrade</h2>
<p>With an out-of-place upgrade, the installer installs the newer version in a separate Oracle Clusterware home. Both versions of Oracle Clusterware are on each cluster member node, but only one version is active.</p>
<p>Rolling upgrade avoids downtime and ensure continuous availability while the software is upgraded to a new version.</p>
<p>If you have separate Oracle Clusterware homes on each node, then you can perform an out-of-place upgrade on all nodes, or perform an out-of-place rolling upgrade, so that some nodes are running Oracle Clusterware from the earlier version Oracle Clusterware home, and other nodes are running Oracle Clusterware from the new Oracle Clusterware home.</p>
<p>An in-place upgrade of Oracle Grid Infrastructure is not supported.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="procstop.htm#BABEHGJG">Appendix B, &#34;How to Upgrade to Oracle Grid Infrastructure 12<span class="italic">c</span> Release 1&#34;</a> for instructions on completing rolling upgrades</div>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment605">
<tr>
<td class="cellalignment612">
<table class="cellalignment610">
<tr>
<td class="cellalignment609"><a href="memry.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment609"><a href="manpreins.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment614">
<table class="cellalignment608">
<tr>
<td class="cellalignment609"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment609"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment609"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment609"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment609"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment609"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
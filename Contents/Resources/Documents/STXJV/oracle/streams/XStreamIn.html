<!--NewPage--><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en-US"><head>
<!-- Generated by javadoc (build 1.6.0_37) on Wed Mar 27 15:00:41 PDT 2013 -->
<a class="dashingAutolink" name="autolink-105031"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/XStreamIn%20%28Oracle%20Database%20XStream%20Java%20API%20Reference%29"></a><title>XStreamIn (Oracle Database XStream Java API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii"/>
<meta name="date" content="2013-03-27"/>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style"/>
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="XStreamIn (Oracle Database XStream Java API Reference)";
    }
}
</script>
<meta name="generator" content="Oracle ST-Doc Jadey 2.5"/>
</head>
<body bgcolor="white" onload="windowTitle();">
<hr/>
<p style="display: none"><a href="#skip_navbar_top" title="Skip navigation links">Skip navigation links</a> <a name="navbar_top" id="navbar_top"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="0" width="100%" cellpadding="1" cellspacing="0">
<tbody><tr>
<td colspan="2" bgcolor="#EEEEFF" class="NavBarCell1"><a name="navbar_top_firstrow" id="navbar_top_firstrow"><!-- --></a>
<table class="oac_no_warn" summary="Layout table... probably." border="0" cellpadding="0" cellspacing="3">
<tbody><tr align="center" valign="top">
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../oracle/streams/package-summary.html"><span class="NavBarFont1"><b>Package</b></span></a>&nbsp;</td>
<td bgcolor="#FFFFFF" class="NavBarCell1Rev">&nbsp;<span class="NavBarFont1Rev"><b>Class</b></span>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="package-tree.html"><span class="NavBarFont1"><b>Tree</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../deprecated-list.html"><span class="NavBarFont1"><b>Deprecated</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../index-all.html"><span class="NavBarFont1"><b>Index</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../help-doc.html"><span class="NavBarFont1"><b>Help</b></span></a>&nbsp;</td>
</tr>
</tbody></table>
</td>
<td align="right" valign="top" rowspan="3"><em><b>Oracle&reg; Database XStream Java API Reference<br/>
12c Release 1 (12.1)</b><br/>
E17774-03</em></td>
</tr>
<tr>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller">&nbsp;<a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams"><b>PREV CLASS</b></a>&nbsp; &nbsp;<a href="../../oracle/streams/XStreamLCRCallbackHandler.html" title="interface in oracle.streams"><b>NEXT CLASS</b></a></span></td>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller"><a href="../../index.html?oracle/streams/XStreamIn.html" target="_top"><b>FRAMES</b></a> &nbsp; &nbsp;<a href="XStreamIn.html" target="_top"><b>NO FRAMES</b></a> &nbsp; &nbsp;</span><script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes<\/B><\/A>');
  }
  //-->
</script> <noscript><a href="../../allclasses-noframe.html"><b>All Classes</b></a></noscript></td>
</tr>
<tr>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<a href="#field_summary">FIELD</a>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_summary">METHOD</a></span></td>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">DETAIL:&nbsp;<a href="#field_detail">FIELD</a>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_detail">METHOD</a></span></td>
</tr>
</tbody></table>
<p><a name="skip_navbar_top" id="skip_navbar_top"></a> <!-- ========= END OF TOP NAVBAR ========= --></p>
<hr/>
<!-- ======== START OF CLASS DATA ======== -->
<h2><span style="font-size: smaller">oracle.streams</span><br/>
Class XStreamIn</h2>
<p><code>java.lang.Object<br/>
&nbsp;&nbsp;<img src="../../resources/inherit.gif" alt="extended by "/><b>oracle.streams.XStreamIn</b></code></p>
<hr/>
<dl>
<dd>
<pre>public class <b>XStreamIn</b>
</pre></dd>
<dt>extends java.lang.Object</dt>
</dl>
<p>The XStreamIn class provides APIs for using Oracle XStream In. This is the main Java API for Oracle XStream Inbound. It has the following main API methods as shown in the list.<br/></p>
<ul>
<li>Attach(): Attach to an XStream inbound server.</li>
<li>Detach(): Detach from an XStream inbound server.</li>
<li>SendLCRCallback(): Send a stream of logical change records (LCRs) to the XStream inbound server in callback mode. Specify an XStreamLCRCallbackHandler that constructs the LCRs that are sent to the XStream inbound server.</li>
<li>SendLCR(): Send one LCR to the XStream inbound server in non-callback mode.</li>
<li>SendChunk(): Send chunk data for LCRs that contain LOB, LONG, or XMLTYPE columns. Invoke this API only after invoking the sendLCR() API if the LCR contains chunk data.</li>
</ul>
<p>Here is an example of using the callback API:</p>
<pre>   Connection conn;
   XStreamIn xsIn;
   ...

   // assume myLCRHandler implements XStreamLCRCallbackHandler 
   XStreamLCRCallbackHandler hdlr = new MyLCRHandler(); 

   try
   {
     DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
     conn = DriverManager.getConnection(&#34;jdbc:oracle:oci:@hostname:port:sid&#34;,
                      &#34;strmadm&#34;, &#34;strmadm&#34;);
     xsIn = XStreamIn.attach(conn, new String(&#34;APPLY1&#34;), new String(&#34;CAP1&#34;),
                             XStreamIn.DEFAULT_MODE);
     while(true) 
     {
       xsIn.sendLCRCallback(hdlr, XStreamIn.DEFAULT_MODE);
       // maintain processed low watermark
       maintainWatermark();
       ... 
       if (user_terminate_condition)
       {
         break;
       }
     }
     xsIn.detach(XStreamIn.DEFAULT_MODE);  
   }
   catch(StreamsException e)
   {
      System.out.println(&#34;Streams exception: &#34; + e.getMessage()); 
   }
   catch(Exception e)
   {
   }
 
</pre>
<p>Please see createLCR() and createChunk() in XStreamLCRCallbackHandler for examples of implementing the callback methods.<br/></p>
<p>Here is an example of using the non-callback API:</p>
<pre>   Connection conn;
   XStreamIn xsIn;
   ...

   try
   {
     DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
     conn = DriverManager.getConnection(&#34;jdbc:oracle:oci:@hostname:port:sid&#34;,
                      &#34;strmadm&#34;, &#34;strmadm&#34;);
     xsIn = XStreamIn.attach(conn, new String(&#34;APPLY1&#34;), new String(&#34;CAP1&#34;),
                             XStreamIn.DEFAULT_MODE);
     lwm = xsIn.getProcessedLowWatermark(XStreamIn.DEFAULT_MODE);
     while(true) 
     {
       RowLCR rowlcr = new DefaultRowLCR(...);

       if (rowlcr has chunk data)
         rowlcr.setChunkDataFlag(true);

       int status = xsIn.sendLCR(rowlcr, XStreamIn.DEFAULT_MODE);

       if (status == EXECUTING)
       {
         for (each chunk in each lob/long/xmltype column)
         {
           ChunkColumnValue chunk = new DefaultChunkColumnValue(...);
           if (chunk is the last one in the column)
             chunk.setLastChunk(true);
           if (chunk is the last one for entire row)
             chunk.setEndOfRow(true);            
           xsIn.sendChunk(chunk, XStreamIn.DEFAULT_MODE);
         }
       }
       else // status == FINISHED
       {
         // maintain watermark
         lwm =  xsIn.getProcessedLowWatermark(XStreamIn.DEFAULT_MODE);
         maintainWatermark();
       }

       if (user_terminate_condition)
       {
         break;
       }
     }
     xsIn.detach(XStreamIn.DEFAULT_MODE);  
   }
   catch(StreamsException e)
   {
      System.out.println(&#34;Streams exception: &#34; + e.getMessage()); 
   }
   catch(Exception e)
   {
   }
 
</pre>
<hr/>
<p><!-- =========== FIELD SUMMARY =========== -->
 <a name="field_summary" id="field_summary"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#CCCCFF" class="TableHeadingColor">
<th align="left" colspan="2"><span><b>Field Summary</b></span></th>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>static&nbsp;int</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#DEFAULT_BATCH_INTERVAL">DEFAULT_BATCH_INTERVAL</a></b></code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XStreamIn default batch interval value for batch processing</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>static&nbsp;int</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#DEFAULT_MODE">DEFAULT_MODE</a></b></code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XStreamIn default mode</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>static&nbsp;int</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#EXECUTING">EXECUTING</a></b></code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XStreamIn batch processing status EXECUTING, which indicates the the batch is in progress</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>static&nbsp;int</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#FINISHED">FINISHED</a></b></code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XStreamIn batch processing status FINISHED, which is the default status</td>
</tr>
</tbody></table>
<p>&nbsp; <!-- ========== METHOD SUMMARY =========== -->
 <a name="method_summary" id="method_summary"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#CCCCFF" class="TableHeadingColor">
<th align="left" colspan="2"><span><b>Method Summary</b></span></th>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>static&nbsp;<a href="../../oracle/streams/XStreamIn.html" title="class in oracle.streams">XStreamIn</a></code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#attach_oracle_jdbc_OracleConnection__java_lang_String__java_lang_String__int_">attach</a></b>(oracle.jdbc.OracleConnection&nbsp;oconn, java.lang.String&nbsp;serverName, java.lang.String&nbsp;sourceName, int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attaches to an inbound server.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>static&nbsp;<a href="../../oracle/streams/XStreamIn.html" title="class in oracle.streams">XStreamIn</a></code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#attach_oracle_jdbc_OracleConnection__java_lang_String__java_lang_String__int__int_">attach</a></b>(oracle.jdbc.OracleConnection&nbsp;oconn, java.lang.String&nbsp;serverName, java.lang.String&nbsp;sourceName, int&nbsp;batchInterval, int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attaches to an inbound server.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;byte[]</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#detach_int_">detach</a></b>(int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Detaches from an inbound server.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#flush_int_">flush</a></b>(int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flushes the network.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;byte[]</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#getLastPosition__">getLastPosition</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets last position.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;byte[]</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#getOldestPosition__">getOldestPosition</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the oldest position.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;byte[]</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#getProcessedLowWatermark__">getProcessedLowWatermark</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the processed low watermark.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#sendChunk_oracle_streams_ChunkColumnValue__int_">sendChunk</a></b>(<a href="../../oracle/streams/ChunkColumnValue.html" title="interface in oracle.streams">ChunkColumnValue</a>&nbsp;chunk, int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends chunk data in non-callback mode.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;int</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#sendLCR_oracle_streams_LCR__int_">sendLCR</a></b>(<a href="../../oracle/streams/LCR.html" title="interface in oracle.streams">LCR</a>&nbsp;lcr, int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends one LCR in non-callback mode.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../oracle/streams/XStreamIn.html#sendLCRCallback_oracle_streams_XStreamLCRCallbackHandler__int_">sendLCRCallback</a></b>(<a href="../../oracle/streams/XStreamLCRCallbackHandler.html" title="interface in oracle.streams">XStreamLCRCallbackHandler</a>&nbsp;handler, int&nbsp;mode)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a stream of LCRs in callback mode.</td>
</tr>
</tbody></table>
<p>&nbsp;<a name="methods_inherited_from_class_java_lang_Object" id="methods_inherited_from_class_java_lang_Object"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#EEEEFF" class="TableSubHeadingColor">
<th align="left"><b>Methods inherited from class java.lang.Object</b></th>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td><code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></td>
</tr>
</tbody></table>
<p>&nbsp;</p>
<p><!-- ============ FIELD DETAIL =========== -->
 <a name="field_detail" id="field_detail"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#CCCCFF" class="TableHeadingColor">
<th align="left" colspan="1"><span><b>Field Detail</b></span></th>
</tr>
</tbody></table>
<p><a name="DEFAULT_MODE" id="DEFAULT_MODE"><!-- --></a></p>
<h3>DEFAULT_MODE</h3>
<pre class="oac_no_warn">public static final int <b>DEFAULT_MODE</b>
</pre>
<dl>
<dd>XStreamIn default mode
<dl>
<dt><b>See Also:</b></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_DEFAULT_MODE">Constant Field Values</a></dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="DEFAULT_BATCH_INTERVAL" id="DEFAULT_BATCH_INTERVAL"><!-- --></a></p>
<h3>DEFAULT_BATCH_INTERVAL</h3>
<pre class="oac_no_warn">public static final int <b>DEFAULT_BATCH_INTERVAL</b>
</pre>
<dl>
<dd>XStreamIn default batch interval value for batch processing
<dl>
<dt><b>See Also:</b></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_DEFAULT_BATCH_INTERVAL">Constant Field Values</a></dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="FINISHED" id="FINISHED"><!-- --></a></p>
<h3>FINISHED</h3>
<pre class="oac_no_warn">public static final int <b>FINISHED</b>
</pre>
<dl>
<dd>XStreamIn batch processing status FINISHED, which is the default status
<dl>
<dt><b>See Also:</b></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_FINISHED">Constant Field Values</a></dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="EXECUTING" id="EXECUTING"><!-- --></a></p>
<h3>EXECUTING</h3>
<pre class="oac_no_warn">public static final int <b>EXECUTING</b>
</pre>
<dl>
<dd>XStreamIn batch processing status EXECUTING, which indicates the the batch is in progress
<dl>
<dt><b>See Also:</b></dt>
<dd><a href="../../constant-values.html#oracle_streams_XStreamIn_EXECUTING">Constant Field Values</a></dd>
</dl>
</dd>
</dl>
<!-- ============ METHOD DETAIL ========== -->
<p><a name="method_detail" id="method_detail"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#CCCCFF" class="TableHeadingColor">
<th align="left" colspan="1"><span><b>Method Detail</b></span></th>
</tr>
</tbody></table>
<p><a name="attach_oracle_jdbc_OracleConnection__java_lang_String__java_lang_String__int_" id="attach_oracle_jdbc_OracleConnection__java_lang_String__java_lang_String__int_"><!-- --></a></p>
<h3>attach</h3>
<pre class="oac_no_warn">public static <a href="../../oracle/streams/XStreamIn.html" title="class in oracle.streams">XStreamIn</a> <b>attach</b>(oracle.jdbc.OracleConnection oconn,
                               java.lang.String serverName,
                               java.lang.String sourceName,
                               int mode)
                        throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Attaches to an inbound server.<br/>
This API attaches the client to the specified XStream inbound server. This is also the factory method that returns an XStreamIn instance once it is attached to a valid XStream inbound server.<br/>
After successfully attached to an XStream inbound server, call getLastPosition() to decide where to start sending LCRs in the LCR stream.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>oconn</code> - Oracle database connection.<br/>
Note that the connection must be made using Oracle OCI (thick) driver.<br/></dd>
<dd><code>serverName</code> - Name of the XStream inbound server.<br/></dd>
<dd><code>sourceName</code> - Name of the data source.<br/></dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br/></dd>
<dt><b>Returns:</b></dt>
<dd>an XStreamIn instance object<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during attach.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="attach_oracle_jdbc_OracleConnection__java_lang_String__java_lang_String__int__int_" id="attach_oracle_jdbc_OracleConnection__java_lang_String__java_lang_String__int__int_"><!-- --></a></p>
<h3>attach</h3>
<pre class="oac_no_warn">public static <a href="../../oracle/streams/XStreamIn.html" title="class in oracle.streams">XStreamIn</a> <b>attach</b>(oracle.jdbc.OracleConnection oconn,
                               java.lang.String serverName,
                               java.lang.String sourceName,
                               int batchInterval,
                               int mode)
                        throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Attaches to an inbound server.<br/>
This API is the same as the other attach API except that it includes the batchInterval parameter.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>oconn</code> - Oracle database connection.<br/>
Note that the connection must be made using Oracle OCI (thick) driver.<br/></dd>
<dd><code>serverName</code> - Name of the XStream inbound server.<br/></dd>
<dd><code>sourceName</code> - Name of the data source<br/></dd>
<dd><code>batchInterval</code> - XStreamIn batch processing interval.<br/></dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br/></dd>
<dt><b>Returns:</b></dt>
<dd>an XStreamIn instance object<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during attach.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="detach_int_" id="detach_int_"><!-- --></a></p>
<h3>detach</h3>
<pre class="oac_no_warn">public byte[] <b>detach</b>(int mode)
              throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Detaches from an inbound server.<br/>
This API detaches the client from the XStream inbound server.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br/></dd>
<dt><b>Returns:</b></dt>
<dd>the inbound server&#39;s processed low watermark.<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during detach.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="sendLCRCallback_oracle_streams_XStreamLCRCallbackHandler__int_" id="sendLCRCallback_oracle_streams_XStreamLCRCallbackHandler__int_"><!-- --></a></p>
<h3>sendLCRCallback</h3>
<pre class="oac_no_warn">public void <b>sendLCRCallback</b>(<a href="../../oracle/streams/XStreamLCRCallbackHandler.html" title="interface in oracle.streams">XStreamLCRCallbackHandler</a> handler,
                            int mode)
                     throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Sends a stream of LCRs in callback mode.<br/>
This API starts sending an LCR stream to the specified XStream inbound server using callback mode. You must supply an LCR callback handler that uses the createLCR() and createChunk() callback methods. See XStreamLCRCallbackHandler for details about the LCR callback handler.<br/>
To reduce network roundtrip overhead, this method also starts a batch process that sends LCRs to the inbound server. The batch process is stopped after 30 seconds or when a NULL LCR is returned in the createLCR() callback method.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>handler</code> - The XStreamLCRCallbackHandler for constructing LCRs.<br/></dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs during the batch.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="sendLCR_oracle_streams_LCR__int_" id="sendLCR_oracle_streams_LCR__int_"><!-- --></a></p>
<h3>sendLCR</h3>
<pre class="oac_no_warn">public int <b>sendLCR</b>(<a href="../../oracle/streams/LCR.html" title="interface in oracle.streams">LCR</a> lcr,
                   int mode)
            throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Sends one LCR in non-callback mode.<br/>
This method sends one LCR to the connected inbound server. To avoid a network round trip for each SendLCR call, XStreamIn starts a batch process internally to fill the network buffer with LCRs. This batch process is stopped after 30 seconds has elapsed.<br/>
This method returns a batch status value of either EXECUTING or FINISHED. Note that when a RowLCR has chunkDataFlag set, the return status is always EXECUTING.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>lcr</code> - A constructed LCR.</dd>
<dt><b>Returns:</b></dt>
<dd>The XStreamIn batch processing status.<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if the LCR is NULL or invalid, or error occurs while sending the LCR.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="sendChunk_oracle_streams_ChunkColumnValue__int_" id="sendChunk_oracle_streams_ChunkColumnValue__int_"><!-- --></a></p>
<h3>sendChunk</h3>
<pre class="oac_no_warn">public void <b>sendChunk</b>(<a href="../../oracle/streams/ChunkColumnValue.html" title="interface in oracle.streams">ChunkColumnValue</a> chunk,
                      int mode)
               throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Sends chunk data in non-callback mode.<br/>
This API sends streaming LOB, LONG, and XMLTYPE chunk data.<br/>
Call this API after calling sendLCR() to send chunk data for an LCR. Ensure that all of the chunks for one LOB column are sent before sending the chunks for another LOB column. The LOB columns can be sent in any order.<br/>
Use setLastChunk() in chunkColumnValue to indicate whether the current chunk is the last chunk for a column. Use setEndOfRow() in chunkColumnValue to indicate whether the current chunk is the last chunk for an entire row change.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>chunk</code> - A ChunkColumnValue object that contains the chunk data for the LOB, LONG, or XMLTYPE column in a RowLCR</dd>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs while sending chunk data.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getProcessedLowWatermark__" id="getProcessedLowWatermark__"><!-- --></a></p>
<h3>getProcessedLowWatermark</h3>
<pre class="oac_no_warn">public byte[] <b>getProcessedLowWatermark</b>()
</pre>
<dl>
<dd>Gets the processed low watermark.<br/>
Use this method to get the inbound server&#39;s processed low watermark. After attaching to an XStream inbound server, the client caches a local copy of the inbound server&#39;s processed low watermark. Each of the following calls refreshes the local copy with the inbound server&#39;s processed low watermark and returns the FINISHED batch status from sendLCR:
<pre>    attach 
    sendLCR
    sendLCRCallback
    flush
 
</pre>
This method can be called while the client is attached to an XStream inbound server.<br/></dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>The inbound server&#39;s processed low watermark.<br/></dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getOldestPosition__" id="getOldestPosition__"><!-- --></a></p>
<h3>getOldestPosition</h3>
<pre class="oac_no_warn">public byte[] <b>getOldestPosition</b>()
</pre>
<dl>
<dd>Gets the oldest position.<br/>
Use this method to get the inbound server&#39;s oldest position. After attaching to an XStream inbound server, the client caches a local copy of the inbound server&#39;s oldest position. Each of the following calls refreshes the local copy with the inbound server&#39;s oldest position and returns the FINISHED batch status from sendLCR:
<pre>    attach 
    sendLCR
    flush
 
</pre>
This method can be called while the client is attached to an XStream inbound server.<br/></dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>The inbound server&#39;s processed low watermark.<br/></dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getLastPosition__" id="getLastPosition__"><!-- --></a></p>
<h3>getLastPosition</h3>
<pre class="oac_no_warn">public byte[] <b>getLastPosition</b>()
</pre>
<dl>
<dd>Gets last position.<br/>
This method gets the inbound server&#39;s last position after an attach call. After attaching to an XStream inbound server, this method retrieves the inbound server&#39;s last position and sends it to the client. The client can use this last position to decide where to stream LCRs. Ensure that this method is called after successfully attaching to an XStream inbound server.<br/></dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>The inbound server&#39;s processed low watermark.<br/></dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="flush_int_" id="flush_int_"><!-- --></a></p>
<h3>flush</h3>
<pre class="oac_no_warn">public void <b>flush</b>(int mode)
           throws <a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a>
</pre>
<dl>
<dd>Flushes the network.<br/>
This method flushes the network while attaching to an XStream inbound server. Ensure that this method is called only when there are no LCRs to send to the inbound server and the client needs to determine the progress of the inbound server.<br/>
It terminates any in-progress batch processing and should not called in callback mode.<br/>
This method contacts the inbound server to get the inbound server&#39;s processed low watermark. The getProcessedLowWatermark() method can retrieve the processed low watermark.<br/></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>mode</code> - The mode of XStream inbound server (for future extension). Use XStreamIn.DEFAULT_MODE for now.<br/></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams">StreamsException</a></code> - if error occurs while flushing network.</dd>
</dl>
</dd>
</dl>
<!-- ========= END OF CLASS DATA ========= -->
<hr/>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<p style="display: none"><a href="#skip_navbar_bottom" title="Skip navigation links">Skip navigation links</a> <a name="navbar_bottom" id="navbar_bottom"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="0" width="100%" cellpadding="1" cellspacing="0">
<tbody><tr>
<td colspan="2" bgcolor="#EEEEFF" class="NavBarCell1"><a name="navbar_bottom_firstrow" id="navbar_bottom_firstrow"><!-- --></a>
<table class="oac_no_warn" summary="Layout table... probably." border="0" cellpadding="0" cellspacing="3">
<tbody><tr align="center" valign="top">
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../oracle/streams/package-summary.html"><span class="NavBarFont1"><b>Package</b></span></a>&nbsp;</td>
<td bgcolor="#FFFFFF" class="NavBarCell1Rev">&nbsp;<span class="NavBarFont1Rev"><b>Class</b></span>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="package-tree.html"><span class="NavBarFont1"><b>Tree</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../deprecated-list.html"><span class="NavBarFont1"><b>Deprecated</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../index-all.html"><span class="NavBarFont1"><b>Index</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../help-doc.html"><span class="NavBarFont1"><b>Help</b></span></a>&nbsp;</td>
</tr>
</tbody></table>
</td>
<td align="right" valign="top" rowspan="3"><em><b>Oracle&reg; Database XStream Java API Reference<br/>
12c Release 1 (12.1)</b><br/>
E17774-03</em></td>
</tr>
<tr>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller">&nbsp;<a href="../../oracle/streams/StreamsException.html" title="class in oracle.streams"><b>PREV CLASS</b></a>&nbsp; &nbsp;<a href="../../oracle/streams/XStreamLCRCallbackHandler.html" title="interface in oracle.streams"><b>NEXT CLASS</b></a></span></td>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller"><a href="../../index.html?oracle/streams/XStreamIn.html" target="_top"><b>FRAMES</b></a> &nbsp; &nbsp;<a href="XStreamIn.html" target="_top"><b>NO FRAMES</b></a> &nbsp; &nbsp;</span><script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes<\/B><\/A>');
  }
  //-->
</script> <noscript><a href="../../allclasses-noframe.html"><b>All Classes</b></a></noscript></td>
</tr>
<tr>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<a href="#field_summary">FIELD</a>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_summary">METHOD</a></span></td>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">DETAIL:&nbsp;<a href="#field_detail">FIELD</a>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_detail">METHOD</a></span></td>
</tr>
</tbody></table>
<p><a name="skip_navbar_bottom" id="skip_navbar_bottom"></a> <!-- ======== END OF BOTTOM NAVBAR ======= --></p>
<hr/>
<center>Copyright &copy; 2001, 2013, Oracle and/or its affiliates. All Rights Reserved.</center>


</body></html>
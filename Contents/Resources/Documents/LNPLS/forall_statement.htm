<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-78112"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/FORALL%20Statement"></a><title>FORALL Statement</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="The FORALL statement runs one DML statement multiple times, with different values in the VALUES and WHERE clauses."/>
<meta name="keywords" content="FORALL statement, syntax diagram, associative array, in FORALL statement, associative array in"/>
<meta name="dcterms.created" content="2017-05-09T17:03:42Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Language Reference"/>
<meta name="dcterms.identifier" content="E50727-06"/>
<meta name="dcterms.isVersionOf" content="LNPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="for_loop_statement.htm" title="Previous" type="text/html"/>
<link rel="Next" href="formal_parameter.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50727-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB"></a> <span id="PAGE" style="display:none;">44/100</span> <!-- End Header -->
<a id="LNPLS1532"></a><a id="LNPLS1171"></a><a id="LNPLS1172"></a><a id="LNPLS1533"></a><a id="LNPLS1534"></a><a id="LNPLS1535"></a><a id="LNPLS1536"></a><a id="LNPLS1537"></a><a id="LNPLS1538"></a><a id="LNPLS1539"></a><a id="LNPLS1541"></a><a id="LNPLS1554"></a><a id="LNPLS1555"></a><a id="LNPLS1556"></a><a id="LNPLS1557"></a><a id="LNPLS01321"></a>
<h1 id="LNPLS-GUID-C45B8241-F9DF-4C93-8577-C840A25963DB" class="sect1">FORALL Statement</h1>
<div>
<p>The <code class="codeph">FORALL</code> statement runs one DML statement multiple times, with different values in the <code class="codeph">VALUES</code> and <code class="codeph">WHERE</code> clauses.</p>
<div class="section">
<p>The different values come from existing, populated collections or host arrays. The <code class="codeph">FORALL</code> statement is usually much faster than an equivalent <code class="codeph">FOR</code> <code class="codeph">LOOP</code> statement.</p>
<div class="infobox-note" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-2D860C31-ADFC-44B0-ADF6-DDF4B04626C8">
<p class="notep1">Note:</p>
<p>You can use the <code class="codeph">FORALL</code> statement only in server programs, not in client programs.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Topics</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="forall_statement.htm#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJADDGFI">Syntax</a></p>
</li>
<li>
<p><a href="forall_statement.htm#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAHCBJH">Semantics</a></p>
</li>
<li>
<p><a href="forall_statement.htm#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAIBIAA">Examples</a></p>
</li>
<li>
<p><a href="forall_statement.htm#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAJIIGC">Related Topics</a></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJADDGFI">
<p class="subhead1">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">forall_statement</span> ::=</p>
<div class="figure" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-3C7B249E-CBD3-486C-9346-0BCBFB1CBDC2"><img width="607" height="46" src="img/forall_statement.gif" alt="Description of forall_statement.eps follows" title="Description of forall_statement.eps follows"/><br/>
<a href="img_text/forall_statement.htm">Description of the illustration forall_statement.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">bounds_clause</span> ::=</p>
<div class="figure" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-8C6C5252-41F4-416C-8630-CC379D45635A"><img width="600" height="110" src="img/bounds_clause.gif" alt="Description of bounds_clause.eps follows" title="Description of bounds_clause.eps follows"/><br/>
<a href="img_text/bounds_clause.htm">Description of the illustration bounds_clause.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAHCBJH">
<p class="subhead1">Semantics</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">forall_statement</span></p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">index</span></span></p>
<p>Name for the implicitly declared integer variable that is local to the <code class="codeph">FORALL</code> statement. Statements outside the <code class="codeph">FORALL</code> statement cannot reference <span class="italic"><code class="codeph">index</code></span>. Statements inside the <code class="codeph">FORALL</code> statement can reference <span class="italic"><code class="codeph">index</code></span> as an index variable, but cannot use it in expressions or change its value. After the <code class="codeph">FORALL</code> statement runs, <span class="italic"><code class="codeph">index</code></span> is undefined.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">dml_statement</span></span></p>
<p>A static or dynamic <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, or <code class="codeph">MERGE</code> statement that references at least one collection in its <code class="codeph">VALUES</code> or <code class="codeph">WHERE</code> clause. Performance benefits apply only to collection references that use <span class="italic"><code class="codeph">index</code></span> as an index.</p>
<p>Every collection that <span class="italic"><code class="codeph">dml_statement</code></span> references must have indexes that match the values of <span class="italic"><code class="codeph">index</code></span>. If you apply the <code class="codeph">DELETE</code>, <code class="codeph">EXTEND</code>, or <code class="codeph">TRIM</code> method to one collection, apply it to the other collections also, so that all collections have the same set of indexes. If any collection lacks a referenced element, PL/SQL raises an exception.</p>
<p><span class="bold">Restriction on <span class="italic">dml_statement</span></span></p>
<p>If <span class="italic"><code class="codeph">dml_statement</code></span> is a dynamic SQL statement, then values in the <code class="codeph">USING</code> clause (bind variables for the dynamic SQL statement) must be simple references to the collection, not expressions. For example, <span class="italic"><code class="codeph">collection</code></span><code class="codeph">(</code><span class="italic"><code class="codeph">i</code></span><code class="codeph">)</code> is valid, but <code class="codeph">UPPER(</code><span class="italic"><code class="codeph">collection</code></span><code class="codeph">(</code><span class="italic"><code class="codeph">i</code></span><code class="codeph">))</code> is invalid.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">SAVE EXCEPTIONS</span></p>
<p>Lets the <code class="codeph">FORALL</code> statement continue even if some of its DML statements fail. For more information, see <span class="q">&#34;<a href="tuning.htm#GUID-DAF46F06-EF3F-4B1A-A518-5238B80C69FA" title="To allow a FORALL statement to continue even if some of its DML statements fail, include the SAVE EXCEPTIONS clause. When a DML statement fails, PL/SQL does not raise an exception; instead, it saves information about the failure. After the FORALL statement completes, PL/SQL raises a single exception for the FORALL statement (ORA-24381).">Handling FORALL Exceptions After FORALL Statement Completes</a>&#34;</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">bounds_clause</span></p>
<p>Specifies the collection element indexes that provide values for the variable <span class="italic"><code class="codeph">index</code></span>. For each value, the SQL engine runs <span class="italic"><code class="codeph">dml_statement</code></span> once.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">lower_bound</span> .. <span class="italic">upper_bound</span></span></p>
<p>Both <span class="italic"><code class="codeph">lower_bound</code></span> and <span class="italic"><code class="codeph">upper_bound</code></span> are numeric expressions that PL/SQL evaluates once, when the <code class="codeph">FORALL</code> statement is entered, and rounds to the nearest integer if necessary. The resulting integers must be the lower and upper bounds of a valid range of consecutive index numbers. If an element in the range is missing or was deleted, PL/SQL raises an exception.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">INDICES OF <span class="italic">collection</span> [ BETWEEN <span class="italic">lower_bound</span> AND <span class="italic">upper_bound</span> ]</span></p>
<p>Specifies that the values of <span class="italic"><code class="codeph">index</code></span> correspond to the indexes of the elements of <span class="italic"><code class="codeph">collection</code></span>. The indexes need not be consecutive.</p>
<p>Both <span class="italic"><code class="codeph">lower_bound</code></span> and <span class="italic"><code class="codeph">upper_bound</code></span> are numeric expressions that PL/SQL evaluates once, when the <code class="codeph">FORALL</code> statement is entered, and rounds to the nearest integer if necessary. The resulting integers are the lower and upper bounds of a valid range of index numbers, which need not be consecutive.</p>
<p><span class="bold">Restriction on <span class="italic">collection</span></span></p>
<p>If <span class="italic"><code class="codeph">collection</code></span> is an associative array, it must be indexed by <code class="codeph">PLS_INTEGER</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">VALUES OF <span class="italic">index_collection</span></span></p>
<p>Specifies that the values of <span class="italic"><code class="codeph">index</code></span> are the elements of <span class="italic"><code class="codeph">index_collection</code></span>, a collection of <code class="codeph">PLS_INTEGER</code> elements that is indexed by <code class="codeph">PLS_INTEGER</code>. The indexes of <span class="italic"><code class="codeph">index_collection</code></span> need not be consecutive. If <span class="italic"><code class="codeph">index_collection</code></span> is empty, PL/SQL raises an exception and the <code class="codeph">FORALL</code> statement does not run.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAIBIAA">
<p class="subhead1">Examples</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="tuning.htm#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854__BABDBAAJ">Example 12-8</a>, <span class="q">&#34;DELETE Statement in FORALL Statement&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854__BABEDFJE">Example 12-9</a>, <span class="q">&#34;Time Difference for INSERT Statement in FOR LOOP and FORALL Statements&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854__BABIIEEI">Example 12-10</a>, <span class="q">&#34;FORALL Statement for Subset of Collection&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-82049618-CB67-4CF1-8455-02AC6AEB5F8E__BABJCEFE">Example 12-11</a>, <span class="q">&#34;FORALL Statements for Sparse Collection and Its Subsets&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-42AF6F5C-B06D-4EB6-9C7A-630FF65DBD5D__BABBBJCF">Example 12-12</a>, <span class="q">&#34;Handling FORALL Exceptions Immediately&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-DAF46F06-EF3F-4B1A-A518-5238B80C69FA__BABGBABA">Example 12-13</a>, <span class="q">&#34;Handling FORALL Exceptions After FORALL Statement Completes&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-D67D19A6-4717-4556-B027-15C3DED0519A__BABEJHDE">Example 12-26</a>, <span class="q">&#34;DELETE with RETURN BULK COLLECT INTO in FORALL Statement&#34;</span></p>
</li>
<li>
<p><a href="tuning.htm#GUID-14F071C6-C0AE-4D39-803F-420840FD34AB__BABJFFFB">Example 12-28</a>, <span class="q">&#34;Anonymous Block Bulk-Binds Input Host Array&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAJIIGC">
<p class="subhead1">Related Topics</p>
<p>In this chapter:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="for_loop_statement.htm#GUID-D00F8F0B-ECFC-48B6-B399-D8B5114E7E21" title="With each iteration of the FOR LOOP statement, its statements run, its index is either incremented or decremented, and control returns to the top of the loop. The FOR LOOP statement ends when its index reaches a specified value, or when a statement inside the loop transfers control outside the loop or raises an exception.">FOR LOOP Statement</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="implicit_cursor_attribute.htm#GUID-5A938EE7-E8D2-468C-B60F-81898F110BE1" title="An implicit cursor has attributes that return information about the most recently run SELECT or DML statement that is not associated with a named cursor.">Implicit Cursor Attribute</a>&#34;</span></p>
</li>
</ul>
<p>In other chapters:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="tuning.htm#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854" title="The FORALL statement, a feature of bulk SQL, sends DML statements from PL/SQL to SQL in batches rather than one at a time.">FORALL Statement</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="tuning.htm#GUID-19F50644-C88E-49AF-B31C-3EE4B4432714" title="The BULK COLLECT clause, a feature of bulk SQL, returns results from SQL to PL/SQL in batches rather than one at a time.">BULK COLLECT Clause</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="tuning.htm#GUID-D67D19A6-4717-4556-B027-15C3DED0519A" title="In a FORALL statement, the DML statement can have a RETURNING BULK COLLECT INTO clause. For each iteration of the FORALL statement, the DML statement stores the specified values in the specified collections&mdash;without overwriting the previous values, as the same DML statement would do in a FOR LOOP statement.">Using FORALL Statement and BULK COLLECT Clause Together</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment869">
<tr>
<td class="cellalignment912">
<table class="cellalignment874">
<tr>
<td class="cellalignment873"><a href="for_loop_statement.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment873"><a href="formal_parameter.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment914">
<table class="cellalignment872">
<tr>
<td class="cellalignment873"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment873"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment873"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment873"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment873"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment873"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
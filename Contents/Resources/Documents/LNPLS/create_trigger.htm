<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-78087"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CREATE%20TRIGGER%20Statement"></a><title>CREATE TRIGGER Statement</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="CREATE TRIGGER statement, materialized view, trigger and, view, materialized, trigger and, trigger, materialized view and, INSTEAD OF trigger and"/>
<meta name="dcterms.created" content="2017-05-09T17:03:42Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database PL/SQL Language Reference"/>
<meta name="dcterms.identifier" content="E50727-06"/>
<meta name="dcterms.isVersionOf" content="LNPLS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="create_procedure.htm" title="Previous" type="text/html"/>
<link rel="Next" href="create_type.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50727-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B"></a> <span id="PAGE" style="display:none;">85/100</span> <!-- End Header -->
<a id="LNPLS2006"></a><a id="LNPLS1542"></a><a id="LNPLS2183"></a><a id="LNPLS1543"></a><a id="LNPLS2009"></a><a id="LNPLS1544"></a><a id="LNPLS1545"></a><a id="LNPLS1549"></a><a id="LNPLS1550"></a><a id="LNPLS1547"></a><a id="LNPLS1548"></a><a id="LNPLS1546"></a><a id="LNPLS1551"></a><a id="LNPLS1552"></a><a id="LNPLS2015"></a><a id="LNPLS1553"></a><a id="LNPLS2017"></a><a id="LNPLS2018"></a><a id="LNPLS2019"></a><a id="LNPLS2020"></a><a id="LNPLS2021"></a><a id="LNPLS2022"></a><a id="LNPLS2023"></a><a id="LNPLS2024"></a><a id="LNPLS2025"></a><a id="LNPLS2026"></a><a id="LNPLS2027"></a><a id="LNPLS2028"></a><a id="LNPLS2029"></a><a id="LNPLS2031"></a><a id="LNPLS2032"></a><a id="LNPLS2033"></a><a id="LNPLS2034"></a><a id="LNPLS2035"></a><a id="LNPLS2036"></a><a id="LNPLS2037"></a><a id="LNPLS2038"></a><a id="LNPLS2039"></a><a id="LNPLS2040"></a><a id="LNPLS2041"></a><a id="LNPLS2042"></a><a id="LNPLS2043"></a><a id="LNPLS2044"></a><a id="LNPLS2045"></a><a id="LNPLS2046"></a><a id="LNPLS2047"></a><a id="LNPLS2048"></a><a id="LNPLS2049"></a><a id="LNPLS2050"></a><a id="LNPLS2051"></a><a id="LNPLS2052"></a><a id="LNPLS2075"></a><a id="LNPLS2076"></a><a id="LNPLS2077"></a><a id="LNPLS1985"></a><a id="LNPLS1986"></a><a id="LNPLS2078"></a><a id="LNPLS2080"></a><a id="LNPLS2081"></a><a id="LNPLS2082"></a><a id="LNPLS2083"></a><a id="LNPLS2084"></a><a id="LNPLS2085"></a><a id="LNPLS2086"></a><a id="LNPLS2087"></a><a id="LNPLS2088"></a><a id="LNPLS2089"></a><a id="LNPLS2090"></a><a id="LNPLS2091"></a><a id="LNPLS2092"></a><a id="LNPLS2093"></a><a id="LNPLS2094"></a><a id="LNPLS2095"></a><a id="LNPLS2096"></a><a id="LNPLS2097"></a><a id="LNPLS2098"></a><a id="LNPLS2099"></a><a id="LNPLS2100"></a><a id="LNPLS2101"></a><a id="LNPLS2102"></a><a id="LNPLS2103"></a><a id="LNPLS2104"></a><a id="LNPLS2106"></a><a id="LNPLS2107"></a><a id="LNPLS2108"></a><a id="LNPLS2109"></a><a id="LNPLS2110"></a><a id="LNPLS2111"></a><a id="LNPLS2112"></a><a id="LNPLS2113"></a><a id="LNPLS2114"></a><a id="LNPLS2115"></a><a id="LNPLS2116"></a><a id="LNPLS2117"></a><a id="LNPLS2118"></a><a id="LNPLS01374"></a>
<h1 id="LNPLS-GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B" class="sect1">CREATE TRIGGER Statement</h1>
<div>
<div class="section">
<p>The <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> statement creates or replaces a <span class="bold">database trigger</span>, which is either of these:</p>
<ul style="list-style-type: disc;">
<li>
<p>A stored PL/SQL block associated with a table, a view, a schema, or the database</p>
</li>
<li>
<p>An anonymous PL/SQL block or an invocation of a procedure implemented in PL/SQL or Java</p>
</li>
</ul>
<p>The database automatically runs a trigger when specified conditions occur.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Topics</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHJFGH">Prerequisites</a></p>
</li>
<li>
<p><a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABBJHHG">Syntax</a></p>
</li>
<li>
<p><a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABFGAHF">Semantics</a></p>
</li>
<li>
<p><a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHEICEC">Examples</a></p>
</li>
<li>
<p><a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABCHGAE">Related Topics</a></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHJFGH">
<p class="subhead1">Prerequisites</p>
<ul style="list-style-type: disc;">
<li>
<p>To create a trigger in your schema on a table in your schema or on your schema (<code class="codeph">SCHEMA</code>), you must have the <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> system privilege.</p>
</li>
<li>
<p>To create a trigger in any schema on a table in any schema, or on another user&#39;s schema (<span class="italic"><code class="codeph">schema</code></span>.<code class="codeph">SCHEMA</code>), you must have the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TRIGGER</code> system privilege.</p>
</li>
<li>
<p>In addition to the preceding privileges, to create a trigger on <code class="codeph">DATABASE</code>, you must have the <code class="codeph">ADMINISTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TRIGGER</code> system privilege.</p>
</li>
<li>
<p>To create a trigger on a pluggable database (PDB), you must be connected to that PDB and have the <code class="codeph">ADMINISTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TRIGGER</code> system privilege. For information about PDBs, see <a class="olink ADMIN13508" target="_blank" href="../ADMIN/cdb_intro.htm#ADMIN13508"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>.</p>
</li>
<li>
<p>In addition to the preceding privileges, to create a crossedition trigger, you must be enabled for editions. For information about enabling editions for a user, see <a class="olink ADFNS99878" target="_blank" href="../ADFNS/adfns_editions.htm#ADFNS99878"><span class="italic">Oracle Database Development Guide</span></a>.</p>
</li>
</ul>
<p>If the trigger issues SQL statements or invokes procedures or functions, then the owner of the trigger must have the privileges necessary to perform these operations. These privileges must be granted directly to the owner rather than acquired through roles.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABBJHHG">
<p class="subhead1">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">create_trigger</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2FB5D80A-9EA8-4B6C-8D81-0132A3FF48B5"><img width="671" height="79" src="img/create_trigger.gif" alt="Description of create_trigger.eps follows" title="Description of create_trigger.eps follows"/><br/>
<a href="img_text/create_trigger.htm">Description of the illustration create_trigger.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">plsql_trigger_source</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DB5D282B-39D8-409E-987D-9A0B8E089CA9"><img width="426" height="123" src="img/plsql_trigger_source.gif" alt="Description of plsql_trigger_source.eps follows" title="Description of plsql_trigger_source.eps follows"/><br/>
<a href="img_text/plsql_trigger_source.htm">Description of the illustration plsql_trigger_source.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABDFIFA">compound_dml_trigger ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHGIFBD">instead_of_dml_trigger ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHEFGE">system_trigger ::=</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">simple_dml_trigger</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0FFC782D-3800-4DE0-959F-E27D19D9FE3D"><img width="617" height="235" src="img/simple_dml_trigger.gif" alt="Description of simple_dml_trigger.eps follows" title="Description of simple_dml_trigger.eps follows"/><br/>
<a href="img_text/simple_dml_trigger.htm">Description of the illustration simple_dml_trigger.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">dml_event_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHGIFBD">
<p class="subhead1"><span class="italic">instead_of_dml_trigger</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-C25FEF05-66FA-4BEA-BF58-04680DFA4670"><img width="683" height="371" src="img/instead_of_trigger.gif" alt="Description of instead_of_trigger.eps follows" title="Description of instead_of_trigger.eps follows"/><br/>
<a href="img_text/instead_of_trigger.htm">Description of the illustration instead_of_trigger.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABDFIFA">
<p class="subhead1"><span class="italic">compound_dml_trigger</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B30D02D7-22B6-44AA-865F-58D1AA0097BE"><img width="732" height="154" src="img/compound_dml_trigger.gif" alt="Description of compound_dml_trigger.eps follows" title="Description of compound_dml_trigger.eps follows"/><br/>
<a href="img_text/compound_dml_trigger.htm">Description of the illustration compound_dml_trigger.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJACFCDJ">compound_trigger_block ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">dml_event_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHEFGE">
<p class="subhead1"><span class="italic">system_trigger</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-491DEC83-F2DC-47B9-B23D-FA08CF9F6E5E"><img width="640" height="190" src="img/system_trigger.gif" alt="Description of system_trigger.eps follows" title="Description of system_trigger.eps follows"/><br/>
<a href="img_text/system_trigger.htm">Description of the illustration system_trigger.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">
<p class="subhead1"><span class="italic">dml_event_clause</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B124581A-C7F4-4FA5-ACB6-1B1210D2426F"><img width="603" height="175" src="img/dml_event_clause.gif" alt="Description of dml_event_clause.eps follows" title="Description of dml_event_clause.eps follows"/><br/>
<a href="img_text/dml_event_clause.htm">Description of the illustration dml_event_clause.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">
<p class="subhead1"><span class="italic">referencing_clause</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0CE04351-853D-42C1-B47F-1F8FA714DD61"><img width="409" height="162" src="img/referencing_clause.gif" alt="Description of referencing_clause.eps follows" title="Description of referencing_clause.eps follows"/><br/>
<a href="img_text/referencing_clause.htm">Description of the illustration referencing_clause.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">
<p class="subhead1"><span class="italic">trigger_edition_clause</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2C042923-3EB9-4916-8376-114B7474E4EC"><img width="294" height="79" src="img/trigger_edition_clause.gif" alt="Description of trigger_edition_clause.eps follows" title="Description of trigger_edition_clause.eps follows"/><br/>
<a href="img_text/trigger_edition_clause.htm">Description of the illustration trigger_edition_clause.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">
<p class="subhead1"><span class="italic">trigger_ordering_clause</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-73C287EF-6F2C-414E-A95B-68FD5F1A38D9"><img width="369" height="95" src="img/trigger_ordering_clause.gif" alt="Description of trigger_ordering_clause.eps follows" title="Description of trigger_ordering_clause.eps follows"/><br/>
<a href="img_text/trigger_ordering_clause.htm">Description of the illustration trigger_ordering_clause.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">
<p class="subhead1"><span class="italic">trigger_body</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-57025E1E-A1C6-4A1A-8CE7-45628C45B06B"><img width="204" height="58" src="img/trigger_body.gif" alt="Description of trigger_body.eps follows" title="Description of trigger_body.eps follows"/><br/>
<a href="img_text/trigger_body.htm">Description of the illustration trigger_body.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="block.htm#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACBIJG">plsql_block ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="italic"><code class="codeph">routine_clause</code></span> in <a class="olink SQLRF01108" target="_blank" href="../SQLRF/statements_4009.htm#SQLRF01108"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJACFCDJ">
<p class="subhead1"><span class="italic">compound_trigger_block</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0B04C668-7FA2-4D2F-8EBF-2DDD2E96286C"><img width="680" height="46" src="img/compound_trigger_block.gif" alt="Description of compound_trigger_block.eps follows" title="Description of compound_trigger_block.eps follows"/><br/>
<a href="img_text/compound_trigger_block.htm">Description of the illustration compound_trigger_block.eps</a></div>
<!-- class="figure" -->
<p>See <span class="q">&#34;<a href="block.htm#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJAIABJJ">declare_section ::=</a>&#34;</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">timing_point_section</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-288E7D55-B22D-4556-BA23-1C6F68F8E4DC"><img width="435" height="27" src="img/timing_point_section.gif" alt="Description of timing_point_section.eps follows" title="Description of timing_point_section.eps follows"/><br/>
<a href="img_text/timing_point_section.htm">Description of the illustration timing_point_section.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">timing_point</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-7C111CAB-DDD2-4ED3-BDEF-13C234735390"><img width="279" height="156" src="img/timing_point.gif" alt="Description of timing_point.eps follows" title="Description of timing_point.eps follows"/><br/>
<a href="img_text/timing_point.htm">Description of the illustration timing_point.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">tps_body</span> ::=</p>
<div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-58877B2D-4E98-48E6-91A7-E30953A786E2"><img width="569" height="91" src="img/tps_body.gif" alt="Description of tps_body.eps follows" title="Description of tps_body.eps follows"/><br/>
<a href="img_text/tps_body.htm">Description of the illustration tps_body.eps</a></div>
<!-- class="figure" -->
<p>See:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="exception_handler.htm#GUID-3FECF29B-A240-4191-A635-92C612D00C4D__CJAEIGAB">exception_handler ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="block.htm#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJADJGJE">pragma ::=</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="block.htm#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACJBCH">statement ::=</a>&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABFGAHF">
<p class="subhead1">Semantics</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">create_trigger</span></p>
<p><span class="bold">OR REPLACE</span></p>
<p>Re-creates the trigger if it exists, and recompiles it.</p>
<p>Users who were granted privileges on the trigger before it was redefined can still access the procedure without being regranted the privileges.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">[ EDITIONABLE | NONEDITIONABLE ]</span></p>
<p>Specifies whether the trigger is an editioned or noneditioned object if editioning is enabled for the schema object type <code class="codeph">TRIGGER</code> in <span class="italic"><code class="codeph">schema</code></span>. <span class="bold">Default:</span> <code class="codeph">EDITIONABLE</code>. For information about editioned and noneditioned objects, see <a class="olink ADFNS99923" target="_blank" href="../ADFNS/adfns_editions.htm#ADFNS99923"><span class="italic">Oracle Database Development Guide</span></a>.</p>
<p><span class="bold">Restriction on NONEDITIONABLE</span></p>
<p>You cannot specify <code class="codeph">NONEDITIONABLE</code> for a crossedition trigger.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">plsql_trigger_source</span></p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">schema</span></span></p>
<p>Name of the schema for the trigger to be created. <span class="bold">Default:</span> your schema.</p>
<p><span class="bold"><span class="italic">trigger</span></span></p>
<p>Name of the trigger to be created.</p>
<p>Triggers in the same schema cannot have the same names. Triggers can have the same names as other schema objects&mdash;for example, a table and a trigger can have the same name&mdash;however, to avoid confusion, this is not recommended.</p>
<p>If a trigger produces compilation errors, then it is still created, but it fails on execution. A trigger that fails on execution effectively blocks all triggering DML statements until it is disabled, replaced by a version without compilation errors, or dropped. You can see the associated compiler error messages with the SQL*Plus command <code class="codeph">SHOW</code> <code class="codeph">ERRORS</code>.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4D2D916A-0DA1-420C-B109-439E5897604C">
<p class="notep1">Note:</p>
<p>If you create a trigger on a base table of a materialized view, then you must ensure that the trigger does not fire during a refresh of the materialized view. During refresh, the <code class="codeph">DBMS_MVIEW</code> procedure <code class="codeph">I_AM_A_REFRESH</code> returns <code class="codeph">TRUE</code>.</p>
</div>
<p><span class="bold">Restrictions on <span class="italic">create_trigger</span></span></p>
<p>See <span class="q">&#34;<a href="triggers.htm#GUID-5B3A43E2-B9E1-4015-9A6C-0BE696853F3F">Trigger Restrictions</a>&#34;</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">simple_dml_trigger</span></p>
<p>Creates a simple DML trigger (described in <span class="q">&#34;<a href="triggers.htm#GUID-E76C8044-6942-4573-B7DB-3502FB96CF6F" title="A DML trigger is created on either a table or view, and its triggering event is composed of the DML statements DELETE, INSERT, and UPDATE.">DML Triggers</a>&#34;</span>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">BEFORE</span></p>
<p>Causes the database to fire the trigger before running the triggering event. For row triggers, the trigger fires before each affected row is changed.</p>
<p>Restrictions on BEFORE</p>
<ul style="list-style-type: disc;">
<li>
<p>You cannot specify a <code class="codeph">BEFORE</code> trigger on a view unless it is an editioning view.</p>
</li>
<li>
<p>In a <code class="codeph">BEFORE</code> statement trigger, the trigger body cannot read <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>. (In a <code class="codeph">BEFORE</code> row trigger, the trigger body can read and write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.)</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">AFTER</span></p>
<p>Causes the database to fire the trigger after running the triggering event. For row triggers, the trigger fires after each affected row is changed.</p>
<p><span class="bold">Restrictions on AFTER</span></p>
<ul style="list-style-type: disc;">
<li>
<p>You cannot specify an <code class="codeph">AFTER</code> trigger on a view unless it is an editioning view.</p>
</li>
<li>
<p>In an <code class="codeph">AFTER</code> statement trigger, the trigger body cannot read <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>. (In an <code class="codeph">AFTER</code> row trigger, the trigger body can read but not write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.)</p>
</li>
</ul>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-EC2CBA46-60C8-4CF1-899E-7577C4682BFC">
<p class="notep1">Note:</p>
<p>When you create a materialized view log for a table, the database implicitly creates an <code class="codeph">AFTER</code> row trigger on the table. This trigger inserts a row into the materialized view log whenever an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement modifies data in the master table. You cannot control the order in which multiple row triggers fire. Therefore, do not write triggers intended to affect the content of the materialized view.</p>
</div>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-EC787185-E26B-40EF-980D-E7E106A0F08F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SQLRF01303" target="_blank" href="../SQLRF/statements_6003.htm#SQLRF01303"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about materialized view logs</p>
</li>
<li>
<p><a class="olink ADFNS0202" target="_blank" href="../ADFNS/adfns_editions.htm#ADFNS0202"><span class="italic">Oracle Database Development Guide</span></a> for information about editioning views</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">FOR EACH ROW</span></p>
<p>Creates the trigger as a row trigger. The database fires a row trigger for each row that is affected by the triggering statement and meets the optional trigger constraint defined in the <code class="codeph">WHEN</code> condition.</p>
<p>If you omit this clause, then the trigger is a statement trigger. The database fires a statement trigger only when the triggering statement is issued if the optional trigger constraint is met.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">[ ENABLE | DISABLE ]</span></p>
<p>Creates the trigger in an enabled (default) or disabled state. Creating a trigger in a disabled state lets you ensure that the trigger compiles without errors before you enable it.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-62B802FB-993F-45FF-A4D3-1B002131A248">
<p class="notep1">Note:</p>
<p><code class="codeph">DISABLE</code> is especially useful if you are creating a crossedition trigger, which affects the online application being redefined if compilation errors occur.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">WHEN (<span class="italic">condition</span>)</span></p>
<p>Specifies a SQL condition that the database evaluates for each row that the triggering statement affects. If the value of <span class="italic"><code class="codeph">condition</code></span> is <code class="codeph">TRUE</code> for an affected row, then <span class="italic"><code class="codeph">trigger_body</code></span> runs for that row; otherwise, <span class="italic"><code class="codeph">trigger_body</code></span> does not run for that row. The triggering statement runs regardless of the value of <span class="italic"><code class="codeph">condition</code></span>.</p>
<p>The <span class="italic"><code class="codeph">condition</code></span> can contain correlation names (see <span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>&#34;</span>). In <span class="italic"><code class="codeph">condition</code></span>, do not put a colon (:) before the correlation name <code class="codeph">NEW</code>, <code class="codeph">OLD</code>, or <code class="codeph">PARENT</code> (in this context, it is not a placeholder for a bind variable).</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-6AA2DA87-9C42-4B23-B422-B1472F6AA0DC">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF005" target="_blank" href="../SQLRF/conditions.htm#SQLRF005"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL conditions</p>
</div>
<p><span class="bold">Restrictions on WHEN (<span class="italic">condition</span>)</span></p>
<ul style="list-style-type: disc;">
<li>
<p>If you specify this clause, then you must also specify <code class="codeph">FOR</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>.</p>
</li>
<li>
<p>The <span class="italic"><code class="codeph">condition</code></span> cannot include a subquery or a PL/SQL expression (for example, an invocation of a user-defined function).</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">trigger_body</span></span></p>
<p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.</p>
<p>If <span class="italic"><code class="codeph">trigger_body</code></span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.</p>
<p>Restriction on <span class="italic">trigger_body</span></p>
<p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">instead_of_dml_trigger</span></p>
<p>Creates an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> DML trigger (described in <span class="q">&#34;<a href="triggers.htm#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="An INSTEAD OF DML trigger is a DML trigger created on a noneditioning view, or on a nested table column of a noneditioning view. The database fires the INSTEAD OF trigger instead of running the triggering DML statement.">INSTEAD OF DML Triggers</a>&#34;</span>).</p>
<p><span class="bold">Restriction on INSTEAD OF</span></p>
<p>An <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger can read the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> values, but cannot change them.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-17506563-E024-4861-B60D-D9D73A386D44">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the view is inherently updatable and has <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers, the triggers take precedence: The database fires the triggers instead of performing DML on the view.</p>
</li>
<li>
<p>If the view belongs to a hierarchy, then the subviews do not inherit the trigger.</p>
</li>
<li>
<p>The <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> for views is not enforced when inserts or updates to the view are done using <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers. The <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger body must enforce the check. For information about <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>, see <a class="olink SQLRF54786" target="_blank" href="../SQLRF/statements_8004.htm#SQLRF54786"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
</li>
<li>
<p>The database fine-grained access control lets you define row-level security policies on views. These policies enforce specified rules in response to DML operations. If an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger is also defined on the view, then the database does not enforce the row-level security policies, because the database fires the <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger instead of running the DML on the view.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">DELETE</span></p>
<p>If the trigger is created on a noneditioning view, then <code class="codeph">DELETE</code> causes the database to fire the trigger whenever a <code class="codeph">DELETE</code> statement removes a row from the table on which the noneditioning view is defined.</p>
<p>If the trigger is created on a nested table column of a noneditioning view, then <code class="codeph">DELETE</code> causes the database to fire the trigger whenever a <code class="codeph">DELETE</code> statement removes an element from the nested table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">INSERT</span></p>
<p>If the trigger is created on a noneditioning view, then <code class="codeph">INSERT</code> causes the database to fire the trigger whenever an <code class="codeph">INSERT</code> statement adds a row to the table on which the noneditioning view is defined.</p>
<p>If the trigger is created on a nested table column of a noneditioning view, then <code class="codeph">INSERT</code> causes the database to fire the trigger whenever an <code class="codeph">INSERT</code> statement adds an element to the nested table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">UPDATE</span></p>
<p>If the trigger is created on a noneditioning view, then <code class="codeph">UPDATE</code> causes the database to fire the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in a column of the table on which the noneditioning view is defined.</p>
<p>If the trigger is created on a nested table column of a noneditioning view, then <code class="codeph">UPDATE</code> causes the database to fire the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in a column of the nested table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">nested_table_column</span></span></p>
<p>Name of the <span class="italic"><code class="codeph">nested_table_column</code></span> on which the trigger is to be created. The trigger fires only if the DML operates on the elements of the nested table. Performing DML operations directly on nested table columns does not cause the database to fire triggers defined on the table containing the nested table column. For more information, see <span class="q">&#34;<a href="triggers.htm#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="An INSTEAD OF DML trigger is a DML trigger created on a noneditioning view, or on a nested table column of a noneditioning view. The database fires the INSTEAD OF trigger instead of running the triggering DML statement.">INSTEAD OF DML Triggers</a>&#34;</span>.</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-8DB457D7-2B14-4043-90CE-9F40502FC522">
<p class="notep1">See Also:</p>
<p><code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span> clause of <a class="olink SQLRF01504" target="_blank" href="../SQLRF/statements_8004.htm#SQLRF01504"><code class="codeph">CREATE</code> <code class="codeph">VIEW</code></a> in <span class="italic">Oracle Database SQL Language Reference</span> for a list of constructs that prevent inserts, updates, or deletes on a view</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">schema</span></span></p>
<p>Name of the schema containing the noneditioning view. <span class="bold">Default:</span> your schema.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">noneditioning_view</span></span></p>
<p>If you specify <span class="italic"><code class="codeph">nested_table_column</code></span>, then <span class="italic"><code class="codeph">noneditioning_view</code></span> is the name of the noneditioning view that includes <span class="italic"><code class="codeph">nested_table_column</code></span>. Otherwise, <span class="italic"><code class="codeph">noneditioning_view</code></span> is the name of the noneditioning view on which the trigger is to be created.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">FOR EACH ROW</span></p>
<p>For documentation only, because an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger is always a row trigger.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">ENABLE</span></p>
<p><span class="bold">(Default)</span> Creates the trigger in an enabled state.</p>
<p><span class="bold">DISABLE</span></p>
<p>Creates the trigger in a disabled state, which lets you ensure that the trigger compiles without errors before you enable it.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4009ED2A-B1E5-48F4-9BB0-A4FD23F4A59D">
<p class="notep1">Note:</p>
<p><code class="codeph">DISABLE</code> is especially useful if you are creating a crossedition trigger, which affects the online application being redefined if compilation errors occur.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">trigger_body</span></span></p>
<p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.</p>
<p>If <span class="italic"><code class="codeph">trigger_body</code></span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.</p>
<p><span class="bold">Restriction on <span class="italic">trigger_body</span></span></p>
<p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="bold"><span class="italic">compound_dml_trigger</span></span></p>
<p>Creates a compound DML trigger (described in <span class="q">&#34;<a href="triggers.htm#GUID-8A0DA171-BE6A-4798-A1A4-677B88EA16A0">Compound DML Triggers</a>&#34;</span>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">ENABLE</span></p>
<p><span class="bold">(Default)</span> Creates the trigger in an enabled state.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">DISABLE</span></p>
<p>Creates the trigger in a disabled state, which lets you ensure that the trigger compiles without errors before you enable it.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-CCBC2D89-A58A-4392-8E0A-21BCA967D9A4">
<p class="notep1">Note:</p>
<p><code class="codeph">DISABLE</code> is especially useful if you are creating a crossedition trigger, which affects the online application being redefined if compilation errors occur.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">WHEN (<span class="italic">condition</span>)</span></p>
<p>Specifies a SQL condition that the database evaluates for each row that the triggering statement affects. If the value of <span class="italic"><code class="codeph">condition</code></span> is <code class="codeph">TRUE</code> for an affected row, then <span class="italic"><code class="codeph">tps_body</code></span> runs for that row; otherwise, <span class="italic"><code class="codeph">tps_body</code></span> does not run for that row. The triggering statement runs regardless of the value of <span class="italic"><code class="codeph">condition</code></span>.</p>
<p>The <span class="italic"><code class="codeph">condition</code></span> can contain correlation names (see <span class="q">&#34;<a href="create_trigger.htm#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>&#34;</span>). In <span class="italic"><code class="codeph">condition</code></span>, do not put a colon (:) before the correlation name <code class="codeph">NEW</code>, <code class="codeph">OLD</code>, or <code class="codeph">PARENT</code> (in this context, it is not a placeholder for a bind variable).</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-16619403-F909-46E1-B13B-4451183A62BB">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF005" target="_blank" href="../SQLRF/conditions.htm#SQLRF005"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL conditions</p>
</div>
<p><span class="bold">Restrictions on WHEN (<span class="italic">condition</span>)</span></p>
<ul style="list-style-type: disc;">
<li>
<p>If you specify this clause, then you must also specify at least one of these timing points:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">BEFORE</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
</li>
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
</li>
<li>
<p><code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
</li>
</ul>
</li>
<li>
<p>The <span class="italic"><code class="codeph">condition</code></span> cannot include a subquery or a PL/SQL expression (for example, an invocation of a user-defined function).</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">system_trigger</span></p>
<p>Defines a system trigger (described in <span class="q">&#34;<a href="triggers.htm#GUID-FE23FCE8-DE36-41EF-80A9-6B4B49E80E5B">System Triggers</a>&#34;</span>).</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">BEFORE</span></p>
<p>Causes the database to fire the trigger before running the triggering event.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">AFTER</span></p>
<p>Causes the database to fire the trigger after running the triggering event.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">INSTEAD OF</span></p>
<p>Creates an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger.</p>
<p><span class="bold">Restrictions on INSTEAD OF</span></p>
<ul style="list-style-type: disc;">
<li>
<p>The triggering event must be a <code class="codeph">CREATE</code> statement.</p>
</li>
<li>
<p>You can create at most one <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> DDL trigger (<span class="italic"><code class="codeph">non_dml_trigger</code></span>).</p>
<p>For example, you can create an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger on either the database or schema, but not on both the database and schema.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHBDEFD">
<p class="subhead1"><span class="italic">ddl_event</span></p>
<p>One or more types of DDL SQL statements that can cause the trigger to fire. You can create triggers for these events on <code class="codeph">DATABASE</code> or <code class="codeph">SCHEMA</code> unless otherwise noted. You can create <code class="codeph">BEFORE</code> and <code class="codeph">AFTER</code> triggers for any of these events, but you can create <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers only for <code class="codeph">CREATE</code> events.The database fires the trigger in the existing user transaction.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-30AF467C-51A4-4288-AFE6-C2A81BA7A0B4">
<p class="notep1">Note:</p>
<p>Some objects are created, altered, and dropped using PL/SQL APIs (for example, scheduler jobs are maintained by subprograms in the <code class="codeph">DBMS_SCHEDULER</code> package). Such PL/SQL subprograms do not fire DDL triggers.</p>
</div>
<p>The following <span class="italic"><code class="codeph">ddl_event</code></span> values are valid:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ALTER</code></p>
<p>Causes the database to fire the trigger whenever an <code class="codeph">ALTER</code> statement modifies a database object in the data dictionary. An <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement does not fire the trigger.</p>
</li>
<li>
<p><code class="codeph">ANALYZE</code></p>
<p>Causes the database to fire the trigger whenever the database collects or deletes statistics or validates the structure of a database object.</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-5C00ABF5-4CB3-49FF-96E3-6A12F39752BC">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF01105" target="_blank" href="../SQLRF/statements_4005.htm#SQLRF01105"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about using the SQL statement <code class="codeph">ANALYZE</code> to collect statistics</p>
</div>
</li>
<li>
<p><code class="codeph">ASSOCIATE</code> <code class="codeph">STATISTICS</code></p>
<p>Causes the database to fire the trigger whenever the database associates a statistics type with a database object.</p>
</li>
<li>
<p><code class="codeph">AUDIT</code></p>
<p>Causes the database to fire the trigger whenever an <code class="codeph">AUDIT</code> statement is issued.</p>
</li>
<li>
<p><code class="codeph">COMMENT</code></p>
<p>Causes the database to fire the trigger whenever a comment on a database object is added to the data dictionary.</p>
</li>
<li>
<p><code class="codeph">CREATE</code></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">CREATE</code> statement adds a database object to the data dictionary. The <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> or <code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code> statement does not fire the trigger.</p>
</li>
<li>
<p><code class="codeph">DISASSOCIATE</code> <code class="codeph">STATISTICS</code></p>
<p>Causes the database to fire the trigger whenever the database disassociates a statistics type from a database object.</p>
</li>
<li>
<p><code class="codeph">DROP</code></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">DROP</code> statement removes a database object from the data dictionary.</p>
</li>
<li>
<p><code class="codeph">GRANT</code></p>
<p>Causes the database to fire the trigger whenever a user grants system privileges or roles or object privileges to another user or to a role.</p>
</li>
<li>
<p><code class="codeph">NOAUDIT</code></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">NOAUDIT</code> statement is issued.</p>
</li>
<li>
<p><code class="codeph">RENAME</code></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">RENAME</code> statement changes the name of a database object.</p>
</li>
<li>
<p><code class="codeph">REVOKE</code></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">REVOKE</code> statement removes system privileges or roles or object privileges from a user or role.</p>
</li>
<li>
<p><code class="codeph">TRUNCATE</code></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">TRUNCATE</code> statement removes the rows from a table or cluster and resets its storage characteristics.</p>
</li>
<li>
<p><code class="codeph">DDL</code></p>
<p>Causes the database to fire the trigger whenever any of the preceding DDL statements is issued.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHBABAH">
<p class="subhead1"><span class="italic">database_event</span></p>
<p>One of the following database events. You can create triggers for these events on either <code class="codeph">DATABASE</code> or <code class="codeph">SCHEMA</code> unless otherwise noted. For each of these triggering events, the database opens an autonomous transaction scope, fires the trigger, and commits any separate transaction (regardless of any existing user transaction).</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">STARTUP</code></p>
<p>Causes the database to fire the trigger whenever the database is opened. This event is valid only with <code class="codeph">DATABASE</code>, not with <code class="codeph">SCHEMA</code>.</p>
</li>
<li>
<p><code class="codeph">BEFORE</code> <code class="codeph">SHUTDOWN</code></p>
<p>Causes the database to fire the trigger whenever an instance of the database is shut down. This event is valid only with <code class="codeph">DATABASE</code>, not with <code class="codeph">SCHEMA</code>.</p>
</li>
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">DB_ROLE_CHANGE</code></p>
<p>In a Data Guard configuration, causes the database to fire the trigger whenever a role change occurs from standby to primary or from primary to standby. This event is valid only with <code class="codeph">DATABASE</code>, not with <code class="codeph">SCHEMA</code>.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-036AB0DB-0BC5-422F-99D7-09C7C2E48C78">
<p class="notep1">Note:</p>
<p>You cannot create an <code class="codeph">AFTER</code> <code class="codeph">DB_ROLE_CHANGE</code> trigger on a PDB.</p>
</div>
</li>
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">SERVERERROR</code></p>
<p>Causes the database to fire the trigger whenever both of these conditions are true:</p>
<ul style="list-style-type: disc;">
<li>
<p>A server error message is logged.</p>
</li>
<li>
<p>Oracle relational database management system (RDBMS) determines that it is safe to fire error triggers.</p>
<p>Examples of when it is unsafe to fire error triggers include:</p>
<ul style="list-style-type: disc;">
<li>
<p>RDBMS is starting up.</p>
</li>
<li>
<p>A critical error has occurred.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">LOGON</code></p>
<p>Causes the database to fire the trigger whenever a client application logs onto the database.</p>
</li>
<li>
<p><code class="codeph">BEFORE</code> <code class="codeph">LOGOFF</code></p>
<p>Causes the database to fire the trigger whenever a client application logs off the database.</p>
</li>
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">SUSPEND</code></p>
<p>Causes the database to fire the trigger whenever a server error causes a transaction to be suspended.</p>
</li>
<li>
<p><code class="codeph">AFTER</code> <code class="codeph">CLONE</code></p>
<p>Can be specified only if <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> is specified. After the PDB is copied (cloned), the database fires the trigger in the new PDB and then deletes the trigger. If the trigger fails, then the copy operation fails.</p>
</li>
<li>
<p><code class="codeph">BEFORE</code> <code class="codeph">UNPLUG</code></p>
<p>Can be specified only if <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> is specified. Before the PDB is unplugged, the database fires the trigger and then deletes it. If the trigger fails, then the unplug operation fails.</p>
</li>
<li>
<p>[ <code class="codeph">BEFORE</code> | <code class="codeph">AFTER</code> ] <code class="codeph">SET</code> <code class="codeph">CONTAINER</code></p>
<p>Causes the database to fire the trigger either before or after an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement executes.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-05BA2556-9BB9-40A5-8E9C-D3D306C6C81C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="triggers.htm#GUID-2951D8A6-6C80-428F-840D-13A76A97E365">Triggers for Publishing Events</a>&#34;</span> for more information about responding to database events through triggers</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">[<span class="italic">schema</span>.]SCHEMA</span></p>
<p>Defines the trigger on the specified schema. <span class="bold">Default:</span> current schema. The trigger fires whenever any user connected as the specified schema initiates the triggering event.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">[ PLUGGABLE ] DATABASE</span></p>
<p><code class="codeph">DATABASE</code> defines the trigger on the root. In a multitenant container database (CDB), only a common user who is connected to the root can create a trigger on the entire database.</p>
<p><code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> defines the trigger on the PDB to which you are connected.</p>
<p>The trigger fires whenever any user of the specified database or PDB initiates the triggering event.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-19464708-B5D1-4543-BAC1-2047D06D776C">
<p class="notep1">Note:</p>
<p>If you are connected to a PDB, then specifying <code class="codeph">DATABASE</code> is equivalent to specifying <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> unless you want to specify an option that applies only to a PDB (such as <code class="codeph">CLONE</code> or <code class="codeph">UNPLUG</code>).</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">ENABLE</span></p>
<p><span class="bold">(Default)</span> Creates the trigger in an enabled state.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">DISABLE</span></p>
<p>Creates the trigger in a disabled state, which lets you ensure that the trigger compiles without errors before you enable it.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">WHEN (<span class="italic">condition</span>)</span></p>
<p>Specifies a SQL condition that the database evaluates. If the value of <span class="italic"><code class="codeph">condition</code></span> is <code class="codeph">TRUE</code>, then <span class="italic"><code class="codeph">trigger_body</code></span> runs for that row; otherwise, <span class="italic"><code class="codeph">trigger_body</code></span> does not run for that row. The triggering statement runs regardless of the value of <span class="italic"><code class="codeph">condition</code></span>.</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-9C417E30-7AE1-4084-AA3D-0902AE0FEC1E">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF005" target="_blank" href="../SQLRF/conditions.htm#SQLRF005"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL conditions</p>
</div>
<p><span class="bold">Restrictions on WHEN (<span class="italic">condition</span>)</span></p>
<ul style="list-style-type: disc;">
<li>
<p>You cannot specify this clause for a <code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>, or <code class="codeph">DB_ROLE_CHANGE</code> trigger.</p>
</li>
<li>
<p>If you specify this clause for a <code class="codeph">SERVERERROR</code> trigger, then <span class="italic"><code class="codeph">condition</code></span> must be <code class="codeph">ERRNO</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">error_code</code></span>.</p>
</li>
<li>
<p>The <span class="italic"><code class="codeph">condition</code></span> cannot include a subquery, a PL/SQL expression (for example, an invocation of a user-defined function), or a correlation name.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">trigger_body</span></span></p>
<p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.</p>
<p>If <span class="italic"><code class="codeph">trigger_body</code></span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.</p>
<p><span class="bold">Restrictions on <span class="italic">trigger_body</span></span></p>
<ul style="list-style-type: disc;">
<li>
<p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.</p>
</li>
<li>
<p>The trigger body cannot specify either <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">dml_event_clause</span></p>
<p>Specifies the triggering statements for <span class="italic"><code class="codeph">simple_dml_trigger</code></span> or <span class="italic"><code class="codeph">compound_dml_trigger</code></span>. The database fires the trigger in the existing user transaction.</p>
<p><span class="bold">DELETE</span></p>
<p>Causes the database to fire the trigger whenever a <code class="codeph">DELETE</code> statement removes a row from <span class="italic"><code class="codeph">table</code></span> or the table on which <span class="italic"><code class="codeph">view</code></span> is defined.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">INSERT</span></p>
<p>Causes the database to fire the trigger whenever an <code class="codeph">INSERT</code> statement adds a row to <span class="italic"><code class="codeph">table</code></span> or the table on which <span class="italic"><code class="codeph">view</code></span> is defined.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">UPDATE [ OF <span class="italic">column</span> [, <span class="italic">column</span> ] ]</span></p>
<p>Causes the database to fire the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in a specified column. <span class="bold">Default:</span> The database fires the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in any column of <span class="italic"><code class="codeph">table</code></span> or the table on which <span class="italic"><code class="codeph">view</code></span> is defined.</p>
<p>If you specify a <span class="italic"><code class="codeph">column</code></span>, then you cannot change its value in the body of the trigger.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">schema</span></span></p>
<p>Name of the schema that contains the database object on which the trigger is to be created. <span class="bold">Default:</span> your schema.</p>
<p><span class="bold"><span class="italic">table</span></span></p>
<p>Name of the database table or object table on which the trigger is to be created.</p>
<p><span class="bold">Restriction on <span class="italic">schema.table</span></span></p>
<p>You cannot create a trigger on a table in the schema <code class="codeph">SYS</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold"><span class="italic">view</span></span></p>
<p>Name of the database view or object view on which the trigger is to be created.</p>
<div class="infobox-note" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B4246E30-6A5B-4FA3-8AEE-8E5939C5D8F1">
<p class="notep1">Note:</p>
<p>A compound DML trigger created on a noneditioning view is not really compound, because it has only one timing point section.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">referencing_clause</span></p>
<p>Specifies correlation names, which refer to old, new, and parent values of the current row. <span class="bold">Defaults:</span> <code class="codeph">OLD</code>, <code class="codeph">NEW</code>, and <code class="codeph">PARENT</code>.</p>
<p>If your trigger is associated with a table named <code class="codeph">OLD</code>, <code class="codeph">NEW</code>, or <code class="codeph">PARENT</code>, then use this clause to specify different correlation names to avoid confusion between the table names and the correlation names.</p>
<p>If the trigger is defined on a nested table, then <code class="codeph">OLD</code> and <code class="codeph">NEW</code> refer to the current row of the nested table, and <code class="codeph">PARENT</code> refers to the current row of the parent table. If the trigger is defined on a database table or view, then <code class="codeph">OLD</code> and <code class="codeph">NEW</code> refer to the current row of the database table or view, and <code class="codeph">PARENT</code> is undefined.</p>
<p><span class="bold">Restriction on <span class="italic">referencing_clause</span></span></p>
<p>The <span class="italic"><code class="codeph">referencing_clause</code></span> is not valid if <span class="italic"><code class="codeph">trigger_body</code></span> is <code class="codeph">CALL</code> <span class="italic"><code class="codeph">routine</code></span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">trigger_edition_clause</span></p>
<p>Creates the trigger as a crossedition trigger.</p>
<p>The handling of DML changes during edition-based redefinition (EBR) of an online application can entail multiple steps. Therefore, it is likely, though not required, that a crossedition trigger is also a <span class="bold">compound trigger</span>.</p>
<p><span class="bold">Restrictions on <span class="italic">trigger_edition_clause</span></span></p>
<ul style="list-style-type: disc;">
<li>
<p>You cannot define a crossedition trigger on a view.</p>
</li>
<li>
<p>You cannot specify <code class="codeph">NONEDITIONABLE</code> for a crossedition trigger.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">FORWARD</span></p>
<p><span class="bold">(Default)</span> Creates the trigger as a forward crossedition trigger. A forward crossedition trigger is intended to fire when DML changes are made in a database while an online application that uses the database is being patched or upgraded with EBR. The body of a crossedition trigger is designed to handle these DML changes so that they can be appropriately applied after the changes to the application code are completed.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">REVERSE</span></p>
<p>Creates the trigger as a reverse crossedition trigger, which is intended to fire when the application, after being patched or upgraded with EBR, makes DML changes. This trigger propagates data to columns or tables used by the application before it was patched or upgraded.</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DC2CEEA6-B466-4500-9A1D-8D441842A342">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS0203" target="_blank" href="../ADFNS/adfns_editions.htm#ADFNS0203"><span class="italic">Oracle Database Development Guide</span></a> for more information crossedition triggers</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">trigger_ordering_clause</span></p>
<p id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHDEBEI">FOLLOWS | PRECEDES</p>
<p>Specifies the relative firing of triggers that have the same timing point. It is especially useful when creating crossedition triggers, which must fire in a specific order to achieve their purpose.</p>
<p>Use <code class="codeph">FOLLOWS</code> to indicate that the trigger being created must fire after the specified triggers. You can specify <code class="codeph">FOLLOWS</code> for a conventional trigger or for a forward crossedition trigger.</p>
<p>Use <code class="codeph">PRECEDES</code> to indicate that the trigger being created must fire before the specified triggers. You can specify <code class="codeph">PRECEDES</code> only for a reverse crossedition trigger.</p>
<p>The specified triggers must exist, and they must have been successfully compiled. They need not be enabled.</p>
<p>If you are creating a noncrossedition trigger, then the specified triggers must be all of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Noncrossedition triggers</p>
</li>
<li>
<p>Defined on the same table as the trigger being created</p>
</li>
<li>
<p>Visible in the same edition as the trigger being created</p>
</li>
</ul>
<p>If you are creating a crossedition trigger, then the specified triggers must be all of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Crossedition triggers</p>
</li>
<li>
<p>Defined on the same table or editioning view as the trigger being created, unless you specify <code class="codeph">FOLLOWS</code> or <code class="codeph">PRECEDES</code>.</p>
<p>If you specify <code class="codeph">FOLLOWS</code>, then the specified triggers must be forward crossedition triggers, and if you specify <code class="codeph">PRECEDES</code>, then the specified triggers must be reverse crossedition triggers. However, the specified triggers need not be on the same table or editioning view as the trigger being created.</p>
</li>
<li>
<p>Visible in the same edition as the trigger being created</p>
</li>
</ul>
<p>In the following definitions, A, B, C, and D are either noncrossedition triggers or forward crossedition triggers:</p>
<ul style="list-style-type: disc;">
<li>
<p>If B specifies A in its <code class="codeph">FOLLOWS</code> clause, then B <span class="bold">directly follows</span> A.</p>
</li>
<li>
<p>If C directly follows B, and B directly follows A, then C <span class="bold">indirectly follows</span> A.</p>
</li>
<li>
<p>If D directly follows C, and C indirectly follows A, then D indirectly follows A.</p>
</li>
<li>
<p>If B directly or indirectly follows A, then B <span class="bold">explicitly follows</span> A (that is, the firing order of B and A is explicitly specified by one or more <code class="codeph">FOLLOWS</code> clauses).</p>
</li>
</ul>
<p>In the following definitions, A, B, C, and D are reverse crossedition triggers:</p>
<ul style="list-style-type: disc;">
<li>
<p>If A specifies B in its <code class="codeph">PRECEDES</code> clause, then A <span class="bold">directly precedes</span> B.</p>
</li>
<li>
<p>If A directly precedes B, and B directly precedes C, then A <span class="bold">indirectly precedes</span> C.</p>
</li>
<li>
<p>If A directly precedes B, and B indirectly precedes D, then A indirectly precedes D.</p>
</li>
<li>
<p>If A directly or indirectly precedes B, then A <span class="bold">explicitly precedes</span> B (that is, the firing order of A and B is explicitly specified by one or more <code class="codeph">PRECEDES</code> clauses).</p>
</li>
</ul>
<p>Belongs to <span class="italic"><code class="codeph">compound_dml_trigger</code></span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">compound_trigger_block</span></p>
<p>If the trigger is created on a noneditioning view, then <span class="italic"><code class="codeph">compound_trigger_block</code></span> must have only the <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section.</p>
<p>If the trigger is created on a table or editioning view, then timing point sections can be in any order, but no section can be repeated. The <span class="italic"><code class="codeph">compound_trigger_block</code></span> cannot have an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section.</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-FEAF2170-2223-490B-B92F-C6F059F8F136">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="triggers.htm#GUID-B42FDBCD-55F4-47E9-90BB-12B71D63D225">Compound DML Trigger Structure</a>&#34;</span></p>
</div>
<p><span class="bold">Restriction on <span class="italic">compound_trigger_block</span></span></p>
<p>The <span class="italic"><code class="codeph">declare_section</code></span> of <span class="italic"><code class="codeph">compound_trigger_block</code></span> cannot include <code class="codeph">PRAGMA</code> <code class="codeph">AUTONOMOUS_TRANSACTION</code>.</p>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-F7C67C08-F973-42DF-95A2-A2F5D616DDEF">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="triggers.htm#GUID-67299530-50F0-4D99-B212-956A7E679CDC">Compound DML Trigger Restrictions</a>&#34;</span></p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">timing_point</span></p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">BEFORE STATEMENT</span></p>
<p>Specifies the <code class="codeph">BEFORE</code> <code class="codeph">STATEMENT</code> section of a <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a table or editioning view. This section causes the database to fire the trigger before running the triggering event.</p>
<p><span class="bold">Restriction on BEFORE STATEMENT</span></p>
<p>This section cannot specify <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">BEFORE EACH ROW</span></p>
<p>Specifies the <code class="codeph">BEFORE</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section of a <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a table or editioning view. This section causes the database to fire the trigger before running the triggering event. The trigger fires before each affected row is changed.</p>
<p>This section can read and write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">AFTER STATEMENT</span></p>
<p>Specifies the <code class="codeph">AFTER</code> <code class="codeph">STATEMENT</code> section of <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a table or editioning view. This section causes the database to fire the trigger after running the triggering event.</p>
<p><span class="bold">Restriction on AFTER STATEMENT</span></p>
<p>This section cannot specify <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">AFTER EACH ROW</span></p>
<p>Specifies the <code class="codeph">AFTER</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section of a <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a table or editioning view. This section causes the database to fire the trigger after running the triggering event. The trigger fires after each affected row is changed.</p>
<p>This section can read but not write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.</p>
</div>
<!-- class="section" -->
<div class="section">
<p><span class="bold">INSTEAD OF EACH ROW</span></p>
<p>Specifies the <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section (the only timing point section) of a <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a noneditioning view. The database runs <span class="italic"><code class="codeph">tps_body</code></span> instead of running the triggering DML statement. For more information, see <span class="q">&#34;<a href="triggers.htm#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="An INSTEAD OF DML trigger is a DML trigger created on a noneditioning view, or on a nested table column of a noneditioning view. The database fires the INSTEAD OF trigger instead of running the triggering DML statement.">INSTEAD OF DML Triggers</a>&#34;</span>.</p>
<p><span class="bold">Restriction on INSTEAD OF EACH ROW</span></p>
<ul style="list-style-type: disc;">
<li>
<p>This section can appear only in a <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a noneditioning view.</p>
</li>
<li>
<p>This section can read but not write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> values.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1"><span class="italic">tps_body</span></p>
<p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.</p>
<p>If <span class="italic"><code class="codeph">tps_body</code></span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.</p>
<p><span class="bold">Restriction on <span class="italic">tps_body</span></span></p>
<p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHEICEC">
<p class="subhead1">Examples</p>
<p>DML Triggers</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="triggers.htm#GUID-EC6A8FA1-9E60-4374-9905-639F4F100D83__CIHBCDJH">Example 9-1</a>, <span class="q">&#34;Trigger Uses Conditional Predicates to Detect Triggering Statement&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-9F06D45C-7C60-434E-A597-114A0C445671__CIHFGDJG">Example 9-2</a>, <span class="q">&#34;INSTEAD OF Trigger&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-9F06D45C-7C60-434E-A597-114A0C445671__CIHFBGDC">Example 9-3</a>, <span class="q">&#34;INSTEAD OF Trigger on Nested Table Column of View&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-B5E654D9-5875-40EC-AE24-E3A8CB37C9C5__CIHGJFAB">Example 9-4</a>, <span class="q">&#34;Compound Trigger Logs Changes to One Table in Another Table&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-E1150933-9B5F-4AA3-9F49-C222A1618BE5__CHDFGDAH">Example 9-5</a>, <span class="q">&#34;Compound Trigger Avoids Mutating-Table Error&#34;</span></p>
</li>
</ul>
<p>Triggers for Ensuring Referencial Integrity</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="triggers.htm#GUID-2DC16B21-35B1-4D09-BD4E-02797AA278EA__BCFGAHIB">Example 9-6</a></p>
, <span class="q">&#34;Foreign Key Trigger for Child Table&#34;</span></li>
<li>
<p><a href="triggers.htm#GUID-DB24A169-3CB1-427E-AA2B-646B878FA20C__BCFCCBAF">Example 9-7</a>, <span class="q">&#34;UPDATE and DELETE RESTRICT Trigger for Parent Table&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-58AD982C-22E6-4A62-A2CE-643BE8C4E821__BCFBGFDJ">Example 9-8</a>, <span class="q">&#34;UPDATE and DELETE SET NULL Trigger for Parent Table&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-2B9DF77A-171D-472B-A8F0-FF9730261D07__BCFHHHBD">Example 9-9</a>, <span class="q">&#34;DELETE CASCADE Trigger for Parent Table&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-193F9DBB-80B5-49FC-83D2-2FB533880833__BCFDBJDA">Example 9-10</a>, <span class="q">&#34;UPDATE CASCADE Trigger for Parent Table&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-BF2DDD06-E6B4-4EB5-945F-89FFA8468D6F__BCFECGBI">Example 9-11</a>, <span class="q">&#34;Trigger Checks Complex Constraints&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-9E6E59EF-F402-4B11-A4FF-268D9C0521EB__BCFGEBAA">Example 9-12</a>, <span class="q">&#34;Trigger Enforces Security Authorizations&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-BD042B88-E2E7-4A7D-8FA2-8D0185F6455F__BCFDEHHE">Example 9-13</a>, <span class="q">&#34;Trigger Derives New Column Values&#34;</span></p>
</li>
</ul>
<p>Triggers That Use Correlation Names and Pseudorecords</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="triggers.htm#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFBDJEC">Example 9-14</a>, <span class="q">&#34;Trigger Logs Changes to EMPLOYEES.SALARY&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__CIHHEJCD">Example 9-15</a>, <span class="q">&#34;Conditional Trigger Prints Salary Change Information&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFJDBEH">Example 9-16</a>, <span class="q">&#34;Trigger Modifies CLOB Columns&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFIAABG">Example 9-17</a>, <span class="q">&#34;Trigger with REFERENCING Clause&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-C42CC16B-EAC1-4093-85C8-6359D08C912F__BCFFIBBA">Example 9-18</a>, <span class="q">&#34;Trigger References OBJECT_VALUE Pseudocolumn&#34;</span></p>
</li>
</ul>
<p>System Triggers</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="triggers.htm#GUID-6CF3A208-0BE7-45FF-928C-A755526933D0__CIHFGGEH">Example 9-19</a>, <span class="q">&#34;BEFORE Statement Trigger on Sample Schema HR&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-AC093015-E9EA-47B1-8B0C-51A1860AB12D__CIHEBJDD">Example 9-20</a>, <span class="q">&#34;AFTER Statement Trigger on Database&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-AC093015-E9EA-47B1-8B0C-51A1860AB12D__CIHEFABC">Example 9-21</a>, <span class="q">&#34;Trigger Monitors Logons&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-7B32FE4B-AB8E-48B0-A74C-599584A485A7__CIHBJFDG">Example 9-22</a>, <span class="q">&#34;INSTEAD OF CREATE Trigger on Schema&#34;</span></p>
</li>
</ul>
<p>Miscellaneous Trigger Examples</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="triggers.htm#GUID-E11CFB2F-064F-42EB-8390-F025564AD107__CIHGEEIC">Example 9-23</a>, <span class="q">&#34;Trigger Invokes Java Subprogram&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-FA7A16B6-F94D-4E4C-A326-F602FE9FE3E8__BCFDBDJH">Example 9-24</a>, <span class="q">&#34;Trigger Cannot Handle Exception if Remote Database is Unavailable&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-FA7A16B6-F94D-4E4C-A326-F602FE9FE3E8__BCFEHHDA">Example 9-25</a>, <span class="q">&#34;Workaround for Trigger Cannot Handle Exception if Remote Database is Unavailable&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-73B70893-9E45-4C08-B327-13ECBE4BE920__BCFHJBBE">Example 9-26</a>, <span class="q">&#34;Trigger Causes Mutating-Table Error&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-73B70893-9E45-4C08-B327-13ECBE4BE920__BCFEFDIA">Example 9-27</a>, <span class="q">&#34;Update Cascade&#34;</span></p>
</li>
<li>
<p><a href="triggers.htm#GUID-F843EE28-6D46-4AA2-B3B3-7CB5485B96CE__BCFHCBGE">Example 9-28</a>, <span class="q">&#34;Viewing Information About Triggers&#34;</span></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABCHGAE">
<p class="subhead1">Related Topics</p>
<p>In this chapter:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="alter_trigger.htm#GUID-BC319647-2D94-46D1-BF69-16CDFB507725">ALTER TRIGGER Statement</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="drop_trigger.htm#GUID-C664FDA9-656B-49D4-A86D-D08B615137E9" title="The DROP TRIGGER statement drops a database trigger from the database.">DROP TRIGGER Statement</a>&#34;</span></p>
</li>
</ul>
<p>In other chapters:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="triggers.htm#GUID-217E8B13-29EF-45F3-8D0F-2384F9F1D231" title="A trigger is like a stored procedure that Oracle Database invokes automatically whenever a specified event occurs.">PL/SQL Triggers</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-D07ED78E-3188-43BD-842A-ED7DACD9CC41">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS0203" target="_blank" href="../ADFNS/adfns_editions.htm#ADFNS0203"><span class="italic">Oracle Database Development Guide</span></a> for more information about crossedition triggers</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment869">
<tr>
<td class="cellalignment912">
<table class="cellalignment874">
<tr>
<td class="cellalignment873"><a href="create_procedure.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment873"><a href="create_type.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment914">
<table class="cellalignment872">
<tr>
<td class="cellalignment873"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment873"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment873"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment873"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment873"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment873"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
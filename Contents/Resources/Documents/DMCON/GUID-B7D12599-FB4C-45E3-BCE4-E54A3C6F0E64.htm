<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5587"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Apriori"></a><title>Apriori</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Learn how to calculate Association Rules using Apriori algorithm."/>
<meta name="keywords" content="star schema, itemsets, frequent itemsets, support, Apriori"/>
<meta name="dcterms.created" content="2017-05-15T23:08:00Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Mining Concepts"/>
<meta name="dcterms.identifier" content="E17692-19"/>
<meta name="dcterms.isVersionOf" content="DMCON"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-B901A29B-218C-4F37-91E0-AA94631364E3.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17692-19.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64"></a> <span id="PAGE" style="display:none;">17/29</span> <!-- End Header -->
<a id="DMCON061"></a>
<h1 id="DMCON-GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" class="sect1"><span class="enumeration_chapter">10</span> Apriori</h1>
<div>
<p>Learn how to calculate Association Rules using Apriori algorithm.</p>
<p><a id="d11316e19" class="indexterm-anchor"></a><a id="d11316e21" class="indexterm-anchor"></a><a id="d11316e25" class="indexterm-anchor"></a></p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D">About Apriori</a></p>
</li>
<li>
<p><a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-B1A63951-407B-4363-8986-46B38F080EC2">Association Rules and Frequent Itemsets</a></p>
</li>
<li>
<p><a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15">Data Preparation for Apriori</a></p>
</li>
<li>
<p><a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-306942EA-B80E-44C4-B060-AD9C2B024984">Calculating Association Rules</a></p>
</li>
<li>
<p><a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-376A915C-D473-46C5-B360-5DD9E4814645">Evaluating Association Rules</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64__GUID-48911175-3E9A-477D-843B-88A7C10ED26C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C.htm#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="Learn how to discover Association Rules through Association - an unsupervised mining function.">Association</a>&#34;</span> for information about Association Rules.</p>
</div>
</div>
<a id="DMCON283"></a>
<div class="props_rev_3"><a id="GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D"></a>
<h2 id="DMCON-GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" class="sect2">About Apriori</h2>
<div>
<p>An <a id="d11316e77" class="indexterm-anchor"></a>association mining problem can be decomposed into the following subproblems:</p>
<ul style="list-style-type: disc;">
<li>
<p>Find all combinations of items in a set of transactions that occur with a specified minimum frequency. These combinations are called <a id="d11316e86" class="indexterm-anchor"></a><strong class="term">frequent itemsets</strong>.</p>
</li>
<li>
<p>Calculate <a id="d11316e94" class="indexterm-anchor"></a>rules that express the probable co-occurrence of items within frequent itemsets. (See <span class="q">&#34;<a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5">Example: Calculating Rules from Frequent Itemsets</a>&#34;</span>.)</p>
</li>
</ul>
<p>Apriori calculates the probability of an item being present in a frequent itemset, given that another item or items is present.</p>
<p>Association rule mining is not recommended for finding associations involving rare events in problem domains with a large number of items. Apriori discovers patterns with frequencies above the minimum support threshold. Therefore, to find associations involving rare events, the algorithm must run with very low minimum support values. However, doing so potentially explodes the number of enumerated itemsets, especially in cases with a large number of items. This increases the execution time significantly. Classification or Anomaly Detection is more suitable for discovering rare events when the data has a high number of attributes.</p>
<p>The build process for Apriori supports <a id="d11316e110" class="indexterm-anchor"></a>parallel execution.</p>
<div class="infoboxnotealso" id="GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D__GUID-5F33BCF9-329D-49D5-B1A2-307E534816A2">
<p class="notep1">See Also:</p>
<p><a class="olink VLDBG010" target="_blank" href="../VLDBG/GUID-3E2AE088-2505-465E-A8B2-AC38813EA355.htm#VLDBG010"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about parallel execution</p>
</div>
</div>
</div>
<a id="DMCON284"></a>
<div class="props_rev_3"><a id="GUID-B1A63951-407B-4363-8986-46B38F080EC2"></a>
<h2 id="DMCON-GUID-B1A63951-407B-4363-8986-46B38F080EC2" class="sect2">Association Rules and Frequent Itemsets</h2>
<div>
<p>The Apriori algorithm calculates rules that express probabilistic relationships between items in frequent itemsets. For example, a rule derived from frequent itemsets containing A, B, and C might state that if A and B are included in a transaction, then C is likely to also be included.</p>
<p>An association rule states that an item or group of items implies the presence of another item with some probability. Unlike decision tree rules, which predict a target, association rules simply express correlation.</p>
</div>
<a id="DMCON285"></a>
<div class="props_rev_3"><a id="GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E"></a>
<h3 id="DMCON-GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E" class="sect3">Antecedent and Consequent</h3>
<div>
<p>The IF component of an association rule is known as the <strong class="term">antecedent</strong>. The THEN component is known as the <strong class="term">consequent</strong>. The antecedent and the consequent are disjoint; they have no items in common.</p>
<p>Oracle Data Mining supports association rules that have one or more items in the antecedent and a single item in the consequent.</p>
</div>
</div>
<a id="DMCON286"></a>
<div class="props_rev_3"><a id="GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3"></a>
<h3 id="DMCON-GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3" class="sect3">Confidence</h3>
<div>
<p>Rules have an associated <a id="d11316e191" class="indexterm-anchor"></a>confidence, which is the conditional probability that the consequent occurs given the occurrence of the antecedent. You can specify the minimum confidence for rules.</p>
</div>
</div>
</div>
<a id="DMCON295"></a>
<div class="props_rev_3"><a id="GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15"></a>
<h2 id="DMCON-GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" class="sect2">Data Preparation for Apriori</h2>
<div>
<p><a id="d11316e215" class="indexterm-anchor"></a>Association models<a id="d11316e220" class="indexterm-anchor"></a> are designed to use <a id="d11316e223" class="indexterm-anchor"></a>transactional data. In transactional data, there is a one-to-many relationship between the case identifier and the values for each case. Each case ID/value pair is specified in a separate record (row).</p>
</div>
<a id="DMCON549"></a>
<div class="props_rev_3"><a id="GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC"></a>
<h3 id="DMCON-GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC" class="sect3">Native Transactional Data and Star Schemas</h3>
<div>
<p>Transactional data may be stored in native transactional format, with a non-unique case ID column and a values column, or it may be stored in some other configuration, such as a star schema. If the data is not stored in native transactional format, it must be transformed to a <a id="d11316e250" class="indexterm-anchor"></a>nested column for processing by the Apriori algorithm.</p>
<div class="infoboxnotealso" id="GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC__GUID-97AA276D-5E3E-4F8E-8D7A-3DE89EB5B9C7">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C.htm#GUID-B7D14354-A1EF-4E56-974C-18255226C0BD">Transactional Data</a>&#34;</span></p>
<p>&#34;Using Nested Data&#34; in <a class="olink DMPRG006" target="_blank" href="../DMPRG/GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44.htm#DMPRG006"><span><cite>Oracle Data Mining User&rsquo;s Guide</cite></span></a></p>
</div>
</div>
</div>
<a id="DMCON550"></a>
<div class="props_rev_3"><a id="GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660"></a>
<h3 id="DMCON-GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660" class="sect3">Items and Collections</h3>
<div>
<p>In transactional data, a collection of items is associated with each case. The collection theoretically includes all possible members of the collection. For example, all products can theoretically be purchased in a single market-basket transaction. However, in actuality, only a tiny subset of all possible items are present in a given transaction; the items in the market-basket represent only a small fraction of the items available for sale in the store.</p>
</div>
</div>
<a id="DMCON551"></a>
<div class="props_rev_3"><a id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D"></a>
<h3 id="DMCON-GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D" class="sect3">Sparse Data</h3>
<div>
<p>Missing items in a collection indicate <strong class="term">sparsity</strong>. Missing items may be present with a null value, or they may simply be missing.</p>
<p>Nulls in transactional data are assumed to represent values that are known but not present in the transaction. For example, three items out of hundreds of possible items might be purchased in a single transaction. The items that were not purchased are known but not present in the transaction.</p>
<p>Oracle Data Mining assumes sparsity in transactional data. The Apriori algorithm is optimized for processing sparse data.</p>
<div class="infoboxnotealso" id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D__GUID-5AEE8713-DF95-488B-941B-B5014528DAC9">
<p class="notep1">See Also:</p>
<p><a class="olink DMPRG015" target="_blank" href="../DMPRG/GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B.htm#DMPRG015"><span><cite>Oracle Data Mining User&rsquo;s Guide</cite></span></a></p>
</div>
<div class="infobox-note" id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D__GUID-4903C543-3A98-40A7-B0E1-C0C9E828D30D">
<p class="notep1">Note:</p>
<p>Apriori is not affected by Automatic Data Preparation.</p>
</div>
</div>
</div>
</div>
<a id="DMCON552"></a>
<div class="props_rev_3"><a id="GUID-306942EA-B80E-44C4-B060-AD9C2B024984"></a>
<h2 id="DMCON-GUID-306942EA-B80E-44C4-B060-AD9C2B024984" class="sect2">Calculating Association Rules</h2>
<div>
<p>The first step in association analysis is the enumeration of <strong class="term">itemsets</strong>. An itemset is any combination of two or more items in a transaction.</p>
</div>
<a id="DMCON256"></a><a id="DMCON553"></a><a id="DMCON255"></a>
<div class="props_rev_3"><a id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF"></a>
<h3 id="DMCON-GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF" class="sect3">Itemsets</h3>
<div>
<p>The maximum number of items in an itemset is user-specified. If the maximum is two, then all the item pairs are counted. If the maximum is greater than two, then all the item pairs, all the item triples, and all the item combinations up to the specified maximum are counted.</p>
<p>The following table shows the itemsets derived from the transactions shown in <a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BGBFDAFB">Example 10-1</a>, assuming that maximum number of items in an itemset is set to 3.</p>
<div class="tblformal" id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BABFFIEG">
<p class="titleintable">Table 10-1 Itemsets</p>
<table class="cellalignment4147" title="Itemsets" summary="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter.">
<thead>
<tr class="cellalignment4117">
<th class="cellalignment4148" id="d11316e387">Transaction</th>
<th class="cellalignment4149" id="d11316e390">Itemsets</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4117">
<td class="cellalignment4150" id="d11316e395" headers="d11316e387">
<p>11</p>
</td>
<td class="cellalignment4151" headers="d11316e395 d11316e390">
<p>(B,D) (B,E) (D,E) (B,D,E)</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4150" id="d11316e402" headers="d11316e387">
<p>12</p>
</td>
<td class="cellalignment4151" headers="d11316e402 d11316e390">
<p>(A,B) (A,C) (A,E) (B,C) (B,E) (C,E) (A,B,C) (A,B,E) (A,C,E) (B,C,E)</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4150" id="d11316e409" headers="d11316e387">
<p>13</p>
</td>
<td class="cellalignment4151" headers="d11316e409 d11316e390">
<p>(B,C) (B,D) (B,E) (C,D) (C,E) (D,E) (B,C,D) (B,C,E) (B,D,E) (C,D,E)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="example" id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BGBFDAFB">
<p class="titleinexample">Example 10-1 Sample Transactional Data</p>
<pre dir="ltr">TRANS_ID   ITEM_ID
---------  -------------------
11         B
11         D
11         E
12         A
12         B
12         C
12         E
13         B
13         C
13         D
13         E
</pre></div>
<!-- class="example" --></div>
</div>
<a id="DMCON258"></a><a id="DMCON257"></a>
<div class="props_rev_3"><a id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F"></a>
<h3 id="DMCON-GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" class="sect3">Frequent Itemsets</h3>
<div>
<p>Association rules are calculated from itemsets. If rules are generated from all possible itemsets, there can be a very high number of rules and the rules may not be very meaningful. Also, the model can take a long time to build. Typically it is desirable to only generate rules from itemsets that are well-represented in the data. <strong class="term">Frequent itemsets</strong> are those that occur with a minimum frequency specified by the user.</p>
<p>The minimum frequent itemset <strong class="term">support</strong> is a user-specified percentage that limits the number of itemsets used for association rules. An itemset must appear in at least this percentage of all the transactions if it is to be used as a basis for rules.</p>
<p>The following table shows the itemsets from <a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BABFFIEG" title="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter.">Table 10-1</a> that are frequent itemsets with support &gt; 66%.</p>
<div class="tblformal" id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F__BABIBFFH">
<p class="titleintable">Table 10-2 Frequent Itemsets</p>
<table class="cellalignment4147" title="Frequent Itemsets" summary="Frequent itemsets derived from sample transactions shown in figure 8-1. Only the frequent itemsets with support &gt; 5% are shown. There are seven frequent itemsets with support &gt; 5%.">
<thead>
<tr class="cellalignment4117">
<th class="cellalignment4152" id="d11316e475">Frequent Itemset</th>
<th class="cellalignment4153" id="d11316e478">Transactions</th>
<th class="cellalignment4154" id="d11316e481">Support</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e486" headers="d11316e475">
<p>(B,C)</p>
</td>
<td class="cellalignment4156" headers="d11316e486 d11316e478">
<p>2 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e486 d11316e481">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e496" headers="d11316e475">
<p>(B,D)</p>
</td>
<td class="cellalignment4156" headers="d11316e496 d11316e478">
<p>2 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e496 d11316e481">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e506" headers="d11316e475">
<p>(B,E)</p>
</td>
<td class="cellalignment4156" headers="d11316e506 d11316e478">
<p>3 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e506 d11316e481">
<p>100%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e516" headers="d11316e475">
<p>(C,E)</p>
</td>
<td class="cellalignment4156" headers="d11316e516 d11316e478">
<p>2 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e516 d11316e481">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e526" headers="d11316e475">
<p>(D,E)</p>
</td>
<td class="cellalignment4156" headers="d11316e526 d11316e478">
<p>2 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e526 d11316e481">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e536" headers="d11316e475">
<p>(B,C,E)</p>
</td>
<td class="cellalignment4156" headers="d11316e536 d11316e478">
<p>2 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e536 d11316e481">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4155" id="d11316e546" headers="d11316e475">
<p>(B,D,E)</p>
</td>
<td class="cellalignment4156" headers="d11316e546 d11316e478">
<p>2 of 3</p>
</td>
<td class="cellalignment4157" headers="d11316e546 d11316e481">
<p>67%</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F__GUID-89501EF2-8719-4D42-8822-9835272105E6">
<p class="notep1">See Also:</p>
<p><span class="q">&#34; <a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" title="Learn how to calculate Association Rules using Apriori algorithm.">Apriori</a>&#34;</span> for information about the calculation of Association Rules</p>
</div>
</div>
</div>
<a id="DMCON288"></a><a id="DMCON289"></a><a id="DMCON290"></a><a id="DMCON287"></a>
<div class="props_rev_3"><a id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5"></a>
<h3 id="DMCON-GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" class="sect3">Example: Calculating Rules from Frequent Itemsets</h3>
<div>
<p>The following tables show the itemsets and frequent itemsets that were calculated in <span class="q">&#34;Association&#34;</span>. The frequent itemsets are the itemsets that occur with a minimum support of 67%; at least 2 of the 3 transactions must include the itemset.</p>
<div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBHGCEF">
<p class="titleintable">Table 10-3 Itemsets</p>
<table class="cellalignment4147" title="Itemsets" summary="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter.">
<thead>
<tr class="cellalignment4117">
<th class="cellalignment4148" id="d11316e602">Transaction</th>
<th class="cellalignment4149" id="d11316e605">Itemsets</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4117">
<td class="cellalignment4150" id="d11316e610" headers="d11316e602">
<p>11</p>
</td>
<td class="cellalignment4151" headers="d11316e610 d11316e605">
<p>(B,D) (B,E) (D,E) (B,D,E)</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4150" id="d11316e617" headers="d11316e602">
<p>12</p>
</td>
<td class="cellalignment4151" headers="d11316e617 d11316e605">
<p>(A,B) (A,C) (A,E) (B,C) (B,E) (C,E) (A,B,C) (A,B,E) (A,C,E) (B,C,E)</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4150" id="d11316e624" headers="d11316e602">
<p>13</p>
</td>
<td class="cellalignment4151" headers="d11316e624 d11316e605">
<p>(B,C) (B,D) (B,E) (C,D) (C,E) (D,E) (B,C,D) (B,C,E) (B,D,E) (C,D,E)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBCGCBA">
<p class="titleintable">Table 10-4 Frequent Itemsets with Minimum Support 67%</p>
<table class="cellalignment4147" title="Frequent Itemsets with Minimum Support 67%" summary="Sample set of frequent itemsets as shown in the chapter on Association">
<thead>
<tr class="cellalignment4117">
<th class="cellalignment4158" id="d11316e641">Itemset</th>
<th class="cellalignment4159" id="d11316e644">Transactions</th>
<th class="cellalignment4159" id="d11316e647">Support</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e652" headers="d11316e641">
<p>(B,C)</p>
</td>
<td class="cellalignment4161" headers="d11316e652 d11316e644">
<p>12 and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e652 d11316e647">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e662" headers="d11316e641">
<p>(B,D)</p>
</td>
<td class="cellalignment4161" headers="d11316e662 d11316e644">
<p>11 and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e662 d11316e647">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e672" headers="d11316e641">
<p>(B,E)</p>
</td>
<td class="cellalignment4161" headers="d11316e672 d11316e644">
<p>11, 12, and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e672 d11316e647">
<p>100%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e682" headers="d11316e641">
<p>(C,E)</p>
</td>
<td class="cellalignment4161" headers="d11316e682 d11316e644">
<p>12 and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e682 d11316e647">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e692" headers="d11316e641">
<p>(D,E)</p>
</td>
<td class="cellalignment4161" headers="d11316e692 d11316e644">
<p>11 and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e692 d11316e647">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e702" headers="d11316e641">
<p>(B,C,E)</p>
</td>
<td class="cellalignment4161" headers="d11316e702 d11316e644">
<p>12 and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e702 d11316e647">
<p>67%</p>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4160" id="d11316e712" headers="d11316e641">
<p>(B,D,E)</p>
</td>
<td class="cellalignment4161" headers="d11316e712 d11316e644">
<p>11 and 13</p>
</td>
<td class="cellalignment4161" headers="d11316e712 d11316e647">
<p>67%</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>A rule expresses a conditional probability. Confidence in a rule is calculated by dividing the probability of the items occurring together by the probability of the occurrence of the antecedent.</p>
<p>For example, if B (antecedent) is present, what is the chance that C (consequent) is also present? What is the confidence for the rule &#34;IF B, THEN C&#34;?</p>
<p>As shown in <a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBHGCEF" title="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter.">Table 10-3</a>:</p>
<ul style="list-style-type: disc;">
<li>
<p>All 3 transactions include B (3/3 or 100%)</p>
</li>
<li>
<p>Only 2 transactions include both B and C (2/3 or 67%)</p>
</li>
<li>
<p>Therefore, the confidence of the rule &#34;IF B, THEN C&#34; is 67/100 or 67%.</p>
</li>
</ul>
<p>The following table the rules that can be derived from the frequent itemsets in <a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBCGCBA" title="Sample set of frequent itemsets as shown in the chapter on Association">Table 10-4</a>.</p>
<div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BABBECFA">
<p class="titleintable">Table 10-5 Frequent Itemsets and Rules</p>
<table class="cellalignment4147" title="Frequent Itemsets and Rules" summary="This table lists the frequent itemsets with support &gt; 5% and the rules that are derived from each. The confidence is displayed for each rule.">
<thead>
<tr class="cellalignment4117">
<th class="cellalignment4162" id="d11316e761">Frequent Itemset</th>
<th class="cellalignment4163" id="d11316e764">Rules</th>
<th class="cellalignment4152" id="d11316e767">prob(antecedent and consequent) / prob(antecedent)</th>
<th class="cellalignment4164" id="d11316e770">Confidence</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e775" headers="d11316e761">
<p>(B,C)</p>
</td>
<td class="cellalignment4166" headers="d11316e775 d11316e764">
<ul class="simple">
<li>(If B then C)</li>
<li>(If C then B)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e775 d11316e767">
<ul class="simple">
<li>67/100</li>
<li>67/67</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e775 d11316e770">
<ul class="simple">
<li>67%</li>
<li>100%</li>
</ul>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e797" headers="d11316e761">
<p>(B,D)</p>
</td>
<td class="cellalignment4166" headers="d11316e797 d11316e764">
<ul class="simple">
<li>(If B then D)</li>
<li>(If D then B)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e797 d11316e767">
<ul class="simple">
<li>67/100</li>
<li>67/67</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e797 d11316e770">
<ul class="simple">
<li>67%</li>
<li>100%</li>
</ul>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e819" headers="d11316e761">
<p>(B,E)</p>
</td>
<td class="cellalignment4166" headers="d11316e819 d11316e764">
<ul class="simple">
<li>(If B then E)</li>
<li>(If E then B)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e819 d11316e767">
<ul class="simple">
<li>100/100</li>
<li>100/100</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e819 d11316e770">
<ul class="simple">
<li>100%</li>
<li>100%</li>
</ul>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e841" headers="d11316e761">
<p>(C,E)</p>
</td>
<td class="cellalignment4166" headers="d11316e841 d11316e764">
<ul class="simple">
<li>(If C then E)</li>
<li>(If E then C)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e841 d11316e767">
<ul class="simple">
<li>67/67</li>
<li>67/100</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e841 d11316e770">
<ul class="simple">
<li>100%</li>
<li>67%</li>
</ul>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e863" headers="d11316e761">
<p>(D,E)</p>
</td>
<td class="cellalignment4166" headers="d11316e863 d11316e764">
<ul class="simple">
<li>(If D then E)</li>
<li>I(f E then D)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e863 d11316e767">
<ul class="simple">
<li>67/67</li>
<li>67/100</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e863 d11316e770">
<ul class="simple">
<li>100%</li>
<li>67%</li>
</ul>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e885" headers="d11316e761">
<p>(B,C,E)</p>
</td>
<td class="cellalignment4166" headers="d11316e885 d11316e764">
<ul class="simple">
<li>(If B and C then E)</li>
<li>(If B and E then C)</li>
<li>(If C and E then B)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e885 d11316e767">
<ul class="simple">
<li>67/67</li>
<li>67/100</li>
<li>67/67</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e885 d11316e770">
<ul class="simple">
<li>100%</li>
<li>67%</li>
<li>100%</li>
</ul>
</td>
</tr>
<tr class="cellalignment4117">
<td class="cellalignment4165" id="d11316e913" headers="d11316e761">
<p>(B,D,E)</p>
</td>
<td class="cellalignment4166" headers="d11316e913 d11316e764">
<ul class="simple">
<li>(If B and D then E)</li>
<li>(If B and E then D)</li>
<li>(If D and E then B)</li>
</ul>
</td>
<td class="cellalignment4155" headers="d11316e913 d11316e767">
<ul class="simple">
<li>67/67</li>
<li>67/100</li>
<li>67/67</li>
</ul>
</td>
<td class="cellalignment4167" headers="d11316e913 d11316e770">
<ul class="simple">
<li>100%</li>
<li>67%</li>
<li>100%</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If the minimum confidence is 70%, ten rules are generated for these frequent itemsets. If the minimum confidence is 60%, sixteen rules are generated.</p>
<div class="infoboxnotealso" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__GUID-F72469C3-06A1-47B9-9D1F-E420F9B5C213">
<p class="notep1">Tip:</p>
<p>Increase the minimum confidence if you want to decrease the build time for the model and generate fewer rules.</p>
</div>
<div class="infoboxnotealso" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__GUID-C1F1435C-90DC-49E6-A921-28F013F46279">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C.htm#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="Learn how to discover Association Rules through Association - an unsupervised mining function.">Association</a>&#34;</span></p>
</div>
</div>
</div>
</div>
<a id="DMCON291"></a>
<div class="props_rev_3"><a id="GUID-376A915C-D473-46C5-B360-5DD9E4814645"></a>
<h2 id="DMCON-GUID-376A915C-D473-46C5-B360-5DD9E4814645" class="sect2">Evaluating Association Rules</h2>
<div>
<p>Minimum support and confidence are used to influence the build of an association model. Support and confidence are also the primary metrics for evaluating the quality of the rules generated by the model. Additionally, Oracle Data Mining supports lift for association rules. These statistical measures can be used to rank the rules and hence the usefulness of the predictions.</p>
</div>
<a id="DMCON292"></a>
<div class="props_rev_3"><a id="GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948"></a>
<h3 id="DMCON-GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948" class="sect3">Support</h3>
<div>
<p>The support of a <a id="d11316e995" class="indexterm-anchor"></a>rule indicates how frequently the items in the rule occur together. For example, cereal and milk might appear together in 40% of the transactions. If so, the following rules each have a support of 40%:</p>
<pre dir="ltr">cereal implies milk
milk implies cereal
</pre>
<p>Support is the ratio of transactions that include all the items in the antecedent and consequent to the number of total transactions.</p>
<p>Support can be expressed in probability notation as follows:</p>
<pre dir="ltr">support(A implies B) = P(A, B)
</pre></div>
</div>
<a id="DMCON293"></a>
<div class="props_rev_3"><a id="GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A"></a>
<h3 id="DMCON-GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A" class="sect3">Confidence</h3>
<div>
<p>The <a id="d11316e1028" class="indexterm-anchor"></a>confidence of a rule indicates the probability of both the antecedent and the consequent appearing in the same transaction. Confidence is the conditional probability of the consequent given the antecedent. For example, cereal appears in 50 transactions; 40 of the 50 might also include milk. The rule confidence is:</p>
<pre dir="ltr">cereal implies milk with 80% confidence
</pre>
<p>Confidence is the ratio of the rule support to the number of transactions that include the antecedent.</p>
<p>Confidence can be expressed in probability notation as follows.</p>
<pre dir="ltr">confidence (A implies B) = P (B/A), which is equal to P(A, B) / P(A)
</pre>
<div class="infoboxnotealso" id="GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A__GUID-191F0E83-6BC1-4A91-BE83-F77A5CFC9DED">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3">Confidence</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64.htm#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5">Example: Calculating Rules from Frequent Itemsets</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="DMCON294"></a>
<div class="props_rev_3"><a id="GUID-5099F398-2764-4323-8828-725FE9E63B26"></a>
<h3 id="DMCON-GUID-5099F398-2764-4323-8828-725FE9E63B26" class="sect3">Lift</h3>
<div>
<p>Both <a id="d11316e1074" class="indexterm-anchor"></a>support and confidence must be used to determine if a rule is valid. However, there are times when both of these measures may be high, and yet still produce a rule that is not useful. For example:</p>
<pre dir="ltr">Convenience store customers who buy orange juice also buy milk with 
a 75% confidence. 
The combination of milk and orange juice has a support of 30%.
</pre>
<p>This at first sounds like an excellent rule, and in most cases, it would be. It has high confidence and high support. However, what if convenience store customers in general buy milk 90% of the time? In that case, orange juice customers are actually <span class="italic">less</span> likely to buy milk than customers in general.</p>
<p>A third measure is needed to evaluate the quality of the rule. Lift indicates the strength of a rule over the random co-occurrence of the antecedent and the consequent, given their individual support. It provides information about the improvement, the increase in probability of the consequent given the antecedent. Lift is defined as follows.</p>
<pre dir="ltr">(Rule Support) /(Support(Antecedent) * Support(Consequent))
</pre>
<p>This can also be defined as the confidence of the combination of items divided by the support of the consequent. So in our milk example, assuming that 40% of the customers buy orange juice, the improvement would be:</p>
<pre dir="ltr">30% / (40% * 90%)
</pre>
<p>which is 0.83 &ndash; an improvement of less than 1.</p>
<p>Any rule with an improvement of less than 1 does not indicate a real cross-selling opportunity, no matter how high its support and confidence, because it actually offers less ability to predict a purchase than does random chance.</p>
<div class="infoboxnotealso" id="GUID-5099F398-2764-4323-8828-725FE9E63B26__GUID-87999053-3382-4CD3-AE34-965E2E416BA7">
<p class="notep1">Tip:</p>
<p>Decrease the maximum rule length if you want to decrease the build time for the model and generate simpler rules.</p>
</div>
<div class="infoboxnotealso" id="GUID-5099F398-2764-4323-8828-725FE9E63B26__GUID-1ADC29E6-622A-4684-AB2B-387137EDFB6D">
<p class="notep1">Tip:</p>
<p>Increase the minimum support if you want to decrease the build time for the model and generate fewer rules.</p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4116">
<tr>
<td class="cellalignment4123">
<table class="cellalignment4121">
<tr>
<td class="cellalignment4120"><a href="GUID-B901A29B-218C-4F37-91E0-AA94631364E3.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4120"><a href="GUID-14DE1A88-220F-44F0-9AC8-77CA844D4A63.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4125">
<table class="cellalignment4119">
<tr>
<td class="cellalignment4120"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4120"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4120"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4120"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4120"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4120"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
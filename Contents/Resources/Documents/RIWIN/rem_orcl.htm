<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-91943"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Removing%20Oracle%20Real%20Application%20Clusters%20Software"></a><title>Removing Oracle Real Application Clusters Software</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="If necessary, you can completely remove all Oracle databases, instances, and software from an Oracle Real Application Clusters (Oracle RAC) Oracle home directory."/>
<meta name="keywords" content="deinstallation, tasks, removing software, uninstalling software, software, uninstalling, Deinstallation Tool, removing, deinstallation tool, syntax, location of log files"/>
<meta name="dcterms.created" content="2017-07-05T02:28:48Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Installation Guide"/>
<meta name="dcterms.identifier" content="E49042-08"/>
<meta name="dcterms.isVersionOf" content="RIWIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="undrstnd.htm" title="Previous" type="text/html"/>
<link rel="Next" href="scripts.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49042-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B415372D-8D81-49D6-8AD5-DF78576F6453"></a> <span id="PAGE" style="display:none;">13/18</span> <!-- End Header -->
<h1 id="RIWIN-GUID-B415372D-8D81-49D6-8AD5-DF78576F6453" class="sect1"><span class="enumeration_chapter">7</span> Removing Oracle Real Application Clusters Software</h1>
<div>
<p>If necessary, you can completely remove all Oracle databases, instances, and software from an Oracle Real Application Clusters (Oracle RAC) Oracle home directory.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-46FE745E-4EA6-4C2D-80AB-2F41C49434BD">Overview of Deinstallation Procedures</a></strong><br/>
There are several tasks to perform when completely removing all Oracle databases, instances, and software from an Oracle home directory.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-CAA0944D-F69A-4A1B-B9FB-D0E19AAAA90F">Identifying All Instances On a Cluster</a></strong><br/>
You can identify the database instances on your cluster using either SRVCTL or the Windows Services control interface.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-F4BD55E5-EFA6-48CB-BA82-68B7C8D5D296">Removing Oracle RAC Software</a></strong><br/>
The deinstallation tool removes Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) from your server, and Oracle Database installations, for both Oracle RAC and single-instance databases.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-96C2DED9-E9FA-41EE-ACE5-F633BF1D3198">Cleaning Up After a Failed Installation</a></strong><br/>
If an installation fails, then you must remove the Oracle home directory and remove all files that Oracle Universal Installer (OUI) created during the attempted installation.</li>
</ul>
<div class="infoboxnotealso" id="GUID-B415372D-8D81-49D6-8AD5-DF78576F6453__GUID-B83A5C15-0F86-4CCC-AAB9-AEDAE8EBC7C3">
<p class="notep1">See Also:</p>
The product-specific documentation, for example <a class="olink NTCLI" target="_blank" href="../NTCLI/toc.htm"><span class="italic">Oracle Database Client Installation Guide for Microsoft Windows</span></a>, for information on removing a single product. Review the requirements and restrictions that apply for that product.</div>
</div>
<div class="sect2"><a id="GUID-46FE745E-4EA6-4C2D-80AB-2F41C49434BD"></a>
<h2 id="RIWIN-GUID-46FE745E-4EA6-4C2D-80AB-2F41C49434BD" class="sect2"><span class="enumeration_section">7.1</span> Overview of Deinstallation Procedures</h2>
<div>
<p>There are several tasks to perform when completely removing all Oracle databases, instances, and software from an Oracle home directory.</p>
<ul style="list-style-type: disc;">
<li>
<p>Identify all instances associated with the Oracle home</p>
</li>
<li>
<p>Shut down processes</p>
</li>
<li>
<p>Remove listeners installed in the Oracle Database home</p>
</li>
<li>
<p>Remove database instances</p>
</li>
<li>
<p>Remove Oracle Automatic Storage Management (Oracle ASM) release 11.1 or earlier</p>
</li>
<li>
<p>Remove Oracle Clusterware and Oracle ASM (Oracle Grid Infrastructure)</p>
</li>
</ul>
<div class="infobox-note" id="GUID-46FE745E-4EA6-4C2D-80AB-2F41C49434BD__GUID-782C6AEA-4F7E-4175-9A79-B8C69ABC1FC8">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>For information on removing Oracle Database Vault, see <a class="olink DVADM71073" target="_blank" href="../DVADM/dvca.htm#DVADM71073"><span class="italic">Oracle Database Vault Administrator&#39;s Guide</span></a>.</p>
</li>
<li>
<p>For information on removing Oracle Configuration Manager, see <span class="italic">Oracle Configuration Manager Installation and Administration Guide</span>.</p>
</li>
<li>
<p>With Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2) and later, Oracle ASM and Oracle Clusterware comprise the Oracle Grid Infrastructure installation. These components are installed and removed together.</p>
</li>
</ul>
</div>
<div class="infobox-note" id="GUID-46FE745E-4EA6-4C2D-80AB-2F41C49434BD__GUID-90EA0D64-16E0-4022-9858-B6D6B9E8C13E">
<p class="notep1">Caution:</p>
<p>If any cluster member node has more than one database with the same global database name (GDN) on a server, then you cannot use the deinstallation tool to remove only one database.</p>
<p>For example, if you have a standalone database on one of your cluster nodes with the GDN <code class="codeph">mydb.example.com</code>, and your Oracle RAC database GDN is also <code class="codeph">mydb.example.com</code>, then both databases on that node are removed by the deinstallation tool.</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-CAA0944D-F69A-4A1B-B9FB-D0E19AAAA90F"></a>
<h2 id="RIWIN-GUID-CAA0944D-F69A-4A1B-B9FB-D0E19AAAA90F" class="sect2"><span class="enumeration_section">7.2</span> Identifying All Instances On a Cluster</h2>
<div>
<p>You can identify the database instances on your cluster using either SRVCTL or the Windows Services control interface.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-F8F15E43-D1B8-466A-B499-AA4B47D3C4D7">Identifying All Instances On a Cluster Using SRVCTL</a></strong><br/>
You can use SRVCTL to identify all database instances associated with an Oracle home.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-6BC170A7-1B48-4665-8494-BAB6E97246C8">Identifying All Instances On a Cluster Using the Windows Services Control Manager</a></strong><br/>
You can use Windows Services Control Manager to identify all database instances and services associated with an Oracle home.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-F8F15E43-D1B8-466A-B499-AA4B47D3C4D7"></a>
<h3 id="RIWIN-GUID-F8F15E43-D1B8-466A-B499-AA4B47D3C4D7" class="sect3"><span class="enumeration_section">7.2.1</span> Identifying All Instances On a Cluster Using SRVCTL</h3>
<div>
<p>You can use SRVCTL to identify all database instances associated with an Oracle home.</p>
<ul>
<li class="stepexpand"><span>Enter the following command, where <span class="variable">dbname</span> is the name of the database:</span>
<div>
<pre dir="ltr">C:\..&gt; srvctl status database -db <span class="variable">dbname</span>
</pre></div>
</li>
</ul>
</div>
</div>
<div class="sect3"><a id="GUID-6BC170A7-1B48-4665-8494-BAB6E97246C8"></a>
<h3 id="RIWIN-GUID-6BC170A7-1B48-4665-8494-BAB6E97246C8" class="sect3"><span class="enumeration_section">7.2.2</span> Identifying All Instances On a Cluster Using the Windows Services Control Manager</h3>
<div>
<p>You can use Windows Services Control Manager to identify all database instances and services associated with an Oracle home.</p>
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in to a cluster node as a user with Administrator privileges.</span></li>
<li class="stepexpand"><span>Use the Windows Services Control Manager to locate the Oracle services related to the Oracle home.</span>
<div>Look for any Oracle services (their names begin with <code class="codeph">Ora</code>) that access the Oracle home you are removing and have the status <code class="codeph">Started</code>.
<p>To determine which Oracle home a service is associated with, check &#34;Path to Executable&#34; for a service to see the directory where the executable for the service is located.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-F4BD55E5-EFA6-48CB-BA82-68B7C8D5D296"></a>
<h2 id="RIWIN-GUID-F4BD55E5-EFA6-48CB-BA82-68B7C8D5D296" class="sect2"><span class="enumeration_section">7.3</span> Removing Oracle RAC Software</h2>
<div>
<p>The deinstallation tool removes Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) from your server, and Oracle Database installations, for both Oracle RAC and single-instance databases.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC">About the Deinstallation Tool</a></strong><br/>
The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A">Deinstallation Tool Command Reference</a></strong><br/>
You can use the deinstallation tool to remove Oracle software. You can run this command in standalone mode, from an Oracle home directory, or through the installer.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-680E6BCF-B277-4377-987A-4BE8C90D020F">Using the Deinstallation Tool to Remove Oracle RAC</a></strong><br/>
You can run the deinstallation tool in multiple ways.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-725F967F-8129-4B47-BFE3-3CB0CF5E02A7">Example Response File for Deinstall of Oracle RAC</a></strong><br/>
You can run the deinstallation tool on Oracle RAC Databases with the <code class="codeph">-paramfile</code> option to use the values you specify in the response file. The following is an example of a response file used with the deinstallation tool.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC"></a>
<h3 id="RIWIN-GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC" class="sect3"><span class="enumeration_section">7.3.1</span> About the Deinstallation Tool</h3>
<div>
<p>The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, the deinstallation tool is integrated with the database installation media. You can run the deinstallation tool using the <code class="codeph">setup.exe</code> command with the <code class="codeph">-deinstall</code> and <code class="codeph">-home</code> options from the base directory of the Oracle Database or Oracle Database Client installation media.</p>
<p>The deinstallation tool is also available as a separate command (<code class="codeph">deinstall.bat</code>) in Oracle home directories after installation. It is located in the <code>%ORACLE_HOME%\deinstall</code> directory.</p>
<p>The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system for a specific Oracle home. <span>If you run the deinstallation tool to remove an Oracle Grid Infrastructure for Windows installation, then the deinstaller automatically runs the appropriate scripts to deconfigure Oracle Grid Infrastructure or Oracle Grid Infrastructure for standalone server.</span></p>
<p>The deinstallation tool uses the information you provide, plus information gathered from the software home to create a response file. You can alternatively supply a response file generated previously by the <code class="codeph">deinstall.bat</code> command using the <code class="codeph">-checkonly</code> option and <code class="codeph">-o</code> option. You can also edit a response file template to create a response file.</p>
<div class="infobox-note" id="GUID-1EC0D00B-2C51-4A4E-BF0C-EEAE38B4D6DC__GUID-4AE639F0-B167-4888-813B-0F0CA8401DF4">
<p class="notep1">Note:</p>
You must run the deinstallation tool from the same release to remove Oracle software. Do not run the deinstallation tool from a later release to remove Oracle software from an earlier release. For example, do not run the deinstallation tool from the Oracle Database 12.1 installation media to remove Oracle software from an existing 11.2.0.4 Oracle home.</div>
<p>If the software in the Oracle home is not running (for example, after an unsuccessful installation), then the deinstallation tool cannot determine the configuration and you must provide all the configuration details either interactively or in a response file.</p>
</div>
</div>
<div class="sect3"><a id="GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A"></a>
<h3 id="RIWIN-GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A" class="sect3"><span class="enumeration_section">7.3.2</span> Deinstallation Tool Command Reference</h3>
<div>
<p>You can use the deinstallation tool to remove Oracle software. You can run this command in standalone mode, from an Oracle home directory, or through the installer.</p>
<div class="section">
<p class="subhead3">Purpose</p>
<p>The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">File Path</p>
<code>%ORACLE_HOME%\deinstall\deinstall</code></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Prerequisites</p>
<p>Before you run the deinstallation tool for Oracle Grid Infrastructure installations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Dismount Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and disable Oracle Automatic Storage Management Dynamic Volume Manager (Oracle ADVM).</p>
</li>
<li>
<p>If Grid Naming Service (GNS) is in use, then notify your DNS administrator to delete the subdomain entry from the DNS.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax When Using the deinstall.bat Program</p>
<pre dir="ltr"><span class="bold">deinstall.bat</span> [-silent] [-checkonly] [-local] 
 [-paramfile <span class="variable">complete path of input response file</span>] 
 [-params <span class="variable">name1</span>=<span class="variable">value</span> [<span class="variable">name2</span>=<span class="variable">value</span> . . .]] 
 [-o <span class="variable">complete path of directory for saving files</span>] 
 [-tmpdir <span class="variable">complete path of temporary directory to use</span>]
 [-logdir <span class="variable">complete path of log directory to use</span>] [-help]
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax When Using the setup.exe Program</p>
<pre dir="ltr"><span class="bold">setup.exe -deinstall -home <span class="variable">complete path of Oracle home</span></span>[-silent] [-checkonly] 
 [-local] [-paramfile <span class="variable">complete path of input response file</span>] 
 [-params <span class="variable">name1</span>=<span class="variable">value</span> [<span class="variable">name2</span>=<span class="variable">value</span> . . .]] 
 [-o <span class="variable">complete path of directory for saving files</span>] 
 [-tmpdir <span class="variable">complete path of temporary directory to use</span>]
 [-logdir <span class="variable">complete path of log directory to use</span>] [-help]
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Options</p>
<div class="tblformal" id="GUID-2DA596AC-76A9-49E5-A042-DCA184DDCA2A__GUID-64E26E4A-A765-4B30-BA2C-28CB3FAD21ED">
<p class="titleintable">Table 7-1 Options for the Deinstallation Tool</p>
<table class="cellalignment3272" title="Options for the Deinstallation Tool" summary="There are several options you can use with the deinstallation tool.">
<thead>
<tr class="cellalignment3266">
<th class="cellalignment3273" id="d16592e444">Command Option</th>
<th class="cellalignment3273" id="d16592e446">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e450" headers="d16592e444"><code class="codeph">home <span class="variable">complete path of Oracle home</span></code></td>
<td class="cellalignment3266" headers="d16592e450 d16592e446">
<p>Specify this option to indicate the home path of the Oracle home to check or deinstall. To deinstall Oracle software using the <code class="codeph">deinstall.bat</code> command located within the Oracle home being removed, provide a response file in a location outside the Oracle home, and do not use the <code class="codeph">-home</code> option.</p>
<p>If you run <code class="codeph">deinstall.bat</code> from the <code class="codeph">%ORACLE_HOME%\deinstall</code> path, then the <code class="codeph">-home</code> option is not required because the tool knows from which home it is being run. If you use the command <code class="codeph">setup.exe -deinstall</code> from the installation media, then the <code class="codeph">-home</code> option is mandatory.</p>
</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e482" headers="d16592e444"><code class="codeph">silent</code></td>
<td class="cellalignment3266" headers="d16592e482 d16592e446">Specify this option to run the deinstallation tool in noninteractive mode. This option requires one of the following:
<ul style="list-style-type: disc;">
<li>
<p>A working system that it can access to determine the installation and configuration information; the <code class="codeph">-silent</code> option does not work with failed installations.</p>
</li>
<li>
<p>A response file that contains the configuration values for the Oracle home that is being deinstalled or deconfigured.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e498" headers="d16592e444"><code class="codeph">checkonly</code></td>
<td class="cellalignment3266" headers="d16592e498 d16592e446">
<p>Specify this option to check the status of the Oracle software home configuration. Running the <code class="codeph">deinstall</code> command with the <code class="codeph">-checkonly</code> option does not remove the Oracle configuration. This option generates a response file that you can use with the <code class="codeph">deinstall.bat</code> command.</p>
<p>When you use the <code class="codeph">-checkonly</code> option to generate a response file, you are prompted to provide information about your system. You can accept the default value the tool has obtained from your Oracle installation, indicated inside brackets (<code class="codeph">[]</code>), or you can provide different values. To accept the defaults, press <kbd class="userinput">Enter</kbd> at each prompt.</p>
</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e525" headers="d16592e444"><code class="codeph">local</code></td>
<td class="cellalignment3266" headers="d16592e525 d16592e446">
<p>Specify this option on a multinode environment to deconfigure Oracle software in a cluster.</p>
<p>When you run <code class="codeph">deinstall.bat</code> with this option, it deconfigures and deinstalls the Oracle software only on the local node (the node on which you run <code class="codeph">deinstall.bat</code>) for non-shared Oracle home directories. The deinstallation tool does not deinstall or deconfigure Oracle software on remote nodes.</p>
</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e540" headers="d16592e444"><code class="codeph">paramfile <span class="variable">complete path of input response file</span></code></td>
<td class="cellalignment3266" headers="d16592e540 d16592e446">
<p>(Optional) You can specify this option to run <code class="codeph">deinstall.bat</code> with a response file in a location other than the default. When you use this option, provide the complete path where the response file is located. If you run the <code class="codeph">deinstall.bat</code> command from the Oracle home that you plan to deinstall, then you do not need to specify the <code class="codeph">-paramfile</code> option.</p>
<p>The default location of the response file depends on the location of the deinstallation tool:</p>
<ul style="list-style-type: disc;">
<li>
<p>From the installation media or stage location: <code><span class="variable">X:</span>\<span class="variable">staging_location</span>\deinstall\response</code></p>
</li>
<li>
<p>After installation, from the installed Oracle home: <code>%ORACLE_HOME%\deinstall\response</code>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e577" headers="d16592e444"><code class="codeph">params</code> <code class="codeph"><span class="variable">name1</span>=<span class="variable">value</span>[ <span class="variable">name2</span>=<span class="variable">value</span> <span class="variable">name3</span>=<span class="variable">value</span>...]</code></td>
<td class="cellalignment3266" headers="d16592e577 d16592e446">Use this option with a response file to override one or more values in a response file that you created.</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e604" headers="d16592e444"><code class="codeph">o <span class="variable">complete path of directory for saving response files</span></code></td>
<td class="cellalignment3266" headers="d16592e604 d16592e446">
<p>Use this option to provide a path other than the default location where the response file (<code>deinstall.rsp.tmpl</code>) is saved.</p>
<p>The default location of the response file depends on the invocation method of the deinstallation tool:</p>
<ul style="list-style-type: disc;">
<li>
<p>From the installation media or stage location: <code><span class="variable">stagelocation</span>\response</code></p>
</li>
<li>
<p>After installation, from the installed Oracle home: <code>%ORACLE_HOME%\deinstall\response</code>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e632" headers="d16592e444"><code class="codeph">tmpdir <span class="variable">complete path of temporary directory to use</span></code></td>
<td class="cellalignment3266" headers="d16592e632 d16592e446">Specifies a non-default location where the deinstallation tool writes the temporary files for the deinstallation.</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e640" headers="d16592e444"><code class="codeph">logdir <span class="variable">complete path of log directory to use</span></code></td>
<td class="cellalignment3266" headers="d16592e640 d16592e446">Specifies a non-default location where the deinstallation tool writes the log files for the deinstallation.</td>
</tr>
<tr class="cellalignment3266">
<td class="cellalignment3266" id="d16592e648" headers="d16592e444"><code class="codeph">help</code></td>
<td class="cellalignment3266" headers="d16592e648 d16592e446">Use the <code class="codeph">-help</code> option to obtain additional information about the deinstallation tool options.</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Location of Log Files for the Deinstallation Tool</p>
<p>If you use the <code class="codeph">deinstall.bat</code> command located in an Oracle home, then the deinstallation tool writes log files in the <code>C:\Program Files\Oracle\Inventory\logs</code> directory.</p>
<p>If you are using the <code class="codeph">deinstall.bat</code> command to remove the last Oracle home installed on the server, then the log files are written to the current user&rsquo;s home directory. For example, if you are logged in as the domain user <code class="codeph">RACDBA\dba1</code>, then the log files are stored in the directory <code>C:\Users\dba1.RACDBA\logs</code>.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-680E6BCF-B277-4377-987A-4BE8C90D020F"></a>
<h3 id="RIWIN-GUID-680E6BCF-B277-4377-987A-4BE8C90D020F" class="sect3"><span class="enumeration_section">7.3.3</span> Using the Deinstallation Tool to Remove Oracle RAC</h3>
<p>You can run the deinstallation tool in multiple ways.</p>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35">Running the Deinstallation Tool From an Oracle Home</a></strong><br/>
You can run the deinstallation tool from an Oracle home or from the software installation media.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65">Running the Deinstallation Tool Interactively From the Installer</a></strong><br/>
You can run the deinstallation tool from an Oracle home or from the software installation media.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-77613833-85CE-4030-9E69-98BE19EAB4A2">Running the Deinstallation Tool with a Response File</a></strong><br/>
The deinstallation tool uses the information you provide, plus information gathered from the software home to create a response file. You can alternatively supply a response file generated previously by the <code class="codeph">deinstall.bat</code> command using the <code class="codeph">&ndash;checkonly</code> option and <code class="codeph">-o</code> option. You can also edit a response file template to create a response file.</li>
<li class="ulchildlink"><strong><a href="rem_orcl.htm#GUID-99A4A18B-98D9-4C92-BF16-BE61BEAEE9A5">Generating a Response File For Use With the Deinstallation Tool</a></strong><br/>
You can generate the a response file by running the <code class="codeph">deinstall.bat</code> command with the <code class="codeph">-checkonly</code> and <code class="codeph">-o</code> options before you run the command to deinstall the Oracle home, or you can use the response file template and manually edit it to create the response file.</li>
</ul>
</div>
<div class="sect4"><a id="GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35"></a>
<h4 id="RIWIN-GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35" class="sect4"><span class="enumeration_section">7.3.3.1</span> Running the Deinstallation Tool From an Oracle Home</h4>
<div>
<p>You can run the deinstallation tool from an Oracle home or from the software installation media.</p>
<ol>
<li class="stepexpand"><span>The default method for running the deinstallation tool is from the <code>deinstall</code> directory in the Oracle home as the Oracle Installation user:</span>
<div><code>C:\&gt; %ORACLE_HOME%\deinstall\deinstall.bat</code></div>
</li>
<li class="stepexpand"><span>Provide information about your servers as prompted or accept the defaults.</span></li>
</ol>
<div class="section">The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</div>
<!-- class="section" -->
<div class="example" id="GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35__GUID-38E372F3-AE42-4BBB-B725-16B29B7F1BD3">
<p class="titleinexample">Example 7-1 Running <code class="codeph">deinstall.bat</code> From Within the Oracle Home</p>
<p>The most common method of running the deinstallation tool is to use the version installed in the Oracle home being removed. The deinstallation tool determines the software configuration for the local Oracle home, and then provides default values at each prompt. You can either accept the default value, or override it with a different value. If the software in the Oracle home is not running (for example, after an unsuccessful installation), then the deinstallation tool cannot determine the configuration, and you must provide all the configuration details either interactively or in a response file. To use the deinstallation tool located in the current Oracle home directory, issue the following commands while logged in as a member of the Administrators group:</p>
<pre dir="ltr">C:\&gt; app\oracle\product\12.1.0\dbhome_1\deinstall\deinstall.bat
</pre>
<p>Provide additional information as prompted.</p>
<div class="infobox-note" id="GUID-6DACB23F-B7AC-40DA-9885-CF0815193D35__GUID-9F26EC1E-2C30-44C1-A99A-219C5E638D75">
<p class="notep1">Note:</p>
When using the deinstallation tool from a location other than within the Oracle home being removed, you must specify the <code class="codeph">-home</code> option on the command line.</div>
</div>
<!-- class="example" --></div>
</div>
<div class="sect4"><a id="GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65"></a>
<h4 id="RIWIN-GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65" class="sect4"><span class="enumeration_section">7.3.3.2</span> Running the Deinstallation Tool Interactively From the Installer</h4>
<div>
<p>You can run the deinstallation tool from an Oracle home or from the software installation media.</p>
<ol>
<li><span>Use the <code class="codeph">setup.exe</code> command with the <code class="codeph">-deinstall</code> option, followed by the <code class="codeph">-home</code> option to specify the path of the Oracle home you want to remove</span></li>
<li><span>Provide information about your servers as prompted or accept the defaults.</span></li>
</ol>
<div class="section">The deinstallation tool stops Oracle software, and removes Oracle software and configuration files on the operating system.</div>
<!-- class="section" -->
<div class="example" id="GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65__GUID-23726394-A9A4-4F84-B32C-7DFACBCC9C79">
<p class="titleinexample">Example 7-2 Running the Deinstallation Tool from the Software Installation Media</p>
<p>If you run the deinstallation tool from the installer in the installation media, then when the <code class="codeph">deinstall.bat</code> command runs, it uses the information you provide to determine the system configuration and then provides default values at each prompt. You can either accept the default value, or override it with a different value. If the software in the specified Oracle home is not running (for example, after an unsuccessful install attempt), then the deinstallation tool cannot determine the configuration, and you must provide all the configuration details either interactively or in a response file.</p>
<p>For example, to remove the Oracle Database home <code class="codeph">dbhome_1</code> using the deinstallation tool started from the installer, use commands similar to the following while logged in as a member of the Administrator group, where <span class="variable">directory_path</span> is the path to the database directory on the installation media:</p>
<pre dir="ltr">C:\&gt; cd <span class="variable">directory_path</span> 
C:\..database&gt; setup.exe -deinstall -home C:\app\oracle\product\12.1.0\db_home1\
</pre>
<p>Provide additional information as prompted.</p>
<div class="infobox-note" id="GUID-6A64EBC7-0F98-4DAD-AF9B-EE629CBBFC65__GUID-094B4948-A85B-4158-A2F0-C00BD3EBEAF7">
<p class="notep1">Note:</p>
When using the deinstallation tool from a location other than within the Oracle home being removed, you must specify the <code class="codeph">-home</code> option on the command line.</div>
</div>
<!-- class="example" --></div>
</div>
<div class="sect4"><a id="GUID-77613833-85CE-4030-9E69-98BE19EAB4A2"></a>
<h4 id="RIWIN-GUID-77613833-85CE-4030-9E69-98BE19EAB4A2" class="sect4"><span class="enumeration_section">7.3.3.3</span> Running the Deinstallation Tool with a Response File</h4>
<div>
<p>The deinstallation tool uses the information you provide, plus information gathered from the software home to create a response file. You can alternatively supply a response file generated previously by the <code class="codeph">deinstall.bat</code> command using the <code class="codeph">&ndash;checkonly</code> option and <code class="codeph">-o</code> option. You can also edit a response file template to create a response file.</p>
<ul>
<li class="stepexpand"><span>To run the <code class="codeph">setup.exe</code> command located in the path <span class="variable">/directory_path</span>, where <span class="variable">directory_path</span> is the path to the database directory on the installation media, and use a response file in the software owner location <code class="codeph">C:\user\oracle</code>, enter the following commands while logged in as a member of the Administrators group:</span>
<div>
<pre dir="ltr">C:\&gt; cd <span class="variable">directory_path</span>\
C:\..database&gt; setup.exe -deinstall -paramfile C:\user\oracle\my_db_parmfile.tmpl
</pre></div>
</li>
</ul>
</div>
</div>
<div class="sect4"><a id="GUID-99A4A18B-98D9-4C92-BF16-BE61BEAEE9A5"></a>
<h4 id="RIWIN-GUID-99A4A18B-98D9-4C92-BF16-BE61BEAEE9A5" class="sect4"><span class="enumeration_section">7.3.3.4</span> Generating a Response File For Use With the Deinstallation Tool</h4>
<div>
<p>You can generate the a response file by running the <code class="codeph">deinstall.bat</code> command with the <code class="codeph">-checkonly</code> and <code class="codeph">-o</code> options before you run the command to deinstall the Oracle home, or you can use the response file template and manually edit it to create the response file.</p>
<div class="section">Alternatively, you can use the response file template located at <code>%ORACLE_HOME%\deinstall\response\deinstall.rsp.tmpl</code>.</div>
<!-- class="section" -->
<ul>
<li class="stepexpand"><span>To generate the response file <code>deinstall_dbhome_1.rsp</code> using the <code class="codeph">deinstall.bat</code> command located in the Oracle home and the <code class="codeph">-checkonly</code> option, enter a command similar to the following, where <code>C:\app\oracle\product\12.1.0\dbhome_1</code> is the location of the Oracle home and <code>C:\Users\oracle</code> is the directory in which the generated response file is created:</span>
<div>
<pre dir="ltr">C:\&gt; app\oracle\product\12.1.0\dbhome_1\deinstall\deinstall.bat -checkonly -o C:\Users\oracle\
</pre></div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-725F967F-8129-4B47-BFE3-3CB0CF5E02A7"></a>
<h3 id="RIWIN-GUID-725F967F-8129-4B47-BFE3-3CB0CF5E02A7" class="sect3"><span class="enumeration_section">7.3.4</span> Example Response File for Deinstall of Oracle RAC</h3>
<div>
<p>You can run the deinstallation tool on Oracle RAC Databases with the <code class="codeph">-paramfile</code> option to use the values you specify in the response file. The following is an example of a response file used with the deinstallation tool.</p>
<div class="example" id="GUID-725F967F-8129-4B47-BFE3-3CB0CF5E02A7__GUID-94D082C4-57FA-460D-B7D3-2AF6EEDC9847">
<p class="titleinexample">Example 7-3 Sample Response File to use with the Deinstallation Tool to Uninstall Oracle RAC</p>
<p>The following is an example of a response file created by the deinstallation tool. The response file contains the following information:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Oracle Home User is <code class="codeph">oracle</code></p>
</li>
<li>
<p>The Oracle Database home (Oracle home) is in the path <code class="codeph">C:\app\oracle\product\12.1.0\dbhome_1</code></p>
</li>
<li>
<p>The Oracle base is <code class="codeph">C:\app\oracle</code></p>
</li>
<li>
<p>The Oracle base is <code class="codeph">C:\app\oracle</code></p>
</li>
<li>
<p>The Oracle base is <code class="codeph">C:\app\oracle</code></p>
</li>
<li>
<p>The central Oracle Inventory home is <code class="codeph">C:\Program Files\Oracle\Inventory</code></p>
</li>
<li>
<p>The virtual IP address (VIP) is <code class="codeph">192.0.2.1</code></p>
</li>
<li>
<p>The name of the local node (the node on which you run the deinstallation tool) is <code class="codeph">node1</code></p>
</li>
<li>
<p>The name of the remote node is <code class="codeph">node2</code></p>
</li>
<li>
<p>The database name is <code class="codeph">orcl</code> and it is an Oracle RAC database</p>
</li>
<li>
<p>The database uses Oracle ASM for storage</p>
</li>
</ul>
<pre dir="ltr">#Copyright (c) 2005, 2010 Oracle Corporation. All rights reserved.
LOCAL_NODE=node1
HOME_TYPE=RACDB
ORACLE_BASE=C:\app\oracle
DB_TYPE.orcl=RAC_DB
silent=false
ORA_CRS_HOME=C:\app\12.1.0\grid\
LOGDIR=C:\Program Files\Oracle\Inventory\logs\
DATAFILE_LOC.orcl=
ORACLE_BINARY_OK=true
DUMP_DESTINATION_LOC.orcl=C:\app\oracle\admin\orcl
EMCP.DB_UNIQUE_NAME_LIST=orcl
CLUSTER_NODES=node1,node2
REMOTE_NODES=node2
SPFILE_LOC.orcl=+DATA/orcl/spfileorcl.ora
ARCHIVE_LOG_DESTINATION_LOC.orcl=
ORACLE_BASE.orcl=C:\app\oracle
LOCAL_SID.orcl=orcl1
local=false
INVENTORY_LOCATION=C:\Program Files\Oracle\Inventory
NODE_LIST.orcl=node1,node2
RAW_MAPPING_FILE.orcl=
DIAG_DEST.orcl=C:\APP\ORACLE\diag\rdbms\orcl
ORACLE_HOME=C:\app\oracle\product\12.1.0\dbhome_1\
STORAGE_TYPE.orcl=ASM
CCR_CONFIG_STATUS=CCR_DEL_HOME
CRS_HOME=false
EMCP.CHECK_POINT.orcl=WINDOWS_SERVICE_REGISTRY_CREATE,DBCONTROL_START
CONFIGFILE_LOC.orcl=+DATA/orcl/controlfile/current.260.712754807,C:\APP\ORACLE
 \PRODUCT\12.1.0\DBHOME_1\DATABASE\DR1ORCL.DAT,C:\APP\ORACLE\PRODUCT\12.1.0\
 DBHOME_1\DATABASE\DR2ORCL.DAT
SID_LIST.orcl=orcl1,orcl2
OLD_ACTIVE_ORACLE_HOME=
CREATION_MODE.orcl=y
COMPS_TO_REMOVE=ode.net.ntoledb,oramts
DB_UNIQUE_NAME_LIST=orcl
FLASH_RECOVERY_LOC.orcl=
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-96C2DED9-E9FA-41EE-ACE5-F633BF1D3198"></a>
<h2 id="RIWIN-GUID-96C2DED9-E9FA-41EE-ACE5-F633BF1D3198" class="sect2"><span class="enumeration_section">7.4</span> Cleaning Up After a Failed Installation</h2>
<div>
<p>If an installation fails, then you must remove the Oracle home directory and remove all files that Oracle Universal Installer (OUI) created during the attempted installation.</p>
<ol>
<li class="stepexpand"><span>Follow the instructions in <a href="rem_orcl.htm#GUID-B415372D-8D81-49D6-8AD5-DF78576F6453" title="If necessary, you can completely remove all Oracle databases, instances, and software from an Oracle Real Application Clusters (Oracle RAC) Oracle home directory.">Removing Oracle Real Application Clusters Software</a> to run OUI to deinstall Oracle RAC.</span></li>
<li class="stepexpand"><span>Manually remove the directory that was used as the Oracle home directory during the installation.</span></li>
<li class="stepexpand"><span>Remove the following Windows Registry keys created by OUI during the previous installation attempt:</span>
<div>
<pre dir="ltr">HKEY_LOCAL_MACHINE\SOFTWARE\ODBC\ODBCINST.INI
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Oracle12\Performance
 \KEY_ORACLE_HOME_NAME
</pre></div>
</li>
</ol>
<div class="section">
<p>After you have completed these steps, you can start the installation again.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3265">
<tr>
<td class="cellalignment3275">
<table class="cellalignment3270">
<tr>
<td class="cellalignment3269"><a href="undrstnd.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3269"><a href="scripts.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3277">
<table class="cellalignment3268">
<tr>
<td class="cellalignment3269"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3269"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3269"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3269"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3269"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3269"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
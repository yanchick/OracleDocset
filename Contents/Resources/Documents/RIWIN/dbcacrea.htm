<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-91931"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Creating%20Oracle%20RAC%20Databases%20with%20DBCA"></a><title>Creating Oracle RAC Databases with DBCA</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="This chapter describes how to use Database Configuration Assistant (DBCA) in standalone mode to create and delete Oracle Real Application Clusters (Oracle RAC) databases."/>
<meta name="keywords" content="Database Configuration Assistant (DBCA), using, Pluggable Databases, PDBs, Multitenant databases, benefits, templates, and DBCA, listeners, automatic migration from earlier releases, upgrades, of listeners, of existing Oracle databases, Database Upgrade Assistant (DBUA), creating Oracle Real Application Clusters database, after installation, creating Oracle RAC databases, using DBCA, sysasm privilege, storage tasks requiring, Oracle ASM, Change disk discovery path, candidate disks, and candidate disks, Oracle ASM Disk Groups page, Initialization Parameters page, CLUSTER_DATABASE_INSTANCES, initialization parameters, DB_NAME, DB_UNIQUE_NAME, installation, of additional products after installation is completed, Oracle RAC One Node, configuring non-CDBs using DBCA, administrator-managed databases, deleting databases, Oracle Real Application Clusters, databases, deleting, architectures, Optimal Flexible Architecture (OFA), Operations page, List of Cluster Databases page, Summary dialog"/>
<meta name="dcterms.created" content="2017-07-05T02:28:48Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Installation Guide"/>
<meta name="dcterms.identifier" content="E49042-08"/>
<meta name="dcterms.isVersionOf" content="RIWIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="racinstl.htm" title="Previous" type="text/html"/>
<link rel="Next" href="postinst.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49042-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B0D3349D-7887-47FA-8E9F-B04B76BC17D7"></a> <span id="PAGE" style="display:none;">9/18</span> <!-- End Header -->
<h1 id="RIWIN-GUID-B0D3349D-7887-47FA-8E9F-B04B76BC17D7" class="sect1"><span class="enumeration_chapter">3</span> Creating Oracle RAC Databases with DBCA</h1>
<div>
<p>This chapter describes how to use Database Configuration Assistant (DBCA) in standalone mode to create and delete Oracle Real Application Clusters (Oracle RAC) databases.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-A4B9826E-6556-409F-90A2-C857D5AEB5F2">Using DBCA with Oracle RAC or Oracle RAC One Node</a></strong><br/>
Oracle Database Configuration Assistant (DBCA) is a tool for creating and configuring an Oracle database.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-553EF9C3-B96A-4823-9D91-A948092CFF0D">Benefits of Using Database Configuration Assistant</a></strong><br/>
Oracle recommends that you use Oracle Database Configuration Assistant (DBCA) to create your Oracle RAC database, because preconfigured databases optimize your environment for features such as the server parameter file (SPFILE), and automatic undo management.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-332ABCE8-B71D-40AA-90E9-74B7389FE3A0">Automatic Listener Migration from Earlier Releases</a></strong><br/>
If your system has an Oracle Database 10<span class="italic">g</span> or 11<span class="italic">g</span> installation, and you install Oracle Database 12<span class="italic">c</span> Release 1 (12.1) either to coexist with or to upgrade the Oracle Database 10.1, 10.2, 11.1, or 11.2 installation, then most installation types automatically migrate the existing Oracle Database listener to the 12<span class="italic">c</span> Release 1 (12.1) Oracle home.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-09EE02A3-35A8-4210-97C2-6F45C8C4F680">Verifying Requirements for DBCA</a></strong><br/>
Use Cluster Verification Utility (CVU) to verify that your system is prepared for configuration changes.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-C9657119-EC6B-4E30-A586-F3B706F615F2">Creating an Oracle RAC Database with DBCA</a></strong><br/>
To create a database with DBCA, you must have run the Oracle Net Configuration Assistant (NETCA) to configure your Oracle Net <code class="codeph">listener.ora</code> file.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-6FC1FB6A-D73C-4520-8354-BE480281D3BA">Creating an Oracle RAC Database on Direct NFS</a></strong><br/>
There are different configuration processes you must perform when installing and create an Oracle RAC database that uses Direct NFS (dNFS) for the database files.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-735F402C-695C-46A9-80CE-43C9D07455D4">Using DBCA to Configure Oracle RAC One Node</a></strong><br/>
If you have selected to install only the Oracle RAC software on cluster nodes, then you can use Oracle Database Configuration Assistant (DBCA) to configure Oracle RAC One Node.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-4C168464-1368-4C31-B1C6-8325AFFF3280">Deleting an Oracle RAC Database Using DBCA</a></strong><br/>
Deleting an Oracle RAC database using Oracle Database Configuration Assistant (DBCA) involves deleting the database and database objects.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-ACF4148E-DDED-4643-B5B6-DDEBEBFCD22E">Configuring Services on Oracle RAC with CDBs</a></strong><br/>
During installation, if you select a multitenant container database (CDB), and configure pluggable databases (PDBs), then Oracle recommends that you add services to the PDBs after installation.</li>
</ul>
<div class="infoboxnotealso" id="GUID-B0D3349D-7887-47FA-8E9F-B04B76BC17D7__GUID-7375BD4F-9C26-44FF-B332-6A8AF509C181">
<p class="notep1">See Also:</p>
<a class="olink RACAD" target="_blank" href="../RACAD/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using DBCA to add and delete instances</div>
</div>
<div class="sect2"><a id="GUID-A4B9826E-6556-409F-90A2-C857D5AEB5F2"></a>
<h2 id="RIWIN-GUID-A4B9826E-6556-409F-90A2-C857D5AEB5F2" class="sect2"><span class="enumeration_section">3.1</span> Using DBCA with Oracle RAC or Oracle RAC One Node</h2>
<div>
<p>Oracle Database Configuration Assistant (DBCA) is a tool for creating and configuring an Oracle database.</p>
<p>DBCA has the following primary database functions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Create and delete databases</p>
</li>
<li>
<p>Create database templates</p>
</li>
<li>
<p>Create, plug, unplug, and delete pluggable databases (PDBs)</p>
</li>
<li>
<p>Add and delete database instances</p>
</li>
<li>
<p>Register databases in Oracle Enterprise Manager Cloud Control</p>
</li>
<li>
<p>Configure and register database options (such as Oracle Database Vault) with the Directory Server</p>
</li>
</ul>
<div class="infobox-note" id="GUID-A4B9826E-6556-409F-90A2-C857D5AEB5F2__GUID-3BC270D2-9454-4E0A-BCA4-5C81F64779F8">
<p class="notep1">Note:</p>
Cluster Managed Services are no longer managed through DBCA. Instead, use the Cluster Managed Services page in Oracle Enterprise Manager Cloud Control, if available, or SRVCTL. For more information, see <a class="olink RACAD849" target="_blank" href="../RACAD/GUID-2678C005-1B70-4B88-90E0-174A324F7DAA.htm#RACAD849"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a>.</div>
<div class="infoboxnotealso" id="GUID-A4B9826E-6556-409F-90A2-C857D5AEB5F2__GUID-4C1D8CC5-AF4D-4839-9790-9FCBFE4E0545">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink NETAG016" target="_blank" href="../NETAG/trouble.htm#NETAG016"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> to resolve problems&mdash;for example, with the listener configuration&mdash;and for more information about Lightweight Directory Access Protocol (LDAP)-compliant directory support</p>
</li>
<li>
<p><a class="olink TDPRC189" target="_blank" href="../TDPRC/adminrac.htm#TDPRC189"><span class="italic">Oracle Database 2 Day + Real Application Clusters Guide</span></a> for more information about using Oracle Enterprise Manager</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-553EF9C3-B96A-4823-9D91-A948092CFF0D"></a>
<h2 id="RIWIN-GUID-553EF9C3-B96A-4823-9D91-A948092CFF0D" class="sect2"><span class="enumeration_section">3.2</span> Benefits of Using Database Configuration Assistant</h2>
<div>
<p>Oracle recommends that you use Oracle Database Configuration Assistant (DBCA) to create your Oracle RAC database, because preconfigured databases optimize your environment for features such as the server parameter file (SPFILE), and automatic undo management.</p>
<p>DBCA enables you to create both policy-managed and administrator-managed databases. With DBCA, you can create site-specific tablespaces as part of database creation. If you have data file requirements that differ from those offered by DBCA templates, then create your database with DBCA and modify the data files later. You can also run user-specified scripts as part of your database creation process.</p>
<p>DBCA also configures your Oracle RAC environment for various Oracle high availability features, such as cluster administration tools. DBCA also starts any database instances required to support your defined configuration.</p>
<p>You can use DBCA to create a database from templates supplied by Oracle, or from templates that you create. The templates contain settings optimized for a particular type of workload.</p>
<p>Oracle ships templates for the following two workload types:</p>
<ul style="list-style-type: disc;">
<li>
<p>General purpose or transaction processing</p>
</li>
<li>
<p>Data warehouse</p>
</li>
</ul>
<p>For more complex environments, you can select the <span class="bold">Custom Database</span> option. This option does not use templates and results in a more extensive interview, which means that it takes longer to create your database.</p>
<p>Click <span class="bold">Show Details</span> to see the configuration for each type of database. Select the template suited to the type of workload your database will support. If you are not sure which to choose, then select the default <span class="bold">General Purpose or Transaction Processing</span> template.</p>
</div>
</div>
<div class="sect2"><a id="GUID-332ABCE8-B71D-40AA-90E9-74B7389FE3A0"></a>
<h2 id="RIWIN-GUID-332ABCE8-B71D-40AA-90E9-74B7389FE3A0" class="sect2"><span class="enumeration_section">3.3</span> Automatic Listener Migration from Earlier Releases</h2>
<div>
<p>If your system has an Oracle Database 10<span class="italic">g</span> or 11<span class="italic">g</span> installation, and you install Oracle Database 12<span class="italic">c</span> Release 1 (12.1) either to coexist with or to upgrade the Oracle Database 10.1, 10.2, 11.1, or 11.2 installation, then most installation types automatically migrate the existing Oracle Database listener to the 12<span class="italic">c</span> Release 1 (12.1) Oracle home.</p>
<p>During migration, the upgrade process configures and starts a default Oracle Net listener using the same TCP/IP port as the existing listener, with the IPC key value. During the Oracle Clusterware upgrade, the default listener (<code class="codeph">LISTENER_<span class="variable">NODENAME</span></code>) was migrated to the Oracle Grid Infrastructure home (Grid home). DBCA always uses the default listener.</p>
<p>The listener migration process stops the listener in the existing Oracle home, and restarts it in the new Oracle home. If the database was using the default listener (<code class="codeph">LISTENER_<span class="variable">NODENAME</span></code>), then Oracle Net Configuration Assistant (NETCA) migrates the listener automatically to the Grid home as part of the Oracle Grid Infrastructure upgrade. If the database was using a nondefault listener, then Database Upgrade Assistant (DBUA) migrates the nondefault listener to the Oracle Database home.</p>
<div class="infobox-note" id="GUID-332ABCE8-B71D-40AA-90E9-74B7389FE3A0__GUID-81A1A9C5-71BA-43BC-954B-EBC1ECBF373F">
<p class="notep1">Note:</p>
During migration, client applications might not be able to connect to any databases that are registered to the listener that is being migrated.</div>
</div>
</div>
<div class="sect2"><a id="GUID-09EE02A3-35A8-4210-97C2-6F45C8C4F680"></a>
<h2 id="RIWIN-GUID-09EE02A3-35A8-4210-97C2-6F45C8C4F680" class="sect2"><span class="enumeration_section">3.4</span> Verifying Requirements for DBCA</h2>
<div>
<p>Use Cluster Verification Utility (CVU) to verify that your system is prepared for configuration changes.</p>
<ul>
<li class="stepexpand"><span>Prior to using Database Configuration Assistant (DBCA) to change the database configuration, run Cluster Verification Utility (CVU) to verify that your system is prepared for configuration changes using the following command syntax:</span>
<div>
<pre dir="ltr"><span class="variable">Grid_home</span>\bin\cluvfy stage -pre dbcfg -n <span class="variable">node_list</span> -d <span class="variable">Oracle_home</span> [-verbose]
</pre></div>
<div>In the preceding syntax example, the variable <span class="variable">Grid_home</span> is the Oracle Grid Infrastructure home, the variable <span class="variable">node_list</span> is the list of nodes in your cluster, separated by commas, and the variable <span class="variable">Oracle_home</span> is the path for the Oracle home directory where OUI creates or modifies the database.
<p>You can select the option <code class="codeph">-verbose</code> to receive progress updates as CVU performs its system checks, and detailed reporting of the test results.</p>
</div>
</li>
</ul>
<div class="section">If the CVU summary indicates that the cluster verification check fails, then review and correct the relevant system configuration steps, and run the test again.</div>
<!-- class="section" -->
<div class="example" id="GUID-09EE02A3-35A8-4210-97C2-6F45C8C4F680__GUID-5C467A5D-9612-4C83-8CD7-9F66BB30DABB">
<p class="titleinexample">Example 3-1 Using CVU Prior to Verify Your System is Prepared for an Oracle RAC Installation</p>
<p>To verify that your system is prepared for an Oracle Database with Oracle RAC installation on a two-node cluster with nodes <code class="codeph">node1</code> and <code class="codeph">node2</code>, with the Grid home <code>C:\app\12.1.0\grid</code>, and with the Oracle home path <code>C:\app\oracle\product\12.1.0\dbhome_1</code>, enter the following command:</p>
<pre dir="ltr">C:\app\12.1.0\grid\bin&gt; cluvfy stage -pre dbcfg -n node1,node2 \
-d C:\app\oracle\product\12.1.0\dbhome_1
</pre></div>
<!-- class="example" --></div>
</div>
<div class="sect2"><a id="GUID-C9657119-EC6B-4E30-A586-F3B706F615F2"></a>
<h2 id="RIWIN-GUID-C9657119-EC6B-4E30-A586-F3B706F615F2" class="sect2"><span class="enumeration_section">3.5</span> Creating an Oracle RAC Database with DBCA</h2>
<div>
<p>To create a database with DBCA, you must have run the Oracle Net Configuration Assistant (NETCA) to configure your Oracle Net <code class="codeph">listener.ora</code> file.</p>
<p>You no longer need to set the operating system environment variables <code class="codeph">ORACLE_HOME</code> to the Oracle RAC database home, or <code class="codeph">ORACLE_UNQNAME</code> to the database unique name.</p>
<div class="infobox-note" id="GUID-C9657119-EC6B-4E30-A586-F3B706F615F2__GUID-B4CCEEC1-DC1C-499C-ADFE-555A5C9DE7BD">
<p class="notep1">Note:</p>
You can no longer set up email notification for Oracle RAC databases from either DBCA or OUI.</div>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-E4E9C7B0-F794-47B0-B4FA-BD5559709AC3">Tasks to Complete Before Using DBCA to Create an Oracle RAC Database</a></strong><br/>
Before you can create an Oracle RAC database using Oracle Database Configuration Assistant, you must configure your system to meet the software requirements, if this was not done as part of the Oracle Grid Infrastructure installation.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-A69BE1EF-ED01-46D2-8075-2B0779B4443F">Using DBCA to Create an Oracle RAC Database</a></strong><br/>
When using DBCA to create and configure an Oracle RAC database, there are a few screens to navigate and several actions performed.</li>
</ul>
</div>
<div class="sect3"><a id="GUID-E4E9C7B0-F794-47B0-B4FA-BD5559709AC3"></a>
<h3 id="RIWIN-GUID-E4E9C7B0-F794-47B0-B4FA-BD5559709AC3" class="sect3"><span class="enumeration_section">3.5.1</span> Tasks to Complete Before Using DBCA to Create an Oracle RAC Database</h3>
<div>
<p>Before you can create an Oracle RAC database using Oracle Database Configuration Assistant, you must configure your system to meet the software requirements, if this was not done as part of the Oracle Grid Infrastructure installation.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-2291C150-2F8D-4373-9363-7573AD1BB4D5">Decide on a Naming Convention to Use for Your Oracle RAC Database</a></strong><br/>
The global database name for an Oracle RAC database must meet the naming requirements. The global database name consists of the database name and the domain name.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-FC10D385-3F36-4FAA-B92B-8971AE8120EC">Configure Shared Storage for the Oracle RAC Database</a></strong><br/>
Before starting Oracle Database Configuration Assistant (DBCA) to configure an Oracle RAC database, you must install Oracle Grid Infrastructure for a cluster, and configure shared storage areas for Oracle RAC files.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-09AD0958-3B9F-410B-B7ED-5519626784C6">Obtain the Password for the Oracle Home User</a></strong><br/>
When you use Oracle Database Configuration Assistant to create an Oracle database or an Oracle RAC database, and specify an Oracle Home User during installation, then you need to enter the password for this user.</li>
</ul>
</div>
<div class="sect4"><a id="GUID-2291C150-2F8D-4373-9363-7573AD1BB4D5"></a>
<h4 id="RIWIN-GUID-2291C150-2F8D-4373-9363-7573AD1BB4D5" class="sect4"><span class="enumeration_section">3.5.1.1</span> Decide on a Naming Convention to Use for Your Oracle RAC Database</h4>
<div>
<p>The global database name for an Oracle RAC database must meet the naming requirements. The global database name consists of the database name and the domain name.</p>
<ol>
<li class="stepexpand"><span>Choose a name for your database that has the following characteristics:</span>
<ol>
<li><span>Up to 30 characters in length</span></li>
<li><span>Begins with an alphabetic character</span></li>
</ol>
</li>
<li class="stepexpand"><span>Determine the domain name portion of the global database name, that satisfies these requirements:</span>
<ol>
<li><span>Is up to 128 characters in length</span></li>
<li><span>Contains only alphabetic and numeric characters, and the period (.) character</span></li>
</ol>
</li>
<li class="stepexpand"><span>Determine the <code class="codeph">ORACLE_SID</code> values for each instance.</span>
<div>The maximum number of characters you can use for the SID prefix is 8 characters. Oracle Database Configuration Assistant uses the SID prefix to generate a unique value for the variable <code class="codeph">ORACLE_SID</code> for each instance. The SID prefix must begin with an alphabetic character.</div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-FC10D385-3F36-4FAA-B92B-8971AE8120EC"></a>
<h4 id="RIWIN-GUID-FC10D385-3F36-4FAA-B92B-8971AE8120EC" class="sect4"><span class="enumeration_section">3.5.1.2</span> Configure Shared Storage for the Oracle RAC Database</h4>
<div>
<p>Before starting Oracle Database Configuration Assistant (DBCA) to configure an Oracle RAC database, you must install Oracle Grid Infrastructure for a cluster, and configure shared storage areas for Oracle RAC files.</p>
<ol>
<li class="stepexpand"><span>Login as a user with SYSASM system privileges.</span>
<div>Storage administration tasks require the SYSASM system privileges, which are granted to members of the OSASM operating system group. This group may not be the same as the OSDBA group, whose members are granted the SYSDBA system privileges.</div>
</li>
<li class="stepexpand"><span>On Windows-based systems, if you plan to use Oracle ASM storage, then before you use DBCA to create a database, you must perform the following steps:</span>
<ol>
<li class="substepexpand"><span>Create logical partitions without primary partitions on the disk drives.</span></li>
<li class="substepexpand"><span>Delete the drive letters for these partitions on all nodes.</span>
<div>Alternatively, you can stamp these partitions with <code class="codeph">asmtool</code>.</div>
</li>
<li class="substepexpand"><span>After you have configured the disks to be used by Oracle ASM, you must create the disk groups that is used by the database.</span>
<div>You can create disk groups by using SQL*Plus, Oracle Enterprise Manager, or Oracle Automatic Storage Management Configuration Assistant (ASMCA).</div>
</li>
</ol>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-FC10D385-3F36-4FAA-B92B-8971AE8120EC__GUID-3E35D3D7-DBEA-4861-AF5F-D91E66A9798A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink NTDBI" target="_blank" href="../NTDBI/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a> for more information about <code class="codeph">asmtoolg</code></p>
</li>
<li>
<p><a class="olink CWGEN" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform more information on shared storage configuration requirements</p>
</li>
<li>
<p><a class="olink OSTMG10206" target="_blank" href="../OSTMG/GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C.htm#OSTMG10206"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about creating disk groups</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect4"><a id="GUID-09AD0958-3B9F-410B-B7ED-5519626784C6"></a>
<h4 id="RIWIN-GUID-09AD0958-3B9F-410B-B7ED-5519626784C6" class="sect4"><span class="enumeration_section">3.5.1.3</span> Obtain the Password for the Oracle Home User</h4>
<div>
<p>When you use Oracle Database Configuration Assistant to create an Oracle database or an Oracle RAC database, and specify an Oracle Home User during installation, then you need to enter the password for this user.</p>
<div class="section">Contact the user that installed the Oracle Database software and perform the following task:</div>
<!-- class="section" -->
<ul>
<li class="stepexpand"><span>Determine if an Oracle Home user was specified and if an Oracle Home user was specified, get the password specified for that user account.</span>
<div>
<div class="figure" id="GUID-09AD0958-3B9F-410B-B7ED-5519626784C6__GUID-34AA7993-8FE4-4A01-BDE7-223A92A9BDDF">
<p class="titleinfigure">Figure 3-1 Specifying the Password for the Oracle Home User</p>
<img width="801" height="599" src="img/GUID-0E0A32BF-FC80-4E16-8FDC-1CC4ABB694A0-default.jpg" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows"/><br/>
<a href="img_text/GUID-0E0A32BF-FC80-4E16-8FDC-1CC4ABB694A0-print.htm">Description of &#34;Figure 3-1 Specifying the Password for the Oracle Home User&#34;</a></div>
<!-- class="figure" --></div>
</li>
</ul>
<div class="section">
<div class="infoboxnotealso" id="GUID-09AD0958-3B9F-410B-B7ED-5519626784C6__GUID-4A78D7F5-FD5E-46A0-860A-12A9687DFA0C">
<p class="notep1">See Also:</p>
<a class="olink CWWIN124" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWWIN124"><span><cite>Oracle Grid Infrastructure Installation Guide for Microsoft Windows x64 (64-Bit)</cite></span></a> for more information about the Oracle Home user.</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect3"><a id="GUID-A69BE1EF-ED01-46D2-8075-2B0779B4443F"></a>
<h3 id="RIWIN-GUID-A69BE1EF-ED01-46D2-8075-2B0779B4443F" class="sect3"><span class="enumeration_section">3.5.2</span> Using DBCA to Create an Oracle RAC Database</h3>
<div>
<p>When using DBCA to create and configure an Oracle RAC database, there are a few screens to navigate and several actions performed.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-2076429C-9705-4480-8CA0-D8FB64126438">Starting DBCA</a></strong><br/>
You can either start the Oracle Database Configuration Assistant (DBCA) utility from the command line or from the Windows Start menu.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-A06B57F2-683C-4242-9D2E-80C7D21D5D18">Cluster Detection and Node Selection when Using DBCA</a></strong><br/>
When you start DBCA, it automatically shows options for Oracle RAC if it detects from the central Oracle Inventory that the Oracle Home is enabled for Oracle RAC.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-C4D94A42-E283-40E9-9CBE-610BAA6230E8">Using DBCA to Select Storage to Use With Oracle RAC Database</a></strong><br/>
You can choose to use either Oracle ASM Disk groups or a shared file system as storage for Oracle RAC database files.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-3756D2BE-0D36-4792-A76F-24A39AF01987">Using DBCA to Specify Database Initialization Parameters for Oracle RAC</a></strong><br/>
Set the <code class="codeph">CLUSTER_DATABASE_INSTANCES</code> parameter to the expected number of instances.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-5F9CC403-4FA8-4C53-8CEC-FBC443276261">Actions Performed By DBCA for Oracle RAC Databases</a></strong><br/>
Review this information to understand about Oracle Database Configuration Assistant (DBCA) actions during Oracle RAC database creation.</li>
</ul>
</div>
<div class="sect4"><a id="GUID-2076429C-9705-4480-8CA0-D8FB64126438"></a>
<h4 id="RIWIN-GUID-2076429C-9705-4480-8CA0-D8FB64126438" class="sect4"><span class="enumeration_section">3.5.2.1</span> Starting DBCA</h4>
<div>
<p>You can either start the Oracle Database Configuration Assistant (DBCA) utility from the command line or from the Windows Start menu.</p>
<div class="p">
<div class="infobox-note" id="GUID-2076429C-9705-4480-8CA0-D8FB64126438__GUID-2258EC4D-455E-4CCF-BB3C-6B3569BD3C7A">
<p class="notep1">Note:</p>
To run DBCA, you <span class="italic">do not</span> have to set operating system environment variables <code class="codeph">ORACLE_HOME</code> to the Oracle RAC database home, or <code class="codeph">ORACLE_UNQNAME</code> to the database unique name.</div>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in as an Administrator user.</span>
<div>The user must also be a member of <code class="codeph">ORA_DBA</code> or <code class="codeph">ORA_<span class="variable">Homename</span>_DBA</code> group and must also be a member of <code class="codeph">ORA_ASMDBA</code> if Oracle ASM is used as storage for the Oracle RAC database.</div>
<div>You are prompted to enter the password for the Oracle Home User if you are administering an Administrator-managed Oracle RAC database and chose not to store the password in an Oracle Wallet.</div>
</li>
<li class="stepexpand"><span>To start DBCA from the command line:</span>
<ol>
<li><span>Open a command prompt window.</span></li>
<li><span>Navigate to the <code><span class="variable">Oracle_home</span>\bin</code> directory.</span></li>
<li><span>Enter the command <code class="codeph">dbca</code>.</span></li>
</ol>
</li>
<li class="stepexpand"><span>To start DBCA from the Start menu:</span>
<ol>
<li><span>Click <span class="bold">Start</span>.</span></li>
<li><span>Select Programs.</span></li>
<li><span>Under Programs, select <span class="bold">Oracle - <span class="variable">Oracle_home name</span></span>.</span></li>
<li><span>Select <span class="bold">Configuration and Migration Tools</span>.</span></li>
<li><span>Select <span class="bold">Database Configuration Assistant</span>.</span></li>
</ol>
</li>
<li class="stepexpand"><span>After you have started DBCA, to create an Oracle RAC database, you select the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Create Database</span> on the Database Operation/Welcome page</p>
</li>
<li>
<p><span class="bold">Advanced Mode</span> on the Creation Mode page</p>
</li>
<li>
<p><span class="bold">Oracle RAC database</span> on the Database Template page</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4"><a id="GUID-A06B57F2-683C-4242-9D2E-80C7D21D5D18"></a>
<h4 id="RIWIN-GUID-A06B57F2-683C-4242-9D2E-80C7D21D5D18" class="sect4"><span class="enumeration_section">3.5.2.2</span> Cluster Detection and Node Selection when Using DBCA</h4>
<div>
<p>When you start DBCA, it automatically shows options for Oracle RAC if it detects from the central Oracle Inventory that the Oracle Home is enabled for Oracle RAC.</p>
<p>If DBCA does not detect the Oracle home as an Oracle RAC home, check that the OUI inventory is correctly located in the directory <code>C:\Program Files\Oracle\Inventory</code>, and that the <code class="codeph">oraInventory</code> file is not corrupted. Also, perform clusterware diagnostics by using the following CVU command syntax:</p>
<pre dir="ltr"><span class="variable">Grid_home</span>\bin\cluvfy\cluvfy.bat stage -post crsinst -n <span class="variable">nodelist</span>
</pre>
<p>When using DBCA, if nodes that are part of your cluster installation do not appear on the Node Selection page, then run the Opatch <code class="codeph">lsinventory</code> command to perform inventory diagnostics. Also use CVU to perform clusterware diagnostics.</p>
<div class="example" id="GUID-A06B57F2-683C-4242-9D2E-80C7D21D5D18__GUID-A49A00C8-B2EB-4CCF-9CC1-C2CE8465531E">
<p class="titleinexample">Example 3-2 Performing Clusterware Diagnostics If DCBA Fails To Detect A Two-Node Cluster</p>
<p>If the Grid Home is <code>D:\app\12.1.0\grid</code>, and the nodes are named <code class="codeph">node1</code> and <code class="codeph">node2</code>, then run the following command to perform clusterware diagnostics:</p>
<pre dir="ltr">D:\app\12.1.0\grid\bin&gt; cluvfy stage -post crsinst -n node1,node2
</pre></div>
<!-- class="example" --></div>
</div>
<div class="sect4"><a id="GUID-C4D94A42-E283-40E9-9CBE-610BAA6230E8"></a>
<h4 id="RIWIN-GUID-C4D94A42-E283-40E9-9CBE-610BAA6230E8" class="sect4"><span class="enumeration_section">3.5.2.3</span> Using DBCA to Select Storage to Use With Oracle RAC Database</h4>
<div>
<p>You can choose to use either Oracle ASM Disk groups or a shared file system as storage for Oracle RAC database files.</p>
<ul>
<li class="stepexpand"><span>On the Specify Database Storage Options page, if you do not see the diskgroups in Oracle Database Configuration Assistant (DBCA), then either Oracle ASM is not configured, or the diskgroups are not mounted.</span>
<div>You can create diskgroups using Oracle Automatic Storage Management Configuration Assistant (ASMCA) in the Grid Infrastructure home before starting DBCA.</div>
</li>
<li class="stepexpand"><span>If you are using Oracle ASM, then you can select the Fast Recovery Area and size on the Specify Database Storage Options page.</span>
<div>When using Oracle ASM, the Fast Recovery Area defaults to the Oracle ASM Disk Group.</div>
</li>
</ul>
</div>
</div>
<div class="sect4"><a id="GUID-3756D2BE-0D36-4792-A76F-24A39AF01987"></a>
<h4 id="RIWIN-GUID-3756D2BE-0D36-4792-A76F-24A39AF01987" class="sect4"><span class="enumeration_section">3.5.2.4</span> Using DBCA to Specify Database Initialization Parameters for Oracle RAC</h4>
<div>
<p>Set the <code class="codeph">CLUSTER_DATABASE_INSTANCES</code> parameter to the expected number of instances.</p>
<ol>
<li><span>On the Initialization Parameters page, if you intend to add more nodes in your cluster than you have during the current Oracle Database Configuration Assistant session, then click <span class="bold">All Initialization Parameters</span>, and change the parameter <code class="codeph">CLUSTER_DATABASE_INSTANCES</code> to the total number of nodes that you plan to add to the cluster.</span></li>
<li><span>In addition, if you click <span class="bold">All Initialization Parameters</span>, note that if your global database name is longer than 8 characters, then the database name value (in the <code class="codeph">DB_NAME</code> parameter) is truncated to the first 8 characters, and the <code class="codeph">DB_UNIQUE_NAME</code> parameter value is set to the global name.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-3756D2BE-0D36-4792-A76F-24A39AF01987__GUID-91D91D90-74F2-4A5D-B8B3-4225BCB01C64">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11099" target="_blank" href="../ADMIN/create.htm#ADMIN11099"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about initialization parameters</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect4"><a id="GUID-5F9CC403-4FA8-4C53-8CEC-FBC443276261"></a>
<h4 id="RIWIN-GUID-5F9CC403-4FA8-4C53-8CEC-FBC443276261" class="sect4"><span class="enumeration_section">3.5.2.5</span> Actions Performed By DBCA for Oracle RAC Databases</h4>
<div>
<p>Review this information to understand about Oracle Database Configuration Assistant (DBCA) actions during Oracle RAC database creation.</p>
<p>After you respond to DBCA prompts, review the Summary dialog information and click <span class="bold">OK</span>, DBCA performs several actions.</p>
<ul style="list-style-type: disc;">
<li>
<p>Creates an Oracle RAC database, and its instances</p>
</li>
<li>
<p>Creates the Oracle RAC data dictionary views</p>
</li>
<li>
<p>Starts the Oracle services if you are on a Windows-based platform</p>
</li>
<li>
<p>Starts the Oracle Clusterware high availability services</p>
</li>
<li>
<p>Starts the database instances across cluster nodes</p>
</li>
</ul>
<div class="infobox-note" id="GUID-5F9CC403-4FA8-4C53-8CEC-FBC443276261__GUID-7064059D-5BED-42C0-9761-2D9D5192CFFB">
<p class="notep1">Caution:</p>
<p>After you have created the Oracle RAC database, if you decide to install additional Oracle Database products in the Oracle RAC database you have created, then before you attempt to install the products, you must stop all processes running in the Oracle RAC database homes.</p>
<p>You must stop all processes running in the Oracle RAC homes so that Oracle Universal Installer can relink certain executables and libraries. Refer to <span class="q">&#34;<a href="procstop.htm#GUID-119656FD-4D68-4270-9F25-5BA40A95FEB4" title="You must stop all processes in an Oracle Real Application Clusters (Oracle RAC) database, in preparation for adding additional products to an existing database, or in preparation for patch updates.">Preparing to Upgrade an Existing Oracle RAC Database</a>&#34;</span> for additional information.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-6FC1FB6A-D73C-4520-8354-BE480281D3BA"></a>
<h2 id="RIWIN-GUID-6FC1FB6A-D73C-4520-8354-BE480281D3BA" class="sect2"><span class="enumeration_section">3.6</span> Creating an Oracle RAC Database on Direct NFS</h2>
<div>
<p>There are different configuration processes you must perform when installing and create an Oracle RAC database that uses Direct NFS (dNFS) for the database files.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-4C026ECC-5C0D-450C-B3AC-DA3A6B8DBCD6">Perform a Software-Only Installation of Oracle Database</a></strong><br/>
In a software-only installation you install the Oracle Database software but do not create a database as part of the installation process.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-217F76CA-0DAA-4E75-B463-123107EEC2C1">Use ASMCA to Configure an ACFS Mount Point</a></strong><br/>
Oracle Automatic Storage Management Configuration Assistant (ASMCA) enables you to create an Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point which is used in the &#34;common file location&#34; step of Oracle Database Configuration Assistant (DBCA).</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-4C5DC9AB-0580-4D2B-BA52-92FEA18578DF">Use DBCA to Create and Configure the Oracle RAC Database</a></strong><br/>
Use Oracle Database Configuration Assistant (DBCA) to create an Oracle Real Application Clusters (Oracle RAC) database that uses Direct NFS for datafile storage.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-FDE4EECB-D3E2-4AD5-9709-13D32A568C40">Enable and Configure Direct NFS</a></strong><br/>
You must manually enable the Direct NFS option after installing the Oracle Database software.</li>
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-2940A8AD-6547-451B-9FA0-B243580DB916">Use ASMCA to Remove the ACFS Mount Point</a></strong><br/>
Now you have configured the mount point using Direct NFS, you can remove the Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point using Oracle Automatic Storage Management Configuration Assistant (ASMCA).</li>
</ul>
</div>
<div class="sect3"><a id="GUID-4C026ECC-5C0D-450C-B3AC-DA3A6B8DBCD6"></a>
<h3 id="RIWIN-GUID-4C026ECC-5C0D-450C-B3AC-DA3A6B8DBCD6" class="sect3"><span class="enumeration_section">3.6.1</span> Perform a Software-Only Installation of Oracle Database</h3>
<div>
<p>In a software-only installation you install the Oracle Database software but do not create a database as part of the installation process.</p>
<ol>
<li><span>Start Oracle Universal Installer (OUI) by running <code class="codeph">setup.exe</code> from the software staging location.</span></li>
<li><span>On the Select Installation Option screen select <span class="bold">Install database software only</span>.</span></li>
<li><span>On the Grid Installation Options screen, select the product to install, for example &#34;Oracle Real Application Clusters database software installation.&#34;</span></li>
<li><span>Select the nodes on which you want to install the database software.</span></li>
<li><span>Choose the languages to use with the installed software.</span></li>
<li><span>Select the database edition to install. For Oracle RAC databases, you must choose Enterprise Edition.</span></li>
<li><span>Specify an Oracle Home user, or choose to use a Windows-built in user for the software installation owner.</span></li>
<li><span>On the Specify Installation Location screen, enter a path to the Oracle base directory and the software location (Oracle home directory).</span></li>
<li><span>On the Summary screen, verify your selections, then click <span class="bold">Install</span>.</span></li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-217F76CA-0DAA-4E75-B463-123107EEC2C1"></a>
<h3 id="RIWIN-GUID-217F76CA-0DAA-4E75-B463-123107EEC2C1" class="sect3"><span class="enumeration_section">3.6.2</span> Use ASMCA to Configure an ACFS Mount Point</h3>
<div>
<p>Oracle Automatic Storage Management Configuration Assistant (ASMCA) enables you to create an Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point which is used in the &#34;common file location&#34; step of Oracle Database Configuration Assistant (DBCA).</p>
<div class="p">When creating Oracle ACFS file systems on Windows, run ASMCA as a Windows domain user who is also an administrator of the computer.</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>From the <code><span class="variable">Grid_home</span>/bin</code> directory, run <code class="codeph">asmca.exe</code> to start the ASMCA.</span></li>
<li class="stepexpand"><span>Select the <span class="bold">Disk Groups</span> tab.</span></li>
<li class="stepexpand"><span>Right-click <span class="bold">Disk Group Name</span> and select <span class="bold">Create ACFS for Database use</span>.</span></li>
<li class="stepexpand"><span>In the Create ACFS for Database window specify the mount point location, volume name, and size, then click <span class="bold">OK</span>.</span>
<div>
<p>For example, you can specify the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Mount Point: <code>C:\oradatamnt</code></p>
</li>
<li>
<p>Volume Name: <code>dbnfs</code></p>
</li>
<li>
<p>Size (GB): <code>70</code></p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">OK</span> in the informational pop-up window that appears.</span>
<div>
<p>This window summarizes the actions performed by ASMCA.</p>
</div>
</li>
<li class="stepexpand"><span>Select the <span class="bold">ASM Cluster File Systems</span> tab.</span>
<div>
<p>The mount point you just created is displayed on this page.</p>
</div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-217F76CA-0DAA-4E75-B463-123107EEC2C1__GUID-0A968793-8244-4AD1-9217-28C450904C28">
<p class="notep1">See Also:</p>
<a class="olink OSTMG59100" target="_blank" href="../OSTMG/GUID-1331D69F-01F6-464F-BFBD-6263E9546AED.htm#OSTMG59100"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about creating an Oracle ACFS file system for database use</div>
</div>
<!-- class="section" --></div>
</div>
<div class="sect3"><a id="GUID-4C5DC9AB-0580-4D2B-BA52-92FEA18578DF"></a>
<h3 id="RIWIN-GUID-4C5DC9AB-0580-4D2B-BA52-92FEA18578DF" class="sect3"><span class="enumeration_section">3.6.3</span> Use DBCA to Create and Configure the Oracle RAC Database</h3>
<div>
<p>Use Oracle Database Configuration Assistant (DBCA) to create an Oracle Real Application Clusters (Oracle RAC) database that uses Direct NFS for datafile storage.</p>
<ol>
<li class="stepexpand"><span>From the <code><span class="variable">Oracle_home</span>\bin</code> directory, run <code class="codeph">dbca.exe</code> to start the Database Configuration Assistant.</span></li>
<li class="stepexpand"><span>On the Database Operation screen, select <span class="bold">Create Database</span>.</span></li>
<li class="stepexpand"><span>On the Creation Mode screen, select <span class="bold">Advanced Mode</span>.</span></li>
<li class="stepexpand"><span>On the Database Template screen, select <span class="bold">Oracle Real Application Clusters (RAC) database</span> for the Database Type.</span>
<div>For the Configuration Type, you can choose either Policy-Managed or Administrator-Managed. Select the template most appropriate for the type of database you want to create.</div>
</li>
<li class="stepexpand"><span>For the next four screen, make selections and provide information that best meet your business requirements.</span></li>
<li class="stepexpand"><span>Perform the following steps on the Storage Locations screen:</span>
<ol>
<li><span>Select <span class="bold">File System</span> for the Database files Storage type.</span></li>
<li><span>Select the option <span class="bold">Use Common Location for All Database Files</span>.</span></li>
<li><span>In the File location field, specify the location of the mount point you created in <span class="q">&#34;<a href="dbcacrea.htm#GUID-217F76CA-0DAA-4E75-B463-123107EEC2C1" title="Oracle Automatic Storage Management Configuration Assistant (ASMCA) enables you to create an Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point which is used in the &#34;common file location&#34; step of Oracle Database Configuration Assistant (DBCA).">Use ASMCA to Configure an ACFS Mount Point</a>&#34;</span> for example, <code>C:\oradatamnt</code>.</span></li>
</ol>
</li>
<li class="stepexpand"><span>On the Specify Database Options screen, choose any additional configuration you want for your database.</span></li>
<li class="stepexpand"><span>On the Initialization Parameters screen, use the default settings, or provide customized values for the initialization parameters.</span></li>
<li class="stepexpand"><span>On the Creation Options screen, select the option <span class="bold">Generate Database Creation Scripts</span>. Specify a destination directory for the script file, or use the default value.</span></li>
<li class="stepexpand"><span>After the Prerequisite checks complete, on the Summary screen, minimize the installation window. <span class="bold">DO NOT</span> click Finish at this point.</span></li>
<li class="stepexpand"><span>Enable the Direct NFS option as described in <span class="q">&#34;<a href="dbcacrea.htm#GUID-FDE4EECB-D3E2-4AD5-9709-13D32A568C40" title="You must manually enable the Direct NFS option after installing the Oracle Database software.">Enable and Configure Direct NFS</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Remove the virtual mount point you created with Oracle Automatic Storage Management Configuration Assistant (ASMCA), as described in <span class="q">&#34;<a href="dbcacrea.htm#GUID-2940A8AD-6547-451B-9FA0-B243580DB916" title="Now you have configured the mount point using Direct NFS, you can remove the Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point using Oracle Automatic Storage Management Configuration Assistant (ASMCA).">Use ASMCA to Remove the ACFS Mount Point</a>&#34;</span></span></li>
<li class="stepexpand"><span>Create all the directories needed locally on each node as well as on the NFS server.</span>
<div>For this example, you can create the following, where <code class="codeph">orcl</code> represents the database SID and <code class="codeph">pdb1</code> represents the Pluggable Database (PDB) name:
<ul style="list-style-type: disc;">
<li>
<p>On each node, create the directory <code>c:\oracle\oradatamnt\orcl\pdb1</code></p>
</li>
<li>
<p>On the NFS server, create the directory <code>/export/abcd/orcl/pdb1</code></p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Return to the DBCA window and click <span class="bold">Finish</span>.</span></li>
<li class="stepexpand"><span>Run the generated scripts on the cluster node to create the database.</span></li>
<li class="stepexpand"><span>Map a drive letter to a CIFS share on the NFS server that represents the location of the database files.</span>
<div>Use a command similar to the following:
<pre dir="ltr">NET USE * \\filer\vol0\orcl
</pre>
<p>After you complete this step, both Oracle and the Windows OS can access the location where the database files reside. Oracle is using DNFS, but the Windows OS uses CIFS to access the same location on the NFS server.</p>
</div>
</li>
<li class="stepexpand"><span>Verify Direct NFS is configured for the database.</span>
<ol>
<li class="substepexpand"><span>Start SQL*Plus.</span></li>
<li class="substepexpand"><span>Connect to the newly created database as a DBA user.</span></li>
<li class="substepexpand"><span>Run the following SQL command:</span>
<div>
<pre dir="ltr">SELECT * FROM v$dnfs_servers;
</pre></div>
</li>
</ol>
</li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-FDE4EECB-D3E2-4AD5-9709-13D32A568C40"></a>
<h3 id="RIWIN-GUID-FDE4EECB-D3E2-4AD5-9709-13D32A568C40" class="sect3"><span class="enumeration_section">3.6.4</span> Enable and Configure Direct NFS</h3>
<div>
<p>You must manually enable the Direct NFS option after installing the Oracle Database software.</p>
<ol>
<li class="stepexpand"><span>Run the program <code><span class="variable">Oracle_home</span>\bin\enable_dnfs.bat</code>.</span></li>
<li class="stepexpand"><span>Create an <code class="codeph">oranfstab</code> file.</span>
<div>See <a class="olink CWWIN329" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWWIN329"><span class="italic">Oracle Grid Infrastructure Installation Guide for Microsoft Windows x64 (64-Bit)</span></a> for details.</div>
</li>
</ol>
</div>
</div>
<div class="sect3"><a id="GUID-2940A8AD-6547-451B-9FA0-B243580DB916"></a>
<h3 id="RIWIN-GUID-2940A8AD-6547-451B-9FA0-B243580DB916" class="sect3"><span class="enumeration_section">3.6.5</span> Use ASMCA to Remove the ACFS Mount Point</h3>
<div>
<p>Now you have configured the mount point using Direct NFS, you can remove the Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point using Oracle Automatic Storage Management Configuration Assistant (ASMCA).</p>
<div class="p">When creating Oracle ACFS file systems on Windows, run ASMCA as a Windows domain user who is also an administrator of the computer.</div>
<!-- class="section" -->
<ol>
<li><span>From the <code><span class="variable">Grid_home</span>/bin</code> directory, run <code class="codeph">asmca.exe</code> to start the ASMCA.</span></li>
<li><span>Select the <span class="bold">ASM Cluster File System</span> tab.</span></li>
<li><span>Select the mount point created earlier (<code>C:\oradatamnt</code>), then click <span class="bold">Dismount All</span>.</span></li>
<li><span>Select the <span class="bold">Volumes</span> tab.</span></li>
<li><span>Right-click the mount point you created in <span class="q">&#34;<a href="dbcacrea.htm#GUID-217F76CA-0DAA-4E75-B463-123107EEC2C1" title="Oracle Automatic Storage Management Configuration Assistant (ASMCA) enables you to create an Oracle Automatic Storage Management Cluster File System (Oracle ACFS) mount point which is used in the &#34;common file location&#34; step of Oracle Database Configuration Assistant (DBCA).">Use ASMCA to Configure an ACFS Mount Point</a>&#34;</span> then select <span class="bold">Delete</span>.</span></li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-735F402C-695C-46A9-80CE-43C9D07455D4"></a>
<h2 id="RIWIN-GUID-735F402C-695C-46A9-80CE-43C9D07455D4" class="sect2"><span class="enumeration_section">3.7</span> Using DBCA to Configure Oracle RAC One Node</h2>
<div>
<p>If you have selected to install only the Oracle RAC software on cluster nodes, then you can use Oracle Database Configuration Assistant (DBCA) to configure Oracle RAC One Node.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="dbcacrea.htm#GUID-1806B34F-B686-4696-BB72-01FE3C818EC7">Using DBCA to Configure Non-CDBs</a></strong><br/>
You can use DBCA to create an Oracle RAC One Node database that is not a multi-tenant database.</li>
</ul>
<div class="infoboxnotealso" id="GUID-735F402C-695C-46A9-80CE-43C9D07455D4__GUID-CE8E7DA5-23C7-4604-B381-E7C7368F5963">
<p class="notep1">See Also:</p>
<p>Oracle Technology Network for more information about Oracle RAC One Node: <a href="http://www.oracle.com/technetwork/database/clustering/overview/" target="_blank">http://www.oracle.com/technetwork/database/clustering/overview/</a></p>
</div>
</div>
<div class="sect3"><a id="GUID-1806B34F-B686-4696-BB72-01FE3C818EC7"></a>
<h3 id="RIWIN-GUID-1806B34F-B686-4696-BB72-01FE3C818EC7" class="sect3"><span class="enumeration_section">3.7.1</span> Using DBCA to Configure Non-CDBs</h3>
<div>
<p>You can use DBCA to create an Oracle RAC One Node database that is not a multi-tenant database.</p>
<ol>
<li class="stepexpand"><span>After installation, start DBCA.</span></li>
<li class="stepexpand"><span>From the Database Operation page, select the option <span class="bold">Create Database</span>.</span></li>
<li class="stepexpand"><span>On the Creation Mode page, select <span class="bold">Advanced Mode</span>.</span></li>
<li class="stepexpand"><span>On the Database Template page, select <span class="bold">Oracle RAC One Node database</span>.</span></li>
<li class="stepexpand"><span>Select the nodes on which to deploy Oracle RAC One Node.</span>
<div>Selecting one node deploys Oracle RAC One Node on a single node. Oracle recommends that you select all nodes in the cluster to which you want Oracle RAC One Node to be able to fail over.
<p>If you select less than two nodes, or create server pools with a cardinality of 2 or more, then DBCA posts a warning message that the configuration you select will not support failover of the Oracle RAC One Node instance.</p>
<div class="infobox-note" id="GUID-1806B34F-B686-4696-BB72-01FE3C818EC7__GUID-56B7B5FC-8D67-4419-8DD5-4E4016DF1D1E">
<p class="notep1">Note:</p>
When you create an administrator-managed Oracle RAC One Node database, while the database is started on only one of the pool of nodes you installed the binaries, all the candidate servers are placed into the Generic server pool. If the servers are not already in Generic or Free, then this may result in stopping resources that run on candidate servers.</div>
</div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-1806B34F-B686-4696-BB72-01FE3C818EC7__GUID-EAC5FADE-3684-415D-8318-1D27EF3CE39F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CNCPT89248" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89248"><span class="italic">Oracle Database Concepts</span></a> for more information about PDBs</p>
</li>
<li>
<p><a class="olink RACAD7425" target="_blank" href="../RACAD/GUID-6BC01F04-C46F-47BD-9AAC-CFA88F3D5911.htm#RACAD7425"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about adding services</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<div class="sect2"><a id="GUID-4C168464-1368-4C31-B1C6-8325AFFF3280"></a>
<h2 id="RIWIN-GUID-4C168464-1368-4C31-B1C6-8325AFFF3280" class="sect2"><span class="enumeration_section">3.8</span> Deleting an Oracle RAC Database Using DBCA</h2>
<div>
<p>Deleting an Oracle RAC database using Oracle Database Configuration Assistant (DBCA) involves deleting the database and database objects.</p>
<div class="section">
<p>DBCA first deletes the database, and then removes the database&#39;s initialization parameter files, instances, Optimal Flexible Architecture (OFA) structure, and the Oracle network configuration for the database.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start DBCA on one of your cluster nodes.</span>
<div>See <span class="q">&#34;<a href="dbcacrea.htm#GUID-2076429C-9705-4480-8CA0-D8FB64126438" title="You can either start the Oracle Database Configuration Assistant (DBCA) utility from the command line or from the Windows Start menu.">Starting DBCA</a>&#34;</span>.</div>
<div>DBCA displays the Operations page, displaying different database deployment options.</div>
</li>
<li class="stepexpand"><span>Select <span class="bold">Delete a database</span>, and click <span class="bold">Next</span>.</span>
<div>DBCA displays a list of all Oracle RAC and single-instance databases running from the Oracle home where DBCA is run.</div>
</li>
<li class="stepexpand"><span>If your user ID and password are not operating-system authenticated, then the List of Cluster Databases page displays the user name and password fields. If these fields appear, then enter a user ID and password for a user account that has SYSDBA privileges.</span></li>
<li class="stepexpand"><span>Select the database to delete, and click <span class="bold">Finish</span>.</span>
<div>After you click Finish, DBCA displays a dialog box to confirm the database and instances that you have configured DBCA to delete.</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">OK</span> to begin the deletion of the database and its associated files, services, and environment settings, or click <span class="bold">Cancel</span> to stop the operation.</span></li>
</ol>
<div class="section">
<p>When you click <span class="bold">OK</span>, DBCA continues the operation and deletes all the associated instances for this database. DBCA also removes the parameter files and password files.</p>
<p>At this point, you have accomplished the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Deleted the selected Oracle RAC database from the cluster</p>
</li>
<li>
<p>Deleted the selected Oracle RAC Database Oracle services on Windows-based platforms</p>
</li>
<li>
<p>Deleted high availability services assigned to the Oracle RAC database</p>
</li>
<li>
<p>Deleted the Oracle Net configuration for the Oracle RAC database</p>
</li>
<li>
<p>Deconfigured Oracle Enterprise Manager for the Oracle RAC database</p>
</li>
<li>
<p>Deleted the OFA directory structure for that Oracle RAC database from the cluster</p>
</li>
<li>
<p>Deleted the Oracle RAC database data files</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-ACF4148E-DDED-4643-B5B6-DDEBEBFCD22E"></a>
<h2 id="RIWIN-GUID-ACF4148E-DDED-4643-B5B6-DDEBEBFCD22E" class="sect2"><span class="enumeration_section">3.9</span> Configuring Services on Oracle RAC with CDBs</h2>
<div>
<p>During installation, if you select a multitenant container database (CDB), and configure pluggable databases (PDBs), then Oracle recommends that you add services to the PDBs after installation.</p>
<div class="section">If you do not add services to PDBs, and then the Oracle RAC One Node CDB fails over to another node, or you manually relocate the CDB to another node, then by default, all PDBs associated with that CDB that do not have registered services are restarted in <code class="codeph">MOUNTED</code> state.
<p>PDBs are opened in Read Write mode after failover or relocation only after you have configured the PDBs to have associated services. If you have not associated services to PDBs, then the PDBs remains in <code class="codeph">MOUNTED</code> state when the CDB instance restarts.</p>
</div>
<!-- class="section" -->
<ul>
<li class="stepexpand"><span>Use the following <code class="codeph">srvctl</code> command syntax, where <span class="variable">cdbname</span> is the name of the CDB, <span class="variable">service_name</span> is the name of the service, and <span class="variable">pdbname</span> is the name of the PDB:</span>
<div>
<pre dir="ltr">srvctl add service -d <span class="variable">cdbname</span> -s <span class="variable">service_name</span> -pdb <span class="variable">pdbname</span>
</pre></div>
</li>
</ul>
<div class="section">
<p>After you add services to your PDBs, if you relocate the CDB with which the PDBs are associated, or the CDB fails over, then the PDBs associated with that CDB automatically open in <code class="codeph">Read Write</code> state.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3265">
<tr>
<td class="cellalignment3275">
<table class="cellalignment3270">
<tr>
<td class="cellalignment3269"><a href="racinstl.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3269"><a href="postinst.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3277">
<table class="cellalignment3268">
<tr>
<td class="cellalignment3269"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3269"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3269"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3269"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3269"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3269"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
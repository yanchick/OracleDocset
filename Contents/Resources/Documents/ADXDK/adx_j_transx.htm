<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-1662"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20the%20TransX%20Utility"></a><title>Using the TransX Utility</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="TransX Utility, XSL Transformation (XSLT) Processor for Java, XML Schema, processor for Java, how to run the sample program"/>
<meta name="dcterms.created" content="2016-12-08T13:58:19Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="XML Developer&#39;s Kit Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E54405-06"/>
<meta name="dcterms.isVersionOf" content="ADXDK"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="adx_j_xsu.htm" title="Previous" type="text/html"/>
<link rel="Next" href="adx_ref_dlf.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E54405-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-128933E9-4979-4C25-856F-395C06B064CC"></a> <span id="PAGE" style="display:none;">22/50</span> <!-- End Header -->
<a id="ADXDK1015"></a><a id="ADXDK1200"></a>
<h1 id="ADXDK-GUID-128933E9-4979-4C25-856F-395C06B064CC" class="sect1"><span class="enumeration_chapter">14</span> Using the TransX Utility</h1>
<div>
<p>This chapter explains how to use the TransX utility to transfer XML data to a database.</p>
<div class="section">
<p class="subhead1">Topics:</p>
</div>
<!-- class="section" -->
<ul style="list-style-type: disc;">
<li>
<p><a href="adx_j_transx.htm#GUID-A7BF0E32-7617-454A-A025-5CD9133BB724">Introduction to the TransX Utility</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-61FD3D63-9057-4354-91EE-399F45323EBD">Using the TransX Utility: Overview</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-45808D4D-64E2-49BD-BDDE-CDF323F48A86">Loading Data with the TransX Utility</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-128933E9-4979-4C25-856F-395C06B064CC__GUID-80111DB7-B447-4771-9060-DCEA25BA8988">
<p class="notep1">See Also:</p>
<p><a href="adx_ref_dlf.htm#GUID-6211A051-77B4-408F-94D9-199E1698B48C">Data Loading Format (DLF) Specification</a></p>
</div>
</div>
<a id="ADXDK19494"></a>
<div class="sect2"><a id="GUID-A7BF0E32-7617-454A-A025-5CD9133BB724"></a>
<h2 id="ADXDK-GUID-A7BF0E32-7617-454A-A025-5CD9133BB724" class="sect2"><span class="enumeration_section">14.1</span> Introduction to the TransX Utility</h2>
<div>
<p><a href="glossary.htm#GUID-D4A042EF-483A-44BF-A08B-480126BD3064"><span class="xrefglossterm">TransX Utility</span></a> lets you transfer XML data to a database. TransX is an application of <a href="glossary.htm#GUID-A564495D-ED7B-4F52-8FCA-944CF3BB274D"><span class="xrefglossterm">XML SQL Utility (XSU)</span></a> that loads translated seed data and messages into a database schema.</p>
<p>TransX is particularly useful when handling multilingual Extensible Markup Language (XML). You can use TransX to add data to a database in multiple languages. The utility does this:</p>
<ul style="list-style-type: disc;">
<li>
<p>Automatically manages the change variables, start sequences, and additional structured query language (SQL) statements that would otherwise require multiple inserts or sessions. Thus, translation vendors do not have to work with unfamiliar SQL and Procedural Language/Structured Query Language (PL/SQL) scripts.</p>
</li>
<li>
<p>Automates character encoding. Consequently, loading errors due to incorrect encoding are impossible if the data file conforms with the XML standard.</p>
</li>
<li>
<p>Reduces globalization costs by preparing strings to be translated, translating the strings, and loading them into the database.</p>
</li>
<li>
<p>Minimizes translation data format errors and accurately loads the translation contents into predetermined locations in the database. When the data is in a predefined format, the TransX utility validates it.</p>
</li>
<li>
<p>Eliminates syntax errors due to varying Globalization Support settings.</p>
</li>
<li>
<p>Does not require the <code>UNISTR</code> construct for every piece of <code>NCHAR</code> data.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-A7BF0E32-7617-454A-A025-5CD9133BB724__GUID-E309E96B-AD9D-4B41-BF9E-49EAFFEA2B68">
<p class="notep1">Note:</p>
<p>TransX runs as the authenticated user. Care must be taken to review data files and to load data files only from a trusted source.</p>
</div>
</div>
<a id="ADXDK19495"></a>
<div class="props_rev_3"><a id="GUID-68E20DD6-A679-4CC1-8113-DD7030EBDF07"></a>
<h3 id="ADXDK-GUID-68E20DD6-A679-4CC1-8113-DD7030EBDF07" class="sect3"><span class="enumeration_section">14.1.1</span> Prerequisites</h3>
<div>
<p>This chapter assumes that you are familiar with <a href="glossary.htm#GUID-A564495D-ED7B-4F52-8FCA-944CF3BB274D"><span class="xrefglossterm">XML SQL Utility (XSU)</span></a> because TransX is an application of XSU.</p>
<div class="infoboxnotealso" id="GUID-68E20DD6-A679-4CC1-8113-DD7030EBDF07__GUID-63FB2110-197D-446E-9886-A5678BC08D26">
<p class="notep1">See Also:</p>
<p><a href="adx_j_xsu.htm#GUID-4C9A3F2F-A2A7-4CBF-BCD4-FD667D559945">Using the XML SQL Utility</a></p>
</div>
</div>
</div>
<a id="ADXDK19496"></a>
<div class="props_rev_3"><a id="GUID-77321B0A-9B10-4205-ADBE-00594853DDF8"></a>
<h3 id="ADXDK-GUID-77321B0A-9B10-4205-ADBE-00594853DDF8" class="sect3"><span class="enumeration_section">14.1.2</span> TransX Utility Features</h3>
<div>
<p>This section describes these features of the TransX Utility:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adx_j_transx.htm#GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC">Simplified Multilingual Data Loading</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-69B648C1-AD0E-45DF-B95F-FF0EC0F65075">Simplified Data Format Support and Interface</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C">Additional TransX Utility Features</a></p>
</li>
</ul>
</div>
<a id="ADXDK19497"></a>
<div class="props_rev_3"><a id="GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC"></a>
<h4 id="ADXDK-GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC" class="sect4"><span class="enumeration_section">14.1.2.1</span> Simplified Multilingual Data Loading</h4>
<div>
<p>When inserting multilingual data or data translations into a database, or when encoding, each XML file requires validation. The traditional translation data loading method is to change the <code>NLS_LANG</code> environment variable setting when switching load files. This variable sets the language and territory used by the client application and the database server. It also sets the client character set, which is the character set for data entered or displayed by a client program.</p>
<p>In the traditional method, each load file is encoded in a character set suitable for its language, which is necessary because translations must be performed in the same file format&mdash;typically in a SQL script&mdash;as the original. The <code>NLS_LANG</code> setting changes as files are loaded to adapt to the character set that corresponds to the language. As well as consuming time, this approach is error-prone because the encoding metadata is separate from the data itself.</p>
<p>With the TransX utility you use an XML document with a predefined format called a data set. The data set contains the encoding information and the data so that you can transfer multilingual data without changing <code>NLS_LANG</code> settings. The TransX utility frees development and translation groups by maintaining the correct character set while loading XML data into the database.</p>
<div class="infoboxnotealso" id="GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC__GUID-49D0BD6A-E54C-40F4-9C15-B86D3B7D2136">
<p class="notep1">See Also:</p>
<p><a class="olink NLSPG003" target="_blank" href="../NLSPG/ch3globenv.htm#NLSPG003"><span class="italic">Oracle Database Globalization Support Guide</span></a> to learn about the <code>NLS_LANG</code> environment variable</p>
</div>
</div>
</div>
<a id="ADXDK19498"></a>
<div class="props_rev_3"><a id="GUID-69B648C1-AD0E-45DF-B95F-FF0EC0F65075"></a>
<h4 id="ADXDK-GUID-69B648C1-AD0E-45DF-B95F-FF0EC0F65075" class="sect4"><span class="enumeration_section">14.1.2.2</span> Simplified Data Format Support and Interface</h4>
<div>
<p>The TransX Utility provides a command-line interface and a programmable application programming interface (API). The utility complies with a data format defined to be the canonical method for the representation of seed data loaded into the database. The format is intuitive and simplified for use by translation groups. The format specification defines how translators can describe the data so that it is loaded in an expected way. You can represent the values in the data set with scalar values or expressions such as constants, sequences, and queries.</p>
</div>
</div>
<a id="ADXDK19500"></a><a id="ADXDK19499"></a>
<div class="props_rev_3"><a id="GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C"></a>
<h4 id="ADXDK-GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C" class="sect4"><span class="enumeration_section">14.1.2.3</span> Additional TransX Utility Features</h4>
<div>
<p><a href="adx_j_transx.htm#GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C__BHABGCFB" title="This table describes the TransX features.">Table 14-1</a> describes other useful TransX Utility features.</p>
<div class="tblformal" id="GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C__BHABGCFB">
<p class="titleintable">Table 14-1 TransX Utility Features</p>
<table class="cellalignment650" title="TransX Utility Features" summary="This table describes the TransX features.">
<thead>
<tr class="cellalignment644">
<th class="cellalignment678" id="d72969e674">Feature</th>
<th class="cellalignment686" id="d72969e677">TransX Utility . . .</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e682" headers="d72969e674">
<p>Command-line interface</p>
</td>
<td class="cellalignment687" headers="d72969e682 d72969e677">
<p>Provides easy-to-use commands.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e689" headers="d72969e674">
<p>User API</p>
</td>
<td class="cellalignment687" headers="d72969e689 d72969e677">
<p>Exposes a Java API.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e696" headers="d72969e674">
<p>Validation</p>
</td>
<td class="cellalignment687" headers="d72969e696 d72969e677">
<p>Validates the data format and reports errors.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e703" headers="d72969e674">
<p>White space handling</p>
</td>
<td class="cellalignment687" headers="d72969e703 d72969e677">
<p>Does not consider white space characters in the data set as significant unless otherwise specified in various granularity.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e710" headers="d72969e674">
<p>Unloading</p>
</td>
<td class="cellalignment687" headers="d72969e710 d72969e677">
<p>Exports the result into the standard data format based on an input query.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e717" headers="d72969e674">
<p>Intimacy with translation exchange format</p>
</td>
<td class="cellalignment687" headers="d72969e717 d72969e677">
<p>Enables transformation to and from translation exchange format.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment680" id="d72969e724" headers="d72969e674">
<p>Localized user interface</p>
</td>
<td class="cellalignment687" headers="d72969e724 d72969e677">
<p>Provides messages in many languages.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
</div>
<a id="ADXDK1016"></a><a id="ADXDK19501"></a>
<div class="props_rev_3"><a id="GUID-61FD3D63-9057-4354-91EE-399F45323EBD"></a>
<h2 id="ADXDK-GUID-61FD3D63-9057-4354-91EE-399F45323EBD" class="sect2"><span class="enumeration_section">14.2</span> Using the TransX Utility: Overview</h2>
<div>
<div class="section">
<p class="subhead2">Topics:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="adx_j_transx.htm#GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96">Using the TransX Utility: Basic Process</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC">Running the TransX Utility Demo Programs</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-4017FB7D-A705-4FC9-905B-37218432708F">Using the TransX Command-Line Utility</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="ADXDK19503"></a><a id="ADXDK19504"></a><a id="ADXDK19502"></a>
<div class="props_rev_3"><a id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96"></a>
<h3 id="ADXDK-GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96" class="sect3"><span class="enumeration_section">14.2.1</span> Using the TransX Utility: Basic Process</h3>
<div>
<div class="section">
<p>TransX is accessible through this API:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code>oracle.xml.transx.loader</code> class, which contains the <code>getLoader()</code> method to get a TransX instance</p>
</li>
<li>
<p><code>oracle.xml.transx.TransX</code> interface, which is the TransX API</p>
</li>
</ul>
<p><a href="adx_j_transx.htm#GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAFBGBA">Figure 14-1</a> shows the basic process for using the TransX API to transfer XML to a database.</p>
<div class="figure" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAFBGBA">
<p class="titleinfigure">Figure 14-1 Basic Process of a TransX Application</p>
<img width="489" height="324" src="img/GUID-14901482-4C84-4745-86A5-012F11147C7C-default.gif" alt="Description of Figure 14-1 follows" title="Description of Figure 14-1 follows"/><br/>
<a href="img_text/GUID-14901482-4C84-4745-86A5-012F11147C7C-print.htm">Description of &#34;Figure 14-1 Basic Process of a TransX Application&#34;</a></div>
<!-- class="figure" -->
<p>The basic process of a TransX application is:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create a TransX loader object. Instantiate the <code>TransX</code> class by invoking <code>getLoader()</code>:</span>
<div>
<pre dir="ltr">TransX  transx = loader.getLoader();
</pre></div>
</li>
<li class="stepexpand"><span>Start a data loading session by supplying database connection information using <code>TransX.open()</code>. You create a session by supplying the Java Database Connectivity (JDBC) connect string, database user name, and database password. You can create the connection in one of these ways:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Using the JDBC Oracle Call Interface (OCI) driver. The following code fragment shows this technique and connects with the supplied user name and password:</p>
<pre dir="ltr">transx.open( &#34;jdbc:oracle:oci8:@&#34;, <span class="italic">user</span>, <span class="italic">passwd</span> );
</pre></li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p>Using the JDBC thin driver. The thin driver is written in pure Java and can be called from any Java program. The following code fragment shows this technique and connects:</p>
<pre dir="ltr">transx.open( &#34;jdbc:oracle:thin:@//myhost:1521/myservicename&#34;, <span class="italic">user</span>,<span class="italic">passwd</span>); 
</pre>
<p>The thin driver requires the host name (<code>myhost</code>), port number (<code>1521</code>), and the service name (<code>myservicename</code>). The database must have an active Transmission Control Protocol/Internet Protocol (TCP/IP) listener.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__GUID-37040553-AFF7-4E9D-887F-919C11D17BBA">
<p class="notep1">Note:</p>
<p>If you are validating only your data format, you do not have to establish a database connection because the validation is performed by TransX. Thus, you can invoke the <code>TransX.validate()</code> method without a preceding <code>open()</code> invocation.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Configure the TransX loader. <a href="adx_j_transx.htm#GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAJJJAB" title="TransX configuration methods">Table 14-2</a> describes configuration methods.</span>
<div>
<div class="tblformal" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAJJJAB">
<p class="titleintable">Table 14-2 TransX Configuration Methods</p>
<table class="cellalignment685" title="TransX Configuration Methods" summary="TransX configuration methods">
<thead>
<tr class="cellalignment644">
<th class="cellalignment705" id="d72969e1020">Method</th>
<th class="cellalignment779" id="d72969e1023">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment707" id="d72969e1028" headers="d72969e1020">
<p><code>setLoadingMode()</code></p>
</td>
<td class="cellalignment780" headers="d72969e1028 d72969e1023">
<p>Sets the operation mode on duplicates. The mode determines TransX behavior when there are one or more existing rows in the database whose values in the key columns are the same as those in the data set to be loaded. You can specify the constants <code>EXCEPTION_ON_DUPLICATES</code>, <code>SKIP_DUPLICATES</code>, or <code>UPDATE_DUPLICATES</code> in class <code>oracle.xml.transx.LoadingMode</code>. By default the loader skips duplicates.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment707" id="d72969e1048" headers="d72969e1020">
<p><code>setNormalizeLangTag()</code></p>
</td>
<td class="cellalignment780" headers="d72969e1048 d72969e1023">
<p>Sets the case of language tag. By default the loader uses the style specified in the <code>normalize-langtag</code> attribute on Data Loading Format (DLF).</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment707" id="d72969e1059" headers="d72969e1020">
<p><code>setPreserveWhitespace()</code></p>
</td>
<td class="cellalignment780" headers="d72969e1059 d72969e1023">
<p>Specifies how the loader handles white space. The default is <code>FALSE</code>, which means that the loader ignores the type of white space characters in the data set and loads them as space characters. The loader treats consecutive white space characters in the data set as one space character.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment707" id="d72969e1070" headers="d72969e1020">
<p><code>setValidationMode()</code></p>
</td>
<td class="cellalignment780" headers="d72969e1070 d72969e1023">
<p>Sets the validation mode. The default is <code>TRUE</code>, which means that the loader performs validation of the data set format against the canonical schema definition on each <code>load()</code> invocation. The validation mode is disabled only if the data set has already been validated.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The following example specifies that the loader must skip duplicate rows and not validate the data set:</p>
<pre dir="ltr">transx.setLoadingMode( LoadingMode.SKIP_DUPLICATES ); 
transx.setValidationMode( false ); 
</pre></div>
</li>
<li class="stepexpand"><span>Load the data sets by invoking <code>TransX.load()</code>. The same JDBC connection is used during the iteration of the load operations. For example, load three data sets:</span>
<div>
<pre dir="ltr">String  datasrc[] = {&#34;data1.xml&#34;, &#34;data2.xml&#34;, &#34;data3.xml&#34;}; 
...
for ( int i = 0 ; i &lt; datasrc.length ; i++ ) 
{ 
  transx.load( datasrc[i] ); 
} 
</pre></div>
</li>
<li class="stepexpand"><span>Close the loading session by invoking <code>TransX.close()</code>. This method invocation closes the database connection:</span>
<div>
<pre dir="ltr">transx.close();
</pre>
<div class="infoboxnotealso" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__GUID-2D7C6694-091E-45AB-A466-E725EB142147">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink JJDEV01000" target="_blank" href="../JJDEV/chone.htm#JJDEV01000"><span class="italic">Oracle Database Java Developer&#39;s Guide</span></a> to learn about Oracle JDBC</p>
</li>
<li>
<p><a class="olink JAXML" target="_blank" href="../JAXML/toc.htm"><span class="italic">Oracle Database XML Java API Reference</span></a> to learn about <code>TransX</code> classes and methods</p>
</li>
</ul>
</div>
</div>
</li>
</ol>
</div>
</div>
<a id="ADXDK19506"></a><a id="ADXDK19505"></a>
<div class="props_rev_3"><a id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC"></a>
<h3 id="ADXDK-GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC" class="sect3"><span class="enumeration_section">14.2.2</span> Running the TransX Utility Demo Programs</h3>
<div>
<div class="section">
<p>Demo programs for the TransX utility are included in <code>$ORACLE_HOME/xdk/demo/java/transx</code>. <a href="adx_j_transx.htm#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__BHAJGJGF" title="File and Description are the Columns.">Table 14-3</a> describes the XML files and programs that you can use to test the utility.</p>
<div class="tblformal" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__BHAJGJGF">
<p class="titleintable">Table 14-3 TransX Utility Sample Files</p>
<table class="cellalignment650" title="TransX Utility Sample Files " summary="File and Description are the Columns.">
<thead>
<tr class="cellalignment644">
<th class="cellalignment704" id="d72969e1230">File</th>
<th class="cellalignment708" id="d72969e1233">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment706" id="d72969e1238" headers="d72969e1230">
<p><code>README</code></p>
</td>
<td class="cellalignment709" headers="d72969e1238 d72969e1233">
<p>A text file that describes how to set up the TransX demos.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment706" id="d72969e1246" headers="d72969e1230">
<p><code>emp-dlf.xml</code></p>
</td>
<td class="cellalignment709" headers="d72969e1246 d72969e1233">
<p>A sample output file. The following command generates a file <code>emp.xml</code> that contains all data in the table emp:</p>
<pre dir="ltr">transx -s &#34;jdbc:oracle:thin:@//myhost:1521/myservicename&#34; <span class="italic">user</span>
 -pw emp.xml emp
</pre>
<p>The <code>emp-dlf.xml</code> file must be identical to <code>emp.xml</code>.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment706" id="d72969e1270" headers="d72969e1230">
<p><code>txclean.sql</code></p>
</td>
<td class="cellalignment709" headers="d72969e1270 d72969e1233">
<p>A SQL file that drops the tables and sequences created for the demo.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment706" id="d72969e1278" headers="d72969e1230">
<p><code>txdemo1.java</code></p>
</td>
<td class="cellalignment709" headers="d72969e1278 d72969e1233">
<p>A sample Java application that creates a JDBC connection and loads three data sets into the database.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment706" id="d72969e1286" headers="d72969e1230">
<p><code>txdemo1.sql</code></p>
</td>
<td class="cellalignment709" headers="d72969e1286 d72969e1233">
<p>A SQL script that creates two tables and a sequence for use by the demo application.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment706" id="d72969e1294" headers="d72969e1230">
<p><code>txdemo1.xml</code></p>
</td>
<td class="cellalignment709" headers="d72969e1294 d72969e1233">
<p>A sample data set.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Documentation for how to compile and run the sample programs is located in the <code>README</code>. The basic steps are:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Change into the <code>$ORACLE_HOME/xdk/demo/java/transx</code> directory (UNIX) or <code>%ORACLE_HOME%\xdk\demo\java\transx</code> directory (Windows).</span></li>
<li class="stepexpand"><span>Make sure that your environment variables are set as described in <span class="q">&#34;<a href="adx_j_gs.htm#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720">Setting Up the XDK for Java Environment</a>.&#34;</span> Oracle recommends that you set the <code>$ORACLE_SID</code> (UNIX) or <code>%ORACLE_SID%</code> (Windows) environment variables to the default database.</span>
<div>
<div class="infobox-note" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__GUID-F1BFD4D9-945E-4D69-B524-7566A6E00737">
<p class="notep1">Note:</p>
<p>For security, do not expose passwords in command-line interfaces. If &#34;<code>-pw</code>&#34; is specified instead of the password in <code>TransX</code>, the user is prompted for the password [ <code>Enter password :</code> ]. When the user types the password, it is not echoed; instead, &#34;<code>*</code>&#34;s is printed in the command window.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Set up the sample database objects by executing <code>txdemo1.sql</code>. Connect to the database and run the <code>txdemo1.sql</code> script:</span>
<div>
<pre dir="ltr">@txdemo1
</pre></div>
</li>
<li class="stepexpand"><span>Run the TransX utility from the command line. This example shows how to connect with the Java thin driver, where your host is <code>myhost</code>, your port is <code>1521</code>, and your service name is <code>myservicename</code>. Enter the user name where the token <span class="italic"><code>user</code></span> appears. You can execute this command to load data set <code>txdemo1.xml</code>:</span>
<div>
<pre dir="ltr">transx &#34;jdbc:oracle:thin:@//myhost:1521/myservicename&#34; <span class="italic">user</span> -pw txdemo1.xml
</pre>
<p>When the operation is successful, nothing is printed out on your terminal.</p>
</div>
</li>
<li class="stepexpand" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGDGJFI"><span>Query the database to determine whether the load was successful. For example:</span>
<div>
<pre dir="ltr">SELECT * FROM i18n_messages;
</pre></div>
</li>
<li class="stepexpand" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGHJHGE"><span>Drop the demo objects to prepare for another test. Connect to the database and run the <code>txclean.sql</code> script:</span>
<div>
<pre dir="ltr">@txclean
</pre></div>
</li>
<li class="stepexpand"><span>Compile the Java demo program. For example:</span>
<div>
<pre dir="ltr">javac txdemo1.java
</pre></div>
</li>
<li class="stepexpand"><span>Run the Java program, using the same JDBC and database connection data that you used when invoking the command-line interface. For example:</span>
<div>
<pre dir="ltr">java txdemo1 &#34;jdbc:oracle:thin:@//myhost:1521/myservicename&#34; <span class="italic">user</span> -pw\
              txdemo1.xml
</pre>
<p>Perform the same query test (Step&nbsp;<a href="adx_j_transx.htm#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGDGJFI">5</a>) and cleanup operation (Step&nbsp;<a href="adx_j_transx.htm#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGHJHGE">6</a>) as before.</p>
</div>
</li>
<li class="stepexpand"><span>Run the TransX Utility to unload data into the predefined XML format. For example:</span>
<div>
<pre dir="ltr">transx -s &#34;jdbc:oracle:thin:@//myhost:1521/myservicename&#34; <span class="italic">user</span> -pw emp.xml emp
</pre>
<p>Compare the data in <code>emp.xml</code> with <code>emp-dlf.xml</code>.</p>
<div class="infobox-note" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__GUID-DCFEF323-A74E-4B70-B26B-84FC3DDAFDE7">
<p class="notep1">Note:</p>
<p>For simplicity in demonstrating this feature, this example does not perform the password management techniques that a deployed system normally uses. In a production environment, follow the Oracle Database password management guidelines, and disable any sample accounts. See <a class="olink DBSEG50053" target="_blank" href="../DBSEG/app_devs.htm#DBSEG50053"><span class="italic">Oracle Database Security Guide</span></a> for password management guidelines and other security recommendations.</p>
</div>
</div>
</li>
</ol>
</div>
</div>
<a id="ADXDK19507"></a>
<div class="props_rev_3"><a id="GUID-4017FB7D-A705-4FC9-905B-37218432708F"></a>
<h3 id="ADXDK-GUID-4017FB7D-A705-4FC9-905B-37218432708F" class="sect3"><span class="enumeration_section">14.2.3</span> Using the TransX Command-Line Utility</h3>
<div>
<div class="section">
<p>TransX utility is packaged with Oracle Database. By default, the Oracle Universal Installer installs the utility on disk. As explained in <span class="q">&#34;<a href="adx_j_gs.htm#GUID-D26168D9-2F21-4B5A-9F7B-F1D4B66F0EB4">XDK for Java Component Dependencies</a>,&#34;</span> the TransX library is <code>$ORACLE_HOME/lib/xml.jar</code> (UNIX) and <code>%ORACLE_HOME%\lib\xml.jar</code> (Windows).</p>
<p>You can run the TransX utility from the operating system command line with this syntax:</p>
<pre dir="ltr">java oracle.xml.transx.loader
</pre>
<p>Oracle XML Developer&#39;s Kit (XDK) includes a script version of TransX named <code>$ORACLE_HOME/bin/transx</code> (UNIX) and <code>%ORACLE_HOME%\bin\transx.bat</code> (Windows). Assuming that your <code>PATH</code> variable is set correctly, you can run TransX:</p>
<pre dir="ltr">transx <span class="italic">options</span> <span class="italic">parameters</span>
transx.bat <span class="italic">options</span> <span class="italic">parameters</span>
</pre>
<p>For example, this command shows valid syntax:</p>
<pre dir="ltr">transx -s &#34;jdbc:oracle:thin:@//myhost:1521/myservicename&#34; <span class="italic">user</span> -pw emp.xml emp
</pre></div>
<!-- class="section" --></div>
<a id="ADXDK19509"></a><a id="ADXDK19508"></a>
<div class="props_rev_3"><a id="GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E"></a>
<h4 id="ADXDK-GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E" class="sect4"><span class="enumeration_section">14.2.3.1</span> TransX Utility Command-Line Options</h4>
<div>
<p><a href="adx_j_transx.htm#GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__g1013647" title="Option, Meaning, and Description are the column names.">Table 14-4</a> describes the options for the TransX Utility.</p>
<div class="tblformal" id="GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__g1013647">
<p class="titleintable">Table 14-4 TransX Utility Command-Line Options</p>
<table class="cellalignment650" title="TransX Utility Command-Line Options " summary="Option, Meaning, and Description are the column names.">
<thead>
<tr class="cellalignment644">
<th class="cellalignment783" id="d72969e1675">Option</th>
<th class="cellalignment662" id="d72969e1678">Meaning</th>
<th class="cellalignment784" id="d72969e1681">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1686" headers="d72969e1675">
<pre dir="ltr">-u 
</pre></td>
<td class="cellalignment664" headers="d72969e1686 d72969e1678">
<p>Update existing rows.</p>
</td>
<td class="cellalignment786" headers="d72969e1686 d72969e1681">
<p>Does not skip existing rows but updates them. To exclude a column from the update operation, set the <code>useforupdate</code> attribute to <code>no</code>.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1704" headers="d72969e1675">
<pre dir="ltr">-e 
</pre></td>
<td class="cellalignment664" headers="d72969e1704 d72969e1678">
<p>Raise exception if a given row already exists in the database.</p>
</td>
<td class="cellalignment786" headers="d72969e1704 d72969e1681">
<p>Raises an exception if a duplicate row is found. By default, TransX skips duplicate rows. Rows are considered duplicate if the values for lookup-key column(s) in the database and the data set are the same.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1715" headers="d72969e1675">
<pre dir="ltr">-x 
</pre></td>
<td class="cellalignment664" headers="d72969e1715 d72969e1678">
<p>Print database data in the predefined format.</p>
</td>
<td class="cellalignment786" headers="d72969e1715 d72969e1681">
<p>Similar to the <code>-s</code> option, it causes the utility to perform the opposite operation of loading. Unlike the <code>-s</code> option, it prints to <code>stdout</code>. Redirecting this output to a file is discouraged because intervention of the operating system may cause data loss due to unexpected transcoding.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1736" headers="d72969e1675">
<p><code>-s</code></p>
</td>
<td class="cellalignment664" headers="d72969e1736 d72969e1678">
<p>Save database data to a file in the predefined format.</p>
</td>
<td class="cellalignment786" headers="d72969e1736 d72969e1681">
<p>Performs unloading. TransX Utility queries the database, formats the result into the predefined XML format, and stores it under the specified file name.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1748" headers="d72969e1675">
<p><code>-p</code></p>
</td>
<td class="cellalignment664" headers="d72969e1748 d72969e1678">
<p>Print the XML to load.</p>
</td>
<td class="cellalignment786" headers="d72969e1748 d72969e1681">
<p>Prints out the data set for insert in the canonical format of XSU.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1760" headers="d72969e1675">
<p><code>-t</code></p>
</td>
<td class="cellalignment664" headers="d72969e1760 d72969e1678">
<p>Print the XML for update.</p>
</td>
<td class="cellalignment786" headers="d72969e1760 d72969e1681">
<p>Prints out the data set for update in the canonical format of XSU.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1772" headers="d72969e1675">
<p><code>-o</code></p>
</td>
<td class="cellalignment664" headers="d72969e1772 d72969e1678">
<p>Omit validation (as the data set is parsed it is validated by default).</p>
</td>
<td class="cellalignment786" headers="d72969e1772 d72969e1681">
<p>Causes TransX Utility to skip the format validation, which is performed by default.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1784" headers="d72969e1675">
<p><code>-v</code></p>
</td>
<td class="cellalignment664" headers="d72969e1784 d72969e1678">
<p>Validate the data format and exit without loading.</p>
</td>
<td class="cellalignment786" headers="d72969e1784 d72969e1681">
<p>Causes TransX Utility to perform validation and exit.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1796" headers="d72969e1675">
<p><code>-w</code></p>
</td>
<td class="cellalignment664" headers="d72969e1796 d72969e1678">
<p>Preserve white space.</p>
</td>
<td class="cellalignment786" headers="d72969e1796 d72969e1681">
<p>Causes TransX Utility to treat white space characters (such as \t, \r, \n, and &#39; &#39;) as significant. The utility condenses consecutive white space characters in string data elements into one space character by default.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment785" id="d72969e1808" headers="d72969e1675">
<p><code>-l</code></p>
</td>
<td class="cellalignment664" headers="d72969e1808 d72969e1678">
<p>Set the case of language tag.</p>
</td>
<td class="cellalignment786" headers="d72969e1808 d72969e1681">
<p>Causes TransX Utility to override the style of normalizing the case of language tag specified in the <code>normalize-langtag</code> attribute on DLF or the <code>setNormalizeLangTag()</code> method on the TransX API. Valid options are <code>-ls</code>, <code>-lu</code> and <code>-ll</code> for standard, uppercase and lowercase, respectively.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Command-line option exceptions:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>-u</code> and <code>-e</code> are mutually exclusive.</p>
</li>
<li>
<p><code>-v</code> must be the only option followed by data, as shown in the examples.</p>
</li>
<li>
<p><code>-x</code> must be the only option followed by connect information and a SQL query, as shown in the examples.</p>
</li>
</ul>
<p>Omitting all arguments produces the display of the usage information shown in <a href="adx_j_transx.htm#GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__g1013647" title="Option, Meaning, and Description are the column names.">Table 14-4</a>.</p>
</div>
</div>
<a id="ADXDK19511"></a><a id="ADXDK19510"></a>
<div class="props_rev_3"><a id="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593"></a>
<h4 id="ADXDK-GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593" class="sect4"><span class="enumeration_section">14.2.3.2</span> TransX Utility Command-Line Parameters</h4>
<div>
<p><a href="adx_j_transx.htm#GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593__BHAEAFBA" title="Parameter andd Meaning are the columns.">Table 14-5</a> describes the command-line parameters for the TransX utility.</p>
<div class="tblformal" id="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593__BHAEAFBA">
<p class="titleintable">Table 14-5 TransX Utility Command-Line Parameters</p>
<table class="cellalignment650" title="TransX Utility Command-Line Parameters " summary="Parameter andd Meaning are the columns.">
<thead>
<tr class="cellalignment644">
<th class="cellalignment673" id="d72969e1954">Parameter</th>
<th class="cellalignment736" id="d72969e1957">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment675" id="d72969e1962" headers="d72969e1954">
<pre dir="ltr">connect_string 
</pre></td>
<td class="cellalignment737" headers="d72969e1962 d72969e1957">
<p>The JDBC connect string. See <a class="olink JJDBC28061" target="_blank" href="../JJDBC/getsta.htm#JJDBC28061"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a>,</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment675" id="d72969e1974" headers="d72969e1954">
<pre dir="ltr">username 
</pre></td>
<td class="cellalignment737" headers="d72969e1974 d72969e1957">
<p>Database user name (schema).</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment675" id="d72969e1981" headers="d72969e1954">
<pre dir="ltr">password 
</pre></td>
<td class="cellalignment737" headers="d72969e1981 d72969e1957">
<p>Password for the database user, or &#34;<code>-pw</code>&#34;.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment675" id="d72969e1991" headers="d72969e1954">
<pre dir="ltr">datasource 
</pre></td>
<td class="cellalignment737" headers="d72969e1991 d72969e1957">
<p>An XML document specified by file name or URL.</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment675" id="d72969e1998" headers="d72969e1954">
<pre dir="ltr">options
</pre></td>
<td class="cellalignment737" headers="d72969e1998 d72969e1957">
<p>Described in <a href="adx_j_transx.htm#GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__g1013647" title="Option, Meaning, and Description are the column names.">Table 14-4</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593__GUID-5F795169-860D-45B0-813F-E957D8C076E8">
<p class="notep1">See Also:</p>
<p><a class="olink JAXML" target="_blank" href="../JAXML/toc.htm"><span class="italic">Oracle Database XML Java API Reference</span></a> for complete details of the <code>TransX</code> interface</p>
</div>
</div>
</div>
</div>
</div>
<a id="ADXDK1017"></a><a id="ADXDK19512"></a>
<div class="props_rev_3"><a id="GUID-45808D4D-64E2-49BD-BDDE-CDF323F48A86"></a>
<h2 id="ADXDK-GUID-45808D4D-64E2-49BD-BDDE-CDF323F48A86" class="sect2"><span class="enumeration_section">14.3</span> Loading Data with the TransX Utility</h2>
<div>
<div class="section">
<p>The TransX utility is especially useful for populating a database with multilingual data. To use the utility to transfer data in and out of a database schema you must create a data set that maps to this schema. This section describes a typical use scenario in which you use TransX to organize translated application messages in a database.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Topics:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="adx_j_transx.htm#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364">Storing Messages in the Database</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68">Creating a Data Set in a Predefined Format</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-95809F29-6679-4DA8-8339-825A75972B9B">Loading the Data</a></p>
</li>
<li>
<p><a href="adx_j_transx.htm#GUID-5D4C1061-AE4A-48D6-9797-7DE450200F1F">Querying the Data</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="ADXDK19514"></a><a id="ADXDK19515"></a><a id="ADXDK19513"></a>
<div class="props_rev_3"><a id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364"></a>
<h3 id="ADXDK-GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364" class="sect3"><span class="enumeration_section">14.3.1</span> Storing Messages in the Database</h3>
<div>
<p>To build an internationalized system, it is essential to decouple localizable resources from business logic. A typical example of such a resource is translated text information. Data that is specific to a particular region and shares a common language and cultural conventions must be organized with a resource management facility that can retrieve locale-specific information. A database is often used to store such data because of easy maintenance and flexibility.</p>
<p>Assume that you create the table with the structure and content shown in <a href="adx_j_transx.htm#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">Example 14-1</a> and insert data.</p>
<p>The column <code>language_id</code> is defined in this table so that applications can retrieve messages based on the preferred language of the end user. It contains abbreviations of language names to identify the language of messages.</p>
<p><a href="adx_j_transx.htm#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHACAHIG">Example 14-2</a> shows sample data for the table.</p>
<div class="infoboxnotealso" id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__GUID-EFCB0140-920A-43A4-8574-182DDB779662">
<p class="notep1">See Also:</p>
<p><a class="olink NLSPG947" target="_blank" href="../NLSPG/applocaledata.htm#NLSPG947"><span class="italic">Oracle Database Globalization Support Guide</span></a> for Oracle language abbreviations</p>
</div>
<div class="example" id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">
<p class="titleinexample">Example 14-1 Structure of Table translated_messages</p>
<pre dir="ltr">CREATE TABLE translated_messages
(
  MESSAGE_ID       NUMBER(4)
     CONSTRAINT tm_mess_id_nn NOT NULL
, LANGUAGE_ID      VARCHAR2(42)
, MESSAGE          VARCHAR2(200)
);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHACAHIG">
<p class="titleinexample">Example 14-2 Query of translated_messages</p>
<pre dir="ltr">MESSAGE_ID  LANGUAGE_ID  MESSAGE
----------  -----------  ----------------------------------
1           us           Welcome to System X
2           us           Please enter username and password
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDK19517"></a><a id="ADXDK19516"></a>
<div class="props_rev_3"><a id="GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68"></a>
<h3 id="ADXDK-GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68" class="sect3"><span class="enumeration_section">14.3.2</span> Creating a Data Set in a Predefined Format</h3>
<div>
<div class="section">
<p><a href="adx_ref_dlf.htm#GUID-6211A051-77B4-408F-94D9-199E1698B48C">Data Loading Format (DLF) Specification</a> describes the complete syntax of the DLF language. This language is used to create a DLF document that provides the input to TransX.</p>
<p>Given the data set (the input data) in the canonical format, the TransX Utility loads the data into the designated locations in the database. TransX does not create the database objects: you must create the tables or views before attempting to load data.</p>
<p>An XML document that represents the <code>translated_messages</code> table created in <a href="adx_j_transx.htm#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">Example 14-1</a> looks something like <a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">Example 14-3</a>. The data set reflects the structure of the target table, which in this case is called <code>translated_messages</code>.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">
<p class="titleinexample">Example 14-3 example.xml</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;table name=&#34;translated_messages&#34;&gt;
  &lt;!-- Specify the unique identifier --&gt; 
  &lt;lookup-key&gt;
    &lt;column name=&#34;message_id&#34; /&gt;
    &lt;column name=&#34;language_id&#34; /&gt;
  &lt;/lookup-key&gt;
  &lt;!-- Specify the columns into which data will be inserted --&gt;  
  &lt;columns&gt;
    &lt;column name=&#34;message_id&#34;  type=&#34;number&#34;/&gt;
    &lt;column name=&#34;language_id&#34; type=&#34;string&#34; constant=&#34;us&#34; translate=&#34;yes&#34;/&gt;
    &lt;column name=&#34;message&#34;     type=&#34;string&#34; translate=&#34;yes&#34;/&gt;
  &lt;/columns&gt;
  &lt;!-- Specify the data to be inserted --&gt;
  &lt;dataset&gt;
    &lt;row&gt;
      &lt;col name=&#34;message_id&#34;&gt;1&lt;/col&gt;
      &lt;col name=&#34;message&#34; translation-note=&#34;dnt&#39;X&#39;&#34;&gt;Welcome to System X&lt;/col&gt;
    &lt;/row&gt;
    &lt;row&gt;
      &lt;col name=&#34;message_id&#34;&gt;2&lt;/col&gt;
      &lt;col name=&#34;message&#34;&gt;Please enter username and password&lt;/col&gt;
    &lt;/row&gt;
    &lt;!-- ... --&gt;
  &lt;/dataset&gt; 
&lt;/table&gt; 
</pre></div>
<!-- class="example" --></div>
<a id="ADXDK19519"></a><a id="ADXDK19521"></a><a id="ADXDK19520"></a><a id="ADXDK19522"></a><a id="ADXDK19518"></a>
<div class="props_rev_3"><a id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA"></a>
<h4 id="ADXDK-GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA" class="sect4"><span class="enumeration_section">14.3.2.1</span> Format of the Input XML Document</h4>
<div>
<p>The XML document in <a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">Example 14-3</a> starts with this declaration:</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34;?&gt;
</pre>
<p>Its root element <code>&lt;table&gt;</code>, which has an attribute that specifies the name of the table, encloses all the other elements:</p>
<pre dir="ltr">&lt;table name=&#34;translated_messages&#34;&gt;
...
&lt;/table&gt;
</pre>
<p>As explained in <span class="q">&#34;<a href="adx_ref_dlf.htm#GUID-D727EDE1-ECEF-4B1E-B9C5-8BEF4B8B514F">Elements in DLF</a>,&#34;</span> the <code>&lt;table&gt;</code> element contains three subsections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="adx_ref_dlf.htm#GUID-69268E80-DFF7-4683-A3AF-F1B9E041456C">Lookup Key Elements</a></p>
</li>
<li>
<p><a href="adx_ref_dlf.htm#GUID-BC84CDA0-5B41-4B11-A00B-EF67DC93BD66">Metadata Elements</a></p>
</li>
<li>
<p><a href="adx_ref_dlf.htm#GUID-86EFC482-6231-4C6E-8C19-AA34476E54DA">Data Elements</a></p>
</li>
</ul>
<p>The preceding sections map to elements in <a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">Example 14-3</a>:</p>
<pre dir="ltr">&lt;lookup-key&gt;...&lt;/lookup-key&gt;
&lt;columns&gt;...&lt;/columns&gt;
&lt;dataset&gt;...&lt;/dataset&gt;
</pre>
<p>The lookup keys are columns used to evaluate rows if they already exist in the database. Because you want a pair of message and language identifiers to identify a unique string, the document lists the corresponding columns. Thus, the <code>message_id</code>, <code>language_id</code>, and <code>message</code> columns in table <code>translated_messages</code> map to the attributes in the <code>&lt;column&gt;</code> element:</p>
<pre dir="ltr">&lt;column name=&#34;message_id&#34;  type=&#34;number&#34;/&gt;
&lt;column name=&#34;language_id&#34; type=&#34;string&#34; constant=&#34;us&#34; translate=&#34;yes&#34;/&gt;
&lt;column name=&#34;message&#34;     type=&#34;string&#34; translate=&#34;yes&#34;/&gt;
</pre>
<p>The columns section must mirror the table structure because it specifies which piece of data in the data set section maps to which table column. The column names must be consistent throughout the XML data set and database. You can use the <code>&lt;column&gt;</code> attributes in <a href="adx_j_transx.htm#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJCBHG" title="This table describes the TransX data set expressions: constant, sequence, and query.">Table 14-6</a> to describe the data to be loaded. These attributes form a subset of the DLF attributes described in <span class="q">&#34;<a href="adx_ref_dlf.htm#GUID-DBF4F212-F2AC-43ED-B266-328EA75AA41B">Attributes in DLF</a>.&#34;</span></p>
<div class="tblformalwide" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJCBHG">
<p class="titleintable">Table 14-6 &lt;column&gt; Attributes</p>
<table class="cellalignment655" title="&lt;column&gt; Attributes" summary="This table describes the TransX data set expressions: constant, sequence, and query.">
<thead>
<tr class="cellalignment644">
<th class="cellalignment757" id="d72969e2509">Attribute</th>
<th class="cellalignment697" id="d72969e2512">Description</th>
<th class="cellalignment787" id="d72969e2515">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment759" id="d72969e2520" headers="d72969e2509">
<p>type</p>
</td>
<td class="cellalignment700" headers="d72969e2520 d72969e2512">
<p>Specifies the data type of a column in the data set. This attribute specifies the kind of text contained in the <code>&lt;col&gt;</code> element in the data set. Depending on this type, the data loading tool applies different data type conventions to the data.</p>
</td>
<td class="cellalignment788" headers="d72969e2520 d72969e2515">
<pre dir="ltr">&lt;column name=&#34;col&#34; type=&#34;string&#34; /&gt;
</pre></td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment759" id="d72969e2533" headers="d72969e2509">
<p>constant</p>
</td>
<td class="cellalignment700" headers="d72969e2533 d72969e2512">
<p>Specifies a constant value. A column with a fixed value for each row does not have to repeat that same value.</p>
</td>
<td class="cellalignment788" headers="d72969e2533 d72969e2515">
<pre dir="ltr">&lt;column name=&#34;col&#34; type=&#34;string&#34; constant=&#34;us&#34; /&gt;
</pre></td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment759" id="d72969e2543" headers="d72969e2509">
<p>language</p>
</td>
<td class="cellalignment700" headers="d72969e2543 d72969e2512">
<p>The language attribute indicates that the column is the language column, which stores a language tag. It works in the same way as the constant attribute, except for the role to declare the column is the language column.</p>
</td>
<td class="cellalignment788" headers="d72969e2543 d72969e2515">
<pre dir="ltr">&lt;column name=&#34;language&#34; type=&#34;string&#34; language=&#34;us&#34; /&gt;
</pre></td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment759" id="d72969e2553" headers="d72969e2509">
<p>sequence</p>
</td>
<td class="cellalignment700" headers="d72969e2553 d72969e2512">
<p>Specifies a sequence in the database used to fill in the value for this column.</p>
</td>
<td class="cellalignment788" headers="d72969e2553 d72969e2515">
<pre dir="ltr">&lt;column name=&#34;id&#34; type=&#34;number&#34; sequence=&#34;id_sq&#34; /&gt;
</pre></td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment759" id="d72969e2563" headers="d72969e2509">
<p>translate</p>
</td>
<td class="cellalignment700" headers="d72969e2563 d72969e2512">
<p>Indicates whether the text of this column or parameter is to be translated.</p>
</td>
<td class="cellalignment788" headers="d72969e2563 d72969e2515">
<pre dir="ltr">&lt;column name=&#34;msg&#34; type=&#34;string&#34; translate=&#34;yes&#34;/&gt;
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code>constant</code> attribute of a <code>&lt;column&gt;</code> element specifies a value to be stored into the corresponding column for every row in the <code>&lt;dataset&gt;</code> section. Because this example is working in the original language, the <code>language_id</code> column is set to the value <code>us</code>.</p>
<p><span class="bold">Defining the Language Column</span></p>
<p>Alternatively, the <code>language_id</code> column may use the <code>language</code> attribute instead of the <code>constant</code> attribute. A DLF document with the <code>language</code> attribute can use the <code>lang</code> attribute in the xml namespace. A language column can use the &#34;%x&#34; placeholder to get its value from the standard <code>xml:lang</code> attribute at the root table element.Thus <code>translate=&#34;yes&#34;</code> is not required, because the value &#34;%x&#34; does not have to be translated. The result of loading this DLF is the same as Example 10-3.</p>
<p>As explained in <a href="adx_ref_dlf.htm#GUID-2B66AD95-B9D6-46A7-8291-995B0A9ADC4F__CACIDCGF" title="Describes the attributed defined for DLF. These attributes are shared among the DLF elements.">Table 15-10</a>, the valid values for the <code>type</code> attribute are <code>string</code>, <code>number</code>, <code>date</code>, and <code>dateTime</code>. These values correspond to the data types defined in the XML schema standard, so each piece of data must conform to the respective data type definition. In particular, it is important to use the International Organization for Standardization (ISO) 8601 format for the <code>date</code> and <code>dateTime</code> data types, as shown in <a href="adx_j_transx.htm#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAFBCHD" title="date and dateTime formats">Table 14-7</a>.</p>
<div class="tblformal" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAFBCHD">
<p class="titleintable">Table 14-7 date and dateTime Formats</p>
<table class="cellalignment650" title="date and dateTime Formats" summary="date and dateTime formats">
<thead>
<tr class="cellalignment644">
<th class="cellalignment789" id="d72969e2661">Data Type</th>
<th class="cellalignment681" id="d72969e2664">Format</th>
<th class="cellalignment790" id="d72969e2667">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment644">
<td class="cellalignment791" id="d72969e2672" headers="d72969e2661">
<p>date</p>
</td>
<td class="cellalignment683" headers="d72969e2672 d72969e2664">
<p>CCYY-MM-DD</p>
</td>
<td class="cellalignment792" headers="d72969e2672 d72969e2667">
<p>2009-05-20</p>
</td>
</tr>
<tr class="cellalignment644">
<td class="cellalignment791" id="d72969e2682" headers="d72969e2661">
<p>dateTime</p>
</td>
<td class="cellalignment683" headers="d72969e2682 d72969e2664">
<p>CCYY-MM-DDThh:mm:ss</p>
</td>
<td class="cellalignment792" headers="d72969e2682 d72969e2667">
<p>2009-05-20T16:01:37</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a href="adx_j_transx.htm#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJBGGJ">Example 14-5</a> shows how you can represent a table row with <code>dateTime</code> data in a TransX data set.</p>
<div class="example" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BABGAAJB">
<p class="titleinexample">Example 14-4 example.xml with a Language Attribute</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;table <span class="bold">xml:lang=&#34;us&#34;</span> name=&#34;translated_messages&#34;&gt;
  &lt;!-- Specify the unique identifier --&gt; 
  &lt;lookup-key&gt;
    &lt;column name=&#34;message_id&#34; /&gt;
    &lt;column name=&#34;language_id&#34; /&gt;
  &lt;/lookup-key&gt;
  &lt;!-- Specify the columns into which data will be inserted --&gt;  
  &lt;columns&gt;
    &lt;column name=&#34;message_id&#34;  type=&#34;number&#34;/&gt;
    &lt;column name=&#34;language_id&#34; type=&#34;string&#34; language=&#34;%x&#34;/&gt;
    &lt;column name=&#34;message&#34;     type=&#34;string&#34; translate=&#34;yes&#34;/&gt;
  &lt;/columns&gt;
  &lt;!-- Specify the data to be inserted --&gt;
  &lt;dataset&gt;
    &lt;row&gt;
      &lt;col name=&#34;message_id&#34;&gt;1&lt;/col&gt;
      &lt;col name=&#34;message&#34; translation-note=&#34;dnt&#39;X&#39;&#34;&gt;Welcome to System X&lt;/col&gt;
    &lt;/row&gt;
    &lt;row&gt;
      &lt;col name=&#34;message_id&#34;&gt;2&lt;/col&gt;
      &lt;col name=&#34;message&#34;&gt;Please enter username and password&lt;/col&gt;
    &lt;/row&gt;
    &lt;!-- ... --&gt;
  &lt;/dataset&gt; 
&lt;/table&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJBGGJ">
<p class="titleinexample">Example 14-5 dateTime Row</p>
<pre dir="ltr">&lt;row&gt;
  &lt;col name=&#34;article_id&#34;&gt;12345678&lt;/col&gt;
  &lt;col name=&#34;author_id&#34;&gt;10500&lt;/col&gt;
  &lt;col name=&#34;submission&#34;&gt;2002-03-09T16:01:37&lt;/col&gt;
  &lt;col name=&#34;title&#34;&gt;...&lt;/col&gt;
  &lt;!-- some columns follows --&gt;
&lt;/row&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDK19524"></a><a id="ADXDK19525"></a><a id="ADXDK19523"></a>
<div class="props_rev_3"><a id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4"></a>
<h4 id="ADXDK-GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4" class="sect4"><span class="enumeration_section">14.3.2.2</span> Specifying Translations in a Data Set</h4>
<div>
<div class="section">
<p>As explained in <span class="q">&#34;<a href="adx_ref_dlf.htm#GUID-DBF4F212-F2AC-43ED-B266-328EA75AA41B">Attributes in DLF</a>,&#34;</span> you can use the <code>translation</code> attribute to specify whether the column contains translated data. In <a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">Example 14-3</a>, two <code>&lt;column&gt;</code> elements use the <code>translate</code> attribute differently. The attribute for the <code>language_id</code> column specifies that the value of the <code>constant</code> attribute must be translated:</p>
<pre dir="ltr">&lt;column name=&#34;language_id&#34; type=&#34;string&#34; constant=&#34;us&#34; translate=&#34;yes&#34;/&gt;
</pre>
<p>In contrast, this <code>translate</code> attribute requests translation of the data in the <code>&lt;dataset&gt;</code> section with a name that matches this column:</p>
<pre dir="ltr">&lt;column name=&#34;message&#34;     type=&#34;string&#34; translate=&#34;yes&#34;/&gt;
</pre>
<p>For example, the preceding element specifies that thesethis messages in the <code>&lt;dataset&gt;</code> section must be translated:</p>
<pre dir="ltr">&lt;col name=&#34;message&#34; translation-note=&#34;dnt&#39;X&#39;&#34;&gt;Welcome to System X&lt;/col&gt;
&lt;col name=&#34;message&#34;&gt;Please enter username and password&lt;/col&gt;
</pre>
<p>When translating messages for applications, you might decide to leave specified words or phrases untranslated. The <code>translation-note</code> attribute shown in the preceding example achieves this goal.</p>
<p>An Extensible Stylesheet Language Transformation (XSLT) processor can convert the preceding format into another format for exchanging translation data among localization service providers for use with XML-based translation tools. This transformation insulates developers from tasks such as keeping track of revisions, categorizing translatable strings into units, and so on.</p>
<p><a href="adx_j_transx.htm#GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABHAHGI">Example 14-6</a> shows what (the beginning of) the document in <a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">Example 14-3</a> looks like after translation.</p>
<p><a href="adx_j_transx.htm#GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABJDFBJ">Example 14-7</a> shows what the document in <a href="adx_j_transx.htm#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BABGAAJB">Example 14-4</a> looks like after translation. Unlike the previous example, the column definition is not changed.</p>
<p>If you use a text editor or a traditional text-based translation tool during the translation process, it is important to maintain the encoding of the document. After a document is translated, it may be in a different encoding from the original. As explained in <span class="q">&#34;<a href="adx_ref_dlf.htm#GUID-D61D061A-CBCF-40AC-AB17-AA402C463E42">XML Declaration in DLF</a>,&#34;</span> If the translated document is in an encoding other than Unicode, then add the encoding declaration to the XML declaration on the first line. A declaration for non-Unicode encoding looks like these:</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;ISO-8859-15&#34;?&gt;
</pre>
<p>To ensure that the translation process does not lose syntactic integrity, process the document as XML. Otherwise, you can check the format by specifying the <code>-v</code> option of the command-line interface. If a syntactic error exists, the utility prints the location and description of the error. You must fix errors for the data transfer to succeed.</p>
<div class="infoboxnotealso" id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__GUID-D17B56AD-CAF7-48CE-B74E-DAFC7677D31D">
<p class="notep1">See Also:</p>
<p><a href="adx_ref_dlf.htm#GUID-6211A051-77B4-408F-94D9-199E1698B48C">Data Loading Format (DLF) Specification</a></p>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABHAHGI">
<p class="titleinexample">Example 14-6 example_es.xml</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;table name=&#34;translated_messages&#34;&gt;
&lt;!-- Specify the unique identifier --&gt;
&lt;lookup-key&gt;
&lt;column name=&#34;message_id&#34; /&gt;
&lt;column name=&#34;language_id&#34; /&gt;
&lt;/lookup-key&gt;
&lt;!-- Specify the columns into which data will be inserted --&gt;
&lt;columns&gt;
&lt;column name=&#34;message_id&#34; type=&#34;number&#34;/&gt;
&lt;column name=&#34;language_id&#34; type=&#34;string&#34; constant=&#34;es&#34;
translate=&#34;yes&#34;/&gt;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABJDFBJ">
<p class="titleinexample">Example 14-7 example_es.xml with a Language Attribute</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34;?&gt;
&lt;table  name=&#34;translated_messages&#34;&gt;
  &lt;!-- Specify the unique identifier --&gt;
  &lt;lookup-key&gt;
    &lt;column name=&#34;message_id&#34; /&gt;
    &lt;column name=&#34;language_id&#34; /&gt;
  &lt;/lookup-key&gt;
  &lt;!-- Specify the columns into which data will be inserted --&gt;
  &lt;columns&gt;
    &lt;column name=&#34;message_id&#34;  type=&#34;number&#34;/&gt;
    &lt;column name=&#34;language_id&#34; type=&#34;string&#34; language=&#34;%x&#34;/&gt;
...
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADXDK19527"></a><a id="ADXDK19526"></a>
<div class="props_rev_3"><a id="GUID-95809F29-6679-4DA8-8339-825A75972B9B"></a>
<h3 id="ADXDK-GUID-95809F29-6679-4DA8-8339-825A75972B9B" class="sect3"><span class="enumeration_section">14.3.3</span> Loading the Data</h3>
<div>
<div class="section">
<p>You can load the sample documents in <a href="adx_j_transx.htm#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">Example 14-3</a> and <a href="adx_j_transx.htm#GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">Example 14-8</a> into the <code>translated_messages</code> table that you created in <a href="adx_j_transx.htm#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">Example 14-1</a>. Then, you can use the sample program in <a href="adx_j_transx.htm#GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">Example 14-8</a>, which you can find in the TransX demo directory, to load the data.</p>
<p>The <code>txdemo1.java</code> program follows these steps:</p>
<ol>
<li>
<p>Create a TransX loader object. For example:</p>
<pre dir="ltr">TransX  transx = loader.getLoader();
</pre></li>
<li>
<p>Open a data loading session. The first three command-line parameters are the JDBC connect string, database user name, and database password. These parameters are passed to the <code>TransX.open()</code> method. The program includes this statement:</p>
<pre dir="ltr">transx.open( args[0], args[1], args[2] );
</pre></li>
<li>
<p>Configure the TransX loader. The program configures the loader to skip duplicate rows and to validate the input data set. The program includes these statements:</p>
<pre dir="ltr">transx.setLoadingMode( LoadingMode.SKIP_DUPLICATES );
transx.setValidationMode( false );
</pre></li>
<li>
<p>Load the data. The first three command-line parameters specify connection information; any additional parameters specify input XML documents. The program invokes the <code>load()</code> method for every specified document:</p>
<pre dir="ltr">for ( int i = 3 ; i &lt; args.length ; i++ )
{
  transx.load( args[i] );
}
</pre></li>
<li>
<p>Close the data loading session. The program includes this statement:</p>
<pre dir="ltr">transx.close();
</pre></li>
</ol>
<p>After compiling the program with <code>javac</code>, you can run it from the command line. The following example uses the Java thin driver to connect to instance <code>mydb</code> on port <code>1521</code> of computer <code>myhost</code>. It connects to the <span class="italic">user</span> schema and loads the XML documents <code>example.xml</code> and <code>example_es.xml</code>:</p>
<pre dir="ltr">java txdemo1 &#34;jdbc:oracle:thin:@//myhost:1521/mydb&#34; <span class="italic">user</span> -pw example.xml
     example_es.xml
</pre>
<p>In building a multilingual software system, translations usually become available at a later stage of development. They also tend to evolve over time. To add messages to the database later, run the TransX utility again to add new rows in your data set definition. TransX recognizes which rows are new and inserts only the new messages based on the columns specified in the <code>&lt;lookup-key&gt;</code> section. If some messages are updated, then run TransX with the <code>-u</code> option to update existing rows with the data specified in XML, as shown in this example:</p>
<pre dir="ltr">transx -u &#34;jdbc:oracle:thin:@//myhost:1521/mydb&#34; <span class="italic">user</span> -pw example.xml
       example_es.xml
</pre></div>
<!-- class="section" -->
<div class="example" id="GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">
<p class="titleinexample">Example 14-8 txdemo1.java</p>
<pre dir="ltr">// Copyright (c) 2001 All rights reserved Oracle Corporation
 
import oracle.xml.transx.*;
 
public class txdemo1 {
 
  /**
   * Constructor
   */
  public txdemo1() {
  }
 
  /**
   * main
   * @param args
   *
   * args[0] : connect string
   * args[1] : username
   * args[2] : password
   * args[3+] : xml file names
   */
  public static void main(String[] args) throws Exception {
 
    // instantiate a transx class
    TransX  transx = loader.getLoader();
 
    // start a data loading session
    transx.open( args[0], args[1], args[2] );
 
    // specify operation modes
    transx.setLoadingMode( LoadingMode.SKIP_DUPLICATES );
    transx.setValidationMode( false );
 
    // load the dataset(s)
    for ( int i = 3 ; i &lt; args.length ; i++ )
    {
      transx.load( args[i] );
    }
 
    // cleanup
    transx.close();
  }
}
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDK19528"></a>
<div class="props_rev_3"><a id="GUID-5D4C1061-AE4A-48D6-9797-7DE450200F1F"></a>
<h3 id="ADXDK-GUID-5D4C1061-AE4A-48D6-9797-7DE450200F1F" class="sect3"><span class="enumeration_section">14.3.4</span> Querying the Data</h3>
<div>
<div class="section">
<p>After using the program in <a href="adx_j_transx.htm#GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">Example 14-8</a> to load the data, you can query the <code>translated_messages</code> table to see the results. The results look like these:</p>
<pre dir="ltr">MESSAGE_ID  LANGUAGE_ID  MESSAGE
----------  -----------  ----------------------------------
1           us           Welcome to System X
1           es           Bienvenido al Sistema X
2           us           Please enter username and password
2           es           Porfavor entre su nombre de usuario y su contrase&ntilde;a
</pre>
<p>An application can retrieve a message in a specific language by using the <code>language_id</code> and <code>message_id</code> columns in a <code>WHERE</code> clause. For example, you can execute this query:</p>
<pre dir="ltr">SELECT message 
FROM   translated_messages 
WHERE  message_id = 2 
AND    language_id = &#39;es&#39;;

MESSAGE
----------------------------------
Porfavor entre su nombre de usuario y su contrase&ntilde;a
</pre></div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment643">
<tr>
<td class="cellalignment670">
<table class="cellalignment648">
<tr>
<td class="cellalignment647"><a href="adx_j_xsu.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment647"><a href="adx_ref_dlf.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment672">
<table class="cellalignment646">
<tr>
<td class="cellalignment647"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment647"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment647"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment647"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment647"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment647"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
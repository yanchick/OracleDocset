<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-91968"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Creating%20a%20Physical%20Standby%20Database"></a><title>Creating a Physical Standby Database</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="primary database, preparing for, physical standby database creation, checklist, tasks for creating physical standby databases, physical standby databases, creating, checklist of tasks, control files, creating for standby databases, starting, physical standby databases, verifying"/>
<meta name="dcterms.created" content="2017-07-21T12:09:00Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Guard Concepts and Administration"/>
<meta name="dcterms.identifier" content="E48552-08"/>
<meta name="dcterms.isVersionOf" content="SBYDB"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="standby.htm" title="Previous" type="text/html"/>
<link rel="Next" href="create_ls.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48552-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B511FB6E-E3E7-436D-94B5-071C37550170"></a> <span id="PAGE" style="display:none;">9/35</span> <!-- End Header -->
<a id="SBYDB00200"></a>
<h1 id="SBYDB-GUID-B511FB6E-E3E7-436D-94B5-071C37550170" class="sect1"><span class="enumeration_chapter">3</span> Creating a Physical Standby Database</h1>
<div>
<p>You can manually create a physical standby database in maximum performance mode using asynchronous redo transport and real-time apply, the default Oracle Data Guard configuration. See the following main topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="create_ps.htm#GUID-3DA747A3-1976-4A70-A96A-56281872D4D9">Preparing the Primary Database for Standby Database Creation</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF">Step-by-Step Instructions for Creating a Physical Standby Database</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC">Post-Creation Steps</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69">Creating a Physical Standby of a CDB</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2">Creating a PDB in a Primary Database</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-B511FB6E-E3E7-436D-94B5-071C37550170__GUID-A18BD0A2-FB8D-4195-9C26-DA4AEC6CFBE1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11117" target="_blank" href="../ADMIN/create.htm#ADMIN11117"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about creating and using server parameter files</p>
</li>
<li>
<p>Enterprise Manager online help system for information about using the Oracle Data Guard broker graphical user interface (GUI) to automatically create a physical standby database</p>
</li>
<li>
<p><a href="rcmbackp.htm#GUID-82731D59-A20F-45DD-A235-267B3B0E38C5">Creating a Standby Database with Recovery Manager</a> for information about alternative methods of creating a physical standby database that automate much of the process by using Oracle Recovery Manager (RMAN) and either backup based duplication or active duplication over a network</p>
</li>
<li>
<p><a class="olink DGBKR090" target="_blank" href="../DGBKR/install.htm#DGBKR090"><span class="italic">Oracle Data Guard Broker</span></a> for information about configuring a database so that it can be managed by Oracle Data Guard broker</p>
</li>
</ul>
</div>
<div class="infobox-note" id="GUID-B511FB6E-E3E7-436D-94B5-071C37550170__GUID-A2C04D1E-5EB6-4CF9-BE44-43505962F4E0">
<p class="notep1">Note:</p>
<p>If you are working in a multitenant container database (CDB) environment, then see <a href="create_ps.htm#GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69">Creating a Physical Standby of a CDB</a> for information about behavioral differences from non-CDB environments. For instance, in a CDB environment, many DBA views have analogous CDB views that you should use instead.</p>
</div>
</div>
<a id="SBYDB5015"></a><a id="SBYDB4718"></a>
<div class="props_rev_3"><a id="GUID-3DA747A3-1976-4A70-A96A-56281872D4D9"></a>
<h2 id="SBYDB-GUID-3DA747A3-1976-4A70-A96A-56281872D4D9" class="sect2"><span class="enumeration_section">3.1</span> Preparing the Primary Database for Standby Database Creation</h2>
<div>
<div class="section">
<p>Before you create a standby database you must first ensure the primary database is properly configured. Perform the following tasks on the primary database to prepare for physical standby database creation:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="create_ps.htm#GUID-AE2B1237-57A1-4745-A04C-4246A831A963">Enable Forced Logging</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-0DC30726-3471-4588-BFE0-9CA0736328E2">Configure Redo Transport Authentication</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF">Configure the Primary Database to Receive Redo Data</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84">Set Primary Database Initialization Parameters</a></p>
</li>
<li>
<p><a href="create_ps.htm#GUID-0379019D-0995-4EB7-8861-B07B708C7B4C">Enable Archiving</a></p>
</li>
</ul>
<div class="infobox-note" id="GUID-3DA747A3-1976-4A70-A96A-56281872D4D9__GUID-2C0A3837-59E6-42CA-BA31-6F891FA30F5E">
<p class="notep1">Note:</p>
<p>Perform these preparatory tasks only once. After you complete these steps, the database is prepared to serve as the primary database for one or more standby databases.</p>
</div>
</div>
<!-- class="section" --></div>
<a id="SBYDB4719"></a>
<div class="props_rev_3"><a id="GUID-AE2B1237-57A1-4745-A04C-4246A831A963"></a>
<h3 id="SBYDB-GUID-AE2B1237-57A1-4745-A04C-4246A831A963" class="sect3"><span class="enumeration_section">3.1.1</span> Enable Forced Logging</h3>
<div>
<div class="section">
<p>Place the primary database in <code class="codeph">FORCE LOGGING</code> mode. You can do this after database creation using the following SQL statement:</p>
<pre dir="ltr">SQL&gt; ALTER DATABASE FORCE LOGGING;
</pre>
<p>When you issue this statement, the primary database must at least be mounted (and it can also be open). This statement can take a considerable amount of time to complete, because it waits for all unlogged direct write I/O to finish.</p>
<div class="infoboxnotealso" id="GUID-AE2B1237-57A1-4745-A04C-4246A831A963__GUID-5584756B-129C-46A1-97A2-63718104B4AA">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11096" target="_blank" href="../ADMIN/create.htm#ADMIN11096"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about the ramifications of specifying <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="SBYDB00424"></a>
<div class="props_rev_3"><a id="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2"></a>
<h3 id="SBYDB-GUID-0DC30726-3471-4588-BFE0-9CA0736328E2" class="sect3"><span class="enumeration_section">3.1.2</span> Configure Redo Transport Authentication</h3>
<div>
<p>Oracle Data Guard uses Oracle Net sessions to transport redo data and control messages between the members of an Oracle Data Guard configuration. These redo transport sessions are authenticated using either the Secure Sockets Layer (SSL) protocol or a remote login password file.</p>
<p>SSL is used to authenticate redo transport sessions between two databases if:</p>
<ul style="list-style-type: disc;">
<li>
<p>The databases are members of the same Oracle Internet Directory (OID) enterprise domain and it allows the use of current user database links</p>
</li>
<li>
<p>The <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span>, and <code class="codeph">FAL_SERVER</code> database initialization parameters that correspond to the databases use Oracle Net connect descriptors configured for SSL</p>
</li>
<li>
<p>Each database has an Oracle wallet or supported hardware security module that contains a user certificate with a distinguished name (DN) that matches the DN in the OID entry for the database</p>
</li>
</ul>
<p>If the SSL authentication requirements are not met, then each member of an Oracle Data Guard configuration must be configured to use a remote login password file and every physical standby database in the configuration must have an up-to-date copy of the password file from the primary database.</p>
<div class="infobox-note" id="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2__GUID-386E79D8-99A8-47C6-9721-53DED3AEB1CD">
<p class="notep1">Note:</p>
<p>Whenever you change the login password of the redo transport user and you are using a remote login password file for authentication, you must copy the updated password file to each physical or snapshot standby database in the configuration.</p>
<p>If you have stored the password file in an Oracle ASM disk group at the standby database, then you must copy the updated password file from the primary database to the Oracle ASM location at the standby database. See <a class="olink OSTMG95354" target="_blank" href="../OSTMG/GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39.htm#OSTMG95354"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about the ASMCMD <code class="codeph">pwcopy</code> command used to copy an Oracle ASM or database instance password file to a specified location. See <a class="olink RACAD5045" target="_blank" href="../RACAD/GUID-1CAF8C01-4761-4CEB-B201-F4D0E67A4E70.htm#RACAD5045"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using the <code class="codeph">srvctl</code> utility to modify a database configuration.</p>
</div>
<div class="infoboxnotealso" id="GUID-0DC30726-3471-4588-BFE0-9CA0736328E2__GUID-8FF931DF-1863-4243-9387-3D63161690E9">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11060" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMIN11060"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> and <a class="olink REFRN10184" target="_blank" href="../REFRN/GUID-6619299E-95E8-4821-B123-3B5899F046C7.htm#REFRN10184"><span class="italic">Oracle Database Reference</span></a> for more information about remote login password files</p>
</li>
<li>
<p><a class="olink DBSEG070" target="_blank" href="../DBSEG/asossl.htm#DBSEG070"><span class="italic">Oracle Database Security Guide</span></a> for more information about SSL</p>
</li>
<li>
<p><a class="olink NETAG001" target="_blank" href="../NETAG/intro.htm#NETAG001"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about Oracle Net Services</p>
</li>
</ul>
</div>
</div>
</div>
<a id="SBYDB00426"></a>
<div class="props_rev_3"><a id="GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF"></a>
<h3 id="SBYDB-GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF" class="sect3"><span class="enumeration_section">3.1.3</span> Configure the Primary Database to Receive Redo Data</h3>
<div>
<p>It is a best practice to configure the primary database to receive redo if this is the first time a standby database is added to the configuration. The primary database can then quickly transition to the standby role and begin receiving redo data, if necessary.</p>
<p>To create a standby redo log, use the SQL <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">ADD</code> <code class="codeph">STANDBY</code> <code class="codeph">LOGFILE</code> statement. For example:</p>
<pre dir="ltr">SQL&gt; ALTER DATABASE ADD STANDBY LOGFILE (&#39;/oracle/dbs/slog1.rdo&#39;) SIZE 500M;
 
SQL&gt; ALTER DATABASE ADD STANDBY LOGFILE (&#39;/oracle/dbs/slog2.rdo&#39;) SIZE 500M;
</pre>
<p>See <a href="log_transport.htm#GUID-AF64C4FE-2D16-4197-953A-25930F36CFA8">Configuring an Oracle Database to Receive Redo Data</a> for a discussion of how to determine the size of each log file and the number of log groups, as well as other background information about managing standby redo logs.</p>
</div>
</div>
<a id="SBYDB4720"></a>
<div class="props_rev_3"><a id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84"></a>
<h3 id="SBYDB-GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84" class="sect3"><span class="enumeration_section">3.1.4</span> Set Primary Database Initialization Parameters</h3>
<div>
<p>On the primary database, you define initialization parameters that control redo transport services while the database is in the primary role. There are additional parameters you need to add that control the receipt of the redo data and apply services when the primary database is transitioned to the standby role.</p>
<p>The following example shows the primary role initialization parameters that you maintain on the primary database. This example represents an Oracle Data Guard configuration with a primary database located in Chicago and one physical standby database located in Boston. The parameters shown in this example are valid for the Chicago database when it is running in either the primary or the standby database role. The configuration examples use the names shown in the following table:</p>
<div class="tblformal" id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84__GUID-CA398D21-3C1C-442B-829B-22477670CEAE">
<table class="cellalignment2269" summary="This 3 column tables shows the DB_UNIQUE_NAME and Oracle Net service names that are used in this chapters examples. Column 1 is the database, Column 2 is the DB_UNIQUE_NAME. Column 3 is the Oracle Net Service Name .">
<thead>
<tr class="cellalignment2253">
<th class="cellalignment2270" id="d6718e649">Database</th>
<th class="cellalignment2270" id="d6718e652">DB_UNIQUE_NAME</th>
<th class="cellalignment2271" id="d6718e663">Oracle Net Service Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2253">
<td class="cellalignment2272" id="d6718e668" headers="d6718e649">
<p>Primary</p>
</td>
<td class="cellalignment2272" headers="d6718e668 d6718e652">
<p>chicago</p>
</td>
<td class="cellalignment2273" headers="d6718e668 d6718e663">
<p>chicago</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2272" id="d6718e678" headers="d6718e649">
<p>Physical standby</p>
</td>
<td class="cellalignment2272" headers="d6718e678 d6718e652">
<p>boston</p>
</td>
<td class="cellalignment2273" headers="d6718e678 d6718e663">
<p>boston</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<pre dir="ltr">DB_NAME=chicago
DB_UNIQUE_NAME=chicago
<a id="d6718e689" class="indexterm-anchor"></a>LOG_ARCHIVE_CONFIG=&#39;DG_CONFIG=(chicago,boston)&#39;
CONTROL_FILES=&#39;/arch1/chicago/control1.ctl&#39;, &#39;/arch2/chicago/control2.ctl&#39;
LOG_ARCHIVE_DEST_1=
 &#39;LOCATION=USE_DB_RECOVERY_FILE_DEST 
  VALID_FOR=(ALL_LOGFILES,ALL_ROLES)
  DB_UNIQUE_NAME=chicago&#39;
LOG_ARCHIVE_DEST_2=
 &#39;SERVICE=boston ASYNC
  VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) 
  DB_UNIQUE_NAME=boston&#39;
REMOTE_LOGIN_PASSWORDFILE=EXCLUSIVE
LOG_ARCHIVE_FORMAT=%t_%s_%r.arc
</pre>
<p>These parameters control how redo transport services transmit redo data to the standby system and the archiving of redo data on the local file system. Note that the example specifies asynchronous (<code class="codeph">ASYNC</code>) network transmission to transmit redo data on the <code class="codeph">LOG_ARCHIVE_DEST_2</code> initialization parameter. These are the recommended settings and require standby redo log files (see <a href="create_ps.htm#GUID-CA9076B9-3360-4A36-87AF-3390B391CEFF">Configure the Primary Database to Receive Redo Data</a>).</p>
<p>The following shows the additional standby role initialization parameters on the primary database. These parameters take effect when the primary database is transitioned to the standby role.</p>
<pre dir="ltr">FAL_SERVER=boston
DB_FILE_NAME_CONVERT=&#39;/boston/&#39;,&#39;/chicago/&#39;
LOG_FILE_NAME_CONVERT=&#39;/boston/&#39;,&#39;/chicago/&#39; 
STANDBY_FILE_MANAGEMENT=AUTO
</pre>
<p>Specifying the initialization parameters shown above sets up the primary database to resolve gaps, converts new data file and log file path names from a new primary database, and archives the incoming redo data when this database is in the standby role. With the initialization parameters for both the primary and standby roles set as described, none of the parameters need to change after a role transition.</p>
<p>The following table provides a brief explanation about each parameter setting shown in the previous two examples.</p>
<div class="tblformalwide" id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84__GUID-AD33B23C-C22E-4924-9029-1D06B2983132">
<table class="cellalignment2262" summary="Briefly explains each initialization parameter that was set in Examples 3-1 and 3-2.">
<thead>
<tr class="cellalignment2253">
<th class="cellalignment2274" id="d6718e720">Parameter</th>
<th class="cellalignment2275" id="d6718e723">Recommended Setting</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e728" headers="d6718e720">
<p><a class="olink REFRN10041" target="_blank" href="../REFRN/GUID-D8A5CD6B-2C72-47EF-B7D8-A6FC69934314.htm#REFRN10041"><code class="codeph">DB_NAME</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e728 d6718e723">
<p>On a primary database, specify the name used when the database was created. On a physical standby database, use the <code class="codeph">DB_NAME</code> of the primary database.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e741" headers="d6718e720">
<p><a class="olink REFRN10242" target="_blank" href="../REFRN/GUID-3547C937-5DDA-49FF-A9F9-14FF306545D8.htm#REFRN10242"><code class="codeph">DB_UNIQUE_NAME</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e741 d6718e723">
<p>Specify a unique name for each database. This name stays with the database and does not change, even if the primary and standby databases reverse roles.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e751" headers="d6718e720">
<p><a class="olink REFRN10237" target="_blank" href="../REFRN/GUID-4DABDBE9-04B6-44D2-B93D-DAB15EA71427.htm#REFRN10237"><code class="codeph">LOG_ARCHIVE_CONFIG</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e751 d6718e723">
<p>The <code class="codeph">DG_CONFIG</code> attribute of this parameter must be explicitly set on each database in an Oracle Data Guard configuration to enable full Oracle Data Guard functionality. Set <code class="codeph">DG_CONFIG</code> to a text string that contains the <code class="codeph">DB_UNIQUE_NAME</code> of each database in the configuration, with each name in this list separated by a comma.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e770" headers="d6718e720">
<p><a class="olink REFRN10021" target="_blank" href="../REFRN/GUID-1D609657-4283-40DA-8A57-8097E719281C.htm#REFRN10021"><code class="codeph">CONTROL_FILES</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e770 d6718e723">
<p>Specify the path name for the control files on the primary database. It is recommended that a second copy of the control file is available so an instance can be easily restarted after copying the good control file to the location of the bad control file.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e780" headers="d6718e720">
<p><a class="olink REFRN10086" target="_blank" href="../REFRN/GUID-10BD97BF-6295-4E85-A1A3-854E15E05A44.htm#REFRN10086"><code class="codeph">LOG_ARCHIVE_DEST_n</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e780 d6718e723">
<p>Specify where the redo data is to be archived on the primary and standby systems.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">LOG_ARCHIVE_DEST_1</code> archives redo data generated by the primary database from the local online redo log files to the local archived redo log files in /arch1/chicago/.</p>
</li>
<li>
<p><code class="codeph">LOG_ARCHIVE_DEST_2</code> is valid only for the primary role. This destination transmits redo data to the remote physical standby destination <code class="codeph">boston</code>.</p>
</li>
</ul>
<p><span class="bold">Note:</span> If a fast recovery area was configured (with the <code class="codeph">DB_RECOVERY_FILE_DEST</code> initialization parameter) and you have not explicitly configured a local archiving destination with the <code class="codeph">LOCATION</code> attribute, Oracle Data Guard automatically uses the <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameter (if it has not already been set) as the default destination for local archiving. Also, see <a href="log_arch_dest_param.htm#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1">LOG_ARCHIVE_DEST_n Parameter Attributes</a> for complete <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> information.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e828" headers="d6718e720">
<p><a class="olink REFRN10184" target="_blank" href="../REFRN/GUID-6619299E-95E8-4821-B123-3B5899F046C7.htm#REFRN10184"><code class="codeph">REMOTE_LOGIN_PASSWORDFILE</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e828 d6718e723">
<p>This parameter must be set to <code class="codeph">EXCLUSIVE</code> or <code class="codeph">SHARED</code> if a remote login password file is used to authenticate administrative users or redo transport sessions.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e844" headers="d6718e720">
<p><a class="olink REFRN10089" target="_blank" href="../REFRN/GUID-2D8A4B78-E94C-426E-AD55-EDE886AF29AC.htm#REFRN10089"><code class="codeph">LOG_ARCHIVE_FORMAT</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e844 d6718e723">
<p>Specify the format for the archived redo log files using a thread (%t), sequence number (%s), and resetlogs ID (%r).</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e854" headers="d6718e720">
<p><a class="olink REFRN10056" target="_blank" href="../REFRN/GUID-4F034B79-AE2A-44E3-8485-E055AA2DDD29.htm#REFRN10056"><code class="codeph">FAL_SERVER</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e854 d6718e723">
<p>Specify the Oracle Net service name of the FAL server (typically this is the database running in the primary role). When the Chicago database is running in the standby role, it uses the Boston database as the FAL server from which to fetch (request) missing archived redo log files if Boston is unable to automatically send the missing log files.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e864" headers="d6718e720">
<p><a class="olink REFRN10038" target="_blank" href="../REFRN/GUID-E8B4E0EA-B073-4349-9EA9-E053F499FB9E.htm#REFRN10038"><code class="codeph">DB_FILE_NAME_CONVERT</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e864 d6718e723">
<p>Specify the path name and filename location of the standby database data files followed by the primary location. This parameter converts the path names of the primary database data files to the standby data file path names. This parameter is used only to convert path names for physical standby databases. Multiple pairs of paths may be specified by this parameter.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e874" headers="d6718e720">
<p><a class="olink REFRN10098" target="_blank" href="../REFRN/GUID-3D5894EF-C33D-4687-978F-F640174F6FCC.htm#REFRN10098"><code class="codeph">LOG_FILE_NAME_CONVERT</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e874 d6718e723">
<p>Specify the location of the standby database online redo log files followed by the primary location. This parameter converts the path names of the primary database log files to the path names on the standby database. Multiple pairs of paths may be specified by this parameter.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2276" id="d6718e884" headers="d6718e720">
<p><a class="olink REFRN10212" target="_blank" href="../REFRN/GUID-BD652D33-31C7-47C9-8019-7A4B79A9D974.htm#REFRN10212"><code class="codeph">STANDBY_FILE_MANAGEMENT</code></a></p>
</td>
<td class="cellalignment2277" headers="d6718e884 d6718e723">
<p>Set to <code class="codeph">AUTO</code> so when data files are added to or dropped from the primary database, corresponding changes are made automatically to the standby database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infobox-note" id="GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84__GUID-34E39F48-BBFC-4943-A3C9-01C2DF0DDC91">
<p class="notep1">Note:</p>
<p>Review the initialization parameter file for additional parameters that may need to be modified. For example, you may need to modify the dump destination parameters if the directory location on the standby database is different from those specified on the primary database.</p>
</div>
</div>
</div>
<a id="SBYDB4721"></a>
<div class="props_rev_3"><a id="GUID-0379019D-0995-4EB7-8861-B07B708C7B4C"></a>
<h3 id="SBYDB-GUID-0379019D-0995-4EB7-8861-B07B708C7B4C" class="sect3"><span class="enumeration_section">3.1.5</span> Enable Archiving</h3>
<div>
<div class="section">
<p>If archiving is not enabled, issue the following SQL statements to put the primary database in <code class="codeph">ARCHIVELOG</code> mode and enable automatic archiving:</p>
<pre dir="ltr">SQL&gt; SHUTDOWN IMMEDIATE;
SQL&gt; STARTUP MOUNT;
SQL&gt; ALTER DATABASE ARCHIVELOG;
SQL&gt; ALTER DATABASE OPEN;
</pre>
<p>See <a class="olink ADMIN008" target="_blank" href="../ADMIN/archredo.htm#ADMIN008"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about archiving.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="SBYDB5018"></a><a id="SBYDB00210"></a>
<div class="props_rev_3"><a id="GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF"></a>
<h2 id="SBYDB-GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF" class="sect2"><span class="enumeration_section">3.2</span> Step-by-Step Instructions for Creating a Physical Standby Database</h2>
<div>
<p>This section describes the tasks you perform to create a physical standby database. It is written at a level of detail that requires you to already have a thorough understanding of the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p>Database administrator authentication</p>
</li>
<li>
<p>Database initialization parameters</p>
</li>
<li>
<p>Managing redo logs, data files, and control files</p>
</li>
<li>
<p>Managing archived redo logs</p>
</li>
<li>
<p>Fast recovery areas</p>
</li>
<li>
<p>Oracle Net configuration</p>
</li>
</ul>
<p><a href="create_ps.htm#GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF__BACHCEHE" title="This is a task-oriented 2 column table that provides a link to sections in the chapter that describe how to create a physical standby database. Column 1 is the task. Column 2 is the database.">Table 3-1</a> provides a checklist of the tasks that you perform to create a physical standby database and the database or databases on which you perform each task.</p>
<div class="tblformalwide" id="GUID-A86D403B-B3F5-4B05-9255-5BADD513F9CF__BACHCEHE">
<p class="titleintable">Table 3-1 Creating a Physical Standby Database</p>
<table class="cellalignment2262" title="Creating a Physical Standby Database" summary="This is a task-oriented 2 column table that provides a link to sections in the chapter that describe how to create a physical standby database. Column 1 is the task. Column 2 is the database.">
<thead>
<tr class="cellalignment2253">
<th class="cellalignment2278" id="d6718e1106">Task</th>
<th class="cellalignment2278" id="d6718e1109">Database</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1114" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93">Create a Backup Copy of the Primary Database Data Files</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1114 d6718e1109">
<p>Primary</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1123" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269">Create a Control File for the Standby Database</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1123 d6718e1109">
<p>Primary</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1132" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA">Create a Parameter File for the Standby Database</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1132 d6718e1109">
<p>Primary</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1141" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7">Copy Files from the Primary System to the Standby System</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1141 d6718e1109">
<p>Primary</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1150" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392">Set Up the Environment to Support the Standby Database</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1150 d6718e1109">
<p>Standby</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1159" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-3D65210D-9FE5-490E-938E-57FC2E07A569">Start the Physical Standby Database</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1159 d6718e1109">
<p>Standby</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2279" id="d6718e1168" headers="d6718e1106">
<p><a href="create_ps.htm#GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED">Verify the Physical Standby Database Is Performing Properly</a></p>
</td>
<td class="cellalignment2279" headers="d6718e1168 d6718e1109">
<p>Standby</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="SBYDB4722"></a>
<div class="props_rev_3"><a id="GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93"></a>
<h3 id="SBYDB-GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93" class="sect3"><span class="enumeration_section">3.2.1</span> Creating a Physical Standby Task 1: Create a Backup Copy of the Primary Database Data Files</h3>
<div>
<div class="section">
<p>You can use any backup copy of the primary database to create the physical standby database, as long as you have the necessary archived redo log files to completely recover the database. Oracle recommends that you use the Recovery Manager utility (RMAN).</p>
<p>See <a class="olink HAOVW132" target="_blank" href="../HAOVW/hafeatures.htm#HAOVW132"><span class="italic">Oracle Database High Availability Architecture and Best Practices</span></a> for backup recommendations and <a class="olink BRADV191" target="_blank" href="../BRADV/part_bak.htm#BRADV191"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> to perform a database backup operation.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="SBYDB4723"></a>
<div class="props_rev_3"><a id="GUID-B471D788-AFD3-48B3-9709-D63C34DBC269"></a>
<h3 id="SBYDB-GUID-B471D788-AFD3-48B3-9709-D63C34DBC269" class="sect3"><span class="enumeration_section">3.2.2</span> Creating a Physical Standby Task 2: Create a Control File for the Standby Database</h3>
<div>
<div class="section">
<p>Create the control file for the standby database, as shown in the following example (the primary database does not have to be open, but it must at least be mounted):</p>
<pre dir="ltr">SQL&gt;<a id="d6718e1338" class="indexterm-anchor"></a><a id="d6718e1342" class="indexterm-anchor"></a> ALTER DATABASE CREATE STANDBY CONTROLFILE AS &#39;/tmp/boston.ctl&#39;;
</pre>
<p>The <code class="codeph">ALTER DATABASE</code> command designates the database that is to operate in the standby role; in this case, a database named <code class="codeph">boston</code>.</p>
<p>You cannot use a single control file for both the primary and standby databases. They must each have their own file.</p>
<div class="infobox-note" id="GUID-B471D788-AFD3-48B3-9709-D63C34DBC269__GUID-F79A72B2-361F-4CF6-B59F-1C56B77ACDB4">
<p class="notep1">Note:</p>
<p>If a control file backup is taken on the primary and restored on a standby (or vice versa), then the location of the snapshot control file on the restored system is configured to be the default. (The default value for the snapshot control file name is platform-specific and dependent on Oracle home.) Manually reconfigure it to the correct value using the RMAN <code class="codeph">CONFIGURE SNAPSHOT CONTROLFILE</code> command.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="SBYDB5019"></a><a id="SBYDB4724"></a>
<div class="props_rev_3"><a id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA"></a>
<h3 id="SBYDB-GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA" class="sect3"><span class="enumeration_section">3.2.3</span> Creating a Physical Standby Task 3: Create a Parameter File for the Standby Database</h3>
<div>
<div class="section">
<p>Perform the following steps to create a parameter file for the standby database.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create a parameter file (PFILE) from the server parameter file (SPFILE) used by the primary database. For example:</span>
<div>
<pre dir="ltr">SQL&gt; CREATE PFILE=&#39;/tmp/initboston.ora&#39; FROM SPFILE;
</pre>
<p>In <a href="create_ps.htm#GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392">Set Up the Environment to Support the Standby Database</a>, you then create a server parameter file from this parameter file, after it has been modified to contain parameter values appropriate for use at the physical standby database.</p>
</div>
</li>
<li class="stepexpand"><span>Modify the parameter values in the parameter file created in the previous step.</span>
<div>
<p>Although most of the initialization parameter settings in the parameter file are also appropriate for the physical standby database, some modifications must be made.</p>
<p><a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a> shows, in bold typeface, the parameters created earlier on the primary that must be changed.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">
<p class="titleinexample">Example 3-1 Modifying Initialization Parameters for a Physical Standby Database</p>
<pre dir="ltr">.
.
.
DB_NAME=chicago
<span class="bold">DB_UNIQUE_NAME=boston</span>
LOG_ARCHIVE_CONFIG<a id="d6718e1466" class="indexterm-anchor"></a>=&#39;DG_CONFIG=(chicago,boston)&#39;
<span class="bold">CONTROL_FILES=&#39;/arch1/boston/control1.ctl</span>&#39;, &#39;<span class="bold">/arch2/boston/control2.ctl</span>&#39;
<span class="bold">DB_FILE_NAME_CONVERT=</span><span class="bold">&#39;/chicago/&#39;,&#39;/boston/&#39;</span>
<span class="bold">LOG_FILE_NAME_CONVERT=&#39;/chicago/&#39;,&#39;/boston/&#39;</span>
LOG_ARCHIVE_FORMAT=log%t_%s_%r.arc
<span class="bold">LOG_ARCHIVE_DEST_1=</span>
 &#39;LOCATION=USE_DB_RECOVERY_FILE_DEST
<span class="bold">  VALID_FOR=(ALL_LOGFILES,ALL_ROLES) </span>
<span class="bold">  DB_UNIQUE_NAME=boston&#39;</span>
<span class="bold">LOG_ARCHIVE_DEST_2=</span>
<span class="bold"> &#39;SERVICE=chicago </span><span class="bold">ASYNC</span>
<span class="bold">  VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) </span>
<span class="bold">  DB_UNIQUE_NAME=chicago&#39;</span>
REMOTE_LOGIN_PASSWORDFILE=EXCLUSIVE
STANDBY_FILE_MANAGEMENT=AUTO
<span class="bold">FAL_SERVER=chicago</span>
.
.
.
</pre></div>
<!-- class="example" -->
<div class="section">
<p>Ensure the <code class="codeph">COMPATIBLE</code> initialization parameter is set to the same value on both the primary and standby databases. If the values differ, then redo transport services may be unable to transmit redo data from the primary database to the standby databases.</p>
<p>It is always a good practice to use the <code class="codeph">SHOW PARAMETERS</code> command to verify no other parameters need to be changed.</p>
<p>The following table provides a brief explanation about the parameter settings shown in <a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a> that have different settings from the primary database.</p>
<div class="tblformalwide" id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__GUID-72D11A33-652F-4E6D-BC0C-07DB98F40D62">
<table class="cellalignment2262" summary="This 2 column table describes each initialization parameter that was set in Example 3-3.">
<thead>
<tr class="cellalignment2253">
<th class="cellalignment2280" id="d6718e1534">Parameter</th>
<th class="cellalignment2281" id="d6718e1537">Recommended Setting</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2253">
<td class="cellalignment2282" id="d6718e1542" headers="d6718e1534">
<p><a class="olink REFRN10242" target="_blank" href="../REFRN/GUID-3547C937-5DDA-49FF-A9F9-14FF306545D8.htm#REFRN10242"><code class="codeph">DB_UNIQUE_NAME</code></a></p>
</td>
<td class="cellalignment2283" headers="d6718e1542 d6718e1537">
<p>Specify a unique name for this database. This name stays with the database and does not change even if the primary and standby databases reverse roles.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2282" id="d6718e1552" headers="d6718e1534">
<p><a class="olink REFRN10021" target="_blank" href="../REFRN/GUID-1D609657-4283-40DA-8A57-8097E719281C.htm#REFRN10021"><code class="codeph">CONTROL_FILES</code></a></p>
</td>
<td class="cellalignment2283" headers="d6718e1552 d6718e1537">
<p>Specify the path name for the control files on the standby database. <a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a> shows how to do this for two control files. It is recommended that a second copy of the control file is available so an instance can be easily restarted after copying the good control file to the location of the bad control file.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2282" id="d6718e1564" headers="d6718e1534">
<p><a class="olink REFRN10038" target="_blank" href="../REFRN/GUID-E8B4E0EA-B073-4349-9EA9-E053F499FB9E.htm#REFRN10038"><code class="codeph">DB_FILE_NAME_CONVERT</code></a><a id="d6718e1570" class="indexterm-anchor"></a><a id="d6718e1574" class="indexterm-anchor"></a></p>
</td>
<td class="cellalignment2283" headers="d6718e1564 d6718e1537">
<p>Specify the path name and filename location of the primary database data files followed by the standby location. This parameter converts the path names of the primary database data files to the standby data file path names.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2282" id="d6718e1582" headers="d6718e1534">
<p><a class="olink REFRN10098" target="_blank" href="../REFRN/GUID-3D5894EF-C33D-4687-978F-F640174F6FCC.htm#REFRN10098"><code class="codeph">LOG_FILE_NAME_CONVERT</code></a><a id="d6718e1588" class="indexterm-anchor"></a><a id="d6718e1592" class="indexterm-anchor"></a></p>
</td>
<td class="cellalignment2283" headers="d6718e1582 d6718e1537">
<p>Specify the location of the primary database online redo log files followed by the standby location. This parameter converts the path names of the primary database log files to the path names on the standby database.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2282" id="d6718e1600" headers="d6718e1534">
<p><a class="olink REFRN10086" target="_blank" href="../REFRN/GUID-10BD97BF-6295-4E85-A1A3-854E15E05A44.htm#REFRN10086"><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span></a></p>
</td>
<td class="cellalignment2283" headers="d6718e1600 d6718e1537">
<p>Specify where the redo data is to be archived. In <a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__I70559">Example 3-1</a>:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">LOG_ARCHIVE_DEST_1</code> archives redo data received from the primary database to archived redo log files in /arch1/boston/.</p>
</li>
<li>
<p><code class="codeph">LOG_ARCHIVE_DEST_2</code> is currently ignored because this destination is valid only for the primary role. If a switchover occurs and this instance becomes the primary database, then it transmits redo data to the remote Chicago destination.</p>
</li>
</ul>
<p><span class="bold">Note:</span> If a fast recovery area was configured (with the <code class="codeph">DB_RECOVERY_FILE_DEST</code> initialization parameter) and you have not explicitly configured a local archiving destination with the <code class="codeph">LOCATION</code> attribute, then Oracle Data Guard automatically uses the <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameter (if it has not already been set) as the default destination for local archiving. Also, see <a href="log_arch_dest_param.htm#GUID-B04FC22C-F0B0-440F-BAF4-182EE547FCC1">LOG_ARCHIVE_DEST_n Parameter Attributes</a> for complete information about <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span>.</p>
</td>
</tr>
<tr class="cellalignment2253">
<td class="cellalignment2282" id="d6718e1650" headers="d6718e1534">
<p><a class="olink REFRN10056" target="_blank" href="../REFRN/GUID-4F034B79-AE2A-44E3-8485-E055AA2DDD29.htm#REFRN10056"><code class="codeph">FAL_SERVER</code></a></p>
</td>
<td class="cellalignment2283" headers="d6718e1650 d6718e1537">
<p>Specify the Oracle Net service name of the FAL server (typically this is the database running in the primary role). When the Boston database is running in the standby role, it uses the Chicago database as the FAL server from which to fetch (request) missing archived redo log files if Chicago is unable to automatically send the missing log files.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infobox-note" id="GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA__GUID-99208921-F8CD-49ED-A89B-06CAC7F8004F">
<p class="notep1">Note:</p>
<p>Review the initialization parameter file for additional parameters that may need to be modified. For example, you may need to modify the dump destination parameters if the directory location on the standby database is different from those specified on the primary database.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="SBYDB4725"></a>
<div class="props_rev_3"><a id="GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7"></a>
<h3 id="SBYDB-GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7" class="sect3"><span class="enumeration_section">3.2.4</span> Creating a Physical Standby Task 4: Copy Files from the Primary System to the Standby System</h3>
<div>
<div class="section">
<p>Ensure that all required directories are created and use an operating system copy utility to copy the following binary files from the primary system to their correct locations on the standby system:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Database backup created in <a href="create_ps.htm#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93">Create a Backup Copy of the Primary Database Data Files</a></p>
</li>
<li>
<p>Stan<a id="d6718e1745" class="indexterm-anchor"></a><a id="d6718e1749" class="indexterm-anchor"></a>dby control file created in <a href="create_ps.htm#GUID-B471D788-AFD3-48B3-9709-D63C34DBC269">Create a Control File for the Standby Database</a></p>
</li>
<li>
<p>Initialization parameter file created in <a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA">Create a Parameter File for the Standby Database</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="SBYDB4726"></a>
<div class="props_rev_3"><a id="GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392"></a>
<h3 id="SBYDB-GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392" class="sect3"><span class="enumeration_section">3.2.5</span> Creating a Physical Standby Task 5: Set Up the Environment to Support the Standby Database</h3>
<div>
<div class="section">
<p>Perform the following steps to create a Windows-based service, create a password file, set up the Oracle Net environment, and create a SPFILE.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>If the standby database will be hosted on a Windows system, use the ORADIM utility to create a Windows service. For example:</span>
<div>
<pre dir="ltr">WINNT&gt; oradim &ndash;NEW &ndash;SID boston &ndash;STARTMODE manual
</pre>
<p>The ORADIM utility automatically determines the username for which this service should be created and prompts for a password for that username (if that username needs a password). See <a class="olink NTQRF05011" target="_blank" href="../NTQRF/create.htm#NTQRF05011"><span class="italic">Oracle Database Platform Guide for Microsoft Windows</span></a> for more information about using the ORADIM utility.</p>
</div>
</li>
<li class="stepexpand"><span>Copy the remote login password file from the primary database system to the standby database system. This step is optional if operating system authentication is used for administrative users and if SSL is used for redo transport authentication. If not, then copy the remote login password file from the primary database to the appropriate directory on the physical standby database system. The password file must be recopied whenever an administrative privilege (<code class="codeph">SYSDG</code>, <code class="codeph">SYSOPER</code>, <code class="codeph">SYSDBA</code>, and so on) is granted or revoked, and after the password of any user with administrative privileges is changed.</span>
<div>
<p>If you have stored the password file in an Oracle ASM disk group at the standby database, then you must copy the updated password file from the primary database to the Oracle ASM location at the standby database. See <a class="olink OSTMG95354" target="_blank" href="../OSTMG/GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39.htm#OSTMG95354"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about the ASMCMD <code class="codeph">pwcopy</code> command used to copy an Oracle ASM or database instance password file to a specified location. See <a class="olink RACAD5045" target="_blank" href="../RACAD/GUID-1CAF8C01-4761-4CEB-B201-F4D0E67A4E70.htm#RACAD5045"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using the <code class="codeph">srvctl</code> utility to modify a database configuration.</p>
</div>
</li>
<li class="stepexpand"><span>Configure and start a listener on the standby system if one is not already configured.</span>
<div>
<p>See <a class="olink NETAG010" target="_blank" href="../NETAG/listenercfg.htm#NETAG010"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide.</span></a></p>
</div>
</li>
<li class="stepexpand"><span>Create Oracle Net service names.</span>
<div>
<p>On both the primary and standby systems, use Oracle Net Manager to create a network service name for the primary and standby databases that will be used by redo transport services. As shown in <a href="create_ps.htm#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84">Set Primary Database Initialization Parameters</a>, the Net service names in this example are <code class="codeph">chicago</code> and <code class="codeph">boston</code>.</p>
<p>The Oracle Net service name must resolve to a connect descriptor that uses the same protocol, host address, port, and service that you specified when you configured the listeners for the primary and standby databases. The connect descriptor must also specify that a dedicated server be used.</p>
<p>See the <a class="olink NETAG175" target="_blank" href="../NETAG/concepts.htm#NETAG175"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about service names.</p>
</div>
</li>
<li class="stepexpand"><span>On an idle standby database, use the SQL <code class="codeph">CREATE</code> statement to create a server parameter file for the standby database from the text initialization parameter file that was edited in Step 2 in <a href="create_ps.htm#GUID-06FDC24C-6E90-420B-BB63-3B6BAC4D8AFA">Create a Parameter File for the Standby Database</a>. For example:</span>
<div>
<pre dir="ltr">SQL&gt; CREATE SPFILE FROM PFILE=&#39;initboston.ora&#39;;
</pre></div>
</li>
<li class="stepexpand"><span>If the primary database has a database encryption wallet, copy it to the standby database system and configure the standby database to use this wallet.</span>
<div>
<div class="infobox-note" id="GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392__GUID-F01449D9-4D5B-4578-8D7B-AF51FFD8DF1C">
<p class="notep1">Note:</p>
<p>The database encryption wallet must be copied from the primary database system to each standby database system whenever the master encryption key is updated.</p>
<p>Encrypted data in a standby database cannot be accessed unless the standby database is configured to point to a database encryption wallet or hardware security module that contains the current master encryption key from the primary database.</p>
</div>
<div class="infoboxnotealso" id="GUID-2FD8DBAB-C439-4F03-9A94-01C6FEF33392__GUID-0102CC1A-4E42-4257-A6A3-9AAC32E59313">
<p class="notep1">See Also:</p>
<p><a class="olink ASOAG600" target="_blank" href="../ASOAG/asopart1.htm#ASOAG600"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about Transparent Data Encryption</p>
</div>
</div>
</li>
</ol>
</div>
</div>
<a id="SBYDB4727"></a>
<div class="props_rev_3"><a id="GUID-3D65210D-9FE5-490E-938E-57FC2E07A569"></a>
<h3 id="SBYDB-GUID-3D65210D-9FE5-490E-938E-57FC2E07A569" class="sect3"><span class="enumeration_section">3.2.6</span> Creating a Physical Standby Task 6: Start the Physical Standby Database</h3>
<div>
<div class="section">
<p>Perform the following steps to start the physical standby database and Redo Apply.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the standby database, issue the following SQL statement to start and mount the database:</span>
<div>
<pre dir="ltr">SQL&gt; STARTUP MOUNT;
</pre></div>
</li>
<li class="stepexpand"><span>Restore the backup of the data files taken in <a href="create_ps.htm#GUID-C40DD1FB-1DB5-4674-839D-D17ECA99FB93">Create a Backup Copy of the Primary Database Data Files</a> and copied in <a href="create_ps.htm#GUID-4834C26E-6493-4C5A-91F7-680FD43FADF7">Copy Files from the Primary System to the Standby System</a> on the standby system.</span></li>
<li class="stepexpand"><span>On the standby database, issue the following command to start <a id="d6718e2042" class="indexterm-anchor"></a>Redo Apply:</span>
<div>
<pre dir="ltr">SQL&gt; <a id="d6718e2050" class="indexterm-anchor"></a><a id="d6718e2054" class="indexterm-anchor"></a>ALTER DATABASE RECOVER MANAGED STANDBY DATABASE - 
&gt; DISCONNECT FROM SESSION;
</pre>
<p>The statement includes the <code class="codeph">DISCONNECT FROM SESSION</code> option so that Redo Apply runs in a background session. See <a href="log_apply.htm#GUID-2B839172-947E-48A4-9FFD-33CC6907809F">Applying Redo Data to Physical Standby Databases</a> for more information.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="SBYDB4728"></a>
<div class="props_rev_3"><a id="GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED"></a>
<h3 id="SBYDB-GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED" class="sect3"><span class="enumeration_section">3.2.7</span> Creating a Physical Standby Task 7: Verify the Physical Standby Database Is Performing Properly</h3>
<div>
<div class="section">
<p>After you create the physical standby database and set up redo transport services, you may want to verify database modifications are being successfully transmitted from the primary database to the standby database.</p>
<p>On the standby database, query the <code class="codeph">V$MANAGED_STANDBY</code> view to verify that redo is being transmitted from the primary database and applied to the standby database. For example:</p>
<pre dir="ltr">SQL&gt; SELECT CLIENT_PROCESS, PROCESS, THREAD#, SEQUENCE#, STATUS FROM 
V$MANAGED_STANDBY WHERE CLIENT_PROCESS=&#39;LGWR&#39; OR PROCESS=&#39;MRP0&#39;;
 
CLIENT_PROCESS PROCESS   THREAD#    SEQUENCE#  STATUS
-------------- --------- ---------- ---------- ------------
N/A            MRP0      1          80         APPLYING_LOG
LGWR           RFS       1          80         IDLE
</pre>
<p>The query output should show one line for the primary database with a <code class="codeph">CLIENT_PROCESS</code> of <code class="codeph">LGWR</code>. This indicates that redo transport is functioning correctly and the primary redo thread is being sent to the standby.</p>
<div class="infobox-note" id="GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED__GUID-06BE2ED0-AC7E-44B3-9009-CEDDBB1D1F3F">
<p class="notep1">Note:</p>
<p>If the Primary database is an Oracle RAC database, then there will be one line with a <code class="codeph">CLIENT_PROCESS</code> of <code class="codeph">LGWR</code> for each primary instance that is currently active.</p>
</div>
<p>The query output should also show one line for the MRP. If the MRP status shows <code class="codeph">APPLYING_LOG</code> and the <code class="codeph">SEQUENCE#</code> is equal to the sequence number currently being sent by the primary database, then the standby has resolved all gaps and is currently in real-time apply mode.</p>
<div class="infobox-note" id="GUID-AAA6D97B-A345-4825-A320-B662BB16E2ED__GUID-D148796B-902F-4386-9595-D7160404AD54">
<p class="notep1">Note:</p>
<p>The MRP may show a <code class="codeph">SEQUENCE#</code> older than the sequence number currently being sent from the primary. This indicates that it is applying archive log files that were sent as a gap and it has not yet caught up. Once all gaps have been resolved, the same query will show that the MRP is applying the current <code class="codeph">SEQUENCE#</code>.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="SBYDB4729"></a>
<div class="props_rev_3"><a id="GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC"></a>
<h2 id="SBYDB-GUID-3A0F8F9C-EF69-4BE4-9F7B-98AED4BEC4AC" class="sect2"><span class="enumeration_section">3.3</span> Creating a Physical Standby: Post-Creation Steps</h2>
<div>
<div class="section">
<p>At this point, the physical standby database is running and can provide the maximum performance level of data protection. The following list describes additional actions you can take on the physical standby database:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Upgrade the data protection mode</p>
<p><a href="protection.htm#GUID-16298839-9B8A-4E58-8EC9-27912E57F1CE">Oracle Data Guard Protection Modes</a> provides information about configuring the different data protection modes.</p>
</li>
<li>
<p>Enable Flashback Database</p>
<p>Flashback Database removes the need to re-create the primary database after a failover. Flashback Database enables you to return a database to its state at a time in the recent past much faster than traditional point-in-time recovery, because it does not require restoring data files from backup nor the extensive application of redo data. You can enable Flashback Database on the primary database, the standby database, or both. See <a href="scenarios.htm#GUID-1163448F-6B18-4A44-AA8D-7CDF0D1360FB">Converting a Failed Primary Into a Standby Database Using Flashback Database</a> and <a href="scenarios.htm#GUID-BAA5ED38-29A0-4E8D-8435-AA083D19C13E">Using Flashback Database After Issuing an Open Resetlogs Statement</a> for scenarios showing how to use Flashback Database in an Oracle Data Guard environment. Also, see <a class="olink BRADV71000" target="_blank" href="../BRADV/flashdb.htm#BRADV71000"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about Flashback Database.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="SBYDB5213"></a>
<div class="props_rev_3"><a id="GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69"></a>
<h2 id="SBYDB-GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69" class="sect2"><span class="enumeration_section">3.4</span> Creating a Physical Standby of a CDB</h2>
<div>
<p>You can create a physical standby<a id="d6718e2356" class="indexterm-anchor"></a> of a multitenant container<a id="d6718e2363" class="indexterm-anchor"></a> database (CDB) just as you can create a physical standby of a regular primary database. The following are some of the behavioral differences to be aware of when you create and use a physical standby of a CDB:</p>
<ul style="list-style-type: disc;">
<li>
<p>The database role is defined at the CDB level, not at the individual container level.</p>
</li>
<li>
<p>If you execute a switchover or failover operation, the entire CDB undergoes the role change.</p>
</li>
<li>
<p>Any DDL related to role changes must be executed in the root container because a role is associated with an entire CDB. Individual pluggable databases (PDBs) do not have their own roles.</p>
</li>
<li>
<p>In a physical standby of a CDB, the syntax of SQL statements is generally the same as for noncontainer databases. However, the effect of some statements, including the following, may be different:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY</code> functions only in the root container; it is not allowed in a PDB.</p>
</li>
<li>
<p>A role is associated with an entire CDB; individual PDBs do not have their own roles. Therefore, the following role change DDL associated with physical standbys affect the entire CDB:</p>
<p><code class="codeph">ALTER DATABASE SWITCHOVER TO target_db_name</code></p>
<p><code class="codeph">ALTER DATABASE ACTIVATE PHYSICAL STANDBY</code></p>
</li>
</ul>
</li>
<li>
<p>The <code class="codeph">ALTER PLUGGABLE DATABASE [OPEN|CLOSE]</code> SQL statement is supported on the standby, provided you have already opened the root container.</p>
</li>
<li>
<p>The <code class="codeph">ALTER PLUGGABLE DATABASE RECOVER</code> statement is not supported on the standby. (Standby recovery is always at the CDB level.)</p>
</li>
<li>
<p>To administer a multitenant environment, you must have the <code class="codeph">CDB_DBA</code> role.</p>
</li>
<li>
<p>Oracle recommends that the standby database have its own keystore.</p>
</li>
<li>
<p>In a multitenant environment, the redo must be shipped to the root container of the standby database.</p>
<p>The following is an example of how to determine whether redo is being shipped to the root container. Suppose your primary database has the following settings:</p>
<pre dir="ltr">LOG_ARCHIVE_DEST_2=&#39;SERVICE=boston ASYNC VALID_FOR=(ONLINE_LOGFILES,
PRIMARY_ROLE) DB_UNIQUE_NAME=boston&#39;
</pre>
<p>Redo is being shipped to <code class="codeph">boston</code>. The container ID (<code class="codeph">CON_ID</code>) for the root container is always 1, so you must make sure that the <code class="codeph">CON_ID</code> is 1 for the service <code class="codeph">boston</code>. To do this, check the service name in the <code class="codeph">tnsnames.ora</code> file. For example:</p>
<pre dir="ltr">boston = (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
(CONNECT_DATA=(SERVICE_NAME=sales.us.example.com))
</pre>
<p>The service name for <code class="codeph">boston</code> is <code class="codeph">sales.us.example.com</code>.</p>
<p>On the standby database, query the <code class="codeph">CDB_SERVICES</code> view to determine the <code class="codeph">CON_ID</code>. For example:</p>
<pre dir="ltr">SQL&gt; SELECT NAME, CON_ID FROM CDB_SERVICES;

NAME                                 CON_ID
---------------------------------------------
sales.us.example.com                 1
</pre>
<p>The query result shows that the <code class="codeph">CON_ID</code> for <code class="codeph">boston</code> is 1.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-D5F0EB8F-8534-462A-911C-216E6DC7CE69__GUID-729D8B44-38CE-4544-8064-CB5B4464B758">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CNCPT89249" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89249"><span class="italic">Oracle Database Concepts</span></a> for more information about CDBs</p>
</li>
<li>
<p><a class="olink DBSEG800" target="_blank" href="../DBSEG/release_changes.htm#DBSEG800"><span class="italic">Oracle Database Security Guide</span></a> for more information about privileges and roles in CDBs and PDBs</p>
</li>
<li>
<p><a class="olink ASOAG10284" target="_blank" href="../ASOAG/configuring-transparent-data-encryption.htm#ASOAG10284"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about creating keystores</p>
</li>
</ul>
</div>
</div>
</div>
<a id="SBYDB5260"></a>
<div class="props_rev_3"><a id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2"></a>
<h2 id="SBYDB-GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2" class="sect2"><span class="enumeration_section">3.5</span> Creating a PDB in a Primary Database</h2>
<div>
<p>This section discusses creating a PDB in a primary database, when a physical standby is being used.</p>
<p>In an Oracle Data Guard configuration, a PDB on a primary database is created in the same way that a PDB on a regular database is created. The steps to create a PDB on a regular database are documented in the <a class="olink ADMIN13549" target="_blank" href="../ADMIN/cdb_plug.htm#ADMIN13549"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>. Before following those steps, note the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>To specify whether the new PDB being created is included in standby CDBs, use the <code class="codeph">STANDBYS</code> clause of the SQL <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement. Specify <code class="codeph">ALL</code> (the default) to include the new PDB in all standby CDBs. Specify <code class="codeph">NONE</code> to exclude the new PDB from all standby CDBs.</p>
<p>When a PDB is excluded from all standby CDBs, the PDB&#39;s data files are offline and marked as unnamed on all of the standby CDBs. Any new standby CDBs that are instantiated after the PDB has been created must disable the PDB for recovery explicitly to exclude it from the standby CDB. It is possible to enable a PDB on a standby CDB after it was excluded on that standby CDB.</p>
<div class="infobox-note" id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2__GUID-8AE71390-038D-462D-96F0-A6FA671C0A85">
<p class="notep1">Note:</p>
<p>The <code class="codeph">STANDBYS</code> clause is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</p>
</div>
</li>
<li>
<p>If you want to create a PDB as a local clone from a different PDB within the same primary CDB, then copy the data files that belong to the source PDB over to the standby database. (This step is not necessary in an Active Data Guard environment because the data files are copied automatically when the PDB is created on the standby database.)</p>
<p>If you want to perform a remote clone of a PDB from another CDB into the primary CDB, then you must use the <code class="codeph">STANDBY=NONE</code> clause and then copy the files and enable recovery by following the steps in the My Oracle Support note 2049127.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a>.</p>
</li>
<li>
<p>If you plan to create a PDB from an XML file, then copy the data files specified in the XML file to the standby database.</p>
<p>If your standby database has the Active Data Guard option enabled (open read only), then copy to the standby database the same set of PDB data files that will be plugged into the primary database. To minimize disruptions to managed standby recovery or database sessions running on systems that have Active Data Guard enabled, you must copy these files to the standby database before plugging in the PDB at the primary database. Ensure that the files are copied to an appropriate location where they can be found by managed standby recovery:</p>
<ul style="list-style-type: disc;">
<li>
<p>If data files reside in standard operating system file systems, then the location of the files at the standby database should be based on the value of the <code class="codeph">DB_FILE_NAME_CONVERT</code> parameter. For more details about setting primary database initialization parameters, see <a href="create_ps.htm#GUID-0FD317D6-1A49-4DB3-A141-D00CB3089E84">Set Primary Database Initialization Parameters</a></p>
</li>
<li>
<p>If data files reside in ASM, then use the ASMCMD utility to copy the files to the following location at the standby database:</p>
<pre dir="ltr">&lt;db_create_file_dest&gt;/&lt;db_unique_name&gt;/&lt;GUID&gt;/datafile
</pre>
<p>The <code class="codeph">GUID</code> parameter is the global unique identifier assigned to the PDB; once assigned, it does not change. To find the value of the <code class="codeph">GUID</code> parameter, query the <code class="codeph">V$CONTAINERS</code> view before unplugging the PDB from its original source container. The following example shows how to find the value of the <code class="codeph">GUID</code> parameter for the PDB whose PDB container ID in the source container is <code class="codeph">3</code>:</p>
<pre dir="ltr">SELECT guid
  FROM V$CONTAINERS
 WHERE con_id=3;
 
GUID
 
D98C12257A951FC4E043B623F00A7AF5
</pre>
<p>In this example, if the value of the <code class="codeph">DB_CREATE_FILE_DEST</code> parameter is <code class="codeph">+DATAFILE</code> and the value of the <code class="codeph">DB_UNIQUE_NAME</code> parameter is <code class="codeph">BOSTON</code>, then the data files should be copied to:</p>
<pre dir="ltr">+DATAFILE/BOSTON/D98C12257A951FC4E043B623F00A7AF5/datafile
</pre></li>
</ul>
</li>
</ul>
<p>Note that the path name of the data files on the standby database must be the same as the path name that will result when you create the PDB on the primary, unless the <code class="codeph">DB_FILE_NAME_CONVERT</code> database initialization parameter has been configured on the standby. In that case, the path name of the data files on the standby database should be the path name on the primary with <code class="codeph">DB_FILE_NAME_CONVERT</code> applied.</p>
<div class="infobox-note" id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2__GUID-3D172F1A-6AE7-436D-B859-416A850908BE">
<p class="notep1">Note:</p>
<p>Oracle recommends that the standby database have its own keystore.</p>
</div>
<div class="infoboxnotealso" id="GUID-20D2DEAC-0355-4FBB-ADB8-37BF5F4328E2__GUID-2E301C1C-F712-488E-90EB-68248F5D0901">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SQLRF55686" target="_blank" href="../SQLRF/statements_6010.htm#SQLRF55686"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the SQL statement <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code></p>
</li>
<li>
<p><a class="olink ASOAG10284" target="_blank" href="../ASOAG/configuring-transparent-data-encryption.htm#ASOAG10284"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about creating keystores</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2252">
<tr>
<td class="cellalignment2259">
<table class="cellalignment2257">
<tr>
<td class="cellalignment2256"><a href="standby.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2256"><a href="create_ls.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2261">
<table class="cellalignment2255">
<tr>
<td class="cellalignment2256"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2256"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2256"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2256"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2256"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2256"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
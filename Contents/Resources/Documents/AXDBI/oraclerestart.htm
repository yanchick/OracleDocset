<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2603"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Grid%20Infrastructure%20for%20a%20Standalone%20Server"></a><title>Oracle Grid Infrastructure for a Standalone Server</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-10T0:43:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Installation Guide"/>
<meta name="dcterms.identifier" content="E52188-06"/>
<meta name="dcterms.isVersionOf" content="AXDBI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="usr_grps.htm" title="Previous" type="text/html"/>
<link rel="Next" href="inst_task.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E52188-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/25</span> <!-- End Header -->
<div id="AXDBI999" class="chapter"><a id="CIHCBGCC"></a>
<h1 class="chapter"><span class="secnum">5</span> Oracle Grid Infrastructure for a Standalone Server</h1>
<p>Oracle Grid Infrastructure for a standalone server, also known as Oracle Restart, provides system support for a single-instance Oracle Database. This support includes volume management, file system, and automatic restart capabilities. If you plan to use Oracle Automatic Storage Management (Oracle ASM), then you must install Oracle Restart before installing your database. Oracle Grid Infrastructure for a standalone server includes Oracle Restart and Oracle Automatic Storage Management. Oracle combined the two infrastructure products into a single set of binaries that is installed into an Oracle Restart home.</p>
<p>Oracle Automatic Storage Management is a volume manager and a file system for Oracle database files that supports single-instance Oracle Database and Oracle Real Application Clusters (Oracle RAC) configurations. Oracle Automatic Storage Management also supports a general purpose file system for your application needs, including Oracle Database binaries. Oracle Automatic Storage Management is Oracle&#39;s recommended storage management solution that provides an alternative to conventional volume managers, file systems, and raw devices.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>You can neither install Oracle Restart on an Oracle Grid Infrastructure cluster member node, nor add an Oracle Restart server to an Oracle Grid Infrastructure cluster member node. Oracle Restart supports single-instance databases on one server, while Oracle Grid Infrastructure for a Cluster supports single-instance or Oracle RAC databases on a cluster.</p>
</li>
<li>
<p>If you want to use Oracle ASM or Oracle Restart, then you must install Oracle Grid Infrastructure for a standalone server before you install and create the database. Otherwise, you must manually register the database with Oracle Restart.</p>
</li>
<li>
<p>Oracle Restart is used in single-instance (nonclustered) environments only.</p>
</li>
</ul>
</div>
<p>Oracle Restart<a id="sthref371"></a><a id="sthref372"></a><a id="sthref373"></a> improves the availability of your Oracle database by providing the following:</p>
<ul>
<li>
<p>When there is a hardware or a software failure, Oracle Restart automatically starts all Oracle components, including the Oracle database instance, Oracle Net Listener, database services, and Oracle ASM.</p>
</li>
<li>
<p>Oracle Restart starts components in the proper order when the database host is restarted.</p>
</li>
<li>
<p>Oracle Restart runs periodic checks to monitor the status of Oracle components. If a check operation fails for a component, then the component is shut down and restarted.</p>
</li>
</ul>
<p>This chapter contains the following information:</p>
<ul>
<li>
<p><a href="#i1011299">Configuring Servers for Oracle Grid Infrastructure for a Standalone Server</a></p>
</li>
<li>
<p><a href="#CIHCGDCI">Oracle ACFS and Oracle ADVM</a></p>
</li>
<li>
<p><a href="#CIHBDIDE">Oracle Automatic Storage Management Storage Configuration</a></p>
</li>
<li>
<p><a href="#CIHECGII">Installing Oracle Grid Infrastructure for a Standalone Server Using a Software-Only Installation</a></p>
</li>
<li>
<p><a href="#BABHEBIG">Installing and Configuring Oracle Grid Infrastructure for a Standalone Server</a></p>
</li>
<li>
<p><a href="#BABJCHIJ">Modifying Oracle Grid Infrastructure for a Standalone Server Binaries After Installation</a></p>
</li>
</ul>
<a id="i1011299"></a>
<div id="AXDBI7681" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.1</span> Configuring Servers for Oracle Grid Infrastructure for a Standalone Server<a id="sthref374"></a><a id="sthref375"></a><a id="sthref376"></a><a id="sthref377"></a><a id="sthref378"></a><a id="sthref379"></a></h2>
<p>This section describes the following operating system tasks that you must complete before you install Oracle Grid Infrastructure for a standalone server:</p>
<ul>
<li>
<p><a href="#CIHIEHAA">Checking Hardware and Memory Configuration</a></p>
</li>
<li>
<p><a href="#CHDCEBFD">Server Memory Minimum Requirements</a></p>
</li>
<li>
<p><a href="#CHDIFGAD">Server Storage Minimum Requirements</a></p>
</li>
<li>
<p><a href="#BABIEBHH">Environment Requirements for Oracle Grid Infrastructure Software Owner</a></p>
</li>
</ul>
<a id="CIHIEHAA"></a>
<div id="AXDBI7682" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.1</span> Checking Hardware and Memory Configuration</h3>
<p>Run the following commands to check your current system information:</p>
<ol>
<li>
<p>To determine the available RAM and swap space, enter the following command:</p>
<pre dir="ltr"># /usr/sbin/lsps -s
</pre></li>
<li>
<p>To determine the size of the configured swap space, enter the following command:</p>
<pre dir="ltr"># /usr/sbin/lsps -a
</pre>
<p><a id="sthref380"></a>If necessary, see your operating system documentation for information about configuring additional swap space.</p>
</li>
<li>
<p>To determine the amount of free disk space on the system, enter one of the following commands:</p>
<pre dir="ltr"># df -m
# df -g
</pre></li>
<li>
<p>To determine the amount of space available in the <code dir="ltr">/tmp</code> directory, enter one of the following commands:</p>
<pre dir="ltr"># df -m /tmp
# df -g /tmp
</pre></li>
<li>
<p>To determine the physical RAM size, enter the following command:</p>
<pre dir="ltr"># /usr/sbin/lsattr -E -l sys0 -a realmem
</pre>
<p>If the size of the physical RAM installed in the system is less than the required size, then install more memory before you continue.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDCEBFD"></a>
<div id="AXDBI7683" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.2</span> Server Memory Minimum Requirements</h3>
<p>Ensure that your system meets the following memory requirements for installing Oracle Grid Infrastructure for a standalone server:</p>
<p>At least 4 GB of RAM for Oracle Grid Infrastructure for a standalone server including installations where you plan to install Oracle Database.</p>
<p>The following table describes the relationship between installed RAM and the configured swap space recommendation:</p>
<div id="AXDBI8061" class="tblformal">
<p class="titleintable"><a id="sthref381"></a><a id="BEHDEBIH"></a>Table 5-1 Swap Space Requirement for Oracle Restart</p>
<table class="cellalignment1373" title="Swap Space Requirement for Oracle Restart" summary="Swap space requirements" dir="ltr">
<thead>
<tr class="cellalignment1362">
<th class="cellalignment1372" id="r1c1-t3">RAM</th>
<th class="cellalignment1372" id="r1c2-t3">Swap Space</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r2c1-t3" headers="r1c1-t3">
<p>Between 4 GB and 16 GB</p>
</td>
<td class="cellalignment1368" headers="r2c1-t3 r1c2-t3">
<p>Equal to the size of the RAM</p>
</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r3c1-t3" headers="r1c1-t3">
<p>More than 16 GB</p>
</td>
<td class="cellalignment1368" headers="r3c1-t3 r1c2-t3">
<p>16 GB</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
On AIX systems, with 1 GB or more of memory, Oracle recommends that you set the paging space to an initial setting of half the size of RAM plus 4 GB, with an upper limit of 32 GB. During installation, to optimize paging, monitor the paging space use in a separate window. Use the command <code dir="ltr">chps</code> to increase or decrease the paging space size. The output of <code dir="ltr">chps</code> should indicate paging space use of less than 25 percent on a healthy system. Refer to <a class="olink UNXAR274" href="../UNXAR/appa_aix.htm#UNXAR274"><span class="italic">Oracle Database Administrator&#39;s Reference for Linux and UNIX-Based Operating Systems</span></a> for more information about configuring paging space.</div>
</div>
<!-- class="sect2" -->
<a id="CHDIFGAD"></a>
<div id="AXDBI7684" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.3</span> Server Storage Minimum Requirements</h3>
<p>Ensure that your system meets the following minimum disk space requirements for installing Oracle Grid Infrastructure on a standalone server:</p>
<ul>
<li>
<p>At least 16 GB of disk space.</p>
</li>
<li>
<p>At least 1 GB of space in the <code dir="ltr">/tmp</code> directory.</p>
<p><a id="sthref382"></a><a id="sthref383"></a><a id="sthref384"></a>If there is less than 1 GB of free space in the <code dir="ltr">/tmp</code> directory, then complete one of the following steps:</p>
<ul>
<li>
<p>Delete unnecessary files from the <code dir="ltr">/tmp</code> directory to meet the disk space requirement.</p>
</li>
<li>
<p>Set the <code dir="ltr">TMP</code> and <code dir="ltr">TMPDIR</code> environment variables to specify a temporary directory when setting the <code dir="ltr">oracle</code> user&#39;s environment.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="usr_grps.htm#BABBHHAD">&#34;Configuring Oracle Software Owner Environment&#34;</a> for more information about setting <code dir="ltr">TMP</code> and <code dir="ltr">TMPDIR</code></div>
</li>
<li>
<p>Extend the file system that contains the <code dir="ltr">/tmp</code> directory.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABIEBHH"></a>
<div id="AXDBI7685" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.4</span> E<a id="sthref385"></a><a id="sthref386"></a><a id="sthref387"></a>nvironment Requirements for Oracle Grid Infrastructure Software Owner</h3>
<p>Complete the following tasks to set the Oracle Restart software owner user&#39;s environment:</p>
<ul>
<li>
<p>Review the information in <a href="pre_install.htm#BABIBGFA">&#34;Logging In to the System as root&#34;</a> and <a href="usr_grps.htm#BABBHHAD">&#34;Configuring Oracle Software Owner Environment&#34;</a>.</p>
</li>
<li>
<p>Ensure that you set the path to the Oracle base directory. Oracle recommends that you create the Oracle Restart home and the Oracle Database home under the same Oracle base directory. For example:</p>
<pre dir="ltr"># ORACLE_BASE=/u01/app/oracle; 
# export ORACLE_BASE
</pre></li>
<li>
<p>Set the Oracle Restart software owner user default file mode creation mask (<code dir="ltr">umask</code>) to 022 in the shell startup file. Setting the mask to 022 ensures that the user performing the software installation creates files with 644 permissions.</p>
</li>
<li>
<p>Set <code dir="ltr">ulimit</code> settings for file descriptors and processes for the Oracle Restart installation software owner.</p>
</li>
<li>
<p>Set the <code dir="ltr">DISPLAY</code> environment variable in preparation for installation.</p>
</li>
</ul>
<p>If you plan to install Oracle Database, then you must meet additional preinstallation requirements. See <a href="pre_install.htm#BABFDGHJ">Chapter 3, &#34; Oracle Database Preinstallation Tasks&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHCGDCI"></a>
<div id="AXDBI7686" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> O<a id="sthref388"></a><a id="sthref389"></a><a id="sthref390"></a><a id="sthref391"></a><a id="sthref392"></a><a id="sthref393"></a><a id="sthref394"></a><a id="sthref395"></a>racle ACFS and Oracle ADVM</h2>
<p>This section contains information about Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle Automatic Storage Management Dynamic Volume Manager (Oracle ADVM). It contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHBDGGG">About Oracle ACFS and Oracle ADVM</a></p>
</li>
<li>
<p><a href="#CIHDHIBD">Oracle ACFS and Oracle ADVM Support on AIX</a></p>
</li>
<li>
<p><a href="#CIHJJEBD">Restrictions and Guidelines for Oracle ACFS</a></p>
</li>
<li>
<p><a href="#CIHGADBA">Enabling Oracle ACFS on Oracle Restart Configurations</a></p>
</li>
</ul>
<a id="CIHBDGGG"></a>
<div id="AXDBI7687" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.1</span> About Oracle ACFS and Oracle ADVM</h3>
<p>Oracle ACFS extends Oracle ASM technology to support all of your application data in both single instance and cluster configurations. Oracle ADVM provides volume management services and a standard disk device driver interface to clients. Oracle Automatic Storage Management Cluster File System communicates with Oracle ASM through the Oracle Automatic Storage Management Dynamic Volume Manager interface.</p>
</div>
<!-- class="sect2" -->
<a id="CIHDHIBD"></a>
<div id="AXDBI7692" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.2</span> <a id="sthref396"></a><a id="sthref397"></a><a id="sthref398"></a><a id="sthref399"></a><a id="sthref400"></a><a id="sthref401"></a><a id="sthref402"></a><a id="sthref403"></a>Oracle ACFS and Oracle ADVM Support on AIX</h3>
<p>Oracle ACFS and Oracle ADVM are supported on AIX 6.1 TL4 SP2 and later updates to AIX 6.1. Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.3), Oracle ACFS and Oracle ADVM are also supported on all Technical Levels of AIX 7.1.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>My Oracle Support Note 1369107.1 for more information about platforms and releases that support Oracle ACFS and Oracle ADVM:</p>
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show/&amp;type=NOT/&amp;id=1369107.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1369107.1</a><a href=""></a></code></p>
</li>
<li>
<p>Patch Set Updates for Oracle Products (My Oracle Support Note 854428.1 for current release and support information:</p>
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show/&amp;type=NOT/&amp;id=854428.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=854428.1</a><a href=""></a></code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHJJEBD"></a>
<div id="AXDBI7694" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> Re<a id="sthref404"></a><a id="sthref405"></a>strictions and Guidelines for Oracle ACFS</h3>
<p>Oracle Restart does not support root-based Oracle Clusterware resources. For this reason, the following restrictions apply if you run Oracle ACFS on an Oracle Restart configuration:</p>
<ul>
<li>
<p>Oracle Restart does not support Oracle ACFS resources on all platforms.</p>
</li>
<li>
<p>Starting with Oracle Database 12<span class="italic">c</span>, Oracle Restart configurations do not support the Oracle ACFS registry.</p>
</li>
<li>
<p>You must manually load Oracle ACFS drivers after a system restart.</p>
</li>
<li>
<p>You must manually mount an Oracle ACFS file system, and unmount it after the Oracle ASM instance has finished running.</p>
</li>
<li>
<p>Creating Oracle datafiles on an Oracle ACFS file system is not supported in Oracle Restart configurations.</p>
</li>
</ul>
<p>To enable Oracle ACFS on Oracle Restart see <a href="#CIHGADBA">&#34;Enabling Oracle ACFS on Oracle Restart Configurations&#34;</a>.</p>
<p>Note the following general restrictions and guidelines also about Oracle ACFS:</p>
<ul>
<li>
<p>Oracle ACFS and Oracle ADVM are not supported on IBM AIX Workload Partitions (WPARs).</p>
</li>
</ul>
<ul>
<li>
<p>Oracle ACFS can be used as an option only when Oracle ASM is configured.</p>
</li>
<li>
<p>You can place Oracle database binaries, datafiles, and administrative files (for example, trace files) on Oracle ACFS. Oracle Database homes can be stored on Oracle ACFS only if the database version is Oracle Database 11<span class="italic">g</span> Release 2 or higher. Earlier releases of Oracle Database cannot be installed on Oracle ACFS.</p>
</li>
<li>
<p>Oracle ACFS provides a general purpose file system for other files.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink AXDBN" href="../AXDBN/toc.htm"><span class="italic">Oracle Database Release Notes for IBM AIX on POWER Systems (64-Bit)</span></a> for latest information about supported platforms and releases</p>
</li>
<li>
<p><a class="olink OSTMG30000" href="../OSTMG/GUID-7783FE8B-3BAD-4C4F-83C5-DF1426340290.htm#OSTMG30000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about Oracle ACFS and Oracle ADVM</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHGADBA"></a>
<div id="AXDBI7725" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.4</span> E<a id="sthref406"></a>nabling Oracle ACFS on Oracle Restart Configurations</h3>
<p>To use Oracle ACFS on Oracle Restart configurations, install Oracle Grid Infrastructure for a standalone server, and then enable root access for Oracle ACFS using the following command:</p>
<p>Log in as <code dir="ltr">root</code></p>
<pre dir="ltr"># cd <span class="codeinlineitalic">Grid_home</span>/crs/install
# roothas.sh -lockacfs
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the <code dir="ltr">roothas.sh</code> script replaces the <code dir="ltr">roothas.pl</code> script in the Oracle Grid Infrastructure home.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHBDIDE"></a>
<div id="AXDBI7696" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Oracle Automatic Storage Management Storage Configuration</h2>
<p>Review the following sections for information on Oracle Automatic Storage Management (Oracle ASM) storage configuration:</p>
<ul>
<li>
<p><a href="#CIHDIGFF">Managing Disk Groups for Older Database Versions</a></p>
</li>
<li>
<p><a href="#CIHGDFJG">Oracle Automatic Storage Management Installation Considerations</a></p>
</li>
<li>
<p><a href="#CIHIBHFE">Configuring Storage for Oracle Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#CIHDGFDE">Configuring Oracle ASM Disk Groups Manually using Oracle ASMCA</a></p>
</li>
<li>
<p><a href="#CIHJIFCE">Testing the Oracle Automatic Storage Management Installation</a></p>
</li>
<li>
<p><a href="#CIHFFFIC">Upgrading Existing Oracle Automatic Storage Management Instances</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="inst_task.htm#BABDFJCC">&#34;Using an Existing Oracle Automatic Storage Management Disk Group&#34;</a></div>
<a id="CIHDIGFF"></a>
<div id="AXDBI7697" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.1</span> Managing Disk Groups for Older Database Versions</h3>
<p>Use Oracle ASM Configuration Assistant (Oracle ASMCA) to create and modify disk groups when you install earlier Oracle databases on Oracle Grid Infrastructure installations.</p>
<p>Releases prior to Oracle Database 11<span class="italic">g</span> Release 2 used Oracle Database Configuration Assistant (Oracle DBCA) to perform administrative tasks on Oracle ASM. Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2), Oracle ASM is installed as part of an Oracle Grid Infrastructure installation. You can no longer use Oracle DBCA to perform administrative tasks on Oracle ASM.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG02700" href="../OSTMG/GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34.htm#OSTMG02700"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for details about configuring disk group compatibility for databases using Oracle Database 11<span class="italic">g</span> or earlier software with Oracle Grid Infrastructure 12<span class="italic">c</span>.</div>
</div>
<!-- class="sect2" -->
<a id="CIHGDFJG"></a>
<div id="AXDBI7698" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.2</span> Oracle Automatic Storage Management Installation Considerations</h3>
<p>In previous releases, Oracle Automatic Storage Management (Oracle ASM) was installed as part of the Oracle Database installation. Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2), Oracle ASM is part of an Oracle Grid Infrastructure installation, either for a cluster, or for a standalone server.</p>
<p>If you want to upgrade an existing Oracle ASM installation, then you must upgrade Oracle ASM by running an Oracle Grid Infrastructure upgrade (upgrades of existing Oracle ASM installations). If you do not have Oracle ASM installed and you want to use Oracle ASM as your storage option, then you must complete an Oracle Grid Infrastructure for a standalone server installation before you start your Oracle Database installation.</p>
<p>Oracle Automatic Storage Management Configuration Assistant (Oracle ASMCA) is installed as part of the Oracle Grid Infrastructure installation. You must run Oracle ASMCA for installing and configuring Oracle ASM instances, disk groups, volumes, and Oracle ACFS. In addition, you can use the ASMCA command-line interface.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>&#34;Managing Oracle Flex ASM&#34; in <a class="olink OSTMG95329" href="../OSTMG/GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30.htm#OSTMG95329"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p>&#34;Oracle ASM Configuration Assistant&#34; in <a class="olink OSTMG50000" href="../OSTMG/GUID-C29F444F-C440-450B-A13B-84CC2147826F.htm#OSTMG50000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about Oracle ASMCA</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHIBHFE"></a>
<div id="AXDBI7699" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.3</span> Configuring Storage for Oracle Automatic Storage Management</h3>
<p>This section contains the following topics that describe how to configure storage for use with Oracle Automatic Storage Management:</p>
<ul>
<li>
<p><a href="#CIHIEFEH">Identifying Storage Requirements for Oracle Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#CIHFDBCF">Creating DAS or SAN Disk Partitions for Oracle Automatic Storage Management</a></p>
</li>
<li>
<p><a href="#CIHFCCGC">Configuring Disk Devices for Oracle Automatic Storage Management</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;Creating Disk Groups for a New Oracle Installation&#34; in <a class="olink OSTMG10206" href="../OSTMG/GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C.htm#OSTMG10206"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about creating and managing disk groups</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle does not recommend using identifiers for database object names that must be quoted. While these quoted identifiers may be valid as names in the <code dir="ltr">SQL CREATE</code> statement, such as <code dir="ltr">CREATE DISKGROUP</code> <code dir="ltr">&#34;1data&#34; ...</code>, the names may not be valid when using other tools that manage the database object.</div>
<a id="CIHIEFEH"></a>
<div id="AXDBI7700" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.3.3.1</span> Identifying Storage Requirements for Oracle Automatic Storage Management</h4>
<p>To identify the storage requirements for using Oracle ASM, you must determine the number of devices and the amount of free disk space that you require. To complete this task, follow these steps:</p>
<ol>
<li>
<p>Determine whether you want to use Oracle ASM for Oracle Database files, recovery files, or both. Oracle Database files include data files, control files, redo log files, the server parameter file, and the password file.</p>
<p>During the database installation, you have the option to select either a file system or Oracle ASM as the storage mechanism for Oracle Database files. Similarly, you also have the option to select either a file system or Oracle ASM as the storage mechanism for your recovery files.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You do not have to use the same storage mechanism for both Oracle Database files and recovery files. You can use a file system for one file type and Oracle ASM for the other.</div>
<p>If you select Oracle ASM as your storage option for Oracle Database files, then depending on your choice in the Specify Recovery Options screen, you have the following recovery options:</p>
<ul>
<li>
<p>If you select the Oracle ASM option for your recovery files, then Oracle Universal Installer provides you with only the option to use the same disk group for both Oracle Database files and recovery files.</p>
</li>
<li>
<p>If you decide not to enable recovery during the database installation, then, after the database installation, you can modify the <code dir="ltr">DB_RECOVERY_FILE_DEST</code> parameter to enable the fast recovery area.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>&#34;Oracle ASM Configuration Assistant Command-Line Interface&#34; section in <a class="olink OSTMG60000" href="../OSTMG/GUID-515EE11B-0515-4421-8274-672985BB04EF.htm#OSTMG60000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p><a href="post_inst_task.htm#BJFIFAIF">&#34;Creating a Fast Recovery Area Disk Group&#34;</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Choose the Oracle ASM redundancy level to use for each Oracle ASM disk group<a id="sthref407"></a> that <a id="sthref408"></a><a id="sthref409"></a><a id="sthref410"></a>you create.</p>
<p><a id="sthref411"></a><a id="sthref412"></a><a id="sthref413"></a>The <a id="sthref414"></a><a id="sthref415"></a>redundancy level that you choose for the Oracle ASM disk group determines how Oracle ASM mirrors files in the disk group and determines the number of disks and amount of disk space that you require, as follows:<a id="sthref416"></a><a id="sthref417"></a></p>
<ul>
<li>
<p>External redundancy</p>
<p>This option does not allow Oracle ASM to mirror the contents of the disk group. Oracle recommends that you select this redundancy level either when the disk group contains devices, such as RAID devices, that provide their own data protection or when the database does not require uninterrupted access to data.</p>
</li>
<li>
<p>Normal redundancy</p>
<p>To optimize performance and reliability in a normal redundancy disk group, Oracle ASM uses two-way mirroring for data files and three-way mirroring for control files, by default. In addition, you can choose the mirroring characteristics for individual files in a disk group. You can use two-way mirroring or no mirroring.</p>
<p>A normal redundancy disk group requires a minimum of two failure groups (or two disk devices) if you are using two-way mirroring. The effective disk space in a normal redundancy disk group is half the sum of the disk space of all of its devices.</p>
<p>For most installations, Oracle recommends that you use normal redundancy disk groups.</p>
</li>
<li>
<p>High redundancy</p>
<p>The contents of the disk group are three-way mirrored by default. To create a disk group with high redundancy, you must specify at least three failure groups (a minimum of three devices).</p>
<p>Although high-redundancy disk groups provide a high level of data protection, you must consider the higher cost of additional storage devices before deciding to use this redundancy level.</p>
</li>
</ul>
</li>
<li>
<p>Determine the total amount of disk space that you require for the database files <a id="sthref418"></a><a id="sthref419"></a>and recovery files.<a id="sthref420"></a><a id="sthref421"></a><a id="sthref422"></a><a id="sthref423"></a><a id="sthref424"></a></p>
<p>If an Oracle ASM instance is running on the system, then you can use an existing disk group to meet these storage requirements. If necessary, you can add disks to an existing disk group during the database installation.</p>
<p>Use the following table to determine the minimum number of disks and the minimum disk space requirements for the <a id="sthref425"></a><a id="sthref426"></a>installation:<a id="sthref427"></a><a id="sthref428"></a><a id="sthref429"></a><a id="sthref430"></a></p>
<div class="inftblinformal">
<table class="cellalignment1371" title="Disk Space Calculation Table" summary="This table provides information to help you determine the disk space requirements." dir="ltr">
<thead>
<tr class="cellalignment1362">
<th class="cellalignment1372" id="r1c1-t16">Redundancy Level</th>
<th class="cellalignment1372" id="r1c2-t16">Minimum Number of Disks</th>
<th class="cellalignment1372" id="r1c3-t16">Data Files</th>
<th class="cellalignment1372" id="r1c4-t16">Recovery Files</th>
<th class="cellalignment1372" id="r1c5-t16">Both File Types</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r2c1-t16" headers="r1c1-t16">External</td>
<td class="cellalignment1368" headers="r2c1-t16 r1c2-t16">1</td>
<td class="cellalignment1368" headers="r2c1-t16 r1c3-t16">1.8 GB</td>
<td class="cellalignment1368" headers="r2c1-t16 r1c4-t16">3.6 GB</td>
<td class="cellalignment1368" headers="r2c1-t16 r1c5-t16">5.4 GB</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r3c1-t16" headers="r1c1-t16">Normal</td>
<td class="cellalignment1368" headers="r3c1-t16 r1c2-t16">2</td>
<td class="cellalignment1368" headers="r3c1-t16 r1c3-t16">3.6 GB</td>
<td class="cellalignment1368" headers="r3c1-t16 r1c4-t16">7.2 GB</td>
<td class="cellalignment1368" headers="r3c1-t16 r1c5-t16">10.8 GB</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r4c1-t16" headers="r1c1-t16">High</td>
<td class="cellalignment1368" headers="r4c1-t16 r1c2-t16">3</td>
<td class="cellalignment1368" headers="r4c1-t16 r1c3-t16">5.4 GB</td>
<td class="cellalignment1368" headers="r4c1-t16 r1c4-t16">10.8 GB</td>
<td class="cellalignment1368" headers="r4c1-t16 r1c5-t16">16.2 GB</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" --></li>
<li>
<p>Optionally, identify failure groups for the Oracle ASM disk group devices.<a id="sthref431"></a><a id="sthref432"></a><a id="sthref433"></a></p>
<p><a id="sthref434"></a><a id="sthref435"></a><a id="sthref436"></a><a id="sthref437"></a><a id="sthref438"></a>If <a id="sthref439"></a><a id="sthref440"></a><a id="sthref441"></a>you intend to use a normal or high redundancy disk group, then you can further protect the database against hardware failure by associating a set of disk devices in a custom failure group. By default, each device is included in its failure group. However, if two disk devices in a normal redundancy disk group are attached to the same small computer system interface (SCSI) controller, then the disk group becomes unavailable if the controller fails. The controller in this example is a single point of failure.</p>
<p>For instance, to avoid failures of this type, you can use two SCSI controllers, each with two disks, and define a failure group for the disks attached to each controller. This configuration would enable the disk group to tolerate the failure of one SCSI controller.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Define custom failure groups after installation, using the GUI tool ASMCA, the command line tool <code dir="ltr">asmcmd</code>, or SQL commands. If you define custom failure groups, then you must specify a minimum of two failure groups for normal redundancy disk groups and three failure groups for high redundancy disk groups.</div>
</li>
<li>
<p>If you are sure that a suitable disk group does not exist on the system, then install or identify appropriate disk devices to add to a new disk group. Use the following guidelines when identifying appropriate disk devices:</p>
<ul>
<li>
<p>The disk devices must be owned by the user performing the grid installation.</p>
</li>
<li>
<p>All the devices in an Oracle ASM disk group must be the same size and have the same performance characteristics.</p>
</li>
<li>
<p>Do not specify multiple partitions on a single physical disk as a disk group device. Oracle ASM expects each disk group device to be on a separate physical disk.</p>
</li>
<li>
<p>Although you can specify a logical volume as a device in an Oracle ASM disk group, Oracle does not recommend their use because it adds a layer of complexity that is unnecessary with Oracle ASM. Oracle recommends that if you choose to use a logical volume manager, then use the logical volume manager to represent a single logical unit number (LUN) without striping or mirroring, so that you can minimize the effect on storage performance of the additional storage layer.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;Preparing Storage for ASM&#34; in <a class="olink OSTMG11000" href="../OSTMG/GUID-2D51DA36-0BC8-4602-9D5E-4CBF41A6D7F1.htm#OSTMG11000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about configuring Oracle ASM disk groups</div>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="CIHFDBCF"></a>
<div id="AXDBI7701" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.3.3.2</span> Creating DAS or SAN Disk Partitions for Oracle Automatic Storage Management</h4>
<p><a id="sthref442"></a><a id="sthref443"></a><a id="sthref444"></a>In order to <a id="sthref445"></a><a id="sthref446"></a><a id="sthref447"></a><a id="sthref448"></a>use a DAS or SAN disk in Oracle ASM, the disk must have a partition table. Oracle recommends creating exactly one partition for each disk.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Y<a id="sthref449"></a><a id="sthref450"></a>ou can use any physical disk for Oracle ASM, if it is partitioned.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="app_nas.htm#BCFHCIEC">&#34;Creating Files on a NAS Device for Use with Oracle Automatic Storage Management&#34;</a></div>
</div>
<!-- class="sect3" -->
<a id="CIHFCCGC"></a>
<div id="AXDBI7705" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.3.3.3</span> Configuring Disk Devices for Oracle Automatic Storage Management<a id="sthref451"></a></h4>
<p>To configure disks for use with Automatic Storage Management:</p>
<ol>
<li>
<p>If necessary, install the disks that you intend to use for the Automatic Storage Management disk group and restart the system.</p>
</li>
<li>
<p>To ensure that the disks are available, enter the following command: <a id="sthref452"></a><a id="sthref453"></a><a id="sthref454"></a><a id="sthref455"></a><a id="sthref456"></a></p>
<pre dir="ltr"># /usr/sbin/lsdev -Cc disk
</pre>
<p>The output from this command is similar to the following: <a id="sthref457"></a><a id="sthref458"></a><a id="sthref459"></a></p>
<pre dir="ltr">hdisk0 Available 1A-09-00-8,0  16 Bit LVD SCSI Disk Drive
hdisk1 Available 1A-09-00-9,0  16 Bit LVD SCSI Disk Drive
hdisk2 Available 17-08-L       SSA Logical Disk Drive
</pre></li>
<li>
<p>If a disk is not listed as available, then enter the following command to configure the new disks:<a id="sthref460"></a><a id="sthref461"></a><a id="sthref462"></a><a id="sthref463"></a></p>
<pre dir="ltr"># /usr/sbin/cfgmgr
</pre></li>
<li>
<p>Enter the following command on any node to identify the device names for the physical disks that you want to use: <a id="sthref464"></a><a id="sthref465"></a><a id="sthref466"></a><a id="sthref467"></a><a id="sthref468"></a></p>
<pre dir="ltr"># /usr/sbin/lspv | grep -i none
</pre>
<p>This command displays information similar to the following for each disk that is not configured in a volume group:</p>
<pre dir="ltr">hdisk2     0000078752249812   None
</pre>
<p>In this example, <code dir="ltr">hdisk2</code> is the device name of the disk and <code dir="ltr">0000078752249812</code> is the physical volume ID (PVID). The disks that you want to use may have a PVID, but they must not belong to a volume group.</p>
</li>
<li>
<p>Enter commands similar to the following to clear the PVID from each disk device that you want to use:</p>
<pre dir="ltr"># /usr/sbin/chdev -l hdisk<span class="italic">n</span> -a pv=clear
</pre></li>
<li>
<p><a id="sthref469"></a><a id="sthref470"></a><a id="sthref471"></a><a id="sthref472"></a>Enter commands similar to the following to change the owner, group, and permissions on the character file for each disk that you want to add to the disk group:<a id="sthref473"></a><a id="sthref474"></a><a id="sthref475"></a><a id="sthref476"></a><a id="sthref477"></a><a id="sthref478"></a><a id="sthref479"></a><a id="sthref480"></a><a id="sthref481"></a><a id="sthref482"></a></p>
<pre dir="ltr"># chown oracle:dba /dev/rhdisk<span class="italic">n</span>
# chmod 660 /dev/rhdisk<span class="italic">n</span>
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are using a multi-pathing disk driver with Automatic Storage Management, then ensure that you set the permissions only on the correct logical device name for the disk.</div>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CIHDGFDE"></a>
<div id="AXDBI7715" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.4</span> Configuring Oracle ASM Disk Groups Manually using Oracle ASMCA</h3>
<p>The Oracle Automatic Storage Management Configuration Assistant (Oracle ASMCA) utility creates a new Oracle Automatic Storage Management instance if there is no Oracle ASM instance currently configured on the computer.</p>
<p>After installing Oracle Grid Infrastructure for a standalone server, you can also use Oracle ASMCA to create and configure disk groups, Oracle ADVM and Oracle ACFS.</p>
<p>To create additional disk groups or manually configure Oracle ASM disks, you can run the Oracle ASMCA as follows:</p>
<pre dir="ltr">$ cd <span class="codeinlineitalic">Grid_home</span>/bin
$ ./asmca
</pre>
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path to the Oracle Grid Infrastructure for a standalone server home.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="../OSTMG/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" -->
<a id="CIHJIFCE"></a>
<div id="AXDBI7716" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.5</span> Testing the Oracle Automatic Storage Management Installation</h3>
<p>After installing Oracle Grid Infrastructure for a standalone server, as described in this chapter, t<a id="sthref483"></a>o <a id="sthref484"></a><a id="sthref485"></a>test the Oracle ASM installation, log in using the <code dir="ltr">asmcmd</code> command-line utility, which lets you manage Oracle ASM disk group files and directories. To do this:</p>
<ol>
<li>
<p>Open a shell window, and temporarily set the <code dir="ltr">ORACLE_SID</code> and <code dir="ltr">ORACLE_HOME</code> environment variables to specify the appropriate values for the Oracle ASM instance to use.</p>
<p>For example, if the Oracle ASM <code dir="ltr">SID</code> is named <code dir="ltr">+ASM</code> and the Oracle home is located in the <code dir="ltr">grid</code> subdirectory of the <code dir="ltr">ORACLE_BASE</code> directory, then enter the following commands to create the required settings:</p>
<ul>
<li>
<p>Bourne, Bash, or Korn shell:</p>
<pre dir="ltr">$ ORACLE_SID=+ASM
$ export ORACLE_SID
$ ORACLE_HOME=/u01/app/oracle/product/12.1.0/grid
$ export ORACLE_HOME
</pre></li>
<li>
<p>C shell:</p>
<pre dir="ltr">% setenv ORACLE_SID +ASM
% setenv ORACLE_HOME /u01/app/oracle/product/12.1.0/grid
</pre></li>
</ul>
</li>
<li>
<p>Use ASMCMD to list the disk groups for the Oracle ASM instance:</p>
<pre dir="ltr">$ORACLE_HOME/bin/asmcmd lsdg
</pre>
<p>ASMCMD connects by default as the SYS user with SYSASM privileges.</p>
<p>If the Oracle ASM instance is not running, start the instance with the following command:</p>
<pre dir="ltr">$ORACLE_HOME/bin/asmcmd startup
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;Oracle ASM Command-Line Utility&#34; in <a class="olink OSTMG016" href="../OSTMG/GUID-78D76D36-8395-4936-AF53-1A4A27806327.htm#OSTMG016"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" -->
<a id="CIHFFFIC"></a>
<div id="AXDBI7717" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.6</span> Upgrading Existing Oracle Automatic Storage Management Instances</h3>
<p>If you have an Oracle ASM installation from an earlier release installed on your server, or in an existing Oracle Restart installation, you can use Oracle Automatic Storage Management Configuration Assistant (Oracle ASMCA) to upgrade the existing Oracle ASM instance to 12<span class="italic">c</span>, and subsequently configure disk groups, Oracle ASM volumes and Oracle ASM file systems.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must first shut down all databases and applications using an existing Oracle ASM instance before upgrading it.</div>
<p>During the installation, if you use Oracle ASM, and Oracle ASMCA detects that there is a prior Oracle ASM version installed in another Oracle ASM home, then after installing the Oracle ASM 12<span class="italic">c</span> binaries, you can start Oracle ASMCA to upgrade the existing Oracle ASM instance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>&#34;Upgrade an Oracle ASM Instance&#34; in <a class="olink OSTMG94317" href="../OSTMG/GUID-DEF14BF6-30C4-4B52-969D-97158063F612.htm#OSTMG94317"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p>&#34;Upgrading an Oracle ASM Instance with Oracle ASM Configuration Assistant&#34; in <a class="olink OSTMG94297" href="../OSTMG/GUID-08A29D79-B9A6-4873-BF34-969929540532.htm#OSTMG94297"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p>&#34;Downgrading an Oracle ASM Instance in an Oracle Restart Configuration&#34; in <a class="olink OSTMG" href="../OSTMG/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHECGII"></a>
<div id="AXDBI7718" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Installing Oracle Grid Infrastructure for a Standalone Server Using a Software-Only Installation</h2>
<p>A software-only installation only copies the Oracle Grid Infrastructure for a standalone server binaries to the specified location. After the installation, manually configure Oracle Grid Infrastructure for a standalone server and Oracle ASM.</p>
<p>When you perform a software-only installation of Oracle Grid Infrastructure software, you must complete a few manual configuration steps to enable Oracle Restart after you install the software.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref486"></a>Oracle recommends that only advanced users perform the software-only installation because this installation method provides no validation of the installation, and this installation option requires manual postinstallation steps to enable the Oracle Grid Infrastructure for a standalone server software.</div>
<p>Performing a software-only installation involves the following steps:</p>
<ol>
<li>
<p><a href="#CIHIHCCD">Installing the Software Binaries</a></p>
</li>
<li>
<p><a href="#CIHGFBCJ">Configuring the Software Binaries</a></p>
</li>
</ol>
<a id="CIHIHCCD"></a>
<div id="AXDBI7719" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.1</span> Installing the Software Binaries</h3>
<ol>
<li>
<p><a id="sthref487"></a>Run the <code dir="ltr">runInstaller</code> command from the relevant directory on the Oracle Database 12<span class="italic">c</span> installation media or download directory.</p>
</li>
<li>
<p>Complete a software-only installation of Oracle Grid Infrastructure for a standalone server.</p>
</li>
<li>
<p>Run the <code dir="ltr">orainstRoot.sh</code> script if prompted.</p>
</li>
<li>
<p>Oracle Universal Installer (OUI) prompts you to run the <code dir="ltr">root.sh</code> script.</p>
</li>
<li>
<p><code dir="ltr">root.sh</code> then prompts you to run <code dir="ltr">roothas.pl</code>. See <a href="#CIHGFBCJ">&#34;Configuring the Software Binaries&#34;</a> for information about running <code dir="ltr">roothas.pl</code> and configuring Oracle Grid Infrastructure for a standalone server after performing a software-only installation.</p>
</li>
<li>
<p>V<a id="sthref488"></a>erify that the server meets the installation requirements using the command <code dir="ltr">runcluvfy.sh stage -pre</code> <code dir="ltr">hacfg</code>. Ensure that you complete all storage and server preinstallation requirements.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHGFBCJ"></a>
<div id="AXDBI7720" class="sect2">
<h3 class="sect2"><span class="secnum">5.4.2</span> <a id="sthref489"></a>Configuring the Software Binaries</h3>
<p>To configure and activate a software-only Oracle Grid Infrastructure for a standalone server installation for Oracle Restart, complete the following tasks:</p>
<ol>
<li>
<p>Log in as the <code dir="ltr">root</code> user and run the <code dir="ltr">roothas.pl</code> script from <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> using the following syntax:</p>
<pre dir="ltr"><span class="italic">Grid_home</span>/perl/bin/perl -I <span class="italic">Grid_home</span>/perl/lib -I <span class="italic">Grid_home</span>/crs/install 
<span class="italic">Grid_home</span>/crs/install/roothas.pl
</pre>
<p>For example, if your Oracle Grid Infrastructure for a standalone server home is <code dir="ltr">u01/app/oracle/product/12.1.0/grid</code>, then run the following script:</p>
<pre dir="ltr"># /u01/app/oracle/product/12.1.0/grid/perl/bin/perl -I /u01/app/oracle/product/12.1.0/grid/perl/lib -I /u01/app/oracle/product
/12.1.0/grid/crs/install /u01/app/oracle/product/12.1.0/grid/crs/install/roothas.pl
</pre></li>
<li>
<p>Change the directory to <code dir="ltr"><span class="codeinlineitalic">Grid_home/</span></code><code dir="ltr">oui/bin</code>, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path of the Oracle Grid Infrastructure for a standalone server home.</p>
</li>
<li>
<p>Log in as the Oracle Restart software owner user and enter the following command:</p>
<pre dir="ltr">./runInstaller -updateNodeList ORACLE_HOME=<span class="codeinlineitalic">Grid_home</span> -defaultHomeName CLUSTER_NODES= CRS=TRUE
</pre>
<p>For example:</p>
<pre dir="ltr">$ ./runInstaller -updateNodeList ORACLE_HOME=/u01/app/oracle/product/12.1.0/grid
-defaultHomeName CLUSTER_NODES= CRS=TRUE
</pre></li>
<li>
<p>Use the <code dir="ltr">SRVCTL</code> utility along with Oracle Network Configuration Assistant and Oracle ASMCA to add the listener, the Oracle ASM instance, and all Oracle ASM disk groups to the Oracle Restart configuration.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink NETAG218" href="../NETAG/admintools.htm#NETAG218"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> to configure a listener using Oracle Network Configuration Assistant</p>
</li>
<li>
<p><a class="olink OSTMG50000" href="../OSTMG/GUID-C29F444F-C440-450B-A13B-84CC2147826F.htm#OSTMG50000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> to create and add disk groups, and configure Oracle ASM using Oracle ASMCA</p>
</li>
<li>
<p><a class="olink ADMIN12708" href="../ADMIN/restart.htm#ADMIN12708"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> to create and add an ASM instance using SRVCTL</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABHEBIG"></a>
<div id="AXDBI7721" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.5</span> Installing and Configuring Oracle Grid Infrastructure for a Standalone Server</h2>
<p>If you install Oracle Grid Infrastructure for a standalone server and then create your database, the database is automatically added to the Oracle Restart configuration and is automatically restarted when required. However, if you install Oracle Grid Infrastructure for a standalone server on a host computer on which a database exists, you must manually add the database, the listener, the Oracle ASM instance, and other components to the Oracle Restart configuration.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Grid Infrastructure for a standalone server can accommodate multiple single-instance databases on a single host computer.</div>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#BABCHCBG">Installing Oracle Grid Infrastructure for a Standalone Server with a New Database Installation</a></p>
</li>
<li>
<p><a href="#BABCIBEF">Installing Oracle Grid Infrastructure for a Standalone Server for an Existing Database</a></p>
</li>
</ul>
<a id="BABCHCBG"></a>
<div id="AXDBI7722" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.1</span> Installing Oracle Grid Infrastructure for a Standalone Server with a New Database Installation<a id="sthref490"></a><a id="sthref491"></a></h3>
<p>Perform the following steps to install Oracle Grid Infrastructure for a standalone server and then create a database that is managed by Oracle Restart. First install Oracle Grid Infrastructure for a standalone server, which installs Oracle Restart and Oracle ASM, then configure Oracle ASM with at least one disk group, and then install Oracle Database that stores database files in Oracle ASM disk groups. Click the help button on the Oracle Universal Installer page for page level assistance.</p>
<p>You may have to shut down existing Oracle processes before you proceed with the Oracle Grid Infrastructure for a standalone server installation. See <a href="usr_grps.htm#BACFIBJI">&#34;Stopping Existing Oracle Processes&#34;</a> for more information.</p>
<p>To install Oracle Grid Infrastructure for a standalone server with a new database installation:</p>
<ol>
<li>
<p>Start Oracle Universal Installer as the Oracle Restart software owner user. Complete one of the following steps depending on the location of the installation files:</p>
<ul>
<li>
<p>If the installation files are on installation media, enter commands similar to the following, where <code dir="ltr"><span class="codeinlineitalic">directory_path</span></code> is the path of the Oracle Grid Infrastructure for a standalone server directory on the installation media:</p>
<pre dir="ltr">$ /<span class="italic">directory_path</span>/runInstaller
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
You must install Oracle Grid Infrastructure for a standalone server from the Oracle Grid Infrastructure media.</div>
</li>
<li>
<p>If the installation files are on the hard disk, change the directory to the path of the Oracle Grid Infrastructure for a standalone server (<code dir="ltr">clusterware</code>) directory and enter the following command:</p>
<pre dir="ltr">$ ./runInstaller
</pre></li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Start Oracle Universal Installer from the terminal session where you logged in as the Oracle Restart software owner user and set the user&#39;s environment.</div>
<p>If Oracle Universal Installer is not displayed, see <a href="app_ts.htm#BABBIJFD">&#34;X Window Display Errors&#34;</a> and <a href="app_ts.htm#BEIGDIDJ">&#34;Remote Terminal Installation Error&#34;</a> for information about troubleshooting.</p>
</li>
<li id="CIHHIJIJ">
<p>In the Select Installation Option screen, select the <span class="bold">Install and Configure Oracle Grid Infrastructure for a Standalone Server</span> option to install and configure Oracle Restart and Oracle ASM. Click <span class="bold">Next.</span></p>
</li>
<li>
<p>In the Select Product Languages screen, select one or more languages. Move the languages from the Available Languages list to the Selected Languages list. Click <span class="bold">Next.</span></p>
</li>
<li>
<p>The Create ASM Disk Group screen lists all the Oracle ASM disks<code dir="ltr">.</code></p>
<p>Click <span class="bold">Change Discovery Path</span> to select any devices to be used by Oracle ASM but are not listed in the screen. In the Change Disk Discovery Path window, enter a string to use to search for devices that Oracle ASM will use. If the disk string is set to <code dir="ltr">ORCL:*</code> or is left empty (&#34;&#34;), then the installer discovers these disks. Click <span class="bold">OK.</span></p>
<p>After you finish selecting the disks to be used by Oracle ASM, click <span class="bold">Next</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
During installation, disk paths mounted on Oracle ASM and registered with the string <code dir="ltr">ORCL:*</code> are listed as default database storage candidate disks.</div>
<p>Consider the following information about disk devices while performing this step:</p>
<ul>
<li>
<p>The default Disk Group Name is <code dir="ltr">DATA</code>. You can enter a new name for the disk group, or use the default name.</p>
</li>
<li>
<p>The disk devices must be owned by the user performing the grid installation.</p>
</li>
<li>
<p>Check with your system administrator to determine if the disks used by Oracle ASM are mirrored at the storage level. If so, select <span class="bold">External</span> for the redundancy. If the disks are not mirrored at the storage level, then select <span class="bold">Normal</span> for the redundancy.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For normal redundancy, you require twice as much disk space to hold the same amount of data. For example, if your database is 100 GB, then you require approximately 200 GB of storage.</div>
</li>
<li>
<p>Every Oracle ASM disk is divided into allocation units (AU). An allocation unit is the fundamental unit of allocation within a disk group. You can select the <span class="bold">AU Size</span> value from 1, 2, 4, 8, 16, 32 or 64 MB, depending on the specific disk group compatibility level. The default value is set to 1 MB.</p>
</li>
</ul>
</li>
<li>
<p>In the Specify ASM Password screen, enter the password required to connect to the Oracle ASM instance. The Oracle ASM instance is managed by a privileged role called <code dir="ltr">SYSASM</code>, which grants full access to Oracle ASM disk groups. Oracle recommends that you create a less privileged user, <code dir="ltr">ASMSNMP</code>, with <code dir="ltr">SYSDBA</code> privileges to monitor the Oracle ASM instance.</p>
<p>Enter passwords for the <code dir="ltr">SYS</code> and <code dir="ltr">ASMSNMP</code> user accounts. The passwords should be at least eight characters in length and include at least 1 alphabetic, 1 numeric, and 1 of the following three punctuation mark characters: hyphens (<code dir="ltr">-</code>), underscores (<code dir="ltr">_</code>), or number sign (<code dir="ltr">#</code>). No other special characters are allowed in the password field.</p>
<p>Optionally, you can use the same password for all accounts. However, Oracle recommends that you specify a different password for each account. You must remember the passwords that you specify.</p>
</li>
<li>
<p>The Specify Management Options screen gives you the option to manage Oracle Grid Infrastructure and Oracle Automatic Storage Management using Oracle Enterprise Manager Cloud Control. Select <span class="bold">Register with Enterprise Manager (EM) Cloud Control</span> and specify the following configuration information:</p>
<ul>
<li>
<p>OMS Host: The system name where the Management repository is running.</p>
</li>
<li>
<p>OMS Port: The Oracle Enterprise Manager port number to receive requests from the Management service.</p>
</li>
<li>
<p>EM Admin User Name: The user name to log in to Oracle Enterprise Manager.</p>
</li>
<li>
<p>EM Admin Password: The password to log in to Oracle Enterprise Manager.</p>
</li>
</ul>
</li>
<li>
<p>In the Privileged Operating System Groups screen, select the name of the operating system group you created for the <code dir="ltr">OSDBA</code> group, the <code dir="ltr">OSASM</code> group, and the Oracle ASM operator group <code dir="ltr">OSOPER</code>. If you create only the <code dir="ltr">dba</code> group, then you can use that group for all three privileged groups. If you created a separate <code dir="ltr">asmadmin</code> group, then use that value for the <code dir="ltr">OSASM</code> group. Click <span class="bold">Next</span>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="usr_grps.htm#BABFECII">&#34;Oracle Automatic Storage Management Groups for Job Role Separation&#34;</a></div>
</li>
<li>
<p>In the Specify Installation Location screen, enter the following information, and click <span class="bold">Next:</span></p>
<ul>
<li>
<p><span class="bold">Oracle Base</span>: Enter the location for the Oracle base directory. Do not include spaces in the path.</p>
</li>
<li>
<p><span class="bold">Software Location:</span> Accept the default value or enter the directory path in which you want to install the software.The directory path must not contain spaces.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="pre_install.htm#CIHIBHIG">&#34;Identifying Required Software Directories&#34;</a> for information about Oracle base directory and Oracle home directory</p>
</li>
<li>
<p><a href="appendix_ofa.htm#BGBIBCAC">&#34;Naming Directories&#34;</a> for directory naming conventions</p>
</li>
</ul>
</div>
</li>
<li id="CIHGGFCE">
<p>The Root Script Execution Configuration screen allows you to select the configuration method to either automatically or manually run the root scripts during the grid infrastructure installation. To run root scripts automatically, select <span class="bold">Automatically run configuration scripts</span> and select one of the following options:</p>
<ul>
<li>
<p>Use &#34;root&#34; user credential: Provide the <code dir="ltr">root</code> user password.</p>
</li>
<li>
<p>Use Sudo: Provide the program path, username, and password for the sudo program.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="usr_grps.htm#BACGGBAI">&#34;Determining Root Script Execution Plan&#34;</a></div>
</li>
<li>
<p>The Create Inventory screen is displayed only if this is the first time you are installing Oracle software on your system.</p>
<p>Change the path for the Inventory Directory, if required. Select <code dir="ltr">oinstall</code> for the oraInventory Group Name, if required. Click <span class="bold">Next.</span></p>
</li>
<li>
<p>The Perform Prerequisite Checks screen checks if the minimum system requirements are met to perform the Oracle Grid Infrastructure for a standalone server installation. If all the system requirements are met, then you are directed to the Summary screen. If an installation fails, you can review the error.</p>
<p>If you click <span class="bold">Check Again</span>, then you can run the prerequisite check again to see if the minimum requirements are met to carry on with the database installation.</p>
<p>Click <span class="bold">Fix &amp; Check Again</span>, if you want the installer to fix the problem and check the system requirements again.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Fix &amp; Check Again option generates a script that you must run as the <code dir="ltr">root</code> user. This generated script sets some system parameter values. Oracle recommends that you do not modify the contents of this script. See <a href="pre_install.htm#BABGICDD">&#34;Using Installation Fixup Scripts&#34;</a> for more information.</div>
<p>To get a list of failed requirements, select <span class="bold">Show Failed</span> from the list. To get a list of all the prerequisite checks run by Oracle Universal Installer, select <span class="bold">Show All</span>. To get a list of the prerequisites checks that are successful, select <span class="bold">Show Succeeded.</span></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you use caution when selecting the Ignore All option. If you select this option, then Oracle Universal Installer may not confirm that your system can install Oracle Database successfully.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#i1011299">&#34;Configuring Servers for Oracle Grid Infrastructure for a Standalone Server&#34;</a></p>
</li>
<li>
<p><a href="pre_install.htm#BABFDGHJ">Chapter 3, &#34; Oracle Database Preinstallation Tasks&#34;</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Review the contents of the Summary screen, and click <span class="bold">Install.</span></p>
<p>You can click <span class="bold">Save Response File</span> to save all the installation steps into a response file. This file can be used for a silent installation.</p>
</li>
<li>
<p>The Install Product screen displays the progress of the Oracle Grid Infrastructure for a standalone server installation.</p>
<p>If you selected an option to automatically run the root scripts in the Root Script Execution Configuration screen, then Oracle Universal Installer automatically runs the root scripts. Click <span class="bold">Next.</span></p>
<p>Else, if you did not select the option to automatically run the configuration scripts, then Oracle Universal Installer prompts you to run the <code dir="ltr">root.sh</code> script and, if required, the <code dir="ltr">orainstRoot.sh</code> script as the <code dir="ltr">root</code> user to complete the installation. During this process, the Execute Configuration Scripts window appears. Do <span class="italic">not</span> click <span class="bold">OK</span> until you run the scripts mentioned in this screen.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">orainstRoot.sh</code> script must be run if this is the first time you are installing Oracle software on your system. However, if you selected an option to automatically run the root scripts, then Oracle Universal Installer automatically runs the <code dir="ltr">oraInstRoot.sh</code> script.</div>
</li>
<li>
<p>The Finish screen displays the installation status. Click <span class="bold">Close</span> to end the installation and exit Oracle Universal Installer.</p>
<p>If you encounter any errors, see the configuration log for information. The path to the configuration log is displayed on the Configuration Assistants window.</p>
</li>
<li>
<p>Oracle ASMCA is installed as part of the Oracle Grid Infrastructure for a standalone server installation. To create additional disk groups, run the Oracle ASMCA utility. For example, you can create another disk group named <code dir="ltr">RECOVERY</code> to store the fast recovery area.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CIHDGFDE">&#34;Configuring Oracle ASM Disk Groups Manually using Oracle ASMCA&#34;</a></p>
</li>
<li>
<p><a href="post_inst_task.htm#BJFIFAIF">&#34;Creating a Fast Recovery Area Disk Group&#34;</a></p>
</li>
</ul>
</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
To verify that the Oracle High Availability Service is installed properly, run <code dir="ltr">./crsctl check has</code> command from <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/bin</code> directory.
<p><code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path to the Oracle Grid Infrastructure for a standalone server home. <code dir="ltr">ohasd</code> is a daemon installed with Oracle Grid Infrastructure that starts software services, such as Oracle ASM.</p>
</div>
</li>
<li>
<p>Install Oracle Database. See <a href="inst_task.htm#BABJGGJH">&#34;Installing the Oracle Database Software&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>If a new database is installed after a grid infrastructure installation, then the listener runs from the Oracle Grid Infrastructure for a standalone server home. Because Oracle ASM is installed as part of Oracle Grid Infrastructure for a standalone server, the default listener is created and runs from the Oracle Grid Infrastructure for a standalone server home. If you perform a database installation, then the database must use the same listener created during the Oracle Grid Infrastructure for a standalone server installation.</p>
</li>
<li>
<p>If you are using Oracle Restart, then the default listener and any additional listeners must run from the Oracle Grid Infrastructure for a standalone server home.</p>
</li>
</ul>
</div>
<p>See <a href="app_ts.htm#BEIHBDIC">&#34;Troubleshooting and Deconfiguring Oracle Restart&#34;</a> to deconfigure Oracle Restart without removing installed binaries.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCIBEF"></a>
<div id="AXDBI7723" class="sect2">
<h3 class="sect2"><span class="secnum">5.5.2</span> Installing Oracle Grid Infrastructure for a Standalone Server for an Existing Database</h3>
<p>Follow the high-level instructions in this section to install Oracle Grid Infrastructure for a standalone server and configure it for an existing Oracle database. Oracle Restart can only manage existing release 12.1 resources and hence you can install Oracle Grid Infrastructure for a standalone server only for an existing release 12.1 database. However, Oracle database releases before 12.1 can coexist on the same server without being managed by Oracle Restart.</p>
<p>To install Oracle Grid Infrastructure for a standalone server for an existing database:</p>
<ul>
<li>
<p>On the same host computer as the database, use Oracle Universal Installer to install Oracle Grid Infrastructure for a standalone server, and select <span class="bold">Install and Configure Oracle Grid Infrastructure</span> <span class="bold">for a Standalone Server</span> as the installation option.</p>
<p>The Oracle Grid Infrastructure for a standalone server components are installed in a separate Oracle home.</p>
<p>See <a href="#BABCHCBG">&#34;Installing Oracle Grid Infrastructure for a Standalone Server with a New Database Installation&#34;</a> for detailed instructions.</p>
</li>
<li>
<p>Go to the Grid home&#39;s <code dir="ltr">bin</code> directory.</p>
<p>Use the <code dir="ltr">srvctl add database</code> command with the <code dir="ltr">-c SINGLE</code> flag to add the database in an Oracle Restart configuration. Also use the <code dir="ltr">srvctl add</code> command to add the listener, the Oracle ASM instance, all Oracle ASM disk groups, and any database services to the Oracle Restart configuration.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN5009" href="../ADMIN/restart.htm#ADMIN5009"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJCHIJ"></a>
<div id="AXDBI7724" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.6</span> Modifying Oracle Grid Infrastructure for a Standalone Server Binaries After Installation</h2>
<p>After the Oracle Grid Infrastructure for a standalone server installation, you must first stop the Oracle Restart stack to modify the software installed in your Grid home. For example, to apply a one-off patch or modify any of the DLLs used by Oracle Restart or Oracle ASM, you must follow these steps to stop and restart the Oracle Restart stack.</p>
<p>However, if you run the OPatch utility with the <code dir="ltr">auto</code> option, <code dir="ltr">opatchauto</code>, then do not stop and restart the Oracle Restart stack manually as OPatch stops and starts the software stack for you. If you run OPatch with the <code dir="ltr">apply</code> option, <code dir="ltr">opatch apply</code>, then you must follow the steps in this section to stop and restart the Oracle Restart stack manually.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OPTCH149" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OPTCH149"><span class="italic">Oracle OPatch User&#39;s Guide for Windows and UNIX</span></a> for information about using <code dir="ltr">opatchauto</code></div>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Before relinking executables, you must shut down all executables that run in the Oracle home directory that you are relinking. In addition, shut down applications linked with Oracle shared libraries.</div>
<p>Prepare the Oracle Grid Infrastructure for a standalone server home for modification using the following procedure:</p>
<ol>
<li>
<p>Log in as the Oracle Grid Infrastructure for a standalone server software owner user and change the directory to the path <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code><code dir="ltr">/bin</code>, where <code dir="ltr"><span class="codeinlineitalic">Grid_home</span></code> is the path to the Oracle Grid Infrastructure for a standalone server home:</p>
<pre dir="ltr">$ cd <span class="codeinlineitalic">Grid_home</span>/bin
</pre></li>
<li>
<p>Shut down the Oracle Restart stack using the following command:</p>
<pre dir="ltr">$ crsctl stop has -f
</pre></li>
<li>
<p>Perform the updates to the software installed in the Oracle Grid Infrastructure for a standalone server home.</p>
</li>
<li>
<p>Enter the following command to restart the Oracle Restart stack:</p>
<pre dir="ltr">$ crsctl start has
</pre></li>
</ol>
<p>Relink<a id="sthref492"></a> Oracle Grid Infrastructure for a standalone server using the following procedure:</p>
<ol>
<li>
<p>Log in as <code dir="ltr">root</code></p>
<pre dir="ltr"># cd <span class="codeinlineitalic">Grid_home</span>/crs/install
# roothas.sh -unlock
</pre></li>
<li>
<p>Log in as the Oracle Grid Infrastructure for a standalone server owner:</p>
<pre dir="ltr">$ export ORACLE_HOME=<span class="codeinlineitalic">Grid_home</span>
$ <span class="codeinlineitalic">Grid_home</span>/bin/relink
</pre></li>
<li>
<p>Log in as <code dir="ltr">root</code> again:</p>
<pre dir="ltr"># cd <span class="codeinlineitalic">Grid_home</span>/rdbms/install/
# ./rootadd_rdbms.sh
# cd <span class="codeinlineitalic">Grid_home</span>/crs/install
# roothas.sh -patch
</pre>
<p>You must relink the Oracle Restart and Oracle ASM binaries every time you apply an operating system patch or after an operating system upgrade.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="remove_oracle_sw.htm#BABGJBEF">&#34;Deinstalling Previous Release Grid Home&#34;</a></p>
</li>
<li>
<p>&#34;Starting and Stopping Components Managed by Oracle Restart&#34; in <a class="olink ADMIN12725" href="../ADMIN/restart.htm#ADMIN12725"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the <code dir="ltr">roothas.sh</code> script replaces the <code dir="ltr">roothas.pl</code> script in the Oracle Grid Infrastructure home.</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1361">
<tr>
<td class="cellalignment1368">
<table class="cellalignment1366">
<tr>
<td class="cellalignment1365"><a href="usr_grps.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1365"><a href="inst_task.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1370">
<table class="cellalignment1364">
<tr>
<td class="cellalignment1365"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1365"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1365"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1365"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1365"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1365"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2589"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/How%20to%20Complete%20Preinstallation%20Tasks%20Manually"></a><title>How to Complete Preinstallation Tasks Manually</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-10T0:43:44Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Installation Guide"/>
<meta name="dcterms.identifier" content="E52188-06"/>
<meta name="dcterms.isVersionOf" content="AXDBI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="app_nas.htm" title="Previous" type="text/html"/>
<link rel="Next" href="app_network.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E52188-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">17/25</span> <!-- End Header -->
<div id="AXDBI7864" class="appendix"><a id="CIHJGCAB"></a>
<h1 class="appendix"><span class="secnum">D</span> How to Complete Preinstallation Tasks Manually</h1>
<p>This appendix provides instructions for how to complete configuration tasks manually that Cluster Verification Utility (CVU) and Oracle Universal Installer normally complete during installation. Use this appendix as a guide if you cannot use the fixup script.</p>
<p>This appendix contains the following information:</p>
<ul>
<li>
<p><a href="#CIHDEEGA">Configuring Shell Limits and System Configuration Parameters for AIX</a></p>
</li>
<li>
<p><a href="#CIHFAACB">Setting UDP and TCP Kernel Parameters Manually</a></p>
</li>
</ul>
<a id="CIHDEEGA"></a>
<div id="AXDBI7877" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.1</span> C<a id="sthref748"></a><a id="sthref749"></a>onfiguring Shell Limits and System Configuration Parameters for AIX</h2>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CIHJAGDB">Configuring Shell Limits</a></p>
</li>
<li>
<p><a href="#CIHCACEA">Configuring System Configuration Parameters</a></p>
</li>
<li>
<p><a href="#CIHBGBHE">Checking Asynchronous Input Output Processes</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The parameter and shell limit values shown in this section are recommended values only. For production database systems, Oracle recommends that you tune these values to optimize the performance of the system. See your operating system documentation for more information about tuning kernel parameters.</div>
<p>Oracle recommends that you set shell limits and system configuration parameters as described in this section.</p>
<a id="CIHJAGDB"></a>
<div id="AXDBI7878" class="sect2">
<h3 class="sect2"><span class="secnum">D.1.1</span> Configuring Shell Limits</h3>
<p>Set shell limits for the Oracle Grid Infrastructure installation owner and for <code dir="ltr">root</code>. Verify that unlimited is set for both accounts either by using the <code dir="ltr">smit</code> utility or by editing the <code dir="ltr">/etc/security/limits</code> file. The <code dir="ltr">root</code> user requires these settings because the crs daemon (<code dir="ltr">crsd</code>) runs as <code dir="ltr">root</code>.</p>
<p>For AIX, it is the <code dir="ltr">ulimit</code> settings that determine process memory related resource limits. Verify that the shell limits displayed in the following table are set to the values shown:</p>
<div class="inftblhruleinformal">
<table class="cellalignment1371" title="Recommended Shell Limits on AIX" summary="Recommended Shell Limits on AIX" dir="ltr">
<thead>
<tr class="cellalignment1362">
<th class="cellalignment1372" id="r1c1-t3">Shell Limit (As Shown in smit)</th>
<th class="cellalignment1372" id="r1c2-t3">Recommended Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r2c1-t3" headers="r1c1-t3">Soft File Descriptors</td>
<td class="cellalignment1368" headers="r2c1-t3 r1c2-t3">at least 1024 KB</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r3c1-t3" headers="r1c1-t3">Hard File Descriptors</td>
<td class="cellalignment1368" headers="r3c1-t3 r1c2-t3">at least 65536 KB</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r4c1-t3" headers="r1c1-t3">Number of processes (Soft)</td>
<td class="cellalignment1368" headers="r4c1-t3 r1c2-t3">at least 2047</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r5c1-t3" headers="r1c1-t3">Number of processes (Hard)</td>
<td class="cellalignment1368" headers="r5c1-t3 r1c2-t3">at least 16384</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r6c1-t3" headers="r1c1-t3">Soft STACK size</td>
<td class="cellalignment1368" headers="r6c1-t3 r1c2-t3">at least 10240 KB</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r7c1-t3" headers="r1c1-t3">Hard STACK size</td>
<td class="cellalignment1368" headers="r7c1-t3 r1c2-t3">at least 10240 KB; at most 32768 KB</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r8c1-t3" headers="r1c1-t3">Soft FILE size</td>
<td class="cellalignment1368" headers="r8c1-t3 r1c2-t3">unlimited</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r9c1-t3" headers="r1c1-t3">Soft CPU time</td>
<td class="cellalignment1368" headers="r9c1-t3 r1c2-t3">unlimited
<p><span class="bold">Note:</span> This is the default value.</p>
</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r10c1-t3" headers="r1c1-t3">Soft DATA segment</td>
<td class="cellalignment1368" headers="r10c1-t3 r1c2-t3">unlimited</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r11c1-t3" headers="r1c1-t3">Soft Real Memory size</td>
<td class="cellalignment1368" headers="r11c1-t3 r1c2-t3">unlimited</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformal" -->
<p>To display the current value specified for these shell limits, and to change them if necessary perform the following steps:</p>
<ol>
<li>
<p>Enter the following command:</p>
<pre dir="ltr"># smit chuser
</pre></li>
<li>
<p>In the <span class="bold">User NAME</span> field, enter the user name of the Oracle software owner, for example <code dir="ltr">oracle</code>.</p>
</li>
<li>
<p>Scroll down the list and verify the values shown for the limits listed in the previous table.</p>
<p>If necessary, edit the existing value. To edit the values, you can use the <code dir="ltr">smit</code> utility. However, to set the value of <code dir="ltr">Soft Real Memory size</code>, you must edit the file <code dir="ltr">/etc/security/limits</code>. If you have permissions to run <code dir="ltr">smit</code> utility, then you automatically have the permissions to edit the <code dir="ltr">limits</code> file.</p>
</li>
<li>
<p>When you have finished making changes, press <span class="bold">F10</span> to exit.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHCACEA"></a>
<div id="AXDBI7879" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.1.2</span> Configuring System Configuration Parameters</h3>
<p>If you cannot use the Fixup scripts, then verify that the kernel parameters shown in the following table are set to values greater than or equal to the minimum value shown. If the current value for any parameter is greater than the value listed in this table, then the Fixup scripts do not change the value of that parameter.</p>
<div class="inftblhruleinformal">
<table class="cellalignment1371" title="Recommended Shell Limits on AIX" summary="Recommended Shell Limits on AIX" dir="ltr">
<thead>
<tr class="cellalignment1362">
<th class="cellalignment1372" id="r1c1-t4">Parameter</th>
<th class="cellalignment1372" id="r1c2-t4">Minimum Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r2c1-t4" headers="r1c1-t4"><code dir="ltr">maxuprocs</code></td>
<td class="cellalignment1368" headers="r2c1-t4 r1c2-t4">16384</td>
</tr>
<tr class="cellalignment1362">
<td class="cellalignment1368" id="r3c1-t4" headers="r1c1-t4"><code dir="ltr">ncargs</code></td>
<td class="cellalignment1368" headers="r3c1-t4 r1c2-t4">128</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformal" -->
<p>The following procedure describes how to verify and set the values manually.</p>
<ul>
<li>
<p>To verify that the maximum number of processes allowed per user is set to 16384 or greater, use the following steps:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For production systems, this value should be at least 128 plus the sum of the <code dir="ltr">PROCESSES</code> and <code dir="ltr">PARALLEL_MAX_SERVERS</code> initialization parameters for each database running on the system.</div>
<ol>
<li>
<p>Enter the following command:</p>
<pre dir="ltr"># smit chgsys
</pre></li>
<li>
<p>Verify that the value shown for <span class="bold">Maximum number of PROCESSES</span> allowed per user is greater than or equal to 16384.</p>
<p>If necessary, edit the existing value.</p>
</li>
<li>
<p>When you have finished making changes, press <span class="bold">F10</span> to exit.</p>
</li>
</ol>
</li>
<li>
<p>To verify that long commands can be executed from shell, use the following steps:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle recommends that you set the <code dir="ltr">ncargs</code> system attribute to a value greater than or equal to 128. The <code dir="ltr">ncargs</code> attribute determines the maximum number of values that can be passed as command line arguments.</div>
<ol>
<li>
<p>Enter the following command:</p>
<pre dir="ltr"># smit chgsys
</pre></li>
<li>
<p>Verify that the value shown for <span class="bold">ARG/ENV list size in 4K byte blocks</span> is greater than or equal to 128.</p>
<p>If necessary, edit the existing value.</p>
</li>
<li>
<p>When you have finished making changes, press <span class="bold">F10</span> to exit.</p>
</li>
</ol>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CIHBGBHE"></a>
<div id="AXDBI7880" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">D.1.3</span> Checking Asynchronous Input Output Processes</h3>
<p>On AIX 6 and AIX 7, the Asynchronous Input Output (AIO) device drivers are enabled by default. For both AIX 6 and AIX 7, increase the number of <code dir="ltr">aioserver</code> processes from the default value. The recommended value for <code dir="ltr">aio_maxreqs</code> is 64k (<code dir="ltr">65536</code>). Confirm this value for both AIX 6 and AIX 7.</p>
<p>Confirm the <code dir="ltr">aio_maxreqs</code> value using the following procedure:</p>
<pre dir="ltr"># ioo &ndash;o aio_maxreqs
aio_maxreqs = 65536
</pre>
<p>When performing an asynchronous I/O to a file system, each asynchronous I/O operation is tied to an asynchronous I/O server. Thus, the number of asynchronous I/O servers limits the number of concurrent asynchronous I/O operations in the system.</p>
<p>The initial number of servers that are started during a system restart is determined by the <code dir="ltr">aio_minservers</code> parameter. As concurrent asynchronous I/O operations occur, additional asynchronous I/O servers are started, up to a maximum of the value set in the <code dir="ltr">aio_maxservers</code> parameter.</p>
<p>In general, to set the number of asynchronous I/O servers, complete the following procedure:</p>
<ol>
<li>
<p>Adjust the initial value of <code dir="ltr">aio_maxservers</code> to 10 times the number of logical disks divided by the number of CPUs that are to be used concurrently but no more than 80.</p>
</li>
<li>
<p>Monitor the performance effects on the system during periods of high I/O activity. If all AIO server processes are started, then increase the <code dir="ltr">aio_maxservers</code> value. Also, continue to monitor the system performance during peak I/O activity to determine if there was a benefit from the additional AIO servers. Too many asynchronous I/O servers increase memory and processor overload of additional processes, but this disadvantage is small. See your operating system vendor documentation for information about tuning AIO parameters</p>
</li>
</ol>
<p>To monitor the number of AIO server processes that have started, enter the following:</p>
<pre dir="ltr"># ps -ek|grep -v grep|grep &ndash;v posix_aioserver|grep -c aioserver
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="usr_grps.htm#CIHDGJJI">&#34;Running the rootpre.sh Script&#34;</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIHFAACB"></a>
<div id="AXDBI7883" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">D.2</span> S<a id="sthref750"></a><a id="sthref751"></a><a id="sthref752"></a><a id="sthref753"></a><a id="sthref754"></a>etting UDP and TCP Kernel Parameters Manually</h2>
<p>If you do not use a Fixup script or CVU to set ephemeral ports, then use NDD to ensure that the kernel TCP/IP ephemeral port range is broad enough to provide enough ephemeral ports for the anticipated server workload. Ensure that the lower range is set to at least 9000 or higher, to avoid Well Known ports, and to avoid ports in the Registered Ports range commonly used by Oracle and other server ports. Set the port range high enough to avoid reserved ports for any applications you may intend to use. If the lower value of the range you have is greater than 9000, and the range is large enough for your anticipated workload, then you can ignore OUI warnings regarding the ephemeral port range.</p>
<p>Use the following commands to check your current range for ephemeral ports:</p>
<pre dir="ltr"># /usr/sbin/no -a | fgrep ephemeral
     tcp_ephemeral_low = 32768
     tcp_ephemeral_high = 65500
     udp_ephemeral_low = 32768
     udp_ephemeral_high = 65500
</pre>
<p>In the preceding example, the TCP and UDP ephemeral ports are set to the default range (32768-65536).</p>
<p>If you expect your workload to require a high number of ephemeral ports, such as high node counts or heavy use of Parallel Query, then update the UDP and TCP ephemeral port range to a broader range. For example:</p>
<pre dir="ltr"># /usr/sbin/no -p -o tcp_ephemeral_low=9000 -o tcp_ephemeral_high=65500
# /usr/sbin/no -p -o udp_ephemeral_low=9000 -o udp_ephemeral_high=65500
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="post_inst_task.htm#BJFEBGJB">&#34;Setting TCP Network Protocol Buffer for Direct NFS Client&#34;</a> if you use Direct NFS Client</div>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1361">
<tr>
<td class="cellalignment1368">
<table class="cellalignment1366">
<tr>
<td class="cellalignment1365"><a href="app_nas.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1365"><a href="app_network.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1370">
<table class="cellalignment1364">
<tr>
<td class="cellalignment1365"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1365"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1365"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1365"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1365"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1365"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en-US"><head>
<a class="dashingAutolink" name="autolink-79298"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Changes%20in%20Previous%20Releases%20%28Oracle%20OLAP%20Java%20API%20Reference%29"></a><title>Changes in Previous Releases (Oracle OLAP Java API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii"/>
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style"/>
<link rel="stylesheet" type="text/css" href="olapiref.css" title="Style"/>
<meta name="generator" content="Oracle ST-Doc Jadey 2.5"/>
</head>
<body>
<table class="oac_no_warn" summary="Layout table... probably." border="0" width="100%" cellpadding="1" cellspacing="0">
<tbody><tr>
<td>
<table class="oac_no_warn" summary="Layout table... probably." border="0" cellpadding="0" cellspacing="3">
<tbody><tr align="center" valign="top">
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../overview-summary.html"><b>Overview</b></a>&nbsp;</td>
</tr>
</tbody></table>
</td>
<td align="right" valign="top" rowspan="3"><em><b>Oracle&reg; OLAP Java API Reference<br/>
12<i>c</i> Release 1 (12.1)</b><br/>
E17708-05</em></td>
</tr>
</tbody></table>
<hr/>
<p align="center"><span><b>Changes in Previous Releases in the OLAP Java API</b></span></p>
<p>This page describes the features that the OLAP Java API introduced in Oracle Database 11<i>g</i> Release 2 (11.2) and in earlier releases. This page contains the following topics.</p>
<ul>
<li><a href="#newin112"><span>Changes in 11.2</span></a></li>
<li><a href="#newin11107"><span>Changes in 11.1.0.7</span></a></li>
<li><a href="#newin111"><span>Changes in 11.1</span></a></li>
</ul>
<p><a name="newin112" id="newin112"></a></p>
<h1>Changes in 11.2</h1>
<!--
<UL>
  <LI><a href="#rename">Rename persistent metadata objects.</a>
</UL>  
-->
<p><a name="rename" id="rename"></a></p>
<h2>Renaming Metadata Objects</h2>
<p>Previously, you could use the <code>MdmObject.setName</code> method to specify a name for a persistent metadata object only once. You could not change the name after setting it. Now, you can use the <code>setName</code> method to rename a metadata object. The new name does not take effect until you commit the root <code>Transaction</code> of the session. Until you commit the <code>Transaction</code>, the <code>getName</code> of the object returns the old name and the <code>getNewName</code> method returns the new name.</p>
<p>In Oracle Database 11<i>g</i>, Release 2 (11.2), the Oracle OLAP Java API has added the following new classes and new methods to previously existing classes. <a name="newclasses" id="newclasses"></a></p>
<h2>New Classes and Methods in 11.2</h2>
<h3>New Classes</h3>
<p>The following classes are new additions to the Oracle OLAP Java API. The classes are listed by package.</p>
<p><b><code>oracle.olapi.metadata</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>InvalidMetadataObjectInfo</code><br/>
&nbsp;&nbsp;&nbsp;<code>XML11_2_ParserCallback</code></p>
<p><b><code>oracle.olapi.metadata.deployment</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>SecondaryPartitionLevel</code><br/></p>
<p><b><code>oracle.olapi.metadata.mdm</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>Mdm11_2_ObjectVisitor</code><br/></p>
<p><b><code>oracle.olapi.syntax</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>AssignmentCommand</code><br/>
&nbsp;&nbsp;&nbsp;<code>FromClause</code><br/>
&nbsp;&nbsp;&nbsp;<code>FromClauseElement</code><br/>
&nbsp;&nbsp;&nbsp;<code>SymmetricConditionElement</code><br/>
&nbsp;&nbsp;&nbsp;<code>UnresolvedDimensionArgument</code><br/></p>
<h3>New Methods</h3>
<p>The following classes have new methods. The classes are listed by package.</p>
<p><b><code>oracle.olapi.data.source</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>DataProvider.reserveBuildID(BuildResult buildResult)</code></p>
<p><b><code>oracle.olapi.metadata</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>BaseMetadataObject.getContainedByObject()</code><br/>
&nbsp;&nbsp;&nbsp;<code>InvalidMetadataException.getErrorInfoList(MetadataObject object)</code><br/>
&nbsp;&nbsp;&nbsp;<code>InvalidMetadataException.getErrorInfoList(String objectID)</code></p>
<p><b><code>oracle.olapi.metadata.deployment</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>AWCubeOrganization.addSecondaryPartitionLevel(SecondaryPartitionLevel level, int levelNumber)</code><br/>
&nbsp;&nbsp;&nbsp;<code>AWCubeOrganization.findOrCreateSecondaryPartitionLevel(java.lang.String name)</code><br/>
&nbsp;&nbsp;&nbsp;<code>AWCubeOrganization.getSecondaryPartitionLevels()</code><br/>
&nbsp;&nbsp;&nbsp;<code>AWCubeOrganization.removeSecondaryPartitionLevel(SecondaryPartitionLevel partitionLevel)</code></p>
<p><b><code>oracle.olapi.metadata.mdm</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>MdmPrimaryDimension.getETMemberTypeColumn()</code></p>
<p><b><code>oracle.olapi.syntax</code></b></p>
<p>&nbsp;&nbsp;&nbsp;<code>SymmetricCondition(java.util.List&lt;SymmetricConditionElement&gt; elements)</code><br/>
&nbsp;&nbsp;&nbsp;<code>SymmetricCondition(SymmetricConditionElement[] elements)</code><br/>
<a name="deprecatedclasses" id="deprecatedclasses"></a></p>
<h2>Deprecated 10<i>g</i> Classes and Methods Removed</h2>
<p>Some classes and methods from the 10<i>g</i> release of the Oracle OLAP Java API were deprecated in the 11.1 releases. For example, all of the classes in the <code>oracle.olapi.metadata.mtm</code> package were deprecated in the 11.1 release. The documentation for the 11.2 release does not contain those deprecated 10<i>g</i> classes and methods. <a name="newin11107" id="newin11107"></a></p>
<h1>Changes in 11.1.0.7</h1>
<p>This release of the Oracle OLAP Java API includes new features that provide the ability to do the following.</p>
<ul>
<li><a href="#mrmode">Have all forms of metadata in the same session.</a></li>
<li><a href="#namespace">Distinguish metadata forms with namespaces.</a></li>
<li><a href="#parallel">Specify serial or parallel processing in some build commands.</a></li>
<li><a href="#aggfunc">Aggregate over specified dimension members.</a></li>
<li><a href="#poplineage">Populate lower levels in an ET view for a dimension hierarchy with the attribute values mapped at a higher level.</a></li>
<li><a href="#includeinrewrite">Include populated lineage attributes in a rewrite MV.</a></li>
<li><a href="#groupattributes">Group attributes.</a></li>
<li><a href="#classification">Classify objects.</a></li>
<li><a href="#attrmap">Specify a language when mapping an attribute.</a></li>
<li><a href="#writercallback">Exclude attributes when exporting a metadata object to XML.</a></li>
<li><a href="#attrprefix">Specify a prefix for the ET attribute name of a materialized view.</a></li>
<li><a href="#buildresult">Track the progress of a build.</a></li>
</ul>
<p>For lists of the packages, classes, fields, methods, and property settings that are new in the 11.1.0.7 release, see <a href="changes_11107.html">Changes in 11.1.0.7</a>. <a name="mrmode" id="mrmode"></a></p>
<h2>Having All Metadata Forms in the Same Session</h2>
<p>Legacy Oracle OLAP metadata objects that were created in a 10<i>g</i> version of Oracle Database can now exist in the same session as 11<i>g</i> OLAP metadata objects. This is possible because some of the top-level legacy metadata objects now have a namespace. For more information on namespaces, see the <a href="#namespace">Namespaces</a> topic.</p>
<p>The <code>oracle.olapi.data.source.DataProvider</code> class has the new <code>ALL</code> metadata reader mode setting, which is now the default metadata reader mode. In the <code>ALL</code> mode, the Oracle OLAP metadata reader recognizes 11<i>g</i> metadata objects and the 10<i>g</i> metadata object formats in the same session. For more information on metadata reader mode settings, see <a href="../oracle/olapi/data/source/doc-files/dpprops.html">DataProvider Settings</a>. <a name="namespace" id="namespace"></a></p>
<h2>Introducing Namespaces</h2>
<p>A namespace identifies the metadata format and the type of an OLAP metadata object that was created in a 10<i>g</i> version of Oracle Database. The metadata objects for a 10<i>g</i> cube, measure folder, and dimension are represented in 11<i>g</i> by the <code>oracle.olapi.metadata.mdm.MdmObject</code> objects <code>MdmCube</code>, <code>MdmOrganizationalSchema</code>, and <code>MdmPrimaryDimension</code>. The <code>getNamespace</code> method of those objects returns the namespace. For an 11<i>g</i> object, the namespace is null.</p>
<p>The namespace of a legacy 10<i>g</i> metadata object appears as a prefix in the unique object identifier. The unique object ID is returned by the <code>getID</code> method. The namespace also appears in the <code>Namespace</code> attribute in the XML representation of the 10<i>g</i> object and in other references to the object in the XML.</p>
<p>The <code>MdmDatabaseSchema</code> class has findOrCreate methods that take a namespace. Using such a method, an application can find a 10<i>g</i> metadata object but cannot create one. If an object of the specified name does not exist, Oracle OLAP creates an 11<i>g</i> object.</p>
<p>For more information on namespaces, see <a href="../oracle/olapi/metadata/mdm/MdmMetadataProvider.html#namespaces">Using Namespaces</a> in the class description of <code>MdmMetadataProvider</code>. <a name="parallel" id="parallel"></a></p>
<h2>Specifying Serial or Parallel Processing</h2>
<p>You can now create an <code>oracle.olapi.syntax.LoadCommand</code> that specifies the use of serial or parallel processing when loading data in an analytic workspace. The <code>LoadCommand</code> also has a <code>PRUNE</code> option, which specifies that the build spawns jobs only for the partitions for which measure data exists.</p>
<p>The <code>LoadCommand</code> class now has constructor methods as well as static constant fields that produce <code>LoadCommand</code> objects. One of the constructors takes the name of a <code>CubeMap</code>. With that constructor, you can specify loading data from a source other than the default data source.</p>
<p>The <code>ClearCommand</code> and <code>SolveCommand</code> classes also have serial and parallel processing options. <a name="aggfunc" id="aggfunc"></a></p>
<h2>Aggregating Over Specified Dimension Members</h2>
<p>With the <code>oracle.olapi.syntax.AggregationFunctionExpression</code> class, you can aggregate measure values over specified dimension members. You specify the dimension members with an <code>AggregateOverMembersClause</code>. You can use an <code>AggregationFunctionExpression</code> as the <code>Expression</code> for an <code>MdmCustomMember</code> of an <code>MdmModel</code>. <a name="poplineage" id="poplineage"></a></p>
<h2>Populating Hierarchy Lineage in an ET View</h2>
<p>In an attribute column in an embedded totals (ET) view, you can now automatically populate the rows for lower levels in a dimension hierarchy with the attribute values that are mapped at a higher level. To do so, you specify <code>true</code> with the <code>MdmBaseAttribute.setPopulateLineage</code> method.</p>
<p>If you specify <code>setPopulateLineage(false)</code>, then the attribute values appear only in the rows for the dimension members at the level to which the attribute is mapped. For dimension members at other levels, the attribute value is null. If you specify <code>setPopulateLineage(true)</code>, then the attribute values appear in the rows for the members of the mapped level and for the dimension members of all levels that are descendants of the mapped level.</p>
<p>Populating the hierarchy lineage in an ET view makes the contents of the view more like the contents of a relational table in a star schema. For example, you could create a separate long description attribute on the dimension for each <code>MdmDimensionLevel</code> of the dimension. You would specify populating the lineage of those attributes by calling the <code>setPopulateLineage(true)</code> of each attribute. You would then make the attribute visible for a dimension level by adding the attribute to the <code>MdmDimensionLevel</code> with the <code>addAttribute</code> method.</p>
<p>The ET view for a hierarchy of the dimension would then have a column for each of the long description attributes. Those columns would contain the long description attribute values for the members of the mapped dimension level and for the dimension members of all levels that are descendants of the mapped level. <a name="includeinrewrite" id="includeinrewrite"></a></p>
<h2>Including Populated Lineage Attributes in a Rewrite MV</h2>
<p>If the <code>AWCubeOrganization</code> for a cube has a materialized view option of <code>REWRITE_MV_OPTION</code>, then Oracle OLAP creates a materialized view for the cube that can be used by the database query rewrite system. The new <code>REWRITE_WITH_ATTRIBUTES_MV_OPTION</code> of <code>AWCubeOrganization</code> enables you to include in the rewrite MV the attributes for which the <code>isPopulateLineage</code> method returns <code>true</code>. <a name="groupattributes" id="groupattributes"></a></p>
<h2>Grouping Attributes</h2>
<p>With the <code>setAttributeGroupName</code> method of an <code>MdmBaseAttribute</code>, you can specify a name for an attribute group. You can specify the same group name for other attributes. For example, you could create a long description attribute for each dimension level and give each attribute the group name of &#34;LONG_DESCRIPTION&#34;. You could use the group name to identify similar kinds of attributes. <a name="classification" id="classification"></a></p>
<h2>Classifying Objects</h2>
<p>With the <code>addObjectClassification</code> method of an <code>MdmObject</code>, an application can add metadata to that object. The application can use the classification metadata for such purposes as identifying, grouping, or otherwise associating objects by classification. <a name="attrmap" id="attrmap"></a></p>
<h2>Specifying a Language for an Attribute</h2>
<p>You can now specify a language when mapping an attribute by using the <code>findOrCreateAttributeMap(MdmBaseAttribute attribute, java.lang.String language)</code> method of the <code>oracle.olapi.metadata.mapping.DimensionMap</code> class. <a name="writercallback" id="writercallback"></a></p>
<h2>Excluding Attributes Through an XML Writer Callback</h2>
<p>An implementation of the <code>XMLWriterCallback</code> interface provides Oracle OLAP the means to call back to an application while the <code>MdmMetadataProvider</code> is exporting the XML definition of an object. With an <code>XMLWriterCallback</code>, the application can specify whether or not to exclude an attribute or an owner name from the exported XML. The Oracle OLAP Java API introduced <code>XMLWriterCallback</code> in the 11.1.0.6 release. <a name="attrprefix" id="attrprefix"></a></p>
<h2>Specifying Column Name Prefix in a Materialized View</h2>
<p>When Oracle OLAP creates a materialized view for a cube, it creates columns for the attributes of the dimensions of the cubes. For the name of a column, it uses the name of the attribute column from the ET view of the dimension. To insure that the column name is unique, Oracle OLAP adds a default prefix to the name. You can specify the prefix by using the <code>setETAttrPrefix</code> method of the <code>MdmDimensionality</code> object for a dimension of the cube. <a name="buildresult" id="buildresult"></a></p>
<h2>Tracking Build Results</h2>
<p>In the 11.1.0.6 release, the Oracle OLAP Java API added the <code>oracle.olapi.data.source.BuildResult</code> class and <code>DataProvider.executeBuild</code> methods that take a <code>BuildResult</code>. With a <code>BuildResult</code>, an application can get the identification number for a build process. An analytic workspace automatically generates the identification number during a build. You can use the build number to track the progress of a build.</p>
<hr/>
<p><a name="newin111" id="newin111"></a></p>
<h1>Changes in 11.1</h1>
<p>The 11<i>g</i> release contains many changes in the Oracle OLAP Java API since the 10<i>g</i> release. The major changes are to the metadata model and the addition of the <code>syntax</code> package.</p>
<p>The 11<i>g</i> metadata model includes classes that an application developer can use to define metadata objects, to map the objects to database tables and views, and to deploy the objects in an analytic workspace or as relational tables and views. With other classes the developer can load data into an analytic workspace, including data that results from a series of specified calculations.</p>
<p>In implementing the 11<i>g</i> metadata model, the <code>oracle.olapi.metadata.mdm</code> package has many new classes and many other classes in the package have new methods. Additionally, the API includes the following new packages:</p>
<ul>
<li><code>oracle.olapi.metadata.conversion</code></li>
<li><code>oracle.olapi.metadata.deployment</code></li>
<li><code>oracle.olapi.metadata.mapping</code></li>
<li><code>oracle.olapi.session</code></li>
<li><code>oracle.olapi.syntax</code></li>
</ul>
<p>Some aspects of the Oracle OLAP Java API are much the same as in the 10<i>g</i> releases, such as the ability to create queries with classes in the <code>oracle.olapi.data.source</code> package and to retrieve the data with classes in the <code>oracle.olapi.data.cursor</code> package. However, in Oracle OLAP 11<i>g</i> Release 1 (11.1) the API has many new features. The major new features include the abilities to do the following:</p>
<ul>
<li><a href="#persistobj">Create and maintain persistent metadata objects</a>.</li>
<li><a href="#restrictobj">Restrict access to the metadata objects</a>.</li>
<li><a href="#defaw">Define and build analytic workspaces</a>.</li>
<li><a href="#syntax">Use SQL expression syntax</a> in mapping OLAP metadata objects to relational data sources or to specify operations.</li>
<li><a href="#msess">Have multiple user sessions that share the same connection to the Oracle Database</a>.</li>
</ul>
<p><a name="persistobj" id="persistobj"></a></p>
<h2>Persistent Metadata Objects</h2>
<p>The Oracle OLAP Java API now has the ability to create and maintain persistent metadata objects. The Oracle Database stores the metadata objects in the Oracle data dictionary.</p>
<p>An application maps the metadata objects to relational structures in an Oracle Database instance or to expressions that provide a data source. The application can deploy the metadata as relational OLAP (ROLAP) objects or it can deploy the metadata in an analytic workspace. For information on the advantages of the deployment types, see <i>Oracle OLAP User&#39;s Guide</i>.</p>
<p>To provide this new functionality, the Oracle OLAP Java API substantially revises the metadata model. The new model includes several new packages and has significant changes to some existing packages. For example, the <code>oracle.olapi.metadata.mdm</code> package has many new classes. It also has many new methods added to existing classes.</p>
<p>An application creates most metadata objects with findOrCreate methods of the owning object. For example, the following code finds the <code>MdmStandardDimension</code> named <code>PRODUCTS_AWJ</code> or creates a standard dimension with that name if it does not already exist. The <code>mdmDBSchema</code> object is the <code>MdmDatabaseSchema</code> that owns the dimension.</p>
<pre>MdmStandardDimension prodDim =
            mdmDBSchema.findOrCreateStandardDimension(&#34;PRODUCTS_AWJ&#34;);
</pre>
<p>Some classes and methods are deprecated in the new model. For example, all of the classes in the <code>oracle.olapi.metadata.mtm</code> package are deprecated, and methods of other classes that use the <code>mtm</code> classes are also deprecated. Some <code>mtm</code> classes mapped transient <code>mdm</code> objects to relational database structures, such as columns in tables and views. Other <code>mtm</code> specified how Oracle OLAP performed operations such as aggregation or allocation of the values of custom measures. That functionality is replaced by classes in the <code>oracle.olapi.metadata</code> subpackages <code>deployment</code>, <code>mapping</code>, and <code>mdm</code>, and the <code>oracle.olapi.syntax</code> package. With the new classes, an application can create permanent metadata objects, map them to data sources, and specify the operations that provide values for measures. <a name="restrictobj" id="restrictobj"></a></p>
<h2>Restrict Access To Metatdata Objects</h2>
<p>Because the metadata objects exist in the Oracle data dictionary, an Oracle Database DBA can restrict access to certain types of the metadata objects. A client application can set such restrictions by sending SQL commands, using the JDBC API, through the JDBC connection for the user session. <a name="defaw" id="defaw"></a></p>
<h2>Define and Build Analytic Workspaces</h2>
<p>An application can now define, build, and maintain analytic workspaces. This new functionality is provided by classes in the <code>oracle.olapi.metadata</code> subpackages <code>deployment</code>, <code>mapping</code>, and <code>mdm</code>, and the <code>oracle.olapi.syntax</code> package. This functionality replaces the Oracle OLAP Analytic Workspace Java API, which is entirely deprecated in this release. <a name="syntax" id="syntax"></a></p>
<h2>SQL Expression Syntax</h2>
<p>With the classes in the <code>oracle.olap.syntax</code> package, an application can create Java objects that are based on SQL expressions, functions, operators, and conditions. The <code>SyntaxObject</code> class has static methods that an application can use to convert SQL expressions into Java objects or to get the SQL syntax from a Java object.</p>
<p>An application can create the Java objects by using the <code>SyntaxObject.fromSyntax</code> method or by using a constructor. For example, the following example creates a <code>StringExpression</code> using a <code>fromSyntax</code> method and another <code>StringExpression</code> using a constructor method. The <code>mp</code> object is the <code>MdmMetadataProvider</code> for the session.</p>
<p>Note that the string in the <code>fromSyntax</code> method is enclosed in single quotation marks inside the double quotation marks because the string is a SQL string literal. The single quotation marks are not required when using the constructor for a <code>StringExpression</code>.</p>
<p>The example then calls the <code>getValue</code> method on both <code>StringExpression</code> objects and displays the values returned. It also calls the <code>toSyntax</code> method on one <code>StringExpression</code> and displays the result.</p>
<pre>StringExpression exp = (StringExpression)
            SyntaxObject.fromSyntax(&#34;&#39;Hello world from syntax.&#39;&#34;, mp);
StringExpression strExp =
      new StringExpression(&#34;Hello world using constructor.&#34;);
println(exp.getValue() + &#34;         Output of exp.getValue().&#34;);
println(strExp.getValue() + &#34;   Ouput of strExp.getValue().&#34;);
println(strExp.toSyntax()+ &#34; Ouput of strExp.toSyntax().&#34;);
</pre>
<p>The output of the code is the following:</p>
<pre>Hello world from syntax.         Output of exp.getValue().
Hello world using constructor.   Output of strExp.getValue().
&#39;Hello world using constructor.&#39; Output of strExp.toSyntax().
</pre>
<p><a name="msess" id="msess"></a></p>
<h2>Multiple Sessions Sharing a Connection</h2>
<p>Another new feature is the ability to have multiple user sessions that share the same JDBC connection to the Oracle Database instance and that share the same cache of metadata objects. This ability is provided by the <code>UserSession</code> class in the <code>oracle.olapi.session</code> package.</p>
<hr/>
<center>Copyright &copy; 2002, 2014, Oracle. All rights reserved.</center>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-114150"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Preparing%20to%20Upgrade%20Oracle%20Database"></a><title>Preparing to Upgrade Oracle Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1091"/>
<meta name="dcterms.created" content="2017-07-10T11:50:3Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Upgrade Guide"/>
<meta name="dcterms.identifier" content="E41397-13"/>
<meta name="dcterms.isVersionOf" content="UPGRD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="intro.htm" title="Previous" type="text/html"/>
<link rel="Next" href="upgrade.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41397-13.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/14</span> <!-- End Header -->
<div id="UPGRD002" class="chapter"><a id="CEGIJFGC"></a> <a id="i1007718"></a>
<h1 class="chapter"><span class="secnum">2</span> Preparing to Upgrade Oracle Database</h1>
<p>Before you upgrade Oracle Database, you must understand the requirements and recommendations. This chapter provides information and procedures for the pre-upgrade tasks, including installing the new Oracle software for the upgrade.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#i1007753">Tasks for Preparing to Upgrade Oracle Database</a></p>
</li>
<li>
<p><a href="#BABEIEFG">Requirements for Upgrading Oracle Database</a></p>
</li>
<li>
<p><a href="#BABJHIEH">Installing the New Oracle Database Software</a></p>
</li>
<li>
<p><a href="#BABHGECA">Patch Set Updates and Requirements for Upgrading Oracle Database</a></p>
</li>
<li>
<p><a href="#BABBCGJC">About the Pre-Upgrade Information Tool for Oracle Database</a></p>
</li>
<li>
<p><a href="#BABGEICG">Backing Up Oracle Database for Upgrading</a></p>
</li>
<li>
<p><a href="#BABGBFCJ">Preparing the New Oracle Home for Upgrading</a></p>
</li>
<li>
<p><a href="#BABGBEBI">Recommendations for Oracle Net Services When Upgrading Oracle Database</a></p>
</li>
<li>
<p><a href="#i1008153">Testing the Upgrade Process for Oracle Database</a></p>
</li>
<li>
<p><a href="#i1008175">Testing an Upgraded Test Copy of Oracle Database</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="intro.htm#i1008321">&#34;Overview of Oracle Database Upgrade Tools and Processes&#34;</a></div>
<a id="i1007753"></a>
<div id="UPGRD12356" class="sect1">
<h2 class="sect1"><span class="secnum">2.1</span> Tasks for Preparing to Upgrade<a id="sthref98"></a> Oracle Database</h2>
<p>In preparation for upgrading Oracle Database, you review the new features and determine the best upgrade path and method to use. Oracle recommends that you test the upgrade process and prepare a backup strategy.</p>
<p>Complete the following tasks to prepare to upgrade your database:</p>
<ul>
<li>
<p><a href="#i1007781">Become Familiar with New Oracle Database Features</a></p>
</li>
<li>
<p><a href="#i1007814">Determine the Upgrade Path for Oracle Database</a></p>
</li>
<li>
<p><a href="#i694345">Choose an Upgrade Method for Oracle Database</a></p>
</li>
<li>
<p><a href="#i1008013">Choose a New Location for Oracle Home when Upgrading</a></p>
</li>
<li>
<p><a href="#i1008049">Develop a Test Plan for Upgrading Oracle Database</a></p>
</li>
<li>
<p><a href="#i694504">Prepare a Backup Strategy before Upgrading Oracle Database</a></p>
</li>
</ul>
<a id="i1007781"></a>
<div id="UPGRD12357" class="sect2">
<h3 class="sect2"><span class="secnum">2.1.1</span> Become Familiar with New Oracle Database Features</h3>
<p>Before you plan the upgrade process, become familiar with the features of the <a id="sthref99"></a>new Oracle Database release. <a class="olink NEWFT" href="../NEWFT/toc.htm"><span class="italic">Oracle Database New Features Guide</span></a> is a good starting point for learning the differences between Oracle Database releases. Also, check specific guides in the Oracle Database documentation library to find information about new features for a certain component. For example, see <a class="olink RACAD" href="../RACAD/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for changes in Oracle Real Application Clusters.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Database <a id="sthref100"></a>training classes are an excellent way to learn how to take full advantage of the features and functions available with Oracle Database. More information can be found at <code dir="ltr"><a href="http://education.oracle.com/">http://education.oracle.com/</a></code></div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NEWFT" href="../NEWFT/toc.htm"><span class="italic">Oracle Database New Features Guide</span></a> and <a href="release_changes.htm#CEGIGIDJ">&#34;New Features&#34;</a></div>
</div>
<!-- class="sect2" -->
<a id="i1007814"></a>
<div id="UPGRD12358" class="sect2">
<h3 class="sect2"><span class="secnum">2.1.2</span> Determine the Upgrade Path for Oracle Database</h3>
<p>The <a id="sthref101"></a>path that you must take to upgrade to the latest release of Oracle Database 12<span class="italic">c</span> depends on the release number of your current database. You may perform a <a id="sthref102"></a>direct upgrade to the new release if your current Oracle Database is release 10.2.0.5, 11.1.0.7, or release 11.2.0.2 or later. You may directly upgrade from release 12.1.0.1 to 12.1.0.2.</p>
<p>If your current Oracle Database is a release earlier than 10.2.0.5, or is release 11.2.0.1, then directly upgrading your current release of Oracle Database to the latest release is not supported. In this case, you are required to <a id="sthref103"></a>upgrade to an intermediate release before upgrading to Oracle Database 12<span class="italic">c</span>.</p>
<p>For example, if the database from which you are upgrading is running Oracle Database 9<span class="italic">i</span>, then follow these steps:</p>
<ol>
<li>
<p>Upgrade release 9.0.1.4 to release 10.2.0.5 using the instructions in <span class="italic">Oracle Database Upgrade Guide 10g Release 2 (10.2)</span>.</p>
</li>
<li>
<p>Upgrade Oracle Database 10<span class="italic">g</span> Release 2 (10.2.0.5) directly to the new release of Oracle Database 12<span class="italic">c</span> using the instructions in <span class="italic">Oracle Database Upgrade Guide</span>, which is this book.</p>
</li>
</ol>
<p><a href="#CEGEIBHC">Table 2-1</a> contains the required <a id="sthref104"></a><a id="sthref105"></a><a id="sthref106"></a><a id="sthref107"></a>upgrade path for each release of Oracle Database. Use the upgrade path and the specified documentation to perform an intermediate upgrade of your database before fully upgrading to Oracle Database 12<span class="italic">c</span>.</p>
<div id="UPGRD52618" class="tblruleformalwide">
<p class="titleintable"><a id="sthref108"></a><a id="CEGEIBHC"></a>Table 2-1 Examples of Upgrade Paths for Oracle Database 12<span class="italic">c</span></p>
<table class="cellalignment1837" title="Examples of Upgrade Paths for Oracle Database 12c" summary="This table is described in the preceding text" dir="ltr">
<thead>
<tr class="cellalignment1828">
<th class="cellalignment1838" id="r1c1-t5">If your Current Release is:</th>
<th class="cellalignment1838" id="r1c2-t5">Then the Direct or Intermediate Upgrade Path is:</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1828">
<td class="cellalignment1834" id="r2c1-t5" headers="r1c1-t5">
<p>12.1.0.1, 11.2.0.2 or later</p>
<p>11.1.0.7</p>
<p>10.2.0.5</p>
</td>
<td class="cellalignment1834" headers="r2c1-t5 r1c2-t5">
<p><span class="bold">Direct upgrade is supported.</span> Perform the upgrade using the current <span class="italic">Oracle Database Upgrade Guide</span>, which is this guide.</p>
</td>
</tr>
<tr class="cellalignment1828">
<td class="cellalignment1834" id="r3c1-t5" headers="r1c1-t5">
<p>11.2.0.1</p>
<p>11.1.0.6</p>
<p>10.2.0.2, 10.2.0.3, and 10.2.0.4</p>
<p>10.1.0.5</p>
<p>9.2.0.8 or earlier</p>
</td>
<td class="cellalignment1834" headers="r3c1-t5 r1c2-t5">
<p><span class="bold">Direct upgrade to Oracle Database 12<span class="italic">c</span> is not supported.</span></p>
<p><span class="bold">Solution:</span> Upgrade to an intermediate Oracle Database release (that can be directly upgraded to release 12.1) before you can upgrade to the new Oracle Database 12<span class="italic">c</span>. This does not include upgrading using Oracle Data Pump export/import. When upgrading to an intermediate Oracle Database release, follow the instructions in the intermediate release&#39;s documentation. Then, upgrade the intermediate release database to the new Oracle Database 12<span class="italic">c</span> release using the instructions in <a href="upgrade.htm#BABJADGA">Chapter 3, &#34;Upgrading Oracle Database&#34;</a>.</p>
<p>For example:</p>
<ul>
<li>
<p>If you are upgrading from 11.2.0.1 or 11.1.0.6, then you must first upgrade to Oracle Database 11g Release 2 (11.2.0.2).</p>
</li>
<li>
<p>If you are upgrading from 10.2.0.2, 10.2.0.3, 10.2.0.4, or 10.1.0.5, then you must first upgrade to 10.2.0.5 or later.</p>
</li>
<li>
<p>For release 9.2.0.8, you must first upgrade to an intermediate Oracle Database release, as follows:</p>
<p>9.2.0.8 -&gt; 11.2.0.2 or 11.2.0.3 -&gt; 12.1</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="downgrade.htm#i1010267">&#34;Supported Releases for Downgrading Oracle Database&#34;</a> for information related to downgrading your database</div>
</div>
<!-- class="sect2" -->
<a id="i694345"></a>
<div id="UPGRD12359" class="sect2">
<h3 class="sect2"><span class="secnum">2.1.3</span> Choose an Upgrade Method for Oracle Database<a id="sthref109"></a></h3>
<p>Oracle recommends that you use Database Upgrade Assistant (DBUA) as the best method to upgrade your database. However, Oracle offers several methods to fully upgrade your database that support the complexities of your enterprise. See <a href="intro.htm#i1008321">&#34;Overview of Oracle Database Upgrade Tools and Processes&#34;</a> for the definition and description of the differences between <span class="italic">upgrading</span> and <span class="italic">migrating</span> data.</p>
<p>The upgrade methods that you can use to upgrade your database to the new Oracle Database release are:</p>
<ul>
<li>
<p><a href="#BABFEBAI">The Automated (DBUA) Method for Upgrading Oracle Database</a></p>
</li>
<li>
<p><a href="#BABCEIFB">The Manual, Command-line Method for Upgrading Oracle Database</a></p>
</li>
<li>
<p><a href="#BABFHFIJ">The Export/Import Method for Migrating Data When Upgrading Oracle Database</a></p>
</li>
</ul>
<a id="BABFEBAI"></a>
<div id="UPGRD12360" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.3.1</span> The Automated<a id="sthref110"></a><a id="sthref111"></a> (DBUA) Method for Upgrading Oracle Database</h4>
<p>Database Upgrade Assistant (DBUA) interactively steps you through the upgrade process and configures the database for the new Oracle Database release. DBUA automates the upgrade process by performing all of the tasks normally performed manually. DBUA makes appropriate recommendations for configuration options such as tablespaces and redo logs. You can then act on these recommendations.</p>
<p>In an Oracle Real Application Clusters (Oracle RAC) environment, DBUA does not upgrade all the databases per se; DBUA upgrades all the database files and configuration files on all nodes in the cluster.</p>
</div>
<!-- class="sect3" -->
<a id="BABCEIFB"></a>
<div id="UPGRD12363" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.3.2</span> The Manual, Command-line Method for Upgrading Oracle Database<a id="sthref112"></a><a id="sthref113"></a></h4>
<p>A manual upgrade consists of running SQL scripts and utilities from a command line to upgrade a database to the new Oracle Database release.</p>
<p>While a manual upgrade gives you finer control over the upgrade process, it is more susceptible to error if any of the upgrade or pre-upgrade steps are either not followed or are performed out of order.</p>
<div id="UPGRD12364" class="sect4"><a id="sthref114"></a>
<h5 class="sect4"><span class="secnum">2.1.3.2.1</span> Before the Upgrade</h5>
<p>The following list provides a high-level summary of the manual upgrade steps:</p>
<ul>
<li>
<p>Analyze the database using the Pre-Upgrade Information Tool. The Pre-Upgrade Information Tool is a SQL script that is supplied with Oracle Database, and DBUA uses this tool as part of its upgrade process. Run the Pre-Upgrade Information Tool on the database you are upgrading.</p>
<p>The Pre-Upgrade Information Tool displays warnings about possible upgrade issues with the database, and generates fixup scripts for you to use to address any issues. It also displays information about required initialization parameters for the new release of Oracle Database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABHHIBG">&#34;Pre-Upgrade Information Tool Warnings and Recommendations for Oracle Database&#34;</a></div>
</li>
<li>
<p>Prepare the new Oracle home.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1008013">&#34;Choose a New Location for Oracle Home when Upgrading&#34;</a> for more information</div>
</li>
<li>
<p>Perform a backup of the database.</p>
</li>
</ul>
<p>Depending on the release of the database being upgraded, you might be required to perform additional pre-upgrade steps (adjust the parameter file for the upgrade, remove desupported initialization parameters and adjust initialization parameters that might cause upgrade problems).</p>
</div>
<!-- class="sect4" -->
<a id="BABFJHJB"></a>
<div id="UPGRD12365" class="sect4">
<h5 class="sect4"><span class="secnum">2.1.3.2.2</span> After the Upgrade</h5>
<p>Review the upgrade spool log file and use the Post-Upgrade Status Tool, <code dir="ltr">utlu121s.sql</code>. The Post-Upgrade Status Tool is a SQL script that is included with Oracle Database. You run the Post-Upgrade Status Tool in the environment of the new release. You can run the Post-Upgrade Status Tool any time after upgrading the database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="upgrade.htm#CACGGHJC">&#34;Manually Upgrading a Multitenant Container Oracle Database (CDB)&#34;</a></div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="BABFHFIJ"></a>
<div id="UPGRD12366" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.3.3</span> The Export/Import Method for Migrating Data When Upgrading Oracle Database<a id="sthref115"></a><a id="sthref116"></a><a id="sthref117"></a></h4>
<p>Unlike DBUA or a manual command-line upgrade, the Oracle Data Pump Export and Import utilities physically migrate a copy of data from your current database to a new database in the new release. Data Pump Export and Import are recommended for higher performance and to ensure support for new datatypes.</p>
<p>The new database must exist, or you must have created the database in the new Oracle home, before the contents of the export dump file(s) can be loaded.</p>
<p>When importing data from an earlier release, the import utility of the new Oracle Database release makes appropriate changes to data definitions as it reads the export dump files from the earlier release.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>If your database is earlier than Oracle Database release 10.1, then you can use the original Export and Import utilities to perform a full or partial export from your database, followed by a full or partial import into a new database for the upgraded Oracle Database. Export/Import can copy a subset of the data in a database, leaving the original database unchanged.</p>
</li>
<li>
<p>The original Export utility is no longer being updated to support new datatypes.</p>
</li>
</ul>
</div>
<div id="UPGRD12367" class="sect4"><a id="sthref118"></a>
<h5 class="sect4"><span class="secnum">2.1.3.3.1</span> The Effects of Export/Import on Upgraded Oracle Databases<a id="sthref119"></a></h5>
<p>The Export/Import data migration method does not change the current database, which enables the database to remain available throughout the upgrade process. However, if a consistent snapshot of the database is required (for data integrity or other purposes), then the database must run in restricted mode or must otherwise be protected from changes during the export procedure. Because the current database can remain available, you can, for example, keep an existing production database running while the newly upgraded Oracle Database database is being built at the same time by Export/Import. During the upgrade, to maintain complete database consistency, changes to the data in the database cannot be permitted without the same changes to the data in the newly upgraded Oracle database.</p>
<p>Most importantly, the Export/Import operation results in a completely new database. Although the current target database ultimately contains a copy of the specified data that you migrated, the upgraded database might perform differently from the original source database. For example, although Export/Import creates an identical copy of the database, other factors, such as disk placement of data and unset tuning parameters, might cause unexpected performance issues.</p>
</div>
<!-- class="sect4" -->
<div id="UPGRD12368" class="sect4"><a id="sthref120"></a>
<h5 class="sect4"><span class="secnum">2.1.3.3.2</span> Export/Import Benefits for Migrating Data for Oracle Database<a id="sthref121"></a></h5>
<p>Migrating data when upgrading Oracle Database using Export/Import has benefits, including compressing and restructuring the database for increased performance.</p>
<p>Using Export/Import to migrate data:</p>
<ul>
<li>
<p>Defragments the data. You can compress the imported data to improve performance.</p>
</li>
<li>
<p>Restructures the database. You can create new tablespaces or modify existing tables, tablespaces, or partitions to be populated by imported data.</p>
</li>
<li>
<p>Facilitates side-by-side testing of the old and new releases of Oracle Database because an entirely new database is created.</p>
</li>
<li>
<p>Enables the copying of specified database objects or users. Importing only the objects, users, and other items you need is useful for establishing a test environment for the new software on only a subset of the production data. Data Pump Export/Import provides flexible data-subsetting capabilities.</p>
</li>
<li>
<p>Serves as a backup archive. You can use a full database export as an archive of the current database.</p>
</li>
<li>
<p>Enables the upgraded database to be established on an operating system or hardware platform that is different from that which is supporting the database being upgraded.</p>
</li>
<li>
<p>Network-based Data Pump Import allows the new Oracle database to be directly loaded across the network from the old database being upgraded. Thus, no intervening dump files are required.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<div id="UPGRD12369" class="sect4"><a id="sthref122"></a>
<h5 class="sect4"><span class="secnum">2.1.3.3.3</span> Time Requirements for Migrating Data and Upgrading with Export/Import<a id="sthref123"></a></h5>
<p>Migrating data and upgrading an entire Oracle database by using Export/Import can take a long time, especially compared to using DBUA or performing a manual upgrade. Therefore, you might be required to schedule the upgrade during non-peak hours or make provisions for propagating to the new database any changes that are made to the current database during the upgrade.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="expimp.htm#BABJHBEJ">Chapter 7, &#34;Migrating Data Using Oracle Data Pump&#34;</a></div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1008013"></a>
<div id="UPGRD12370" class="sect2">
<h3 class="sect2"><span class="secnum">2.1.4</span> Choose a New Location for Oracle Home when Upgrading</h3>
<p>You must choose a location for Oracle home for the new release of Oracle Database that is separate from the Oracle home of your current release. You cannot install the new software into the same location for Oracle home as your current release.</p>
<p>Using separate installation locations enables you to keep your existing Oracle software installed along with the new Oracle software. This method enables you to test the upgrade process on a test database before replacing your production environment entirely.</p>
</div>
<!-- class="sect2" -->
<a id="i1008049"></a>
<div id="UPGRD12371" class="sect2">
<h3 class="sect2"><span class="secnum">2.1.5</span> Develop a Test Plan for Upgrading Oracle Database<a id="sthref124"></a><a id="sthref125"></a></h3>
<p>You need a series of carefully designed tests to validate all stages of the upgrade process. Executed rigorously and completed successfully, these tests ensure that the process of upgrading the production database is well understood, predictable, and successful. Perform as much testing as possible before upgrading the production database. Do not underestimate the importance of a complete and repeatable testing process.</p>
<p>The types of tests that you perform are the same whether you use Oracle Real Application Testing features like Database Replay or SQL Performance Analyzer, or perform testing manually.</p>
<p>Your test plan must include these types of tests:</p>
<ul>
<li>
<p><a href="#CEGFHIGH">Upgrade Testing</a></p>
</li>
<li>
<p><a href="#CEGBHHBG">Minimal Testing</a></p>
</li>
<li>
<p><a href="#CEGCIBHJ">Functional Testing</a></p>
</li>
<li>
<p><a href="#CEGDGJBH">High Availability Testing</a></p>
</li>
<li>
<p><a href="#CEGGBFGD">Integration Testing</a></p>
</li>
<li>
<p><a href="#CEGCEDII">Performance Testing</a></p>
</li>
<li>
<p><a href="#CEGFFDCC">Volume and Load Stress Testing for Oracle Database Upgrades</a></p>
</li>
</ul>
<a id="CEGFHIGH"></a>
<div id="UPGRD12372" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.1</span> Upgrade Testing</h4>
<p>Upgrade testing for Oracle Database entails planning and testing the upgrade path from your current software to Oracle Database 12<span class="italic">c</span>, whether you use DBUA, perform a manual upgrade, or use Export/Import or other data-copying methods. Regardless of the upgrade method you choose, you must establish, test, and validate an upgrade plan.</p>
</div>
<!-- class="sect3" -->
<a id="CEGBHHBG"></a>
<div id="UPGRD12373" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.2</span> Minimal Testing<a id="sthref126"></a></h4>
<p>Minimal testing for Oracle Database entails moving all or part of an application from the current database to the new database and running the application without enabling any new database features. Minimal testing might not reveal problems that would appear in an actual production environment. However, minimal testing immediately reveals any application startup or invocation problems.</p>
</div>
<!-- class="sect3" -->
<a id="CEGCIBHJ"></a>
<div id="UPGRD12374" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.3</span> Functional Testing<a id="sthref127"></a></h4>
<p>Functional testing for Oracle Database is a set of tests in which new and existing features and functions of the system are tested after the upgrade. Functional testing includes all database, networking, and application components. The objective of functional testing is to verify that each component of the system functions as it did before upgrading and to verify that new functions are working properly.</p>
</div>
<!-- class="sect3" -->
<a id="CEGDGJBH"></a>
<div id="UPGRD00242" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.4</span> High Availability Testing<a id="sthref128"></a></h4>
<p>High Availability testing for Oracle Database ensures that the upgraded database system must meet: Recovery Time Objective (RTO) and Recovery Point Objective (RPO) business requirements.</p>
<ul>
<li>
<p>In an Oracle RAC environment, injecting node or instance failures during stress testing helps to evaluate if the Oracle RAC recovery capability has changed.</p>
</li>
<li>
<p>To minimize downtime, Oracle recommends that you test your fallback plans and procedures.</p>
</li>
<li>
<p>To ensure that the upgrade process runs within the time that you have allocated, Oracle recommends that you confirm database performance and stability, and resolve performance problems.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
The Upgrade Companion, Note 1462240.1 on <a id="sthref129"></a><a id="sthref130"></a>My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com/">http://support.oracle.com/</a></code></div>
</div>
<!-- class="sect3" -->
<a id="CEGGBFGD"></a>
<div id="UPGRD12375" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.5</span> Integration Testing<a id="sthref131"></a></h4>
<p>Integration testing for Oracle Database examines the interactions among components of the system.</p>
<p>Consider the following factors when you plan your integration testing:</p>
<ul>
<li>
<p><a id="sthref132"></a>Pro*C/C++ applications running against Oracle Database 12<span class="italic">c</span> instances should be tested to ensure that there are no problems with the new software. See <a class="olink LNPCC012" href="../LNPCC/pc_12cpl.htm#LNPCC012"><span class="italic">Pro*C/C++ Programmer&#39;s Guide</span></a> for more information about Pro*C/C++ applications.</p>
</li>
<li>
<p>Graphical user interfaces should be tested with other components.</p>
</li>
<li>
<p>Subtle changes in Oracle Database 12<span class="italic">c</span>, such as data types, data in the data dictionary (additional rows in the data dictionary, object type changes, and so on) can have an effect all the way up to the front-end application, even if the application is not directly connected to a new Oracle Database 12<span class="italic">c</span> instance.</p>
</li>
<li>
<p>If the connection between two components involves Oracle Net or Oracle Net Services, then those connections should also be tested and stress tested. See <a class="olink NETRF369" href="../NETRF/mignet.htm#NETRF369"><span class="italic">Oracle Database Net Services Reference</span></a> for more information about upgrade recommendations for Oracle Net Services.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CEGCEDII"></a>
<div id="UPGRD12376" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.6</span> Performance Testing<a id="sthref133"></a></h4>
<p>Performance testing for Oracle Database of the new database compares the performance of various SQL statements in the new database with the performance of those same statements in the current database. Before upgrading, you should understand the performance profile of the application under the current database. Specifically, you should understand the calls that the application makes to the database server.</p>
<p>This section describes the following types of performance testing:</p>
<ul>
<li>
<p><a href="#CEGDFGCE">Database Replay</a></p>
</li>
<li>
<p><a href="#CEGHAHDF">SQL Performance Analyzer</a></p>
</li>
<li>
<p><a href="#BABHAFAH">SQL Plan Management</a></p>
</li>
</ul>
<a id="CEGDFGCE"></a>
<div id="UPGRD12378" class="sect4"><!-- infolevel="all" infotype="General" -->
<h5 class="sect4"><span class="secnum">2.1.5.6.1</span> Database Replay<a id="sthref134"></a><a id="sthref135"></a><a id="sthref136"></a><a id="sthref137"></a></h5>
<p>You can use the Database Replay feature to perform real-world testing of a database upgrade on your site&#39;s production workload before actually upgrading the production database. This feature captures the actual database workload on the production system and replays it on the test system. Database Replay also provides analysis and reporting to highlight potential problems; for example, errors encountered, divergence in performance, and so forth. In addition, all the regular Enterprise Manager performance monitoring and reporting tools such as Automatic Database Diagnostic Monitor, Automatic Workload Repository (AWR), and Active Session History are available to address any problems.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can change the stored procedure logic in the database but the stored PL/SQL procedures that implement the application logic <span class="italic">must</span> maintain the same interfaces as before the upgrade. If an upgrade affects the stored procedures of an application, then the workload might not be replayable. By using the Database Replay tool in this way, you have good diagnostics to see if the new application logic in the server is performing as expected after the upgrade.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RATUG104" href="../RATUG/GUID-5AA30327-74FB-4406-8F7C-5D442F307534.htm#RATUG104"><span class="italic">Oracle Database Testing Guide</span></a> for information about how to capture and replay workloads</p>
</li>
<li>
<p><a class="olink TGDBA185" href="../TGDBA/gather_stats.htm#TGDBA185"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information on the Automatic Workload Repository</p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" -->
<a id="CEGHAHDF"></a>
<div id="UPGRD12379" class="sect4"><!-- infolevel="all" infotype="General" -->
<h5 class="sect4"><span class="secnum">2.1.5.6.2</span> SQL Performance Analyzer</h5>
<p>You can use the <a id="sthref138"></a>SQL Performance Analyzer to forecast the impact of system changes on a <a id="sthref139"></a>SQL workload. SQL Performance Analyzer enables evaluating the impact of a change such as database upgrade by identifying the SQL statements impacted by the upgrade and measuring their performance divergence. The analysis enables you to assess the overall effect of the upgrade on SQL performance and makes it possible to avoid any negative outcome before users can be impacted.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RATUG166" href="../RATUG/GUID-860FC707-B281-4D81-8B43-1E3857194A72.htm#RATUG166"><span class="italic">Oracle Database Testing Guide</span></a> for complete information and examples using the SQL Performance Analyzer to perform what-if analysis on potential database changes</div>
</div>
<!-- class="sect4" -->
<a id="BABHAFAH"></a>
<div id="UPGRD00232" class="sect4"><!-- infolevel="all" infotype="General" -->
<h5 class="sect4"><span class="secnum">2.1.5.6.3</span> SQL Plan Management</h5>
<p>A database upgrade that installs a new optimizer version usually results in plan changes for a small percentage of SQL statements, with most of the plan changes resulting in either no performance change or improvement. However, certain plan changes may cause performance regressions. SQL plan <a id="sthref140"></a>management prevents performance regressions resulting from sudden changes to the execution plan of a SQL statement by providing components for capturing, selecting, and evolving SQL plan information. SQL plan management is a preventative mechanism that records and evaluates the execution plans of SQL statements over time, and builds SQL plan baselines composed of a set of existing plans known to be efficient. The SQL plan baselines are then used to preserve the performance of corresponding SQL statements, regardless of changes occurring in the system.</p>
<p>With SQL plan management, the optimizer automatically manages execution plans and ensures that only known or verified plans are used. When a new plan is found for a SQL statement, the plan is not used until it has been verified by the database to have comparable or better performance than the current plan. Therefore, if you seed SQL plan management with your current execution plan, which is to become the SQL plan baseline for each statement, then the optimizer uses these plans after the upgrade. If the Oracle Database 12<span class="italic">c</span> optimizer determines that a different plan is necessary, then the new plan is queued for verification and is not used until it has been confirmed to have comparable or better performance than the current plan.</p>
<p>There are several ways to seed or populate a <a id="sthref141"></a><a id="sthref142"></a>SQL Management Base (SMB) with execution plans:</p>
<ul>
<li>
<p><a href="#BABDEJDI">Bulk Load a SQL Management Base from the Cursor Cache</a></p>
</li>
<li>
<p><a href="#CEGFDEEI">Bulk Load a SQL Management Base with a SQL Tuning Set (STS)</a></p>
</li>
<li>
<p><a href="#CEGHCJEG">Unpack Existing SQL Plan Baselines from a Staging Table</a></p>
</li>
</ul>
<p class="subhead2"><a id="BABDEJDI"></a><a id="UPGRD52855"></a>Bulk Load a SQL Management Base from the Cursor Cache</p>
<p>Bulk loading of execution plans or SQL plan baselines from the <a id="sthref143"></a><a id="sthref144"></a>cursor cache is useful when upgrading a database from Oracle Database 11<span class="italic">g</span> to the latest release of Oracle Database. The cursor cache is a shared SQL area, and SQL plans that are bulk loaded are automatically accepted and added to existing or new plan histories as SQL plan baselines.</p>
<ol>
<li>
<p>In the source release of Oracle Database, use the <code dir="ltr">DBMS_SPM.LOAD_PLAN_FROM_CURSOR_CACHE</code> procedure or Oracle Enterprise Manager to load all of the execution plans in the cursor cache into the SQL Management Base.</p>
</li>
<li>
<p>Upgrade the database.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TGSQL649" href="../TGSQL/tgsql_spm.htm#TGSQL649"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information on how to load plans from the shared SQL area using PL/SQL or Oracle Enterprise Manager</div>
<p class="subhead2"><a id="CEGFDEEI"></a><a id="UPGRD52619"></a>Bulk Load a SQL Management Base with a SQL Tuning Set (STS)</p>
<p>Bulk loading of execution plans or SQL plan baselines may be done with a SQL Tuning Set. This is useful when upgrading from Oracle Database 10<span class="italic">g</span>, where no SQL Management Base (SMB) exists to directly load from the cursor cache, or to load historic plans from the Automatic Workload Repository.</p>
<ol>
<li>
<p>In the source release of Oracle Database, create an STS that includes the execution plan for each of the SQL statements.</p>
</li>
<li>
<p>Load the STS into a staging table and export the staging table into a dump file.</p>
</li>
<li>
<p>Import the staging table from a dump file into the new release of Oracle and unload the STS.</p>
</li>
<li>
<p>Use Oracle Enterprise Manager or <code dir="ltr">DBMS_SPM.LOAD_PLANS_FROM_SQLSET</code> to load the execution plans into the SQL Management Base.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink TGSQL646" href="../TGSQL/tgsql_spm.htm#TGSQL646"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for the complete procedure for bulk loading execution plans or SQL plan baselines</div>
<p class="subhead2"><a id="CEGHCJEG"></a><a id="UPGRD52620"></a>Unpack Existing <a id="sthref145"></a>SQL Plan Baselines from a Staging Table</p>
<p>You can test and tune all of your critical <a id="sthref146"></a>SQL queries on an Oracle Database test environment and then move those <a id="sthref147"></a>SQL execution plans to your Oracle Database production environment. Alternatively, you can take plans for SQL queries from your pre-upgrade Oracle Database production environment and move them to your post-upgrade production environment.</p>
<ol>
<li>
<p>On the Oracle Database 12<span class="italic">c</span> test system, after completing all testing and tuning, use the <code dir="ltr">DBMS_SPM.LOAD_PLAN_FROM_CURSOR_CACHE</code> procedure or Enterprise Manager to load all of the execution plans in the cursor cache into the SQL Management Base.</p>
</li>
<li>
<p>Create a <a id="sthref148"></a>staging table using the <code dir="ltr">DBMS_SPM.CREATE_STGTAB_BASELINE</code> procedure.</p>
</li>
<li>
<p>Pack the SQL plan baselines you created in step 1 into the staging table using the <code dir="ltr">DBMS_SPM.PACK_STGTAB_BASELINE</code> function.</p>
</li>
<li>
<p>Export the staging table into a flat file using Data Pump.</p>
</li>
<li>
<p>Transfer this flat file to the target system.</p>
</li>
<li>
<p>Import the staging table from the flat file using Data Pump.</p>
</li>
<li>
<p>Unpack the SQL plan baselines from the staging table into the SQL Management Base on the target system using the <code dir="ltr">DBMS_SPM.UNPACK_STGTAB_BASELINE</code> function.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink TGSQL652" href="../TGSQL/tgsql_spm.htm#TGSQL652"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about loading plans from a staging table</p>
</li>
<li>
<p><a class="olink SUTIL100" href="../SUTIL/GUID-17FAE261-0972-4220-A2E4-44D479F519D4.htm#SUTIL100"><span class="italic">Oracle Database Utilities</span></a> for information about using Data Pump</p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CEGFFDCC"></a>
<div id="UPGRD12380" class="sect3">
<h4 class="sect3"><span class="secnum">2.1.5.7</span> Volume and Load Stress Testing for Oracle Database Upgrades<a id="sthref149"></a></h4>
<p>Volume and load stress testing tests the entire upgraded Oracle database under high volume and loads. <a id="sthref150"></a>Volume describes the amount of data being manipulated. <a id="sthref151"></a>Load describes the level of concurrent demand on the system. The objective of volume and load testing is to emulate how a production system might behave under various volumes and loads.</p>
<p>Volume and load stress testing is crucial, but is commonly overlooked. Oracle has found that customers often do not conduct any kind of volume or load stress testing. Instead, customers often rely on <a id="sthref152"></a>benchmarks that do not characterize business applications. Benchmarks of the application should be conducted to uncover problems relating to functions, performance, and integration, but they cannot replace volume and load stress testing.</p>
<p>Load testing <a id="sthref153"></a>involves running an application load against the new release of the database to ensure that the application does not encounter problems such as new errors or performance issues under load conditions likely to be encountered in production. Many times, problems manifest under certain load conditions and are normally not seen in functional testing. The Database Replay feature is ideal for such load testing as it enables capturing the system workload from a production environment and replay it in identical fashion on the test system.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RATUG104" href="../RATUG/GUID-5AA30327-74FB-4406-8F7C-5D442F307534.htm#RATUG104"><span class="italic">Oracle Database Testing Guide</span></a> for information about using Database Replay for stress testing</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i694504"></a>
<div id="UPGRD12382" class="sect2">
<h3 class="sect2"><span class="secnum">2.1.6</span> Prepare a Backup Strategy before Upgrading Oracle Database<a id="sthref154"></a><a id="sthref155"></a></h3>
<p>The ultimate success of your upgrade depends heavily on the design and execution of an appropriate backup strategy.</p>
<p>To develop a backup strategy, consider the following questions:</p>
<ul>
<li>
<p>How long can the production database remain inoperable before business consequences become intolerable?</p>
</li>
<li>
<p>What backup strategy is necessary to meet your availability requirements?</p>
</li>
<li>
<p>Are backups archived in a safe, offsite location?</p>
</li>
<li>
<p>How quickly can backups be restored (including backups in offsite storage)?</p>
</li>
<li>
<p>Have recovery procedures been tested successfully?</p>
</li>
</ul>
<p>Your backup strategy should answer all of these questions and include procedures for successfully backing up and recovering your database.</p>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
<a class="olink BRADV8003" href="../BRADV/rcmbckba.htm#BRADV8003"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about implementing backup strategies using RMAN</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEIEFG"></a>
<div id="UPGRD52764" class="sect1">
<h2 class="sect1"><span class="secnum">2.2</span> Requirements for Upgrading Oracle Database</h2>
<p>Depending on the operating system and Oracle components in your database environment, there is specific information and requirements to be aware of.</p>
<p>The following topics discuss <a id="sthref156"></a>system recommendations and requirements for performing an upgrade:</p>
<ul>
<li>
<p><a href="#BABEGGIE">Relocating Existing Data Files to the New Oracle Database Environment</a></p>
</li>
<li>
<p><a href="#BABEEBDD">About Upgrading PL/SQL Packages That Are Not Installed by Default</a></p>
</li>
<li>
<p><a href="#BABDDCCI">Saving Oracle Enterprise Manager Database Control Configuration and Data</a></p>
</li>
<li>
<p><a href="#BABGEAED">Manually Removing DB Control with emremove.sql</a></p>
</li>
<li>
<p><a href="#BABGEDJI">About Upgrading an Oracle ASM Instance</a></p>
</li>
<li>
<p><a href="#BABGEACF">About Upgrading Oracle Grid Infrastructure and Oracle Clusterware</a></p>
</li>
<li>
<p><a href="#BABEJFEJ">About Upgrading with Read-Only and Offline Tablespaces</a></p>
</li>
<li>
<p><a href="#BABEIDBD">About Upgrading Using Standby Databases</a></p>
</li>
<li>
<p><a href="#BABHAGCJ">About Upgrading Your Operating System</a></p>
</li>
<li>
<p><a href="#BABDJHCI">Transporting Data to a Different Operating System</a></p>
</li>
<li>
<p><a href="#BABEECBE">About Oracle GoldenGate and Online Database Upgrade</a></p>
</li>
<li>
<p><a href="#BABIHIGB">Requirement for Upgrading Oracle Databases That Use Oracle Database Vault</a></p>
</li>
<li>
<p><a href="#BABCHICJ">About Upgrading Oracle OLAP Data Security Policies</a></p>
</li>
<li>
<p><a href="#BABJBDEI">Requirements for Upgrading Databases That Use Oracle Label Security and Oracle Database Vault</a></p>
</li>
<li>
<p><a href="#BABBHCBB">Requirement for Upgrading Databases that Use Oracle Warehouse Builder (OWB)</a></p>
</li>
<li>
<p><a href="#BABJEFCG">Removing the Unified Auditing Schema and Roles</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a class="olink NETRF369" href="../NETRF/mignet.htm#NETRF369"><span class="italic">Oracle Database Net Services Reference</span></a> for information about upgrade recommendations for Oracle Net Services</p>
</li>
<li>
<p><a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for your operating system-specific information about preparing to upgrade</p>
</li>
<li>
<p><a href="intro.htm#i1008722">&#34;About Rolling Upgrades for Oracle ASM and Oracle RAC Databases&#34;</a> for information about rolling upgrades</p>
</li>
</ul>
</div>
<a id="BABEGGIE"></a>
<div id="UPGRD52765" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.1</span> Relocating Existing Data Files to the New Oracle Database Environment</h3>
<p>Before you remove the old Oracle environment, you must relocate any <a id="sthref157"></a>data files in that environment to the new Oracle Database environment.</p>
<p>To relocate data files to the new Oracle Database environment:</p>
<ul>
<li>
<p>Use Database Upgrade Assistant (DBUA) and select the <span class="bold">Move Database Files</span> option during the upgrade.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11073" href="../ADMIN/create.htm#ADMIN11073"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>, if you perform a manual upgrade, for information about relocating data files</div>
</div>
<!-- class="sect2" -->
<a id="BABEEBDD"></a>
<div id="UPGRD52766" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.2</span> About Upgrading <a id="sthref158"></a>PL/SQL Packages That Are Not Installed by Default</h3>
<p>Packages that were previously installed on the database for which you are preparing to upgrade to the current release may not be upgraded automatically. You must check separately if the package is available in the current release and reinstall that package to ensure you have the latest version.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABEDAFB">&#34;Update Access Control Lists and Network Utility Packages&#34;</a></div>
</div>
<!-- class="sect2" -->
<a id="BABDDCCI"></a>
<div id="UPGRD60104" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.3</span> Saving Oracle Enterprise Manager Database Control Configuration and Data</h3>
<p>If you need to be able to downgrade and then restore Oracle Enterprise Manager Database Control (DB Control) after upgrading to the new release, then you must save your configuration files and data <span class="italic">before</span> upgrading your database. Starting with Oracle Database 12<span class="italic">c</span>, DB Control is removed as part of the upgrade process. Oracle provides the <code dir="ltr">emdwgrd</code> utility to use before upgrading your database to keep a copy of your DB Control configuration and data. This is necessary if you want to be able to downgrade and restore the DB Control configuration from your earlier database.</p>
<p><a id="sthref159"></a>The <code dir="ltr">emdwgrd</code> utility resides in the <code dir="ltr">ORACLE_HOME/bin</code> directory in the new Oracle Database 12<span class="italic">c</span> release. The <code dir="ltr">emdwgrd</code> utility consists of <code dir="ltr">emdwgrd</code> and <code dir="ltr">emdwgrd.pl</code> for Linux and UNIX, and <code dir="ltr">emdwgrd.bat</code> and <code dir="ltr">emdwgrd.pl</code> for Windows. Before running the utility, you must install the software for Oracle Database 12<span class="italic">c</span>, and then invoke the script from the new Oracle home. The <code dir="ltr">emdwgrd</code> utility requires that you set <code dir="ltr">ORACLE_HOME</code> to the Oracle home of the release you are upgrading.</p>
<p>To save DB Control files and data using <code dir="ltr">emdwgrd</code>:</p>
<ol>
<li>
<p>Install the software for the new Oracle Database 12<span class="italic">c</span> release.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BABJHIEH">&#34;Installing the New Oracle Database Software&#34;</a></div>
</li>
<li>
<p>Set <code dir="ltr">ORACLE_HOME</code> to your old Oracle home.</p>
</li>
<li>
<p>Set <code dir="ltr">ORACLE_SID</code> to the SID of the database being upgraded.</p>
</li>
<li>
<p>Set <code dir="ltr">PATH</code>, <code dir="ltr">LD_LIBRARY_PATH</code>, and <code dir="ltr">SHLIB_PATH</code> to point to the Oracle home of the database being upgraded.</p>
</li>
<li>
<p>Go to the Oracle home of the new Oracle Database 12<span class="italic">c</span> release.</p>
</li>
<li>
<p>Execute <code dir="ltr">emdwgrd</code> as follows:</p>
<ul>
<li>
<p>For a single-instance database, run the following command, where <code dir="ltr"><span class="codeinlineitalic">old_SID</span></code> is the SID of the database being upgraded and <code dir="ltr"><span class="codeinlineitalic">save_directory</span></code> is the path to the storage place you have chosen for your database control files and data:</p>
<pre dir="ltr">emdwgrd -save -sid <span class="italic">old_SID</span> -path <span class="italic">save_directory</span>
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
The script is in <code dir="ltr">emdwgrd.sh</code> on Linux and UNIX platforms. On Windows, the script is in <code dir="ltr">emdwgrd.bat</code>.</div>
</li>
<li>
<p>If the database is an Oracle RAC database, remote copy is required across the cluster nodes. Define an environment variable to indicate which remote copy is configured. For example:</p>
<pre dir="ltr">setenv EM_REMCP /usr/bin/scp
</pre>
<p>Then, execute <code dir="ltr">emdwgrd</code> as follows:</p>
<pre dir="ltr">emdwgrd -save -cluster -sid <span class="italic">old_SID</span> -path <span class="italic">save_directory</span>
</pre>
<p>If the Oracle home is on a shared device, add <code dir="ltr">-shared</code> to the previous command line.</p>
</li>
</ul>
</li>
<li>
<p>Enter the <code dir="ltr">SYS</code> password for the database to be upgraded.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
The DBUA backup and restore process also enables you to revert to your previous Oracle Enterprise Manager Database Control environment after upgrading your database. However, all user data that is accumulated between the time of upgrade and restore operations is lost. Saving your database control files and data enables you to downgrade both your database and DB Control. All user data is retained even though all DB Control data that is accumulated between the time of upgrade and downgrade is lost.</div>
</div>
<!-- class="sect2" -->
<a id="BABGEAED"></a>
<div id="UPGRD60121" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.4</span> Manually Removing DB Control with emremove.sql</h3>
<p>To minimize downtime during the upgrade process, you can optionally run the <code dir="ltr">emremove.sql</code> script as part of your pre-upgrade preparation. The <code dir="ltr">emremove.sql</code> script drops the Oracle Enterprise Manager-related schemas and objects. This script might take a few minutes to complete as it has six phases in which to complete the process. The script may take longer if you have SYSMAN and related sessions active from SQL*Plus or Oracle Enterprise Manager or other clients.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
You must back up your DB Control configuration and data if you want to downgrade and restore DB Control as described in <a href="#BABDDCCI">&#34;Saving Oracle Enterprise Manager Database Control Configuration and Data.&#34;</a></div>
<p>To run <code dir="ltr">emremove.sql</code> to manually remove DB Control:</p>
<ol>
<li>
<p>Shut down the DB Control application immediately.</p>
<pre dir="ltr">$ emctl stop dbconsole
</pre></li>
<li>
<p>Start SQL*Plus and connect to the database using the SYS account AS SYSDBA.</p>
</li>
<li>
<p>Optional step. Do not set this if you want to run the script in silent mode. To view the progress of <code dir="ltr">emremove.sql</code> while it is running, set the following variables:</p>
<pre dir="ltr">SET ECHO ON;
SET SERVEROUTPUT ON;
</pre></li>
<li>
<p>Execute <code dir="ltr">emremove.sql</code>. The script is located under <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/rdbms/admin/</code> of the new Oracle Database 12<span class="italic">c</span> Oracle home.</p>
<pre dir="ltr">$ @emremove.sql
</pre></li>
<li>
<p>After <code dir="ltr">emremove.sql</code> completes, you must manually remove <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/</code><code dir="ltr"><span class="codeinlineitalic">HOSTNAME_SID</span></code> and <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oc4j/j2ee/OC4J_DBConsole_</code><code dir="ltr"><span class="codeinlineitalic">HOSTNAME_SID</span></code> directories from your file system.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the DB Control had been upgraded from release 10.2.0.3 to 10.2.0.4, then the following directories also need to be removed from the file system:
<p><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/</code><code dir="ltr"><span class="codeinlineitalic">HOSTNAME_SID</span></code><code dir="ltr">.upgrade</code></p>
<p><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oc4j/j2ee/OC4J_DBConsole_</code><code dir="ltr"><span class="codeinlineitalic">HOSTNAME_SID</span></code><code dir="ltr">.upgrade</code></p>
</div>
</li>
<li>
<p>On Windows platforms, also delete the DB Console service, generally with the name <code dir="ltr">OracleDBConsole</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABGEDJI"></a>
<div id="UPGRD12414" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.5</span> About Upgrading an Oracle ASM Instance<a id="sthref160"></a></h3>
<p>The recommended practice is to upgrade an Oracle ASM instance with Oracle Grid Infrastructure Oracle Universal Installer (OUI). OUI automatically defaults to upgrade mode when it detects an Oracle ASM instance at an earlier release level. You can also perform a <a id="sthref161"></a>rolling upgrade to clustered Oracle ASM instances in environments running Oracle Database 11<span class="italic">g</span> or later. See your <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for step-by-step instructions about performing a rolling upgrade of Oracle ASM.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWLIN425" href="../CWLIN/procstop.htm#CWLIN425"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information on rolling upgrades for Oracle Clusterware or Oracle Automatic Storage Management</div>
<div id="UPGRD52856" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref162"></a>
<h4 class="sect3"><span class="secnum">2.2.5.1</span> Determining If Oracle ASM is Included in the Current Database Configuration</h4>
<p>If you do not know whether your configuration includes Oracle ASM, then issue the following SQL statement from the database instance:</p>
<pre dir="ltr">select count(*) from v$asm_client where status = &#39;CONNECTED&#39;;
</pre>
<p>If this statement returns one or more rows, then the database is actively using an Oracle ASM disk group.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABGEACF"></a>
<div id="UPGRD52768" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.6</span> About Upgrading Oracle Grid Infrastructure and Oracle Clusterware<a id="sthref163"></a><a id="sthref164"></a><a id="sthref165"></a><a id="sthref166"></a><a id="sthref167"></a><a id="sthref168"></a></h3>
<p>Oracle Clusterware and Oracle Real Application Clusters (Oracle RAC) must be installed into a separate, new home from the existing installation. This reduces the downtime required to upgrade a node in the cluster and facilitates the provisioning of clusters within an enterprise. The reduction in planned outage time required for cluster upgrades helps in meeting availability service levels and also makes it easier to provide a standard installation across the enterprise.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system and go to the appendix for complete information on how to perform Oracle Clusterware and Oracle Automatic Storage Management upgrades</div>
<p>The following recommendations pertain to upgrading Oracle Clusterware, Oracle Grid Infrastructure, and Oracle ASM instances:</p>
<ul>
<li>
<p>To upgrade Oracle Database, you must install the Oracle Grid Infrastructure software into a new Grid home, and install Oracle Database 12<span class="italic">c</span> software into the new Oracle home. This also applies to Oracle Grid Infrastructure for a standalone server (Oracle Restart). You can upgrade from supported releases only. See <a href="#i1007814">&#34;Determine the Upgrade Path for Oracle Database.&#34;</a></p>
</li>
<li>
<p>On the Windows x64 platform, to upgrade Oracle Clusterware from releases 10.2.0.5 and 11.1.0.7 to release 12.1, you must perform an interim upgrade to 11.2.0.3 for Oracle Clusterware. After upgrading Oracle Clusterware to release 11.2.0.3, you must move the Oracle Cluster Registry (OCR) and voting files (VDSK) to Oracle ASM. You can then upgrade Oracle Clusterware release 11.2.0.3 to release 12.1.</p>
</li>
<li>
<p>If you are upgrading an Oracle Database release 10.2.0.5 or release 11.1.0.7 environment that stores Oracle Clusterware files on OCFS on Windows or RAW devices, then you cannot directly upgrade to Oracle Database 12<span class="italic">c</span>. See <a href="deprecated.htm#BABDFIIC">&#34;About Upgrading Oracle Database Release 10.2 or 11.1 and OCFS and RAW Devices.&#34;</a></p>
</li>
<li>
<p>For Oracle Database release 10.2.0.5, either all <a id="sthref169"></a><a id="sthref170"></a>Oracle software installations were owned by the <a id="sthref171"></a>Oracle user, typically <code dir="ltr">oracle</code>, or Oracle Database software was owned by the user <code dir="ltr">oracle</code>, and Oracle Clusterware software was owned by a separate user, typically <a id="sthref172"></a><code dir="ltr">crsuser</code>.</p>
</li>
<li>
<p>Starting with Oracle Database release 11.1, the user account that is designated as <span class="italic">owner</span> of the release 10.2.0.5 Oracle Clusterware software must perform the Oracle Clusterware release 11.1.0.7 upgrade. The user account that is performing this upgrade must also be the user that owns the ASM home of the earlier release. If the earlier ASM home has a different owner, then the <span class="italic">owner</span> account must be changed before performing the upgrade.</p>
</li>
<li>
<p>For Oracle Database releases 11.1.07 and 10.2.0.5, if your configuration does not include Oracle ASM, then you must shut down the cluster synchronization services (CSS) daemon and delete the CSS service from the system by running the <a id="sthref173"></a><code dir="ltr">localconfig</code> command with the <code dir="ltr">delete</code> option. For example:</p>
<pre dir="ltr"><span class="italic">ORACLE_HOME</span>/bin/localconfig delete
</pre></li>
<li>
<p>When upgrading Oracle Clusterware, OUI automatically calls <a id="sthref174"></a>Oracle ASM Configuration Assistant (ASMCA) to perform the upgrade into the Oracle Grid Infrastructure home. The Grid Infrastructure home can be local to each node.</p>
</li>
<li>
<p>For a single-instance configuration, Oracle ASM and Oracle Restart run from the Oracle Grid Infrastructure home. Thus, Oracle ASM and <a id="sthref175"></a>Oracle Restart are upgraded to Oracle Grid Infrastructure 12<span class="italic">c</span> at the same time.</p>
</li>
<li>
<p>You must ensure that the database compatibility attribute for Oracle ASM disk groups matches the compatibility parameter that is set in <code dir="ltr">init.ora</code>.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system</div>
<div id="UPGRD60073" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref176"></a>
<h4 class="sect3"><span class="secnum">2.2.6.1</span> Oracle Clusterware Must Be Running on Local Node When Upgrading</h4>
<p>Starting with Oracle Database 12<span class="italic">c</span>, non-rolling upgrades for Oracle Real Application Clusters require Oracle Clusterware on the local node to be up and running. The Oracle Clusterware stack on the local node must be running.</p>
<p>With earlier releases of Oracle Database, <span class="italic">non-rolling</span> for the cluster meant that OUI set <code dir="ltr">ISROLLING</code> to <code dir="ltr">false</code> for all stack shutdown before the upgrade process started. If any of the cluster nodes were up, then <code dir="ltr">ISROLLLING</code> was set to <code dir="ltr">true</code>. However, in Oracle Database 12<span class="italic">c</span>, <span class="italic">rolling</span> means that the local stack is up before upgrade and the other stacks must be shut down. Only in this circumstance OUI sets <code dir="ltr">ISROLLING</code> to <code dir="ltr">false</code>.</p>
<p>To start Oracle Clusterware on the local note:</p>
<ol>
<li>
<p>Run the OUI installer on the node where the Oracle Clusterware stack is running or open a terminal.</p>
</li>
<li>
<p>Log in as root or Administrator.</p>
</li>
<li>
<p>Change directory (cd) to the Oracle Clusterware home (Grid home), and start Oracle Clusterware by entering the following command:</p>
<pre dir="ltr"># crsctl start crs
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<div id="UPGRD52770" class="sect3"><a id="sthref177"></a>
<h4 class="sect3"><span class="secnum">2.2.6.2</span> About Upgrading an Oracle Real Application Clusters (Oracle RAC) Database with DBUA</h4>
<p>You can use Database Upgrade Assistant (DBUA) to upgrade an existing Oracle RAC database to the current release of Oracle Database. DBUA guides you through the upgrade process and configures your database for the new release. DBUA automates the upgrade process and makes appropriate recommendations for configuration options such as tablespaces and online redo log files.</p>
<p>If you are manually upgrading an Oracle RAC database, then most of the actions are to be performed on only one node of the system. Actions that must be performed on multiple nodes are indicated in the relevant steps.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system</div>
</div>
<!-- class="sect3" -->
<div id="UPGRD60128" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref178"></a>
<h4 class="sect3"><span class="secnum">2.2.6.3</span> About Upgrading and Inaccessible Nodes</h4>
<p>If you are using the force cluster upgrade command as documented in the upgrade appendix of <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a>, then the information in this section applies.</p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, there is a an option to join the inaccessible nodes as an alternative to deleting the nodes, which was required in earlier releases. The new Oracle Database 12<span class="italic">c</span> software must already be installed on the nodes.</p>
<p>The following command can be run on the inaccessible or unreachable nodes to upgrade and join them into the cluster.</p>
<pre dir="ltr">rootcrs.pl -join -existingNode <span class="italic">upgraded_node</span>
</pre>
<p>In this command, the <code dir="ltr"><span class="codeinlineitalic">upgraded_node</span></code> variable refers to one node in the cluster that has already been upgraded. The <code dir="ltr">-existingNode</code> argument must specify the upgraded node.</p>
</div>
<!-- class="sect3" -->
<div id="UPGRD52771" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref179"></a>
<h4 class="sect3"><span class="secnum">2.2.6.4</span> About Requirements for <a id="sthref180"></a>Time Synchronization on Oracle RAC</h4>
<p>Oracle Clusterware for Oracle Database 12<span class="italic">c</span> requires time synchronization across all nodes within a cluster when Oracle RAC is deployed.</p>
<p>There are two options for time synchronization:</p>
<ul>
<li>
<p>Your operating system-configured <a id="sthref181"></a>network time protocol (NTP)</p>
<p>or</p>
</li>
<li>
<p><a id="sthref182"></a>Oracle Cluster Time Synchronization Service</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system for information on configuring NTP and Oracle Cluster Time Synchronization Service</div>
</div>
<!-- class="sect3" -->
<div id="UPGRD52772" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref183"></a>
<h4 class="sect3"><span class="secnum">2.2.6.5</span> Recommendations for Upgrading Oracle RAC and Oracle Databases That Use ASM</h4>
<p>Oracle ASM is installed when you install the Oracle Grid Infrastructure components. Oracle ASM shares an Oracle home with Oracle Clusterware when installed in a cluster with Oracle RAC or with Oracle Restart on a standalone server. Before the new Oracle Database software can be installed on the system, the root script for upgrading Oracle Grid Infrastructure invokes <a id="sthref184"></a>Oracle ASM Configuration Assistant (ASMCA) to upgrade Oracle ASM to the new release.</p>
<p>If you have an existing Oracle ASM instance, then you can either upgrade it when you install Oracle Grid Infrastructure, or you can upgrade it after the installation, using ASMCA. When you install the new software for Oracle Database 12<span class="italic">c</span>, Oracle Universal Installer (OUI) runs the root script <a id="sthref185"></a><code dir="ltr">root.sh</code> when it detects a cluster. OUI provides an option to automate the root script execution tasks on the nodes of the cluster. You are prompted to provide information and passwords to enable OUI to run the <code dir="ltr">root.sh</code> script automatically. You now have an option to automate the <code dir="ltr">root.sh</code> script execution tasks on the nodes of the cluster.</p>
</div>
<!-- class="sect3" -->
<div id="UPGRD52773" class="sect3"><a id="sthref186"></a>
<h4 class="sect3"><span class="secnum">2.2.6.6</span> About Upgrading System Authentication for Oracle ASM Instances</h4>
<p>For Oracle Automatic Storage Management (Oracle ASM) environments, you can create shared ASM password files. The password file is created by the ORAPWD utility. See <a class="olink OSTMG95331" href="../OSTMG/GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2.htm#OSTMG95331"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about managing a shared password file in a disk group. Oracle recommends that you use the <code dir="ltr">SYSASM</code><a id="sthref187"></a><a id="sthref188"></a><a id="sthref189"></a> privilege to separate database management and storage management responsibilities. Also, you have the option to create separate operating system credentials for Oracle ASM and each database. This separation allows for an even greater division of database management and storage management responsibilities. For instance, if there are <span class="italic">n</span> databases using Oracle ASM on a given node, then you can configure <span class="italic">n</span> + 1 sets of operating system credentials groups whose members have <code dir="ltr">SYS</code> privileges: one <a id="sthref190"></a><code dir="ltr">OSDBA</code> group for each database with <code dir="ltr">SYSDBA</code> privileges, and one <code dir="ltr">OSASM</code> group for the Oracle ASM instance with <code dir="ltr">SYSASM</code> privileges.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG02600" href="../OSTMG/GUID-1A4E79BE-7D26-4FAC-BC11-B6C2F677A41F.htm#OSTMG02600"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about system authentication for Oracle ASM</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABEJFEJ"></a>
<div id="UPGRD52775" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.7</span> About Upgrading with <a id="sthref191"></a><a id="sthref192"></a>Read-Only and Offline Tablespaces</h3>
<p>Oracle Database can read file headers created in earlier releases, so you are not required to do anything to them during the upgrade. During upgrade you may have tablespaces set to read-only or offline mode as long as these tablespaces are not schema-based tablespaces (such as <code dir="ltr">SYSAUX</code>, <code dir="ltr">SYSTEM</code>, <code dir="ltr">XDB</code>, <code dir="ltr">HTMLDB</code>, <code dir="ltr">CTXSYS</code>, etc.); otherwise your upgrade will fail. The file headers of offline data files are updated later when they are brought online, and the file headers of read-only tablespaces are updated when they are changed to read/write.</p>
<p>In the rare case where queue tables reside in a tablespace that has been set to read-only for the upgrade, then that tablespace should be set back to read/write. Then the recreation of these queue objects can be tried again after the upgrade.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11394" href="../ADMIN/transport.htm#ADMIN11394"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about transporting tablespaces between databases</div>
</div>
<!-- class="sect2" -->
<a id="BABEIDBD"></a>
<div id="UPGRD52776" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.8</span> About Upgrading Using Standby Databases</h3>
<p>To upgrade the Oracle Database software when <a id="sthref193"></a>standby databases are present in an Oracle Data Guard configuration, see <a class="olink SBYDB1200" href="../SBYDB/upgrades.htm#SBYDB1200"><span class="italic">Oracle Data Guard Concepts and Administration</span></a>. To upgrade or downgrade Oracle Database and Oracle Enterprise Manager software in an Oracle Data Guard broker configuration, see <a class="olink DGBKR1200" href="../DGBKR/upgrade_appx.htm#DGBKR1200"><span class="italic">Oracle Data Guard Broker</span></a>.</p>
<p>During a <a id="sthref194"></a>rolling upgrade, you can run different releases of Oracle Database software on the primary and standby databases while you upgrade them, one at a time, incurring minimal downtime on the primary database by using either of the following methods:</p>
<ul>
<li>
<p>SQL Apply and logical standby databases</p>
<p>You can use Oracle Data Guard<a id="sthref195"></a><a id="sthref196"></a> SQL Apply on a logical standby database to perform a rolling upgrade to the new Oracle Database release. A logical standby accepts archived logs while the upgrade is in progress. Data protection is maintained during the Data Guard database rolling upgrade process by enabling the standby database that is the target of the upgrade to continue receiving primary database redo while the standby database is open in upgrade mode. Rolling upgrade with SQL Apply provides additional disaster protection.</p>
</li>
<li>
<p>Use of physical standby database for rolling upgrades</p>
<p>A physical standby database <a id="sthref197"></a><a id="sthref198"></a>can take advantage of the rolling upgrade feature provided by a logical standby. Through the use of the <a id="sthref199"></a><code dir="ltr">KEEP IDENTITY</code> clause option to the SQL <a id="sthref200"></a><code dir="ltr">ALTER DATABASE RECOVER TO LOGICAL STANDBY</code> statement, a physical standby database can be temporarily converted into a logical standby database for the rolling upgrade, and then reverted to the original configuration of a primary database and a physical standby database when the upgrade is done.</p>
</li>
<li>
<p><a id="sthref201"></a>Rolling Upgrade Using Active Data Guard in Oracle Database 12<span class="italic">c</span></p>
<p>Oracle Database 12<span class="italic">c</span> provides the <code dir="ltr">DBMS_ROLLING</code> PL/SQL package, which enables you to upgrade the database software in a Data Guard configuration in a rolling fashion. Rolling Upgrade Using Active Data Guard uses a Data Guard physical standby database and the SQL Apply process. This is supported for rolling upgrades from Oracle Database release 12.1 onward. See <a class="olink SBYDB5214" href="../SBYDB/dbms_rolling_upgrades.htm#SBYDB5214"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about using <code dir="ltr">DBMS_ROLLING</code> to perform a rolling upgrade.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting with Oracle Database 12<span class="italic">c</span>, Oracle Enterprise Manager Cloud Control provides options to perform a rolling upgrade of databases in a Data Guard configuration. The procedures are described in online help within Cloud Control.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink DGBKR1200" href="../DGBKR/upgrade_appx.htm#DGBKR1200"><span class="italic">Oracle Data Guard Broker</span></a> for information about upgrading and downgrading in an Oracle Data Guard Broker configuration</p>
</li>
<li>
<p><a class="olink SBYDB1200" href="../SBYDB/upgrades.htm#SBYDB1200"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about upgrading using standby databases</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABHAGCJ"></a>
<div id="UPGRD52777" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.9</span> About Upgrading Your Operating System</h3>
<p>When you upgrade to a new release of Oracle software, the <a id="sthref202"></a>operating system requirements may have changed. If required, upgrade the operating system before upgrading Oracle Database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>The <a class="olink GINST" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> for your platform to obtain a list of supported operating systems</p>
</li>
<li>
<p>Your operating system-specific documentation for information about how to perform an operating system upgrade</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABDJHCI"></a>
<div id="UPGRD52778" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.10</span> Transporting Data to a Different Operating System<a id="sthref203"></a><a id="sthref204"></a></h3>
<p>When using DBUA or when performing a manual upgrade for Oracle Database, you <span class="italic">cannot</span> directly migrate or transport data in a database on one operating system to a database on another operating system. For example, you cannot migrate data in an Oracle database on Solaris to an Oracle 12<span class="italic">c</span> database on Windows using DBUA. You must follow procedures specific to your operating system platforms. For a discussion of transporting data across platforms, see <a class="olink ADMIN11395" href="../ADMIN/transport.htm#ADMIN11395"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>.</p>
<p>To see the platforms that support cross-platform data transport, run the following query using SQL*Plus:</p>
<pre dir="ltr">SELECT * FROM V$TRANSPORTABLE_PLATFORM ORDER BY PLATFORM_NAME;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the source platform and the target platform are of <span class="italic">different</span> endianness, then you cannot use the <code dir="ltr">RMAN</code> <code dir="ltr">CONVERT</code> <code dir="ltr">DATABASE</code> command. This process requires both the source and target platform to be the same endian value. Your available options are Data Pump replication, Data Pump export/import, or Transportable Tablespace, with an <code dir="ltr">RMAN</code> <code dir="ltr">CONVERT</code> <code dir="ltr">TABLESPACE</code>. If the platforms are of the same endianness, then no conversion is necessary and data can be transported as if on the same platform.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11395" href="../ADMIN/transport.htm#ADMIN11395"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on transporting data across platforms</p>
</li>
<li>
<p><a class="olink BRADV05432" href="../BRADV/rcmxplat.htm#BRADV05432"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information on using the <code dir="ltr">RMAN</code> <code dir="ltr">CONVERT</code> <code dir="ltr">DATABASE</code> and <code dir="ltr">RMAN</code> <code dir="ltr">CONVERT</code> <code dir="ltr">TABLESPACE</code> commands</p>
</li>
<li>
<p><a href="expimp.htm#BABJHBEJ">Chapter 7, &#34;Migrating Data Using Oracle Data Pump&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABEECBE"></a>
<div id="UPGRD52779" class="sect2">
<h3 class="sect2"><span class="secnum">2.2.11</span> About Oracle GoldenGate and Online Database Upgrade</h3>
<p>In an Oracle GoldenGate replication environment, <a id="sthref205"></a><a id="sthref206"></a>you can perform an online database upgrade to the current release of Oracle Database. Using an Oracle GoldenGate replication environment minimizes database downtime during upgrading. Oracle GoldenGate is an excellent method to minimize downtime during planned maintenance, including application and database upgrades, in addition to platform migrations. Oracle GoldenGate is an Oracle product sold independently of Oracle Database for Oracle and third-party database management systems.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ogg" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ogg"><span class="italic">Oracle GoldenGate</span></a> documentation for more information</div>
<div id="UPGRD60150" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref207"></a>
<h4 class="sect3"><span class="secnum">2.2.11.1</span> Overview of Steps for Upgrading Oracle Database Using Oracle GoldenGate</h4>
<p>Upgrading to Oracle Database 12<span class="italic">c</span> using Oracle GoldenGate consists of the following high-level steps. Unless specified, refer to the <a class="olink ogg" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ogg"><span class="italic">Oracle GoldenGate</span></a> documentation library for procedures.</p>
<ol>
<li>
<p>Set up a standby database running the earlier database software release using an existing database backup.</p>
</li>
<li>
<p>Upgrade the standby database to Oracle Database 12<span class="italic">c</span>. See <a href="upgrade.htm#i1011482">&#34;Upgrading with Oracle Database Upgrade Assistant (DBUA).&#34;</a></p>
</li>
<li>
<p>Synchronize the standby database with the production database.</p>
</li>
<li>
<p>Test your environment in active/live mode.</p>
</li>
<li>
<p>Switch over the application to the standby database.</p>
</li>
<li>
<p>Upgrade the primary database to Oracle Database 12<span class="italic">c</span> after comprehensive application testing at standby. See <a class="olink RATUG210" href="../RATUG/GUID-41A30909-3D5B-4A53-A757-B3497498D36B.htm#RATUG210"><span class="italic">Oracle Database Testing Guide</span></a> for information about testing a database upgrade. After testing, see <a href="upgrade.htm#BABJADGA">Chapter 3, &#34;Upgrading Oracle Database.&#34;</a></p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABCHICJ"></a>
<div id="UPGRD60129" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.12</span> About Upgrading Oracle OLAP Data Security Policies</h3>
<p>In Oracle Database 12<span class="italic">c</span>, Oracle OLAP uses Oracle Real Application Security (ORAS) to store OLAP data security policies instead of Extensible Data Security (XDS), which it used in Oracle Database 11<span class="italic">g</span> releases. When you upgrade Oracle Database from release 11<span class="italic">g</span> to release 12<span class="italic">c</span>, any XDS data security policies are automatically converted to ORAS.</p>
<div class="infoboxnotealso">
<p class="notep1">Note:</p>
Data security roles defined in a release 11<span class="italic">g</span> Oracle Database instance are not automatically converted to ORAS. Before you upgrade an 11<span class="italic">g</span> database to Oracle Database 12<span class="italic">c</span>, you must delete any data security roles that are defined in the 11<span class="italic">g</span> database. After the upgrade, you may use Analytic Workspace Manager 12<span class="italic">c</span> to define the data security roles again.
<p>If you upgrade an 11<span class="italic">g</span> database to Oracle Database 12<span class="italic">c</span> without deleting the 11<span class="italic">g</span> data security roles, then any data security policies that include a data security role are invalid in the Oracle Database 12<span class="italic">c</span> database.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OLAUG9279" href="../OLAUG/security.htm#OLAUG9279"><span class="italic">Oracle OLAP User&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" -->
<a id="BABJBDEI"></a>
<div id="UPGRD60015" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.13</span> Requirements for Upgrading Databases That Use Oracle Label Security and Oracle Database Vault</h3>
<p>If you are upgrading from a database earlier than Oracle Database release 12.1 that uses Oracle Label Security (OLS) and Oracle Database Vault, then you must first run the OLS preprocess script, <code dir="ltr">olspreupgrade.sql</code>, to process the <code dir="ltr">aud$</code> table contents. The OLS upgrade moves the <code dir="ltr">aud$</code> table from the <code dir="ltr">SYSTEM</code> schema to the <code dir="ltr">SYS</code> schema. The <code dir="ltr">olspreupgrade.sql</code> script is a preprocessing script required for this move.</p>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">Running the <code dir="ltr">olspreupgrade.sql</code> script before upgrading is mandatory for upgrading databases earlier than Oracle Database release 12.1 that use Oracle Label Security and Oracle Database Vault. Once you have upgraded to Oracle Database release 12.1, you do not have to perform the OLS preprocessing procedure going forward to patch or upgrade the database.</p>
</div>
<p>The <code dir="ltr">olspreupgrade.sql</code> script creates a temporary table <code dir="ltr">PREUPG_AUD$</code> in the <code dir="ltr">SYS</code> schema and moves the <code dir="ltr">SYSTEM.aud$</code> records to <code dir="ltr">SYS.PREUPG_AUD$</code>. As a safety measure, Oracle recommends that you archive your audit trail as described in <a class="olink DBSEG732" href="../DBSEG/audit_admin.htm#DBSEG732"><span class="italic">Oracle Database Security Guide</span></a> before running the <code dir="ltr">olspreupgrade.sql</code> script. If Oracle Label Security is installed on your database, and you are upgrading from an earlier release, then you must run the OLS preprocess script before upgrading.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#BABIHIGB">Requirement for Upgrading Oracle Databases That Use Oracle Database Vault</a></p>
</li>
<li>
<p><a href="#BABCBIHJ">Running olspreupgrade.sql on Oracle Database Release 11.1.0.7</a></p>
</li>
<li>
<p><a href="#BABDHFGJ">Running olspreupgrade.sql on Oracle Database Release 10.2.0.5 or 11.2</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OLSAG3687" href="../OLSAG/utilities.htm#OLSAG3687"><span class="italic">Oracle Label Security Administrator&#39;s Guide</span></a> for information about the OLS preprocess script</div>
<a id="BABIHIGB"></a>
<div id="UPGRD52780" class="sect3">
<h4 class="sect3"><span class="secnum">2.2.13.1</span> Requirement for Upgrading Oracle Databases That Use Oracle Database Vault</h4>
<p>Before you upgrade databases that use Oracle Database Vault, you must be aware of certain requirements, especially for upgrading a CDB.</p>
<ul>
<li>
<p>When upgrading Oracle Database release 11.2 or earlier to Oracle Database 12<span class="italic">c</span>, if you have enabled Oracle <a id="sthref208"></a>Database Vault in your current Oracle home, then by default Oracle Database Vault is disabled in the new target Oracle home.</p>
</li>
<li>
<p>If you are upgrading Oracle Database release 12.1.0.1 to release 12.1.0.2, then you must manually disable Oracle Database Vault in the release 12.1.0.1 Oracle home before you begin the upgrade process.</p>
</li>
<li>
<p>If you are upgrading a CDB, then you must run <code dir="ltr">dvsys.dbms_macadm.disable_dv</code> as DV Owner as described in the following note.</p>
</li>
</ul>
<div class="infoboxnotewarn">
<p class="notep1">Important:</p>
<p class="warnsp">To disable Oracle Database Vault on CDBroot and PDBs, run dvsys.dbms_macadm.disable_dv as DV Owner as follows:</p>
<p class="warnsp">SQL&gt; execute dvsys.dbms_macadm.disable_dv();</p>
<p class="warnsp">Stop the CDB and restart it, and open the PDBs in Read-Write state.</p>
</div>
<p>Once the upgrade is complete, enable Oracle Database Vault again in the new Oracle home.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DVADM012" href="../DVADM/dvdisabl.htm#DVADM012"><span class="italic">Oracle Database Vault Administrator&#39;s Guide</span></a> for instructions about disabling and enabling Oracle Database Vault</div>
</div>
<!-- class="sect3" -->
<a id="BABCBIHJ"></a>
<div id="UPGRD60029" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.13.2</span> Running olspreupgrade.sql on Oracle Database Release 11.1.0.7</h4>
<p>If Oracle Label Security is installed in the earlier release that you are upgrading, then you must run the OLS preprocess <code dir="ltr">olspreupgrade.sql</code> script. If Oracle Database Vault is not installed with your release 11.1.0.7 database, then you can skip steps <a href="#BABBEEAE">2</a>, <a href="#BABDFHDF">3</a>, <a href="#BABBEAAD">6</a>, and <a href="#BABFBJDC">7</a> in this section.</p>
<p>To run the OLS preprocess script on a release 11.1.0.7 database before upgrading:</p>
<ol>
<li>
<p>Copy the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/rdbms/admin/olspreupgrade.sql</code> script from the newly installed Oracle home to the Oracle home of the database to be upgraded.</p>
</li>
<li id="BABBEEAE">
<p>Start SQL*Plus and connect to the database to be upgraded as <code dir="ltr">DVOWNER</code>.</p>
</li>
<li id="BABDFHDF">
<p>Execute the following statement:</p>
<pre dir="ltr">SQL&gt; EXEC dbms_macadm.add_auth_to_realm(&#39;Oracle Database Vault&#39;,&#39;SYS&#39;,NULL, 0);
</pre></li>
<li>
<p>At the system prompt, enter:</p>
<pre dir="ltr">CONNECT SYS AS SYSDBA
</pre></li>
<li>
<p>Run the OLS preprocess script:</p>
<pre dir="ltr"><span class="italic">ORACLE_HOME</span>/rdbms/admin/olspreupgrade.sql
</pre>
<p>You can continue running your applications on the database while the OLS preprocess script is running.</p>
</li>
<li id="BABBEAAD">
<p>After the olspreupgrade.sql has been successfully run, start SQL*Plus and connect to the database as <code dir="ltr">DVOWNER</code>.</p>
</li>
<li id="BABFBJDC">
<p>Execute the following statement:</p>
<pre dir="ltr">SQL&gt; EXEC dbms_macadm.delete_auth_from_realm(&#39;Oracle Database Vault&#39;,&#39;SYS&#39;);
</pre></li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABDHFGJ"></a>
<div id="UPGRD60030" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.13.3</span> Running olspreupgrade.sql on Oracle Database Release 10.2.0.5 or 11.2</h4>
<p>If Oracle Label Security is installed in the earlier release that you are upgrading, then you must run the OLS preprocess <code dir="ltr">olspreupgrade.sql</code> script. If Oracle Database Vault is not installed with your release 10.2.0.5 or 11.2 database, then you can skip steps <a href="#BABBEEAE">2</a>, <a href="#BABDFHDF">3</a>, <a href="#BABBEAAD">6</a>, and <a href="#BABFBJDC">7</a> in this section.</p>
<p>To run the OLS preprocess script on a release 10.2.0.5 or 11.2 database before upgrading:</p>
<ol>
<li>
<p>Copy the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/rdbms/admin/olspreupgrade.sql</code> script from the newly installed Oracle home to the Oracle home of the database to be upgraded.</p>
</li>
<li>
<p>Start SQL*Plus and connect to the database to be upgraded as <code dir="ltr">DVOWNER</code>.</p>
</li>
<li>
<p>Execute the following statement:</p>
<pre dir="ltr">SQL&gt; GRANT DV_PATCH_ADMIN to SYS;
</pre></li>
<li>
<p>At the system prompt, enter:</p>
<pre dir="ltr">CONNECT SYS AS SYSDBA
</pre></li>
<li>
<p>Run the OLS preprocess script:</p>
<pre dir="ltr"><span class="italic">ORACLE_HOME</span>/rdbms/admin/olspreupgrade.sql
</pre>
<p>You may continue running your applications on the database while the OLS preprocess script is running.</p>
</li>
<li>
<p>After the <code dir="ltr">olspreupgrade.sql</code> has been successfully run, start SQL*Plus and connect to the database as <code dir="ltr">DVOWNER</code>.</p>
</li>
<li>
<p>Execute the following statement:</p>
<pre dir="ltr">SQL&gt; REVOKE DV_PATCH_ADMIN from SYS;
</pre></li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBHCBB"></a>
<div id="UPGRD60016" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.14</span> Requirement for Upgrading Databases that Use Oracle Warehouse Builder (OWB)</h3>
<p>OWB is not installed as part of the software for Oracle Database 12<span class="italic">c</span>, and OWB components that may exist in earlier releases are not upgraded as part of the Oracle Database upgrade process. However, you can use OWB release 11.2.0.3 with Oracle Database 12<span class="italic">c</span>. OWB releases earlier than release 11.2.0.3 do not work with Oracle Database 12<span class="italic">c</span>.</p>
<p>You can use OWB release 11.2.0.3 with Oracle Database 12<span class="italic">c</span> in the following ways:</p>
<ul>
<li>
<p><a href="#BABBDGGC">Add Oracle Database 12<span class="italic">c</span> Access to Existing standalone OWB 11.2.0.3 Installation</a></p>
</li>
<li>
<p><a href="#BABFGJEF">Keep Existing OWB 11.2.0.3 Installation In-place with Oracle Database Release 11.2.0.3</a></p>
</li>
<li>
<p><a href="#BABJAAFC">Use the Standalone OWB 11.2.0.3 Installation Where Available</a></p>
</li>
</ul>
<a id="BABBDGGC"></a>
<div id="UPGRD60031" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.14.1</span> Add Oracle Database 12<span class="italic">c</span> Access to Existing standalone OWB 11.2.0.3 Installation</h4>
<p>Oracle provides a patch update that enables OWB 11.2.0.3 to be used with Oracle Database 12<span class="italic">c</span>. If you have an existing standalone OWB 11.2.0.3 installation, then you can enable Oracle Database 12<span class="italic">c</span> to access OWB.</p>
<p>To add Oracle Database 12<span class="italic">c</span> access to an existing standalone OWB 11.2.0.3 installation:</p>
<ol>
<li>
<p>Stop all OWB applications from running: the OWB Runtime service, Browser, and Name Address server.</p>
</li>
<li>
<p>Install Oracle Database 12<span class="italic">c</span> software and follow the database upgrade instructions as described in <a href="upgrade.htm#BABJADGA">Chapter 3, &#34;Upgrading Oracle Database.&#34;</a></p>
</li>
<li>
<p>Apply OWB Cumulative patch 16568042 to the OWB release 11.2.0.3 installation. (You can patch OWB either before or after installing Oracle Database 12<span class="italic">c</span>.)</p>
<p>To obtain the patch, go to My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>, click <span class="bold">Patches</span>, and search for patch request number 16568042.</p>
</li>
<li>
<p>Follow in-place migration steps in the patch README.txt file.</p>
</li>
<li>
<p>Continue to run OWB release 11.2.0.3 from the standalone Oracle home.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABFGJEF"></a>
<div id="UPGRD60017" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.14.2</span> Keep Existing OWB 11.2.0.3 Installation In-place with Oracle Database Release 11.2.0.3</h4>
<p>If OWB release 11.2.0.3 is running on a platform where a standalone installation is not available (for example, Solaris, HP, AIX, and so forth), then you must keep the Oracle Database release 11.2.0.3 software <span class="italic">in-place</span> after the migration to Oracle Database 12<span class="italic">c</span>.</p>
<p>To run OWB integrated with Oracle Database release 11.2.0.3:</p>
<ol>
<li>
<p>Stop all OWB applications from running: the OWB Runtime service, Browser, and Name Address server.</p>
</li>
<li>
<p>Install Oracle Database 12<span class="italic">c</span> software and follow the database upgrade instructions as described in <a href="upgrade.htm#BABJADGA">Chapter 3, &#34;Upgrading Oracle Database.&#34;</a></p>
</li>
<li>
<p>After you have installed Oracle Database 12<span class="italic">c</span>, do <span class="italic">NOT</span> remove Oracle Database release 11.2.0.3. You run OWB from this Oracle home.</p>
</li>
<li>
<p>Apply patch 16568042 to the Oracle Database release 11.2.0.3 Oracle home. This patches the OWB installation. (You can patch OWB either before or after installing Oracle Database 12<span class="italic">c</span>.)</p>
<p>To obtain the patch, go to My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>, click <span class="bold">Patches</span>, and search for patch request number 16568042.</p>
</li>
<li>
<p>Follow in-place migration steps in the patch README.txt file.</p>
</li>
<li>
<p>Run OWB from the integrated Oracle Database release 11.2.0.3 Oracle home.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BABJAAFC"></a>
<div id="UPGRD60018" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.14.3</span> Use the Standalone OWB 11.2.0.3 Installation Where Available</h4>
<p>If OWB 11.2.0.3 is running on a platform where a standalone installation is available (on Linux and Windows), you can install the standalone software and then remove the Oracle Database release 11.2.0.3 software.</p>
<p>To convert OWB from an integrated installation to a standalone installation:</p>
<ol>
<li>
<p>Stop all OWB applications from running: the OWB Runtime service, Browser, and Name Address server.</p>
</li>
<li>
<p>Install the OWB standalone client into its own OWB home directory.</p>
</li>
<li>
<p>Copy the entire <code dir="ltr">owb/bin/admin</code> directory from the old OWB installation to the new OWB installation&#39;s <code dir="ltr">owb/bin/admin</code> directory. This step ensures all files and subdirectories are copied to the new OWB location.</p>
</li>
<li>
<p>Run the following SQL statement as the OWBSYS user to reset the Control Center home value. Enter from the directory location for the new <code dir="ltr"><span class="codeinlineitalic">OWB_HOME</span></code> when prompted:</p>
<pre dir="ltr">sqlplus OWBSYS/OWBSYS_PASSWORD
% <span class="italic">New_OWB_HOME</span>/owb/UnifiedRepos/reset_owbcc_home.sql
</pre></li>
<li>
<p>Install Oracle Database 12<span class="italic">c</span> software and follow the database upgrade instructions as described in <a href="upgrade.htm#BABJADGA">Chapter 3, &#34;Upgrading Oracle Database.&#34;</a></p>
</li>
<li>
<p>Apply OWB Cumulative patch 16568042 to the OWB standalone release 11.2.0.3 installation. (You can patch OWB either before or after installing Oracle Database 12<span class="italic">c</span>.)</p>
<p>To obtain the patch, go to My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>, click <span class="bold">Patches</span>, and search for patch request number 16568042.</p>
</li>
<li>
<p>Follow in-place migration steps in the patch <code dir="ltr">README.txt</code> file.</p>
</li>
<li>
<p>Run OWB release 11.2.0.3 from the standalone Oracle home location.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJEFCG"></a>
<div id="UPGRD60074" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.15</span> Removing the Unified Auditing Schema and Roles<a id="sthref209"></a></h3>
<p>Remove the <code dir="ltr">AUDSYS</code> schema and the <code dir="ltr">AUDIT_ADMIN</code> and <code dir="ltr">AUDIT_VIEWER</code> roles. At this stage, there should be no <code dir="ltr">AUDSYS</code> schema.</p>
<ol>
<li>
<p>Log into SQL*Plus as user <code dir="ltr">SYS</code> with the <code dir="ltr">SYSDBA</code> system privilege.</p>
<pre dir="ltr">sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre></li>
<li>
<p>If the AUDSYS schema exists, then start the database in migrate mode and drop the AUDSYS user:</p>
<pre dir="ltr">SQL&gt; startup migrate pfile=$T_WORK/t_init1.ora
ORACLE instance started.
SQL&gt; drop user audsys cascade;
 
User dropped.
</pre></li>
<li>
<p>Drop the <code dir="ltr">AUDSYS</code> schema (if it does exist) and the <code dir="ltr">AUDIT_ADMIN</code> and <code dir="ltr">AUDIT_VIEWER</code> roles.</p>
<pre dir="ltr">DROP USER AUDSYS CASCADE;
DROP ROLE AUDIT_ADMIN;
DROP ROLE AUDIT_VIEWER;
</pre></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABJHIEH"></a>
<div id="UPGRD52781" class="sect1">
<h2 class="sect1"><span class="secnum">2.3</span> Installing the New Oracle Database Software<a id="sthref210"></a></h2>
<p>The following steps describe how to install the software for the new Oracle Database release.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
You cannot upgrade a database using Database Upgrade Assistant (DBUA) when the source and target Oracle homes are owned by different users. Attempting to do so returns error <a id="sthref211"></a>PRKH-1014. Either ensure that the source and target databases have the same owner, or perform the manual steps described in <a href="upgrade.htm#CACGGHJC">&#34;Manually Upgrading a Multitenant Container Oracle Database (CDB)&#34;</a>.</div>
<p>To install the new Oracle Database software for this release:</p>
<ol>
<li>
<p>If you are upgrading an Oracle RAC database, then you must perform the following steps in the order shown:</p>
<ol>
<li>
<p>Upgrade Oracle Clusterware first as described in <a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When upgrading a non-Oracle RAC database, you must run Oracle Net Configuration Assistant (NETCA) before running DBUA. See <a href="#BABGBEBI">&#34;Recommendations for Oracle Net Services When Upgrading Oracle Database&#34;</a>. When upgrading an Oracle RAC database, as part of the Oracle Clusterware upgrade, OUI automatically runs NETCA to upgrade the network listener. Therefore, do not separately run NETCA.</div>
</li>
<li>
<p>Mount the Oracle Grid Infrastructure installation media.</p>
</li>
<li>
<p>Perform operating system prerequisite checks on each of the nodes that you intend to upgrade, to ensure that they meet the system prerequisites for Oracle Grid Infrastructure (Oracle Clusterware and Oracle ASM).</p>
</li>
<li>
<p>If necessary, perform patch upgrades of the earlier release of Oracle Clusterware software to the most recent patch version.</p>
</li>
<li>
<p>Ensure that you are logged in as the user that owns the Oracle Grid Infrastructure installation, and run the Oracle Grid Infrastructure installation. Provide information as prompted by the installer.</p>
</li>
<li>
<p>When prompted, open a separate terminal session, log in as <code dir="ltr">root</code>, and run <a id="sthref212"></a><code dir="ltr">root.sh</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink CWGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your operating system</p>
</li>
<li>
<p><a class="olink RIGEN" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=RIGEN"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a> for your operating system</p>
</li>
</ul>
</div>
</li>
</ol>
</li>
<li>
<p>After upgrading Oracle Clusterware, follow the instructions in your Oracle operating system-specific documentation to prepare for installation of Oracle Database software and start the <a id="sthref213"></a>Oracle Universal Installer.</p>
<ul>
<li>
<p>Oracle recommends that you run the Pre-Upgrade Information Tool before you upgrade using DBUA. You can preview the types of items DBUA checks, and see any issues ahead of time that might be present in the database. The Pre-Upgrade Information Tool helps you fix prerequisite issues that it finds. (See <a href="#BABBCGJC">&#34;About the Pre-Upgrade Information Tool for Oracle Database&#34;</a>.) You can then run DBUA independently after the installation is complete.</p>
</li>
<li>
<p>If you use <a id="sthref214"></a>Oracle Label Security, Oracle <a id="sthref215"></a>Database Vault, or both, then select <span class="bold">Enterprise</span> <span class="bold">Edition</span> on the Select Database Edition page, click <span class="bold">Select</span> <span class="bold">Options</span>, and enable one or both components from the components list. See <a href="#BABJBDEI">&#34;Requirements for Upgrading Databases That Use Oracle Label Security and Oracle Database Vault&#34;</a>.</p>
</li>
</ul>
<p>When installation of Oracle Database software has completed successfully, click <span class="bold">Exit</span> to close Oracle Universal Installer.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BABGBEBI">&#34;Recommendations for Oracle Net Services When Upgrading Oracle Database&#34;</a></p>
</li>
<li>
<p><a href="upgrade.htm#i1011482">&#34;Upgrading with Oracle Database Upgrade Assistant (DBUA)&#34;</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABHGECA"></a>
<div id="UPGRD52782" class="sect1">
<h2 class="sect1"><span class="secnum">2.4</span> Patch Set Updates and Requirements for Upgrading Oracle Database</h2>
<p>The software for Oracle Database 12<span class="italic">c</span> contains a full release that includes all the latest <a id="sthref216"></a>patches and updates for Oracle Database. After upgrading, Oracle recommends that you check for patches and patch set updates as a part of database administration.</p>
<p>My Oracle Support provides detailed notes on how to obtain the latest patches, plus tools for lifecycle management and automated patching. For information about getting started with My Oracle Support, go to <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>My Oracle Support <a id="sthref217"></a>Note ID 854428.1, &#34;Patch Set Updates for Oracle Products&#34; at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code></p>
</li>
<li>
<p>&#34;Oracle Database Upgrade Path Reference List&#34; (<a id="sthref218"></a>Note ID 730365.1) on My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>, which contains an upgrade reference list for most available Oracle Database releases, including download information, patch numbers, and links to other notes</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABBCGJC"></a>
<div id="UPGRD52783" class="sect1">
<h2 class="sect1"><span class="secnum">2.5</span> About the Pre-Upgrade Information Tool for Oracle Database</h2>
<p>After you have installed the software for Oracle Database 12<span class="italic">c</span>, you must analyze your database before upgrading it to the new release. This is done by running the <code dir="ltr">preupgrd.sql</code> Pre-Upgrade Information Tool from the environment of the database you are to upgrade. Running the Pre-Upgrade Information Tool provides a preview of the items that DBUA checks and information about anything to be fixed. The Pre-Upgrade Information Tool generates fixup scripts that you can run to resolve issues that are flagged in the source database.</p>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#BABCEFJD">Using the Pre-Upgrade Information Tool (preupgrd.sql)</a></p>
</li>
<li>
<p><a href="#BABHHIBG">Pre-Upgrade Information Tool Warnings and Recommendations for Oracle Database</a></p>
</li>
<li>
<p><a href="#BABBHIAB">Sample Output of the Pre-Upgrade Information Tool</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you are upgrading manually and have not run the Pre-Upgrade Information Tool first, then the <code dir="ltr">catctl.pl</code> script could terminate with errors. Running the tool is mandatory because it warns you of issues to be fixed before upgrading.</div>
<a id="BABCEFJD"></a>
<div id="UPGRD52880" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.5.1</span> Using the Pre-Upgrade Information Tool (preupgrd.sql)</h3>
<p>Oracle Database 12<span class="italic">c</span> <a id="sthref219"></a>introduces the <code dir="ltr">preupgrd.sql</code> Pre-Upgrade Information Tool. The new <code dir="ltr">preupgrd.sql</code> script replaces earlier versions of the Pre-Upgrade Information Tool. With the new Pre-Upgrade Information Tool, the default behavior of the prerequisite upgrade checks has been enhanced in the following ways:</p>
<ul>
<li>
<p>A log file, <code dir="ltr">preupgrade.log</code>, is created containing the output of the Pre-Upgrade Information Tool.</p>
</li>
<li>
<p>The <code dir="ltr">preupgrade_fixups.sql</code> script is created to list and describe issues that can be fixed using SQL*Plus in the source database. It also attempts to resolve trivial issues when you execute it.</p>
</li>
<li>
<p>The <code dir="ltr">postupgrade_fixups.sql</code> script is created to address issues that can be fixed after the database has been upgraded. See <a href="afterup.htm#BABEEEFF">Chapter 4, &#34;Post-Upgrade Tasks for Oracle Database.&#34;</a></p>
</li>
</ul>
<p>If <code dir="ltr"><span class="codeinlineitalic">Oracle_Base</span></code> is defined, then the generated scripts and log files are created in <code dir="ltr"><span class="codeinlineitalic">Oracle_Base</span></code><code dir="ltr">/cfgtoollogs/</code>. If <code dir="ltr"><span class="codeinlineitalic">Oracle_Base</span></code> is not defined, then the generated scripts and log files are created in <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/cfgtoollogs/</code>.</p>
<p>To <a id="sthref220"></a>run the Pre-Upgrade Information Tool on the source database:</p>
<ol>
<li>
<p>Copy <code dir="ltr">preupgrd.sql</code> and <code dir="ltr">utluppkg.sql</code> from the <code dir="ltr">rdbms/admin</code> directory of the new Oracle home where you installed Oracle Database 12<span class="italic">c</span> to a directory that is accessible when you connect to your source database, which is the database to be upgraded. Preferably, this should be a temp directory.</p>
</li>
<li>
<p>Log in to the system as the owner of the environment of the database being upgraded.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
<span class="bold">The Pre-Upgrade Information Tool, which consists of preupgrd.sql and utluppkg.sql, must be copied to and must be run from the environment of the database being upgraded.</span></div>
</li>
<li>
<p>Start SQL*Plus and connect to the database to be upgraded using an account with DBA privileges:</p>
<pre dir="ltr">SQL&gt; CONNECT / AS SYSDBA
</pre></li>
<li>
<p>(Recommended.) Run the Pre-Upgrade Information Tool (preupgrd.sql) for the following scenarios:</p>
<ol>
<li>
<p>Before you upgrade a non-CDB in the source Oracle Home.</p>
<pre dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/temp/preupgrd.sql
</pre></li>
<li>
<p>Before you upgrade a CDB in a source Oracle Home.</p>
<p>When running <code dir="ltr">preupgrd.sql</code> in a CDB, make sure all the PDBs are opened. To open all the PDBs:</p>
<pre dir="ltr">SQL&gt; alter pluggable database all open;
</pre>
<p>Run <code dir="ltr">catcon.pl</code> and <code dir="ltr">preupgrd.sql</code> as follows:</p>
<pre dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl -n 1 -d 
$ORACLE_HOME/rdbms/admin -l <span class="codeinlineitalic">&lt;output directory for catcon logs&gt;</span> -b preupgrd 
preupgrd.sql
</pre>
<p>The log file <code dir="ltr">preupgrd0.log</code> in <span class="italic">&lt;output directory for catcon logs&gt;</span> contains the screen output of <code dir="ltr">preupgrd.sql</code>. Refer to <code dir="ltr">preupgrd0.log</code> for locations to the preupgrade results and fix-up scripts.</p>
</li>
<li>
<p>Before a PDB is unplugged in the source Oracle Home. (See <a href="upgrade.htm#CHDCGIJC">&#34;Upgrading a Pluggable Database (PDB)&#34;</a> for additional information.)</p>
<p>If running <code dir="ltr">preupgrd.sql</code> in a single PDB, connect to the CDB and switch to the PDB as follows:</p>
<pre dir="ltr">alter session set container = PDB1;
</pre></li>
</ol>
<p>The fixup scripts and <a id="sthref221"></a>log file are generated in the <a id="sthref222"></a><code dir="ltr">preupgrade</code> directory of the source database. To view the PDB-only output, see <code dir="ltr">cfgtoollogs/SID/preupgrade/pdbfiles</code>. The PDB files are first written to <code dir="ltr">preupgrade/pdbfiles</code> and then concatenated to <code dir="ltr">preupgrade.log</code>, <code dir="ltr">preupgrade_fixups.sql</code>, and <code dir="ltr">postupgrade_fixups.sql</code> in the <code dir="ltr">cfgtoollogs/</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">/preupgrade</code> directory.</p>
</li>
<li>
<p>View and read through the resulting generated fixup scripts and log file, which are located in <code dir="ltr"><span class="codeinlineitalic">$ORACLE_BASE</span></code><code dir="ltr">/cfgtoollogs/</code><code dir="ltr"><span class="codeinlineitalic">db_unique_name</span></code><code dir="ltr">/preupgrade</code> if <code dir="ltr">ORACLE_BASE</code> is defined, or <code dir="ltr"><span class="codeinlineitalic">$ORACLE_HOME</span></code><code dir="ltr">/cfgtoollogs/</code><code dir="ltr"><span class="codeinlineitalic">db_unique_name</span></code><code dir="ltr">/preupgrade</code> if <code dir="ltr">ORACLE_BASE</code> is not defined.</p>
</li>
<li>
<p>After you have reviewed the scripts, Oracle recommends that you execute <code dir="ltr">preupgrade_fixups.sql</code> on the source database. The <code dir="ltr">preupgrade_fixups.sql</code> script will attempt to resolve issues reported by the preupgrade process.</p>
<p>Issues that cannot be resolved automatically by a fixup script are flagged with ** USER ACTION REQUIRED **.</p>
</li>
<li>
<p>Fix the flagged issues that require you to complete manual procedures. See <a href="#BABHHIBG">&#34;Pre-Upgrade Information Tool Warnings and Recommendations for Oracle Database&#34;</a> for more details about actions to take.</p>
</li>
<li>
<p>Run the Pre-Upgrade Information Tool as many times as needed for you to work through and resolve warnings.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABHHIBG"></a>
<div id="UPGRD52784" class="sect2">
<h3 class="sect2"><span class="secnum">2.5.2</span> Pre-Upgrade Information Tool <a id="sthref223"></a>Warnings and Recommendations for Oracle Database</h3>
<p>Before upgrading to the new release of Oracle Database, Oracle recommends that you analyze the information and warnings displayed by the Pre-Upgrade Information Tool.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The following support notes on My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>:
<ul>
<li>
<p><a id="sthref224"></a>Note 472937.1 &#34;Information On Installed Database Components&#34;</p>
</li>
<li>
<p><a id="sthref225"></a>Note 753041.1 &#34;How to Diagnose Components with NON VALID Status&#34;</p>
</li>
</ul>
</div>
<p>The following topics describe <a id="sthref226"></a>warnings and the appropriate actions to take:</p>
<ul>
<li>
<p><a href="#BABEDAFB">Update Access Control Lists and Network Utility Packages</a></p>
</li>
<li>
<p><a href="#BABJGCIC">Evaluate Dependencies and Add ACLs for Network Utility Packages</a></p>
</li>
<li>
<p><a href="#BABIHIFE">About Database Links with Passwords from Earlier Oracle Database Releases</a></p>
</li>
<li>
<p><a href="#BABJBJBH">About Oracle Database Warnings for TIMESTAMP WITH TIME ZONE Data Type</a></p>
</li>
<li>
<p><a href="#BABGCDDJ">Decrease Oracle Database Downtime by Gathering Optimizer Statistics</a></p>
</li>
<li>
<p><a href="#BABDGIAH">Identify Invalid Objects in Oracle Database with the utluiobj Script</a></p>
</li>
<li>
<p><a href="#BABFHAIB">Verify That Materialized View Refreshes Have Completed Before Upgrading</a></p>
</li>
<li>
<p><a href="#BABJHFGA">Ensure That No Files Need Media Recovery Before Upgrading</a></p>
</li>
<li>
<p><a href="#BABEDFIH">Ensure That No Files Are in Backup Mode Before Upgrading</a></p>
</li>
<li>
<p><a href="#BABBGHEI">Resolve Outstanding Distributed Transactions Before Upgrading</a></p>
</li>
<li>
<p><a href="#BABFBJGG">Purge the Database Recycle Bin Before Upgrading</a></p>
</li>
<li>
<p><a href="#BABCCFBG">Synchronize the Standby Database with the Primary Database When Upgrading</a></p>
</li>
<li>
<p><a href="#BABEHFED">About Upgrading Oracle Application Express Databases</a></p>
</li>
</ul>
<a id="BABEDAFB"></a>
<div id="UPGRD52786" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.1</span> Update Access Control Lists and Network Utility Packages<a id="sthref227"></a><a id="sthref228"></a><a id="sthref229"></a></h4>
<p>Starting with Oracle Database 12<span class="italic">c</span>, the access control of the UTL packages (<a id="sthref230"></a><code dir="ltr">UTL_TCP</code>, <a id="sthref231"></a><code dir="ltr">UTL_SMTP</code>, <a id="sthref232"></a><code dir="ltr">UTL_MAIL</code>, <code dir="ltr">UTL_HTTP</code>, and <a id="sthref233"></a><code dir="ltr">UTL_INADDR</code>) is implemented using Oracle Database Real Application Security and does not require Oracle XML DB.</p>
<p>To update ACLs and Network Utility packages:</p>
<ol>
<li>
<p>Ensure that the logged-in user has the <code dir="ltr">connect</code> privilege for the host and port specified by <code dir="ltr">DBMS_LDAP.init</code>. New behavior for the <a id="sthref234"></a><code dir="ltr">DBMS_LDAP</code> PL/SQL package and the <a id="sthref235"></a><code dir="ltr">HttpUriType</code> type requires the creation or update of access control lists (ACLs) after performing the upgrade to the new release of Oracle Database.</p>
<p>For example, if your application depends on the <code dir="ltr">DBMS_LDAP</code> package, then the error &#34;<a id="sthref236"></a>ORA-24247: network access denied by access control list (ACL)&#34; may occur. To avoid this error, the logged-in user must have the <code dir="ltr">connect</code> privilege for the host and port specified by <a id="sthref237"></a><code dir="ltr">DBMS_LDAP.init</code>.</p>
</li>
<li>
<p>If one or all of the <code dir="ltr">UTL_TCP</code>, <code dir="ltr">UTL_SMTP</code>, <code dir="ltr">UTL_MAIL</code>, <code dir="ltr">UTL_HTTP</code>, and <code dir="ltr">UTL_INADDR</code> packages are installed, then you might be required to re-install these packages after performing the upgrade to ensure that you have the latest version of these packages for the new Oracle Database 12<span class="italic">c</span> release.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBFSG99821" href="../DBFSG/acls_sec_classes.htm#DBFSG99821"><span class="italic">Oracle Database Real Application Security Administrator&#39;s and Developer&#39;s Guide</span></a> for information on configuring access control lists</div>
</div>
<!-- class="sect3" -->
<a id="BABJGCIC"></a>
<div id="UPGRD52787" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.5.2.2</span> Evaluate Dependencies and <a id="sthref238"></a>Add ACLs for Network Utility Packages</h4>
<p>You might be required to evaluate the dependencies of network utility packages and provide access by adding the appropriate access control lists (ACLs).</p>
<p>To check the status of access to network utility packages and to add ACLs for network utility packages:</p>
<ol>
<li>
<p>Run the Pre-Upgrade Information Tool as described in <a href="#BABCEFJD">&#34;Using the Pre-Upgrade Information Tool (preupgrd.sql)&#34;</a>.</p>
</li>
<li>
<p>Check the output from the Pre-Upgrade Information Tool (<code dir="ltr"><span class="codeinlineitalic">preupgrade</span></code><code dir="ltr">.log</code>) for messages such as:</p>
<pre dir="ltr">WARNING: --&gt; Database contains schemas with objects dependent on network packages.
.... Refer to the Database Upgrade Guide for instructions to configure Network ACLs.
.... USER WKSYS has dependent objects.
.... USER SYSMAN has dependent objects.
.... USER FLOWS_010600 has dependent objects.
.
</pre></li>
<li>
<p>Query the <code dir="ltr">DBA_DEPENDENCIES</code> view to obtain more information about the dependencies. For example:</p>
<pre dir="ltr">SELECT * FROM DBA_DEPENDENCIES
WHERE referenced_name IN (&#39;UTL_TCP&#39;,&#39;UTL_SMTP&#39;,&#39;UTL_MAIL&#39;,&#39;UTL_HTTP&#39;,&#39;UTL_INADDR&#39;,&#39;DBMS_LDAP&#39;)
  AND owner NOT IN (&#39;SYS&#39;,&#39;PUBLIC&#39;,&#39;ORDPLUGINS&#39;);
</pre></li>
<li>
<p>Prepare post-upgrade scripts now to make the scripts available for use in your database environment. This ensures the new access controls are part of your upgrade testing.</p>
<p>To configure network access control lists (ACLs) in the database so that these packages can work as they did in prior releases, see the example script provided in <a href="afterup.htm#CEGDGAHJ">&#34;Configure Access Control Lists (ACLs) to External Network Services&#34;</a>. This script shows how to use the <a id="sthref239"></a><code dir="ltr">DBMS_NETWORK_ACL_ADMIN</code> package to create, assign, and add privileges to the access control list.</p>
</li>
<li>
<p>After the upgrade, you must grant the specific required privileges. Access is based on the usage in the original database.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink DBFSG99821" href="../DBFSG/acls_sec_classes.htm#DBFSG99821"><span class="italic">Oracle Database Real Application Security Administrator&#39;s and Developer&#39;s Guide</span></a> for information on configuring access control lists</div>
</div>
<!-- class="sect3" -->
<a id="BABIHIFE"></a>
<div id="UPGRD52788" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.3</span> About <a id="sthref240"></a>Database Links with Passwords from Earlier Oracle Database Releases</h4>
<p>This information is important only for downgrading to your original database release after performing the upgrade. During the upgrade to Oracle Database 12<span class="italic">c</span> any passwords in database links are encrypted.</p>
<ul>
<li>
<p>To downgrade to the release from which you upgraded, all of the database links with encrypted passwords must be dropped before the downgrade. Consequently, the database links are nonexistent in the downgraded database.</p>
</li>
<li>
<p>If you anticipate a requirement to be able to downgrade to your original release, then save the information about affected database links from the <a id="sthref241"></a><code dir="ltr">SYS.LINK$</code> table, so that you can re-create the database links after the downgrade.</p>
</li>
<li>
<p>For information about earlier releases, refer to the original documentation for the Oracle Database release from which you upgraded. You may also refer to your platform-specific <span class="italic">Oracle Installation Guide</span> for the earlier release.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN12101" href="../ADMIN/ds_concepts.htm#ADMIN12101"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about authentication and database links</div>
</div>
<!-- class="sect3" -->
<a id="BABJBJBH"></a>
<div id="UPGRD52789" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.4</span> <a id="sthref242"></a>About Oracle Database Warnings for TIMESTAMP WITH TIME ZONE Data Type</h4>
<p>The time zone files that are supplied with Oracle Database 12<span class="italic">c</span> have been updated to reflect changes in transition rules for some time zone regions. The changes might affect existing data of the <a id="sthref243"></a><code dir="ltr">TIMESTAMP WITH TIME ZONE</code> data type.</p>
<p>Oracle recommends that you ensure that you have the latest time zone files before you upgrade the database. If the time zone file version of the database you are upgrading is not the most recent version of the time zone file available for the new release of Oracle Database, then the Pre-Upgrade Information Tool displays a warning and describes how to proceed. <a href="#BABEIGDJ">Table 2-2, &#34;Choices for Fixing the Time Zone File Version&#34;</a> describes the warnings and summarizes <a id="sthref244"></a>how to resolve a mismatch in time zone file versions.</p>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">The <code dir="ltr">TIMESTAMP WITH TIME ZONE</code> data stored in the database can become corrupted during the upgrade if there is a time zone file version mismatch.</p>
</div>
<div id="UPGRD52790" class="tblruleformal">
<p class="titleintable"><a id="sthref245"></a><a id="BABEIGDJ"></a>Table 2-2 Choices for Fixing the Time Zone File Version</p>
<table class="cellalignment1837" title="Choices for Fixing the Time Zone File Version" summary="This table describes how how to handle warnings if the time zone file version on the database being upgraded is older or newer than the the version provided with the Oracle Database release you just installed." dir="ltr">
<thead>
<tr class="cellalignment1828">
<th class="cellalignment1838" id="r1c1-t60">IF the time zone version on the database being upgraded is...</th>
<th class="cellalignment1838" id="r1c2-t60">THEN fix the time zone files...</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1828">
<td class="cellalignment1834" id="r2c1-t60" headers="r1c1-t60">
<p>Earlier than the most current version included in the new database release and the Pre-Upgrade Information Tool displays &#34;Database is using a time zone file older than version <span class="italic">n</span>.&#34;</p>
</td>
<td class="cellalignment1834" headers="r2c1-t60 r1c2-t60">
<p><span class="italic">After</span> completing the database upgrade.</p>
<p>Use the <a id="sthref246"></a><code dir="ltr">DBMS_DST</code> PL/SQL package and follow the instructions in &#34;Steps to Upgrade Time Zone File and Timestamp with Time Zone Data&#34; in <a class="olink NLSPG261" href="../NLSPG/ch4datetime.htm#NLSPG261"><span class="italic">Oracle Database Globalization Support Guide</span></a>.</p>
<p><span class="bold">See Also:</span> <a class="olink ARPLS234" href="../ARPLS/d_dst.htm#ARPLS234"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the <code dir="ltr">DBMS_DST</code> PL/SQL package and support note ID 1509653.1 &#34;Updating the RDBMS DST version in 12<span class="italic">c</span> Release 1 (12.1.0.1 and up) using <code dir="ltr">DBMS_DST</code>&#34; on My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code></p>
</td>
</tr>
<tr class="cellalignment1828">
<td class="cellalignment1834" id="r3c1-t60" headers="r1c1-t60">
<p>Later than the version included in the new database release and the Pre-Upgrade Information Tool displays &#34;Database is using a time zone file greater than version <span class="italic">n</span>.&#34;</p>
</td>
<td class="cellalignment1834" headers="r3c1-t60 r1c2-t60">
<p><span class="italic">Before</span> beginning the database upgrade.</p>
<p>You must patch the Oracle home by using an <a id="sthref247"></a><code dir="ltr">RDBMS DST</code> patch with the appropriate patch for the time zone file version in use. Apply the patch for each database to be upgraded. Otherwise, the upgrade script terminates without upgrading the database. The <code dir="ltr">RDBMS DST</code> patches are available from My Oracle Support. Refer to <a id="sthref248"></a>note ID 412160.1 at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p>The support note &#34;Updated DST Transitions and New Time Zones in Oracle Time Zone File Patches&#34; (ID 412160.1) from My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code></p>
</li>
<li>
<p><a class="olink NLSPG259" href="../NLSPG/ch4datetime.htm#NLSPG259"><span class="italic">Oracle Database Globalization Support Guide</span></a> for detailed information about upgrading the time zone file and timestamp with time zone data</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABGCDDJ"></a>
<div id="UPGRD52791" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.5</span> Decrease Oracle Database Downtime by Gathering <a id="sthref249"></a>Optimizer Statistics</h4>
<p>Statistics <a id="sthref250"></a>gathering occurs for those tables that lack statistics or are significantly changed during the upgrade of Oracle Database. Collect <a id="sthref251"></a>statistics before performing the actual database upgrade. Oracle strongly recommends that if your database contains thousands of dictionary tables, then collect statistics the night before starting the upgrade.</p>
<p>To decrease the amount of downtime:</p>
<ul>
<li>
<p>Oracle recommends that you use the <a id="sthref252"></a><a id="sthref253"></a><code dir="ltr">DBMS_STATS.GATHER_DICTIONARY_STATS</code> procedure to gather these statistics. For example, enter the following SQL statement:</p>
<pre dir="ltr">SQL&gt; EXEC DBMS_STATS.GATHER_DICTIONARY_STATS;
</pre></li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS68571" href="../ARPLS/d_stats.htm#ARPLS68571"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for the syntax and complete information for the <code dir="ltr">GATHER_DICTIONARY_STATS</code> procedure</div>
</div>
<!-- class="sect3" -->
<a id="BABDGIAH"></a>
<div id="UPGRD52793" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.6</span> Identify Invalid Objects in Oracle Database with the <a id="sthref254"></a>utluiobj Script</h4>
<p>Any <a id="sthref255"></a>invalid <code dir="ltr">SYS</code> or <code dir="ltr">SYSTEM</code> objects found before upgrading the database are stored in the table named <a id="sthref256"></a><code dir="ltr">registry$sys_inv_objs</code> after running the Pre-Upgrade Information Tool, preupgrd.sql. Additionally, any <a id="sthref257"></a>invalid non-<code dir="ltr">SYS</code> or non-<code dir="ltr">SYSTEM</code> objects found before upgrading the database are stored in <a id="sthref258"></a><code dir="ltr">registry$nonsys_inv_objs</code>.</p>
<p>To <a id="sthref259"></a><a id="sthref260"></a>identify invalid objects before upgrading and invalid objects that result from the upgrade:</p>
<ul>
<li>
<p>Run <code dir="ltr">utluiobj.sql</code> from <code dir="ltr"><span class="codeinlineitalic">$ORACLE_HOME</span></code><code dir="ltr">/rdbms/admin/</code></p>
<p>Running the <code dir="ltr">utluiobj.sql</code> script before and after upgrading enables you to compare the invalid objects after the upgrade to the objects that were invalid before the upgrade. This is like a health check for the database. Having more invalid objects after the upgrade indicates that something went wrong.</p>
</li>
<li>
<p>You can fix the invalid objects, or contact My Oracle Support for assistance.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Ensure that you first run the Pre-Upgrade Information Tool as part of the upgrade process. DBUA runs this tool in the Prerequisite Checks phase. You can manually run this tool before upgrading. If the Pre-Upgrade Information Tool has not previously been run, you will see an error stating that the table <code dir="ltr">registry$sys_inv_objs</code> does not exist. The Pre-Upgrade Information Tool creates and populates <code dir="ltr">registry$sys_inv_objs</code>. See <a href="#BABCEFJD">&#34;Using the Pre-Upgrade Information Tool (preupgrd.sql).&#34;</a></div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN12492" href="../ADMIN/general.htm#ADMIN12492"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on manually recompiling invalid objects with PL/SQL package procedures</div>
</div>
<!-- class="sect3" -->
<a id="BABFHAIB"></a>
<div id="UPGRD52796" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.7</span> Verify That Materialized View Refreshes Have Completed Before Upgrading</h4>
<p>Before upgrading Oracle Database, you must wait until all <a id="sthref261"></a><a id="sthref262"></a>materialized views have completed refreshing. You can query the system to determine if there are any materialized view refreshes still in progress.</p>
<p>To determine if there are any <a id="sthref263"></a><a id="sthref264"></a>materialized view refreshes still in progress:</p>
<ul>
<li>
<p>Run the following SQL query:</p>
<pre dir="ltr">SQL&gt; SELECT o.name FROM sys.obj$ o, sys.user$ u, sys.sum$ s
                   WHERE o.type# = 42 AND bitand(s.mflags, 8) =8;
</pre></li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ARPLS027" href="../ARPLS/d_mview.htm#ARPLS027"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on using the <code dir="ltr">DBMS_MVIEW</code> package to manage materialized views</p>
</li>
<li>
<p><a class="olink SQLRF01523" href="../SQLRF/statements_8022.htm#SQLRF01523"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code dir="ltr">DROP MATERIALIZED VIEW</code> statement to permanently remove an existing materialized view from the database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABJHFGA"></a>
<div id="UPGRD52797" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.8</span> Ensure That No Files Need Media Recovery Before Upgrading</h4>
<p>Before upgrading Oracle Database, you must ensure that there are no files requiring <a id="sthref265"></a>media recovery. You can query the system to get a list of files, and then recover them as appropriate.</p>
<p>To get a list of files that require media recovery:</p>
<ul>
<li>
<p>Run the following statement:</p>
<pre dir="ltr">SQL&gt; SELECT * FROM v$recover_file;
</pre></li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV89781" href="../BRADV/rcmblock.htm#BRADV89781"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about performing block media recovery</div>
</div>
<!-- class="sect3" -->
<a id="BABEDFIH"></a>
<div id="UPGRD52798" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.9</span> Ensure That No Files Are in Backup Mode Before Upgrading</h4>
<p>Files must not be <a id="sthref266"></a><a id="sthref267"></a>in backup mode when upgrading Oracle Database; therefore, you must wait until backups are completed. You can query the system to see a list of any files in backup mode. Then take appropriate action by either waiting for the backup to complete, or by aborting any backups that are not needed.</p>
<p>To get a <a id="sthref268"></a><a id="sthref269"></a>list of files in backup mode:</p>
<ul>
<li>
<p>Run the following statement:</p>
<pre dir="ltr">SQL&gt; SELECT * FROM v$backup WHERE status != &#39;NOT ACTIVE&#39;;
</pre></li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV191" href="../BRADV/part_bak.htm#BRADV191"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about backing up and archiving data</div>
</div>
<!-- class="sect3" -->
<a id="BABBGHEI"></a>
<div id="UPGRD52799" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.10</span> Resolve Outstanding Distributed Transactions Before Upgrading</h4>
<p>You must resolve outstanding <a id="sthref270"></a><a id="sthref271"></a>distributed transactions before upgrading Oracle Database. You can do this by first querying to see any pending transactions, and then committing the transactions. You must wait until all pending distributed transactions have been committed.</p>
<p>To resolve outstanding distributed transactions:</p>
<ol>
<li>
<p>Run the following statement:</p>
<pre dir="ltr">SQL&gt; SELECT * FROM dba_2pc_pending;
</pre></li>
<li>
<p>If the query in the previous step returns any rows, then run the following statements:</p>
<pre dir="ltr">SQL&gt; SELECT local_tran_id FROM dba_2pc_pending;
SQL&gt; EXECUTE dbms_transaction.purge_lost_db_entry(&#39;&#39;);
SQL&gt; COMMIT;
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
<a class="olink ADMIN032" href="../ADMIN/ds_txnman.htm#ADMIN032"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on managing distributed transactions</div>
</div>
<!-- class="sect3" -->
<a id="BABFBJGG"></a>
<div id="UPGRD52801" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.11</span> Purge the Database Recycle Bin Before Upgrading</h4>
<p>All the user recycle bins in the <a id="sthref272"></a><a id="sthref273"></a><a id="sthref274"></a>database must be empty before you begin the upgrade process for Oracle Database. You use the <a id="sthref275"></a><a id="sthref276"></a><code dir="ltr">PURGE</code> statement to remove items and their associated objects and to release their storage space. If you have the SYSDBA privilege, then you can purge all the recycle bins in the entire database by specifying <a id="sthref277"></a><code dir="ltr">DBA_RECYCLEBIN</code>, instead of <code dir="ltr">RECYCLEBIN</code>. Starting with Oracle Database 12<span class="italic">c</span>, you can use the new <a id="sthref278"></a><code dir="ltr">PURGE DBA_RECYCLEBIN</code> system privilege to perform the same action without the requirement of granting or being granted the SYSDBA privilege.</p>
<p>The <code dir="ltr">PURGE DBA_RECYCLEBIN</code> statement is a special <code dir="ltr">PURGE</code> command that removes all the objects from the systemwide recycle bin and is equivalent to purging the recycle bin of every user. In earlier releases, this statement required the SYSDBA administrative privilege, which is highly undesirable in terms of separation of duty and least privilege. To provide compliance with separation of duty, Oracle Database 12<span class="italic">c</span> introduces a new system privilege, <code dir="ltr">PURGE DBA_RECYCLEBIN</code>, which enables you to run <code dir="ltr">PURGE DBA_RECYCLEBIN</code> without having the SYSDBA administrative privilege.</p>
<p>To empty the database recycle bin, run the following command:</p>
<pre dir="ltr">SQL&gt; PURGE DBA_RECYCLEBIN
</pre>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">The database recycle bin must be empty during the upgrade process to avoid possible <code dir="ltr">ORA-00600</code> errors and to minimize the upgrade time.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN11682" href="../ADMIN/tables.htm#ADMIN11682"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about purging objects in the recycle bin</p>
</li>
<li>
<p><a class="olink SQLRF01803" href="../SQLRF/statements_9020.htm#SQLRF01803"><span class="italic">Oracle Database SQL Language Reference</span></a> for complete information about the <code dir="ltr">PURGE</code> statement</p>
</li>
<li>
<p><a class="olink DBSEG009" href="../DBSEG/guidelines.htm#DBSEG009"><span class="italic">Oracle Database Security Guide</span></a> for information about separation of duty for database administration</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BABCCFBG"></a>
<div id="UPGRD52800" class="sect3">
<h4 class="sect3"><span class="secnum">2.5.2.12</span> <a id="sthref279"></a>Synchronize the Standby Database with the Primary Database When Upgrading</h4>
<p>If a standby database exists, then you must synchronize it with the primary database before upgrading Oracle Database.</p>
<p>To check if a standby database exists and to synchronize the standby database:</p>
<ol>
<li>
<p>Run the following query:</p>
<pre dir="ltr">SQL&gt; SELECT SUBSTR(value,INSTR(value,&#39;=&#39;,INSTR(UPPER(value),&#39;SERVICE&#39;))+1)
FROM v$parameter
WHERE name LIKE &#39;log_archive_dest%&#39; AND UPPER(value) LIKE &#39;SERVICE%&#39;;
</pre></li>
<li>
<p>If the query in the previous step returns a row, then synchronize the standby database with the primary database.</p>
<ul>
<li>
<p>Make sure all the logs are transported to the standby server after a final log switch in the primary.</p>
</li>
<li>
<p>Start the recovery of the standby database with the <code dir="ltr">NODELAY</code> option.</p>
</li>
</ul>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SBYDB00759" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=SBYDB00759"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information on synchronizing a physical standby database with the primary database</div>
</div>
<!-- class="sect3" -->
<a id="BABEHFED"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.5.2.13</span> About Upgrading Oracle Application Express Databases</h4>
<p>If you are upgrading a database that includes Oracle Application Express:</p>
<ul>
<li>
<p>You can upgrade Oracle Application Express separately to reduce upgrade time for the database.</p>
</li>
<li>
<p>A minimum value of 150 for <code dir="ltr">open_cursors</code> is required. Oracle recommends <code dir="ltr">open_cursors = 150</code> when Oracle Application Express will be upgraded. Otherwise, you may see the following error.</p>
<pre dir="ltr">ORA-01000: maximum open cursors exceeded
ORA-06512: at &#34;APEX_040200.WWV_FLOW_API&#34;, line 1594
</pre></li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBHIAB"></a>
<div id="UPGRD52881" class="sect2">
<h3 class="sect2"><span class="secnum">2.5.3</span> Sample Output of the Pre-Upgrade Information Tool</h3>
<p>The Pre-Upgrade Information Tool displays recommendations, but does not execute the recommendations automatically to ensure that you have control over how and when the fixup scripts are run.</p>
<p>The following sample shows the output that is generated and written to <code dir="ltr">preupgrade.log</code> by running the Oracle Database 12<span class="italic">c</span> Pre-Upgrade Information Tool (<code dir="ltr">preupgrd.sql</code>) on a release 11.2.0.3 database to be upgraded:</p>
<pre dir="ltr">Oracle Database Pre-Upgrade Information Tool 03-06-2014 12:18:01
Script Version: 12.1.0.2.0 Build: 006
**********************************************************************
   Database Name:  MyDB
   ContainerName:  Not Applicable in Pre-12.1 database
     ContainerID:  Not Applicable in Pre-12.1 database
         Version:  11.2.0.3.0
      Compatible:  11.1.0
       Blocksize:  8192
        Platform:  Linux x86 64-bit
   Timezone file:  V14
**********************************************************************
                           [Update parameters]
         [Update Oracle Database 11.2.0.3.0 init.ora or spfile]
 
--&gt; If Target Oracle is 32-bit, refer here for Update Parameters:
WARNING: --&gt; &#34;shared_pool_size&#34; needs to be increased to at least 247463936
WARNING: --&gt; &#34;java_pool_size&#34; needs to be increased to at least 67108864
WARNING: --&gt; &#34;db_cache_size&#34; needs to be increased to at least 50331648
WARNING: --&gt; &#34;processes&#34; needs to be increased to at least 300
 
--&gt; If Target Oracle is 64-bit, refer here for Update Parameters:
WARNING: --&gt; &#34;shared_pool_size&#34; needs to be increased to at least 494927872
WARNING: --&gt; &#34;java_pool_size&#34; needs to be increased to at least 134217728
WARNING: --&gt; &#34;db_cache_size&#34; needs to be increased to at least 50331648
WARNING: --&gt; &#34;processes&#34; needs to be increased to at least 300
**********************************************************************
**********************************************************************
                          [Renamed Parameters]
                     [No Renamed Parameters in use]
**********************************************************************
**********************************************************************
                    [Obsolete/Deprecated Parameters]
             [No Obsolete or Desupported Parameters in use]
**********************************************************************
                            [Component List]
**********************************************************************
--&gt; Oracle Catalog Views                   [upgrade]  VALID     
--&gt; Oracle Packages and Types              [upgrade]  VALID     
--&gt; JServer JAVA Virtual Machine           [upgrade]  VALID     
--&gt; Oracle XDK for Java                    [upgrade]  VALID     
--&gt; Real Application Clusters              [upgrade]  INVALID   
--&gt; Oracle Workspace Manager               [upgrade]  VALID     
--&gt; Oracle Text                            [upgrade]  VALID     
--&gt; Oracle XML Database                    [upgrade]  VALID     
--&gt; Oracle Java Packages                   [upgrade]  VALID     
--&gt; Oracle Multimedia                      [upgrade]  VALID     
--&gt; Expression Filter                      [upgrade]  VALID     
--&gt; Rule Manager                           [upgrade]  VALID     
**********************************************************************
                              [Tablespaces]
**********************************************************************
--&gt; SYSTEM tablespace is adequate for the upgrade.
     minimum required size: 909 MB
--&gt; SYSAUX tablespace is adequate for the upgrade.
     minimum required size: 500 MB
--&gt; TEMP tablespace is adequate for the upgrade.
     minimum required size: 60 MB
--&gt; UD1 tablespace is adequate for the upgrade.
     minimum required size: 400 MB
 
                      [No adjustments recommended]
 
**********************************************************************
**********************************************************************
                          [Pre-Upgrade Checks]
**********************************************************************
WARNING: --&gt; Process Count may be too low
 
     Database has a maximum process count of 60 which is lower than the
     default value of 300 for this release.
     You should update your processes value prior to the upgrade
     to a value of at least 300.
     For example:
        ALTER SYSTEM SET PROCESSES=300 SCOPE=SPFILE
     or update your init.ora file.
 
INFORMATION: --&gt; Older Timezone in use
 
     Database is using a time zone file older than version 21.
     After the upgrade, it is recommended that DBMS_DST package
     be used to upgrade the 11.2.0.3.0 database time zone version
     to the latest version which comes with the new release.
     Please refer to My Oracle Support note number 977512.1 for details.
 
 
**********************************************************************
                      [Pre-Upgrade Recommendations]
**********************************************************************
 
                        *****************************************
                        ********* Dictionary Statistics *********
                        *****************************************
 
Please gather dictionary statistics 24 hours prior to
upgrading the database.
To gather dictionary statistics execute the following command
while connected as SYSDBA:
    EXECUTE dbms_stats.gather_dictionary_stats;
 
^^^ MANUAL ACTION SUGGESTED ^^^
 
 
                        *****************************************
                        *********** Hidden Parameters ***********
                        *****************************************
 
Please review and remove any unnecessary hidden/underscore parameters prior
to upgrading.  It is strongly recommended that these be removed before upgrade
unless your application vendors and/or Oracle Support state differently.
Changes will need to be made in the init.ora or spfile.
 
^^^ MANUAL ACTION SUGGESTED ^^^
 
To view existing hidden parameters execute the following command
while connected AS SYSDBA:
    SELECT name, value from SYS.V$PARAMETER WHERE name
        LIKE &#39;\_%&#39; ESCAPE &#39;\&#39; order by name;
 
Or run the Pre-Upgrade Fixup Script to display the Hidden Parameters
currently set.
 
 
**********************************************************************
                     [Post-Upgrade Recommendations]
**********************************************************************
 
                        *****************************************
                        ******** Fixed Object Statistics ********
                        *****************************************
 
Please create stats on fixed objects two weeks
after the upgrade using the command:
   EXECUTE DBMS_STATS.GATHER_FIXED_OBJECTS_STATS;
 
^^^ MANUAL ACTION SUGGESTED ^^^
 
**********************************************************************
                   ************  Summary  ************
 
 0 ERRORS exist in your database.
 1 WARNING that Oracle suggests are addressed to improve database performance.
 1 INFORMATIONAL message that should be reviewed prior to your upgrade.
 
 After your database is upgraded and open in normal mode you must run 
 rdbms/admin/catuppst.sql which executes several required tasks and completes
 the upgrade process.
 
 You should follow that with the execution of rdbms/admin/utlrp.sql, and a
 comparison of invalid objects before and after the upgrade using
 rdbms/admin/utluiobj.sql
 
 If needed you may want to upgrade your timezone data using the process
 described in My Oracle Support note 977512.1
                   ***********************************
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGEICG"></a>
<div id="UPGRD52858" class="sect1">
<h2 class="sect1"><span class="secnum">2.6</span> Backing Up Oracle Database for Upgrading<a id="sthref280"></a><a id="sthref281"></a><a id="sthref282"></a></h2>
<p>After running the Pre-Upgrade Information Tool and cleanly shutting down the database, Oracle recommends that you back up your Oracle database. To minimize downtime, you may perform an online backup or create a guaranteed restore point. Database Upgrade Assistant (DBUA) enables you to specify your backup and restore point.</p>
<div class="infoboxnotewarn">
<p class="notep1">Important:</p>
<p class="warnsp">Before you make any changes to the Oracle software, Oracle recommends that you create a backup of the Oracle software and databases. For Oracle software running on Windows operating systems, you must also take a backup of the Windows registry. Without a registry backup, you cannot restore the Oracle software to a working state if the upgrade to Oracle Database 12<span class="italic">c</span> fails and you want to revert to the previous software installation.</p>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV89479" href="../BRADV/rcmcncpt.htm#BRADV89479"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information on online backups and backup mode</p>
</li>
<li>
<p><a class="olink BRADV71000" href="../BRADV/flashdb.htm#BRADV71000"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information on Flashback Database and restore points</p>
</li>
</ul>
</div>
<p>To perform a backup of the database to be upgraded:</p>
<ol>
<li>
<p>Sign on to <a id="sthref283"></a>Oracle RMAN:</p>
<pre dir="ltr">rman &#34;target / nocatalog&#34;
</pre></li>
<li>
<p>Run the following RMAN commands:</p>
<pre dir="ltr">RUN
{
    ALLOCATE CHANNEL <span class="italic">chan_name</span> TYPE DISK;
    BACKUP DATABASE FORMAT &#39;<span class="italic">some_backup_directory</span>%U&#39; TAG before_upgrade;
    BACKUP CURRENT CONTROLFILE FORMAT &#39;<span class="italic">controlfile location and name</span>&#39;;
}
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV8003" href="../BRADV/rcmbckba.htm#BRADV8003"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about performing RMAN backups</div>
</div>
<!-- class="sect1" -->
<a id="BABGBFCJ"></a>
<div id="UPGRD52859" class="sect1">
<h2 class="sect1"><span class="secnum">2.7</span> Preparing the New Oracle Home for Upgrading</h2>
<p>After backing up the database to be upgraded, prepare the new Oracle home in a new location. Install the software for Oracle Database 12<span class="italic">c</span> into the new location.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#BABGEICG">&#34;Backing Up Oracle Database for Upgrading&#34;</a></p>
</li>
<li>
<p><a href="#BABGFGFG">&#34;Prerequisites for Preparing Oracle Home on Windows&#34;</a></p>
</li>
</ul>
</div>
<p>To prepare the new Oracle home for upgrading:</p>
<ol>
<li>
<p><a id="sthref284"></a><a id="sthref285"></a><a id="sthref286"></a>Copy configuration files from the Oracle home of the database being upgraded to the new Oracle home for Oracle Database 12<span class="italic">c</span>. If you are using DBUA, the configuration files are copied for you automatically and you can ignore this step.</p>
<p>If you need to manually copy your configuration files to the new Oracle home:</p>
<ol>
<li>
<p>If your parameter file resides within the old environment&#39;s Oracle home, then copy it to the new Oracle home. By default, Oracle looks for the parameter file in the <a id="sthref287"></a><code dir="ltr">ORACLE_HOME</code><code dir="ltr">/dbs</code> directory on Linux or UNIX platforms and in the <a id="sthref288"></a><code dir="ltr">ORACLE_HOME</code><code dir="ltr">\database</code> directory on Windows operating systems. The parameter file can reside anywhere, but it must not reside in the Oracle home of the old environment after you upgrade to Oracle Database 12<span class="italic">c</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
It might be necessary to create a <a id="sthref289"></a>text initialization parameter file (<code dir="ltr">PFILE</code>) from the <a id="sthref290"></a>server parameter file (<code dir="ltr">SPFILE</code>) so that you can edit the initialization parameters. See <a class="olink ADMIN00202" href="../ADMIN/create.htm#ADMIN00202"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about managing initialization parameters. See <a class="olink RACAD020" href="../RACAD/GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3.htm#RACAD020"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about initialization parameter files in Oracle RAC environments.</div>
</li>
<li>
<p>If your <a id="sthref291"></a><a id="sthref292"></a>parameter file resides within an Oracle ASM instance, then back up the parameter file using the following command:</p>
<pre dir="ltr">CREATE pfile FROM spfile;
</pre>
<p>If you must downgrade the database and your <code dir="ltr">SPFILE</code> resided within Oracle ASM, then you must restore the parameter file before the downgrade.</p>
</li>
<li>
<p>If your parameter file is a text-based initialization parameter file with either an <a id="sthref293"></a><code dir="ltr">IFILE</code> (include file) or a <code dir="ltr">SPFILE</code> (server parameter file) entry, and the file specified in the <code dir="ltr">IFILE</code> or <code dir="ltr">SPFILE</code> entry resides within the old environment&#39;s Oracle home, then copy the file specified by the <code dir="ltr">IFILE</code> or <code dir="ltr">SPFILE</code> entry to the new Oracle home. The file specified in the <code dir="ltr">IFILE</code> or <code dir="ltr">SPFILE</code> entry contains additional initialization parameters.</p>
</li>
<li>
<p>If you have a password file that resides within the old environment&#39;s Oracle home, then move or copy the password file to the new Oracle home in Oracle Database 12<span class="italic">c</span>.</p>
<p>The name and location of the password file are operating system-specific. On Linux or UNIX platforms, the default password file is <a id="sthref294"></a><code dir="ltr">orapw</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code>, located in the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/dbs</code> directory. On Windows operating systems, the default password file is <code dir="ltr">pwd</code><code dir="ltr"><span class="codeinlineitalic">SID</span></code><code dir="ltr">.ora</code>, located in the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\database</code> directory. In both cases, <code dir="ltr"><span class="codeinlineitalic">SID</span></code> is your Oracle instance ID.</p>
</li>
</ol>
</li>
<li>
<p>Adjust your parameter file in Oracle Database 12<span class="italic">c</span> by completing the following steps:<a id="sthref295"></a><a id="sthref296"></a><a id="sthref297"></a></p>
<ol>
<li>
<p>Remove desupported initialization parameters and adjust deprecated initialization parameters. Certain parameters are desupported in Oracle Database 12<span class="italic">c</span>, while other parameters have become deprecated. Remove all desupported parameters from any parameter file that starts an Oracle Database 12<span class="italic">c</span> instance. Desupported parameters might cause errors in Oracle Database 12<span class="italic">c</span>. Also, alter any parameter whose syntax has changed in the new release.</p>
<p>The Pre-Upgrade Information Tool displays any <a id="sthref298"></a><a id="sthref299"></a>deprecated parameters and desupported parameters it finds in the <span class="bold">Deprecated Parameters</span> and <span class="bold">Desupported Parameters</span> sections, respectively.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="deprecated.htm#BABBIBFB">Chapter 8, &#34;Deprecated and Desupported Features for Oracle Database 12<span class="italic">c</span>&#34;</a> for the initialization parameters that have been deprecated or have been desupported</div>
</li>
<li>
<p>Adjust the values of the initialization parameters to at least the minimum values indicated by the Pre-Upgrade Information Tool.</p>
</li>
<li>
<p>Make sure all path names in the parameter file are fully specified. You should not have relative path names in the parameter file.</p>
</li>
<li>
<p>If the parameter file contains an <a id="sthref300"></a><code dir="ltr">IFILE</code> entry, then change the <code dir="ltr">IFILE</code> entry in the parameter file to point to the new location of the include file that you specified in step 1. Then, edit the file specified in the <code dir="ltr">IFILE</code> entry in the same way that you edited the parameter file in Step&nbsp;a through Step&nbsp;d.</p>
</li>
<li>
<p>If you are upgrading a cluster database, then you may need to modify the <code dir="ltr">SPFILE</code> or <code dir="ltr">init</code><code dir="ltr"><span class="codeinlineitalic">ORACLE_SID</span></code><code dir="ltr">.ora</code> files.</p>
</li>
</ol>
<p>Make sure you save all of the files you modified after making these adjustments.</p>
</li>
<li>
<p>If you are upgrading a cluster database, then set the <a id="sthref301"></a><a id="sthref302"></a><code dir="ltr">CLUSTER_DATABASE</code> initialization parameter to <code dir="ltr">false</code>. After the upgrade, you must set this initialization parameter back to <code dir="ltr">true</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink REFRN10015" href="../REFRN/GUID-DA4B6C11-FFEA-46BE-82D7-13C1DBD36277.htm#REFRN10015"><span class="italic">Oracle Database Reference</span></a> for information about <code dir="ltr">CLUSTER_DATABASE</code></p>
</li>
<li>
<p><a class="olink RACAD900" href="../RACAD/GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98.htm#RACAD900"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about initialization parameter files in Oracle RAC</p>
</li>
</ul>
</div>
</li>
</ol>
<a id="BABGFGFG"></a>
<div id="UPGRD60054" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.7.1</span> Prerequisites for Preparing Oracle Home on Windows</h3>
<p>For security reasons, different Windows user accounts configured as Oracle home users for different Oracle homes are not allowed to share the same Oracle Base.</p>
<p>The following recommendations apply before you can upgrade Oracle Database on Windows platforms:</p>
<ul>
<li>
<p>Database upgrade is supported when the same Windows user account is used as the Oracle home user in both the <span class="italic">source</span> and <span class="italic">destination</span> Oracle homes.</p>
</li>
<li>
<p>Database upgrade is supported when the Oracle home from which the database is being upgraded uses the Windows Built-in Account. Releases earlier than Oracle Database 12<span class="italic">c</span> (release 11.2 and earlier) only supported the built-in account option for the Oracle home user on Windows.</p>
</li>
<li>
<p>The Oracle home user may not have access to files outside its own Oracle Base and Oracle home. Therefore, if you choose a different Oracle Base during upgrade, Oracle Database services may not have access to the files in the older Oracle Base. Using DBUA for database upgrade ensures that the Oracle home user has access to files outside its own Oracle Base and Oracle home.</p>
<p>Before upgrading manually or using the custom files (such as, wallets and configuration files) from the older Oracle Base, you must grant access to the Oracle home user for these outside files or copy these files to the new Oracle Base.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NTQRF070" href="../NTQRF/admin.htm#NTQRF070"><span class="italic">Oracle Database Platform Guide for Microsoft Windows</span></a> for information about database administration on Windows</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGBEBI"></a>
<div id="UPGRD52802" class="sect1">
<h2 class="sect1"><span class="secnum">2.8</span> <a id="sthref303"></a><a id="sthref304"></a><a id="sthref305"></a><a id="sthref306"></a>Recommendations for Oracle Net Services When Upgrading Oracle Database</h2>
<p>In Oracle Database 12<span class="italic">c</span>, new, underlying net services parameters enable data compression, which reduces the size of the session data unit to be transmitted over a SQL TCP connection.</p>
<p>The following new parameters for the <a id="sthref307"></a><code dir="ltr">sqlnet.ora</code> file specify <a id="sthref308"></a>compression, and the preferred <a id="sthref309"></a>compression scheme:</p>
<ul>
<li>
<p><code dir="ltr"><a id="sthref310"></a>SQLNET.COMPRESSION</code></p>
</li>
<li>
<p><code dir="ltr"><a id="sthref311"></a>SQLNET.COMPRESSION_LEVELS</code></p>
</li>
<li>
<p><a id="sthref312"></a><code dir="ltr">SQLNET.COMPRESSION_THRESHOLD</code></p>
</li>
</ul>
<p>These new parameters are not supported in earlier releases and are only available in Oracle Database 12<span class="italic">c</span>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETRF1972" href="../NETRF/sqlnet.htm#NETRF1972"><span class="italic">Oracle Database Net Services Reference</span></a> for information about the new <code dir="ltr">sqlnet.ora</code> compression parameters</div>
<p>If a listener was not configured in the database from which you are upgrading, then you must run Oracle Net Configuration Assistant (Net CA) to configure the listening protocol address and service information for the new release of Oracle Database, including a <a id="sthref313"></a><code dir="ltr">listener.ora</code> file, <span class="italic">before</span> running DBUA. A new version of the listener is required for releases of Oracle Database earlier than release 11.2. The new listener is backward compatible with earlier Oracle databases.</p>
<p>You can upgrade an Oracle RAC database with DBUA, which automatically migrates the listener from your old Oracle home to the new Oracle Grid Infrastructure home. You must administer the listener by using the <a id="sthref314"></a><a id="sthref315"></a><code dir="ltr">lsnrctl</code> command in the Oracle Grid Infrastructure home. Do not attempt to use the <code dir="ltr">lsnrctl</code> commands from Oracle home locations for earlier releases.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG218" href="../NETAG/admintools.htm#NETAG218"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for complete information about using Oracle Net Configuration Assistant</div>
</div>
<!-- class="sect1" -->
<a id="i1008153"></a>
<div id="UPGRD12383" class="sect1">
<h2 class="sect1"><span class="secnum">2.9</span> Testing the Upgrade Process<a id="sthref316"></a><a id="sthref317"></a> for Oracle Database</h2>
<p>Oracle recommends that you create a full working copy of your database environment in which to test all the pre-upgrade, upgrade, and post-upgrade processes. You can create a test environment that does not interfere with the current production Oracle database. Oracle Data Guard, for example, enables you to create physical and snapshot standby databases.</p>
<p>Your test environment depends on the upgrade method you have chosen:</p>
<ul>
<li>
<p>If you plan to use DBUA or perform a manual upgrade, then create a test version of the current production database.</p>
</li>
<li>
<p>If you plan to use <a id="sthref318"></a>Data Pump Export/Import, then export and import in stages, using subsets of the current production database.</p>
</li>
</ul>
<p>Practice upgrading the database using the test environment. The best practice is to perform testing of the upgrade process on an exact copy of the database to be upgraded, rather than on a downsized copy or test data. If an exact copy is impractical, then carefully chose a representative subset of your data to move over to your test environment and test the upgrade on that data.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RATUG210" href="../RATUG/GUID-41A30909-3D5B-4A53-A757-B3497498D36B.htm#RATUG210"><span class="italic">Oracle Database Testing Guide</span></a> for information about testing a database upgrade</p>
</li>
<li>
<p><a class="olink SUTIL100" href="../SUTIL/GUID-17FAE261-0972-4220-A2E4-44D479F519D4.htm#SUTIL100"><span class="italic">Oracle Database Utilities</span></a> for information on Data Pump Export and Import utilities</p>
</li>
<li>
<p><a class="olink SBYDB00700" href="../SBYDB/manage_ps.htm#SBYDB00700"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information on physical and snapshot standby databases</p>
</li>
<li>
<p>Note ID 1462240.1 &#34;Oracle Upgrade Companion&#34; on My Oracle Support at <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a></code> for detailed information and pointers about testing before upgrading</p>
</li>
</ul>
</div>
<div id="UPGRD52882" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref319"></a>
<h3 class="sect2"><span class="secnum">2.9.1</span> Upgrade Oracle Call Interface (OCI) and Precompiler Applications</h3>
<p>Upgrade any <a id="sthref320"></a><a id="sthref321"></a>Oracle Call Interface (OCI) and precompiler applications that you plan to use with the new release of Oracle Database. Oracle recommends that you test these applications on a sample database before upgrading your current production database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="app.htm#i1006617">&#34;Upgrading Precompiler and OCI Applications in Oracle Database&#34;</a> for more information</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1008175"></a>
<div id="UPGRD12384" class="sect1">
<h2 class="sect1"><span class="secnum">2.10</span> Testing an Upgraded Test Copy of Oracle Database<a id="sthref322"></a><a id="sthref323"></a></h2>
<p>Perform the planned tests on the current database and on the test database that you upgraded to the new release of Oracle Database.</p>
<ul>
<li>
<p>Compare the test results, noting anomalies.</p>
</li>
<li>
<p>Repeat the test upgrade as many times as necessary until issues are resolved.</p>
</li>
</ul>
<p><a id="sthref324"></a>Test the newly upgraded test database with existing applications to verify that they operate properly with a new Oracle database.</p>
<ul>
<li>
<p>Test enhanced functions and new capabilities by adding available Oracle Database features.</p>
</li>
<li>
<p>Ensure that the applications operate in the same manner as they did in the current database.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="app.htm#BABHJHEH">Chapter 5, &#34;Upgrading Applications After Upgrading Oracle Database&#34;</a> for more information on using applications with Oracle Database</p>
</li>
<li>
<p><a class="olink RATUG210" href="../RATUG/GUID-41A30909-3D5B-4A53-A757-B3497498D36B.htm#RATUG210"><span class="italic">Oracle Database Testing Guide</span></a> for information on testing a database upgrade</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1827">
<tr>
<td class="cellalignment1834">
<table class="cellalignment1832">
<tr>
<td class="cellalignment1831"><a href="intro.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1831"><a href="upgrade.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1836">
<table class="cellalignment1830">
<tr>
<td class="cellalignment1831"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1831"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1831"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1831"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1831"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1831"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
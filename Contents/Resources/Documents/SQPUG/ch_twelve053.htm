<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-104118"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/XQUERY"></a><title>XQUERY</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 737"/>
<meta name="dcterms.created" content="2013-07-17T10:55:24Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="SQL*Plus&reg; User&#39;s Guide and Reference"/>
<meta name="dcterms.identifier" content="E18404-12"/>
<meta name="dcterms.isVersionOf" content="SQPUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ch_twelve052.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch_thirteen.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E18404-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">75/82</span> <!-- End Header --><a id="BGBJEJFJ"></a>
<hr/>
<div id="SQPUG136" class="refsect1"><!-- infolevel="all" infotype="General" --><a id="BGBGDADB"></a>
<h1 class="refsect1">XQUERY</h1>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2591"></a>Syntax</p>
<p class="synopsis">XQUERY <span class="italic">xquery_statement</span></p>
<p><a id="sthref2592"></a>The SQL*Plus XQUERY command enables you to perform an XQuery 1.0 query on a specified database. XQUERY is supported on Oracle Database 10<span class="italic">g</span> (Release 2) and later versions. Attempting to use XQUERY on an earlier version of the Oracle Database gives the error:</p>
<pre>SP2-614 Server version too low
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2593"></a>Terms</p>
<p class="synopsis"><span class="italic">xquery_statement</span></p>
<p>Specifies the XQuery statement you want to run. The statement is entered with standard XQuery syntax. The XQUERY statement is terminated with a forward slash, &#39;/&#39;.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2594"></a>Usage</p>
<p>Prefix your XQuery statement with the SQL*Plus command, XQUERY, and terminate the XQUERY command with a slash (/). XQUERY is a SQL*Plus keyword. If XQueries are executed in other tools, the keyword may not be needed.</p>
<p>XML output from the XQUERY command is displayed as native XML according to the active SET command options. SET LONG typically needs to be set. It may be useful to consider the following settings:</p>
<ul>
<li>
<p>Linesize for rows longer than the default 80 characters (SET LINESIZE).</p>
</li>
<li>
<p>LOB, LONG and XML Type Size for rows longer than the default 80 characters (SET LONG).</p>
</li>
<li>
<p>Output Page Setup to match output (SET PAGESIZE).</p>
</li>
<li>
<p>Display Headings to repress the &#34;Result Sequence&#34; column heading (SET HEADING OFF).</p>
</li>
</ul>
<p>The XQUERY command requires an active database connection. The command will not work with SQLPLUS /NOLOG.</p>
<p>Bind variables are not supported in the XQUERY command.</p>
<p>There are four SET commands specific to the XQUERY command. The SHOW XQUERY command gives the status of these settings. They are:</p>
<div id="SQPUG608" class="tblformal">
<p class="titleintable"><a id="sthref2595"></a><a id="sthref2596"></a>Table 12-7 XQUERY SET commands</p>
<table class="cellalignment1447" title="XQUERY SET commands" summary="Shows two columns of iSQL*Plus Preferences and the equivalent command-line SET commands for Database Administration settings in iSQL*Plus." dir="ltr">
<thead>
<tr class="cellalignment1437">
<th class="cellalignment1448" id="r1c1-t157">SET Command</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1437">
<td class="cellalignment1444" id="r2c1-t157" headers="r1c1-t157">
<p>SET XQUERY BASEURI</p>
</td>
</tr>
<tr class="cellalignment1437">
<td class="cellalignment1444" id="r3c1-t157" headers="r1c1-t157">
<p>SET XQUERY ORDERING</p>
</td>
</tr>
<tr class="cellalignment1437">
<td class="cellalignment1444" id="r4c1-t157" headers="r1c1-t157">
<p>SET XQUERY NODE</p>
</td>
</tr>
<tr class="cellalignment1437">
<td class="cellalignment1444" id="r5c1-t157" headers="r1c1-t157">
<p>SET XQUERY CONTEXT</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" --></div>
<!-- class="refsubsect" -->
<p>For more information about the SET XQUERY commands, see :</p>
<ul>
<li>
<p><a href="ch_twelve040.htm#BGBBGDGE">SET XQUERY BASEURI {<span class="italic">text</span>}</a></p>
</li>
<li>
<p><a href="ch_twelve040.htm#BGBBHHGH">SET XQUERY ORDERING {UNORDERED | ORDERED | DEFAULT}</a></p>
</li>
<li>
<p><a href="ch_twelve040.htm#BGBIIGDC">SET XQUERY NODE {BYVALUE | BYREFERENCE | DEFAULT}</a></p>
</li>
<li>
<p><a href="ch_twelve040.htm#BGBJDFBC">SET XQUERY CONTEXT {<span class="italic">text</span>}</a></p>
</li>
</ul>
<div class="refsubsect">
<p class="titleinrefsubsect"><a id="sthref2597"></a>Examples</p>
<p>The XQuery statement in the following script queries the EMP_DETAILS_VIEW view of the HR schema:</p>
<pre>set long 160
set linesize 160
xquery for $i in fn:collection(&#34;oradb:/SCOTT/EMP_DETAILS_VIEW&#34;) return $i
/
</pre>
<div class="inftblruleinformal">
<table class="cellalignment1443" title="Example output from XQUERY" summary="Shows the output from an XQuery." dir="ltr">
<tbody>
<tr class="cellalignment1437">
<td class="cellalignment1444" id="r1c1-t158">
<pre>Result Sequence
-------------------------------------------------------------------------------------------
&lt;ROW&gt;&lt;EMPNO&gt;7369&lt;/EMPNO&gt;&lt;ENAME&gt;SMITH&lt;/ENAME&gt;&lt;JOB&gt;CLERK&lt;/JOB&gt;&lt;MGR&gt;7902&lt;/MGR&gt;&lt;HIREDATE&gt;17-
DEC-80&lt;/HIREDATE&gt;&lt;SAL&gt;800&lt;/SAL&gt;&lt;DEPTNO&gt;20&lt;/DEPTNO&gt;&lt;/ROW&gt;

14 item(s) selected.
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblruleinformal" --></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1436">
<tr>
<td class="cellalignment1444">
<table class="cellalignment1441">
<tr>
<td class="cellalignment1440"><a href="ch_twelve052.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1440"><a href="ch_thirteen.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1446">
<table class="cellalignment1439">
<tr>
<td class="cellalignment1440"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1440"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1440"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1440"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1440"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1440"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
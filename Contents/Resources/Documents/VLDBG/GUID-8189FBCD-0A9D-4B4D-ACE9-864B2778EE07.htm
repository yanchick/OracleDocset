<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-114397"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SHARED_POOL_SIZE"></a><title>SHARED_POOL_SIZE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2016-07-20T13:00:08Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database VLDB and Partitioning Guide"/>
<meta name="dcterms.identifier" content="E41057-12"/>
<meta name="dcterms.isVersionOf" content="VLDBG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-52C07DB8-E805-44DA-8805-88CAC9187074.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-4079EA7E-1154-4F78-B8F2-90A8FFBAB52A.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41057-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8189FBCD-0A9D-4B4D-ACE9-864B2778EE07"></a> <span id="PAGE" style="display:none;">426/481</span> <!-- End Header --><a id="VLDBG1492"></a>
<h1 id="VLDBG-GUID-8189FBCD-0A9D-4B4D-ACE9-864B2778EE07" class="sect1">SHARED_POOL_SIZE</h1>
<div>
<div class="section">
<p><a id="d69008e62" class="indexterm-anchor"></a><a id="d69008e66" class="indexterm-anchor"></a>Parallel execution requires memory resources in addition to those required by serial SQL execution. Additional memory is used for communication and passing data between query server processes and the query coordinator.</p>
<p>Oracle Database allocates memory for query server processes from the shared pool. Tune the shared pool as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Allow for other clients of the shared pool, such as shared cursors and stored procedures.</p>
</li>
<li>
<p>Remember that larger values improve performance in multiuser systems, but smaller values use less memory.</p>
</li>
<li>
<p>You can then monitor the number of buffers used by parallel execution and compare the <code>shared</code> <code>pool</code> <code>PX</code> <code>msg</code> <code>pool</code> to the current high water mark reported in output from the view <code>V$PX_PROCESS_SYSSTAT</code>.</p>
<div class="infobox-note" id="GUID-8189FBCD-0A9D-4B4D-ACE9-864B2778EE07__GUID-4D9E22D0-7533-492E-867F-7181EE3722E7">
<p class="notep1">Note:</p>
<p>If you do not have enough memory available, error message 12853 occurs (insufficient memory for PX buffers: current <span class="italic">string</span>K, max needed <span class="italic">string</span>K). This is caused by having insufficient SGA memory available for PX buffers. You must reconfigure the SGA to have at least (<code>MAX</code> - <code>CURRENT</code>) bytes of additional memory.</p>
</div>
</li>
</ul>
<p>By default, Oracle Database allocates parallel execution buffers from the shared pool.</p>
<p>If Oracle Database displays the following error on startup, you should reduce the value for <code>SHARED_POOL_SIZE</code> low enough so your database starts:</p>
<pre dir="ltr">ORA-27102: out of memory 
SVR4 Error: 12: Not enough space 
</pre>
<p>After reducing the value of <code>SHARED_POOL_SIZE</code>, you might see the error:</p>
<pre dir="ltr">ORA-04031: unable to allocate 16084 bytes of shared memory 
   (&#34;SHARED pool&#34;,&#34;unknown object&#34;,&#34;SHARED pool heap&#34;,&#34;PX msg pool&#34;) 
</pre>
<p>If so, execute the following query to determine why Oracle Database could not allocate the 16,084 bytes:</p>
<pre dir="ltr">SELECT NAME, SUM(BYTES) FROM V$SGASTAT WHERE POOL=&#39;SHARED POOL&#39; 
  GROUP BY ROLLUP (NAME); 
</pre>
<p>Your output should resemble the following:</p>
<pre dir="ltr">NAME                       SUM(BYTES) 
-------------------------- ---------- 
PX msg pool                   1474572 
free memory                    562132
                              2036704 
</pre>
<p>If you specify <code>SHARED_POOL_SIZE</code> and the amount of memory you specify to reserve is bigger than the pool, Oracle Database does not allocate all the memory it can get. Instead, it leaves some space. When the query runs, Oracle Database tries to get what it needs. Oracle Database uses the 560 KB and needs another 16 KB when it fails. The error does not report the cumulative amount that is needed. The best way of determining how much more memory is needed is to use the formulas in <span class="q">&#34;<a href="GUID-4079EA7E-1154-4F78-B8F2-90A8FFBAB52A.htm#GUID-DF225FC0-AD66-4344-B8DC-A855C2E25A78">Required Memory for Message Buffers</a>&#34;</span>.</p>
<p>To resolve the problem in the current example, increase the value for <code>SHARED_POOL_SIZE</code>. As shown in the sample output, the <code>SHARED_POOL_SIZE</code> is about 2 MB. Depending on the amount of memory available, you could increase the value of <code>SHARED_POOL_SIZE</code> to 4 MB and attempt to start your database. If Oracle Database continues to display an <code>ORA-4031</code> message, gradually increase the value for <code>SHARED_POOL_SIZE</code> until startup is successful.</p>
<div class="infoboxnotealso" id="GUID-8189FBCD-0A9D-4B4D-ACE9-864B2778EE07__GUID-8460D3D9-22B5-4E0F-A1C3-64E2F2F69A49">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10202" target="_blank" href="../REFRN/GUID-6D9E390B-472A-46C4-B89B-E263492FCB4F.htm#REFRN10202"><span class="italic">Oracle Database Reference</span></a> for information about the <code>SHARED_POOL_SIZE</code> initialization parameter</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2957">
<tr>
<td class="cellalignment2964">
<table class="cellalignment2962">
<tr>
<td class="cellalignment2961"><a href="GUID-52C07DB8-E805-44DA-8805-88CAC9187074.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2961"><a href="GUID-4079EA7E-1154-4F78-B8F2-90A8FFBAB52A.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2966">
<table class="cellalignment2960">
<tr>
<td class="cellalignment2961"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2961"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2961"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2961"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2961"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2961"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-114202"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Producer%20or%20Consumer%20Operations"></a><title>Producer or Consumer Operations</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2016-07-20T13:00:08Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database VLDB and Partitioning Guide"/>
<meta name="dcterms.identifier" content="E41057-12"/>
<meta name="dcterms.isVersionOf" content="VLDBG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-7FA46A37-C4FF-4FFA-B92C-0D45943DF3F2.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-F8C73913-21CD-45D8-8417-10DA38C57762.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41057-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-1C6BC851-DE4A-4651-9813-3E70023C8264"></a> <span id="PAGE" style="display:none;">345/481</span> <!-- End Header --><a id="VLDBG1387"></a><a id="VLDBG1386"></a>
<h1 id="VLDBG-GUID-1C6BC851-DE4A-4651-9813-3E70023C8264" class="sect1">Producer or Consumer Operations</h1>
<div>
<p><a id="d56158e62" class="indexterm-anchor"></a><a id="d56158e64" class="indexterm-anchor"></a>Operations that require the output of other operations are known as consumer operations. In <a href="GUID-ADDF75ED-8CBE-4544-B59E-283A093A3337.htm#GUID-ADDF75ED-8CBE-4544-B59E-283A093A3337__i1010878">Figure 8-1</a>, the <code>GROUP</code> <code>BY</code> <code>SORT</code> operation is the consumer of the <code>HASH</code> <code>JOIN</code> operation because <code>GROUP</code> <code>BY</code> <code>SORT</code> requires the <code>HASH</code> <code>JOIN</code> output.</p>
<p>Consumer operations can begin consuming rows as soon as the producer operations have produced rows. In <a href="GUID-ADDF75ED-8CBE-4544-B59E-283A093A3337.htm#GUID-ADDF75ED-8CBE-4544-B59E-283A093A3337__BEIFFBHE">Example 8-2</a>, while the parallel execution servers are producing rows in the <code>FULL</code> <code>SCAN</code> of the <code>sales</code> table, another set of parallel execution servers can begin to perform the <code>HASH</code> <code>JOIN</code> operation to consume the rows.</p>
<p><a id="d56158e122" class="indexterm-anchor"></a><a id="d56158e126" class="indexterm-anchor"></a><a id="d56158e130" class="indexterm-anchor"></a><a id="d56158e134" class="indexterm-anchor"></a><a id="d56158e138" class="indexterm-anchor"></a>Each of the two operations performed concurrently is given its own set of parallel execution servers. Therefore, both query operations and the data flow tree itself have parallelism. The parallelism of an individual operation is called intra-operation parallelism and the parallelism between operations in a data flow tree is called inter-operation parallelism. Due to the producer-consumer nature of the Oracle Database operations, only two operations in a given tree must be performed simultaneously to minimize execution time. To illustrate intra- and inter-operation parallelism, consider the following statement:</p>
<pre dir="ltr">SELECT * FROM employees ORDER BY last_name;
</pre>
<p>The execution plan implements a full scan of the <code>employees</code> table. This operation is followed by a sorting of the retrieved rows, based on the value of the <code>last_name</code> column. For the sake of this example, assume the <code>last_name</code> column is not indexed. Also assume that the DOP for the query is set to <code>4</code>, which means that four parallel execution servers can be active for any given operation.</p>
<p><a href="GUID-1C6BC851-DE4A-4651-9813-3E70023C8264.htm#GUID-1C6BC851-DE4A-4651-9813-3E70023C8264__i1010979">Figure 8-2</a> illustrates the parallel execution of the example query.</p>
<div class="figure" id="GUID-1C6BC851-DE4A-4651-9813-3E70023C8264__i1010979">
<p class="titleinfigure">Figure 8-2 Inter-operation Parallelism and Dynamic Partitioning</p>
<img width="660" height="329" src="img/GUID-3464E512-685D-4878-8DA7-DFA63D4F1490-default.gif" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows"/><br/>
<a href="img_text/GUID-3464E512-685D-4878-8DA7-DFA63D4F1490-default.htm">Description of &#34;Figure 8-2 Inter-operation Parallelism and Dynamic Partitioning&#34;</a></div>
<!-- class="figure" -->
<p>As illustrated in <a href="GUID-1C6BC851-DE4A-4651-9813-3E70023C8264.htm#GUID-1C6BC851-DE4A-4651-9813-3E70023C8264__i1010979">Figure 8-2</a>, there are actually eight parallel execution servers involved in the query even though the DOP is <code>4</code>. This is because a producer and consumer operator can be performed at the same time (inter-operation parallelism).</p>
<p>Also all of the parallel execution servers involved in the scan operation send rows to the appropriate parallel execution server performing the <code>SORT</code> operation. If a row scanned by a parallel execution server contains a value for the <code>last_name</code> column between <code>A</code> and <code>G</code>, that row is sent to the first <code>ORDER</code> <code>BY</code> parallel execution server. When the scan operation is complete, the sorting processes can return the sorted results to the query coordinator, which, in turn, returns the complete query results to the user.</p>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2957">
<tr>
<td class="cellalignment2964">
<table class="cellalignment2962">
<tr>
<td class="cellalignment2961"><a href="GUID-7FA46A37-C4FF-4FFA-B92C-0D45943DF3F2.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2961"><a href="GUID-F8C73913-21CD-45D8-8417-10DA38C57762.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2966">
<table class="cellalignment2960">
<tr>
<td class="cellalignment2961"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2961"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2961"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2961"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2961"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2961"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
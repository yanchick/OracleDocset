<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-114221"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Parallel%20DML%20Tip%203%3A%20Parallelizing%20INSERT%2C%20MERGE%2C%20UPDATE%2C%20and%20DELETE"></a><title>Parallel DML Tip 3: Parallelizing INSERT, MERGE, UPDATE, and DELETE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2016-07-20T13:00:08Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database VLDB and Partitioning Guide"/>
<meta name="dcterms.identifier" content="E41057-12"/>
<meta name="dcterms.isVersionOf" content="VLDBG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2008, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-7E8095F3-9650-405C-B158-B5B4932093C5.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-35FF4DC9-F6FC-4634-832B-55ABBA531434.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41057-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC"></a> <span id="PAGE" style="display:none;">447/481</span> <!-- End Header --><a id="VLDBG1542"></a>
<h1 id="VLDBG-GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC" class="sect1">Parallel DML Tip 3: Parallelizing INSERT, MERGE, UPDATE, and DELETE</h1>
<div>
<p>When the table or partition has the <code>PARALLEL</code> attribute in the data dictionary, that attribute setting is used to determine parallelism of <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> statements and queries. An explicit <code>PARALLEL</code> hint for a table in a statement overrides the effect of the <code>PARALLEL</code> attribute in the data dictionary.</p>
<p>You can use the <code>NO_PARALLEL</code> hint to override a <code>PARALLEL</code> attribute for the table in the data dictionary. In general, hints take precedence over attributes.</p>
<p>DML operations are considered for parallelization if the session has been enabled in the <code>PARALLEL</code> <code>DML</code> mode with the <code>ALTER</code> <code>SESSION</code> <code>ENABLE</code> <code>PARALLEL</code> <code>DML</code> statement or a specific SQL statement has been enabled in the <code>PARALLEL</code> <code>DML</code> mode with the <code>ENABLE_PARALLEL_DML</code> hint. The mode does not affect parallelization of queries or of the query portions of a DML statement.</p>
</div>
<a id="VLDBG1544"></a><a id="VLDBG1543"></a>
<div class="props_rev_3"><a id="GUID-A4227A4C-209A-40B9-9A68-A57803E66C04"></a>
<h2 id="VLDBG-GUID-A4227A4C-209A-40B9-9A68-A57803E66C04" class="sect2">Parallelizing INSERT SELECT</h2>
<div>
<div class="section">
<p>In the <code>INSERT</code> ... <code>SELECT</code> statement, you can specify a <code>PARALLEL</code> hint after the <code>INSERT</code> keyword, in addition to the hint after the <code>SELECT</code> keyword. The <code>PARALLEL</code> hint after the <code>INSERT</code> keyword applies to the <code>INSERT</code> operation only, and the <code>PARALLEL</code> hint after the <code>SELECT</code> keyword applies to the <code>SELECT</code> operation only. Thus, parallelism of the <code>INSERT</code> and <code>SELECT</code> operations are independent of each other. If one operation cannot be performed in parallel, it has no effect on whether the other operation can be performed in parallel.</p>
<p>The ability to parallelize insert operations causes a change in existing behavior if the user has explicitly enabled the session for parallel DML and if the table in question has a <code>PARALLEL</code> attribute set in the data dictionary entry. In that case, existing <code>INSERT</code> <code>SELECT</code> statements that have the select operation parallelized can also have their insert operation parallelized.</p>
<p>If you query multiple tables, you can specify multiple <code>SELECT</code> <code>PARALLEL</code> hints and multiple <code>PARALLEL</code> attributes.</p>
<p><a href="GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC.htm#GUID-A4227A4C-209A-40B9-9A68-A57803E66C04__BEIIGDGI">Example 8-8</a> shows the addition of the new employees who were hired after the acquisition of <code>ACME</code>.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-A4227A4C-209A-40B9-9A68-A57803E66C04__BEIIGDGI">
<p class="titleinexample">Example 8-8 Parallelizing INSERT SELECT</p>
<pre dir="ltr">INSERT /*+ PARALLEL(employees) */ INTO employees
SELECT /*+ PARALLEL(ACME_EMP) */ *  FROM ACME_EMP;
</pre>
<p>The <code>APPEND</code> keyword is not required in this example because it is implied by the <code>PARALLEL</code> hint.</p>
</div>
<!-- class="example" --></div>
</div>
<a id="VLDBG1546"></a><a id="VLDBG1547"></a><a id="VLDBG1545"></a>
<div class="props_rev_3"><a id="GUID-49D5134E-7A04-4B87-A338-C4007D09D712"></a>
<h2 id="VLDBG-GUID-49D5134E-7A04-4B87-A338-C4007D09D712" class="sect2">Parallelizing UPDATE and DELETE</h2>
<div>
<div class="section">
<p>The <code>PARALLEL</code> hint (placed immediately after the <code>UPDATE</code> or <code>DELETE</code> keyword) applies not only to the underlying scan operation, but also to the <code>UPDATE</code> or <code>DELETE</code> operation. Alternatively, you can specify <code>UPDATE</code> or <code>DELETE</code> parallelism in the <code>PARALLEL</code> clause specified in the definition of the table to be modified.</p>
<p>If you have explicitly enabled parallel DML for the session or transaction, <code>UPDATE</code> or <code>DELETE</code> statements that have their query operation parallelized can also have their <code>UPDATE</code> or <code>DELETE</code> operation parallelized. Any subqueries or updatable views in the statement can have their own separate <code>PARALLEL</code> hints or clauses, but these parallel directives do not affect the decision to parallelize the update or delete. If these operations cannot be performed in parallel, it has no effect on whether the <code>UPDATE</code> or <code>DELETE</code> portion can be performed in parallel.</p>
<p><a href="GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC.htm#GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIGDEHC">Example 8-9</a> shows the update operation to give a 10 percent salary raise to all clerks in Dallas.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIGDEHC">
<p class="titleinexample">Example 8-9 Parallelizing UPDATE and DELETE</p>
<pre dir="ltr">UPDATE /*+ PARALLEL(employees) */ employees
SET salary=salary * 1.1 WHERE job_id=&#39;CLERK&#39; AND department_id IN
  (SELECT department_id FROM DEPARTMENTS WHERE location_id = &#39;DALLAS&#39;);
</pre>
<p>The <code>PARALLEL</code> hint is applied to the <code>UPDATE</code> operation and to the scan.</p>
<p><a href="GUID-2627DC19-7EBE-4C45-A758-711BDB5E37EC.htm#GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIJIGHJ">Example 8-10</a> shows the removal of all products of category <code>39</code> because that business line was recently spun off into a separate company.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-49D5134E-7A04-4B87-A338-C4007D09D712__BEIJIGHJ">
<p class="titleinexample">Example 8-10 Parallelizing UPDATE and DELETE</p>
<pre dir="ltr">DELETE /*+ PARALLEL(PRODUCTS) */ FROM PRODUCTS 
WHERE category_id = 39;
</pre>
<p>Again, the parallelism is applied to the scan and <code>UPDATE</code> operations on the table <code>employees</code>.</p>
</div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2957">
<tr>
<td class="cellalignment2964">
<table class="cellalignment2962">
<tr>
<td class="cellalignment2961"><a href="GUID-7E8095F3-9650-405C-B158-B5B4932093C5.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2961"><a href="GUID-35FF4DC9-F6FC-4634-832B-55ABBA531434.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2008, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2966">
<table class="cellalignment2960">
<tr>
<td class="cellalignment2961"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2961"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2961"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2961"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2961"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2961"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
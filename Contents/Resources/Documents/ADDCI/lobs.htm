<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-39"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Working%20with%20Multimedia%20Data%20Types"></a><title>Working with Multimedia Data Types</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="LOB, internal, internal LOB"/>
<meta name="dcterms.created" content="2017-06-09T01:57:02Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Data Cartridge Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E15882-06"/>
<meta name="dcterms.isVersionOf" content="ADDCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="c_cpp_java.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ext_idx_frmwork.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E15882-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5469F1F7-BD5B-4FB4-8F13-AE4CA0915F6D"></a> <span id="PAGE" style="display:none;">13/33</span> <!-- End Header -->
<a id="ADDCI260"></a>
<h1 id="ADDCI-GUID-5469F1F7-BD5B-4FB4-8F13-AE4CA0915F6D" class="sect1"><span class="enumeration_chapter">6</span> Working with Multimedia Data Types</h1>
<div>
<p>Consider how to work with multimedia data types, which are represented in Oracle Database as Large Objects (LOBs), from general principles to their practical implementation in PL/SQ and OCI for Data Cartridges.</p>
</div>
<a id="ADDCI4362"></a>
<div class="props_rev_3"><a id="GUID-D6949474-AD4D-41A3-8AF3-2C9A0B9291F5"></a>
<h2 id="ADDCI-GUID-D6949474-AD4D-41A3-8AF3-2C9A0B9291F5" class="sect2">Overview of Cartridges and Multimedia Data Types</h2>
<div>
<p>Some data cartridges must handle large amounts of raw binary data, such as graphic images or sound waveforms, or character data, such as text or streams of numbers. Oracle supports large objects, <code class="codeph">LOB</code>s, to handle these kinds of data.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Internal LOBs</span> <a id="d15317e121" class="indexterm-anchor"></a><a id="d15317e123" class="indexterm-anchor"></a><a id="d15317e125" class="indexterm-anchor"></a>are stored in the database tablespaces in a way that optimizes space and provides efficient access. Internal <code class="codeph">LOB</code>s participate in the transactional model of the server.</p>
<p><a id="d15317e132" class="indexterm-anchor"></a><a id="d15317e134" class="indexterm-anchor"></a><a id="d15317e136" class="indexterm-anchor"></a>Internal <code class="codeph">LOBs</code> can store binary data (<code class="codeph">BLOB</code>s), single-byte character data (<code class="codeph">CLOB</code>s), or fixed-width single-byte or multibyte character data (<code class="codeph">NCLOB</code>s). An <code class="codeph">NCLOB</code> consists of character data that corresponds to the national character set defined for the Oracle database. Varying width character data is not supported in Oracle.</p>
</li>
<li>
<p><a id="d15317e157" class="indexterm-anchor"></a><a id="d15317e161" class="indexterm-anchor"></a><span class="bold">External</span> <code class="codeph">LOBs</code> are stored in operating system files outside the database tablespaces as <code class="codeph">BFILE</code>s, binary data. They cannot participate in transactions.</p>
</li>
</ul>
<p>Both internal <code class="codeph">LOB</code>s and in <code class="codeph">BFILE</code>s provide considerable flexibility in handling large amounts of data.</p>
<p><a id="d15317e180" class="indexterm-anchor"></a><a id="d15317e184" class="indexterm-anchor"></a><a id="d15317e188" class="indexterm-anchor"></a>Data stored in a <code class="codeph">LOB</code> is called the <code class="codeph">LOB</code>&#39;s <span class="bold">value</span>. To the Oracle server, a <code class="codeph">LOB</code>&#39;s value is unstructured and cannot be queried. You must unpack and interpret a <code class="codeph">LOB</code>&#39;s value in cartridge-specific ways.</p>
<p><code class="codeph">LOB</code>s can be manipulated using the Oracle Call Interface, OCI, or the PL/SQL <code class="codeph">DBMS_LOB</code> package. You can write functions, including methods on object types that can contain <code class="codeph">LOB</code>s, to manipulate parts of <code class="codeph">LOB</code>s.</p>
<div class="infoboxnotealso" id="GUID-D6949474-AD4D-41A3-8AF3-2C9A0B9291F5__GUID-6DB47E1E-DFF6-42E0-B1A7-F36A64BC4CF6">
<p class="notep1">See Also:</p>
<p><a class="olink ADLOB" target="_blank" href="../ADLOB/toc.htm"><span class="variable">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a> for details on <code class="codeph">LOBs</code></p>
</div>
</div>
</div>
<a id="ADDCI4363"></a>
<div class="props_rev_3"><a id="GUID-93F55770-0EB5-4F90-B086-EE1D8146B774"></a>
<h2 id="ADDCI-GUID-93F55770-0EB5-4F90-B086-EE1D8146B774" class="sect2">Using DDL for LOBs</h2>
<div>
<p><a id="d15317e283" class="indexterm-anchor"></a><a id="d15317e287" class="indexterm-anchor"></a>LOB definition can involve the <code class="codeph">CREATE</code> <code class="codeph">TYPE</code> and the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statements. <a href="lobs.htm#GUID-61143C61-B438-437F-99D1-EFC792B54D0E__BABBJIJJ">Example 6-1</a> specifies a <code class="codeph">CLOB</code> within a data type named <code class="codeph">lob_type</code>.</p>
<p><a href="lobs.htm#GUID-87822A0C-02FF-4E86-BA84-1817A40A13B8__BABGJJFH">Example 6-2</a> creates an object table, <code class="codeph">lob_table</code>, in which each row is an instance of <code class="codeph">lob_type</code> data:</p>
<p><a href="lobs.htm#GUID-1AB23E62-1CF2-4AC3-94FB-DDEE5E350E06__BABHBICA">Example 6-3</a> shows how to store <code class="codeph">LOBs</code> in a regular table, as opposed to an object table as in <a href="lobs.htm#GUID-87822A0C-02FF-4E86-BA84-1817A40A13B8__BABGJJFH">Example 6-2</a>.</p>
<p>When creating LOBs in tables, you can set the LOB storage, buffering, and caching properties.</p>
<div class="infoboxnotealso" id="GUID-93F55770-0EB5-4F90-B086-EE1D8146B774__GUID-5AADFE6D-A97C-49E2-A63C-21D1ABF69E59">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="variable">Oracle Database SQL Language Reference</span></a> manual and the <a class="olink ADLOB" target="_blank" href="../ADLOB/toc.htm"><span class="variable">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a> for information about using LOBs in <code class="codeph">CREATE TABLE</code>, <code class="codeph">ALTER TABLE</code>, <code class="codeph">CREATE TYPE</code> and <code class="codeph">ALTER TYPE</code> statements</p>
</div>
</div>
<a id="ADDCI4364"></a>
<div class="props_rev_3"><a id="GUID-61143C61-B438-437F-99D1-EFC792B54D0E"></a>
<h3 id="ADDCI-GUID-61143C61-B438-437F-99D1-EFC792B54D0E" class="sect3">Creating a LOB Attribute of a Type</h3>
<div>
<div class="example" id="GUID-61143C61-B438-437F-99D1-EFC792B54D0E__BABBJIJJ">
<p class="titleinexample">Example 6-1 Creating a CLOB Attribute of a Type</p>
<pre dir="ltr">CREATE OR REPLACE TYPE lob_type AS OBJECT ( 
  id  INTEGER, 
  data CLOB );
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADDCI4365"></a>
<div class="props_rev_3"><a id="GUID-87822A0C-02FF-4E86-BA84-1817A40A13B8"></a>
<h3 id="ADDCI-GUID-87822A0C-02FF-4E86-BA84-1817A40A13B8" class="sect3">Creating a LOB Object Table</h3>
<div>
<div class="example" id="GUID-87822A0C-02FF-4E86-BA84-1817A40A13B8__BABGJJFH">
<p class="titleinexample">Example 6-2 Creating a LOB Object Table</p>
<pre dir="ltr">CREATE TABLE lob_table OF lob_type;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADDCI4366"></a>
<div class="props_rev_3"><a id="GUID-1AB23E62-1CF2-4AC3-94FB-DDEE5E350E06"></a>
<h3 id="ADDCI-GUID-1AB23E62-1CF2-4AC3-94FB-DDEE5E350E06" class="sect3">Creating LOB Columns</h3>
<div>
<div class="example" id="GUID-1AB23E62-1CF2-4AC3-94FB-DDEE5E350E06__BABHBICA">
<p class="titleinexample">Example 6-3 Creating LOB Columns in a Table</p>
<pre dir="ltr">CREATE TABLE lob_table1  (
  id  INTEGER,
  b_lob   BLOB,
  c_lob   CLOB,
  nc_lob  NCLOB,
  b_file  BFILE );
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADDCI4367"></a>
<div class="props_rev_3"><a id="GUID-F4531245-D6C3-4CCA-9A20-2DA6D2A26C23"></a>
<h2 id="ADDCI-GUID-F4531245-D6C3-4CCA-9A20-2DA6D2A26C23" class="sect2">LOB Locators</h2>
<div>
<p><code class="codeph">LOBs</code> can be stored with other row data or separate from row data. Regardless of the storage location, each <code class="codeph">LOB</code> has a <span class="bold">locator</span>, which can be viewed as a handle or pointer to the actual location. Selecting a <code class="codeph">LOB</code> returns the <code class="codeph">LOB</code> locator instead of the <code class="codeph">LOB</code> value. <a href="lobs.htm#GUID-0C7A5625-64C9-4136-B178-A23B59D3BB09__BABJHDFE">Example 6-4</a> selects the <code class="codeph">LOB</code> locator for <code class="codeph">b_lob</code> and places it a PL/SQL local variable named <code class="codeph">image1</code>.</p>
<p>When you use an API function to manipulate the <code class="codeph">LOB</code> value, you refer to the <code class="codeph">LOB</code> using the locator. The PL/SQL <code class="codeph">DBMS_LOB</code> package contains useful routines to manipulate <code class="codeph">LOBs</code>, such as <code class="codeph">PUT_LINE()</code> and <code class="codeph">GETLENGTH()</code>, as in <a href="lobs.htm#GUID-D9C704E8-38DB-47FA-8FD2-782462C0A3C9__BABHDCHH">Example 6-5</a>.</p>
<p>In the OCI, <code class="codeph">LOB</code> locators are mapped to <code class="codeph">LOBLocatorPointers</code>, such as <code class="codeph">OCILobLocator *</code>.</p>
<p>For a <code class="codeph">BFILE</code>, the <code class="codeph">LOB</code> column has its own distinct locator, which refers to the <code class="codeph">LOB&#39;s</code> value that is stored in an external file in the server&#39;s file system. This implies that two rows in a table with a <code class="codeph">BFILE</code> column may refer to the same file or two distinct files. A <code class="codeph">BFILE</code> locator variable in a PL/SQL or OCI program behaves like any other automatic variable. With respect to file operations, it behaves like a file descriptor available as part of the standard I/O library of most conventional programming languages.</p>
<div class="infoboxnotealso" id="GUID-F4531245-D6C3-4CCA-9A20-2DA6D2A26C23__GUID-BD5B2FB8-DCE8-42DB-940D-826D73FC77C7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink LNOCI" target="_blank" href="../LNOCI/toc.htm"><span class="variable">Oracle Call Interface Programmer&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink ADLOB" target="_blank" href="../ADLOB/toc.htm"><span class="variable">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a>. for <code class="codeph">DBMS_LOB</code> API</p>
</li>
</ul>
</div>
</div>
<a id="ADDCI4368"></a>
<div class="props_rev_3"><a id="GUID-0C7A5625-64C9-4136-B178-A23B59D3BB09"></a>
<h3 id="ADDCI-GUID-0C7A5625-64C9-4136-B178-A23B59D3BB09" class="sect3">Selecting a LOBs and Assigning it to a Local Variable</h3>
<div>
<div class="example" id="GUID-0C7A5625-64C9-4136-B178-A23B59D3BB09__BABJHDFE">
<p class="titleinexample">Example 6-4 Selecting a LOB Locator and Assigning it to a Local Variable</p>
<pre dir="ltr">DECLARE
       image1  BLOB;
       image_no  INTEGER := 101;
BEGIN
       SELECT b_lob  INTO image1 FROM lob_table
                  WHERE key_value = image_no;
             ...
END;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADDCI4369"></a>
<div class="props_rev_3"><a id="GUID-D9C704E8-38DB-47FA-8FD2-782462C0A3C9"></a>
<h3 id="ADDCI-GUID-D9C704E8-38DB-47FA-8FD2-782462C0A3C9" class="sect3">Manipulating LOBs</h3>
<div>
<div class="example" id="GUID-D9C704E8-38DB-47FA-8FD2-782462C0A3C9__BABHDCHH">
<p class="titleinexample">Example 6-5 Manipulating LOBs with PUT_LINE() and GETLENGTH()</p>
<pre dir="ltr">BEGIN
     DBMS_OUTPUT.PUT_LINE(&#39;Size of the Image is: &#39;, 
                       DBMS_LOB.GETLENGTH(image1));
END;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADDCI4370"></a>
<div class="props_rev_3"><a id="GUID-FD83F576-F342-4097-AF0C-DE653EC52703"></a>
<h2 id="ADDCI-GUID-FD83F576-F342-4097-AF0C-DE653EC52703" class="sect2">Emptying LOBs</h2>
<div>
<p><a id="d15317e841" class="indexterm-anchor"></a><a id="d15317e843" class="indexterm-anchor"></a><a id="d15317e845" class="indexterm-anchor"></a><a id="d15317e849" class="indexterm-anchor"></a>Use the special functions <code class="codeph">EMPTY_BLOB</code> and <code class="codeph">EMPTY_CLOB</code> in <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> statements of SQL DML to initialize a <code class="codeph">NULL</code> or non-<code class="codeph">NULL</code> internal <code class="codeph">LOB</code> to empty. These are available as special functions in Oracle SQL DML, and are not part of the <code class="codeph">DBMS_LOB</code> package.</p>
<p>Before writing data to an internal <code class="codeph">LOB</code> using OCI or the <code class="codeph">DBMS_LOB</code> package, the <code class="codeph">LOB</code> column must be made non-null; it must contain a locator that points to an empty or populated <code class="codeph">LOB</code> value. You can initialize a <code class="codeph">BLOB</code> column&#39;s value to empty by using the function <code class="codeph">EMPTY_BLOB</code> in the <code class="codeph">VALUES</code> clause of an <code class="codeph">INSERT</code> statement. Similarly, a <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code> column&#39;s value can be initialized by using the function <code class="codeph">EMPTY_CLOB</code>. Here is the syntax of these functions:</p>
<pre dir="ltr">FUNCTION EMPTY_BLOB() RETURN BLOB;
FUNCTION EMPTY_CLOB() RETURN CLOB;
</pre>
<p><code class="codeph">EMPTY_BLOB</code> returns an empty locator of type <code class="codeph">BLOB</code> and <code class="codeph">EMPTY_CLOB</code> returns an empty locator of type <code class="codeph">CLOB</code>, which can also be used for <code class="codeph">NCLOBs</code>. The functions don&#39;t have an associated pragma.</p>
<p>An exception is raised if you use these functions anywhere but in the <code class="codeph">VALUES</code> clause of a SQL <code class="codeph">INSERT</code> statement or as the source of the <code class="codeph">SET</code> clause in a SQL <code class="codeph">UPDATE</code> statement.</p>
<p><a href="lobs.htm#GUID-14969C25-1BDD-4949-89FB-04F6C35931E4__BABHDFFG">Example 6-6</a> shows <code class="codeph">EMPTY_BLOB()</code> used with SQL DML.</p>
<p><a href="lobs.htm#GUID-76A690D6-FA22-4A4E-BF52-2E82FB2A7678__BABICAAD">Example 6-7</a> shows how to use <code class="codeph">EMPTY_CLOB()</code> in PL/SQL programs.</p>
</div>
<a id="ADDCI4372"></a>
<div class="props_rev_3"><a id="GUID-14969C25-1BDD-4949-89FB-04F6C35931E4"></a>
<h3 id="ADDCI-GUID-14969C25-1BDD-4949-89FB-04F6C35931E4" class="sect3">Using EMPTY_BLOB() in SQL</h3>
<div>
<div class="example" id="GUID-14969C25-1BDD-4949-89FB-04F6C35931E4__BABHDFFG">
<p class="titleinexample">Example 6-6 Using EMPTY_BLOB() with SQL DML</p>
<pre dir="ltr">INSERT INTO lob_table VALUES (1001, EMPTY_BLOB(), &#39;abcde&#39;, NULL);
UPDATE lob_table SET c_lob = EMPTY_CLOB() WHERE key_value = 1001;
INSERT INTO lob_table VALUES (1002, NULL, NULL, NULL);
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADDCI4373"></a>
<div class="props_rev_3"><a id="GUID-76A690D6-FA22-4A4E-BF52-2E82FB2A7678"></a>
<h3 id="ADDCI-GUID-76A690D6-FA22-4A4E-BF52-2E82FB2A7678" class="sect3">Using EMPTY_CLOB() in PL/SQL</h3>
<div>
<div class="example" id="GUID-76A690D6-FA22-4A4E-BF52-2E82FB2A7678__BABICAAD">
<p class="titleinexample">Example 6-7 Using EMPTY_CLOB() in PL/SQL Programs</p>
<pre dir="ltr">DECLARE 
  lobb         CLOB; 
  read_offset  INTEGER; 
  read_amount  INTEGER; 
  rawbuf       RAW(20); 
  charbuf      VARCHAR2(20);
BEGIN
  read_amount := 10; read_offset := 1;
  UPDATE lob_table SET c_lob = EMPTY_CLOB() 
  WHERE key_value = 1002 RETURNING c_lob INTO lobb;
  dbms_lob.read(lobb, read_amount, read_offset, charbuf); 
  dbms_output.put_line(&#39;lobb value: &#39; || charbuf);
END
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADDCI4374"></a>
<div class="props_rev_3"><a id="GUID-2D71AE31-E5DA-4B81-80ED-A4F92ABCB922"></a>
<h2 id="ADDCI-GUID-2D71AE31-E5DA-4B81-80ED-A4F92ABCB922" class="sect2">Using the OCI to Manipulate LOBs</h2>
<div>
<p><a id="d15317e1123" class="indexterm-anchor"></a><a id="d15317e1127" class="indexterm-anchor"></a><a id="d15317e1131" class="indexterm-anchor"></a>The OCI includes functions that enable access to data stored in <code class="codeph">BLOB</code>s, <code class="codeph">CLOB</code>s, <code class="codeph">NCLOB</code>s, and <code class="codeph">BFILE</code>s. These functions are introduced in <a href="lobs.htm#GUID-042E45FA-42D0-4F3C-B5A5-1009DD053913__BABGGIFB" title="Lists the OCI functions used to manipulate LOBs and describes the function of each">Table 6-1</a>.</p>
<p><a id="d15317e1153" class="indexterm-anchor"></a><a id="d15317e1157" class="indexterm-anchor"></a><a href="lobs.htm#GUID-58B9AA75-7B63-4103-9996-DE3AEA436BB7__BABEEBBC" title="Side-by-side list of comparable OC and PL/SQL (DBMS_LOB) interfaces">Table 6-2</a> compares the OCI and PL/SQL (<code class="codeph">DBMS_LOB</code> package) interfaces in terms of <code class="codeph">LOB</code> access.</p>
<p><a href="lobs.htm#GUID-8CDF3D3F-59A0-4B92-9B43-E802E15374A9__BABEAIFE">Example 6-8</a> shows how to select a <code class="codeph">LOB</code> from the database into a locator. It assumes that the type <code class="codeph">lob_type</code> has two attributes, <code class="codeph">id</code> of type <code class="codeph">INTEGER</code> and <code class="codeph">data</code> of type <code class="codeph">CLOB</code>, and that a table, <code class="codeph">lob_table</code>, of type <code class="codeph">lob_type</code>, exists.</p>
<p>A sample program, <code class="codeph">populate.c</code>, uses the OCI to populate a <code class="codeph">CLOB</code> with the contents of a file.</p>
<div class="infoboxnotealso" id="GUID-2D71AE31-E5DA-4B81-80ED-A4F92ABCB922__GUID-066E33B4-2ABA-4DBE-8AB0-11646E9D8FB8">
<p class="notep1">See Also:</p>
<p><a class="olink LNOCI" target="_blank" href="../LNOCI/toc.htm"><span class="variable">Oracle Call Interface Programmer&#39;s Guide</span></a>. for detailed documentation, including parameters, parameter types, return values, and example code.</p>
</div>
</div>
<a id="ADDCI4375"></a>
<div class="props_rev_3"><a id="GUID-042E45FA-42D0-4F3C-B5A5-1009DD053913"></a>
<h3 id="ADDCI-GUID-042E45FA-42D0-4F3C-B5A5-1009DD053913" class="sect3">OCI Functions for Manipulating LOBs</h3>
<div>
<div class="tblformal" id="GUID-042E45FA-42D0-4F3C-B5A5-1009DD053913__BABGGIFB">
<p class="titleintable">Table 6-1 Summary of OCI Functions for Manipulating LOBs</p>
<table class="cellalignment5987" title="Summary of OCI Functions for Manipulating LOBs " summary="Lists the OCI functions used to manipulate LOBs and describes the function of each">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6018" id="d15317e1276">Function</th>
<th class="cellalignment6039" id="d15317e1279">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1284" headers="d15317e1276"><code class="codeph">OCILobAppend()</code></td>
<td class="cellalignment6041" headers="d15317e1284 d15317e1279">
<p>Appends LOB value to another <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1294" headers="d15317e1276"><code class="codeph">OCILobArrayRead()</code></td>
<td class="cellalignment6041" headers="d15317e1294 d15317e1279">
<p>Reads LOB data for multiple locators in one round-trip.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1301" headers="d15317e1276"><code class="codeph">OCILobArrayWrite()</code></td>
<td class="cellalignment6041" headers="d15317e1301 d15317e1279">
<p>Writes LOB data for multiple locators in one round-trip.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1308" headers="d15317e1276"><code class="codeph">OCILobAssign()</code></td>
<td class="cellalignment6041" headers="d15317e1308 d15317e1279">
<p>Assigns one LOB locator to another.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1315" headers="d15317e1276"><code class="codeph">OCILobCharSetForm()</code></td>
<td class="cellalignment6041" headers="d15317e1315 d15317e1279">
<p>Returns the character set form of a <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1325" headers="d15317e1276"><code class="codeph">OCILobCharSetId()</code></td>
<td class="cellalignment6041" headers="d15317e1325 d15317e1279">
<p>Returns the character set ID of a <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1335" headers="d15317e1276"><code class="codeph">OCILobClose()</code></td>
<td class="cellalignment6041" headers="d15317e1335 d15317e1279">
<p>Closes a previously opened LOB or <code class="codeph">BFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1345" headers="d15317e1276"><code class="codeph">OCILobCopy2()</code></td>
<td class="cellalignment6041" headers="d15317e1345 d15317e1279">
<p>Copies all or a portion of a LOB into another LOB; replaces the deprecated method <code class="codeph">OCILobCopy()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1355" headers="d15317e1276"><code class="codeph">OCILobCreateTemporary()</code></td>
<td class="cellalignment6041" headers="d15317e1355 d15317e1279">
<p>Creates a temporary LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1362" headers="d15317e1276"><code class="codeph">OCILobDisableBuffering()</code></td>
<td class="cellalignment6041" headers="d15317e1362 d15317e1279">
<p>Disables the buffering subsystem use.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1369" headers="d15317e1276"><code class="codeph">OCILobEnableBuffering()</code></td>
<td class="cellalignment6041" headers="d15317e1369 d15317e1279">
<p>Uses the LOB buffering subsystem for subsequent read and write operations of <code class="codeph">LOB</code> data.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1380" headers="d15317e1276"><code class="codeph">OCILobErase2()</code></td>
<td class="cellalignment6041" headers="d15317e1380 d15317e1279">
<p>Erases all or part of aLOB, starting at a specified offset; replaces the deprecated method <code class="codeph">OCILobErase()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1390" headers="d15317e1276"><code class="codeph">OCILobFileClose()</code></td>
<td class="cellalignment6041" headers="d15317e1390 d15317e1279">
<p>Closes an open <code class="codeph">BFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1400" headers="d15317e1276"><code class="codeph">OCILobFileCloseAll()</code></td>
<td class="cellalignment6041" headers="d15317e1400 d15317e1279">
<p>Closes all open <code class="codeph">BFILEs</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1410" headers="d15317e1276"><code class="codeph">OCILobFileExists()</code></td>
<td class="cellalignment6041" headers="d15317e1410 d15317e1279">
<p>Determines if a <code class="codeph">BFILE</code> exists.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1420" headers="d15317e1276"><code class="codeph">OCILobFileGetName()</code></td>
<td class="cellalignment6041" headers="d15317e1420 d15317e1279">
<p>Returns the name of a <code class="codeph">BFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1430" headers="d15317e1276"><code class="codeph">OCILobFileIsOpen()</code></td>
<td class="cellalignment6041" headers="d15317e1430 d15317e1279">
<p>Determines if the <code class="codeph">BFILE</code> is open.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1440" headers="d15317e1276"><code class="codeph">OCILobFileOpen()</code></td>
<td class="cellalignment6041" headers="d15317e1440 d15317e1279">
<p>Opens a <code class="codeph">BFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1450" headers="d15317e1276"><code class="codeph">OCILobFileSetName()</code></td>
<td class="cellalignment6041" headers="d15317e1450 d15317e1279">
<p>Sets the name of a <code class="codeph">BFILE</code> in a locator.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1460" headers="d15317e1276"><code class="codeph">OCILobFlushBuffer()</code></td>
<td class="cellalignment6041" headers="d15317e1460 d15317e1279">
<p>Flushes changes made to the LOB buffering subsystem to the database (server)</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1467" headers="d15317e1276"><code class="codeph">OCILobFreeTemporary()</code></td>
<td class="cellalignment6041" headers="d15317e1467 d15317e1279">
<p>Frees a temporary LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1474" headers="d15317e1276"><code class="codeph">OCILobGetChunkSize()</code></td>
<td class="cellalignment6041" headers="d15317e1474 d15317e1279">
<p>Gets the chunk size of a LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1482" headers="d15317e1276"><code class="codeph">OCILobGetContentType()</code></td>
<td class="cellalignment6041" headers="d15317e1482 d15317e1279">
<p>Gets the user-specified content type string for the data in a SecureFile, if set.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1489" headers="d15317e1276"><code class="codeph">OCILobGetLength2()</code></td>
<td class="cellalignment6041" headers="d15317e1489 d15317e1279">
<p>Gets the length of a LOB; replaced the deprecated method <code class="codeph">OCILobGetLength()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1499" headers="d15317e1276"><code class="codeph">OCILobGetOptions()</code></td>
<td class="cellalignment6041" headers="d15317e1499 d15317e1279">
<p>Gets the enabled settings that correspond to the specified input option types for a specified <span>SecureFile</span> LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1509" headers="d15317e1276"><code class="codeph">OCILobGetStorageLimit()</code></td>
<td class="cellalignment6041" headers="d15317e1509 d15317e1279">
<p>Gets the maximum length of a LOB (<code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code>), in bytes.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1525" headers="d15317e1276"><code class="codeph">OCILobIsEqual()</code></td>
<td class="cellalignment6041" headers="d15317e1525 d15317e1279">
<p>Determines if two LOB locators refer to the same <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1535" headers="d15317e1276"><code class="codeph">OCILobIsOpen()</code></td>
<td class="cellalignment6041" headers="d15317e1535 d15317e1279">
<p>Determines if a LOB or <code class="codeph">BFILE</code> is open.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1545" headers="d15317e1276"><code class="codeph">OCILobIsTemporary()</code></td>
<td class="cellalignment6041" headers="d15317e1545 d15317e1279">
<p>Determines if a locator points to a temporary LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1552" headers="d15317e1276"><code class="codeph">OCILobLoadFromFile2()</code></td>
<td class="cellalignment6041" headers="d15317e1552 d15317e1279">
<p>Loads <code class="codeph">BFILE</code> data into an internal LOB; replaced the deprecated method <code class="codeph">OCILobLoadFromFile()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1565" headers="d15317e1276"><code class="codeph">OCILobLocatorAssign()</code></td>
<td class="cellalignment6041" headers="d15317e1565 d15317e1279">
<p>Assigns one LOB or <code class="codeph">BFILE</code> locator to another.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1575" headers="d15317e1276"><code class="codeph">OCILobLocatorIsInit()</code></td>
<td class="cellalignment6041" headers="d15317e1575 d15317e1279">
<p>Tests to see if a LOB locator is initialized.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1582" headers="d15317e1276"><code class="codeph">OCILobOpen()</code></td>
<td class="cellalignment6041" headers="d15317e1582 d15317e1279">
<p>Opens a LOB in the specified mode.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1590" headers="d15317e1276"><code class="codeph">OCILobRead2()</code></td>
<td class="cellalignment6041" headers="d15317e1590 d15317e1279">
<p>Reads a specified portion of a non-null LOB or a <code class="codeph">BFILE</code> into a buffer; replaces the deprecated method <code class="codeph">OCILobRead()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1603" headers="d15317e1276"><code class="codeph">OCILobSetContentType()</code></td>
<td class="cellalignment6041" headers="d15317e1603 d15317e1279">
<p>Sets a content type string for the data in the <code class="codeph">SecureFile</code> LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1613" headers="d15317e1276"><code class="codeph">OCILobSetOptions()</code></td>
<td class="cellalignment6041" headers="d15317e1613 d15317e1279">
<p>Enables option settings for a <code class="codeph">SecureFile</code> LOB.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1623" headers="d15317e1276"><code class="codeph">OCILobTrim2()</code></td>
<td class="cellalignment6041" headers="d15317e1623 d15317e1279">
<p>Truncates a LOB; replaces the deprecated method <code class="codeph">OCILobTrim()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1633" headers="d15317e1276"><code class="codeph">OCILobWrite2()</code></td>
<td class="cellalignment6041" headers="d15317e1633 d15317e1279">
<p>Writes data from a buffer into a LOB, writing over existing data; replaces the deprecated method <code class="codeph">OCILobWrite()</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6021" id="d15317e1643" headers="d15317e1276"><code class="codeph">OCILobWriteAppend2()</code></td>
<td class="cellalignment6041" headers="d15317e1643 d15317e1279">
<p>Writes data starting at the current end of a LOB; replaces the deprecated method <code class="codeph">OCILobWriteAppend()</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADDCI4376"></a>
<div class="props_rev_3"><a id="GUID-58B9AA75-7B63-4103-9996-DE3AEA436BB7"></a>
<h3 id="ADDCI-GUID-58B9AA75-7B63-4103-9996-DE3AEA436BB7" class="sect3">Comparing OCI and PL/SQL Interfaces</h3>
<div>
<div class="tblformal" id="GUID-58B9AA75-7B63-4103-9996-DE3AEA436BB7__BABEEBBC">
<p class="titleintable">Table 6-2 OCI and PL/SQL (DBMS_LOB) Interfaces Compared</p>
<table class="cellalignment5987" title="OCI and PL/SQL (DBMS_LOB) Interfaces Compared " summary="Side-by-side list of comparable OC and PL/SQL (DBMS_LOB) interfaces">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6074" id="d15317e1713">OCI (ociap.h)</th>
<th class="cellalignment6067" id="d15317e1716">PL/SQL DBMS_LOB (dbmslob.sql)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1721" headers="d15317e1713">
<p>N/A</p>
</td>
<td class="cellalignment6069" headers="d15317e1721 d15317e1716">
<pre dir="ltr">DBMS_LOB.COMPARE() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1728" headers="d15317e1713">
<p>N/A</p>
</td>
<td class="cellalignment6069" headers="d15317e1728 d15317e1716">
<pre dir="ltr">DBMS_LOB.INSTR() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1735" headers="d15317e1713">
<p>N/A</p>
</td>
<td class="cellalignment6069" headers="d15317e1735 d15317e1716">
<pre dir="ltr">DBMS_LOB.SUBSTR() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1742" headers="d15317e1713">
<pre dir="ltr">OCILobAppend()
</pre></td>
<td class="cellalignment6069" headers="d15317e1742 d15317e1716">
<pre dir="ltr">DBMS_LOB.APPEND() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1749" headers="d15317e1713">
<pre dir="ltr">OCILobAssign()
</pre></td>
<td class="cellalignment6069" headers="d15317e1749 d15317e1716">
<p>N/A [use PL/SQL assign operator]</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1756" headers="d15317e1713">
<pre dir="ltr">OCILobCharSetForm()
</pre></td>
<td class="cellalignment6069" headers="d15317e1756 d15317e1716">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1763" headers="d15317e1713">
<pre dir="ltr">OCILobCharSetId()
</pre></td>
<td class="cellalignment6069" headers="d15317e1763 d15317e1716">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1770" headers="d15317e1713">
<pre dir="ltr">OCILobCopy()
</pre></td>
<td class="cellalignment6069" headers="d15317e1770 d15317e1716">
<pre dir="ltr">DBMS_LOB.COPY() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1777" headers="d15317e1713">
<pre dir="ltr">OCILobDisableBuffering()
</pre></td>
<td class="cellalignment6069" headers="d15317e1777 d15317e1716">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1784" headers="d15317e1713">
<pre dir="ltr">OCILobEnableBuffering()
</pre></td>
<td class="cellalignment6069" headers="d15317e1784 d15317e1716">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1791" headers="d15317e1713">
<pre dir="ltr">OCILobErase()
</pre></td>
<td class="cellalignment6069" headers="d15317e1791 d15317e1716">
<pre dir="ltr">DBMS_LOB.ERASE()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1799" headers="d15317e1713">
<pre dir="ltr">OCILobFileClose()
</pre></td>
<td class="cellalignment6069" headers="d15317e1799 d15317e1716">
<pre dir="ltr">DBMS_LOB.FILECLOSE()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1806" headers="d15317e1713">
<pre dir="ltr">OCILobFileCloseAll()
</pre></td>
<td class="cellalignment6069" headers="d15317e1806 d15317e1716">
<pre dir="ltr">DBMS_LOB.FILECLOSEALL()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1813" headers="d15317e1713">
<pre dir="ltr">OCILobFileExists()
</pre></td>
<td class="cellalignment6069" headers="d15317e1813 d15317e1716">
<pre dir="ltr">DBMS_LOB.FILEEXISTS()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1820" headers="d15317e1713">
<pre dir="ltr">OCILobFileGetName()
</pre></td>
<td class="cellalignment6069" headers="d15317e1820 d15317e1716">
<pre dir="ltr">DBMS_LOB.FILEGETNAME()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1827" headers="d15317e1713">
<pre dir="ltr">OCILobFileIsOpen()
</pre></td>
<td class="cellalignment6069" headers="d15317e1827 d15317e1716">
<pre dir="ltr">DBMS_LOB.FILEISOPEN()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1834" headers="d15317e1713">
<pre dir="ltr">OCILobFileOpen()
</pre></td>
<td class="cellalignment6069" headers="d15317e1834 d15317e1716">
<pre dir="ltr">DBMS_LOB.FILEOPEN()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1841" headers="d15317e1713">
<pre dir="ltr">OCILobFileSetName()
</pre></td>
<td class="cellalignment6069" headers="d15317e1841 d15317e1716">
<p>N/A (use <code class="codeph">BFILENAME</code> operator)</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1851" headers="d15317e1713">
<pre dir="ltr">OCILobFlushBuffer()
</pre></td>
<td class="cellalignment6069" headers="d15317e1851 d15317e1716">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1858" headers="d15317e1713">
<pre dir="ltr">OCILobGetLength()
</pre></td>
<td class="cellalignment6069" headers="d15317e1858 d15317e1716">
<pre dir="ltr">DBMS_LOB.GETLENGTH()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1865" headers="d15317e1713">
<pre dir="ltr">OCILobIsEqual()
</pre></td>
<td class="cellalignment6069" headers="d15317e1865 d15317e1716">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1872" headers="d15317e1713">
<pre dir="ltr">OCILobLoadFromFile() 
</pre></td>
<td class="cellalignment6069" headers="d15317e1872 d15317e1716">
<pre dir="ltr">DBMS_LOB.LOADFROMFILE()
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1880" headers="d15317e1713">
<pre dir="ltr">OCILobLocatorIsInit()
</pre></td>
<td class="cellalignment6069" headers="d15317e1880 d15317e1716">
<p>N/A [always initialize]</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1887" headers="d15317e1713">
<pre dir="ltr">OCILobRead()
</pre></td>
<td class="cellalignment6069" headers="d15317e1887 d15317e1716">
<pre dir="ltr">DBMS_LOB.READ() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1894" headers="d15317e1713">
<pre dir="ltr">OCILobTrim()
</pre></td>
<td class="cellalignment6069" headers="d15317e1894 d15317e1716">
<pre dir="ltr">DBMS_LOB.TRIM() 
</pre></td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6075" id="d15317e1901" headers="d15317e1713">
<pre dir="ltr">OCILobWrite() 
</pre></td>
<td class="cellalignment6069" headers="d15317e1901 d15317e1716">
<pre dir="ltr">DBMS_LOB.WRITE() 
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADDCI4377"></a>
<div class="props_rev_3"><a id="GUID-8CDF3D3F-59A0-4B92-9B43-E802E15374A9"></a>
<h3 id="ADDCI-GUID-8CDF3D3F-59A0-4B92-9B43-E802E15374A9" class="sect3">Selecting a Stored LOB into a Locator</h3>
<div>
<div class="example" id="GUID-8CDF3D3F-59A0-4B92-9B43-E802E15374A9__BABEAIFE">
<p class="titleinexample">Example 6-8 Selecting a LOB from the Database into a Locator</p>
<pre dir="ltr">/*-----------------------------------------------------------------------*/ 
/* Select lob locators from a CLOB column                                */ 
/* Use the &#39;FOR UPDATE&#39; clause for writing to the LOBs.                  */ 
/*-----------------------------------------------------------------------*/ 
static OCIEnv        *envhp;
static OCIServer     *srvhp;
static OCISvcCtx     *svchp;
static OCIError      *errhp;
static OCISession    *authp;
static OCIStmt       *stmthp;
static OCIDefine     *defnp1;
static OCIBind       *bndhp;
 
sb4 select_locator(int rowind) 
{ 
  sword retval; 
  boolean flag; 
  int colc = rowind; 
  OCILobLocator *clob;
  text  *sqlstmt = (text *)&#34;SELECT DATA FROM LOB_TABLE WHERE ID = :1 FOR UPDATE&#34;; 

  if (OCIStmtPrepare(stmthp, errhp, sqlstmt, (ub4) strlen((char *)sqlstmt), 
      (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT)) 
  { 
    (void) printf(&#34;FAILED: OCIStmtPrepare() sqlstmt\n&#34;); 
    return OCI_ERROR; 
  } 

  if (OCIStmtBindByPos(stmthp, bndhp, errhp, (ub4) 1, (dvoid *) &amp;colc, 
      (sb4) sizeof(colc), SQLT_INT, (dvoid *) 0, (ub2 *)0, (ub2 *)0, (ub4) 0, 
      (ub4 *) 0, (ub4) OCI_DEFAULT)) 
  {
    (void) printf(&#34;FAILED: OCIStmtBindByPos()\n&#34;); 
    return OCI_ERROR; 
  }
  
  if (OCIDefineByPos(stmthp, &amp;defnp1, errhp, (ub4) 1, (dvoid *) &amp;clob, (sb4) -1,
      (ub2) SQLT_CLOB, (dvoid *) 0, (ub2 *) 0, (ub2 *) 0, (ub4) OCI_DEFAULT)) 
  { 
    (void) printf(&#34;FAILED: OCIDefineByPos()\n&#34;); 
    return OCI_ERROR; 
  } 

  /* Execute the select and fetch one row */ 
  if (OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4) 0, 
      (CONST OCISnapshot*) 0, (OCISnapshot*) 0, (ub4) OCI_DEFAULT)) 
  { 
    (void) printf(&#34;FAILED: OCIStmtExecute() sqlstmt\n&#34;); 
    report_error(); 
    return OCI_ERROR; 
  } 
 
  /* Now test to see if the LOB locator is initialized */ 
  retval = OCILobLocatorIsInit(envhp, errhp, clob, &amp;flag); 
  if ((retval != OCI_SUCCESS) &amp;&amp; (retval != OCI_SUCCESS_WITH_INFO)) 
  { 
    (void) printf(&#34;Select_Locator --ERROR: OCILobLocatorIsInit(), 
        retval = %d\n&#34;, retval); 
    report_error(); 
    checkerr(errhp, retval); 
    return OCI_ERROR; 
  } 

  if (!flag) 
  { 
    (void) printf(&#34;Select_Locator --ERROR: LOB Locator is not initialized.\n&#34;); 
    return OCI_ERROR;  
  } 

  return OCI_SUCCESS; 
}
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADDCI4378"></a>
<div class="props_rev_3"><a id="GUID-9F67DBF8-F49A-4346-B2B2-B7369A849C31"></a>
<h2 id="ADDCI-GUID-9F67DBF8-F49A-4346-B2B2-B7369A849C31" class="sect2">Using DBMS_LOB Package to Manipulate LOBs</h2>
<div>
<div class="section">
<p><a id="d15317e2018" class="indexterm-anchor"></a>The <code class="codeph">DBMS_LOB</code> package can be used to manipulate <code class="codeph">LOBs</code> from PL/SQL. <a href="lobs.htm#GUID-F299D3AA-27F1-44A6-B118-FC453C57A0B6__BABHCJHA" title="Column 1 names the routine, and column 2 provides its description">Table 6-3</a> introduces its routines.</p>
<p><a href="lobs.htm#GUID-E7AE8D33-8513-489D-AB73-640D5B4E659C__BABDDJGI">Example 6-9</a> calls the <code class="codeph">TRIM</code> procedure to trim a <code class="codeph">CLOB</code> value to a smaller length. It assumes that the type <code class="codeph">lob_type</code> has two attributes, <code class="codeph">id</code> of type <code class="codeph">INTEGER</code> and <code class="codeph">data</code> of type <code class="codeph">CLOB</code>, and that a table, <code class="codeph">lob_table</code>, of type <code class="codeph">lob_type</code>, exists. Because this example deals with <code class="codeph">CLOB</code> data, the second argument to <code class="codeph">DBMS_LOB</code>.<code class="codeph">TRIM</code>, the literal <code class="codeph">834004</code>, specifies the number of characters. If the example dealt with <code class="codeph">BLOB</code> data, this argument would be interpreted as a number of bytes.</p>
<div class="infoboxnotealso" id="GUID-9F67DBF8-F49A-4346-B2B2-B7369A849C31__GUID-916DC57A-E5AE-4F2B-A936-0C43973E8A9C">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS600" target="_blank" href="../ARPLS/d_lob.htm#ARPLS600"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> provides full details on using the routines of the <code class="codeph">DBMS_LOB</code> package.</p>
</div>
</div>
<!-- class="section" --></div>
<a id="ADDCI4379"></a>
<div class="props_rev_3"><a id="GUID-F299D3AA-27F1-44A6-B118-FC453C57A0B6"></a>
<h3 id="ADDCI-GUID-F299D3AA-27F1-44A6-B118-FC453C57A0B6" class="sect3">DBMS_LOB Package Routines</h3>
<div>
<div class="tblformal" id="GUID-F299D3AA-27F1-44A6-B118-FC453C57A0B6__BABHCJHA">
<p class="titleintable">Table 6-3 Summary of DBMS_LOB Package Routines</p>
<table class="cellalignment5987" title="Summary of DBMS_LOB Package Routines" summary="Column 1 names the routine, and column 2 provides its description">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6022" id="d15317e2150">Routine</th>
<th class="cellalignment6076" id="d15317e2153">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2158" headers="d15317e2150">
<pre dir="ltr">APPEND()
</pre></td>
<td class="cellalignment6077" headers="d15317e2158 d15317e2153">
<p>Appends the contents of the source <code class="codeph">LOB</code> to the destination <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2171" headers="d15317e2150">
<pre dir="ltr">COPY()
</pre></td>
<td class="cellalignment6077" headers="d15317e2171 d15317e2153">
<p>Copies all or part of the source <code class="codeph">LOB</code> to the destination <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2184" headers="d15317e2150">
<pre dir="ltr">ERASE()
</pre></td>
<td class="cellalignment6077" headers="d15317e2184 d15317e2153">
<p>Erases all or part of a <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2194" headers="d15317e2150">
<pre dir="ltr">LOADFROMFILE()
</pre></td>
<td class="cellalignment6077" headers="d15317e2194 d15317e2153">
<p>Loads <code class="codeph">BFILE</code> data into an internal <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2207" headers="d15317e2150">
<pre dir="ltr">TRIM()
</pre></td>
<td class="cellalignment6077" headers="d15317e2207 d15317e2153">
<p>Trims the <code class="codeph">LOB</code> value to the specified shorter length.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2217" headers="d15317e2150">
<pre dir="ltr">WRITE()
</pre></td>
<td class="cellalignment6077" headers="d15317e2217 d15317e2153">
<p>Write data to the <code class="codeph">LOB</code> from a specified offsets</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2227" headers="d15317e2150">
<pre dir="ltr">GETLENGTH
</pre></td>
<td class="cellalignment6077" headers="d15317e2227 d15317e2153">
<p>Gets the length of the <code class="codeph">LOB</code> value.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2237" headers="d15317e2150">
<pre dir="ltr">INSTR()
</pre></td>
<td class="cellalignment6077" headers="d15317e2237 d15317e2153">
<p>Return the matching position of the <span class="italic">n</span><sup>th</sup> occurrence of the pattern in the <code class="codeph">LOB</code>.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2252" headers="d15317e2150">
<pre dir="ltr">READ()
</pre></td>
<td class="cellalignment6077" headers="d15317e2252 d15317e2153">
<p>Reads data from the <code class="codeph">LOB</code> starting at the specified offset</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2262" headers="d15317e2150">
<pre dir="ltr">SUBSTR()
</pre></td>
<td class="cellalignment6077" headers="d15317e2262 d15317e2153">
<p>Returns part of the <code class="codeph">LOB</code> value starting at the specified offset.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2272" headers="d15317e2150">
<pre dir="ltr">FILECLOSE()
</pre></td>
<td class="cellalignment6077" headers="d15317e2272 d15317e2153">
<p>Closes the file.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2280" headers="d15317e2150">
<pre dir="ltr">FILECLOSEALL()
</pre></td>
<td class="cellalignment6077" headers="d15317e2280 d15317e2153">
<p>Closes all previously opened files.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2287" headers="d15317e2150">
<pre dir="ltr">FILEEXISTS()
</pre></td>
<td class="cellalignment6077" headers="d15317e2287 d15317e2153">
<p>Tests if the file exists on the server.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2294" headers="d15317e2150">
<pre dir="ltr">FILEGETNAME()
</pre></td>
<td class="cellalignment6077" headers="d15317e2294 d15317e2153">
<p>Gets the directory alias and file name.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2301" headers="d15317e2150">
<pre dir="ltr">FILEISOPEN()
</pre></td>
<td class="cellalignment6077" headers="d15317e2301 d15317e2153">
<p>Tests the file was opened using the input <code class="codeph">BFILE</code> locators.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6025" id="d15317e2311" headers="d15317e2150">
<pre dir="ltr">FILEOPEN()
</pre></td>
<td class="cellalignment6077" headers="d15317e2311 d15317e2153">
<p>Opens a file.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADDCI4380"></a>
<div class="props_rev_3"><a id="GUID-E7AE8D33-8513-489D-AB73-640D5B4E659C"></a>
<h3 id="ADDCI-GUID-E7AE8D33-8513-489D-AB73-640D5B4E659C" class="sect3">Trimming a CLOB</h3>
<div>
<div class="example" id="GUID-E7AE8D33-8513-489D-AB73-640D5B4E659C__BABDDJGI">
<p class="titleinexample">Example 6-9 Trimming a CLOB</p>
<pre dir="ltr">PROCEDURE Trim_Clob IS
        clob_loc  CLOB;
BEGIN
 -- get the LOB Locator
       SELECT data into clob_loc  FROM lob_table
       WHERE id  =  179 FOR UPDATE;
   -- call the TRIM Routine
       DBMS_LOB.TRIM(clob_loc, 834004);
       COMMIT;
END;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADDCI4381"></a>
<div class="props_rev_3"><a id="GUID-51396AA7-B3E9-4F4C-B88D-EC5741C8F2FC"></a>
<h2 id="ADDCI-GUID-51396AA7-B3E9-4F4C-B88D-EC5741C8F2FC" class="sect2">LOBs in External Procedures</h2>
<div>
<p><a id="d15317e2425" class="indexterm-anchor"></a><a id="d15317e2429" class="indexterm-anchor"></a>LOB locators can be passed as arguments to an external procedure, as defined in <a href="lobs.htm#GUID-61143C61-B438-437F-99D1-EFC792B54D0E__BABBJIJJ">Example 6-1</a>.</p>
<p>The corresponding C function gets an argument of type <code class="codeph">OCILobLocator</code> *. When the function defined in <a href="lobs.htm#GUID-8F349729-FF06-4ACD-A92D-CCB1449D6E7D__BABHEHIC">Example 6-10</a> is called, it invokes a c routine, <code class="codeph">c_findmin()</code>, with the signature <code class="codeph">int c_findmin(OCILobLocator*)</code>.</p>
<p>The routine <code class="codeph">c_findmin</code> is in a shared library associated with <code class="codeph">DS_Lib</code>. To use the pointer <code class="codeph">OCILobLocator*</code> to get data from the <code class="codeph">LOB</code>, you must reconnect to the database by making a callback.</p>
</div>
<a id="ADDCI4382"></a>
<div class="props_rev_3"><a id="GUID-8F349729-FF06-4ACD-A92D-CCB1449D6E7D"></a>
<h3 id="ADDCI-GUID-8F349729-FF06-4ACD-A92D-CCB1449D6E7D" class="sect3">Defining an External Procedure (PL/SQL)</h3>
<div>
<div class="example" id="GUID-8F349729-FF06-4ACD-A92D-CCB1449D6E7D__BABHEHIC">
<p class="titleinexample">Example 6-10 Defining a PL/SQL External Procedure</p>
<pre dir="ltr">FUNCTION DS_Findmin(data CLOB) RETURN PLS_INTEGER IS EXTERNAL 
                   NAME &#34;c_findmin&#34; LIBRARY DS_Lib LANGUAGE C;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADDCI4383"></a>
<div class="props_rev_3"><a id="GUID-EC06BBB2-B824-46AE-B9B5-E4A668D4CFBB"></a>
<h2 id="ADDCI-GUID-EC06BBB2-B824-46AE-B9B5-E4A668D4CFBB" class="sect2">LOBs and Triggers</h2>
<div>
<p><a id="d15317e2571" class="indexterm-anchor"></a><a id="d15317e2575" class="indexterm-anchor"></a>You cannot write to a <code class="codeph">LOB</code> (<code class="codeph">:old</code> or <code class="codeph">:new</code> value) in any kind of trigger.</p>
<p>In regular triggers, you can read the <code class="codeph">:old</code> value, but you cannot read the <code class="codeph">:new</code> value. In <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers, you can read both the <code class="codeph">:old</code> and the <code class="codeph">:new</code> values.</p>
<p>You cannot specify <code class="codeph">LOB</code> type columns in an <code class="codeph">OF</code> clause, because <code class="codeph">BFILE</code> types can be updated without updating the underlying table on which the trigger is defined.</p>
<p>Using OCI functions or the <code class="codeph">DBMS_LOB</code> package to update <code class="codeph">LOB</code> values or <code class="codeph">LOB</code> attributes of object columns does not fire triggers defined on the table that contains the columns or attributes.</p>
</div>
</div>
<a id="ADDCI4384"></a>
<div class="props_rev_3"><a id="GUID-6CB4DCD4-D752-4AD9-8F4F-D59C847C2775"></a>
<h2 id="ADDCI-GUID-6CB4DCD4-D752-4AD9-8F4F-D59C847C2775" class="sect2">Using Open/Close as Bracketing Operations for Efficient Performance</h2>
<div>
<p>The <code class="codeph">Open/Close</code> functions let you indicate the beginning and end of a series of LOB operations, so that large-scale operations, such updating indexes, can be performed when the <code class="codeph">Close</code> function is called. This means that when the <code class="codeph">Open</code> call is made, the index would not be updated each time the LOB is modified, and that such updating would not resume until the <code class="codeph">Close</code> call.</p>
<p>You do not have to wrap all <code class="codeph">LOB</code> operations inside the <code class="codeph">Open/Close</code> operations, but code block can be very valuable for the following reasons:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you do not wrap <code class="codeph">LOB</code> operations inside an <code class="codeph">Open/Close</code> call, then each modification to the <code class="codeph">LOB</code> implicitly opens and closes the <code class="codeph">LOB,</code> thereby firing all triggers. If you do wrap the <code class="codeph">LOB</code> operations inside a pair of <code class="codeph">Open...Close</code> operations, then the triggers are not fired for each <code class="codeph">LOB</code> modification. Instead, one trigger is fired when the <code class="codeph">Close</code> call is made. Likewise, extensible indexes are not updated until the <code class="codeph">Close</code> call. This means that any extensible indexes on the <code class="codeph">LOB</code> are not valid between the <code class="codeph">Open...Close</code> calls.</p>
</li>
<li>
<p>You must apply this technology carefully because state, which reflects the changes to the <code class="codeph">LOB</code>, is not saved between the <code class="codeph">Open</code> and the <code class="codeph">Close</code> operations. When you have called <code class="codeph">Open</code>, Oracle no longer keeps track of what portions of the <code class="codeph">LOB</code> value were modified, nor of the old and new values of the <code class="codeph">LOB</code> that result from any modifications. The <code class="codeph">LOB</code> value is still updated directly for each <code class="codeph">OCILob*</code> or <code class="codeph">DBMS_LOB</code> operation, and the usual read consistency mechanism is still in place. You may also want extensible indexes on the <code class="codeph">LOB</code> to be updated, as <code class="codeph">LOB</code> modifications are made because the extensible <code class="codeph">LOB</code> indexes are always valid and may be used at any time.</p>
</li>
<li>
<p>The API enables you to determine if the <code class="codeph">LOB</code> is open. In all cases, openness is associated with the <code class="codeph">LOB</code>, not the locator. The locator does not save any state information.</p>
</li>
</ul>
</div>
<a id="ADDCI4385"></a>
<div class="props_rev_3"><a id="GUID-57359987-41A2-4450-B685-33AA1AB8E5BC"></a>
<h3 id="ADDCI-GUID-57359987-41A2-4450-B685-33AA1AB8E5BC" class="sect3">Errors and Restrictions Regarding Open/Close Operations</h3>
<div>
<p>It is an error to commit the transaction before closing all previously opened <code class="codeph">LOB</code>s. At transaction rollback time, all <code class="codeph">LOB</code>s that are still open are discarded, which means that they are not closed, which fires the triggers.</p>
<p>It is an error to <code class="codeph">Open/Close</code> the same <code class="codeph">LOB</code> twice, either with different locators or with the same locator. It is an error to close a <code class="codeph">LOB</code> that has not been opened.</p>
<p><a href="lobs.htm#GUID-47D73CF4-8AC8-4A86-98CC-D81396E63E1E__BABGDIAJ">Example 6-11</a> assumes that <code class="codeph">loc1</code> is refers to an open <code class="codeph">LOB</code>, and is assigned to <code class="codeph">loc2</code>. If <code class="codeph">loc2</code> is subsequently used to modify the <code class="codeph">LOB</code> value, the modification is grouped with <code class="codeph">loc1</code>&#39;s modifications. This means that there is only one entry in the <code class="codeph">LOB</code> manager&#39;s state, not one for each locator. When the <code class="codeph">LOB</code> is closed, either through <code class="codeph">loc1</code> or <code class="codeph">loc2</code>, the triggers are fired, so all updates made to the <code class="codeph">LOB</code> through either locator are committed. After the close of the <code class="codeph">LOB</code>, if the user tries to use either locator to modify the <code class="codeph">LOB</code>, the operation performs an implicit <code class="codeph">Open()</code> and <code class="codeph">Close()</code>, as <code class="codeph">Open() ...</code> <span class="italic"><code class="codeph">operation</code></span> <code class="codeph">... Close()</code>. Note that consistent read is still maintained for each locator. Remember that it is the <code class="codeph">LOB</code>, not the locator, that is opened and closed. No matter how many copies of the locator are made, the triggers for the <code class="codeph">LOB</code> are fired only one time on the first <code class="codeph">Close()</code> call.</p>
</div>
<a id="ADDCI4386"></a>
<div class="props_rev_3"><a id="GUID-47D73CF4-8AC8-4A86-98CC-D81396E63E1E"></a>
<h4 id="ADDCI-GUID-47D73CF4-8AC8-4A86-98CC-D81396E63E1E" class="sect4">Working with Open() and Close() Code Blocks</h4>
<div>
<div class="example" id="GUID-47D73CF4-8AC8-4A86-98CC-D81396E63E1E__BABGDIAJ">
<p class="titleinexample">Example 6-11 Using Open() and Close() Code Block</p>
<pre dir="ltr">open (loc1);
loc2 := loc1;
write (loc1);
write (loc2); 
open (loc2);  /* error because the LOB is open */
close (loc1); /* triggers are fired and all LOB updates made before this 
                 statement by any locator are incorporated in the extensible
                 index */
write (loc2); /* implicit open, write, implicit close */
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5977">
<tr>
<td class="cellalignment5984">
<table class="cellalignment5982">
<tr>
<td class="cellalignment5981"><a href="c_cpp_java.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5981"><a href="ext_idx_frmwork.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5986">
<table class="cellalignment5980">
<tr>
<td class="cellalignment5981"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5981"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5981"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5981"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5981"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5981"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
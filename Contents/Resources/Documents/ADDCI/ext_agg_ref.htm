<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/User-Defined%20Aggregate%20Functions%20Interface"></a><title>User-Defined Aggregate Functions Interface</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="ODCIAggregateDelete, ODCIAggregate interface, aggregate function, user-defined, ODCIAggregateInitialize, ODCIAggregateIterate, ODCIAggregateMerge, ODCIAggregateTerminate, ODCIAggregateWrapContext"/>
<meta name="dcterms.created" content="2017-06-09T01:57:02Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Data Cartridge Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E15882-06"/>
<meta name="dcterms.isVersionOf" content="ADDCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ext_opt_ref.htm" title="Previous" type="text/html"/>
<link rel="Next" href="pipe_paral_tbl_ref.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E15882-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F"></a> <span id="PAGE" style="display:none;">30/33</span> <!-- End Header -->
<a id="ADDCI4220"></a>
<h1 id="ADDCI-GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F" class="sect1"><span class="enumeration_chapter">22</span> User-Defined Aggregate Functions Interface</h1>
<div>
<p><a id="d79671e50" class="indexterm-anchor"></a><a id="d79671e52" class="indexterm-anchor"></a><a id="d79671e54" class="indexterm-anchor"></a>Consider the routines that must be implemented to define a user-defined aggregate function. The routines are implemented as methods in an object type. Then the <a id="d79671e59" class="indexterm-anchor"></a><code class="codeph">CREATE FUNCTION</code> statement is used to actually create the aggregate function.</p>
<div class="infoboxnotealso" id="GUID-76049AC3-03F2-461A-8E5F-EC364AF2169F__GUID-53802B31-41D4-4E9A-8674-574297789903">
<p class="notep1">See Also:</p>
<p><a href="aggr_functions.htm#GUID-D7E77319-DC23-4CF0-B746-27ED7BE9240D">Using User-Defined Aggregate Functions</a></p>
</div>
</div>
<a id="ADDCI5122"></a><a id="ADDCI5121"></a>
<div class="props_rev_3"><a id="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63"></a>
<h2 id="ADDCI-GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63" class="sect2">User-Defined Aggregate Functions</h2>
<div>
<div class="section">
<p>The methods described here are implemented as methods in an object type. The <a id="d79671e124" class="indexterm-anchor"></a><code class="codeph">CREATE FUNCTION</code> statement is used to actually create the aggregate function. <a href="ext_agg_ref.htm#GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63__BABGDHGJ" title="Column 1 lists the function; Column 2 provides its description.">Table 21-1</a> summarizes these functions.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-532B9DF3-92C7-410D-AE28-8CB70D596D63__BABGDHGJ">
<p class="titleintable">Table 21-1 Summary of User-Defined Aggregate Functions</p>
<table class="cellalignment5987" title="Summary of User-Defined Aggregate Functions" summary="Column 1 lists the function; Column 2 provides its description.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6102" id="d79671e144">Function</th>
<th class="cellalignment6103" id="d79671e147">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6104" id="d79671e152" headers="d79671e144">
<p><a href="ext_agg_ref.htm#GUID-561F78C7-15D4-441D-8473-5F9D73AD310A">ODCIAggregateDelete()</a></p>
</td>
<td class="cellalignment6105" headers="d79671e152 d79671e147">
<p>Removes an input value from the current group.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6104" id="d79671e161" headers="d79671e144">
<p><a href="ext_agg_ref.htm#GUID-CECC6140-A457-46BF-AC78-D29243758111">ODCIAggregateInitialize()</a></p>
</td>
<td class="cellalignment6105" headers="d79671e161 d79671e147">
<p>Initializes the aggregation context and instance of the implementation object type, and returns it as an <code class="codeph">OUT</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6104" id="d79671e173" headers="d79671e144">
<p><a href="ext_agg_ref.htm#GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4">ODCIAggregateIterate()</a></p>
</td>
<td class="cellalignment6105" headers="d79671e173 d79671e147">
<p>Iterates through input rows by processing the input values, updating and then returning the aggregation context.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6104" id="d79671e182" headers="d79671e144">
<p><a href="ext_agg_ref.htm#GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94">ODCIAggregateMerge()</a></p>
</td>
<td class="cellalignment6105" headers="d79671e182 d79671e147">
<p>Merges two aggregation contexts into a single object instance during either serial or parallel evaluation of the user-defined aggregate.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6104" id="d79671e191" headers="d79671e144">
<p><a href="ext_agg_ref.htm#GUID-881F8137-350A-4C42-994C-490D34C5ECE7">ODCIAggregateTerminate()</a></p>
</td>
<td class="cellalignment6105" headers="d79671e191 d79671e147">
<p>Calculates the result of the aggregate computation and performs all necessary cleanup, such as freeing memory.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6104" id="d79671e200" headers="d79671e144">
<p><a href="ext_agg_ref.htm#GUID-424482C3-0051-4EE8-9E36-6AEE141F8370">ODCIAggregateWrapContext()</a></p>
</td>
<td class="cellalignment6105" headers="d79671e200 d79671e147">
<p>Integrates all external pieces of the current aggregation context to make the context self-contained.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="ADDCI5124"></a><a id="ADDCI5125"></a><a id="ADDCI5123"></a>
<div class="props_rev_3"><a id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A"></a>
<h3 id="ADDCI-GUID-561F78C7-15D4-441D-8473-5F9D73AD310A" class="sect3">ODCIAggregateDelete()</h3>
<div>
<div class="section">
<p>Removes an input value from the current group. The routine is invoked by Oracle by passing in the aggregation context and the value of the input to be removed during It processes the input value, updates the aggregation context, and returns the context. This is an optional routine and is implemented as a member method.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">MEMBER FUNCTION ODCIAggregateDelete(
   self IN OUT &lt;impltype&gt;, 
   val &lt;inputdatatype&gt;) 
RETURN NUMBER
</pre></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-561F78C7-15D4-441D-8473-5F9D73AD310A__GUID-63198801-26AD-49ED-A4D8-D7F58B9D47C6">
<table class="cellalignment5987" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6062" id="d79671e291">Parameter</th>
<th class="cellalignment6088" id="d79671e294">IN/OUT</th>
<th class="cellalignment6089" id="d79671e297">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e302" headers="d79671e291">
<pre dir="ltr">self
</pre></td>
<td class="cellalignment6090" headers="d79671e302 d79671e294">
<pre dir="ltr">IN OUT
</pre></td>
<td class="cellalignment6091" headers="d79671e302 d79671e297">
<p>As input, the value of the current aggregation context; as output, the updated value.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e312" headers="d79671e291">
<pre dir="ltr">val
</pre></td>
<td class="cellalignment6090" headers="d79671e312 d79671e294">
<pre dir="ltr">IN
</pre></td>
<td class="cellalignment6091" headers="d79671e312 d79671e297">
<p>The input value that is being removed from the current group.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Returns</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADDCI5127"></a><a id="ADDCI5128"></a><a id="ADDCI5126"></a>
<div class="props_rev_3"><a id="GUID-CECC6140-A457-46BF-AC78-D29243758111"></a>
<h3 id="ADDCI-GUID-CECC6140-A457-46BF-AC78-D29243758111" class="sect3">ODCIAggregateInitialize()</h3>
<div>
<div class="section">
<p>Initializes the aggregation context and instance of the implementation object type, and returns it as an <code class="codeph">OUT</code> parameter. Implement this routine as a static method.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">STATIC FUNCTION ODCIAggregateInitialize(
   actx IN OUT &lt;impltype&gt;) 
RETURN NUMBER
</pre></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-CECC6140-A457-46BF-AC78-D29243758111__GUID-49732FDF-C051-4E75-AA78-E6D9BC733F09">
<table class="cellalignment5987" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6062" id="d79671e418">Parameter</th>
<th class="cellalignment6088" id="d79671e421">In/Out</th>
<th class="cellalignment6089" id="d79671e424">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e429" headers="d79671e418">
<pre dir="ltr">actx
</pre></td>
<td class="cellalignment6090" headers="d79671e429 d79671e421">
<pre dir="ltr">IN OUT
</pre></td>
<td class="cellalignment6091" headers="d79671e429 d79671e424">
<p>The aggregation context that is initialized by the routine. This value is <code class="codeph">NULL</code> for regular aggregation cases. In aggregation over windows, <code class="codeph">actx</code> is the context of the previous window. This object instance is passed in as a parameter to the next aggregation routine.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Returns</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADDCI5130"></a><a id="ADDCI5131"></a><a id="ADDCI5129"></a>
<div class="props_rev_3"><a id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4"></a>
<h3 id="ADDCI-GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4" class="sect3">ODCIAggregateIterate()</h3>
<div>
<div class="section">
<p>Iterates through input rows by processing the input values, updating and then returning the aggregation context. Invoked for each value, including <code class="codeph">NULL</code>s. This is a mandatory routine and is implemented as a member method.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">MEMBER FUNCTION ODCIAggregateIterate(
   self IN OUT &lt;impltype&gt;, 
   val &lt;inputdatatype&gt;) 
RETURN NUMBER
</pre></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-6F703759-4FA6-4120-BEC3-F5BD2A576BF4__GUID-1CB59A24-7E07-4A7E-AFE0-8E787D3B7F22">
<table class="cellalignment5987" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6062" id="d79671e542">Parameter</th>
<th class="cellalignment6088" id="d79671e545">IN/OUT</th>
<th class="cellalignment6089" id="d79671e548">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e553" headers="d79671e542">
<pre dir="ltr">self
</pre></td>
<td class="cellalignment6090" headers="d79671e553 d79671e545">
<pre dir="ltr">IN OUT
</pre></td>
<td class="cellalignment6091" headers="d79671e553 d79671e548">
<p>As input, the value of the current aggregation context; as output, the updated value.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e563" headers="d79671e542">
<pre dir="ltr">val
</pre></td>
<td class="cellalignment6090" headers="d79671e563 d79671e545">
<pre dir="ltr">IN
</pre></td>
<td class="cellalignment6091" headers="d79671e563 d79671e548">
<p>The input value that is being aggregated.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Returns</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADDCI5133"></a><a id="ADDCI5134"></a><a id="ADDCI5132"></a>
<div class="props_rev_3"><a id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94"></a>
<h3 id="ADDCI-GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94" class="sect3">ODCIAggregateMerge()</h3>
<div>
<div class="section">
<p>Merges two aggregation contexts into a single object instance during either serial or parallel evaluation of the user-defined aggregate. This is a mandatory routine and is implemented as a member method.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">MEMBER FUNCTION ODCIAggregateMerge(
   self IN OUT &lt;impltype&gt;, 
   ctx2 IN &lt;impltype&gt;)
RETURN NUMBER
</pre></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-12D1C061-ECF3-4133-AA24-2C7E2036DF94__GUID-FD2DB9B5-3D3A-441F-AB0C-024EABF2EE23">
<table class="cellalignment5987" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6062" id="d79671e666">Parameter</th>
<th class="cellalignment6088" id="d79671e669">IN/OUT</th>
<th class="cellalignment6089" id="d79671e672">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e677" headers="d79671e666">
<pre dir="ltr">self
</pre></td>
<td class="cellalignment6090" headers="d79671e677 d79671e669">
<pre dir="ltr">IN OUT
</pre></td>
<td class="cellalignment6091" headers="d79671e677 d79671e672">
<p>On input, the value of the first aggregation context; on output, the resulting value of the two merged aggregation contexts.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e687" headers="d79671e666">
<pre dir="ltr">ctx2
</pre></td>
<td class="cellalignment6090" headers="d79671e687 d79671e669">
<pre dir="ltr">IN
</pre></td>
<td class="cellalignment6091" headers="d79671e687 d79671e672">
<p>The value of the second aggregation context.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Returns</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADDCI5136"></a><a id="ADDCI5137"></a><a id="ADDCI5135"></a>
<div class="props_rev_3"><a id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7"></a>
<h3 id="ADDCI-GUID-881F8137-350A-4C42-994C-490D34C5ECE7" class="sect3">ODCIAggregateTerminate()</h3>
<div>
<div class="section">
<p>Calculates the result of the aggregate computation and performs all necessary cleanup, such as freeing memory. Invoked by Oracle as the last step of aggregate computation. This is a mandatory routine and is implemented as a member method.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">MEMBER FUNCTION ODCIAggregateTerminate(
   self IN &lt;impltype&gt;, 
   ReturnValue OUT &lt;return_type&gt;, 
   flags IN number) 
RETURN NUMBER
</pre></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-8C9C5CFD-BE1F-433B-8033-CA87FA633A39">
<table class="cellalignment5987" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6062" id="d79671e790">Parameter</th>
<th class="cellalignment6088" id="d79671e793">IN/OUT</th>
<th class="cellalignment6089" id="d79671e796">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e801" headers="d79671e790">
<pre dir="ltr">self
</pre></td>
<td class="cellalignment6090" headers="d79671e801 d79671e793">
<pre dir="ltr">IN
</pre></td>
<td class="cellalignment6091" headers="d79671e801 d79671e796">
<p>The value of the aggregation context.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e811" headers="d79671e790">
<pre dir="ltr">ctx2
</pre></td>
<td class="cellalignment6090" headers="d79671e811 d79671e793">
<pre dir="ltr">OUT
</pre></td>
<td class="cellalignment6091" headers="d79671e811 d79671e796">
<p>The resultant aggregation value.</p>
</td>
</tr>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e821" headers="d79671e790">
<pre dir="ltr">flags
</pre></td>
<td class="cellalignment6090" headers="d79671e821 d79671e793">
<pre dir="ltr">IN
</pre></td>
<td class="cellalignment6091" headers="d79671e821 d79671e796">
<p>A bit vector that indicates various options. A set bit of <code class="codeph">ODCI_AGGREGATE_REUSE_CTX</code> indicates that the context is reused and any external context should not be freed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Returns</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.</p>
<div class="infoboxnotealso" id="GUID-881F8137-350A-4C42-994C-490D34C5ECE7__GUID-5BEFE886-6C5F-40E0-BF76-985CC99666D3">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="aggr_functions.htm#GUID-FD1CCD4C-A2B6-47EE-85E9-20BC01C69949">Reuse of Aggregation Context for Analytic Functions</a>&#34;</span> for details on setting the <code class="codeph">ODCI_AGGREGATE_REUSE_CTX</code> flag bit.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADDCI5139"></a><a id="ADDCI5140"></a><a id="ADDCI5138"></a>
<div class="props_rev_3"><a id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370"></a>
<h3 id="ADDCI-GUID-424482C3-0051-4EE8-9E36-6AEE141F8370" class="sect3">ODCIAggregateWrapContext()</h3>
<div>
<div class="section">
<p>Integrates all external pieces of the current aggregation context to make the context self-contained. Invoked by Oracle if the user-defined aggregate has been declared to have external context and is transmitting partial aggregates from slave processes. This is an optional routine and is implemented as a member method.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">MEMBER FUNCTION ODCIAggregateWrapContext(
   self IN OUT &lt;impltype&gt;) 
RETURN NUMBER
</pre></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-93846762-1570-4755-89AF-6736765F64D5">
<table class="cellalignment5987" summary="First column lists a parameter; second column indicates the IN or OUT binding of the parameter, the third column describes the parameter.">
<thead>
<tr class="cellalignment5978">
<th class="cellalignment6062" id="d79671e938">Parameter</th>
<th class="cellalignment6088" id="d79671e941">IN/OUT</th>
<th class="cellalignment6089" id="d79671e944">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5978">
<td class="cellalignment6063" id="d79671e949" headers="d79671e938">
<pre dir="ltr">self
</pre></td>
<td class="cellalignment6090" headers="d79671e949 d79671e941">
<pre dir="ltr">IN
</pre></td>
<td class="cellalignment6091" headers="d79671e949 d79671e944">
<p>On input, the value of the current aggregation context; on output, the self-contained combined aggregation context.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Returns</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ODCIConst.Success</code> on success, or <code class="codeph">ODCIConst.Error</code> on error.</p>
<div class="infoboxnotealso" id="GUID-424482C3-0051-4EE8-9E36-6AEE141F8370__GUID-0F1B5745-B356-4F55-BE8D-966826ED0E57">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="aggr_functions.htm#GUID-E6D8A0B9-540C-41A7-B031-09958739E940">Handling Large Aggregation Contexts</a>&#34;</span> for more information on using this function</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5977">
<tr>
<td class="cellalignment5984">
<table class="cellalignment5982">
<tr>
<td class="cellalignment5981"><a href="ext_opt_ref.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5981"><a href="pipe_paral_tbl_ref.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5986">
<table class="cellalignment5980">
<tr>
<td class="cellalignment5981"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5981"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5981"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5981"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5981"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5981"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
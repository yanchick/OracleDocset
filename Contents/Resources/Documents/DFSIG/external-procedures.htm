<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5347"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/External%20Procedures"></a><title>External Procedures</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="Loading External Procedures"/>
<meta name="dcterms.created" content="2017-01-22T21:16:43Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Installation and Administration Guide"/>
<meta name="dcterms.identifier" content="E67706-02"/>
<meta name="dcterms.isVersionOf" content="DFSIG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="database-applications.htm" title="Previous" type="text/html"/>
<link rel="Next" href="globalization-support.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E67706-02.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-C61A9DAF-FE6B-4B0E-B6D7-BA61B0ECE0D6"></a> <span id="PAGE" style="display:none;">22/30</span> <!-- End Header -->
<h1 id="DFSIG-GUID-C61A9DAF-FE6B-4B0E-B6D7-BA61B0ECE0D6" class="sect1"><span class="enumeration_chapter">14</span> External Procedures</h1>
<div>
<p>This chapter describes how to create an environment on BS2000, where <a id="d32568e19" class="indexterm-anchor"></a>external procedure calls can operate. It complements the chapter about External Procedures in the <a class="olink ADFNS321" target="_blank" href="../ADFNS/adfns_design.htm#ADFNS321"><span class="italic">Oracle Database Development Guide</span></a>.</p>
</div>
<a id="DFSIG274"></a>
<div class="props_rev_3"><a id="GUID-C5A57823-C811-4352-9271-117313E9071D"></a>
<h2 id="DFSIG-GUID-C5A57823-C811-4352-9271-117313E9071D" class="sect2">Loading External Procedures</h2>
<div>
<div class="section">
<p>This section complements the corresponding part in <a class="olink ADFNS1404" target="_blank" href="../ADFNS/adfns_externproc.htm#ADFNS1404"><span><cite>Oracle Database Development Guide</cite></span></a>.</p>
<p>Perform the following steps to load external procedures:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Set up the environment.</span>
<div>
<p>An external procedure does not run in the same process and address space as the caller. Oracle creates separate processes for them to operate in a safe and secure manner. Oracle Net Services features are used for this purpose. The user must provide appropriate Oracle Net Services parameter files. An example of how this works is documented in this section.</p>
<p>The <code>listener.ora</code> file must have the following entry:</p>
<pre dir="ltr">(SID_DESC = (SID_NAME = ep_agt1)
            (ENVS = EXTPROC_DLLS=ANY)
            (ORACLE_SID = <span class="italic">sid_of_your_database</span>)
            (PROGRAM = EXTPROC)
)
</pre>
<p>The <code>tnsnames.ora</code> file must have the following entry:</p>
<pre dir="ltr">extproc_connection_data = (DESCRIPTION =(ADDRESS =(PROTOCOL=ipc)
(KEY = <span class="italic">sid_of_your_database</span>)(CONNECT_DATA =(PRESENTATION=RO)
(SID = ep_agt1)))
</pre>
<p>Now, you can start a listener.</p>
<div class="infoboxnotealso" id="GUID-C5A57823-C811-4352-9271-117313E9071D__GUID-7877D0B0-4B6D-4DD1-9559-571EB566AF4D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADFNS1404" target="_blank" href="../ADFNS/adfns_externproc.htm#ADFNS1404"><span><cite>Oracle Database Development Guide</cite></span></a></p>
</li>
<li>
<p><a class="olink ADDCI4342" target="_blank" href="../ADDCI/c_cpp_java.htm#ADDCI4342"><span><cite>Oracle Database Data Cartridge Developer&#39;s Guide</cite></span></a></p>
</li>
<li>
<p><span class="italic">Oracle Database Net Services</span> documentation set</p>
</li>
</ul>
</div>
</div>
</li>
<li class="stepexpand"><span>Identify the DLL.</span>
<div>
<p>A DLL in the BS2000 environment is a BS2000 LMS library containing the functions called as external procedures. When <code>EXTPROC</code> is loaded, these functions are dynamically linked to the program.</p>
<p>Use the following command to identify your library to Oracle:</p>
<p><code>CREATE LIBRARY <span class="codeinlineitalic">my_c_library</span> AS &#39;$<span class="codeinlineitalic">myuserid</span>.<span class="codeinlineitalic">my-modlib</span>&#39;;</code></p>
<p>The external C routine must be compiled and the generated LLM must be stored in the LMS library. If you set the <code>MODULE-PROPERTIES</code> option <code>LOWER-CASE-NAMES</code>=<code>*NO</code>, during compilation with the BS2000 C compiler CPP, then all lowercase letters in the entry names are converted to uppercase.</p>
<p>Also, if you set the <code>MODULE-PROPERTIES</code> option <code>SPECIAL-CHARACTERS</code>=<code>*CONVERT-TO-DOLLAR</code>, then all underscores (<code>_</code>) in the entry names are converted to dollar signs (<code>$</code>), which must be considered when publishing the external procedure.</p>
</div>
</li>
<li class="stepexpand"><span>Publishing and running external procedures are similar to the description in <a class="olink ADFNS1405" target="_blank" href="../ADFNS/adfns_externproc.htm#ADFNS1405"><span><cite>Oracle Database Development Guide</cite></span></a>. You can find the result messages about the execution of the external procedure in the <code>L</code>.<span class="italic"><code>sid</code></span>.<code>EXTP</code>.<code>S</code><code>YSOUT</code>.<span class="italic"><code>tsn</code></span> file.</span></li>
</ol>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4264">
<tr>
<td class="cellalignment4271">
<table class="cellalignment4269">
<tr>
<td class="cellalignment4268"><a href="database-applications.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4268"><a href="globalization-support.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4273">
<table class="cellalignment4267">
<tr>
<td class="cellalignment4268"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4268"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4268"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4268"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4268"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4268"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
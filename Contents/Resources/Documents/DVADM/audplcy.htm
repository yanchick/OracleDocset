<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5961"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Auditing%20Oracle%20Database%20Vault"></a><title>Auditing Oracle Database Vault</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can audit activities in Oracle Database Vault, such as changes to policy configurations."/>
<meta name="keywords" content="auditing policies, about, unified audit trail, how it works with Database Vault, auditing, protecting with a realm, Oracle Label Security (OLS), audit events, custom, sessions, factors, secure application roles, audit event, custom, rules sets, realms, audit events, events that are tracked, AUDIT_TRAIL$ system table, format, affected by AUDIT_TRAIL initialization parameter, custom events, audit trail, log files, Database Vault log files, archiving Database Vault audit trail, purging Database Vault audit trail, archiving, Oracle Data Pump, archiving the Oracle Database Vault audit trail with, purging Database Vault audit trail, purging, Oracle Database audit settings, DVF account, auditing policy, LBACSYS account, DVF schema, DVSYS schema, LBACSYS schema"/>
<meta name="dcterms.created" content="2017-06-05T10:50:14Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49109-12"/>
<meta name="dcterms.isVersionOf" content="DVADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="reports.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dvdisabl.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49109-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92"></a> <span id="PAGE" style="display:none;">29/34</span> <!-- End Header -->
<a id="DVADM011"></a>
<h1 id="DVADM-GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" class="sect1"><span class="enumeration_appendix">A</span> Auditing Oracle Database Vault</h1>
<div>
<p>You can audit activities in Oracle Database Vault, such as changes to policy configurations.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="audplcy.htm#GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2" title="All activities in Oracle Database Vault can be audited, including Database Vault administrator activities.">About Auditing in Oracle Database Vault</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C" title="By default, AUDSYS schema, which contains the unified audit trail, is not protected by a realm.">Protection of the Unified Audit Trail in an Oracle Database Vault Environment</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA" title="Oracle Database Vault audit events track activities such as whether an action attempted on a realm was successful.">Oracle Database Vault Specific Audit Events</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="If you have not migrated to unified auditing, you should periodically archive and purge the Oracle Database Vault audit trail.">Archiving and Purging the Oracle Database Vault Audit Trail</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC" title="When you install Oracle Database Vault, it creates several AUDIT settings in the database.">Oracle Database Audit Settings Created for Oracle Database Vault</a></p>
</li>
</ul>
</div>
<a id="DVADM71187"></a>
<div class="props_rev_3"><a id="GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2"></a>
<h2 id="DVADM-GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2" class="sect2">About Auditing in Oracle Database Vault</h2>
<div>
<p>All activities in Oracle Database Vault can be audited, including Database Vault administrator activities.</p>
<p>Optionally, you can audit individual policies that you create for realms, rule sets, and factors. The audit indicates if the user&#39;s action succeeded (that is, the policy enabled the user to accomplish a task) or if the user&#39;s action failed (the policy was violated). These actions are written to audit logs, whose contents you can find either by querying the appropriate data dictionary views, or running the reports described in <a href="reports.htm#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault provides reports that track activities, such as the Database Vault configuration settings.">Oracle Database Vault Reports</a>.</p>
<p>All configuration changes made to Database Vault are mandatorily audited, including actions of unprivileged users who attempt to modify Database Vault policies.</p>
<p>When you install a new database and configure it to use Oracle Database Vault, then by default it uses a mixed-mode environment, that is, a mixture of unified auditing and pre-migrated auditing. If you have upgraded from previous release, then Database Vault uses the auditing that was available from that release.</p>
<p>Before you migrate to a full unified auditing environment, you can create audit policies as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Using the Database Vault APIs:</span> That is, you use the <code class="codeph">DBMS_MACADM</code> PL/SQL package or the Database Vault pages in Enterprise Manager. In this case, the audit records are written to the Database Vault audit trail, which is stored in the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table. You can query the <code class="codeph">DVSYS.DV$CONFIGURATION_AUDIT</code> and <code class="codeph">DVSYS.DV$ENFORCEMENT_AUDIT</code> views for these audit records.</p>
</li>
<li>
<p><span class="bold">Using the unified audit policy SQL statements:</span> These statements are the <code class="codeph">CREATE AUDIT POLICY</code>, <code class="codeph">ALTER AUDIT POLICY</code>, <code class="codeph">DROP AUDIT POLICY</code>, <code class="codeph">AUDIT</code>, and <code class="codeph">NO AUDIT</code> statements. They are written to the unified audit trail, which is captured by the <code class="codeph">UNIFIED_AUDIT_TRAIL</code>, <code class="codeph">SYS.DV$CONFIGURATION_AUDIT</code>, and <code class="codeph">SYS.DV$ENFORCEMENT_AUDIT</code> data dictionary views.</p>
</li>
</ul>
<p>When you migrate to unified auditing, then the auditing features in the Database Vault APIs are no longer effective. You should archive and purge these audit records, as described in <a href="audplcy.htm#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="If you have not migrated to unified auditing, you should periodically archive and purge the Oracle Database Vault audit trail.">Archiving and Purging the Oracle Database Vault Audit Trail</a>. From then on, you can manage Database Vault audit policies through the unified audit policy PL/SQL statements.</p>
<p>Except where noted, the remaining sections of this chapter describe how Database Vault auditing works in a non-unified or mixed mode auditing environment.</p>
<div class="infoboxnotealso" id="GUID-63C81158-5324-41C4-9931-B0E6A06EDAB2__GUID-00495594-BE00-44D7-9CDF-6590F6197333">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink DBSEG419" target="_blank" href="../DBSEG/audit_config.htm#DBSEG419"><span><cite>Oracle Database Security Guide</cite></span></a> for information about how unified auditing works in Oracle Database Vault and how to create unified audit policies</p>
</li>
<li>
<p><a href="audplcy.htm#GUID-DD4D7B05-8C12-4696-8231-71E769014EED" title="If you do not use unified auditing, then Oracle Database Vault writes audit records to the DVSYS.AUDIT_TRAIL$ table.">Oracle Database Vault Audit Trail Record Format</a></p>
</li>
<li>
<p>The following data dictionary views, which are specific to Database Vault unified auditing:</p>
<p><a href="views.htm#GUID-98E3B6EB-C6C7-4917-AB78-C93B9A0645AE" title="The DVSYS.DV$CONFIGURATION_AUDIT data dictionary view captures DVSYS.AUDIT_TRAIL$ table audit trail records.">DVSYS.DV$CONFIGURATION_AUDIT View</a></p>
<p><a href="views.htm#GUID-00538A9F-4193-414A-B88E-FB9C072F4E13" title="The DVSYS.DV$ENFORCEMENT_AUDIT data dictionary view provides information about enforcement-related audits from the DVSYS.AUDIT_TRAIL$ table.">DVSYS.DV$ENFORCEMENT_AUDIT View</a></p>
</li>
<li>
<p><a class="olink UPGRD52810" target="_blank" href="../UPGRD/afterup.htm#UPGRD52810"><span><cite>Oracle Database Upgrade Guide</cite></span></a> to migrate your database to unified auditing</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DVADM71234"></a>
<div class="props_rev_3"><a id="GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C"></a>
<h2 id="DVADM-GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C" class="sect2">Protection of the Unified Audit Trail in an Oracle Database Vault Environment</h2>
<div>
<p>By default, <code class="codeph">AUDSYS</code> schema, which contains the unified audit trail, is not protected by a realm.</p>
<p>A realm is not necessary for the <code class="codeph">AUDSYS</code> schema because the information it contains is internal and cannot be viewed in the same way that other database objects (such as tables or views) can be viewed in a schema. To protect the unified audit trail, create a realm around the <code class="codeph">AUDIT_ADMIN</code> and <code class="codeph">AUDIT_VIEWER</code> roles. This way, you can control who can grant these roles.</p>
<div class="infoboxnotealso" id="GUID-1B46C5B8-1C4D-4552-B75C-F294A48CE55C__GUID-3FECA0A4-44D9-4B48-A931-F7217E1161A5">
<p class="notep1">See Also:</p>
<p><a href="cfrealms.htm#GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B" title="To enable realm protection, you create the realm and configure it to include realm-secured objects, roles, and authorizations.">Creating a Realm</a></p>
</div>
</div>
</div>
<a id="DVADM71054"></a>
<div class="props_rev_3"><a id="GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA"></a>
<h2 id="DVADM-GUID-30A8337F-DEBA-42CE-B845-35B090C64FAA" class="sect2">Oracle Database Vault Specific Audit Events</h2>
<div>
<p>Oracle Database Vault audit events track activities such as whether an action attempted on a realm was successful.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="audplcy.htm#GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9" title="Oracle Database Vault uses audit events to track configuration activities.">Oracle Database Vault Policy Audit Events</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-DD4D7B05-8C12-4696-8231-71E769014EED" title="If you do not use unified auditing, then Oracle Database Vault writes audit records to the DVSYS.AUDIT_TRAIL$ table.">Oracle Database Vault Audit Trail Record Format</a></p>
</li>
</ul>
</div>
<a id="DVADM71055"></a>
<div class="props_rev_3"><a id="GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9"></a>
<h3 id="DVADM-GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9" class="sect3">Oracle Database Vault Policy Audit Events</h3>
<div>
<p>Oracle Database Vault uses audit events to track configuration activities.</p>
<p>These activities are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Realm Audit.</span> You can audit both successful and failed actions, based on the auditing option that you set when you created the realm. The exception to this is actions performed by the schema owner.</p>
</li>
<li>
<p><span class="bold">Rule Set Audit.</span> Audits the rule set processing results. You can audit both successful and failed processing. Realm authorizations can be managed using rule sets. You can audit the rule set processing results. Factor assignments and secure application roles audits can be managed using a rule set.</p>
</li>
<li>
<p><span class="bold">Factor Audit.</span> You can audit both successful and failed factor processing. For failed factor processing, you can audit on all or any of the following events: Retrieval Error, Retrieval Null, Validation Error, Validation False, Trust Level Null, or Trust Level Less Than Zero.</p>
</li>
<li>
<p><span class="bold">Oracle Label Security Session Initialization Failed.</span> Audits instances where the Oracle Label Security session fails to initialize.</p>
</li>
<li>
<p><span class="bold">Oracle Label Security Attempt to Upgrade Session Label Failed.</span> Audits instances where the Oracle Label Security component prevents a session from setting a label that exceeds the maximum session label.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-86CE5DCA-E8E8-4A7D-A54F-EFBFCCFD76B9__GUID-FE4CE865-E586-4E43-905C-60707874FA4F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfgfact.htm#GUID-D4BA8031-3ED5-4274-AA21-E6B7B7B1076E" title="Under Audit Options, you can generate an audit trail if you are not using a unified audit environment.">Setting Audit Options for a Factor</a> for information about factors</p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a></p>
</li>
<li>
<p><a href="reports.htm#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault provides reports that track activities, such as the Database Vault configuration settings.">Oracle Database Vault Reports</a> for information about viewing the audit reports</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DVADM71057"></a><a id="DVADM71056"></a>
<div class="props_rev_3"><a id="GUID-DD4D7B05-8C12-4696-8231-71E769014EED"></a>
<h3 id="DVADM-GUID-DD4D7B05-8C12-4696-8231-71E769014EED" class="sect3">Oracle Database Vault Audit Trail Record Format</h3>
<div>
<p>If you do not use unified auditing, then Oracle Database Vault writes audit records to the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table.</p>
<p>These audit records are not part of the Oracle Database audit trail, and how auditing is enabled in the database has no effect how Oracle Database Vault collects its audit data in the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table. In fact, even if auditing has been disabled in Oracle Database, then the Oracle Database Vault audit functionality continues to write to the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table.</p>
<p>Users who have been granted the <code class="codeph">DV_OWNER</code>, <code class="codeph">DV_ADMIN</code>, <code class="codeph">DV_SECANALYST</code> or <code class="codeph">DV_MONITOR</code> role can directly query the <code class="codeph">DVYS.AUDIT_TRAIL$</code> table.</p>
<p><a href="audplcy.htm#GUID-DD4D7B05-8C12-4696-8231-71E769014EED__CIHBJJDI" title="audit trail format">Table A-1</a> describes the format of the audit trail, which you must understand if you plan to create custom reports that use the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table.</p>
<div class="tblformalwide" id="GUID-DD4D7B05-8C12-4696-8231-71E769014EED__CIHBJJDI">
<p class="titleintable">Table A-1 Oracle Database Vault Audit Trail Format</p>
<table class="cellalignment379" title="Oracle Database Vault Audit Trail Format" summary="audit trail format">
<thead>
<tr class="cellalignment332">
<th class="cellalignment422" id="d138251e839">Column</th>
<th class="cellalignment418" id="d138251e842">Datatype&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th class="cellalignment432" id="d138251e845">Null</th>
<th class="cellalignment433" id="d138251e848">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e853" headers="d138251e839">
<p><code class="codeph">ID#</code></p>
</td>
<td class="cellalignment420" headers="d138251e853 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e853 d138251e845">
<p><code class="codeph">NOT NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e853 d138251e848">
<p>Numeric identifier for the audit record</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e870" headers="d138251e839">
<p><code class="codeph">OS_USERNAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e870 d138251e842">
<p><code class="codeph">VARCHAR2(255)</code></p>
</td>
<td class="cellalignment434" headers="d138251e870 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e870 d138251e848">
<p>Operating system login user name of the user whose actions were audited</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e888" headers="d138251e839">
<p><code class="codeph">USERNAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e888 d138251e842">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment434" headers="d138251e888 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e888 d138251e848">
<p>Name of the database user whose actions were audited</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e904" headers="d138251e839">
<p><code class="codeph">USERHOST</code></p>
</td>
<td class="cellalignment420" headers="d138251e904 d138251e842">
<p><code class="codeph">VARCHAR2(128)</code></p>
</td>
<td class="cellalignment434" headers="d138251e904 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e904 d138251e848">
<p>Client computer name</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e920" headers="d138251e839">
<p><code class="codeph">TERMINAL</code></p>
</td>
<td class="cellalignment420" headers="d138251e920 d138251e842">
<p><code class="codeph">VARCHAR2(255)</code></p>
</td>
<td class="cellalignment434" headers="d138251e920 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e920 d138251e848">
<p>Identifier for the user&#39;s terminal</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e936" headers="d138251e839">
<p><code class="codeph">TIMESTAMP</code></p>
</td>
<td class="cellalignment420" headers="d138251e936 d138251e842">
<p><code class="codeph">DATE</code></p>
</td>
<td class="cellalignment434" headers="d138251e936 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e936 d138251e848">
<p>Date and time of creation of the audit trail entry (in the local database session time zone)</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e952" headers="d138251e839">
<p><code class="codeph">OWNER</code></p>
</td>
<td class="cellalignment420" headers="d138251e952 d138251e842">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment434" headers="d138251e952 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e952 d138251e848">
<p>Creator of the object affected by the action, always <code class="codeph">DVSYS</code> (because <code class="codeph">DVSYS</code> is where objects are created)</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e974" headers="d138251e839">
<p><code class="codeph">OBJ_NAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e974 d138251e842">
<p><code class="codeph">VARCHAR2(128)</code></p>
</td>
<td class="cellalignment434" headers="d138251e974 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e974 d138251e848">
<p>Name of the object affected by the action. Expected values are:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ROLE$</code></p>
</li>
<li>
<p><code class="codeph">REALM$</code></p>
</li>
<li>
<p><code class="codeph">CODE$</code></p>
</li>
<li>
<p><code class="codeph">FACTOR$</code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1007" headers="d138251e839">
<p><code class="codeph">ACTION</code></p>
</td>
<td class="cellalignment420" headers="d138251e1007 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1007 d138251e845">
<p><code class="codeph">NOT NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1007 d138251e848">
<p>Numeric action type code. The corresponding name of the action type is in the <code class="codeph">ACTION_NAME</code> column. See <a href="views.htm#GUID-98E3B6EB-C6C7-4917-AB78-C93B9A0645AE__BACJACFA" title="SYS.DV$CONFIGURATION_AUDIT.ACTION Values. Columns are from left to right Action Type Code and Action Name.">Table 22-2</a> for a list of the expected <code class="codeph">ACTION</code> and <code class="codeph">ACTION_NAME</code> values.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1038" headers="d138251e839">
<p><code class="codeph">ACTION_NAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e1038 d138251e842">
<p><code class="codeph">VARCHAR2(128)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1038 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1038 d138251e848">
<p>Name of the action type corresponding to the numeric code in the <code class="codeph">ACTION</code> column</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1057" headers="d138251e839">
<p><code class="codeph">ACTION_OBJECT_ID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1057 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1057 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1057 d138251e848">
<p>The unique identifier of the record in the table specified under <code class="codeph">OBJ_NAME</code>. For realms, this field contains a list of comma-separated values of all realm IDs that have the Audit on Failure audit option.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1077" headers="d138251e839">
<p><code class="codeph">ACTION_OBJECT_NAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e1077 d138251e842">
<p><code class="codeph">VARCHAR2(128)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1077 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1077 d138251e848">
<p>The unique name or natural key of the record in the table specified under <code class="codeph">OBJ_NAME</code>. For realms, this field contains a list of comma-separated values of all realm names that have the Audit on Failure audit option.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1096" headers="d138251e839">
<p><code class="codeph">ACTION_COMMAND</code></p>
</td>
<td class="cellalignment420" headers="d138251e1096 d138251e842">
<p><code class="codeph">VARCHAR2(4000)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1096 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1096 d138251e848">
<p>The SQL text of the command procedure that was executed that resulted in the audit event being triggered</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1112" headers="d138251e839">
<p><code class="codeph">AUDIT_OPTION</code></p>
</td>
<td class="cellalignment420" headers="d138251e1112 d138251e842">
<p><code class="codeph">VARCHAR2(4000)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1112 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1112 d138251e848">
<p>The labels for all audit options specified in the record that resulted in the audit event being triggered. For example, a factor set operation that is supposed to audit on get failure and get <code class="codeph">NULL</code> would indicate these two options.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1131" headers="d138251e839">
<p><code class="codeph">RULE_SET_ID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1131 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1131 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1131 d138251e848">
<p>The unique identifier of the rule set that was executing and caused the audit event to trigger</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1147" headers="d138251e839">
<p><code class="codeph">RULE_SET_NAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e1147 d138251e842">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1147 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1147 d138251e848">
<p>The unique name of the rule set that was executing and caused the audit event to trigger</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1163" headers="d138251e839">
<p><code class="codeph">RULE_ID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1163 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1163 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1163 d138251e848">
<p>Not used</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1179" headers="d138251e839">
<p><code class="codeph">RULE_NAME</code></p>
</td>
<td class="cellalignment420" headers="d138251e1179 d138251e842">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1179 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1179 d138251e848">
<p>Not used</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1195" headers="d138251e839">
<p><code class="codeph">FACTOR_CONTEXT</code></p>
</td>
<td class="cellalignment420" headers="d138251e1195 d138251e842">
<p><code class="codeph">VARCHAR2(4000)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1195 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1195 d138251e848">
<p>An XML document that contains all of the factor identifiers for the current session at the point when the audit event was triggered</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1211" headers="d138251e839">
<p><code class="codeph">COMMENT_TEXT</code></p>
</td>
<td class="cellalignment420" headers="d138251e1211 d138251e842">
<p><code class="codeph">VARCHAR2(4000)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1211 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1211 d138251e848">
<p>Text comment on the audit trail entry, providing more information about the statement audited</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1227" headers="d138251e839">
<p><code class="codeph">SESSIONID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1227 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1227 d138251e845">
<p><code class="codeph">NOT NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1227 d138251e848">
<p>Numeric identifier for each Oracle session</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1244" headers="d138251e839">
<p><code class="codeph">ENTRYID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1244 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1244 d138251e845">
<p><code class="codeph">NOT NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1244 d138251e848">
<p>Same as the value in the <code class="codeph">ID#</code> column</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1265" headers="d138251e839">
<p><code class="codeph">STATEMENTID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1265 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1265 d138251e845">
<p><code class="codeph">NOT NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1265 d138251e848">
<p>Numeric identifier for the statement invoked that caused the audit event to be generated. This is empty for most Oracle Database Vault events.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1281" headers="d138251e839">
<p><code class="codeph">RETURNCODE</code></p>
</td>
<td class="cellalignment420" headers="d138251e1281 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1281 d138251e845">
<p><code class="codeph">NOT NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1281 d138251e848">
<p>Oracle error code generated by the action. The error code for a statement or procedure invoked that caused the audit event to be generated. This is empty for most Oracle Database Vault events.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1297" headers="d138251e839">
<p><code class="codeph">EXTENDED_TIMESTAMP</code></p>
</td>
<td class="cellalignment420" headers="d138251e1297 d138251e842">
<p><code class="codeph">TIMESTAMP(6) WITH TIME ZONE</code></p>
</td>
<td class="cellalignment434" headers="d138251e1297 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1297 d138251e848">
<p>Time stamp of creation of the audit trail entry (time stamp of user login for entries) in UTC (Coordinated Universal Time) time zone</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1313" headers="d138251e839">
<p><code class="codeph">PROXY_SESSIONID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1313 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1313 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1313 d138251e848">
<p>Proxy session serial number, if an enterprise user has logged in through the proxy mechanism</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1329" headers="d138251e839">
<p><code class="codeph">GLOBAL_UID</code></p>
</td>
<td class="cellalignment420" headers="d138251e1329 d138251e842">
<p><code class="codeph">VARCHAR2(32)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1329 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1329 d138251e848">
<p>Global user identifier for the user, if the user has logged in as an enterprise user</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1345" headers="d138251e839">
<p><code class="codeph">INSTANCE_NUMBER</code></p>
</td>
<td class="cellalignment420" headers="d138251e1345 d138251e842">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment434" headers="d138251e1345 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1345 d138251e848">
<p>Instance number as specified by the <code class="codeph">INSTANCE_NUMBER</code> initialization parameter</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1364" headers="d138251e839">
<p><code class="codeph">OS_PROCESS</code></p>
</td>
<td class="cellalignment420" headers="d138251e1364 d138251e842">
<p><code class="codeph">VARCHAR2(16)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1364 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1364 d138251e848">
<p>Operating system process identifier of the Oracle process</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1380" headers="d138251e839">
<p><code class="codeph">CREATED_BY</code></p>
</td>
<td class="cellalignment420" headers="d138251e1380 d138251e842">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1380 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1380 d138251e848">
<p>Database login user name of the user whose actions were audited</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1396" headers="d138251e839">
<p><code class="codeph">CREATE_DATE</code></p>
</td>
<td class="cellalignment420" headers="d138251e1396 d138251e842">
<p><code class="codeph">DATE</code></p>
</td>
<td class="cellalignment434" headers="d138251e1396 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1396 d138251e848">
<p>Date on which the action occurred, based on the <code class="codeph">SYSDATE</code> date</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1415" headers="d138251e839">
<p><code class="codeph">UPDATED_BY</code></p>
</td>
<td class="cellalignment420" headers="d138251e1415 d138251e842">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment434" headers="d138251e1415 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1415 d138251e848">
<p>Same as <code class="codeph">CREATED_BY</code> column value</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment424" id="d138251e1434" headers="d138251e839">
<p><code class="codeph">UPDATE_DATE</code></p>
</td>
<td class="cellalignment420" headers="d138251e1434 d138251e842">
<p><code class="codeph">DATE</code></p>
</td>
<td class="cellalignment434" headers="d138251e1434 d138251e845">
<p><code class="codeph">NULL</code></p>
</td>
<td class="cellalignment435" headers="d138251e1434 d138251e848">
<p>Same as <code class="codeph">UPDATED_BY</code> column value</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="DVADM71058"></a>
<div class="props_rev_3"><a id="GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07"></a>
<h2 id="DVADM-GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" class="sect2">Archiving and Purging the Oracle Database Vault Audit Trail</h2>
<div>
<p>If you have not migrated to unified auditing, you should periodically archive and purge the Oracle Database Vault audit trail.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="audplcy.htm#GUID-14ADB000-F1C5-4F51-8466-6301194F71FC" title="In a non-unified auditing environment, you can archive the Oracle Database Vault audit trail by exporting the DVSYS.AUDIT_TRAIL$ table to a dump file.">About Archiving and Purging the Oracle Database Vault Audit Trail</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1" title="You can use SQL*Plus and Oracle Data Pump to archive the Oracle Database Vault audit trail.">Archiving the Oracle Database Vault Audit Trail</a></p>
</li>
<li>
<p><a href="audplcy.htm#GUID-CEDFFEB5-1397-46C8-A487-9A264671219C" title="You can purge the Oracle Database Vault audit trail in SQL*Plus.">Purging the Oracle Database Vault Audit Trail</a></p>
</li>
</ul>
</div>
<a id="DVADM71276"></a>
<div class="props_rev_3"><a id="GUID-14ADB000-F1C5-4F51-8466-6301194F71FC"></a>
<h3 id="DVADM-GUID-14ADB000-F1C5-4F51-8466-6301194F71FC" class="sect3">About Archiving and Purging the Oracle Database Vault Audit Trail</h3>
<div>
<p>In a non-unified auditing environment, you can archive the Oracle Database Vault audit trail by exporting the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table to a dump file.</p>
<p>You should periodically archive and then purge the audit trail to prevent it from growing too large.</p>
<p>If you choose to migrate to unified auditing, then use this procedure to archive and purge the Database Vault audit trail records after you complete the migration. When unified auditing begins to collect records, then the new records will be available for viewing from the <code class="codeph">UNIFIED_AUDIT_TRAIL</code>, <code class="codeph">SYS.DV$CONFIGURATION_AUDIT</code>, and <code class="codeph">SYS.DV$ENFORCEMENT_AUDIT</code> data dictionary views.</p>
</div>
</div>
<a id="DVADM71277"></a>
<div class="props_rev_3"><a id="GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1"></a>
<h3 id="DVADM-GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1" class="sect3">Archiving the Oracle Database Vault Audit Trail</h3>
<div>
<p>You can use SQL*Plus and Oracle Data Pump to archive the Oracle Database Vault audit trail.</p>
<div class="section">
<ol>
<li>
<p>Log into the database instance as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege.</p>
<pre dir="ltr">sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre></li>
<li>
<p>Ensure that the user who will perform archiving has the appropriate privileges.</p>
<p>For example:</p>
<pre dir="ltr">GRANT CREATE ANY DIRECTORY, EXP_FULL_DATABASE, UNLIMITED TABLESPACE TO psmith;
</pre></li>
<li>
<p>Connect as a user who has been granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_AUDIT_CLEANUP</code> role.</p>
<p>For example:</p>
<pre dir="ltr">connect ebrown
Enter password: <span class="italic">password</span>
</pre></li>
<li>
<p>Archive the Oracle Database Vault audit trail into a new table in an appropriate schema.</p>
<p>For example:</p>
<pre dir="ltr">CREATE TABLE psmith.dv_audit_trail nologging \
AS SELECT * FROM DVSYS.AUDIT_TRAIL$;
</pre></li>
<li>
<p>If the schema is already protected by a realm, then ensure that you or the user performing the export operation has been granted the appropriate authorization to use Oracle Data Pump in a Database Vault environment.</p>
<p>For example, to authorize user <code class="codeph">psmith</code> to perform Data Pump operations on his own schema:</p>
<pre dir="ltr">EXEC DBMS_MACADM.AUTHORIZE_DATAPUMP_USER(&#39;PSMITH&#39;, &#39;PSMITH&#39;);
</pre></li>
<li>
<p>Connect as the Data Pump user.</p>
<p>For example:</p>
<pre dir="ltr">CONNECT psmith
Enter password: <span class="italic">password</span>
</pre></li>
<li>
<p>Create a directory for the Database Vault audit trail.</p>
<pre dir="ltr">CREATE DIRECTORY dv_audit_dir AS &#39;dv_audit_trail_directory&#39;;
</pre></li>
<li>
<p>Exit SQL*Plus.</p>
<pre dir="ltr">EXIT
</pre></li>
<li>
<p>Using Data Pump, export the Database Vault audit trail into the directory object that you just created.</p>
<pre dir="ltr">expdp psmith directory=dv_audit_dir tables=psmith.dv_audit_trail \
dumpfile=dv_audit.dmp log=dv_audit_exp.log
</pre></li>
<li>
<p>Connect to SQL*Plus as a user who has been granted the <code class="codeph">DV_OWNER</code> role.</p>
<pre dir="ltr">sqlplus ebrown
Enter password: <span class="italic">password</span>
</pre></li>
<li>
<p>If you have not done so, then create a realm around the schema that now contains the Database Vault audit trail.</p>
<ol>
<li>
<p>Create the realm. For example:</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.CREATE_REALM(
  realm_name    =&gt; &#39;DV Audit Trail Realm&#39;, 
  description   =&gt; &#39;Realm to protect the DV audit trail&#39;, 
  enabled       =&gt; DBMS_MACUTL.G_YES, 
  audit_options =&gt; DBMS_MACUTL.G_REALM_AUDIT_FAIL + DBMS_MACUTL.G_REALM_AUDIT_SUCCESS,
  realm_type    =&gt; 1);
END; 
/
</pre></li>
<li>
<p>Add the schema that contains to audit trail to this realm. For example:</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.ADD_OBJECT_TO_REALM(
  realm_name   =&gt; &#39;DV Audit Trail Realm&#39;, 
  object_owner =&gt; &#39;psmith&#39;, 
  object_name  =&gt; &#39;%&#39;, 
  object_type  =&gt; &#39;%&#39;); 
END;
/
</pre></li>
<li>
<p>Authorize a trusted user for this realm.</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.ADD_AUTH_TO_REALM(
  realm_name  =&gt; &#39;DV Audit Trail Realm&#39;, 
  grantee     =&gt; &#39;PSMITH&#39;,
  auth_options =&gt; DBMS_MACUTL.G_REALM_AUTH_OWNER);
END;
/
</pre></li>
</ol>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-E48F3536-A9A2-4CFE-8E15-485E07B8FAF1__GUID-9E8838AA-945A-4496-BBF3-545FC84DF6DE">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dba.htm#GUID-F43AB786-056D-4875-A555-F036D75EE63B" title="Database administrators can authorize Oracle Data Pump users to work in a Database Vault environment.">Using Oracle Data Pump with Oracle Database Vault</a> for more information about granting users Oracle Data Pump privileges in a Database Vault environment</p>
</li>
<li>
<p><a class="olink SQLRF01207" target="_blank" href="../SQLRF/statements_5008.htm#SQLRF01207"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the <code class="codeph">CREATE DIRECTORY</code> statement</p>
</li>
<li>
<p><a class="olink SUTIL200" target="_blank" href="../SUTIL/GUID-5F7380CE-A619-4042-8D13-1F7DDE429991.htm#SUTIL200"><span><cite>Oracle Database Utilities</cite></span></a> for information about the Oracle Data Pump <code class="codeph">expdp</code> utility</p>
</li>
<li>
<p><a href="apis_realms.htm#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="The DBMS_MACADM PL/SQL package enables you to configure Oracle Database Vault realms.">Oracle Database Vault Realm APIs</a>, for information about the realm-related <code class="codeph">DBMS_MACADM</code> procedures</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM71278"></a>
<div class="props_rev_3"><a id="GUID-CEDFFEB5-1397-46C8-A487-9A264671219C"></a>
<h3 id="DVADM-GUID-CEDFFEB5-1397-46C8-A487-9A264671219C" class="sect3">Purging the Oracle Database Vault Audit Trail</h3>
<div>
<p>You can purge the Oracle Database Vault audit trail in SQL*Plus.</p>
<ol>
<li class="stepexpand"><span>Log into the database instance as a user who has been granted the <code class="codeph">DV_OWNER</code> role or the <code class="codeph">DV_AUDIT_CLEANUP</code> role.</span>
<div>
<p>For example:</p>
<pre dir="ltr">sqlplus psmith
Enter password: <span class="italic">password</span>
</pre>
<p>Note that the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_AUDIT_CLEANUP</code> roles do not allow their grantees to truncate the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> system table.</p>
<p>You can query the <code class="codeph">DBA_ROLE_PRIVS</code> data dictionary view to find the roles that have been granted to a user.</p>
</div>
</li>
<li class="stepexpand"><span>Purge the Database Vault audit trail.</span>
<div>
<pre dir="ltr">DELETE FROM DVSYS.AUDIT_TRAIL$;
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-CEDFFEB5-1397-46C8-A487-9A264671219C__GUID-5E87F80F-ED8D-4F9B-B1A0-3008B87289B1">
<p class="notep1">See Also:</p>
<p><a href="db_objects.htm#GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2" title="The DV_AUDIT_CLEANUP role is used for purge operations.">DV_AUDIT_CLEANUP Audit Trail Cleanup Role</a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="DVADM71060"></a><a id="DVADM71059"></a>
<div class="props_rev_3"><a id="GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC"></a>
<h2 id="DVADM-GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC" class="sect2">Oracle Database Audit Settings Created for Oracle Database Vault</h2>
<div>
<p>When you install Oracle Database Vault, it creates several <code class="codeph">AUDIT</code> settings in the database.</p>
<p>However, in a non-unified auditing environment, in order for these audit settings to take place, auditing must be enabled in this database. You can check if auditing is enabled by using the <code class="codeph">SHOW PARAMETER</code> command to find the value of the <code class="codeph">AUDIT_TRAIL</code> initialization parameter. By default, auditing is enabled in Oracle Database.</p>
<p><a href="audplcy.htm#GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC__BGBIAHJD" title="Audit Policy Settings">Table A-2</a> lists the <code class="codeph">AUDIT</code> settings that Oracle Database Vault adds to the database.</p>
<div class="tblformalwide" id="GUID-F64C864D-8A5D-484C-A3AA-25F17E4CDBAC__BGBIAHJD">
<p class="titleintable">Table A-2 Audit Policy Settings Oracle Database Vault Adds to Oracle Database</p>
<table class="cellalignment379" title="Audit Policy Settings Oracle Database Vault Adds to Oracle Database" summary="Audit Policy Settings">
<thead>
<tr class="cellalignment332">
<th class="cellalignment365" id="d138251e2170">Audit Setting Type</th>
<th class="cellalignment408" id="d138251e2173">Audited Statements (BY ACCESS and on Success or Failure Unless Otherwise Noted)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2178" headers="d138251e2170">
<p>System Audit Settings/System Privilege Usage</p>
</td>
<td class="cellalignment409" headers="d138251e2178 d138251e2173">
<p><code class="codeph">ALTER ANY</code></p>
<p><code class="codeph">CREATE ANY</code></p>
<p><code class="codeph">DELETE ANY</code></p>
<p><code class="codeph">DROP ANY</code></p>
<p><code class="codeph">EXECUTE ANY</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">FORCE ANY</code></p>
<p><code class="codeph">GRANT ANY</code></p>
<p><code class="codeph">INSERT ANY</code></p>
<p><code class="codeph">UPDATE ANY</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2214" headers="d138251e2170">
<p>System Audit Settings/Object Management</p>
</td>
<td class="cellalignment409" headers="d138251e2214 d138251e2173">
<p><code class="codeph">ALTER DATABASE, PROFILE, ROLLBACK SEGMENT, SESSION, SYSTEM, TABLE, TABLESPACE, USER</code></p>
<p><code class="codeph">CREATE CLUSTER, DATABASE LINK, INDEXTYPE, LIBRARY, OPERATOR, PUBLIC SYNONYM, PROCEDURE, PROFILE, ROLE, ROLLBACK SEGMENT, SEQUENCE, SESSION, SNAPSHOT, SYNONYM, TABLE, TABLESPACE, TRIGGER, TYPE, USER, VIEW</code></p>
<p><code class="codeph">TRUNCATE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2228" headers="d138251e2170">
<p>System Audit Settings/Intrusive Commands</p>
</td>
<td class="cellalignment409" headers="d138251e2228 d138251e2173">
<p><code class="codeph">ALTER SESSION</code></p>
<p><code class="codeph">BECOME USER</code></p>
<p><code class="codeph">CREATE SESSION</code></p>
<p><code class="codeph">DEBUG CONNECT SESSION</code></p>
<p><code class="codeph">RESTRICTED SESSION</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2248" headers="d138251e2170">
<p>System Audit Settings/Administration Commands</p>
</td>
<td class="cellalignment409" headers="d138251e2248 d138251e2173">
<p><code class="codeph">ADMINISTER DATABASE TRIGGER</code></p>
<p><code class="codeph">BACKUP ANY TABLE</code></p>
<p><code class="codeph">EXEMPT ACCESS POLICY</code></p>
<p><code class="codeph">MANAGE TABLESPACE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2265" headers="d138251e2170">
<p>System Audit Settings/Audit Commands</p>
</td>
<td class="cellalignment409" headers="d138251e2265 d138251e2173">
<p><code class="codeph">AUDIT ANY</code></p>
<p><code class="codeph">AUDIT SYSTEM</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2276" headers="d138251e2170">
<p>System Audit Settings/Access Control</p>
</td>
<td class="cellalignment409" headers="d138251e2276 d138251e2173">
<p><code class="codeph">GRANT ANY PRIVILEGE/ANY OBJECT PRIVILEGE/ROLE</code></p>
<p><code class="codeph">GRANT DIRECTORY</code></p>
<p><code class="codeph">GRANT SEQUENCE</code></p>
<p><code class="codeph">GRANT TABLE</code></p>
<p><code class="codeph">GRANT TYPE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2296" headers="d138251e2170">
<p>User Audit Settings for <code class="codeph">DVSYS</code>/<code class="codeph">DVF</code></p>
<p>User Audit Settings for <code class="codeph">LBACSYS</code></p>
<p>See <a href="db_objects.htm#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABJBIAG" title="lists the default Data Vault database accounts">Table 12-2</a> for more information about these accounts.</p>
<p>See also these sections for detailed information on the <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code> schemas:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="db_objects.htm#GUID-4D275449-513A-4153-86EF-60620F2CD94D" title="The DVSYS schema contains Oracle Database Vault database objects.">DVSYS Schema</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="db_objects.htm#GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5" title="The DVF schema is the owner of the Oracle Database Vault DBMS_MACSEC_FUNCTION PL/SQL package.">DVF Schema</a>&#34;</span></p>
</li>
</ul>
</td>
<td class="cellalignment409" headers="d138251e2296 d138251e2173">
<p><code class="codeph">ADMINISTER DATABASE TRIGGER</code></p>
<p><code class="codeph">ALTER</code> <span class="italic"><code class="codeph">object</code></span></p>
<p><code class="codeph">AUDIT SYSTEM</code></p>
<p><code class="codeph">BECOME USER</code></p>
<p><code class="codeph">CLUSTER</code></p>
<p><code class="codeph">COMMENT</code></p>
<p><code class="codeph">CONTEXT</code></p>
<p><code class="codeph">CREATE</code> <span class="italic"><code class="codeph">object</code></span></p>
<p><code class="codeph">DATABASE LINK</code></p>
<p><code class="codeph">DEBUG</code></p>
<p><code class="codeph">DIRECTORY</code></p>
<p><code class="codeph">DROP</code> <span class="italic"><code class="codeph">object</code></span></p>
<p><code class="codeph">EXECUTE LIBRARY</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">EXECUTE PROCEDURE</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">EXEMPT ACCESS POLICY</code></p>
<p><code class="codeph">EXPORT FULL DATABASE</code></p>
<p><code class="codeph">GRANT</code> <span class="italic"><code class="codeph">object</code></span></p>
<p><code class="codeph">IMPORT FULL DATABASE</code></p>
<p><code class="codeph">INDEX</code></p>
<p><code class="codeph">MANAGE SCHEDULER</code></p>
<p><code class="codeph">MANAGE TABLESPACE</code></p>
<p><code class="codeph">MATERIALIZED VIEW</code> (audits both accessing and creating materialized views)</p>
<p><code class="codeph">SELECT SEQUENCE</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">SELECT TABLE</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2461" headers="d138251e2170">
<p>Object Audit Settings for <code class="codeph">DVF</code></p>
</td>
<td class="cellalignment409" headers="d138251e2461 d138251e2173">
<p><code class="codeph">AUDIT PACKAGE/PROCEDURE/FUNCTION/SEQUENCE/TABLE</code></p>
<p><code class="codeph">COMMENT TABLE/VIEW</code></p>
<p><code class="codeph">DELETE TABLE/VIEW</code></p>
<p><code class="codeph">EXECUTE PACKAGE/PROCEDURE/FUNCTION</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">GRANT PACKAGE/PROCEDURE/FUNCTION/SEQUENCE/TABLE</code></p>
<p><code class="codeph">RENAME PACKAGE/PROCEDURE/FUNCTION/SEQUENCE/VIEW/TABLE</code></p>
<p><code class="codeph">SELECT SEQUENCE/TABLE/VIEW</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d138251e2497" headers="d138251e2170">
<p>Object Audit Settings for <code class="codeph">DVSYS</code></p>
<p>Object Audit Settings for <code class="codeph">LBACSYS</code></p>
</td>
<td class="cellalignment409" headers="d138251e2497 d138251e2173">
<p><code class="codeph">AUDIT PACKAGE/PROCEDURE/FUNCTION/SEQUENCE/TABLE</code></p>
<p><code class="codeph">COMMENT TABLE/VIEW</code></p>
<p><code class="codeph">DELETE TABLE/VIEW</code></p>
<p><code class="codeph">EXECUTE PACKAGE/PROCEDURE/FUNCTION</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">GRANT PACKAGE/PROCEDURE/FUNCTION/SEQUENCE/TABLE</code></p>
<p><code class="codeph">INSERT TABLE/VIEW</code></p>
<p><code class="codeph">RENAME PACKAGE/PROCEDURE/FUNCTION/SEQUENCE/VIEW/TABLE</code></p>
<p><code class="codeph">SELECT SEQUENCE/TABLE/VIEW</code> (<code class="codeph">WHENEVER NOT SUCCESSFUL</code>)</p>
<p><code class="codeph">UPDATE TABLE/VIEW</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment331">
<tr>
<td class="cellalignment359">
<table class="cellalignment336">
<tr>
<td class="cellalignment335"><a href="reports.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment335"><a href="dvdisabl.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment361">
<table class="cellalignment334">
<tr>
<td class="cellalignment335"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment335"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment335"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment335"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment335"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment335"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
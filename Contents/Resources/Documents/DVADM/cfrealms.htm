<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5964"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Realms"></a><title>Configuring Realms</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can create a realm around database objects to protect them, and then set authorizations to control user access to this data."/>
<meta name="keywords" content="databases, grouped schemas, realms, See, about, privileges, restricting access using mandatory realms, mandatory realms, mandatory realms, objects, restricting user access to using mandatory realms, object types, supported for Database Vault realm protection, object types, supported, default realms, listed, LBACSYS schema, realm protection, DVF schema, DVSYS schema, Oracle Database Vault realm, Database Vault Account Management realm, DV_ACCTMGR role, accounts, database accounts, OEM_MONITOR schema realm protection, DBSNMP schema realm protection, OEM, Oracle Enterprise Manager (OEM), Enterprise Manager, Oracle Enterprise Manager, Oracle Enterprise Manager realm, MDDATA schema realm protection, MDSYS schema realm protection, Oracle Text realm protection, Oracle Spatial realm protection, Oracle Default Schema Protection Realm, CTXSYS schema realm protection, Oracle OLAP realm protection, Oracle Data Pump, realm protection, Oracle Scheduler, Oracle System Privilege and Role Management Realm, OUTlN schema realm protection, SYSTEM schema, Oracle Default Component Protection Realm, rule sets, realm secured objects, object owner, object owner, object type, object type, object name, object name, authorizations, grantee, rule set, auditing, options, naming conventions, realms, creating names, creating, realm-secured objects, territory a realm protects, authorizations, realm authorizations, disabling, enabling, deleting, PUBLIC access, PUBLIC access to realms, how realms work, process flow, authorization, how realm authorizations work, ORA-47401 error, enabling access to realm-protected objects, example, examples, effect on other Oracle Database Vault components, protection after object is dropped, roles, adding to realms as grantees, adding roles to as grantees, SYS user account, adding to realm authorization, guidelines, performance tools, Automatic Workload Repository (AWR), Cloud Control, realms, TKPROF utility, performance effect, reports, data dictionary views"/>
<meta name="dcterms.created" content="2017-06-05T10:50:14Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49109-12"/>
<meta name="dcterms.isVersionOf" content="DVADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="priv_analysis.htm" title="Previous" type="text/html"/>
<link rel="Next" href="cfrulset.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49109-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6"></a> <span id="PAGE" style="display:none;">9/34</span> <!-- End Header -->
<a id="DVADM003"></a>
<h1 id="DVADM-GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6" class="sect1"><span class="enumeration_chapter">5</span> Configuring Realms</h1>
<div>
<p>You can create a realm around database objects to protect them, and then set authorizations to control user access to this data.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfrealms.htm#GUID-D200353D-D15B-46AE-82DA-FE874D24800C" title="Realms enable you to protect database objects, including specific object types.">What Are Realms?</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-3DE167E8-BD1D-48C4-A0EE-8E6FDFFC5CCA" title="Oracle Database Vault provides default realms, which are regular realms, not mandatory realms.">Default Realms</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B" title="To enable realm protection, you create the realm and configure it to include realm-secured objects, roles, and authorizations.">Creating a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-66339B56-9F8B-48DF-9BCE-7137BBF1EAB0" title="Realm-secured objects define the territory&mdash;a set of schema and database objects and roles&mdash;that a realm protects.">About Realm-Secured Objects</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-7205A1C7-FC62-46F7-B60A-CC4BC9C86BCC" title="You can disable or enable a realm from Enterprise Manager Cloud Control.">Modifying the Enablement Status of a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-5AD81762-3DFF-4AC7-9D6F-240234DB87EB" title="You can use Enterprise Manager Cloud Control to delete realms.">Deleting a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA" title="When an appropriately privileged database account issues a SQL statement that affects an object within a realm, a special set of activities occur.">How Realms Work</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-D6D32C23-A04D-4FAA-8CB0-D23E14B0A2AF" title="Realm authorizations prevent users from performing activities if the users do not have the correct privileges.">How Authorizations Work in a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-8A1251AB-33FF-4C7B-8DE7-B474A89355E8" title="You can protect an object by a realm, but still enable access to objects that are part of this realm-protected object.">Access to Objects That Are Protected by a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-8C3B9940-063A-4346-ABFC-24881C92DB27" title="Realms can provide protection in which two users who each have the same privileges must have separate access levels for an object.">Example of How Realms Work</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-5726E22D-B596-47E0-8D7C-0B352A422864" title="Realms have no effect on factors, identities, or rule sets, but they do affect command rules.">How Realms Affect Other Oracle Database Vault Components</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-2BA46470-2C9C-42B6-B57E-90446D1EC8A6" title="Oracle provides a set of guidelines for designing realms.">Guidelines for Designing Realms</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-38AA3E28-E29D-412B-9CB6-2095411AC9BB" title="Realms can affect database performance in a variety situations, such as with DDL and DML operations.">How Realms Affect Performance</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D" title="Oracle Database Vault provides reports and data dictionary views that are useful for analyzing realms.">Realm Related Reports and Data Dictionary Views</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-86DA4697-8BE2-4F27-92E3-C15843F9A3A6__GUID-861D3AA4-B13B-430A-B808-4E1B2393569E">
<p class="notep1">See Also:</p>
<p><a href="apis_realms.htm#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="The DBMS_MACADM PL/SQL package enables you to configure Oracle Database Vault realms.">Oracle Database Vault Realm APIs</a></p>
</div>
</div>
<a id="DVADM70144"></a>
<div class="props_rev_3"><a id="GUID-D200353D-D15B-46AE-82DA-FE874D24800C"></a>
<h2 id="DVADM-GUID-D200353D-D15B-46AE-82DA-FE874D24800C" class="sect2">What Are Realms?</h2>
<div>
<p>Realms enable you to protect database objects, including specific object types.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfrealms.htm#GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0" title="A realm is a grouping of database schemas, database objects, and/or database roles that must be secured for a given application.">About Realms</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-9ECB64CF-9740-4FCC-BC2E-A0E6F19094FC" title="By default, users who own or have object privileges are allowed to access realm-protected objects without explicit realm authorization.">Mandatory Realms to Restrict User Access to Objects within a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-E1E06A87-0B89-4F76-B844-732AC34406D3" title="You can create realms around all objects in a schema of certain object types.">Object Types That Realms Can Protect</a></p>
</li>
</ul>
</div>
<a id="DVADM71155"></a>
<div class="props_rev_3"><a id="GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0"></a>
<h3 id="DVADM-GUID-5B043984-7C0F-49E3-8A0C-A983E4F12FD0" class="sect3">About Realms</h3>
<div>
<p>A realm is a grouping of database schemas, database objects, and/or database roles that must be secured for a given application.</p>
<p>Think of a realm as zone of protection for your database objects. A schema is a logical collection of database objects such as tables, views, and packages, and a role is a collection of privileges. By arranging schemas and roles into functional groups, you can control the ability of users to use system privileges against these groups and prevent unauthorized data access by the database administrator or other powerful users with system privileges. Oracle Database Vault does not replace the discretionary access control model in the existing Oracle database. It functions as a layer on top of this model for both realms and command rules.</p>
<p>Oracle Database Vault provides two types of realms: regular and mandatory. A regular realm protects an entire database object (such as a schema). This type of realm restricts all users except users who have direct object privilege grants. With regular realms, users with direct object grants can perform DML operations but not DDL operations. A mandatory realm restricts user access to objects within a realm. Mandatory realms block both object privilege-based and system privilege-based access. In other words, even an object owner cannot access his or her own objects without proper realm authorization if the objects are protected by mandatory realms.</p>
<p>After you create a realm, you can register a set of schema objects or roles (secured objects) for realm protection and authorize a set of users or roles to access the secured objects.</p>
<p>For example, you can create a realm to protect all existing database schemas that are used in an accounting department. The realm prohibits any user who is not authorized to the realm to use system privileges to access the secured accounting data.</p>
<p>You can run reports on realms that you create in Oracle Database Vault. See <a href="cfrealms.htm#GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D" title="Oracle Database Vault provides reports and data dictionary views that are useful for analyzing realms.">Realm Related Reports and Data Dictionary Views</a> for more information.</p>
<p>This section explains how to configure realms by using the Oracle Database Vault Administrator pages in Oracle Enterprise Manager Cloud Control. To configure realms by using the PL/SQL interfaces and packages provided by Oracle Database Vault, refer to <a href="apis_realms.htm#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="The DBMS_MACADM PL/SQL package enables you to configure Oracle Database Vault realms.">Oracle Database Vault Realm APIs</a>.</p>
</div>
</div>
<a id="DVADM71156"></a>
<div class="props_rev_3"><a id="GUID-9ECB64CF-9740-4FCC-BC2E-A0E6F19094FC"></a>
<h3 id="DVADM-GUID-9ECB64CF-9740-4FCC-BC2E-A0E6F19094FC" class="sect3">Mandatory Realms to Restrict User Access to Objects within a Realm</h3>
<div>
<p>By default, users who own or have object privileges are allowed to access realm-protected objects without explicit realm authorization.</p>
<p>You optionally can configure the realm to prevent these users&#39; access by configuring it to be a mandatory realm. Mandatory realms block system privilege-based access as well as object privilege-based access. This means that even the object owner cannot have access if he or she is not authorized to access the realm. Users can access secured objects in the mandatory realm only if the user or role is authorized to do so.</p>
<p>Mandatory realms have the following additional characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>If there are multiple mandatory realms on the same object, then you must authorize the user or role on all the mandatory realms before they can access the protected object.</p>
</li>
<li>
<p>If a role is protected by a mandatory realm, then no privileges can be granted to or revoked from the protected role except by the realm owner.</p>
</li>
<li>
<p>You can update regular realms that you created in earlier releases to be mandatory realms. This way, you can block owner access and object-privileged users from accessing the realm-protected objects.</p>
</li>
</ul>
<p>Mandatory realms have the following benefits:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Mandatory realms</span> <span class="bold">can block object owners and object privileged users.</span> In previous releases, blocking these users could only be done by defining complicated command rules.</p>
</li>
<li>
<p><span class="bold">Mandatory realms provide more flexible configurations for access control.</span> For example, suppose you want to enable a user to access an object with certain conditions, such as in a specific time range during the day. You cannot grant object privileges to that user because realms do not block object privileges. You only can grant system privileges to the user and then authorize this user to the realm with a rule, or make a command rule on the command directly. These solutions are either very expensive in terms of computational cost or undesirable because they entail the excessive granting of privileges such as system privileges to the user. With a mandatory realm, you only need to grant object privileges to the user, with a rule for specific conditions, and then authorize this user to be a realm owner or participant. Thus, with mandatory realms, Oracle Database Vault policies have more flexibility without granting users excessive privileges.</p>
</li>
<li>
<p><span class="bold">Mandatory realms add a layer of protection during patch upgrades.</span> During a patch upgrade, a database administrator may need to have direct access to a realm-protected object in order to perform a patch on the object. If there are tables that contain sensitive data, such as social security numbers, you can protect these tables from the administrator&#39;s access with mandatory realms during the patch upgrade. When patching is complete, and the database administrator no long needs access to the objects, you can disable mandatory realm protection and then re-enable the normal application realm protection so that the application protection can return to its normal state.</p>
</li>
<li>
<p><span class="bold">You can use mandatory realms to secure tables during runtime.</span> During runtime, application data can be stored in many tables. It is better to have a single user such as a runtime schema to access these tables so that you can maintain the integrity and correctness of the data. If the application data is scattered in many different schemas, then schema owners and users with object privileges can change the data if they log into the database directly. To insure that users cannot update these tables without going through the runtime schema&#39;s procedures, you can use mandatory realms to protect the tables so that only the authorized user&#39;s procedures can access them. Because a regular realm does not block object owners and object-privileged users, you can use mandatory realms to block them. This way, only authorized users can access these tables during runtime.</p>
</li>
<li>
<p><span class="bold">You can freeze security settings by preventing changes to configured roles.</span></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-9ECB64CF-9740-4FCC-BC2E-A0E6F19094FC__GUID-2BF9779B-B040-4E0A-ADCF-41C2CE657397">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="apis_realms.htm#GUID-06C598B8-EB92-4589-AF87-D1B3E0F63FB5" title="The CREATE_REALM procedure creates a realm.">CREATE_REALM Procedure</a></p>
</li>
<li>
<p><a href="apis_realms.htm#GUID-BF3E996D-E9DD-4C70-B7BA-6E7F66AB4C12" title="The UPDATE_REALM procedure updates a realm.">UPDATE_REALM Procedure</a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="DVADM71356"></a>
<div class="props_rev_3"><a id="GUID-E1E06A87-0B89-4F76-B844-732AC34406D3"></a>
<h3 id="DVADM-GUID-E1E06A87-0B89-4F76-B844-732AC34406D3" class="sect3">Object Types That Realms Can Protect</h3>
<div>
<p>You can create realms around all objects in a schema of certain object types.</p>
<div class="section">
<p>These object types are as follows:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E1E06A87-0B89-4F76-B844-732AC34406D3__GUID-1ED7190C-5A91-49DE-BF39-445B273A3F4D">
<table class="cellalignment338" summary="List of object types that realms protect, top to bottom, left to right">
<thead>
<tr class="cellalignment332">
<th class="cellalignment362" id="d18918e663">Object Types C-J</th>
<th class="cellalignment351" id="d18918e665">Object Types L-P</th>
<th class="cellalignment355" id="d18918e667">Object Types R-V</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e671" headers="d18918e663">
<p><code class="codeph">CLUSTER</code></p>
</td>
<td class="cellalignment353" headers="d18918e671 d18918e665">
<p><code class="codeph">LIBRARY</code></p>
</td>
<td class="cellalignment357" headers="d18918e671 d18918e667">
<p><code class="codeph">ROLE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e685" headers="d18918e663">
<p><code class="codeph">DIMENSION</code></p>
</td>
<td class="cellalignment353" headers="d18918e685 d18918e665">
<p><code class="codeph">MATERIALIZED VIEW</code></p>
</td>
<td class="cellalignment357" headers="d18918e685 d18918e667">
<p><code class="codeph">SEQUENCE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e698" headers="d18918e663">
<p><code class="codeph">FUNCTION</code></p>
</td>
<td class="cellalignment353" headers="d18918e698 d18918e665">
<p><code class="codeph">MATERIALIZED VIEW LOG</code></p>
</td>
<td class="cellalignment357" headers="d18918e698 d18918e667">
<p><code class="codeph">SYNONYM</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e711" headers="d18918e663">
<p><code class="codeph">INDEX</code></p>
</td>
<td class="cellalignment353" headers="d18918e711 d18918e665">
<p><code class="codeph">OPERATOR</code></p>
</td>
<td class="cellalignment357" headers="d18918e711 d18918e667">
<p><code class="codeph">TABLE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e724" headers="d18918e663">
<p><code class="codeph">INDEX PARTITION</code></p>
</td>
<td class="cellalignment353" headers="d18918e724 d18918e665">
<p><code class="codeph">PACKAGE</code></p>
</td>
<td class="cellalignment357" headers="d18918e724 d18918e667">
<p><code class="codeph">TRIGGER</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e737" headers="d18918e663">
<p><code class="codeph">INDEXTYPE</code></p>
</td>
<td class="cellalignment353" headers="d18918e737 d18918e665">
<p><code class="codeph">PROCEDURE</code></p>
</td>
<td class="cellalignment357" headers="d18918e737 d18918e667">
<p><code class="codeph">TYPE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment363" id="d18918e750" headers="d18918e663">
<p><code class="codeph">JOB</code></p>
</td>
<td class="cellalignment353" headers="d18918e750 d18918e665">
<p><code class="codeph">PROGRAM</code></p>
</td>
<td class="cellalignment357" headers="d18918e750 d18918e667">
<p><code class="codeph">VIEW</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="DVADM70145"></a>
<div class="props_rev_3"><a id="GUID-3DE167E8-BD1D-48C4-A0EE-8E6FDFFC5CCA"></a>
<h2 id="DVADM-GUID-3DE167E8-BD1D-48C4-A0EE-8E6FDFFC5CCA" class="sect2">Default Realms</h2>
<div>
<p>Oracle Database Vault provides default realms, which are regular realms, not mandatory realms.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfrealms.htm#GUID-911E7562-EE12-4847-B53C-5286504AB9E3" title="The Oracle Database Vault realm protects configuration and role information in the Oracle Database Vault DVSYS, DVF, and LBACSYS schemas.">Oracle Database Vault Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-A0537605-63D8-47A0-B834-84AB5A09F0CC" title="The Database Vault Account Management realm defines the realm for the administrators who manage and create database accounts and database profiles.">Database Vault Account Management Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-D21AB276-A8DD-4A0E-8F3C-F22819680291" title="Oracle Database Vault provides a realm specifically for Oracle Enterprise Manager accounts.">Oracle Enterprise Manager Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-B99F85A5-C476-4674-B74B-C1A2434CFFC5" title="Oracle Default Schema Protection Realm protects roles and schemas that are used with Oracle features such as Oracle Text.">Oracle Default Schema Protection Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-466A5489-9E58-4D36-A984-1FBC5B5DC636" title="Oracle System Privilege and Role Management Realm protects sensitive roles that are used to export and import data in an Oracle database.">Oracle System Privilege and Role Management Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-EB50E681-B7FF-48C9-8C97-08167E7A916B" title="Oracle Default Component Protection Realm protects the SYSTEM and OUTLN schemas.">Oracle Default Component Protection Realm</a></p>
</li>
</ul>
</div>
<a id="DVADM71160"></a>
<div class="props_rev_3"><a id="GUID-911E7562-EE12-4847-B53C-5286504AB9E3"></a>
<h3 id="DVADM-GUID-911E7562-EE12-4847-B53C-5286504AB9E3" class="sect3">Oracle Database Vault Realm</h3>
<div>
<p>The Oracle Database Vault realm protects configuration and role information in the Oracle Database Vault <code class="codeph">DVSYS</code>, <code class="codeph">DVF</code>, and <code class="codeph">LBACSYS</code> schemas.</p>
<p>The owners of all three of these schemas are owners of this realm. For more information about these schemas, see <a href="db_objects.htm#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" title="The Oracle Database Vault schemas, DVSYS and DVF, support the administration and run-time processing of Oracle Database Vault.">Oracle Database Vault Schemas</a> and <a href="db_objects.htm#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F" title="You must create accounts for the Oracle Database Vault Owner and Oracle Database Vault Account Manager during the registration process.">Oracle Database Vault Accounts Created During Registration</a>.</p>
<p>This realm protects the following objects:</p>
<ul style="list-style-type: disc;">
<li>
<p>Entire schemas that are protected: <code class="codeph">DVSYS</code>, <code class="codeph">DVF</code>, <code class="codeph">LABACSYS</code></p>
</li>
<li>
<p>Roles that are protected:</p>
<div class="tblformal" id="GUID-911E7562-EE12-4847-B53C-5286504AB9E3__GUID-DB3F07D7-DE51-4EF0-BCC1-BB6232C4E6F7">
<table class="cellalignment364" summary="List of catalog schemas, top to bottom, left to right">
<thead>
<tr class="cellalignment332">
<th class="cellalignment365" id="d18918e1054">Schemas DV_A-DV_S</th>
<th class="cellalignment366" id="d18918e1056">Schemas DV_P-L</th>
<th class="cellalignment347" id="d18918e1058">Schemas DV_G</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment367" id="d18918e1062" headers="d18918e1054">
<p><code class="codeph">DV_ADMIN</code></p>
</td>
<td class="cellalignment368" headers="d18918e1062 d18918e1056">
<p><code class="codeph">DV_PUBLIC</code></p>
</td>
<td class="cellalignment349" headers="d18918e1062 d18918e1058">
<p><code class="codeph">DV_GOLDENGATE_ADMIN</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d18918e1077" headers="d18918e1054">
<p><code class="codeph">DV_AUDIT_CLEANUP</code></p>
</td>
<td class="cellalignment368" headers="d18918e1077 d18918e1056">
<p><code class="codeph">DV_PATCH_ADMIN</code></p>
</td>
<td class="cellalignment349" headers="d18918e1077 d18918e1058">
<p><code class="codeph">DV_XSTREAM_ADMIN</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d18918e1091" headers="d18918e1054">
<p><code class="codeph">DV_DATAPUMP_NETWORK_LINK</code></p>
</td>
<td class="cellalignment368" headers="d18918e1091 d18918e1056">
<p><code class="codeph">DV_MONITOR</code></p>
</td>
<td class="cellalignment349" headers="d18918e1091 d18918e1058">
<p><code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d18918e1105" headers="d18918e1054">
<p><code class="codeph">DV_OWNER</code></p>
</td>
<td class="cellalignment368" headers="d18918e1105 d18918e1056">
<p><code class="codeph">DV_STREAMS_ADMIN</code></p>
</td>
<td class="cellalignment349" headers="d18918e1105 d18918e1058">
<p>-</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d18918e1118" headers="d18918e1054">
<p><code class="codeph">DV_SECANALYST</code></p>
</td>
<td class="cellalignment368" headers="d18918e1118 d18918e1056">
<p><code class="codeph">LBAC_DBA</code></p>
</td>
<td class="cellalignment349" headers="d18918e1118 d18918e1058">
<p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
<li>
<p>PL/SQL package that is protected: <code class="codeph">SYS.DBMS_RLS</code></p>
</li>
</ul>
</div>
</div>
<a id="DVADM71161"></a>
<div class="props_rev_3"><a id="GUID-A0537605-63D8-47A0-B834-84AB5A09F0CC"></a>
<h3 id="DVADM-GUID-A0537605-63D8-47A0-B834-84AB5A09F0CC" class="sect3">Database Vault Account Management Realm</h3>
<div>
<p>The Database Vault Account Management realm defines the realm for the administrators who manage and create database accounts and database profiles.</p>
<p>This realm protects the <code class="codeph">DV_ACCTMGR</code> and <code class="codeph">CONNECT</code> roles. The owner of this realm can grant or revoke the <code class="codeph">CREATE SESSION</code> privilege to or from a user.</p>
<p>See <a href="db_objects.htm#GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802" title="The DV_ACCTMGR role is a powerful role, used for accounts management.">DV_ACCTMGR Database Vault Account Manager Role</a> for more information about the <code class="codeph">DV_ACCTMGR</code> role.</p>
</div>
</div>
<a id="DVADM71167"></a>
<div class="props_rev_3"><a id="GUID-D21AB276-A8DD-4A0E-8F3C-F22819680291"></a>
<h3 id="DVADM-GUID-D21AB276-A8DD-4A0E-8F3C-F22819680291" class="sect3">Oracle Enterprise Manager Realm</h3>
<div>
<p>Oracle Database Vault provides a realm specifically for Oracle Enterprise Manager accounts.</p>
<p>The Oracle Enterprise Manager realm protects Oracle Enterprise Manager accounts that are used for monitoring and management (<code class="codeph">DBSNMP</code> user and the <code class="codeph">OEM_MONITOR</code> role).</p>
</div>
</div>
<a id="DVADM71162"></a>
<div class="props_rev_3"><a id="GUID-B99F85A5-C476-4674-B74B-C1A2434CFFC5"></a>
<h3 id="DVADM-GUID-B99F85A5-C476-4674-B74B-C1A2434CFFC5" class="sect3">Oracle Default Schema Protection Realm</h3>
<div>
<p>Oracle Default Schema Protection Realm protects roles and schemas that are used with Oracle features such as Oracle Text.</p>
<p>The advantage of this grouping is that Oracle Spatial schemas (<code class="codeph">MDSYS</code>, <code class="codeph">MDDATA</code>) are used extensively with Oracle Text (<code class="codeph">CTXSYS</code>), and Oracle OLAP is an application rather than a core Oracle Database kernel feature.</p>
<div class="section">
<p class="subhead3">Oracle Default Schema Protection Realm Protected Roles and Schemas</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Oracle Default Schema Protection Realm protects several roles and schemas.</p>
<ul style="list-style-type: disc;">
<li>
<p>Roles that are protected by default: <code class="codeph">CTXAPP</code>, <code class="codeph">OLAP_DBA</code>, <code class="codeph">EJBCLIENT</code>, <code class="codeph">OLAP_USER</code></p>
</li>
<li>
<p>Schemas that are protected by default: <code class="codeph">CTXSYS</code>, <code class="codeph">EXFSYS</code>, <code class="codeph">MDDATA</code>, <code class="codeph">MDSYS</code></p>
</li>
<li>
<p>Roles that are recommended for protection: <code class="codeph">APEX_ADMINISTRATOR_ROLE</code>, <code class="codeph">SPATIAL_CSW_ADMIN</code>, <code class="codeph">WFS_USR_ROLE</code>, <code class="codeph">CSW_USR_ROLE</code>, <code class="codeph">SPATIAL_WFS_ADMIN</code>, <code class="codeph">WM_ADMIN_ROLE</code></p>
</li>
<li>
<p>Schemas that are recommended for protection: <code class="codeph">APEX_030200</code>, <code class="codeph">OWBSYS</code>, <code class="codeph">WMSYS</code></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Oracle Default Schema Protection Realm Owners</p>
<p>The <code class="codeph">SYS</code>, <code class="codeph">CTXSYS</code>, and <code class="codeph">EXFSYS</code> users are the default owners of Oracle Default Schema Protection Realm. These users can grant the roles protected by this realm to other users, and grant permissions on its schemas to other users as well.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM71165"></a>
<div class="props_rev_3"><a id="GUID-466A5489-9E58-4D36-A984-1FBC5B5DC636"></a>
<h3 id="DVADM-GUID-466A5489-9E58-4D36-A984-1FBC5B5DC636" class="sect3">Oracle System Privilege and Role Management Realm</h3>
<div>
<p>Oracle System Privilege and Role Management Realm protects sensitive roles that are used to export and import data in an Oracle database.</p>
<p>This realm also contains authorizations for users who must grant system privileges.</p>
<p>User <code class="codeph">SYS</code> is the only default owner of this realm. Any user who is responsible for managing system privileges should be authorized as an owner to this realm. These users can grant the roles that are protected by this realm to other users.</p>
<ul style="list-style-type: disc;">
<li>
<p>Roles that are protected by default:</p>
<div class="tblformal" id="GUID-466A5489-9E58-4D36-A984-1FBC5B5DC636__GUID-FED46E55-9D93-4A21-8860-10ED027801D0">
<table class="cellalignment364" summary="List of roles, top to bottom, left to right">
<thead>
<tr class="cellalignment332">
<th class="cellalignment369" id="d18918e1649">Roles A-E</th>
<th class="cellalignment355" id="d18918e1651">Roles G-J</th>
<th class="cellalignment347" id="d18918e1653">Roles J-S</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1657" headers="d18918e1649">
<p><code class="codeph">AQ_ADMINISTRATOR_ROLE</code></p>
</td>
<td class="cellalignment357" headers="d18918e1657 d18918e1651">
<p><code class="codeph">GATHER_SYSTEM_STATISTICS</code></p>
</td>
<td class="cellalignment349" headers="d18918e1657 d18918e1653">
<p><code class="codeph">JAVAUSERPRIV</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1671" headers="d18918e1649">
<p><code class="codeph">AQ_USER_ROLE</code></p>
</td>
<td class="cellalignment357" headers="d18918e1671 d18918e1651">
<p><code class="codeph">GLOBAL_AQ_USER_ROLE</code></p>
</td>
<td class="cellalignment349" headers="d18918e1671 d18918e1653">
<p><code class="codeph">LOGSTDBY_ADMINISTRATOR</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1686" headers="d18918e1649">
<p><code class="codeph">DBA</code></p>
</td>
<td class="cellalignment357" headers="d18918e1686 d18918e1651">
<p><code class="codeph">HS_ADMIN_ROLE</code></p>
</td>
<td class="cellalignment349" headers="d18918e1686 d18918e1653">
<p><code class="codeph">OPTIMIZER_PROCESSING_RATE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1702" headers="d18918e1649">
<p><code class="codeph">DBA_OLS_STATUS</code></p>
</td>
<td class="cellalignment357" headers="d18918e1702 d18918e1651">
<p><code class="codeph">IMP_FULL_DATABASE</code></p>
</td>
<td class="cellalignment349" headers="d18918e1702 d18918e1653">
<p><code class="codeph">RECOVERY_CATALOG_OWNER</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1717" headers="d18918e1649">
<p><code class="codeph">DELETE_CATALOG_ROLE</code></p>
</td>
<td class="cellalignment357" headers="d18918e1717 d18918e1651">
<p><code class="codeph">JAVA_ADMIN</code></p>
</td>
<td class="cellalignment349" headers="d18918e1717 d18918e1653">
<p><code class="codeph">RESOURCE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1732" headers="d18918e1649">
<p><code class="codeph">DV_REALM_OWNER</code></p>
</td>
<td class="cellalignment357" headers="d18918e1732 d18918e1651">
<p><code class="codeph">JAVADEBUGPRIV</code></p>
</td>
<td class="cellalignment349" headers="d18918e1732 d18918e1653">
<p><code class="codeph">SCHEDULER_ADMIN</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1746" headers="d18918e1649">
<p><code class="codeph">DV_REALM_RESOURCE</code></p>
</td>
<td class="cellalignment357" headers="d18918e1746 d18918e1651">
<p><code class="codeph">JAVA_DEPLOY</code></p>
</td>
<td class="cellalignment349" headers="d18918e1746 d18918e1653">
<p><code class="codeph">SELECT_CATALOG_ROLE</code></p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1762" headers="d18918e1649">
<p><code class="codeph">EXECUTE_CATALOG_ROLE</code></p>
</td>
<td class="cellalignment357" headers="d18918e1762 d18918e1651">
<p><code class="codeph">JAVAIDPRIV</code></p>
</td>
<td class="cellalignment349" headers="d18918e1762 d18918e1653">
<p>-</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment370" id="d18918e1775" headers="d18918e1649">
<p><code class="codeph">EXP_FULL_DATABASE</code></p>
</td>
<td class="cellalignment357" headers="d18918e1775 d18918e1651">
<p><code class="codeph">JAVASYSPRIV</code></p>
</td>
<td class="cellalignment349" headers="d18918e1775 d18918e1653">
<p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
<li>
<p>Roles that are recommended for protection: <code class="codeph">DBFS_ROLE</code>, <code class="codeph">HS_ADMIN_EXECUTE_ROLE</code>, <code class="codeph">HS_ADMIN_SELECT_ROLE</code></p>
</li>
</ul>
</div>
</div>
<a id="DVADM71166"></a>
<div class="props_rev_3"><a id="GUID-EB50E681-B7FF-48C9-8C97-08167E7A916B"></a>
<h3 id="DVADM-GUID-EB50E681-B7FF-48C9-8C97-08167E7A916B" class="sect3">Oracle Default Component Protection Realm</h3>
<div>
<p>Oracle Default Component Protection Realm protects the <code class="codeph">SYSTEM</code> and <code class="codeph">OUTLN</code> schemas.</p>
<p>The authorized users of this realm are users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.</p>
</div>
</div>
</div>
<a id="DVADM70146"></a>
<div class="props_rev_3"><a id="GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B"></a>
<h2 id="DVADM-GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B" class="sect2">Creating a Realm</h2>
<div>
<p>To enable realm protection, you create the realm and configure it to include realm-secured objects, roles, and authorizations.</p>
<div class="section">
<p><a href="cfrealms.htm#GUID-2BA46470-2C9C-42B6-B57E-90446D1EC8A6" title="Oracle provides a set of guidelines for designing realms.">Guidelines for Designing Realms</a> provides advice on creating realms.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>From Cloud Control, log into Oracle Database Vault Administrator as a user who has been granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role.</span>
<div>
<p><a href="getting_started.htm#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for Oracle Database Vault.">Logging into Oracle Database Vault</a> explains how to log in.</p>
</div>
</li>
<li class="stepexpand"><span>In the Administration page, under Database Vault Components, click <span class="bold">Realms</span>.</span></li>
<li class="stepexpand"><span>In the Realms page, click <span class="bold">Create</span> to display the Create Realm page.</span>
<div>
<div class="figure" id="GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B__GUID-3BC1F4ED-09E5-4B5E-9ABB-90B706F32E8A"><img width="691" height="415" src="img/GUID-F793088E-7D48-46C6-A487-BAF418CE1E1A-default.gif" alt="Description of GUID-F793088E-7D48-46C6-A487-BAF418CE1E1A-default.gif follows" title="Description of GUID-F793088E-7D48-46C6-A487-BAF418CE1E1A-default.gif follows"/><br/>
<a href="img_text/GUID-F793088E-7D48-46C6-A487-BAF418CE1E1A-default.htm">Description of the illustration GUID-F793088E-7D48-46C6-A487-BAF418CE1E1A-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>In the Create Realm page, enter the following settings:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Name:</span> Enter a name for the realm. It can contain up to 90 characters in mixed-case. This attribute is mandatory.</p>
<p>Oracle suggests that you use the name of the protected application as the realm name (for example, <code class="codeph">hr_app</code> for an human resources application).</p>
</li>
<li>
<p><span class="bold">Description:</span> Enter a brief description of the realm. The description can contain up to 1024 characters in mixed-case. This attribute is optional.</p>
<p>You may want to include a description for the business objective of the given application protection and document all other security policies that compliment the realm&#39;s protection. Also document who is authorized to the realm, for what purpose, and any possible emergency authorizations.</p>
</li>
<li>
<p><span class="bold">Mandatory Realm:</span> Select this check box to create the realm as a mandatory realm. See <a href="cfrealms.htm#GUID-9ECB64CF-9740-4FCC-BC2E-A0E6F19094FC" title="By default, users who own or have object privileges are allowed to access realm-protected objects without explicit realm authorization.">Mandatory Realms to Restrict User Access to Objects within a Realm</a> for more information about mandatory realms.</p>
</li>
<li>
<p><span class="bold">Status:</span> Select either <span class="bold">Enabled</span> or <span class="bold">Disabled</span> to enable or disable the realm. This attribute is mandatory.</p>
</li>
<li>
<p><span class="bold">Audit Options:</span> Select one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Audit Disabled:</span> Does not create an audit record.</p>
</li>
<li>
<p><span class="bold">Audit on Success:</span> Creates an audit record for authorized activities.</p>
</li>
<li>
<p><span class="bold">Audit on Failure:</span> Creates an audit record when a realm violation occurs (for example, when an unauthorized user tries to modify an object that is protected by the realm).</p>
</li>
<li>
<p><span class="bold">Audit on Success or Failure:</span> Creates an audit record for any activity that occurs in the realm, including both authorized and unauthorized activities.</p>
</li>
</ul>
<p>In a non-unified auditing environment, Oracle Database Vault writes the audit trail to the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table. See <a href="audplcy.htm#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="You can audit activities in Oracle Database Vault, such as changes to policy configurations.">Auditing Oracle Database Vault</a>, for more information. If you have enabled unified auditing, then this setting does not capture audit records. Instead, you must create audit policies to capture this information, as described in <a class="olink DBSEG419" target="_blank" href="../DBSEG/audit_config.htm#DBSEG419"><span><cite>Oracle Database Security Guide</cite></span></a>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Next</span> to display the Realm secured objects page.</span>
<div>
<p>See <a href="cfrealms.htm#GUID-66339B56-9F8B-48DF-9BCE-7137BBF1EAB0" title="Realm-secured objects define the territory&mdash;a set of schema and database objects and roles&mdash;that a realm protects.">About Realm-Secured Objects</a> for conceptual information about the settings for this page.</p>
</div>
</li>
<li class="stepexpand"><span>Click the <span class="bold">Add</span> button, and in the Add Secured Object dialog box, enter the following information:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Object Owner:</span> From the list, select the name of the database schema owner. You can enter the <code class="codeph">%</code> character if the object you want to secure with the realm is a role. This attribute is mandatory.</p>
</li>
<li>
<p><span class="bold">Object Type:</span> From the list, select the type of the database object, such as <code class="codeph">TABLE</code>, <code class="codeph">INDEX</code>, or <code class="codeph">ROLE</code>. This attribute is mandatory.</p>
<p>You can add as many objects of any type as you want to the realm.</p>
<p>By default, the <span class="bold">Object Type</span> box contains the % wildcard character to include all object types for the specified <span class="bold">Object Owner</span>. However, it does not include roles, which do not have specific schema owners in the database and must be specified explicitly.</p>
</li>
<li>
<p><span class="bold">Object Name:</span> Enter the name of the object in the database that the realm must protect, or enter <code class="codeph">%</code> to specify all objects (except roles) for the object owner that you have specified. This attribute is mandatory.</p>
<p>By default, the <span class="bold">Object Name</span> field contains the % wildcard character to encompass the entire schema specified for <span class="bold">Object Type</span> and <span class="bold">Object Owner</span>. Note that the % wildcard character applies to objects that do not yet exist and currently existing objects.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Next</span> to display the Realm authorizations page.</span>
<div>
<p>See <a href="cfrealms.htm#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a> for conceptual information about the settings for this page.</p>
</div>
</li>
<li class="stepexpand"><span>Click the <span class="bold">Add</span> button, and in the Add Authorizations dialog box, enter the following information:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Realm Authorization Grantee:</span> From the list, select the database account or role to whom you want to grant the realm authorization. This attribute is mandatory.</p>
<p>This list shows all accounts and roles in the system, not just accounts with system privileges.</p>
</li>
<li>
<p><span class="bold">Realm Authorization Type:</span> Select either of the following settings. This attribute is mandatory.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Participant:</span> This account or role can exercise system privileges to access, manipulate, and create objects protected by the realm, provided that these privileges have been granted using the standard Oracle Database privilege grant process. A realm can have multiple participants.</p>
</li>
<li>
<p><span class="bold">Owner:</span> This account or role has the same rights as the realm participant, plus the authorization to grant or revoke realm-secured database roles. The realm owner can grant or revoke privileges on realm-protected objects to other users. A realm can have multiple owners.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Realm Authorization Rule Set:</span> Select from the available rule sets that have been created for your site. You can select only one rule set, but the rule set can have multiple rules.</p>
<p>See <a href="cfrulset.htm#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="A rule defines the behavior that you want to control; a rule set is a named collection of rules.">\</a> for more information about defining rules to govern the realm authorization.</p>
<p>Any auditing and custom event handling associated with the rule set occurs as part of the realm authorization processing.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Next</span> to display the Review page.</span></li>
<li class="stepexpand"><span>In the Review page, check the settings you have created.</span>
<div>
<p>For example:</p>
<div class="figure" id="GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B__GUID-A5A52FAA-57EC-401D-8126-42868B31368A"><img width="701" height="409" src="img/GUID-085B53C0-B6CE-46C7-BDB5-D1298EFEB808-default.gif" alt="Description of GUID-085B53C0-B6CE-46C7-BDB5-D1298EFEB808-default.gif follows" title="Description of GUID-085B53C0-B6CE-46C7-BDB5-D1298EFEB808-default.gif follows"/><br/>
<a href="img_text/GUID-085B53C0-B6CE-46C7-BDB5-D1298EFEB808-default.htm">Description of the illustration GUID-085B53C0-B6CE-46C7-BDB5-D1298EFEB808-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Finish</span> to complete the realm creation.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-CC84928B-7D89-426E-9517-CC04CCEACD9B__GUID-9F61E244-F7AA-499C-B09F-3A89CFD6D2EF">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfrealms.htm#GUID-66339B56-9F8B-48DF-9BCE-7137BBF1EAB0" title="Realm-secured objects define the territory&mdash;a set of schema and database objects and roles&mdash;that a realm protects.">About Realm-Secured Objects</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a></p>
</li>
<li>
<p><a href="dba.htm#GUID-199489A3-6050-4A5C-8144-B85E62E92D58" title="You can propagate Database Vault policies to other Database Vault-protected databases.">Propagating Oracle Database Vault Policies to Other Databases</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM70148"></a>
<div class="props_rev_3"><a id="GUID-66339B56-9F8B-48DF-9BCE-7137BBF1EAB0"></a>
<h2 id="DVADM-GUID-66339B56-9F8B-48DF-9BCE-7137BBF1EAB0" class="sect2">About Realm-Secured Objects</h2>
<div>
<p>Realm-secured objects define the territory&mdash;a set of schema and database objects and roles&mdash;that a realm protects.</p>
<p>You can create the following types of protections:</p>
<ul style="list-style-type: disc;">
<li>
<p>Objects from multiple database accounts or schemas can be under the same realm.</p>
</li>
<li>
<p>One object can belong to multiple realms.</p>
<p>If an object belongs to multiple realms, then Oracle Database Vault checks the realms for the proper authorization. For <code class="codeph">SELECT</code>, DDL, and DML statements, as long as a user is a participant in one of the realms, and if the command rules permit it, then the commands that the user enters are allowed. For <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations of a database role in multiple realms, the person performing the <code class="codeph">GRANT</code> or <code class="codeph">REVOKE</code> operation must be the realm owner. Schema owners can perform DML operations on objects that are protected by multiple regular realms.</p>
<p>If one of the realms is a mandatory realm, then the user who wants to access the object must be a realm owner or participant in the mandatory realm. During the authorization checking process, the non-mandatory realms are ignored. If there are multiple mandatory realms that protect the object, then the user who wants to access the object must be authorized in all of the mandatory realms.</p>
</li>
</ul>
</div>
</div>
<a id="DVADM70151"></a>
<div class="props_rev_3"><a id="GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB"></a>
<h2 id="DVADM-GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" class="sect2">About Realm Authorization</h2>
<div>
<p>Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.</p>
<p>You can grant a realm authorization to an account or role to allow the use of its system privileges in the following situations:</p>
<ul style="list-style-type: disc;">
<li>
<p>When the user must create or access realm-secured objects</p>
</li>
<li>
<p>When a user must grant or revoke realm-secured roles</p>
</li>
</ul>
<p>A user who has been granted realm authorization as either a realm owner or a realm participant can use its system privileges to access secured objects in the realm.</p>
<p>Note the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Realm owners cannot add other users to their realms as owners or participants. Only users who have the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role are allowed to add users as owners or participants to a realm.</p>
</li>
<li>
<p>Users who have been granted the <code class="codeph">DV_OWNER</code> role can add themselves to a realm authorization.</p>
</li>
<li>
<p>A realm owner, but not a realm participant, can grant or revoke realm secured roles or grant or revoke object privileges on realm secured objects to anyone.</p>
</li>
<li>
<p>A user can be granted either as a realm owner or a realm participant, but not both. However, you can update the authorization types of existing realm authorizations.</p>
</li>
</ul>
<p>Use the Edit Realm page to manage realm authorizations. You can create, edit, and remove realm authorizations. To track configuration information for the authorization of a realm, see <span class="q">&#34;<a href="reports.htm#GUID-9BB457EC-EDBD-48DB-9719-964FD8A4D7B4" title="The Realm Authorization Configuration Issues Report displays Oracle Database Vault realm configuration issues.">Realm Authorization Configuration Issues Report</a>&#34;</span>.</p>
</div>
</div>
<a id="DVADM70154"></a>
<div class="props_rev_3"><a id="GUID-7205A1C7-FC62-46F7-B60A-CC4BC9C86BCC"></a>
<h2 id="DVADM-GUID-7205A1C7-FC62-46F7-B60A-CC4BC9C86BCC" class="sect2">Modifying the Enablement Status of a Realm</h2>
<div>
<p>You can disable or enable a realm from Enterprise Manager Cloud Control.</p>
<div class="section"></div>
<!-- class="section" -->
<ol>
<li><span>In the Oracle Database Vault Administration page, select <span class="bold">Realms</span>.</span></li>
<li><span>In the Realms page, select the realm you want to disable or enable, and then select <span class="bold">Edit</span>.</span></li>
<li><span>In the Edit Realm page, under Status in the General section, select either <span class="bold">Disabled</span> or <span class="bold">Enabled</span>.</span></li>
<li><span>Click <span class="bold">Done</span>, and then click <span class="bold">Finished</span>.</span></li>
</ol>
</div>
</div>
<a id="DVADM70155"></a>
<div class="props_rev_3"><a id="GUID-5AD81762-3DFF-4AC7-9D6F-240234DB87EB"></a>
<h2 id="DVADM-GUID-5AD81762-3DFF-4AC7-9D6F-240234DB87EB" class="sect2">Deleting a Realm</h2>
<div>
<p>You can use Enterprise Manager Cloud Control to delete realms.</p>
<ol>
<li class="stepexpand"><span>Locate the various references to the realm that you want to delete by querying the realm-related Oracle Database Vault data dictionary views.</span>
<div>
<p>See <a href="views.htm#GUID-C0CEF4FC-DB4C-4AD5-9671-C0861A647183" title="You can find information about the Oracle Database Vault configuration settings by querying the Database Vault-specific data dictionary views.">Oracle Database Vault Data Dictionary Views</a> for more information about these views.</p>
</div>
</li>
<li class="stepexpand"><span>In the Oracle Database Vault Administration page, select <span class="bold">Realms</span>.</span></li>
<li class="stepexpand"><span>In the Realms page, select the realm you want to delete, and then select <span class="bold">Remove</span>.</span></li>
<li class="stepexpand"><span>In the Confirmation window, click <span class="bold">Yes</span>.</span>
<div>
<p>Oracle Database Vault deletes the configuration for the realm, including realm authorizations. It does not delete the rule sets used for realm authorizations.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="DVADM70156"></a>
<div class="props_rev_3"><a id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA"></a>
<h2 id="DVADM-GUID-E3560CA1-7680-4B7B-A916-E138661952AA" class="sect2">How Realms Work</h2>
<div>
<p>When an appropriately privileged database account issues a SQL statement that affects an object within a realm, a special set of activities occur.</p>
<p>These privileges include DDL, DML, <code class="codeph">EXECUTE</code>, <code class="codeph">GRANT</code>, <code class="codeph">REVOKE,</code> or <code class="codeph">SELECT</code> privileges.</p>
<ol>
<li>
<p>Does the SQL statement affect objects secured by a realm?</p>
<p>If yes, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAJIGBI">2</a>. If no, then realms do not affect the SQL statement. Go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CHDGIFHG">7</a>. If the object affected by the command is not secured in any realms, then realms do not affect the SQL statement being attempted.</p>
</li>
<li id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAJIGBI">
<p>Is the realm a mandatory realm or regular realm?</p>
<p>If yes, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAHCDBE">4</a>. If it is regular realm, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAECHFC">3</a>.</p>
</li>
<li id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAECHFC">
<p>Is the database account using a system privilege to execute the SQL statement?</p>
<p>If yes, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAHCDBE">4</a>. If no, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAEAJCC">6</a>. If the session has object privileges on the object in question for <code class="codeph">SELECT</code>, <code class="codeph">EXECUTE</code>, and DML statements only, then the realm protection is not enforced. Realms protect against the use of any system privilege on objects or roles protected by the realm. Even users with object privileges for objects that are protected by regular realms are prevented from performing DDL operations.</p>
<p>Remember that if the <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code> initialization parameter has been set to <code class="codeph">TRUE</code>, then non-<code class="codeph">SYS</code> users have access to <code class="codeph">SYS</code> schema objects. For better security, ensure that <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code> is set to <code class="codeph">FALSE</code>.</p>
</li>
<li id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAHCDBE">
<p>Is the database account a realm owner or realm participant?</p>
<p>If yes, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAEJDJG">5</a>. Otherwise, a realm violation occurs and the statement is not allowed to succeed. If the command is a <code class="codeph">GRANT</code> or <code class="codeph">REVOKE</code> of a role that is protected by the realm, or the <code class="codeph">GRANT</code> or <code class="codeph">REVOKE</code> of an object privilege on an object protected by the realm, then the session must be authorized as the realm owner directly or indirectly through roles.</p>
</li>
<li id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAEJDJG">
<p>Is the realm authorization for the database account conditionally based on a rule set?</p>
<p>If yes, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAEAJCC">6</a>. If no, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CHDGIFHG">7</a>.</p>
</li>
<li id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CJAEAJCC">
<p>Does the rule set evaluate to <code class="codeph">TRUE</code>?</p>
<p>If yes, then go to Step <a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CHDGIFHG">7</a>. If no, then there is a realm violation, so the SQL statement is not allowed to succeed.</p>
</li>
<li id="GUID-E3560CA1-7680-4B7B-A916-E138661952AA__CHDGIFHG">
<p>Does a command rule prevent the command from executing?</p>
<p>If yes, then there is a command rule violation and the SQL statement fails. If no, then there is no realm or command rule violation, so the command succeeds.</p>
<p>For example, the <code class="codeph">HR</code> account may have the <code class="codeph">DROP ANY TABLE</code> privilege and may be the owner of the <code class="codeph">HR</code> realm, but a command rule can prevent <code class="codeph">HR</code> from dropping any tables in the <code class="codeph">HR</code> schema unless it is during its monthly maintenance window. Command rules apply to the use of the <code class="codeph">ANY</code> system privileges and object privileges and are evaluated after the realm checks.</p>
</li>
</ol>
<p>In addition, because a session is authorized in a realm, it does not mean the account has full control on objects protected by the realm. Realm authorization does <span class="italic">not</span> implicitly grant extra privileges to the account. The account still must have system privileges or object privileges to access the objects. For example, an account or role may have the <code class="codeph">SELECT ANY</code> table privilege and be a participant in the <code class="codeph">HR</code> realm. This means the account or the account granted the role could query the <code class="codeph">HR.EMPLOYEES</code> table. Being a participant in the realm does not mean the account or role can <code class="codeph">DROP</code> the <code class="codeph">HR.EMPLOYEES</code> table. Oracle Database Vault does not replace the discretionary access control model in the existing Oracle database. It functions as a layer on top of this model for both realms and command rules.</p>
<p>Note the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Protecting a table in a realm does not protect the view by default. Any view that must be protected should be added to the realm regardless of whether the view was created before or after the table was added to the realm.</p>
</li>
<li>
<p>For invoker&#39;s right procedures that access realm protected objects, the invoker of the procedure must be authorized to the realm.</p>
</li>
<li>
<p>Be aware that realm protection does not protect a table if access to the table has been granted to <code class="codeph">PUBLIC</code>. For example, if <code class="codeph">SELECT ON</code> <span class="italic"><code class="codeph">table_name</code></span> is granted to <code class="codeph">PUBLIC</code>, then every user has access to <span class="italic"><code class="codeph">table_name</code></span> (unless the table is protected by a mandatory realm), even if this table is protected by a realm. As a best practice, revoke unnecessary privileges from <code class="codeph">PUBLIC</code>.</p>
</li>
</ul>
</div>
</div>
<a id="DVADM70157"></a>
<div class="props_rev_3"><a id="GUID-D6D32C23-A04D-4FAA-8CB0-D23E14B0A2AF"></a>
<h2 id="DVADM-GUID-D6D32C23-A04D-4FAA-8CB0-D23E14B0A2AF" class="sect2">How Authorizations Work in a Realm</h2>
<div>
<p>Realm authorizations prevent users from performing activities if the users do not have the correct privileges.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfrealms.htm#GUID-2D452FA4-CA3C-4E70-916F-F7FC1CE20009" title="Realms protect data from access through system privileges.">About Authorizations in a Realm</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-6E354066-4111-4E93-93E0-350BDA6E4A26" title="You can create realms that protect objects from users who have system privileges and other powerful privileges, for example.">Examples of Realm Authorizations</a></p>
</li>
</ul>
</div>
<a id="DVADM71438"></a>
<div class="props_rev_3"><a id="GUID-2D452FA4-CA3C-4E70-916F-F7FC1CE20009"></a>
<h3 id="DVADM-GUID-2D452FA4-CA3C-4E70-916F-F7FC1CE20009" class="sect3">About Authorizations in a Realm</h3>
<div>
<p>Realms protect data from access through system privileges.</p>
<p>Realms do not give additional privileges to the data owner or participants.</p>
<p>The realm authorization provides a run-time mechanism to check logically if a user&#39;s command should be allowed or denied to access objects specified in the command and to proceed with its execution.</p>
<p>System privileges are sweeping database privileges such as <code class="codeph">CREATE ANY TABLE</code> and <code class="codeph">DELETE ANY TABLE</code>. These privileges typically apply across schemas and bypass the need for object privileges. Data dictionary views such as <code class="codeph">DBA_SYS_PRIVS</code>, <code class="codeph">USER_SYS_PRIVS</code>, and <code class="codeph">ROLE_SYS_PRIVS</code> list the system privileges for database accounts and roles. Database authorizations work normally for objects not protected by a realm. However, a user must be authorized as a realm owner or participant to successfully use his or her system privileges on objects secured by the realm. A realm violation prevents the use of system privileges and can be audited.</p>
<p>Mandatory realms block both object privileged-based access and system privilege-based access. This means that even the object owner cannot have access if he or she is not authorized to access the realm. Users can access secured objects in the mandatory realm only if the user or role is authorized to do so.</p>
</div>
</div>
<div class="props_rev_3"><a id="GUID-6E354066-4111-4E93-93E0-350BDA6E4A26"></a>
<h3 id="DVADM-GUID-6E354066-4111-4E93-93E0-350BDA6E4A26" class="sect3">Examples of Realm Authorizations</h3>
<div>
<p>You can create realms that protect objects from users who have system privileges and other powerful privileges, for example.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cfrealms.htm#GUID-9639CBDE-AE52-4297-A797-4D968A28D297" title="The ORA-47401 error appears when unauthorized users try to create tables.">Example: Unauthorized User Trying to Create a Table</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-65029C63-F7CA-4D4F-A356-2C0B2A9E8AFB" title="An ORA-01031: insufficient privileges error appears for unauthorized user access.">Example: Unauthorized User Trying to Use the DELETE ANY TABLE Privilege</a></p>
</li>
<li>
<p><a href="cfrealms.htm#GUID-7340D6C7-99AD-4AA1-BF23-7461A8001D81" title="Authorized users are allowed to perform the activities for which they are authorized.">Example: Authorized User Performing DELETE Operation</a></p>
</li>
</ul>
</div>
<a id="DVADM70158"></a><a id="DVADM71439"></a>
<div class="props_rev_3"><a id="GUID-9639CBDE-AE52-4297-A797-4D968A28D297"></a>
<h4 id="DVADM-GUID-9639CBDE-AE52-4297-A797-4D968A28D297" class="sect4">Example: Unauthorized User Trying to Create a Table</h4>
<div>
<p>The <code class="codeph">ORA-47401</code> error appears when unauthorized users try to create tables.</p>
<p><a href="cfrealms.htm#GUID-9639CBDE-AE52-4297-A797-4D968A28D297__CJAIECBJ">Example 5-1</a> shows what happens when an unauthorized user who has the <code class="codeph">CREATE ANY TABLE</code> system privilege tries to create a table in a realm where the <code class="codeph">HR</code> schema is protected by a realm.</p>
<div class="example" id="GUID-9639CBDE-AE52-4297-A797-4D968A28D297__CJAIECBJ">
<p class="titleinexample">Example 5-1 Unauthorized User Trying to Create a Table</p>
<pre dir="ltr">CREATE TABLE HR.demo2 (col1 NUMBER(1));
</pre>
<p>The following output should appear</p>
<pre dir="ltr">ORA-47401: Realm violation for CREATE TABLE on HR.DEMO2
</pre>
<p>As you can see, the attempt by the unauthorized user fails. Unauthorized use of system privileges such as <code class="codeph">SELECT ANY TABLE</code>, <code class="codeph">CREATE ANY TABLE</code>, <code class="codeph">DELETE ANY TABLE</code>, <code class="codeph">UPDATE ANY TABLE</code>, <code class="codeph">INSERT ANY TABLE</code>, <code class="codeph">CREATE ANY INDEX</code>, and others results in failure.</p>
</div>
<!-- class="example" --></div>
</div>
<a id="DVADM70159"></a><a id="DVADM71440"></a>
<div class="props_rev_3"><a id="GUID-65029C63-F7CA-4D4F-A356-2C0B2A9E8AFB"></a>
<h4 id="DVADM-GUID-65029C63-F7CA-4D4F-A356-2C0B2A9E8AFB" class="sect4">Example: Unauthorized User Trying to Use the DELETE ANY TABLE Privilege</h4>
<div>
<p>An <code class="codeph">ORA-01031: insufficient privileges</code> error appears for unauthorized user access.</p>
<p><a href="cfrealms.htm#GUID-65029C63-F7CA-4D4F-A356-2C0B2A9E8AFB__CJABDEHI">Example 5-2</a> shows what happens when an unauthorized database account tries to use his <code class="codeph">DELETE ANY TABLE</code> system privilege to delete an existing record, the database session returns the following error.</p>
<div class="example" id="GUID-65029C63-F7CA-4D4F-A356-2C0B2A9E8AFB__CJABDEHI">
<p class="titleinexample">Example 5-2 Unauthorized User Trying to Use the DELETE ANY TABLE Privilege</p>
<pre dir="ltr">DELETE FROM HR.EMPLOYEES WHERE EMPNO = 8002;
</pre>
<p>The following output should appear:</p>
<pre dir="ltr">ERROR at line 1:
ORA-01031: insufficient privileges
</pre>
<p>Realms do not affect direct privileges on objects. For example, a user granted delete privileges to the <code class="codeph">HR.EMPLOYEES</code> table can successfully delete records without requiring realm authorizations. Therefore, realms should minimally affect normal business application usage for database accounts.</p>
</div>
<!-- class="example" --></div>
</div>
<a id="DVADM70160"></a><a id="DVADM71441"></a>
<div class="props_rev_3"><a id="GUID-7340D6C7-99AD-4AA1-BF23-7461A8001D81"></a>
<h4 id="DVADM-GUID-7340D6C7-99AD-4AA1-BF23-7461A8001D81" class="sect4">Example: Authorized User Performing DELETE Operation</h4>
<div>
<p>Authorized users are allowed to perform the activities for which they are authorized.</p>
<p><a href="cfrealms.htm#GUID-7340D6C7-99AD-4AA1-BF23-7461A8001D81__CJABFDCH">Example 5-3</a> shows how an authorized user can perform standard tasks allowed within the realm.</p>
<div class="example" id="GUID-7340D6C7-99AD-4AA1-BF23-7461A8001D81__CJABFDCH">
<p class="titleinexample">Example 5-3 Authorized User Performing DELETE Operation</p>
<pre dir="ltr">DELETE FROM HR.EMPLOYEES WHERE EMPNO = 8002;

1 row deleted.
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
<a id="DVADM70161"></a>
<div class="props_rev_3"><a id="GUID-8A1251AB-33FF-4C7B-8DE7-B474A89355E8"></a>
<h2 id="DVADM-GUID-8A1251AB-33FF-4C7B-8DE7-B474A89355E8" class="sect2">Access to Objects That Are Protected by a Realm</h2>
<div>
<p>You can protect an object by a realm, but still enable access to objects that are part of this realm-protected object.</p>
<p>For example, suppose you create a realm around a specific table. However, you want users to be able to create an index on this table. You can accomplish this as follows, depending on the following scenarios.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">The user does not have the CREATE ANY INDEX privilege.</span> As the realm owner of the table, grant the <code class="codeph">CREATE INDEX ON</code> <span class="italic"><code class="codeph">table</code></span> privilege to the user who must create the index.</p>
</li>
<li>
<p><span class="bold">The user has the CREATE ANY INDEX privilege.</span> In this case, create another realm and make all index types as the secured objects and grant that user participant authorization to the realm. (Remember that having the <code class="codeph">CREATE ANY INDEX</code> privilege alone is not sufficient for a non-realm participant to create an index in a realm-protected table.)</p>
</li>
<li>
<p><span class="bold">You want all of your database administrators to be able to create an index and they have the CREATE ANY INDEX privilege.</span> In your data protection realm, specify all object types to be protected <span class="italic">except</span> the index types. This permits all of your administrators to create indexes for the protected table.</p>
</li>
</ul>
</div>
</div>
<a id="DVADM70163"></a><a id="DVADM70162"></a>
<div class="props_rev_3"><a id="GUID-8C3B9940-063A-4346-ABFC-24881C92DB27"></a>
<h2 id="DVADM-GUID-8C3B9940-063A-4346-ABFC-24881C92DB27" class="sect2">Example of How Realms Work</h2>
<div>
<p>Realms can provide protection in which two users who each have the same privileges must have separate access levels for an object.</p>
<p><a href="cfrealms.htm#GUID-8C3B9940-063A-4346-ABFC-24881C92DB27__CEGBHGGJ">Figure 5-1</a> illustrates how data within a realm is protected.</p>
<p>In this scenario, two users, each in charge of a different realm, have the same system privileges. The owner of a realm can be either a database account or a database role. As such, each of the two roles, <code class="codeph">OE_ADMIN</code> and <code class="codeph">HR_ADMIN</code>, can be protected by a realm as a secured object <span class="italic">and</span> be configured as the owner of a realm.</p>
<p>Further, only a realm owner, such as <code class="codeph">OE_ADMIN</code>, can grant or revoke database roles that are protected by the realm. The realm owner cannot manage roles protected by other realms such as the <code class="codeph">DBA</code> role created by <code class="codeph">SYS</code> in the Oracle System Privilege and Role Management realm. Any unauthorized attempt to use a system privilege to access realm-protected objects raises a realm violation, which can be audited. The powers of each realm owner are limited within the realm itself. For example, <code class="codeph">OE_ADMIN</code> has no access to the Human Resources realm, and <code class="codeph">HR_ADMIN</code> has no access to the Order Entry realm.</p>
<div class="figure" id="GUID-8C3B9940-063A-4346-ABFC-24881C92DB27__CEGBHGGJ">
<p class="titleinfigure">Figure 5-1 How Authorizations Work for Realms and Realm Owners</p>
<img width="645" height="332" src="img/GUID-41F0D91A-756A-4745-B4EE-D20529766F6D-default.png" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows"/><br/>
<a href="img_text/GUID-41F0D91A-756A-4745-B4EE-D20529766F6D-print.htm">Description of &#34;Figure 5-1 How Authorizations Work for Realms and Realm Owners&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-8C3B9940-063A-4346-ABFC-24881C92DB27__GUID-41805252-4690-4C10-BEC0-C1C600952AC7">
<p class="notep1">See Also:</p>
<p><a href="getting_started.htm#GUID-4EEDEFCC-51EB-43A4-9BBA-1667A26B25CD" title="This tutorial shows how to create a realm around the HR schema.">Quick Start Tutorial: Securing a Schema from DBA Access</a> for a tutorial on how to create and use a realm</p>
</div>
</div>
</div>
<a id="DVADM70164"></a>
<div class="props_rev_3"><a id="GUID-5726E22D-B596-47E0-8D7C-0B352A422864"></a>
<h2 id="DVADM-GUID-5726E22D-B596-47E0-8D7C-0B352A422864" class="sect2">How Realms Affect Other Oracle Database Vault Components</h2>
<div>
<p>Realms have no effect on factors, identities, or rule sets, but they do affect command rules.</p>
<p>With command rules, Oracle Database Vault evaluates the realm authorization first when processing SQL statements.</p>
<p><a href="cfrealms.htm#GUID-E3560CA1-7680-4B7B-A916-E138661952AA" title="When an appropriately privileged database account issues a SQL statement that affects an object within a realm, a special set of activities occur.">How Realms Work</a> explains the steps that Oracle Database Vault takes to process SQL statements that affect objects in a realm. <a href="cfcmdaut.htm#GUID-725071B1-17AF-43FD-936E-3586FF15FF33" title="Command rules follow a set of steps to check their associated components.">How Command Rules Work</a> describes how command rules are processed.</p>
</div>
</div>
<a id="DVADM70165"></a>
<div class="props_rev_3"><a id="GUID-2BA46470-2C9C-42B6-B57E-90446D1EC8A6"></a>
<h2 id="DVADM-GUID-2BA46470-2C9C-42B6-B57E-90446D1EC8A6" class="sect2">Guidelines for Designing Realms</h2>
<div>
<p>Oracle provides a set of guidelines for designing realms.</p>
<ul style="list-style-type: disc;">
<li>
<p>Create realms based on the schemas and roles that form a database application.</p>
<p>Define database roles with the minimum and specific roles and system privileges required to maintain the application objects and grant the role to named accounts. You then can add the role as an authorized member of the realm. For object-level privileges on objects protected by the realm and required by an application, create a role and grant these minimum and specific object-level privileges to the role, and then grant named accounts this role. In most cases, these types of roles do not need to be authorized in the realm unless <code class="codeph">ANY</code>-style system privileges are already in use. A model using the principle of least privilege is ideal for any database application.</p>
</li>
<li>
<p>A database object can belong to multiple realms and an account or role can be authorized in multiple realms.</p>
<p>To provide limited access to a subset of a database schema (for example, just the <code class="codeph">EMPLOYEES</code> table in the <code class="codeph">HR</code> schema), or roles protected by a realm, create a new realm with just the minimum required objects and authorizations.</p>
</li>
<li>
<p>If you want to add a role to a realm as a grantee, create a realm to protect the role. Doing so prevents users who have been granted the <code class="codeph">GRANT ANY ROLE</code> system privilege, such as the <code class="codeph">SYSTEM</code> user account, from granting the role to themselves.</p>
</li>
<li>
<p>If you want to add the <code class="codeph">SYS</code> user account to a realm authorization, you must add user <code class="codeph">SYS</code> explicitly and not through a role (such as the <code class="codeph">DBA</code> role).</p>
</li>
<li>
<p>Be mindful of the privileges currently allowed to a role that you plan to add as a realm authorization.</p>
<p>Realm authorization of a role can be accidentally granted and not readily apparent if an account such as <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code> creates a role for the first time and the Oracle Database Vault administrator adds this role as a realm authorization. This is because the account that creates a role is implicitly granted the role when it is created.</p>
</li>
<li>
<p>Sometimes you must temporarily relax realm protections for an administrative task. Rather than disabling the realm, have the Security Manager (<code class="codeph">DV_ADMIN</code> or <code class="codeph">DV_OWNER</code>) log in, add the named account to the authorized accounts for the realm, and set the authorization rule set to Enabled. Then in the enabled rule set, turn on all auditing for the rule set. You can remove the realm authorization when the administrative task is complete.</p>
</li>
<li>
<p>If you want to grant <code class="codeph">ANY</code> privileges to new users, Oracle recommends that you add a database administrative user to the Oracle System Privilege and Role Management realm so that this user can grant other users <code class="codeph">ANY</code> privileges, if they need them. For example, using a named account to perform the <code class="codeph">GRANT</code> of the <code class="codeph">ANY</code> operations enables you to audit these operations, which creates an audit trail for accountability.</p>
</li>
<li>
<p>If you drop a table, index, or role that has been protected by a realm and then recreate it using the same name, the realm protection is not restored. You must re-create the realm protection for the new table, index, or role. However, you can automatically enforce protection for all future tables, indexes, and roles within a specified schema. For example, to enforce protection for all future tables:</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.ADD_OBJECT_TO_REALM(&#39;<span class="italic">realm_name</span>&#39;, &#39;<span class="italic">schema_name</span>&#39;, &#39;%&#39;, &#39;TABLE&#39;);
END;
/
</pre></li>
</ul>
</div>
</div>
<a id="DVADM70166"></a>
<div class="props_rev_3"><a id="GUID-38AA3E28-E29D-412B-9CB6-2095411AC9BB"></a>
<h2 id="DVADM-GUID-38AA3E28-E29D-412B-9CB6-2095411AC9BB" class="sect2">How Realms Affect Performance</h2>
<div>
<p>Realms can affect database performance in a variety situations, such as with DDL and DML operations.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">DDL and DML operations on realm-protected objects do not have a measurable effect on Oracle Database.</span> Oracle recommends that you create the realm around the entire schema, and then authorize specific users to perform only specific operations related to their assigned tasks. For finer-grained control, you can define realms around individual tables and authorize users to perform certain operations on them, and also have a realm around the entire schema to protect the entire application. Be aware, however, that this type of configuration may slow performance, but it does enable you to grant realm authorization to some of the objects in a schema.</p>
</li>
<li>
<p><span class="bold">Auditing affects performance.</span> To achieve the best performance, Oracle recommends that you use fine-grained auditing rather than auditing all operations.</p>
</li>
<li>
<p><span class="bold">Periodically check the system performance.</span> You can do so by running tools such as Oracle Enterprise Manager (including Oracle Enterprise Manager Cloud Control, which is installed by default with Oracle Database), Automatic Workload Repository (AWR), and <code class="codeph">TKPROF</code>.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-38AA3E28-E29D-412B-9CB6-2095411AC9BB__ORACLEDATABASEPERFORMANCETUNINGGUID-630F00DB">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink TGDBA025" target="_blank" href="../TGDBA/pfgrf_perf_overview.htm#TGDBA025"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn how to monitor database performance</p>
</li>
<li>
<p><a class="olink TGSQL809" target="_blank" href="../TGSQL/tgsql_trace.htm#TGSQL809"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to monitor the performance of individual SQL and PL/SQL statements</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DVADM70168"></a><a id="DVADM70169"></a><a id="DVADM70167"></a>
<div class="props_rev_3"><a id="GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D"></a>
<h2 id="DVADM-GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D" class="sect2">Realm Related Reports and Data Dictionary Views</h2>
<div>
<p>Oracle Database Vault provides reports and data dictionary views that are useful for analyzing realms.</p>
<div class="section">
<p><a href="cfrealms.htm#GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D__CJAEAHFB" title="Realms reports">Table 5-1</a> lists the Oracle Database Vault reports. See <a href="reports.htm#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault provides reports that track activities, such as the Database Vault configuration settings.">Oracle Database Vault Reports</a>, for information about how to run these reports.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D__CJAEAHFB">
<p class="titleintable">Table 5-1 Reports Related to Realms</p>
<table class="cellalignment338" title="Reports Related to Realms" summary="Realms reports">
<thead>
<tr class="cellalignment332">
<th class="cellalignment371" id="d18918e4524">Report</th>
<th class="cellalignment372" id="d18918e4527">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment373" id="d18918e4532" headers="d18918e4524">
<p><a href="reports.htm#GUID-BC9892CD-C7F0-4AB4-9E47-93B44AAF3AE3" title="The Realm Audit Report shows audit records generated by the realm protection and realm authorization operations.">Realm Audit Report</a></p>
</td>
<td class="cellalignment374" headers="d18918e4532 d18918e4527">
<p>Audits records generated by the realm protection and realm authorization operations</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment373" id="d18918e4543" headers="d18918e4524">
<p><a href="reports.htm#GUID-9BB457EC-EDBD-48DB-9719-964FD8A4D7B4" title="The Realm Authorization Configuration Issues Report displays Oracle Database Vault realm configuration issues.">Realm Authorization Configuration Issues Report</a></p>
</td>
<td class="cellalignment374" headers="d18918e4543 d18918e4527">
<p>Lists authorization configuration information, such as incomplete or disabled rule sets, or nonexistent grantees or owners that may affect the realm</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment373" id="d18918e4554" headers="d18918e4524">
<p><a href="reports.htm#GUID-162BB69D-9C1F-4FB8-959E-1B8C21FE6FF9" title="The Rule Set Configuration Issues Report displays Oracle Database Vault rule set configuration issues.">Rule Set Configuration Issues Report</a></p>
</td>
<td class="cellalignment374" headers="d18918e4554 d18918e4527">
<p>Lists rule sets that do not have rules defined or enabled, which may affect the realms that use them</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment373" id="d18918e4565" headers="d18918e4524">
<p><a href="reports.htm#GUID-69468D28-8100-44D2-B14B-423A64C0F9FB" title="The object privilege reports track privileges affected by PUBLIC, direct object privileges, and object dependencies.">Object Privilege Reports</a></p>
</td>
<td class="cellalignment374" headers="d18918e4565 d18918e4527">
<p>Lists object privileges that the realm affects</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment373" id="d18918e4579" headers="d18918e4524">
<p><a href="reports.htm#GUID-9F33FCA0-2BEE-4569-85E9-FD88FC52908B" title="The privilege management summary reports track privilege distribution by grantees, owners, and privileges.">Privilege Management - Summary Reports</a></p>
</td>
<td class="cellalignment374" headers="d18918e4579 d18918e4527">
<p>Provides information about grantees and owners for a realm</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment373" id="d18918e4590" headers="d18918e4524">
<p><a href="reports.htm#GUID-DA265416-AD9D-4A8B-8BAA-37370F658121" title="The sensitive objects reports track activities such as grants on the EXECUTE privilege on SYS schema objects and access to sensitive objects.">Sensitive Objects Reports</a></p>
</td>
<td class="cellalignment374" headers="d18918e4590 d18918e4527">
<p>Lists objects that the command rule affects</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p><a href="cfrealms.htm#GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D__CIHIAJFJ" title="Realm Data Dictionary Views">Table 5-2</a> lists data dictionary views that provide information about existing realms.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-4943DEFF-D403-44C7-95E7-E52569E2E12D__CIHIAJFJ">
<p class="titleintable">Table 5-2 Data Dictionary Views Used for Realms</p>
<table class="cellalignment338" title="Data Dictionary Views Used for Realms" summary="Realm Data Dictionary Views">
<thead>
<tr class="cellalignment332">
<th class="cellalignment375" id="d18918e4623">Data Dictionary View</th>
<th class="cellalignment376" id="d18918e4626">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment377" id="d18918e4631" headers="d18918e4623">
<p><a href="views.htm#GUID-713C0C95-5CF0-463B-8493-48B87491F3D4" title="The DVSYS.DBA_DV_REALM data dictionary view lists the realms created in the current database instance.">DVSYS.DBA_DV_REALM View</a></p>
</td>
<td class="cellalignment378" headers="d18918e4631 d18918e4626">
<p>Lists the realms created in the current database instance.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment377" id="d18918e4645" headers="d18918e4623">
<p><a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a></p>
</td>
<td class="cellalignment378" headers="d18918e4645 d18918e4626">
<p>lists the authorization of a named database user account or database role (<code class="codeph">GRANTEE</code>) to access realm objects in a particular realm</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment377" id="d18918e4665" headers="d18918e4623">
<p><a href="views.htm#GUID-A7B02329-4C55-41CC-9327-136C18AB5422" title="The DVSYS.DBA_DV_REALM_OBJECT data dictionary view lists the database schemas, or subsets of schemas, that are secured by the realms.">DVSYS.DBA_DV_REALM_OBJECT View</a></p>
</td>
<td class="cellalignment378" headers="d18918e4665 d18918e4626">
<p>Lists the database schemas, or subsets of schemas with specific database objects contained therein, that are secured by the realms</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment331">
<tr>
<td class="cellalignment359">
<table class="cellalignment336">
<tr>
<td class="cellalignment335"><a href="priv_analysis.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment335"><a href="cfrulset.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment361">
<table class="cellalignment334">
<tr>
<td class="cellalignment335"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment335"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment335"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment335"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment335"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment335"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
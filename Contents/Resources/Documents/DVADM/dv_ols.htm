<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5970"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Integrating%20Oracle%20Database%20Vault%20with%20Other%C2%A0Oracle%20Products"></a><title>Integrating Oracle Database Vault with Other&nbsp;Oracle Products</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can integrate Oracle Database Vault with other Oracle products, such as Oracle Enterprise User Security."/>
<meta name="keywords" content="Oracle Database Vault, integrating with other Oracle products, Oracle Enterprise User Security, integrating with Oracle Database Vault, database accounts, configuring Database Vault accounts as enterprise users, enterprise user security, configuring Database Vault accounts for, Transparent Data Encryption, used with Oracle Database Vault, factors, Oracle Virtual Private Database, attaching factors to, Oracle Virtual Private Database (VPD), factors, attaching to, Oracle Label Security (OLS), how Database Vault integrates with, integration with Oracle Database Vault, requirements, procedure, tutorials, Database Vault factors with Virtual Private Database and Oracle Label Security, using Database Vault factors with Oracle Label Security, example, Oracle Label Security integration with Oracle Database Vault, reports, data dictionary views, Oracle Data Guard, integrating Database Vault with, Oracle Internet Directory, registering with DBCA"/>
<meta name="dcterms.created" content="2017-06-05T10:50:14Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49109-12"/>
<meta name="dcterms.isVersionOf" content="DVADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="cfseappr.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dba.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49109-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-7C21AF42-A71B-4AB2-8462-015B8D121B89"></a> <span id="PAGE" style="display:none;">14/34</span> <!-- End Header -->
<a id="DVADM008"></a>
<h1 id="DVADM-GUID-7C21AF42-A71B-4AB2-8462-015B8D121B89" class="sect1"><span class="enumeration_chapter">10</span> Integrating Oracle Database Vault with Other&nbsp;Oracle Products</h1>
<div>
<p>You can integrate Oracle Database Vault with other Oracle products, such as Oracle Enterprise User Security.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dv_ols.htm#GUID-2B912CB6-3FCA-4409-BC54-6BA94C347036" title="You can integrate Oracle Database Vault with Oracle Enterprise User Security.">Integrating Oracle Database Vault with Enterprise User Security</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-9322A3F3-F45B-42B3-8A00-56FABE7680DE" title="You can configure existing Oracle Database Vault user accounts as enterprise user accounts.">Configuring Oracle Database Vault Accounts as Enterprise User Accounts</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-7E5965E6-DEB6-4C2B-8CF5-A964B2838FBD" title="Transparent Data Encryption complements Oracle Database Vault in that it provides data protection when the data leaves the secure perimeter of the database.">Integration of Oracle Database Vault with Transparent Data Encryption</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-D8B2D28A-2AAC-4A6F-9D82-A5347FA6D571" title="You can attach factors to an Oracle Virtual Private Database.">Attaching Factors to an Oracle Virtual Private Database</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-41CF584E-84D5-4912-A113-043D52C9EF06" title="You can integrate Oracle Database Vault with Oracle Label Security, and check the integration with reports and data dictionary views.">Integrating Oracle Database Vault with Oracle Label Security</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-1C6479B9-3AD7-423F-B978-3D18CFD9BA5B" title="An Oracle Database Vault-Oracle Data Guard integration requires first, the primary database configuration, then the standby database configration.">Integrating Oracle Database Vault with Oracle Data Guard</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-C7A100F0-DAC5-4866-9B25-755B36CA44F5" title="You can use Oracle Internet Directory in an Oracle Database Vault-enabled database.">Registering Oracle Internet Directory Using Oracle Database Configuration Asssitant</a></p>
</li>
</ul>
</div>
<a id="DVADM70294"></a>
<div class="props_rev_3"><a id="GUID-2B912CB6-3FCA-4409-BC54-6BA94C347036"></a>
<h2 id="DVADM-GUID-2B912CB6-3FCA-4409-BC54-6BA94C347036" class="sect2">Integrating Oracle Database Vault with Enterprise User Security</h2>
<div>
<p>You can integrate Oracle Database Vault with Oracle Enterprise User Security.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dv_ols.htm#GUID-29F177A7-8879-4604-A585-68ACA0A16CBD" title="Enterprise User Security centrally manages database users and authorizations in one place.">About Integrating Oracle Database Vault with Enterprise User Security</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-D8D49DD6-F4E3-47D0-9D81-EE4703FA6FDB" title="To configure an Enterprise User authorization, you must create an Oracle Database Vault rule set to control the user access.">Configuring an Enterprise User Authorization</a></p>
</li>
</ul>
</div>
<a id="DVADM71447"></a>
<div class="props_rev_3"><a id="GUID-29F177A7-8879-4604-A585-68ACA0A16CBD"></a>
<h3 id="DVADM-GUID-29F177A7-8879-4604-A585-68ACA0A16CBD" class="sect3">About Integrating Oracle Database Vault with Enterprise User Security</h3>
<div>
<p>Enterprise User Security centrally manages database users and authorizations in one place.</p>
<p>It is combined with Oracle Identity Management and is available in Oracle Database Enterprise Edition.</p>
<p>In general, to integrate Oracle Database Vault with Oracle Enterprise User Security, you configure the appropriate realms to protect the data that you want to protect in the database.</p>
<p>After you define the Oracle Database Vault realms as needed, you can create a rule set for the Enterprise users to allow or disallow their access.</p>
<div class="infoboxnotealso" id="GUID-29F177A7-8879-4604-A585-68ACA0A16CBD__GUID-AFADF596-4E61-4921-BADD-040F2F63F823">
<p class="notep1">See Also:</p>
<p><a class="olink DBIMI152" target="_blank" href="../DBIMI/concepts.htm#DBIMI152"><span><cite>Oracle Database Enterprise User Security Administrator&#39;s Guide</cite></span></a> for more information about Enterprise User Security</p>
</div>
</div>
</div>
<a id="DVADM71448"></a>
<div class="props_rev_3"><a id="GUID-D8D49DD6-F4E3-47D0-9D81-EE4703FA6FDB"></a>
<h3 id="DVADM-GUID-D8D49DD6-F4E3-47D0-9D81-EE4703FA6FDB" class="sect3">Configuring an Enterprise User Authorization</h3>
<div>
<p>To configure an Enterprise User authorization, you must create an Oracle Database Vault rule set to control the user access.</p>
<ol>
<li class="stepexpand"><span>Create a rule to allow or disallow user access.</span>
<div>
<p>Follow the instructions in <a href="cfrulset.htm#GUID-1DEA3C18-91A0-475A-B001-8DC97372B40F" title="A rule defines the behavior that you want to control; a rule set is a named collection of rules.">Creating a Rule to Add to a Rule Set</a> to create a new rule. In the Create Rule page, enter the following PL/SQL in the Rule Expression field:</p>
<pre dir="ltr">SYS_CONTEXT(&#39;USERENV&#39;,&#39;AUTHENTICATED_IDENTITY&#39;) = <span class="italic">&#39;user_domain_name&#39;</span>
</pre>
<p>Replace <span class="italic"><code class="codeph">user_domain_name</code></span> with the domain, for example:</p>
<pre dir="ltr">SYS_CONTEXT(&#39;USERENV&#39;,&#39;AUTHENTICATED_IDENTITY&#39;) = &#39;myserver.us.example.com<span class="italic">&#39;</span>
</pre></div>
</li>
<li class="stepexpand" id="GUID-D8D49DD6-F4E3-47D0-9D81-EE4703FA6FDB__CHDICFCJ"><span>Add this rule to a new rule set.</span>
<div>
<p><a href="cfrulset.htm#GUID-E2477C97-F87A-4FCF-A8C7-AFACA707B444" title="To create a rule set, you first create the rule set itself, and then you can edit the rule set to associate it with one or more rules.">Creating a Rule Set</a> explains how to create a new rule set, including how to add an existing rule to it.</p>
</div>
</li>
<li class="stepexpand"><span>Add this rule set to the realm authorization for the data that you want to protect.</span>
<div>
<p><a href="cfrealms.htm#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a> explains how to create realm authorizations. In the Authorization Rule Set list, select the rule set that you created in Step <a href="dv_ols.htm#GUID-D8D49DD6-F4E3-47D0-9D81-EE4703FA6FDB__CHDICFCJ">2</a>. Afterward, the realm authorization applies to all users.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<a id="DVADM71376"></a>
<div class="props_rev_3"><a id="GUID-9322A3F3-F45B-42B3-8A00-56FABE7680DE"></a>
<h2 id="DVADM-GUID-9322A3F3-F45B-42B3-8A00-56FABE7680DE" class="sect2">Configuring Oracle Database Vault Accounts as Enterprise User Accounts</h2>
<div>
<p>You can configure existing Oracle Database Vault user accounts as enterprise user accounts.</p>
<ol>
<li class="stepexpand"><span>Log into the database instance as a user who has been granted the <code class="codeph">CREATE ROLE</code> system privilege.</span>
<div>
<p>For example:</p>
<pre dir="ltr">sqlplus system
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>In a multitenant environment, connect to the appropriate pluggable database (PDB).</span>
<div>
<p>For example:</p>
<pre dir="ltr">CONNECT SYSTEM@hrpdb
Enter password: <span class="italic">password</span>
</pre>
<p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command.</p>
</div>
</li>
<li class="stepexpand"><span>Create a global role for the <code class="codeph">DV_OWNER</code> role and a global role for the <code class="codeph">DV_ACCTMGR</code> role.</span>
<div>
<p>For example:</p>
<pre dir="ltr">CREATE ROLE g_dv_owner IDENTIFIED GLOBALLY;
CREATE ROLE g_dv_acctmgr IDENTIFIED GLOBALLY;
</pre></div>
</li>
<li class="stepexpand"><span>Connect as a user who has been granted the <code class="codeph">DV_OWNER</code> role.</span>
<div>
<p>For example:</p>
<pre dir="ltr">CONNECT dbv_owner <span class="italic">-- Or, CONNECT dbv_owner@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>Grant the <code class="codeph">DV_OWNER</code> role to the global <code class="codeph">DV_OWNER</code> role.</span>
<div>
<pre dir="ltr">GRANT DV_OWNER TO g_dv_owner;
</pre></div>
</li>
<li class="stepexpand"><span>Connect as a user who has been granted the <code class="codeph">DV_ACCTMGR</code> role.</span>
<div>
<p>For example:</p>
<pre dir="ltr">CONNECT dbv_acctmgr <span class="italic">-- Or, CONNECT dbv_acctmgr@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>Grant the <code class="codeph">DV_ACCTMGR</code> role to the global <code class="codeph">DV_ACCTMGR</code> role.</span>
<div>
<pre dir="ltr">GRANT DV_ACCTMGR TO g_dv_acctmgr;
</pre></div>
</li>
<li class="stepexpand"><span>Connect as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege.</span>
<div>
<pre dir="ltr">CONNECT SYS AS SYSDBA <span class="italic">-- Or, CONNECT SYS@hrpdb AS SYSDBA</span>
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>Temporarily grant the <code class="codeph">DV_ACCTMGR</code> user who will import the Database Vault users into OID the <code class="codeph">CREATE TABLE</code> privilege and the <code class="codeph">SELECT_CATALOG_ROLE</code> role.</span>
<div>
<pre dir="ltr">GRANT CREATE TABLE, SELECT_CATALOG_ROLE TO dbv_acctmgr;
</pre></div>
</li>
<li class="stepexpand"><span>From the command line, run the User Migration Utility (<code class="codeph">UMU</code>) to import the Database Vault accounts into Oracle Internet Directory (OID).</span>
<div>
<p>The following example imports the Database Vault accounts <code class="codeph">leo_dvowner</code> and <code class="codeph">bea_dvacctmgr</code> into OID. The <code class="codeph">DV_ACCTMGR</code> user is specified for the <code class="codeph">DBADMIN</code> setting.</p>
<pre dir="ltr">$ORACLE_HOME/rdbms/bin/umu PHASE=ONE
DBADMIN=dbv_acctmgr:<span class="italic">password</span>
ENTADMIN=cn=jane_ent_admin,dc=example,dc=com:<span class="italic">password</span>
USERS= LIST
DBLOCATION=example.com:7777:orcl
DIRLOCATION=example.com:636
USERSLIST=leo_dvowner:bea_dvacctmgr
MAPSCHEMA=PRIVATE
CONTEXT=CONTEXT=&#34;c=Users, c=us&#34;
KREALM=EXAMPLE.COM

$ORACLE_HOME/rdbms/bin/umu PHASE=TWO
DBADMIN=dbv_acctmgr:<span class="italic">password</span>
ENTADMIN=cn=jane_ent_admin,dc=example,dc=com:<span class="italic">password</span>
DBLOCATION=example.com:7777:orcl
DIRLOCATION=example.com:636
</pre>
<p>By default, errors are written to the <code class="codeph">$ORACLE_HOME/network/log/umu.log</code> file.</p>
</div>
</li>
<li class="stepexpand"><span>From the Oracle Internet Directory Self Service Console (<code class="codeph">http://</code><span class="italic"><code class="codeph">hostname</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">port</code></span><code class="codeph">/oiddas/</code>), grant the global <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles (for example, <code class="codeph">g_dv_owner</code> and <code class="codeph">g_dv_acctmgr</code>) to the enterprise user Database Vault accounts.</span>
<div>
<p>See the example of creating enterprise users in <a class="olink DBIMI570" target="_blank" href="../DBIMI/getstrtd.htm#DBIMI570"><span><cite>Oracle Database Enterprise User Security Administrator&#39;s Guide</cite></span></a> for a demonstration of creating an enterprise role from a global role and then granting this role to a user.</p>
</div>
</li>
<li class="stepexpand"><span>From SQL*Plus, as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege, revoke the <code class="codeph">CREATE TABLE</code> and <code class="codeph">SELECT_CATALOG_ROLE</code> role from the <code class="codeph">DV_ACCTMGR</code> user.</span>
<div>
<pre dir="ltr">REVOKE CREATE TABLE, SELECT_CATALOG_ROLE FROM dbv_acctmgr;
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-9322A3F3-F45B-42B3-8A00-56FABE7680DE__GUID-36194109-7F4B-4C70-8B0A-52F97EC8765A">
<p class="notep1">See Also:</p>
<p><a class="olink DBIMI312" target="_blank" href="../DBIMI/appa.htm#DBIMI312"><span><cite>Oracle Database Enterprise User Security Administrator&#39;s Guide</cite></span></a> for detailed information about the User Migration Utility</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM70296"></a><a id="DVADM70295"></a>
<div class="props_rev_3"><a id="GUID-7E5965E6-DEB6-4C2B-8CF5-A964B2838FBD"></a>
<h2 id="DVADM-GUID-7E5965E6-DEB6-4C2B-8CF5-A964B2838FBD" class="sect2">Integration of Oracle Database Vault with Transparent Data Encryption</h2>
<div>
<p>Transparent Data Encryption complements Oracle Database Vault in that it provides data protection when the data leaves the secure perimeter of the database.</p>
<p>With Transparent Data Encryption, a database administrator or database security administrator can simply encrypt columns with sensitive content in application tables, or encrypt entire application tablespaces, without any modification to the application.</p>
<p>If a user passes the authentication and authorization checks, Transparent Data Encryption automatically encrypts and decrypts information for the user. This way, you can implement encryption without having to change your applications.</p>
<p>Once you have granted the Transparent Data Encryption user the appropriate privileges, then Transparent Data Encryption can be managed as usual and be used complimentary to Database Vault.</p>
<p><a href="dv_ols.htm#GUID-7E5965E6-DEB6-4C2B-8CF5-A964B2838FBD__CHDGFECH">Figure 10-1</a> shows how Oracle Database Vault realms handle encrypted data.</p>
<div class="figure" id="GUID-7E5965E6-DEB6-4C2B-8CF5-A964B2838FBD__CHDGFECH">
<p class="titleinfigure">Figure 10-1 Encrypted Data and Oracle Database Vault</p>
<img width="521" height="224" src="img/GUID-D922DB4F-61A5-4AFE-9FCA-BBB765DC89A7-default.gif" alt="Description of Figure 10-1 follows" title="Description of Figure 10-1 follows"/><br/>
<a href="img_text/GUID-D922DB4F-61A5-4AFE-9FCA-BBB765DC89A7-print.htm">Description of &#34;Figure 10-1 Encrypted Data and Oracle Database Vault&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-7E5965E6-DEB6-4C2B-8CF5-A964B2838FBD__GUID-343EA557-6608-44A7-9931-8D2D1895E4CD">
<p class="notep1">See Also:</p>
<a class="olink ASOAG600" target="_blank" href="../ASOAG/asopart1.htm#ASOAG600"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for detailed information about Transparent Data Encryption</div>
</div>
</div>
<a id="DVADM70297"></a>
<div class="props_rev_3"><a id="GUID-D8B2D28A-2AAC-4A6F-9D82-A5347FA6D571"></a>
<h2 id="DVADM-GUID-D8B2D28A-2AAC-4A6F-9D82-A5347FA6D571" class="sect2">Attaching Factors to an Oracle Virtual Private Database</h2>
<div>
<p>You can attach factors to an Oracle Virtual Private Database.</p>
<ol>
<li><span>Define a Virtual Private Database policy predicate that is a PL/SQL function or expression.</span></li>
<li><span>For each function or expression, use the <code class="codeph">DVF.F$</code> PL/SQL function that is created for each factor.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-D8B2D28A-2AAC-4A6F-9D82-A5347FA6D571__GUID-E7425EFD-2CBF-4C43-9283-7ED463B11329">
<p class="notep1">See Also:</p>
<p><a class="olink DBSEG007" target="_blank" href="../DBSEG/vpd.htm#DBSEG007"><span><cite>Oracle Database Security Guide</cite></span></a> Oracle Database Security Guide for more information about Oracle Virtual Private Database</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM70298"></a>
<div class="props_rev_3"><a id="GUID-41CF584E-84D5-4912-A113-043D52C9EF06"></a>
<h2 id="DVADM-GUID-41CF584E-84D5-4912-A113-043D52C9EF06" class="sect2">Integrating Oracle Database Vault with Oracle Label Security</h2>
<div>
<p>You can integrate Oracle Database Vault with Oracle Label Security, and check the integration with reports and data dictionary views.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dv_ols.htm#GUID-8A57F01A-478C-4593-8AF0-41BFF76A7153" title="An Oracle Database Vault-Oracle Label Security integration enables you to assign an OLS label to a Database Vault factor identity.">How Oracle Database Vault Is Integrated with Oracle Label Security</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-C1EF7351-82DB-4838-B5D0-0E4F86747941" title="You must fulfill specific requirements in place before you use Oracle Database Vault with Oracle Label Security.">Requirements for Using Oracle Database Vault with Oracle Label Security</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-8B571D38-9687-45F3-9BE2-A774CB485505" title="To enhance security, you can integrate Oracle Database Vault factors with Oracle Label Security policies.">Using Oracle Database Vault Factors with Oracle Label Security Policies</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-8C427946-4091-4301-9003-B44A213567DC" title="An Oracle Database Vault-Oracle Label Security integration can grant different levels of access to two administrative users who have the same privileges.">Tutorial: Integrating Oracle Database Vault with Oracle Label Security</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-E262B916-02A0-4568-8898-61EC43BF824F" title="Oracle Database Vault provides reports and data dictionary views that list information about the Oracle Database Vault-Oracle Label Security integration.">Related Reports and Data Dictionary Views</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-41CF584E-84D5-4912-A113-043D52C9EF06__GUID-50098177-6A13-4917-B687-F972EB79A556">
<p class="notep1">See Also:</p>
<p><a href="apis_ols.htm#GUID-BC478067-279F-4A1E-91BE-DA33E762B2A8" title="You can use the DBMS_MACADM PL/SQL package to manage Oracle Label Security labels and policies in Oracle Database Vault.">Oracle Database Vault Oracle&nbsp;Label&nbsp;Security&nbsp;APIs</a></p>
</div>
</div>
<a id="DVADM70299"></a>
<div class="props_rev_3"><a id="GUID-8A57F01A-478C-4593-8AF0-41BFF76A7153"></a>
<h3 id="DVADM-GUID-8A57F01A-478C-4593-8AF0-41BFF76A7153" class="sect3">How Oracle Database Vault Is Integrated with Oracle Label Security</h3>
<div>
<p>An Oracle Database Vault-Oracle Label Security integration enables you to assign an OLS label to a Database Vault factor identity.</p>
<p>In Oracle Label Security, you can restrict access to records in database tables or PL/SQL programs. For example, Mary may be able to see data protected by the HIGHLY SENSITIVE label, an Oracle Label Security label on the <code class="codeph">EMPLOYEE</code> table that includes records that should have access limited to certain managers. Another label can be PUBLIC, which allows more open access to this data.</p>
<p>In Oracle Database Vault, you can create a factor called Network, for the network on which the database session originates, with the following identities:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Intranet:</span> Used for when an employee is working on site within the intranet for your company.</p>
</li>
<li>
<p><span class="bold">Remote:</span> Used for when the employee is working at home from a VPN connection.</p>
</li>
</ul>
<p>You then assign a maximum session label to both. For example:</p>
<ul style="list-style-type: disc;">
<li>
<p>Assign the Intranet identity to the HIGHLY SENSITIVE Oracle Label Security label.</p>
</li>
<li>
<p>Assign the Remote identity to the PUBLIC label.</p>
</li>
</ul>
<p>This means that when Mary is working at home using her VPN connection, she has access only to the limited table data protected under the PUBLIC identity. But when she is in the office, she has access to the HIGHLY SENSITIVE data, because she is using the Intranet identity. <a href="dv_ols.htm#GUID-8C427946-4091-4301-9003-B44A213567DC" title="An Oracle Database Vault-Oracle Label Security integration can grant different levels of access to two administrative users who have the same privileges.">Tutorial: Integrating Oracle Database Vault with Oracle Label Security</a> provides an example of how to accomplish this type of integration.</p>
<p>In a non-unified auditing environment, you can audit the integration with Oracle Label Security by using the Label Security Integration Audit Report. Oracle Database Vault writes the audit trail to the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table. If unified auditing is enabled, then you can create audit policies to capture this information, as described in <a class="olink DBSEG419" target="_blank" href="../DBSEG/audit_config.htm#DBSEG419"><span class="italic">Oracle Database Security Guide</span></a>.</p>
<div class="infoboxnotealso" id="GUID-8A57F01A-478C-4593-8AF0-41BFF76A7153__GUID-BB50E6E7-BCA2-4D41-B9BA-7C09A75795D5">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="reports.htm#GUID-0753CB70-1F96-43DF-B37D-C997E7440A13" title="The Label Security Integration Audit Report shows audit records the session initialization operation generates and the session label assignment operation of label security.">Label Security Integration Audit Report</a></p>
</li>
<li>
<p><a href="apis_ols.htm#GUID-BC478067-279F-4A1E-91BE-DA33E762B2A8" title="You can use the DBMS_MACADM PL/SQL package to manage Oracle Label Security labels and policies in Oracle Database Vault.">Oracle Database Vault Oracle&nbsp;Label&nbsp;Security&nbsp;APIs</a> for information about Database Vault APIs that you can use to integrate Database Vault with Oracle Label Security</p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-E262B916-02A0-4568-8898-61EC43BF824F" title="Oracle Database Vault provides reports and data dictionary views that list information about the Oracle Database Vault-Oracle Label Security integration.">Related Reports and Data Dictionary Views</a> for information about reports that you can run on the Oracle Database Vault and Oracle Label Security integration</p>
</li>
<li>
<p><a class="olink OLSAG007" target="_blank" href="../OLSAG/labels.htm#OLSAG007"><span><cite>Oracle Label Security Administrator&rsquo;s Guide</cite></span></a> for more information about Oracle Label Security labels</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DVADM70300"></a>
<div class="props_rev_3"><a id="GUID-C1EF7351-82DB-4838-B5D0-0E4F86747941"></a>
<h3 id="DVADM-GUID-C1EF7351-82DB-4838-B5D0-0E4F86747941" class="sect3">Requirements for Using Oracle Database Vault with Oracle Label Security</h3>
<div>
<p>You must fulfill specific requirements in place before you use Oracle Database Vault with Oracle Label Security.</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Label Security is licensed separately. Ensure that you have purchased a license to use it.</p>
</li>
<li>
<p>Before you install Oracle Database Vault, you must have already installed Oracle Label Security.</p>
</li>
<li>
<p>The installation process for Oracle Label Security creates the <code class="codeph">LBACSYS</code> user account. As a user who has been granted the <code class="codeph">DV_ACCTMGR</code> role, unlock this account and grant it a new password. For example:</p>
<pre dir="ltr">sqlplus bea_dvacctmgr <span class="italic">-- Or, sqlplus bea_dvacctmgr@hrpdb for a PDB</span>
Enter password: <span class="italic">password</span>

ALTER USER LBACSYS ACCOUNT UNLOCK IDENTIFIED BY <span class="italic">password</span>;
</pre>
<p>Follow the guidelines in <a class="olink DBSEG33223" target="_blank" href="../DBSEG/authentication.htm#DBSEG33223"><span><cite>Oracle Database Security Guide</cite></span></a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure.</p>
</li>
<li>
<p>If you plan to use the <code class="codeph">LBACSYS</code> user account in Oracle Enterprise Manager, then log into Enterprise Manager as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege, and grant this user the <code class="codeph">SELECT ANY DICTIONARY</code> and <code class="codeph">SELECT_CATALOG_ROLE</code> system privileges.</p>
</li>
<li>
<p>Ensure that you have the appropriate Oracle Label Security policies defined. For more information, see <a class="olink OLSAG3096" target="_blank" href="../OLSAG/getstrtd.htm#OLSAG3096"><span><cite>Oracle Label Security Administrator&rsquo;s Guide</cite></span></a>.</p>
</li>
<li>
<p>If you plan to integrate an Oracle Label Security policy with a Database Vault policy, then ensure that the policy name for Oracle Label Security is less than 24 characters. You can check the names of Oracle Label Security policies by querying the <code class="codeph">POLICY_NAME</code> column of the <code class="codeph">ALL_SA_POLICIES</code> data dictionary view.</p>
</li>
</ul>
</div>
</div>
<a id="DVADM70301"></a>
<div class="props_rev_3"><a id="GUID-8B571D38-9687-45F3-9BE2-A774CB485505"></a>
<h3 id="DVADM-GUID-8B571D38-9687-45F3-9BE2-A774CB485505" class="sect3">Using Oracle Database Vault Factors with Oracle Label Security Policies</h3>
<div>
<p>To enhance security, you can integrate Oracle Database Vault factors with Oracle Label Security policies.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dv_ols.htm#GUID-0BBA139A-D9F7-4BEA-ABD7-38EAAB211109" title="And Oracle Database Vault-Oracle Label Security integration enables you to control the maximum security clearance for a database session.">About Using Oracle Database Vault Factors with Oracle Label Security Policies</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-50A085F4-3384-48F3-AF22-FA5D52519F72" title="You can define factors that contribute to the maximum allowable data label of an Oracle Label Security policy.">Configuring Factors to Work with an Oracle Label Security Policy</a></p>
</li>
</ul>
</div>
<a id="DVADM71449"></a>
<div class="props_rev_3"><a id="GUID-0BBA139A-D9F7-4BEA-ABD7-38EAAB211109"></a>
<h4 id="DVADM-GUID-0BBA139A-D9F7-4BEA-ABD7-38EAAB211109" class="sect4">About Using Oracle Database Vault Factors with Oracle Label Security Policies</h4>
<div>
<p>And Oracle Database Vault-Oracle Label Security integration enables you to control the maximum security clearance for a database session.</p>
<p>Oracle Database Vault controls the maximum security clearance for a database session by merging the maximum allowable data for each label in a database session by merging the labels of Oracle Database Vault factors that are associated to an Oracle Label Security policy.</p>
<p>In brief, a label acts as an identifier for the access privileges of a database table row. A policy is a name associated with the labels, rules, and authorizations that govern access to table rows. See <a class="olink OLSAG007" target="_blank" href="../OLSAG/labels.htm#OLSAG007"><span><cite>Oracle Label Security Administrator&rsquo;s Guide</cite></span></a> for more information about row labels and policies.</p>
</div>
</div>
<a id="DVADM71450"></a>
<div class="props_rev_3"><a id="GUID-50A085F4-3384-48F3-AF22-FA5D52519F72"></a>
<h4 id="DVADM-GUID-50A085F4-3384-48F3-AF22-FA5D52519F72" class="sect4">Configuring Factors to Work with an Oracle Label Security Policy</h4>
<div>
<p>You can define factors that contribute to the maximum allowable data label of an Oracle Label Security policy.</p>
<ol>
<li class="stepexpand"><span>From Cloud Control, log into Oracle Database Vault Administrator as a user who has been granted the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> role.</span>
<div>
<p><span class="q">&#34;<a href="getting_started.htm#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for Oracle Database Vault.">Logging into Oracle Database Vault</a>&#34;</span> explains how to log in.</p>
</div>
</li>
<li class="stepexpand"><span>Make the user <code class="codeph">LBACSYS</code> account an owner of the realm that contains the schema to which a label security policy has been applied.</span>
<div>
<p>This enables the <code class="codeph">LBACSYS</code> account to have access to all the protected data in the realm, so that it can properly classify the data.</p>
<p>The <code class="codeph">LBACSYS</code> account is created in Oracle Label Security using the Oracle Universal Installer custom installation option. Before you can create an Oracle Label Security policy for use with Oracle Database Vault, you must make <code class="codeph">LBACSYS</code> an owner for the realm you plan to use. See <span class="q">&#34;<a href="cfrealms.htm#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a>&#34;</span> for more information.</p>
</div>
</li>
<li class="stepexpand"><span>Authorize the schema owner (on which the label security policy has been applied) as either a realm participant or a realm owner.</span></li>
<li class="stepexpand"><span>In the Administration page, under Database Vault Components, click <span class="bold">OLS Integration</span>.</span>
<div>
<div class="figure" id="GUID-50A085F4-3384-48F3-AF22-FA5D52519F72__GUID-7C66C675-54C4-4037-9F16-C79EF32BF45D"><img width="794" height="354" src="img/GUID-1499EF36-DD62-442C-8313-9B6E514C7522-default.gif" alt="Description of GUID-1499EF36-DD62-442C-8313-9B6E514C7522-default.gif follows" title="Description of GUID-1499EF36-DD62-442C-8313-9B6E514C7522-default.gif follows"/><br/>
<a href="img_text/GUID-1499EF36-DD62-442C-8313-9B6E514C7522-default.htm">Description of the illustration GUID-1499EF36-DD62-442C-8313-9B6E514C7522-default.gif</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>In the Label Security Policies page:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To register a new label security policy with Database Vault, click <span class="bold">Create</span>.</p>
</li>
<li>
<p>To edit an existing label security policy that has been registered with Database Vault, select it from the list and then click <span class="bold">Edit</span>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Enter the following settings:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Label Security Policy:</span> From the list, select the Oracle Label Security policy that you want to use.</p>
</li>
<li>
<p><span class="bold">Algorithm:</span> Optionally change the label-merging algorithm for cases when Oracle Label Security has merged two labels. In most cases, you may want to select <span class="bold">LII - Minimum Level/Intersection/Intersection</span>. This setting is the most commonly used method that Oracle Label Security administrators use when they want to merge two labels. This setting provides optimum flexibility when your applications must determine the resulting label that is required when combining two data sets that have different labels. It is also necessary for situations in which you must perform queries using joins on rows with different data labels.</p>
<p>For more information on these label-merging algorithms, see <a class="olink OLSAG" target="_blank" href="../OLSAG/toc.htm"><span class="italic">Oracle Label Security Administrator&#39;s Guide</span></a>. If you want to use the <code class="codeph">DBMS_MACADM</code> package to specify a merge algorithm, see <a href="apis_ols.htm#GUID-7DE1F739-0BA6-4253-B755-87555F1CF617__BCFCADEE" title="Merge algorithm codes">Table 18-3</a> for a full listing of possible merge algorithms.</p>
</li>
<li>
<p><span class="bold">Label Security Policy Factors:</span> In the <span class="bold">Available Factors</span> list under Label Security Policy Factors, select the factor that you want to associate with the Oracle Label Security policy. Then click <span class="bold">Move</span> to move the factor to the <span class="bold">Selected Factors</span> list. You can select multiple factors by holding down the <span class="bold">Ctrl</span> key as you click each factor that you want to select.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">OK</span>.</span>
<div>
<p>The policy is listed in the Label Security Policies Integration page.</p>
</div>
</li>
<li class="stepexpand"><span>Label the factor identities using the labels for the policy.</span>
<div>
<p><span class="q">&#34;<a href="cfgfact.htm#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="After you create a new factor, you optionally can add an identity to it.">Adding an Identity to a Factor</a>&#34;</span> provides detailed information.</p>
</div>
</li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-50A085F4-3384-48F3-AF22-FA5D52519F72__GUID-5459872A-D473-4A83-B740-0169E03168AE">
<p class="notep1">Note:</p>
<p>If you do not associate an Oracle Label Security policy with factors, then Oracle Database Vault maintains the default Oracle Label Security behavior for the policy.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="DVADM70304"></a>
<div class="props_rev_3"><a id="GUID-8C427946-4091-4301-9003-B44A213567DC"></a>
<h3 id="DVADM-GUID-8C427946-4091-4301-9003-B44A213567DC" class="sect3">Tutorial: Integrating Oracle Database Vault with Oracle Label Security</h3>
<div>
<p>An Oracle Database Vault-Oracle Label Security integration can grant different levels of access to two administrative users who have the same privileges.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dv_ols.htm#GUID-C67E86DA-2977-46B1-B09A-A605B91A0A37" title="You can use Oracle Database Vault factors with Oracle Label Security and Oracle Virtual Private Database (VPD) to restrict sensitive data access.">About This Tutorial</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-B906B8F8-C180-429A-ADB2-0FEEFE483603" title="You must create two administrative users for this tutorial.">Step 1: Create Users for This Tutorial</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-118659AC-4ACD-45D8-B464-5025EBC687EB" title="Next, you can create the Oracle Label Security policy and grant users the appropriate privileges for it.">Step 2: Create the Oracle Label Security Policy</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-6FFBA3B3-BB30-4898-BB01-55416EA7F617" title="After you create the Oracle Label Security policy, you can create Database Vault rules to work with it.">Step 3: Create Oracle Database Vault Rules to Control the OLS Authorization</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-927FA214-FF3F-4328-8E55-16A35AD28E51" title="Before the rule set can be used, you must update the ALTER SYSTEM command rule, which is a default command rule.">Step 4: Update the ALTER SYSTEM Command Rule to Use the Rule Set</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-7C997F97-9BC9-41B4-9A4F-0385CBEFA2F0" title="With all the components in place, you are ready to test the authorization.">Step 5: Test the Authorizations</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-326B01A3-AA35-49CE-8CDA-5A3C18E160C0" title="You can remove the components that you created for this tutorial if you no longer need them.">Step 6: Remove the Components for This Tutorial</a></p>
</li>
</ul>
</div>
<a id="DVADM71121"></a>
<div class="props_rev_3"><a id="GUID-C67E86DA-2977-46B1-B09A-A605B91A0A37"></a>
<h4 id="DVADM-GUID-C67E86DA-2977-46B1-B09A-A605B91A0A37" class="sect4">About This Tutorial</h4>
<div>
<p>You can use Oracle Database Vault factors with Oracle Label Security and Oracle Virtual Private Database (VPD) to restrict sensitive data access.</p>
<p>You can restrict this data so that it is only exposed to a database session when the correct combination of factors exists, defined by the security administrator, for any given database session.</p>
</div>
</div>
<a id="DVADM70305"></a>
<div class="props_rev_3"><a id="GUID-B906B8F8-C180-429A-ADB2-0FEEFE483603"></a>
<h4 id="DVADM-GUID-B906B8F8-C180-429A-ADB2-0FEEFE483603" class="sect4">Step 1: Create Users for This Tutorial</h4>
<div>
<p>You must create two administrative users for this tutorial.</p>
<ol>
<li class="stepexpand"><span>Log into the database instance as a user who has been granted the <code class="codeph">DV_ACCTMGR</code> role.</span>
<div>
<p>For example:</p>
<pre dir="ltr">sqlplus bea_dvacctmgr
Enter password: <span class="italic">password</span>
</pre>
<p>In a multitenant environment, you must connect to the appropriate pluggable database (PDB).</p>
<p>For example:</p>
<pre dir="ltr">sqlplus bea_dvacctmgr@hrpdb
Enter password: <span class="italic">password</span>
</pre>
<p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command.</p>
</div>
</li>
<li class="stepexpand"><span>Create the following local users:</span>
<div>
<pre dir="ltr">GRANT CREATE SESSION TO mdale IDENTIFIED BY <span class="italic">password</span> CONTAINER = CURRENT;
GRANT CREATE SESSION TO jsmith IDENTIFIED BY <span class="italic">password</span> CONTAINER = CURRENT;
</pre>
<p>Follow the guidelines in <a class="olink DBSEG33223" target="_blank" href="../DBSEG/authentication.htm#DBSEG33223"><span><cite>Oracle Database Security Guide</cite></span></a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure.</p>
</div>
</li>
<li class="stepexpand"><span>Connect as a user who can grant system privileges and who has been granted the owner authorization for the Oracle System Privilege and Role Management realm, and then grant administrative privileges to users <code class="codeph">mdale</code> and <code class="codeph">jsmith</code>.</span>
<div>
<pre dir="ltr">CONNECT dba_psmith <span class="italic">-- Or, CONNECT dba_psmith@hrpdb</span>
Enter password: <span class="italic">password</span>

GRANT DBA TO mdale, jsmith;
</pre>
<p>At this stage, users <code class="codeph">mdale</code> and <code class="codeph">jsmith</code> have identical administrative privileges.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="DVADM70306"></a>
<div class="props_rev_3"><a id="GUID-118659AC-4ACD-45D8-B464-5025EBC687EB"></a>
<h4 id="DVADM-GUID-118659AC-4ACD-45D8-B464-5025EBC687EB" class="sect4">Step 2: Create the Oracle Label Security Policy</h4>
<div>
<p>Next, you can create the Oracle Label Security policy and grant users the appropriate privileges for it.</p>
<ol>
<li class="stepexpand"><span>In SQL*Plus, connect as the Oracle Label Security administrator, <code class="codeph">LBACSYS</code>.</span>
<div>
<pre dir="ltr">CONNECT LBACSYS <span class="italic">-- Or, CONNECT LBACSYS@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre>
<p>If user <code class="codeph">LBACSYS</code> is locked and expired, connect as the Database Vault Account Manager, unlock and unexpire the <code class="codeph">LBACSYS</code> account, and then log back in as <code class="codeph">LBACSYS</code>.</p>
<p>For example:</p>
<pre dir="ltr">CONNECT bea_dvacctmgr <span class="italic">-- Or, CONNECT bea_dvaccmgr@hrpdb</span>
Enter password: <span class="italic">password</span>

ALTER USER LBACSYS ACCOUNT UNLOCK IDENTIFIED BY <span class="italic">password</span>;

CONNECT LBACSYS
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>Create a new Oracle Label Security policy:</span>
<div>
<pre dir="ltr">EXEC SA_SYSDBA.CREATE_POLICY(&#39;PRIVACY&#39;,&#39;PRIVACY_COLUMN&#39;,&#39;NO_CONTROL&#39;);
</pre></div>
</li>
<li class="stepexpand"><span>Create the following levels for the <code class="codeph">PRIVACY</code> policy:</span>
<div>
<pre dir="ltr">EXEC SA_COMPONENTS.CREATE_LEVEL(&#39;PRIVACY&#39;,2000,&#39;S&#39;,&#39;SENSITIVE&#39;);
EXEC SA_COMPONENTS.CREATE_LEVEL(&#39;PRIVACY&#39;,1000,&#39;C&#39;,&#39;CONFIDENTIAL&#39;);
</pre></div>
</li>
<li class="stepexpand"><span>Create the PII compartment.</span>
<div>
<pre dir="ltr">EXEC SA_COMPONENTS.CREATE_COMPARTMENT(&#39;PRIVACY&#39;,100,&#39;PII&#39;,&#39;PERS_INFO&#39;);
</pre></div>
</li>
<li class="stepexpand"><span>Grant users <code class="codeph">mdale</code> and <code class="codeph">jsmith</code> the following labels:</span>
<div>
<pre dir="ltr">EXEC SA_USER_ADMIN.SET_USER_LABELS(&#39;PRIVACY&#39;,&#39;mdale&#39;,&#39;S:PII&#39;);
EXEC SA_USER_ADMIN.SET_USER_LABELS(&#39;PRIVACY&#39;,&#39;jsmith&#39;,&#39;C&#39;); 
</pre>
<p>User <code class="codeph">mdale</code> is granted the more sensitive label, Sensitive, which includes the PII compartment. User <code class="codeph">jsmith</code> gets the Confidential label, which is less sensitive.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="DVADM70307"></a>
<div class="props_rev_3"><a id="GUID-6FFBA3B3-BB30-4898-BB01-55416EA7F617"></a>
<h4 id="DVADM-GUID-6FFBA3B3-BB30-4898-BB01-55416EA7F617" class="sect4">Step 3: Create Oracle Database Vault Rules to Control the OLS Authorization</h4>
<div>
<p>After you create the Oracle Label Security policy, you can create Database Vault rules to work with it.</p>
<ol>
<li class="stepexpand"><span>Connect to SQL*Plus as the Database Vault Owner.</span>
<div>
<p>For example:</p>
<pre dir="ltr">CONNECT leo_dvowner <span class="italic">-- Or, CONNECT leo_dvowner@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>Create the following rule set:</span>
<div>
<pre dir="ltr">EXEC DBMS_MACADM.CREATE_RULE_SET(&#39;PII Rule Set&#39;, &#39;Protect PII data from privileged users&#39;,&#39;Y&#39;,1,0,2,NULL,NULL,0,NULL);
</pre></div>
</li>
<li class="stepexpand"><span>Create a rule for the PII Rule Set.</span>
<div>
<pre dir="ltr">EXEC DBMS_MACADM.CREATE_RULE(&#39;Check OLS Factor&#39;,  &#39;dominates(sa_utl.numeric_label(&#39;&#39;PRIVACY&#39;&#39;),  char_to_label(&#39;&#39;PRIVACY&#39;&#39;,&#39;&#39;S:PII&#39;&#39;)) = &#39;&#39;1&#39;&#39;&#39;);
</pre>
<p>Ensure that you use single quotes, as shown in this example, and not double quotes.</p>
</div>
</li>
<li class="stepexpand"><span>Add the Check OLS Factor rule to the PII Rule Set.</span>
<div>
<pre dir="ltr">EXEC DBMS_MACADM.ADD_RULE_TO_RULE_SET(&#39;PII Rule Set&#39;, &#39;Check OLS Factor&#39;);
</pre></div>
</li>
</ol>
</div>
</div>
<a id="DVADM70308"></a>
<div class="props_rev_3"><a id="GUID-927FA214-FF3F-4328-8E55-16A35AD28E51"></a>
<h4 id="DVADM-GUID-927FA214-FF3F-4328-8E55-16A35AD28E51" class="sect4">Step 4: Update the ALTER SYSTEM Command Rule to Use the Rule Set</h4>
<div>
<p>Before the rule set can be used, you must update the ALTER SYSTEM command rule, which is a default command rule.</p>
<ol>
<li class="stepexpand"><span>As the Database Vault Owner, check the current value of the ALTER SYSTEM command rule, which is one of the default command rules when you install Oracle Database Vault.</span>
<div>
<pre dir="ltr">SELECT * FROM DVSYS.DBA_DV_COMMAND_RULE WHERE COMMAND = &#39;ALTER SYSTEM&#39;;
</pre></div>
</li>
<li class="stepexpand"><span>Make a note of these settings so that you can revert them to their original values later on.</span>
<div>
<p>In a default installation, the ALTER SYSTEM command rule uses the Allow Fine Grained Control of System Parameters rule set, and is enabled.</p>
</div>
</li>
<li class="stepexpand"><span>Update the ALTER SYSTEM command rule to be associated with the PII Rule Set.</span>
<div>
<pre dir="ltr">EXEC DBMS_MACADM.UPDATE_COMMAND_RULE(&#39;ALTER SYSTEM&#39;, &#39;PII Rule Set&#39;, &#39;%&#39;, &#39;%&#39;, &#39;Y&#39;);
</pre>
<p>This command adds the PII Rule Set to the ALTER SYSTEM command rule, applies it to all object owners and object names, and enables the command rule.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="DVADM70309"></a>
<div class="props_rev_3"><a id="GUID-7C997F97-9BC9-41B4-9A4F-0385CBEFA2F0"></a>
<h4 id="DVADM-GUID-7C997F97-9BC9-41B4-9A4F-0385CBEFA2F0" class="sect4">Step 5: Test the Authorizations</h4>
<div>
<p>With all the components in place, you are ready to test the authorization.</p>
<ol>
<li class="stepexpand"><span>In SQL*Plus, log on as user <code class="codeph">mdale</code>.</span>
<div>
<pre dir="ltr">CONNECT mdale <span class="italic">-- Or, CONNECT mdale@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>Check the current setting for the <code class="codeph">AUDIT_TRAIL</code> initialization parameter.</span>
<div>
<pre dir="ltr">SHOW PARAMETER AUDIT_TRAIL

NAME                                 TYPE        VALUE
------------------------------------ ----------- ----------------------
audit_trail                          string      DB
</pre>
<p>Make a note of this setting, so that you can revert it to its original setting later on.</p>
</div>
</li>
<li class="stepexpand"><span>As user <code class="codeph">mdale</code>, use the <code class="codeph">ALTER SYSTEM</code> statement to modify the <code class="codeph">CPU_COUNT</code> parameter.</span>
<div>
<pre dir="ltr">ALTER SYSTEM SET CPU_COUNT = 4;
System altered.
</pre>
<p>Because user <code class="codeph">mdale</code> was assigned the Sensitive label with the PII compartment, he can use the <code class="codeph">ALTER SYSTEM</code> statement to modify the <code class="codeph">AUDIT_TRAIL</code> system parameter.</p>
</div>
</li>
<li class="stepexpand"><span>Set the <code class="codeph">CPU_COUNT</code> parameter back to its original value.</span>
<div>
<p>For example:</p>
<pre dir="ltr">ALTER SYSTEM SET CPU_COUNT = 2;
</pre></div>
</li>
<li class="stepexpand"><span>Log in as user <code class="codeph">jsmith</code> and then issue the same <code class="codeph">ALTER SYSTEM</code> statement:</span>
<div>
<pre dir="ltr">CONNECT jsmith <span class="italic">-- Or, CONNECT jsmith@hrpdb</span>
Enter password: <span class="italic">password</span>

ALTER SYSTEM SET CPU_COUNT = 14;
</pre>
<p>The following output should appear:</p>
<pre dir="ltr">ERROR at line 1:
ORA-01031: insufficient privileges
</pre>
<p>Because user <code class="codeph">jsmith</code> was assigned only the Confidential label, he cannot perform the <code class="codeph">ALTER SYSTEM</code> statement.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="DVADM70310"></a>
<div class="props_rev_3"><a id="GUID-326B01A3-AA35-49CE-8CDA-5A3C18E160C0"></a>
<h4 id="DVADM-GUID-326B01A3-AA35-49CE-8CDA-5A3C18E160C0" class="sect4">Step 6: Remove the Components for This Tutorial</h4>
<div>
<p>You can remove the components that you created for this tutorial if you no longer need them.</p>
<ol>
<li class="stepexpand"><span>Connect as the Oracle Label Security administrator and remove the label policy and its components.</span>
<div>
<pre dir="ltr">CONNECT LBACSYS <span class="italic">-- Or, CONNECT LBACSYS@hrpdb</span>
Enter password: <span class="italic">password</span>

EXEC SA_SYSDBA.DROP_POLICY(&#39;PRIVACY&#39;, TRUE);
</pre></div>
</li>
<li class="stepexpand"><span>Connect as the Oracle Database Vault Owner and issue the following commands in the order shown, to set the ALTER SYSTEM command rule back to its previous setting and remove the rule set.</span>
<div>
<p>For example:</p>
<pre dir="ltr">CONNECT leo_dvowner
Enter password: <span class="italic">password</span>

EXEC DBMS_MACADM.UPDATE_COMMAND_RULE(&#39;ALTER SYSTEM&#39;, &#39;Allow System Parameters&#39;,&#39;%&#39;, &#39;%&#39;, &#39;Y&#39;);
EXEC DBMS_MACADM.DELETE_RULE_FROM_RULE_SET(&#39;PII Rule Set&#39;, &#39;Check OLS Factor&#39;);
EXEC DBMS_MACADM.DELETE_RULE(&#39;Check OLS Factor&#39;);
EXEC DBMS_MACADM.DELETE_RULE_SET(&#39;PII Rule Set&#39;);
COMMIT;
</pre></div>
</li>
<li class="stepexpand"><span>Connect as the Database Vault Account Manager and remove users <code class="codeph">mdale</code> and <code class="codeph">jsmith</code>.</span>
<div>
<pre dir="ltr">CONNECT bea_dvacctmgr <span class="italic">-- Or, CONNECT bea_dvacctmgr@hrpdb</span>
Enter password: <span class="italic">password</span>

DROP USER mdale;
DROP USER jsmith;
</pre></div>
</li>
</ol>
</div>
</div>
</div>
<a id="DVADM70312"></a><a id="DVADM70313"></a><a id="DVADM70311"></a>
<div class="props_rev_3"><a id="GUID-E262B916-02A0-4568-8898-61EC43BF824F"></a>
<h3 id="DVADM-GUID-E262B916-02A0-4568-8898-61EC43BF824F" class="sect3">Related Reports and Data Dictionary Views</h3>
<div>
<p>Oracle Database Vault provides reports and data dictionary views that list information about the Oracle Database Vault-Oracle Label Security integration.</p>
<div class="section">
<p><a href="dv_ols.htm#GUID-E262B916-02A0-4568-8898-61EC43BF824F__CHDEAICG" title="DV and OLS integration reports">Table 10-1</a> lists the Oracle Database Vault reports. See <a href="reports.htm#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault provides reports that track activities, such as the Database Vault configuration settings.">Oracle Database Vault Reports</a> , for information about how to run these reports.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E262B916-02A0-4568-8898-61EC43BF824F__CHDEAICG">
<p class="titleintable">Table 10-1 Reports Related to Database Vault and Oracle Label Security Integration</p>
<table class="cellalignment338" title="Reports Related to Database Vault and Oracle Label Security Integration" summary="DV and OLS integration reports">
<thead>
<tr class="cellalignment332">
<th class="cellalignment375" id="d44620e2972">Report</th>
<th class="cellalignment376" id="d44620e2975">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment377" id="d44620e2980" headers="d44620e2972">
<p><a href="reports.htm#GUID-A94B0EFE-DF5E-4E3E-B952-EF9047348370" title="The Factor Configuration Issues Report displays Oracle Database Vault factors configuration issues.">Factor Configuration Issues Report</a></p>
</td>
<td class="cellalignment378" headers="d44620e2980 d44620e2975">
<p>Lists factors in which the Oracle Label Security policy does not exist.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment377" id="d44620e2991" headers="d44620e2972">
<p><a href="reports.htm#GUID-4BB1C655-BCBA-4C9D-8793-10E9AFD9F51D" title="The Identity Configuration Issues Report displays Oracle Database Vault factor identity configuration issues.">Identity Configuration Issues Report</a></p>
</td>
<td class="cellalignment378" headers="d44620e2991 d44620e2975">
<p>Lists invalid label identities (the Oracle Label Security label for this identity has been removed and no longer exists).</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment377" id="d44620e3002" headers="d44620e2972">
<p><a href="reports.htm#GUID-ECBE6A5B-67C1-4D4F-9B3A-F8CAF18865CF" title="The Security Policy Exemption Report shows database (but not Oracle Database Vault) accounts and roles that have the EXEMPT ACCESS POLICY system privilege.">Security Policy Exemption Report</a></p>
</td>
<td class="cellalignment378" headers="d44620e3002 d44620e2975">
<p>Lists accounts and roles that have the <code class="codeph">EXEMPT ACCESS POLICY</code> system privilege granted to them. Accounts that have this privilege can bypass all Virtual Private Database policy filters and any Oracle Label Security policies that use Oracle Virtual Private Database indirectly.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p><a href="dv_ols.htm#GUID-E262B916-02A0-4568-8898-61EC43BF824F__CHDIHAGG" title="Oracle Label Security Data Dictionary Views">Table 10-2</a> lists data dictionary views that provide information about existing Oracle Label Security policies used with Oracle Database Vault.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E262B916-02A0-4568-8898-61EC43BF824F__CHDIHAGG">
<p class="titleintable">Table 10-2 Data Dictionary Views Used for Oracle Label Security</p>
<table class="cellalignment338" title="Data Dictionary Views Used for Oracle Label Security" summary="Oracle Label Security Data Dictionary Views">
<thead>
<tr class="cellalignment332">
<th class="cellalignment375" id="d44620e3035">Data Dictionary View</th>
<th class="cellalignment376" id="d44620e3038">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment377" id="d44620e3043" headers="d44620e3035">
<p><a href="views.htm#GUID-1A084EF5-EDBA-4F05-8F8E-D0724B087281" title="The DVSYS.DBA_DV_MAC_POLICY data dictionary view lists the Oracle Label Security policies defined for use with Oracle Database Vault.">DVSYS.DBA_DV_MAC_POLICY View</a></p>
</td>
<td class="cellalignment378" headers="d44620e3043 d44620e3038">
<p>Lists the Oracle Label Security policies defined</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment377" id="d44620e3057" headers="d44620e3035">
<p><a href="views.htm#GUID-25936F30-4741-4A4C-AB35-5B9AD3800420" title="The DVSYS.DBA_DV_MAC_POLICY data dictionary view lists the factors that are associated with Oracle Label Security policies.">DVSYS.DBA_DV_MAC_POLICY_FACTOR View</a></p>
</td>
<td class="cellalignment378" headers="d44620e3057 d44620e3038">
<p>Lists the factors that are associated with Oracle Label Security policies</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment377" id="d44620e3071" headers="d44620e3035">
<p><a href="views.htm#GUID-271C29D9-7A4D-49AA-9E7A-93097A0C7B87" title="The DVSYS.DBA_DV_POLICY_LABEL data dictionary view lists the Oracle Label Security label for each factor identifier in the DBA_DV_IDENTITY view for each policy.">DVSYS.DBA_DV_POLICY_LABEL View</a></p>
</td>
<td class="cellalignment378" headers="d44620e3071 d44620e3038">
<p>Lists the Oracle Label Security label for each factor identifier in the <code class="codeph">DBA_DV_IDENTITY</code> view for each policy</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="DVADM71378"></a>
<div class="props_rev_3"><a id="GUID-1C6479B9-3AD7-423F-B978-3D18CFD9BA5B"></a>
<h2 id="DVADM-GUID-1C6479B9-3AD7-423F-B978-3D18CFD9BA5B" class="sect2">Integrating Oracle Database Vault with Oracle Data Guard</h2>
<div>
<p>An Oracle Database Vault-Oracle Data Guard integration requires first, the primary database configuration, then the standby database configration.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="dv_ols.htm#GUID-849CCA64-93FF-4F8B-9DAD-3999D65D5B2C" title="You must run the DGMGRL and DBCA utilities, and then the ALTER SYSTEM statement, to configure the primary database.">Step 1: Configure the Primary Database</a></p>
</li>
<li>
<p><a href="dv_ols.htm#GUID-5B31C355-03C1-4FAD-A190-03B54EB20B88" title="You can perform the standby database configuration within the database to be used for the standby database.">Step 2: Configure the Standby Database</a></p>
</li>
</ul>
</div>
<a id="DVADM71379"></a>
<div class="props_rev_3"><a id="GUID-849CCA64-93FF-4F8B-9DAD-3999D65D5B2C"></a>
<h3 id="DVADM-GUID-849CCA64-93FF-4F8B-9DAD-3999D65D5B2C" class="sect3">Step 1: Configure the Primary Database</h3>
<div>
<p>You must run the DGMGRL and DBCA utilities, and then the <code class="codeph">ALTER SYSTEM</code> statement, to configure the primary database.</p>
<div class="section">
<ol>
<li>
<p>For Linux and UNIX systems, ensure there is an <code class="codeph">/etc/oratab</code> entry for the database on the node in which you are installing Oracle Database Vault.</p>
</li>
<li>
<p>If you are using Data Guard Broker, then from the command prompt, disable the configuration as follows:</p>
<pre dir="ltr">dgmgrl sys
Enter password: <span class="italic">password</span>

DGMGRL&gt; disable configuration;
</pre></li>
<li>
<p>Run Database Configuration Assistant (DBCA) and configure the database options to add Oracle Database Vault to the primary database.</p>
<ol>
<li>
<p>From the command line, enter the following command to start DBCA:</p>
<pre dir="ltr">dbca
</pre></li>
<li>
<p>Select the correct database type (<span class="bold">Cluster</span> or <span class="bold">Single Instance</span>) and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>In the Database Operation page, select <span class="bold">Configure Database Options</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select the appropriate database and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select <span class="bold">Oracle Label Security</span>, which then enables you to select <span class="bold">Oracle Database Vault</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Enter the name of the Database Vault owner (required) and the Database Vault account manager (recommended).</p>
<p>Passwords must have at least one alphabetic character, one number, and one special character.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Choose appropriate connection mode and click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to restart the database.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> on <span class="bold">Configure Additional Components</span>.</p>
</li>
</ol>
<p>At this point, the installation on the primary site is complete.</p>
</li>
<li>
<p>Log into the database instance as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege.</p>
<pre dir="ltr">sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre></li>
<li id="GUID-849CCA64-93FF-4F8B-9DAD-3999D65D5B2C__BABGDBBF">
<p>Run the following <code class="codeph">ALTER SYSTEM</code> statements:</p>
<pre dir="ltr">ALTER SYSTEM SET AUDIT_SYS_OPERATIONS=TRUE SCOPE=SPFILE; 
ALTER SYSTEM SET OS_ROLES=FALSE SCOPE=SPFILE; 
ALTER SYSTEM SET RECYCLEBIN=&#39;OFF&#39; SCOPE=SPFILE; 
ALTER SYSTEM SET REMOTE_LOGIN_PASSWORDFILE=&#39;EXCLUSIVE&#39; SCOPE=SPFILE;
ALTER SYSTEM SET SQL92_SECURITY=TRUE SCOPE=SPFILE;
ALTER SYSTEM SET REMOTE_OS_AUTHENT=FALSE SCOPE=SPFILE; 
ALTER SYSTEM SET REMOTE_OS_ROLES=FALSE SCOPE=SPFILE;
</pre></li>
<li>
<p>Run the <code class="codeph">ALTER SYSTEM</code> statement on each database instance to set the parameters as shown in Step <a href="dv_ols.htm#GUID-849CCA64-93FF-4F8B-9DAD-3999D65D5B2C__BABGDBBF">5</a>.</p>
</li>
<li>
<p>Restart each database instance.</p>
<pre dir="ltr">CONNECT SYS AS SYSOPER
Enter password: <span class="italic">password</span>

SHUTDOWN IMMEDIATE
STARTUP
</pre></li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM71380"></a>
<div class="props_rev_3"><a id="GUID-5B31C355-03C1-4FAD-A190-03B54EB20B88"></a>
<h3 id="DVADM-GUID-5B31C355-03C1-4FAD-A190-03B54EB20B88" class="sect3">Step 2: Configure the Standby Database</h3>
<div>
<p>You can perform the standby database configuration within the database to be used for the standby database.</p>
<ol>
<li class="stepexpand"><span>Log into the database instance as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege.</span>
<div>
<pre dir="ltr">sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre></div>
</li>
<li class="stepexpand"><span>In a multitenant environment, connect to the appropriate PDB.</span>
<div>
<p>For example:</p>
<pre dir="ltr">CONNECT bea_dvacctmgr@hrpdb
Enter password: <span class="italic">password</span>
</pre>
<p>To find the available PDBs, query the <code class="codeph">DBA_PDBS</code> data dictionary view. To check the current PDB, run the <code class="codeph">show con_name</code> command.</p>
</div>
</li>
<li class="stepexpand"><span>Mount a standby database instance.</span>
<div>
<pre dir="ltr">ALTER DATABASE MOUNT STANDBY DATABASE;
</pre></div>
</li>
<li class="stepexpand"><span>Run the following <code class="codeph">ALTER SYSTEM</code> statements:</span>
<div>
<pre dir="ltr">ALTER SYSTEM SET AUDIT_SYS_OPERATIONS=TRUE SCOPE=SPFILE; 
ALTER SYSTEM SET OS_ROLES=FALSE SCOPE=SPFILE; 
ALTER SYSTEM SET RECYCLEBIN=&#39;OFF&#39; SCOPE=SPFILE; 
ALTER SYSTEM SET REMOTE_LOGIN_PASSWORDFILE=&#39;EXCLUSIVE&#39; SCOPE=SPFILE;
ALTER SYSTEM SET SQL92_SECURITY=TRUE SCOPE=SPFILE;
ALTER SYSTEM SET REMOTE_OS_AUTHENT=FALSE SCOPE=SPFILE; 
ALTER SYSTEM SET REMOTE_OS_ROLES=FALSE SCOPE=SPFILE;
</pre></div>
</li>
<li class="stepexpand"><span>Restart or mount the database instance.</span>
<div>
<p>For example:</p>
<pre dir="ltr">SHUTDOWN IMMEDIATE
STARTUP
</pre></div>
</li>
<li class="stepexpand"><span>Mount the next standby instance.</span></li>
<li class="stepexpand"><span>Restart the managed recovery as follows:</span>
<div>
<pre dir="ltr">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE; 
</pre></div>
</li>
<li class="stepexpand"><span>If you are using Data Guard Broker, then from the command line, re-enable the configuration.</span>
<div>
<pre dir="ltr">dgmgrl sys
Enter password: <span class="italic">password</span>

DGMGRL&gt; enable configuration; 
</pre>
<p>This command applies the changes to the physical standby database made by the Oracle Database Vault installation on the primary database.</p>
</div>
</li>
<li class="stepexpand"><span>Repeat the physical standby installation process on each physical standby database. For example, if there are three physical standby databases, then run these procedures or each standby database.</span></li>
</ol>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-C7A100F0-DAC5-4866-9B25-755B36CA44F5"></a>
<h2 id="DVADM-GUID-C7A100F0-DAC5-4866-9B25-755B36CA44F5" class="sect2">Registering Oracle Internet Directory Using Oracle Database Configuration Asssitant</h2>
<div>
<p>You can use Oracle Internet Directory in an Oracle Database Vault-enabled database.</p>
<p>However, if you want to register Oracle Internet Directory (OID) using Oracle Database Configuration Assistant (DBCA), then you must first disable Oracle Database Vault.</p>
</div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a href="dvdisabl.htm#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
</ul>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment331">
<tr>
<td class="cellalignment359">
<table class="cellalignment336">
<tr>
<td class="cellalignment335"><a href="cfseappr.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment335"><a href="dba.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment361">
<table class="cellalignment334">
<tr>
<td class="cellalignment335"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment335"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment335"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment335"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment335"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment335"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
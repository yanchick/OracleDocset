<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5954"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Database%20Vault%20Utility%20APIs"></a><title>Oracle Database Vault Utility APIs</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Oracle Database Vault provides a set of utility APIs in the DBMS_MACUTL PL/SQL package."/>
<meta name="keywords" content="functions, command rules, DBMS_MACUTL (utility), functions, rule sets, DBMS_MACUTL (utility), factors, realms, secure application roles, utility functions, .DBMS_MACUTL package, DBMS_MACUTL package, about, auditing, DBMS_MACUTL fields, sessions, DBMS_MACUTL fields, DBMS_MACUTL constants (fields), Oracle Label Security (OLS), constants (fields), listed, examples, DBMS_MACUTL constants, example of, DBMS_MACUTL constants, procedures and functions, listed, procedures and functions, data manipulation language (DML), statement, checking with DBMS_MACUTL.CHECK_DVSYS_DML_ALLOWED function, system privileges, checking with DBMS_MACUTL.USER_HAS_SYSTEM_PRIVILEGE function, code groups, retrieving value with DBMS_MACUTL functions, time data, DBMS_MACUTL functions, checking if installed using DBMS_MACUTL functions, privileges, checking with DBMS_MACUTL.USER_HAS_OBJECT_PRIVILEGE function, roles, checking with DBMS_MACUTL.USER_HAS_ROLE_VARCHAR function, privileges, checking with DBMS_MACUTL.USER_HAS_ROLE_VARCHAR function, system, DBMS_MACUTL.CHECK_DVSYS_DML_ALLOWED procedure, ORA-47920 error, ORA-06512 error, DBMS_MACUTL.GET_CODE_VALUE function, DBMS_MACUTL.GET_SECOND function, DBMS_MACUTL.GET_MINUTE function, DBMS_MACUTL.GET_HOUR function, DBMS_MACUTL.GET_DAY function, DBMS_MACUTL.GET_MONTH function, DBMS_MACUTL.GET_YEAR function, DBMS_MACUTL.IS_ALPHA function, DBMS_MACUTL.IS_DIGIT function, DBMS_MACUTL.IS_DVSYS_OWNER function, DBMS_MACUTL.IS_OLS_INSTALLED function, DBMS_MACUTL.IS_OLS_INSTALLED_VARCHAR function, DBMS_MACUTL.USER_HAS_OBJECT_PRIVILEGE function, DBMS_MACUTL.USER_HAS_ROLE function, DBMS_MACUTL.USER_HAS_ROLE_VARCHAR function, DBMS_MACUTL.USER_HAS_SYSTEM_PRIVILEGE function"/>
<meta name="dcterms.created" content="2017-06-05T10:50:14Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49109-12"/>
<meta name="dcterms.isVersionOf" content="DVADM"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="apis_ols.htm" title="Previous" type="text/html"/>
<link rel="Next" href="apis_admin.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49109-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3"></a> <span id="PAGE" style="display:none;">23/34</span> <!-- End Header -->
<a id="DVADM020"></a>
<h1 id="DVADM-GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3" class="sect1"><span class="enumeration_chapter">19</span> Oracle Database Vault Utility APIs</h1>
<div>
<p>Oracle Database Vault provides a set of utility APIs in the <code class="codeph">DBMS_MACUTL</code> PL/SQL package.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="apis_dbms_macutl.htm#GUID-A2FEEB0E-B2BA-45D8-8DDC-0C4760551531" title="You can use a set of constants, available in the DBMS_MACUTL PL/SQL package.">DBMS_MACUTL Constants</a></p>
</li>
<li>
<p><a href="apis_dbms_macutl.htm#GUID-8E562577-CF0B-48F1-9A13-822B4C08E6D9" title="The DBMS_MACUTL PL/SQL package can perform tasks such as finding a time value or whether a user has the the appropriate privileges.">DBMS_MACUTL Package Procedures and Functions</a></p>
</li>
</ul>
</div>
<a id="DVADM70753"></a>
<div class="props_rev_3"><a id="GUID-A2FEEB0E-B2BA-45D8-8DDC-0C4760551531"></a>
<h2 id="DVADM-GUID-A2FEEB0E-B2BA-45D8-8DDC-0C4760551531" class="sect2">DBMS_MACUTL Constants</h2>
<div>
<p>You can use a set of constants, available in the <code class="codeph">DBMS_MACUTL</code> PL/SQL package.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="apis_dbms_macutl.htm#GUID-B6513A8B-6DE9-45B1-96CB-3558C635CD4A" title="The DBMS_MACUTL PL/SQL package provides constants (fields) to use with Oracle Database Vault PL/SQL packages.">DBMS_MACUTL Listing of Constants</a></p>
</li>
<li>
<p><a href="apis_dbms_macutl.htm#GUID-455C22FC-E17D-4D8A-8E02-3ED8D971B716" title="Constants can be used to answer simple Yes or No settings when you create objects in Oracle Database Vault.">Example: Creating a Realm Using DBMS_MACUTL Constants</a></p>
</li>
<li>
<p><a href="apis_dbms_macutl.htm#GUID-40FF8DC6-F09C-4CA0-83D6-679052619888" title="Constants can be used to set options such as the type of auditing used or fail options.">Example: Creating a Rule Set Using DBMS_MACUTL Constants</a></p>
</li>
<li>
<p><a href="apis_dbms_macutl.htm#GUID-61631E72-67DA-4982-8021-DBB1D015657B" title="Constants can be used to set information specific to factors, such as identity or labeling.">Example: Creating a Factor Using DBMS_MACUTL Constants</a></p>
</li>
</ul>
</div>
<a id="DVADM70755"></a><a id="DVADM70754"></a>
<div class="props_rev_3"><a id="GUID-B6513A8B-6DE9-45B1-96CB-3558C635CD4A"></a>
<h3 id="DVADM-GUID-B6513A8B-6DE9-45B1-96CB-3558C635CD4A" class="sect3">DBMS_MACUTL Listing of Constants</h3>
<div>
<p>The <code class="codeph">DBMS_MACUTL</code> PL/SQL package provides constants (fields) to use with Oracle Database Vault PL/SQL packages.</p>
<div class="section">
<p><a href="apis_dbms_macutl.htm#GUID-B6513A8B-6DE9-45B1-96CB-3558C635CD4A__BCFGCJFH" title="Field summary for the DVSYS.DBMS_MACSEC_ROLES API">Table 19-1</a> summarizes constant (that is, fields) descriptions for the <code class="codeph">DBMS_MACUTL</code> package.</p>
<p>Many of these constants have equivalents in the Oracle Database Vault package. For example, the <code class="codeph">enabled</code> parameter, which is available in several procedures, can accept either <code class="codeph">Y</code> (for Yes) or the constant <code class="codeph">G_YES</code>. Choosing one over the other is a matter of personal preference. They both have the same result.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-B6513A8B-6DE9-45B1-96CB-3558C635CD4A__BCFGCJFH">
<p class="titleintable">Table 19-1 DBMS_MACUTL Listing of Constants</p>
<table class="cellalignment338" title="DBMS_MACUTL Listing of Constants" summary="Field summary for the DVSYS.DBMS_MACSEC_ROLES API">
<thead>
<tr class="cellalignment332">
<th class="cellalignment402" id="d86423e461">Constant Name</th>
<th class="cellalignment403" id="d86423e464">Data Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th class="cellalignment404" id="d86423e467">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e472" headers="d86423e461">
<p><code class="codeph">G_ALL_OBJECT</code></p>
</td>
<td class="cellalignment406" headers="d86423e472 d86423e464">
<p><code class="codeph">VARCHAR2(1)</code></p>
</td>
<td class="cellalignment407" headers="d86423e472 d86423e467">
<p>Used with the realm API <code class="codeph">object_name</code> and <code class="codeph">object_type</code> parameters as a wildcard to indicate all object names or all object types.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e490" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ALWAYS</code></p>
</td>
<td class="cellalignment406" headers="d86423e490 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e490 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to enable an audit.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e505" headers="d86423e461">
<p><code class="codeph">G_AUDIT_OFF</code></p>
</td>
<td class="cellalignment406" headers="d86423e505 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e505 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to disable auditing.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e520" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ON_GET_ERROR</code></p>
</td>
<td class="cellalignment406" headers="d86423e520 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e520 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to audit if the expression specified in the <code class="codeph">get_expr</code> parameter returns an error.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e538" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ON_GET_NULL</code></p>
</td>
<td class="cellalignment406" headers="d86423e538 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e538 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to audit if the expression in the <code class="codeph">get_expr</code> field is null.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e556" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ON_TRUST_LEVEL_NEG</code></p>
</td>
<td class="cellalignment406" headers="d86423e556 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e556 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to audit if the trust level is negative.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e571" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ON_TRUST_LEVEL_NULL</code></p>
</td>
<td class="cellalignment406" headers="d86423e571 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e571 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to audit if no trust level exists.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e586" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ON_VALIDATE_ERROR</code></p>
</td>
<td class="cellalignment406" headers="d86423e586 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e586 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to audit if the validation function returns an error.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e601" headers="d86423e461">
<p><code class="codeph">G_AUDIT_ON_VALIDATE_FALSE</code></p>
</td>
<td class="cellalignment406" headers="d86423e601 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e601 d86423e467">
<p>Used with the factor API <code class="codeph">audit_options</code> parameter to audit if validation function is false.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e616" headers="d86423e461">
<p><code class="codeph">G_EVAL_ON_ACCESS</code></p>
</td>
<td class="cellalignment406" headers="d86423e616 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e616 d86423e467">
<p>Used with the factor API <code class="codeph">eval_options</code> parameter to reevaluate the factor each time it is accessed.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e631" headers="d86423e461">
<p><code class="codeph">G_EVAL_ON_SESSION</code></p>
</td>
<td class="cellalignment406" headers="d86423e631 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e631 d86423e467">
<p>Used with the factor API <code class="codeph">eval_options</code> parameter to evaluate the factor only once, when the user logs in to the session.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e647" headers="d86423e461">
<p><code class="codeph">G_FAIL_SILENTLY</code></p>
</td>
<td class="cellalignment406" headers="d86423e647 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e647 d86423e467">
<p>Used with the <code class="codeph">fail_options</code> parameter to fail and show no error message.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e662" headers="d86423e461">
<p><code class="codeph">G_FAIL_WITH_MESSAGE</code></p>
</td>
<td class="cellalignment406" headers="d86423e662 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e662 d86423e467">
<p>Used with the <code class="codeph">fail_options</code> parameter to fail and show an error message.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e677" headers="d86423e461">
<p><code class="codeph">G_IDENTIFY_BY_CONSTANT</code></p>
</td>
<td class="cellalignment406" headers="d86423e677 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e677 d86423e467">
<p>Used with the factor API <code class="codeph">identify_by</code> parameter: Fixed value in PL/SQL expression defined in the <code class="codeph">get_expr</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e695" headers="d86423e461">
<p><code class="codeph">G_IDENTIFY_BY_CONTEXT</code></p>
</td>
<td class="cellalignment406" headers="d86423e695 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e695 d86423e467">
<p>Used with the factor API <code class="codeph">identify_by</code> parameter to indicate context.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e710" headers="d86423e461">
<p><code class="codeph">G_IDENTIFY_BY_FACTOR</code></p>
</td>
<td class="cellalignment406" headers="d86423e710 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e710 d86423e467">
<p>Used with the factor API <code class="codeph">identify_by</code> parameter for subfactors through the <code class="codeph">factor_link$</code> table.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e728" headers="d86423e461">
<p><code class="codeph">G_IDENTIFY_BY_METHOD</code></p>
</td>
<td class="cellalignment406" headers="d86423e728 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e728 d86423e467">
<p>Used with the factor API <code class="codeph">identify_by</code> parameter: Expression in <code class="codeph">get_expr</code> field</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e746" headers="d86423e461">
<p><code class="codeph">G_IDENTIFY_BY_RULESET</code></p>
</td>
<td class="cellalignment406" headers="d86423e746 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e746 d86423e467">
<p>Used with the factor API <code class="codeph">identify_by</code> parameter: Expression and Rule Set with the <code class="codeph">factor_expr$</code> table</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e764" headers="d86423e461">
<p><code class="codeph">G_LABELED_BY_FACTORS</code></p>
</td>
<td class="cellalignment406" headers="d86423e764 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e764 d86423e467">
<p>Used with the factor API <code class="codeph">labeled_by</code> parameter to derive the label from subfactor and merge algorithm.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e779" headers="d86423e461">
<p><code class="codeph">G_LABELED_BY_SELF</code></p>
</td>
<td class="cellalignment406" headers="d86423e779 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e779 d86423e467">
<p>Used with the factor API <code class="codeph">labeled_by</code> parameter to label the factor identities.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e794" headers="d86423e461">
<p><code class="codeph">G_MAX_SESSION_LABEL</code></p>
</td>
<td class="cellalignment406" headers="d86423e794 d86423e464">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment407" headers="d86423e794 d86423e467">
<p>This is the highest label a user could set based on the factors. It does not consider the label for a user.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e806" headers="d86423e461">
<p><code class="codeph">G_MIN_POLICY_LABEL</code></p>
</td>
<td class="cellalignment406" headers="d86423e806 d86423e464">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment407" headers="d86423e806 d86423e467">
<p>The label to which a factor with a null label defaults.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e819" headers="d86423e461">
<p><code class="codeph">G_NO</code></p>
</td>
<td class="cellalignment406" headers="d86423e819 d86423e464">
<p><code class="codeph">VARCHAR2(1)</code></p>
</td>
<td class="cellalignment407" headers="d86423e819 d86423e467">
<p>Used with the following APIs:</p>
<ul style="list-style-type: disc;">
<li>
<p>The factor API <code class="codeph">label_indicator</code> parameter to indicate that a child factor linked to a parent factor does not contribute to the label of the parent factor in an Oracle Label Security integration.</p>
</li>
<li>
<p>Any API that uses the <code class="codeph">enabled</code> parameter.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e844" headers="d86423e461">
<p><code class="codeph">G_OLS_SESSION_LABEL</code></p>
</td>
<td class="cellalignment406" headers="d86423e844 d86423e464">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment407" headers="d86423e844 d86423e467">
<p>The Oracle Label Security session label for a user at the time <code class="codeph">init_session</code> is run.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e859" headers="d86423e461">
<p><code class="codeph">G_REALM_AUDIT_FAIL</code></p>
</td>
<td class="cellalignment406" headers="d86423e859 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e859 d86423e467">
<p>Used with the realm API <code class="codeph">audit_options</code> parameter to audit when the realm is violated.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e874" headers="d86423e461">
<p><code class="codeph">G_REALM_AUDIT_OFF</code></p>
</td>
<td class="cellalignment406" headers="d86423e874 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e874 d86423e467">
<p>Used with the realm API <code class="codeph">audit_options</code> parameter to disable auditing.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e889" headers="d86423e461">
<p><code class="codeph">G_REALM_AUDIT_SUCCESS</code></p>
</td>
<td class="cellalignment406" headers="d86423e889 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e889 d86423e467">
<p>Used with the realm API <code class="codeph">audit_options parameter</code>: Audit on successful realm access</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e904" headers="d86423e461">
<p><code class="codeph">G_REALM_AUTH_OWNER</code></p>
</td>
<td class="cellalignment406" headers="d86423e904 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e904 d86423e467">
<p>Used with the realm API <code class="codeph">auth_options</code> parameter to set the realm authorization to Owner.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e919" headers="d86423e461">
<p><code class="codeph">G_REALM_AUTH_PARTICIPANT</code></p>
</td>
<td class="cellalignment406" headers="d86423e919 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e919 d86423e467">
<p>Used with the realm API <code class="codeph">auth_options</code> parameter to set the realm authorization to Participant.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e934" headers="d86423e461">
<p><code class="codeph">G_RULESET_AUDIT_FAIL</code></p>
</td>
<td class="cellalignment406" headers="d86423e934 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e934 d86423e467">
<p>Used with the rule set API <code class="codeph">audit_options</code> parameter to audit on rule set failure.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e949" headers="d86423e461">
<p><code class="codeph">G_RULESET_AUDIT_OFF</code></p>
</td>
<td class="cellalignment406" headers="d86423e949 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e949 d86423e467">
<p>Used with the rule set API <code class="codeph">audit_options</code> parameter to disable auditing.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e964" headers="d86423e461">
<p><code class="codeph">G_RULESET_AUDIT_SUCCESS</code></p>
</td>
<td class="cellalignment406" headers="d86423e964 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e964 d86423e467">
<p>Used with the rule set API <code class="codeph">audit_options</code> parameter to audit on rule set success.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e979" headers="d86423e461">
<p><code class="codeph">G_RULESET_EVAL_ALL</code></p>
</td>
<td class="cellalignment406" headers="d86423e979 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e979 d86423e467">
<p>Used with the rule set API <code class="codeph">eval_options</code> parameter to enable the rule set to succeed if all rules evaluate to true.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e995" headers="d86423e461">
<p><code class="codeph">G_RULESET_EVAL_ANY</code></p>
</td>
<td class="cellalignment406" headers="d86423e995 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e995 d86423e467">
<p>Used with the rule set API <code class="codeph">eval_options</code> parameter to succeed if any of the rules evaluate to true.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1010" headers="d86423e461">
<p><code class="codeph">G_RULESET_FAIL_SHOW</code></p>
</td>
<td class="cellalignment406" headers="d86423e1010 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e1010 d86423e467">
<p>Used with the rule set API <code class="codeph">fail_options</code> parameter to show an error message if the rule set fails.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1025" headers="d86423e461">
<p><code class="codeph">G_RULESET_FAIL_SILENT</code></p>
</td>
<td class="cellalignment406" headers="d86423e1025 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e1025 d86423e467">
<p>Used with the rule set API <code class="codeph">fail_options</code> parameter to not show an error message if the rule set fails.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1040" headers="d86423e461">
<p><code class="codeph">G_RULESET_HANDLER_FAIL</code></p>
</td>
<td class="cellalignment406" headers="d86423e1040 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e1040 d86423e467">
<p>Used with the rule set API <code class="codeph">handler_options</code> parameter to call a handler (specified by the <code class="codeph">handler</code> parameter) if the rule set fails.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1058" headers="d86423e461">
<p><code class="codeph">G_RULESET_HANDLER_OFF</code></p>
</td>
<td class="cellalignment406" headers="d86423e1058 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e1058 d86423e467">
<p>Used with the rule set API <code class="codeph">handler_options</code> parameter to disable calls to a handler or if no handler is used.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1073" headers="d86423e461">
<p><code class="codeph">G_RULESET_HANDLER_SUCCESS</code></p>
</td>
<td class="cellalignment406" headers="d86423e1073 d86423e464">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment407" headers="d86423e1073 d86423e467">
<p>Used with the rule set API <code class="codeph">handler_options</code> parameter to call a handler if the rule set succeeds.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1088" headers="d86423e461">
<p><code class="codeph">G_USER_POLICY_LABEL</code></p>
</td>
<td class="cellalignment406" headers="d86423e1088 d86423e464">
<p><code class="codeph">VARCHAR2(30)</code></p>
</td>
<td class="cellalignment407" headers="d86423e1088 d86423e467">
<p>This is what Oracle Label Security has decided the user&#39;s label should be set to after factoring in the preceding values.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment405" id="d86423e1100" headers="d86423e461">
<p><code class="codeph">G_YES</code></p>
</td>
<td class="cellalignment406" headers="d86423e1100 d86423e464">
<p><code class="codeph">VARCHAR2(1)</code></p>
</td>
<td class="cellalignment407" headers="d86423e1100 d86423e467">
<p>Used with the following APIs:</p>
<ul style="list-style-type: disc;">
<li>
<p>The factor API <code class="codeph">label_indicator</code> parameter to indicate that a child factor linked to a parent factor contributes to the label of the parent factor in an Oracle Label Security integration.</p>
</li>
<li>
<p>Any API that uses the <code class="codeph">enabled</code> parameter.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DVADM70757"></a><a id="DVADM71515"></a>
<div class="props_rev_3"><a id="GUID-455C22FC-E17D-4D8A-8E02-3ED8D971B716"></a>
<h3 id="DVADM-GUID-455C22FC-E17D-4D8A-8E02-3ED8D971B716" class="sect3">Example: Creating a Realm Using DBMS_MACUTL Constants</h3>
<div>
<p>Constants can be used to answer simple Yes or No settings when you create objects in Oracle Database Vault.</p>
<p><a href="apis_dbms_macutl.htm#GUID-455C22FC-E17D-4D8A-8E02-3ED8D971B716__CIHJBBHD">Example 19-1</a> shows how to use the <code class="codeph">G_YES</code> and <code class="codeph">G_REALM_AUDIT_FAIL</code> <code class="codeph">DBMS_MACUTL</code> constants when creating a realm.</p>
<div class="example" id="GUID-455C22FC-E17D-4D8A-8E02-3ED8D971B716__CIHJBBHD">
<p class="titleinexample">Example 19-1 Creating a Realm Using DBMS_MACUTL Constants</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.CREATE_REALM(
  realm_name    =&gt; &#39;Performance Statistics Realm&#39;,
  description   =&gt; &#39;Realm to measure performance&#39;,
  enabled       =&gt;  DBMS_MACUTL.G_YES,
  audit_options =&gt;  DBMS_MACUTL.G_REALM_AUDIT_FAIL);
END;
/
</pre></div>
<!-- class="example" --></div>
</div>
<a id="DVADM70758"></a><a id="DVADM71516"></a>
<div class="props_rev_3"><a id="GUID-40FF8DC6-F09C-4CA0-83D6-679052619888"></a>
<h3 id="DVADM-GUID-40FF8DC6-F09C-4CA0-83D6-679052619888" class="sect3">Example: Creating a Rule Set Using DBMS_MACUTL Constants</h3>
<div>
<p>Constants can be used to set options such as the type of auditing used or fail options.</p>
<p><a href="apis_dbms_macutl.htm#GUID-40FF8DC6-F09C-4CA0-83D6-679052619888__CIHCFIDJ">Example 19-2</a> shows how to use several <code class="codeph">DBMS_MACUTL</code> constants when creating a rule set.</p>
<div class="example" id="GUID-40FF8DC6-F09C-4CA0-83D6-679052619888__CIHCFIDJ">
<p class="titleinexample">Example 19-2 Creating a Rule Set Using DBMS_MACUTL Constants</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.CREATE_RULE_SET(
  rule_set_name    =&gt; &#39;Limit_DBA_Access&#39;, 
  description      =&gt; &#39;DBA access through predefined processes&#39;, 
  enabled          =&gt; DBMS_MACUTL.G_YES,
  eval_options     =&gt; DBMS_MACUTL.G_RULESET_EVAL_ALL,
  audit_options    =&gt; DBMS_MACUTL.G_RULESET_AUDIT_FAIL,
  fail_options     =&gt; DBMS_MACUTL.G_RULESET_FAIL_SHOW,
  fail_message     =&gt; &#39;Rule Set Limit_DBA_Access has failed.&#39;,
  fail_code        =&gt; 20000,
  handler_options  =&gt; DBMS_MACUTL.G_RULESET_HANDLER_FAIL, 
  handler          =&gt; &#39;dbavowner.email_alert&#39;);
END;
/
</pre></div>
<!-- class="example" --></div>
</div>
<a id="DVADM70759"></a><a id="DVADM71517"></a>
<div class="props_rev_3"><a id="GUID-61631E72-67DA-4982-8021-DBB1D015657B"></a>
<h3 id="DVADM-GUID-61631E72-67DA-4982-8021-DBB1D015657B" class="sect3">Example: Creating a Factor Using DBMS_MACUTL Constants</h3>
<div>
<p>Constants can be used to set information specific to factors, such as identity or labeling.</p>
<p><a href="apis_dbms_macutl.htm#GUID-61631E72-67DA-4982-8021-DBB1D015657B__CIHCCFFC">Example 19-3</a> shows how to use constants when creating a factor.</p>
<div class="example" id="GUID-61631E72-67DA-4982-8021-DBB1D015657B__CIHCCFFC">
<p class="titleinexample">Example 19-3 Creating a Factor Using DBMS_MACUTL Constants</p>
<pre dir="ltr">BEGIN
 DBMS_MACADM.CREATE_FACTOR(
  factor_name       =&gt; &#39;Sector2_DB&#39;, 
  factor_type_name  =&gt; &#39;Instance&#39;, 
  description       =&gt; &#39; &#39;, 
  rule_set_name     =&gt; &#39;DB_access&#39;, 
  get_expr          =&gt; &#39;UPPER(SYS_CONTEXT(&#39;&#39;USERENV&#39;&#39;,&#39;&#39;DB_NAME&#39;&#39;))&#39;, 
  validate_expr     =&gt; &#39;dbavowner.check_db_access&#39;, 
  identify_by       =&gt; DBMS_MACUTL.G_IDENTIFY_BY_FACTOR, 
  labeled_by        =&gt; DBMS_MACUTL.G_LABELED_BY_SELF, 
  eval_options      =&gt; DBMS_MACUTL.G_EVAL_ON_SESSION, 
  audit_options     =&gt; DBMS_MACUTL.G_AUDIT_ALWAYS, 
  fail_options      =&gt; DBMS_MACUTL.G_FAIL_SILENTLY); 
END;
/
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="DVADM70760"></a>
<div class="props_rev_3"><a id="GUID-8E562577-CF0B-48F1-9A13-822B4C08E6D9"></a>
<h2 id="DVADM-GUID-8E562577-CF0B-48F1-9A13-822B4C08E6D9" class="sect2">DBMS_MACUTL Package Procedures and Functions</h2>
<div>
<p>The <code class="codeph">DBMS_MACUTL</code> PL/SQL package can perform tasks such as finding a time value or whether a user has the the appropriate privileges.</p>
<p><a href="apis_dbms_macutl.htm#GUID-8E562577-CF0B-48F1-9A13-822B4C08E6D9__DBMS_MACUTLUTILITYFUNCTIONS-A828ED7B" title="DVSYS.DBMS_MACUTL API functions">Table 19-2</a> lists the procedures and functions in the <code class="codeph">DBMS_MACUTL</code> PL/SQL package. The examples in this section show a mixture of using both.</p>
<div class="tblformalwide" id="GUID-8E562577-CF0B-48F1-9A13-822B4C08E6D9__DBMS_MACUTLUTILITYFUNCTIONS-A828ED7B">
<p class="titleintable">Table 19-2 DBMS_MACUTL Utility Functions</p>
<table class="cellalignment379" title="DBMS_MACUTL Utility Functions" summary="DVSYS.DBMS_MACUTL API functions">
<thead>
<tr class="cellalignment332">
<th class="cellalignment365" id="d86423e1567">Procedure or Function</th>
<th class="cellalignment408" id="d86423e1570">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1575" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-14A61AC4-E440-4210-805C-3173197E57D6" title="The CHECK_DVSYS_DML_ALLOWED procedure checks whether a user can issue Data Modification Language (DML) commands to access the DVSYS objects.">CHECK_DVSYS_DML_ALLOWED Procedure</a></p>
</td>
<td class="cellalignment409" headers="d86423e1575 d86423e1570">
<p>Checks whether the given user can issue DML commands to access the <code class="codeph">DVSYS</code> objects</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1595" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-2B04606D-16A3-4A65-9EFD-7C1F8E6A4B75" title="The GET_CODE_VALUE function finds the value for a code within a code group, and then returns a VARCHAR2 value.">GET_CODE_VALUE Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1595 d86423e1570">
<p>Looks up the value for a code within a code group.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1612" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-19D2A447-067E-475D-9C24-093A1BD8E82E" title="The GET_SECOND function returns the seconds in Oracle SS (seconds) format (00&ndash;59), and then returns a NUMBER value.">GET_SECOND Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1612 d86423e1570">
<p>Returns the seconds in Oracle SS format (00-59). Useful for rule expressions based on time data</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1629" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-9BD12928-F394-473F-97A5-D1ACE20AACDA" title="The GET_MINUTE function returns the minute in Oracle MI (minute) format (00&ndash;59), in a NUMBER value.">GET_MINUTE Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1629 d86423e1570">
<p>Returns the minute in Oracle MI format (00&ndash;59). Useful for rule expressions based on time data</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1646" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-2F4521DC-AB18-424C-8E23-D2076ADF894F" title="The GET_HOUR function returns the hour in Oracle HH24 (hour) format (00&ndash;23), in a NUMBER value.">GET_HOUR Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1646 d86423e1570">
<p>Returns the month in Oracle HH24 format (00&ndash;23). Useful for rule expressions based on time data</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1663" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-1B44AE2F-6C4F-4DB8-9CAA-94CE3412B08E" title="The GET_DAY function returns the day in Oracle DD (day) format (01&ndash;31), in a NUMBER value.">GET_DAY Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1663 d86423e1570">
<p>Returns the day in Oracle DD format (01&ndash;31). Useful for rule expressions based on time data</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1680" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-CEB93D80-46FD-4DBF-A7CD-B5B4EA7C9FD8" title="The GET_MONTH function returns the month in Oracle MM (month) format (01&ndash;12), in a NUMBER value.">GET_MONTH Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1680 d86423e1570">
<p>Returns the month in Oracle MM format (01&ndash;12). Useful for rule expressions based on time data</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1697" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-05798779-3190-4817-BC07-820D340CFF62" title="The GET_YEAR function returns the year in Oracle YYYY (year) format (0001&ndash;9999), in a NUMBER value.">GET_YEAR Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1697 d86423e1570">
<p>Returns the year in Oracle YYYY format (0001&ndash;9999). Useful for rule expressions based on time data</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1714" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-7C7B0557-0E30-49F5-9371-DCE0164A781F" title="The IS_ALPHA function returns a BOOLEAN value indicating if a character is alphabetic.">IS_ALPHA Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1714 d86423e1570">
<p>Checks whether the character is alphabetic</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1731" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-DDDE0EBF-4572-4175-A64C-0D2300FA062B" title="The IS_DIGIT function checks returns a BOOLEAN value indicating if a character is numeric.">IS_DIGIT Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1731 d86423e1570">
<p>Checks whether the character is numeric</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1748" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-FDDBA8DF-A2FC-4299-AE0F-E8869C49B058" title="The IS_DVSYS_OWNER function returns a BOOLEAN value indicating if a user is authorized to manage the Oracle Database Vault configuration.">IS_DVSYS_OWNER Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1748 d86423e1570">
<p>Determines whether a user is authorized to manage the Oracle Database Vault configuration</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1766" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-B842A1CB-2AEA-4135-BAAD-25BD260D7E78" title="The IS_OLS_INSTALLED function returns a BOOLEAN value indicating if Oracle Label Security is installed.">IS_OLS_INSTALLED Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1766 d86423e1570">
<p>Returns an indicator regarding whether Oracle Label Security is installed</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1783" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-2807C050-ACB7-4548-84D5-677BC5E1176B" title="The IS_OLS_INSTALLED_VARCHAR function returns a BOOLEAN value indicating if Oracle Label Security is installed.">IS_OLS_INSTALLED_VARCHAR Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1783 d86423e1570">
<p>Returns an indicator regarding whether Oracle Label Security is installed</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1800" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-4FC90E89-B209-4E1A-AE95-9CCD729D1738" title="The USER_HAS_OBJECT_PRIVILEGE function returns a BOOLEAN value indicating if user or role can access an object through a single specified object privilege grant.">USER_HAS_OBJECT_PRIVILEGE Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1800 d86423e1570">
<p>Checks whether a user or role may access an object through an object privilege grant.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1817" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-69677792-84A0-498F-93E4-711AD1EDF026" title="The USER_HAS_ROLE function returns a BOOLEAN value indicating if a user has a role privilege, directly or indirectly (through another role).">USER_HAS_ROLE Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1817 d86423e1570">
<p>Checks whether a user has a role privilege, directly or indirectly (through another role)</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1834" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-C3A8611F-2057-460C-825C-B0BF92099328" title="The USER_HAS_ROLE_VARCHAR function returns a VARCHAR2 value indicating if a user has a role privilege, directly or indirectly (through another role).">USER_HAS_ROLE_VARCHAR Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1834 d86423e1570">
<p>Checks whether a user has a role privilege, directly or indirectly (through another role)</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment367" id="d86423e1851" headers="d86423e1567">
<p><a href="apis_dbms_macutl.htm#GUID-A63C6867-6D3B-4D68-9408-1F3C26284B54" title="The USER_HAS_SYSTEM_PRIVILEGE function returns a BOOLEAN value indicating if a user has a system privilege, directly or indirectly (through a role).">USER_HAS_SYSTEM_PRIVILEGE Function</a></p>
</td>
<td class="cellalignment409" headers="d86423e1851 d86423e1570">
<p>Checks whether a user has a system privilege, directly or indirectly (through a role)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="DVADM70763"></a><a id="DVADM70764"></a><a id="DVADM70765"></a><a id="DVADM70766"></a><a id="DVADM70762"></a>
<div class="props_rev_3"><a id="GUID-14A61AC4-E440-4210-805C-3173197E57D6"></a>
<h3 id="DVADM-GUID-14A61AC4-E440-4210-805C-3173197E57D6" class="sect3">CHECK_DVSYS_DML_ALLOWED Procedure</h3>
<div>
<p>The <code class="codeph">CHECK_DVSYS_DML_ALLOWED</code> procedure checks whether a user can issue Data Modification Language (DML) commands to access the <code class="codeph">DVSYS</code> objects.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.CHECK_DVSYS_DML_ALLOWED(
  p_user IN VARCHAR2 DEFAULT USER); 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-14A61AC4-E440-4210-805C-3173197E57D6__CHECK_DVSYS_DML_ALLOWEDPARAMETER-09107949">
<p class="titleintable">Table 19-3 CHECK_DVSYS_DML_ALLOWED Parameter</p>
<table class="cellalignment338" title="CHECK_DVSYS_DML_ALLOWED Parameter" summary="CHECK_DVSYS_DML_ALLOWED">
<thead>
<tr class="cellalignment332">
<th class="cellalignment380" id="d86423e1979">Parameter</th>
<th class="cellalignment381" id="d86423e1982">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment382" id="d86423e1987" headers="d86423e1979">
<p><code class="codeph">p_user</code></p>
</td>
<td class="cellalignment383" headers="d86423e1987 d86423e1982">
<p>User to check.</p>
<p>To find existing users in the current database instance, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_USERS</code>: Finds available users for the current database instance. See <a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_ROLE</code>: Finds existing secure application roles used in privilege management. See <a href="views.htm#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="The DVSYS.DBA_DV_ROLE data dictionary view lists the Oracle Database Vault secure application roles used in privilege management.">DVSYS.DBA_DV_ROLE View</a>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>User <code class="codeph">SYSTEM</code> fails the check:</p>
<pre dir="ltr">EXEC DBMS_MACUTL.CHECK_DVSYS_DML_ALLOWED(&#39;system&#39;); 

ERROR at line 1:
ORA-47920: Authorization failed for user system to perform this operation
ORA-06512: at &#34;DBMS_MACUTL&#34;, line 23
ORA-06512: at &#34;DBMS_MACUTL&#34;, line 372
ORA-06512: at &#34;DBMS_MACUTL&#34;, line 508
ORA-06512: at &#34;DBMS_MACUTL&#34;, line 572
ORA-06512: at line 1
</pre>
<p>User <code class="codeph">leo_dvowner</code>, who has the <code class="codeph">DV_OWNER</code> role, passes the check:</p>
<pre dir="ltr">EXEC DBMS_MACUTL.CHECK_DVSYS_DML_ALLOWED(&#39;leo_dvowner&#39;);

PL/SQL procedure successfully completed.
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70768"></a><a id="DVADM70769"></a><a id="DVADM70770"></a><a id="DVADM70771"></a><a id="DVADM70767"></a>
<div class="props_rev_3"><a id="GUID-2B04606D-16A3-4A65-9EFD-7C1F8E6A4B75"></a>
<h3 id="DVADM-GUID-2B04606D-16A3-4A65-9EFD-7C1F8E6A4B75" class="sect3">GET_CODE_VALUE Function</h3>
<div>
<p>The <code class="codeph">GET_CODE_VALUE</code> function finds the value for a code within a code group, and then returns a <code class="codeph">VARCHAR2</code> value.</p>
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_CODE_VALUE(
  p_code_group IN VARCHAR2, 
  p_code       IN VARCHAR2)
RETURN VARCHAR2; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-2B04606D-16A3-4A65-9EFD-7C1F8E6A4B75__GET_CODE_VALUEPARAMETERS-09107CD5">
<p class="titleintable">Table 19-4 GET_CODE_VALUE Parameters</p>
<table class="cellalignment338" title="GET_CODE_VALUE Parameters" summary="GET_CODE_VALUE">
<thead>
<tr class="cellalignment332">
<th class="cellalignment410" id="d86423e2170">Parameter</th>
<th class="cellalignment411" id="d86423e2173">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e2178" headers="d86423e2170">
<p><code class="codeph">p_code_group</code></p>
</td>
<td class="cellalignment413" headers="d86423e2178 d86423e2173">
<p>Code group (for example, <code class="codeph">AUDIT_EVENTS</code> or <code class="codeph">BOOLEAN</code>).</p>
<p>To find available code groups in the current database instance, query the <code class="codeph">DVSYS.DBA_DV_CODE</code> view, described in <a href="views.htm#GUID-2C93FC55-0C58-4FB9-A281-68E51E7EB3F6" title="The DVSYS.DBA_DV_CODE data dictionary view lists generic lookup codes for the user interface, error messages, and constraint checking.">DVSYS.DBA_DV_CODE View</a>.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e2207" headers="d86423e2170">
<p><code class="codeph">p_code</code></p>
</td>
<td class="cellalignment413" headers="d86423e2207 d86423e2173">
<p>ID of the code.</p>
<p>This ID is listed when you run the <code class="codeph">DVSYS.DBA_DV_CODE</code> view.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">BEGIN 
 DBMS_MACADM.CREATE_RULE(
  rule_name =&gt; &#39;Get Label Algorithm for Maximum Level/Union/Null&#39;,
  rule_expr =&gt; &#39;DBMS_MACUTL.GET_CODE_VALUE(&#39;&#39;LABEL_ALG&#39;&#39;, &#39;&#39;HUN&#39;&#39;) = &#39;&#39;Union&#39;&#39;&#39;);
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70773"></a><a id="DVADM70774"></a><a id="DVADM70775"></a><a id="DVADM70776"></a><a id="DVADM70772"></a>
<div class="props_rev_3"><a id="GUID-19D2A447-067E-475D-9C24-093A1BD8E82E"></a>
<h3 id="DVADM-GUID-19D2A447-067E-475D-9C24-093A1BD8E82E" class="sect3">GET_SECOND Function</h3>
<div>
<p>The <code class="codeph">GET_SECOND</code> function returns the seconds in Oracle SS (seconds) format (00&ndash;59), and then returns a <code class="codeph">NUMBER</code> value.</p>
<div class="section">
<p>It is useful for rule expressions based on time data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_SECOND(
  p_date IN DATE DEFAULT SYSDATE)
RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-19D2A447-067E-475D-9C24-093A1BD8E82E__GET_SECONDPARAMETER-09108014">
<p class="titleintable">Table 19-5 GET_SECOND Parameter</p>
<table class="cellalignment338" title="GET_SECOND Parameter" summary="GET_SECOND">
<thead>
<tr class="cellalignment332">
<th class="cellalignment414" id="d86423e2337">Parameter</th>
<th class="cellalignment415" id="d86423e2340">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment416" id="d86423e2345" headers="d86423e2337">
<p><code class="codeph">p_date</code></p>
</td>
<td class="cellalignment417" headers="d86423e2345 d86423e2340">
<p>Date in SS format (for example, <code class="codeph">59</code>).</p>
<p>If you do not specify a date, then Oracle Database Vault uses the Oracle Database <code class="codeph">SYSDATE</code> function to retrieve the current date and time set for the operating system on which the database resides.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE 
  seconds number; 
BEGIN 
  seconds := DBMS_MACUTL.GET_SECOND(TO_DATE(&#39;03-APR-2009 6:56 PM&#39;, 
  &#39;dd-mon-yyyy hh:mi PM&#39;)); 
  DBMS_OUTPUT.PUT_LINE(&#39;Seconds: &#39;||seconds); 
END; 
/ 
</pre>
<p>This example, which uses a fixed date and time, returns the following:</p>
<pre dir="ltr">Seconds: 56
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70778"></a><a id="DVADM70779"></a><a id="DVADM70780"></a><a id="DVADM70781"></a><a id="DVADM70777"></a>
<div class="props_rev_3"><a id="GUID-9BD12928-F394-473F-97A5-D1ACE20AACDA"></a>
<h3 id="DVADM-GUID-9BD12928-F394-473F-97A5-D1ACE20AACDA" class="sect3">GET_MINUTE Function</h3>
<div>
<p>The <code class="codeph">GET_MINUTE</code> function returns the minute in Oracle MI (minute) format (00&ndash;59), in a <code class="codeph">NUMBER</code> value.</p>
<div class="section">
<p>It is useful for rule expressions based on time data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_MINUTE(
  p_date IN DATE DEFAULT SYSDATE)
RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-9BD12928-F394-473F-97A5-D1ACE20AACDA__GET_MINUTEPARAMETER-091083C7">
<p class="titleintable">Table 19-6 GET_MINUTE Parameter</p>
<table class="cellalignment338" title="GET_MINUTE Parameter" summary="GET_MINUTE">
<thead>
<tr class="cellalignment332">
<th class="cellalignment418" id="d86423e2482">Parameter</th>
<th class="cellalignment419" id="d86423e2485">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment420" id="d86423e2490" headers="d86423e2482">
<p><code class="codeph">p_date</code></p>
</td>
<td class="cellalignment421" headers="d86423e2490 d86423e2485">
<p>Date in MI format (for example, <code class="codeph">30</code>, as in 2:30).</p>
<p>If you do not specify a date, then Oracle Database Vault uses the Oracle Database <code class="codeph">SYSDATE</code> function to retrieve the current date and time set for the operating system on which the database resides.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE 
  minute number; 
BEGIN 
  minute := DBMS_MACUTL.GET_MINUTE(SYSDATE); 
  DBMS_OUTPUT.PUT_LINE(&#39;Minute: &#39;||minute); 
END; 
/
</pre>
<p>Output similar to the following appears:</p>
<pre dir="ltr">Minute: 17
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70783"></a><a id="DVADM70784"></a><a id="DVADM70785"></a><a id="DVADM70786"></a><a id="DVADM70782"></a>
<div class="props_rev_3"><a id="GUID-2F4521DC-AB18-424C-8E23-D2076ADF894F"></a>
<h3 id="DVADM-GUID-2F4521DC-AB18-424C-8E23-D2076ADF894F" class="sect3">GET_HOUR Function</h3>
<div>
<p>The <code class="codeph">GET_HOUR</code> function returns the hour in Oracle HH24 (hour) format (00&ndash;23), in a <code class="codeph">NUMBER</code> value.</p>
<div class="section">
<p>It is useful for rule expressions based on time data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_HOUR(
  p_date IN DATE DEFAULT SYSDATE)
RETURN NUMBER; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-2F4521DC-AB18-424C-8E23-D2076ADF894F__GET_HOURPARAMETER-091087B0">
<p class="titleintable">Table 19-7 GET_HOUR Parameter</p>
<table class="cellalignment338" title="GET_HOUR Parameter" summary="GET_HOUR">
<thead>
<tr class="cellalignment332">
<th class="cellalignment414" id="d86423e2628">Parameter</th>
<th class="cellalignment415" id="d86423e2631">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment416" id="d86423e2636" headers="d86423e2628">
<p><code class="codeph">p_date</code></p>
</td>
<td class="cellalignment417" headers="d86423e2636 d86423e2631">
<p>Date in HH24 format (for example, <code class="codeph">14</code> for 2:00 p.m.)</p>
<p>If you do not specify a date, then Oracle Database Vault uses the Oracle Database <code class="codeph">SYSDATE</code> function to retrieve the current date and time set for the operating system on which the database resides.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE 
  hours number; 
BEGIN 
  hours := DBMS_MACUTL.GET_HOUR(SYSDATE); 
  DBMS_OUTPUT.PUT_LINE(&#39;Hour: &#39;||hours); 
END; 
/
</pre>
<p>Output similar to the following appears:</p>
<pre dir="ltr">Hour: 12
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70788"></a><a id="DVADM70789"></a><a id="DVADM70790"></a><a id="DVADM70791"></a><a id="DVADM70787"></a>
<div class="props_rev_3"><a id="GUID-1B44AE2F-6C4F-4DB8-9CAA-94CE3412B08E"></a>
<h3 id="DVADM-GUID-1B44AE2F-6C4F-4DB8-9CAA-94CE3412B08E" class="sect3">GET_DAY Function</h3>
<div>
<p>The <code class="codeph">GET_DAY</code> function returns the day in Oracle DD (day) format (01&ndash;31), in a <code class="codeph">NUMBER</code> value.</p>
<div class="section">
<p>It is useful for rule expressions based on time data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_DAY(
  p_date IN DATE DEFAULT SYSDATE)
RETURN NUMBER; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-1B44AE2F-6C4F-4DB8-9CAA-94CE3412B08E__GET_DAYPARAMETER-09108BCA">
<p class="titleintable">Table 19-8 GET_DAY Parameter</p>
<table class="cellalignment338" title="GET_DAY Parameter" summary="GET_DAY">
<thead>
<tr class="cellalignment332">
<th class="cellalignment414" id="d86423e2773">Parameter</th>
<th class="cellalignment415" id="d86423e2776">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment416" id="d86423e2781" headers="d86423e2773">
<p><code class="codeph">p_date</code></p>
</td>
<td class="cellalignment417" headers="d86423e2781 d86423e2776">
<p>Date in DD format (for example, <code class="codeph">01</code> for the first day of the month).</p>
<p>If you do not specify a date, then Oracle Database Vault uses the Oracle Database <code class="codeph">SYSDATE</code> function to retrieve the current date and time set for the operating system on which the database resides.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE 
  day number; 
BEGIN 
  day := DBMS_MACUTL.GET_DAY(SYSDATE); 
  DBMS_OUTPUT.PUT_LINE(&#39;Day: &#39;||day); 
END; 
/
</pre>
<p>Output similar to the following appears:</p>
<pre dir="ltr">Day: 3
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70793"></a><a id="DVADM70794"></a><a id="DVADM70795"></a><a id="DVADM70796"></a><a id="DVADM70792"></a>
<div class="props_rev_3"><a id="GUID-CEB93D80-46FD-4DBF-A7CD-B5B4EA7C9FD8"></a>
<h3 id="DVADM-GUID-CEB93D80-46FD-4DBF-A7CD-B5B4EA7C9FD8" class="sect3">GET_MONTH Function</h3>
<div>
<p>The <code class="codeph">GET_MONTH</code> function returns the month in Oracle MM (month) format (01&ndash;12), in a <code class="codeph">NUMBER</code> value.</p>
<div class="section">
<p>It is useful for rule expressions based on time data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_MONTH(
  p_date IN DATE DEFAULT SYSDATE)
RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-CEB93D80-46FD-4DBF-A7CD-B5B4EA7C9FD8__GET_MONTHPARAMETER-0910AD05">
<p class="titleintable">Table 19-9 GET_MONTH Parameter</p>
<table class="cellalignment338" title="GET_MONTH Parameter" summary="GET_MONTH">
<thead>
<tr class="cellalignment332">
<th class="cellalignment418" id="d86423e2918">Parameter</th>
<th class="cellalignment419" id="d86423e2921">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment420" id="d86423e2926" headers="d86423e2918">
<p><code class="codeph">p_date</code></p>
</td>
<td class="cellalignment421" headers="d86423e2926 d86423e2921">
<p>Date in MM format (for example, <code class="codeph">08</code> for the month of August).</p>
<p>If you do not specify a date, then Oracle Database Vault uses the Oracle Database <code class="codeph">SYSDATE</code> function to retrieve the current date and time set for the operating system on which the database resides.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE 
  month number; 
BEGIN 
  month := DBMS_MACUTL.GET_MONTH(SYSDATE); 
  DBMS_OUTPUT.PUT_LINE(&#39;Month: &#39;||month); 
END; 
/
</pre>
<p>Output similar to the following appears:</p>
<pre dir="ltr">Month: 4
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70798"></a><a id="DVADM70799"></a><a id="DVADM70800"></a><a id="DVADM70801"></a><a id="DVADM70797"></a>
<div class="props_rev_3"><a id="GUID-05798779-3190-4817-BC07-820D340CFF62"></a>
<h3 id="DVADM-GUID-05798779-3190-4817-BC07-820D340CFF62" class="sect3">GET_YEAR Function</h3>
<div>
<p>The <code class="codeph">GET_YEAR</code> function returns the year in Oracle YYYY (year) format (0001&ndash;9999), in a <code class="codeph">NUMBER</code> value.</p>
<div class="section">
<p>It is useful for rule expressions based on time data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.GET_YEAR(
  p_date IN DATE DEFAULT SYSDATE)
RETURN NUMBER;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-05798779-3190-4817-BC07-820D340CFF62__GET_YEARPARAMETER-0910B05C">
<p class="titleintable">Table 19-10 GET_YEAR Parameter</p>
<table class="cellalignment338" title="GET_YEAR Parameter" summary="GET_YEAR">
<thead>
<tr class="cellalignment332">
<th class="cellalignment414" id="d86423e3064">Parameter</th>
<th class="cellalignment415" id="d86423e3067">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment416" id="d86423e3072" headers="d86423e3064">
<p><code class="codeph">p_date</code></p>
</td>
<td class="cellalignment417" headers="d86423e3072 d86423e3067">
<p>Date in YYYY format (for example, <code class="codeph">1984</code>).</p>
<p>If you do not specify a date, then Oracle Database Vault uses the <code class="codeph">SYSDATE</code> function to retrieve the current date and time set for the operating system on which the database resides.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
DECLARE 
  year number; 
BEGIN 
  year := DBMS_MACUTL.GET_YEAR(SYSDATE); 
  DBMS_OUTPUT.PUT_LINE(&#39;Year: &#39;||year); 
END; 
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70803"></a><a id="DVADM70804"></a><a id="DVADM70805"></a><a id="DVADM70806"></a><a id="DVADM70802"></a>
<div class="props_rev_3"><a id="GUID-7C7B0557-0E30-49F5-9371-DCE0164A781F"></a>
<h3 id="DVADM-GUID-7C7B0557-0E30-49F5-9371-DCE0164A781F" class="sect3">IS_ALPHA Function</h3>
<div>
<p>The <code class="codeph">IS_ALPHA</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if a character is alphabetic.</p>
<div class="section">
<p><code class="codeph">IS_ALPHA</code> returns <code class="codeph">TRUE</code> if the character is alphabetic.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.IS_ALPHA(
  c IN VARCHAR2)
RETURN BOOLEAN; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-7C7B0557-0E30-49F5-9371-DCE0164A781F__IS_ALPHAPARAMETER-0910B387">
<p class="titleintable">Table 19-11 IS_ALPHA Parameter</p>
<table class="cellalignment338" title="IS_ALPHA Parameter" summary="IS_ALPHA">
<thead>
<tr class="cellalignment332">
<th class="cellalignment422" id="d86423e3210">Parameter</th>
<th class="cellalignment423" id="d86423e3213">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment424" id="d86423e3218" headers="d86423e3210">
<p><code class="codeph">c</code></p>
</td>
<td class="cellalignment425" headers="d86423e3218 d86423e3213">
<p>String with one character</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF DBMS_MACUTL.IS_ALPHA(&#39;z&#39;)  
  THEN DBMS_OUTPUT.PUT_LINE(&#39;The alphabetic character was found&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;No alphabetic characters today.&#39;); 
 END IF; 
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70808"></a><a id="DVADM70809"></a><a id="DVADM70810"></a><a id="DVADM70811"></a><a id="DVADM70807"></a>
<div class="props_rev_3"><a id="GUID-DDDE0EBF-4572-4175-A64C-0D2300FA062B"></a>
<h3 id="DVADM-GUID-DDDE0EBF-4572-4175-A64C-0D2300FA062B" class="sect3">IS_DIGIT Function</h3>
<div>
<p>The <code class="codeph">IS_DIGIT</code> function checks returns a <code class="codeph">BOOLEAN</code> value indicating if a character is numeric.</p>
<div class="section">
<p><code class="codeph">IS_DIGIT</code> returns <code class="codeph">TRUE</code> if the character is a digit.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.IS_DIGIT(
  c IN VARCHAR2)
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-DDDE0EBF-4572-4175-A64C-0D2300FA062B__IS_DIGITPARAMETER-0910B6B9">
<p class="titleintable">Table 19-12 IS_DIGIT Parameter</p>
<table class="cellalignment338" title="IS_DIGIT Parameter" summary="IS_DIGIT">
<thead>
<tr class="cellalignment332">
<th class="cellalignment380" id="d86423e3347">Parameter</th>
<th class="cellalignment381" id="d86423e3350">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment382" id="d86423e3355" headers="d86423e3347">
<p><code class="codeph">c</code></p>
</td>
<td class="cellalignment383" headers="d86423e3355 d86423e3350">
<p>String with one character</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF DBMS_MACUTL.IS_DIGIT(&#39;7&#39;)  
  THEN DBMS_OUTPUT.PUT_LINE(&#39;The numeric character was found&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;No numeric characters today.&#39;); 
 END IF; 
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70813"></a><a id="DVADM70814"></a><a id="DVADM70815"></a><a id="DVADM70816"></a><a id="DVADM70812"></a>
<div class="props_rev_3"><a id="GUID-FDDBA8DF-A2FC-4299-AE0F-E8869C49B058"></a>
<h3 id="DVADM-GUID-FDDBA8DF-A2FC-4299-AE0F-E8869C49B058" class="sect3">IS_DVSYS_OWNER Function</h3>
<div>
<p>The <code class="codeph">IS_DVSYS_OWNER</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if a user is authorized to manage the Oracle Database Vault configuration.</p>
<div class="section">
<p><code class="codeph">IS_DVSYS_OWNER</code> returns <code class="codeph">TRUE</code> if the user is authorized.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.IS_DVSYS_OWNER(
  p_user IN VARCHAR2 DEFAULT USER)
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameter</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-FDDBA8DF-A2FC-4299-AE0F-E8869C49B058__IS_DVSYS_OWNERPARAMETER-0910B9F8">
<p class="titleintable">Table 19-13 IS_DVSYS_OWNER Parameter</p>
<table class="cellalignment338" title="IS_DVSYS_OWNER Parameter" summary="IS_DVSYS_OWNER">
<thead>
<tr class="cellalignment332">
<th class="cellalignment380" id="d86423e3485">Parameter</th>
<th class="cellalignment381" id="d86423e3488">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment382" id="d86423e3493" headers="d86423e3485">
<p><code class="codeph">p_user</code></p>
</td>
<td class="cellalignment383" headers="d86423e3493 d86423e3488">
<p>User to check.</p>
<p>To find existing users, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_USERS</code>: Finds available users for the current database instance. See <a class="olink REFRN23302" target="_blank" href="../REFRN/GUID-309FCCB2-2E8D-4371-9FC5-7F3B10E2A8C0.htm#REFRN23302"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_ROLE</code>: Finds existing secure application roles used in privilege management. See <a href="views.htm#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="The DVSYS.DBA_DV_ROLE data dictionary view lists the Oracle Database Vault secure application roles used in privilege management.">DVSYS.DBA_DV_ROLE View</a>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF DBMS_MACUTL.IS_DVSYS_OWNER(&#39;PSMITH&#39;)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;PSMITH is authorized to manage Database Vault.&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;PSMITH is not authorized to manage Database Vault.&#39;); 
 END IF; 
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70818"></a><a id="DVADM70819"></a><a id="DVADM70820"></a><a id="DVADM70817"></a>
<div class="props_rev_3"><a id="GUID-B842A1CB-2AEA-4135-BAAD-25BD260D7E78"></a>
<h3 id="DVADM-GUID-B842A1CB-2AEA-4135-BAAD-25BD260D7E78" class="sect3">IS_OLS_INSTALLED Function</h3>
<div>
<p>The <code class="codeph">IS_OLS_INSTALLED</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if Oracle Label Security is installed.</p>
<div class="section">
<p>If Oracle Label Security is installed, <code class="codeph">IS_OLS_INSTALLED</code> returns <code class="codeph">TRUE</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.IS_OLS_INSTALLED()
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="section">
<p>None</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF DBMS_MACUTL.IS_OLS_INSTALLED()  
  THEN DBMS_OUTPUT.PUT_LINE(&#39;OLS is installed&#39;);
 ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;OLS is not installed&#39;); 
 END IF; 
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70822"></a><a id="DVADM70823"></a><a id="DVADM70824"></a><a id="DVADM70821"></a>
<div class="props_rev_3"><a id="GUID-2807C050-ACB7-4548-84D5-677BC5E1176B"></a>
<h3 id="DVADM-GUID-2807C050-ACB7-4548-84D5-677BC5E1176B" class="sect3">IS_OLS_INSTALLED_VARCHAR Function</h3>
<div>
<p>The <code class="codeph">IS_OLS_INSTALLED_VARCHAR</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if Oracle Label Security is installed.</p>
<div class="section">
<p>If Oracle Label Security is installed, then <code class="codeph">IS_OLS_INSTALLED_VARCHAR</code> returns <code class="codeph">Y</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.IS_OLS_INSTALLED_VARCHAR()
RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="section">
<p>None</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>See <a href="apis_dbms_macutl.htm#GUID-B842A1CB-2AEA-4135-BAAD-25BD260D7E78" title="The IS_OLS_INSTALLED function returns a BOOLEAN value indicating if Oracle Label Security is installed.">IS_OLS_INSTALLED Function</a> for an example.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="DVADM70826"></a><a id="DVADM70827"></a><a id="DVADM70828"></a><a id="DVADM70829"></a><a id="DVADM70825"></a>
<div class="props_rev_3"><a id="GUID-4FC90E89-B209-4E1A-AE95-9CCD729D1738"></a>
<h3 id="DVADM-GUID-4FC90E89-B209-4E1A-AE95-9CCD729D1738" class="sect3">USER_HAS_OBJECT_PRIVILEGE Function</h3>
<div>
<p>The <code class="codeph">USER_HAS_OBJECT_PRIVILEGE</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if user or role can access an object through a single specified object privilege grant.</p>
<div class="section">
<p>If the user or role has the object privilege, then <code class="codeph">USER_HAS_OBJECT_PRIVILEGE</code> returns <code class="codeph">TRUE</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.USER_HAS_OBJECT_PRIVILEGE(
  p_user          VARCHAR2, 
  p_object_owner  VARCHAR2, 
  p_object_name   VARCHAR2, 
  p_privilege     VARCHAR2)
RETURNS BOOLEAN; 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-4FC90E89-B209-4E1A-AE95-9CCD729D1738__USER_HAS_OBJECT_PRIVILEGEPARAMETERS-0910BE92">
<p class="titleintable">Table 19-14 USER_HAS_OBJECT_PRIVILEGE Parameters</p>
<table class="cellalignment338" title="USER_HAS_OBJECT_PRIVILEGE Parameters" summary="USER_HAS_OBJECT_PRIVILEGE">
<thead>
<tr class="cellalignment332">
<th class="cellalignment426" id="d86423e3910">Parameter</th>
<th class="cellalignment427" id="d86423e3913">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment428" id="d86423e3918" headers="d86423e3910">
<p><code class="codeph">p_user</code></p>
</td>
<td class="cellalignment429" headers="d86423e3918 d86423e3913">
<p>User or role to check.</p>
<p>To find existing users, query they following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_USERS</code>: Finds available users for the current database instance. See <a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a>.</p>
</li>
<li>
<p><code class="codeph">DBA_ROLES</code>: Finds available roles in the current database instance. See <a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a>.</p>
</li>
<li>
<p><code class="codeph">DVA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_ROLE</code>: Finds existing secure application roles used in privilege management. See <a href="views.htm#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="The DVSYS.DBA_DV_ROLE data dictionary view lists the Oracle Database Vault secure application roles used in privilege management.">DVSYS.DBA_DV_ROLE View</a>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment428" id="d86423e3981" headers="d86423e3910">
<p><code class="codeph">p_object_owner</code></p>
</td>
<td class="cellalignment429" headers="d86423e3981 d86423e3913">
<p>Object owner, such as a schema.</p>
<p>To find the available users, query they <code class="codeph">DBA_USERS</code> view, described in <a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a>.</p>
<p>To find the authorization of a particular user, query they <code class="codeph">DVA_DV_REALM_AUTH</code> view.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment428" id="d86423e4005" headers="d86423e3910">
<p><code class="codeph">p_object_name</code></p>
</td>
<td class="cellalignment429" headers="d86423e4005 d86423e3913">
<p>Object name, such as a table within the schema specified in the <code class="codeph">p_object_owner</code> parameter.</p>
<p>To find the available objects, query they <code class="codeph">ALL_OBJECTS</code> view, described in <a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a>.</p>
<p>To find objects that are secured by existing realms, query they <code class="codeph">DVSYS.DBA_DV_REALM_OBJECT</code> view.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment428" id="d86423e4032" headers="d86423e3910">
<p><code class="codeph">p_privilege</code></p>
</td>
<td class="cellalignment429" headers="d86423e4032 d86423e3913">
<p>Object privilege, such as, <code class="codeph">UPDATE</code>.</p>
<p>To find privileges for a database account excluding <code class="codeph">PUBLIC</code> privileges, query they <code class="codeph">DVSYS.DBA_DV_USER_PRIVS</code> view.</p>
<p>To find all privileges for a database account, query the <code class="codeph">DVSYS.DBA_DV_USER_PRIVS_ALL</code>. view</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN
 IF DBMS_MACUTL.USER_HAS_OBJECT_PRIVILEGE(
   &#39;SECTOR2_APP_MGR&#39;, &#39;OE&#39;, &#39;ORDERS&#39;, &#39;UPDATE&#39;)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;SECTOR2_APP_MGR has the UPDATE privilege for the OE.ORDERS table&#39;);
   ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;SECTOR2_APP_MGR does not have the UPDATE privilege for the OE.ORDERS table.&#39;); 
 END IF;
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70831"></a><a id="DVADM70832"></a><a id="DVADM70833"></a><a id="DVADM70834"></a><a id="DVADM70830"></a>
<div class="props_rev_3"><a id="GUID-69677792-84A0-498F-93E4-711AD1EDF026"></a>
<h3 id="DVADM-GUID-69677792-84A0-498F-93E4-711AD1EDF026" class="sect3">USER_HAS_ROLE Function</h3>
<div>
<p>The <code class="codeph">USER_HAS_ROLE</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if a user has a role privilege, directly or indirectly (through another role).</p>
<div class="section">
<p>If the user has a role privilege, then <code class="codeph">USER_HAS_ROLE</code> returns <code class="codeph">TRUE</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.USER_HAS_ROLE(
  p_role IN VARCHAR2, 
  p_user IN VARCHAR2 DEFAULT USER)
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-69677792-84A0-498F-93E4-711AD1EDF026__USER_HAS_ROLEPARAMETERS-0910C2B7">
<p class="titleintable">Table 19-15 USER_HAS_ROLE Parameters</p>
<table class="cellalignment338" title="USER_HAS_ROLE Parameters" summary="USER_HAS_ROLE">
<thead>
<tr class="cellalignment332">
<th class="cellalignment410" id="d86423e4179">Parameter</th>
<th class="cellalignment411" id="d86423e4182">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e4187" headers="d86423e4179">
<p><code class="codeph">p_role</code></p>
</td>
<td class="cellalignment413" headers="d86423e4187 d86423e4182">
<p>Role privilege to check.</p>
<p>To find existing roles, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_ROLES</code>: Finds available roles in the current database instance. See <a class="olink REFRN23231" target="_blank" href="../REFRN/GUID-C8E5500E-A013-45D3-AEFB-2C9C0AC87EC7.htm#REFRN23231"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_ROLE</code>: Finds existing secure application roles used in privilege management. See <a href="views.htm#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="The DVSYS.DBA_DV_ROLE data dictionary view lists the Oracle Database Vault secure application roles used in privilege management.">DVSYS.DBA_DV_ROLE View</a>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e4241" headers="d86423e4179">
<p><code class="codeph">p_user</code></p>
</td>
<td class="cellalignment413" headers="d86423e4241 d86423e4182">
<p>User to check.</p>
<p>To find existing users, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_USERS</code>: Finds available users for the current database instance. See <a class="olink REFRN23302" target="_blank" href="../REFRN/GUID-309FCCB2-2E8D-4371-9FC5-7F3B10E2A8C0.htm#REFRN23302"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-C0CEF4FC-DB4C-4AD5-9671-C0861A647183" title="You can find information about the Oracle Database Vault configuration settings by querying the Database Vault-specific data dictionary views.">Oracle Database Vault Data Dictionary Views</a>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN
 IF DBMS_MACUTL.USER_HAS_ROLE(&#39;SECTOR2_APP_MGR&#39;, &#39;PSMITH&#39;)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;User PSMITH has the SECTOR2_APP_MGR role&#39;);
   ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;User PSMITH does not have the SECTOR2_APP_MGR role.&#39;); 
 END IF;
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DVADM70836"></a><a id="DVADM70837"></a><a id="DVADM70838"></a><a id="DVADM70835"></a>
<div class="props_rev_3"><a id="GUID-C3A8611F-2057-460C-825C-B0BF92099328"></a>
<h3 id="DVADM-GUID-C3A8611F-2057-460C-825C-B0BF92099328" class="sect3">USER_HAS_ROLE_VARCHAR Function</h3>
<div>
<p>The <code class="codeph">USER_HAS_ROLE_VARCHAR</code> function returns a <code class="codeph">VARCHAR2</code> value indicating if a user has a role privilege, directly or indirectly (through another role).</p>
<div class="section">
<p>If the user has the role privilege specified, then <code class="codeph">USER_HAS_ROLE_VARCHAR</code> returns <code class="codeph">Y</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.USER_HAS_ROLE_VARCHAR(
  p_role IN VARCHAR2, 
  p_user IN VARCHAR2 DEFAULT USER)
RETURN VARCHAR2;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-C3A8611F-2057-460C-825C-B0BF92099328__USER_HAS_ROLE_VARCHARPARAMETERS-0910C6AB">
<p class="titleintable">Table 19-16 USER_HAS_ROLE_VARCHAR Parameters</p>
<table class="cellalignment338" title="USER_HAS_ROLE_VARCHAR Parameters" summary="USER_HAS_ROLE_VARCHAR">
<thead>
<tr class="cellalignment332">
<th class="cellalignment410" id="d86423e4395">Parameter</th>
<th class="cellalignment411" id="d86423e4398">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e4403" headers="d86423e4395">
<p><code class="codeph">p_role</code></p>
</td>
<td class="cellalignment413" headers="d86423e4403 d86423e4398">
<p>Role to check.</p>
<p>To find existing roles, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_ROLES</code>: Finds available roles in the current database instance. See <a class="olink REFRN23231" target="_blank" href="../REFRN/GUID-C8E5500E-A013-45D3-AEFB-2C9C0AC87EC7.htm#REFRN23231"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_ROLE</code>: Finds existing secure application roles used in privilege management. See <a href="views.htm#GUID-FBEA1E46-B5D6-44BB-A7B3-B7AC7187E15C" title="The DVSYS.DBA_DV_ROLE data dictionary view lists the Oracle Database Vault secure application roles used in privilege management.">DVSYS.DBA_DV_ROLE View</a>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e4457" headers="d86423e4395">
<p><code class="codeph">p_user</code></p>
</td>
<td class="cellalignment413" headers="d86423e4457 d86423e4398">
<p>User to check.</p>
<p>To find existing users, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_USERS</code>: Finds available users for the current database instance. See <a class="olink REFRN23302" target="_blank" href="../REFRN/GUID-309FCCB2-2E8D-4371-9FC5-7F3B10E2A8C0.htm#REFRN23302"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DVADM70840"></a><a id="DVADM70841"></a><a id="DVADM70842"></a><a id="DVADM70843"></a><a id="DVADM70839"></a>
<div class="props_rev_3"><a id="GUID-A63C6867-6D3B-4D68-9408-1F3C26284B54"></a>
<h3 id="DVADM-GUID-A63C6867-6D3B-4D68-9408-1F3C26284B54" class="sect3">USER_HAS_SYSTEM_PRIVILEGE Function</h3>
<div>
<p>The <code class="codeph">USER_HAS_SYSTEM_PRIVILEGE</code> function returns a <code class="codeph">BOOLEAN</code> value indicating if a user has a system privilege, directly or indirectly (through a role).</p>
<div class="section">
<p>If the user has the system privilege specified, then <code class="codeph">USER_HAS_SYSTEM_PRIVILEGE</code> returns <code class="codeph">TRUE</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Syntax</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">DBMS_MACUTL.USER_HAS_SYSTEM_PRIVILEGE(
  p_privilege  IN VARCHAR2, 
  p_user       IN VARCHAR2 DEFAULT USER)
RETURN BOOLEAN;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Parameters</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-A63C6867-6D3B-4D68-9408-1F3C26284B54__USER_HAS_SYSTEM_PRIVILEGEPARAMETERS-0910C998">
<p class="titleintable">Table 19-17 USER_HAS_SYSTEM_PRIVILEGE Parameters</p>
<table class="cellalignment338" title="USER_HAS_SYSTEM_PRIVILEGE Parameters" summary="USER_HAS_SYSTEM_PRIVILEGE">
<thead>
<tr class="cellalignment332">
<th class="cellalignment410" id="d86423e4614">Parameter</th>
<th class="cellalignment411" id="d86423e4617">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e4622" headers="d86423e4614">
<p><code class="codeph">p_privilege</code></p>
</td>
<td class="cellalignment413" headers="d86423e4622 d86423e4617">
<p>System privilege to check for.</p>
<p>To find privileges for a database account excluding <code class="codeph">PUBLIC</code> privileges, query the <code class="codeph">DVSYS.DBA_DV_USER_PRIVS</code> view, described in <span class="q">&#34;<a href="views.htm#GUID-EAB65E09-5E28-4B96-AF4F-36245D38DFB7" title="The DVSYS.DBA_DV_USER_PRIVS data dictionary view lists the privileges for a database user account excluding privileges granted through the PUBLIC role.">DVSYS.DBA_DV_USER_PRIVS View</a>&#34;</span>.</p>
<p>To find all privileges for a database account, use <code class="codeph">DVSYS.DBA_DV_USER_PRIVS_ALL</code>, described in <span class="q">&#34;<a href="views.htm#GUID-825915B3-188A-436F-85DD-140847C58A1B" title="The DVSYS.DBA_DV_USER_PRIVS_ALL data dictionary view lists the privileges for a database account including privileges granted through PUBLIC.">DVSYS.DBA_DV_USER_PRIVS_ALL View</a>&#34;</span>.</p>
</td>
</tr>
<tr class="cellalignment332">
<td class="cellalignment412" id="d86423e4672" headers="d86423e4614">
<p><code class="codeph">p_user</code></p>
</td>
<td class="cellalignment413" headers="d86423e4672 d86423e4617">
<p>User to check.</p>
<p>To find existing users, query the following views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBA_USERS</code>: Finds available users for the current database instance. See <a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a>.</p>
</li>
<li>
<p><code class="codeph">DVSYS.DBA_DV_REALM_AUTH</code>: Finds the authorization of a particular user or role. See <span class="q">&#34;<a href="views.htm#GUID-AD25D61E-81A6-416C-8841-939E821F2701" title="The DVSYS.DBA_DV_REALM_AUTH data dictionary view lists database user account or role authorization (GRANTEE) who can access realm objects.">DVSYS.DBA_DV_REALM_AUTH View</a>&#34;</span>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">SET SERVEROUTPUT ON
BEGIN
 IF DBMS_MACUTL.USER_HAS_SYSTEM_PRIVILEGE(&#39;EXECUTE&#39;, &#39;PSMITH&#39;)
  THEN DBMS_OUTPUT.PUT_LINE(&#39;User PSMITH has the EXECUTE ANY PRIVILEGE privilege.&#39;);
   ELSE 
  DBMS_OUTPUT.PUT_LINE(&#39;User PSMITH does not have the EXECUTE ANY PRIVILEGE privilege.&#39;); 
 END IF;
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment331">
<tr>
<td class="cellalignment359">
<table class="cellalignment336">
<tr>
<td class="cellalignment335"><a href="apis_ols.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment335"><a href="apis_admin.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment361">
<table class="cellalignment334">
<tr>
<td class="cellalignment335"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment335"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment335"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment335"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment335"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment335"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
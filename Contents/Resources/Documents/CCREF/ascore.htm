<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-3073"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/The%20Oracle%20Text%20Scoring%20Algorithm"></a><title>The Oracle Text Scoring Algorithm</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="relevance ranking, word queries, scoring algorithm, inverse frequency scoring, Salton&rsquo;s formula for scoring, scoring, effect of DML, DML, affect on scoring"/>
<meta name="dcterms.created" content="2017-06-08T04:23:35Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Reference"/>
<meta name="dcterms.identifier" content="E41399-12"/>
<meta name="dcterms.isVersionOf" content="CCREF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="astopsup.htm" title="Previous" type="text/html"/>
<link rel="Next" href="aviews.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41399-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9715B872-7499-4A6B-8EA1-68B06CA2A686"></a> <span id="PAGE" style="display:none;">28/31</span> <!-- End Header -->
<a id="CCREF1475"></a>
<h1 id="CCREF-GUID-9715B872-7499-4A6B-8EA1-68B06CA2A686" class="sect1"><span class="enumeration_chapter">F</span> The Oracle Text Scoring Algorithm</h1>
<div>
<p>This appendix describes how Oracle Text calculates scoring for word queries, which is different from the way it calculates scores for <code class="codeph">ABOUT</code> queries in English. Scoring is obtained using the <code class="codeph">SCORE</code> operator.</p>
<p>This appendix contains these topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ascore.htm#GUID-6B4687C0-ABAC-4C00-8EFA-C3C039339FAD">Scoring Algorithm for Word Queries</a></p>
</li>
<li>
<p><a href="ascore.htm#GUID-933F9B45-40EE-4ABF-992A-EF7E4E6C78E6">Word Scoring Example</a></p>
</li>
<li>
<p><a href="ascore.htm#GUID-BDFB752F-E2E8-4852-91B3-A9D0A28E9D64">DML and Scoring Algorithm</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-9715B872-7499-4A6B-8EA1-68B06CA2A686__GUID-ADEB2344-2964-4B2D-A9EE-B2926AED5042">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-BEF0570D-8B11-4893-AEFF-0AD7DED185BB">DEFINESCORE</a>&#34;</span> and <span class="q">&#34;<a href="cqoper.htm#GUID-F6773261-6BA0-4F99-A865-E2E3D827D058">DEFINEMERGE</a>&#34;</span> for information about user-defined scoring</p>
</div>
</div>
<a id="CCREF2307"></a>
<div class="props_rev_3"><a id="GUID-6B4687C0-ABAC-4C00-8EFA-C3C039339FAD"></a>
<h2 id="CCREF-GUID-6B4687C0-ABAC-4C00-8EFA-C3C039339FAD" class="sect2"><span class="enumeration_section">F.1</span> Scoring Algorithm for Word Queries</h2>
<div>
<p>To calculate a relevance score for a returned document in a word query, Oracle Text uses an inverse frequency algorithm based on Salton&#39;s formula.</p>
<p>Inverse frequency scoring assumes that frequently occurring terms in a document set are noise terms, and so these terms are scored lower. For a document to score high, the query term must occur frequently in the document but infrequently in the document set as a whole.</p>
<p>The following table illustrates Oracle Text&#39;s inverse frequency scoring. The first column shows the number of documents in the document set, and the second column shows the number of terms in the document necessary to score 100.</p>
<p>This table assumes that only one document in the set contains the query term.</p>
<div class="tblformal" id="GUID-6B4687C0-ABAC-4C00-8EFA-C3C039339FAD__GUID-5D6F6556-F67B-47CC-8F1C-73E8EF4EF8B7">
<table class="cellalignment3028" summary="This table illustrates Oracle Text&#39;s inverse frequency scoring.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3029" id="d166510e168">Number of Documents in Document Set</th>
<th class="cellalignment3030" id="d166510e171">Occurrences of Term in Document Needed to Score 100</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e176" headers="d166510e168">
<p>1</p>
</td>
<td class="cellalignment3032" headers="d166510e176 d166510e171">
<p>34</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e183" headers="d166510e168">
<p>5</p>
</td>
<td class="cellalignment3032" headers="d166510e183 d166510e171">
<p>20</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e190" headers="d166510e168">
<p>10</p>
</td>
<td class="cellalignment3032" headers="d166510e190 d166510e171">
<p>17</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e197" headers="d166510e168">
<p>50</p>
</td>
<td class="cellalignment3032" headers="d166510e197 d166510e171">
<p>13</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e204" headers="d166510e168">
<p>100</p>
</td>
<td class="cellalignment3032" headers="d166510e204 d166510e171">
<p>12</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e211" headers="d166510e168">
<p>500</p>
</td>
<td class="cellalignment3032" headers="d166510e211 d166510e171">
<p>10</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e218" headers="d166510e168">
<p>1,000</p>
</td>
<td class="cellalignment3032" headers="d166510e218 d166510e171">
<p>9</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e225" headers="d166510e168">
<p>10,000</p>
</td>
<td class="cellalignment3032" headers="d166510e225 d166510e171">
<p>7</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e232" headers="d166510e168">
<p>100,000</p>
</td>
<td class="cellalignment3032" headers="d166510e232 d166510e171">
<p>6</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3031" id="d166510e239" headers="d166510e168">
<p>1,000,000</p>
</td>
<td class="cellalignment3032" headers="d166510e239 d166510e171">
<p>5</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Note that the score varies, depending on the set size. For example, if only one document in the set contains the query term, and there are five documents in the set, then the term must occur 20 times in the document to score 100. If 1,000,000 documents are in the set, then the term can occur only 5 times in the document to score 100.</p>
</div>
</div>
<a id="CCREF2308"></a>
<div class="props_rev_3"><a id="GUID-933F9B45-40EE-4ABF-992A-EF7E4E6C78E6"></a>
<h2 id="CCREF-GUID-933F9B45-40EE-4ABF-992A-EF7E4E6C78E6" class="sect2"><span class="enumeration_section">F.2</span> Word Scoring Example</h2>
<div>
<p>You have 5000 documents dealing with chemistry in which the term <span class="italic">chemical</span> occurs at least once in every document. The term <span class="italic">chemical</span> thus occurs frequently in the document set.</p>
<p>You have a document that contains 5 occurrences of <span class="italic">chemical</span> and 5 occurrences of the term <span class="italic">hydrogen</span>. No other document contains the term <span class="italic">hydrogen</span>. The term hydrogen thus occurs infrequently in the document set.</p>
<p>Because <span class="italic">chemical</span> occurs so frequently in the document set, its score for the document is lower with respect to <span class="italic">hydrogen</span>, which is infrequent is the document set as a whole. The score for <span class="italic">hydrogen</span> is therefore higher than that of <span class="italic">chemical</span>. This is so even though both terms occur 5 times in the document.</p>
<div class="infobox-note" id="GUID-933F9B45-40EE-4ABF-992A-EF7E4E6C78E6__GUID-952CB3C8-9D28-49AD-AAFC-57B80A39E8D2">
<p class="notep1">Note:</p>
<p>Even if the relatively infrequent term <span class="italic">hydrogen</span> occurred 4 times in the document, and <span class="italic">chemical</span> occurred 5 times in the document, the score for <span class="italic">hydrogen</span> might still be higher, because <span class="italic">chemical</span> occurs so frequently in the document set (at least 5000 times).</p>
</div>
<p>Inverse frequency scoring also means that adding documents that contain <span class="italic">hydrogen</span> lowers the score for that term in the document, and adding more documents that do not contain <span class="italic">hydrogen</span> raises the score.</p>
</div>
</div>
<a id="CCREF2309"></a>
<div class="props_rev_3"><a id="GUID-BDFB752F-E2E8-4852-91B3-A9D0A28E9D64"></a>
<h2 id="CCREF-GUID-BDFB752F-E2E8-4852-91B3-A9D0A28E9D64" class="sect2"><span class="enumeration_section">F.3</span> DML and Scoring Algorithm</h2>
<div>
<p>Because the scoring algorithm is based on the number of documents in the document set, inserting, updating or deleting documents in the document set is likely to change the score for any given term before and after DML.</p>
<p>If DML is heavy, you must optimize the index. Perfect relevance ranking is obtained by running a query right after optimizing the index.</p>
<p>If DML is light, Oracle Database still gives fairly accurate relevance ranking.</p>
<p>In either case, you must synchronize the index with CTX_DDL.<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>.</p>
<div class="infoboxnotealso" id="GUID-BDFB752F-E2E8-4852-91B3-A9D0A28E9D64__GUID-1DF8BE9C-2A6A-4839-A643-17F594515357">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>&#34;</span></p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3021">
<tr>
<td class="cellalignment3040">
<table class="cellalignment3026">
<tr>
<td class="cellalignment3025"><a href="astopsup.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3025"><a href="aviews.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3042">
<table class="cellalignment3024">
<tr>
<td class="cellalignment3025"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3025"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3025"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3025"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3025"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3025"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
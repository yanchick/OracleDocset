<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-3345"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CTX_DDL%20Package"></a><title>CTX_DDL Package</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="ADD_ATTR_SECTION procedure, CTX_DDL package, ADD_ATTR_SECTION, attribute section, defining, sections, creating attribute, XML documents, attribute sections, ADD_AUTO_OPTIMIZE procedure, ADD_AUTO_OPTIMIZE, auto optimization, add indexes, add partitions, ADD_FIELD_SECTION procedure, ADD_FIELD_SECTION, field section, creating field, limitations, ADD_INDEX procedure, procedure, CTX_DDL.ADD_INDEX, CTX_DDL.ADD_INDEX procedure, ADD_MDATA procedure, ADD_MDATA, MDATA section, metadata section, adding metadata, ADD_MDATA_SECTION procedure, ADD_MDATA_SECTION, ADD_SDATA_COLUMN procedure, ADD_SDATA_COLUMN, SDATA section, structured data section, adding structured data, ADD_SDATA_SECTION procedure, ADD_SDATA_SECTION, ADD_SPECIAL_SECTION procedure, ADD_SPECIAL_SECTION, special section, sentence section, paragraph section, ADD_STOPCLASS procedure, ADD_STOPCLASS, stopclass, ADD_STOP_SECTION, ADD_STOP_SECTION procedure, stop sections, adding, ADD_STOPTHEME procedure, ADD_STOPTHEME, stoptheme, ADD_STOPWORD procedure, ADD_STOPWORD, stopword, ADD_SUB_LEXER procedure, ADD_SUB_LEXER, multi-language indexing, ADD_ZONE_SECTION procedure, ADD_ZONE_SECTION, zone section, creating, creating zone, COPY_POLICY procedure, COPY_POLICY, CREATE_INDEX_SET procedure, CREATE_INDEX_SET, CREATE_POLICY procedure, CREATE_POLICY, CREATE_PREFERENCE procedure, CREATE_PREFERENCE, preferences, index preference, CREATE_SECTION_GROUP procedure, CREATE_SECTION_GROUP, section group, CREATE_STOPLIST procedure, CREATE_STOPLIST, stoplist, BASIC_STOPLIST type, MULTI_STOPLIST type, DROP_POLICY procedure, DROP_POLICY, DROP_PREFERENCE procedure, DROP_PREFERENCE, dropping, DROP_STOPLIST procedure, DROP_STOPLIST, OPTIMIZE_INDEX procedure, optimization, strategies, PREFERENCE_IMPLICIT_COMMIT, PREFERENCE_IMPLICIT_COMMIT variable, REMOVE_AUTO_OPTIMIZE procedure, REMOVE_AUTO_OPTIMIZE, remove indexes, remove partitions, REMOVE_MDATA procedure, REMOVE_MDATA, removing metadata, REMOVE_SECTION procedure, REMOVE_SECTION, removing, REMOVE_STOPCLASS procedure, REMOVE_STOPCLASS, REMOVE_STOPTHEME procedure, REMOVE_STOPTHEME, REMOVE_STOPWORD procedure, REMOVE_STOPWORD, REMOVE_SUB_LEXER procedure, REMOVE_SUB_LEXER, sub-lexer preference, REPLACE_INDEX_METADATA procedure, metadata, replacing, CTX_DDL.REPLACE_INDEX_METADATA, REPLACE_INDEX_METADATA, SET_ATTRIBUTE procedure, SET_ATTRIBUTE, attributes, setting, SET_SECTION_ATTRIBUTE procedure, SET_SECTION_ATTRIBUTE, SYNC_INDEX procedure, UNSET_ATTRIBUTE procedure, UNSET_ATTRIBUTE, disabling, UPDATE_SUB_LEXER procedure, UPDATE_SUB_LEXER, UPDATE_SDATA procedure"/>
<meta name="dcterms.created" content="2017-06-08T04:23:35Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Text Reference"/>
<meta name="dcterms.identifier" content="E41399-12"/>
<meta name="dcterms.isVersionOf" content="CCREF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="cclspkg.htm" title="Previous" type="text/html"/>
<link rel="Next" href="cdocpkg.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41399-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-0F7C39E8-E44A-421C-B40D-3B3578B507E9"></a> <span id="PAGE" style="display:none;">13/31</span> <!-- End Header -->
<a id="CCREF0600"></a>
<h1 id="CCREF-GUID-0F7C39E8-E44A-421C-B40D-3B3578B507E9" class="sect1"><span class="enumeration_chapter">8</span> CTX_DDL Package</h1>
<div>
<p>The <code class="codeph">CTX_DDL</code> PL/SQL package provides procedures to create and manage the preferences, section groups, and stoplists required for Text indexes.</p>
<p><code class="codeph">CTX_DDL</code> contains the following stored procedures and functions:</p>
<div class="tblformalwide" id="GUID-0F7C39E8-E44A-421C-B40D-3B3578B507E9__GUID-6B4C362C-3861-4D60-909D-C81D0DD18BDC">
<table class="cellalignment3059" summary="This table describes CTX_DDL Package Procedures.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3060" id="d76128e66">Name</th>
<th class="cellalignment3061" id="d76128e70">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e75" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-DECE76B3-41DB-493D-B698-66ACDDC72197">ADD_ATTR_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e75 d76128e70">
<p>Adds an attribute section to an XML section group.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e84" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-E4674735-1023-4022-BB25-92D0076E1157">ADD_AUTO_OPTIMIZE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e84 d76128e70">
<p>Adds an index or partition to the list of indexes subject to auto optimization.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e93" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e93 d76128e70">
<p>Creates a field section and assigns it to the specified section group.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e102" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB">ADD_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e102 d76128e70">
<p>Adds an index to a catalog index preference.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e111" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-5ECD0F44-6A70-4121-9352-6188C621CD42">ADD_MDATA</a></p>
</td>
<td class="cellalignment3063" headers="d76128e111 d76128e70">
<p>Changes the <code class="codeph">MDATA</code> value of a document.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e123" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B">ADD_MDATA_COLUMN</a></p>
</td>
<td class="cellalignment3063" headers="d76128e123 d76128e70">
<p>Maps a <code class="codeph">FILTER</code> <code class="codeph">BY</code> column to the specified <code class="codeph">MDATA</code> section.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e141" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e141 d76128e70">
<p>Adds an <code class="codeph">MDATA</code> metadata section to a document.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e153" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-6F4F2149-633F-45B1-A8F8-95DE5A8D1D93">ADD_NDATA_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e153 d76128e70">
<p>Adds an <code class="codeph">NDATA</code> section to a document.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e165" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a></p>
</td>
<td class="cellalignment3063" headers="d76128e165 d76128e70">
<p>Maps a <code class="codeph">FILTER</code> <code class="codeph">BY</code> column to the specified <code class="codeph">SDATA</code> section.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e183" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-985802C7-D4DF-4139-9723-B7030BDE1791">ADD_SDATA_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e183 d76128e70">
<p>Adds an <code class="codeph">SDATA</code> structured data section to a document.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e195" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-600FEF61-6FD3-4A15-9908-3807FD6BA299">ADD_SEC_GRP_ATTR_VAL</a></p>
</td>
<td class="cellalignment3063" headers="d76128e195 d76128e70">
<p>Adds a section group attribute value to the list of values of an already existing section group attribute.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e205" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e205 d76128e70">
<p>Adds a special section to a section group.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e214" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144">ADD_STOPCLASS</a></p>
</td>
<td class="cellalignment3063" headers="d76128e214 d76128e70">
<p>Adds a stopclass to a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e223" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897">ADD_STOP_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e223 d76128e70">
<p>Adds a stop section to an automatic section group.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e232" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7">ADD_STOPTHEME</a></p>
</td>
<td class="cellalignment3063" headers="d76128e232 d76128e70">
<p>Adds a stoptheme to a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e241" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD">ADD_STOPWORD</a></p>
</td>
<td class="cellalignment3063" headers="d76128e241 d76128e70">
<p>Adds a stopword to a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e250" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D">ADD_SUB_LEXER</a></p>
</td>
<td class="cellalignment3063" headers="d76128e250 d76128e70">
<p>Adds a sub-lexer to a multi-lexer preference.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e259" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e259 d76128e70">
<p>Creates a zone section and adds it to the specified section group.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e268" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-FC950CED-2212-4130-A812-9C633B20A25E">COPY_POLICY</a></p>
</td>
<td class="cellalignment3063" headers="d76128e268 d76128e70">
<p>Creates a copy of a policy.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e277" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-54550722-F909-4684-95AA-4178892BE2E7">CREATE_INDEX_SET</a></p>
</td>
<td class="cellalignment3063" headers="d76128e277 d76128e70">
<p>Creates an index set for <code class="codeph">CTXCAT</code> index types.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e289" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a></p>
</td>
<td class="cellalignment3063" headers="d76128e289 d76128e70">
<p>Creates a policy to use with <code class="codeph">ORA:CONTAINS()</code>.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e301" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e301 d76128e70">
<p>Creates a preference in the Text data dictionary.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e311" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a></p>
</td>
<td class="cellalignment3063" headers="d76128e311 d76128e70">
<p>Creates a section group in the Text data dictionary.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e320" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e320 d76128e70">
<p>Creates a policy for the passed-in index. For nonpartitioned index, also creates an index table.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e329" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a></p>
</td>
<td class="cellalignment3063" headers="d76128e329 d76128e70">
<p>Creates a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e338" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-52EB6A03-8E37-437D-87D8-427EC44B4B47">DROP_INDEX_SET</a></p>
</td>
<td class="cellalignment3063" headers="d76128e338 d76128e70">
<p>Drops an index set.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e347" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-F63F4C31-9D6B-49A2-9417-B519EC40EEC5">DROP_POLICY</a></p>
</td>
<td class="cellalignment3063" headers="d76128e347 d76128e70">
<p>Drops a policy.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e356" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-F996414D-5755-414B-AA48-540D0FD23666">DROP_PREFERENCE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e356 d76128e70">
<p>Deletes a preference from the Text data dictionary.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e365" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28">DROP_SECTION_GROUP</a></p>
</td>
<td class="cellalignment3063" headers="d76128e365 d76128e70">
<p>Deletes a section group from the Text data dictionary.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e374" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726">DROP_SHADOW_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e374 d76128e70">
<p>Drops a shadow index.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e383" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B">DROP_STOPLIST</a></p>
</td>
<td class="cellalignment3063" headers="d76128e383 d76128e70">
<p>Drops a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e392" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e392 d76128e70">
<p>Swaps the shadow index metadata and data.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e401" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55">OPTIMIZE_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e401 d76128e70">
<p>Optimizes the index.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e411" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-2D450451-1C7C-4065-8EEC-BAA378B72219">POPULATE_PENDING</a></p>
</td>
<td class="cellalignment3063" headers="d76128e411 d76128e70">
<p>Populates the pending queue with every rowid in the base table or table partition.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e420" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528">PREFERENCE_IMPLICIT_COMMIT</a></p>
</td>
<td class="cellalignment3063" headers="d76128e420 d76128e70">
<p>Specifies whether procedures related to CTX_DDL preferences issue an implicit commit.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e429" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C">RECREATE_INDEX_ONLINE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e429 d76128e70">
<p>Recreates the passed-in index.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e438" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-4A11C81F-46EF-4EA9-8628-4E8BDDC5C656">REM_SEC_GRP_ATTR_VAL</a></p>
</td>
<td class="cellalignment3063" headers="d76128e438 d76128e70">
<p>Removes a specific section group attribute value from the list of values of an existing section group attribute.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e447" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-267D11E9-B194-4D45-B8BE-A4AF1D79FB11">REMOVE_AUTO_OPTIMIZE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e447 d76128e70">
<p>Removes an index or partition from the list of indexes subject to auto optimization</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e456" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B">REMOVE_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e456 d76128e70">
<p>Removes an index from a <code class="codeph">CTXCAT</code> index preference.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e468" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9">REMOVE_MDATA</a></p>
</td>
<td class="cellalignment3063" headers="d76128e468 d76128e70">
<p>Removes <code class="codeph">MDATA</code> values from a document.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e480" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a></p>
</td>
<td class="cellalignment3063" headers="d76128e480 d76128e70">
<p>Deletes a section from a section group.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e489" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-AB454DAB-D7FE-4220-BFAC-8AC460ADA9B7">REMOVE_STOPCLASS</a></p>
</td>
<td class="cellalignment3063" headers="d76128e489 d76128e70">
<p>Deletes a stopclass from a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e498" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-455B3892-3491-4AD7-91EB-4FB83E2C7F32">REMOVE_STOPTHEME</a></p>
</td>
<td class="cellalignment3063" headers="d76128e498 d76128e70">
<p>Deletes a stoptheme from a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e507" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89">REMOVE_STOPWORD</a></p>
</td>
<td class="cellalignment3063" headers="d76128e507 d76128e70">
<p>Deletes a stopword from a stoplist.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e517" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33">REMOVE_SUB_LEXER</a></p>
</td>
<td class="cellalignment3063" headers="d76128e517 d76128e70">
<p>Deletes a sub-lexer from a multi-lexer preference.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e526" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-46020CFD-EE89-4B17-8860-B5008A7BBF27">REPLACE_INDEX_METADATA</a></p>
</td>
<td class="cellalignment3063" headers="d76128e526 d76128e70">
<p>Replaces metadata for local domain indexes.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e535" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e535 d76128e70">
<p>Sets a preference attribute.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e544" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E">SET_SEC_GRP_ATTR</a></p>
</td>
<td class="cellalignment3063" headers="d76128e544 d76128e70">
<p>Adds a section group-specific attribute to a section group identified by name.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e553" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F">SET_SECTION_ATTRIBUTE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e553 d76128e70">
<p>Sets a section attribute.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e562" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a></p>
</td>
<td class="cellalignment3063" headers="d76128e562 d76128e70">
<p>Synchronizes the index.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e571" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E">UNSET_ATTRIBUTE</a></p>
</td>
<td class="cellalignment3063" headers="d76128e571 d76128e70">
<p>Removes a set attribute from a preference.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e580" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-99AE0761-6172-4282-9FA0-4C5256B9528D">UPDATE_SUB_LEXER</a></p>
</td>
<td class="cellalignment3063" headers="d76128e580 d76128e70">
<p>Updates a sub-lexer.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e589" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-D9C90C8E-C7A4-462D-8998-0C1BA1491FAD">UNSET_SEC_GRP_ATTR</a></p>
</td>
<td class="cellalignment3063" headers="d76128e589 d76128e70">
<p>Removes a section group specific attribute.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e598" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA">UPDATE_POLICY</a></p>
</td>
<td class="cellalignment3063" headers="d76128e598 d76128e70">
<p>Updates a policy.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3062" id="d76128e607" headers="d76128e66">
<p><a href="cddlpkg.htm#GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE">UPDATE_SDATA</a></p>
</td>
<td class="cellalignment3063" headers="d76128e607 d76128e70">
<p>Updates an SDATA section.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="CCREF0602"></a>
<div class="props_rev_3"><a id="GUID-DECE76B3-41DB-493D-B698-66ACDDC72197"></a>
<h2 id="CCREF-GUID-DECE76B3-41DB-493D-B698-66ACDDC72197" class="sect2"><span class="enumeration_section">8.1</span> ADD_ATTR_SECTION</h2>
<div>
<div class="section">
<p>Adds an attribute section to an XML section group. This procedure is useful for defining attributes in XML documents as sections. This enables you to search XML attribute text with the <code class="codeph">WITHIN</code> operator.</p>
<div class="infobox-note" id="GUID-DECE76B3-41DB-493D-B698-66ACDDC72197__GUID-9CAAF64F-0889-49CE-B559-3D523C37C47B">
<p class="notep1">Note:</p>
<p>When you use <code class="codeph">AUTO_SECTION_GROUP</code>, attribute sections are created automatically. Attribute sections created automatically are named in the form <code class="codeph">tag@attribute</code>.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_ATTR_SECTION(
  group_name     IN    VARCHAR2,
  section_name   IN    VARCHAR2,
  tag            IN    VARCHAR2);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3177"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-DECE76B3-41DB-493D-B698-66ACDDC72197__GUID-DC3B44CA-115C-4FE5-8DCF-41A3CA25AB76"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the XML section group. You can add attribute sections only to XML section groups.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3178"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-DECE76B3-41DB-493D-B698-66ACDDC72197__GUID-1CA36A6D-3C76-4082-A0EE-1BA9A8CD31AB"><!-- --></a>section_name</dt>
<dd>
<p>Specify the name of the attribute section. This is the name used for <code class="codeph">WITHIN</code> queries on the attribute text.</p>
<p>The section name you specify cannot contain the colon (:), comma (,), or dot (.) characters. The section name must also be unique within <code class="codeph">group_name</code>. Section names are case-insensitive.</p>
<p>Attribute section names can be no more than 64 bytes long.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3179"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-DECE76B3-41DB-493D-B698-66ACDDC72197__GUID-B363D436-E1C7-4348-9E2B-46DC377CA787"><!-- --></a>tag</dt>
<dd>
<p>Specify the name of the attribute in <tt>tag@attr</tt> form. This parameter is case-sensitive.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Consider an XML file that defines the <code class="codeph">BOOK</code> tag with a <code class="codeph">TITLE</code> attribute as follows:</p>
<pre dir="ltr">&lt;BOOK TITLE=&#34;Tale of Two Cities&#34;&gt; 
  It was the best of times. 
&lt;/BOOK&gt; 
</pre>
<p>To define the title attribute as an attribute section, create an <code class="codeph">XML_SECTION_GROUP</code> and define the attribute section as follows:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;myxmlgroup&#39;, &#39;XML_SECTION_GROUP&#39;);
ctx_ddl.add_attr_section(&#39;myxmlgroup&#39;, &#39;booktitle&#39;, &#39;BOOK@TITLE&#39;);
end;
</pre>
<p>When you define the <code class="codeph">TITLE</code> attribute section as such and index the document set, you can query the XML attribute text as follows:</p>
<pre dir="ltr">&#39;Cities within booktitle&#39;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528">PREFERENCE_IMPLICIT_COMMIT</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24092"></a>
<div class="props_rev_3"><a id="GUID-E4674735-1023-4022-BB25-92D0076E1157"></a>
<h2 id="CCREF-GUID-E4674735-1023-4022-BB25-92D0076E1157" class="sect2"><span class="enumeration_section">8.2</span> ADD_AUTO_OPTIMIZE</h2>
<div>
<div class="section">
<p>Adds an index or partition to the list of indexes subject to auto optimization. For partitioned indexes, the name of the partition must be specified, or else an error occurs. For global indexes, <code class="codeph">STAGE_ITAB</code> must be enabled, or else an error occurs.</p>
<p>The <code class="codeph">AUTO_OPTIMIZE</code> feature improves the manageability of indexes that use the <code class="codeph">STAGE_ITAB</code> feature. The <code class="codeph">STAGE_ITAB</code> feature introduces a staging $G table to collect postings from newly synced documents.</p>
<p>The <code class="codeph">AUTO_OPTIMIZE</code> feature has the following goals:</p>
<ul style="list-style-type: disc;">
<li>
<p>Enables you to register indexes and partitions to a background <code class="codeph">AUTO_OPTIMIZE</code> process.</p>
</li>
<li>
<p>Automatically moves rows from the $G table to $I at appropriate times.</p>
</li>
<li>
<p>Movement of rows from $G to $I is done in a way to maximize query performance.</p>
</li>
</ul>
<p>This procedure starts the background process if it has not already been started. The progress of the auto optimization is tracked by CTX logging.</p>
<p>The changes made by this procedure take effect immediately.</p>
<div class="infobox-note" id="GUID-E4674735-1023-4022-BB25-92D0076E1157__GUID-CDBD59A6-5843-4B25-8B10-640D407F6725">
<p class="notep1">Note:</p>
<p>The init.ora parameter <code class="codeph">JOB_QUEUE_PROCESSES</code> must be set to one or higher. See <a class="olink REFRN10077" target="_blank" href="../REFRN/GUID-B8B68D16-00A3-43DD-BE39-01F877880955.htm#REFRN10077"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">JOB_QUEUE_PROCESSES</code>.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_AUTO_OPTIMIZE(
</pre>
<pre dir="ltr">    idx_name       IN VARCHAR2,
    part_name      IN VARCHAR2 default NULL,
    optlevel       IN VARCHAR2 default CTX_DDL.OPTLEVEL_MERGE
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3180"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E4674735-1023-4022-BB25-92D0076E1157__GUID-8BA3BE73-11F7-49D2-98A7-F78E606AE32A"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the index to add.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3181"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E4674735-1023-4022-BB25-92D0076E1157__GUID-0B7075BA-2801-43A4-AE0D-41507F728F0E"><!-- --></a>part_name</dt>
<dd>
<p>Specify the name of the partition to add.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3182"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E4674735-1023-4022-BB25-92D0076E1157__GUID-236F46EC-C4EA-44FF-BB42-8FABC644C9AC"><!-- --></a>optlevel</dt>
<dd>
<p>Specifies the <code class="codeph">optlevel</code> of the <code class="codeph">CTX_DDL.<a href="cddlpkg.htm#GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55">OPTIMIZE_INDEX</a></code> procedure. The only valid value for this parameter is <code class="codeph">merge</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>The recommended sequence of steps for using auto optimization is:</p>
<ol>
<li>
<p>Create the required indexes.</p>
</li>
<li>
<p>Add these indexes to the auto optimization list by using the <code class="codeph">CTX_DDL.ADD_AUTO_OPTIMIZE</code> procedure.</p>
</li>
</ol>
<p>The synchronize index operation automatically begins executing an auto optimization job (unless it is already running). This job continues until it runs out of work. Future synchronize index operations will automatically start executing the auto optimization job, if it is not already running.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-267D11E9-B194-4D45-B8BE-A4AF1D79FB11">REMOVE_AUTO_OPTIMIZE</a>&#34;</span></p>
<p><a class="olink CCAPP9554" target="_blank" href="../CCAPP/GUID-54F2466B-7D05-45AC-A64E-04717F75C507.htm#CCAPP9554"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a> for information about using <code class="codeph">STAGE_ITAB</code> with CONTEXT indexes</p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23867"></a><a id="CCREF23868"></a><a id="CCREF23869"></a><a id="CCREF23870"></a><a id="CCREF0604"></a>
<div class="props_rev_3"><a id="GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F"></a>
<h2 id="CCREF-GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F" class="sect2"><span class="enumeration_section">8.3</span> ADD_FIELD_SECTION</h2>
<div>
<div class="section">
<p>Creates a field section and adds the section to an existing section group. This enables field section searching with the <a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a> operator. You can add an unllimited number of field sections.</p>
<p>Field sections are delimited by start and end tags. By default, the text within field sections are indexed as a sub-document separate from the rest of the document.</p>
<p>Unlike zone sections, field sections cannot nest or overlap. As such, field sections are best suited for non-repeating, non-overlapping sections such as <code class="codeph">TITLE</code> and <code class="codeph">AUTHOR</code> markup in e-mail- or news-type documents.</p>
<p>Because of how field sections are indexed, <a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a> queries on field sections are usually faster than <code class="codeph">WITHIN</code> queries on zone sections.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_FIELD_SECTION(
  group_name     IN    VARCHAR2,
  section_name   IN    VARCHAR2,
  tag            IN    VARCHAR2,
  visible        IN    BOOLEAN default FALSE
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3183"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F__GUID-D53735A3-BB26-47C3-8667-8F74252C1184"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group to which <code class="codeph">section_name</code> is added. You can add an unlimited number of field sections to a single section group. Within the same group, section zone names and section field names cannot be the same.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3184"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F__GUID-9D655D96-1FCE-496E-9AF5-E6918C242687"><!-- --></a>section_name</dt>
<dd>
<p>Specify the name of the section to add to the <code class="codeph">group_name</code>. Use this name to identify the section in queries. Avoid using names that contain non-alphanumeric characters such as _, because these characters must be escaped in queries. Section names are case-insensitive.</p>
<p>Within the same group, zone section names and field section names cannot be the same. The terms <span class="italic">Paragraph</span> and <span class="italic">Sentence</span> are reserved for special sections.</p>
<p>Section names need not be unique across tags. You can assign the same section name to more than one tag, which makes details transparent to searches.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3185"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F__GUID-148878CF-A083-4EA7-80D7-5D5B4E216D8B"><!-- --></a>tag</dt>
<dd>
<p>Specify the tag that marks the start of a section. For example, if the tag is &lt;H1&gt;, then specify H1. The start tag you specify must be unique within a section group.</p>
<p>If <code class="codeph">group_name</code> is an <code class="codeph">HTML_SECTION_GROUP</code>, then you can create field sections for the META tag&#39;s <code class="codeph">NAME/CONTENT</code> attribute pairs. To do so, specify <code class="codeph">tag</code> as <code class="codeph">meta@namevalue</code> where <code class="codeph">namevalue</code> is the value of the <code class="codeph">NAME</code> attribute whose <code class="codeph">CONTENT</code> attribute is to be indexed as a section. Refer to the example <span class="q">&#34;<a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F__CEGHDBHA">Creating Sections for &lt;META&gt; Tags</a>&#34;</span>.</p>
<p>Oracle Text knows what the end tags look like from the <code class="codeph">group_type</code> parameter you specify when you create the section group.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3186"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F__GUID-C1DAC3C2-4931-44E2-A452-5B67EE7D453C"><!-- --></a>visible</dt>
<dd>
<p>Specify <code class="codeph">TRUE</code> to make the text visible within the rest of the document.</p>
<p>By default the <code class="codeph">visible</code> flag is <code class="codeph">FALSE</code>. This means that Oracle Text indexes the text within field sections as a sub-document separate from the rest of the document. <a id="d76128e1161" class="indexterm-anchor"></a>However, you can set the visible flag to <code class="codeph">TRUE</code> if you want text within the field section to be indexed as part of the enclosing document.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Visible and Invisible Field Sections</p>
<p>The following example defines a section group <code class="codeph">basicgroup</code> of the <code class="codeph">BASIC_SECTION_GROUP</code> type. (See <span class="q">&#34;<a href="cdatadic.htm#GUID-CDF963D3-36D8-4055-AFB1-367F18A048AD">Section Group Types</a>&#34;</span> for information about the <code class="codeph">BASIC_SECTION_GROUP</code> type.) The example then creates a field section in <code class="codeph">basicgroup</code> called <code class="codeph">Author</code> for the <code class="codeph">&lt;A&gt;</code> tag.</p>
<p>The example also sets the visible flag to <code class="codeph">FALSE</code>:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.create_section_group(&#39;basicgroup&#39;, &#39;BASIC_SECTION_GROUP&#39;);
ctx_ddl.add_field_section(&#39;basicgroup&#39;, &#39;Author&#39;, &#39;A&#39;, FALSE);
</pre>
<pre dir="ltr">end;
</pre>
<p>Because the <code class="codeph">Author</code> field section is not visible, to find text within the <code class="codeph">Author</code> section, you must use the <a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a> operator as follows:</p>
<pre dir="ltr">&#39;(Martin Luther King) WITHIN Author&#39;
</pre>
<p>A query of <span class="italic">Martin Luther King</span> without the <code class="codeph">WITHIN</code> operator does not return instances of this term in field sections. To query text within field sections without specifying <code class="codeph">WITHIN</code>, you must set the visible flag to <code class="codeph">TRUE</code> when you create the section as follows:</p>
<pre dir="ltr">begin
ctx_ddl.add_field_section(&#39;basicgroup&#39;, &#39;Author&#39;, &#39;A&#39;, TRUE);
end;
</pre>
<p id="GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F__CEGHDBHA">Creating Sections for <code class="codeph">&lt;META&gt;</code> Tags</p>
<p>When you use the <code class="codeph">HTML_SECTION_GROUP</code>, you can create sections for <code class="codeph">META</code> tags.</p>
<p>Consider an<a id="d76128e1255" class="indexterm-anchor"></a> HTML document that has a <code class="codeph">META</code> tag as follows:</p>
<pre dir="ltr">&lt;META NAME=&#34;author&#34; CONTENT=&#34;ken&#34;&gt;
</pre>
<p>To create a field section that indexes the <code class="codeph">CONTENT</code> attribute for the <code class="codeph">&lt;META NAME=&#34;author&#34;&gt;</code> tag:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;myhtmlgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
ctx_ddl.add_field_section(&#39;myhtmlgroup&#39;, &#39;author&#39;, &#39;META@AUTHOR&#39;);
end
</pre>
<p>After indexing with section group <code class="codeph">mygroup</code>, query the document as follows:</p>
<pre dir="ltr">&#39;ken WITHIN author&#39;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Limitations</p>
<p>Nested Sections</p>
<p>Field sections cannot be nested. For example, if you define a field section to start with <code class="codeph">&lt;TITLE&gt;</code> and define another field section to start with <code class="codeph">&lt;FOO&gt;</code>, the two sections <span class="italic">cannot</span> be nested as follows:</p>
<pre dir="ltr">&lt;TITLE&gt; dog &lt;FOO&gt; cat &lt;/FOO&gt; &lt;/TITLE&gt;
</pre>
<p>To work with nested section define them as zone sections.</p>
<p>Repeated Sections<a id="d76128e1304" class="indexterm-anchor"></a></p>
<p>Repeated field sections are allowed, but <code class="codeph">WITHIN</code> queries treat them as a single section. The following is an example of repeated field section in a document:</p>
<pre dir="ltr">&lt;TITLE&gt; cat &lt;/TITLE&gt;
&lt;TITLE&gt; dog &lt;/TITLE&gt;
</pre>
<p>The query (<span class="italic">dog and cat) within title</span> returns the document, even though these words occur in different sections.</p>
<p>To have <code class="codeph">WITHIN</code> queries distinguish repeated sections, define them as zone sections.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdatadic.htm#GUID-CDF963D3-36D8-4055-AFB1-367F18A048AD">Section Group Types</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28">DROP_SECTION_GROUP</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0606"></a>
<div class="props_rev_3"><a id="GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB"></a>
<h2 id="CCREF-GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB" class="sect2"><span class="enumeration_section">8.4</span> ADD_INDEX</h2>
<div>
<div class="section">
<p>Use this procedure to add a subindex to a catalog index preference. Create this preference by naming one or more columns in the base table.</p>
<p>Because you create subindexes to improve the response time of structured queries, the column you add should be used in the <code class="codeph">structured_query</code> clause of the <code class="codeph">CATSEARCH</code> operator at query time.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_INDEX(
           set_name        IN VARCHAR2,
           column_list     IN VARCHAR2,
           storage_clause  IN VARCHAR2 
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3187"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB__GUID-82240DE9-CA88-4328-89F6-2F4F05FC1E9C"><!-- --></a>set_name</dt>
<dd>
<p>Specify the name of the index set.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3188"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB__GUID-CB1C56EB-FD02-4FEA-9136-9EE34D529ABF"><!-- --></a>column_list</dt>
<dd>
<p>Specify a comma-delimited list of columns to index. At index time, any column listed here cannot have a NULL value in any row in the base table. If any row is NULL during indexing, then an error is raised.</p>
<p>Always ensure that your columns have non-NULL values before and after indexing.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3189"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB__GUID-C7F71C18-9855-4EAF-853D-FD583E934DE0"><!-- --></a>storage_clause</dt>
<dd>
<p>Specify a storage clause.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>Consider a table called <code class="codeph">AUCTION</code> with the following schema:</p>
<pre dir="ltr">create table auction(
</pre>
<pre dir="ltr">item_id number,
title varchar2(100),
category_id number,
price number,
bid_close date);
</pre>
<pre dir="ltr"></pre>
<p>Assume that queries on the table involve a mandatory text query clause and optional structured conditions on <code class="codeph">category_id</code>. Results must be sorted based on <code class="codeph">bid_close</code>.</p>
<p>You can create a catalog index to support the different types of structured queries a user might enter.</p>
<p>To create the indexes, first create the index set preference then add the required indexes to it:</p>
<pre dir="ltr">begin
  ctx_ddl.create_index_set(&#39;auction_iset&#39;);
  ctx_ddl.add_index(&#39;auction_iset&#39;,&#39;bid_close&#39;);
  ctx_ddl.add_index(&#39;auction_iset&#39;,&#39;category_id, bid_close&#39;);
end;
</pre>
<p>Create the combined catalog index with <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> as follows:</p>
<pre dir="ltr">create index auction_titlex on AUCTION(title) indextype is CTXCAT parameters
(&#39;index set auction_iset&#39;);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Querying</p>
<p>To query the title column for the word <span class="italic">pokemon</span>, enter regular and mixed queries as follows:</p>
<pre dir="ltr">select * from AUCTION where CATSEARCH(title, &#39;pokemon&#39;,NULL)&gt; 0;
select * from AUCTION where CATSEARCH(title, &#39;pokemon&#39;, &#39;category_id=99 order by
bid_close desc&#39;)&gt; 0;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p><code class="codeph">VARCHAR2</code> columns in the column list of a <code class="codeph">CTXCAT</code> index of an index set cannot exceed 30 bytes.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B">REMOVE_INDEX</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2099"></a>
<div class="props_rev_3"><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42"></a>
<h2 id="CCREF-GUID-5ECD0F44-6A70-4121-9352-6188C621CD42" class="sect2"><span class="enumeration_section">8.5</span> ADD_MDATA</h2>
<div>
<div class="section">
<p>Use this procedure to change the metadata of a document that has been specified as an <code class="codeph">MDATA</code> section. After this call, <code class="codeph">MDATA</code> queries involving the named <code class="codeph">MDATA</code> value will find documents with the given <code class="codeph">MDATA</code> value.</p>
<p>There are two versions of <code class="codeph">CTX_DDL.ADD_MDATA</code>: one for adding a single metadata value to a single rowid, and one for handing multiple values, multiple rowids, or both.</p>
<p><code class="codeph">CTX_DDL.ADD_MDATA</code> is transactional; it takes effect immediately in the calling session, can be seen only in the calling session, can be reversed with a <code class="codeph">ROLLBACK</code> command, and must be committed to take permanent effect.</p>
<p>Use CTX_DDL.<a href="cddlpkg.htm#GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9">REMOVE_MDATA</a> to remove metadata values from already-indexed documents. Only the owner of the index is allowed to call <code class="codeph">ADD_MDATA</code> and <code class="codeph">REMOVE_MDATA</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>This is the syntax for adding a single value to a single rowid:</p>
<pre dir="ltr">CTX_DDL.ADD_MDATA(
     idx_name           IN VARCHAR2, 
     section_name       IN VARCHAR2, 
     mdata_value        IN VARCHAR2,
     mdata_rowid        IN VARCHAR2,
     [part_name]        IN VARCHAR2]
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3190"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-188DB5CC-2BEA-43C3-8271-62662DB2835E"><!-- --></a>idx_name</dt>
<dd>
<p>Name of the text index that contains the named <span class="variable">rowid</span>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3191"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-504ED0B8-419B-4D42-BC09-84D4CA4C46F7"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">MDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3192"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-AAE92AB9-7303-4EE8-A0C6-B5692F89CCB3"><!-- --></a>mdata_value</dt>
<dd>
<p>The metadata value to add to the document.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3193"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-A00B0A65-1C6D-46DF-9A9E-AEFCDB5DFCDD"><!-- --></a>mdata_rowid</dt>
<dd>
<p>The rowid to which to add the metadata value.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3194"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-324C3848-AD69-4CB6-924F-B953B343CEE9"><!-- --></a>[part_name]</dt>
<dd>
<p>Name of the index partition, if any. Must be provided for local partitioned indexes and must be NULL for global, nonpartitioned indexes.</p>
</dd>
</dl>
<p>This is the syntax for handling multiple values, multiple rowids, or both. This version is more efficient for large numbers of new values or rowids.</p>
<pre dir="ltr">CTX_DDL.ADD_MDATA(
     idx_name           IN VARCHAR2, 
     section_name       IN VARCHAR2, 
     mdata_values       SYS.ODCIVARCHAR2LIST,
     mdata_rowids       SYS.ODCIRIDLIST,
     [part_name]        IN VARCHAR2]
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3195"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-48FBE8DF-26E9-4F6F-BDD2-0517BC8B0F65"><!-- --></a>idx_name</dt>
<dd>
<p>Name of the text index that contains the named <span class="variable">rowids</span>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3196"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-F5E91183-1C14-4034-8AE3-71EDDC3130B1"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">MDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3197"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-3A1240B2-4AB6-49F3-AED9-02D2FF847FDE"><!-- --></a>mdata_values</dt>
<dd>
<p>List of metadata values. If a metadata value contains a comma, the comma must be escaped with a backslash.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3198"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-1EF37565-3B93-4DA6-B71B-96FDFD88B5EF"><!-- --></a>mdata_rowids</dt>
<dd>
<p>The rowids to which to add the metadata values.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3199"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-A10F530F-93A4-41AE-BD2F-BFBB68D5702C"><!-- --></a>[part_name]</dt>
<dd>
<p>Name of the index partition, if any. Must be provided for local partitioned indexes and must be NULL for global, nonpartitioned indexes.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>This example updates a single value:</p>
<pre dir="ltr">select rowid from mytab where contains(text, &#39;MDATA(sec, value&#39;)&gt;0;
No rows returned
exec ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value&#39;, &#39;ABC&#39;);
select rowid from mytab where contains(text, &#39;MDATA(sec, value&#39;)&gt;0;
ROWID
-----
ABC
</pre>
<p>This example updates multiple values:</p>
<pre dir="ltr">begin
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;,
     sys.odcivarchar2list(&#39;value1&#39;,&#39;value2&#39;,&#39;value3&#39;),
     sys.odciridlist(&#39;ABC&#39;,&#39;DEF&#39;));
end;
</pre>
<p>This is equivalent to:</p>
<pre dir="ltr">begin
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value1&#39;, &#39;ABC&#39;);
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value1&#39;, &#39;DEF&#39;);
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value2&#39;, &#39;ABC&#39;);
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value2&#39;, &#39;DEF&#39;);
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value3&#39;, &#39;ABC&#39;);
ctx_ddl.add_mdata(&#39;my_index&#39;, &#39;sec&#39;, &#39;value3&#39;, &#39;DEF&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>If a rowid is not yet indexed, <code class="codeph">CTX_DDL.ADD.MDATA</code> completes without error, but an error is logged in <code class="codeph">CTX_USER_INDEX_ERRORS</code>.</p>
<p>These updates are updates directly on the index itself, not on the actual contents stored in the base table. Therefore, they will not survive when the Text index is rebuilt.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9">REMOVE_MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>&#34;</span></p>
<div class="infoboxnotealso" id="GUID-5ECD0F44-6A70-4121-9352-6188C621CD42__GUID-1CB73D8A-2240-4481-A717-DC5D872A04FD">
<p class="notep1">See Also:</p>
<p>Chapter 8, &#34;Searching Document Sections in Oracle Text&#34; in <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2100"></a>
<div class="props_rev_3"><a id="GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B"></a>
<h2 id="CCREF-GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B" class="sect2"><span class="enumeration_section">8.6</span> ADD_MDATA_COLUMN</h2>
<div>
<div class="section">
<p>Use this procedure to map the <code class="codeph">FILTER</code> <code class="codeph">BY</code> column named in <span class="italic">column_name</span> to the <code class="codeph">MDATA</code> section named in <span class="italic">section_name</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>The syntax is as follows:</p>
<pre dir="ltr">CTX_DDL.ADD_MDATA_COLUMN(
     group_name         IN VARCHAR2,
     section_name       IN VARCHAR2,
     column_name        IN VARCHAR2,
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3200"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B__GUID-71E4F4B8-2D2B-4538-B1B3-346DC880F8A1"><!-- --></a>group_name</dt>
<dd>
<p>Name of the group that contains the section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3201"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B__GUID-37169139-CD6C-485A-B26E-DEE83C92C204"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">MDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3202"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B__GUID-05F01FFF-B7AE-4344-9B72-33393ACB9546"><!-- --></a>column_name</dt>
<dd>
<p>Name of the <code class="codeph">FILTER</code> <code class="codeph">BY</code> column to add to the <code class="codeph">MDATA</code> section.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Restrictions</p>
<p><code class="codeph">MDATA</code> sections that are created with <code class="codeph">CTX_DDL.ADD_MDATA_COLUMN</code> cannot have their values changed using <code class="codeph">CTX_DDL.ADD_MDATA</code> or <code class="codeph">CTX_DDL.REMOVE_MDATA</code>. Doing so will result in errors being returned. The section values must be updated using SQL.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<ul style="list-style-type: disc;">
<li>
<p>The stored datatype for <code class="codeph">MDATA</code> sections is <code class="codeph">text</code>. Therefore, the value of the <code class="codeph">FILTER</code> <code class="codeph">BY</code> column is converted to <code class="codeph">text</code> during indexing. For non-text datatypes, the <code class="codeph">FILTER</code> <code class="codeph">BY</code> columns are normalized to an internal format during indexing. If the section is queried with an <code class="codeph">MDATA</code> operator, then the <code class="codeph">MDATA</code> query string will also be normalized to the internal format before processing.</p>
</li>
<li>
<p>When a <code class="codeph">FILTER</code> <code class="codeph">BY</code> column is mapped as <code class="codeph">MDATA</code>, the cost-based optimizer in Oracle Text tries to avoid using the Oracle Text composite domain index to process range predicate(s) on that <code class="codeph">FILTER</code> <code class="codeph">BY</code> column. This is because range predicates on <code class="codeph">MDATA</code> <code class="codeph">FILTER</code> <code class="codeph">BY</code> columns are processed less efficiently than if they were declared as <code class="codeph">SDATA</code>. For this reason, you should not add a <code class="codeph">FILTER</code> <code class="codeph">BY</code> column as <code class="codeph">MDATA</code> if you plan to do range searches on the column.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9">REMOVE_MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a>&#34;</span></p>
<div class="infoboxnotealso" id="GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B__GUID-2FD391EB-50F8-4377-85F3-9A874F0289F6">
<p class="notep1">See Also:</p>
<p>Chapter 8, &#34;Searching Document Sections in Oracle Text&#34; in <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2101"></a>
<div class="props_rev_3"><a id="GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7"></a>
<h2 id="CCREF-GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7" class="sect2"><span class="enumeration_section">8.7</span> ADD_MDATA_SECTION</h2>
<div>
<div class="section">
<p>Use this procedure to add an <code class="codeph">MDATA</code> section, with an accompanying value, to an existing section group. <code class="codeph">MDATA</code> sections cannot be added to Null Section groups, Path Section groups, or Auto Section groups.</p>
<p>Section values undergo a simplified normalization:</p>
<ul style="list-style-type: disc;">
<li>
<p>Leading and trailing whitespace on the value is removed.</p>
</li>
<li>
<p>The value is truncated to 64 bytes.</p>
</li>
<li>
<p>The value is indexed as a single value; if the value consists of multiple words, it is not broken up.</p>
</li>
<li>
<p>Case is preserved. If the document is dynamically generated, then implement case-insensitivity by uppercasing <code class="codeph">MDATA</code> values and making sure to search only in uppercase.</p>
</li>
</ul>
<p>Use CTX_DDL.<a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a> to remove sections.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_MDATA_SECTION(
     group_name    IN VARCHAR2,
     section_name  IN VARCHAR2, 
     tag           IN VARCHAR2, 
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3203"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7__GUID-5227E04C-177F-4843-8A89-E0044580B8BE"><!-- --></a>group_name</dt>
<dd>
<p>Name of the section group that will contain the <code class="codeph">MDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3204"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7__GUID-ED49C781-32F3-4B5F-9990-19A612846933"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">MDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3205"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7__GUID-2842023A-5E6A-4AEA-8622-9DE3A1AE6AFC"><!-- --></a>tag</dt>
<dd>
<p>The value of the <code class="codeph">MDATA</code> section. For example, if the section is <code class="codeph">&lt;AUTHOR&gt;</code>, the value could be <span class="italic">Cynthia Kadohata</span> (author of the novel <span class="italic">The Floating World</span>). More than one <span class="variable">tag</span> can be assigned to a given <code class="codeph">MDATA</code> section.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>This example creates an <code class="codeph">MDATA</code> section called <code class="codeph">auth</code>.</p>
<pre dir="ltr">ctx_ddl.create_section_group(&#39;htmgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
ctx_ddl.add_mdata_section(&#39;htmgroup&#39;, &#39;auth&#39;, &#39;author&#39;);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-5ECD0F44-6A70-4121-9352-6188C621CD42">ADD_MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9">REMOVE_MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
<div class="infoboxnotealso" id="GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7__GUID-B2E90A19-B724-4143-8AEE-1E095D75D022">
<p class="notep1">See Also:</p>
<p>Chapter 8, &#34;Searching Document Sections in Oracle Text&#34; in <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24093"></a>
<div class="props_rev_3"><a id="GUID-6F4F2149-633F-45B1-A8F8-95DE5A8D1D93"></a>
<h2 id="CCREF-GUID-6F4F2149-633F-45B1-A8F8-95DE5A8D1D93" class="sect2"><span class="enumeration_section">8.8</span> ADD_NDATA_SECTION</h2>
<div>
<div class="section">
<p>Use this procedure to find matches that are spelled in a similar way. The value of an <code class="codeph">NDATA</code> section is extracted from the document text like other sections, but is indexed as name data. <code class="codeph">NDATA</code> sections are stored in the <code class="codeph">CTX_USER_SECTIONS</code> view.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_NDATA_SECTION(
   group_name    IN VARCHAR2,
   section_name  IN VARCHAR2,
   tag           IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3206"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-6F4F2149-633F-45B1-A8F8-95DE5A8D1D93__GUID-9CADAD80-5532-431D-8B6E-D34BEB6A9B2A"><!-- --></a>group_name</dt>
<dd>
<p>Name of the group that contains the section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3207"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-6F4F2149-633F-45B1-A8F8-95DE5A8D1D93__GUID-AD7794D0-01E9-4331-922F-99ACE82EDA46"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">NDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3208"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-6F4F2149-633F-45B1-A8F8-95DE5A8D1D93__GUID-3A8A95E1-2BF8-4C14-A2E0-9F3B5B428C67"><!-- --></a>tag</dt>
<dd>
<p>Name of the tag that marks the start of a section. For example, if the tag is &lt;H1&gt;, specify H1. The start tag you specify must be unique within a section group.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p><code class="codeph">NDATA</code> sections support both single and multi-byte data, however, there are character- and term-based limitations. <code class="codeph">NDATA</code> section data that is indexed is constrained as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>number of characters in a single, white space delimited term</p>
<p>511</p>
</li>
<li>
<p>number of white space delimited terms</p>
<p>255</p>
</li>
<li>
<p>total number of characters, including white spaces</p>
<p>511</p>
</li>
</ul>
<p><code class="codeph">NDATA</code> section data that exceeds these constraints are truncated.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example defines a section group <code class="codeph">namegroup</code> of the <code class="codeph">BASIC_SECTION_GROUP</code> type. It then creates an <code class="codeph">NDATA</code> section in <code class="codeph">namegroup</code> called <code class="codeph">firstname</code>.</p>
<pre dir="ltr">begin
  ctx_ddl.create_section_group(&#39;namegroup&#39;, &#39;BASIC_SECTION_GROUP&#39;);
  ctx_ddl.add_ndata_section(&#39;namegroup&#39;, &#39;firstname&#39;, &#39;fname1&#39;);
end;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="CCREF2102"></a>
<div class="props_rev_3"><a id="GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058"></a>
<h2 id="CCREF-GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058" class="sect2"><span class="enumeration_section">8.9</span> ADD_SDATA_COLUMN</h2>
<div>
<div class="section">
<p>Use this procedure to map the <code class="codeph">FILTER</code> <code class="codeph">BY</code> or <code class="codeph">ORDER</code> <code class="codeph">BY</code> column named in <span class="italic">column_name</span> to the <code class="codeph">SDATA</code> section named in <span class="italic">section_name</span>. By default, all <code class="codeph">FILTER</code> <code class="codeph">BY</code> columns are mapped as <code class="codeph">SDATA</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>The syntax is as follows:</p>
<pre dir="ltr">CTX_DDL.ADD_SDATA_COLUMN(
     group_name         IN VARCHAR2, 
     section_name       IN VARCHAR2, 
     column_name        IN VARCHAR2,
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3209"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058__GUID-8707A1FE-7BA1-498A-9076-398AAB29440E"><!-- --></a>group_name</dt>
<dd>
<p>Name of the group that contains the section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3210"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058__GUID-45385D40-C54A-4BBB-BD8E-6CAAF8DB8B49"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">SDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3211"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058__GUID-227B733A-4463-422A-8E07-68F61E6EA7EE"><!-- --></a>column_name</dt>
<dd>
<p>Name of the <code class="codeph">FILTER</code> <code class="codeph">BY</code> column to add to the <code class="codeph">SDATA</code> section.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<ul style="list-style-type: disc;">
<li>
<p>Mapping <code class="codeph">FILTER</code> <code class="codeph">BY</code> columns to sections is optional. If no section mapping exists for a <code class="codeph">FILTER</code> <code class="codeph">BY</code> column, then it is mapped to an <code class="codeph">SDATA</code> section, and the section name will be the name of the <code class="codeph">FILTER</code> <code class="codeph">BY</code> column.</p>
</li>
<li>
<p>If a section group is not specified during <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> of a composite domain index, then system default section group settings will be used, and a <code class="codeph">SDATA</code> section will be created for each of the <code class="codeph">FILTER</code> <code class="codeph">BY</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> columns.</p>
<div class="infobox-note" id="GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058__GUID-1A985199-F20B-40E7-8CAB-B2FC33FA46EA">
<p class="notep1">Note:</p>
<p>Because section name does not allow certain special characters and is case insensitive, if the column name is case sensitive or contains special characters, then an error will be raised. To work around this problem, you need to map the column to an <code class="codeph">MDATA</code> or <code class="codeph">SDATA</code> section before creating the index. Refer to CTX_DDL.<a href="cddlpkg.htm#GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B">ADD_MDATA_COLUMN</a> or CTX_DDL.<a href="cddlpkg.htm#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a> in this chapter.</p>
</div>
</li>
<li>
<p>An error will be raised if a column mapped to <code class="codeph">MDATA</code> also appears in the <code class="codeph">ORDER</code> <code class="codeph">BY</code> column clause.</p>
</li>
<li>
<p>Column section names are unique to their section group. That is, you cannot have an <code class="codeph">MDATA</code> column section named <code class="codeph">FOO</code> if you already have an <code class="codeph">MDATA</code> column section named <code class="codeph">FOO</code>. Furthermore, you cannot have a field section named <code class="codeph">FOO</code> if you already have an <code class="codeph">SDATA</code> column section named <code class="codeph">FOO</code>. This is true whether it is implicitly created (by <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> for <code class="codeph">FILTER</code> <code class="codeph">BY</code> or <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses) or explicitly created (by <code class="codeph">CTX_DDL.ADD_SDATA_COLUMN</code>).</p>
</li>
<li>
<p>One section name can only be mapped to one <code class="codeph">FILTER</code> <code class="codeph">BY</code> column, and vice versa. For example, mapping a section to more than one column or mapping a column to more than one section is not allowed.</p>
</li>
<li>
<p>Column sections can be added to any type of section group, including the <code class="codeph">NULL</code> section group.</p>
</li>
<li>
<p>99 is the maximum number for <code class="codeph">SDATA</code> sections and columns.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-A136A84D-69B7-4E74-94C7-CA96B3A27D35">SDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-985802C7-D4DF-4139-9723-B7030BDE1791">ADD_SDATA_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE">UPDATE_SDATA</a>&#34;</span></p>
<div class="infoboxnotealso" id="GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058__GUID-57DD9981-7F85-4490-A647-6EDF78427034">
<p class="notep1">See Also:</p>
<p>Chapter 8, &#34;Searching Document Sections in Oracle Text&#34; in <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2103"></a>
<div class="props_rev_3"><a id="GUID-985802C7-D4DF-4139-9723-B7030BDE1791"></a>
<h2 id="CCREF-GUID-985802C7-D4DF-4139-9723-B7030BDE1791" class="sect2"><span class="enumeration_section">8.10</span> ADD_SDATA_SECTION</h2>
<div>
<div class="section">
<p>This procedure adds an <code class="codeph">SDATA</code> section to a section group. By default, all <code class="codeph">FILTER</code> <code class="codeph">BY</code> columns are mapped as <code class="codeph">SDATA</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<p>The syntax is as follows:</p>
<pre dir="ltr">CTX_DDL.ADD_SDATA_SECTION(
     group_name         IN VARCHAR2, 
     section_name       IN VARCHAR2, 
     tag                IN VARCHAR2,
     datatype           IN VARCHAR2 default NULL,
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3212"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-985802C7-D4DF-4139-9723-B7030BDE1791__GUID-CC46BAE0-2A72-4FED-82B4-DC69891BA6F0"><!-- --></a>group_name</dt>
<dd>
<p>Name of the group that contains the section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3213"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-985802C7-D4DF-4139-9723-B7030BDE1791__GUID-EF74CC4D-F6CC-4A0A-91AE-31094E8F5821"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">SDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3214"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-985802C7-D4DF-4139-9723-B7030BDE1791__GUID-BDFBCAD8-21E9-4571-A6E5-76B88E8F4540"><!-- --></a>tag</dt>
<dd>
<p>Name of the tag to add to the <code class="codeph">SDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3215"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-985802C7-D4DF-4139-9723-B7030BDE1791__GUID-7D037A27-EECA-4B2E-9FC6-EA979AB92D5A"><!-- --></a>datatype</dt>
<dd>
<p>Specifies the stored format for the data, as well as the semantics of comparison in later use in <code class="codeph">SDATA</code> operators. The default is <code class="codeph">VARCHAR2</code>, but if specified must be one of the following values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">VARCHAR2</code></p>
</li>
<li>
<p><code class="codeph">CHAR</code></p>
</li>
<li>
<p><code class="codeph">RAW</code></p>
</li>
<li>
<p><code class="codeph">NUMBER</code></p>
</li>
<li>
<p><code class="codeph">DATE</code></p>
</li>
</ul>
<p>The <code class="codeph">VARCHAR2</code> datatype stores up to 249 bytes of character data in the database character set. Values larger than this result in a per-document indexing error. Note that leading and trailing whitespace are always trimmed from <code class="codeph">SDATA</code> section values when extracted by the sectioner. This is different than <code class="codeph">SDATA</code> columns. Column values are never trimmed. No lexing is performed on the value from either kind of <code class="codeph">SDATA</code>.</p>
<p>The <code class="codeph">CHAR</code> datatype stores up to 249 bytes of character data in the database character set. Values larger than this result in a per-document indexing error. Note that leading and trailing whitespace are always trimmed from <code class="codeph">SDATA</code> section values when extracted by the sectioner. This is different than <code class="codeph">SDATA</code> columns. Column values are never trimmed. No lexing is performed on the value from either kind of <code class="codeph">SDATA</code>. To be consistent with SQL, the comparisons of <code class="codeph">CHAR</code> datatype <code class="codeph">SDATA</code> values are blank-padded comparisons.</p>
<p><code class="codeph">RAW</code> datatype stores up to 249 bytes of binary data. Values larger than this result in a per-document indexing error. The value is converted from hexadecimal string representation. That is, to store a value of <code class="codeph">65</code>, the document should look like <code class="codeph">&lt;TAG&gt;40&lt;/TAG&gt;</code>, and not <code class="codeph">&lt;TAG&gt;65&lt;/TAG&gt;</code> or <code class="codeph">&lt;TAG&gt;A&lt;/TAG&gt;</code>.</p>
<p>The <code class="codeph">DATE</code> datatype values must conform to the following format: <code class="codeph">YYYY-MM-DD</code> or <code class="codeph">YYYY-MM-DD HH24:MI:SS</code>. That is, to store a <code class="codeph">DATE</code> value of &#34;Nov. 24, 2006 10:32pm 36sec&#34;, the document should look like <code class="codeph">&lt;TAG&gt;2006-11-24 22:32:36&lt;/TAG&gt;</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Limitations</p>
<ul style="list-style-type: disc;">
<li>
<p>The maximum number of <code class="codeph">SDATA</code> sections that can be created for an index is 99. That is, the sum total of <code class="codeph">SDATA</code> sections for an index, created implicitly with <code class="codeph">FILTER</code> <code class="codeph">BY</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> and explicitly with the <code class="codeph">CTX_DDL.ADD_SDATA_SECTION()</code> API is 99.</p>
</li>
<li>
<p><code class="codeph">SDATA</code> are single-occurrence only. If multiple instances of an <code class="codeph">SDATA</code> tag are encountered in a single document, then later instances supersede the value set by earlier instances. This means that the last occurrence of an <code class="codeph">SDATA</code> tag takes effect.</p>
</li>
<li>
<p>If no <code class="codeph">SDATA</code> tag occurs in a given document, then this is treated as an <code class="codeph">SDATA</code> value of <code class="codeph">NULL</code>.</p>
</li>
<li>
<p>Empty <code class="codeph">SDATA</code> tags are treated as <code class="codeph">NULL</code> values.</p>
</li>
<li>
<p><code class="codeph">SDATA</code> sections cannot be nested. Sections that are nested inside are ignored.</p>
</li>
<li>
<p>99 is the maximum number for <code class="codeph">SDATA</code> sections and columns.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-A136A84D-69B7-4E74-94C7-CA96B3A27D35">SDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE">UPDATE_SDATA</a>&#34;</span></p>
<div class="infoboxnotealso" id="GUID-985802C7-D4DF-4139-9723-B7030BDE1791__GUID-23333A0A-843E-43D7-8AD4-10B27FCE5B22">
<p class="notep1">See Also:</p>
<p>Chapter 8, &#34;Searching Document Sections in Oracle Text&#34; in <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24094"></a>
<div class="props_rev_3"><a id="GUID-600FEF61-6FD3-4A15-9908-3807FD6BA299"></a>
<h2 id="CCREF-GUID-600FEF61-6FD3-4A15-9908-3807FD6BA299" class="sect2"><span class="enumeration_section">8.11</span> ADD_SEC_GRP_ATTR_VAL</h2>
<div>
<div class="section">
<p>Adds a section group attribute value to the list of values of an already existing section group attribute.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_SEC_GRP_ATTR_VAL(
                      group_name      IN VARCHAR2,
                      attribute_name  IN VARCHAR2,   
                      attribute_value IN VARCHAR2
); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3216"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-600FEF61-6FD3-4A15-9908-3807FD6BA299__GUID-189FB5FA-0D09-48DB-AAEF-58F6272203D5"><!-- --></a>group_name</dt>
<dd>
<p>Specify the section group name.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3217"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-600FEF61-6FD3-4A15-9908-3807FD6BA299__GUID-2AA9E03C-0B95-40E0-B748-295A5D659AD0"><!-- --></a>attribute_name</dt>
<dd>
<p>Specify the name of the section group attribute.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3218"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-600FEF61-6FD3-4A15-9908-3807FD6BA299__GUID-7D65370F-57AC-445C-B74D-4E3F4D2274C5"><!-- --></a>attribute_value</dt>
<dd>
<p>Specify the section group attribute value.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23871"></a><a id="CCREF0608"></a>
<div class="props_rev_3"><a id="GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5"></a>
<h2 id="CCREF-GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5" class="sect2"><span class="enumeration_section">8.12</span> ADD_SPECIAL_SECTION</h2>
<div>
<div class="section">
<p>Adds a special section, either <code class="codeph">SENTENCE</code> or <code class="codeph">PARAGRAPH</code>, to a section group. This enables searching within sentences or paragraphs in documents with the <a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a> operator.</p>
<p>A special section in a document is a section which is not explicitly tagged like zone and field sections. The start and end of special sections are detected when the index is created. Oracle Text supports two such sections: <span class="italic">paragraph</span> and <span class="italic">sentence</span>.</p>
<p>The sentence and paragraph boundaries are determined by the lexer. For example, the lexer recognizes sentence and paragraph section boundaries as follows:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5__GUID-B0BB270A-531E-45BB-9F6A-2C990571B034">
<p class="titleintable">Table 8-1 Paragraph and Sentence Section Boundaries</p>
<table class="cellalignment3028" title="Paragraph and Sentence Section Boundaries" summary="This table shows paragraph and sentence section boundaries.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3064" id="d76128e3152">Special Section</th>
<th class="cellalignment3065" id="d76128e3155">Boundary</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3066" id="d76128e3160" headers="d76128e3152">
<p>SENTENCE</p>
</td>
<td class="cellalignment3067" headers="d76128e3160 d76128e3155">
<p>WORD/PUNCT/WHITESPACE</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3066" id="d76128e3167" headers="d76128e3152">
<p>SENTENCE</p>
</td>
<td class="cellalignment3067" headers="d76128e3167 d76128e3155">
<p>WORD/PUNCT/NEWLINE</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3066" id="d76128e3174" headers="d76128e3152">
<p>PARAGRAPH</p>
</td>
<td class="cellalignment3067" headers="d76128e3174 d76128e3155">
<p>WORD/PUNCT/NEWLINE/WHITESPACE (indented paragraph)</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3066" id="d76128e3181" headers="d76128e3152">
<p>PARAGRAPH</p>
</td>
<td class="cellalignment3067" headers="d76128e3181 d76128e3155">
<p>WORD/PUNCT/NEWLINE/NEWLINE (block paragraph)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>The punctuation, whitespace, and newline characters are determined by your lexer settings and can be changed.</p>
<p>If the lexer cannot recognize the boundaries, no sentence or paragraph sections are indexed.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_SPECIAL_SECTION(
                 group_name    IN VARCHAR2, 
                 section_name  IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3219"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5__GUID-D2189257-C56B-44CD-9D9B-ECEA25BA0FEC"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3220"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5__GUID-7241D38F-357D-4153-8601-FCC5C8048F17"><!-- --></a>section_name</dt>
<dd>
<p>Specify <code class="codeph">SENTENCE</code> or <code class="codeph">PARAGRAPH</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example enables searching within sentences within HTML documents:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;htmgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
ctx_ddl.add_special_section(&#39;htmgroup&#39;, &#39;SENTENCE&#39;);
end;
</pre>
<p>Add zone sections to the group to enable zone searching in addition to sentence searching. The following example adds the zone section <code class="codeph">Headline</code> to the section group <code class="codeph">htmgroup</code>:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;htmgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
ctx_ddl.add_special_section(&#39;htmgroup&#39;, &#39;SENTENCE&#39;);
ctx_ddl.add_zone_section(&#39;htmgroup&#39;, &#39;Headline&#39;, &#39;H1&#39;);
end;
</pre>
<p>If you are only interested in sentence or paragraph searching within documents and not interested in defining zone or field sections, then use the <code class="codeph">NULL_SECTION_GROUP</code> as follows:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;nullgroup&#39;, &#39;NULL_SECTION_GROUP&#39;);
ctx_ddl.add_special_section(&#39;nullgroup&#39;, &#39;SENTENCE&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdatadic.htm#GUID-CDF963D3-36D8-4055-AFB1-367F18A048AD">Section Group Types</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28">DROP_SECTION_GROUP</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0610"></a>
<div class="props_rev_3"><a id="GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144"></a>
<h2 id="CCREF-GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144" class="sect2"><span class="enumeration_section">8.13</span> ADD_STOPCLASS</h2>
<div>
<div class="section">
<p>Adds a stopclass to a stoplist. A stopclass is a class of tokens that is not to be indexed. A stoplist cannot have more than 250 stopclasses with stoppatterns. This does not include the <code class="codeph">NUMBERS</code> stopclass. When indexing with Stop Patterns, the recommended memory setting is at least 500 MB to 1 GB to optimize the performance of indexing.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_STOPCLASS(
  stoplist_name         IN   VARCHAR2,
  stopclass             IN   VARCHAR2,
  stoppattern           IN   VARCHAR2 default NULL
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3221"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144__GUID-61394F97-3DF0-4D2F-84E9-63DAD82AA525"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3222"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144__GUID-9246B583-74C2-4264-9A9D-7BA4E3B9D406"><!-- --></a>stopclass</dt>
<dd>
<p>Specify the stopclass to be added to <code class="codeph">stoplist_name</code>. It can be either the <code class="codeph">NUMBERS</code> stopclass or else it is considered as the pattern stopclass.</p>
<p><code class="codeph">NUMBERS</code> includes tokens that follow the number pattern: digits, <code class="codeph">numgroup</code>, and <code class="codeph">numjoin</code> only. Therefore, <span class="italic">123ABC</span> is not a number, nor is <span class="italic">A123</span>. These are labeled as <code class="codeph">MIXED</code>. <span class="italic">$123</span> is not a number (this token is not common in a text index because non-alphanumerics become whitespace by default). In the United States, <span class="italic">123.45</span> is a number, but <span class="italic">123.456.789</span> is not; in Europe, where numgroup may be &#39;.&#39;, the reverse is true.</p>
<p>If NUMBERS is not specified for the stopclass <code class="codeph">parameter</code>, then it is treated as a pattern stopclass, and you can provide any name to the stopclass <code class="codeph">parameter</code>. If you specify stopclass as a pattern class, then you need to specify the pattern in the <code class="codeph">stoppattern</code> parameter. The pattern includes any string pattern that may contain numbers and dates as well.</p>
<p>The maximum number of stopwords, stopthemes, and stopclasses you can add to a stoplist is 4095.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3223"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144__GUID-1C153952-C3D3-4651-B76D-3792271A9CDB"><!-- --></a>stoppattern</dt>
<dd>
<p>Specify the stop pattern to add to the stoplist. If the stopclass is specified as a pattern class, then the stop pattern must be specified. You can use the Oracle Regular Expression to specify the stop pattern.</p>
<p>Call the <code class="codeph">ADD_STOPCLASS</code> procedure multiple times to add multiple stop patterns to a stoplist. You must specify different stopclass names for adding multiple stop patterns to a stoplist.</p>
<p>A stop pattern is not case-sensitive by default, but acts as case-sensitive when the <code class="codeph">MIXED_CASE</code> lexer preference is enabled. The stop pattern can have the maximum length of 512 characters. When indexing with Stop Patterns, the recommended memory setting is at least 500 MB to 1 GB to optimize the performance of indexing.</p>
</dd>
</dl>
<div class="infoboxnotealso" id="GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144__GUID-ED844A01-E2EC-4D89-B2B0-FF427CE77AB6">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS1003" target="_blank" href="../ADFNS/adfns_regexp.htm#ADFNS1003"><span class="italic">Oracle Database Development Guide</span></a> for more information about the syntax of the Oracle Regular Expression.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example adds a stopclass of <code class="codeph">NUMBERS</code> to the stoplist <code class="codeph">mystoplist</code>:</p>
<pre dir="ltr">begin
ctx_ddl.add_stopclass(&#39;mystoplist&#39;, &#39;NUMBERS&#39;);
end;
</pre>
<p>The following example adds the pattern stopclass of <code class="codeph">SSN</code> to the stoplist <code class="codeph">mystoplist</code>:</p>
<pre dir="ltr">begin
ctx_ddl.add_stopclass(&#39;mystoplist&#39;, &#39;SSN&#39;, &#39;\d{3}-\d{2}-\d{4}&#39;);
end;
</pre>
<p>In this example, the stopclass <code class="codeph">SSN</code> matches all the tokens of the form &lt;3 digit number&gt;-&lt;2 digit number&gt;-&lt;4 digit number&gt;, example, <code class="codeph">234-11-8902</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-AB454DAB-D7FE-4220-BFAC-8AC460ADA9B7">REMOVE_STOPCLASS</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B">DROP_STOPLIST</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23872"></a><a id="CCREF23873"></a><a id="CCREF0612"></a>
<div class="props_rev_3"><a id="GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897"></a>
<h2 id="CCREF-GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897" class="sect2"><span class="enumeration_section">8.14</span> ADD_STOP_SECTION</h2>
<div>
<div class="section">
<p>Adds a stop section to an automatic section group. Adding a stop section causes the automatic section indexing operation to ignore the specified section in XML documents.</p>
<div class="infobox-note" id="GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897__GUID-9ECC5641-6CE0-4922-B2E0-FA6F486887BF">
<p class="notep1">Note:</p>
<p>Adding a stop section causes no section information to be created in the index. However, the text within a stop section is always searchable.</p>
</div>
<p>Adding a stop section is useful when your documents contain many low information tags. Adding stop sections also improves indexing performance with the automatic section group.</p>
<p>The number of stop sections you can add is unlimited.</p>
<p>Stop sections do not have section names and hence are not recorded in the section views.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_STOP_SECTION(
                 section_group IN VARCHAR2, 
                 tag           IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3224"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897__GUID-7F7124C9-214A-4207-897B-5BF5D1EA3B74"><!-- --></a>section_group</dt>
<dd>
<p>Specify the name of the automatic section group. If you do not specify an automatic section group, then this procedure returns an error.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3225"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897__GUID-47017788-A403-4116-9AE3-96CD4D31506C"><!-- --></a>tag</dt>
<dd>
<p>Specify the tag to ignore during indexing. This parameter is case-sensitive. Defining a stop tag as such also stops the tag&#39;s attribute sections, if any.</p>
<p>Qualify the tag with document type in the form <code class="codeph">(doctype)tag</code>. For example, if you wanted to make the <code class="codeph">&lt;fluff&gt;</code> tag a stop section only within the <code class="codeph">mydoc</code> document type, specify <code class="codeph">(mydoc)fluff</code> for tag.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>Defining Stop Sections</p>
<p>The following example adds a stop section identified by the tag &lt;<code class="codeph">fluff&gt;</code> to the automatic section group <code class="codeph">myauto</code>:</p>
<pre dir="ltr">begin
ctx_ddl.add_stop_section(&#39;myauto&#39;, &#39;fluff&#39;);
end;
</pre>
<p>This example also stops any attribute sections contained within <code class="codeph">&lt;fluff&gt;</code>. For example, if a document contained:</p>
<pre dir="ltr">&lt;fluff type=&#34;computer&#34;&gt;
</pre>
<p>Then the preceding example also stops the attribute section <code class="codeph">fluff@type.</code></p>
<p>Doctype Sensitive Stop Sections</p>
<p>The following example creates a stop section for the tag &lt;<code class="codeph">fluff&gt;</code> only in documents that have a root element of <code class="codeph">mydoc</code>:</p>
<pre dir="ltr">begin
ctx_ddl.add_stop_section(&#39;myauto&#39;, &#39;(mydoc)fluff&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0614"></a>
<div class="props_rev_3"><a id="GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7"></a>
<h2 id="CCREF-GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7" class="sect2"><span class="enumeration_section">8.15</span> ADD_STOPTHEME</h2>
<div>
<div class="section">
<p>Adds a single stoptheme to a stoplist. A stoptheme is a theme that is not to be indexed.</p>
<p>In English, query on indexed themes using the <a href="cqoper.htm#GUID-14AF3453-901E-4B1F-ADE9-EA6EFF5D5BFA">ABOUT</a> operator.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_STOPTHEME(
  stoplist_name     IN   VARCHAR2,
  stoptheme         IN   VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3226"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7__GUID-2393029A-A862-4FF4-BB7F-A9CE5B22A4F6"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3227"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7__GUID-62023892-3B46-4F54-AE6B-67AB9CF6BDF8"><!-- --></a>stoptheme</dt>
<dd>
<p>Specify the stoptheme to be added to <code class="codeph">stoplist_name</code>. The system normalizes the <code class="codeph">stoptheme</code> you enter using the knowledge base. If the normalized theme is more than one theme, then the system does not process your stoptheme. For this reason, Oracle recommends that you submit single stopthemes.</p>
<p>The maximum number of stopwords, stopthemes, and stopclasses you can add to a stoplist is 4095.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example adds the stoptheme <code class="codeph">banking</code> to the stoplist <code class="codeph">mystop</code>:</p>
<pre dir="ltr">begin
ctx_ddl.add_stoptheme(&#39;mystop&#39;, &#39;banking&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-455B3892-3491-4AD7-91EB-4FB83E2C7F32">REMOVE_STOPTHEME</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B">DROP_STOPLIST</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-14AF3453-901E-4B1F-ADE9-EA6EFF5D5BFA">ABOUT</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23874"></a><a id="CCREF23875"></a><a id="CCREF23876"></a><a id="CCREF0616"></a>
<div class="props_rev_3"><a id="GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD"></a>
<h2 id="CCREF-GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD" class="sect2"><span class="enumeration_section">8.16</span> ADD_STOPWORD</h2>
<div>
<div class="section">
<p>Use this procedure to add a single stopword to a stoplist.</p>
<p>To create a list of stopwords, you must call this procedure once for each word.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_STOPWORD(
</pre>
<pre dir="ltr">        stoplist_name       IN VARCHAR2,
        stopword            IN VARCHAR2,
        language            IN VARCHAR2 default NULL,
        language_dependent  IN BOOLEAN default TRUE
</pre>
<pre dir="ltr">);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3228"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD__GUID-E98FE71B-00E4-4AFD-AFCC-CA652929892C"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3229"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD__GUID-2BCA43C0-B756-4EDF-AFC9-F4D0EC2C4913"><!-- --></a>stopword</dt>
<dd>
<p>Specify the stopword to be added.</p>
<p>Language-specific stopwords must be unique across the other stopwords specific to the language. For example, it is valid to have a German <span class="italic">die</span> and an English <span class="italic">die</span> in the same stoplist.</p>
<p>The maximum number of stopwords, stopthemes, and stopclasses you can add to a stoplist is 4095.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3230"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD__GUID-8A7B99D1-A4F1-4C6E-9584-5D832439A0F5"><!-- --></a>language</dt>
<dd>
<p>Specify the language of <code class="codeph">stopword</code> when the stoplist you specify with <code class="codeph">stoplist_name</code> is of type <code class="codeph">MULTI_STOPLIST</code>. You must specify the globalization support name or abbreviation of an Oracle Text-supported language.</p>
<p>To make a stopword active in multiple languages, specify <code class="codeph">ALL</code> for this parameter. For example, defining <code class="codeph">ALL</code> stopwords is useful when you have international documents that contain English fragments that need to be stopped in any language.</p>
<p>An <code class="codeph">ALL</code> stopword is active in all languages. If you use the multi-lexer, the language-specific lexing of the stopword occurs, just as if it had been added multiple times in multiple specific languages.</p>
<p>Otherwise, specify <code class="codeph">NULL</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3231"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD__GUID-50BEF661-97BB-4018-9FC1-70CEA1AC648E"><!-- --></a>language_dependent</dt>
<dd>
<p>Set this parameter to <code class="codeph">FALSE</code> to indicate that any user-defined string can be specified for the <code class="codeph">language</code> parameter.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>Single Language Stoplist</p>
<p>The following example adds the stopwords <span class="italic">because, notwithstanding, nonetheless,</span> and <span class="italic">therefore</span> to the stoplist <code class="codeph">mystop</code>:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;because&#39;);
ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;notwithstanding&#39;);
ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;nonetheless&#39;);
ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;therefore&#39;);
</pre>
<pre dir="ltr">end;
</pre>
<p>Multi-Language Stoplist</p>
<p>The following example adds the German word <span class="italic">die</span> to a multi-language stoplist:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;Die&#39;,&#39;german&#39;);
</pre>
<pre dir="ltr">end;
</pre>
<div class="infobox-note" id="GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD__GUID-48670E54-6A7A-40CE-8789-DCD7DF69C6E2">
<p class="notep1">Note:</p>
<p>Add stopwords after you create the index with <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>.</p>
</div>
<p>Adding An ALL Stopword</p>
<p>The following adds the word <span class="italic">the</span> as an <code class="codeph">ALL</code> stopword to the multi-language stoplist <span class="italic">globallist</span>:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.add_stopword(&#39;globallist&#39;,&#39;the&#39;,&#39;ALL&#39;);
</pre>
<pre dir="ltr">end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89">REMOVE_STOPWORD</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B">DROP_STOPLIST</a> &#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> &#34;</span></p>
<p><a href="astopsup.htm#GUID-2F4889F1-B3A0-4639-95C6-FFD9C5276245">Oracle Text Supplied Stoplists</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0618"></a>
<div class="props_rev_3"><a id="GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D"></a>
<h2 id="CCREF-GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D" class="sect2"><span class="enumeration_section">8.17</span> ADD_SUB_LEXER</h2>
<div>
<div class="section">
<p>Adds a sub-lexer to a multi-lexer preference. A sub-lexer identifies a language in a multi-lexer (multi-language) preference. Use a multi-lexer preference when you want to index more than one language.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_SUB_LEXER(
             lexer_name          IN VARCHAR2,
             language            IN VARCHAR2,
             sub_lexer           IN VARCHAR2,
             alt_value           IN VARCHAR2 default NULL,
             language_dependent  IN BOOLEAN default TRUE
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3232"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D__GUID-A4D55291-48F9-4627-9E9A-815761D6C1A3"><!-- --></a>lexer_name</dt>
<dd>
<p>Specify the name of the multi-lexer preference.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3233"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D__CHDHHEAH"><!-- --></a>language</dt>
<dd>
<p>Specify the globalization support language name or abbreviation of the sub-lexer. For example, specify <code class="codeph">JAPANESE</code> or <code class="codeph">JA</code> for Japanese.</p>
<p>The sub-lexer you specify with <code class="codeph">sub_lexer</code> is used when the language column has a value case-insensitive equal to the globalization support name of abbreviation of <code class="codeph">language</code>.</p>
<p>Specify <code class="codeph">DEFAULT</code> to assign a default sub-lexer to use when the value of the language column in the base table is null, invalid, or unmapped to a sub-lexer. The <code class="codeph">DEFAULT</code> lexer is also used to parse stopwords.</p>
<p>If a sub-lexer definition for <code class="codeph">language</code> already exists, then it is replaced by this call.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3234"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D__GUID-10CEBA21-ECDE-484C-90BE-B0DECC6BAB6B"><!-- --></a>sub_lexer</dt>
<dd>
<p>Specify the name of the sub-lexer to use for this language.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3235"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D__GUID-43A2BCD2-28EA-4328-A88D-2C6824B145E1"><!-- --></a>alt_value</dt>
<dd>
<p>Optionally specify an alternate value for <code class="codeph">language</code>.</p>
<p>If you specify <code class="codeph">DEFAULT</code> for <code class="codeph">language</code>, then you cannot specify an <code class="codeph">alt_value</code>.</p>
<p>The <code class="codeph">alt_value</code> is limited to 30 bytes and cannot be a globalization support language name, abbreviation, or <code class="codeph">DEFAULT</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3236"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D__GUID-DEFFCFBB-0149-4976-A0CE-897E54CAE2B9"><!-- --></a>language_dependent</dt>
<dd>
<p>Set this parameter to <code class="codeph">FALSE</code> to indicate that any user-defined string can be specified for the <code class="codeph">language</code> parameter. If set to <code class="codeph">FALSE</code>, then the lexing applied to the search expression will not be dependent on the query language. The <code class="codeph">FALSE</code> option can only be used when a <code class="codeph">BASIC_SECTION_GROUP</code> is in use for the index.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>This example shows how to create a multi-language text table and how to set up the multi-lexer to index the table.</p>
<p>Create the multi-language table with a primary key, a text column, and a language column as follows:</p>
<pre dir="ltr">create table globaldoc (
   doc_id number primary key,
   lang varchar2(3),
   text clob
);
</pre>
<p>Assume that the table holds mostly English documents, with an occasional German or Japanese document. To handle the three languages, you must create three sub-lexers: one for English, one for German, and one for Japanese as follows:</p>
<pre dir="ltr">ctx_ddl.create_preference(&#39;english_lexer&#39;,&#39;basic_lexer&#39;);
ctx_ddl.set_attribute(&#39;english_lexer&#39;,&#39;index_themes&#39;,&#39;yes&#39;);
ctx_ddl.set_attribtue(&#39;english_lexer&#39;,&#39;theme_language&#39;,&#39;english&#39;);

ctx_ddl.create_preference(&#39;german_lexer&#39;,&#39;basic_lexer&#39;);
ctx_ddl.set_attribute(&#39;german_lexer&#39;,&#39;composite&#39;,&#39;german&#39;);
ctx_ddl.set_attribute(&#39;german_lexer&#39;,&#39;mixed_case&#39;,&#39;yes&#39;);
ctx_ddl.set_attribute(&#39;german_lexer&#39;,&#39;alternate_spelling&#39;,&#39;german&#39;);

ctx_ddl.create_preference(&#39;japanese_lexer&#39;,&#39;japanese_vgram_lexer&#39;);
</pre>
<p>Create the multi-lexer preference:</p>
<pre dir="ltr">ctx_ddl.create_preference(&#39;global_lexer&#39;, &#39;multi_lexer&#39;);
</pre>
<p>Because the stored documents are mostly English, make the English lexer the default:</p>
<pre dir="ltr">ctx_ddl.add_sub_lexer(&#39;global_lexer&#39;,&#39;default&#39;,&#39;english_lexer&#39;);
</pre>
<p>Add the German and Japanese lexers in their respective languages. Also assume that the language column is expressed in ISO 639-2, so add those as alternative values.</p>
<pre dir="ltr">ctx_ddl.add_sub_lexer(&#39;global_lexer&#39;,&#39;german&#39;,&#39;german_lexer&#39;,&#39;ger&#39;);
ctx_ddl.add_sub_lexer(&#39;global_lexer&#39;,&#39;japanese&#39;,&#39;japanese_lexer&#39;,&#39;jpn&#39;);
</pre>
<p>Create the index <code class="codeph">globalx</code>, specifying the multi-lexer preference and the language column in the parameters string as follows:</p>
<pre dir="ltr">create index globalx on globaldoc(text) indextype is ctxsys.context
parameters (&#39;lexer global_lexer language column lang&#39;);
</pre>
<p>You can specify a user-defined string for the <code class="codeph">language</code> paramater as follows:</p>
<pre dir="ltr">ctx_ddl.add_sub_lexer(&#39;global_lexer&#39;,&#39;mysymbol&#39;,&#39;german_lexer&#39;,&#39;my_alt_symbol&#39;, language_dependent =&gt; FALSE);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Restrictions</p>
<p>The following restrictions apply to using <code class="codeph">CTX_DDL.ADD_SUB_LEXER</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p>The invoking user must be the owner of the multi-lexer or <code class="codeph">CTXSYS</code>.</p>
</li>
<li>
<p>The <tt>lexer_name</tt> parameter must name a preference which is a multi-lexer lexer.</p>
</li>
<li>
<p>A lexer for default must be defined before the multi-lexer can be used in an index.</p>
</li>
<li>
<p>The sub-lexer preference owner must be the same as multi-lexer preference owner.</p>
</li>
<li>
<p>The sub-lexer preference must not be a multi-lexer lexer.</p>
</li>
<li>
<p>A sub-lexer preference cannot be dropped while it is being used in a multi-lexer preference.</p>
</li>
<li>
<p><code class="codeph">CTX_DDL.ADD_SUB_LEXER</code> records only a reference. The sub-lexer values are copied at create index time to index value storage.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23877"></a><a id="CCREF23878"></a><a id="CCREF23879"></a><a id="CCREF23880"></a><a id="CCREF23881"></a><a id="CCREF23882"></a><a id="CCREF0620"></a>
<div class="props_rev_3"><a id="GUID-3F950452-FF9A-4F56-A902-8FC9C9783441"></a>
<h2 id="CCREF-GUID-3F950452-FF9A-4F56-A902-8FC9C9783441" class="sect2"><span class="enumeration_section">8.18</span> ADD_ZONE_SECTION</h2>
<div>
<div class="section">
<p>Creates a zone section and adds the section to an existing section group. This enables zone section searching with the <a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a> operator.</p>
<p>Zone sections are sections delimited by start and end tags. The <code class="codeph">&lt;B&gt;</code> and <code class="codeph">&lt;/B&gt;</code> tags in HTML, for instance, marks a range of words which are to be rendered in boldface.</p>
<p>Zone sections can be nested within one another, can overlap, and can occur more than once in a document.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.ADD_ZONE_SECTION(
  group_name     IN    VARCHAR2,
  section_name   IN    VARCHAR2,
  tag            IN    VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3237"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3F950452-FF9A-4F56-A902-8FC9C9783441__GUID-63E5ADAD-4A30-40D7-A21F-601A563AC6F9"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group to which <code class="codeph">section_name</code> is added.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3238"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3F950452-FF9A-4F56-A902-8FC9C9783441__GUID-A532D544-156C-4CCA-8E72-1216BDBFFB47"><!-- --></a>section_name</dt>
<dd>
<p>Specify the name of the section to add to the <span>group_name</span>. Use this name to identify the section in <code class="codeph">WITHIN</code> queries. Avoid using names that contain non-alphanumeric characters such as _, because most of these characters are special must be escaped in queries. Section names are case-insensitive.</p>
<p>Within the same group, zone section names and field section names cannot be the same. The terms <span class="italic">Paragraph</span> and <span class="italic">Sentence</span> are reserved for special sections.</p>
<p>Section names need not be unique across tags. You can assign the same section name to more than one tag, making details transparent to searches.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3239"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3F950452-FF9A-4F56-A902-8FC9C9783441__GUID-E292B026-C076-4DE8-8F29-C0618227E659"><!-- --></a>tag</dt>
<dd>
<p>Specify the pattern which marks the start of a section. For example, if <code class="codeph">&lt;H1&gt;</code> is the HTML tag, specify <code class="codeph">H1</code> for <code class="codeph">tag</code>. The start tag you specify must be unique within a section group.</p>
<p>Oracle Text knows what the end tags look like from the <code class="codeph">group_type</code> parameter you specify when you create the section group.</p>
<p>If <code class="codeph">group_name</code> is an <code class="codeph">HTML_SECTION_GROUP</code>, you can create zone sections for the META tag&#39;s <code class="codeph">NAME/CONTENT</code> attribute pairs. To do so, specify <code class="codeph">tag</code> as <code class="codeph">meta@namevalue</code> where <code class="codeph">namevalue</code> is the value of the <code class="codeph">NAME</code> attribute whose <code class="codeph">CONTENT</code> attributes are to be indexed as a section. Refer to the example.</p>
<p>If <code class="codeph">group_name</code> is an <code class="codeph">XML_SECTION_GROUP</code>, you can optionally qualify <code class="codeph">tag</code> with a document type (root element) in the form <code class="codeph">(doctype)tag</code>. Doing so makes <code class="codeph">section_name</code> sensitive to the XML document type declaration. Refer to the example.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Creating HTML Sections<a id="d76128e4466" class="indexterm-anchor"></a><a id="d76128e4470" class="indexterm-anchor"></a></p>
<p>The following example defines a section group called <code class="codeph">htmgroup</code> of type <code class="codeph">HTML_SECTION_GROUP</code>. It then creates a zone section in <code class="codeph">htmgroup</code> called <code class="codeph">headline</code> identified by the &lt;H1&gt; tag:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;htmgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
ctx_ddl.add_zone_section(&#39;htmgroup&#39;, &#39;heading&#39;, &#39;H1&#39;);
end;
</pre>
<p>After indexing with section group <code class="codeph">htmgroup</code>, query within the heading section by issuing a query as follows:</p>
<pre dir="ltr">&#39;Oracle WITHIN heading&#39;
</pre>
<p>Creating Sections for <code class="codeph">&lt;META NAME&gt;</code> Tags <a id="d76128e4502" class="indexterm-anchor"></a></p>
<p>You can create zone sections for HTML META tags when you use the <code class="codeph">HTML_SECTION_GROUP</code>.</p>
<p>Consider an HTML document that has a <code class="codeph">META</code> tag as follows:</p>
<pre dir="ltr">&lt;META NAME=&#34;author&#34; CONTENT=&#34;ken&#34;&gt;
</pre>
<p>To create a zone section that indexes all <code class="codeph">CONTENT</code> attributes for the <code class="codeph">META</code> tag whose <code class="codeph">NAME</code> value is author:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;htmgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
ctx_ddl.add_zone_section(&#39;htmgroup&#39;, &#39;author&#39;, &#39;meta@author&#39;);
end
</pre>
<p>After indexing with section group <code class="codeph">htmgroup</code>, query the document as follows:</p>
<pre dir="ltr">&#39;ken WITHIN author&#39;
</pre>
<p>Creating Document Type Sensitive Sections (XML Documents Only)<a id="d76128e4541" class="indexterm-anchor"></a></p>
<p>You have an XML document set that contains the <code class="codeph">&lt;book&gt;</code> tag declared for different document types (DTDs). You want to create a distinct book section for each document type.</p>
<p>Assume that <code class="codeph">myDTDname</code> is declared as an XML document type as follows:</p>
<pre dir="ltr">&lt;!DOCTYPE myDTDname&gt;
&lt;myDTDname&gt;
 ...
</pre>
<p>(Note: the <code class="codeph">DOCTYPE</code> must match the top-level tag.)</p>
<p>Within <code class="codeph">myDTDname</code>, the element <code class="codeph">&lt;book&gt;</code> is declared. For this tag, create a section named <code class="codeph">mybooksec</code> that is sensitive to the tag&#39;s document type as follows:</p>
<pre dir="ltr">begin
ctx_ddl.create_section_group(&#39;myxmlgroup&#39;, &#39;XML_SECTION_GROUP&#39;);
ctx_ddl.add_zone_section(&#39;myxmlgroup&#39;, &#39;mybooksec&#39;, &#39;(myDTDname)book&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>Repeated Sections<a id="d76128e4580" class="indexterm-anchor"></a><a id="d76128e4584" class="indexterm-anchor"></a></p>
<p>Zone sections can repeat. Each occurrence is treated as a separate section. For example, if &lt;H1&gt; denotes a <code class="codeph">heading</code> section, they can repeat in the same documents as follows:</p>
<p>&lt;H1&gt; The Brown Fox &lt;/H1&gt;</p>
<p>&lt;H1&gt; The Gray Wolf &lt;/H1&gt;</p>
<p>Assuming that these zone sections are named <code class="codeph">Heading</code>, the query <span class="italic">Brown WITHIN Heading</span> returns this document. However, a query of <span class="italic">(Brown and Gray) WITHIN Heading</span> does not.</p>
<p>Overlapping Sections<a id="d76128e4610" class="indexterm-anchor"></a><a id="d76128e4612" class="indexterm-anchor"></a></p>
<p>Zone sections can overlap each other. For example, if <code class="codeph">&lt;B&gt;</code> and <code class="codeph">&lt;I&gt;</code> denote two different zone sections, they can overlap in document as follows:</p>
<pre dir="ltr">plain &lt;B&gt; bold &lt;I&gt; bold and italic &lt;/B&gt; only italic &lt;/I&gt;  plain
</pre>
<p>Nested Sections<a id="d76128e4628" class="indexterm-anchor"></a><a id="d76128e4630" class="indexterm-anchor"></a></p>
<p>Zone sections can nest, including themselves as follows:</p>
<pre dir="ltr">&lt;TD&gt; &lt;TABLE&gt;&lt;TD&gt;nested cell&lt;/TD&gt;&lt;/TABLE&gt;&lt;/TD&gt;
</pre>
<p>Using the <code class="codeph">WITHIN</code> operator, you can write queries to search for text in sections within sections. For example, assume the <code class="codeph">BOOK1</code>, <code class="codeph">BOOK2</code>, and <code class="codeph">AUTHOR</code> zone sections occur as follows in documents doc1 and doc2:</p>
<p>doc1:</p>
<pre dir="ltr">&lt;book1&gt; &lt;author&gt;Scott Tiger&lt;/author&gt; This is a cool book to read.&lt;/book1&gt;
</pre>
<p>doc2:</p>
<pre dir="ltr">&lt;book2&gt; &lt;author&gt;Scott Tiger&lt;/author&gt; This is a great book to read.&lt;/book2&gt;
</pre>
<p>Consider the nested query:</p>
<pre dir="ltr">&#39;(Scott within author) within book1&#39;
</pre>
<p>This query returns only doc1.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdatadic.htm#GUID-CDF963D3-36D8-4055-AFB1-367F18A048AD">Section Group Types</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28">DROP_SECTION_GROUP</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2104"></a>
<div class="props_rev_3"><a id="GUID-FC950CED-2212-4130-A812-9C633B20A25E"></a>
<h2 id="CCREF-GUID-FC950CED-2212-4130-A812-9C633B20A25E" class="sect2"><span class="enumeration_section">8.19</span> COPY_POLICY</h2>
<div>
<div class="section">
<p>Creates a new policy from an existing policy or index.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">ctx_ddl.copy_policy(
    source_policy       VARCHAR2,
    policy_name         VARCHAR2    );
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3240"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FC950CED-2212-4130-A812-9C633B20A25E__GUID-4D66B67C-ADAF-4CC8-A4B9-A4844DF171EC"><!-- --></a>source_policy</dt>
<dd>
<p>The name of the policy or index being copied.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3241"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FC950CED-2212-4130-A812-9C633B20A25E__GUID-00CC17E0-DC57-4E39-B855-D7DD16B5EFB8"><!-- --></a>policy_name</dt>
<dd>
<p>The name of the new policy copy.</p>
</dd>
</dl>
<p>The preference values are copied from the <code class="codeph">source_policy</code>. Both the source policy or index and the new policy must be owned by the same database user.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0622"></a>
<div class="props_rev_3"><a id="GUID-54550722-F909-4684-95AA-4178892BE2E7"></a>
<h2 id="CCREF-GUID-54550722-F909-4684-95AA-4178892BE2E7" class="sect2"><span class="enumeration_section">8.20</span> CREATE_INDEX_SET</h2>
<div>
<div class="section">
<p>Creates an index set for <code class="codeph">CTXCAT</code> index types. Name this index set in the parameter clause of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> when you create a <code class="codeph">CTXCAT</code> index.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.CREATE_INDEX_SET(set_name in varchar2);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3242"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-54550722-F909-4684-95AA-4178892BE2E7__GUID-49AF7CFF-FA5E-447A-987B-4A454F36048F"><!-- --></a>set_name</dt>
<dd>
<p>Specify the name of the index set. Name this index set in the parameter clause of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> when you create a <code class="codeph">CTXCAT</code> index.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2105"></a>
<div class="props_rev_3"><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3"></a>
<h2 id="CCREF-GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3" class="sect2"><span class="enumeration_section">8.21</span> CREATE_POLICY</h2>
<div>
<div class="section">
<p>Creates a policy to use with the <code class="codeph">CTX_DOC.POLICY_*</code> procedures and the <code class="codeph">ORA:CONTAINS</code> function. <code class="codeph">ORA:CONTAINS</code> is a function you use within an <code class="codeph">XPATH</code> query expression with <code class="codeph">existsNode()</code>.</p>
<div class="infoboxnotealso" id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-31614F4A-13B1-4FB1-B8CA-F0BB4ECD6F56">
<p class="notep1">See Also:</p>
<p><a class="olink ADXDB" target="_blank" href="../ADXDB/toc.htm"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.CREATE_POLICY(
         policy_name     IN VARCHAR2,
         filter          IN VARCHAR2 DEFAULT NULL,
         section_group   IN VARCHAR2 DEFAULT NULL,
         lexer           IN VARCHAR2 DEFAULT NULL,
         stoplist        IN VARCHAR2 DEFAULT NULL,
         wordlist        IN VARCHAR2 DEFAULT NULL);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3243"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-84833EE0-02AE-41B2-817C-806D12BA07A0"><!-- --></a>policy_name</dt>
<dd>
<p>Specify the name for the new policy. Policy names and Text indexes share the same namespace.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3244"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-CFCAD408-8CB6-46D1-BB24-8357FCF89528"><!-- --></a>filter</dt>
<dd>
<p>Specify the filter preference to use.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3245"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-3E6364E5-B5F8-4732-90C8-6B29ACAEEFEC"><!-- --></a>section_group</dt>
<dd>
<p>Specify the section group to use. You can specify any section group that is supported by <code class="codeph">CONTEXT</code> index.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3246"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-728669BD-6B39-4976-8CF7-3985907D6A9A"><!-- --></a>lexer</dt>
<dd>
<p>Specify the lexer preference to use. Your <code class="codeph">INDEX_THEMES</code> attribute must be disabled.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3247"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-BB5CE5E1-F7A9-422B-B4EE-BB7EF6D4CCBF"><!-- --></a>stoplist</dt>
<dd>
<p>Specify the stoplist to use.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3248"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3__GUID-8734E367-514E-49FC-BA53-33EB979753E9"><!-- --></a>wordlist</dt>
<dd>
<p>Specify the wordlist to use.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>Create mylex lexer preference named mylex.</p>
<pre dir="ltr">begin 
   ctx_ddl.create_preference(&#39;mylex&#39;, &#39;BASIC_LEXER&#39;); 
   ctx_ddl.set_attribute(&#39;mylex&#39;, &#39;printjoins&#39;, &#39;_-&#39;); 
   ctx_ddl.set_attribute ( &#39;mylex&#39;, &#39;index_themes&#39;, &#39;NO&#39;);  
   ctx_ddl.set_attribute ( &#39;mylex&#39;, &#39;index_text&#39;, &#39;YES&#39;); 
end; 
</pre>
<p>Create a stoplist preference named mystop.</p>
<pre dir="ltr">begin 
  ctx_ddl.create_stoplist(&#39;mystop&#39;, &#39;BASIC_STOPLIST&#39;); 
  ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;because&#39;);
  ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;nonetheless&#39;);
  ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;therefore&#39;);
end;
</pre>
<p>Create a wordlist preference named &#39;mywordlist&#39;.</p>
<pre dir="ltr">begin 
 ctx_ddl.create_preference(&#39;mywordlist&#39;, &#39;BASIC_WORDLIST&#39;);
 ctx_ddl.set_attribute(&#39;mywordlist&#39;,&#39;FUZZY_MATCH&#39;,&#39;ENGLISH&#39;); 
 ctx_ddl.set_attribute(&#39;mywordlist&#39;,&#39;FUZZY_SCORE&#39;,&#39;0&#39;); 
 ctx_ddl.set_attribute(&#39;mywordlist&#39;,&#39;FUZZY_NUMRESULTS&#39;,&#39;5000&#39;); 
 ctx_ddl.set_attribute(&#39;mywordlist&#39;,&#39;SUBSTRING_INDEX&#39;,&#39;TRUE&#39;); 
 ctx_ddl.set_attribute(&#39;mywordlist&#39;,&#39;STEMMER&#39;,&#39;ENGLISH&#39;); 
end; 
</pre>
<pre dir="ltr">exec ctx_ddl.create_policy(&#39;my_policy&#39;, NULL, NULL, &#39;mylex&#39;, &#39;mystop&#39;, 
&#39;mywordlist&#39;);
</pre>
<p>or</p>
<pre dir="ltr">exec ctx_ddl.create_policy(policy_name =&gt; &#39;my_policy&#39;, 
                           lexer =&gt; &#39;mylex&#39;,
                           stoplist =&gt; &#39;mystop&#39;,
                           wordlist =&gt; &#39;mywordlist&#39;);
</pre>
<p>Then enter the following <code class="codeph">existsNode()</code> query with your own defined policy:</p>
<pre dir="ltr">select id from xmltab 
  where existsNode(doc, &#39;/book/chapter[ ora:contains(summary,&#34;dog or cat&#34;, 
  &#34;my_policy&#34;) &gt;0 ]&#39;, &#39;xmlns:ora=&#34;http://xmlns.example.com/xdb&#34; &#39;)=1;
</pre>
<p>Update the policy with the following:</p>
<pre dir="ltr">exec ctx_ddl.update_policy(policy_name =&gt; &#39;my_policy&#39;, lexer =&gt; &#39;my_new_lex&#39;);
</pre>
<p>Drop the policy with the following:</p>
<pre dir="ltr">exec ctx_ddl.drop_policy(policy_name =&gt; &#39;my_policy&#39;);
</pre></div>
<!-- class="section" --></div>
</div>
<a id="CCREF23883"></a><a id="CCREF23884"></a><a id="CCREF23885"></a><a id="CCREF23886"></a><a id="CCREF23887"></a><a id="CCREF24095"></a><a id="CCREF0624"></a>
<div class="props_rev_3"><a id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3"></a>
<h2 id="CCREF-GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3" class="sect2"><span class="enumeration_section">8.22</span> CREATE_PREFERENCE</h2>
<div>
<div class="section">
<p>Creates a preference in the Text data dictionary. Specify preferences in the parameter string of <a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> or <a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> .</p>
<div class="infobox-note" id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-A282EE43-DFB4-430A-9C94-189196E714DD">
<p class="notep1">Caution:</p>
<p><code class="codeph">CTX_DDL.CREATE_PREFERENCE</code> does not respect the current schema as set by <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">current_schema</code>. Therefore, if you need to create or delete a preference owned by another user, then you must explicitly state this, and you must have the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege.</p>
<p>See note 249991.1 titled &#34;Oracle Text Overview of New Features in Release 10<span class="italic">g</span>&#34; on My Oracle Support at <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>. This note provides a technical overview that is relevant to Oracle Database release 10<span class="italic">g</span> and later releases.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.CREATE_PREFERENCE(preference_name  in varchar2, 
                          object_name      in varchar2); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3249"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-82D42E68-37F1-4F49-8C01-5B0449CA5225"><!-- --></a>preference_name</dt>
<dd>
<p>Specify the name of the preference to be created.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3250"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-F0699A85-F9AD-41B0-B50B-837C77D0D43A"><!-- --></a>object_name</dt>
<dd>
<p>Specify the name of the preference type.</p>
<div class="infoboxnotealso" id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-08C4A975-1DBB-4CC6-8F25-C61257EA2687">
<p class="notep1">See Also:</p>
<p>For a complete list of preference types and their associated attributes, see <a href="cdatadic.htm#GUID-22680996-89CF-4666-89E6-BE8B9431DB02">Oracle Text Indexing Elements</a></p>
</div>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>Creating Text-only Index</p>
<p>The<a id="d76128e5215" class="indexterm-anchor"></a> following example creates a lexer preference that specifies a text-only index. It does so by creating a <code class="codeph">BASIC_LEXER</code> preference called <code class="codeph">my_lexer</code> with <code class="codeph">CTX_DDL.CREATE_PREFERENCE</code>. It then calls CTX_DDL.<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> twice, first specifying YES for the <code class="codeph">INDEX_TEXT</code> attribute, then specifying NO for the <code class="codeph">INDEX_THEMES</code> attribute.</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;my_lexer&#39;, &#39;BASIC_LEXER&#39;);
ctx_ddl.set_attribute(&#39;my_lexer&#39;, &#39;INDEX_TEXT&#39;, &#39;YES&#39;);
ctx_ddl.set_attribute(&#39;my_lexer&#39;, &#39;INDEX_THEMES&#39;, &#39;NO&#39;);
end;
</pre>
<p>Specifying File Data Storage<a id="d76128e5244" class="indexterm-anchor"></a><a id="d76128e5248" class="indexterm-anchor"></a></p>
<p>The following example creates a data storage preference called <code class="codeph">mypref</code> that tells the system that the files to be indexed are stored in the operating system. The example then uses CTX_DDL.<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> to set the <code class="codeph">PATH</code> attribute of to the directory <code class="codeph">/docs</code>.</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;mypref&#39;, &#39;FILE_DATASTORE&#39;);
ctx_ddl.set_attribute(&#39;mypref&#39;, &#39;PATH&#39;, &#39;/docs&#39;); 
end;
</pre>
<div class="infoboxnotealso" id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-67351389-A3E0-422A-8781-6F054CCCA017">
<p class="notep1">See Also:</p>
<p>For more information about data storage, see <span class="q">&#34;<a href="cdatadic.htm#GUID-91576377-DD67-4CBA-91AD-127402C4B93A">Datastore Types</a> &#34;</span></p>
</div>
<p>Creating Master/Detail Relationship<a id="d76128e5278" class="indexterm-anchor"></a></p>
<p>Use CTX_DDL.<a href="cddlpkg.htm#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a> to create a preference with <code class="codeph">DETAIL_DATASTORE</code>. Use CTX_DDL.<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> to set the attributes for this preference. The following example shows how this is done:</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;my_detail_pref&#39;, &#39;DETAIL_DATASTORE&#39;);
ctx_ddl.set_attribute(&#39;my_detail_pref&#39;, &#39;binary&#39;, &#39;true&#39;);
ctx_ddl.set_attribute(&#39;my_detail_pref&#39;, &#39;detail_table&#39;, &#39;my_detail&#39;);
ctx_ddl.set_attribute(&#39;my_detail_pref&#39;, &#39;detail_key&#39;, &#39;article_id&#39;);
ctx_ddl.set_attribute(&#39;my_detail_pref&#39;, &#39;detail_lineno&#39;, &#39;seq&#39;);
ctx_ddl.set_attribute(&#39;my_detail_pref&#39;, &#39;detail_text&#39;, &#39;text&#39;);
end;
</pre>
<div class="infoboxnotealso" id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-967DA887-E68B-4EA0-A146-5EDFD62902C3">
<p class="notep1">See Also:</p>
<p>For more information about master/detail, see <span class="q">&#34;<a href="cdatadic.htm#GUID-D36D67F0-0F55-45B9-8129-BB0251D224C0">DETAIL_DATASTORE</a> &#34;</span></p>
</div>
<p>Specifying Storage Attributes<a id="d76128e5307" class="indexterm-anchor"></a></p>
<p>The following examples specify that the index tables are to be created in the <code class="codeph">foo</code> tablespace with an initial extent of 1K:</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;mystore&#39;, &#39;BASIC_STORAGE&#39;);
ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;I_TABLE_CLAUSE&#39;,
                        &#39;tablespace foo storage (initial 1K)&#39;); 
ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;K_TABLE_CLAUSE&#39;,
                        &#39;tablespace foo storage (initial 1K)&#39;); 
ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;R_TABLE_CLAUSE&#39;,
                        &#39;tablespace foo storage (initial 1K)&#39;); 
ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;S_TABLE_CLAUSE&#39;,
                        &#39;tablespace foo storage (initial 1K)&#39;); 
ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;N_TABLE_CLAUSE&#39;,
                        &#39;tablespace foo storage (initial 1K)&#39;); 
ctx_ddl.set_attribute(&#39;mystore&#39;, &#39;I_INDEX_CLAUSE&#39;,
                        &#39;tablespace foo storage (initial 1K)&#39;); 
end;
</pre>
<div class="infobox-note" id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-4B093565-825E-468F-9FFA-5FF56A8F9A3B">
<p class="notep1">Note:</p>
<p>If <code class="codeph">S_TABLE_CLAUSE</code> is specified for a storage preference in an index without <code class="codeph">SDATA</code>, then it has no effect on the index, and the index creation will still succeed.</p>
</div>
<div class="infoboxnotealso" id="GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3__GUID-F59B28A2-7F84-45B1-B9A0-09F390F5BDFA">
<p class="notep1">See Also:</p>
<p><a href="cdatadic.htm#GUID-C6DA9061-955A-403E-B8BB-961D31360DCB">Storage Types</a></p>
</div>
<p>Creating Preferences with No Attributes</p>
<p>When you create preferences with types that have no attributes, you need only create the preference, as in the following example which sets the filter to the <code class="codeph">NULL_FILTER</code>:</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;my_null_filter&#39;, &#39;NULL_FILTER&#39;);
end;
</pre>
<p>Specifying BIGRAM Mode for Japanese VGRAM Lexer</p>
<p>The following example creates a Japanese VGRAM lexer preference that specifies the BIGRAM mode of operation for the Japanese queries:</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;jp_lexer&#39;,&#39;JAPANESE_VGRAM_LEXER&#39;);
ctx_ddl.set_attribute(&#39;jp_lexer&#39;,&#39;BIGRAM&#39;,&#39;TRUE&#39;);
end;

/* create the index */
create index jp_idx on jp_doc(text) indextype is ctxsys.context
  parameters(&#39;lexer jp_lexer&#39;);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-F996414D-5755-414B-AA48-540D0FD23666">DROP_PREFERENCE</a> &#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> &#34;</span></p>
<p><a href="cdatadic.htm#GUID-22680996-89CF-4666-89E6-BE8B9431DB02">Oracle Text Indexing Elements</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0626"></a>
<div class="props_rev_3"><a id="GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16"></a>
<h2 id="CCREF-GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16" class="sect2"><span class="enumeration_section">8.23</span> CREATE_SECTION_GROUP</h2>
<div>
<div class="section">
<p>Creates a section group for defining sections in a text column.</p>
<p>When you create a section group, you can add to it zone, field, or special sections with <a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a> , <a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>, <a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a>, or <a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a> .</p>
<p>You also use <code class="codeph">CREATE_SECTION_GROUP</code> with CTX_DDL.<a href="cddlpkg.htm#GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E">SET_SEC_GRP_ATTR</a> to set <a id="d76128e5469" class="indexterm-anchor"></a><code class="codeph">xml_enable</code> to create an Oracle <a id="d76128e5474" class="indexterm-anchor"></a>XML Search Index.</p>
<p>When you index, name the section group in the parameter string of <a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> or <a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> .</p>
<p>After indexing, query within your defined sections with the <a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a> operator.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.CREATE_SECTION_GROUP(
  group_name     in    varchar2,
  group_type     in    varchar2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3251"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16__GUID-CEFE5CFE-3533-4811-B48B-E9FBB1E34316"><!-- --></a>group_name</dt>
<dd>
<p>Specify the section group name to create as <code class="codeph">[user.]section_group_name</code>. This parameter must be unique within an owner.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3252"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16__GUID-F4C5AF26-CCDA-4099-8750-699017C656B3"><!-- --></a>group_type</dt>
<dd>
<p>Specify section group type. <a id="d76128e5514" class="indexterm-anchor"></a>The <code class="codeph">group_type</code> parameter can be one of the following:</p>
<div class="tblformal" id="GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16__GUID-9F646CA8-E5AC-413F-99F8-6D647933C316">
<table class="cellalignment3033" summary="This table describes section group types.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3043" id="d76128e5528">Section Group Preference</th>
<th class="cellalignment3044" id="d76128e5531">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5536" headers="d76128e5528">
<p><code class="codeph">NULL_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5536 d76128e5531">
<p>Use this group type when you define no sections or when you define <span class="italic">only</span> SENTENCE or PARAGRAPH sections. This is the default.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5547" headers="d76128e5528">
<p><code class="codeph">BASIC_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5547 d76128e5531">
<p>Use this group type for defining sections where the start and end tags are of the form <code class="codeph">&lt;A&gt;</code> and <code class="codeph">&lt;/A&gt;</code>.</p>
<p>Note: This group type does not support input such as unbalanced parentheses, comments tags, and attributes. Use <code class="codeph">HTML_SECTION_GROUP</code> for this type of input.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5566" headers="d76128e5528">
<p><code class="codeph">HTML_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5566 d76128e5531">
<p>Use this group type for indexing HTML documents and for defining sections in HTML documents.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5574" headers="d76128e5528">
<p><a id="d76128e5576" class="indexterm-anchor"></a><code class="codeph">JSON_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5574 d76128e5531">
<p>Use this group to create a JSON enabled context index. The <code class="codeph">JSON ENABLE</code> attribute cannot be used with <code class="codeph">XML ENABLE</code>. A section group can only be marked as <code class="codeph">JSON ENABLE</code>. If it is already marked with <code class="codeph">XML ENABLE</code>, then the path section group cannot be used for <code class="codeph">JSON ENABLE</code> and vice versa.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5599" headers="d76128e5528">
<p><code class="codeph">XML_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5599 d76128e5531">
<p>Use this group type for indexing XML documents and for defining sections in XML documents.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5607" headers="d76128e5528">
<p><code class="codeph">AUTO_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5607 d76128e5531">
<p>Use this group type to automatically create a zone section for each start-tag/end-tag pair in an XML document. The section names derived from XML tags are case sensitive as in XML.</p>
<p>Attribute sections are created automatically for XML tags that have attributes. Attribute sections are named in the form attribute@tag.</p>
<p>Stop sections, empty tags, processing instructions, and comments are not indexed.</p>
<p>The following limitations apply to automatic section groups:</p>
<ul style="list-style-type: disc;">
<li>
<p>You cannot add zone, field, or special sections to an automatic section group.</p>
</li>
<li>
<p>Automatic sectioning does not index XML document types (root elements.) However, you can define stop sections with document type.</p>
</li>
<li>
<p>The length of the indexed tags, including prefix and namespace, cannot exceed 64 bytes. Tags longer than this are not indexed.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5631" headers="d76128e5528">
<p><code class="codeph">PATH_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5631 d76128e5531">
<p>Use this group type to index XML documents. Behaves like the <code class="codeph">AUTO_SECTION_GROUP</code>.</p>
<p>The difference is that with this section group you can do path searching with the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators. Queries are also case-sensitive for tag and attribute names.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3045" id="d76128e5650" headers="d76128e5528">
<p><code class="codeph">NEWS_SECTION_GROUP</code></p>
</td>
<td class="cellalignment3046" headers="d76128e5650 d76128e5531">
<p>Use this group for defining sections in newsgroup formatted documents according to RFC 1036.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following command creates a section group called <code class="codeph">htmgroup</code> with the HTML group type.</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.create_section_group(&#39;htmgroup&#39;, &#39;HTML_SECTION_GROUP&#39;);
</pre>
<pre dir="ltr">end;
</pre>
<p>The following command creates a section group called <code class="codeph">auto</code> with the <code class="codeph">AUTO_SECTION_GROUP</code> group type to be used to automatically index tags in XML documents.</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.create_section_group(&#39;auto&#39;, &#39;AUTO_SECTION_GROUP&#39;);
</pre>
<pre dir="ltr">end;
</pre>
<p>The following example creates an Oracle <a id="d76128e5687" class="indexterm-anchor"></a>XML Search index:</p>
<pre dir="ltr">exec CTX_DDL.CREATE_SECTION_GROUP(&#39;secgroup&#39;,&#39;PATH_SECTION_GROUP&#39;);
exec CTX_DDL.SET_SEC_GRP_ATTR(&#39;secgroup&#39;,&#39;xml_enable&#39;,&#39;t&#39;);
CREATE INDEX po_ctx_idx on T(X) indextype is ctxsys.context
parameters (&#39;section group SECGROUP&#39;);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-80B82B8E-EC9F-4E79-8372-DB70F00F327C">WITHIN</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdatadic.htm#GUID-CDF963D3-36D8-4055-AFB1-367F18A048AD">Section Group Types</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28">DROP_SECTION_GROUP</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23888"></a><a id="CCREF2106"></a>
<div class="props_rev_3"><a id="GUID-F5A293F6-DD43-4542-80A1-6CBC48017628"></a>
<h2 id="CCREF-GUID-F5A293F6-DD43-4542-80A1-6CBC48017628" class="sect2"><span class="enumeration_section">8.24</span> CREATE_SHADOW_INDEX</h2>
<div>
<div class="section">
<p>Creates index metadata (or policy) for the specified index. If the index is not partitioned, then it also creates the index tables. This procedure is only supported in Enterprise Edition of Oracle Database.</p>
<p>The following changes are not supported:</p>
<ul style="list-style-type: disc;">
<li>
<p>Transition from non-composite domain index to composite, or changing the composite domain index columns.</p>
</li>
<li>
<p>Rebuild indexes that have partitioned index tables, for example, $I, $P, $K.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-F5A293F6-DD43-4542-80A1-6CBC48017628__GUID-E3327C57-A2A0-4B9A-9D32-892155DC1082">
<p class="notep1">Note:</p>
<p>For a partitioned index, you must first call this procedure to create the shadow index metadata. This procedure will not create index tables. It has no effect on query, DML, sync, or optimize operations.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.CREATE_SHADOW_INDEX(
  idx_name          IN VARCHAR2,
  parameter_string  IN VARCHAR2 DEFAULT NULL,
  parallel_degree   IN NUMBER DEFAULT 1
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3253"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F5A293F6-DD43-4542-80A1-6CBC48017628__GUID-A65AFB93-40E1-4372-970C-D164983FCE0A"><!-- --></a>idx_name</dt>
<dd>
<p>The name of a valid <code class="codeph">CONTEXT</code> indextype.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3254"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F5A293F6-DD43-4542-80A1-6CBC48017628__GUID-04F31976-245E-4604-8466-53DF98BC6950"><!-- --></a>parameter_string</dt>
<dd>
<p>For nonpartitioned index, the same string as in <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>. For partitioned index, the same string as in <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">PARAMETER</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3255"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F5A293F6-DD43-4542-80A1-6CBC48017628__GUID-4E749A88-ED62-4D4C-8CCE-38D1BE0FDA3A"><!-- --></a>parallel_degree</dt>
<dd>
<p>Reserved for future use. Specify the degree of parallelism. Parallel operation is not currently supported.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-F5A293F6-DD43-4542-80A1-6CBC48017628__GUID-11015481-5E15-46EC-8235-34DA6CF583BE">
<p class="titleinexample">Example 8-1 Scheduled Global Index RECREATE (Incremental Rebuild)</p>
<p>In this example, you have the finest control over each stage of <a href="cddlpkg.htm#GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C">RECREATE_INDEX_ONLINE</a>. Since <code class="codeph">SYNC_INDEX</code> can take a time limit, you can limit <code class="codeph">SYNC_INDEX</code> during non-business hours and incrementally recreate the index.</p>
<pre dir="ltr">/* create lexer and original index */
exec ctx_ddl.create_preference(&#39;us_lexer&#39;,&#39;basic_lexer&#39;);
create index idx on tbl(text) indextype is ctxsys.context
  parameters(&#39;lexer us_lexer&#39;);
 
/* create a new lexer */
begin
  ctx_ddl.create_preference(&#39;e_lexer&#39;,&#39;basic_lexer&#39;);
  ctx_ddl.set_attribute(&#39;e_lexer&#39;,&#39;base_letter&#39;,&#39;yes&#39;);
  ctx_ddl.create_preference(&#39;m_lexer&#39;,&#39;multi_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;default&#39;,&#39;us_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;e&#39;,&#39;e_lexer&#39;);
end;
/
 
/* add new language column to the table for multi-lexer */
alter table tbl add(lang varchar2(10) default &#39;us&#39;);
 
/* create shadow index */
exec ctx_ddl.create_shadow_index(&#39;idx&#39;,
  &#39;replace lexer m_lexer language column lang NOPOPULATE&#39;);
 
declare
  idxid integer;
begin
  /* figure out shadow index name */
  select idx_id into idxid from ctx_user_indexes
     where idx_name =&#39;IDX&#39;;
  /* populate pending */
  ctx_ddl.populate_pending(&#39;RIO$&#39;||idxid);
  /* time limited sync */
  ctx_ddl.sync_index(idx_name =&gt;&#39;RIO$&#39;||idxid,
                     maxtime =&gt;480);
  /* more sync until no pending rows for the shadow index */
end;
/* swap in the shadow index */
exec ctx_ddl.exchange_shadow_index(&#39;idx&#39;);
</pre></div>
<!-- class="example" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>The index name for the shadow index is <code class="codeph">RIO$index_id</code>. By default it will also populate index tables for nonpartitioned indexes, unless <code class="codeph">NOPOPULATE</code> is specified in <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> or in <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>. For a local partitioned index, it will only create index metadata without creating the index tables for each partition. Each index can have only one shadow index.</p>
<p>When building a nonpartitioned index online, you can first call this procedure to create index metadata and index tables. If you specify <code class="codeph">POPULATE</code>, then this procedure will populate the index, but will not do swapping. You can schedule the swapping at a later, preferred time.</p>
<p>If you specify <code class="codeph">NOPOPULATE</code>, it will only create metadata for the index tables, but will not populate them. You must perform <code class="codeph">POPULATE_PENDING</code> (CTX_DDL.<a href="cddlpkg.htm#GUID-2D450451-1C7C-4065-8EEC-BAA378B72219">POPULATE_PENDING</a>) to populate the pending queues after running this procedure, and then sync the indexes. This is referred to as <span class="italic">incremental</span> <span class="italic">re-create</span>.</p>
<p>Queries are all processed normally when this procedure is running.</p>
<p>If <code class="codeph">POPULATE</code> is specified, then DML is blocked for a very short time at the beginning of populate, after which all further DML is logged into an online pending queue and processed later.</p>
<p>Sync with CTX_DDL.<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a> runs normally on the index. <a href="cddlpkg.htm#GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55">OPTIMIZE_INDEX</a> runs without doing anything, but does not return an error.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><code class="codeph">POPULATE</code> | <code class="codeph">NOPOPULATE</code> in <a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a></p>
<p><a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> in <a href="csql.htm#GUID-4775F5FE-4569-4DF4-A7CA-B20EC6880CAB">Oracle Text SQL Statements and Operators</a></p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726">DROP_SHADOW_INDEX</a></p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a></p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a></p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-2D450451-1C7C-4065-8EEC-BAA378B72219">POPULATE_PENDING</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23889"></a><a id="CCREF23890"></a><a id="CCREF0628"></a>
<div class="props_rev_3"><a id="GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4"></a>
<h2 id="CCREF-GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4" class="sect2"><span class="enumeration_section">8.25</span> CREATE_STOPLIST</h2>
<div>
<div class="section">
<p>Use this procedure to create a new, empty stoplist. Stoplists can contain words or themes that are not to be indexed.</p>
<p>You can also create multi-language stoplists to hold language-specific stopwords. A multi-language stoplist is useful when you index a table that contains documents in different languages, such as English, German, and Japanese. When you do so, the text table must contain a language column.</p>
<p>Add either stopwords, stopclasses, or stopthemes to a stoplist using <a href="cddlpkg.htm#GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD">ADD_STOPWORD</a> , <a href="cddlpkg.htm#GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144">ADD_STOPCLASS</a> , or <a href="cddlpkg.htm#GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7">ADD_STOPTHEME</a> . Specify a stoplist in the parameter string of <a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a> or <a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> to override the default stoplist <code class="codeph">CTXSYS.DEFAULT_STOPLIST</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.CREATE_STOPLIST(
</pre>
<pre dir="ltr">stoplist_name IN VARCHAR2,
stoplist_type IN VARCHAR2 DEFAULT &#39;BASIC_STOPLIST&#39;);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3256"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4__GUID-9326752B-9261-4555-8AE4-30AFC349F5D5"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist to be created.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3257"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4__GUID-91B86CF9-5582-4A59-97DF-AA4B227C31D4"><!-- --></a>stoplist_type</dt>
<dd>
<p>Specify <code class="codeph">BASIC_STOPLIST</code> to create a stoplist for a single language. This is the default.</p>
<p>Specify <code class="codeph">MULTI_STOPLIST</code> to create a stoplist with language-specific stopwords.</p>
<p>At indexing time, the language column of each document is examined, and only the stopwords for that language are eliminated. At query time, the session language setting determines the active stopwords, like it determines the active lexer when using the multi-lexer.</p>
<div class="infobox-note" id="GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4__GUID-A60B4046-B2E6-4039-A802-9FA2D40C0B41">
<p class="notep1">Note:</p>
<p>When indexing a multi-language table with a multi-language stoplist, the table must have a language column.</p>
</div>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4__GUID-AB40B35D-6564-480C-B06E-6D1A4E3D1AED">
<p class="titleinexample">Example 8-2 Single Language Stoplist</p>
<p>The following example creates a stoplist called <code class="codeph">mystop</code>:</p>
<pre dir="ltr">begin
ctx_ddl.create_stoplist(&#39;mystop&#39;, &#39;BASIC_STOPLIST&#39;);
end;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4__GUID-1FF2B651-E4C3-4FF6-A689-6660AB9B088E">
<p class="titleinexample">Example 8-3 Multi-Language Stoplist</p>
<p>The following example creates a multi-language stoplist called <code class="codeph">multistop</code> and then adds tow language-specific stopwords:</p>
<pre dir="ltr">begin
ctx_ddl.create_stoplist(&#39;multistop&#39;, &#39;MULTI_STOPLIST&#39;);
ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;Die&#39;,&#39;german&#39;);
ctx_ddl.add_stopword(&#39;mystop&#39;, &#39;Or&#39;,&#39;english&#39;);
end;
</pre></div>
<!-- class="example" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD">ADD_STOPWORD</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144">ADD_STOPCLASS</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7">ADD_STOPTHEME</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B">DROP_STOPLIST</a> &#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> &#34;</span></p>
<p><a href="astopsup.htm#GUID-2F4889F1-B3A0-4639-95C6-FFD9C5276245">Oracle Text Supplied Stoplists</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0630"></a>
<div class="props_rev_3"><a id="GUID-52EB6A03-8E37-437D-87D8-427EC44B4B47"></a>
<h2 id="CCREF-GUID-52EB6A03-8E37-437D-87D8-427EC44B4B47" class="sect2"><span class="enumeration_section">8.26</span> DROP_INDEX_SET</h2>
<div>
<div class="section">
<p>Drops a <code class="codeph">CTXCAT</code> index set created with CTX_DDL.<a href="cddlpkg.htm#GUID-54550722-F909-4684-95AA-4178892BE2E7">CREATE_INDEX_SET</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.DROP_INDEX_SET(
     set_name    IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3258"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-52EB6A03-8E37-437D-87D8-427EC44B4B47__GUID-ECFAAD48-010F-4538-8C40-9D6675662F75"><!-- --></a>set_name</dt>
<dd>
<p>Specify the name of the index set to drop.</p>
<p>Dropping an index set drops all of the sub-indexes it contains.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2107"></a>
<div class="props_rev_3"><a id="GUID-F63F4C31-9D6B-49A2-9417-B519EC40EEC5"></a>
<h2 id="CCREF-GUID-F63F4C31-9D6B-49A2-9417-B519EC40EEC5" class="sect2"><span class="enumeration_section">8.27</span> DROP_POLICY</h2>
<div>
<div class="section">
<p>Drops a policy created with CTX_DDL.<a href="cddlpkg.htm#GUID-C7B9CE02-E9D7-45C5-BF9F-31A928EE75D3">CREATE_POLICY</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.DROP_POLICY(
     policy_name    IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3259"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F63F4C31-9D6B-49A2-9417-B519EC40EEC5__GUID-174C8599-5704-4DD9-B1D4-7394045E119D"><!-- --></a>policy_name</dt>
<dd>
<p>Specify the name of the policy to drop.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0632"></a>
<div class="props_rev_3"><a id="GUID-F996414D-5755-414B-AA48-540D0FD23666"></a>
<h2 id="CCREF-GUID-F996414D-5755-414B-AA48-540D0FD23666" class="sect2"><span class="enumeration_section">8.28</span> DROP_PREFERENCE</h2>
<div>
<div class="section">
<p>The <code class="codeph">DROP_PREFERENCE</code> procedure deletes the specified preference from the Text data dictionary. Dropping a preference does not affect indexes that have already been created using that preference.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.DROP_PREFERENCE(
     preference_name    IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3260"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-F996414D-5755-414B-AA48-540D0FD23666__GUID-8A1868F1-E019-435E-A3C8-F320A6BBDACB"><!-- --></a>preference_name</dt>
<dd>
<p>Specify the name of the preference to be dropped.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example drops the preference <code class="codeph">my_lexer</code>.</p>
<pre dir="ltr">begin
ctx_ddl.drop_preference(&#39;my_lexer&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0634"></a>
<div class="props_rev_3"><a id="GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28"></a>
<h2 id="CCREF-GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28" class="sect2"><span class="enumeration_section">8.29</span> DROP_SECTION_GROUP</h2>
<div>
<div class="section">
<p>The <code class="codeph">DROP_SECTION_GROUP</code> procedure deletes the specified section group, as well as all the sections in the group, from the Text data dictionary.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.DROP_SECTION_GROUP(
     group_name     IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3261"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28__GUID-A8C01FC9-F2FF-40FB-9297-C4CC1B3ACE49"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group to delete.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example drops the section group <code class="codeph">htmgroup</code> and all its sections:</p>
<pre dir="ltr">begin
ctx_ddl.drop_section_group(&#39;htmgroup&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528">PREFERENCE_IMPLICIT_COMMIT</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2108"></a>
<div class="props_rev_3"><a id="GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726"></a>
<h2 id="CCREF-GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726" class="sect2"><span class="enumeration_section">8.30</span> DROP_SHADOW_INDEX</h2>
<div>
<div class="section">
<p>Drops a shadow index for the specified index. When you drop a shadow index, if it is partitioned, then its metadata and the metadata of all this shadow index&#39;s partitions are dropped. This procedure also drops all the shadow index tables and cleans up any online pending queue.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.DROP_SHADOW_INDEX(
     idx_name       in VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3262"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726__GUID-2C787E16-DC0D-4756-A2B4-7A5E1D1381B1"><!-- --></a>idx_name</dt>
<dd>
<p>The name of a valid <code class="codeph">CONTEXT</code> indextype.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example drops the shadow index <code class="codeph">myshadowidx</code>:</p>
<pre dir="ltr">begin
ctx_ddl.drop_shadow_index(&#39;myshadowidx&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0636"></a>
<div class="props_rev_3"><a id="GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B"></a>
<h2 id="CCREF-GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B" class="sect2"><span class="enumeration_section">8.31</span> DROP_STOPLIST</h2>
<div>
<div class="section">
<p>Drops a stoplist from the Text data dictionary. When you drop a stoplist, you must re-create or rebuild the index for the change to take effect.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.DROP_STOPLIST(stoplist_name in varchar2);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3263"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B__GUID-D95E02BB-32C5-4A4D-BB6D-6E65F2BFCA97"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example drops the stoplist <code class="codeph">mystop</code>:</p>
<pre dir="ltr">begin
ctx_ddl.drop_stoplist(&#39;mystop&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23891"></a><a id="CCREF23892"></a><a id="CCREF23893"></a><a id="CCREF2109"></a>
<div class="props_rev_3"><a id="GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926"></a>
<h2 id="CCREF-GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926" class="sect2"><span class="enumeration_section">8.32</span> EXCHANGE_SHADOW_INDEX</h2>
<div>
<div class="section">
<p>This procedure swaps the index (or index partition) metadata and index (or index partition) data.</p>
<p>For nonpartitioned indexes, this procedure swaps both the metadata and the index data, and processes the online pending queue.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.EXCHANGE_SHADOW_INDEX(
     idx_name        IN VARCHAR2
     partition_name  IN VARCHAR2 default NULL
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3264"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926__GUID-E5900BB7-1422-4417-A5ED-5AA6D965BFA2"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the <code class="codeph">CONTEXT</code> indextype.</p>
</dd>
</dl>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3265"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926__GUID-1558E098-70AC-4560-8E1D-97FCB4C25CBE"><!-- --></a>partition_name</dt>
<dd>
<p>Specify the name of the shadow index partition. May also be NULL.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926__GUID-0B3627BF-1DFC-401D-96E9-ED80FCCA7416">
<p class="titleinexample">Example 8-4 Global Index RECREATE with Scheduled Swap</p>
<p>This example demonstrates running <code class="codeph">CTX_DDL.EXCHANGE_SHADOW_INDEX</code> during non-business hours when query failures and DML blocking can be tolerated.</p>
<pre dir="ltr">/* create lexer and original index */
exec ctx_ddl.create_preference(&#39;us_lexer&#39;,&#39;basic_lexer&#39;);
create index idx on tbl(text) indextype is ctxsys.context
  parameters(&#39;lexer us_lexer&#39;);
 
/* create a new lexer */
begin
  ctx_ddl.create_preference(&#39;e_lexer&#39;,&#39;basic_lexer&#39;);
  ctx_ddl.set_attribute(&#39;e_lexer&#39;,&#39;base_letter&#39;,&#39;yes&#39;);
  ctx_ddl.create_preference(&#39;m_lexer&#39;,&#39;multi_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;default&#39;,&#39;us_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;e&#39;,&#39;e_lexer&#39;);
end;
/
 
/* add new language column to the table for multi-lexer */
alter table tbl add(lang varchar2(10) default &#39;us&#39;);
 
/* recreate index online with the new multip-lexer */
exec ctx_ddl.create_shadow_index(&#39;idx&#39;,
  &#39;replace lexer m_lexer language column lang&#39;);
exec ctx_ddl.exchange_shadow_index(&#39;idx&#39;);
</pre></div>
<!-- class="example" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>Using EXCHANGE_SHADOW_INDEX with Nonpartitioned Indexes</p>
<p>For nonpartitioned indexes, this procedure will swap both metadata and index data, and will process the online pending queue.</p>
<p>Queries will return <span class="italic">column not indexed</span> errors when swapping metadata and index data, but queries are processed normally when processing online pending queue. The period of errors being raised should be short.</p>
<p>If you specify <code class="codeph">POPULATE</code> when you create the shadow index, and if many DML operations have been issued since the creation of the shadow index, then there could be a large pending queue. However, if you use <span class="italic">incremental recreate</span>, that is, specify <code class="codeph">NOPOPULATE</code> when you create the shadow index, and you then populate the pending queue and sync, then the online pending queue is always empty no matter how many DML operations have occurred since <code class="codeph">CREATE_SHADOW_INDEX</code> was issued.</p>
<p>When this procedure is running, DML will first fail with an error about index being in in-progress status. After that DML could be blocked (hang) if there are rows in online pending queue that need to be reapplied.</p>
<div class="infobox-note" id="GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926__GUID-99C4C8D2-6119-4BE7-9FD9-FB232493E5C7">
<p class="notep1">Note:</p>
<p>When this procedure is running, DML statements will fail with an error that the index is in &#34;in-progress status.&#34; If, when this error occurs, there are rows in the online pending queue that need to be reapplied, then the DML could be blocked and hang.</p>
</div>
<p>Using EXCHANGE_SHADOW_INDEX with Partitioned Indexes</p>
<p>For partitions that are recreated with <code class="codeph">NOSWAP</code>: when the index is partitioned, and if <span class="italic">partition_name</span> is a valid index partition, then this procedure will swap the index partition data and the index partition metadata, and will process the online pending queue for this partition.</p>
<p>This procedure swaps only one partition at a time. When you run this procedure on partitions that are recreated with <code class="codeph">NOSWAP</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p>Queries that span multiple partitions will not return consistent results across all partitions.</p>
</li>
<li>
<p>Queries on the partition that is being swapped will return errors.</p>
</li>
<li>
<p>Queries on partitions that are already swapped will be based on the new index.</p>
</li>
<li>
<p>Queries on the partitions that haven&#39;t been swapped will be based on the old index.</p>
</li>
</ul>
<p>If the <span class="italic">partition_name</span> is NULL, then this procedure will swap the index metadata. Run this procedure as the last step when recreating a local partitioned index online.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p>CTX_DDL.<span class="q">&#34;<a href="cddlpkg.htm#GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C">RECREATE_INDEX_ONLINE</a>&#34;</span></p>
<p>CTX_DDL.<span class="q">&#34;<a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a>&#34;</span></p>
<p>CTX_DDL.<span class="q">&#34;<a href="cddlpkg.htm#GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726">DROP_SHADOW_INDEX</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0638"></a>
<div class="props_rev_3"><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55"></a>
<h2 id="CCREF-GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55" class="sect2"><span class="enumeration_section">8.33</span> OPTIMIZE_INDEX</h2>
<div>
<div class="section">
<p>Use this procedure to optimize the index. Optimize your index after you synchronize it. Optimizing an index removes old data and minimizes index fragmentation, which can improve query response time. Querying and DML may proceed while optimization takes place.</p>
<p>You can optimize in fast, full, rebuild, token, token-type, or merge mode.</p>
<ul style="list-style-type: disc;">
<li>
<p>Fast mode compacts data but does not remove rows.</p>
</li>
<li>
<p>Full mode compacts data and removes rows.</p>
</li>
<li>
<p>Optimize in rebuild mode rebuilds the <code class="codeph">$I</code> table (the inverted list table) in its entirety. Rebuilding an index is often significantly faster than performing a full optimization, and is more likely to result in smaller indexes, especially if the index is heavily fragmented.</p>
<p>Rebuild optimization creates a more compact copy of the <code class="codeph">$I</code> table, and then switches the original <code class="codeph">$I</code> table and the copy. The rebuild operation will therefore require enough space to store the copy as well as the original. (If redo logging is enabled, then additional space is required in the redo log as well.) At the end of the rebuild operation, the original <code class="codeph">$I</code> table is dropped, and the space can be reused. A temporary &#34;change capture trigger&#34; is used to ensure that updates to the <code class="codeph">$I</code> table during the optimization are not lost. For this reason, the user calling <code class="codeph">OPTIMIZE_INDEX</code> in <code class="codeph">REBUILD</code> mode must have the <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> privilege.</p>
<p>Optimize in rebuild mode supports partitioning on the <code class="codeph">$I</code> table via the <code class="codeph">i_table_clause</code> attribute of the <code class="codeph">basic_storage</code> preference with the following limitations:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">i_index_clause</code> must specify using a local btree index if the <code class="codeph">$I</code> table is partitioned.</p>
</li>
<li>
<p>Partitioning schemes on the <code class="codeph">token_first</code>, <code class="codeph">token_last</code>, or <code class="codeph">token_count</code> columns are not allowed.</p>
</li>
</ul>
</li>
<li>
<p>In token mode, specify a specific token to be optimized (for example, all rows with documents containing the word <span class="italic">elections</span>). Use this mode to optimize index tokens that are frequently searched, without spending time on optimizing tokens that are rarely referenced. An optimized token can improve query response time (but only for queries on that token).</p>
</li>
<li>
<p>Token-type optimization is similar to token mode, except that the optimization is performed on field, <code class="codeph">MDATA</code>, or <code class="codeph">SDATA</code> sections (for example, sections with an <code class="codeph">&lt;A&gt;</code> tag). This is useful in keeping critical field or <code class="codeph">MDATA</code> sections optimal.</p>
</li>
<li>
<p>Use the merge mode to optimize the $I table for the CONTEXT indexes that are frequently used for DML operations. The merge operation removes the old data (deleted rows) from the $G table, compacts the existing data in the $G table, and then copies that data to the $I table. Using merge optimization for a particular token copies only that token from the $G table to the $I table.</p>
</li>
</ul>
<p>A common strategy for optimizing indexes is to perform regular token optimizations on frequently referenced terms, and to perform rebuild optimizations less frequently. (Use CTX_REPORT.<a href="crptpkg.htm#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a> to find out which queries are made most frequently.) You can perform full, fast, or token-type optimizations instead of token optimizations.</p>
<p>Some users choose to perform frequent time-limited full optimizations along with occasional rebuild optimizations.</p>
<div class="infobox-note" id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-BB0FDF13-B4A8-4151-9DAC-9CF3D1381021">
<p class="notep1">Note:</p>
<p>Optimizing an index can result in better response time only if you insert, delete, or update documents in the base table after your initial indexing operation.</p>
</div>
<p>Using this procedure to optimize the index is recommended over using the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement.</p>
<p>Optimization of a large index may take a long time. To monitor the progress of a lengthy optimization, log the optimization with CTX_OUTPUT.<a href="coutpkg.htm#GUID-390A846F-8449-4D3D-BD76-286F653B0BAD">START_LOG</a> and check the resultant logfile from time to time.</p>
<p>Note that, unlike serial optimize full, <code class="codeph">CTX_DDL.OPTIMIZE_INDEX()</code> run with <code class="codeph">optlevel</code> of <code class="codeph">FULL</code> and <code class="codeph">parallel_degree</code> &gt; 1 is not resumable. That is, it will not resume from where it left after a time-out or failure.</p>
<div class="infobox-note" id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-6E87EC6A-2129-42C6-BCEC-5155C3671697">
<p class="notep1">Note:</p>
<p>There is a very small window of time when a query might fail in <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> <code class="codeph">REBUILD</code> mode when the <code class="codeph">$I</code> table is being swapped with the optimized shadow <code class="codeph">$I</code> table.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.OPTIMIZE_INDEX( 
</pre>
<pre dir="ltr">idx_name        IN  VARCHAR2, 
optlevel        IN  VARCHAR2, 
maxtime         IN  NUMBER DEFAULT NULL, 
token           IN VARCHAR2 DEFAULT NULL,
part_name       IN VARCHAR2 DEFAULT NULL,
token_type      IN NUMBER DEFAULT NULL,
parallel_degree IN NUMBER DEFAULT 1 
</pre>
<pre dir="ltr">); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3266"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-43FBB8C0-6493-4005-AFAB-CC330EE5984E"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the index. If you do not specify an index name, then Oracle Text chooses a single index to optimize.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3267"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-41C1B28B-EFF2-4941-9E46-D7EF7B57E93B"><!-- --></a>optlevel</dt>
<dd>
<p>Specify optimization level as a string. You can specify one of the following methods for optimization:</p>
<div class="tblformalwide" id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-A1DA1EA0-C477-446B-95BC-7B9FE8AF8EE9">
<table class="cellalignment3068" summary="This table shows optimization methods.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3069" id="d76128e7124">optlevel value</th>
<th class="cellalignment3070" id="d76128e7127">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3071" id="d76128e7132" headers="d76128e7124">
<p><code class="codeph">FAST</code> or <code class="codeph">CTX_DDL.OPTLEVEL_FAST</code></p>
</td>
<td class="cellalignment3072" headers="d76128e7132 d76128e7127">
<p>This method compacts fragmented rows. However, old data is not removed.</p>
<p><code class="codeph">FAST</code> optimization is not supported for <code class="codeph">CTXCAT</code> indexes. <code class="codeph">FAST</code> optimization will not optimize <code class="codeph">$S</code> index table.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3071" id="d76128e7156" headers="d76128e7124">
<p><code class="codeph">FULL</code> or <code class="codeph">CTX_DDL.OPTLEVEL_FULL</code></p>
</td>
<td class="cellalignment3072" headers="d76128e7156 d76128e7127">
<p>In this mode you can optimize the entire index or a portion of the index. This method compacts rows and removes old data (deleted rows). Optimizing in full mode runs even when there are no deleted rows.</p>
<p>Full optimization is not supported for <code class="codeph">CTXCAT</code> indexes.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3071" id="d76128e7172" headers="d76128e7124">
<p><code class="codeph">REBUILD</code> or <code class="codeph">CTX_DDL.OPTLEVEL_REBUILD</code></p>
</td>
<td class="cellalignment3072" headers="d76128e7172 d76128e7127">
<p>This <code class="codeph">optlevel</code> rebuilds the <code class="codeph">$I</code> table (the inverted list table) to produce more compact token info rows. Like <code class="codeph">FULL</code> optimize, this mode also deletes information pertaining to deleted rows of the base table.</p>
<p><code class="codeph">REBUILD</code> is not supported for <code class="codeph">CTCAT</code> and <code class="codeph">CTXRULE</code> indexes.</p>
<p><code class="codeph">REBUILD</code> is not supported when the <code class="codeph">$I</code> table is partitioned.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3071" id="d76128e7209" headers="d76128e7124">
<p><code class="codeph">TOKEN</code> or <code class="codeph">CTX_DDL.OPTLEVEL_TOKEN</code></p>
</td>
<td class="cellalignment3072" headers="d76128e7209 d76128e7127">
<p>This method lets you specify a specific token to be optimized. Oracle Text does a full optimization on the token you specify with <tt>token</tt>. If no token type is provided, 0 (zero) will be used as the default.</p>
<p>Use this method to optimize those tokens that are searched frequently.</p>
<p>Token optimization is not supported for <code class="codeph">CTCAT</code> and <code class="codeph">CTXRULE</code> indexes.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3071" id="d76128e7233" headers="d76128e7124">
<p><code class="codeph">TOKEN_TYPE</code> or <code class="codeph">CTX_DDL.OPTLEVEL_TOKEN_TYPE</code></p>
</td>
<td class="cellalignment3072" headers="d76128e7233 d76128e7127">
<p>This optlevel optimizes on demand all tokens in the index matching the input token type.</p>
<p>When <code class="codeph">optlevel</code> is <code class="codeph">TOKEN_TYPE</code>, <span class="variable">token_type</span> must be provided.<code class="codeph">TOKEN_TYPE</code> performs <code class="codeph">FULL</code> optimize on any token of the input <span class="variable">token_type</span>. Like a <code class="codeph">TOKEN</code> optimize, <code class="codeph">TOKEN_TYPE</code> optimize does not change the <code class="codeph">FULL</code> optimize state, and runs to completion on each invocation.</p>
<p>Token_type optimization is not supported for <code class="codeph">CTCAT</code> and <code class="codeph">CTXRULE</code> indexes.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3071" id="d76128e7282" headers="d76128e7124">
<p><code class="codeph">MERGE</code> or <code class="codeph">CTX_DDL.OPTLEVEL_MERGE</code></p>
</td>
<td class="cellalignment3072" headers="d76128e7282 d76128e7127">
<p>This optlevel optimizes the <code class="codeph">$I</code> table. It removes the old data (deletes rows) from the <code class="codeph">$G</code> table, compacts the existing data in the <code class="codeph">$G</code> table, and then copies that optimized data to the <code class="codeph">$I</code> table.</p>
<p>When this option is used for a particular token, only that token gets copied from the $G table to the $I table.</p>
<p>Merge optimization should be used for <code class="codeph">CONTEXT</code> indexes with the <code class="codeph">STAGE_ITAB</code> index option enabled.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The behavior of <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> with respect to the $S index table is as follows:</p>
<div class="tblformalwide" id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-FF78C527-8695-413D-A4C8-A10C3068FAEB">
<table class="cellalignment3068" summary="This table shows the behavior of CTX_DDL.OPTIMIZE_INDEX with respect to the $S index table.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3073" id="d76128e7328">optlevel value</th>
<th class="cellalignment3074" id="d76128e7331">Will Optimize $S Index Table Yes/No</th>
<th class="cellalignment3075" id="d76128e7334">Notes</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3076" id="d76128e7339" headers="d76128e7328">
<p><code class="codeph">FAST</code> or <code class="codeph">CTX_DDL.OPTLEVEL_FAST</code></p>
</td>
<td class="cellalignment3077" headers="d76128e7339 d76128e7331">
<p>No</p>
</td>
<td class="cellalignment3078" headers="d76128e7339 d76128e7334">&nbsp;</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3076" id="d76128e7352" headers="d76128e7328">
<p><code class="codeph">FULL</code> or <code class="codeph">CTX_DDL.OPTLEVEL_FULL</code></p>
</td>
<td class="cellalignment3077" headers="d76128e7352 d76128e7331">
<p>Yes</p>
</td>
<td class="cellalignment3078" headers="d76128e7352 d76128e7334">
<ul style="list-style-type: disc;">
<li>
<p>The optimize process will optimize $I table first. Once $I table optimize is finished, <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> will continue on to optimize $S index table.</p>
</li>
<li>
<p><code class="codeph">MAXTIME</code> will also be honored. Once <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> completes optimizing $S rows for a given <code class="codeph">SDATA_ID</code>, it will check <code class="codeph">MAXTIME</code> and exit if total elapsed time (including time taken to optimize $I) exceeds specified <code class="codeph">MAXTIME</code>. The next <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> with <code class="codeph">optlevel=&gt;&#39;FULL&#39;</code> will pick up where it left off.</p>
</li>
<li>
<p>$S table optimize will be done in serial.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3076" id="d76128e7398" headers="d76128e7328">
<p><code class="codeph">REBUILD</code> or <code class="codeph">CTX_DDL.OPTLEVEL_REBUILD</code></p>
</td>
<td class="cellalignment3077" headers="d76128e7398 d76128e7331">
<p>Yes</p>
</td>
<td class="cellalignment3078" headers="d76128e7398 d76128e7334">
<ul style="list-style-type: disc;">
<li>
<p>$S optimize will start after $I rebuild finishes.</p>
</li>
<li>
<p>$S optimize in this case will be processed the same way as $S optimize in <code class="codeph">FULL</code> mode. $S table is optimized in place, not rebuilt.</p>
<p><span class="bold">Note:</span> If for some reason $S optimize exits abnormally, then it is recommended that you use <code class="codeph">optlevel=&gt;TOKEN_TYPE</code> to optimize $S to avoid rebuilding the $I table again.</p>
</li>
<li>
<p>$S table optimize will be done in serial.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3076" id="d76128e7430" headers="d76128e7328">
<p><code class="codeph">TOKEN</code> or <code class="codeph">CTX_DDL.OPTLEVEL_TOKEN</code></p>
</td>
<td class="cellalignment3077" headers="d76128e7430 d76128e7331">
<p>No</p>
</td>
<td class="cellalignment3078" headers="d76128e7430 d76128e7334">&nbsp;</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3076" id="d76128e7443" headers="d76128e7328">
<p><code class="codeph">TOKEN_TYPE</code> or <code class="codeph">CTX_DDL.OPTLEVEL_TOKEN_TYPE</code></p>
</td>
<td class="cellalignment3077" headers="d76128e7443 d76128e7331">
<p>Yes</p>
</td>
<td class="cellalignment3078" headers="d76128e7443 d76128e7334">
<p>You can optimize $S rows for a given <code class="codeph">SDATA_ID</code> by setting <code class="codeph">optlevel =&gt; TOKEN_TYPE</code> and the <code class="codeph">TOKEN_TYPE</code> parameter to the target <code class="codeph">SDATA_ID</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3268"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-73052D85-913C-401B-A900-24B8352E32E6"><!-- --></a>maxtime</dt>
<dd>
<p>Specify maximum optimization time, in minutes, for <code class="codeph">FULL</code> optimize.</p>
<p>When you specify the symbol <code class="codeph">CTX_DDL</code>.<code class="codeph">MAXTIME_UNLIMITED</code> (or pass in NULL), the entire index is optimized. This is the default.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3269"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-DC89C804-D45E-49F0-A814-5C82BEBEDBDA"><!-- --></a>token</dt>
<dd>
<p>Specify the token to be optimized.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3270"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-A903E208-5AE3-495C-B274-D4DE33EEE0A7"><!-- --></a>part_name</dt>
<dd>
<p>If your index is a local index, then you must specify the name of the index partition to synchronize otherwise an error is returned.</p>
<p>If your index is a global, nonpartitioned index, then specify NULL, which is the default.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3271"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-7C99E656-EDAC-4F71-8044-8EF3F584F1D4"><!-- --></a>token_type</dt>
<dd>
<p>Specify the <code class="codeph">token_type</code> to be optimized.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3272"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-28E079B1-D5CA-4264-B1C0-A1C5CE174C55__GUID-A842525D-DA9E-4572-9D2C-63C5D6BA09F2"><!-- --></a>parallel_degree</dt>
<dd>
<p>Specify the parallel degree as a number for parallel optimization. The actual parallel degree depends on your resources.</p>
<p>Because the <code class="codeph">optlevel</code> values are executed serially, this setting is ignored these values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">TOKEN</code> or <code class="codeph">CTX_DDL.OPTLEVEL_TOKEN</code></p>
</li>
<li>
<p><code class="codeph">FAST</code> or <code class="codeph">CTX_DDL.OPTLEVEL_FAST</code></p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<p>The following two examples are equivalent ways of optimizing an index using fast optimization:</p>
<pre dir="ltr">begin 
  ctx_ddl.optimize_index(&#39;myidx&#39;,&#39;FAST&#39;); 
end;

begin
  ctx_ddl.optimize_index(&#39;myidx&#39;,CTX_DDL.OPTLEVEL_FAST);
end;
</pre>
<p>The following example optimizes the index token <span class="italic">Oracle</span>:</p>
<pre dir="ltr">begin
  ctx_ddl.optimize_index(&#39;myidx&#39;,&#39;token&#39;, TOKEN=&gt;&#39;Oracle&#39;);
end;
</pre>
<p>To optimize all tokens of field section <code class="codeph">MYSEC</code> in index <code class="codeph">MYINDEX</code>:</p>
<pre dir="ltr">begin
  ctx_ddl.optimize_index(&#39;myindex&#39;, ctx_ddl.optlevel_token_type,
     token_type=&gt; ctx_report.token_type(&#39;myindex&#39;,&#39;field mysec text&#39;));end;
</pre>
<p>The following two examples are equivalent ways of optimizing an index using merge optimization:</p>
<pre dir="ltr">begin 
  ctx_ddl.optimize_index(&#39;idx&#39;,&#39;MERGE&#39;); 
end;

begin
  ctx_ddl.optimize_index(&#39;idx&#39;,CTX_DDL.OPTLEVEL_MERGE);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>You can run <code class="codeph">CTX_DDL.SYNC_INDEX</code> and <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> at the same time. You can also run <code class="codeph">CTX_DDL.SYNC_INDEX</code> and <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> with parallelism at the same time. However, you should not:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run <code class="codeph">CTX_DDL.SYNC_INDEX</code> with parallelism at the same time as <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code></p>
</li>
<li>
<p>Run <code class="codeph">CTX_DDL.SYNC_INDEX</code> with parallelism at the same time as <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> with parallelism.</p>
</li>
</ul>
<p>If you should run one of these combinations, no error is generated; however, one operation will wait until the other is done.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p>CTX_DDL.<span class="q">&#34;<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2110"></a>
<div class="props_rev_3"><a id="GUID-2D450451-1C7C-4065-8EEC-BAA378B72219"></a>
<h2 id="CCREF-GUID-2D450451-1C7C-4065-8EEC-BAA378B72219" class="sect2"><span class="enumeration_section">8.34</span> POPULATE_PENDING</h2>
<div>
<div class="section">
<p>This procedure populates the pending queue with every rowid in the base table or table partition. This procedure is only supported for <code class="codeph">CONTEXT</code> indexes.</p>
<p>This procedure is valuable for large installations that cannot afford to have the indexing process run continuously, and, therefore, need finer control over creating text indexes. The preferred method is to create an empty index, place all the rowids into the pending queue, and build the index through CTX_DDL.<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">ctx_ddl.populate_pending(
  idx_name  IN VARCHAR2,
  part_name IN VARCHAR2 DEFAULT NULL
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3273"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D450451-1C7C-4065-8EEC-BAA378B72219__GUID-1C822B27-8E94-4ECB-BC55-9691C01E6B5C"><!-- --></a>idx_name</dt>
<dd>
<p>Name of the <code class="codeph">CONTEXT</code> indextype.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3274"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2D450451-1C7C-4065-8EEC-BAA378B72219__GUID-E2F50B72-CC1A-430E-AAB0-2DDB5A72AD83"><!-- --></a>part_name</dt>
<dd>
<p>Name of the index partition, if any. Must be provided for local partitioned indexes and must be NULL for global, nonpartitioned indexes.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>The <code class="codeph">SYNC_INDEX</code> is blocked for the duration of the processing. The index unit must be totally empty (<code class="codeph">idx_docid_count</code> = 0, <code class="codeph">idx_nextid</code> = 1). The rowids of rows waiting to be indexed are inserted into table <code class="codeph">ctxsys.dr$pending</code>. You should ensure that there is sufficient space in this table to hold the rowids of the base table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008">SYNC_INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726">DROP_SHADOW_INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C">RECREATE_INDEX_ONLINE</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24134"></a>
<div class="props_rev_3"><a id="GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528"></a>
<h2 id="CCREF-GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528" class="sect2"><span class="enumeration_section">8.35</span> PREFERENCE_IMPLICIT_COMMIT</h2>
<div>
<div class="section">
<p>This variable, set at the package level for CTX_DDL, determines whether procedures related to <code class="codeph">CTX_DDL</code> preferences issue an implicit commit and is session duration.</p>
<p>You can set the <code class="codeph">PREFERENCE_IMPLICIT_COMMIT</code> variable for the procedures listed in the following table.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528__GUID-9FB99919-84EB-4098-92D1-923B3285B52D">
<table class="cellalignment3028" summary="This table lists the procedures for which the PREFERENCE_IMPLICIT_COMMIT variable can be set.">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3034" id="d76128e7821">Procedure Name</th>
<th class="cellalignment3034" id="d76128e7824">Procedure Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7829" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-DECE76B3-41DB-493D-B698-66ACDDC72197">ADD_ATTR_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7829 d76128e7824">
<p><a href="cddlpkg.htm#GUID-54550722-F909-4684-95AA-4178892BE2E7">CREATE_INDEX_SET</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7840" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7840 d76128e7824">
<p><a href="cddlpkg.htm#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7851" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-2C2C74B4-3117-4E62-9A96-194869EB3EDB">ADD_INDEX</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7851 d76128e7824">
<p><a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7862" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-38A699AD-C8D4-4AB4-9AF5-BE07B761F25B">ADD_MDATA_COLUMN</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7862 d76128e7824">
<p><a href="cddlpkg.htm#GUID-3336B8E9-13FB-4997-A9AD-8D9A207B10C4">CREATE_STOPLIST</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7873" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7873 d76128e7824">
<p><a href="cddlpkg.htm#GUID-F996414D-5755-414B-AA48-540D0FD23666">DROP_PREFERENCE</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7884" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7884 d76128e7824">
<p><a href="cddlpkg.htm#GUID-2F784783-86AC-4125-BD0E-C0C43FD6BC28">DROP_SECTION_GROUP</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7895" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-985802C7-D4DF-4139-9723-B7030BDE1791">ADD_SDATA_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7895 d76128e7824">
<p><a href="cddlpkg.htm#GUID-36123DEE-5BB1-4061-9A69-21A0C5D7F96B">DROP_STOPLIST</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7906" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7906 d76128e7824">
<p><a href="cddlpkg.htm#GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B">REMOVE_INDEX</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7917" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144">ADD_STOPCLASS</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7917 d76128e7824">
<p><a href="cddlpkg.htm#GUID-2DF68E1B-7328-4650-9164-658E351702BD">REMOVE_SECTION</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7928" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-415852F3-44BF-4EA9-BF78-54B66CDD3897">ADD_STOP_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7928 d76128e7824">
<p><a href="cddlpkg.htm#GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33">REMOVE_SUB_LEXER</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7939" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7">ADD_STOPTHEME</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7939 d76128e7824">
<p><a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7951" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD">ADD_STOPWORD</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7951 d76128e7824">
<p><a href="cddlpkg.htm#GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E">UNSET_ATTRIBUTE</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7962" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D">ADD_SUB_LEXER</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7962 d76128e7824">
<p><a href="cddlpkg.htm#GUID-99AE0761-6172-4282-9FA0-4C5256B9528D">UPDATE_SUB_LEXER</a></p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3035" id="d76128e7973" headers="d76128e7821">
<p><a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a></p>
</td>
<td class="cellalignment3035" headers="d76128e7973 d76128e7824">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<div class="infobox-note" id="GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528__GUID-80A21B9A-1F81-4C05-A8A5-0C489494354A">
<p class="notep1">Note:</p>
<p>The <code class="codeph">REMOVE_STOPCLASS</code>, <code class="codeph">REMOVE_STOPTHEME</code>, and <code class="codeph">REMOVE_STOPWORD</code> procedures do not issue an implicit commit, and, therefore, do not use the <code class="codeph">PREFERENCE_IMPLICIT_COMMIT</code> flag.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">exec CTX_DDL.PREFERENCE_IMPLICIT_COMMIT := TRUE|FALSE ;
</pre>
<p>The default value of the <code class="codeph">PREFERENCE_IMPLICIT_COMMIT</code> variable is <code class="codeph">TRUE</code>. When this variable is set to <code class="codeph">FALSE</code>, procedures related to <code class="codeph">CTX_DDL</code> preferences will not issue an implicit commit. This enables you to easily rollback multiple preference changes. This variable is session duration.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example turns off implicit commit.</p>
<pre dir="ltr">exec CTX_DDL.PREFERENCE_IMPLICIT_COMMIT : update_sub_lexer = FALSE;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="CCREF23894"></a><a id="CCREF23895"></a><a id="CCREF23896"></a><a id="CCREF23897"></a><a id="CCREF23898"></a><a id="CCREF23899"></a><a id="CCREF23900"></a><a id="CCREF2111"></a>
<div class="props_rev_3"><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C"></a>
<h2 id="CCREF-GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C" class="sect2"><span class="enumeration_section">8.36</span> RECREATE_INDEX_ONLINE</h2>
<div>
<div class="section">
<p>Recreates the specified index, or recreates the passed-in index partition if the index is local partitioned. For global nonpartitioned indexes, this is a one-step procedure. For local partitioned indexes, this procedure must be run separately on every partition after first using <a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a> to create a shadow policy (or metadata). This procedure is only supported in Enterprise Edition of Oracle Database.</p>
<p>The following changes are not supported:</p>
<ul style="list-style-type: disc;">
<li>
<p>Transitioning from non-composite domain index to composite, or changing the composite domain index columns.</p>
</li>
<li>
<p>Rebuilding indexes that have partitioned index tables, for example, <code class="codeph">$I</code>, <code class="codeph">$P</code>, <code class="codeph">$K</code>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.RECREATE_INDEX_ONLINE(
   idx_name          IN VARCHAR2,
   parameter_string  IN VARCHAR2 default NULL,
   parallel_degree   IN NUMBER default 1,
   partition_name    IN VARCHAR2 default NULL
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3275"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-B79FBC0F-C45E-4008-9388-6BC37C61C078"><!-- --></a>idx_name</dt>
<dd>
<p>The name of a valid <code class="codeph">CONTEXT</code> indextype.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3276"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-DCED12C8-355E-4466-BB2E-820423CE8452"><!-- --></a>parameter_string</dt>
<dd>
<p>If the index is a global nonpartitioned index, specify the same index-level parameter string as in <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>. Must start with <code class="codeph">REPLACE</code>, if it is not <code class="codeph">NULL</code>. Optionally specify <code class="codeph">SWAP</code> or <code class="codeph">NOSWAP</code>. The default is <code class="codeph">SWAP</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3277"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-9919ABB6-E863-47F3-BE99-2C99F6C57D9B"><!-- --></a>parallel_degree</dt>
<dd>
<p>Reserved for future use. Specify the degree of parallelism. Parallel operation is not supported in the current release.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3278"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-0601C13F-1889-467A-BAE7-EA0D4344B78E"><!-- --></a>partition_name</dt>
<dd>
<p>Specify the name of a valid index partition for a local partitioned index. Otherwise, the default is <code class="codeph">NULL</code>. If the index is partitioned, then first pass a partition name, and then specify the partition-level parameter string for <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code> <code class="codeph">PARTITION</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-5CBAA3E9-478C-4096-BE73-29CE7A09ECCD">
<p class="titleinexample">Example 8-5 Recreate Simple Global Index</p>
<p>The following example creates an index <code class="codeph">idx</code> with a <code class="codeph">BASIC_LEXER</code>-based preference <code class="codeph">us_lexer</code>. It then recreates the index with a new <code class="codeph">MULTI_LEXER</code> based preference <code class="codeph">m_lexer</code> in one step. You can use this one step approach when you do not mind that a query might fail for a small window of time at the end of the operation, and DML might get blocked at the beginning for a short time and again at the end.</p>
<pre dir="ltr">/* create lexer and original index */
exec ctx_ddl.create_preference(&#39;us_lexer&#39;,&#39;basic_lexer&#39;);
create index idx on tbl(text) indextype is ctxsys.context
  parameters(&#39;lexer us_lexer&#39;);
 
/* create a new lexer */
begin
  ctx_ddl.create_preference(&#39;e_lexer&#39;,&#39;basic_lexer&#39;);
  ctx_ddl.set_attribute(&#39;e_lexer&#39;,&#39;base_letter&#39;,&#39;yes&#39;);
  ctx_ddl.create_preference(&#39;m_lexer&#39;,&#39;multi_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;default&#39;,&#39;us_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;e&#39;,&#39;e_lexer&#39;);
end;
/
 
/* add new language column to the table for multi-lexer */
alter table tbl add(lang varchar2(10) default &#39;us&#39;);
 
/* recreate index online with the new multip-lexer */
exec ctx_ddl.recreate_index_online(&#39;idx&#39;,
  &#39;replace lexer m_lexer language column lang&#39;);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__CHDJEFFH">
<p class="titleinexample">Example 8-6 Local Index Recreate with All-At-Once Swap</p>
<p>The following example creates a local partitioned index <code class="codeph">idxp</code> with a basic lexer <code class="codeph">us_lexer</code>. It has two index partitions <code class="codeph">idx_p1</code> and <code class="codeph">idx_p2</code>. It then recreates a local partitioned index <code class="codeph">idxp</code> online with partition <code class="codeph">idx_p1</code>, which will have a new storage preference <code class="codeph">new_store</code>. The swapping of the partition metadata and index partition data occur at the end. In this example, queries spanning multiple partitions return consistent results across partitions when recreate is in process, except at the end when <a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a> is running. The extra space required is the combined index size of partition <code class="codeph">idx_p1</code> and <code class="codeph">idx_p2</code>.</p>
<pre dir="ltr">/* create a basic lexer and a local partition index with the lexer*/
exec ctx_ddl.create_preference(&#39;us_lexer&#39;,&#39;basic_lexer&#39;);
create index idxp on tblp(text) indextype is ctxsys.context local
  (partition idx_p1,
   partition idx_p2)
 parameters(&#39;lexer us_lexer&#39;);
 
/* create new preferences  */
begin
  ctx_ddl.create_preference(&#39;my_store&#39;,&#39;basic_storage&#39;);
  ctx_ddl.set_attribute(&#39;my_store&#39;,&#39;i_table_clause&#39;,&#39;tablespace tbs&#39;);
end;
/
begin
  ctx_ddl.create_preference(&#39;e_lexer&#39;,&#39;basic_lexer&#39;);
  ctx_ddl.set_attribute(&#39;e_lexer&#39;,&#39;base_letter&#39;,&#39;yes&#39;);
  ctx_ddl.create_preference(&#39;m_lexer&#39;,&#39;multi_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;default&#39;,&#39;us_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;e&#39;,&#39;e_lexer&#39;);
end;
/
 
/* add new language column */
alter table tblp add column (lang varchar2(10) default &#39;us&#39;);
 
/* create a shadow policy with a new lexer */
exec ctx_ddl.create_shadow_index(&#39;idxp&#39;, null,
  &#39;replace lexer m_lexer language column lang&#39;);
 
/* recreate every index partition online without swapping */
exec ctx_ddl.recreate_index_online(&#39;idxp&#39;,
   &#39;replace storage my_store NOSWAP&#39;, 1, &#39;idx_p1&#39;);
exec ctx_ddl.recreate_index_online(&#39;idxp&#39;,&#39;replace NOSWAP&#39;,1,&#39;idx_p2&#39;);
 
/* exchange in shadow index partition all at once */
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;,
      &#39;idx_p1&#39;) /* exchange index partition data*/
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;,
      &#39;idx_p2&#39;) /* exchange index partition data*/
 
/* exchange in shadow index metadata */
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;)
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-3BD17406-FD86-46B6-9BF6-4AD92956A2BF">
<p class="titleinexample">Example 8-7 Local Index Recreate with Per-Partition Swap</p>
<p>This example performs the same tasks as <a href="cddlpkg.htm#GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__CHDJEFFH">Example 8-6</a>, except that each index partition is swapped in as it is completed. Queries across all partitions may return inconsistent results in this example.</p>
<pre dir="ltr">/* create a basic lexer and a local partition index with the lexer*/
exec ctx_ddl.create_preference(&#39;us_lexer&#39;,&#39;basic_lexer&#39;);
create index idxp on tblp(text) indextype is ctxsys.context local
  (partition idx_p1,
   partition idx_p2)
 parameters(&#39;lexer us_lexer&#39;);
 
/* create new preferences  */
begin
  ctx_ddl.create_preference(&#39;my_store&#39;,&#39;basic_storage&#39;);
  ctx_ddl.set_attribute(&#39;my_store&#39;,&#39;i_table_clause&#39;,&#39;tablespace tbs&#39;);
end;
/
begin
  ctx_ddl.create_preference(&#39;e_lexer&#39;,&#39;basic_lexer&#39;);
  ctx_ddl.set_attribute(&#39;e_lexer&#39;,&#39;base_letter&#39;,&#39;yes&#39;);
  ctx_ddl.create_preference(&#39;m_lexer&#39;,&#39;multi_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;default&#39;,&#39;us_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;e&#39;,&#39;e_lexer&#39;);
end;
/
 
/* add new language column */
alter table tblp add column (lang varchar2(10) default &#39;us&#39;);
 
/* create a shadow policy with a new lexer *
exec ctx_ddl.create_shadow_index(&#39;idxp&#39;,
  &#39;replace lexer m_lexer language column lang&#39;);
 
/* recreate every index partition online and swap (default) */
exec ctx_ddl.recreate_index_online(&#39;idxp&#39;,
       &#39;replace storage my_store&#39;, 1, &#39;idx_p1&#39;);
exec ctx_ddl.recreate_index_online(&#39;idxp&#39;, &#39;replace SWAP&#39;, 1, &#39;idx_p2&#39;,
   
    /* exchange in shadow index metadata */
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;) 
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__CHDDIJFH">
<p class="titleinexample">Example 8-8 Scheduled Local Index Recreate with All-At-Once Swap</p>
<p>This example shows the incremental recreation of a local partitioned index, where partitions are all swapped at the end.</p>
<pre dir="ltr">/* create a basic lexer and a local partition index with the lexer*/
exec ctx_ddl.create_preference(&#39;us_lexer&#39;,&#39;basic_lexer&#39;);
create index idxp on tblp(text) indextype is ctxsys.context local
  (partition idx_p1,
   partition idx_p2)
 parameters(&#39;lexer us_lexer&#39;);
 
/* create new preferences  */
begin
  ctx_ddl.create_preference(&#39;my_store&#39;,&#39;basic_storage&#39;);
  ctx_ddl.set_attribute(&#39;my_store&#39;,&#39;i_table_clause&#39;,&#39;tablespace tbs&#39;);
end;
/
begin
  ctx_ddl.create_preference(&#39;e_lexer&#39;,&#39;basic_lexer&#39;);
  ctx_ddl.set_attribute(&#39;e_lexer&#39;,&#39;base_letter&#39;,&#39;yes&#39;);
  ctx_ddl.create_preference(&#39;m_lexer&#39;,&#39;multi_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;default&#39;,&#39;us_lexer&#39;);
  ctx_ddl.add_sub_lexer(&#39;m_lexer&#39;,&#39;e&#39;,&#39;e_lexer&#39;);
end;
/
 
/* add new language column */
alter table tblp add column (lang varchar2(10) default &#39;us&#39;);
 
/* create a shadow policy with a new lexer *
exec ctx_ddl.create_shadow_index(&#39;idxp&#39;,
  &#39;replace lexer m_lexer language column lang&#39;);
/* create shadow partition with new storage preference */
exec ctx_ddl.recreate_index_online(&#39;idxp&#39;, &#39;replace storage ctxsys.default_storage nopopulate&#39;,1,&#39;idx_p1&#39;);
exec ctx_ddl.recreate_index_online(&#39;idxp&#39;, &#39;replace storage ctxsys.default_storage nopopulate&#39;,1,&#39;idx_p2&#39;);
 
declare
  idxid integer;
  ixpid integer;
begin
  select idx_id into idxid from ctx_user_indexes
    where idx_name = &#39;IDXP&#39;;
  select ixp_id into ixpid from ctx_user_index_partitions
    where ixp_index_name = &#39;IDXP&#39;
          and ixp_index_partition_name = &#39;IDX_P1&#39;;
  /* populate pending */
  ctx_ddl.populate_pending(&#39;RIO$&#39;||idxid, &#39;RIO$&#39;||idxid||&#39;#&#39;||ixpid);
  /* incremental sync
  ctx_ddl.sync_index(&#39;RIO$&#39;||idxid, null, &#39;RIO$&#39;||idxid||&#39;#&#39;||ixpid,
                      maxtime=&gt;400);
  /* more incremental sync until no more pending rows */
 
  select ixp_id into ixpid from ctx_user_index_partitions
    where ixp_index_name = &#39;IDXP&#39;
          and ixp_index_partition_name = &#39;IDX_P2&#39;;
  /* populate pending */
  ctx_ddl.populate_pending(&#39;RIO$&#39;||idxid, &#39;RIO$&#39;||idxid||&#39;#&#39;||ixpid);
  /* incremental sync
  ctx_ddl.sync_index(&#39;RIO$&#39;||idxid, null, &#39;RIO$&#39;||idxid||&#39;#&#39;||ixpid,
                      maxtime=&gt;400);
  /* more incremental sync until no more pending rows */
end;
/
  
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;,&#39;idx_p1&#39;);
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;,&#39;idx_p2&#39;);
exec ctx_ddl.exchange_shadow_index(&#39;idxp&#39;);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-BB047CE7-5E74-4BE4-9969-186AD3BBB374">
<p class="titleinexample">Example 8-9 Schedule Local Index Recreate with Per-Partition Swap</p>
<p>For incremental recreate where partitions are swapped as they becomes available, follow the steps in example <a href="cddlpkg.htm#GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__CHDDIJFH">Example 8-8</a>, except instead of waiting until all syncs are finished before starting exchange shadow index, <a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a> is done for each partition right after sync is finished.</p>
</div>
<!-- class="example" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>Using RECREATE_INDEX_ONLINE with Global Nonpartitioned Indexes</p>
<p>For global indexes, this procedure provides a one-step process to recreate an index online. It recreates an index, with new preference values, while preserving base table DML and query capability during the recreate process.</p>
<div class="infobox-note" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-17B5C665-0C52-4FA3-A95F-B7DF256F7160">
<p class="notep1">Note:</p>
<p>Because the new index is created alongside the existing index, this operation requires additional storage roughly equal to the size of the existing index.</p>
</div>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3279"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-521E85D1-F8A2-4628-8350-5B855827FF49"><!-- --></a>DML Behavior</dt>
<dd>
<p>Because this procedure is performed online, DML on the base table are permitted during this operation, and are processed as normal. All DML statements that occur during <code class="codeph">RECREATE_INDEX_ONLINE</code> are logged into an online pending queue.</p>
<p>Towards the end of the recreate operation, there will be a short duration when DML will fail with an error being raised stating that the index is in an in-progress status. DML may hang again during the process, and the duration will depend on how many DML are logged in the online pending queue since the start of the recreate process.</p>
<p>Note that after the recreate index operation is complete, new information, from all the DML that becomes pending since <code class="codeph">RECREATE_INDEX_ONLINE</code> started, may not be immediately reflected. As with creating an index with <code class="codeph">INDEXTYPE</code> <code class="codeph">IS</code> <code class="codeph">ctxsys.context</code> <code class="codeph">ONLINE</code>, the index should be synchronized after the recreate index operation is complete, to bring it fully up-to-date.</p>
<div class="infoboxnotealso" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-EC7FC053-E04E-441D-BDE0-860040088674">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>CTX_DDL.<a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a> and CTX_DDL.<a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a> for information about how to manually go through each stage of recreation, and to schedule each step to run at a preferred time</p>
</li>
<li>
<p>The <code class="codeph">ONLINE</code> parameter under <span class="q">&#34;<a href="csql.htm#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862__I997737">Syntax for CONTEXT Index Type</a>&#34;</span></p>
</li>
</ul>
</div>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3280"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-F5527674-76DF-4BB3-8F19-5F43B2425918"><!-- --></a>Sync and Optimize Behavior</dt>
<dd>
<p>Syncs issued against the index during the recreate operation are processed against the old, existing data. Syncs are also blocked during the same window when queries return errors. Optimize commands issued against the index during the recreate operation return immediately without error and without processing.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3281"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-D3AA23B4-01B5-4788-9CA4-4172AAD7A036"><!-- --></a>Query Behavior</dt>
<dd>
<p>During the recreate operation, the index can be queried normally most of the time. Queries return results based on the existing index and policy (or metadata) until after the final swap.</p>
<p>There is a short interval towards the end of <code class="codeph">RECREATE_INDEX_ONLINE</code> when queries will return an error indicating that the column is not indexed. This duration should be short for regular queries. It is mainly the time taken for swapping data segments of the shadow index tables and the index tables, plus the time to delete all the rows in the pending queue. This is the same window of time when DML will fail.</p>
<p>During <code class="codeph">RECREATE_INDEX_ONLINE</code>, if you issue DML statements and synchronize them, then you will be able to see the new rows when you query on the existing index. However, after <code class="codeph">RECREATE_INDEX_ONLINE</code> finishes (swapping completes and query is on the new index) and before sync is performed, it is possible that you will not be able to query on the new rows, which once could be queried on the old index.</p>
</dd>
</dl>
<div class="infobox-note" id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-772F81A1-2857-4130-A5ED-FD6C7C030024">
<p class="notep1">Note:</p>
<p>Transactional queries are not supported.</p>
</div>
<p>Using RECREATE_INDEX_ONLINE with Local Partitioned Indexes</p>
<p>If the index is local partitioned, you cannot recreate index in one step. You must first create a shadow policy, and then run this procedure for every partition. You can specify <code class="codeph">SWAP</code> or <code class="codeph">NOSWAP</code> to indicate whether <code class="codeph">RECREATE_INDEX_ONLINE</code> partition will swap the index partition data and index partition metadata or not. If the partition was built with <code class="codeph">NOSWAP</code>, then another call to <code class="codeph">EXCHANGE_SHADOW_INDEX</code> must be invoked later against this partition.</p>
<p>This procedure can also be used to update the metadata (for example, storage preference) of each partition when you specify <code class="codeph">NOPOPULATE</code> in the parameter string. This is useful for incremental building of a shadow index through time-limited sync.</p>
<p>If <code class="codeph">NOPOPULATE</code> is specified, then <code class="codeph">NOSWAP</code> is silently enforced.</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3282"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-2FD0492E-6BAF-4DA5-BFA6-7FB68361370C"><!-- --></a>NOSWAP Behavior</dt>
<dd>
<p>During the recreate of the index partition, since no swapping is performed, queries on the partition are processed regularly. Until the swapping stage is reached, queries spanning multiple partitions return consistent results across partitions.</p>
<p>DML and sync are processed normally. Running optimize on partitions that are being recreated, or that have been built (but not swapped), simply returns without doing anything. Running optimize on a partition that has not been rebuilt processes normally.</p>
<p>As with a global index, when all of the partitions use <code class="codeph">NOSWAP</code>, the additional storage requirement is roughly equal to the size of the existing index.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3283"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9FD66A14-B8AA-4D5B-8697-81A60FB02C5C__GUID-BD179176-A694-418D-B724-2B00886A8D42"><!-- --></a>SWAP Behavior</dt>
<dd>
<p>Because index partition data and metadata are swapped after index recreate, queries that span multiple partitions will not return consistent results from partition to partition, but will always be correct with respect to each index partition. There is also a short interval towards the end of partition recreate, when the index partition is swapped, during which a query will return a &#34;column not indexed&#34; error.</p>
<p>When partitions are recreated with <code class="codeph">SWAP</code>, the additional storage requirement for the operation is equal to the size of the existing index partition.</p>
<p>DML on the partition is blocked. Sync is also blocked during swapping.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><a href="cddlpkg.htm#GUID-F5A293F6-DD43-4542-80A1-6CBC48017628">CREATE_SHADOW_INDEX</a></p>
<p><a href="cddlpkg.htm#GUID-A6B9EB59-27AE-48B9-8A0B-DF4A9ACE0726">DROP_SHADOW_INDEX</a></p>
<p><a href="cddlpkg.htm#GUID-652D781D-B58F-4D3D-BEF6-8B3BD40C3926">EXCHANGE_SHADOW_INDEX</a></p>
<p><a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24096"></a>
<div class="props_rev_3"><a id="GUID-4A11C81F-46EF-4EA9-8628-4E8BDDC5C656"></a>
<h2 id="CCREF-GUID-4A11C81F-46EF-4EA9-8628-4E8BDDC5C656" class="sect2"><span class="enumeration_section">8.37</span> REM_SEC_GRP_ATTR_VAL</h2>
<div>
<div class="section">
<p>Removes a specific section group attribute value from the list of values of an existing section group attribute.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REM_SEC_GRP_ATTR_VAL(group_name IN VARCHAR2,
                      attribute_name  IN VARCHAR2,   
                      attribute_value IN VARCHAR2); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3284"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4A11C81F-46EF-4EA9-8628-4E8BDDC5C656__GUID-B8D60FEF-212C-49F0-A0A6-8A0CE10DBC57"><!-- --></a>group_name</dt>
<dd>
<p>Specify the section group name.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3285"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4A11C81F-46EF-4EA9-8628-4E8BDDC5C656__GUID-C4D08ABD-0AC5-43D5-860C-2A90E2176BB8"><!-- --></a>attribute_name</dt>
<dd>
<p>Specify the name of the section group attribute.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3286"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4A11C81F-46EF-4EA9-8628-4E8BDDC5C656__GUID-73496540-0350-4924-8E4F-9F8444B853E4"><!-- --></a>attribute_value</dt>
<dd>
<p>Specify the section group attribute value.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24097"></a>
<div class="props_rev_3"><a id="GUID-267D11E9-B194-4D45-B8BE-A4AF1D79FB11"></a>
<h2 id="CCREF-GUID-267D11E9-B194-4D45-B8BE-A4AF1D79FB11" class="sect2"><span class="enumeration_section">8.38</span> REMOVE_AUTO_OPTIMIZE</h2>
<div>
<div class="section">
<p>Removes an index or partition from the list of indexes subject to auto optimization. No new auto optimization calls are made to this index. The removal takes effect immediately.</p>
<p>If the specified index is not in the existing list of indexes, then an error occurs. For partitioned indexes, an error occurs when the partition name is not specified.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_AUTO_OPTIMIZE(
</pre>
<pre dir="ltr">    idx_name       IN VARCHAR2,
    part_name      IN VARCHAR2 default NULL
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3287"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-267D11E9-B194-4D45-B8BE-A4AF1D79FB11__GUID-C88FD43B-8A9E-4819-A025-2F1CFA661436"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the index to remove.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3288"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-267D11E9-B194-4D45-B8BE-A4AF1D79FB11__GUID-7B8D2974-5D82-423C-8C09-54EA0A9F00BB"><!-- --></a>part_name</dt>
<dd>
<p>Specify the name of the partition to remove.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-E4674735-1023-4022-BB25-92D0076E1157">ADD_AUTO_OPTIMIZE</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0640"></a>
<div class="props_rev_3"><a id="GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B"></a>
<h2 id="CCREF-GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B" class="sect2"><span class="enumeration_section">8.39</span> REMOVE_INDEX</h2>
<div>
<div class="section">
<p>Removes the index with the specified column list from a <code class="codeph">CTXCAT</code> index set preference.</p>
<div class="infobox-note" id="GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B__GUID-D0C6C6CA-C53E-4664-8C04-3AA27493A624">
<p class="notep1">Note:</p>
<p>This procedure does not remove a <code class="codeph">CTXCAT</code> sub-index from the existing index. To do so, you must drop your index and re-index with the modified index set preference.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_INDEX(
</pre>
<pre dir="ltr">    set_name       IN VARCHAR2,
    column_list    IN VARCHAR2
    language       IN VARCHAR2 default NULL
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3289"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B__GUID-4BFDAB27-7A7B-4C89-9998-A81D59BC6890"><!-- --></a>set_name</dt>
<dd>
<p>Specify the name of the index set.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3290"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-458D2439-DC2F-410E-97A5-CA408FB3D75B__GUID-20059659-895F-4335-8052-70F0809C9913"><!-- --></a>column_list</dt>
<dd>
<p>Specify the name of the column list to remove.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2112"></a>
<div class="props_rev_3"><a id="GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9"></a>
<h2 id="CCREF-GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9" class="sect2"><span class="enumeration_section">8.40</span> REMOVE_MDATA</h2>
<div>
<div class="section">
<p>Use this procedure to remove metadata values, which are associated with an <code class="codeph">MDATA</code> section, from a document. Only the owner of the index is allowed to call <a href="cddlpkg.htm#GUID-5ECD0F44-6A70-4121-9352-6188C621CD42">ADD_MDATA</a> and <code class="codeph">REMOVE_MDATA</code>.</p>
<p><code class="codeph">CTX_DDL.REMOVE_MDATA</code> is transactional and takes effect immediately in the calling session. This procedure can be seen only in the calling session and must be committed to take permanent effect. You can reverse this procedure with a <code class="codeph">ROLLBACK</code> command.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_MDATA(
     idx_name           IN VARCHAR2, 
     section_name       IN VARCHAR2, 
     values             SYS.ODCIVARCHAR2LIST,
     rowids             SYS.ODCIRIDLIST,
     [part_name]        IN VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3291"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9__GUID-052DED7D-24AE-46A4-9230-13B150A83305"><!-- --></a>idx_name</dt>
<dd>
<p>Name of the text index that contains the named <span class="variable">rowids</span>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3292"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9__GUID-D479AC99-F78A-4AC5-AC95-1F587946EB55"><!-- --></a>section_name</dt>
<dd>
<p>Name of the <code class="codeph">MDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3293"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9__GUID-00893B3E-5249-449D-9F2F-5423646871BA"><!-- --></a>values</dt>
<dd>
<p>List of metadata values. If a metadata value contains a comma, the comma must be escaped with a backslash.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3294"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9__GUID-586EB64D-722F-41EC-8B0B-29E923C9D2B1"><!-- --></a>rowids</dt>
<dd>
<p><code class="codeph">Rowids</code> from which to remove the metadata values.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3295"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-C2830180-E2AF-400B-8CF7-8A898AB3ECE9__GUID-C3E8AD69-0441-4D78-91EC-6071AF294615"><!-- --></a>[part_name]</dt>
<dd>
<p>Name of the index partition, if any. Must be provided for local partitioned indexes and must be NULL for global, nonpartitioned indexes.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>This example removes the <code class="codeph">MDATA</code> value <span class="italic">blue</span> from the <code class="codeph">MDATA</code> section <code class="codeph">BGCOLOR</code>.</p>
<pre dir="ltr">ctx_ddl.remove_mdata(&#39;idx_docs&#39;, &#39;bgcolor&#39;, &#39;blue&#39;, &#39;rows&#39;); 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>These updates are updates directly on the index itself, not on the actual contents stored in the base table. Therefore, they will not survive when the Text index is rebuilt.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-5ECD0F44-6A70-4121-9352-6188C621CD42">ADD_MDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-C8AEC32C-9182-4661-8594-46248CEBC3E7">ADD_MDATA_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>&#34;</span></p>
<p>The Section Searching chapter of <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0642"></a>
<div class="props_rev_3"><a id="GUID-2DF68E1B-7328-4650-9164-658E351702BD"></a>
<h2 id="CCREF-GUID-2DF68E1B-7328-4650-9164-658E351702BD" class="sect2"><span class="enumeration_section">8.41</span> REMOVE_SECTION</h2>
<div>
<div class="section">
<p>The <code class="codeph">REMOVE_SECTION</code> procedure removes the specified section from the specified section group. You can specify the section by name or ID. View section ID with the <code class="codeph">CTX_USER_SECTIONS</code> view.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax 1</p>
<p>Use the following syntax to remove a section by section name:</p>
<pre dir="ltr">CTX_DDL.REMOVE_SECTION(
  group_name       IN    VARCHAR2, 
  section_name     IN    VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3296"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2DF68E1B-7328-4650-9164-658E351702BD__GUID-B9425F6F-2853-46CF-9830-068016EACC3A"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group from which to delete <code class="codeph">section_name</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3297"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2DF68E1B-7328-4650-9164-658E351702BD__GUID-D4DD00B2-258B-40F5-8367-8CC813F384C8"><!-- --></a>section_name</dt>
<dd>
<p>Specify the name of the section to delete from <code class="codeph">group_name</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax 2</p>
<p>Use the following syntax to remove a section by section ID:</p>
<pre dir="ltr">CTX_DDL.REMOVE_SECTION(
  group_name     IN    VARCHAR2,
  section_id     IN    NUMBER
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3298"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2DF68E1B-7328-4650-9164-658E351702BD__GUID-177E9830-EA3C-4586-B61F-A9F520841AA0"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group from which to delete <code class="codeph">section_id</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3299"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2DF68E1B-7328-4650-9164-658E351702BD__GUID-F770E653-CD1F-46AD-B613-13E5968ED3E2"><!-- --></a>section_id</dt>
<dd>
<p>Specify the section ID of the section to delete from <code class="codeph">group_name</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example drops a section called <code class="codeph">Title</code> from the <code class="codeph">htmgroup</code>:</p>
<pre dir="ltr">begin
ctx_ddl.remove_section(&#39;htmgroup&#39;, &#39;Title&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-33DEFC3E-1CA7-44AB-9F3C-7C412A4C55C5">ADD_SPECIAL_SECTION</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-3F950452-FF9A-4F56-A902-8FC9C9783441">ADD_ZONE_SECTION</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0644"></a>
<div class="props_rev_3"><a id="GUID-AB454DAB-D7FE-4220-BFAC-8AC460ADA9B7"></a>
<h2 id="CCREF-GUID-AB454DAB-D7FE-4220-BFAC-8AC460ADA9B7" class="sect2"><span class="enumeration_section">8.42</span> REMOVE_STOPCLASS</h2>
<div>
<div class="section">
<p>Removes a stopclass from a stoplist.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_STOPCLASS(
  stoplist_name  IN   VARCHAR2,
  stopclass      IN   VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3300"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-AB454DAB-D7FE-4220-BFAC-8AC460ADA9B7__GUID-261C11EC-16C3-498C-BCBA-0E49B5591257"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3301"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-AB454DAB-D7FE-4220-BFAC-8AC460ADA9B7__GUID-F292F250-560E-438E-B346-057093ABA910"><!-- --></a>stopclass</dt>
<dd>
<p>Specify the name of the stopclass to be removed.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example removes the stopclass <code class="codeph">NUMBERS</code> from the stoplist <code class="codeph">mystop</code>.</p>
<pre dir="ltr">begin
ctx_ddl.remove_stopclass(&#39;mystop&#39;, &#39;NUMBERS&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-12862EE1-F5FF-4B97-8E31-1F2974D1D144">ADD_STOPCLASS</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0646"></a>
<div class="props_rev_3"><a id="GUID-455B3892-3491-4AD7-91EB-4FB83E2C7F32"></a>
<h2 id="CCREF-GUID-455B3892-3491-4AD7-91EB-4FB83E2C7F32" class="sect2"><span class="enumeration_section">8.43</span> REMOVE_STOPTHEME</h2>
<div>
<div class="section">
<p>Removes a stoptheme from a stoplist.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_STOPTHEME(
  stoplist_name   IN   VARCHAR2,
  stoptheme       IN   VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3302"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-455B3892-3491-4AD7-91EB-4FB83E2C7F32__GUID-36DEDAB8-DF59-4E9D-8A2C-3026F2847E64"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3303"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-455B3892-3491-4AD7-91EB-4FB83E2C7F32__GUID-3238E7D1-2033-437D-AAFB-C2C484BF4DA2"><!-- --></a>stoptheme</dt>
<dd>
<p>Specify the stoptheme to be removed from <code class="codeph">stoplist_name</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example removes the stoptheme <span class="italic">banking</span> from the stoplist <code class="codeph">mystop</code>:</p>
<pre dir="ltr">begin
ctx_ddl.remove_stoptheme(&#39;mystop&#39;, &#39;banking&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-405AF8D1-DC63-4D47-B8B9-11B5ED4753C7">ADD_STOPTHEME</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0648"></a>
<div class="props_rev_3"><a id="GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89"></a>
<h2 id="CCREF-GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89" class="sect2"><span class="enumeration_section">8.44</span> REMOVE_STOPWORD</h2>
<div>
<div class="section">
<p>Removes a stopword from a stoplist. To have the removal of a stopword be reflected in the index, you must rebuild your index. You can also remove a language-independent stopword.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_STOPWORD(
</pre>
<pre dir="ltr">stoplist_name  IN   VARCHAR2,
stopword       IN   VARCHAR2,
language       IN   VARCHAR2 default NULL
</pre>
<pre dir="ltr">);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3304"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89__GUID-F2299C94-A72C-47BD-A8B4-A8519CA4214D"><!-- --></a>stoplist_name</dt>
<dd>
<p>Specify the name of the stoplist.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3305"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89__GUID-096DDBD8-D29F-4080-93C3-3D4819F163AF"><!-- --></a>stopword</dt>
<dd>
<p>Specify the stopword to be removed from <code class="codeph">stoplist_name</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3306"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-9CCCDA7B-5183-42C9-94B1-F43EBC088E89__GUID-98D20F69-F187-4751-B187-7BBB75C05391"><!-- --></a>language</dt>
<dd>
<p>Specify the language of <code class="codeph">stopword</code> to remove when the stoplist you specify with <code class="codeph">stoplist_name</code> is of type <code class="codeph">MULTI_STOPLIST</code>. You must specify the globalization support name or abbreviation of an Oracle Text-supported language. You can also remove <code class="codeph">ALL</code> stopwords.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example removes a stopword <span class="italic">because</span> from the stoplist <code class="codeph">mystop</code>:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.remove_stopword(&#39;mystop&#39;,&#39;because&#39;);
</pre>
<pre dir="ltr">end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-5D27665E-8ECC-4703-94CC-83387BB7ABCD">ADD_STOPWORD</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23901"></a>
<div class="props_rev_3"><a id="GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33"></a>
<h2 id="CCREF-GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33" class="sect2"><span class="enumeration_section">8.45</span> REMOVE_SUB_LEXER</h2>
<div>
<div class="section">
<p>Removes a sub-lexer from a multi-lexer preference. You cannot remove the lexer for <code class="codeph">DEFAULT</code>. You can also remove a language-independent sub-lexer.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REMOVE_SUB_LEXER(
</pre>
<pre dir="ltr">lexer_name  IN   VARCHAR2,
language    IN   VARCHAR2 default NULL
</pre>
<pre dir="ltr">);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3307"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33__GUID-15A17121-D1B7-4ACA-90E7-9D258144522A"><!-- --></a>lexer_name</dt>
<dd>
<p>Specify the name of the multi-lexer preference or language-independent sub-lexer.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3308"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33__GUID-D46B125F-A066-42C8-9A9D-298D30720A3F"><!-- --></a>language</dt>
<dd>
<p>Specify the language of the sub-lexer to remove. You must specify the globalization support name or abbreviation of an Oracle Text-supported language.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example removes a sub-lexer <span class="italic">german_lexer</span> of language <code class="codeph">german</code>:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.remove_sub_lexer(&#39;german_lexer&#39;,&#39;german&#39;);
</pre>
<pre dir="ltr">end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D">ADD_SUB_LEXER</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2113"></a>
<div class="props_rev_3"><a id="GUID-46020CFD-EE89-4B17-8860-B5008A7BBF27"></a>
<h2 id="CCREF-GUID-46020CFD-EE89-4B17-8860-B5008A7BBF27" class="sect2"><span class="enumeration_section">8.46</span> REPLACE_INDEX_METADATA</h2>
<div>
<div class="section">
<p>Use this procedure to replace metadata in local domain indexes at the global (index) level.</p>
<div class="infobox-note" id="GUID-46020CFD-EE89-4B17-8860-B5008A7BBF27__GUID-B3F1E289-140E-4A29-AB60-130C5C48F2DE">
<p class="notep1">Note:</p>
<p>The <code class="codeph">ALTER INDEX PARAMETERS</code> command performs the same function as this procedure and can replace more than just metadata. For that reason, using <code class="codeph">ALTER INDEX PARAMETERS</code> is the preferred method of replacing metadata at the global (index) level and should be used in place of this procedure when possible. For more information, see <span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJECABDI">ALTER INDEX PARAMETERS Syntax</a>&#34;</span>.</p>
<p><code class="codeph">CTX_REPLACE_INDEX_METADATA</code> may be deprecated in a future release of Oracle Text.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.REPLACE_INDEX_METADATA(
                      idx_name         IN VARCHAR2,
                      parameter_string IN VARCHAR2 
); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3309"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-46020CFD-EE89-4B17-8860-B5008A7BBF27__GUID-04A07D28-7EFE-468E-8F83-32DBE6F70353"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the index whose metadata you want to replace.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3310"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-46020CFD-EE89-4B17-8860-B5008A7BBF27__GUID-CADD2547-5B2B-47CC-9333-DF889E2C64DE"><!-- --></a>parameter_string</dt>
<dd>
<p>Specify the parameter string to be passed to <code class="codeph">ALTER INDEX</code>. This must begin with &#39;<code class="codeph">REPLACE METADATA</code>&#39;.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p><code class="codeph">ALTER INDEX REBUILD PARAMETERS (&#39;REPLACE METADATA&#39;)</code> does not work for a local partitioned index at the index (global) level. You cannot, for example, use that <code class="codeph">ALTER INDEX</code> syntax to change a global preference, such as filter or lexer type, without rebuilding the index. Therefore, <code class="codeph">CTX_DDL.REPLACE_INDEX_METADATA</code> is provided as a method of overcoming this limitation of <code class="codeph">ALTER INDEX</code>. Also, <code class="codeph">ALTER INDEX REBUILD PARAMETERS (&#39;REPLACE METADATA&#39;)</code> does not work with forward_index; instead use <code class="codeph">&#39;REPLACE STORAGE&#39;</code>.</p>
<p>Though it is meant as a way to replace metadata for a local partitioned index, <code class="codeph">CTX_DDL.REPLACE_INDEX_METADATA</code> can be used on a global, nonpartitioned index, as well.</p>
<p><code class="codeph">REPLACE_INDEX_METADATA</code> cannot be used to change the sync type at the partition level; that is, <span class="variable">parameter_string</span> cannot be <code class="codeph">&#39;REPLACE METADATA SYNC&#39;</code>. For that purpose, use <code class="codeph">ALTER INDEX REBUILD PARTITION</code> to change the sync type at the partition level.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48__BJECABDI">ALTER INDEX PARAMETERS Syntax</a>&#34;</span></p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48__I996850">ALTER INDEX REBUILD Syntax</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23902"></a><a id="CCREF0650"></a>
<div class="props_rev_3"><a id="GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F"></a>
<h2 id="CCREF-GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F" class="sect2"><span class="enumeration_section">8.47</span> SET_ATTRIBUTE</h2>
<div>
<div class="section">
<p>Sets a preference attribute. Use this procedure after you have created a preference with CTX_DDL.<a href="cddlpkg.htm#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a> .</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.SET_ATTRIBUTE(
                      preference_name IN VARCHAR2,  
                      attribute_name  IN VARCHAR2,  
                      attribute_value IN VARCHAR2
); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3311"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F__GUID-1F04C152-0D90-4FE2-9EF9-61359DEFE355"><!-- --></a>preference_name</dt>
<dd>
<p>Specify the name of the preference.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3312"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F__GUID-058F7F6A-A309-488C-9EE3-F0A48FD9AD85"><!-- --></a>attribute_name</dt>
<dd>
<p>Specify the name of the attribute.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3313"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F__GUID-BCFE2A9B-0414-4ADF-9E0B-97206583CB66"><!-- --></a>attribute_value</dt>
<dd>
<p>Specify the attribute value. Specify boolean values as <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>, <code class="codeph">T</code> or <code class="codeph">F</code>, <code class="codeph">YES</code> or <code class="codeph">NO</code>, <code class="codeph">Y</code> or <code class="codeph">N</code>, <code class="codeph">ON</code> or <code class="codeph">OFF</code>, or <code class="codeph">1</code> or <code class="codeph">0</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>Specifying File Data Storage</p>
<p>The following example creates a data storage preference called <code class="codeph">filepref</code> that tells the system that the files to be indexed are stored in the operating system. The example then uses CTX_DDL.<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> to set the <code class="codeph">PATH</code> attribute to the directory <code class="codeph">/docs</code>.</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;filepref&#39;, &#39;FILE_DATASTORE&#39;);
ctx_ddl.set_attribute(&#39;filepref&#39;, &#39;PATH&#39;, &#39;/docs&#39;); 
end;
</pre>
<div class="infoboxnotealso" id="GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F__GUID-A6D47D8E-F28B-4950-BA7E-E27456A9DEDF">
<p class="notep1">See Also:</p>
<p>For more information about data storage, see <span class="q">&#34;<a href="cdatadic.htm#GUID-91576377-DD67-4CBA-91AD-127402C4B93A">Datastore Types</a> &#34;</span></p>
<p>For more examples of using <code class="codeph">SET_ATTRIBUTE</code>, see <span class="q">&#34;<a href="cddlpkg.htm#GUID-56C4580F-6A43-43F4-BB83-DFAEB72A8DC3">CREATE_PREFERENCE</a> &#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF99089"></a><a id="CCREF24098"></a>
<div class="props_rev_3"><a id="GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E"></a>
<h2 id="CCREF-GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E" class="sect2"><span class="enumeration_section">8.48</span> SET_SEC_GRP_ATTR</h2>
<div>
<div class="section">
<p>Adds a section group-specific attribute to a section group identified by name.</p>
<p>Also used to set <code class="codeph">xml_enable</code> to support XML awareness.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.SET_SEC_GRP_ATTR(
                      group_name      IN VARCHAR2,  
                      attribute_name  IN VARCHAR2,  
                      attribute_value IN VARCHAR2
); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3314"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E__GUID-9B6349EE-8A9E-40CE-B424-C1CEAD222D1D"><!-- --></a>group_name</dt>
<dd>
<p>Specify the section group name.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3315"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E__GUID-B744BBDC-AB5D-41D4-B150-96425B38328A"><!-- --></a>attribute_name</dt>
<dd>
<p>Specify the name of the section group attribute.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3316"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E__GUID-E75FC837-F6B7-4AB2-A876-F7B21C5F4F51"><!-- --></a>attribute_value</dt>
<dd>
<p>Specify the section group attribute value. Specify boolean values as <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>, <code class="codeph">T</code> or <code class="codeph">F</code>, <code class="codeph">YES</code> or <code class="codeph">NO</code>, <code class="codeph">Y</code> or <code class="codeph">N</code>, <code class="codeph">ON</code> or <code class="codeph">OFF</code>, or <code class="codeph">1</code> or <code class="codeph">0</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Examples</p>
<pre dir="ltr">exec ctx_ddl.create_section_group(&#39;secgroup&#39;, &#39;PATH_SECTION_GROUP&#39;);
exec ctx_ddl.set_sec_grp_attr(&#39;secgroup&#39;, &#39;xml_enable&#39;, &#39;TRUE&#39;);
exec ctx_ddl.set_sec_grp_attr(&#39;json_group&#39;, &#39;json_enable&#39;, &#39;TRUE&#39;;
</pre></div>
<!-- class="section" -->
<div class="example" id="GUID-4002A39F-F33D-43A3-AA7D-E659616B7F0E__GUID-773B8462-63E0-4A25-8804-49C3587211CB">
<p class="titleinexample">Example 8-10 JSON enabled example</p>
<pre dir="ltr">exec ctx_ddl.create_section_group(&#39;json_group&#39;, &#39;PA
TH_SECTION_GROUP&#39;);
/*A new &#39;json_enable&#39; section attribute will be ava
ilable in 12.1.0.2 to enable json mode of context index*/
exec ctx_ddl.set_sec_grp_attr(&#39;json_group&#39;, &#39;json_enable&#39;, &#39;t&#39;);
create table jtab2(j varchar2(4000) check (j is json));
insert into jtab2 values(
&#39;{&#34;person&#34; : {&#34;id&#34; : &#39;&#39;124&#39;&#39;, &#34;name&#34; : &#39;&#39;John Smith&#39;&#39;}}&#39;);
insert into jtab2 values(
&#39;{&#34;person&#34; : {&#34;id&#34; : &#39;&#39;125&#39;&#39;, &#34;name&#34; : &#39;&#39;JennifierHwang&#39;&#39;,
&#34;college_majors&#34; : [&#39;&#39;cs&#39;&#39;, &#39;&#39;literature&#39;&#39;, &#39;&#39;english &#39;&#39;]}}&#39;);
insert into jtab2 values(
&#39;{&#34;person&#34; : {&#34;id&#34; : &#39;&#39;126&#39;&#39;, &#34;name&#34; : &#39;&#39;Mark Dwight&#39;&#39;,
&#34;likeFootBall&#34; : &#39;&#39;Y&#39;&#39;}}&#39;);
insert into jtab2 values(
&#39;{&#34;person&#34; : {&#34;id&#34; : &#39;&#39;127&#39;&#39;, &#34;name&#34; : &#39;&#39;Zhen Hua Liu&#39;&#39;,
&#34;MachineLearning&#34; : &#39;&#39;Y&#39;&#39;}}&#39;); 
insert into jtab2 values(
&#39;{&#34;person&#34; : {&#34;id&#34; : &#39;&#39;128&#39;&#39;, &#34;name&#34; : &#39;&#39;Jeffery Tang&#39;&#39;,
&#34;address&#34; : {&#34;city&#34; : &#39;&#39;San Francisco&#39;&#39;}}}&#39;);
insert into jtab2 values(
&#39;{&#34;person&#34; : {&#34;id&#34; : &#39;&#39;129&#39;&#39;, &#34;name&#34; : &#39;&#39;Cecilia Sutton&#39;&#39;,
&#34;address&#34; : {&#34;city&#34; : &#39;&#39;San Mateo&#39;&#39;}}}&#39;);

commit; 
 
drop index jsn_ctx_idx ;
/* create json enabled text index */
create index jsn2_ctx_idx on jtab2 (j) indextype is
ctxsys.context parameters
(&#39; section group json_group&#39;);
</pre></div>
<!-- class="example" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-9B0E0A60-53DF-4B90-827A-8D1B8D313A16">CREATE_SECTION_GROUP</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24099"></a>
<div class="props_rev_3"><a id="GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F"></a>
<h2 id="CCREF-GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F" class="sect2"><span class="enumeration_section">8.49</span> SET_SECTION_ATTRIBUTE</h2>
<div>
<div class="section">
<p>Use <code class="codeph">SET_SECTION_ATTRIBUTE</code> to specify attributes or properties for a given section.</p>
<p>The <span class="bold">attribute</span> names listed under <span class="q">&#34;<a href="cddlpkg.htm#GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F__BABJJGHI">Syntax</a>&#34;</span> are supported. Note that some attributes only apply to sections that are tokenized. The following section types are tokenized:</p>
<ul style="list-style-type: disc;">
<li>
<p>Field sections</p>
</li>
<li>
<p>Zone sections</p>
</li>
<li>
<p>SDATA sections</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section" id="GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F__BABJJGHI">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.SET_SECTION_ATTRIBUTE(
                   group_name   IN VARCHAR2,  
                   section_name IN VARCHAR2,  
                   attribute    IN VARCHAR2,
                   value        IN VARCHAR2
 ); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3317"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F__GUID-71A2864C-01A4-4A48-92C2-2C09F8B32415"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3318"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F__GUID-0A60C98E-F2A5-42A1-846C-D149973EFF1D"><!-- --></a>section_name</dt>
<dd>
<p>Specify the name of the section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3319"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F__GUID-10D8E9F7-114C-4513-8DB5-068CBCAFE1F5"><!-- --></a>attribute</dt>
<dd>
<p>Specify this attribute for SDATA sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">Visible</code> section attribute</p>
<p>This attribute works with FIELD sections only. For FIELD sections:</p>
<p>Specify TRUE to make the text visible within the rest of the document. By default the visible flag is FALSE. This means that Oracle Text indexes the text within field sections as a sub-document separate from the rest of the document. However, you can set the visible flag to TRUE if you want text within the field section to be indexed as part of the enclosing document.</p>
<p>For field sections, <span class="italic">attribute</span> will override the value specified in CTX_DDL.<a href="cddlpkg.htm#GUID-A275E1CF-2F48-4A52-9E4C-4BE1698C647F">ADD_FIELD_SECTION</a>.</p>
<p>An error is thrown if you try to set the <code class="codeph">visible</code> attribute for a zone section.</p>
<p>An error is thrown if the <code class="codeph">visible</code> attribute is set on a non-tokenized section.</p>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">save_copy</code>. Set to True or False. The <code class="codeph">save_copy</code> option is valid for all types of sections, but only SDATA attributes are fetched from $D table. The rest of the sections are stored for display purposes only (depending on value of <code class="codeph">save_copy</code>). SDATA sections are never stored for display purposes, but are stored independently (in a separate column of $D table) for efficient fetching (depending on value of <code class="codeph">save_copy</code>). For all sections (except for SDATA sections): A section is either displayed or discarded during document service procedures (snippet, markup, highlight) depending on the value of <code class="codeph">save_copy</code>.</p>
</li>
</ul>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3320"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5BFD3B2C-9273-4C43-A88D-2AFC7FE3BD1F__GUID-245907E0-6591-447C-B117-2A39B44F6559"><!-- --></a>value</dt>
<dd>
<p>Specify the attribute value. Specify boolean values as <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>, <code class="codeph">T</code> or <code class="codeph">F</code>, <code class="codeph">YES</code> or <code class="codeph">NO</code>, <code class="codeph">Y</code> or <code class="codeph">N</code>, <code class="codeph">ON</code> or <code class="codeph">OFF</code>, or <code class="codeph">1</code> or <code class="codeph">0</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example enables the <code class="codeph">visible</code> attribute of a Field section:</p>
<pre dir="ltr">begin
   ctx_ddl.create_section_group(&#39;fieldgroup&#39;, &#39;BASIC_SECTION_GROUP&#39;);
   ctx_ddl.add_field_section(&#39;fieldgroup&#39;, &#39;author&#39;, &#39;AUTHOR&#39;);
   ctx_ddl.set_section_attribute(&#39;fieldgroup&#39;, &#39;author&#39;, &#39;visible&#39;, &#39;true&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>Like CTX_DDL.<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> , this procedure issues a commit.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topic</p>
<p>See also the &#34;Searching Document Sections in Oracle Text&#34; chapter of <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF0652"></a>
<div class="props_rev_3"><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008"></a>
<h2 id="CCREF-GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008" class="sect2"><span class="enumeration_section">8.50</span> SYNC_INDEX</h2>
<div>
<div class="section">
<p>Synchronizes the index to process inserts, updates, and deletes to the base table.</p>
<div class="infobox-note" id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-9C1A6DC7-40E9-481F-BF3D-5859A200C75A">
<p class="notep1">Note:</p>
<p>Because <code class="codeph">CTX_DDL.SYNC_INDEX</code> issues implicit commits, calling <code class="codeph">CTX_DDL.SYNC_INDEX</code> in a trigger is strongly discouraged. Doing so can result in errors being raised, as both <code class="codeph">SYNC_INDEX</code> and post-commit <code class="codeph">$R</code> <code class="codeph">LOB</code> maintenance try to update the same <code class="codeph">$R</code> <code class="codeph">LOB</code>.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.SYNC_INDEX(
</pre>
<pre dir="ltr">idx_name       IN  VARCHAR2 DEFAULT NULL
memory          IN VARCHAR2 DEFAULT NULL,
part_name       IN VARCHAR2 DEFAULT NULL,
parallel_degree IN NUMBER DEFAULT 1
maxtime         IN NUMBER DEFAULT NULL,
locking         IN NUMBER DEFAULT LOCK_WAIT
); 
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3321"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-AAA78C52-0E0B-48A2-B323-D294A26BB244"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the index to synchronize.</p>
<div class="infobox-note" id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-01FFDAC4-3B2E-48F5-A3AC-D95A5E4997E4">
<p class="notep1">Note:</p>
<p>When <code class="codeph">idx_name</code> is null, all <code class="codeph">CONTEXT</code> and <code class="codeph">CTXRULE</code> indexes that have pending changes are synchronized. You must be connected as <code class="codeph">ctxsys</code> to perform this operation. Each index or index partition is synchronized in sequence, one after the other. Because of this, the individual syncs are performed with locking set to <code class="codeph">NOWAIT</code> and maxtime set to <code class="codeph">0</code>. Any values that you specify for locking or maxtime on the <code class="codeph">SYNC_INDEX</code> call are ignored. However, the <code class="codeph">memory</code> and <code class="codeph">parallel_degree</code> parameters are passed on to the individual synchronizations.</p>
</div>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3322"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-68715CDE-7A65-4AF9-ACE0-D24343AE15CD"><!-- --></a>memory</dt>
<dd>
<p>Specify the runtime memory to use for synchronization. This value overrides the <code class="codeph">DEFAULT_INDEX_MEMORY</code> system parameter.</p>
<p><a id="d76128e10346" class="indexterm-anchor"></a>The memory parameter specifies the amount of memory Oracle Text uses for the synchronization operation before flushing the index to disk. Specifying a large amount of memory:</p>
</dd>
</dl>
<ul style="list-style-type: disc;">
<li>
<p>Improves indexing performance because there is less I/O</p>
</li>
<li>
<p>Improves query performance and maintenance because there is less fragmentation</p>
</li>
<li>
<p>The indexing memory size specified in the second argument applies to each parallel slave. For example, if the <code class="codeph">memory</code> argument is set to 500M and <code class="codeph">parallel_degree</code> is set to 2, then ensure that there is at least 1GB of memory available on the system used for the parallel <code class="codeph">SYNC_INDEX</code>.</p>
</li>
</ul>
<p>Specifying smaller amounts of memory increases disk I/O and index fragmentation, but might be useful when runtime memory is scarce.</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3323"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-4B6767C7-5531-4943-835D-43B9C30BCF01"><!-- --></a>part_name</dt>
<dd>
<p>If your index is a local index, then you must specify the name of the index partition to synchronize otherwise an error is returned.</p>
<p>If your index is a global, nonpartitioned index, then specify NULL, which is the default.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3324"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-8CB31352-E233-4014-8E5E-91401C71837B"><!-- --></a>parallel_degree</dt>
<dd>
<p>Specify the degree to run parallel synchronize. A number greater than 1 turns on parallel synchronize. The actual degree of parallelism might be smaller depending on your resources.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3325"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-35823F99-AC22-46D4-9C68-DCFBB2B3BD0F"><!-- --></a>maxtime</dt>
<dd>
<p>Indicate a suggested time limit on the operation, in minutes. <code class="codeph">SYNC_INDEX</code> will process as many documents in the queue as possible within the time limit. The <code class="codeph">maxtime</code> value of NULL is equivalent to <code class="codeph">CTX_DDL.MAXTIME_UNLIMITED</code>. This parameter is ignored when <code class="codeph">SYNC_INDEX</code> is invoked without an index name, in which case <code class="codeph">maxtime</code> value of 0 is used instead. The <code class="codeph">locking</code> parameter is ignored for automatic syncs (that is, <code class="codeph">SYNC</code> <code class="codeph">ON</code> <code class="codeph">COMMIT</code> or <code class="codeph">SYNC</code> <code class="codeph">EVERY</code>).</p>
<p>The time limit specified is treated as approximate. The actual time taken may be somewhat less than or greater than what you specify. The &#34;time clock&#34; for <code class="codeph">maxtime</code> does not start until the SYNC lock is acquired.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3326"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-38DF2321-5047-4EE4-8D94-4129667B5241"><!-- --></a>locking</dt>
<dd>
<p>Configure how <code class="codeph">SYNC_INDEX</code> deals with the situation where another sync is already running on the same index or index partition. When locking is ignored because <code class="codeph">SYNC_INDEX</code> is invoked without an index name, then locking value of <code class="codeph">LOCK_NOWAIT</code> is used instead. The <code class="codeph">locking</code> parameter is ignored for automatic syncs (that is, <code class="codeph">SYNC</code> <code class="codeph">ON</code> <code class="codeph">COMMIT</code> or <code class="codeph">SYNC</code> <code class="codeph">EVERY</code>).</p>
<p>The options for <code class="codeph">locking</code> are:</p>
</dd>
</dl>
<div class="tblformal" id="GUID-E7C3F68F-459C-4D52-9E7D-531ED475E008__GUID-199F9A3A-BFC2-4F4D-88D0-20E732162580">
<table class="cellalignment3028" summary="locking options">
<thead>
<tr class="cellalignment3022">
<th class="cellalignment3079" id="d76128e10479">Locking Parameter</th>
<th class="cellalignment3080" id="d76128e10482">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3022">
<td class="cellalignment3081" id="d76128e10487" headers="d76128e10479">
<p><code class="codeph">CTX_DDL.LOCK_WAIT</code></p>
</td>
<td class="cellalignment3082" headers="d76128e10487 d76128e10482">
<p>If another sync is running, wait until the running sync is complete, then begin sync. (In the event of not being able to get a lock, it will wait forever and ignore the <code class="codeph">maxtime</code> setting.)</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3081" id="d76128e10498" headers="d76128e10479">
<p><code class="codeph">CTX_DDL.LOCK_NOWAIT</code></p>
</td>
<td class="cellalignment3082" headers="d76128e10498 d76128e10482">
<p>If another sync is running, immediately returns without error.</p>
</td>
</tr>
<tr class="cellalignment3022">
<td class="cellalignment3081" id="d76128e10506" headers="d76128e10479">
<p><code class="codeph">CTX_DDL.LOCK_NOWAIT_ERROR</code></p>
</td>
<td class="cellalignment3082" headers="d76128e10506 d76128e10482">
<p>If another sync is running, error &#34;DRG-51313: timeout while waiting for DML or optimize lock&#34; is raised.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>The following example synchronizes the index <code class="codeph">myindex</code> with 2 megabytes of memory:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.sync_index(&#39;myindex&#39;, &#39;2M&#39;);
</pre>
<pre dir="ltr">end;
</pre>
<p>The following example synchronizes the <code class="codeph">part1</code> index partition with 2 megabytes of memory:</p>
<pre dir="ltr">begin
</pre>
<pre dir="ltr">ctx_ddl.sync_index(&#39;myindex&#39;, &#39;2M&#39;, &#39;part1&#39;);
</pre>
<pre dir="ltr">end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Notes</p>
<p>You can run <code class="codeph">CTX_DDL.SYNC_INDEX</code> and <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> at the same time. You can also run <code class="codeph">CTX_DDL.SYNC_INDEX</code> and <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> with parallelism at the same time. However, you should not run <code class="codeph">CTX_DDL.SYNC_INDEX</code> with parallelism at the same time as <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code>, nor <code class="codeph">CTX_DDL.SYNC_INDEX</code> with parallelism at the same time as <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> with parallelism. If you should run one of these combinations, no error is generated; however, one operation will wait until the other is done.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="csql.htm#GUID-47E60252-C731-46A8-B587-AE30C1634F48">ALTER INDEX</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF23903"></a><a id="CCREF0654"></a>
<div class="props_rev_3"><a id="GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E"></a>
<h2 id="CCREF-GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E" class="sect2"><span class="enumeration_section">8.51</span> UNSET_ATTRIBUTE</h2>
<div>
<div class="section">
<p>Removes a set attribute from a preference.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.UNSET_ATTRIBUTE(preference_name varchar2,
                        attribute_name  varchar2);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3327"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E__GUID-D6CF0688-4DDC-4B16-9D84-00FB9FB701AC"><!-- --></a>preference_name</dt>
<dd>
<p>Specify the name of the preference.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3328"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E__GUID-A76232E0-F41F-4417-B0B8-0823614746DC"><!-- --></a>attribute_name</dt>
<dd>
<p>Specify the name of the attribute.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example</p>
<p>Enabling/Disabling Alternate Spelling<a id="d76128e10667" class="indexterm-anchor"></a></p>
<p>The following example shows how you can enable alternate spelling for German and disable alternate spelling with <code class="codeph">CTX_DDL.UNSET_ATTRIBUTE</code>:</p>
<pre dir="ltr">begin
ctx_ddl.create_preference(&#39;GERMAN_LEX&#39;, &#39;BASIC_LEXER&#39;);
ctx_ddl.set_attribute(&#39;GERMAN_LEX&#39;, &#39;ALTERNATE_SPELLING&#39;, &#39;GERMAN&#39;);
end;
</pre>
<p>To disable alternate spelling, use the <code class="codeph">CTX_DDL.UNSET_ATTRIBUTE</code> procedure as follows:</p>
<pre dir="ltr">begin
ctx_ddl.unset_attribute(&#39;GERMAN_LEX&#39;, &#39;ALTERNATE_SPELLING&#39;);
end;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-143FB32D-2BDD-4E90-B366-84FA0C3C664F">SET_ATTRIBUTE</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24100"></a>
<div class="props_rev_3"><a id="GUID-D9C90C8E-C7A4-462D-8998-0C1BA1491FAD"></a>
<h2 id="CCREF-GUID-D9C90C8E-C7A4-462D-8998-0C1BA1491FAD" class="sect2"><span class="enumeration_section">8.52</span> UNSET_SEC_GRP_ATTR</h2>
<div>
<div class="section">
<p>Removes a section group-specific attribute.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.UNSET_SEC_GRP_ATTR(group_name varchar2,
                        attribute_name  varchar2);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3329"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D9C90C8E-C7A4-462D-8998-0C1BA1491FAD__GUID-9C071193-ACE8-4048-B822-788A544D1812"><!-- --></a>group_name</dt>
<dd>
<p>Specify the name of the section group.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3330"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-D9C90C8E-C7A4-462D-8998-0C1BA1491FAD__GUID-43FF6568-5F4B-4D3F-8667-F68A363DC7BA"><!-- --></a>attribute_name</dt>
<dd>
<p>Specify the name of the attribute.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-D142E8A1-D6AB-4528-8A7A-5AC90CFEB82E">UNSET_ATTRIBUTE</a> &#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24136"></a>
<div class="props_rev_3"><a id="GUID-99AE0761-6172-4282-9FA0-4C5256B9528D"></a>
<h2 id="CCREF-GUID-99AE0761-6172-4282-9FA0-4C5256B9528D" class="sect2"><span class="enumeration_section">8.53</span> UPDATE_SUB_LEXER</h2>
<div>
<div class="section">
<p>Updates a sub-lexer and modifies its multi-lexer preference, language, or sub-lexer. You can also update default sub-lexers using this procedure. This procedure can be used in conjunction with the <code class="codeph">CTX_DDL.<a href="cddlpkg.htm#GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528">PREFERENCE_IMPLICIT_COMMIT</a></code> variable.</p>
<div class="infoboxnotealso" id="GUID-99AE0761-6172-4282-9FA0-4C5256B9528D__GUID-B435DC68-BD22-43F7-8E52-BCEA8DE0F63A">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-789CE75B-B1F6-4F94-ABCF-01AE527E6528">PREFERENCE_IMPLICIT_COMMIT</a>&#34;</span> for information about setting this variable</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">UPDATE_SUB_LEXER (
      lexer_name     IN   VARCHAR2,
      language       IN   VARCHAR2,
      sub_lexer      IN   VARCHAR2
);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3331"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-99AE0761-6172-4282-9FA0-4C5256B9528D__GUID-1A2B9466-5F21-4729-BB55-2ED5BB738F96"><!-- --></a>lexer_name</dt>
<dd>
<p>Specify the name of the multi-lexer preference that needs to be updated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3332"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-99AE0761-6172-4282-9FA0-4C5256B9528D__GUID-3298434F-7C07-4E74-B61C-6044738C3744"><!-- --></a>language</dt>
<dd>
<p>Specify the language name of the sub-lexer. Use <code class="codeph">DEFAULT</code> for the default sub-lexers.</p>
<p>See <span class="q">&#34;<a href="cddlpkg.htm#GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D__CHDHHEAH">&#34;language&#34;</a>&#34;</span> for information on how to specify the globalization support language name or abbreviation of the sub-lexer.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3333"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-99AE0761-6172-4282-9FA0-4C5256B9528D__GUID-B5B5F4EB-871E-41D2-8C2D-F6CC2C15B75F"><!-- --></a>sub_lexer</dt>
<dd>
<p>Specify the name of the sub-lexer to use for this language.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-7BE509B1-1831-410E-8D2C-01AFCFFFC79D">ADD_SUB_LEXER</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-D4038B0A-A1D1-4A28-A6F0-3AB5B4011F33">REMOVE_SUB_LEXER</a>&#34;</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF2114"></a>
<div class="props_rev_3"><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA"></a>
<h2 id="CCREF-GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA" class="sect2"><span class="enumeration_section">8.54</span> UPDATE_POLICY</h2>
<div>
<div class="section">
<p>Updates a policy created with <code class="codeph">CREATE_POLICY</code>. Replaces the preferences of the policy. Null arguments are not replaced.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.UPDATE_POLICY(
         policy_name     IN VARCHAR2,
         filter          IN VARCHAR2 DEFAULT NULL,
         section_group   IN VARCHAR2 DEFAULT NULL,
         lexer           IN VARCHAR2 DEFAULT NULL,
         stoplist        IN VARCHAR2 DEFAULT NULL,
         wordlist        IN VARCHAR2 DEFAULT NULL);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3334"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA__GUID-22C7309F-B9FC-42AF-BB85-6C9EEE2F8DBC"><!-- --></a>policy_name</dt>
<dd>
<p>Specify the name of the policy to update.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3335"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA__GUID-4C98B7F4-F7E2-4F44-BC6A-84D6ADABDB84"><!-- --></a>filter</dt>
<dd>
<p>Specify the filter preference to use.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3336"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA__GUID-F33E0D66-8F7D-4304-9610-456BD55057F3"><!-- --></a>section_group</dt>
<dd>
<p>Specify the section group to use.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3337"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA__GUID-27EADA38-07D6-4566-9AFA-3032E6C8E67F"><!-- --></a>lexer</dt>
<dd>
<p>Specify the lexer preference to use.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3338"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA__GUID-1005A836-BB22-4392-9A84-30EFA05A0465"><!-- --></a>stoplist</dt>
<dd>
<p>Specify the stoplist to use.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3339"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-687A0361-7C61-440F-82B0-DF13AE1E45EA__GUID-F516A93A-F701-4B48-A9D5-2541900B8FA9"><!-- --></a>wordlist</dt>
<dd>
<p>Specify the wordlist to use.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="CCREF24101"></a>
<div class="props_rev_3"><a id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE"></a>
<h2 id="CCREF-GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE" class="sect2"><span class="enumeration_section">8.55</span> UPDATE_SDATA</h2>
<div>
<div class="section">
<p><code class="codeph">UPDATE_SDATA</code> is an index API that modifies the specified <code class="codeph">SDATA</code> values in the index. It does not store or modify column values in a base table, where the base table column may have been used as an <code class="codeph">SDATA</code> section.</p>
<p>Export/import operations rebuild the index from the base table using the specified preferences. Since modifications made using the <code class="codeph">UPDATE_SDATA</code> API are not present in the base table, the export/import operation does not preserve these changes.</p>
<p><code class="codeph">UPDATE_SDATA</code> modifies temporary metadata it adds in the index table, not the base table. It cannot be used to directly add metadata. For export/import of metadata that is persistent, create a base table column that contains the metadata values. You can then update the metadata through the column in the base table.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">CTX_DDL.UPDATE_SDATA(
         idx_name     IN VARCHAR2 DEFAULT NULL,
         section_name IN VARCHAR2 DEFAULT NULL,
         sdata_value  IN sys.anydata,
         sdata_rowid  IN rowid,
         part_name    IN VARCHAR2 DEFAULT NULL);
</pre>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3340"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE__GUID-95ACCCF8-E120-4325-90F0-E6692772F6A7"><!-- --></a>idx_name</dt>
<dd>
<p>Specify the name of the index.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3341"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE__GUID-2E725B9C-3B14-4F62-8D79-E42B48E28329"><!-- --></a>section_name</dt>
<dd>
<p>Specify the name of the <code class="codeph">SDATA</code> section.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3342"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE__GUID-C02CDEAE-0821-4420-8684-B68F100362C7"><!-- --></a>sdata_value</dt>
<dd>
<p>Specify the new <code class="codeph">SDATA</code> value.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3343"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE__GUID-030CB755-C19C-4F5F-8498-BD4A66635370"><!-- --></a>sdata_rowid</dt>
<dd>
<p>Specify the rowid for which the <code class="codeph">SDATA</code> value needs to be updated.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-3344"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE__GUID-D6088738-B3FF-4E8A-8881-022A4DBAB019"><!-- --></a>part_name</dt>
<dd>
<p>Specify the name of the locally partitioned index, if applicable. Specify <code class="codeph">NULL</code> for the global index.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Topics</p>
<p><span class="q">&#34;<a href="cqoper.htm#GUID-A136A84D-69B7-4E74-94C7-CA96B3A27D35">SDATA</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cddlpkg.htm#GUID-985802C7-D4DF-4139-9723-B7030BDE1791">ADD_SDATA_SECTION</a>&#34;</span></p>
<div class="infoboxnotealso" id="GUID-11C1AD9C-68AD-486A-BB23-C71610E6E2FE__GUID-A2A902A8-257A-47D7-9557-B810B75CAA53">
<p class="notep1">See Also:</p>
<p>Chapter 8, &#34;Searching Document Sections in Oracle Text&#34; in <a class="olink CCAPP0800" target="_blank" href="../CCAPP/GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A.htm#CCAPP0800"><span class="italic">Oracle Text Application Developer&#39;s Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3021">
<tr>
<td class="cellalignment3040">
<table class="cellalignment3026">
<tr>
<td class="cellalignment3025"><a href="cclspkg.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3025"><a href="cdocpkg.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3042">
<table class="cellalignment3024">
<tr>
<td class="cellalignment3025"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3025"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3025"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3025"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3025"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3025"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5131"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Troubleshooting%20Oracle%20Database%20Real%20Application%20Security"></a><title>Troubleshooting Oracle Database Real Application Security</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="troubleshooting, Real Application Security diagnostics, using validation APIs, using the ORA_GET_ACLIDS function, SYS_GET_ACLIDS function, ORA_GET_ACLIDS function, using the ORA_CHECK_ACL function, ORA_CHECK_ACL function, SQL functions, ORA_CHECK_ACL, event-based tracing, components, trace files, Real Application Security components"/>
<meta name="dcterms.created" content="2017-02-17T18:31:46Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Real Application Security Administrator&#39;s and Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E48189-13"/>
<meta name="dcterms.isVersionOf" content="DBFSG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="security_hr_demo_files.htm" title="Previous" type="text/html"/>
<link rel="Next" href="glossary.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48189-13.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0"></a> <span id="PAGE" style="display:none;">23/25</span> <!-- End Header -->
<a id="DBFSG11000"></a>
<h1 id="DBFSG-GUID-B5B42EA3-D8A1-4F84-9C39-727A473733D0" class="sect1"><span class="enumeration_appendix">D</span> Troubleshooting Oracle Database Real Application Security</h1>
<div>
<div class="p">This appendix contains:
<ul style="list-style-type: disc;">
<li>
<p><a href="troubleshooting.htm#GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF">About Real Application Security Diagnostics</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749">About Event-Based Tracing of Real Application Security Components</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539">About Exception State Dump Information</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A">About Session Statistics</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297">Using Middle-Tier Tracing</a></p>
</li>
</ul>
</div>
</div>
<a id="DBFSG99697"></a>
<div class="props_rev_3"><a id="GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF"></a>
<h2 id="DBFSG-GUID-7A5546D9-F0AD-46EC-9A2D-CD0D5862A0CF" class="sect2">About Real Application Security Diagnostics</h2>
<div>
<p>Real Application Security uses an integrated infrastructure that spans across back-end databases, application servers, and application instances. Real Application Security components include diagnostic capabilities that enable you to locate, diagnose, and resolve problems in a Real Application Security system.</p>
<p>Real Application Security diagnostics make use of the database Diagnostic Framework (DFW) available in Oracle Database 12<span class="italic">c</span> Release 1 (12.1) and later. Functionality diagnostics allow you to track, investigate, and resolve functionality failures. You can use exception state dumps, event-based tracing, or default tracing to study and resolve functionality issues. Performance diagnostics enable you to identify and resolve performance issues.</p>
<div class="p">The following sections discuss functionality and performance diagnostic techniques used in Real Application Security systems:
<ul style="list-style-type: disc;">
<li>
<p><a href="troubleshooting.htm#GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C">About Using Validation APIs</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956">How to Check Which ACLs Are Associated with a Row for the Current User</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9">How to Find If a Privilege Is Granted in an ACL to a User</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278">About Exception State Dumps</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF">About Event-Based Tracing</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-79A13236-28EB-4236-96C9-1D551FFF5691">About In-Memory Tracing</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D">About Statistics</a></p>
</li>
</ul>
</div>
</div>
<a id="DBFSG679"></a><a id="DBFSG678"></a>
<div class="props_rev_3"><a id="GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C"></a>
<h3 id="DBFSG-GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C" class="sect3">About Using Validation APIs</h3>
<div>
<p>You should always validate objects after they are created. This includes objects, such as principals, security classes, ACLs, data security policies, and namespaces. You can also validate all these objects that exist in a workspace in a single operation. The <code class="codeph">XS_DIAG</code> package includes subprograms that you can use to diagnose potential problems in any of these created objects. See <span class="q">&#34;<a href="plsql_pkg.htm#GUID-A9C89475-4E4F-43D4-981B-C44596FB2B54">XS_DIAG Package</a>&#34;</span> for more information. These packages are briefly described in the following table with links to each validation subprogram where examples of their usage are shown.</p>
<div class="tblformal" id="GUID-6C85A55C-9B2F-4F93-94DC-60264E04B50C__GUID-89AEBE54-69FF-498C-B546-D6F5F0286BB8">
<p class="titleintable">Table D-1 Summary of XS_DIAG Subprograms</p>
<table class="cellalignment5205" title="Summary of XS_DIAG Subprograms" summary="This table has 2 columns. Column 1 is the subprogram name and column to is its description.">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5279" id="d120401e402">Subprogram</th>
<th class="cellalignment5280" id="d120401e405">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e410" headers="d120401e402">
<p><a href="plsql_pkg.htm#GUID-5E0D77E1-EF27-49B6-AF38-C5C2F94C0AB1">VALIDATE_PRINCIPAL Function</a></p>
</td>
<td class="cellalignment5282" headers="d120401e410 d120401e405">
<p>Validates the principal.</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e418" headers="d120401e402">
<p><a href="plsql_pkg.htm#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS Function</a></p>
</td>
<td class="cellalignment5282" headers="d120401e418 d120401e405">
<p>Validates the security class.</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e426" headers="d120401e402">
<p><a href="plsql_pkg.htm#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL Function</a></p>
</td>
<td class="cellalignment5282" headers="d120401e426 d120401e405">
<p>Validates the ACL.</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e434" headers="d120401e402">
<p><a href="plsql_pkg.htm#GUID-39061A4F-C36E-410E-9944-D8A57E302853">VALIDATE_DATA_SECURITY Function</a></p>
</td>
<td class="cellalignment5282" headers="d120401e434 d120401e405">
<p>Validates the data security policy or validates the data security policy against a specific table.</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e442" headers="d120401e402">
<p><a href="plsql_pkg.htm#GUID-306835D0-D57C-4819-894A-315D0579BD08">VALIDATE_NAMESPACE_TEMPLATE Function</a></p>
</td>
<td class="cellalignment5282" headers="d120401e442 d120401e405">
<p>Validates the namespace template.</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e450" headers="d120401e402">
<p><a href="plsql_pkg.htm#GUID-03CCCD5A-3A8C-4905-9CC8-5F6451936522">VALIDATE_WORKSPACE Function</a></p>
</td>
<td class="cellalignment5282" headers="d120401e450 d120401e405">
<p>Validates an entire workspace.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DBFSG680"></a>
<div class="props_rev_3"><a id="GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956"></a>
<h3 id="DBFSG-GUID-245C141E-E4D1-4B07-9D77-D61E9DAB5956" class="sect3">How to Check Which ACLs Are Associated with a Row for the Current User</h3>
<div>
<div class="section">
<p>To find which ACLs are associated with a particular row for the current user, use the <code class="codeph">ORA_GET_ACLIDS</code> function. The <code class="codeph">ORA_GET_ACLIDS</code> function returns a list of ACL IDS associated with a row instance of data security policy enabled tables for the current application user. If access to the current row has been granted, this function captures all ACL identifiers that are associated with the matching data realm constraints. See <span class="q">&#34;<a href="plsql_fun.htm#GUID-09987053-84C3-453B-820F-1F3BA83705CD">ORA_GET_ACLIDS Function</a>&#34;</span> for reference information and <span class="q">&#34;<a href="acls_sec_classes.htm#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">About Checking ACLs for a Privilege</a>&#34;</span> for tutorial information.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="DBFSG681"></a>
<div class="props_rev_3"><a id="GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9"></a>
<h3 id="DBFSG-GUID-72AB9DC6-CED2-4FA2-8725-8B937ACE13B9" class="sect3">How to Find If a Privilege Is Granted in an ACL to a User</h3>
<div>
<div class="section">
<p>To find if a privilege is granted in an ACL, use the <code class="codeph">ORA_CHECK_ACL</code> function. The <code class="codeph">ORA_CHECKACL</code> function checks whether an application user has the queried application privileges according to a list of ACLs. If the specified application privileges have been granted to the application user, <code class="codeph">ORA_CHECKACL</code> returns <code class="codeph">1</code>. If they are not granted to the application user, then it returns <code class="codeph">0</code>. See <span class="q">&#34;<a href="plsql_fun.htm#GUID-5CF28FF5-777B-436F-A7CD-D72EAD56862D">ORA_CHECK_ACL Function</a>&#34;</span> for reference information and <span class="q">&#34;<a href="acls_sec_classes.htm#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">About Checking ACLs for a Privilege</a>&#34;</span> for tutorial information.</p>
<p>To list the ACLIDs associated with each row of a table, for example, the <code class="codeph">EMPLOYEE</code> table, the user can use the following query:</p>
<pre dir="ltr">select ORA_GET_ACLIDS(emp) from EMPLOYEE emp;
</pre>
<p>To list the result if a privilege, for example <code class="codeph">SELECT</code>, is granted for each row of the <code class="codeph">EMPLOYEE</code> table, the user can perform the following query:</p>
<pre dir="ltr">select ORA_CHECK_ACL(ORA_GET_ACLIDS(emp), &#39;SELECT&#39;) from EMPLOYEE emp;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="DBFSG99698"></a>
<div class="props_rev_3"><a id="GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278"></a>
<h3 id="DBFSG-GUID-73B01DC6-88CC-43C5-BDDA-172E3A4D7278" class="sect3">About Exception State Dumps</h3>
<div>
<p>When an <a id="d120401e854" class="indexterm-anchor"></a><a id="d120401e858" class="indexterm-anchor"></a>exception occurs, the state information for Real Application Security components is dumped into trace files. Exception state dumps are analogous to crash site evidence for a plane crash.</p>
<p>A failure, like an internal error or server crash, causes a Diagnostic Data Extraction (DDE) routine to be invoked for each component. This dumps the current system, session, and process state information into trace files. You can later analyze the cause of failure using the state information dumped into trace files.</p>
</div>
</div>
<a id="DBFSG99699"></a>
<div class="props_rev_3"><a id="GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF"></a>
<h3 id="DBFSG-GUID-E6A6CB28-CBEF-43A3-AA4D-E670A66F88EF" class="sect3">About Event-Based Tracing</h3>
<div>
<p>Event-<a id="d120401e968" class="indexterm-anchor"></a><a id="d120401e974" class="indexterm-anchor"></a>based tracing can be used to track events related to specific Real Application Security components. Event-based tracing helps in tracing the events that led up to a failure. For example, event number 46148 is used to trace application session events, such as <code class="codeph">createSession</code> and <code class="codeph">attachSession</code>.</p>
</div>
</div>
<a id="DBFSG99700"></a>
<div class="props_rev_3"><a id="GUID-79A13236-28EB-4236-96C9-1D551FFF5691"></a>
<h3 id="DBFSG-GUID-79A13236-28EB-4236-96C9-1D551FFF5691" class="sect3">About In-Memory Tracing</h3>
<div>
<p>In-memory <a id="d120401e1091" class="indexterm-anchor"></a><a id="d120401e1095" class="indexterm-anchor"></a><a id="d120401e1097" class="indexterm-anchor"></a>tracing is a proactive tracing mechanism that is used do diagnose intermittent and hard to replicate errors. The in-memory tracing mechanism records component state changes and events in memory buffers. This is dumped to a trace file when a failure occurs. In-memory tracing is analogous to black box data that is used for plane crash investigation.</p>
</div>
</div>
<a id="DBFSG99701"></a>
<div class="props_rev_3"><a id="GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D"></a>
<h3 id="DBFSG-GUID-9436F8DE-1DBF-44E3-AB7A-708786576A3D" class="sect3">About Statistics</h3>
<div>
<p>Real Application Security <a id="d120401e1207" class="indexterm-anchor"></a><a id="d120401e1211" class="indexterm-anchor"></a>component statistics help identify performance issues in a Real Application Security system. Statistics include key data like the number of session create operations, principal invalidations, role-enabling operations, and so on.</p>
</div>
</div>
</div>
<a id="DBFSG99703"></a><a id="DBFSG99702"></a>
<div class="props_rev_3"><a id="GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749"></a>
<h2 id="DBFSG-GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749" class="sect2">About Event-Based Tracing of Real Application Security Components</h2>
<div>
<p>Event-based tracing can be used to track events related to specific Real Application Security components. <a href="troubleshooting.htm#GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749__CEGEGFFH" title="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is its event number or Oracle error number.">Table D-2</a> lists the events assigned to Real Application Security components.</p>
<div class="tblformal" id="GUID-1077C6F5-9FDA-42BA-8E29-C38700DCD749__CEGEGFFH">
<p class="titleintable">Table D-2 Real Application Security Components and Events</p>
<table class="cellalignment5205" title="Real Application Security Components and Events" summary="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is its event number or Oracle error number.">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5279" id="d120401e1352">Real Application Security Components</th>
<th class="cellalignment5280" id="d120401e1355">Event (Oracle Error #)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1360" headers="d120401e1352">
<p>Application Sessions</p>
<p>(<code class="codeph">XSSESSION)</code></p>
</td>
<td class="cellalignment5282" headers="d120401e1360 d120401e1355">
<p>46148</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1371" headers="d120401e1352">
<p>Application Principals</p>
<p>(<code class="codeph">XSPRINCIPAL</code>)</p>
</td>
<td class="cellalignment5282" headers="d120401e1371 d120401e1355">
<p>46150</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1383" headers="d120401e1352">
<p>Security Classes</p>
<p>(<code class="codeph">XSSECCLASS</code>)</p>
</td>
<td class="cellalignment5282" headers="d120401e1383 d120401e1355">
<p>46149</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1395" headers="d120401e1352">
<p>ACLs</p>
<p><code class="codeph">(XSACL)</code></p>
</td>
<td class="cellalignment5282" headers="d120401e1395 d120401e1355">
<p>46110</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1405" headers="d120401e1352">
<p>Data Security</p>
<p>(<code class="codeph">XSXDS</code>)</p>
</td>
<td class="cellalignment5282" headers="d120401e1405 d120401e1355">
<p>46049</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1417" headers="d120401e1352">
<p>Mid-Tier Caches</p>
<p>(<code class="codeph">XS_MIDTIER</code>)</p>
</td>
<td class="cellalignment5282" headers="d120401e1417 d120401e1355">
<p>46151</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5281" id="d120401e1429" headers="d120401e1352">
<p>Data Security VPD Rewrite</p>
<p>(<code class="codeph">XSVPD</code>)</p>
</td>
<td class="cellalignment5282" headers="d120401e1429 d120401e1355">
<p>10730</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="p">The following sections describe event-based tracing for individual Real Application Security components:
<ul style="list-style-type: disc;">
<li>
<p><a href="troubleshooting.htm#GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E">About Application Sessions (XSSESSION) Event-Based Tracing</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3">About Application Principals (XSPRINCIPAL) Event-Based Tracing</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937">About Security Classes (XSSECCLASS) Event-Based Tracing</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468">About ACL (XSACL) Event-Based Tracing</a></p>
</li>
<li>
<p><a href="troubleshooting.htm#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5">About Data Security (XSXDS and XSVPD) Event-Based Tracing</a></p>
</li>
</ul>
</div>
</div>
<a id="DBFSG99705"></a><a id="DBFSG99704"></a>
<div class="props_rev_3"><a id="GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E"></a>
<h3 id="DBFSG-GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E" class="sect3">About Application Sessions (XSSESSION) Event-Based Tracing</h3>
<div>
<p>Use <a id="d120401e1570" class="indexterm-anchor"></a><a id="d120401e1574" class="indexterm-anchor"></a>the <a id="d120401e1579" class="indexterm-anchor"></a>following <code class="codeph">SQL</code> statement to enable event-based tracing for the <code class="codeph">XSSESSION</code> component:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;46148 trace name context forever level [1-3]&#39;;
</pre>
<p>Here, <code class="codeph">46148</code> is the Oracle Database error number associated with <code class="codeph">XSSESSION</code> events. You can set a trace level of <code class="codeph">1</code> (<code class="codeph">low</code>), <code class="codeph">2</code> (<code class="codeph">medium</code>), or <code class="codeph">3</code> (<code class="codeph">high</code>). <a href="troubleshooting.htm#GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E__CEGBGDFH" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-3</a> describes the trace levels.</p>
<p>Alternatively, you can use the following statement:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;TRACE [XSSESSION] disk=[low, medium, high]&#39;
</pre>
<p>You can find the location of this trace file by using the following SQL statement:</p>
<pre dir="ltr">SHOW PARAMETER USER_DUMP_DEST;
</pre>
<p><a href="troubleshooting.htm#GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E__CEGBGDFH" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-3</a> shows the <code class="codeph">XSSESSION</code> trace contents for each trace level.</p>
<div class="tblformal" id="GUID-EE8E5778-BFA5-4632-B3A6-7378857AC90E__CEGBGDFH">
<p class="titleintable">Table D-3 XSSESSION Trace Contents</p>
<table class="cellalignment5205" title="XSSESSION Trace Contents" summary="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5271" id="d120401e1655">Event</th>
<th class="cellalignment5275" id="d120401e1658">Trace Level 1 (Low)</th>
<th class="cellalignment5255" id="d120401e1661">Trace Level 2 (Medium)</th>
<th class="cellalignment5215" id="d120401e1664">Trace Level 3 (High)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1669" headers="d120401e1655">
<p><code class="codeph">createSession</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1669 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1669 d120401e1661">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>User GUID</p>
</li>
<li>
<p>Session attributes such as create time, last authentication time, global variable namespace, and cookie information</p>
</li>
</ul>
</td>
<td class="cellalignment5217" headers="d120401e1669 d120401e1664">
<p>Same as level 2</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1697" headers="d120401e1655">
<p><code class="codeph">attachSession</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1697 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1697 d120401e1661">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Roles</p>
</li>
</ul>
</td>
<td class="cellalignment5217" headers="d120401e1697 d120401e1664">
<p>Includes the following in addition to trace level 1 and 2 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Application namespace with attribute values</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1726" headers="d120401e1655">
<p><code class="codeph">detachSession</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1726 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session before detaching</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1726 d120401e1661">
<p>Same as level 1</p>
</td>
<td class="cellalignment5217" headers="d120401e1726 d120401e1664">
<p>Same as levels 1 and 2</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1747" headers="d120401e1655">
<p><code class="codeph">createNamespace</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1747 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id</p>
</li>
<li>
<p>Application namespace with attribute values</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1747 d120401e1661">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Session attributes such as create time, last authentication time, global variable namespace, and cookie information</p>
</li>
</ul>
</td>
<td class="cellalignment5217" headers="d120401e1747 d120401e1664">
<p>Includes the following in addition to trace level 1 and 2 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Namespace handler</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1779" headers="d120401e1655">
<p><code class="codeph">switchUser</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1779 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1779 d120401e1661">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Roles</p>
</li>
</ul>
</td>
<td class="cellalignment5217" headers="d120401e1779 d120401e1664">
<p>Includes the following in addition to trace level 1 and 2 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Application namespace with attribute values</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1808" headers="d120401e1655">
<p><code class="codeph">assignUser</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1808 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1808 d120401e1661">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Roles</p>
</li>
</ul>
</td>
<td class="cellalignment5217" headers="d120401e1808 d120401e1664">
<p>Includes the following in addition to trace level 1 and 2 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Application namespace with attribute values</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1837" headers="d120401e1655">
<p><code class="codeph">setAttribute</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1837 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Namespace name</p>
</li>
<li>
<p>Name and value of the given attribute before and after the <code class="codeph">setAttribute</code> operation</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1837 d120401e1661">
<p>Same as level 1</p>
</td>
<td class="cellalignment5217" headers="d120401e1837 d120401e1664">
<p>Same as levels 1 and 2</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5273" id="d120401e1861" headers="d120401e1655">
<p><code class="codeph">deleteAttribute</code></p>
</td>
<td class="cellalignment5277" headers="d120401e1861 d120401e1658">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Namespace name and</p>
</li>
<li>
<p>Name and value of the given attribute before and after the <code class="codeph">deleteAttribute</code> operation</p>
</li>
</ul>
</td>
<td class="cellalignment5257" headers="d120401e1861 d120401e1661">
<p>Same as level 1</p>
</td>
<td class="cellalignment5217" headers="d120401e1861 d120401e1664">
<p>Same as levels 1 and 2</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>In addition to the preceding event, you can use the named event, <code class="codeph">xs_session_state</code> to dump the current state of application sessions. Use the following SQL statement to enable tracing for the <code class="codeph">xs_session_state</code> event:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;immediate eventdump(xs_session_state)&#39;;
</pre>
<p>The event dump contains information on all session attributes in the User Global Area (UGA) memory, such as session Id, user name, create time, last authentication time, global variable namespace, and so on. The dump does not contain information on secure items such as passwords.</p>
</div>
</div>
<a id="DBFSG99707"></a><a id="DBFSG99706"></a>
<div class="props_rev_3"><a id="GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3"></a>
<h3 id="DBFSG-GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3" class="sect3">About Application Principals (XSPRINCIPAL) Event-Based Tracing</h3>
<div>
<p>Use<a id="d120401e2004" class="indexterm-anchor"></a><a id="d120401e2008" class="indexterm-anchor"></a> the <a id="d120401e2013" class="indexterm-anchor"></a><a id="d120401e2017" class="indexterm-anchor"></a>following <code class="codeph">SQL</code> statement to enable event-based tracing for the <code class="codeph">XSPRINCIPAL</code> component:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;46150 trace name context forever level [1, 2, 3]&#39;;
</pre>
<p>Here, <code class="codeph">46150</code> is the Oracle Database error number associated with <code class="codeph">XSPRINCIPAL</code> events. You can set a trace level of <code class="codeph">1</code> (<code class="codeph">low</code>), <code class="codeph">2</code> (<code class="codeph">medium</code>), or <code class="codeph">3</code> (<code class="codeph">high</code>). <a href="troubleshooting.htm#GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3__CEGHGIJC" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-4</a> describes the trace levels.</p>
<p>Alternatively, you can use the following statement:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;TRACE [XSPRINCIPAL] disk=[low, medium, high]&#39;;
</pre>
<p>You can find the location of this trace file by using the following SQL statement:</p>
<pre dir="ltr">SHOW PARAMETER USER_DUMP_DEST;
</pre>
<p><a href="troubleshooting.htm#GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3__CEGHGIJC" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-4</a> shows the <code class="codeph">XSPRINCIPAL</code> trace contents for each trace level.</p>
<div class="tblformal" id="GUID-31A709F6-4C44-43E7-9A56-504AEBC9EEB3__CEGHGIJC">
<p class="titleintable">Table D-4 XSPRINCIPAL Trace Contents</p>
<table class="cellalignment5205" title="XSPRINCIPAL Trace Contents" summary="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5215" id="d120401e2093">Event</th>
<th class="cellalignment5304" id="d120401e2096">Trace Level 1 (Low)</th>
<th class="cellalignment5259" id="d120401e2099">Trace Level 2 (Medium)</th>
<th class="cellalignment5294" id="d120401e2102">Trace Level 3 (High)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5217" id="d120401e2107" headers="d120401e2093">
<p>Enable Role</p>
</td>
<td class="cellalignment5305" headers="d120401e2107 d120401e2096">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session</p>
</li>
</ul>
</td>
<td class="cellalignment5261" headers="d120401e2107 d120401e2099">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the Enable Role operation fails, then the cause is logged. For example, the operation may fail if the role does not exist or the user has not been granted the role</p>
</li>
</ul>
</td>
<td class="cellalignment5297" headers="d120401e2107 d120401e2102">
<p>Same as levels 1 and 2</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5217" id="d120401e2131" headers="d120401e2093">
<p>Disable Role</p>
</td>
<td class="cellalignment5305" headers="d120401e2131 d120401e2096">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>All user enabled roles in the session after the role is disabled</p>
</li>
</ul>
</td>
<td class="cellalignment5261" headers="d120401e2131 d120401e2099">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the Disable Role operation fails, then the cause is logged.</p>
</li>
</ul>
</td>
<td class="cellalignment5297" headers="d120401e2131 d120401e2102">
<p>Same as levels 1 and 2</p>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5217" id="d120401e2152" headers="d120401e2093">
<p>Role Graph Traverse</p>
</td>
<td class="cellalignment5305" headers="d120401e2152 d120401e2096">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>User name</p>
</li>
<li>
<p>Session Id for the session</p>
</li>
</ul>
</td>
<td class="cellalignment5261" headers="d120401e2152 d120401e2099">
<p>Same as level 1</p>
</td>
<td class="cellalignment5297" headers="d120401e2152 d120401e2102">
<p>Same as levels 1 and 2</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DBFSG99708"></a>
<div class="props_rev_3"><a id="GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937"></a>
<h3 id="DBFSG-GUID-D03D7C92-7004-4DD7-A957-7732EDEA0937" class="sect3">About Security Classes (XSSECCLASS) Event-Based Tracing</h3>
<div>
<p>Use the <a id="d120401e2277" class="indexterm-anchor"></a><a id="d120401e2281" class="indexterm-anchor"></a>following <a id="d120401e2286" class="indexterm-anchor"></a><code class="codeph">SQL</code> statement to enable event-based tracing for the <code class="codeph">XSSECCLASS</code> component:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;46149 trace name context forever level [1, 2, 3]&#39;;
</pre>
<p>Here, <code class="codeph">46149</code> is the Oracle Database error number associated with <code class="codeph">XSSECCLASS</code> events. You can set a trace level of <code class="codeph">1</code> (<code class="codeph">low</code>), <code class="codeph">2</code> (<code class="codeph">medium</code>), or <code class="codeph">3</code> (<code class="codeph">high</code>).</p>
<p>Alternatively, you can use the following statement:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;TRACE [XSSECCLASS] disk=[low, medium, high]&#39;;
</pre>
<p>You can find the location of this trace file by using the following SQL statement:</p>
<pre dir="ltr">SHOW PARAMETER USER_DUMP_DEST;
</pre>
<p>The trace information includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Content from the Security Class document, such as parent classes, child classes, privileges, and aggregate privileges</p>
</li>
<li>
<p>For security class deletions, it includes information on parent classes that require invalidation from the cache</p>
</li>
<li>
<p>Exception related information, such as security class validation errors</p>
</li>
</ul>
</div>
</div>
<a id="DBFSG843"></a><a id="DBFSG842"></a>
<div class="props_rev_3"><a id="GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468"></a>
<h3 id="DBFSG-GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468" class="sect3">About ACL (XSACL) Event-Based Tracing</h3>
<div>
<p>Use the <a id="d120401e2454" class="indexterm-anchor"></a><a id="d120401e2458" class="indexterm-anchor"></a>following <a id="d120401e2463" class="indexterm-anchor"></a><code class="codeph">SQL</code> statement to enable event-based tracing for the <code class="codeph">XSACL</code> component:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;46110 trace name context forever level [1, 2, 3]&#39;;
</pre>
<p>Here, <code class="codeph">46110</code> is the Oracle Database error number associated with <code class="codeph">XSACL</code> events. You can set a trace level of <code class="codeph">1</code> (<code class="codeph">low</code>), <code class="codeph">2</code> (<code class="codeph">medium</code>), or <code class="codeph">3</code> (<code class="codeph">high</code>).</p>
<p>Alternatively, you can use the following statement:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;TRACE [XSACL] disk=[low, medium, high]&#39;;
</pre>
<p>You can find the location of this trace file by using the following SQL statement:</p>
<pre dir="ltr">SHOW PARAMETER USER_DUMP_DEST;
</pre>
<p><a href="troubleshooting.htm#GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468__BABDICFJ" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-5</a> shows the <code class="codeph">XSACL</code> trace contents for each trace level.</p>
<div class="tblformal" id="GUID-A6C2EB8E-2CDF-4E18-BD1B-C6909AF2E468__BABDICFJ">
<p class="titleintable">Table D-5 XSACL Trace Contents</p>
<table class="cellalignment5205" title="XSACL Trace Contents" summary="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5215" id="d120401e2533">Event</th>
<th class="cellalignment5304" id="d120401e2536">Trace Level 1 (Low)</th>
<th class="cellalignment5259" id="d120401e2539">Trace Level 2 (Medium)</th>
<th class="cellalignment5294" id="d120401e2542">Trace Level 3 (High)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5217" id="d120401e2547" headers="d120401e2533">
<p>Check privilege against ACLs</p>
</td>
<td class="cellalignment5305" headers="d120401e2547 d120401e2536">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>ACL results during cursor sharing</p>
</li>
</ul>
</td>
<td class="cellalignment5261" headers="d120401e2547 d120401e2539">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>ACL evaluation including ACL loading</p>
</li>
</ul>
</td>
<td class="cellalignment5297" headers="d120401e2547 d120401e2542">
<p>Same as levels 1 and 2</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DBFSG99710"></a><a id="DBFSG99711"></a><a id="DBFSG99709"></a>
<div class="props_rev_3"><a id="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5"></a>
<h3 id="DBFSG-GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5" class="sect3">About Data Security (XSXDS and XSVPD) Event-Based Tracing</h3>
<div>
<p>Use <a id="d120401e2675" class="indexterm-anchor"></a><a id="d120401e2679" class="indexterm-anchor"></a>the <a id="d120401e2684" class="indexterm-anchor"></a>following <code class="codeph">SQL</code> statement to enable event-based tracing for the <code class="codeph">XSXDS</code> component:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;46049 trace name context forever level [1, 2, 3]&#39;;
</pre>
<p>Here, <code class="codeph">46049</code> is the Oracle Database error number associated with <code class="codeph">XSXDS</code> events. You can set a trace level of <code class="codeph">1</code> (<code class="codeph">low</code>), <code class="codeph">2</code> (<code class="codeph">medium</code>), or <code class="codeph">3</code> (<code class="codeph">high</code>). <a href="troubleshooting.htm#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-6</a> describes the trace levels.</p>
<p>Alternatively, you can use the following statement:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;TRACE [XSXDS] disk=[low, medium, high]&#39;;
</pre>
<p>You can find the location of this trace file by using the following SQL statement:</p>
<pre dir="ltr">SHOW PARAMETER USER_DUMP_DEST;
</pre>
<p><a href="troubleshooting.htm#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-6</a> shows the <code class="codeph">XSXDS</code> trace contents for each trace level.</p>
<div class="tblformal" id="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD">
<p class="titleintable">Table D-6 XSXDS Trace Contents</p>
<table class="cellalignment5205" title="XSXDS Trace Contents" summary=" This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5215" id="d120401e2760">Event</th>
<th class="cellalignment5304" id="d120401e2763">Trace Level 1 (Low)</th>
<th class="cellalignment5259" id="d120401e2766">Trace Level 2 (Medium)</th>
<th class="cellalignment5294" id="d120401e2769">Trace Level 3 (High)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5217" id="d120401e2774" headers="d120401e2760">
<p>Data Security Document (DSD) loaded into System Global Area (SGA)</p>
</td>
<td class="cellalignment5305" headers="d120401e2774 d120401e2763">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Security data realm constraint rules with resolved parameter values</p>
</li>
</ul>
</td>
<td class="cellalignment5261" headers="d120401e2774 d120401e2766">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Access Control List (ACL) identifiers</p>
</li>
</ul>
</td>
<td class="cellalignment5297" headers="d120401e2774 d120401e2769">
<p>Same as levels 1 and 2</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Use the following <code class="codeph">SQL</code> statement to enable event-based tracing for the <code class="codeph">XSVPD</code> component:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;10730 trace name context forever level [1, 2, 3]&#39;;
</pre>
<p>Here, 10730 is the Oracle Database error number associated with <code class="codeph">XSVPD</code> events. You can set a trace level of <code class="codeph">1</code> (<code class="codeph">low</code>), <code class="codeph">2</code> (<code class="codeph">medium</code>), or <code class="codeph">3</code> (<code class="codeph">high</code>). <a href="troubleshooting.htm#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-6</a> describes the trace levels.</p>
<p>Alternatively, you can use the following statement:</p>
<pre dir="ltr">ALTER SESSION SET EVENTS &#39;TRACE [XSVPD] disk=[low, medium, high]&#39;;
</pre>
<p><a href="troubleshooting.htm#GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__CEGIBFCD" title="This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">Table D-6</a> shows the <code class="codeph">XSVPD</code> trace contents for each trace level.</p>
<div class="tblformal" id="GUID-1B37573C-FD97-48A4-99D0-2AEDAD471EC5__GUID-B99E6B3E-BA52-4905-8C02-421EDB155D6A">
<p class="titleintable">Table D-7 XSVPD Trace Contents</p>
<table class="cellalignment5205" title="XSVPD Trace Contents" summary=" This table has 4 columns. Column 1 is the event name, column 2 is trace level 1 (low), column 3 is trace level 2 (medium), and column 4 is the trace level 3 (high).">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5215" id="d120401e2859">Event</th>
<th class="cellalignment5304" id="d120401e2862">Trace Level 1 (Low)</th>
<th class="cellalignment5259" id="d120401e2865">Trace Level 2 (Medium)</th>
<th class="cellalignment5294" id="d120401e2868">Trace Level 3 (High)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5217" id="d120401e2873" headers="d120401e2859">
<ul style="list-style-type: disc;">
<li>
<p>Data Security Document (DSD) loaded into System Global Area (SGA)</p>
</li>
<li>
<p>All subsequent SQL statements issued in the current database session</p>
</li>
</ul>
</td>
<td class="cellalignment5305" headers="d120401e2873 d120401e2862">
<p>Includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>VPD view of XDS enabled objects during hard-parse, soft-parse, or SQL statement parsing</p>
</li>
<li>
<p>Data realm constraint rules with resolved parameter values, their corresponding ACL paths and ACL identifiers</p>
</li>
</ul>
</td>
<td class="cellalignment5261" headers="d120401e2873 d120401e2865">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Current application session user name and enabled roles when the SQL statement is parsed or run</p>
</li>
</ul>
</td>
<td class="cellalignment5297" headers="d120401e2873 d120401e2868">
<p>Includes the following in addition to trace level 1 items:</p>
<ul style="list-style-type: disc;">
<li>
<p>Contents of all ACLs associated with data realm constraints, which are associated with the XDS enabled objects in the query</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="DBFSG99714"></a><a id="DBFSG99713"></a>
<div class="props_rev_3"><a id="GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539"></a>
<h2 id="DBFSG-GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539" class="sect2">About Exception State Dump Information</h2>
<div>
<p>When an <a id="d120401e3013" class="indexterm-anchor"></a><a id="d120401e3017" class="indexterm-anchor"></a>exception occurs, the state information for Real Application Security components is dumped into trace files. <a href="troubleshooting.htm#GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539__CEGCGGFH" title="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is its exception related information.">Table D-8</a> describes the information dumped for individual Real Application Security components:</p>
<div class="tblformal" id="GUID-DB49AE5B-5E95-4CA2-B77A-B0CE375AA539__CEGCGGFH">
<p class="titleintable">Table D-8 Real Application Security Components and First-Failure Dump Information</p>
<table class="cellalignment5205" title="Real Application Security Components and First-Failure Dump Information" summary="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is its exception related information.">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5304" id="d120401e3035">Real Application Security Component</th>
<th class="cellalignment5326" id="d120401e3038">Exception Related Information</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5305" id="d120401e3043" headers="d120401e3035">
<p><code class="codeph">XSSESSION</code></p>
</td>
<td class="cellalignment5327" headers="d120401e3043 d120401e3038">
<ul style="list-style-type: disc;">
<li>
<p>Application session state information</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5305" id="d120401e3053" headers="d120401e3035">
<p><code class="codeph">XSPRINCIPAL</code></p>
</td>
<td class="cellalignment5327" headers="d120401e3053 d120401e3038">
<ul style="list-style-type: disc;">
<li>
<p>Application session role lists (all roles, enabled roles, disabled roles, and database roles of the application session)</p>
</li>
<li>
<p>Role Graph hash table of the system</p>
</li>
<li>
<p>User hash table with direct roles granted to the users in the system</p>
</li>
<li>
<p>Principal row cache state</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DBFSG99716"></a><a id="DBFSG99715"></a>
<div class="props_rev_3"><a id="GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A"></a>
<h2 id="DBFSG-GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A" class="sect2">About Session Statistics</h2>
<div>
<p>Real Application Security <a id="d120401e3178" class="indexterm-anchor"></a><a id="d120401e3182" class="indexterm-anchor"></a>component statistics help identify performance issues in a Real Application Security system. <a href="troubleshooting.htm#GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A__CEGIDIEA" title="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is the performance statistics collected for that component.">Table D-9</a> describes the statistics collected for individual Real Application Security components.</p>
<div class="tblformal" id="GUID-528CADA3-2BC9-4F8D-892E-987DF54A887A__CEGIDIEA">
<p class="titleintable">Table D-9 Real Application Security Components and Performance Statistics</p>
<table class="cellalignment5205" title="Real Application Security Components and Performance Statistics" summary="This table has 2 columns. Column 1 is the name of the Real Application Security component and column 2 is the performance statistics collected for that component.">
<thead>
<tr class="cellalignment5199">
<th class="cellalignment5304" id="d120401e3202">Real Application Security Component</th>
<th class="cellalignment5326" id="d120401e3205">Performance Statistics Collected</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5199">
<td class="cellalignment5305" id="d120401e3210" headers="d120401e3202">
<p><code class="codeph">XSSESSION</code></p>
</td>
<td class="cellalignment5327" headers="d120401e3210 d120401e3205">
<ul style="list-style-type: disc;">
<li>
<p>Number of application sessions created</p>
</li>
<li>
<p>Number of application sessions attached and detached</p>
</li>
<li>
<p>Number of namespaces created</p>
</li>
<li>
<p>Number of user callbacks executed</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5305" id="d120401e3229" headers="d120401e3202">
<p><code class="codeph">XSPRINCIPAL</code></p>
</td>
<td class="cellalignment5327" headers="d120401e3229 d120401e3205">
<ul style="list-style-type: disc;">
<li>
<p>Number of roles enabled/disabled</p>
</li>
<li>
<p>Number of principal cache misses</p>
</li>
<li>
<p>Number of principal invalidations</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5199">
<td class="cellalignment5305" id="d120401e3245" headers="d120401e3202">
<p>Mid-tier caches</p>
</td>
<td class="cellalignment5327" headers="d120401e3245 d120401e3205">
<ul style="list-style-type: disc;">
<li>
<p>Number of session cache synchronizations</p>
</li>
<li>
<p>Number of principal cache synchronizations</p>
</li>
<li>
<p>Number of security class cache synchronizations</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="DBFSG99717"></a>
<div class="props_rev_3"><a id="GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297"></a>
<h2 id="DBFSG-GUID-A5462710-7C65-44D5-BBEE-F7EA1B717297" class="sect2">Using Middle-Tier Tracing</h2>
<div>
<div class="section">
<p>Middle-tier tracing uses the package <code class="codeph">oracle.security.xs</code>. It can be done as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Specify logging options in a property file. For example,</span>
<div>
<pre dir="ltr">handlers= java.util.logging.ConsoleHandler
.level= SEVERE
java.util.logging.ConsoleHandler.level = FINEST
java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter
oracle.security.xs.level = FINEST
</pre></div>
</li>
<li class="stepexpand"><span>Apply the preceding configuration during JVM start up.</span>
<div>
<pre dir="ltr">java -Djava.util.logging.config.file=logging.properties
</pre>
<p>The log output will be generated to the handlers (file, console) specified in the configuration.</p>
</div>
</li>
</ol>
<div class="section">
<p>Real Application Security user can use mid-tier java API for authentication, authorization, session management, and so forth. In case the user needs to debug on interfacing with mid-tier API, trace can be turned on. The trace can show basic call stacks, function involved, time used, parameters passed, returning value, and so forth.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5198">
<tr>
<td class="cellalignment5287">
<table class="cellalignment5203">
<tr>
<td class="cellalignment5202"><a href="security_hr_demo_files.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5202"><a href="glossary.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5289">
<table class="cellalignment5201">
<tr>
<td class="cellalignment5202"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5202"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5202"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5202"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5202"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5202"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-73856"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Cloning%20an%20Oracle%20Home"></a><title>Cloning an Oracle Home</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-05T7:43:49Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Installation Guide"/>
<meta name="dcterms.identifier" content="E41491-20"/>
<meta name="dcterms.isVersionOf" content="LADBI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="app_nonint.htm" title="Previous" type="text/html"/>
<link rel="Next" href="app_nas.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41491-20.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/26</span> <!-- End Header -->
<div id="LADBI7852" class="appendix"><a id="BABBJJJD"></a>
<h1 class="appendix"><span class="secnum">B</span> Cloning an Oracle Home</h1>
<p>Cloning an Oracle home involves creating a copy of the Oracle home and then configuring it for a new environment. If you are performing multiple Oracle Database installations, then you may want to use this method to create each Oracle home, because copying files from an existing Oracle Database installation takes less time than creating a new version of them. This method is also useful if the Oracle home that you are cloning has had patches applied to it. When you clone the Oracle home, the new Oracle home has the patch updates.</p>
<p>This appendix includes information about the following topics:</p>
<ul>
<li>
<p><a href="#BABCIEID">Cloning an Oracle Home</a></p>
</li>
<li>
<p><a href="#BABBIEEF">Configuring Oracle Configuration Manager in a Cloned Oracle Home</a></p>
</li>
</ul>
<a id="BABCIEID"></a>
<div id="LADBI7853" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.1</span> <a id="sthref784"></a><a id="sthref785"></a>Cloning an Oracle Home</h2>
<p>Perform the following to clone an Oracle home:</p>
<ol>
<li>
<p>Verify that the installation of Oracle Database to clone is successful.</p>
<p>You can do this by reviewing the <code dir="ltr">installActions</code><code dir="ltr"><span class="codeinlineitalic">date_time</span></code><code dir="ltr">.log</code> file for the installation session, which is typically located in the <code dir="ltr">/</code><code dir="ltr"><span class="codeinlineitalic">orainventory_location</span></code><code dir="ltr">/logs</code> directory.</p>
<p>If you install patches, then check their status using the following:</p>
<pre dir="ltr">$ cd $ORACLE_HOME/OPatch
</pre>
<p>Include <code dir="ltr">$ORACLE_HOME/OPatch</code> in <code dir="ltr">$PATH</code></p>
<pre dir="ltr">$ opatch lsinventory
</pre></li>
<li>
<p>Stop all processes related to the Oracle home. See <a href="usr_grps.htm#BACFIBJI">&#34;Stopping Existing Oracle Processes&#34;</a> for more information about stopping the processes for an Oracle home.</p>
</li>
<li>
<p>Create a ZIP or TAR file with the Oracle home (but not the Oracle base) directory.</p>
<p>For example, if the source Oracle installation is in the <code dir="ltr">/u01/app/oracle/product/12.1.0/dbhome_1</code>, then you zip the <code dir="ltr">dbhome_1</code> directory by using the following command:</p>
<pre dir="ltr"># zip -r dbhome_1.zip /u01/app/oracle/product/12.1.0/dbhome_1
</pre>
<p>You can also use the TAR command, for example:</p>
<pre dir="ltr"># tar -cvf dbhome_1.tar /u01/app/oracle/product/12.1.0/dbhome_1
</pre>
<p>Do not include the <code dir="ltr">admin</code>, <code dir="ltr">fast_recovery_area</code>, and <code dir="ltr">oradata</code> directories that are under the Oracle base directory. These directories are created in the target installation later, when you create a new database there.</p>
</li>
<li id="BBAGCBIE">
<p>Copy the ZIP or TAR file to the root directory of the target computer. If you use File Transfer Protocol (FTP), then transfer the ZIP or TAR file in binary mode only.</p>
</li>
<li id="BBACDADJ">
<p>Extract the ZIP or TAR file content using the following command:</p>
<pre dir="ltr"># unzip -d / dbhome_1.zip
</pre>
<pre dir="ltr"># tar -xvf dbhome_1.tar
</pre></li>
<li>
<p>Repeat steps <a href="#BBAGCBIE">4</a> and <a href="#BBACDADJ">5</a> for each computer where you want to clone the Oracle home, unless the Oracle home is on a shared storage device.</p>
</li>
<li>
<p>On the target computer, change the directory to the unzipped Oracle home directory, and remove all the .ora (*.ora) files present in the unzipped <code dir="ltr">$ORACLE_HOME/network/admin</code> directory.</p>
</li>
<li>
<p>From the <code dir="ltr">$ORACLE_HOME/clone/bin</code> directory, run the <code dir="ltr">clone.pl</code> file for the unzipped Oracle home. Use the following syntax:</p>
<pre dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/clone/bin/clone.pl ORACLE_BASE=&#34;<span class="codeinlineitalic">target_oracle_base</span>&#34; ORACLE_HOME=&#34;<span class="codeinlineitalic">target_oracle_home</span>&#34;
OSDBA_GROUP=<span class="codeinlineitalic">OSDBA_privileged_group</span> OSOPER_GROUP=<span class="codeinlineitalic">OSOPER_privileged_group</span> -defaultHomeName
</pre>
<p>For example:</p>
<pre dir="ltr">$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/clone/bin/clone.pl ORACLE_BASE=&#34;/u01/app/oracle/&#34; ORACLE_HOME=&#34;/u01/app/oracle/product/12.1.0/dbhome_1&#34;
OSDBA_GROUP=dba OSOPER_GROUP=oper -defaultHomeName
</pre>
<p>Oracle Universal Installer starts, and then records the cloning actions in the <code dir="ltr">cloneActions</code><code dir="ltr"><span class="codeinlineitalic">timestamp</span></code><code dir="ltr">.log</code> file. This log file is typically located in <code dir="ltr">/</code><code dir="ltr"><span class="codeinlineitalic">orainventory_location</span></code><code dir="ltr">/logs</code> directory.</p>
</li>
<li>
<p>To configure the connection information for the new database, run Net Configuration Assistant:</p>
<pre dir="ltr">$ cd $ORACLE_HOME/bin
$ ./netca
</pre></li>
<li>
<p>To create a new database for the newly cloned Oracle home, run Database Configuration Assistant:</p>
<pre dir="ltr">$ cd $ORACLE_HOME/bin
$ ./dbca
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OUICG238" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OUICG238"><span class="italic">Oracle Universal Installer User&#39;s Guide</span></a> for detailed information about using Oracle Universal Installer to clone an Oracle Database home</p>
</li>
<li>
<p><a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about cloning Oracle databases and cloning an Oracle Database home</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BABBIEEF"></a>
<div id="LADBI7854" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">B.2</span> <a id="sthref786"></a><a id="sthref787"></a>Configuring Oracle Configuration Manager in a Cloned Oracle Home</h2>
<p>Configuring Oracle Configuration Manager for a cloned Oracle home depends on its configuration in the original Oracle home.</p>
<p>If you have already installed but not configured Oracle Configuration Manager in the original Oracle home, then run the following commands from the cloned Oracle home:</p>
<pre dir="ltr">$ cd $ORACLE_HOME/ccr/bin
$ setupCCR
</pre>
<p>If you have already configured Oracle Configuration Manager in the original Oracle home, then run the following commands from the cloned Oracle home:</p>
<pre dir="ltr">$ cd $ORACLE_HOME/ccr/bin
$ ./deriveCCR
</pre>
<p>If <code dir="ltr">deriveCCR</code> cannot find the original configuration, then the Oracle Configuration Manager command-line interface prompts for your My Oracle Support (MOS) credentials. Provide your MOS credentials to proceed.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2167">
<tr>
<td class="cellalignment2174">
<table class="cellalignment2172">
<tr>
<td class="cellalignment2171"><a href="app_nonint.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2171"><a href="app_nas.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2176">
<table class="cellalignment2170">
<tr>
<td class="cellalignment2171"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2171"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2171"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2171"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2171"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2171"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
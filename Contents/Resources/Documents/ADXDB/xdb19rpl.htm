<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-1618"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/PL%2FSQL%20Access%20to%20Oracle%20XML%C2%A0DB%20Repository"></a><title>PL/SQL Access to Oracle XML&nbsp;DB Repository</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository."/>
<meta name="keywords" content="resource, management using DBMS_XDB_REPOS, DBMS_XDB_REPOS PL/SQL package, PL/SQL packages, DBMS_XDB_REPOS"/>
<meta name="dcterms.created" content="2016-12-08T13:53:25Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="XML DB Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41152-15"/>
<meta name="dcterms.isVersionOf" content="ADXDB"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="xdb17ver.htm" title="Previous" type="text/html"/>
<link rel="Next" href="xdb21sec.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41152-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C"></a> <span id="PAGE" style="display:none;">39/61</span> <!-- End Header -->
<a id="ADXDB2300"></a>
<h1 id="ADXDB-GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" class="sect1"><span class="enumeration_chapter">26</span> PL/SQL Access to Oracle XML&nbsp;DB Repository</h1>
<div>
<p>PL/SQL packages <code>DBMS_XDB_CONFIG</code> and <code>DBMS_XDB_REPOS</code> together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="xdb19rpl.htm#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610" title="You use PL/SQL package DBMS_XDB_REPOS to access and manage resources in Oracle XML&nbsp;DB Repository. It includes methods for managing resource security based on access control lists (ACLs). An ACL is a list of access control entries (ACEs) that determines which principals (users and roles) have access to which resources.">DBMS_XDB_REPOS: Access and Manage Repository Resources</a></p>
</li>
<li>
<p><a href="xdb19rpl.htm#GUID-9560B205-943B-4159-9734-44B9B74F2ACE" title="PL/SQL package DBMS_XDB_REPOS provides Oracle XML&nbsp;DB ACL-based security management functions and procedures.">DBMS_XDB_REPOS: ACL-Based Security Management</a></p>
</li>
<li>
<p><a href="xdb19rpl.htm#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" title="PL/SQL package DBMS_XDB_CONFIG provides Oracle XML&nbsp;DB configuration management functions and procedures.">DBMS_XDB_CONFIG: Configuration Management</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C__GUID-3E2255B0-58FE-4814-92FF-00B88DC9F686">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="xdb10pls.htm#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="The PL/SQL Application Programming Interfaces (APIs) for XMLType are described.">PL/SQL APIs for XMLType: References</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232" title="PL/SQL package DBMS_XDB_ADMIN has subprograms for managing and configuring Oracle XML&nbsp;DB and Oracle XML&nbsp;DB Repository.">Package DBMS_XDB_ADMIN</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="ADXDB5441"></a><a id="ADXDB5442"></a><a id="ADXDB5440"></a>
<div class="props_rev_3"><a id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610"></a>
<h2 id="ADXDB-GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610" class="sect2"><span class="enumeration_section">26.1</span> DBMS_XDB_REPOS: Access and Manage Repository Resources</h2>
<div>
<p>You use PL/SQL package <code>DBMS_XDB_REPOS</code> to access and manage resources in Oracle XML&nbsp;DB Repository. It includes methods for managing resource security based on access control lists (ACLs). An ACL is a list of access control entries (ACEs) that determines which principals (users and roles) have access to which resources.</p>
<div class="infoboxnotealso" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__GUID-9A70CF7F-7864-4BFB-BEF2-A4DF79880688">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS74188" target="_blank" href="../ARPLS/d_xdb_repos.htm#ARPLS74188"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</div>
<p><a href="xdb19rpl.htm#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__CHDIAHGI" title="This table describes DBMS_XDB resource management methods.">Table 26-1</a> describes the functions and procedures in package <code>DBMS_XDB_REPOS</code>.</p>
<div class="tblformalwide" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__CHDIAHGI">
<p class="titleintable">Table 26-1 DBMS_XDB_REPOS Resource Access and Management Subprograms</p>
<table class="cellalignment3431" title="DBMS_XDB_REPOS Resource Access and Management Subprograms" summary="This table describes DBMS_XDB resource management methods.">
<thead>
<tr class="cellalignment3411">
<th class="cellalignment3452" id="d127293e150">Function/Procedure</th>
<th class="cellalignment3530" id="d127293e153">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e158" headers="d127293e150">
<p><code>addResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e158 d127293e153">
<p>Insert a new file resource into the repository hierarchy, with the given string as its contents.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e166" headers="d127293e150">
<p><code>appendResourceMetadata</code></p>
</td>
<td class="cellalignment3531" headers="d127293e166 d127293e153">
<p>Add user-defined metadata to a resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e174" headers="d127293e150">
<p><code>createFolder</code></p>
</td>
<td class="cellalignment3531" headers="d127293e174 d127293e153">
<p>Create a new folder resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e182" headers="d127293e150">
<p><code>createOIDPath</code></p>
</td>
<td class="cellalignment3531" headers="d127293e182 d127293e153">
<p>Create a virtual path to a resource, based on its object identifier (OID).</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e190" headers="d127293e150">
<p><code>createResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e190 d127293e153">
<p>Create a new file resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e198" headers="d127293e150">
<p><code>deleteResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e198 d127293e153">
<p>Delete a resource from the repository.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e206" headers="d127293e150">
<p><code>deleteResourceMetadata</code></p>
</td>
<td class="cellalignment3531" headers="d127293e206 d127293e153">
<p>Delete specific user-defined metadata from a resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e215" headers="d127293e150">
<p><code>existsResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e215 d127293e153">
<p>Indicate whether or not a resource exists, given its absolute path.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e223" headers="d127293e150">
<p><code>getContentBLOB</code></p>
</td>
<td class="cellalignment3531" headers="d127293e223 d127293e153">
<p>Return the contents of a resource as a <code>BLOB</code> instance.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e234" headers="d127293e150">
<p><code>getContentVARCHAR2</code></p>
</td>
<td class="cellalignment3531" headers="d127293e234 d127293e153">
<p>Return the contents of a resource as a <code>VARCHAR2</code> value.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e245" headers="d127293e150">
<p><code>getContentXMLRef</code></p>
</td>
<td class="cellalignment3531" headers="d127293e245 d127293e153">
<p>Return the contents of a resource as a reference to an <code>XMLType</code> instance.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e257" headers="d127293e150">
<p><code>getContentXMLType</code></p>
</td>
<td class="cellalignment3531" headers="d127293e257 d127293e153">
<p>Return the contents of a resource as an <code>XMLType</code> instance.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e268" headers="d127293e150">
<p><code>getLockToken</code></p>
</td>
<td class="cellalignment3531" headers="d127293e268 d127293e153">
<p>Return a resource lock token for the current user, given a path to the resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e276" headers="d127293e150">
<p><code>getResOID</code></p>
</td>
<td class="cellalignment3531" headers="d127293e276 d127293e153">
<p>Return the object identifier (OID) of a resource, given its absolute path.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e284" headers="d127293e150">
<p><code>getResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e284 d127293e153">
<p>Return the instance of class <code>DBMS_XDBRESOURCE.XDBResource</code> that is located at a given path in the repository.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e295" headers="d127293e150">
<p><code>getXDB_tablespace</code></p>
</td>
<td class="cellalignment3531" headers="d127293e295 d127293e153">
<p>Return the current tablespace of database schema (user account) <code>XDB</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e306" headers="d127293e150">
<p><code>hasBLOBContent</code></p>
</td>
<td class="cellalignment3531" headers="d127293e306 d127293e153">
<p>Return <code>TRUE</code> if a given resource has <code>BLOB</code> content.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e320" headers="d127293e150">
<p><code>hasCharContent</code></p>
</td>
<td class="cellalignment3531" headers="d127293e320 d127293e153">
<p>Return <code>TRUE</code> if a given resource has character content.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e331" headers="d127293e150">
<p><code>hasXMLContent</code></p>
</td>
<td class="cellalignment3531" headers="d127293e331 d127293e153">
<p>Return <code>TRUE</code> if a given resource has <code>XMLType</code> content.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e345" headers="d127293e150">
<p><code>hasXMLReference</code></p>
</td>
<td class="cellalignment3531" headers="d127293e345 d127293e153">
<p>Return <code>TRUE</code> if a given resource has a reference to <code>XMLType</code> content.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e359" headers="d127293e150">
<p><code>isFolder</code></p>
</td>
<td class="cellalignment3531" headers="d127293e359 d127293e153">
<p>Return <code>TRUE</code> if a given resource is a folder.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e370" headers="d127293e150">
<p><code>link</code></p>
</td>
<td class="cellalignment3531" headers="d127293e370 d127293e153">
<p>Create a link to an existing resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e379" headers="d127293e150">
<p><code>lockResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e379 d127293e153">
<p>Obtain a WebDAV-style lock on a resource, given a path to the resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e387" headers="d127293e150">
<p><code>processLinks</code></p>
</td>
<td class="cellalignment3531" headers="d127293e387 d127293e153">
<p>Process all XLink and XInclude links in a document or folder.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e395" headers="d127293e150">
<p><code>purgeResourceMetadata</code></p>
</td>
<td class="cellalignment3531" headers="d127293e395 d127293e153">
<p>Delete all user-defined metadata from a given resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e403" headers="d127293e150">
<p><code>refreshContentSize</code></p>
</td>
<td class="cellalignment3531" headers="d127293e403 d127293e153">
<p>Recompute the content size of a given resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e411" headers="d127293e150">
<p><code>renameResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e411 d127293e153">
<p>Rename a given resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e419" headers="d127293e150">
<p><code>touchResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e419 d127293e153">
<p>Change the last-modified time to the current time.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e427" headers="d127293e150">
<p><code>unlockResource</code></p>
</td>
<td class="cellalignment3531" headers="d127293e427 d127293e153">
<p>Unlock a resource, given its lock token and path.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3456" id="d127293e435" headers="d127293e150">
<p><code>updateResourceMetadata</code></p>
</td>
<td class="cellalignment3531" headers="d127293e435 d127293e153">
<p>Modify user-defined resource metadata.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a href="xdb19rpl.htm#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__i1028471">Example 26-1</a> uses package <code>DBMS_XDB_REPOS</code> to manage repository resources. It creates the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>A folder, <code>mydocs</code>, under folder <code>/public</code></p>
</li>
<li>
<p>Two file resources, <code>emp_selby.xml</code> and <code>emp_david.xml</code></p>
</li>
<li>
<p>Two links to the file resources <code>person_selby.xml</code> and <code>person_david.xml</code></p>
</li>
</ul>
<p>It then deletes each of the newly created resources and links. The folder contents are deleted before the folder itself.</p>
<div class="infoboxnotealso" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__GUID-7F794D70-9976-421A-9B6D-DF9D230809D8">
<p class="notep1">See Also:</p>
<p><a href="xdb_repos_meta.htm#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a> for examples using <code>appendResourceMetadata</code> and <code>deleteResourceMetadata</code></p>
</div>
<div class="example" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__i1028471">
<p class="titleinexample">Example 26-1 Managing Resources Using DBMS_XDB_REPOS</p>
<pre dir="ltr">DECLARE
  retb BOOLEAN;
BEGIN
  retb := DBMS_XDB_REPOS.createfolder(&#39;/public/mydocs&#39;);
  retb := DBMS_XDB_REPOS.createresource(&#39;/public/mydocs/emp_selby.xml&#39;,
                                        &#39;&lt;emp_name&gt;selby&lt;/emp_name&gt;&#39;);
  retb := DBMS_XDB_REPOS.createresource(&#39;/public/mydocs/emp_david.xml&#39;,
                                        &#39;&lt;emp_name&gt;david&lt;/emp_name&gt;&#39;);
END;
/
PL/SQL procedure successfully completed.
 
CALL DBMS_XDB_REPOS.link(&#39;/public/mydocs/emp_selby.xml&#39;,
                         &#39;/public/mydocs&#39;,
                         &#39;person_selby.xml&#39;);
Call completed.
 
CALL DBMS_XDB_REPOS.link(&#39;/public/mydocs/emp_david.xml&#39;,
                         &#39;/public/mydocs&#39;,
                         &#39;person_david.xml&#39;);
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource(&#39;/public/mydocs/emp_selby.xml&#39;);
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource(&#39;/public/mydocs/person_selby.xml&#39;);
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource(&#39;/public/mydocs/emp_david.xml&#39;);
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource(&#39;/public/mydocs/person_david.xml&#39;);
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource(&#39;/public/mydocs&#39;);
Call completed.
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB5444"></a><a id="ADXDB5445"></a><a id="ADXDB5446"></a><a id="ADXDB5447"></a><a id="ADXDB5448"></a><a id="ADXDB5443"></a>
<div class="props_rev_3"><a id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE"></a>
<h2 id="ADXDB-GUID-9560B205-943B-4159-9734-44B9B74F2ACE" class="sect2"><span class="enumeration_section">26.2</span> DBMS_XDB_REPOS: ACL-Based Security Management</h2>
<div>
<p>PL/SQL package <code>DBMS_XDB_REPOS</code> provides Oracle XML&nbsp;DB ACL-based security management functions and procedures.</p>
<div class="tblformal" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__g1029223">
<p class="titleintable">Table 26-2 DBMS_XDB_REPOS: Security Management Subprograms</p>
<table class="cellalignment3420" title="DBMS_XDB_REPOS: Security Management Subprograms" summary="This table describes DBMS_XDB security management methods.">
<thead>
<tr class="cellalignment3411">
<th class="cellalignment3432" id="d127293e536">Function/Procedure</th>
<th class="cellalignment3433" id="d127293e539">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e544" headers="d127293e536">
<p><code>ACLCheckPrivileges</code></p>
</td>
<td class="cellalignment3435" headers="d127293e544 d127293e539">
<p>Check the access privileges granted to the current user by an ACL.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e552" headers="d127293e536">
<p><code>changeOwner</code></p>
</td>
<td class="cellalignment3435" headers="d127293e552 d127293e539">
<p>Change the owner of a given resource to a given user.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e560" headers="d127293e536">
<p><code>changePrivileges</code></p>
</td>
<td class="cellalignment3435" headers="d127293e560 d127293e539">
<p>Add an ACE to a resource ACL.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e568" headers="d127293e536">
<p><code>checkPrivileges</code></p>
</td>
<td class="cellalignment3435" headers="d127293e568 d127293e539">
<p>Check the access privileges granted to the current user for a resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e576" headers="d127293e536">
<p><code>getACLDocument</code></p>
</td>
<td class="cellalignment3435" headers="d127293e576 d127293e539">
<p>Return the ACL document that protects a resource, given the path name of the resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e584" headers="d127293e536">
<p><code>getPrivileges</code></p>
</td>
<td class="cellalignment3435" headers="d127293e584 d127293e539">
<p>Return all privileges granted to the current user for a resource.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3434" id="d127293e592" headers="d127293e536">
<p><code>setACL</code></p>
</td>
<td class="cellalignment3435" headers="d127293e592 d127293e539">
<p>Set the ACL for a resource.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__GUID-CAF9EC0D-56C1-45B9-ABA1-467D7FC03B06">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ARPLS371" target="_blank" href="../ARPLS/d_xdb.htm#ARPLS371"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</li>
<li>
<p><a class="olink ADXDK" target="_blank" href="../ADXDK/toc.htm"><span class="italic">Oracle XML Developer&#39;s Kit Programmer&#39;s Guide</span></a></p>
</li>
</ul>
</div>
<p>In <a href="xdb19rpl.htm#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__i1028509">Example 26-2</a>, database user <code>HR</code> creates two resources: a folder, <code>/public/mydocs</code>, with a file in it, <code>emp_selby.xml</code>. Procedure <code>getACLDocument</code> is called on the file resource, showing that the <code>&lt;principal&gt;</code> user for the document is <code>PUBLIC</code>.</p>
<p>In <a href="xdb19rpl.htm#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBEHIFI">Example 26-3</a>, the system manager connects and uses procedure <code>setACL</code> to give the owner (database schema <code>HR</code>) all privileges on the file resource created in <a href="xdb19rpl.htm#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__i1028509">Example 26-2</a>. Procedure <code>getACLDocument</code> then shows that the <code>&lt;principal&gt;</code> user is <code>dav:owner</code>, the owner (<code>HR</code>).</p>
<p>In <a href="xdb19rpl.htm#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBFGHDC">Example 26-4</a>, user <code>HR</code> connects and uses function <code>changePrivileges</code> to add a new access control entry (ACE) to the ACL, which gives all privileges on resource <code>emp_selby.xml</code> to user <code>oe</code>. Procedure <code>getACLDocument</code> shows that the new ACE was added to the ACL.</p>
<p>In <a href="xdb19rpl.htm#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBIEDGA">Example 26-5</a>, user <code>oe</code> connects and calls <code>DBMS_XDB_REPOS.getPrivileges</code>, which shows all of the privileges granted to user <code>oe</code> on resource <code>emp_selby.xml</code>.</p>
<div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__i1028509">
<p class="titleinexample">Example 26-2 Using DBMS_XDB_REPOS.GETACLDOCUMENT</p>
<pre dir="ltr">CONNECT hr
Enter password: <span class="italic">password</span>

Connected.

DECLARE
  retb BOOLEAN;
BEGIN
  retb := DBMS_XDB_REPOS.createFolder(&#39;/public/mydocs&#39;);
  retb := DBMS_XDB_REPOS.createResource(&#39;/public/mydocs/emp_selby.xml&#39;,
                                        &#39;&lt;emp_name&gt;selby&lt;/emp_name&gt;&#39;);
END;
/
PL/SQL procedure successfully completed.
 
SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getACLDocument</span>(&#39;/public/mydocs/emp_selby.xml&#39;)
                    AS CLOB)
  FROM DUAL;
 
XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT(&#39;/PUBLIC/MYDOCS/EMP_SELBY.XML
--------------------------------------------------------------------------------
&lt;acl description=&#34;Public:All privileges to PUBLIC&#34; xmlns=&#34;http://xmlns.oracle.co
m/xdb/acl.xsd&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaL
ocation=&#34;http://xmlns.oracle.com/xdb/acl.xsd                           http://xm
lns.oracle.com/xdb/acl.xsd&#34; shared=&#34;true&#34;&gt;
  &lt;ace&gt;
    &lt;grant&gt;true&lt;/grant&gt;
    &lt;principal&gt;<span class="bold">PUBLIC</span>&lt;/principal&gt;
    &lt;privilege&gt;
      &lt;all/&gt;
    &lt;/privilege&gt;
  &lt;/ace&gt;
&lt;/acl&gt;
 
1 row selected.
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBEHIFI">
<p class="titleinexample">Example 26-3 Using DBMS_XDB_REPOS.SETACL</p>
<pre dir="ltr">CONNECT SYSTEM
Enter password: <span class="italic">password</span>

Connected.
 
-- Give all privileges to owner, HR.
CALL DBMS_XDB_REPOS.<span class="bold">setACL</span>(&#39;/public/mydocs/emp_selby.xml&#39;,
                           &#39;/sys/acls/<span class="bold">all_owner_acl</span>.xml&#39;);
Call completed.
COMMIT;
Commit complete.

SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getACLDocument</span>(&#39;/public/mydocs/emp_selby.xml&#39;)
                    AS CLOB)
  FROM DUAL;

XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT(&#39;/PUBLIC/MYDOCS/EMP_SELBY.XML
--------------------------------------------------------------------------------
&lt;acl description=&#34;Private:All privileges to OWNER only and not accessible to oth
ers&#34; xmlns=&#34;http://xmlns.oracle.com/xdb/acl.xsd&#34; xmlns:dav=&#34;DAV:&#34; xmlns:xsi=&#34;htt
p://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://xmlns.oracle.
com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd&#34; shared=&#34;true&#34;&gt;
  &lt;ace&gt;
    &lt;grant&gt;true&lt;/grant&gt;
    &lt;principal&gt;<span class="bold">dav:owner</span>&lt;/principal&gt;
    &lt;privilege&gt;
      &lt;all/&gt;
    &lt;/privilege&gt;
  &lt;/ace&gt;
&lt;/acl&gt;
 
1 row selected.
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBFGHDC">
<p class="titleinexample">Example 26-4 Using DBMS_XDB_REPOS.CHANGEPRIVILEGES</p>
<pre dir="ltr">CONNECT hr
Enter password: <span class="italic">password</span>

Connected.

SET SERVEROUTPUT ON

-- Add an ACE giving privileges to user OE
DECLARE
  r        PLS_INTEGER;
  ace      XMLType;
  ace_data VARCHAR2(2000);
BEGIN
  ace_data := &#39;&lt;ace xmlns=&#34;http://xmlns.oracle.com/xdb/acl.xsd&#34;
                    xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
                    xsi:schemaLocation=&#34;http://xmlns.oracle.com/xdb/acl.xsd
                                        http://xmlns.oracle.com/xdb/acl.xsd
                                        DAV:http://xmlns.oracle.com/xdb/dav.xsd&#34;&gt;
                 &lt;principal&gt;<span class="bold">OE</span>&lt;/principal&gt;
                 &lt;grant&gt;true&lt;/grant&gt;
                 &lt;privilege&gt;&lt;<span class="bold">all/&gt;</span>&lt;/privilege&gt;
               &lt;/ace&gt;&#39;;
  ace := XMLType.createXML(ace_data);
  r := DBMS_XDB_REPOS.<span class="bold">changePrivileges</span>(&#39;/public/mydocs/emp_selby.xml&#39;, ace);
END;
/
 
PL/SQL procedure successfully completed.

COMMIT;

SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getACLDocument</span>(&#39;/public/mydocs/emp_selby.xml&#39;)
                    AS CLOB)
  FROM DUAL;
 
XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT(&#39;/PUBLIC/MYDOCS/EMP_SELBY.XML
--------------------------------------------------------------------------------
&lt;acl description=&#34;Private:All privileges to OWNER only and not accessible to oth
ers&#34; xmlns=&#34;http://xmlns.oracle.com/xdb/acl.xsd&#34; xmlns:dav=&#34;DAV:&#34; xmlns:xsi=&#34;htt
p://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://xmlns.oracle.
com/xdb/acl.xsd                           http://xmlns.oracle.com/xdb/acl.xsd&#34; <span class="bold">s</span>
<span class="bold">hared=&#34;false&#34;</span>&gt;
  &lt;ace&gt;
    &lt;grant&gt;true&lt;/grant&gt;
    &lt;principal&gt;dav:owner&lt;/principal&gt;
    &lt;privilege&gt;
      &lt;all/&gt;
    &lt;/privilege&gt;
  &lt;/ace&gt;
  <span class="bold">&lt;ace&gt;</span>
    <span class="bold">&lt;grant&gt;true&lt;/grant&gt;</span>
    <span class="bold">&lt;principal&gt;OE&lt;/principal&gt;</span>
    <span class="bold">&lt;privilege&gt;</span>
      <span class="bold">&lt;all/&gt;</span>
    <span class="bold">&lt;/privilege&gt;</span>
  <span class="bold">&lt;/ace&gt;</span>
&lt;/acl&gt;
 
1 row selected.
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBIEDGA">
<p class="titleinexample">Example 26-5 Using DBMS_XDB_REPOS.GETPRIVILEGES</p>
<pre dir="ltr">CONNECT oe
Enter password: <span class="italic">password</span>

Connected.

SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getPrivileges</span>(&#39;/public/mydocs/emp_selby.xml&#39;)
                    AS CLOB)
  FROM DUAL;
 
XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETPRIVILEGES(&#39;/PUBLIC/MYDOCS/EMP_SELBY.XML&#39;
--------------------------------------------------------------------------------
&lt;privilege xmlns=&#34;http://xmlns.oracle.com/xdb/acl.xsd&#34; xmlns:xsi=&#34;http://www.w3.
org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://xmlns.oracle.com/xdb/acl
.xsd http://xmlns.oracle.com/xdb/acl.xsd DAV: http://xmlns.oracle.com/xdb/dav.xs
d&#34; xmlns:xdbacl=&#34;http://xmlns.oracle.com/xdb/acl.xsd&#34; xmlns:dav=&#34;DAV:&#34;&gt;
  &lt;read-properties/&gt;
  &lt;read-contents/&gt;
  &lt;write-config/&gt;
  &lt;link/&gt;
  &lt;unlink/&gt;
  &lt;read-acl/&gt;
  &lt;write-acl-ref/&gt;
  &lt;update-acl/&gt;
  &lt;resolve/&gt;
  &lt;link-to/&gt;
  &lt;unlink-from/&gt;
  &lt;dav:lock/&gt;
  &lt;dav:unlock/&gt;
  &lt;dav:write-properties/&gt;
  &lt;dav:write-content/&gt;
  &lt;dav:execute/&gt;
  &lt;dav:take-ownership/&gt;
  &lt;dav:read-current-user-privilege-set/&gt;
&lt;/privilege&gt;
 
1 row selected.
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB5450"></a><a id="ADXDB5451"></a><a id="ADXDB5452"></a><a id="ADXDB5449"></a>
<div class="props_rev_3"><a id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89"></a>
<h2 id="ADXDB-GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" class="sect2"><span class="enumeration_section">26.3</span> DBMS_XDB_CONFIG: Configuration Management</h2>
<div>
<p>PL/SQL package <code>DBMS_XDB_CONFIG</code> provides Oracle XML&nbsp;DB configuration management functions and procedures.</p>
<div class="tblformalwide" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__g1029248">
<p class="titleintable">Table 26-3 DBMS_XDB_CONFIG: Configuration Management Subprograms</p>
<table class="cellalignment3431" title="DBMS_XDB_CONFIG: Configuration Management Subprograms" summary="This table describes DBMS_XDB configuration management methods.">
<thead>
<tr class="cellalignment3411">
<th class="cellalignment3476" id="d127293e829">Function/Procedure</th>
<th class="cellalignment3532" id="d127293e832">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e837" headers="d127293e829">
<p><code>addHTTPExpireMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e837 d127293e832">
<p>Add a mapping of a URL pattern to an expiration date to table <code>XDB$CONFIG</code>. The mapping controls the <code>Expire</code> headers for URLs that match the pattern.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e851" headers="d127293e829">
<p><code>addMIMEMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e851 d127293e832">
<p>Add a MIME mapping to table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e862" headers="d127293e829">
<p><code>addSchemaLocMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e862 d127293e832">
<p>Add a schema-location mapping to table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e873" headers="d127293e829">
<p><code>addServlet</code></p>
</td>
<td class="cellalignment3533" headers="d127293e873 d127293e832">
<p>Add a servlet to table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e884" headers="d127293e829">
<p><code>addServletMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e884 d127293e832">
<p>Add a servlet mapping to table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e895" headers="d127293e829">
<p><code>addServletSecRole</code></p>
</td>
<td class="cellalignment3533" headers="d127293e895 d127293e832">
<p>Add a security role reference to a servlet.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e903" headers="d127293e829">
<p><code>addXMLExtension</code></p>
</td>
<td class="cellalignment3533" headers="d127293e903 d127293e832">
<p>Add an XML extension to table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e914" headers="d127293e829">
<p><code>cfg_get</code></p>
</td>
<td class="cellalignment3533" headers="d127293e914 d127293e832">
<p>Return the configuration information for the current session.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e922" headers="d127293e829">
<p><code>cfg_refresh</code></p>
</td>
<td class="cellalignment3533" headers="d127293e922 d127293e832">
<p>Refresh the session configuration information using the current Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e933" headers="d127293e829">
<p><code>cfg_update</code></p>
</td>
<td class="cellalignment3533" headers="d127293e933 d127293e832">
<p>Update the Oracle XML&nbsp;DB configuration information. This writes the configuration file, <code>xdbconfig.xml</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e944" headers="d127293e829">
<p><code>deleteHTTPExpireMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e944 d127293e832">
<p>Delete <span class="italic">all</span> mappings of a given URL pattern to an expiration date from table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e959" headers="d127293e829">
<p><code>deleteMIMEMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e959 d127293e832">
<p>Delete a MIME mapping from table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e970" headers="d127293e829">
<p><code>deleteSchemaLocMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e970 d127293e832">
<p>Delete a schema-location mapping from table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e981" headers="d127293e829">
<p><code>deleteServlet</code></p>
</td>
<td class="cellalignment3533" headers="d127293e981 d127293e832">
<p>Delete a servlet from table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e992" headers="d127293e829">
<p><code>deleteServletMapping</code></p>
</td>
<td class="cellalignment3533" headers="d127293e992 d127293e832">
<p>Delete a servlet mapping from table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1003" headers="d127293e829">
<p><code>deleteServletSecRole</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1003 d127293e832">
<p>Delete a security role reference from a servlet.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1011" headers="d127293e829">
<p><code>deleteXMLExtension</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1011 d127293e832">
<p>Delete an XML extension from table <code>XDB$CONFIG</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1022" headers="d127293e829">
<p><code>enableDigestAuthentication</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1022 d127293e832">
<p>Enable digest authentication.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1030" headers="d127293e829">
<p><code>getFTPPort</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1030 d127293e832">
<p>Return the current FTP port number.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1038" headers="d127293e829">
<p><code>getHTTPConfigRealm</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1038 d127293e832">
<p>Return the HTTP configuration realm.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1046" headers="d127293e829">
<p><code>getHTTPPort</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1046 d127293e832">
<p>Return the current HTTP port number.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1054" headers="d127293e829">
<p><code>getListenerEndPoint</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1054 d127293e832">
<p>Return the parameters of a listener end point for the HTTP server.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1063" headers="d127293e829">
<p><code>setFTPPort</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1063 d127293e832">
<p>Set the Oracle XML&nbsp;DB FTP port to the specified port number.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1071" headers="d127293e829">
<p><code>setHTTPConfigRealm</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1071 d127293e832">
<p>Set the HTTP configuration realm.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1079" headers="d127293e829">
<p><code>setHTTPPort</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1079 d127293e832">
<p>Set the Oracle XML&nbsp;DB HTTP port to the specified port number.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1087" headers="d127293e829">
<p><code>setListenerEndPoint</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1087 d127293e832">
<p>Set the parameters of a listener end point for the HTTP server.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1095" headers="d127293e829">
<p><code>setListenerLocalAccess</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1095 d127293e832">
<p>Either (a) restrict all listener end points to listen on only the <code>localhost</code> interface or (b) allow all listener end points to listen on both <code>localhost</code> and non-<code>localhost</code> interfaces.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3479" id="d127293e1112" headers="d127293e829">
<p><code>usedPort</code></p>
</td>
<td class="cellalignment3533" headers="d127293e1112 d127293e832">
<p>Return the ports used by other pluggable databases (PDBs) in the same multitenant container database (CDB). The return value is an <code>XMLType</code> instance that lists each PDB by id number and its associated ports by type and number.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__GUID-775D8986-7BB7-416F-9272-7211CDBC938B">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS73564" target="_blank" href="../ARPLS/d_xdb_config.htm#ARPLS73564"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>, Chapter &#34;DBMS_XDB_CONFIG&#34;</p>
</div>
<p><a href="xdb19rpl.htm#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__i1028520">Example 26-6</a> uses function <code>cfg_get</code> to retrieve the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>.</p>
<p><a href="xdb19rpl.htm#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__BHBEDCGF">Example 26-7</a> illustrates the use of procedure <code>cfg_update</code>. The current configuration is retrieved as an <code>XMLType</code> instance and modified. It is then rewritten using <code>cfg_update</code>.</p>
<div class="example" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__i1028520">
<p class="titleinexample">Example 26-6 Using DBMS_XDB_CONFIG.CFG_GET</p>
<pre dir="ltr">CONNECT SYSTEM
Enter password: <span class="italic">password</span>

Connected.

SELECT DBMS_XDB_CONFIG.cfg_get() FROM DUAL;
 
DBMS_XDB_CONFIG.CFG_GET()
--------------------------------------------------------------------------------
&lt;xdbconfig xmlns=&#34;http://xmlns.oracle.com/xdb/xdbconfig.xsd&#34; xmlns:xsi=&#34;http://w
ww.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://xmlns.oracle.com/x
db/xdbconfig.xsd                                     http://xmlns.oracle.com/xdb
/xdbconfig.xsd&#34;&gt;
  &lt;sysconfig&gt;
    &lt;acl-max-age&gt;19&lt;/acl-max-age&gt;
    &lt;acl-cache-size&gt;32&lt;/acl-cache-size&gt;
    &lt;invalid-pathname-chars/&gt;
    &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;
    &lt;call-timeout&gt;6000&lt;/call-timeout&gt;
    &lt;max-link-queue&gt;65536&lt;/max-link-queue&gt;
    &lt;max-session-use&gt;100&lt;/max-session-use&gt;
    &lt;persistent-sessions&gt;false&lt;/persistent-sessions&gt;
    &lt;default-lock-timeout&gt;3600&lt;/default-lock-timeout&gt;
    &lt;xdbcore-logfile-path&gt;/sys/log/xdblog.xml&lt;/xdbcore-logfile-path&gt;
    &lt;xdbcore-log-level&gt;0&lt;/xdbcore-log-level&gt;
    &lt;resource-view-cache-size&gt;1048576&lt;/resource-view-cache-size&gt;
    &lt;protocolconfig&gt;
      &lt;common&gt;
        <span class="bold">. . .</span>
      &lt;/common&gt;
      &lt;ftpconfig&gt;
        <span class="bold">. . .</span>
      &lt;/ftpconfig&gt;
      &lt;httpconfig&gt;
        &lt;http-port&gt;0&lt;/http-port&gt;
        &lt;http-listener&gt;local_listener&lt;/http-listener&gt;
        &lt;http-protocol&gt;tcp&lt;/http-protocol&gt;
        &lt;max-http-headers&gt;64&lt;/max-http-headers&gt;
        &lt;max-header-size&gt;16384&lt;/max-header-size&gt;
        &lt;max-request-body&gt;2000000000&lt;/max-request-body&gt;
        &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
        &lt;server-name&gt;XDB HTTP Server&lt;/server-name&gt;
        &lt;logfile-path&gt;/sys/log/httplog.xml&lt;/logfile-path&gt;
        &lt;log-level&gt;0&lt;/log-level&gt;
        &lt;servlet-realm&gt;Basic realm=&amp;quot;XDB&amp;quot;&lt;/servlet-realm&gt;
        &lt;webappconfig&gt;
        <span class="bold">. . .</span>
        &lt;/webappconfig&gt;
        &lt;authentication&gt;
        <span class="bold">. . .</span>
        &lt;/authentication&gt;
    &lt;/protocolconfig&gt;
    &lt;xdbcore-xobmem-bound&gt;1024&lt;/xdbcore-xobmem-bound&gt;
    &lt;xdbcore-loadableunit-size&gt;16&lt;/xdbcore-loadableunit-size&gt;
    &lt;acl-evaluation-method&gt;ace-order&lt;/acl-evaluation-method&gt;
  &lt;/sysconfig&gt;
&lt;/xdbconfig&gt;
 
1 row selected.
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__BHBEDCGF">
<p class="titleinexample">Example 26-7 Using DBMS_XDB_CONFIG.CFG_UPDATE</p>
<pre dir="ltr">DECLARE
  configxml    SYS.XMLType;
  configxml2   SYS.XMLType;
BEGIN
  -- Get the current configuration
  configxml := DBMS_XDB_CONFIG.cfg_get();
 
  -- Modify the configuration
SELECT XMLQuery(
  &#39;declare default element namespace
   &#34;http://xmlns.oracle.com/xdb/xdbconfig.xsd&#34;; (: :)
   copy $i := $p1 modify
     (for $j in $i/xdbconfig/sysconfig/protocolconfig/httpconfig/http-port
      return replace value of node $j with $p2)
     return $i&#39;
    PASSING CONFIGXML AS &#34;p1&#34;, &#39;<span class="bold">8000</span>&#39; AS &#34;p2&#34; RETURNING CONTENT)
  INTO configxml2 FROM DUAL;
 
  -- Update the configuration to use the modified version
  DBMS_XDB_CONFIG.<span class="bold">cfg_update</span>(configxml2);
END;
/
 
PL/SQL procedure successfully completed.

SELECT DBMS_XDB_CONFIG.cfg_get() FROM DUAL;
 
DBMS_XDB_CONFIG.CFG_GET()
--------------------------------------------------------------------------------
&lt;xdbconfig xmlns=&#34;http://xmlns.oracle.com/xdb/xdbconfig.xsd&#34; xmlns:xsi=&#34;http://w
ww.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://xmlns.oracle.com/x
db/xdbconfig.xsd http://xmlns.oracle.com/xdb/xdbconfig.xsd&#34;&gt;
  &lt;sysconfig&gt;
    &lt;acl-max-age&gt;15&lt;/acl-max-age&gt;
    &lt;acl-cache-size&gt;32&lt;/acl-cache-size&gt;
    &lt;invalid-pathname-chars/&gt;
    &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;
    &lt;call-timeout&gt;6000&lt;/call-timeout&gt;
    &lt;max-link-queue&gt;65536&lt;/max-link-queue&gt;
    &lt;max-session-use&gt;100&lt;/max-session-use&gt;
    &lt;persistent-sessions&gt;false&lt;/persistent-sessions&gt;
    &lt;default-lock-timeout&gt;3600&lt;/default-lock-timeout&gt;
    &lt;xdbcore-logfile-path&gt;/sys/log/xdblog.xml&lt;/xdbcore-logfile-path&gt;
    &lt;resource-view-cache-size&gt;1048576&lt;/resource-view-cache-size&gt;
    &lt;protocolconfig&gt;
      &lt;common&gt;
      <span class="bold">. . .</span>
      &lt;/common&gt;
      &lt;ftpconfig&gt;
      <span class="bold">. . .</span>
      &lt;/ftpconfig&gt;
      &lt;httpconfig&gt;
        &lt;http-port&gt;<span class="bold">8000</span>&lt;/http-port&gt;
        <span class="bold">. . .</span>
      &lt;/httpconfig&gt;
    &lt;/protocolconfig&gt;
    &lt;xdbcore-xobmem-bound&gt;1024&lt;/xdbcore-xobmem-bound&gt;
    &lt;xdbcore-loadableunit-size&gt;16&lt;/xdbcore-loadableunit-size&gt;
    &lt;acl-evaluation-method&gt;ace-order&lt;/acl-evaluation-method&gt;
&lt;/xdbconfig&gt;
 
1 row selected.
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3410">
<tr>
<td class="cellalignment3417">
<table class="cellalignment3415">
<tr>
<td class="cellalignment3414"><a href="xdb17ver.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3414"><a href="xdb21sec.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3419">
<table class="cellalignment3413">
<tr>
<td class="cellalignment3414"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3414"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3414"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3414"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3414"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3414"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
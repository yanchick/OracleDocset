<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-1620"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Repository%20Access%20Using%20Protocols"></a><title>Repository Access Using Protocols</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can access Oracle XML&nbsp;DB Repository data using protocols FTP and HTTP(S)/WebDAV."/>
<meta name="keywords" content="protocol server, session pooling, HTTP, improved performance, architecture, configuration parameters, configuring Oracle XML DB, protocol server, ports, configuring, FTP, FTP, configuration parameters, HTTP, configuration parameters, WebDAV, WebDAV, port, FTP, port, HTTP, HTTPS, digest authentication, configuring, digest access authentication, configuring, digest access authentication, digest authentication, nonce, definition, nonce key, resource, access, using protocols, event-based logging, protocol server, features, Oracle ASM files, accessing, using FTP, IPv6, Internet Protocol Version 6, protocol server, features, HTTP(S), WebFolder, creating in Windows 2000"/>
<meta name="dcterms.created" content="2016-12-08T13:53:25Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="XML DB Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41152-15"/>
<meta name="dcterms.isVersionOf" content="ADXDB"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="xdb21sec.htm" title="Previous" type="text/html"/>
<link rel="Next" href="xdb_repos_meta.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41152-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98"></a> <span id="PAGE" style="display:none;">41/61</span> <!-- End Header -->
<script>
//<![CDATA[
window.name='xdb22pro'
//]]>
</script> <script>
    function footdisplay(footnum,footnote) {
    var msg = window.open('', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');

    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>');
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript><a id="ADXDB2500"></a>
<h1 id="ADXDB-GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" class="sect1"><span class="enumeration_chapter">28</span> Repository Access Using Protocols</h1>
<div>
<p>You can access Oracle XML&nbsp;DB Repository data using protocols FTP and HTTP(S)/WebDAV.</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="xdb22pro.htm#GUID-4DDB9D4C-7173-4DA8-B479-45B76E65CB7E" title="Oracle XML&nbsp;DB also provides the Oracle XML&nbsp;DB protocol server. This supports standard Internet protocols, FTP, WebDAV, and HTTP(S), for accessing its hierarchical repository or file system. HTTPS provides secure access to Oracle XML&nbsp;DB Repository.">Overview of Oracle XML&nbsp;DB Protocol Server</a></p>
</li>
<li>
<p><a href="xdb22pro.htm#GUID-F0DF41FB-5FA9-40B1-9723-4BB61E0F3D1E" title="Oracle XML&nbsp;DB protocol server uses configuration parameters stored in file xdbconfig.xml to initialize its startup state and manage session level configuration. The session pool size and timeout parameters cannot be changed dynamically, that is, you must restart the database in order for these changes to take effect.">Oracle XML&nbsp;DB Protocol Server Configuration Management</a></p>
</li>
<li>
<p><a href="xdb22pro.htm#GUID-152AF8C1-F283-4ADC-8043-C0687CC15003" title="File Transfer Protocol (FTP), specified in RFC959, is one of the oldest and most popular protocols. It provides access to heterogeneous file systems in a uniform manner. You can use FTP to access and update data stored in Oracle XML&nbsp;DB Repository.">FTP and the Oracle XML&nbsp;DB Protocol Server</a></p>
</li>
<li>
<p><a href="xdb22pro.htm#GUID-30DE120A-8FF3-44BB-8C21-CFF25F781C45" title="Oracle XML&nbsp;DB implements HyperText Transfer Protocol (HTTP), HTTP 1.1 as defined in the RFC2616 specification.">HTTP(S) and Oracle XML&nbsp;DB Protocol Server</a></p>
</li>
<li>
<p><a href="xdb22pro.htm#GUID-0F06D44E-4DBD-4B5D-B275-A4BADA0510AB" title="Web Distributed Authoring and Versioning (WebDAV) is an IETF standard protocol that Oracle XML&nbsp;DB uses to provide users with a file-system interface to Oracle XML Repository over the Internet. The most popular way of accessing a WebDAV server folder is through WebFolders using Microsoft Windows.">WebDAV and Oracle XML&nbsp;DB</a></p>
</li>
</ul>
</div>
<a id="ADXDB5520"></a>
<div class="props_rev_3"><a id="GUID-4DDB9D4C-7173-4DA8-B479-45B76E65CB7E"></a>
<h2 id="ADXDB-GUID-4DDB9D4C-7173-4DA8-B479-45B76E65CB7E" class="sect2"><span class="enumeration_section">28.1</span> Overview of Oracle XML&nbsp;DB Protocol Server</h2>
<div>
<p>Oracle XML&nbsp;DB also provides the Oracle XML&nbsp;DB <span class="italic">protocol server</span>. This supports standard Internet protocols, FTP, WebDAV, and HTTP(S), for accessing its hierarchical repository or file system. HTTPS provides <span class="italic">secure</span> access to Oracle XML&nbsp;DB Repository.</p>
<p>These protocols can provide direct access to Oracle XML&nbsp;DB for many users without having to install additional software. The user names and passwords to be used with the protocols are the same as those for SQL*Plus. Enterprise users are also supported. Database administrators can use these protocols and resource APIs such as <code>DBMS_XDB_REPOS</code> to access Oracle Automatic Storage Management (Oracle ASM) files and folders in the repository virtual folder <code>/sys/asm</code>.</p>
<p>As described in <a href="xdb02rep.htm#GUID-9F392D2C-428F-4E14-B5AA-67E707EC0B12" title="Some preliminary design criteria are presented for consideration when planning your Oracle XML&nbsp;DB solution.">Getting Started with Oracle XML&nbsp;DB</a> and <a href="xdb16fol.htm#GUID-4CB42EFA-063B-4FD4-A250-EC557EBC7E39" title="There are several ways to access and manipulate data in Oracle XML&nbsp;DB Repository, including using standard protocols such as FTP and HTTP(S)/WebDAV; Oracle XML&nbsp;DB resource Application Program Interfaces (APIs); and the repository views RESOURCE_VIEW and PATH_VIEW.">Accessing Oracle XML&nbsp;DB Repository Data</a>, Oracle XML&nbsp;DB Repository provides a hierarchical data repository in the database, designed for XML. Oracle XML&nbsp;DB Repository maps path names (or URLs) onto database objects of <code>XMLType</code> and provides management facilities for these objects.</p>
<div class="infoboxnotealso" id="GUID-4DDB9D4C-7173-4DA8-B479-45B76E65CB7E__GUID-258B282B-AAA8-4133-93DC-B42B3C943A25">
<p class="notep1">See Also:</p>
<p><a href="xdb16fol.htm#GUID-4CB42EFA-063B-4FD4-A250-EC557EBC7E39" title="There are several ways to access and manipulate data in Oracle XML&nbsp;DB Repository, including using standard protocols such as FTP and HTTP(S)/WebDAV; Oracle XML&nbsp;DB resource Application Program Interfaces (APIs); and the repository views RESOURCE_VIEW and PATH_VIEW.">Accessing Oracle XML&nbsp;DB Repository Data</a> for more information about accessing repository information, and restrictions on that access</p>
</div>
<div class="infobox-note" id="GUID-4DDB9D4C-7173-4DA8-B479-45B76E65CB7E__GUID-0A8423BE-60FE-415F-8ACC-B555216AE3C1">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>When accessing virtual folder <code>/sys/asm</code> using Oracle XML&nbsp;DB protocols, you must log in with the privileges of role <code>DBA</code> but as a user other than <code>SYS</code>.</p>
</li>
<li>
<p>Oracle XML&nbsp;DB protocols are <span class="italic">not</span> supported on EBCDIC platforms.</p>
</li>
</ul>
</div>
</div>
<a id="ADXDB5522"></a><a id="ADXDB5521"></a>
<div class="props_rev_3"><a id="GUID-69206A11-1F5E-4FE6-8A5D-05B1EE124F4A"></a>
<h3 id="ADXDB-GUID-69206A11-1F5E-4FE6-8A5D-05B1EE124F4A" class="sect3"><span class="enumeration_section">28.1.1</span> Session Pooling</h3>
<div>
<p>Oracle XML&nbsp;DB protocol server maintains a shared pool of sessions. Each protocol connection is associated with one session from this pool. After a connection is closed the session is put back into the shared pool and can be used to serve later connections.</p>
<p>Session pooling improves performance of HTTP(S) by avoiding the cost of re-creating session states, especially when using HTTP 1.0, which creates new connections for each request. For example, a couple of small files can be retrieved by an existing HTTP/1.1 connection in the time necessary to create a database session. You can tune the number of sessions in the pool by setting session-pool-size in the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>, or disable it by setting pool size to zero.</p>
<p>Session pooling can affect users writing <span class="italic">Java servlets</span>, because other users can see session state initialized by another request for a different user. Hence, servlet writers should only use session memory, such as Java static variables, to hold data for the entire application rather than for a particular user. State for each user must be stored in the database or in a lookup table, rather than assuming that a session only exists for a single user.</p>
<div class="infoboxnotealso" id="GUID-69206A11-1F5E-4FE6-8A5D-05B1EE124F4A__GUID-AD22D828-178B-4F72-98D4-67284DF1A195">
<p class="notep1">See Also:</p>
<p><a href="xdb23jv1.htm#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">How to Write Oracle XML&nbsp;DB Applications in Java</a></p>
</div>
<p><a href="xdb22pro.htm#GUID-69206A11-1F5E-4FE6-8A5D-05B1EE124F4A__i1026339">Figure 28-1</a> illustrates the Oracle XML&nbsp;DB protocol server components and how they are used to access files in Oracle XML&nbsp;DB Repository and other data. Only the relevant components of the repository are shown</p>
<div class="figure" id="GUID-69206A11-1F5E-4FE6-8A5D-05B1EE124F4A__i1026339">
<p class="titleinfigure">Figure 28-1 Oracle XML&nbsp;DB Architecture: Protocol Server</p>
<img width="500" height="280" src="img/GUID-5FCCF687-CF16-472B-AD02-D1260B84F921-default.gif" alt="Description of Figure 28-1 follows" title="Description of Figure 28-1 follows"/><br/>
<a href="img_text/GUID-5FCCF687-CF16-472B-AD02-D1260B84F921-print.htm">Description of &#34;Figure 28-1 Oracle XML&nbsp;DB Architecture: Protocol Server &#34;</a></div>
<!-- class="figure" --></div>
</div>
</div>
<a id="ADXDB2510"></a>
<div class="props_rev_3"><a id="GUID-F0DF41FB-5FA9-40B1-9723-4BB61E0F3D1E"></a>
<h2 id="ADXDB-GUID-F0DF41FB-5FA9-40B1-9723-4BB61E0F3D1E" class="sect2"><span class="enumeration_section">28.2</span> Oracle XML&nbsp;DB Protocol Server Configuration Management</h2>
<div>
<p>Oracle XML&nbsp;DB protocol server uses configuration parameters stored in file <code>xdbconfig.xml</code> to initialize its startup state and manage session level configuration. The session pool size and timeout parameters cannot be changed dynamically, that is, you must restart the database in order for these changes to take effect.</p>
<div class="infoboxnotealso" id="GUID-F0DF41FB-5FA9-40B1-9723-4BB61E0F3D1E__GUID-2B374BF2-C87F-4A45-B788-3129B3F3AFB3">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span></p>
</div>
</div>
<a id="ADXDB5524"></a><a id="ADXDB5525"></a><a id="ADXDB5526"></a><a id="ADXDB5523"></a>
<div class="props_rev_3"><a id="GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D"></a>
<h3 id="ADXDB-GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D" class="sect3"><span class="enumeration_section">28.2.1</span> Configuration of Protocol Server Parameters</h3>
<div>
<p>The Oracle XML&nbsp;DB protocol configuration parameters are described. They include those common to all protocols, those specific to FTP, and those specific to HTTP(S)/WebDAV.</p>
<p><a href="xdb22pro.htm#GUID-69206A11-1F5E-4FE6-8A5D-05B1EE124F4A__i1026339">Figure 28-1</a> shows the parameters common to all protocols. All of their parameter names, except those starting with <code>/xdbconfig</code>, are relative to the following XPath in the Oracle XML&nbsp;DB configuration schema:</p>
<pre>/xdbconfig/sysconfig/protocolconfig/common
</pre>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">FTP-specific parameters</span> &ndash; <a href="xdb22pro.htm#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__g1029943" title="This table describes protocol configuration parameters specific to FTP.">Table 28-2</a> shows the FTP-specific parameters. These are relative to the following XPath in the Oracle XML&nbsp;DB configuration schema:</p>
<pre dir="ltr">/xdbconfig/sysconfig/protocolconfig/ftpconfig
</pre></li>
<li>
<p><span class="italic">HTTP(S)/WebDAV specific parameters, except servlet-related parameters</span> &ndash; <a href="xdb22pro.htm#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__g1029959" title="This table describes protocol configuration parameters specific to HTTP or WebDAV.">Table 28-3</a> shows the HTTP(S)/WebDAV-specific parameters. These parameters are relative to the following XPath in the Oracle XML&nbsp;DB configuration schema:</p>
<pre dir="ltr">/xdbconfig/sysconfig/protocolconfig/httpconfig
</pre></li>
</ul>
<div class="infoboxnotealso" id="GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__GUID-A23631BB-6AEF-4E7C-95CF-5A4217DC40E5">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="appaman.htm#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a> for more information about the configuration file <code>xdbconfig.xml</code></p>
</li>
<li>
<p><span class="q">&#34;<a href="apphxdb.htm#GUID-6B384EEE-07D8-46AC-956C-1DF36159D23C" title="A full listing is presented of file xdbconfig.xsd, which contains the XML schema used to configure Oracle XML&nbsp;DB.">xdbconfig.xsd: XML Schema for Configuring Oracle XML&nbsp;DB</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-3031B88B-BD96-4508-8B2C-1BB67BA55732" title="Oracle XML&nbsp;DB provides a mechanism to configure default XML schema location mappings.">Configuration of Mappings from Default Namespace to Schema Location</a>&#34;</span> for more information about the <code>schemaLocation-mappings</code> parameter</p>
</li>
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-03B51F0F-0896-4EDB-8423-093CDA63D86C" title="Oracle XML&nbsp;DB Repository treats certain files as XML documents, based on their file extensions. When such files are inserted into the repository, Oracle XML&nbsp;DB pre-parses them to identify the XML schema location (or uses the default mapping if present) and inserts the document into the appropriate default table.">Configuring XML File Extensions</a>&#34;</span> for more information about the <code>xml-extensions</code> parameter</p>
</li>
</ul>
</div>
<p>For examples of the usage of these parameters, see the configuration file, <code>xdbconfig.xml</code>.</p>
<div class="tblformal" id="GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__BABJEIEG">
<p class="titleintable">Table 28-1 Common Protocol Configuration Parameters</p>
<table class="cellalignment3420" title="Common Protocol Configuration Parameters" summary="This table describes protocol configuration parameters.">
<thead>
<tr class="cellalignment3411">
<th class="cellalignment3440" id="d136089e447">Parameter</th>
<th class="cellalignment3441" id="d136089e450">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e455" headers="d136089e447">
<p><code>extension-mappings/mime-mappings</code></p>
</td>
<td class="cellalignment3443" headers="d136089e455 d136089e450">
<p>Specifies the mapping of file extensions to mime types. When a resource is stored in Oracle XML&nbsp;DB Repository, and its mime type is not specified, this list of mappings is used to set its mime type.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e463" headers="d136089e447">
<p><code>extension-mappings/lang-mappings</code></p>
</td>
<td class="cellalignment3443" headers="d136089e463 d136089e450">
<p>Specifies the mapping of file extensions to languages. When a resource is stored in Oracle XML&nbsp;DB Repository, and its language is not specified, this list of mappings is used to set its language.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e471" headers="d136089e447">
<p><code>extension-mappings/encoding-mappings</code></p>
</td>
<td class="cellalignment3443" headers="d136089e471 d136089e450">
<p>Specifies the mapping of file extensions to encodings. When a resource is stored in Oracle XML&nbsp;DB Repository, and its encoding is not specified, this list of mappings is used to set its encoding.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e479" headers="d136089e447">
<p><code>xml-extensions</code></p>
</td>
<td class="cellalignment3443" headers="d136089e479 d136089e450">
<p>Specifies the list of filename extensions that are treated as XML content by Oracle XML&nbsp;DB.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e487" headers="d136089e447">
<p><code>session-pool-size</code></p>
</td>
<td class="cellalignment3443" headers="d136089e487 d136089e450">
<p>Maximum number of sessions that are kept in the protocol server session pool</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e495" headers="d136089e447">
<p><code>/xdbconfig/sysconfig/call-timeout</code></p>
</td>
<td class="cellalignment3443" headers="d136089e495 d136089e450">
<p>If a connection is idle for this time (in hundredths of a second), then the shared server serving the connection is freed up to serve other connections.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e503" headers="d136089e447">
<p><code>session-timeout</code></p>
</td>
<td class="cellalignment3443" headers="d136089e503 d136089e450">
<p>Time (in hundredths of a second) after which a session (and consequently the corresponding connection) is terminated by the protocol server if the connection has been idle for that time. This parameter is used only if the specific protocol session timeout is not present in the configuration</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e511" headers="d136089e447">
<p><code>schemaLocation-mappings</code></p>
</td>
<td class="cellalignment3443" headers="d136089e511 d136089e450">
<p>Specifies the default schema location for a given namespace. This is used if the instance XML document does not contain an explicit <code>xsi:schemaLocation</code> attribute.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3442" id="d136089e522" headers="d136089e447">
<p><code>/xdbconfig/sysconfig/default-lock-timeout</code></p>
</td>
<td class="cellalignment3443" headers="d136089e522 d136089e450">
<p>Time period after which a WebDAV lock on a resource becomes invalid. This could be overridden by a Timeout specified by the client that locks the resource.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__g1029943">
<p class="titleintable">Table 28-2 Configuration Parameters Specific to FTP</p>
<table class="cellalignment3420" title="Configuration Parameters Specific to FTP" summary="This table describes protocol configuration parameters specific to FTP.">
<thead>
<tr class="cellalignment3411">
<th class="cellalignment3444" id="d136089e539">Parameter</th>
<th class="cellalignment3445" id="d136089e542">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3411">
<td class="cellalignment3446" id="d136089e547" headers="d136089e539">
<p><code>buffer-size</code></p>
</td>
<td class="cellalignment3447" headers="d136089e547 d136089e542">
<p>Size of the buffer, in bytes, used to read data from the network during an FTP <code>put</code> operation. Set <code>buffer-size</code> to larger values for higher <code>put</code> performance. There is a trade-off between <code>put</code> performance and memory usage. The value can be from 1024 to 1048496, inclusive. The default value is 8192.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3446" id="d136089e567" headers="d136089e539">
<p><code>ftp-port</code></p>
</td>
<td class="cellalignment3447" headers="d136089e567 d136089e542">
<p>Port on which FTP server listens. By default, this is <code>0</code>, which means that FTP is <span class="italic">disabled</span>. FTP is disabled by default because the FTP specification requires that passwords be transmitted in clear text, which can present a security hazard. To enable FTP, set this parameter to the FTP port to use, such as <code>2100</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3446" id="d136089e584" headers="d136089e539">
<p><code>ftp-protocol</code></p>
</td>
<td class="cellalignment3447" headers="d136089e584 d136089e542">
<p>Protocol over which the FTP server runs. By default, this is <code>tcp</code>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3446" id="d136089e595" headers="d136089e539">
<p><code>ftp-welcome-message</code></p>
</td>
<td class="cellalignment3447" headers="d136089e595 d136089e542">
<p>A user-defined welcome message that is displayed whenever an FTP client connects to the server. If this parameter is empty or missing, then the following default welcome message is displayed: &#34;Unauthorized use of this FTP server is prohibited and may be subject to civil and criminal prosecution.&#34;</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3446" id="d136089e603" headers="d136089e539">
<p><code>host-name</code></p>
</td>
<td class="cellalignment3447" headers="d136089e603 d136089e542">
<p>Name used to access the host system. The value can be an IP address or a name that is mapped to an IP address using <a class="olink NETRF1741" target="_blank" href="../NETRF/glossary.htm#NETRF1741">host naming</a> (e.g., in file <code>/etc/hosts</code> on Linux). By default, the IP address returned by the operating system is used.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3446" id="d136089e618" headers="d136089e539">
<p><code>session-timeout</code></p>
</td>
<td class="cellalignment3447" headers="d136089e618 d136089e542">
<p>Time (in hundredths of a second) after which an FTP connection is terminated by the protocol server if the connection has been idle for that time.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__g1029959">
<p class="titleintable">Table 28-3 Configuration Parameters Specific to HTTP(S)/WebDAV (Except Servlet)</p>
<table class="cellalignment3420" title="Configuration Parameters Specific to HTTP(S)/WebDAV (Except Servlet)" summary="This table describes protocol configuration parameters specific to HTTP or WebDAV.">
<thead>
<tr class="cellalignment3411">
<th class="cellalignment3448" id="d136089e635">Parameter</th>
<th class="cellalignment3449" id="d136089e638">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e643" headers="d136089e635">
<p><code>http-port</code></p>
</td>
<td class="cellalignment3451" headers="d136089e643 d136089e638">
<p>Port on which the HTTP(S)/WebDAV server listens, using protocol <code>http-protocol</code>. By default, this is <code>0</code>, which means that HTTP is <span class="italic">disabled</span>. If this parameter is empty (<code>&lt;http-port/&gt;</code>), then the default value of <code>0</code> applies. An empty parameter is <span class="italic">not</span> recommended.</p>
<p>This parameter <span class="italic">must</span> be present, whether or not it is empty. Otherwise, validation of <code>xdbconfig.xml</code> against XML schema <code>xdbconfig.xsd</code> fails. The value must be different from the value of <code>http2-port</code>. Otherwise, an error is raised.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e684" headers="d136089e635">
<p><code>http2-port</code></p>
</td>
<td class="cellalignment3451" headers="d136089e684 d136089e638">
<p>Port on which the HTTP(S)/WebDAV server listens, using protocol <code>http2-protocol</code>.</p>
<p>This parameter is <span class="italic">optional</span>, but, if present, then <code>http2-protocol</code> must also be present. Otherwise, an error is raised. The value must be different from the value of <code>http-port</code>. Otherwise, an error is raised. An empty parameter (<code>&lt;http2-port/&gt;</code>) also raises an error.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e709" headers="d136089e635">
<p><code>http-protocol</code></p>
</td>
<td class="cellalignment3451" headers="d136089e709 d136089e638">
<p>Protocol over which the HTTP(S)/WebDAV server runs on port <code>http-port</code>. Must be either <code>TCP</code> or <code>TCPS</code>.</p>
<p>This parameter <span class="italic">must</span> be present. Otherwise, validation of <code>xdbconfig.xml</code> against XML schema <code>xdbconfig.xsd</code> fails. An empty parameter (<code>&lt;http-protocol/&gt;</code>) also raises an error.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e740" headers="d136089e635">
<p><code>http2-protocol</code></p>
</td>
<td class="cellalignment3451" headers="d136089e740 d136089e638">
<p>Protocol over which the HTTP(S)/WebDAV server runs on port <code>http2-port</code>. Must be either <code>TCP</code> or <code>TCPS</code>. If this parameter is empty (<code>&lt;http2-protocol/&gt;</code>), then the default value of <code>TCP</code> applies. (An empty parameter is <span class="italic">not</span> recommended.)</p>
<p>This parameter is <span class="italic">optional</span>, but, if present, then <code>http2-port</code> must also be present. Otherwise, an error is raised.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e775" headers="d136089e635">
<p><code>session-timeout</code></p>
</td>
<td class="cellalignment3451" headers="d136089e775 d136089e638">
<p>Time (in hundredths of a second) after which an HTTP(S) session (and consequently the corresponding connection) is terminated by the protocol server if the connection has been idle for that time.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e783" headers="d136089e635">
<p><code>max-header-size</code></p>
</td>
<td class="cellalignment3451" headers="d136089e783 d136089e638">
<p>Maximum size (in bytes) of an HTTP(S) header</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e791" headers="d136089e635">
<p><code>max-request-body</code></p>
</td>
<td class="cellalignment3451" headers="d136089e791 d136089e638">
<p>Maximum size (in bytes) of an HTTP(S) request body</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e799" headers="d136089e635">
<p><code>webappconfig/welcome-file-list</code></p>
</td>
<td class="cellalignment3451" headers="d136089e799 d136089e638">
<p>List of filenames that are considered welcome files. When an HTTP(S) <code>get</code> request for a container is received, the server first checks if there is a resource in the container with any of these names. If so, then the contents of that file are sent, instead of a list of resources in the container.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e810" headers="d136089e635">
<p><code>default-url-charset</code></p>
</td>
<td class="cellalignment3451" headers="d136089e810 d136089e638">
<p>The character set in which an HTTP(S) protocol server assumes incoming URL is encoded when it is not encoded in UTF-8 or the Content-Type field Charset parameter of the request.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e818" headers="d136089e635">
<p><code>allow-repository-anonymous-access</code></p>
</td>
<td class="cellalignment3451" headers="d136089e818 d136089e638">
<p>Indication of whether or not anonymous HTTP access to Oracle XML&nbsp;DB Repository data is allowed using an unlocked <code>ANONYMOUS</code> user account. The default value is <code>false</code>, meaning that unauthenticated access to repository data is <span class="italic">blocked</span>. See <span class="q">&#34;<a href="xdb22pro.htm#GUID-6E14FA16-E2FA-45F3-AA18-770730C04DA6" title="Optional configuration parameter allow-repository-anonymous-access controls whether or not anonymous HTTP access to Oracle XML&nbsp;DB Repository data is allowed using an unlocked ANONYMOUS user account. The default value is false, meaning that unauthenticated access to repository data is blocked.">Anonymous Access to Oracle XML&nbsp;DB Repository Using HTTP</a>&#34;</span>.</p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e855" headers="d136089e635">
<p><code>authentication</code></p>
</td>
<td class="cellalignment3451" headers="d136089e855 d136089e638">
<p>The HTTP authentication mechanisms allowed. See <span class="q">&#34;<a href="xdb22pro.htm#GUID-8B00C84F-AA90-4594-BFBF-8A19A1C945D3" title="You configure the authentication mechanisms to allow for HTTP access to Oracle XML&nbsp;DB Repository by setting element authentication, a child of element httpconfig, in configuration file xdbconfig.xml.">Configuration and Management of Authentication Mechanisms for HTTP</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment3411">
<td class="cellalignment3450" id="d136089e880" headers="d136089e635">
<p><code>expire</code></p>
</td>
<td class="cellalignment3451" headers="d136089e880 d136089e638">
<p>HTTP header that specifies the expiration date and time for a URL. See <span class="q">&#34;<a href="xdb22pro.htm#GUID-20320B49-5B26-4246-B12F-4F4506D5BBD6" title="Optional configuration parameter expire specifies an HTTP Expires header. This header acts as a directive to the HTTP client, to specify the expiration date and time for a URL.">Control of URL Expiration Time</a>&#34;</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADXDB2530"></a>
<div class="props_rev_3"><a id="GUID-AD81BE00-C4A2-4AF9-905E-1D56AC627D7D"></a>
<h3 id="ADXDB-GUID-AD81BE00-C4A2-4AF9-905E-1D56AC627D7D" class="sect3"><span class="enumeration_section">28.2.2</span> Configuring Secure HTTP (HTTPS)</h3>
<div>
<p>To enable the repository to use <span class="italic">secure</span> HTTP connections (HTTPS), a database administrator (DBA) must configure the database accordingly: configure parameters <code>http2-port</code> and <code>http2-protocol</code>, enable the HTTP Listener to use SSL, and enable launching of the TCPS Dispatcher. The DBA must then stop and restart the database and the listener.</p>
<div class="section">
<div class="infoboxnotealso" id="GUID-AD81BE00-C4A2-4AF9-905E-1D56AC627D7D__GUID-9DFABF19-BDED-4A14-933F-E23E513F67B5">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span> for information about configuring Oracle XML&nbsp;DB parameters</p>
</div>
</div>
<!-- class="section" --></div>
<a id="ADXDB5527"></a>
<div class="props_rev_3"><a id="GUID-7967897F-24E7-4740-A469-0D354E9562A4"></a>
<h4 id="ADXDB-GUID-7967897F-24E7-4740-A469-0D354E9562A4" class="sect4"><span class="enumeration_section">28.2.2.1</span> Enabling the HTTP Listener to Use SSL</h4>
<div>
<p>To configure the HTTP Listener for SSL, a database administrator (DBA) must create a wallet for the server and import a certificate; specify the wallet location to the server; disable client authentication; add an <code>SSL_DH_anon</code> cipher suite to <code>SSL_CIPHER_SUITES</code>; and create a listening end point that uses TCP/IP with SSL.</p>
<div class="section">
<p>More precisely, a DBA must carry out the following steps to configure the HTTP Listener for SSL.</p>
<ol>
<li id="GUID-7967897F-24E7-4740-A469-0D354E9562A4__CHDBGGBC">
<p><span class="italic">Create a wallet for the server and import a certificate &ndash;</span> Use Oracle Wallet Manager to do the following:</p>
<ol>
<li>
<p>Create a wallet for the server.</p>
</li>
<li>
<p>If a valid certificate with distinguished name (DN) of the server is not available, create a certificate request and submit it to a certificate authority. Obtain a valid certificate from the authority.</p>
</li>
<li>
<p>Import a valid certificate with the distinguished name (DN) of the server into the server.</p>
</li>
<li>
<p>Save the new wallet in <span class="italic">obfuscated</span> form, so that it can be opened without a password.</p>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-7967897F-24E7-4740-A469-0D354E9562A4__GUID-F5BBB127-DEBD-4135-AE81-8277A67A98ED">
<p class="notep1">See Also:</p>
<p><a class="olink DBIMI160" target="_blank" href="../DBIMI/walet.htm#DBIMI160"><span class="italic">Oracle Database Enterprise User Security Administrator&#39;s Guide</span></a> for information about how to create a wallet</p>
</div>
</li>
<li>
<p><span class="italic">Specify the wallet location to the server &ndash;</span> Use Oracle Net Manager to do this. Ensure that the configuration is saved to disk. This step updates files <code>sqlnet.ora</code> and <code>listener.ora</code>.</p>
</li>
<li>
<p><span class="italic">Disable client authentication</span> at the server, since most Web clients do not have certificates. Use Oracle Net Manager to do this. This step updates file <code>sqlnet.ora</code>.</p>
</li>
<li>
<p><span class="italic">Add an</span> <span class="italic"><code>SSL_DH_anon</code></span> <span class="italic">cipher suite to</span> <span class="italic"><code>SSL_CIPHER_SUITES</code></span> &ndash; Use any of these:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>SSL_DH_anon_WITH_3DES_EDE_CBC_SHA</code></p>
</li>
<li>
<p><code>SSL_DH_anon_WITH_RC4_128_MD5</code></p>
</li>
<li>
<p><code>SSL_DH_anon_WITH_DES_CBC_SHA</code></p>
</li>
</ul>
<p>This step updates file <code>sqlnet.ora</code>.</p>
</li>
<li id="GUID-7967897F-24E7-4740-A469-0D354E9562A4__CHDDCFII">
<p><span class="italic">Create a listening end point that uses TCP/IP with SSL &ndash;</span> Use Oracle Net Manager to do this. This step updates file <code>listener.ora</code>.</p>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-7967897F-24E7-4740-A469-0D354E9562A4__GUID-C178A215-9642-4835-AFE1-E2B46642B6D9">
<p class="notep1">See Also:</p>
<p><a class="olink DBSEG070" target="_blank" href="../DBSEG/asossl.htm#DBSEG070"><span class="italic">Oracle Database Security Guide</span></a> for detailed information regarding steps <a href="xdb22pro.htm#GUID-7967897F-24E7-4740-A469-0D354E9562A4__CHDBGGBC">1</a> through <a href="xdb22pro.htm#GUID-7967897F-24E7-4740-A469-0D354E9562A4__CHDDCFII">5</a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5528"></a>
<div class="props_rev_3"><a id="GUID-A838689D-53F6-454A-AA82-0B140771605C"></a>
<h4 id="ADXDB-GUID-A838689D-53F6-454A-AA82-0B140771605C" class="sect4"><span class="enumeration_section">28.2.2.2</span> Enabling TCPS Dispatcher</h4>
<div>
<p>To enable launching of a TCPS dispatcher during database startup, a database administrator (DBA) must edit the database <code>pfile</code>.</p>
<div class="section">
<p>The following line must be added to the <code>pfile</code>, where <span class="italic"><code>SID</code></span> is the SID of the database:</p>
<pre dir="ltr">dispatchers=(protocol=tcps)(service=<span class="italic">SID</span>xdb)
</pre>
<p>The database <code>pfile</code> location depends on your operating system, as follows:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">MS Windows &ndash;</span> <span class="italic"><code>PARENT</code></span><code>/admin/orcl/pfile</code>, where <span class="italic"><code>PARENT</code></span> is the parent folder of folder <code>ORACLE_HOME</code></p>
</li>
<li>
<p><span class="italic">UNIX, Linux &ndash;</span> <code>$ORACLE_HOME/admin/$ORACLE_SID/pfile</code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADXDB6284"></a><a id="ADXDB6283"></a>
<div class="props_rev_3"><a id="GUID-13171EF8-9A77-47CC-8B01-6F9FCB2A5D5D"></a>
<h3 id="ADXDB-GUID-13171EF8-9A77-47CC-8B01-6F9FCB2A5D5D" class="sect3"><span class="enumeration_section">28.2.3</span> Using Listener Status to Check Port Configuration</h3>
<div>
<p>You can use the TNS Listener command, <code>lsnrctl status</code>, to verify that HTTP(S) and FTP support has been enabled. An example illustrates this.</p>
<div class="section">
<div class="infoboxnotealso" id="GUID-13171EF8-9A77-47CC-8B01-6F9FCB2A5D5D__GUID-0E48D39D-5342-4D2F-8521-E2F17DB2F508">
<p class="notep1">See Also:</p>
<p><a href="xdb22pro.htm#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="You can access Oracle XML&nbsp;DB Repository data using protocols FTP and HTTP(S)/WebDAV.">Repository Access Using Protocols</a></p>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-13171EF8-9A77-47CC-8B01-6F9FCB2A5D5D__CEGDEGGB">
<p class="titleinexample">Example 28-1 Listener Status with FTP and HTTP(S) Protocol Support Enabled</p>
<pre dir="ltr">LSNRCTL for 32-bit Windows: Version 11.1.0.5.0 - Production on 20-AUG-2007 16:02:34
 
Copyright (c) 1991, 2007, Oracle.  All rights reserved.
 
Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC1521))) STATUS of the LISTENER
--------------------------------------------------------------------------------------------
Alias                          LISTENER
Version                        TNSLSNR for 32-bit Windows: Version 11.1.0.5.0 - Beta
Start Date                     20-JUN-2007 15:35:40
Uptime                         0 days 16 hr. 47 min. 42 sec
Trace Level                    off
Security                       ON: Local OS Authentication
SNMP                           OFF
Listener Parameter File        C:\oracle\product\11.1.0\db_1\network\admin\listener.ora
Listener Log File              c:\oracle\diag\tnslsnr\quine-pc\listener\alert\log.xml
 
Listening Endpoints Summary... 
(DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(PIPENAME=\\.\pipe\EXTPROC1521ipc)))
(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=quine-pc.example.com)(PORT=1521)))
(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=quine-pc.example.com)
             <span class="bold">(PORT=21))(Presentation=FTP)(Session=RAW))</span>
(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=quine-pc.example.com)
             <span class="bold">(PORT=443))(Presentation=HTTP)(Session=RAW))</span>
Services Summary...
Service &#34;orcl.example.com&#34; has 1 instance(s).
  Instance &#34;orcl&#34;, status READY, has 1 handler(s) for this service...
Service &#34;orclXDB.example.com&#34; has 1 instance(s).
  Instance &#34;orcl&#34;, status READY, has 1 handler(s) for this service...
Service &#34;orcl_XPT.example.com&#34; has 1 instance(s).
  Instance &#34;orcl&#34;, status READY, has 1 handler(s) for this service...
The command completed successfully
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB6098"></a>
<div class="props_rev_3"><a id="GUID-834E2D2F-A736-4A0A-9315-7892B6972DD2"></a>
<h3 id="ADXDB-GUID-834E2D2F-A736-4A0A-9315-7892B6972DD2" class="sect3"><span class="enumeration_section">28.2.4</span> Configuring Protocol Port Parameters after Database Consolidation</h3>
<div>
<p>In a multitenant container database (CDB), protocol server port numbers distinguish the plugged-in pluggable databases (PDBs): each such database must have unique port numbers. A database administrator (DBA) must ensure that each port number used by a PDB is unique.</p>
<div class="section">
<p>To avoid port conflicts and to resolve any port conflicts that might result from consolidation, a database administrator must proceed as follows:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Use PL/SQL function <code>DBMS_XDB_CONFIG.usedPort</code> to obtain the port numbers used by the other PDBs in the same CDB.</span></li>
<li><span>Use PL/SQL subprogram <code>DBMS_XDB_CONFIG.setFTPPort</code> or <code>DBMS_XDB_CONFIG.setHTTPPort</code>, as needed, to change each port number that conflicts so that it is unique.</span></li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-834E2D2F-A736-4A0A-9315-7892B6972DD2__GUID-EF9CF453-64E1-48FF-9846-492F119B73BC">
<p class="notep1">Note:</p>
<p>After a PDB plug-in or clone operation, and until Oracle XML&nbsp;DB has been fully initialized, the port parameter settings in the configuration file, <code>xdbconfig.xml</code>, might be <span class="italic">undefined</span>. Oracle recommends that you use <code>DBMS_XDB_CONFIG</code> subprogram <code>getFTPPort</code>, <code>getHTTPPort</code>, <code>getHTTPSPort</code>, <code>setFTPPort</code>, <code>setHTTPPort</code>, or <code>setHTTPSPort</code> to obtain or modify a port value.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB2540"></a>
<div class="props_rev_3"><a id="GUID-8B00C84F-AA90-4594-BFBF-8A19A1C945D3"></a>
<h3 id="ADXDB-GUID-8B00C84F-AA90-4594-BFBF-8A19A1C945D3" class="sect3"><span class="enumeration_section">28.2.5</span> Configuration and Management of Authentication Mechanisms for HTTP</h3>
<div>
<p>You configure the authentication mechanisms to allow for HTTP access to Oracle XML&nbsp;DB Repository by setting element <code>authentication</code>, a child of element <code>httpconfig</code>, in configuration file <code>xdbconfig.xml</code>.</p>
<p>Starting with 12<span class="italic">c</span> Release 1 (12.1.0.1), Oracle Database supports not only basic authentication but also digest access authentication.</p>
<p>Note that user credentials are case-sensitive. In particular, to be authenticated, a user name must exactly match the name as it was created (which by default is all uppercase).</p>
<p><span class="italic">Digest access authentication</span>, also known as <strong class="term">digest authentication</strong> provides encryption of user credentials (name, password, etc.) without the overhead of complete data encryption.</p>
<p>You can configure the authentication mechanism to use by setting element <code>authentication</code>, a child of element <code>httpconfig</code>, in configuration file <code>xdbconfig.xml</code>. Element <code>authentication</code> is optional. If absent then only basic authentication is used.</p>
<p>Element <code>authentication</code> has two possible child elements:</p>
<ul style="list-style-type: disc;">
<li>
<p>Element <code>allow-mechanism</code> specifies an allowed mechanism: <code>basic</code>, <code>digest</code>, or <code>custom</code>. Use a separate <code>allow-mechanism</code> element to specify each mechanism you want to allow.</p>
</li>
<li>
<p>Element <code>digest-auth</code> is optional. It specifies information for a digest mechanism. Its child element <code>nonce-timeout</code> specifies the number of seconds that a given nonce remains valid. The default value is 300 seconds.</p>
<p>The default value is used if there is an <code>allow-mechanism</code> that specifies <code>digest</code> but there is no <code>digest-auth</code> element. A <code>digest-auth</code> element is ignored if there is no <code>allow-mechanism</code> that specifies <code>digest</code>.</p>
</li>
</ul>
<p>HTTP requests are accepted for each <code>allow-mechanism</code> specified. Authentication challenges are presented in the order of the specified <code>allow-mechanism</code> types. For example, if both <code>digest</code> and <code>basic</code> are present, in that order, then a digest challenge is presented before a basic challenge. Oracle recommends that you <span class="italic">always</span> put a stronger authentication before a weaker one. (Digest authentication is stronger than basic authentication.)</p>
<div class="infoboxnotealso" id="GUID-8B00C84F-AA90-4594-BFBF-8A19A1C945D3__GUID-C38AB0EC-2048-459B-8786-A2DE26184C08">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D89A2092-4BBF-4069-90FE-8E71C3EC3896" title="Various considerations apply to all upgrades of Oracle Database from a release prior to Oracle Database 12c Release 1 (12.1.0.1).">Upgrade or Downgrade of an Existing Oracle XML&nbsp;DB Installation</a>&#34;</span> for installation, upgrade, and downgrade considerations</p>
</li>
<li>
<p>RFC2617, <span class="italic">HTTP Authentication: Basic and Digest Access Authentication</span>, <a href="http://tools.ietf.org/html/rfc2617" target="_blank"><code>http://tools.ietf.org/html/rfc2617</code></a></p>
</li>
</ul>
</div>
</div>
<a id="ADXDB6221"></a>
<div class="props_rev_3"><a id="GUID-BED54DB8-8454-4608-945E-C638166009D4"></a>
<h4 id="ADXDB-GUID-BED54DB8-8454-4608-945E-C638166009D4" class="sect4"><span class="enumeration_section">28.2.5.1</span> Nonces for Digest Authentication</h4>
<div>
<p>With digest authentication, the server generates a nonce whenever it issues an unauthorized response. Clients include the nonce in requests to the server. The server checks nonces received from the client to see if it needs to refuse the client authentication. A client can authenticate the server the same way.</p>
<p>A <strong class="term">nonce</strong> is a unique string that the server generates each time it issues an HTTP 401 (unauthorized) response. Clients include the nonce in subsequent requests that they issue to the server. The server checks the nonce it receives from the client. If incorrect or if the <code>nonce-timeout</code> period has expired, the server can immediately refuse to authenticate.</p>
<p>(A client can use the same mechanism to authenticate the server: it can generate its own nonce. Both client and server can use this client nonce to help prevent particular plain-text attacks.)</p>
<p>A new nonce is created each time the server sends a digest challenge to a client. A nonce is based on a <strong class="term">nonce key</strong>. The initial nonce key is generated randomly when you install or upgrade the database.</p>
<p>If you use digest authentication then Oracle also recommends that you create a new nonce key periodically, to ensure the integrity of the key. You use PL/SQL procedure <code>DBMS_XDB_ADMIN.createNonceKey</code> to do this.</p>
</div>
</div>
</div>
<a id="ADXDB5529"></a>
<div class="props_rev_3"><a id="GUID-89D39604-B089-4A0B-B0E6-54FD7D50F764"></a>
<h3 id="ADXDB-GUID-89D39604-B089-4A0B-B0E6-54FD7D50F764" class="sect3"><span class="enumeration_section">28.2.6</span> Oracle XML&nbsp;DB Repository and File-System Resources</h3>
<div>
<p>Protocol specifications, RFC 959 (FTP), RFC 2616 (HTTP), and RFC 2518 (WebDAV) implicitly assume an abstract, hierarchical file system on the server side. This is mapped to Oracle XML&nbsp;DB Repository. The repository provides name resolution, ACL-based security, and an ability to store and retrieve any content.</p>
<p>The repository can store binary data input through FTP and XML schema-based documents.</p>
<div class="infoboxnotealso" id="GUID-89D39604-B089-4A0B-B0E6-54FD7D50F764__GUID-7CE9B939-4F6D-414B-8F8D-1501D28FE168">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="http://www.ietf.org/rfc/rfc959.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc959.txt</code></a></p>
</li>
<li>
<p><a href="http://www.ietf.org/rfc/rfc2616.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc2616.txt</code></a></p>
</li>
<li>
<p><a href="http://www.ietf.org/rfc/rfc2518.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc2518.txt</code></a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADXDB5530"></a>
<div class="props_rev_3"><a id="GUID-8B4B6DB5-3C96-4456-915D-F70245CD229A"></a>
<h3 id="ADXDB-GUID-8B4B6DB5-3C96-4456-915D-F70245CD229A" class="sect3"><span class="enumeration_section">28.2.7</span> Protocol Server Handles XML Schema-Based or Non-Schema-Based XML Documents</h3>
<div>
<p>Oracle XML&nbsp;DB protocol server always checks whether a document being inserted is based on an XML schema that is registered with Oracle XML&nbsp;DB Repository. If it is, then the <code>XMLType</code> storage model to use is determined by that XML schema. If it is not, then the document is stored as a <code>BLOB</code>.</p>
</div>
</div>
<a id="ADXDB5531"></a>
<div class="props_rev_3"><a id="GUID-6E888BBB-1A09-4A70-948D-A10BDD64365D"></a>
<h3 id="ADXDB-GUID-6E888BBB-1A09-4A70-948D-A10BDD64365D" class="sect3"><span class="enumeration_section">28.2.8</span> Event-Based Logging</h3>
<div>
<p>You can log the requests received and responses sent by a protocol server by setting event number <code>31098</code> to level <code>2</code>.</p>
<p>To set this event, add the following line to your <code>init.ora</code> file and restart the database:</p>
<pre dir="ltr">event=&#34;31098 trace name context forever, level 2&#34;
</pre></div>
</div>
</div>
<a id="ADXDB5532"></a>
<div class="props_rev_3"><a id="GUID-152AF8C1-F283-4ADC-8043-C0687CC15003"></a>
<h2 id="ADXDB-GUID-152AF8C1-F283-4ADC-8043-C0687CC15003" class="sect2"><span class="enumeration_section">28.3</span> FTP and the Oracle XML&nbsp;DB Protocol Server</h2>
<div>
<p>File Transfer Protocol (FTP), specified in RFC959, is one of the oldest and most popular protocols. It provides access to heterogeneous file systems in a uniform manner. You can use FTP to access and update data stored in Oracle XML&nbsp;DB Repository.</p>
</div>
<a id="ADXDB5533"></a>
<div class="props_rev_3"><a id="GUID-49A7F0E1-DC5D-4A3F-AF46-B0F6743A2FD3"></a>
<h3 id="ADXDB-GUID-49A7F0E1-DC5D-4A3F-AF46-B0F6743A2FD3" class="sect3"><span class="enumeration_section">28.3.1</span> Oracle XML&nbsp;DB Protocol Server: FTP Features</h3>
<div>
<p>File Transfer Protocol (FTP) is implemented by dedicated clients at the operating system level, file-system explorer clients, and browsers. FTP is typically session-oriented: a user session is created through an explicit logon, a number of files or directories are downloaded and browsed, and then the connection is closed.</p>
<p>The transfer of command messages and the return of status happens on a single connection. However, a new connection is opened between the client and the server for data transfer. With HTTP(S), by contrast, commands and data are transferred using a single connection.</p>
<div class="infobox-note" id="GUID-49A7F0E1-DC5D-4A3F-AF46-B0F6743A2FD3__GUID-F075EE95-3F99-4A86-8E37-3D14BDDE0204">
<p class="notep1">Note:</p>
<p>For security reasons, FTP is <span class="italic">disabled</span>, by default, for Oracle Database. This is because the IETF FTP protocol specification requires that passwords be transmitted in clear text. Disabling is done by configuring the FTP server port as zero (0). To enable FTP, set the <code>ftp-port</code> parameter to the FTP port to use, such as 2100.</p>
</div>
<div class="infoboxnotealso" id="GUID-49A7F0E1-DC5D-4A3F-AF46-B0F6743A2FD3__GUID-F48F0E1B-CEAB-400C-9644-561C64E848C9">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>RFC 959: FTP Protocol Specification &ndash; <a href="http://www.ietf.org/rfc/rfc959.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc959.txt</code></a></p>
</li>
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span> for information about configuring parameters</p>
</li>
</ul>
</div>
</div>
<a id="ADXDB5534"></a>
<div class="props_rev_3"><a id="GUID-9357951B-759B-481E-AE47-ABA52C586136"></a>
<h4 id="ADXDB-GUID-9357951B-759B-481E-AE47-ABA52C586136" class="sect4"><span class="enumeration_section">28.3.1.1</span> FTP Features That Are Not Supported</h4>
<div>
<p>FTP features that are not supported by Oracle XML&nbsp;DB include record-oriented files and operations append, allocate, account, and abort.</p>
<div class="section">
<p>Oracle XML&nbsp;DB implements FTP, as defined by RFC 959, with the <span class="italic">exception</span> of the following optional features:</p>
<ul style="list-style-type: disc;">
<li>
<p>Record-oriented files, for example, only the <code>FILE</code> structure of the <code>STRU</code> method is supported. This is the most widely used structure for transfer of files. It is also the default specified by the specification. Structure mount is not supported.</p>
</li>
<li>
<p>Append.</p>
</li>
<li>
<p>Allocate. This pre-allocates space before file transfer.</p>
</li>
<li>
<p>Account. This uses the insecure Telnet protocol.</p>
</li>
<li>
<p>Abort.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5535"></a>
<div class="props_rev_3"><a id="GUID-18F557BA-1C20-472C-95C5-3EE935A544E1"></a>
<h4 id="ADXDB-GUID-18F557BA-1C20-472C-95C5-3EE935A544E1" class="sect4"><span class="enumeration_section">28.3.1.2</span> Supported FTP Client Methods</h4>
<div>
<p>Oracle XML&nbsp;DB supports several FTP client methods for access to Oracle XML&nbsp;DB Repository.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code>cdup</code> &ndash; change working directory to parent directory</p>
</li>
<li>
<p><code>cwd</code> &ndash; change working directory</p>
</li>
<li>
<p><code>dele</code> &ndash; delete file (not directory)</p>
</li>
<li>
<p><code>list</code>, <code>nlst</code> &ndash; list files in working directory</p>
</li>
<li>
<p><code>mkd</code> &ndash; create directory</p>
</li>
<li>
<p><code>noop</code> &ndash; do nothing (but timeout counter on connection is reset)</p>
</li>
<li>
<p><code>pasv</code>, <code>port</code> &ndash; establish a TCP data connection</p>
</li>
<li>
<p><code>pwd</code> &ndash; get working directory</p>
</li>
<li>
<p><code>quit</code> &ndash; close connection and quit FTP session</p>
</li>
<li>
<p><code>retr</code> &ndash; retrieve data using an established connection</p>
</li>
<li>
<p><code>rmd</code> &ndash; remove directory</p>
</li>
<li>
<p><code>rnfr</code>, <code>rnto</code> &ndash; rename file (two-step process: from file, to file)</p>
</li>
<li>
<p><code>stor</code> &ndash; store data using an established connection</p>
</li>
<li>
<p><code>syst</code> &ndash; get system version</p>
</li>
<li>
<p><code>type</code> &ndash; change data type: <code>ascii</code> or <code>image</code> binary types only</p>
</li>
<li>
<p><code>user</code>, <code>pass</code> &ndash; user login</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-18F557BA-1C20-472C-95C5-3EE935A544E1__GUID-C00702C4-923E-4077-8670-72D93BF82E8F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="xdb22pro.htm#GUID-79D2A8C3-3AD4-4479-847B-0F3771B322AE" title="Oracle Database supports several FTP quote methods, which provide information directly to Oracle XML&nbsp;DB.">FTP Quote Methods</a>&#34;</span> for supported FTP <code>quote</code> methods</p>
</li>
<li>
<p><span class="q">&#34;<a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D" title="Oracle Automatic Storage Management (Oracle ASM) organizes database files into disk groups for simplified management and added benefits such as database mirroring and I/O balancing. You can use protocols and resource APIs to access Oracle ASM files in repository virtual folder /sys/asm. All files in /sys/asm are binary.">Using FTP with Oracle ASM Files</a>&#34;</span> for an example of using FTP method <code>proxy</code></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5536"></a>
<div class="props_rev_3"><a id="GUID-79D2A8C3-3AD4-4479-847B-0F3771B322AE"></a>
<h4 id="ADXDB-GUID-79D2A8C3-3AD4-4479-847B-0F3771B322AE" class="sect4"><span class="enumeration_section">28.3.1.3</span> FTP Quote Methods</h4>
<div>
<p>Oracle Database supports several FTP <code>quote</code> methods, which provide information directly to Oracle XML&nbsp;DB.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="bold"><code>rm_r</code></span> &ndash; Remove file or folder <span class="italic"><code>&lt;resource_name&gt;</code></span>. If a folder, recursively remove all files and folders contained in <span class="italic"><code>&lt;resource_name&gt;</code></span>.</p>
<pre dir="ltr">quote rm_r <span class="italic">&lt;resource_name&gt;</span>
</pre></li>
<li>
<p><span class="bold"><code>rm_f</code></span> &ndash; Forcibly remove a resource.</p>
<pre dir="ltr">quote rm_f <span class="italic">&lt;resource_name&gt;</span>
</pre></li>
<li>
<p><span class="bold"><code>rm_rf</code></span> &ndash; Combines <code>rm_r</code> and <code>rm_f</code>: Forcibly and recursively removes files and folders.</p>
<pre dir="ltr">quote rm_rf <span class="italic">&lt;resource_name&gt;</span>
</pre></li>
<li>
<p><span class="bold"><code>set_nls_locale</code></span> &ndash; Specify the character-set encoding (<span class="italic"><code>&lt;charset_name&gt;</code></span>) to be used for file and directory names in FTP methods (including names in method responses).</p>
<pre dir="ltr">quote set_nls_locale {<span class="italic">&lt;charset_name&gt;</span> | NULL} 
</pre>
<p>Only IANA character-set names can be specified for <span class="italic"><code>&lt;charset_name&gt;</code></span>. If <code>nls_locale</code> is set to <code>NULL</code> or is not set, then the database character set is used.</p>
</li>
<li>
<p><span class="bold"><code>set_charset</code></span> &ndash; Specify the character set of the data to be sent to the server.</p>
<pre dir="ltr">quote set_charset  {<span class="italic">&lt;charset_name&gt;</span> | NULL}
</pre>
<p>The <code>set_charset</code> method applies to only <span class="italic">text</span> files, not binary files, as determined by the file-extension mapping to MIME types that is defined in configuration file <code>xdbconfig.xml</code>.</p>
<p>If the parameter provided to <code>set_charset</code> is <span class="italic"><span class="bold"><code>&lt;charset_name&gt;</code></span></span> (<span class="italic">not</span> <code>NULL</code>), then it specifies the character set of the data.</p>
<p>If the parameter provided to <code>set_charset</code> is <code>NULL</code>, or if no <code>set_charset</code> command is given, then the <span class="italic">MIME type</span> of the data determines the character set for the data.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the MIME type is <span class="italic">not</span> <code>text/xml</code>), then the data is not assumed to be XML. The database character set is used.</p>
</li>
<li>
<p>If the MIME type is <span class="bold"><code>text/xml</code></span>, then the data represents an XML document.</p>
<p>If a <span class="italic">byte order mark</span><a id="fn_1" href="#fn_1" onclick="footdisplay(1,&#34;BOM is a Unicode-standard signature that indicates the order of the stream of bytes that follows it. &#34;)"><sup>Foot&nbsp;1</sup></a> (BOM) is present in the XML document, then it determines the character set of the data.</p>
<p>If there is <span class="italic">no</span> BOM, then:</p>
<ul style="list-style-type: disc;">
<li>
<p>If there is an <span class="italic">encoding declaration</span> in the XML document, then it determines the character set of the data.</p>
</li>
<li>
<p>If there is <span class="italic">no</span> encoding declaration, then the UTF-8 character set is used.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB4182"></a><a id="ADXDB4181"></a>
<div class="props_rev_3"><a id="GUID-1441B09D-F966-49E2-A2A9-E741CA905276"></a>
<h4 id="ADXDB-GUID-1441B09D-F966-49E2-A2A9-E741CA905276" class="sect4"><span class="enumeration_section">28.3.1.4</span> Uploading Content to Oracle XML&nbsp;DB Repository Using FTP</h4>
<div>
<p>An example shows the commands issued and the output generated when a standard command line FTP tool loads documents into Oracle XML&nbsp;DB Repository:</p>
<div class="section">
<p>The key point demonstrated by <a href="xdb22pro.htm#GUID-2F401AFF-4033-47F9-AFC7-C1A048E99A68__CEGGCEJC">Figure 28-3</a> and <a href="xdb22pro.htm#GUID-1441B09D-F966-49E2-A2A9-E741CA905276__BJFHDDHE">Example 28-2</a> is that neither Windows Explorer nor an FTP tool is aware that it is working with Oracle XML&nbsp;DB. Since such tools and Oracle XML&nbsp;DB both support open Internet protocols they work with each other out of the box.</p>
<p>Any tool that understands the WebDAV or FTP protocol can be used to create content managed by Oracle XML&nbsp;DB Repository. No additional software needs to be installed on the client or the mid-tier.</p>
<p>When the contents of folders are viewed using a tool such as Windows Explorer or FTP, the lengths of any XML Schema-based documents contained in the folder are shown as zero (0) bytes. This was designed as such for two reasons:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>It is not clear what the size of a document should be. Is it the size of the <code>CLOB</code> instance generated by printing the document, or the number of bytes required to store the objects used to persist the document inside the database?</p>
</li>
<li>
<p>Regardless of which definition is chosen, calculating and maintaining this information is costly.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="example" id="GUID-1441B09D-F966-49E2-A2A9-E741CA905276__BJFHDDHE">
<p class="titleinexample">Example 28-2 Uploading Content to the Repository Using FTP</p>
<pre dir="ltr">$ ftp mdrake-sun 2100
Connected to mdrake-sun.
220 mdrake-sun FTP Server (Oracle XML DB/Oracle Database 10g Enterprise Edition
Release 10.1.0.1.0 - Beta) ready.
Name (mdrake-sun:oracle10): QUINE
331 Password required for QUINE
Password: <span class="italic">password</span>
230 QUINE logged in
ftp&gt; cd /source/schemas
250 CWD Command successful
ftp&gt; mkdir PurchaseOrders
257 MKD Command successful
ftp&gt; cd PurchaseOrders
250 CWD Command successful
ftp&gt; mkdir 2002
257 MKD Command successful
ftp&gt; cd 2002
250 CWD Command successful
ftp&gt; mkdir &#34;Apr&#34;
257 MKD Command successful
ftp&gt; put &#34;Apr/AMCEWEN-20021009123336171PDT.xml&#34;
&#34;Apr/AMCEWEN-20021009123336171PDT.xml&#34;
200 PORT Command successful
150 ASCII Data Connection
226 ASCII Transfer Complete
local: Apr/AMCEWEN-20021009123336171PDT.xml remote:
Apr/AMCEWEN-20021009123336171PDT.xml
4718 bytes sent in 0.0017 seconds (2683.41 Kbytes/s)
ftp&gt; put &#34;Apr/AMCEWEN-20021009123336271PDT.xml&#34;
&#34;Apr/AMCEWEN-20021009123336271PDT.xml&#34;
200 PORT Command successful
150 ASCII Data Connection
226 ASCII Transfer Complete
local: Apr/AMCEWEN-20021009123336271PDT.xml remote:
Apr/AMCEWEN-20021009123336271PDT.xml
4800 bytes sent in 0.0014 seconds (3357.81 Kbytes/s)
.....
ftp&gt; cd &#34;Apr&#34;
250 CWD Command successful
ftp&gt; ls -l
200 PORT Command successful
150 ASCII Data Connection
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 AMCEWEN-20021009123336171PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 AMCEWEN-20021009123336271PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 EABEL-20021009123336251PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 PTUCKER-20021009123336191PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 PTUCKER-20021009123336291PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 SBELL-20021009123336231PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 SBELL-20021009123336331PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 SKING-20021009123336321PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 SMCCAIN-20021009123336151PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 SMCCAIN-20021009123336341PDT.xml
-rw-r--r1 QUINE oracle 0 JUN 24 15:41 VJONES-20021009123336301PDT.xml
226 ASCII Transfer Complete
remote: -l
959 bytes received in 0.0027 seconds (349.45 Kbytes/s)
ftp&gt; cd &#34;..&#34;
250 CWD Command successful
....
ftp&gt; quit
221 QUIT Goodbye.
$
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB5538"></a><a id="ADXDB5539"></a><a id="ADXDB5537"></a>
<div class="props_rev_3"><a id="GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D"></a>
<h4 id="ADXDB-GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D" class="sect4"><span class="enumeration_section">28.3.1.5</span> Using FTP with Oracle ASM Files</h4>
<div>
<p>Oracle Automatic Storage Management (Oracle ASM) organizes database files into disk groups for simplified management and added benefits such as database mirroring and I/O balancing. You can use protocols and resource APIs to access Oracle ASM files in repository <span class="italic">virtual folder</span> <code>/sys/asm</code>. All files in <code>/sys/asm</code> are binary.</p>
<div class="section">
<p>Typical uses are listing, copying, moving, creating, and deleting Oracle ASM files and folders. <a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDIEDDG">Example 28-3</a> is an example of navigating the Oracle ASM virtual folder and listing the files in a subfolder.</p>
<p>The structure of the Oracle ASM virtual folder, <code>/sys/asm</code>, is described in <a href="xdb16fol.htm#GUID-4CB42EFA-063B-4FD4-A250-EC557EBC7E39" title="There are several ways to access and manipulate data in Oracle XML&nbsp;DB Repository, including using standard protocols such as FTP and HTTP(S)/WebDAV; Oracle XML&nbsp;DB resource Application Program Interfaces (APIs); and the repository views RESOURCE_VIEW and PATH_VIEW.">Accessing Oracle XML&nbsp;DB Repository Data</a>. In <a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDIEDDG">Example 28-3</a>, the disk groups are <code>DATA</code> and <code>RECOVERY</code>; the database name is <code>MFG</code>; and the directories created for aliases are <code>dbs</code> and <code>tmp</code>. This example navigates to a subfolder, lists its files, and copies a file to the local file system.</p>
<p>In <a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDIEDDG">Example 28-3</a>, after connecting to and logging onto database <code>myhost</code> (first four lines), FTP methods <code>cd</code> and <code>ls</code> are used to navigate and list folders, respectively. When in folder <code>/sys/asm/DATA/dbs</code>, FTP command <code>get</code> is used to copy files <code>t_db1.f</code> and <code>t_ax1.f</code> to the current folder of the local file system. Then, FTP command <code>put</code> is used to copy file <code>my_db2.f</code> from the local file system to folder <code>/sys/asm/DATA/dbs</code>.</p>
<p>Database administrators can copy Oracle Automatic Storage Management (Oracle ASM) files from <span class="italic">one database server to another</span> or between the database and a local file system. <a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDJCGGC">Example 28-4</a> shows copying between two databases. For this, the <code>proxy</code> FTP client method can be used, if available. The <code>proxy</code> method provides a <span class="italic">direct</span> connection to two different remote FTP servers.</p>
<p><a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDJCGGC">Example 28-4</a> copies an Oracle ASM file from one database to another. Terms with the suffix <code>1</code> correspond to database <code>server1</code>. Terms with the suffix <code>2</code> correspond to database <code>server2</code>. Note that, depending on your FTP client, the passwords you type might be echoed on your screen. Take the necessary precautions so that others do not see these passwords.</p>
<p>In <a href="xdb22pro.htm#GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDJCGGC">Example 28-4</a>:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Line 1 opens an FTP control connection to the Oracle XML&nbsp;DB FTP server, <code>server1</code>.</p>
</li>
<li>
<p>Lines 2&ndash;4 log the database administrator onto <code>server1</code> as <code>USERNAME1</code>.</p>
</li>
<li>
<p>Line 5 navigates to <code>/sys/asm/DATAFILE/MFG/DATAFILE</code> on <code>server1</code>.</p>
</li>
<li>
<p>Line 6 opens an FTP control connection to the second database server, <code>server2</code>. At this point, the FTP command <code>proxy&nbsp;?</code> could be issued to see the available FTP commands on the secondary connection. (This is not shown.)</p>
</li>
<li>
<p>Lines 7&ndash;9 log the database administrator onto <code>server2</code> as <code>USERNAME2</code>.</p>
</li>
<li>
<p>Line 10 navigates to <code>/sys/asm/DATAFILE/MFG/DATAFILE</code> on <code>server2</code>.</p>
</li>
<li>
<p>Line 11 copies Oracle ASM file <code>dbs2.f</code> from <code>server2</code> to Oracle ASM file <code>tmp1.f</code> on <code>server1</code>.</p>
</li>
<li>
<p>Line 12 copies Oracle ASM file <code>dbs1.f</code> from <code>server1</code> to Oracle ASM file <code>tmp2.f</code> on <code>server2</code>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="example" id="GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDIEDDG">
<p class="titleinexample">Example 28-3 Navigating Oracle ASM Folders</p>
<pre dir="ltr">ftp&gt; open myhost 7777
ftp&gt; user system
Password required for SYSTEM
Password: <span class="italic">password</span>
ftp&gt; cd /sys/asm
ftp&gt; ls
DATA
RECOVERY
ftp&gt; cd DATA
ftp&gt; ls
dbs
MFG
ftp&gt; cd dbs
ftp&gt; ls
t_dbl.f
t_axl.f
ftp&gt; binary
ftp&gt; get t_dbl.f, t_axl.f
ftp&gt; put my_db2.f
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-8A69CB6C-5136-4ACD-8291-2EAE667CC19D__CHDJCGGC">
<p class="titleinexample">Example 28-4 Transferring Oracle ASM Files Between Databases with FTP proxy Method</p>
<pre dir="ltr"> 1 ftp&gt; open server1 port1
 2 ftp&gt; user username1
 3 Password required for USERNAME1
 4 Password: <span class="italic">password-for-username1</span>
 5 ftp&gt; cd /sys/asm/DATAFILE/MFG/DATAFILE
 6 ftp&gt; <span class="bold">proxy</span> open server2 port2
 7 ftp&gt; <span class="bold">proxy</span> user username2
 8 Password required for USERNAME2
 9 Password: <span class="italic">password-for-username2</span>
10 ftp&gt; <span class="bold">proxy</span> cd /sys/asm/DATAFILE/MFG/DATAFILE
11 ftp&gt; <span class="bold">proxy</span> put dbs2.f tmp1.f
12 ftp&gt; <span class="bold">proxy</span> get dbs1.f tmp2.f
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB5540"></a>
<div class="props_rev_3"><a id="GUID-8A54E6CB-F829-4BE5-99C3-54BB47104531"></a>
<h4 id="ADXDB-GUID-8A54E6CB-F829-4BE5-99C3-54BB47104531" class="sect4"><span class="enumeration_section">28.3.1.6</span> Using FTP on the Standard Port Instead of the Oracle XML&nbsp;DB Default Port</h4>
<div>
<p>You can use the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>, to configure FTP to listen on any port. By default, FTP listens on a non-standard, unprotected port.</p>
<div class="section">
<p>To use FTP on the standard port, 21, your database administrator must do the following:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>(UNIX only) Use this shell command to ensure that the owner and group of executable file <code>tnslsnr</code> are <code>root</code>:</span>
<div>
<pre dir="ltr">% chown root:root $ORACLE_HOME/bin/tnslsnr
</pre></div>
</li>
<li class="stepexpand"><span>(UNIX only) Add the following entry to the listener file, <code>listener.ora</code>, where <span class="italic"><code>hostname</code></span> is your host name:</span>
<div>
<pre dir="ltr">(DESCRIPTION =
  (ADDRESS = (PROTOCOL = TCP) (HOST = <span class="italic"><span class="bold">hostname</span></span>) (PORT = <span class="bold">21</span>))
  (PROTOCOL_STACK = (PRESENTATION = FTP) (SESSION = RAW)))
</pre></div>
</li>
<li class="stepexpand" id="GUID-8A54E6CB-F829-4BE5-99C3-54BB47104531__CEGJAGJB"><span>(UNIX only) Use shell command <code>id</code> to determine the <span class="italic"><code>user_id</code></span> and <span class="italic"><code>group_id</code></span> that were used to install Oracle Database. <span class="italic"><code>oracle_installation_user</code></span> is the name of the user who installed the database.</span>
<div>
<pre dir="ltr">% id <span class="italic">oracle_installation_user</span>
uid=<span class="italic"><span class="bold">user_id</span></span>(<span class="italic">oracle_installation_user</span>) gid=<span class="italic"><span class="bold">group_id</span></span>(dba)
</pre></div>
</li>
<li class="stepexpand"><span>(UNIX only) Stop, then restart the listener, using the following shell commands, where <span class="italic"><code>user_id</code></span> and <span class="italic"><code>group_id</code></span> are the UNIX user and group identifiers obtained in step <a href="xdb22pro.htm#GUID-8A54E6CB-F829-4BE5-99C3-54BB47104531__CEGJAGJB">3</a>.</span>
<div>
<pre dir="ltr">% lsnrctl stop
% tnslsnr LISTENER -user <span class="italic"><span class="bold">user_id</span></span> -group <span class="italic"><span class="bold">group_id</span></span> &amp;
</pre>
<p>Use the ampersand (<code>&amp;</code>), to execute the second command in the background. Do not use <code>lsnrctl start</code> to start the listener.</p>
</div>
</li>
<li class="stepexpand"><span>Use PL/SQL procedure <code>DBMS_XDB_CONFIG.setFTPPort</code> with <code>SYS as SYSDBA</code> to set the FTP port number to 21 in the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>.</span>
<div>
<pre dir="ltr">SQL&gt; exec DBMS_XDB_CONFIG.setFTPPort(<span class="bold">21</span>);
</pre></div>
</li>
<li class="stepexpand"><span>Force the database to reregister with the listener, using this SQL statement:</span>
<div>
<pre dir="ltr">SQL&gt; ALTER SYSTEM REGISTER;
</pre></div>
</li>
<li class="stepexpand"><span>Check that the listener is correctly configured, using this shell command:</span>
<div>
<pre dir="ltr">% lsnrctl status
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-8A54E6CB-F829-4BE5-99C3-54BB47104531__GUID-DB802719-DB10-4C16-B977-8F1892A0E247">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink NETRF008" target="_blank" href="../NETRF/listener.htm#NETRF008"><span class="italic">Oracle Database Net Services Reference</span></a> for information about listener parameters and file <code>listener.ora</code></p>
</li>
<li>
<p><a class="olink NETRF004" target="_blank" href="../NETRF/protocoladd.htm#NETRF004"><span class="italic">Oracle Database Net Services Reference</span></a>, section &#34;Port Number Limitations&#34; for information about running on privileged ports</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5542"></a><a id="ADXDB5541"></a>
<div class="props_rev_3"><a id="GUID-7730D105-DAA3-454C-BA89-5B5E169E4785"></a>
<h4 id="ADXDB-GUID-7730D105-DAA3-454C-BA89-5B5E169E4785" class="sect4"><span class="enumeration_section">28.3.1.7</span> Using IPv6 IP Addresses with FTP</h4>
<div>
<p>Starting with 11<span class="italic">g</span> Release 2 (11.2), Oracle Database supports the use of Internet Protocol Version 6, IPv6 (in addition to Internet Protocol Version 4).</p>
<div class="section">
<p><a href="xdb22pro.htm#GUID-7730D105-DAA3-454C-BA89-5B5E169E4785__BHCFCAJI">Example 28-5</a> shows how to make an FTP connection with the IPv6 address <code>2001::0db8:ffff:ffff:ffff</code>.</p>
<div class="infoboxnotealso" id="GUID-7730D105-DAA3-454C-BA89-5B5E169E4785__GUID-6176CF3C-D0F3-4CD8-ABFF-D6E0AF0B0B8D">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG999" target="_blank" href="../NETAG/layers.htm#NETAG999"><span class="italic">Oracle Database Net Services Reference</span></a> for information about IPv6</p>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-7730D105-DAA3-454C-BA89-5B5E169E4785__BHCFCAJI">
<p class="titleinexample">Example 28-5 FTP Connection Using IPv6</p>
<pre dir="ltr">ftp&gt; open <span class="bold">2001::0db8:ffff:ffff:ffff</span> 1521
Connected to 2001::0db8:ffff:ffff:ffff.
220- xmlhost.example.com
Unauthorized use of this FTP server is prohibited and may be subject to civil
and criminal prosecution.
220- xmlhost.example.com FTP server (Oracle XML DB/Oracle Database) ready.
User (2001::0db8:ffff:ffff:ffff:(none)): <span class="italic">username</span>
331 pass required for <span class="italic">USERNAME</span>
Password: <span class="italic">password-for-username</span>
230 <span class="italic">USERNAME</span> logged in
ftp&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB5543"></a>
<div class="props_rev_3"><a id="GUID-C57A371B-0CAC-4163-A985-C1733F12A387"></a>
<h4 id="ADXDB-GUID-C57A371B-0CAC-4163-A985-C1733F12A387" class="sect4"><span class="enumeration_section">28.3.1.8</span> FTP Server Session Management</h4>
<div>
<p>Oracle XML&nbsp;DB protocol server provides session management for FTP. After a short wait for a new command, FTP returns to the protocol layer and the shared server is freed up to serve other connections.</p>
<p>The duration of this short wait is configurable by changing parameter <code>call-timeout</code> in the Oracle XML&nbsp;DB configuration file. For high traffic sites, <code>call-timeout</code> should be shorter, so that more connections can be served. When new data arrives on the connection, the FTP server is re-invoked with fresh data. So, the long running nature of FTP does not affect the number of connections which can be made to the protocol server.</p>
<div class="infoboxnotealso" id="GUID-C57A371B-0CAC-4163-A985-C1733F12A387__GUID-53E2B9A1-435D-40A7-A0C5-AA28FD323CD6">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span> for information about configuring Oracle XML&nbsp;DB parameters</p>
</div>
</div>
</div>
<a id="ADXDB5545"></a><a id="ADXDB5544"></a>
<div class="props_rev_3"><a id="GUID-80B7622F-7988-4F49-BEA9-E05C48D72FDD"></a>
<h4 id="ADXDB-GUID-80B7622F-7988-4F49-BEA9-E05C48D72FDD" class="sect4"><span class="enumeration_section">28.3.1.9</span> Handling Error 421. Modifying the Default Timeout Value of an FTP Session</h4>
<div>
<p>If you are frequently disconnected from the server and you must reconnect and traverse the entire directory before performing the next operation, then you might need to modify the default timeout value for FTP sessions. If the session is idle for more than this period, it is disconnected.</p>
<div class="section">
<p>You can increase the timeout value (default = 6000 centiseconds) by modifying the configuration document as follows and then restarting the database:</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-80B7622F-7988-4F49-BEA9-E05C48D72FDD__GUID-2BE2759E-561F-4B63-BC06-297BDDE655B1">
<p class="titleinexample">Example 28-6 Modifying the Default Timeout Value of an FTP Session</p>
<pre dir="ltr">DECLARE
  newconfig XMLType;
BEGIN
SELECT XMLQuery(&#39;copy $i := $p1 modify
                   (for $j in $i/xdbconfig/sysconfig/protocolconfig/ftpconfig/session-timeout
                    return replace value of node $j with $p2)
                 return $i&#39;
                PASSING DBMS_XDB_CONFIG.cfg_get() AS &#34;p1&#34;, 123456789 AS &#34;p2&#34; RETURNING CONTENT)
  INTO newconfig FROM DUAL;
  DBMS_XDB_CONFIG.cfg_update(newconfig);
END;/
COMMIT;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="ADXDB5546"></a>
<div class="props_rev_3"><a id="GUID-5C17E005-70D1-4335-8973-65AFE82FDC7A"></a>
<h4 id="ADXDB-GUID-5C17E005-70D1-4335-8973-65AFE82FDC7A" class="sect4"><span class="enumeration_section">28.3.1.10</span> FTP Client Failure in Passive Mode</h4>
<div>
<p>Do not use FTP in <span class="italic">passive mode</span> to connect remotely to a server that has <code>HOSTNAME</code> configured in <code>listener.ora</code> as <code>localhost</code> or <code>127.0.0.1</code>.</p>
<p>If the <code>HOSTNAME</code> specified in server file <code>listener.ora</code> is <code>localhost</code> or <code>127.0.0.1</code>, then the server is configured for <span class="italic">local use only</span>. If you try to connect remotely to the server using FTP in passive mode, the FTP client fails. This is because the server passes IP address <code>127.0.0.1</code> (derived from <code>HOSTNAME</code>) to the client, which makes the client try to connect to itself, not to the server.</p>
</div>
</div>
</div>
</div>
<a id="ADXDB5547"></a>
<div class="props_rev_3"><a id="GUID-30DE120A-8FF3-44BB-8C21-CFF25F781C45"></a>
<h2 id="ADXDB-GUID-30DE120A-8FF3-44BB-8C21-CFF25F781C45" class="sect2"><span class="enumeration_section">28.4</span> HTTP(S) and Oracle XML&nbsp;DB Protocol Server</h2>
<div>
<p>Oracle XML&nbsp;DB implements HyperText Transfer Protocol (HTTP), HTTP 1.1 as defined in the RFC2616 specification.</p>
</div>
<a id="ADXDB5548"></a>
<div class="props_rev_3"><a id="GUID-4DC2A2FB-8AB2-464D-86BF-12B66AB03740"></a>
<h3 id="ADXDB-GUID-4DC2A2FB-8AB2-464D-86BF-12B66AB03740" class="sect3"><span class="enumeration_section">28.4.1</span> Oracle XML&nbsp;DB Protocol Server: HTTP(S) Features</h3>
<div>
<p>The Oracle XML&nbsp;DB HTTP(S) component of the Oracle XML&nbsp;DB protocol server implements the RFC2616 specification with the <span class="italic">exception</span> of a few optional features.</p>
<p>These are the optional HTTP(S) features that are not supported:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>gzip</code> and compress transfer encodings</p>
</li>
<li>
<p>byte-range headers</p>
</li>
<li>
<p>The <code>TRACE</code> method (used for proxy error debugging)</p>
</li>
<li>
<p>Cache-control directives (these require you to specify expiration dates for content, and are not generally used)</p>
</li>
<li>
<p>TE, Trailer, Vary &amp; Warning headers</p>
</li>
<li>
<p>Weak entity tags</p>
</li>
<li>
<p>Web common log format</p>
</li>
<li>
<p>Multi-homed Web server</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-4DC2A2FB-8AB2-464D-86BF-12B66AB03740__GUID-B67BB465-0768-4CAA-B48B-68746843527E">
<p class="notep1">See Also:</p>
<p>RFC 2616, <span class="italic">HTTP 1.1 Protocol Specification</span>, <a href="http://www.ietf.org/rfc/rfc2616.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc2616.txt</code></a></p>
</div>
</div>
<a id="ADXDB5550"></a>
<div class="props_rev_3"><a id="GUID-F0886473-139D-44F0-8B17-8D25901F8E4F"></a>
<h4 id="ADXDB-GUID-F0886473-139D-44F0-8B17-8D25901F8E4F" class="sect4"><span class="enumeration_section">28.4.1.1</span> Supported HTTP(S) Client Methods</h4>
<div>
<p>Oracle XML&nbsp;DB supports several HTTP(S) client methods for access to Oracle XML&nbsp;DB Repository.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code>OPTIONS</code> &ndash; get information about available communication options</p>
</li>
<li>
<p><code>GET</code> &ndash; get document/data (including headers)</p>
</li>
<li>
<p><code>HEAD</code> &ndash; get headers only, without document body</p>
</li>
<li>
<p><code>PUT</code> &ndash; store data in resource</p>
</li>
<li>
<p><code>DELETE</code> &ndash; delete resource</p>
</li>
</ul>
<p>The semantics of these HTTP(S) methods are in accordance with WebDAV. Servlets and Web services may support additional HTTP(S) methods, such as <code>POST</code>.</p>
<div class="infoboxnotealso" id="GUID-F0886473-139D-44F0-8B17-8D25901F8E4F__GUID-ABC6D731-BCB4-4B54-BF1B-5E79FCEA4B80">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="xdb22pro.htm#GUID-B2C9ED13-FA63-4137-96D0-B21C12A4373C" title="Oracle XML&nbsp;DB supports several HTTP(S)/WebDAV client methods for access to Oracle XML&nbsp;DB Repository.">WebDAV Client Methods Supported by Oracle XML&nbsp;DB</a>&#34;</span> for supported HTTP(S) client methods involving WebDAV</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5551"></a>
<div class="props_rev_3"><a id="GUID-241F8708-D8EF-42A2-BA8D-01BC8E775F14"></a>
<h4 id="ADXDB-GUID-241F8708-D8EF-42A2-BA8D-01BC8E775F14" class="sect4"><span class="enumeration_section">28.4.1.2</span> Using HTTP(S) on a Standard Port Instead of an Oracle XML&nbsp;DB Default Port</h4>
<div>
<p>You can use the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>, to configure HTTP(S) to listen on any port. By default, HTTP(S) listens on a non-standard, unprotected port.</p>
<div class="section">
<p>To use HTTP or HTTPS on a standard port (80 for HTTP, 443 for HTTPS), your database administrator must do the following:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>(UNIX only) Use this shell command to ensure that the owner and group of executable file <code>tnslsnr</code> are <code>root</code>:</span>
<div>
<pre dir="ltr">% chown root:root $ORACLE_HOME/bin/tnslsnr
</pre></div>
</li>
<li class="stepexpand"><span>(UNIX only) Add the following entry to the listener file, <code>listener.ora</code>, where <span class="italic"><code>hostname</code></span> is your host name, and <span class="italic"><code>port_number</code></span> is <code>80</code> for HTTP or <code>443</code> for HTTPS:</span>
<div>
<pre dir="ltr">(DESCRIPTION =
  (ADDRESS = (PROTOCOL = TCP) (HOST = <span class="italic"><span class="bold">hostname</span></span>) (PORT = <span class="italic"><span class="bold">port_number</span></span>))
  (PROTOCOL_STACK = (PRESENTATION = HTTP) (SESSION = RAW)))
</pre></div>
</li>
<li class="stepexpand" id="GUID-241F8708-D8EF-42A2-BA8D-01BC8E775F14__CEGJDBJD"><span>(UNIX only) Use shell command <code>id</code> to determine the <span class="italic"><code>user_id</code></span> and <span class="italic"><code>group_id</code></span> that were used to install Oracle Database. <span class="italic"><code>oracle_installation_user</code></span> is the name of the user who installed the database.</span>
<div>
<pre dir="ltr">% id <span class="italic">oracle_installation_user</span>
uid=<span class="italic"><span class="bold">user_id</span></span>(<span class="italic">oracle_installation_user</span>) gid=<span class="italic"><span class="bold">group_id</span></span>(dba)
</pre></div>
</li>
<li class="stepexpand"><span>(UNIX only) Stop, then restart the listener, using the following shell commands, where <span class="italic"><code>user_id</code></span> and <span class="italic"><code>group_id</code></span> are the UNIX user and group identifiers obtained in step <a href="xdb22pro.htm#GUID-241F8708-D8EF-42A2-BA8D-01BC8E775F14__CEGJDBJD">3</a>.</span>
<div>
<pre dir="ltr">% lsnrctl stop
% tnslsnr LISTENER -user <span class="italic"><span class="bold">user_id</span></span> -group <span class="italic"><span class="bold">group_id</span></span> &amp;
</pre>
<p>Use the ampersand (<code>&amp;</code>), to execute the second command in the background. Do not use <code>lsnrctl start</code> to start the listener.</p>
</div>
</li>
<li class="stepexpand"><span>Use PL/SQL procedure <code>DBMS_XDB_CONFIG.setHTTPPort</code> with <code>SYS as SYSDBA</code> to set the HTTP(S) port number to <span class="italic"><code>port_number</code></span> in the Oracle XML&nbsp;DB configuration file <code>xdbconfig.xml</code>, where <span class="italic"><code>port_number</code></span> is <code>80</code> for HTTP or <code>443</code> for HTTPS:</span>
<div>
<pre dir="ltr"><span class="italic">SQL&gt;</span> exec DBMS_XDB_CONFIG.setHTTPPort(<span class="italic"><span class="bold">port_number</span></span>);
</pre></div>
</li>
<li class="stepexpand"><span>Force the database to reregister with the listener, using this SQL statement:</span>
<div>
<pre dir="ltr"><span class="italic">SQL&gt;</span> ALTER SYSTEM REGISTER;
</pre></div>
</li>
<li class="stepexpand"><span>Check that the listener is correctly configured:</span>
<div>
<pre dir="ltr">% lsnrctl status
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-241F8708-D8EF-42A2-BA8D-01BC8E775F14__GUID-CBB3F94F-6348-4373-AB25-AE91FA7166F3">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink NETRF008" target="_blank" href="../NETRF/listener.htm#NETRF008"><span class="italic">Oracle Database Net Services Reference</span></a> for information about listener parameters and file <code>listener.ora</code></p>
</li>
<li>
<p><a class="olink NETRF004" target="_blank" href="../NETRF/protocoladd.htm#NETRF004"><span class="italic">Oracle Database Net Services Reference</span></a>, section &#34;Port Number Limitations&#34; for information about running on privileged ports</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5552"></a>
<div class="props_rev_3"><a id="GUID-0AA89DA8-B133-42B0-B27C-4386B286BAFB"></a>
<h4 id="ADXDB-GUID-0AA89DA8-B133-42B0-B27C-4386B286BAFB" class="sect4"><span class="enumeration_section">28.4.1.3</span> Use of IPv6 IP Addresses with HTTP(S)</h4>
<div>
<p>Starting with 11g Release 2 (11.2), Oracle Database supports the use of Internet Protocol Version 6, IPv6 (in addition to Internet Protocol Version 4). IPv6 addresses in URLs are enclosed in brackets (<code>[]</code>).</p>
<p>Here is an example:</p>
<pre dir="ltr">http://[2001::0db8:ffff:ffff:ffff]:8080/
</pre>
<div class="infoboxnotealso" id="GUID-0AA89DA8-B133-42B0-B27C-4386B286BAFB__GUID-66490786-2700-400F-A024-CC1FB502C4DC">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG999" target="_blank" href="../NETAG/layers.htm#NETAG999"><span class="italic">Oracle Database Net Services Reference</span></a> for information about IPv6</p>
</div>
</div>
</div>
<a id="ADXDB5553"></a>
<div class="props_rev_3"><a id="GUID-2D791657-AF51-43AA-9F4F-584CB99A4FD8"></a>
<h4 id="ADXDB-GUID-2D791657-AF51-43AA-9F4F-584CB99A4FD8" class="sect4"><span class="enumeration_section">28.4.1.4</span> HTTPS: Support for Secure HTTP</h4>
<div>
<p>If properly configured, you can access Oracle XML&nbsp;DB Repository in a <span class="italic">secure</span> fashion, using HTTPS.</p>
<p>See <span class="q">&#34;<a href="xdb22pro.htm#GUID-AD81BE00-C4A2-4AF9-905E-1D56AC627D7D" title="To enable the repository to use secure HTTP connections (HTTPS), a database administrator (DBA) must configure the database accordingly: configure parameters http2-port and http2-protocol, enable the HTTP Listener to use SSL, and enable launching of the TCPS Dispatcher. The DBA must then stop and restart the database and the listener.">Configuring Secure HTTP (HTTPS)</a>&#34;</span> for configuration information.</p>
<div class="infobox-note" id="GUID-2D791657-AF51-43AA-9F4F-584CB99A4FD8__GUID-BB9DFAD5-6692-47E0-ACC8-415F43D39B5F">
<p class="notep1">Note:</p>
<p>If Oracle Database is installed on Microsoft Windows XP with <span class="italic">Service Pack 2</span> (SP2), then you must use HTTPS for WebDAV access to Oracle XML&nbsp;DB Repository, or else you must make appropriate modifications to the Windows XP Registry. For information about the latter, see <a href="http://www.microsoft.com/technet/prodtechnol/winxppro/maintain/sp2netwk.mspx#XSLTsection129121120120" target="_blank"><code>http://www.microsoft.com/technet/prodtechnol/winxppro/maintain/sp2netwk.mspx#XSLTsection129121120120</code></a></p>
</div>
</div>
</div>
<a id="ADXDB5940"></a>
<div class="props_rev_3"><a id="GUID-20320B49-5B26-4246-B12F-4F4506D5BBD6"></a>
<h4 id="ADXDB-GUID-20320B49-5B26-4246-B12F-4F4506D5BBD6" class="sect4"><span class="enumeration_section">28.4.1.5</span> Control of URL Expiration Time</h4>
<div>
<p>Optional configuration parameter <code>expire</code> specifies an HTTP <code>Expires</code> header. This header acts as a directive to the HTTP client, to specify the expiration date and time for a URL.</p>
<p>If cached, the document targeted by a URL can be fetched from the client cache rather than from the server, until this expiration time has passed. After that time, the cache copy is out-of-date and a new copy must be obtained from the source (server).</p>
<p>The Oracle XML&nbsp;DB syntax for the <code>Expires</code> header, which is used in the <code>expire</code> configuration element, is a subset of the so-called alternate syntax defined for the <code>ExpiresDefault</code> directive of the Apache module <code>mod_expires</code>. See <a href="http://httpd.apache.org/docs/2.0/mod/mod_expires.html#AltSyn" target="_blank"><code>http://httpd.apache.org/docs/2.0/mod/mod_expires.html#AltSyn</code></a> for that syntax.</p>
<p>These are the Oracle XML&nbsp;DB restrictions to the <code>ExpiresDefault</code> syntax:</p>
<ul style="list-style-type: disc;">
<li>
<p>You cannot use <code>access</code> as the <code>&lt;base&gt;</code>. Only <code>now</code> and <code>modification</code> are allowed.</p>
</li>
<li>
<p>The <code>&lt;type&gt;</code> values must appear in order of decreasing time period. For example, <code>year</code> must appear before, not after, <code>month</code>, since a year is a longer time period than a month.</p>
</li>
<li>
<p>You can use at most one occurrence of each of the different <code>&lt;type&gt;</code> values. For example, you cannot have multiple <code>year</code> entries or multiple <code>day</code> entries.</p>
</li>
</ul>
</div>
</div>
<a id="ADXDB5554"></a>
<div class="props_rev_3"><a id="GUID-6E14FA16-E2FA-45F3-AA18-770730C04DA6"></a>
<h4 id="ADXDB-GUID-6E14FA16-E2FA-45F3-AA18-770730C04DA6" class="sect4"><span class="enumeration_section">28.4.1.6</span> Anonymous Access to Oracle XML&nbsp;DB Repository Using HTTP</h4>
<div>
<p>Optional configuration parameter <code>allow-repository-anonymous-access</code> controls whether or not anonymous HTTP access to Oracle XML&nbsp;DB Repository data is allowed using an unlocked <code>ANONYMOUS</code> user account. The default value is <code>false</code>, meaning that unauthenticated access to repository data is <span class="italic">blocked</span>.</p>
<p>To allow anonymous HTTP access to the repository, you must set this parameter to <code>true</code>, and unlock the <code>ANONYMOUS</code> user account.</p>
<div class="infobox-note" id="GUID-6E14FA16-E2FA-45F3-AA18-770730C04DA6__GUID-2493C259-E7E4-41D0-887C-FBA0EF54BB3B">
<p class="notep1">Caution:</p>
<p>There is an inherent <span class="italic">security risk</span> associated with allowing anonymous access to the repository.</p>
</div>
<p>Parameter <code>allow-repository-anonymous-access</code> does <span class="italic">not</span> control anonymous access to the repository using <span class="italic">servlets</span>. Each servlet has its own <code>security-role-ref</code> parameter value to control its access.</p>
<div class="infobox-note" id="GUID-6E14FA16-E2FA-45F3-AA18-770730C04DA6__GUID-4C500465-7E10-4460-975B-E72318DC73EF">
<p class="notep1">Note:</p>
<p>If user account <code>ANONYMOUS</code> is <span class="italic">locked</span> for a multitenant container database (CDB) then locking or unlocking <code>ANONYMOUS</code> for a pluggable database (PDB) plugged into that CDB has <span class="italic">no effect</span> on access by <code>ANONYMOUS</code> to the PDB.</p>
</div>
<div class="infoboxnotealso" id="GUID-6E14FA16-E2FA-45F3-AA18-770730C04DA6__GUID-5F0C558F-8A10-4007-9E43-C6F9A81572FB">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="xdb22pro.htm#GUID-EB04CB87-ECAB-427B-9DB0-FC2CAB5A0C6D__g1029959" title="This table describes protocol configuration parameters specific to HTTP or WebDAV.">Table 28-3</a> for information about parameter <code>allow-repository-anonymous-access</code></p>
</li>
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span> for information about configuring Oracle XML&nbsp;DB parameters</p>
</li>
<li>
<p><span class="q">&#34;<a href="xdb23jv1.htm#GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20" title="Oracle XML&nbsp;DB servlets are configured using file xdbconfig.xml in Oracle XML&nbsp;DB Repository. Many of the XML elements in this file are the same as those defined by the Java Servlet 2.2 specification portion of Java 2 Enterprise Edition (J2EE), and they have the same semantics.">Configuration of Oracle XML&nbsp;DB Servlets</a>&#34;</span> for information about parameter <code>security-role-ref</code></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADXDB5555"></a>
<div class="props_rev_3"><a id="GUID-E62A1C18-5785-41B2-A6CA-048D953580A4"></a>
<h4 id="ADXDB-GUID-E62A1C18-5785-41B2-A6CA-048D953580A4" class="sect4"><span class="enumeration_section">28.4.1.7</span> Use of Java Servlets with HTTP(S)</h4>
<div>
<p>Oracle XML&nbsp;DB supports the use of Java servlets. Each must each be registered with a unique name in the Oracle XML&nbsp;DB configuration file, along with parameters to customize its action. It should be compiled and loaded into the database. The servlet name must be associated with a pattern.</p>
<p>The pattern can be an extension such as <code>*.jsp</code> or a path name such as <code>/a/b/c</code> or <code>/sys/*</code>, as described in Java servlet application program interface (API) version 2.2.</p>
<p>While processing an HTTP(S) request, the path name for the request is matched against the registered patterns. If there is a match then the protocol server invokes the corresponding servlet with the appropriate initialization parameters. The Java Virtual Machine (JVM) is started, and it invokes a Java method to initialize the servlet, create response and request objects, pass these on to the servlet, and run the servlet.</p>
<div class="infoboxnotealso" id="GUID-E62A1C18-5785-41B2-A6CA-048D953580A4__GUID-A102BCFE-218A-408D-84C6-77BEF92615B3">
<p class="notep1">See Also:</p>
<p><a href="xdb23jv1.htm#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">How to Write Oracle XML&nbsp;DB Applications in Java</a></p>
</div>
</div>
</div>
<a id="ADXDB5556"></a>
<div class="props_rev_3"><a id="GUID-64631EC6-2754-455B-A0BC-A2C1B1C1C5B1"></a>
<h4 id="ADXDB-GUID-64631EC6-2754-455B-A0BC-A2C1B1C1C5B1" class="sect4"><span class="enumeration_section">28.4.1.8</span> Embedded PL/SQL Gateway</h4>
<div>
<p>You can use the PL/SQL gateway to implement a Web application entirely in PL/SQL. There are two implementations of the PL/SQL gateway: mod_plsql and the embedded gateway.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">mod_plsql</span> &ndash; a plug-in of <span class="italic">Oracle HTTP Server</span> that lets you invoke PL/SQL stored procedures using HTTP(S). Oracle HTTP Server is a component of both Oracle Fusion Middleware and Oracle Database. Do not confuse Oracle HTTP Server with the HTTP component of the Oracle XML&nbsp;DB protocol server.</p>
</li>
<li>
<p>the <span class="italic">embedded</span> PL/SQL gateway &ndash; a gateway implementation that runs in the Oracle XML&nbsp;DB HTTP listener.</p>
</li>
</ul>
<p>With the PL/SQL gateway (either implementation), a Web browser sends an HTTP(S) request in the form of a URL that identifies a stored procedure and provides it with parameter values. The gateway translates the URL, calls the stored procedure with the parameter values, and returns output (typically HTML) to the Web-browser client.</p>
<p>Using the embedded PL/SQL gateway simplifies installation, configuration, and administration of PL/SQL based Web applications. The embedded gateway uses the Oracle XML&nbsp;DB protocol server, not Oracle HTTP Server. Its configuration is defined by the Oracle XML&nbsp;DB configuration file, <code>xdbconfig.xml</code>. However, the <span class="italic">recommended</span> way to configure the embedded gateway is to use the procedures in PL/SQL package <code>DBMS_EPG</code>, <span class="italic">not</span> to edit file <code>xdbconfig.xml</code>.</p>
<div class="infoboxnotealso" id="GUID-64631EC6-2754-455B-A0BC-A2C1B1C1C5B1__GUID-FFAE85A8-ECE1-4FC9-992D-6FD0D3F37F61">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADFNS015" target="_blank" href="../ADFNS/adfns_web.htm#ADFNS015"><span class="italic">Oracle Database Development Guide</span></a> for information on using and configuring the embedded PL/SQL gateway</p>
</li>
<li>
<p><a href="appaman.htm#GUID-FD0BCF20-2345-4D78-B96F-C52A4361291D" title="Administration of Oracle XML&nbsp;DB includes installing, upgrading, and configuring it.">Administration of Oracle XML&nbsp;DB</a> for information on the configuration definition of the embedded gateway in <code>xdbconfig.xml</code></p>
</li>
<li>
<p><a class="olink HSADM003" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=HSADM003"><span class="italic">Oracle Fusion Middleware Administrator&#39;s Guide for Oracle HTTP Server</span></a> for conceptual information about using the PL/SQL gateway</p>
</li>
<li>
<p><a class="olink YPMOD" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=YPMOD"><span class="italic">Oracle Fusion Middleware User&#39;s Guide for mod_plsql</span></a> for information about mod_plsql</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADXDB5557"></a>
<div class="props_rev_3"><a id="GUID-564642B2-7F1B-4614-8A19-050A4A92444A"></a>
<h4 id="ADXDB-GUID-564642B2-7F1B-4614-8A19-050A4A92444A" class="sect4"><span class="enumeration_section">28.4.1.9</span> Transmission of Multibyte Data From a Client</h4>
<div>
<p>When a client sends multibyte data in a URL, RFC 2718 specifies that the client should use the <code>%</code><span class="italic"><code>HH</code></span> format, where <span class="italic"><code>HH</code></span> is the hexadecimal notation of the byte value in UTF-8 encoding.</p>
<p>The following are URL examples that can be sent to Oracle XML&nbsp;DB in an HTTP(S) or WebDAV context:</p>
<pre dir="ltr">http://urltest/xyz%E3%81%82%E3%82%A2 
http://%E3%81%82%E3%82%A2 
http://%E3%81%82%E3%82%A2/abc%E3%81%86%E3%83%8F.xml
</pre>
<p>Oracle XML&nbsp;DB processes the requested URL, any URLs within an <code>IF</code> header, any URLs within the <code>DESTINATION</code> header, and any URLs in the <code>REFERRED</code> header that contains multibyte data.</p>
<p>The <code>default-url-charset</code> configuration parameter can be used to accept requests from some clients that use other, nonconforming, forms of URL, with characters that are not ASCII. If a request with such characters fails, try setting this value to the native character set of the client environment. The character set used in such URL fields must be specified with an IANA charset name.</p>
<p><code>default-url-charset</code> controls the encoding for nonconforming URLs. It is not required to be set unless a nonconforming client that does not send the <code>Content-Type</code> charset is used.</p>
<div class="infoboxnotealso" id="GUID-564642B2-7F1B-4614-8A19-050A4A92444A__GUID-F0037581-6043-4A5D-80B5-06C1834F6070">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>RFC 2616, <span class="italic">HTTP 1.1 Protocol Specification</span>, <a href="http://www.ietf.org/rfc/rfc2616.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc2616.txt</code></a></p>
</li>
<li>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span> for information about configuring Oracle XML&nbsp;DB parameters</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADXDB5558"></a>
<div class="props_rev_3"><a id="GUID-C4886B7B-8F0A-4FDD-9E29-9FE5E2A39B65"></a>
<h4 id="ADXDB-GUID-C4886B7B-8F0A-4FDD-9E29-9FE5E2A39B65" class="sect4"><span class="enumeration_section">28.4.1.10</span> Characters That Are Not ASCII in URLs</h4>
<div>
<p>Convert non-ASCII characters that appear in URLs passed to an HTTP server to <code>UTF-8</code> and escape them using the <code>%</code><span class="italic"><code>HH</code></span> format, where <span class="italic"><code>HH</code></span> is the hexadecimal notation of the byte value.</p>
<p>For flexibility, the Oracle XML&nbsp;DB protocol server interprets the incoming URLs by testing whether it is encoded in one of the following character sets, in the order presented here:</p>
<ul style="list-style-type: disc;">
<li>
<p>UTF-8</p>
</li>
<li>
<p>Charset parameter of the <code>Content-Type</code> field of the request, if specified</p>
</li>
<li>
<p>Character set, if specified, in the <code>default-url-charset</code> configuration parameter</p>
</li>
<li>
<p>Character set of the database</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-C4886B7B-8F0A-4FDD-9E29-9FE5E2A39B65__GUID-EC08AFE0-FE50-4BCA-94F7-CB7B28F749D2">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="appaman.htm#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a>&#34;</span> for information about configuring Oracle XML&nbsp;DB parameters</p>
</div>
</div>
</div>
<a id="ADXDB5559"></a>
<div class="props_rev_3"><a id="GUID-3855422B-2846-40CB-9E49-298193DC333F"></a>
<h4 id="ADXDB-GUID-3855422B-2846-40CB-9E49-298193DC333F" class="sect4"><span class="enumeration_section">28.4.1.11</span> Character Sets for HTTP(S)</h4>
<div>
<p>You can control the character sets used for data that is transferred using HTTP(S).</p>
</div>
<a id="ADXDB5560"></a>
<div class="props_rev_3"><a id="GUID-872EA4F8-AF62-4959-B672-DF9C1827554E"></a>
<h5 id="ADXDB-GUID-872EA4F8-AF62-4959-B672-DF9C1827554E" class="sect5"><span class="enumeration_section">28.4.1.11.1</span> HTTP(S) Request Character Set</h5>
<div>
<p>The character set of an HTTP(S) request body is determined using a straightforward but somewhat complex algorithm.</p>
<ol>
<li>
<p>The Content-Type header is evaluated. If the Content-Type header specifies a charset value, the specified charset is used.</p>
</li>
<li>
<p>The MIME type of the document is evaluated as follows:</p>
<ol>
<li>
<p>If the MIME type is &#34;<code>*/xml</code>&#34; then the character set is determined as follows:</p>
<ol>
<li>
<p>If neither a BOM nor an encoding declaration is present then <code>UTF-8</code> is used.</p>
</li>
<li>
<p>If a BOM is present then <code>UTF-16</code> is used.</p>
</li>
<li>
<p>If an encoding declaration is present then the specified encoding is used.</p>
</li>
</ol>
</li>
<li>
<p>If the MIME type is <code>text</code> then <code>ISO8859-1</code> is used.</p>
</li>
<li>
<p>If the MIME type is neither &#34;<code>*/xml</code>&#34; nor <code>text</code> then the database character set is used.</p>
</li>
</ol>
</li>
</ol>
<p>There is a difference between HTTP(S) and SQL or FTP. For text documents, the default is ISO8859-1, as specified by the IETF.org <span class="italic">RFC 2616: HTTP 1.1 Protocol Specification</span>.</p>
</div>
</div>
<a id="ADXDB5561"></a>
<div class="props_rev_3"><a id="GUID-FDABC9AF-3E80-414D-9E46-6D3C10BF4403"></a>
<h5 id="ADXDB-GUID-FDABC9AF-3E80-414D-9E46-6D3C10BF4403" class="sect5"><span class="enumeration_section">28.4.1.11.2</span> HTTP(S) Response Character Set</h5>
<div>
<p>The response generated by the Oracle XML&nbsp;DB HTTP server is in a character set specified in the <code>Accept-Charset</code> field of the request.</p>
<p><code>Accept-Charset</code> can specify a list of character sets. Based on the q-value, Oracle XML&nbsp;DB chooses one of them that does not require conversion. This might not necessarily be the character set with the highest q-value. If Oracle XML&nbsp;DB cannot find one that does not require conversion, then the conversion used is based on the highest q-value.</p>
</div>
</div>
</div>
</div>
</div>
<a id="ADXDB5562"></a>
<div class="props_rev_3"><a id="GUID-0F06D44E-4DBD-4B5D-B275-A4BADA0510AB"></a>
<h2 id="ADXDB-GUID-0F06D44E-4DBD-4B5D-B275-A4BADA0510AB" class="sect2"><span class="enumeration_section">28.5</span> WebDAV and Oracle XML&nbsp;DB</h2>
<div>
<p>Web Distributed Authoring and Versioning (WebDAV) is an IETF standard protocol that Oracle XML&nbsp;DB uses to provide users with a file-system interface to Oracle XML Repository over the Internet. The most popular way of accessing a WebDAV server folder is through WebFolders using Microsoft Windows.</p>
<p>WebDAV is an extension to the HTTP 1.1 protocol that lets an HTTP server act as a file server. It lets clients perform remote Web content authoring through a coherent set of methods, headers, request body formats and response body formats. For example, a DAV-enabled editor can interact with an HTTP/WebDAV server as if it were a file system. WebDAV provides operations to store and retrieve resources, create and list contents of resource collections, lock resources for concurrent access in a coordinated manner, and to set and retrieve resource properties.</p>
</div>
<a id="ADXDB5563"></a>
<div class="props_rev_3"><a id="GUID-35D0B333-B203-46D0-AA64-411902F02190"></a>
<h3 id="ADXDB-GUID-35D0B333-B203-46D0-AA64-411902F02190" class="sect3"><span class="enumeration_section">28.5.1</span> Oracle XML&nbsp;DB WebDAV Features</h3>
<div>
<p>Oracle XML&nbsp;DB supports the foldering and access-control features of WebDAV. Foldering is specified by RFC2518.</p>
<p>WebDAV is a set of extensions to the HTTP(S) protocol that allow you to share, edit, and manage your files on remote Web servers.</p>
<div class="infoboxnotealso" id="GUID-35D0B333-B203-46D0-AA64-411902F02190__GUID-3D88FB53-2B75-408A-B30D-3337A21CD2BA">
<p class="notep1">See Also:</p>
<p>RFC 2518: WebDAV Protocol Specification, <a href="http://www.ietf.org/rfc/rfc2518.txt" target="_blank"><code>http://www.ietf.org/rfc/rfc2518.txt</code></a></p>
</div>
</div>
<a id="ADXDB5564"></a>
<div class="props_rev_3"><a id="GUID-E4C0A508-E358-43B3-823F-9F70631B70D1"></a>
<h4 id="ADXDB-GUID-E4C0A508-E358-43B3-823F-9F70631B70D1" class="sect4"><span class="enumeration_section">28.5.1.1</span> WebDAV Features That Are Not Supported by Oracle XML&nbsp;DB</h4>
<div>
<p>Oracle XML&nbsp;DB supports specification RFC2518, with the <span class="italic">exception</span> of a few features. For methods <code>COPY</code>, <code>MOVE</code> and <code>DELETE</code> it also supports the binding of resources as described in specification RFC5842.</p>
<div class="section">
<p>These are the WebDAV features from RFC2518 that Oracle XML&nbsp;DB does not support:</p>
<ul style="list-style-type: disc;">
<li>
<p>Using the name of a write-locked null resource (a lock-null resource) as a folder name is not supported, because it is represented as a zero-length resource in the file system. This is an optional feature.</p>
</li>
<li>
<p>For method <code>LOCK</code>, you cannot specify infinity for the depth, to simultaneously lock a resource and all of its descendents. This feature is not optional, but it is not supported by Oracle XML&nbsp;DB.</p>
</li>
</ul>
<p>In addition, for methods <code>COPY</code>, <code>MOVE</code> and <code>DELETE</code> Oracle XML&nbsp;DB supports the binding of resources as described in section 2 of RFC5842, &ldquo;Binding Extensions to Web Distributed Authoring and Versioning (WebDAV)&rdquo;. A binding is a mapping of a URI to a resource, for a given folder.</p>
<div class="infoboxnotealso" id="GUID-E4C0A508-E358-43B3-823F-9F70631B70D1__GUID-EDE2EC27-93A1-4F84-B13A-611A92198256">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>Section 7.4 of the RFC2518 specification, <a href="http://www.webdav.org/specs/rfc2518.html#rfc.section.7.4" target="_blank"><code>http://www.webdav.org/specs/rfc2518.html#rfc.section.7.4</code></a> for information about lock-null resources</p>
</li>
<li>
<p>Section 9.2 of the RFC2518 specification, <a href="http://www.webdav.org/specs/rfc2518.html#rfc.section.9.2" target="_blank"><code>http://www.webdav.org/specs/rfc2518.html#rfc.section.9.2</code></a> for information about depth-infinity locks</p>
</li>
<li>
<p>Section 2 of the RFC5842 specification,<a href="https://tools.ietf.org/html/rfc5842#section-2" target="_blank"><code>https://tools.ietf.org/html/rfc5842#section-2</code></a> for information about resource bindings</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADXDB5565"></a>
<div class="props_rev_3"><a id="GUID-B2C9ED13-FA63-4137-96D0-B21C12A4373C"></a>
<h4 id="ADXDB-GUID-B2C9ED13-FA63-4137-96D0-B21C12A4373C" class="sect4"><span class="enumeration_section">28.5.1.2</span> WebDAV Client Methods Supported by Oracle XML&nbsp;DB</h4>
<div>
<p>Oracle XML&nbsp;DB supports several HTTP(S)/WebDAV client methods for access to Oracle XML&nbsp;DB Repository.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code>PROPFIND</code> (WebDAV-specific) &ndash; get properties for a resource</p>
</li>
<li>
<p><code>PROPPATCH</code> (WebDAV-specific) &ndash; set or remove resource properties</p>
</li>
<li>
<p><code>LOCK</code> (WebDAV-specific) &ndash; lock a resource (create or refresh a lock)</p>
</li>
<li>
<p><code>UNLOCK</code> (WebDAV-specific) &ndash; unlock a resource (remove a lock)</p>
</li>
<li>
<p><code>COPY</code> (WebDAV-specific) &ndash; copy a resource</p>
</li>
<li>
<p><code>MOVE</code> (WebDAV-specific) &ndash; move a resource</p>
</li>
<li>
<p><code>MKCOL</code> (WebDAV-specific) &ndash; create a folder resource (collection)</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-B2C9ED13-FA63-4137-96D0-B21C12A4373C__GUID-5C02E03E-C8BC-4674-8720-D68989DA549B">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="xdb22pro.htm#GUID-F0886473-139D-44F0-8B17-8D25901F8E4F" title="Oracle XML&nbsp;DB supports several HTTP(S) client methods for access to Oracle XML&nbsp;DB Repository.">Supported HTTP(S) Client Methods</a>&#34;</span> for additional supported HTTP(S) client methods</p>
</li>
<li>
<p><span class="q">&#34;<a href="xdb21sec.htm#GUID-A81367EA-79B7-4744-A8B2-78F769626CF2" title="The privileges provided with Oracle Database include the standard WebDAV privileges as well as Oracle-specific privileges.">Privileges</a>&#34;</span> for information about WebDAV privileges</p>
</li>
<li>
<p><span class="q">&#34;<a href="xdb_repos_meta.htm#GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD" title="An alternative to using procedure DBMS_XDB_REPOS.appendResourceMetadata to add resource metadata is to use WebDAV method PROPPATCH.">Adding Metadata Using WebDAV PROPPATCH</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADXDB5566"></a>
<div class="props_rev_3"><a id="GUID-40FC2CBB-E7FC-4C0F-94B3-9C5F39383151"></a>
<h3 id="ADXDB-GUID-40FC2CBB-E7FC-4C0F-94B3-9C5F39383151" class="sect3"><span class="enumeration_section">28.5.2</span> WebDAV and Microsoft Windows XP SP2</h3>
<div>
<p>For Microsoft Windows XP with <span class="italic">Service Pack 2</span> (SP2), you must use a secure connection (HTTPS) for WebDAV access to Oracle XML&nbsp;DB Repository, or else you must make appropriate modifications to the Windows XP Registry.</p>
<div class="infoboxnotealso" id="GUID-40FC2CBB-E7FC-4C0F-94B3-9C5F39383151__GUID-ACF34118-0F85-4B2A-A702-6ECD808D9758">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="http://www.microsoft.com/technet/prodtechnol/winxppro/maintain/sp2netwk.mspx#XSLTsection129121120120" target="_blank"><code>http://www.microsoft.com/technet/prodtechnol/winxppro/maintain/sp2netwk.mspx#XSLTsection129121120120</code></a> for information about making necessary modifications to the Windows XP registry</p>
</li>
<li>
<p><span class="q">&#34;<a href="xdb22pro.htm#GUID-AD81BE00-C4A2-4AF9-905E-1D56AC627D7D" title="To enable the repository to use secure HTTP connections (HTTPS), a database administrator (DBA) must configure the database accordingly: configure parameters http2-port and http2-protocol, enable the HTTP Listener to use SSL, and enable launching of the TCPS Dispatcher. The DBA must then stop and restart the database and the listener.">Configuring Secure HTTP (HTTPS)</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADXDB5568"></a><a id="ADXDB5567"></a>
<div class="props_rev_3"><a id="GUID-816B067B-BFBC-40FE-A80E-69801ED823A2"></a>
<h3 id="ADXDB-GUID-816B067B-BFBC-40FE-A80E-69801ED823A2" class="sect3"><span class="enumeration_section">28.5.3</span> Creating a WebFolder in Microsoft Windows For Use With Oracle XML&nbsp;DB Repository</h3>
<div>
<p>Create a WebFolder in Windows 2000 and use it with Oracle XML&nbsp;DB Repository.</p>
<div class="section">
<p>Create a WebFolder in Windows 2000:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span><span class="bold">Start</span> &gt; <span class="bold">My Network Places</span>.</span></li>
<li class="stepexpand"><span>Double-click <span class="bold">Add Network Place</span>.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Next</span>.</span></li>
<li class="stepexpand"><span>Type the location of the folder, for example:</span>
<div>
<pre dir="ltr">http://<span class="italic">Oracle_server_name</span>:<span class="italic">HTTP_port_number</span>
</pre>
<p>See <a href="xdb22pro.htm#GUID-816B067B-BFBC-40FE-A80E-69801ED823A2__i1027829">Figure 28-2</a>.</p>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Next</span>.</span></li>
<li class="stepexpand"><span>Enter any name to identify this WebFolder</span></li>
<li class="stepexpand"><span>Click <span class="bold">Finish</span>.</span></li>
</ol>
<div class="section">
<p>You can access Oracle XML&nbsp;DB Repository the same way you access any Windows folder.</p>
<div class="figure" id="GUID-816B067B-BFBC-40FE-A80E-69801ED823A2__i1027829">
<p class="titleinfigure">Figure 28-2 Creating a WebFolder in Microsoft Windows</p>
<img width="447" height="322" src="img/GUID-A75F84B9-DF6B-46F5-8B7D-06A0D5A01A44-default.jpg" alt="Description of Figure 28-2 follows" title="Description of Figure 28-2 follows"/><br/>
<a href="img_text/GUID-A75F84B9-DF6B-46F5-8B7D-06A0D5A01A44-default.htm">Description of &#34;Figure 28-2 Creating a WebFolder in Microsoft Windows&#34;</a></div>
<!-- class="figure" --></div>
<!-- class="section" --></div>
<a id="ADXDB4180"></a><a id="ADXDB4179"></a>
<div class="props_rev_3"><a id="GUID-2F401AFF-4033-47F9-AFC7-C1A048E99A68"></a>
<h4 id="ADXDB-GUID-2F401AFF-4033-47F9-AFC7-C1A048E99A68" class="sect4"><span class="enumeration_section">28.5.3.1</span> Use of WebDAV with Windows Explorer to Copy Files into Oracle XML&nbsp;DB Repository</h4>
<div>
<p>You can use Windows Explorer to insert a folder from a local hard drive into Oracle Database.</p>
<p><a href="xdb22pro.htm#GUID-2F401AFF-4033-47F9-AFC7-C1A048E99A68__CEGGCEJC">Figure 28-3</a> illustrates this.</p>
<p>Windows Explorer includes support for the WebDAV protocol. WebDAV extends the HTTP standard, adding additional verbs that allow an HTTP server to act as a file server.</p>
<p>When a Windows Explorer copy operation or FTP input command is used to transfer a number of documents into Oracle XML&nbsp;DB Repository, each <code>put</code> or <code>post</code> command is treated as a separate atomic operation. This ensures that the client does not get confused if one of the file transfers fails. It also means that changes made to a document through a protocol are visible to other users as soon as the request has been processed.</p>
<div class="figure" id="GUID-2F401AFF-4033-47F9-AFC7-C1A048E99A68__CEGGCEJC">
<p class="titleinfigure">Figure 28-3 Copying Files into Oracle XML&nbsp;DB Repository</p>
<img width="693" height="465" src="img/GUID-2266DFD1-B4F8-48D4-88F8-7DF09F42FE1D-default.gif" alt="Description of Figure 28-3 follows" title="Description of Figure 28-3 follows"/><br/>
<a href="img_text/GUID-2266DFD1-B4F8-48D4-88F8-7DF09F42FE1D-default.htm">Description of &#34;Figure 28-3 Copying Files into Oracle XML&nbsp;DB Repository&#34;</a></div>
<!-- class="figure" --></div>
</div>
</div>
</div>
<hr/>
<br/>
<p style="text-decoration:underline">Footnote Legend</p>
Footnote&nbsp;1:
<p>BOM is a Unicode-standard signature that indicates the order of the stream of bytes that follows it.</p>
<br/></div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3410">
<tr>
<td class="cellalignment3417">
<table class="cellalignment3415">
<tr>
<td class="cellalignment3414"><a href="xdb21sec.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3414"><a href="xdb_repos_meta.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3419">
<table class="cellalignment3413">
<tr>
<td class="cellalignment3414"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3414"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3414"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3414"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3414"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3414"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>


</body></html>
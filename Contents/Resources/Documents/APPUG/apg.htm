<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2129"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Administration%20Utility%20Samples"></a><title>Administration Utility Samples</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090"/>
<meta name="dcterms.created" content="2017-06-08T15:9:57Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Gateway for APPC User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17931-04"/>
<meta name="dcterms.isVersionOf" content="APPUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="apf.htm" title="Previous" type="text/html"/>
<link rel="Next" href="index.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17931-04.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">19/20</span> <!-- End Header -->
<div id="APPUG150" class="appendix"><a id="g644868"></a>
<h1 class="appendix"><span class="secnum">F</span> Administration Utility Samples</h1>
<p>Use the following sample input statements and report output for the Procedural Gateway Administration Utility to guide you in designing your own PGAU statements.<a id="sthref1338"></a></p>
<p>This appendix contains these sample PGAU statements:</p>
<ul>
<li>
<p><a href="#i635215">&#34;Sample PGAU DEFINE DATA Statements&#34;</a></p>
</li>
<li>
<p><a href="#i634298">&#34;Sample PGAU DEFINE CALL Statements&#34;</a></p>
</li>
<li>
<p><a href="#i634308">&#34;Sample PGAU DEFINE TRANSACTION Statement&#34;</a></p>
</li>
<li>
<p><a href="#i634319">&#34;Sample PGAU GENERATE Statement&#34;</a></p>
</li>
<li>
<p><a href="#i634351">&#34;Sample Implicit Versioning Definitions&#34;</a></p>
</li>
<li>
<p><a href="#i634479">&#34;Sample PGAU REDEFINE DATA Statements&#34;</a></p>
</li>
<li>
<p><a href="#i634522">&#34;Sample PGAU UNDEFINE Statements&#34;</a></p>
</li>
</ul>
<a id="i635215"></a>
<div id="APPUG1128" class="sect1">
<h2 class="sect1">Sample PGAU DEFINE DATA Statements<a id="sthref1339"></a><a id="sthref1340"></a><a id="sthref1341"></a></h2>
<pre dir="ltr">DEFINE DATA EMPNO
       PLSDNAME (EMPNO)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       (
       01 EMP-NO PIC X(6).
       ); 

DEFINE DATA EMPREC
       PLSDNAME (DCLEMP)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       INFILE(&#34;emp.cob&#34;);
</pre>
<p>where the file <code dir="ltr">emp.cob</code> contains the following:</p>
<pre dir="ltr">01 DCLEMP.
   10 EMPNO              PIC X(6).
   10 FIRSTNME.  
     49 FIRSTNME-LEN     PIC S9(4) USAGE COMP.
     49 FIRSTNME-TEXT    PIC X(12).
   10 MIDINIT            PIC X(1).
   10 LASTNAME.
     49 LASTNAME-LEN     PIC S9(4) USAGE COMP.
     49 LASTNAME-TEXT    PIC X(15).
   10 WORKDEPT           PIC X(3).
   10 PHONENO            PIC X(4).
   10 HIREDATE           PIC X(10).
   10 JOB                PIC X(8).
   10 EDLEVEL            PIC S9(4) USAGE COMP.
   10 SEX                PIC X(1)
   10 BIRTHDATE          PIC X(10).
   10 SALARY             PIC S9999999V99 USAGE COMP-3.
   10 BONUS              PIC S9999999V99 USAGE COMP-3.
   10 COMM               PIC S9999999V99 USAGE COMP-3.

DEFINE DATA DB2INFO
       PLSDNAME (DB2)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       INFILE(&#34;db2.cob&#34;);
</pre>
<p>where the file <code dir="ltr">db2.cob</code> contains the following:</p>
<pre dir="ltr">01  DB2.
    05 SQLCODE          PIC S9(9) COMP-4.
    05 SQLERRM.
      49 SQLERRML       PIC S9(4) COMP-4.
      49 SQLERRT        PIC X(70).
    05 DSNERRM.
      49 DSNERRML       PIC S9(4) COMP-4.
      49 DSNERRMT       PIC X(240) OCCURS 8 TIMES
                                       INDEXED BY ERROR-INDEX
</pre></div>
<!-- class="sect1" -->
<a id="i634298"></a>
<div id="APPUG1129" class="sect1">
<h2 class="sect1">Sample PGAU DEFINE CALL Statements<a id="sthref1342"></a><a id="sthref1343"></a><a id="sthref1344"></a></h2>
<pre dir="ltr">DEFINE CALL DB2IMAIN
       PKGCALL (PGADB2I_MAIN)
       PARMS ( (EMPNO      IN ),
               (EMPREC     OUT)  );
DEFINE CALL DB2IDIAG
       PKGCALL (PGADB2I_DIAG)
       PARMS ( (DB2INFO    OUT)  );
</pre></div>
<!-- class="sect1" -->
<a id="i634308"></a>
<div id="APPUG1130" class="sect1">
<h2 class="sect1">Sample PGAU DEFINE TRANSACTION Statement<a id="sthref1345"></a><a id="sthref1346"></a><a id="sthref1347"></a></h2>
<pre dir="ltr">DEFINE TRANSACTION DB2I
   CALL (   DB2IMAIN,
            DB2IDIAG   )
   SIDEPROFILE(CICSPROD)
   TPNAME(DB2I)
   LOGMODE(ORAPLU62)
   SYNCLEVEL(0)
   NLS_LANGUAGE(&#34;AMERICAN_AMERICA.WE8EBCDIC37C&#34;);
</pre></div>
<!-- class="sect1" -->
<a id="i634319"></a>
<div id="APPUG1131" class="sect1">
<h2 class="sect1">Sample PGAU GENERATE Statement<a id="sthref1348"></a><a id="sthref1349"></a><a id="sthref1350"></a></h2>
<pre dir="ltr">GENERATE DB2I
   PKGNAME(PGADB2I)
   OUTFILE(&#34;pgadb2i&#34;);
</pre>
<p>A user&#39;s high-level application now uses this TIP by referencing these <a id="sthref1351"></a>PL/SQL datatypes passed and returned.</p>
<p><a href="#g640641">Table F-1</a> provides a description of the TIP user transaction datatypes in package name <code dir="ltr">PGADB2I</code>:</p>
<div id="APPUG1413" class="tblformal">
<p class="titleintable"><a id="sthref1352"></a><a id="g640641"></a>Table F-1 TIP User Transaction Datatypes Used in Package Name PGADB2I</p>
<table class="cellalignment6315" title="TIP User Transaction Datatypes Used in Package Name PGADB2I" summary="provides a description of the TIP user transaction datatypes in package name PGADB2I" dir="ltr">
<thead>
<tr class="cellalignment6309">
<th class="cellalignment6316" id="r1c1-t2">Datatype</th>
<th class="cellalignment6316" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6309">
<td class="cellalignment6317" id="r2c1-t2" headers="r1c1-t2">
<p><code dir="ltr">PGADB2I.EMPNO</code></p>
</td>
<td class="cellalignment6317" headers="r2c1-t2 r1c2-t2">
<p>is a PL/SQL variable corresponding to COBOL <code dir="ltr">EMPNO</code>.</p>
</td>
</tr>
<tr class="cellalignment6309">
<td class="cellalignment6317" id="r3c1-t2" headers="r1c1-t2">
<p><code dir="ltr">PGADB2I.DCLEMP</code></p>
</td>
<td class="cellalignment6317" headers="r3c1-t2 r1c2-t2">
<p>Which is a PL/SQL <code dir="ltr">RECORD</code> corresponding to COBOL <code dir="ltr">DCLEMP</code>.</p>
</td>
</tr>
<tr class="cellalignment6309">
<td class="cellalignment6317" id="r4c1-t2" headers="r1c1-t2">
<p><code dir="ltr">PGADB2I.DB2</code></p>
</td>
<td class="cellalignment6317" headers="r4c1-t2 r1c2-t2">
<p>Which is a PL/SQL <code dir="ltr">RECORD</code> corresponding to COBOL <code dir="ltr">DB2INFO</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>and the application calls:</p>
<pre dir="ltr">PGADB2I.PGADB2I_INIT(trannum);
PGADB2I.PGADB2I_MAIN( trannum, empno, emprec );
PGADB2I.PGADB2I_DIAG( trannum, db2 );
PGADB2I.PGADB2I_TERM(trannum, termtype);
</pre></div>
<!-- class="sect1" -->
<a id="i634351"></a>
<div id="APPUG1132" class="sect1">
<h2 class="sect1">Sa<a id="sthref1353"></a><a id="sthref1354"></a>mple Implicit Versioning Definitions</h2>
<p>The examples are sample definitions of <code dir="ltr">DATA</code>, <code dir="ltr">CALL</code>, and <code dir="ltr">TRANSACTION</code> entries with implicit versioning.</p>
<p>This example creates a new <code dir="ltr">DATA</code> version of &#39;<code dir="ltr">EMPREC</code>&#39; because &#39;<code dir="ltr">EMPREC</code>&#39; <code dir="ltr">DATA</code> was defined previously:</p>
<pre dir="ltr">DEFINE DATA EMPREC
       PLSDNAME (NEWEMP)
       USAGE (PASS)
       LANGUAGE (IBMVSCOBOLII)
       INFILE(&#34;emp2.cob&#34;);
</pre>
<p>where the file <code dir="ltr">emp2.cob</code> contains the following:</p>
<pre dir="ltr">01 NEWEMP.
    10 EMPNO                   PIC X(6).
    10 FIRSTNME.
      49 FIRSTNME-LEN          PIC S9(4) USAGE COMP.
      49 FIRSTNME-TEXT         PIC X(12).
    10 MIDINIT                 PIC X(1).
    10 LASTNAME.
      49 LASTNAME-LEN          PIC S9(4) USAGE COMP.
      49 LASTNAME-TEXT         PIC X(15).
    10 WORKDEPT                PIC X(3).
    10 PHONENO                 PIC X(3).
    10 HIREDATE                PIC X(10).
    10 JOB                     PIC X(8).
    10 EDLEVEL                 PIC S9(4) USAGE COMP.
    10 SEX                     PIC X(1).
    10 BIRTHDATE               PIC X(10).
    10 SALARY                  PIC S9999999V99 USAGE COMP-3.
    10 BONUS                   PIC S9999999V99 USAGE COMP-3.
    10 COMM                    PIC S9999999V99 USAGE COMP-3.
    10 YTD.
      15 SAL                   PIC S9(9)V99 USAGE COMP-3.
      15 BON                   PIC S9(9)V99 USAGE COMP-3.
      15 COM                   PIC S9(9)V99 USAGE COMP-3.
</pre>
<p>To determine which <code dir="ltr">DATA</code> version number was assigned, this SQL query can be issued:</p>
<pre dir="ltr">SELECT MAX(pd.version)
       FROM pga_data pd
       WHERE pd.dname = &#39;EMPREC&#39;;
</pre>
<p>To determine additional information related to the updated version of &#39;<code dir="ltr">EMPREC</code>&#39; this query can be used:</p>
<pre dir="ltr">SELECT *
       FROM pga_data pd
       WHERE pd.dname = &#39;EMPREC&#39;;
</pre>
<p>This example creates a new <code dir="ltr">CALL</code> version of &#39;<code dir="ltr">DB2IMAIN</code>&#39; because the &#39;<code dir="ltr">DB2IMAIN</code>&#39; <code dir="ltr">CALL</code> was defined previously:</p>
<pre dir="ltr">DEFINE CALL DB2IMAIN
       PKGCALL (PGADB2I_MAIN)
       PARMS ( (EMPNO      IN                   ),
               (EMPREC     OUT   VERSION(ddddd) )  );
</pre>
<p>where <code dir="ltr">ddddd</code> is the version number of the <code dir="ltr">EMPREC DATA</code> definition queried after the previous <code dir="ltr">DEFINE DATA</code> updated <code dir="ltr">EMPREC</code>.</p>
<p>To determine which call version number was assigned, this SQL query can be issued:</p>
<pre dir="ltr">SELECT MAX(pc.version)
       FROM pga_call pc
       WHERE pc.cname = &#39;DB2IMAIN&#39;;
</pre>
<p>To determine additional information related to the updated version of &#39;<code dir="ltr">DB2IMAIN</code>&#39; this query can be used:</p>
<pre dir="ltr"> SELECT *
        FROM pga_call pc
        WHERE pc.cname = &#39;DB2IMAIN&#39;;
</pre>
<p>The <code dir="ltr">DEFINE TRANSACTION</code> example creates a new <code dir="ltr">TRANSACTION</code> version of &#39;<code dir="ltr">DB2I</code>&#39; because the <code dir="ltr">&#39;DB2I&#39; TRANSACTION</code> was defined previously. The essential difference of the new version of the DB2I transaction is that the first call uses a new <a id="sthref1355"></a>PL/SQL record format &#34;<code dir="ltr">NEWEMP</code>&#34; (which corresponds to the COBOL <code dir="ltr">NEWEMP</code> format) to query the employee data.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
Record format changes like that discussed above must be synchronized with the requirements of the remote transaction program. Changes to the PGA TIP alone result in errors. A new remote transaction program with the corequisite changes could be running on a separate CICS system and started through the change from &#34;<code dir="ltr">CICSPROD</code>&#34; to &#34;<code dir="ltr">CICSTEST</code>&#34; in the <code dir="ltr">SIDEPROFILE</code> parameter below.</div>
<pre dir="ltr">DEFINE TRANSACTION DB2I
       CALL (  DB2IMAIN   VERSION (ccccc),
               DB2IDIAG )
       SIDEPROFILE(CICSTEST)
       TPNAME(DB2I)
       LOGMODE(ORAPLU62)
       SYNCLEVEL(0)
       NLS_LANGUAGE(&#34;AMERICAN_AMERICA.WE8EBCDIC37C&#34;);
</pre>
<p>where <code dir="ltr">ccccc</code> is the version number of the <code dir="ltr">DB2IMAIN</code> <code dir="ltr">CALL</code> definition queried after the previous <code dir="ltr">DEFINE CALL</code> updated <code dir="ltr">DB2IMAIN</code>.</p>
<p>There are two versions of the DB2I transaction definition in the PGA DD. The original uses the old &#34;<code dir="ltr">DCLEMP</code>&#34; record format and starts transaction &#34;<code dir="ltr">DB2I</code>&#34; on the production CICS system. The latest uses the &#34;<code dir="ltr">NEWEMP</code>&#34; record format and starts transaction &#34;<code dir="ltr">DB2I</code>&#34; on the test CICS system.</p>
<p>To determine which transaction version number was assigned, this SQL query can be issued:</p>
<pre dir="ltr">SELECT MAX(pt.version)
  FROM pga_trans pt
  WHERE pt.tname = &#39;DB2I&#39;;
</pre>
<p>To determine additional information related to the updated version of &#39;<code dir="ltr">DB2I</code>&#39; this query can be used:</p>
<pre dir="ltr">SELECT *
  FROM pga_trans pt
  WHERE pt.tname = &#39;DB2I&#39;;
</pre>
<p>This example generates a new package using the previously defined new versions of the <code dir="ltr">TRANSACTION</code>, <code dir="ltr">CALL</code>, and <code dir="ltr">DATA</code> definitions:</p>
<pre dir="ltr">GENERATE DB2I
VERSION(ttttt)
PKGNAME(NEWDB2I)
OUTFILE(&#34;pgadb2i&#34;);
</pre>
<p>where <code dir="ltr">ttttt</code> is the version number of the <code dir="ltr">DB2I TRANSACTION</code> definition queried after the previous <code dir="ltr">DEFINE TRANSACTION</code> updated <code dir="ltr">DB2I</code>.</p>
<p>Note that the previous PL/SQL package files <code dir="ltr">pgadb2i.pkh</code> and <code dir="ltr">pgadb2i.pkb</code> are overwritten. To keep the new package separate, change the output file specification. For example:</p>
<pre dir="ltr">GENERATE DB2I
VERSION(ttttt)
PKGNAME(NEWDB2I)
OUTFILE(&#34;newdb2i&#34;);
</pre>
<p>A user&#39;s high-level application now uses this TIP by referencing the <a id="sthref1356"></a>PL/SQL datatypes passed and returned.</p>
<p><a href="#CHDBDAEE">Table F-2</a> provides a description of the TIP user transaction datatypes in package name <code dir="ltr">NEWDB2I</code>:</p>
<div id="APPUG1414" class="tblformal">
<p class="titleintable"><a id="sthref1357"></a><a id="CHDBDAEE"></a>Table F-2 TIP User Transaction Datatypes for Package Name NEWDB2I</p>
<table class="cellalignment6315" title="TIP User Transaction Datatypes for Package Name NEWDB2I" summary="provides a description of the TIP user transaction datatypes in package name PGADB2I" dir="ltr">
<thead>
<tr class="cellalignment6309">
<th class="cellalignment6316" id="r1c1-t4">Datatype</th>
<th class="cellalignment6316" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6309">
<td class="cellalignment6317" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">NEWDB2I.EMPNO</code></p>
</td>
<td class="cellalignment6317" headers="r2c1-t4 r1c2-t4">
<p>Is a PL/SQL variable corresponding to COBOL <code dir="ltr">EMPNO</code>.</p>
</td>
</tr>
<tr class="cellalignment6309">
<td class="cellalignment6317" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">NEWDB2I.NEWEMP</code></p>
</td>
<td class="cellalignment6317" headers="r3c1-t4 r1c2-t4">
<p>Is a PL/SQL <code dir="ltr">RECORD</code> corresponding to COBOL <code dir="ltr">NEWEMP</code>.</p>
</td>
</tr>
<tr class="cellalignment6309">
<td class="cellalignment6317" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">NEWDB2I.DB2</code></p>
</td>
<td class="cellalignment6317" headers="r4c1-t4 r1c2-t4">
<p>Is a PL/SQL <code dir="ltr">RECORD</code> corresponding to COBOL <code dir="ltr">DB2</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>and the application calls:</p>
<pre dir="ltr">NEWDB2I.PGADB2I_INIT(trannum);
NEWDB2I.PGADB2I_MAIN( trannum, empno, newemp );
NEWDB2I.PGADB2I_DIAG( trannum, db2 );
NEWDB2I.PGADB2I_TERM(trannum, termtype);
</pre></div>
<!-- class="sect1" -->
<a id="i634479"></a>
<div id="APPUG1133" class="sect1">
<h2 class="sect1">Sample PGAU REDEFINE DATA Statements<a id="sthref1358"></a><a id="sthref1359"></a><a id="sthref1360"></a></h2>
<p>Single-field redefinition in which <code dir="ltr">EDLEVEL USAGE</code> becomes <code dir="ltr">COMP-3</code>:</p>
<pre dir="ltr">REDEFINE DATA EMPREC
         PLSDNAME(DCLEMP)
         LANGUAGE(IBMVSCOBOLII)
         FIELD(EDLEVEL)
         PLSFNAME(PLSRECTYPE)
       (
       10 EDLEVEL  PIC S9(4) USAGE IS COMP-3.
       );
</pre>
<p>By default, this redefines the latest version of <code dir="ltr">EMPREC</code> which implicitly affects the latest call and transaction definitions which refer to it.</p>
<p>Sample multi-field redefinition in which the employee&#39;s first and last name fields are expanded and the employee&#39;s middle initial is removed.</p>
<pre dir="ltr">REDEFINE DATA EMPREC
         VERSION(1)
         PLSDNAME(DCLEMP)
         LANGUAGE(IBMVSCOBOLII)
         INFILE(&#34;emp1.cob&#34;);
</pre>
<p>where the file <code dir="ltr">emp1.cob</code> contains the following:</p>
<pre dir="ltr">01 DCLEMP.
  10 EMPNO                     PIC X(6).
  10 FIRSTNME.
       49 FIRSTNME-LEN         PIC S9(4) USAGE COMP.
       49 FIRSTNME-TEXT        PIC X(15).
  10 LASTNAME.
       49 LASTNAME-LEN         PIC S9(4) USAGE COMP.
       49 LASTNAME-TEXT        PIC X(20).
  10 WORKDEPT                  PIC X(3).
  10 PHONENO                   PIC X(4).
  10 HIREDATE                  PIC X(10).
  10 JOB                       PIC X(8).
  10 EDLEVEL                   PIC S9(4) USAGE COMP.
  10 SEX                       PIC X(1).
  10 BIRTHDATE                 PIC X(10).
  10 SALARY                    PIC S9999999V99 USAGE COMP-3.
  10 BONUS                     PIC S9999999V99 USAGE COMP-3.
  10 COMM                      PIC S9999999V99 USAGE COMP-3.
    
</pre>
<p>The assumption is that version 1 of the data definition for &#39;<code dir="ltr">EMPREC</code>&#39; is to be redefined. This causes a redefinition of the first &#39;<code dir="ltr">EMPREC</code>&#39; sample data definition without changing the version number. Thus, existing call and transaction definitions which referenced version 1 of &#39;<code dir="ltr">EMPREC</code>&#39; automatically reflect the changed &#39;<code dir="ltr">EMPREC</code>&#39;. This change becomes effective when a TIP is next generated for a transaction that references the call which referenced version 1 of &#39;<code dir="ltr">EMPREC</code>&#39;.</p>
<p>This implicitly affects both versions of the transaction because both refer to <code dir="ltr">EMPREC</code> in the second call to update the employee data.</p>
</div>
<!-- class="sect1" -->
<a id="i634522"></a>
<div id="APPUG1134" class="sect1">
<h2 class="sect1">Sample PGAU UNDEFINE Statements<a id="sthref1361"></a><a id="sthref1362"></a><a id="sthref1363"></a></h2>
<p>These samples illustrate the deletion of a specific version of a definition which has multiple versions, followed by deletion of all versions of a specific named definition.</p>
<p>Deletion of <code dir="ltr">DATA</code> Definitions:</p>
<pre dir="ltr">UNDEFINE DATA EMPREC VERSION (ddddd);
UNDEFINE DATA EMPREC VERSION (ALL);
UNDEFINE CALL DB2IMAIN VERSION (ccccc);
UNDEFINE CALL DB2IMAIN VERS (all);
UNDEFINE TRANSACTION DB2I vers (ttttt);
UNDEFINE TRANSACTION DB2I vers (all);
</pre>
<p>Note that the previous <code dir="ltr">UNDEFINE</code> statements leave the <code dir="ltr">DATA</code> definition for <code dir="ltr">EMPNO</code> and the <code dir="ltr">CALL</code> definition for <code dir="ltr">DB2IDIAG</code> in the PGA DD.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6308">
<tr>
<td class="cellalignment6317">
<table class="cellalignment6313">
<tr>
<td class="cellalignment6312"><a href="apf.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6312"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6320">
<table class="cellalignment6311">
<tr>
<td class="cellalignment6312"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6312"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6312"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6312"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6312"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6312"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
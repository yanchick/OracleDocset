<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-78412"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20a%20Shared%20Server%20Architecture"></a><title>Configuring a Shared Server Architecture</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T8:0:56Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Net Services Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17610-12"/>
<meta name="dcterms.isVersionOf" content="NETAG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="cman.htm" title="Previous" type="text/html"/>
<link rel="Next" href="profile.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17610-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">20/28</span> <!-- End Header -->
<div id="NETAG012" class="chapter"><a id="g458957"></a> <a id="i453786"></a>
<h1 class="chapter"><span class="secnum">11</span> Configuring a Shared Server Architecture</h1>
<p>When client load causes a strain on memory and other system resources, database administrators can alleviate load issues by starting shared server resources. The <a href="glossary.htm#BGBEAGCH"><span class="xrefglossterm">shared server</span></a> architecture enables a database server to allow many client processes to share very few server processes, so the number of users that can be supported is increased. With the shared server architecture, many client processes connect to a <a href="glossary.htm#BGBHHIEG"><span class="xrefglossterm">dispatcher</span></a>. The dispatcher directs multiple incoming network session requests to a common queue. An idle shared server process from a shared pool of server processes picks up a request from the queue. This means a small pool of server processes can serve a large number of clients. This is useful when a system is overloaded or has limited memory.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#i448073">About Dispatchers</a></p>
</li>
<li>
<p><a href="#BABBHHDA">Enabling Session Multiplexing</a></p>
</li>
<li>
<p><a href="#i456170">Configuring Clients for Environments with Both Shared and Dedicated Servers</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11166" href="../ADMIN/manproc.htm#ADMIN11166"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for additional information about shared server configuration</div>
<a id="i448073"></a>
<div id="NETAG323" class="sect1">
<h2 class="sect1">About Dispatchers<a id="sthref669"></a><a id="sthref670"></a><a id="sthref671"></a><a id="sthref672"></a></h2>
<p>Shared memory resources for dispatchers, virtual circuits, and shared servers are preconfigured enable shared servers at runtime. Database administrators can start dispatchers and shared servers with the SQL <code dir="ltr">ALTER SYSTEM</code> statement without having to restart the instance. When shared server mode is turned on, a dispatcher is started automatically on the TCP/IP protocol even if the DISPATCHERS parameter has not been set. Using a shared server is equivalent to setting the <a id="sthref673"></a><a id="sthref674"></a>DISPATCHERS parameter in the database initialization parameter file as follows:</p>
<pre dir="ltr">DISPATCHERS=&#34;(PROTOCOL=tcp)&#34;
</pre>
<p>Configure the DISPATCHERS parameter directly if either of the following conditions apply:</p>
<ul>
<li>
<p>You need to configure a protocol other than TCP/IP.</p>
</li>
<li>
<p>You want to configure one or more of the optional dispatcher attributes, such as multiplexing.</p>
</li>
</ul>
<p>You can specify the following attributes for the DISPATCHERS parameter. The <code dir="ltr">PROTOCOL</code> attribute is required, and the others are optional. The <code dir="ltr">ADDRESS</code> attribute is used to set a specify port number, such as when using a firewall.</p>
<ul>
<li>
<p><code dir="ltr">ADDRESS</code></p>
</li>
<li>
<p><code dir="ltr">CONNECTIONS</code><a id="sthref675"></a><a id="sthref676"></a></p>
</li>
<li>
<p><code dir="ltr">DESCRIPTION</code></p>
</li>
<li>
<p><code dir="ltr">DISPATCHERS</code> <a id="sthref677"></a><a id="sthref678"></a></p>
</li>
<li>
<p><code dir="ltr">LISTENER</code> <a id="sthref679"></a><a id="sthref680"></a><a id="sthref681"></a></p>
</li>
<li>
<p><code dir="ltr">MULTIPLEX</code> <a id="sthref682"></a><a id="sthref683"></a></p>
</li>
<li>
<p><code dir="ltr">PROTOCOL</code> (required)</p>
</li>
<li>
<p><code dir="ltr">SERVICE</code></p>
</li>
<li>
<p><code dir="ltr">SESSIONS</code> <a id="sthref684"></a><a id="sthref685"></a></p>
</li>
</ul>
<p>You change the dispatcher configuration using the SQL statement <code dir="ltr">ALTER SYSTEM</code>. You do not need to restart the instance after setting the parameters.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMIN11176" href="../ADMIN/manproc.htm#ADMIN11176"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for additional information about configuring dispatchers</div>
<a id="i449168"></a>
<div id="NETAG326" class="sect2">
<h3 class="sect2">Grouping Services by Dispatcher<a id="sthref686"></a><a id="sthref687"></a><a id="sthref688"></a></h3>
<p>An Oracle database can be represented by multiple service names. A pool of dispatchers can be allocated exclusively for clients requesting a particular service. This way, the mission critical requests may be given more resources and in effect increase their priority.</p>
<p>For example, the following initialization parameter file shows two dispatchers. The first dispatcher services requests for clients requesting <code dir="ltr">sales.us.example.com.</code> The other dispatcher services requests only for clients requesting <code dir="ltr">adminsales.us.example.com</code>.</p>
<pre dir="ltr">SERVICE_NAMES=sales.us.example.com
INSTANCE_NAME=sales
DISPATCHERS=&#34;(PROTOCOL=tcp)&#34; 
DISPATCHERS=&#34;(PROTOCOL=tcp)(SERVICE=adminsales.us.example.com)&#34; 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Services must be manually started on pluggable databases.</div>
</div>
<!-- class="sect2" -->
<div id="NETAG1595" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref689"></a>
<h3 class="sect2">Monitoring Dispatchers</h3>
<p>Use the following views to check configurations and monitor dispatchers:</p>
<ul>
<li>
<p>V$QUEUE: Contains information about the shared server message queues. This view is only available to the <code dir="ltr">SYS</code> user, and users who have <code dir="ltr">SELECT ANY TABLE</code> system privilege, such as <code dir="ltr">SYSTEM</code>.</p>
</li>
<li>
<p>V$DISPATCHER: Provides information about the dispatcher processes, including name, network address, status, various usage statistics, and index number.</p>
</li>
<li>
<p>V$DISPATCHER_CONFIG: Provides configuration information about the dispatchers.</p>
</li>
<li>
<p>V$DISPATCHER_RATE: Provides rate statistics for the dispatcher processes.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink TGDBA021" href="../TGDBA/pfgrf_build_db.htm#TGDBA021"><span class="italic">Oracle Database Performance Tuning Guide</span></a> and <a class="olink REFRN003" href="../REFRN/GUID-8C5690B0-DE10-4460-86DF-80111869CF4C.htm#REFRN003"><span class="italic">Oracle Database Reference</span></a> for additional information these views</p>
</li>
<li>
<p><a class="olink ADMIN11166" href="../ADMIN/manproc.htm#ADMIN11166"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for additional information about shared server configuration</p>
</li>
<li>
<p><a class="olink REFRN10049" href="../REFRN/GUID-DCBCCF94-8A73-4805-9138-412DA413FC7C.htm#REFRN10049"><span class="italic">Oracle Database Reference</span></a> for additional information about configuring the DISPATCHERS parameter and supported attributes</p>
</li>
<li>
<p><a class="olink SQLRF009" href="../SQLRF/statements_2.htm#SQLRF009"><span class="italic">Oracle Database SQL Reference</span></a> for additional information about the <code dir="ltr">ALTER</code> <code dir="ltr">SYSTEM</code> statement</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBHHDA"></a>
<div id="NETAG325" class="sect1">
<h2 class="sect1">Enabling Session Multiplexing</h2>
<p>Session multiplexing, available with Oracle Connection Manager, enables multiple client sessions to funnel through a single protocol connection. For example, several client processes can connect to one dispatcher by way of a single connection from Oracle Connection Manager.</p>
<p>Oracle Connection Manager allows communication by users to the dispatcher by way of a shared connection. At any one time, users might need the connection, while other client processes linked to the dispatcher by way of the connection manager process are idle. Session multiplexing is beneficial because it maximizes use of the dispatcher process connections.</p>
<p>Session multiplexing is also useful for database link connections between dispatchers. The limit on the number of sessions for each dispatcher is operating system specific.</p>
<p>To enable session multiplexing, set the attribute <code dir="ltr">MULTIPLEX</code> in the DISPATCHERS parameter to <code dir="ltr">on</code> or an equivalent value.</p>
<pre dir="ltr">DISPATCHERS=&#34;(PROTOCOL=tcp)(MULTIPLEX=on)&#34;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="cman.htm#i489422">&#34;Enabling Session Multiplexing for Oracle Connection Manager&#34;</a> for configuration details</div>
</div>
<!-- class="sect1" -->
<a id="i456170"></a>
<div id="NETAG327" class="sect1">
<h2 class="sect1">Configuring Clients for Environments with Both Shared and Dedicated Servers<a id="sthref690"></a></h2>
<p>If a <a id="sthref691"></a>shared server is configured on the server side, and a client connection request arrives when no dispatchers are registered, then the request is processed by a dedicated server process. If you want a particular client always to use a dispatcher, then configure <code dir="ltr">(</code><code dir="ltr">SERVER</code><code dir="ltr">=shared)</code> in the <code dir="ltr">CONNECT_DATA</code> section of the connect descriptor. For example:</p>
<pre dir="ltr">sales= 
(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)
     <span class="bold">(SERVER=shared)</span>))
</pre>
<p>If the <code dir="ltr">(SERVER=shared)</code> attribute is configured and a dispatcher is not available, then the client connection request is rejected, and a message is sent to the client.</p>
<p>If the database is configured for a shared server and a particular client requires a <a id="sthref692"></a>dedicated server, then you can configure the client to use a dedicated server in one of the following ways:</p>
<ul>
<li>
<p>You can configure a network service name with a connect descriptor that contains <code dir="ltr">(SERVER=dedicated)</code> in the <code dir="ltr">CONNECT_DATA</code> section. For example:</p>
<pre dir="ltr">sales= 
(DESCRIPTION= 
  (ADDRESS=(PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA=
     (SERVICE_NAME=sales.us.example.com)
     <span class="bold">(SERVER=dedicated)</span>))
</pre></li>
<li>
<p>You can configure the client profile file, <code dir="ltr">sqlnet.ora</code>, with <code dir="ltr">USE_DEDICATED_SERVER=on</code>. This adds <code dir="ltr">(SERVER=dedicated)</code> to the <code dir="ltr">CONNECT_DATA</code> section of the connect descriptor the client uses.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If <code dir="ltr">USE_DEDICATED_SERVER</code> is set to <code dir="ltr">ON</code>, then existing <code dir="ltr">(SERVER=</code><code dir="ltr"><span class="codeinlineitalic">value</span></code><code dir="ltr">)</code> entries in connect descriptors are overwritten with <code dir="ltr">(SERVER=dedicated)</code>.</div>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="advcfg.htm#i463916">&#34;About the Advanced Connect Data Parameters&#34;</a> to set the SERVER parameter</p>
</li>
<li>
<p><a href="profile.htm#i483159">&#34;Routing Connection Requests to a Process&#34;</a> to set the USE_DEDICATED_SERVER parameter</p>
</li>
<li>
<p><a class="olink LNOCI090" href="../LNOCI/oci09adv.htm#LNOCI090"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> and <a class="olink ADMIN12349" href="../ADMIN/manproc.htm#ADMIN12349"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6122">
<tr>
<td class="cellalignment6131">
<table class="cellalignment6127">
<tr>
<td class="cellalignment6126"><a href="cman.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6126"><a href="profile.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6133">
<table class="cellalignment6125">
<tr>
<td class="cellalignment6126"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6126"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6126"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6126"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6126"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6126"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
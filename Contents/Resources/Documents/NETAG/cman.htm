<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-78408"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Oracle%20Connection%20Manager"></a><title>Configuring Oracle Connection Manager</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1093"/>
<meta name="dcterms.created" content="2017-07-11T8:0:56Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Net Services Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17610-12"/>
<meta name="dcterms.isVersionOf" content="NETAG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="listenercfg.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dispatcher.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17610-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">19/28</span> <!-- End Header -->
<div id="NETAG011" class="chapter"><a id="i491788"></a>
<h1 class="chapter"><span class="secnum">10</span> Configuring Oracle Connection Manager</h1>
<p>Oracle Connection Manager is a <a id="sthref624"></a><a href="glossary.htm#BGBEBFGE"><span class="xrefglossterm">proxy server</span></a> that forwards connection requests to databases or other proxy servers. It operates on the session level. It usually resides on a computer separate from the database server and client computers. Oracle Connection Manager is available for installation with Oracle Database 12<span class="italic">c</span> Enterprise Edition. It is a custom installation option on the Client disk.</p>
<p>The primary functions of Oracle Connection Manager are:</p>
<ul>
<li>
<p>Access control: To use rule-based configuration to filter user-specified client requests and accept others.</p>
</li>
<li>
<p>Session multiplexing: To funnel multiple client sessions through a network connection to a <a href="glossary.htm#BGBEAGCH"><span class="xrefglossterm">shared server</span></a> destination.</p>
</li>
</ul>
<p>This chapter describes how to configure Oracle Connection Manager features. This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CDCCDEIE">About the cman.ora File</a></p>
</li>
<li>
<p><a href="#i488856">Configuring Oracle Connection Manager</a></p>
</li>
<li>
<p><a href="#CACFAADH">Using Oracle Connection Manager as a Bridge for IPv4 and IPv6</a></p>
</li>
<li>
<p><a href="#i486234">Using the Oracle Connection Manager Control Utility to Administer Oracle Connection Manager</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="intro.htm#g462598">Chapter 1, &#34;Introducing Oracle Net Services&#34;</a> for an introduction to Oracle Connection Manager concepts</p>
</li>
<li>
<p><a href="layers.htm#g1052760">Chapter 4, &#34;Understanding the Communication Layers&#34;</a> for an architectural overview of Oracle Connection Manager</p>
</li>
</ul>
</div>
<a id="CDCCDEIE"></a>
<div id="NETAG1582" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">About the cman.ora File</h2>
<p>You configure the computer that hosts Oracle Connection Manager by setting parameters in the <a id="sthref625"></a><code dir="ltr">cman.ora</code> file. The <code dir="ltr">cman.ora</code> file resides on the computer that hosts Oracle Connection Manager, and is located in the <code dir="ltr">ORACLE_HOME/network/admin</code> directory. Oracle Connection Manager will not start if the <code dir="ltr">cman.ora</code> file does not exist. This file includes the following components:</p>
<ul>
<li>
<p>Listening endpoint</p>
</li>
<li>
<p>Access control rule list</p>
</li>
<li>
<p>Parameter list</p>
</li>
</ul>
<p>Each Oracle Connection Manager configuration is encapsulated within a single name-value (NV) string, which consists of the preceding components.</p>
<p>One computer can host any number of Oracle Connection Managers, each with its own entry in the <code dir="ltr">cman.ora</code> file. When defining more than one Oracle Connection Manager in the file, you can assign a default by giving only one a fully qualified host name.</p>
<p>You can specify multiple rules for both client and Oracle Connection Manager Control utility (CMCTL) connections. The following guidelines apply when making changes:</p>
<ul>
<li>
<p>You must enter at least one rule for client connections and one rule for CMCTL connections. Omitting a rule results in the rejection of all connections for the rule type omitted.</p>
</li>
<li>
<p>Oracle Connection Manager does not support wildcards for partial IP addresses. If you use a wildcard, then use it in place of a full IP address. The IP address of the client may be, for example, (<code dir="ltr">SRV=*</code>).</p>
</li>
<li>
<p>Oracle Connection Manager supports only the <code dir="ltr">/nn</code> notation for subnet addresses. In <a href="#CDCHICGC">Example 10-1</a>, in the first rule, <code dir="ltr">/27</code> represents a subnet mask that comprises 27 left-most bits. Only the first 27 bits in the client&#39;s IP address are compared with the IP address in the rule.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Connection Manager supports IPv6 addressing. See <a href="#CACFAADH">&#34;Using Oracle Connection Manager as a Bridge for IPv4 and IPv6&#34;</a>.</div>
<p><a href="#CDCHICGC">Example 10-1</a> shows a <code dir="ltr">cman.ora</code> file that contains a configuration entry for an Oracle Connection Manager called <code dir="ltr">CMAN1</code>.</p>
<div id="NETAG1165" class="example">
<p class="titleinexample"><a id="CDCHICGC"></a><a id="i490506"></a>Example 10-1 Sample cman.ora File</p>
<pre dir="ltr">CMAN1=
  (CONFIGURATION=
    (ADDRESS=(PROTOCOL=tcp)(HOST=proxysvr)(PORT=1521))
    (RULE_LIST=
      (RULE=(SRC=192.0.2.32/24)(DST=sales-server)(SRV=*)(ACT=accept)
        (ACTION_LIST=(AUT=on)(MCT=120)(MIT=30)))
      (RULE=(SRC=192.0.2.32)(DST=proxysvr)(SRV=cmon)(ACT=accept)))
    (PARAMETER_LIST=
      (MAX_GATEWAY_PROCESSES=8)
      (MIN_GATEWAY_PROCESSSES=3)))
       
</pre></div>
<!-- class="example" -->
<p><a href="#CDCHICGC">Example 10-1</a> shows the following rules:</p>
<ul>
<li>
<p>In the first rule in the example, the following parameters are set:</p>
<ul>
<li>
<p><code dir="ltr">SRC=192.0.2.32/24</code> is for client connections. It designates the IP address of the client, or source.</p>
</li>
<li>
<p><code dir="ltr">DST=sales-server</code> designates the destination host name. The ACT parameter specifies the action, that is, accept, reject, or drop. The ACTION_LIST<a id="sthref626"></a><a id="sthref627"></a> parameter sets attributes for a connection if it is accepted, enabling you to override default parameter settings on a connection-by-connection basis.</p>
</li>
</ul>
</li>
<li>
<p>In the second rule, the following parameters are set:</p>
<ul>
<li>
<p><code dir="ltr">SRC=192.0.2.32</code> and <code dir="ltr">DST=proxysvr</code> represent the same server, indicating that Oracle Connection Manager and CMCTL must reside on the same computer.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i489603">&#34;Enabling Access Control&#34;</a></div>
</li>
</ul>
<p><a href="#g498966">Table 10-1</a> describes the rule-level parameters in the <code dir="ltr">cman.ora</code> file.</p>
<div id="NETAG1167" class="tblruleformal">
<p class="titleintable"><a id="sthref628"></a><a id="g498966"></a>Table 10-1 Rule-Level Parameters in cman.ora File</p>
<table class="cellalignment6129" title="Rule-Level Parameters in cman.ora File" summary="Rule-Level Parameters" dir="ltr">
<thead>
<tr class="cellalignment6123">
<th class="cellalignment6130" id="r1c1-t5">Parameter</th>
<th class="cellalignment6130" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r2c1-t5" headers="r1c1-t5">
<p>SRC</p>
</td>
<td class="cellalignment6131" headers="r2c1-t5 r1c2-t5">
<p>The source host name or IP address of the client. The IP address can be a subnet, such as <code dir="ltr">192.0.2.62/24</code>.</p>
</td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r3c1-t5" headers="r1c1-t5">
<p>DST</p>
</td>
<td class="cellalignment6131" headers="r3c1-t5 r1c2-t5">
<p>The destination host name or IP address of the database server. The IP address can be a subnet, such as <code dir="ltr">192.0.2.62/24</code>.</p>
</td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r4c1-t5" headers="r1c1-t5">
<p>SRV</p>
</td>
<td class="cellalignment6131" headers="r4c1-t5 r1c2-t5">
<p>The service name of the Oracle database obtained from the SERVICE_NAMES parameter in the initialization parameter file (<code dir="ltr">init.ora</code>).</p>
<p>The service name is given by the client as part of the connect descriptor when connecting to the listener. This service name is compared to the service name specified in the rule list.</p>
</td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r5c1-t5" headers="r1c1-t5">
<p>ACT</p>
</td>
<td class="cellalignment6131" headers="r5c1-t5 r1c2-t5">
<p>To accept, reject, or drop incoming requests based on the preceding three parameters.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p>You can define multiple rules in the RULE_LIST. The action (<code dir="ltr">ACT</code>) in the first matched <code dir="ltr">RULE</code> is applied to the connection request. If no rules are defined, then all connections are rejected.</p>
<p>In the following example, client computer <code dir="ltr">client1-pc</code> is denied access to the service <code dir="ltr">sales.us.example.com</code>, but client <code dir="ltr">192.0.2.45</code> is granted access to the service <code dir="ltr">db1</code>.</p>
<pre dir="ltr">(RULE_LIST=
  (RULE=(SRC=client1-pc)(DST=sales-server)(SRV=sales.us.example.com)(ACT=reject))
<a id="i484056"></a>  (RULE=(SRC=192.0.2.45)(DST=192.0.2.200)(SRV=db1)(ACT=accept)))
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETRF004" href="../NETRF/protocoladd.htm#NETRF004"><span class="italic">Oracle Database Net Services Reference</span></a> for additional information about Oracle Connection Manager parameters</div>
</div>
<!-- class="sect1" -->
<a id="i488856"></a>
<div id="NETAG310" class="sect1">
<h2 class="sect1">Configuring Oracle Connection Manager</h2>
<p>In order to configure Oracle Connection Manager you must configure the proxy server, database, and clients. The following tasks describe the general procedure:</p>
<dl>
<dd><a id="NETAG1555"></a><a id="sthref629"></a></dd>
<dt class="seghead">Task 1&nbsp;&nbsp;&nbsp;Configure the cman.ora file on the Oracle Connection Manager computer.</dt>
<dd>
<p>The <code dir="ltr">cman.ora</code> file specifies the listening endpoint for the server, access control rules, and Oracle Connection Manager performance parameters.</p>
<p><a href="#i488946">&#34;Configuring the cman.ora file for the Oracle Connection Manager Host&#34;</a> explains how to perform this task.</p>
</dd>
<dd><a id="NETAG1556"></a><a id="sthref630"></a></dd>
<dt class="seghead">Task 2&nbsp;&nbsp;&nbsp;Configure the clients with the protocol address of the Oracle Connection Manager listener.</dt>
<dd>
<p><a href="#i484544">&#34;Configuring Clients for Oracle Connection Manager&#34;</a> explains how to perform this task.</p>
</dd>
<dd><a id="NETAG1557"></a><a id="sthref631"></a></dd>
<dt class="seghead">Task 3&nbsp;&nbsp;&nbsp;Configure the database server for session multiplexing. This task is optional.</dt>
<dd>
<p><a href="#i488918">&#34;Configuring the Oracle Database Server for Oracle Connection Manager&#34;</a> explains how to perform this task.</p>
</dd>
</dl>
<a id="i488946"></a>
<div id="NETAG311" class="sect2">
<h3 class="sect2">Configuring the cman.ora file for the Oracle Connection Manager Host<a id="ABC493166"></a></h3>
<p>You make changes to the <code dir="ltr">cman.ora</code> file manually. The following procedure describes how to set parameters in the <code dir="ltr">cman.ora</code> file:</p>
<ol>
<li>
<p>Navigate to the <a id="sthref632"></a><code dir="ltr">cman.ora</code> file in the <code dir="ltr">ORACLE_HOME/network/admin</code> directory.</p>
</li>
<li>
<p>Open the <code dir="ltr">cman.ora</code> file with a text editor.</p>
</li>
<li>
<p>Configure the listening endpoint (ADDRESS).</p>
<p>The listening endpoint specifies the protocol address for the Oracle Connection Manager listener. CMON, the Oracle Connection Manager monitoring process, uses this address to register information about gateway processes with the listener. The database uses the address to register service information at the Oracle Connection Manager node.</p>
<p>The Oracle Connection Manager listener always listens on the TCP/IP protocol.</p>
<pre dir="ltr"><a id="sthref633"></a><a id="sthref634"></a>(ADDRESS=(PROTOCOL=tcp)(HOST=proxysvr)(PORT=1521))
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Oracle Connection Manager can connect to the database using protocols such as TCP/IP (version 4 and version 6). The protocol TCPS is not supported.</div>
</li>
<li>
<p>Configure the access control rule list (RULE_LIST).</p>
<p>The access control rule list specifies which connections are accepted, rejected, or dropped by the listener.</p>
</li>
<li>
<p>Configure the parameter list (PARAMETER_LIST).</p>
<p>The parameter list sets attributes for an Oracle Connection Manager.<a id="sthref635"></a> Parameters take the following forms:</p>
<ul>
<li>
<p>If global, then the parameter applies to all Oracle Connection Manager connections unless a rule-level parameter overrides it. To change a global parameter default setting, enter it into the PARAMETER_LIST with an allowable value.</p>
</li>
<li>
<p>If a rule-level parameter is enabled in the ACTION_LIST<a id="sthref636"></a><a id="sthref637"></a> section of the RULE_LIST, then it applies only to connections specified by the rule. It overrides its global counterpart.</p>
</li>
</ul>
</li>
</ol>
<a id="i489603"></a>
<div id="NETAG321" class="sect3">
<h4 class="sect3">Enabling Access Control<a id="sthref638"></a><a id="sthref639"></a><a id="sthref640"></a></h4>
<p>Use the RULE_LIST parameter to control client access to designated database servers in a TCP/IP environment. By entering filtering rules under this parameter, you can allow or restrict specific clients access to a database server.</p>
<p>The following procedure describes how to configure access control:</p>
<ol>
<li>
<p>Open the <code dir="ltr">cman.ora</code> file with a text editor.</p>
</li>
<li>
<p>Update the RULE_LIST<a id="sthref641"></a><a id="sthref642"></a> parameter using the following format:</p>
<pre dir="ltr">       (RULE_LIST=
        (RULE=(SRC=<span class="codeinlineitalic">source_host</span>) 
              (DST=<span class="codeinlineitalic">destination_host</span>) 
              (SRV=<span class="codeinlineitalic">service</span>) 
              (ACT=accept | reject | drop)))
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#g498966">Table 10-1, &#34;Rule-Level Parameters in cman.ora File&#34;</a></div>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i484544"></a>
<div id="NETAG315" class="sect2">
<h3 class="sect2">Configuring Clients for Oracle Connection Manager<a id="sthref643"></a></h3>
<p>To route clients to the database server through Oracle Connection Manager, configure the <code dir="ltr">tnsnames.ora</code> file with a <a href="glossary.htm#BGBEAGEA"><span class="xrefglossterm">connect descriptor</span></a> that specifies the protocol address of Oracle Connection Manager. This address enables clients to connect to the Oracle Connection Manager computer.<a id="sthref644"></a><a id="sthref645"></a><a id="sthref646"></a> The connect descriptor looks similar to the following:</p>
<pre dir="ltr">sales=
  (DESCRIPTION=
    (ADDRESS=
      (PROTOCOL=tcp)
      (HOST=cman-pc)
      (PORT=1521))
    (CONNECT_DATA=
      (SERVICE_NAME=example.com)))
</pre>
<p>The following procedure describes how to configure a protocol address for Oracle Connection Manager:</p>
<ol>
<li>
<p>Start Oracle Net Manager.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="admintools.htm#i483238">&#34;Using Oracle Net Manager to Configure Oracle Net Services&#34;</a></div>
</li>
<li>
<p>In the navigator pane, select <span class="bold">Service Naming</span> from Directory or Local menus.</p>
</li>
<li>
<p>Click the plus sign (+) on the toolbar, or select <span class="bold">Create</span> from the Edit menu.</p>
<p>The <a id="sthref647"></a><a id="sthref648"></a>Welcome page of the Net Service Name wizard appears.</p>
</li>
<li>
<p>Enter a name in the Net Service Name field.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Protocol page appears.</p>
</li>
<li>
<p>Select the TCP/IP protocol for Oracle Connection Manager.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Protocol Settings page appears.</p>
</li>
<li>
<p>Specify the Oracle Connection Manager port and protocol. The default port number for Oracle Connection Manager is 1521, and the protocol is TCP/IP.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETRF004" href="../NETRF/protocoladd.htm#NETRF004"><span class="italic">Oracle Database Net Services Reference</span></a> for protocol parameter settings</div>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<p>The Service page appears.</p>
</li>
<li>
<p>Enter a service name in the <span class="bold">Service Name</span> field, and then select the connection type.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="concepts.htm#BABCEADF">&#34;About Connect Descriptors&#34;</a> for additional information about setting the service name string</div>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not click <span class="bold">Test</span>, because a connection cannot be tested at this point.</div>
</li>
<li>
<p>Click <span class="bold">Finish</span> to save your configuration and close the Net Service Name wizard.</p>
<p>The new network service name and the Oracle Connection Manager protocol address is added to the Service Naming folder.<a id="sthref649"></a></p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="i488918"></a>
<div id="NETAG316" class="sect2">
<h3 class="sect2">Configuring the Oracle Database Server for Oracle Connection Manager<a id="sthref650"></a></h3>
<p>Configuring the database server involves registering database information remotely with Oracle Connection Manager and, optionally, configuring the server for multiplexing.</p>
<p>This section contains the following topics:</p>
<ul>
<li>
<p><a href="#CACEAIFD">Configuring Service Registration for Use with Oracle Connection Manager</a></p>
</li>
<li>
<p><a href="#i489422">Enabling Session Multiplexing for Oracle Connection Manager</a></p>
</li>
</ul>
<a id="CACEAIFD"></a>
<div id="NETAG317" class="sect3">
<h4 class="sect3">Configuring Service Registration for Use with Oracle Connection Manager<a id="sthref651"></a><a id="sthref652"></a><a id="sthref653"></a></h4>
<p>To enable the database server to communicate with Oracle Connection Manager, the <code dir="ltr">tnsnames.ora</code> file must include the service name entry, and the initialization parameter file <code dir="ltr">(init.ora)</code> must contain a descriptor that specifies the listening address of Oracle Connection Manager. The following procedure describes how to configure service registration:</p>
<ol>
<li>
<p>Resolve the Oracle Connection Manager alias to a service name entry in the <code dir="ltr">tnsnames.ora</code> file as follows:</p>
<pre dir="ltr"><span class="codeinlineitalic">cman_listener_address</span> =
  (DESCRIPTION=
    (ADDRESS_LIST=
      (ADDRESS=(PROTOCL=tcp) (HOST=<span class="codeinlineitalic">proxy_server_name</span>)( PORT=1521))))
</pre>
<p>For example, the alias <code dir="ltr">listeners_cman</code> would be resolved to the following entry in the <code dir="ltr">tnsnames.ora</code> file:</p>
<pre dir="ltr">listener_cman=
 (DESCRIPTION=
  (ADDRESS_LIST=
   (ADDRESS=(PROTOCOL=tcp)(HOST=proxyserver1)(PORT=1521))))
</pre></li>
<li>
<p>Specify an alias for Oracle Connection Manager in the <code dir="ltr">init.ora</code> file as follows. This alias is the one specified in the <code dir="ltr">tnsnames.ora</code> file in step 1.</p>
<pre dir="ltr">REMOTE_LISTENER=<span class="codeinlineitalic">cman_listener_address</span>
</pre>
<p>The alias must be specified because this address is TCP, port 1521 but it is not the default local listening address of TCP, port 1521 of the database server.</p>
<p>For example, the alias for the Oracle Connection Manager listener running on host, <code dir="ltr">proxyserver1</code>, specified in step 1, might look like the following in the <code dir="ltr">init.ora</code> file:</p>
<pre dir="ltr">REMOTE_LISTENER=listener_cman
</pre></li>
<li>
<p>After the initialization parameter file is configured with the alias of Oracle Connection Manager, the <a id="sthref654"></a>Listener Registration (LREG) process can register database information with the Oracle Connection Manager listener. Use the following command to register the change:</p>
<pre dir="ltr">SQL&gt; ALTER SYSTEM REGISTER
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<a href="listenercfg.htm#i490371">&#34;Registering Information with a Remote Listener&#34;</a></div>
</div>
<!-- class="sect3" -->
<a id="i489422"></a>
<div id="NETAG320" class="sect3">
<h4 class="sect3">Enabling Session Multiplexing for Oracle Connection Manager<a id="sthref655"></a><a id="sthref656"></a><a id="sthref657"></a></h4>
<p><a id="sthref658"></a>To enable Oracle Connection Manager to take advantage of session multiplexing, set the <a id="sthref659"></a>DISPATCHERS parameter in the initialization parameter file (<code dir="ltr">init.ora</code>) with the attributes <code dir="ltr">PROTOCOL</code> and <code dir="ltr">MULTIPLEX</code>, similar to the following:</p>
<pre dir="ltr">DISPATCHERS=&#34;(PROTOCOL=tcp)(MULTIPLEX=on)&#34;
</pre>
<p><a href="#g498668">Table 10-2</a> lists the parameters to set different levels of multiplexing<a id="sthref660"></a>.</p>
<div id="NETAG1166" class="tblruleformal">
<p class="titleintable"><a id="sthref661"></a><a id="g498668"></a>Table 10-2 Session Multiplexing Parameters</p>
<table class="cellalignment6129" title="Session Multiplexing Parameters" summary="Session Multiplexing Parameters" dir="ltr">
<thead>
<tr class="cellalignment6123">
<th class="cellalignment6130" id="r1c1-t14">Attribute</th>
<th class="cellalignment6130" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r2c1-t14" headers="r1c1-t14">
<p><a id="sthref662"></a><a id="sthref663"></a>PROTOCOL</p>
</td>
<td class="cellalignment6131" headers="r2c1-t14 r1c2-t14">
<p>The network protocol for which the dispatcher generates a listening endpoint.</p>
</td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r3c1-t14" headers="r1c1-t14">
<p>MULTIPLEX<a id="sthref664"></a><a id="sthref665"></a></p>
</td>
<td class="cellalignment6131" headers="r3c1-t14 r1c2-t14">
<p>This parameter is used to enable session multiplexing, as follows:</p>
<ul>
<li>
<p>If <code dir="ltr">1</code>, <code dir="ltr">on</code>, <code dir="ltr">yes</code>, <code dir="ltr">true</code>, or <code dir="ltr">both</code> is specified, then multiplexing is enabled for both incoming and outgoing network sessions.</p>
</li>
<li>
<p>If <code dir="ltr">in</code> is specified, then multiplexing is enabled for incoming network sessions from the client.</p>
</li>
<li>
<p>If <code dir="ltr">out</code> is specified, then multiplexing is enabled for outgoing network sessions.</p>
</li>
<li>
<p>If <code dir="ltr">0</code>, <code dir="ltr">off</code>, <code dir="ltr">no</code>, or <code dir="ltr">false</code> is specified, then multiplexing is disabled for both incoming and outgoing network sessions.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="dispatcher.htm#g458957">Chapter 11, &#34;Configuring a Shared Server Architecture&#34;</a> for additional information about configuring shared servers</p>
</li>
<li>
<p><a class="olink NETRF009" href="../NETRF/cman.htm#NETRF009"><span class="italic">Oracle Database Net Services Reference</span></a> for a complete list of parameters and their default and allowed values</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACFAADH"></a>
<div id="NETAG1168" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using Oracle Connection Manager as a Bridge for IPv4 and IPv6</h2>
<p>In some database connection environments, a client and database may use different versions of the IP protocol so that complete connectivity does not exist. In this case at least two hops in the connection use different versions of the IP protocol. For example, a request passes from an IPv4 source to an IPv6 destination, from an IPv6 source to an IPv4 destination, or from IPv6 to IPv6 through an IPv4 network.</p>
<p>You can use Oracle Connection Manager as a network bridge between <a href="glossary.htm#BGBBGFEH"><span class="xrefglossterm">IPv4</span></a> and <a href="glossary.htm#BGBIBBID"><span class="xrefglossterm">IPv6</span></a>. To serve as a bridge, Oracle Connection Manager must run on a dual-stack host configured with at least one IPv4 interface and at least one IPv6 interface.</p>
<p>Use the Oracle Connection Manager filtering feature to filter based on an IPv6 address. You can base rules on complete or partial IP addresses. <a href="#CACBCHGH">Figure 10-1</a> shows the format of an IPv6 address.</p>
<div id="NETAG1169" class="figure">
<p class="titleinfigure"><a id="CACBCHGH"></a>Figure 10-1 IPv6 Address Format</p>
<img width="633" height="54" src="img/netag138.gif" alt="Description of Figure 10-1 follows"/><br/>
<a id="sthref666" href="img_text/netag138.htm">Description of &#39;&#39;Figure 10-1 IPv6 Address Format&#39;&#39;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The numbers at the top of the diagram indicate the number of bits in the address. Each hexadecimal character in an IPv6 address represents 4 bits. Bits 4-16 are the Top-Level Aggregation Identifier (TLA ID) portion of the address. Bits 25-49 are the Next-Level Aggregation Identifiers (NLA ID).</p>
<p>For example, in the address <code dir="ltr">2001:0db8::203:BAFF:FE0F:C74B</code>, the binary representation of the first four hexademical characters (<code dir="ltr">2001</code>) is as follows:</p>
<pre dir="ltr">0010000000000001
</pre>
<p>Thus, the first 3 bits in the address are <code dir="ltr">001</code>. The TLA ID portion of the address is <code dir="ltr">0000000000001</code>.</p>
<p>The following procedure describes how to create a rules filter for IPv6 address:</p>
<ol>
<li>
<p>Navigate to the <code dir="ltr">cman.ora</code> file located in the <code dir="ltr">ORACLE_HOME/network/admin</code> directory.</p>
</li>
<li>
<p>Open the <code dir="ltr">cman.ora</code> file with a text editor.</p>
</li>
<li>
<p>Create a <code dir="ltr">RULE</code> in the <code dir="ltr">RULE_LIST</code> based on IPv6 address format.</p>
<p>For example, assume that the source host is an IPv6-only host with address <code dir="ltr">2001:0db8::203:BAFF:FE0F:C74B</code>, whereas the destination is an IPv4-only host named <code dir="ltr">SALESL1593</code>. You configure Oracle Connection Manager as an IPv6-to-IPv4 bridge by creating one of the following rules:</p>
<div class="inftblruleinformal">
<table class="cellalignment6129" title="IPv6 to IPv4 Rules" summary="IPv6 to IPv4 bridge rules." dir="ltr">
<thead>
<tr class="cellalignment6123">
<th class="cellalignment6130" id="r1c1-t16">Type of Rule</th>
<th class="cellalignment6130" id="r1c2-t16">Description</th>
<th class="cellalignment6130" id="r1c3-t16">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r2c1-t16" headers="r1c1-t16">Filter based on subnet ID</td>
<td class="cellalignment6131" headers="r2c1-t16 r1c2-t16">Filtering is based on the 64 bits up to and including the subnet ID</td>
<td class="cellalignment6131" headers="r2c1-t16 r1c3-t16">
<pre dir="ltr">(RULE = (SRC = 2001:0db8::203:BAFF:FE0F:C74B/<span class="codeinlinebold">64</span>)
  (DST = SALESL1593)
  (SRV = SALES)
  (ACT = ACCEPT)
  (ACTION_LIST = (AUT=ON)(MOCT=10)(MIT=30)(CONN_STATE=YES))
)
</pre></td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r3c1-t16" headers="r1c1-t16">Filter based on NLA ID</td>
<td class="cellalignment6131" headers="r3c1-t16 r1c2-t16">Filtering is based on the 48 bits up to and including the NLA ID</td>
<td class="cellalignment6131" headers="r3c1-t16 r1c3-t16">
<pre dir="ltr">(RULE = (SRC = 2001:0db8::203:BAFF:FE0F:C74B/<span class="codeinlinebold">48</span>)
  (DST = SALESL1593)
  (SRV = SALES)
  (ACT = ACCEPT)
  (ACTION_LIST = (AUT=ON)(MOCT=10)(MIT=30)(CONN_STATE=YES))
)
</pre></td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r4c1-t16" headers="r1c1-t16">Filter based on TLA ID</td>
<td class="cellalignment6131" headers="r4c1-t16 r1c2-t16">Filtering is based on the 16 bits up to and including the TLA ID</td>
<td class="cellalignment6131" headers="r4c1-t16 r1c3-t16">
<pre dir="ltr">(RULE = (SRC = 2001:0db8::203:BAFF:FE0F:C74B/<span class="codeinlinebold">16</span>)
  (DST = SALESL1593)
  (SRV = SALES)
  (ACT = ACCEPT)
  (ACTION_LIST = (AUT=ON)(MOCT=10)(MIT=30)(CONN_STATE=YES))
)
</pre></td>
</tr>
<tr class="cellalignment6123">
<td class="cellalignment6131" id="r5c1-t16" headers="r1c1-t16">Filter based on number of bits</td>
<td class="cellalignment6131" headers="r5c1-t16 r1c2-t16">Filtering is based on the first 60 bits of the address</td>
<td class="cellalignment6131" headers="r5c1-t16 r1c3-t16">
<pre dir="ltr">(RULE = (SRC = 2001:0db8::203:BAFF:FE0F:C74B/<span class="codeinlinebold">60</span>)
  (DST = SALESL1593)
  (SRV = SALES)
  (ACT = ACCEPT)
  (ACTION_LIST = (AUT=ON)(MOCT=10)(MIT=30)(CONN_STATE=YES))
)
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblruleinformal" --></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="layers.htm#CACBHHHD">&#34;About TCP/IP Protocol&#34;</a> to learn more about IPv6</p>
</li>
<li>
<p><a href="concepts.htm#BABDABDG">&#34;About IPv6 Addresses in Connect Descriptors&#34;</a></p>
</li>
<li>
<p><a href="listenercfg.htm#i467654">&#34;Configuring Listening Protocol Addresses&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i486234"></a>
<div id="NETAG220" class="sect1">
<h2 class="sect1">Using the Oracle Connection Manager Control Utility to Administer Oracle Connection Manager <a id="sthref667"></a><a id="sthref668"></a></h2>
<p>The Oracle Connection Manager Control utility enables you to administer Oracle Connection Manager. When you issue commands from the operating system, the basic syntax for this utility is as follows:</p>
<pre dir="ltr">cmctl [<span class="italic">command</span>] [<span class="italic">argument1</span> . . . <span class="italic">argumentN</span>] [-c <span class="italic">instance_name</span>]
</pre>
<p>In the preceding command, <code dir="ltr">-c</code> specifies the Oracle Connection Manager instance. You are prompted for the password if one has been set.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
There is an option to specify the password on the command line. However, this exposes the password on the screen, and is a potential security risk. Oracle recommends not using the password option (<code dir="ltr">-p</code>) on the command line.</div>
<p>For example, the following command starts the listener, Connection Manager Administration (CMADMIN), and gateway processes for an instance named <code dir="ltr">cman1</code>:</p>
<pre dir="ltr">cmctl STARTUP -c cman1
</pre>
<p>You can also issue Oracle Connection Manager utility commands at the <code dir="ltr">CMCTL</code> prompt. To obtain the prompt, enter <code dir="ltr">cmctl</code> with no arguments at the operating system command line. The utility may prompt for a password if Oracle Connection Manager was installed with secure installation option. When you run <code dir="ltr">CMCTL</code>, the utility is started, and you can enter the necessary commands from the CMCTL prompt. The following is an example of the CMCTL prompt:</p>
<pre dir="ltr">cmctl
CMCTL&gt; STARTUP
</pre>
<div class="infobox-note">
<p class="notep1">Notes:</p>
Before issuing the <code dir="ltr">STARTUP</code> command, do the following:
<ul>
<li>
<p>Create the <code dir="ltr">cman.ora</code> file. A sample file is located in the <code dir="ltr">ORACLE_HOME/network/admin/samples</code> directory after installation of Oracle Connection Manager.</p>
</li>
<li>
<p>Run the <code dir="ltr">ADMINISTER</code> command to choose an instance to start.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="net_arch.htm#i1048191">&#34;Understanding Oracle Connection Manager Architecture&#34;</a> for an overview of the Oracle Connection Manager processes</p>
</li>
<li>
<p><a class="olink NETRF170" href="../NETRF/cmctl.htm#NETRF170"><span class="italic">Oracle Database Net Services Reference</span></a> for a complete description of Oracle Connection Manager Control utility commands</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6122">
<tr>
<td class="cellalignment6131">
<table class="cellalignment6127">
<tr>
<td class="cellalignment6126"><a href="listenercfg.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6126"><a href="dispatcher.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2017,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6133">
<table class="cellalignment6125">
<tr>
<td class="cellalignment6126"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6126"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6126"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6126"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6126"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6126"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
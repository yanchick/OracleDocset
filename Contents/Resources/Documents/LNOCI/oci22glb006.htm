<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-76353"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OCI%20Messaging%20Functions"></a><title>OCI Messaging Functions</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Lists and describes OCI messaging functions."/>
<meta name="keywords" content="OCIMessageClose(), OCIMessageGet(), OCIMessageOpen()"/>
<meta name="dcterms.created" content="2017-06-09T09:07:30Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Call Interface Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49886-11"/>
<meta name="dcterms.isVersionOf" content="LNOCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="oci22glb005.htm" title="Previous" type="text/html"/>
<link rel="Next" href="oci23xml.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49886-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE"></a> <span id="PAGE" style="display:none;">67/84</span> <!-- End Header -->
<a id="LNOCI17690"></a><a id="LNOCI216"></a>
<h1 id="LNOCI-GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE" class="sect1">OCI Messaging Functions</h1>
<div>
<p>Lists and describes OCI messaging functions.</p>
<div class="section">
<p>The user message API provides a simple interface for cartridge developers to retrieve their own messages and Oracle Database messages.</p>
<div class="infoboxnotealso" id="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE__GUID-726D1B60-FF88-4224-994A-E09D49749D13">
<p class="notep1">See Also:</p>
<p><a class="olink ADDCI4272" target="_blank" href="../ADDCI/roadmap.htm#ADDCI4272"><span><cite>Oracle Database Data Cartridge Developer&#39;s Guide</cite></span></a></p>
</div>
<p><a href="oci22glb006.htm#GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE__G568734" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 22-8</a> lists the OCI messaging functions that are described in this section.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-0D127CE1-8826-4E20-BBF2-B776CF9B5EFE__G568734">
<p class="titleintable">Table 22-8 OCI Messaging Functions</p>
<table class="cellalignment6157" title="OCI Messaging Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">
<thead>
<tr class="cellalignment6151">
<th class="cellalignment6158" id="d289682e175">Function</th>
<th class="cellalignment6159" id="d289682e178">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6151">
<td class="cellalignment6160" id="d289682e183" headers="d289682e175">
<p><a href="oci22glb006.htm#GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C">OCIMessageClose()</a></p>
</td>
<td class="cellalignment6161" headers="d289682e183 d289682e178">
<p>Close a message handle and free any memory associated with the handle</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6160" id="d289682e192" headers="d289682e175">
<p><a href="oci22glb006.htm#GUID-50AE92D5-A410-4E39-B87E-E816F24204CE">OCIMessageGet()</a></p>
</td>
<td class="cellalignment6161" headers="d289682e192 d289682e178">
<p>Retrieve a message. If the buffer is not zero, then the function copies the message into the buffer</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6160" id="d289682e201" headers="d289682e175">
<p><a href="oci22glb006.htm#GUID-94320321-ABD7-4FF1-9387-398490AE91C8">OCIMessageOpen()</a></p>
</td>
<td class="cellalignment6161" headers="d289682e201 d289682e178">
<p>Open a message handle in a specified language</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="LNOCI17691"></a>
<div class="props_rev_3"><a id="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C"></a>
<h2 id="LNOCI-GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C" class="sect2">OCIMessageClose()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Closes a message handle and frees any memory associated with this handle.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIMessageClose ( void      *hndl, 
                        OCIError  *errhp, 
                        OCIMsg    *msgh );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76340"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C__GUID-5D0F9A09-8D86-47B1-A501-504E33BE8662"><!-- --></a>hndl (IN/OUT)</dt>
<dd>
<p>Pointer to an OCI environment or user session handle for the message language.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76341"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C__GUID-B72C0F47-5899-4E73-8080-9BEF44D0AF87"><!-- --></a>errhp (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, then it is recorded in <code class="codeph">errhp</code>, and the function returns a <code class="codeph">NULL</code> pointer. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76342"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5C5A157D-1E44-4111-8158-0E7DE8CB599C__GUID-3E86A0D7-23A0-4B3C-BA1B-B531B10D74A0"><!-- --></a>msgh (IN/OUT)</dt>
<dd>
<p>A pointer to a message handle that was previously opened by <a href="oci22glb006.htm#GUID-94320321-ABD7-4FF1-9387-398490AE91C8">OCIMessageOpen()</a>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Returns</p>
<p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17692"></a>
<div class="props_rev_3"><a id="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE"></a>
<h2 id="LNOCI-GUID-50AE92D5-A410-4E39-B87E-E816F24204CE" class="sect2">OCIMessageGet()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Gets a message with the given message number.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">OraText *OCIMessageGet ( OCIMsg      *msgh, 
                         ub4         msgno, 
                         OraText     *msgbuf, 
                         size_t      buflen );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76343"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-1DC6D5D8-08C2-4D3A-9FF5-32A45D4B6ED0"><!-- --></a>msgh (IN/OUT)</dt>
<dd>
<p>Pointer to a message handle that was previously opened by <a href="oci22glb006.htm#GUID-94320321-ABD7-4FF1-9387-398490AE91C8">OCIMessageOpen()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76344"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-A85F747C-0962-41E4-AA33-AC2F1BED3614"><!-- --></a>msgno (IN)</dt>
<dd>
<p>The message number.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76345"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-50FB8620-2E1F-4FCF-A85B-F1704CE38E27"><!-- --></a>msgbuf (OUT)</dt>
<dd>
<p>Pointer to a destination buffer for the retrieved message. If <code class="codeph">buflen</code> is zero, then it can be a <code class="codeph">NULL</code> pointer.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76346"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-50AE92D5-A410-4E39-B87E-E816F24204CE__GUID-A782126A-13D5-4AFF-A98C-4A74C25338C7"><!-- --></a>buflen (IN)</dt>
<dd>
<p>The size of the destination buffer.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>If <code class="codeph">buflen</code> is not zero, then the function copies the message into the buffer pointed to by <code class="codeph">msgbuf</code>. If <code class="codeph">buflen</code> is zero, then the message is copied into a message buffer inside the message handle pointed to by <code class="codeph">msgh</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Returns</p>
<p>It returns the pointer to the <code class="codeph">NULL</code>-terminated message string. If the translated message cannot be found, then it tries to return the equivalent English message. If the equivalent English message cannot be found, then it returns a <code class="codeph">NULL</code> pointer.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17693"></a>
<div class="props_rev_3"><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8"></a>
<h2 id="LNOCI-GUID-94320321-ABD7-4FF1-9387-398490AE91C8" class="sect2">OCIMessageOpen()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Opens a message-handling facility in a specified language.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIMessageOpen ( void             *hndl, 
                       OCIError         *errhp, 
                       OCIMsg           *msghp, 
                       const OraText    *product, 
                       const OraText    *facility, 
                       OCIDuration      dur );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76347"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-F91F7F61-863E-4D3F-87F4-3BA64B41F589"><!-- --></a>hndl (IN/OUT)</dt>
<dd>
<p>Pointer to an OCI environment or user session handle for the message language.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76348"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-F21055AF-D116-4A76-A81D-EF6D090207E0"><!-- --></a>errhp (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, then it is recorded in <code class="codeph">errhp</code>, and the function returns a <code class="codeph">NULL</code> pointer. Diagnostic information can be obtained by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76349"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-A8DFE542-AB65-4349-AC92-0700C06B257B"><!-- --></a>msghp (OUT)</dt>
<dd>
<p>A message handle for return.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76350"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-2BAB9D05-6929-452D-82D9-0B8947C7D601"><!-- --></a>product (IN)</dt>
<dd>
<p>A pointer to a product name. The product name is used to locate the directory for messages. Its location depends on the operating system. For example, in Solaris, the directory of message files for the <code class="codeph">rdbms</code> product is <code class="codeph">$ORACLE_HOME/rdbms</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76351"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-DDC8C598-2B10-42DE-9B2B-F7FB088EDEC1"><!-- --></a>facility (IN)</dt>
<dd>
<p>A pointer to a facility name in the product. It is used to construct a message file name. A message file name follows the conversion with <code class="codeph">facility</code> as prefix. For example, the message file name for the <code class="codeph">img</code> facility in the American language is <code class="codeph">imgus.msb</code>, where <code class="codeph">us</code> is the abbreviation for the American language and <code class="codeph">msb</code> is the message binary file extension.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-76352"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-94320321-ABD7-4FF1-9387-398490AE91C8__GUID-3B93D572-9FE6-40EE-8A49-A7CBA2629DCD"><!-- --></a>dur (IN)</dt>
<dd>
<p>The duration for memory allocation for the return message handle. It can have the following values:</p>
</dd>
</dl>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">OCI_DURATION_PROCESS</code></p>
</li>
<li>
<p><code class="codeph">OCI_DURATION_SESSION</code></p>
</li>
<li>
<p><code class="codeph">OCI_DURATION_STATEMENT</code></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p><code class="codeph">OCIMessageOpen()</code> first tries to open the message file corresponding to <code class="codeph">hndl</code>. If it succeeds, then it uses that file to initialize a message handle. If it cannot find the message file that corresponds to the language, then it looks for a primary language file as a fallback. For example, if the Latin American Spanish file is not found, then it tries to open the Spanish file. If the fallback fails, then it uses the default message file, whose language is <code class="codeph">AMERICAN</code>. The function returns a pointer to a message handle into the <code class="codeph">msghp</code> parameter.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Returns</p>
<p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6150">
<tr>
<td class="cellalignment6162">
<table class="cellalignment6155">
<tr>
<td class="cellalignment6154"><a href="oci22glb005.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6154"><a href="oci23xml.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6164">
<table class="cellalignment6153">
<tr>
<td class="cellalignment6154"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6154"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6154"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6154"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6154"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6154"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
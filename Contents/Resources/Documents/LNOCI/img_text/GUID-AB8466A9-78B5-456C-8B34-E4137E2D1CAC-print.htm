<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<meta name="generator" content="DITA Open Toolkit version 1.8.5"/>
<a class="dashingAutolink" name="autolink-73960"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Description%20of%20the%20illustration%20lnoci026.eps"></a><title>Description of the illustration lnoci026.eps</title>
<link rel="stylesheet" href="../../dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css"/>
</head>
<body>
<div>
<p>This illustration shows how the piecewise fetch process works. The illustration shows a center row of stacked rectangular shaped boxes. The top box is labelled &ldquo;execute statement OCISTMTExecute()&rdquo; and indicates this API initializes the OCI environment, allocates necessary handles, connects to a database, authorizes a user, prepares a statement, and executes the statement. A downward arrow from that box points to a box labelled &ldquo;define OCIDefineByPos()&rdquo; indicating you call OCIDefineByPos() to define an output variable with mode set to OCI_DYNAMIC_FETCH. At this point you do not need to specify the actual size of the pieces you use, but you must provide the total size of the data that is to be fetched at run time. A downward arrow points from that box to a box labelled &ldquo;Fetch OCIStmtFetch()&rdquo; indicating you call OCIStmtFetch2() for the first time. A box to the left is labelled &ldquo;get piece info OCIStmtGetPieceInfo()&rdquo; indicating if no data is retrieved and the OCI_NEED_DATA error code is returned to the application, call OCIStmtGetPieceInfo(); otherwise, if any other value is returned, then an error occurred. An upward arrorw pointing from that box to a box labelled &ldquo;set piece info OCIStmtSetPieceInfo()&rdquo; indicates you call OCIStmtSetPieceInfo() to obtain information about the piece to be fetched. The piecep parameter indicates whether it is the first piece (OCI_FIRST_PIECE), a subsequent piece (OCI_NEXT_PIECE), or the last piece (OCI_LAST_PIECE). Call OCIStmtSetPieceInfo() to specify the fetch buffer. An arrow pointing to the right of that box to the box labelled &ldquo;Fetch OCIStmtFetch()&rdquo; indicates you call OCIStmtFetch2() again to retrieve the actual piece. If OCIStmtFetch2() returns OCI_SUCCESS, all the pieces have been fetched successfully. If OCIStmtFetch2() returns OCI_NEED_DATA, then call OCIStmtGetPieceInfo() to process the next piece. If any other value is returned, an error occurred.</p>
</div>
<div class="footer"><img class="copyrightlogo" src="../../dcommon/gifs/oracle.gif" alt="Oracle Logo"/> <a href="../../dcommon/html/cpyr.htm"><br/>
<span class="copyrightlogo">Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span></a></div>


</body></html>
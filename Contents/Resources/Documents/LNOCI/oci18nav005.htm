<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-75196"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/OCI%20Pin%2C%20Unpin%2C%20and%20Free%20Functions"></a><title>OCI Pin, Unpin, and Free Functions</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="OCICacheFree(), OCICacheUnpin(), OCIObjectArrayPin(), OCIObjectFree(), OCIObjectPin(), OCI_DURATION_DEFAULT, OCILockOpt, possible values, OCIObjectPinCountReset(), OCIObjectPinTable(), OCIObjectUnpin()"/>
<meta name="dcterms.created" content="2017-06-09T09:07:30Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Call Interface Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49886-11"/>
<meta name="dcterms.isVersionOf" content="LNOCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="oci18nav004.htm" title="Previous" type="text/html"/>
<link rel="Next" href="oci18nav006.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49886-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814"></a> <span id="PAGE" style="display:none;">40/84</span> <!-- End Header -->
<a id="LNOCI17346"></a><a id="LNOCI175"></a>
<h1 id="LNOCI-GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814" class="sect1">OCI Pin, Unpin, and Free Functions</h1>
<div>
<div class="section">
<p><a href="oci18nav005.htm#GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814__CACHCHHC" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 18-10</a> describes the OCI pin, unpin, and free functions that are described in this section.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-7BE070A9-22CD-4D0E-ABC2-F7BB5E6CA814__CACHCHHC">
<p class="titleintable">Table 18-10 Pin, Unpin, and Free Functions</p>
<table class="cellalignment6157" title="Pin, Unpin, and Free Functions" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">
<thead>
<tr class="cellalignment6151">
<th class="cellalignment6192" id="d227892e163">Function</th>
<th class="cellalignment6233" id="d227892e166">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e171" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB">OCICacheFree()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e171 d227892e166">
<p>Free objects in the cache</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e181" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" title="Unpins persistent objects.">OCICacheUnpin()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e181 d227892e166">
<p>Unpin persistent objects in cache or connection</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e194" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9">OCIObjectArrayPin()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e194 d227892e166">
<p>Pin an array of references</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e204" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744">OCIObjectFree()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e204 d227892e166">
<p>Free a previously allocated object</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e214" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e214 d227892e166">
<p>Pin an object</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e227" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="Completely unpins an object, setting its pin count to zero.">OCIObjectPinCountReset()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e227 d227892e166">
<p>Unpin an object to zero pin count</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e240" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8">OCIObjectPinTable()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e240 d227892e166">
<p>Pin a table object with a given duration</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6193" id="d227892e250" headers="d227892e163">
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-109DD260-8094-489C-A85C-AB27277E6D9B">OCIObjectUnpin()</a>&#34;</span></p>
</td>
<td class="cellalignment6234" headers="d227892e250 d227892e166">
<p>Unpin an object</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="LNOCI17347"></a>
<div class="props_rev_3"><a id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB"></a>
<h2 id="LNOCI-GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB" class="sect2">OCICacheFree()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Frees all objects and values in the cache for the specified connection.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCICacheFree ( OCIEnv              *env,
                     OCIError            *err, 
                     const OCISvcCtx     *svc ); 
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75140"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-26EAE736-B55F-4095-AD8B-04A3A9D9E531"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <a href="oci16rel001.htm#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a>, <a href="oci16rel001.htm#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a>, and <a href="ociaedep001.htm#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75141"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-BDBEEC20-1C2F-4F3E-BFDC-8A7A2F23BB0E"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75142"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-A28CF077-9ED8-4652-88C0-6968735203D6"><!-- --></a>svc (IN)</dt>
<dd>
<p>An OCI service context.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>If a connection is specified, this function frees the persistent objects, transient objects and values allocated for that connection. Otherwise, all persistent objects, transient objects and values in the object cache are freed. Objects are freed regardless of their pin count.</p>
<div class="infoboxnotealso" id="GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB__GUID-622CA05C-794E-4CAB-8528-97D4EB88B146">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744">OCIObjectFree()</a>&#34;</span> for more information about freeing an instance</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Functions</p>
<p><a href="oci18nav005.htm#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744">OCIObjectFree()</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17348"></a>
<div class="props_rev_3"><a id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF"></a>
<h2 id="LNOCI-GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF" class="sect2">OCICacheUnpin()</h2>
<div>
<p>Unpins persistent objects.</p>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Unpins persistent objects.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCICacheUnpin ( OCIEnv              *env,
                      OCIError            *err, 
                      const OCISvcCtx     *svc );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75143"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-D952DC6C-B1FE-429E-839F-63592D29FAF8"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75144"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-99B3ABF3-8985-432E-8CD2-CB90FA5B59DF"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75145"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B7E9C0B8-7888-456E-A8F1-1151354C37BF__GUID-CED71E0A-EA02-4320-912A-DAC54A8C7352"><!-- --></a>svc (IN)</dt>
<dd>
<p>An OCI service context handle. The objects on the specified connection are unpinned.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>This function completely unpins all of the persistent objects for the given connection. The pin count for the objects is reset to zero.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17349"></a>
<div class="props_rev_3"><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9"></a>
<h2 id="LNOCI-GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9" class="sect2">OCIObjectArrayPin()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Pins an array of references.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIObjectArrayPin ( OCIEnv            *env, 
                          OCIError          *err, 
                          OCIRef            **ref_array, 
                          ub4               array_size,
                          OCIComplexObject  **cor_array,
                          ub4               cor_array_size, 
                          OCIPinOpt         pin_option, 
                          OCIDuration       pin_duration,
                          OCILockOpt        lock, 
                          void              **obj_array,
                          ub4               *pos );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75146"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-48905952-EF21-41E3-ACF5-2495BCBB1684"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <a href="oci16rel001.htm#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a>, <a href="oci16rel001.htm#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a>, and <a href="ociaedep001.htm#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75147"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-A60BAE11-50E9-4209-B95D-C0F351E0809E"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75148"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-E4B6E656-FC4A-46E4-B8F7-D5E0D022A55E"><!-- --></a>ref_array (IN)</dt>
<dd>
<p>Array of references to be pinned.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75149"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D40E939B-2009-4ACA-9352-3F8398E46E19"><!-- --></a>array_size (IN)</dt>
<dd>
<p>Number of elements in the array of references.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75150"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D823A2FB-0198-4062-84C2-4817C2CF26A6"><!-- --></a>cor_array</dt>
<dd>
<p>An array of COR handles corresponding to the objects being pinned.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75151"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D7F61C53-713D-4D32-986E-6768D3D9F536"><!-- --></a>cor_array_size</dt>
<dd>
<p>The number of elements in <code class="codeph">cor_array</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75152"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-01657E68-A7A5-4AE5-91A5-2B0A27952C93"><!-- --></a>pin_option (IN)</dt>
<dd>
<p>Pin option.</p>
<div class="infoboxnotealso" id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-BB590732-D44E-41E7-A8AB-1BEB67B2B9E0">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a>&#34;</span></p>
</div>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75153"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-D00C12A7-62E4-4350-9AF9-756B7EAEA226"><!-- --></a>pin_duration (IN)</dt>
<dd>
<p>Pin duration. See <code class="codeph">OCIObjectPin()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75154"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-7D71FCDB-4070-4BE6-AB0F-E311E3D378B7"><!-- --></a>lock (IN)</dt>
<dd>
<p>Lock option. See <code class="codeph">OCIObjectPin()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75155"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-AF22815D-31BF-44CB-AC2B-AEBCFD7B45C9"><!-- --></a>obj_array (OUT)</dt>
<dd>
<p>If this argument is not <code class="codeph">NULL</code>, the pinned objects are returned in the array. The user must allocate this array with the element type being <code class="codeph">void *</code>. The size of this array is identical to <code class="codeph">array_size</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75156"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-2629C6C3-5299-4E92-BA58-804809CFF8B9__GUID-C87758BE-410E-4D50-B9C4-7619E31A42C9"><!-- --></a>pos (OUT)</dt>
<dd>
<p>If there is an error, this argument indicates the element that is causing the error. Note that this argument is set to 1 for the first element in the <code class="codeph">ref_array</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>All the pinned objects are retrieved from the database in one network round-trip. If the user specifies an output array (<code class="codeph">obj_array</code>), then the address of the pinned objects are assigned to the elements in the array.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Functions</p>
<p><a href="oci18nav005.htm#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17350"></a>
<div class="props_rev_3"><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744"></a>
<h2 id="LNOCI-GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" class="sect2">OCIObjectFree()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Frees and unpins an object instance.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIObjectFree ( OCIEnv          *env, 
                      OCIError        *err, 
                      void            *instance, 
                      ub2             flags );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75157"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-7F5E0F3E-B9A8-4F96-B79F-AD8F3CA7A418"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <a href="oci16rel001.htm#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a>, <a href="oci16rel001.htm#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a>, and <a href="ociaedep001.htm#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75158"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-90041A02-C90E-49D0-9EAF-0206A21F9F48"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75159"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-F472BF5F-DD2A-49BC-A80C-3AF3C53C61C7"><!-- --></a>instance (IN)</dt>
<dd>
<p>Pointer to a standalone instance. If it is an object, it must be pinned.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75160"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-01C110E5-E772-4A41-B6FB-5DA9A63CFE69"><!-- --></a>flags (IN)</dt>
<dd>
<p>If <code class="codeph">OCI_OBJECTFREE_FORCE</code> is passed, free the object even if it is pinned or dirty. If <code class="codeph">OCI_OBJECTFREE_NONULL</code> is passed, the <code class="codeph">NULL</code> structure is not freed.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>This function deallocates all the memory allocated for an object instance, including the <code class="codeph">NULL</code> structure. The following rules apply to different instance types:</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75161"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-FFD0867F-CF39-433A-8172-DB40026C6349"><!-- --></a>For Persistent Objects</dt>
<dd>
<p>This function returns an error if the client is attempting to free a dirty persistent object that has not been flushed. The client should either flush the persistent object, unmark it, or set the parameter <code class="codeph">flags</code> to <code class="codeph">OCI_OBJECTFREE_FORCE</code>.</p>
<p>This function calls <code class="codeph">OCIObjectUnpin()</code> once to check if the object can be completely unpinned. If it succeeds, the rest of the function proceeds to free the object. If it fails, then an error is returned unless the parameter <code class="codeph">flags</code> is set to <code class="codeph">OCI_OBJECTFREE_FORCE</code>.</p>
<p>Freeing a persistent object in memory does not change the persistent state of that object at the server. For example, the object remains locked after the object is freed.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75162"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-F7560342-DC7A-40B2-A7FE-F86257ED9120"><!-- --></a>For Transient Objects</dt>
<dd>
<p>This function calls <code class="codeph">OCIObjectUnpin()</code> once to check if the object can be completely unpinned. If it succeeds, the rest of the function proceeds to free the object. If it fails, then an error is returned unless the parameter <code class="codeph">flags</code> is set to <code class="codeph">OCI_OBJECTFREE_FORCE</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75163"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744__GUID-5700BA50-450C-41FF-99A1-5ECAAE9FB7A5"><!-- --></a>For Values</dt>
<dd>
<p>The memory of the object is freed immediately.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Functions</p>
<p><a href="oci18nav005.htm#GUID-7CEF4ED9-E920-4F1F-9AFD-51C1EDB07EDB">OCICacheFree()</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17351"></a>
<div class="props_rev_3"><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62"></a>
<h2 id="LNOCI-GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" class="sect2">OCIObjectPin()</h2>
<div>
<p>Pins a referenceable object.</p>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Pins a referenceable object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIObjectPin ( OCIEnv              *env, 
                     OCIError            *err, 
                     OCIRef              *object_ref,
                     OCIComplexObject    *corhdl,
                     OCIPinOpt            pin_option, 
                     OCIDuration          pin_duration, 
                     OCILockOpt           lock_option,
                     void               **object );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75164"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-86EF6F94-F6ED-4517-8B27-9D058AD6B008"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75165"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-99D265E9-5606-4141-9E24-3C3254219072"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75166"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-5749E31A-06F1-4D47-ADEC-DDEACA7EE8BD"><!-- --></a>object_ref (IN)</dt>
<dd>
<p>The reference to the object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75167"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-4CEDDC68-0DCB-41AC-8F6C-AED3D2A9E299"><!-- --></a>corhdl (IN)</dt>
<dd>
<p>Handle for complex object retrieval.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75168"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-28C0C218-94C6-451A-A0C1-55D5D41969C2"><!-- --></a>pin_option (IN)</dt>
<dd>
<p>Used to specify the copy of the object that is to be retrieved.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75169"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-B07F5211-9D61-464B-8D79-3540D2DAE45D"><!-- --></a>pin_duration (IN)</dt>
<dd>
<p>The duration during which the object is being accessed by a client. The object is implicitly unpinned at the end of the pin duration. If <code class="codeph">OCI_DURATION_NULL</code> is passed, there is no pin promotion if the object is already loaded into the cache. If the object is not yet loaded, then the pin duration is set to <code class="codeph">OCI_DURATION_DEFAULT</code> for <code class="codeph">OCI_DURATION_NULL</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75170"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-56CE1274-450B-4E16-82E9-682849ECAC69"><!-- --></a>lock_option (IN)</dt>
<dd>
<p>Lock option (for example, exclusive). If a lock option is specified, the object is locked in the server. The lock status of an object can also be retrieved by calling <code class="codeph">OCIObjectIsLocked()</code>. Valid values include:</p>
</dd>
</dl>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">OCI_LOCK_NONE</code> (no lock)</p>
</li>
<li>
<p><code class="codeph">OCI_LOCK_X</code> (exclusive lock)</p>
</li>
<li>
<p><code class="codeph">OCI_LOCK_X_NOWAIT</code> (exclusive lock with the <code class="codeph">NOWAIT</code> option)</p>
<div class="infoboxnotealso" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-B15FCE68-F9EB-440B-970C-05753CF0FEFC">
<p class="notep1">See Also:</p>
<p><a href="oci14oca.htm#GUID-05B2D3AC-0677-4C38-9350-875820048948">About Locking with the NOWAIT Option</a></p>
</div>
</li>
</ul>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75171"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-4A56A34E-13EB-4FE0-8FFD-E9EB1BCA1A19"><!-- --></a>object (OUT)</dt>
<dd>
<p>The pointer to the pinned object.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>This function pins a referenceable object instance when given the object reference. The process of pinning serves two purposes:</p>
<ul style="list-style-type: disc;">
<li>
<p>It locates an object given its reference. This is done by the object cache that keeps track of the objects in the object cache.</p>
</li>
<li>
<p>It notifies the object cache that a persistent object is being used such that the persistent object cannot be aged out. Because a persistent object can be loaded from the server whenever is needed, the memory utilization can be increased if a completely unpinned persistent object can be freed (aged out) even before the allocation duration is expired. An object can be pinned many times. A pinned object remains in memory until it is completely unpinned.</p>
<div class="infoboxnotealso" id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-0F775C68-D791-4776-B806-DA8908B9800A">
<p class="notep1">See Also:</p>
<p><code class="codeph">OCIObjectUnpin()</code></p>
</div>
</li>
</ul>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75172"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-4FEBF7B2-7502-46F1-83F1-4294309E04E4"><!-- --></a>For Persistent Objects</dt>
<dd>
<p>When pinning a persistent object, if it is not in the cache, the object is fetched from the persistent store. The allocation duration of the object is session. If the object is already in the cache, it is returned to the client. The object is locked in the server if a lock option is specified.</p>
<p>This function returns an error for a nonexistent object.</p>
<p>A pin option is used to specify the copy of the object that is to be retrieved:</p>
</dd>
</dl>
<ul style="list-style-type: disc;">
<li>
<p>If <code class="codeph">pin_option</code> is <code class="codeph">OCI_PIN_ANY</code> (pin any), then if the object is already in the object cache, return this object. Otherwise, the object is retrieved from the database. In this case, it is the same as <code class="codeph">OCI_PIN_LATEST</code>. This option is useful when the client knows that he has the exclusive access to the data in a session.</p>
</li>
<li>
<p>If <code class="codeph">pin_option</code> is <code class="codeph">OCI_PIN_LATEST</code> (pin latest), if the object is not locked, it is retrieved from the database. If the object is cached, it is refreshed with the latest version. See <code class="codeph">OCIObjectRefresh()</code> for more information about refreshing. If the object is already pinned in the cache and marked dirty, then a pointer to that object is returned. The object is not refreshed from the database.</p>
</li>
<li>
<p>If <code class="codeph">pin_option</code> is <code class="codeph">OCI_PIN_RECENT</code> (pin recent), if the object is loaded into the cache in the current transaction, the object is returned. If the object is not loaded in the current transaction, the object is refreshed from the server.</p>
</li>
</ul>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75173"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62__GUID-B91BB3A1-0DA1-43F1-A173-607FDFABD111"><!-- --></a>For Transient Objects</dt>
<dd>
<p>This function returns an error if the transient object has already been freed. This function does not return an error if an exclusive lock is specified in the lock option.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17352"></a>
<div class="props_rev_3"><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3"></a>
<h2 id="LNOCI-GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" class="sect2">OCIObjectPinCountReset()</h2>
<div>
<p>Completely unpins an object, setting its pin count to zero.</p>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Completely unpins an object, setting its pin count to zero.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIObjectPinCountReset ( OCIEnv        *env, 
                               OCIError      *err, 
                               void          *object );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75174"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-0E27A2E8-AB9F-4DFF-80E3-2FD6ED739545"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>, and <code class="codeph">OCIInitialize()</code> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75175"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-7A2CD903-9F23-4096-B56E-A4475827012D"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <code class="codeph">OCIErrorGet()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75176"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-2F80061D-4400-4554-9026-955322EBA400"><!-- --></a>object (IN)</dt>
<dd>
<p>A pointer to an object, which must already be pinned.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>This function completely unpins an object, setting its pin count to zero. When an object is completely unpinned, it can be freed implicitly by the OCI at any time without error. The following rules apply to specific object types:</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75177"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-CBC5C6F0-197C-4D0C-AE31-4604B9C2135F"><!-- --></a>For Persistent Objects</dt>
<dd>
<p>When a persistent object is completely unpinned, it becomes a candidate for aging. The memory of an object is freed when it is aged out. Aging is used to maximize the utilization of memory. A dirty object cannot be aged out unless it is flushed.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75178"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-7F4E16A1-A057-42BB-B39A-4249EB361D78"><!-- --></a>For Transient Objects</dt>
<dd>
<p>The pin count of the object is decremented. A transient object can be freed only at the end of its allocation duration or when it is explicitly freed by calling <code class="codeph">OCIObjectFree()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75179"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3__GUID-9D906295-5CF0-48D6-B9F9-0E7B6543828B"><!-- --></a>For Values</dt>
<dd>
<p>This function returns an error for value.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17353"></a>
<div class="props_rev_3"><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8"></a>
<h2 id="LNOCI-GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8" class="sect2">OCIObjectPinTable()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Pins a table object for a specified duration.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIObjectPinTable ( OCIEnv             *env, 
                          OCIError           *err, 
                          const OCISvcCtx    *svc, 
                          const OraText      *schema_name,
                          ub4                s_n_length, 
                          const OraText      *object_name, 
                          ub4                o_n_length, 
                          const OCIRef       *scope_obj_ref, 
                          OCIDuration        pin_duration, 
                          void               **object );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75180"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-2E5B0FB1-9CF8-4A53-A7D5-4B1FB0D1AA42"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <a href="oci16rel001.htm#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a>, <a href="oci16rel001.htm#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a>, and <a href="ociaedep001.htm#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75181"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-7BFDE573-E77E-4582-8D30-5D2D9C040416"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75182"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-853BAFFD-24B2-466B-B869-39CE3C2A0742"><!-- --></a>svc (IN)</dt>
<dd>
<p>The OCI service context handle.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75183"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-3067A6FE-3399-42AC-B51B-B1F292AA4E4A"><!-- --></a>schema_name (IN) [optional]</dt>
<dd>
<p>The schema name of the table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75184"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-63227713-B710-480E-9620-7404D23C6158"><!-- --></a>s_n_length (IN) [optional]</dt>
<dd>
<p>The length of the schema name indicated in <code class="codeph">schema_name</code>, in bytes.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75185"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-F3CBC07C-AAAF-4D6D-849D-0C8C792EA3AB"><!-- --></a>object_name (IN)</dt>
<dd>
<p>The name of the table.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75186"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-72A46449-8794-478E-AF4A-8FF5AD9F2000"><!-- --></a>o_n_length (IN)</dt>
<dd>
<p>The length of the table name specified in <code class="codeph">object_name</code>, in bytes.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75187"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-F058A271-0AB4-4810-9572-FF1818677F42"><!-- --></a>scope_obj_ref (IN) [optional]</dt>
<dd>
<p>The reference of the scoping object.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75188"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-F089FC44-EEF1-4806-BE36-FB55BDE61E1D"><!-- --></a>pin_duration (IN)</dt>
<dd>
<p>The pin duration.</p>
<div class="infoboxnotealso" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-1F4EC52C-024E-4F50-B9DF-0585A57648BE">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="oci18nav005.htm#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a>&#34;</span></p>
</div>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75189"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-EF5D393B-A084-459F-B847-FA6405D49950"><!-- --></a>object (OUT)</dt>
<dd>
<p>The pinned table object.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>This function pins a table object with the specified pin duration. The client can unpin the object by calling <a href="oci18nav005.htm#GUID-109DD260-8094-489C-A85C-AB27277E6D9B">OCIObjectUnpin()</a>.</p>
<p>The table object pinned by this call can be passed as a parameter to <a href="oci18nav004.htm#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a> to create a standalone persistent object.</p>
<div class="infobox-note" id="GUID-B08E296D-7D4F-4D8C-A0CF-16786E9993E8__GUID-E3E4084F-D9E0-47E2-BB48-EFE529AF8C91">
<p class="notep1">Note:</p>
<p>The TDO (array of TDOs or table definition) obtained by this function belongs to the logical partition of the cache corresponding to the service handle (connection) passed in. If TDOs or tables are used across logical partitions, then the behavior is not known and may change between releases.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Functions</p>
<p><a href="oci18nav005.htm#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a>, <a href="oci18nav005.htm#GUID-109DD260-8094-489C-A85C-AB27277E6D9B">OCIObjectUnpin()</a></p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI17354"></a>
<div class="props_rev_3"><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B"></a>
<h2 id="LNOCI-GUID-109DD260-8094-489C-A85C-AB27277E6D9B" class="sect2">OCIObjectUnpin()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Unpins an object.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIObjectUnpin ( OCIEnv        *env,
                       OCIError      *err, 
                       void          *object );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75190"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-9CC57F1C-DA10-42FC-A6A8-20F89314EC7A"><!-- --></a>env (IN/OUT)</dt>
<dd>
<p>The OCI environment handle initialized in object mode. See the descriptions of <a href="oci16rel001.htm#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a>, <a href="oci16rel001.htm#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a>, and <a href="ociaedep001.htm#GUID-F50356A8-450D-4A96-8AB5-5726502766B2" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIInitialize()</a> (deprecated) for more information.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75191"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-149500A7-2D7C-4F8C-BE34-1ED18382A0DC"><!-- --></a>err (IN/OUT)</dt>
<dd>
<p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Obtain diagnostic information by calling <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75192"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-8BC56F13-82AA-40BE-AF70-2A16E376FF52"><!-- --></a>object (IN)</dt>
<dd>
<p>A pointer to an object, which must already be pinned.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>There is a pin count associated with each object, which is incremented whenever an object is pinned. When the pin count of the object is zero, the object is said to be completely unpinned. An unpinned object can be freed implicitly by OCI at any time without error.</p>
<p>This function unpins an object. An object is completely unpinned when any of the following is true:</p>
<ul style="list-style-type: disc;">
<li>
<p>The object&#39;s pin count reaches zero (that is, it is unpinned a total of <span class="italic">n</span> times after being pinned a total of <span class="italic">n</span> times).</p>
</li>
<li>
<p>It is the end of the object&#39;s pin duration.</p>
</li>
<li>
<p>The function <code class="codeph">OCIObjectPinCountReset()</code> is called on the object.</p>
</li>
</ul>
<p>When an object is completely unpinned, it can be freed implicitly by OCI at any time without error.</p>
<p>The following rules apply to unpinning different types of objects:</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75193"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-075FF6E9-8AEB-4B9E-81E8-D3FB4C0A5F33"><!-- --></a>For Persistent Objects</dt>
<dd>
<p>When a persistent object is completely unpinned, it becomes a candidate for aging. The memory of an object is freed when it is aged out. Aging is used to maximize the utilization of memory. A dirty object cannot be aged out unless it is flushed.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75194"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-8AAAB867-8805-4ED2-B205-1782D6144404"><!-- --></a>For Transient Objects</dt>
<dd>
<p>The pin count of the object is decremented. A transient object can be freed only at the end of its allocation duration or when it is explicitly deleted by calling <code class="codeph">OCIObjectFree()</code>.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-75195"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-109DD260-8094-489C-A85C-AB27277E6D9B__GUID-CB4A2D8A-80B3-40BB-8089-CF781B3BDDBD"><!-- --></a>For Values</dt>
<dd>
<p>This function returns an error for values.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Functions</p>
<p><a href="oci18nav005.htm#GUID-89F29585-2F16-4FA3-B1E0-BDD83707CA62" title="Pins a referenceable object.">OCIObjectPin()</a>, <a href="oci18nav005.htm#GUID-5D8C7FE3-8088-4A1C-8C36-19D0982FCAC3" title="Completely unpins an object, setting its pin count to zero.">OCIObjectPinCountReset()</a></p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6150">
<tr>
<td class="cellalignment6162">
<table class="cellalignment6155">
<tr>
<td class="cellalignment6154"><a href="oci18nav004.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6154"><a href="oci18nav006.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6164">
<table class="cellalignment6153">
<tr>
<td class="cellalignment6154"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6154"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6154"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6154"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6154"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6154"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
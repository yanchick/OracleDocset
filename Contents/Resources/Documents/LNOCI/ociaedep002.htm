<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-77695"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Deprecated%20Statement%20Functions"></a><title>Deprecated Statement Functions</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Describes the deprecated statement functions."/>
<meta name="keywords" content="OCIStmtFetch(), OCIStmtPrepare()"/>
<meta name="dcterms.created" content="2017-06-09T09:07:30Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Call Interface Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49886-11"/>
<meta name="dcterms.isVersionOf" content="LNOCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ociaedep001.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ociaedep003.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49886-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC"></a> <span id="PAGE" style="display:none;">80/84</span> <!-- End Header -->
<a id="LNOCI72894"></a><a id="LNOCI72893"></a>
<h1 id="LNOCI-GUID-B89BE635-C46B-42CB-961A-E383D9D644CC" class="sect1">Deprecated Statement Functions</h1>
<div>
<p>Describes the deprecated statement functions.</p>
<p><a href="ociaedep002.htm#GUID-B89BE635-C46B-42CB-961A-E383D9D644CC__CEGHGEGJ" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table E-3</a> lists the deprecated Statement functions that are described in this section.</p>
<div class="tblformal" id="GUID-B89BE635-C46B-42CB-961A-E383D9D644CC__CEGHGEGJ">
<p class="titleintable">Table E-3 Deprecated Statement Functions</p>
<table class="cellalignment6175" title="Deprecated Statement Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">
<thead>
<tr class="cellalignment6151">
<th class="cellalignment6176" id="d340822e164">Function</th>
<th class="cellalignment6280" id="d340822e167">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6151">
<td class="cellalignment6179" id="d340822e172" headers="d340822e164">
<p><a href="ociaedep002.htm#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="This function was deprecated in a release previous to Oracle 11g R2 (11.2).">OCIStmtFetch()</a></p>
</td>
<td class="cellalignment6281" headers="d340822e172 d340822e167">
<p>Fetch rows from a query.</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6179" id="d340822e186" headers="d340822e164">
<p><a href="ociaedep002.htm#GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA">OCIStmtPrepare()</a></p>
</td>
<td class="cellalignment6281" headers="d340822e186 d340822e167">
<p>Prepares a SQL or PL/SQL statement for execution.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<a id="LNOCI17164"></a>
<div class="props_rev_3"><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85"></a>
<h2 id="LNOCI-GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" class="sect2">OCIStmtFetch()</h2>
<div>
<p>This function was deprecated in a release previous to Oracle 11<span class="italic">g</span> R2 (11.2).</p>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Fetches rows from a query. This function is deprecated. Use <a href="oci17msc001.htm#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIStmtFetch ( OCIStmt     *stmtp,
                     OCIError    *errhp, 
                     ub4          nrows,
                     ub2          orientation,
                     ub4          mode );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77684"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-4D8D12FF-A771-444D-8647-7C61CE263267"><!-- --></a><span class="bold">stmtp</span> (IN)</dt>
<dd>
<p>A statement (application request) handle.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77685"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-130E23DF-A8C1-4E1F-A965-33FF6C699EB3"><!-- --></a><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77686"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-3B901D05-6BE5-4A09-AD2A-175FD8AA33A2"><!-- --></a><span class="bold">nrows</span> (IN)</dt>
<dd>
<p>Number of rows to be fetched from the current position.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77687"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-6C0BB28F-E28A-4C55-B702-9F2571BB554A"><!-- --></a><span class="bold">orientation</span> (IN)</dt>
<dd>
<p>Before release 9.0, the only acceptable value is <code class="codeph">OCI_FETCH_NEXT</code>, which is also the default value.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77688"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85__GUID-00086FA8-F270-44C0-9982-6E53CED19DEA"><!-- --></a><span class="bold">mode</span> (IN)</dt>
<dd>
<p>Pass as <code class="codeph">OCI_DEFAULT</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>The fetch call is a local call, if prefetched rows suffice. However, this is transparent to the application.</p>
<p>If LOB columns are being read, LOB locators are fetched for subsequent LOB operations to be performed on these locators. Prefetching is turned off if <code class="codeph">LONG</code> columns are involved.</p>
<p>This function can return <code class="codeph">OCI_NO_DATA</code> on <code class="codeph">EOF</code> and <code class="codeph">OCI_SUCCESS_WITH_INFO</code> when one of these errors occurs:</p>
<ul style="list-style-type: disc;">
<li>
<p>ORA-24344 - Success with compilation error</p>
</li>
<li>
<p>ORA-24345 - A truncation or <code class="codeph">NULL</code> fetch error occurred</p>
</li>
<li>
<p>ORA-24347 - Warning of a <code class="codeph">NULL</code> column in an aggregate function</p>
</li>
</ul>
<p>If you call <code class="codeph">OCIStmtFetch()</code> with the <code class="codeph">nrows</code> parameter set to 0, this cancels the cursor.</p>
<p>Use <code class="codeph">OCI_ATTR_ROWS_FETCHED</code> to find the number of rows that were successfully fetched into the user&#39;s buffers in the last fetch call.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA"></a>
<h2 id="LNOCI-GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA" class="sect2">OCIStmtPrepare()</h2>
<div>
<div class="section">
<p class="subhead2">Purpose</p>
<p>Prepares a SQL or PL/SQL statement for execution.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Syntax</p>
<pre dir="ltr">sword OCIStmtPrepare ( OCIStmt       *stmtp,
                       OCIError      *errhp,
                       const OraText *stmt, 
                       ub4           stmt_len,
                       ub4           language,
                       ub4           mode );
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Parameters</p>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77689"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-5F078D22-AAA2-4D64-9A91-22A46E2D634A"><!-- --></a><span class="bold">stmtp</span> (IN)</dt>
<dd>
<p>A statement handle associated with the statement to be executed. By default, it contains the encoding setting in the environment handle from which it is derived. A statement can be prepared in UTF-16 encoding only in a UTF-16 environment.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77690"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-B6B37496-329A-448D-ACF1-2759E2698AB9"><!-- --></a><span class="bold">errhp</span> (IN)</dt>
<dd>
<p>An error handle that you can pass to <a href="oci17msc007.htm#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a> for diagnostic information when there is an error.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77691"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-E303EEB9-D02B-423D-A9D8-36A7D5FF15ED"><!-- --></a><span class="bold">stmt</span> (IN)</dt>
<dd>
<p>SQL or PL/SQL statement to be executed. Must be a <code class="codeph">NULL</code>-terminated string. That is, the ending character is a number of <code class="codeph">NULL</code> bytes, depending on the encoding. The statement must be in the encoding specified by the <code class="codeph">charset</code> parameter of a previous call to <a href="oci16rel001.htm#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a>.</p>
<p>Always cast the parameter to (<code class="codeph">text *)</code>. After a statement has been prepared in UTF-16, the character set for the bind and define buffers default to UTF-16.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77692"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-F3EB1AFD-7ECC-48CC-93B5-2E19C61B92D2"><!-- --></a><span class="bold">stmt_len</span> (IN)</dt>
<dd>
<p>Length of the statement in characters or in number of bytes, depending on the encoding. Must not be zero.</p>
</dd>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77693"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-A7CFFE3C-BBCD-4181-A145-3E907B5DDDB5"><!-- --></a><span class="bold">language</span> (IN)</dt>
<dd>
<p>Specifies V7, or native syntax. Possible values are as follows:</p>
</dd>
</dl>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">OCI_V7_SYNTAX</code> - V7 ORACLE parsing syntax.</p>
</li>
<li>
<p><code class="codeph">OCI_NTV_SYNTAX</code> - Syntax depends upon the version of the server.</p>
<p><a id="d340822e717" class="indexterm-anchor"></a><code class="codeph">OCI_FOREIGN_SYNTAX</code> - Specifies the statement to be translated according to the SQL translation profile set in the session.</p>
</li>
</ul>
<dl>
<dt class="dlterm"><a class="dashingAutolink" name="autolink-77694"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-CC79B02F-3F50-4647-B680-C6593C3BB981"><!-- --></a><span class="bold">mode</span> (IN)</dt>
<dd>
<p>Similar to the <code class="codeph">mode</code> in the <a href="oci16rel001.htm#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a> call, but this one has higher priority because it can override the &#34;naturally&#34; inherited mode setting.</p>
<p>The possible values are <code class="codeph">OCI_DEFAULT</code> (default mode) or <code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code>. The mode should be passed as <a id="d340822e749" class="indexterm-anchor"></a><code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code> when this call is made in an external procedure and implicit results need to be processed. See <span class="q">&#34;<a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" title="Beginning with Oracle Database 12c Release 1 (12.1) , PL/SQL can return results (cursors) implicitly from stored procedures and anonymous PL/SQL blocks. OCIStmtGetNextResult() is provided to retrieve and process the implicit results.">OCI Support for Implicit Results</a>&#34;</span> for more details. The statement handle <code class="codeph">stmtp</code> uses whatever is specified by its parent environment handle.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Comments</p>
<p>An OCI application uses this call to prepare a SQL or PL/SQL statement for execution. The <code class="codeph">OCIStmtPrepare()</code> call defines an application request.</p>
<p>The <code class="codeph">mode</code> parameter determines whether the statement content is encoded as UTF-16 or not. The statement length is in number of code points or in number of bytes, depending on the encoding.</p>
<p>Although the statement handle inherits the encoding setting from the parent environment handle, the <code class="codeph">mode</code> for this call can also change the encoding setting for the statement handle itself.</p>
<p>Data values for this statement initialized in subsequent bind calls are stored in a bind handle that uses settings in this statement handle as the default.</p>
<p>This call does not create an association between this statement handle and any particular server.</p>
<p>Before reexecuting a DDL statement, call this function a second time.</p>
<div class="infoboxnotealso" id="GUID-FD74B639-8B97-4A5A-BC3E-269CE59345CA__GUID-1711A735-1496-4F9F-9056-56FA24D14B86">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="oci04sql.htm#GUID-91AF021D-9FCD-4A4D-A647-2F2AB5B448B8" title="SQL and PL/SQL statements are prepared for execution by using the statement prepare call and any necessary bind calls.">About Preparing Statements</a>&#34;</span> for more information about using this call</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Related Functions</p>
<p><a href="oci16rel002.htm#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F" title="Allocates an array of descriptors.">OCIArrayDescriptorAlloc()</a>, <a href="oci17msc001.htm#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a>, <a href="oci17msc001.htm#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6150">
<tr>
<td class="cellalignment6162">
<table class="cellalignment6155">
<tr>
<td class="cellalignment6154"><a href="ociaedep001.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6154"><a href="ociaedep003.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6164">
<table class="cellalignment6153">
<tr>
<td class="cellalignment6154"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6154"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6154"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6154"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6154"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6154"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
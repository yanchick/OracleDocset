<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-73992"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/More%20OCI%20Advanced%20Topics"></a><title>More OCI Advanced Topics</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="TimesTen In-Memory Database access from OCI, continuous query notification, starting up databases, shutting down databases, databases, shutting down, starting up, administration handle, handles, administration handle, description, OCI_HTYPE_ADMIN, ROWID, implicit fetching, OCI support for implicit results, implicit results, OCI support for, client result cache, cache, client result, result cache, client statement cache auto-tuning, OCI client session feature, auto-tuning, OCI client statement cache, client auto-tuning, session features, benefits of, OCI client session features, OCI client attributes, statement_cache, auto_tune, enable, ram_threshold, memory_target, comparison of auto-tuning parameters, client session features, usage examples of client attributes, enabling and disabling, ADR base location, sqlnet.ora, controlling ADR, ADR, controlling creation, time zone files differ on client and server, pluggable databases, OCI support for, restrictions, on OCI API calls with CDBs in general, CDBs, restrictions on OCI API calls with, on OCI calls with ALTER SESSION SET CONTAINER, ALTER SESSION SET CONTAINER, restrictions on OCI calls with, OCIStmtFetch(), OCIStmtFetch2(), OCI_ATTR_CURRENT_SCHEMA, OCI_ATTR_INITIAL_CLIENT_ROLES, OCI_ATTR_EDITION, OCI_ATTR_MAX_OPEN_CURSORS, OCIAttrGet()"/>
<meta name="dcterms.created" content="2017-06-09T09:07:30Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Call Interface Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49886-11"/>
<meta name="dcterms.isVersionOf" content="LNOCI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="oci09adv.htm" title="Previous" type="text/html"/>
<link rel="Next" href="oci11obj.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49886-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2"></a> <span id="PAGE" style="display:none;">17/84</span> <!-- End Header -->
<script>
//<![CDATA[
window.name='oci10new'
//]]>
</script> <script>
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" ><head><title>');
   
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript><a id="LNOCI73039"></a><a id="LNOCI092"></a>
<h1 id="LNOCI-GUID-DF9CF68A-3F33-4CB6-B192-4480359FBFE2" class="sect1"><span class="enumeration_chapter">10</span> More OCI Advanced Topics</h1>
<div>
<p>You can use OCI to access Oracle TimesTen In-Memory Database and Oracle TimesTen Application-Tier Database Cache. See <a class="olink TTCDV190" target="_blank" href="../TTCDV/oci.htm#TTCDV190"><span><cite>Oracle TimesTen In-Memory Database C Developers Guide</cite></span></a> for information about Times Ten support for Oracle Call Interface.</p>
<div class="section">
<p class="subhead1">Topics</p>
</div>
<!-- class="section" -->
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-B13C9A54-AAA5-48C2-994D-6997EF0BE8E5">Continuous Query Notification</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6" title="Describes topics about database startup and shutdown.">Database Startup and Shutdown</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" title="This section describes the following topics:">Implicit Fetching of ROWIDs</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" title="Beginning with Oracle Database 12c Release 1 (12.1) , PL/SQL can return results (cursors) implicitly from stored procedures and anonymous PL/SQL blocks. OCIStmtGetNextResult() is provided to retrieve and process the implicit results.">OCI Support for Implicit Results</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-F8BAB50F-7D21-43C0-846D-416D34429117" title="OCI applications can use client memory to take advantage of the OCI result cache to improve response times of repeated queries.">Client Result Cache</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" title="Describes topics about client statement cache auto-tuning.">Client Statement Cache Auto-Tuning</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" title="Describes the OCI client-side deployment parameters using oraaccess.xml.">OCI Client-Side Deployment Parameters Using oraaccess.xml</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" title="Describes how the location of the ADR base is determined.">Fault Diagnosability in OCI</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-AB481881-FE50-4617-BB45-0C817815EAA9" title="In Oracle Database Release 11.2 (or later) you can use different versions of the time zone file on the client and server; this mode of operation was not supported before Oracle database Release 11.2.">Client and Server Operating with Different Versions of Time Zone Files</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE">Support for Pluggable Databases</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22" title="XStream Out allows a remote client to attach to an outbound server (a Streams apply process) and extract row changes in the form of Logical Change Records (LCRs).To replicate non-Oracle data into Oracle databases use XStream In which allows a remote client to attach to an inbound server (a Streams apply process) and send row and DDL changes in the form of LCRs.Describes the security characteristics of XStreams.">About Using the XStream Interface</a></p>
</li>
</ul>
</div>
<a id="LNOCI73040"></a><a id="LNOCI13111"></a>
<div class="props_rev_3"><a id="GUID-B13C9A54-AAA5-48C2-994D-6997EF0BE8E5"></a>
<h2 id="LNOCI-GUID-B13C9A54-AAA5-48C2-994D-6997EF0BE8E5" class="sect2">Continuous Query Notification</h2>
<div>
<p>This section describes the following topic:<a href="oci10new.htm#GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529">About Continuous Query Notification</a>.</p>
</div>
<a id="LNOCI73041"></a>
<div class="sect3"><a id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529"></a>
<h3 id="LNOCI-GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" class="sect3">About Continuous Query Notification</h3>
<div>
<p>Continuous Query Notification (CQN) enables client applications to register queries with the database and receive notifications in response to DML or DDL changes on the objects or in response to result set changes associated with the queries. The notifications are published by the database when the DML or DDL transaction commits.</p>
<p>During registration, the application specifies a notification handler and associates a set of interesting queries with the notification handler. A notification handler can be either a server-side PL/SQL procedure or a client-side C callback. Registrations are created at either the object level or the query level. If registration is at the object level, then whenever a transaction changes any of the registered objects and commits, the notification handler is invoked. If registration is at the query level, then whenever a transaction commits changes such that the result set of the query is modified, the notification handler is invoked, but if the changes do not affect the result set of the query, the notification handler is not invoked.</p>
<div class="infoboxnotealso" id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529__GUID-9EA64356-AD58-45C6-A8E7-654D19EFECCC">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS018" target="_blank" href="../ADFNS/adfns_cqn.htm#ADFNS018"><span class="italic">Oracle Database Development Guide</span></a>, &#34;Using Continuous Query Notification&#34; for a complete discussion of the concepts of this feature and using OCI and PL/SQL interfaces to create CQN registrations</p>
</div>
<p>One use of continuous query notification is in middle-tier applications that must have cached data and keep the cache as recent as possible for the back-end database.</p>
<p>The notification includes the following information:</p>
<ul style="list-style-type: disc;">
<li>
<p>Query IDs of queries whose result sets have changed. This is if the registration was at query granularity.</p>
</li>
<li>
<p>Names of the modified objects or changed rows.</p>
</li>
<li>
<p>Operation type (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, <code class="codeph">DROP</code> <code class="codeph">TABLE</code>).</p>
</li>
<li>
<p><code class="codeph">ROWID</code>s of the changed rows and the associated DML operation (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>).</p>
</li>
<li>
<p>Global database events (<code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>). In Oracle Real Application Cluster (Oracle RAC) the database delivers a notification when the first instance starts or the last instance shuts down.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529__GUID-D148FB06-37BA-4030-86FA-F7D719B3AC7F">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="oci09adv.htm#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" title="The publish-subscribe notification feature allows an OCI application to receive client notifications directly, register an email address to which notifications can be sent, register an HTTP URL to which notifications can be posted, or register a PL/SQL procedure to be invoked on a notification.">Publish-Subscribe Notification in OCI</a>&#34;</span></p>
</div>
</div>
</div>
</div>
<a id="LNOCI73042"></a><a id="LNOCI096"></a>
<div class="props_rev_3"><a id="GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6"></a>
<h2 id="LNOCI-GUID-67B6BF3A-780A-49A9-857C-19DB008FFAB6" class="sect2">Database Startup and Shutdown</h2>
<div>
<p>Describes topics about database startup and shutdown.</p>
<div class="p">This section describes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0" title="The OCI functions OCIDBStartup() and OCIDBShutdown() provide the minimal interface needed to start and shut down an Oracle database.">About OCI Database Startup and Shutdown</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3" title="To perform a startup, you must be connected to the database as SYSOPER or SYSDBA in OCI_PRELIM_AUTH mode. You cannot be connected to a shared server through a dispatcher.">Examples of Startup and Shutdown in OCI</a></p>
</li>
</ul>
</div>
</div>
<a id="LNOCI73043"></a>
<div class="props_rev_3"><a id="GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0"></a>
<h3 id="LNOCI-GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0" class="sect3">About OCI Database Startup and Shutdown</h3>
<div>
<p>The OCI functions <code class="codeph">OCIDBStartup()</code> and <code class="codeph">OCIDBShutdown()</code> provide the minimal interface needed to start and shut down an Oracle database.</p>
<p>Before calling <code class="codeph">OCIDBStartup()</code>, the C program must connect to the server and start a <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> session in the preliminary authentication mode. This mode is the only one permitted when the instance is not up, and it is used only to start the instance. A call to <code class="codeph">OCIDBStartup()</code> starts one server instance without mounting or opening the database. To mount and open the database, end the preliminary authentication session and start a regular <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> session to execute the appropriate <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statements.</p>
<p>An active <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> session is needed to shut down the database. For all modes other than <code class="codeph">OCI_DBSHUTDOWN_ABORT</code>, make two calls to <code class="codeph">OCIDBShutdown()</code>: one to initiate shutdown by prohibiting further connections to the database, followed by the appropriate <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> commands to dismount and close it; and the other call to finish shutdown by bringing the instance down. In special circumstances, to shut down the database as fast as possible, call <code class="codeph">OCIDBShutdown()</code> in the <code class="codeph">OCI_DBSHUTDOWN_ABORT</code> mode, which is equivalent to <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> in SQL*Plus.</p>
<p>Both of these functions require a dedicated connection to the server. <code class="codeph">ORA-106</code> is signaled if an attempt is made to start or shut down the database when it is connected to a shared server through a dispatcher.</p>
<p>The <code class="codeph">OCIAdmin</code> administration handle C data type is used to make the interface extensible. <code class="codeph">OCIAdmin</code> is associated with the handle type <code class="codeph">OCI_HTYPE_ADMIN</code>. Passing a value for the <code class="codeph">OCIAdmin</code> parameter, <code class="codeph">admhp</code>, is optional for <code class="codeph">OCIDBStartup()</code> and is not needed by <code class="codeph">OCIDBShutdown()</code>.</p>
<div class="infoboxnotealso" id="GUID-63114772-C4C1-4A71-8109-B1F7B9750FB0__GUID-A2A13FA8-5748-4134-BE94-E04A880A5013">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci16rel001.htm#GUID-8E4CB0D4-DC77-4AA1-A3F8-9C05DE595353" title="Starts an Oracle Database instance.">OCIDBStartup()</a></p>
</li>
<li>
<p><a href="oci16rel001.htm#GUID-01C4FDCA-2719-4C5C-9348-B9909D178F4F" title="Shuts down an Oracle Database instance.">OCIDBShutdown()</a></p>
</li>
<li>
<p><a href="ociaahan.htm#GUID-C671AC60-A6E4-4F6F-A41D-057DC3CE6E0F">Administration Handle Attributes</a></p>
</li>
<li>
<p><a class="olink ADMIN004" target="_blank" href="../ADMIN/start.htm#ADMIN004"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="LNOCI72692"></a><a id="LNOCI72693"></a><a id="LNOCI72694"></a><a id="LNOCI16737"></a>
<div class="props_rev_3"><a id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3"></a>
<h3 id="LNOCI-GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3" class="sect3">Examples of Startup and Shutdown in OCI</h3>
<div>
<p>To perform a startup, you must be connected to the database as <code class="codeph">SYSOPER</code> or <code class="codeph">SYSDBA</code> in <code class="codeph">OCI_PRELIM_AUTH</code> mode. You cannot be connected to a shared server through a dispatcher.</p>
<div class="section">
<p>To use a client-side parameter file (<code class="codeph">pfile</code>), the attribute <code class="codeph">OCI_ATTR_ADMIN_PFILE</code> must be set in the administration handle using <code class="codeph">OCIAttrSet()</code>; otherwise, a server-side parameter file (<code class="codeph">spfile</code>) is used. In the latter case, pass <code class="codeph">(OCIAdmin *)0</code>. A call to <code class="codeph">OCIDBStartup()</code> starts one instance on the server.</p>
<p><a href="oci10new.htm#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGJIADH">Example 10-1</a> shows sample code that uses a client-side parameter file (<code class="codeph">pfile</code>) that is set in the administration handle and performs a database startup operation.</p>
<p>To perform a shutdown, you must be connected to the database as <code class="codeph">SYSOPER</code> or <code class="codeph">SYSDBA</code>. You cannot be connected to a shared server through a dispatcher. When shutting down in any mode other than <code class="codeph">OCI_DBSHUTDOWN_ABORT</code>, use the following procedure:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Call <code class="codeph">OCIDBShutdown()</code> in <code class="codeph">OCI_DEFAULT</code>, <code class="codeph">OCI_DBSHUTDOWN_TRANSACTIONAL</code>, <code class="codeph">OCI_DBSHUTDOWN_TRANSACTIONAL_LOCAL</code>, or <code class="codeph">OCI_DBSHUTDOWN_IMMEDIATE</code> mode to prohibit further connections.</span></li>
<li><span>Use the necessary <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> commands to close and dismount the database.</span></li>
<li><span>Call <code class="codeph">OCIDBShutdown()</code> in <code class="codeph">OCI_DBSHUTDOWN_FINAL</code> mode to shut down the instance.</span></li>
</ol>
<div class="example" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGJIADH">
<p class="titleinexample">Example 10-1 Calling OCIDBStartup() to Perform a Database Startup Operation</p>
<pre dir="ltr">...

/*  Example 0 - Startup:  */
OCIAdmin *admhp;
text *mount_stmt = (text *)&#34;ALTER DATABASE MOUNT&#34;;
text *open_stmt = (text *)&#34;ALTER DATABASE OPEN&#34;;
text *pfile = (text *)&#34;/ade/viewname/oracle/work/t_init1.ora&#34;;

/* Start the authentication session */
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp,
         OCI_CRED_RDBMS, OCI_SYSDBA|OCI_PRELIM_AUTH));

/* Allocate admin handle for OCIDBStartup */
checkerr(errhp, OCIHandleAlloc((void *) envhp, (void **) &amp;admhp,
         (ub4) OCI_HTYPE_ADMIN, (size_t) 0, (void **) 0));

/* Set attribute pfile in the admin handle 
(do not do this if you want to use the spfile) */
checkerr (errhp, OCIAttrSet( (void *) admhp, (ub4) OCI_HTYPE_ADMIN,
          (void *) pfile, (ub4) strlen(pfile),
          (ub4) OCI_ATTR_ADMIN_PFILE, (OCIError *) errhp));

/* Start up in NOMOUNT mode */
  checkerr(errhp, OCIDBStartup(svchp, errhp, admhp, OCI_DEFAULT, 0));
   checkerr(errhp, OCIHandleFree((void *) admhp, (ub4) OCI_HTYPE_ADMIN));

/* End the authentication session */
OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT);

/* Start the sysdba session */
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp, OCI_CRED_RDBMS,
         OCI_SYSDBA));

/* Mount the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, mount_stmt, (ub4)
         strlen((char*) mount_stmt),
         (CONST OraText *) 0, (ub4) 0, (ub4) OCI_NTV_SYNTAX, (ub4)
         OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
         (OCISnapshot *) NULL, (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* Open the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, open_stmt, (ub4)
         strlen((char*) open_stmt),
         (CONST OraText *)0, (ub4)0, (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
         (OCISnapshot *) NULL, (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* End the sysdba session */
OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT);
...
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGCGHGJ">
<p class="titleinexample">Example 10-2 Calling OCIDBShutdown() in OCI_DBSHUTDOWN_FINAL Mode</p>
<pre dir="ltr">/*  Example 1 - Orderly shutdown:  */
...
text *close_stmt = (text *)&#34;ALTER DATABASE CLOSE NORMAL&#34;;
text *dismount_stmt = (text *)&#34;ALTER DATABASE DISMOUNT&#34;;

/* Start the sysdba session */
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp, OCI_CRED_RDBMS,
         OCI_SYSDBA));

/* Shutdown in the default mode (transactional, transactional-local,
  immediate would be fine too) */
checkerr(errhp, OCIDBShutdown(svchp, errhp, (OCIAdmin *)0, OCI_DEFAULT));

/* Close the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, close_stmt, (ub4)
         strlen((char*) close_stmt),
         (CONST OraText *)0, (ub4)0, (ub4) OCI_NTV_SYNTAX,
         (ub4) OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
        (OCISnapshot *) NULL,
        (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* Dismount the database */
checkerr(errhp, OCIStmtPrepare2(svchp, &amp;stmthp, errhp, dismount_stmt,
         (ub4) strlen((char*) dismount_stmt), (CONST OraText *)0, (ub4)0,
         (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT));
checkerr(errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4)0,
         (OCISnapshot *) NULL,
         (OCISnapshot *) NULL, OCI_DEFAULT));
checkerr(errhp, OCIStmtRelease(stmthp, errhp, (OraText *)0, 0, OCI_DEFAULT));

/* Final shutdown */
checkerr(errhp, OCIDBShutdown(svchp, errhp, (OCIAdmin *)0,
         OCI_DBSHUTDOWN_FINAL));

/* End the sysdba session */
checkerr(errhp, OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT));
...
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGHIFGA">
<p class="titleinexample">Example 10-3 Calling OCIDBShutdown() in OCI_DBSHUTDOWN_ABORT Mode</p>
<pre dir="ltr">/*  Example 2 - Shutdown using abort:  */
...
/* Start the sysdba session */
...
checkerr(errhp, OCISessionBegin (svchp, errhp, usrhp, OCI_CRED_RDBMS,
         OCI_SYSDBA));

/* Shutdown in the abort mode */
checkerr(errhp, OCIDBShutdown(svchp, errhp, (OCIAdmin *)0,
         OCI_DBSHUTDOWN_ABORT));

/* End the sysdba session */
checkerr(errhp, OCISessionEnd(svchp, errhp, usrhp, (ub4)OCI_DEFAULT));
...
</pre></div>
<!-- class="example" -->
<div class="section">
<p><a href="oci10new.htm#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGCGHGJ">Example 10-2</a> shows sample code that uses a client-side parameter file (<code class="codeph">pfile</code>) that is set in the administration handle that performs an orderly database shutdown operation.</p>
<p><a href="oci10new.htm#GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__CEGHIFGA">Example 10-3</a> shows a shutdown example that uses <code class="codeph">OCI_DBSHUTDOWN_ABORT</code> mode.</p>
<div class="infoboxnotealso" id="GUID-44B24F65-8C24-4DF3-8FBF-B896A4D6F3F3__GUID-3B854F8A-A059-4E47-BDA5-1C6CD5EB9776">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci16rel002.htm#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
</li>
<li>
<p><a href="oci16rel001.htm#GUID-8E4CB0D4-DC77-4AA1-A3F8-9C05DE595353" title="Starts an Oracle Database instance.">OCIDBStartup()</a></p>
</li>
<li>
<p><a href="oci16rel001.htm#GUID-01C4FDCA-2719-4C5C-9348-B9909D178F4F" title="Shuts down an Oracle Database instance.">OCIDBShutdown()</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="LNOCI73044"></a><a id="LNOCI10100"></a>
<div class="props_rev_3"><a id="GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B"></a>
<h2 id="LNOCI-GUID-03884D82-8E0C-4CAB-84F4-4ED4D8D8674B" class="sect2">Implicit Fetching of ROWIDs</h2>
<div>
<p>This section describes the following topics:</p>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064">About Implicit Fetching of ROWIDs</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993">Example of Implicit Fetching of ROWIDs</a></p>
</li>
</ul>
</div>
</div>
<a id="LNOCI73045"></a>
<div class="props_rev_3"><a id="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064"></a>
<h3 id="LNOCI-GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064" class="sect3">About Implicit Fetching of ROWIDs</h3>
<div>
<p><code class="codeph">ROWID</code> is a globally unique identifier for a row in a database. It is created at the time the row is inserted into the table, and destroyed when it is removed. <code class="codeph">ROWID</code> values have several important uses. They are unique identifiers for rows in a table. They are the fastest way to access a single row and can show how the rows in the table are stored.</p>
<p>Implicit fetching of <code class="codeph">ROWID</code>s in <code class="codeph">SELECT</code> <code class="codeph">...</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statements means that the <code class="codeph">ROWID</code> is retrieved at the client side, even if it is not one of the columns named in the select statement. The <code class="codeph">position</code> parameter of <code class="codeph">OCIDefineByPos()</code> is set to zero (0). These host variables can be specified for retrieving the <code class="codeph">ROWID</code> pseudocolumn values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SQLT_CHR</code> (<code class="codeph">VARCHAR2</code>)</p>
</li>
<li>
<p><code class="codeph">SQLT_VCS</code> (<code class="codeph">VARCHAR</code>)</p>
</li>
<li>
<p><code class="codeph">SQLT_STR</code> (<code class="codeph">NULL</code>-terminated string)</p>
</li>
<li>
<p><code class="codeph">SQLT_LVC</code> (<code class="codeph">LONG</code> <code class="codeph">VARCHAR</code>)</p>
</li>
<li>
<p><code class="codeph">SQLT_AFC</code> (<code class="codeph">CHAR</code>)</p>
</li>
<li>
<p><code class="codeph">SQLT_AVC</code> (<code class="codeph">CHARZ</code>)</p>
</li>
<li>
<p><code class="codeph">SQLT_VST</code> (<span>OCI String</span>)</p>
</li>
<li>
<p><code class="codeph">SQLT_RDD</code> (<code class="codeph">ROWID</code> descriptor)</p>
</li>
</ul>
<p>The <code class="codeph">SELECT</code> <code class="codeph">...</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> statement identifies the rows that are to be updated and then locks each row in the result set. This is useful when you want to base an update on the existing values in a row. In that case, you must ensure that another user does not change the row.</p>
<p>When you specify character buffers for storing the values of the <code class="codeph">ROWID</code>s (for example, if getting it in <code class="codeph">SQLT_STR</code> format), allocate enough memory for storing <code class="codeph">ROWID</code>s. Remember the differences between the <code class="codeph">ROWID</code> data type and the <code class="codeph">UROWID</code> data type. The <code class="codeph">ROWID</code> data type can only store physical <code class="codeph">ROWID</code>s, but <code class="codeph">UROWID</code> can store logical <code class="codeph">ROWID</code>s (identifiers for the rows of index-organized tables) as well. The maximum internal length for the <code class="codeph">ROWID</code> type is 10 bytes; it is 3950 bytes for the <code class="codeph">UROWID</code> data type.</p>
<p>Dynamic define is equivalent to calling <a href="oci16rel003.htm#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="Associates an item in a select list with the type and output data buffer.">OCIDefineByPos()</a> with <code class="codeph">mode</code> set as <code class="codeph">OCI_DYNAMIC_FETCH</code>. Dynamic defines enable you to set up additional attributes for a particular define handle. It specifies a callback function that is invoked at runtime to get a pointer to the buffer into which the fetched data or a piece of it is to be retrieved.</p>
<p>The attribute <code class="codeph">OCI_ATTR_FETCH_ROWID</code> must be set on the statement handle before you can use implicit fetching of <code class="codeph">ROWID</code>s, in this way:</p>
<pre dir="ltr">OCIAttrSet(stmthp, OCI_HTYPE_STMT, 0, 0 , OCI_ATTR_FETCH_ROWID, errhp);
</pre>
<p>Dynamic define is not compatible with implicit fetching of <code class="codeph">ROWID</code>s. In normal scenarios this mode allows the application to provide buffers for a column, for each row; that is, a callback is invoked every time a column value is fetched.</p>
<p>This feature, using <a href="oci16rel003.htm#GUID-CFE5AA54-DEBC-42D3-8A27-AFF1E7815691" title="Associates an item in a select list with the type and output data buffer.">OCIDefineByPos()</a> for position 0, is for fetching an array of data simultaneously into the user buffers and getting their respective <code class="codeph">ROWID</code>s at the same time. It allows for fetching of <code class="codeph">ROWID</code>s with <code class="codeph">SELECT....FOR UPDATE</code> statements even when <code class="codeph">ROWID</code> is not one of the columns in the <code class="codeph">SELECT</code> query. When fetching the data one by one into the user buffers, you can use the existing attribute <code class="codeph">OCI_ATTR_ROWID</code>.</p>
<p>If you use this feature to fetch the <code class="codeph">ROWID</code>s, the attribute <code class="codeph">OCI_ATTR_ROWID</code> on the statement handle cannot be used simultaneously to get the <code class="codeph">ROWID</code>s. You can only use one of them at a time for a particular statement handle.</p>
<div class="infoboxnotealso" id="GUID-37F2A8CC-0350-4CEC-90C0-F007FCFA6064__GUID-7BE90B21-8615-42AF-9D5D-8753E726B2FA">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="ociaahan.htm#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE__CHDEJDEE">OCI_ATTR_FETCH_ROWID</a>&#34;</span></p>
</div>
</div>
</div>
<a id="LNOCI72695"></a><a id="LNOCI16738"></a>
<div class="props_rev_3"><a id="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993"></a>
<h3 id="LNOCI-GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993" class="sect3">Example of Implicit Fetching of ROWIDs</h3>
<div>
<div class="section">
<p>Use the fragment of a C program in <a href="oci10new.htm#GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993__CEGFFICH">Example 10-4</a> to build upon.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-5E17BFDD-07B5-4CE2-9301-DC3C41312993__CEGFFICH">
<p class="titleinexample">Example 10-4 Implicit Fetching of ROWIDs</p>
<pre dir="ltr">#include &lt;oci.h&gt;
 
int main()
{
 ...
 text *mySql = (text *) &#34;SELECT emp_name FROM emp FOR UPDATE&#34;;
 text rowid[100][15] = {0};
 text empName[100][15] = {0};
 ...
 
 /* Set up the environment, error handle, etc. */
 ...
 
 /* Prepare the statement -  select ... for update. */
 
 
  if (OCIStmtPrepare (select_p, errhp,
                      mySql, strlen(mySql), OCI_NTV_SYNTAX, OCI_DEFAULT))
  {
    printf (&#34;Prepare failed \n&#34;);
    return (OCI_ERROR);
  }
 
 /* Set attribute for implicit fetching of ROWIDs on the statement handle. */
 if (OCIAttrSet(select_p, OCI_HTYPE_STMT, 0, 0, OCI_ATTR_FETCH_ROWID, errhp))
 {
   printf (&#34;Unable to set the attribute - OCI_ATTR_FETCH_ROWID \n&#34;);
   return OCI_ERROR;
 }
  /* 
   * Define the positions: 0 for getting ROWIDs and other positions 
   * to fetch other columns.
   * Also, get the define conversion done implicitly by fetching 
   * the ROWIDs in the string format. 
   */
 
  if (OCIDefineByPos ( select_p,
                       &amp;defnp0,
                       errhp,
                       0,
                       rowid[0],
                       15,
                       SQLT_STR,
                       (void *) ind,
                       (void *) 0,
                       (void *) 0,
                       OCI_DEFAULT) ||
       OCIDefineByPos(select_p,
                       &amp;defnp1,
                       errhp,
                       1,
                       empName[0],
                       15,
                       SQLT_STR,
                       (void *) 0,
                       (void *) 0,
                       (void *) 0,
                       OCI_DEFAULT)
                       )
  {
    printf (&#34;Failed to define\n&#34;);
    return (OCI_ERROR);
  }
 
 
  /* Execute the statement. */
 
 if (errr = OCIStmtExecute(svchp,
                            select_p,
                            errhp,
                            (ub4) 5,
                            (ub4) 0,
                            (OCISnapshot *) NULL,
                            (OCISnapshot *) NULL,
                            (ub4) OCI_DEFAULT))
  {
    if (errr != OCI_NO_DATA) 
       return errr;
  }
 
  printf (&#34;Column 0  \t Column 1\n&#34;);
  printf (&#34;_________ \t ________\n&#34;);
 
  for (i =0 ;i&lt;5 i++)
   {
     printf(&#34;%s \t %s \n&#34;, rowid[i], empName[i]);
   }
 
 return OCI_SUCCESS;  
}
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="LNOCI73046"></a><a id="LNOCI73047"></a><a id="LNOCI73048"></a><a id="LNOCI73049"></a><a id="LNOCI73008"></a>
<div class="props_rev_3"><a id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F"></a>
<h2 id="LNOCI-GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F" class="sect2">OCI Support for Implicit Results</h2>
<div>
<p>Beginning with Oracle Database 12<span class="italic">c</span> Release 1 (12.1) , PL/SQL can return results (cursors) implicitly from stored procedures and anonymous PL/SQL blocks. <code class="codeph">OCIStmtGetNextResult()</code> is provided to retrieve and process the implicit results.</p>
<div class="section">
<p>PL/SQL provides a subprogram <code class="codeph">RETURN_RESULT</code> in the <code class="codeph">DBMS_SQL</code> package to return the result of an executed statement as shown in <a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGBHFGH">Example 10-5</a>. In the current release, only <code class="codeph">SELECT</code> query result-sets can be implicitly returned by a PL/SQL procedure block. <code class="codeph">OCIStmtGetNextResult()</code> returns an OCI statement handle on which the usual OCI define and fetch calls are done to retrieve the rows.</p>
<p><a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">Example 10-6</a> shows a PL/SQL stored procedure to implicitly return result-sets (cursors) to the client.</p>
<p><a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">Example 10-7</a> shows the same approach using an anonymous PL/SQL block sent by the client. This example shows how applications can use the implicit results feature to implement batching of SQL statements from an OCI application. An OCI application can dynamically form a PL/SQL anonymous block to execute multiple and variable <code class="codeph">SELECT</code> statements and return the corresponding cursors using <code class="codeph">DBMS_SQL.RETURN_RESULT</code>.</p>
<p><a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGIHJDF">Example 10-8</a> lists an OCI program showing how to use the <code class="codeph">OCIStmtGetNextResult()</code> call to retrieve and process the implicit results returned by a PL/SQL stored procedure (see <a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">Example 10-6</a>) or an anonymous PL/SQL block (see <a href="oci10new.htm#GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">Example 10-7</a>).</p>
<p><code class="codeph">OCIStmtGetNextResult()</code> can be called iteratively by the application to retrieve each implicit result from an executed PL/SQL statement. Applications retrieve each result-set sequentially but can fetch rows from any result-set independently. The top-level OCI statement handle tracks all the associated result-set statement handles. Freeing or releasing the top-level OCI statement handle automatically closes and frees all the implicit result-sets.</p>
<p>The attribute <code class="codeph">OCI_ATTR_IMPLICIT_RESULT_COUNT</code> is provided on the OCI statement handle to determine the number of implicit results available.</p>
<p>The <code class="codeph">rtype</code> parameter of <code class="codeph">OCIStmtGetNextResult()</code> returns the type of the result. In this release only the type: <code class="codeph">OCI_RESULT_TYPE_SELECT</code> is supported. The describe metadata of the returned result set can be accessed similar to any <code class="codeph">SELECT</code> ResultSet.</p>
<div class="infobox-note" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__GUID-3C5A3433-15B7-4882-B34E-8BE7EA95CFA6">
<p class="notep1">Note:</p>
<p>The following OCI code can be used in external procedures too, to fetch from the implicit results. In that case, <code class="codeph">OCI_PREP2_IMPL_RESULTS_CLIENT</code> should be passed as the mode to the <code class="codeph">OCIStmtPrepare2()</code> call.</p>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGBHFGH">
<p class="titleinexample">Example 10-5 DBMS_SQL RETURN_RESULT Subprogram</p>
<pre dir="ltr">procedure return_result(rc        in out sys_refcursor,
                        to_client in boolean default true);

procedure return_result(rc        in out integer,
                        to_client in boolean default true);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGDFBAF">
<p class="titleinexample">Example 10-6 A PL/SQL Stored Procedure to Implicitly Return Result-Sets (Cursors) to the Client</p>
<pre dir="ltr">CREATE PROCEDURE foo AS
  c1 sys_refcursor;
  c2 sys_refcursor;
begin
  open c1 for select * from emp;
  dbms_sql.return_result(c1); --return to client
  -- open 1 more cursor
  open c2 for select * from dept;
  dbms_sql.return_result (c2); --return to client
end;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGHGBDI">
<p class="titleinexample">Example 10-7 An Anonymous PL/SQL Block to Implicitly Return Result-Sets (Cursors) to the Client</p>
<pre dir="ltr">declare
  c1 sys_refcursor;
  c2 sys_refcursor;
begin
  open c1 for select * from emp;
  dbms_sql.return_result (c1); --return to client
  -- open 1 more cursor
  open c2 for select * from dept;
  dbms_sql.return_result (c2); --return to client
end;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__CEGIHJDF">
<p class="titleinexample">Example 10-8 Using OCIStmtGetNextResult() to Retrieve and Process the Implicit Results Returned by Either a PL/SQL Stored Procedure or Anonymous Block</p>
<pre dir="ltr">  OCIStmt *stmthp;
  ub4      rsetcnt;
  void    *result;
  ub4      rtype;
  char    *sql = &#34;begin foo; end;&#34;;
  
  /* Prepare and execute the PL/SQL procedure. */
  OCIStmtPrepare2(svchp, &amp;stmthp, errhp, (oratext *)sql, strlen(sql),
                 NULL, 0, OCI_NTV_SYNTAX, OCI_DEFAULT);
  OCIStmtExecute(svchp, stmthp, errhp, 1, 0,
                 (const OCISnapshot *)0,
                 (OCISnapshot *)0, OCI_DEFAULT);
 
  /* Now check if any implicit results are available. */
  OCIAttrGet((void *)stmthp, OCI_HTYPE_STMT, &amp;rsetcnt, 0,
             OCI_ATTR_IMPLICIT_RESULT_COUNT, errhp);
 
  /* Loop and retrieve the implicit result-sets.
   * ResultSets are returned in the same order as in the PL/SQL
   * procedure/block.
   */
  while (OCIStmtGetNextResult(stmthp, errhp, &amp;result, &amp;rtype,
                              OCI_DEFAULT) == OCI_SUCCESS)
  {
    /* Check the type of implicit ResultSet, currently
     * only supported type is OCI_RESULT_TYPE_SELECT
     */
    if (rtype == OCI_RESULT_TYPE_SELECT)
    {
      OCIStmt *rsethp = (OCIStmt *)result;
 
      /* Perform normal OCI actions to define and fetch rows. */
    }
    else
      printf(&#34;unknown result type %d\n&#34;, rtype);
 
    /* The result set handle should not be freed by the user. */
  }
 
  OCIStmtRelease(stmthp, errhp, NULL, 0, OCI_DEFAULT); /* Releases the statement handle. */
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-F5BF8851-F491-4EF8-BA20-B6146AF2700F__GUID-3AAA3F6E-229F-41A2-931E-ECD008CF3B6D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci17msc001.htm#GUID-60B998F9-F213-43BA-AB84-76F1EC6A6687">OCIStmtGetNextResult()</a></p>
</li>
<li>
<p><a href="ociaahan.htm#GUID-A251CF91-EB9F-4DBC-8BB8-FB5EA92C20DE">Statement Handle Attributes</a> for more information about the attribute <code class="codeph">OCI_ATTR_IMPLICIT_RESULT_COUNT</code>.</p>
</li>
<li>
<p><a href="oci17msc001.htm#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI10103"></a>
<div class="props_rev_3"><a id="GUID-F8BAB50F-7D21-43C0-846D-416D34429117"></a>
<h2 id="LNOCI-GUID-F8BAB50F-7D21-43C0-846D-416D34429117" class="sect2">Client Result Cache</h2>
<div>
<p>OCI applications can use client memory to take advantage of the OCI result cache to improve response times of repeated queries.</p>
<div class="infoboxnotealso" id="GUID-F8BAB50F-7D21-43C0-846D-416D34429117__GUID-BAC8F6A3-FA60-4DF2-901F-48EE88AC27D0">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS213" target="_blank" href="../ADFNS/adfns_perf_scale.htm#ADFNS213"><span><cite>Oracle Database Development Guide</cite></span></a> for complete information about using the OCI client result cache</p>
</div>
</div>
</div>
<a id="LNOCI73050"></a><a id="LNOCI73009"></a>
<div class="props_rev_3"><a id="GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360"></a>
<h2 id="LNOCI-GUID-75169FE4-DE2C-431F-BBA7-3691C7C33360" class="sect2">Client Statement Cache Auto-Tuning</h2>
<div>
<p>Describes topics about client statement cache auto-tuning.</p>
<div class="p">This section describes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4">About Auto-Tuning Client Statement Cache</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-5FA63226-6372-4A36-B36E-47141A73D036">Benefit of Auto-Tuning Client Statement Cache</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-C7D627E2-E210-4234-AF42-648E7295DA13" title="The following connection specific parameters in oraccess.xml can be set per configuration alias or across all connect strings using default connection specific parameters.">Client Statement Cache Auto-Tuning Parameters</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0">Usage Examples of Client Statement Cache Auto Tuning</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289">Enabling and Disabling OCI Client Auto-Tuning</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63">Usage Guidelines for Auto-Tuning Client Statement Cache</a></p>
</li>
</ul>
</div>
</div>
<a id="LNOCI73051"></a>
<div class="props_rev_3"><a id="GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4"></a>
<h3 id="LNOCI-GUID-6E21AA56-5BBE-422A-802C-197CAC8AAEA4" class="sect3">About Auto-Tuning Client Statement Cache</h3>
<div>
<p>Auto-tuning optimizes OCI client session features of mid-tier applications to gain higher performance without the need to reprogram your OCI application. Auto tuning operations like increasing or decreasing cache memory happens implicitly during <a href="oci17msc001.htm#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a> and <a href="oci17msc001.htm#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="Releases the statement handle obtained by a call to OCIStmtPrepare2().">OCIStmtRelease()</a> calls on a periodic basis. Calling <code class="codeph">OCIAttrGet()</code> with <code class="codeph">OCI_ATTR_STMTCACHESIZE</code> on the service handle gives the current cache size being used, if you need to check.</p>
<p>It is possible for the coded OCI client statement cache size setting to be sub optimal. This can happen, for example, with changing the workload causing a different working set of SQL statements. If the size is too low, it will cause excess network activity and more parses at the server. If the size is too high, there will be excess memory used. It can be difficult for the client side application to always keep this cache size optimal.</p>
<p>Auto-tuning automatically reconfigures the OCI statement cache size on a periodic basis. Auto-tuning is achieved by providing a deployment time setting that provides an option to reconfigure OCI statement caching to resolve this potential performance issue.</p>
<p>These settings are provided as connect string based deployment settings in the client <code class="codeph">oraaccess.xml</code> file that overrides manual settings to the user configuration of OCI features.</p>
</div>
</div>
<a id="LNOCI73010"></a>
<div class="props_rev_3"><a id="GUID-5FA63226-6372-4A36-B36E-47141A73D036"></a>
<h3 id="LNOCI-GUID-5FA63226-6372-4A36-B36E-47141A73D036" class="sect3">Benefit of Auto-Tuning Client Statement Cache</h3>
<div>
<p>The more specific benefit of auto-tuning client statement cache is to transparently detect, monitor, and adjust the statement cache size to improve performance or decrease memory usage.</p>
<p>Developers and DBAs can expect to see the following benefits of using auto-tuning for their OCI client applications:</p>
<ul style="list-style-type: disc;">
<li>
<p>Reduced time and effort in diagnosing and fixing performance problems with each part of their system, such as statement caching</p>
</li>
<li>
<p>Minimized manual modifications needed to configurations of this OCI feature to improve performance. Usually, this manual correction requires applications to restart more than once with different configuration parameters, thus further reducing the high availability of the client</p>
</li>
<li>
<p>One solution that can be used by all OCI applications to improve performance right out-of-the-box without having to make any application changes</p>
</li>
<li>
<p>OCI applications are freed from making custom implementations (that can be error prone) to auto-tune their OCI application to optimize performance and memory usage. Here auto-tuning is limited to internal automatic tuning of OCI Client-side statement cache size only.</p>
</li>
</ul>
</div>
</div>
<a id="LNOCI73011"></a>
<div class="props_rev_3"><a id="GUID-C7D627E2-E210-4234-AF42-648E7295DA13"></a>
<h3 id="LNOCI-GUID-C7D627E2-E210-4234-AF42-648E7295DA13" class="sect3">Client Statement Cache Auto-Tuning Parameters</h3>
<div>
<p>The following connection specific parameters in <code class="codeph">oraccess.xml</code> can be set per configuration alias or across all connect strings using default connection specific parameters.</p>
<p>Values specified in the client <code class="codeph">oraaccess.xml</code> configuration file override programmatic settings.</p>
<div class="p">This section includes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="This parameter is optional and sets the limit for the statement caching tunable component.">&lt;statement_cache&gt;</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="This section specifies auto tune parameters.">&lt;auto_tune&gt;</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" title="Lists and describes a comparison of all auto-tuning parameters.">Comparison of the Connection Specific Auto-Tuning Parameters</a></p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-C7D627E2-E210-4234-AF42-648E7295DA13__GUID-72B2DFC5-E5BA-4D68-BE39-716A87B8FF14">
<p class="notep1">See Also:</p>
<p><a href="oci10new.htm#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0">About Specifying Defaults for Connection Parameters</a> for more information about setting per configuration alias or across all connect strings using default connection specific parameters</p>
</div>
</div>
<a id="LNOCI73013"></a>
<div class="props_rev_3"><a id="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2"></a>
<h4 id="LNOCI-GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" class="sect4">&lt;statement_cache&gt;</h4>
<div>
<p>This parameter is optional and sets the limit for the statement caching tunable component.</p>
<div class="section">
<pre dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre>
<p>The limit is the maximum number of statements that can be cached per session. If auto-tuning is enabled or not, this setting in <code class="codeph">oraaccess.xml</code> overrides the programmatic setting of OCI statement cache size.</p>
<p>If auto-tuning is enabled, this setting will be the upper bound on statement cache size while its being dynamically tuned.</p>
<p>If the session is not using statement caching APIs as in <code class="codeph">OCIStmtPrepare2()</code> and <code class="codeph">OCIStmtRelease()</code>, this setting is ignored.</p>
<p>Default values are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>If auto-tuning is enabled, statement caching is dynamically tuned and the initial statement cache size is set to 100 statements.</p>
</li>
<li>
<p>If auto-tuning is disabled, this setting serves as the deployment setting of statement caching size, overriding any programmatic setting.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2__GUID-56565C29-4873-4D32-82E5-A6001ABBB805">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci17msc001.htm#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
</li>
<li>
<p><a href="oci17msc001.htm#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="Releases the statement handle obtained by a call to OCIStmtPrepare2().">OCIStmtRelease()</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289">Enabling and Disabling OCI Client Auto-Tuning</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI73012"></a>
<div class="props_rev_3"><a id="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4"></a>
<h4 id="LNOCI-GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" class="sect4">&lt;auto_tune&gt;</h4>
<div>
<p>This section specifies auto tune parameters.</p>
<div class="section">
<p>If the OCI session is not using statement caching APIs as in <code class="codeph">OCIStmtPrepare2()</code> or <code class="codeph">OCIStmtRelease()</code>, auto tuning parameters are ignored for that session. It is possible in a process that some sessions or connections can have auto-tuning enabled and some disabled.</p>
<div class="p">This section includes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B">&lt;enable&gt;true&lt;/enable&gt;</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="This parameter is optional.">&lt;ram_threshold&gt;</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="This parameter is optional.">&lt;memory_target&gt;</a></p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4__GUID-1A20E822-01D1-45FE-9890-18293AD02F03">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci17msc001.htm#GUID-E6C1DC67-D464-4D2A-9F19-737423D31779" title="Prepares a SQL or PL/SQL statement for execution.">OCIStmtPrepare2()</a></p>
</li>
<li>
<p><a href="oci17msc001.htm#GUID-256034CE-2ADB-4BE5-BC8D-748307F2EA8E" title="Releases the statement handle obtained by a call to OCIStmtPrepare2().">OCIStmtRelease()</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
<div class="props_rev_3"><a id="GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B"></a>
<h5 id="LNOCI-GUID-D02F22EA-9A36-4672-AE22-85C5CBD3691B" class="sect5">&lt;enable&gt;true&lt;/enable&gt;</h5>
<div>
<div class="section">
<p>This parameter turns auto tuning on or off. The default is auto tuning off <code class="codeph">(FALSE)</code> or disabled.</p>
<pre dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
&lt;/auto_tune&gt;
</pre>
<p>Auto-tuning is enabled along with internal default settings as described in <a href="oci10new.htm#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="This parameter is optional and sets the limit for the statement caching tunable component.">&lt;statement_cache&gt;</a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI73058"></a>
<div class="props_rev_3"><a id="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33"></a>
<h5 id="LNOCI-GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" class="sect5">&lt;ram_threshold&gt;</h5>
<div>
<p>This parameter is optional.</p>
<div class="section">
<pre dir="ltr">&lt;auto_tune&gt;
   &lt;enable&gt;true&lt;/enable&gt;
   &lt;ram_threshold&gt;0.1&lt;/ram_threshold&gt;
&lt;/auto_tune&gt;
</pre>
<p>The default value is 0.01%. It is specified as percentage of installed RAM. This specifies the total memory available across the auto tuning sessions in a process sharing this setting. This setting can be specified per process or per connect string alias.</p>
<p>Note that if specified per connect string alias, the total auto tuning memory used by a client process can add up.</p>
<p>Therefore, it may be preferable to specify auto tuning limits in the <code class="codeph">&lt;default_parameters&gt;</code> section of <code class="codeph">oraaccess.xml</code> file. This way you have a common pool of memory for all sessions in a client process.</p>
<p>A smaller limit uses less RAM for auto tuning, but minimizes the chance other programs running on the system do not degrade in performance.</p>
<p>This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.</p>
<div class="infoboxnotealso" id="GUID-93048857-C168-4BA9-A126-CE06DA8F2D33__GUID-D9D4A61A-66CC-476E-AABF-DC489C9FD8F9">
<p class="notep1">See Also:</p>
<p><a href="oci10new.htm#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C">About oraaccess.xml</a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI73057"></a>
<div class="props_rev_3"><a id="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F"></a>
<h5 id="LNOCI-GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" class="sect5">&lt;memory_target&gt;</h5>
<div>
<p>This parameter is optional.</p>
<div class="section">
<pre dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;memory_target&gt;40M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre>
<p>Specified in bytes. Default is undefined. It specifies the total memory available across the auto tuning sessions in a process sharing this setting. This setting can be specified per process or per connect string alias.</p>
<p>Note that if specified per connect string alias, the total auto tuning memory used by a client process can add up.</p>
<p>Therefore, it may be preferable to specify auto tuning limits in the <code class="codeph">&lt;default_parameters&gt;</code> section of <code class="codeph">oraaccess.xml</code> file. This way you have a common pool of memory for all sessions in a client process.</p>
<p>This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.</p>
<p>Using this parameter ensures the use of a consistent memory limit for auto tuning irrespective of installed RAM on that system.</p>
<p>If not specified, the auto tuning memory limit is based on the <code class="codeph">&lt;ram_threshold&gt;</code> parameter setting.</p>
<p>If both <code class="codeph">&lt;ram_threshold&gt;</code> and <code class="codeph">&lt;memory_target&gt;</code> parameters are specified, the effective limit is the minimum of the two parameters.</p>
<div class="infoboxnotealso" id="GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F__GUID-5B2CC834-9233-4AC8-90A2-6CD14889A4CC">
<p class="notep1">See Also:</p>
<p><a href="oci10new.htm#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C">About oraaccess.xml</a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="LNOCI73019"></a>
<div class="props_rev_3"><a id="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A"></a>
<h4 id="LNOCI-GUID-53634FE6-85C0-4C37-92FF-FB711676F82A" class="sect4">Comparison of the Connection Specific Auto-Tuning Parameters</h4>
<div>
<p>Lists and describes a comparison of all auto-tuning parameters.</p>
<div class="section">
<p><a href="oci10new.htm#GUID-53634FE6-85C0-4C37-92FF-FB711676F82A__CEGJIEJE" title="Describes a comparison of all auto-tuning parameters. The table consists of 3 columns. Column 1 is the auto-tuning parameter name, column 2 is the setting information and its semantics, and column 3 indicates whether the parameter is for auto-tuning or deployment setting.">Table 10-1</a> shows a comparison of the connection specific auto-tuning parameters.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-53634FE6-85C0-4C37-92FF-FB711676F82A__CEGJIEJE">
<p class="titleintable">Table 10-1 Comparison of Some Connection Specific Auto-Tuning Parameters</p>
<table class="cellalignment6157" title="Comparison of Some Connection Specific Auto-Tuning Parameters" summary="Describes a comparison of all auto-tuning parameters. The table consists of 3 columns. Column 1 is the auto-tuning parameter name, column 2 is the setting information and its semantics, and column 3 indicates whether the parameter is for auto-tuning or deployment setting.">
<thead>
<tr class="cellalignment6151">
<th class="cellalignment6195" id="d120074e4435">Parameter</th>
<th class="cellalignment6212" id="d120074e4438">Setting and Semantics</th>
<th class="cellalignment6195" id="d120074e4441">For Auto-Tuning or Deployment Setting</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6151">
<td class="cellalignment6197" id="d120074e4446" headers="d120074e4435">
<p><code class="codeph">&lt;statement_cache&gt;</code></p>
</td>
<td class="cellalignment6214" headers="d120074e4446 d120074e4438">
<p>Optional setting.</p>
<p>Per session cache size.</p>
</td>
<td class="cellalignment6197" headers="d120074e4446 d120074e4441">
<p>If auto-tuning is enabled (see <span class="q">&#34;<a href="oci10new.htm#GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289">Enabling and Disabling OCI Client Auto-Tuning</a>&#34;</span>), this is the upper bound of each sessions statement cache size while its tuned by auto tuning.</p>
<p>Or else it refers to the deployment setting for statement caching.</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6197" id="d120074e4465" headers="d120074e4435">
<p><code class="codeph">&lt;auto_tune&gt;</code></p>
</td>
<td class="cellalignment6214" headers="d120074e4465 d120074e4438">
<p>Optional setting.</p>
<p>Specify this parameter to use auto-tuning. Applies to all connections using this connect string or all connections if null connect string is specified.</p>
</td>
<td class="cellalignment6197" headers="d120074e4465 d120074e4441">
<p>Only auto-tuning related</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6197" id="d120074e4478" headers="d120074e4435">
<p><code class="codeph">&lt;ram_threshold&gt;</code><code class="codeph">0.1&lt;/ram_threshold&gt;</code></p>
</td>
<td class="cellalignment6214" headers="d120074e4478 d120074e4438">
<p>Optional setting.</p>
<p>Converts the percentage setting to a memory value based on installed RAM on that client or mid-tier system.</p>
<p>This is the upper limit of memory used for auto tuning within a client process.</p>
<p>For installed RAM of 8GB, not specifying this parameter gives 800 KB of memory among the sessions.</p>
<p>Note each connection can potentially have its own setting of auto tuning parameters so these values can add up for the whole process based on configuration settings. It is preferable to use this parameter hence in the <code class="codeph">&lt;default_parameters&gt;</code> section of the <code class="codeph">oraaccess.xml</code> file. See <span class="q">&#34;<a href="oci10new.htm#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691">File (oraaccess.xml) Properties</a>&#34;</span> for a description of the syntax.</p>
</td>
<td class="cellalignment6197" headers="d120074e4478 d120074e4441">
<p>Only auto-tuning related. If auto-tuning is disabled, this parameter setting is ignored. This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.</p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6197" id="d120074e4513" headers="d120074e4435">
<p><code class="codeph">&lt;memory_target&gt;1048576&lt;/memory_target&gt;</code></p>
</td>
<td class="cellalignment6214" headers="d120074e4513 d120074e4438">
<p>Optional setting.</p>
<p>This is the upper limit of memory used for auto tuning within a client process.</p>
<p>Note each connection can potentially have its own setting of auto tuning parameters so these values can add up for the whole process based on configuration settings. It is preferable to use this parameter hence in the <code class="codeph">&lt;default_parameters&gt;</code> section of the <code class="codeph">oraaccess.xml</code> file.</p>
<p>See <span class="q">&#34;<a href="oci10new.htm#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691">File (oraaccess.xml) Properties</a>&#34;</span> for a description of the syntax.</p>
<p>Value is in bytes. 1,048,576 bytes is 1 MB.</p>
</td>
<td class="cellalignment6197" headers="d120074e4513 d120074e4441">
<p>Only auto-tuning related. If auto-tuning is disabled, this parameter setting is ignored. This parameter must be specified within the <code class="codeph">&lt;auto_tune&gt;&lt;/auto_tune&gt;</code> deployment setting.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="LNOCI73020"></a>
<div class="props_rev_3"><a id="GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0"></a>
<h3 id="LNOCI-GUID-A3B6A67A-9DB9-41DC-9D73-DC8557808EF0" class="sect3">Usage Examples of Client Statement Cache Auto Tuning</h3>
<div>
<p>The following are some usage examples showing use and interaction of client statement cache auto-tuning parameters that are also connection specific parameters.</p>
<pre dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre>
<p>The programmatic statement cache size will be replaced by this setting. Auto-tuning is disabled and cache is managed per LRU. In this case, the application developer believes the OCI application statement prefetching programmatic settings do not need to be overridden.</p>
<pre dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
&lt;/auto_tune&gt;
</pre>
<p>Auto-tuning is enabled along with internal default settings as described in <a href="oci10new.htm#GUID-C69F99D2-2EAC-4A5E-BD7D-7266765C45C2" title="This parameter is optional and sets the limit for the statement caching tunable component.">&lt;statement_cache&gt;</a>.</p>
<pre dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;memory_target&gt;40M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre>
<p>This statement caching deployment setting of 100 will replace the programmatic statement cache size and because auto-tuning is enabled, statement caching will be auto-tuned. The memory target setting is in effect because auto-tuning is enabled.</p>
<p>Auto tuning will always try to limit total statement cache memory used around a memory target. If a memory target is not specified, it is based on the percentage of total installed RAM.</p>
<p>In this case, the memory limit is the specified memory target.</p>
</div>
</div>
<a id="LNOCI73025"></a>
<div class="props_rev_3"><a id="GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289"></a>
<h3 id="LNOCI-GUID-02A81F8A-84F7-44AB-942F-5F8BFA878289" class="sect3">Enabling and Disabling OCI Client Auto-Tuning</h3>
<div>
<p>The following conditions enable and disable OCI client auto-tuning:</p>
<ul style="list-style-type: disc;">
<li>
<p>Auto-tuning is enabled when the client <code class="codeph">oraaccess.xml</code> <code class="codeph">&lt;auto_tune&gt;</code> section is added with enable specified as true, <code class="codeph">&lt;enable&gt;true&lt;/enable&gt;</code></p>
</li>
<li>
<p>Auto-tuning is disabled by default or when enable is set to false, &lt;enable&gt;false&lt;/enable&gt; in <code class="codeph">oraaccess.xml</code> under the <code class="codeph">&lt;auto_tune&gt;</code> section.</p>
</li>
</ul>
</div>
</div>
<a id="LNOCI73022"></a>
<div class="props_rev_3"><a id="GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63"></a>
<h3 id="LNOCI-GUID-ECB2DEFC-6DCE-41C8-8A9C-162A13745E63" class="sect3">Usage Guidelines for Auto-Tuning Client Statement Cache</h3>
<div>
<p>The following are some guidelines to use when setting the auto-tuning parameters:</p>
<ul style="list-style-type: disc;">
<li>
<p>When either client response, memory allocation, or client CPU is high and you want to gain performance without rebuilding the OCI application, you can use <code class="codeph">&lt;auto_tune&gt;</code> settings or deployment <code class="codeph">&lt;statement_cache&gt;</code> settings. Auto tuning may also decrease the network bytes transferred between client and server.</p>
</li>
<li>
<p>When AWR or ADDM reports lots of parses and you cannot or you may prefer not to programmatically modify the statement cache size, you can specify auto-tuning for statement cache or use the deployment statement cache setting <code class="codeph">&lt;statement_cache&gt;</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="LNOCI73053"></a><a id="LNOCI73052"></a>
<div class="props_rev_3"><a id="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2"></a>
<h2 id="LNOCI-GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" class="sect2">OCI Client-Side Deployment Parameters Using oraaccess.xml</h2>
<div>
<p>Describes the OCI client-side deployment parameters using oraaccess.xml.</p>
<div class="p">This section includes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C">About oraaccess.xml</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B">About Client-Side Deployment Parameters Specified in oraaccess.xml</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" title="Describes the high-level structure of the oraaccess.xml file.">High Level Structure of oraaccess.xml</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" title="As described, the &lt;default_parameters&gt; tag allows specifying default values for various OCI parameters.">About Specifying Global Parameters in oraaccess.xml</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0">About Specifying Defaults for Connection Parameters</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" title="Using the oraaccess.xml file also allows you to override the very same set of connection-specific parameters at the connection-string level as well.">Overriding Connection Parameters at the Connection-String Level</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691">File (oraaccess.xml) Properties</a></p>
</li>
</ul>
</div>
</div>
<div class="props_rev_3"><a id="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C"></a>
<h3 id="LNOCI-GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" class="sect3">About oraaccess.xml</h3>
<div>
<p>Starting with Oracle Database Release 12<span class="italic">c</span> Release 1 (12.1), Oracle provides an <code class="codeph">oraaccess.xml</code> file, a client-side configuration file. You can use the <code class="codeph">oraaccess.xml</code> file to configure selected OCI parameters (some of which are accepted programatically in various OCI API calls), thereby allowing OCI behavior to be changed during deployment without modifying the source code that calls OCI.</p>
<p>Updates to the <code class="codeph">oraaccess.xml</code> file will not affect already running clients. In order to pick up any updates to the <code class="codeph">oraaccess.xml</code> file, already running clients need to be restarted.</p>
<p>The <code class="codeph">oraaccess.xml</code> file is read from the directory specified by the <code class="codeph">TNS_ADMIN</code> environment variable in regular and instant client installations. This is the <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/network/admin</code> directory on UNIX operating systems and the <span class="italic"><code class="codeph">%ORACLE_HOME%</code></span><code class="codeph">\NETWORK\ADMIN</code> directory on Microsoft Windows operating systems, if <code class="codeph">TNS_ADMIN</code> is not set in regular client installations.</p>
</div>
</div>
<a id="LNOCI73054"></a>
<div class="props_rev_3"><a id="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B"></a>
<h3 id="LNOCI-GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" class="sect3">About Client-Side Deployment Parameters Specified in oraaccess.xml</h3>
<div>
<p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.</p>
<p>In such cases, Oracle recommends using the <code class="codeph">oraaccess.xml</code> file settings moving forward. For any network configuration, the <code class="codeph">sqlnet.ora</code> file continues to be the primary file as network level settings are not supported in the <code class="codeph">oraaccess.xml</code> file.</p>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06"></a>
<h3 id="LNOCI-GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" class="sect3">High Level Structure of oraaccess.xml</h3>
<div>
<p>Describes the high-level structure of the <code class="codeph">oraaccess.xml</code> file.</p>
<p>The <code class="codeph">oraaccess.xml</code> file has a top-level node <code class="codeph">&lt;oraaccess&gt;</code> with the following three elements:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;default_parameters&gt;</code> - This element describes any default parameter settings shared across connections. These default parameters include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Defaults for global parameters - These global parameters can only be specified once and hence are applicable to all connections and cannot be overridden at the connection level. These parameters are specified using the following tags:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;events&gt;</code> - Creates the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode, which is required for Fast Application Notification (FAN) and runtime connection load balancing</p>
</li>
<li>
<p><code class="codeph">&lt;result_cache&gt;</code> - Sets OCI client result cache parameters</p>
</li>
<li>
<p><code class="codeph">&lt;diag&gt;</code> - Sets OCI fault diagnosability parameters</p>
</li>
</ul>
</li>
<li>
<p>Defaults for connection-specific parameters - Connection parameters can be set to different values for specific connections. However, they too can be defaulted, and overridden on a per connection string basis as needed. These defaults are shared across all connections (unless overridden at the connection level, which is described in the <code class="codeph">&lt;config_descriptions&gt;</code> list item) that follows. These defaults are specified by the following tags:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;prefetch&gt;</code> - Sets the number of prefetch rows for all queries; specified using the <code class="codeph">&lt;rows&gt;</code> parameter.</p>
</li>
<li>
<p><code class="codeph">&lt;statement_cache&gt;</code> - Sets the maximum number of statements that can be cached per session; specified using the <code class="codeph">&lt;size&gt;</code> parameter.</p>
</li>
<li>
<p><code class="codeph">&lt;auto tune&gt;</code> - Consists of: <code class="codeph">&lt;enable&gt;</code> to turn auto tuning on or off; <code class="codeph">&lt;ram_threshold&gt;</code>, which sets the memory threshold for auto-tuning to stop using more memory when available physical memory on the client system has reached this threshold; and <code class="codeph">&lt;memory_target&gt;</code>, which sets the memory limit that OCI auto-tuning can use per client process.</p>
</li>
<li>
<p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - Sets the action upon subscription failure to be either the value <code class="codeph">trace</code> or <code class="codeph">error</code>.</p>
</li>
<li>
<p><code class="codeph">&lt;ons&gt;</code> - Sets a variety of ONS client-side deployment configuration parameters used for FAN notifications.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code class="codeph">&lt;config_descriptions&gt;</code> - This element associates a configuration alias element (<code class="codeph">&lt;config_alias&gt;</code>), which is basically a name, with a specific set of parameters (<code class="codeph">&lt;parameters&gt;</code>) that contain one or more connection parameters. These connection parameters are the same connection parameters within the element <code class="codeph">&lt;default_parameters&gt;</code> described previously, namely: <code class="codeph">&lt;prefetch&gt;</code>, <code class="codeph">&lt;statement_cache&gt;</code>, <code class="codeph">&lt;auto_tune&gt;</code>, <code class="codeph">&lt;fan_subscription_failure_action&gt;</code> and <code class="codeph">&lt;ons&gt;</code>.</p>
</li>
<li>
<p><code class="codeph">&lt;connection_configs&gt;</code> - This element associates one or more connection strings used by an application with a config alias, thus allowing multiple connection string elements to share the same set of parameters.</p>
<p>A connection configuration element (<code class="codeph">&lt;connection_config&gt;</code>) associates a connection string element (<code class="codeph">&lt;connection_string&gt;</code>) with a configuration alias element (<code class="codeph">&lt;config_alias&gt;</code>).</p>
<p>A connection string is indirectly associated with a set of parameters through the configuration alias, which allows multiple connection string elements to share the same set of parameters.</p>
</li>
</ul>
<p>The sections that follow describe these client-side deployment parameters in more detail.</p>
<div class="infoboxnotealso" id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06__GUID-4BA6A0B8-C4EE-4F12-8CAA-966EED83E479">
<p class="notep1">See Also:</p>
<p><a href="oci10new.htm#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0">About Specifying Defaults for Connection Parameters</a></p>
</div>
</div>
</div>
<a id="LNOCI80678"></a>
<div class="props_rev_3"><a id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8"></a>
<h3 id="LNOCI-GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" class="sect3">About Specifying Global Parameters in oraaccess.xml</h3>
<div>
<p>As described, the <code class="codeph">&lt;default_parameters&gt;</code> tag allows specifying default values for various OCI parameters.</p>
<p>Of these, some parameters can only be specified once and hence apply to all connections. These global parameters are described using the following tags:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;events&gt;</code></p>
<p>This creates the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode, which is required for Fast Application Notification (FAN) and runtime connection load balancing.</p>
<pre dir="ltr">&lt;events&gt;
  true &lt;!--value could be false also --&gt;
&lt;/events&gt; 
</pre></li>
<li>
<p><code class="codeph">&lt;result_cache&gt;</code></p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;max_rset_rows&gt;</code> - Maximum size of any result set in rows in the per-process query cache. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code> in the <code class="codeph">sqlnet.ora</code> file.</p>
</li>
<li>
<p><code class="codeph">&lt;max_rset_size&gt;</code> - Maximum client result cache size. Set the size to 32,768 bytes (32 Kilobytes (KB)) or greater. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code> in the <code class="codeph">sqlnet.ora</code> file.</p>
</li>
<li>
<p><code class="codeph">&lt;max_size&gt;</code> - Maximum size in bytes for the per-process query cache. Specifying a size less than 32,768 in the client disables the client result cache feature. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code> in the <code class="codeph">sqlnet.ora</code> file.</p>
</li>
</ul>
<pre dir="ltr">&lt;result_cache&gt;
      &lt;max_rset_rows&gt;10&lt;/max_rset_rows&gt;
      &lt;max_rset_size&gt;65535&lt;/max_rset_size&gt;
      &lt;max_size&gt;65535&lt;/max_size&gt;
&lt;/result_cache&gt;
</pre>
<p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.</p>
<p>See <a href="oci10new.htm#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">Table 10-2</a> for a listing of equivalent OCI parameter settings.</p>
</li>
<li>
<p><code class="codeph">&lt;diag&gt;</code></p>
<p>You can specify the following elements:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;adr_enabled&gt;</code> - Enables or disables diagnosability. Equivalent to <code class="codeph">DIAG_ADR_ENABLED</code> in the <code class="codeph">sqlnet.ora</code> file. Values: true or false.</p>
</li>
<li>
<p><code class="codeph">&lt;dde_enabled&gt;</code> - Enables or disables DDE. Values: true or false.</p>
</li>
<li>
<p><code class="codeph">&lt;adr_base&gt;</code> - Sets the ADR base directory, which is a system-dependent directory path string to designate the location of the ADR base to use in the current ADRCI session. Equivalent to <code class="codeph">ADR_BASE</code> in the <code class="codeph">sqlnet.ora</code> file. Value: directory path for ADR base directory.</p>
</li>
<li>
<p><code class="codeph">&lt;sighandler_enabled&gt;</code> - Enables or disables OCI signal handler. Values: true or false.</p>
</li>
<li>
<p><code class="codeph">&lt;restricted&gt;</code> - Enables or disables full dump files. Oracle Database client contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information, to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended to turn on full dumps; this can greatly speed resolution of issues. Full dumps can be enabled by specifying a value of false. Values: true or false.</p>
</li>
<li>
<p><code class="codeph">&lt;trace_events&gt;</code> - Indicates the trace event number and the level of tracing to be in effect. Currently only event 10883 is supported. The available levels are 5 and 10.</p>
</li>
</ul>
<pre dir="ltr">&lt;diag&gt;
   &lt;adr_enabled&gt;false&lt;/adr_enabled&gt;
   &lt;dde_enabled&gt;false&lt;/dde_enabled&gt;
   &lt;adr_base&gt;/foo/adr&lt;/adr_base&gt;
   &lt;sighandler_enabled&gt;false&lt;/sighandler_enabled&gt;
   &lt;restricted&gt;true&lt;/restricted&gt;
   &lt;trace_events&gt;
     &lt;trace_event&gt;
       &lt;number&gt;10883&lt;/number&gt;
       &lt;level&gt;5&lt;/level&gt;
     &lt;/trace_event&gt;
   &lt;/trace_events&gt;
&lt;/diag&gt;
</pre>
<p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.</p>
<p>See <a href="oci10new.htm#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">Table 10-2</a> for a listing of equivalent OCI parameter settings.</p>
<div class="tblformal" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB">
<p class="titleintable">Table 10-2 Equivalent OCI Parameter Settings in oraaccess.xml and sqlnet.ora</p>
<table class="cellalignment6265" title="Equivalent OCI Parameter Settings in oraaccess.xml and sqlnet.ora" summary="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">
<thead>
<tr class="cellalignment6151">
<th class="cellalignment6166" id="d120074e6244">Parameter Group</th>
<th class="cellalignment6166" id="d120074e6247">oraaccess.xml Parameters</th>
<th class="cellalignment6173" id="d120074e6250">sqlnet.ora Parameters</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment6151">
<td class="cellalignment6170" id="d120074e6255" headers="d120074e6244">
<p>OCI client result cache</p>
</td>
<td class="cellalignment6170" headers="d120074e6255 d120074e6247">
<p><code class="codeph">&lt;max_rset_rows&gt;</code></p>
</td>
<td class="cellalignment6174" headers="d120074e6255 d120074e6250">
<p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code></p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6170" id="d120074e6267" headers="d120074e6244">
<p>OCI client result cache</p>
</td>
<td class="cellalignment6170" headers="d120074e6267 d120074e6247">
<p><code class="codeph">&lt;max_rset_size&gt;</code></p>
</td>
<td class="cellalignment6174" headers="d120074e6267 d120074e6250">
<p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6170" id="d120074e6279" headers="d120074e6244">
<p>OCI client result cache</p>
</td>
<td class="cellalignment6170" headers="d120074e6279 d120074e6247">
<p><code class="codeph">&lt;max_size&gt;</code></p>
</td>
<td class="cellalignment6174" headers="d120074e6279 d120074e6250">
<p><code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6170" id="d120074e6291" headers="d120074e6244">
<p>OCI fault diagnosability</p>
</td>
<td class="cellalignment6170" headers="d120074e6291 d120074e6247">
<p><code class="codeph">&lt;adr_enabled&gt;</code></p>
</td>
<td class="cellalignment6174" headers="d120074e6291 d120074e6250">
<p><code class="codeph">DIAG_ADR_ENABLED</code></p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6170" id="d120074e6303" headers="d120074e6244">
<p>OCI fault diagnosability</p>
</td>
<td class="cellalignment6170" headers="d120074e6303 d120074e6247">
<p><code class="codeph">&lt;dde_enabled&gt;</code></p>
</td>
<td class="cellalignment6174" headers="d120074e6303 d120074e6250">
<p><code class="codeph">DIAG_DDE_ENABLED</code></p>
</td>
</tr>
<tr class="cellalignment6151">
<td class="cellalignment6170" id="d120074e6315" headers="d120074e6244">
<p>OCI fault diagnosability</p>
</td>
<td class="cellalignment6170" headers="d120074e6315 d120074e6247">
<p><code class="codeph">&lt;adr_base&gt;</code></p>
</td>
<td class="cellalignment6174" headers="d120074e6315 d120074e6250">
<p><code class="codeph">ADR_BASE</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
</ul>
<div class="infoboxnotealso" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__GUID-AE7680E8-9D18-484B-B6FE-0892A5F3709E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADFNS213" target="_blank" href="../ADFNS/adfns_perf_scale.htm#ADFNS213"><span><cite>Oracle Database Development Guide</cite></span></a> for information about deployment time settings for client result cache and client configuration file parameters</p>
</li>
<li>
<p><a class="olink NETRF397" target="_blank" href="../NETRF/sqlnet.htm#NETRF397"><span><cite>Oracle Database Net Services Reference</cite></span></a> for more information about ADR diagnostic parameters in the <code class="codeph">sqlnet.ora</code> file</p>
</li>
</ul>
</div>
</div>
</div>
<a id="LNOCI73064"></a>
<div class="props_rev_3"><a id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0"></a>
<h3 id="LNOCI-GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" class="sect3">About Specifying Defaults for Connection Parameters</h3>
<div>
<p>You can specify the following connection parameters that are shared across connections:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;prefetch&gt;</code> - Specifies prefetch row count for <code class="codeph">SELECT</code> statements.</p>
<pre dir="ltr">&lt;prefetch&gt;
  &lt;rows&gt;100&lt;/rows&gt;
&lt;/prefetch&gt;
</pre>
<p>Setting this parameter appropriately can help reduce round-trips to the database, thereby improving application performance.</p>
<p>Note that this only overrides the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> parameter (whether explicitly specified by the application or not). If the application has specified <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> explicitly, then the actual prefetch row count will be determined by using both constraints. The <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> constraint equivalent cannot be specified in the <code class="codeph">oraaccess.xml</code> file.</p>
<p>Also note that OCI prefetching may still get disabled if the <code class="codeph">SELECT</code> statement fetches columns of specific data types. For more details, see <span class="q">&#34;<a href="oci04sql.htm#GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" title="If an OCI application has processed a query, it is typically necessary to fetch the results with OCIStmtFetch2() after the statement has completed execution.">About Fetching Results</a>&#34;</span> for information about limitations of OCI prefetch.</p>
</li>
<li>
<p><code class="codeph">&lt;statement_cache&gt;</code> - Specifies the number of OCI Statement handles that can be cached per session.</p>
<pre dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre>
<p>Caching statement handles improves repeat execute performance by reducing client side and server side CPU consumption and network traffic.</p>
<p>Note that for this parameter to take effect, the application must be programmed to use <code class="codeph">OCIStatementPrepare2()</code> and <code class="codeph">OCIStatementRelease()</code> calls (and not the older <code class="codeph">OCISatementPrepare()</code> and <code class="codeph">OCIHandleFree()</code> equivalents for getting and disposing of statement handles.</p>
</li>
<li>
<p><code class="codeph">&lt;auto_tune&gt;</code> - Used to enable OCI Auto tuning.</p>
<p>See <span class="q">&#34;<a href="oci10new.htm#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="This section specifies auto tune parameters.">&lt;auto_tune&gt;</a>&#34;</span>. See <span class="q">&#34;<a href="oci10new.htm#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="This parameter is optional.">&lt;ram_threshold&gt;</a>&#34;</span>. See <span class="q">&#34;<a href="oci10new.htm#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="This parameter is optional.">&lt;memory_target&gt;</a>&#34;</span>.</p>
<pre dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;ram_threshold&gt;0.1&lt;/ram_threshold&gt;&lt;!--percentage --&gt;
  &lt;memory target&gt;2M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre>
<p>Enabling auto-tuning can help OCI automatically tune the statement-cache size based on specified memory constraints. This can help dynamically tune the statement cache size to an appropriate value based on runtime application characteristics and available memory resources.</p>
<p>Note that for auto tuning OCI Statement Cache, the application must be programmed to use <code class="codeph">OCIStatementPrepare2()</code> and <code class="codeph">OCIStatementRelease()</code> calls (and not the older <code class="codeph">OCISatementPrepare()</code> and <code class="codeph">OCIHandleFree()</code> equivalents for getting and disposing of statement handles.</p>
</li>
<li>
<p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - Used to determine how OCI responds to a failure to subscribe for FAN notifications.</p>
<p>A value of <code class="codeph">trace</code> records any failure to subscribe for FAN notifications (if FAN is enabled) in the trace file and OCI proceeds ignoring the failure. A value of <code class="codeph">error</code> makes OCI return an error if an attempt to subscribe for FAN notifications fails.</p>
<pre dir="ltr">&lt;fan&gt;
  &lt;!--only possible values are &#34;trace&#34; and &#34;error&#34; --&gt;
  &lt;subscription_failure_action&gt;
    trace
  &lt;/subscription_failure_action&gt;
&lt;/fan&gt;
</pre></li>
<li>
<p><code class="codeph">&lt;ons&gt;</code> - Sets up Oracle Notification Service (ONS) parameters.</p>
<p>You can specify the following connection parameters:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">&lt;subscription_wait_timeout&gt;</code> - Length of time in seconds the client waits for its subscription to the ONS server.</p>
</li>
<li>
<p><code class="codeph">&lt;auto_ config&gt;</code> - true or false. If true, the configuration specified in this section will augment the auto configuration information that the client receives from the database. If false, it will override the same.</p>
</li>
<li>
<p><code class="codeph">&lt;thread_stack_size&gt;</code> - Size in bytes of the event notification thread stack.</p>
</li>
<li>
<p><code class="codeph">&lt;debug&gt;</code> - true or false. Whether debug mode is on (true) or off (false).</p>
</li>
<li>
<p><code class="codeph">&lt;servers&gt;</code> - Host list with ports and connection distribution.</p>
</li>
</ul>
<pre dir="ltr">&lt;ons&gt; 
  &lt;!--values or in seconds --&gt;
  &lt;subscription_wait_timeout&gt;
    5
  &lt;/subscription_wait_timeout&gt;
  &lt;auto_config&gt;true&lt;/auto_config&gt; &lt;!--boolean --&gt;
  &lt;threadstacksize&gt;100k&lt;/threadstacksize&gt;
  &lt;debug&gt;true&lt;/debug&gt;
</pre>
<pre dir="ltr">  &lt;servers&gt;
    &lt;address_list&gt;
       &lt;name&gt;pacific&lt;/name&gt;
       &lt;max_connections&gt; 3 &lt;\max_connections&gt;
       &lt;hosts&gt;
         10.228.215.121:25293,
         10.228.215.122:25293
       &lt;/hosts&gt;
    &lt;/address_list&gt;
    &lt;address_list&gt;
       &lt;name&gt;Europe&lt;/name&gt;
       &lt;max_connections&gt;3&lt;\max_connections&gt;
       &lt;hosts&gt;
         myhost1.mydomain.com:25273,
         myhost2.mydomain.com:25298,
         myhost3.mydomain.com:30004
       &lt;/hosts&gt;
    &lt;/address_list&gt;
  &lt;/servers&gt;
&lt;/ons&gt;
</pre>
<div class="infoboxnotealso" id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0__GUID-74D6F1D6-5D4E-4FF7-A533-F3B472EF1AB7">
<p class="notep1">See Also:</p>
<p><a class="olink JJUCP8275" target="_blank" href="../JJUCP/rac.htm#JJUCP8275"><span class="italic">Oracle Universal Connection Pool for JDBC Developer&#39;s Guide</span></a> for information about ONS configuration parameters</p>
</div>
</li>
</ul>
</div>
</div>
<div class="props_rev_3"><a id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528"></a>
<h3 id="LNOCI-GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" class="sect3">Overriding Connection Parameters at the Connection-String Level</h3>
<div>
<p>Using the <code class="codeph">oraaccess.xml</code> file also allows you to override the very same set of connection-specific parameters at the connection-string level as well.</p>
<div class="section">
<p>This allows for overriding those connection-specific parameters based on requirements of individual applications.</p>
<p>Using the <code class="codeph">&lt;config_descriptions&gt;</code> tag, you can specify a set of connection-specific parameters (<code class="codeph">&lt;parameters&gt;</code>) to be associated with a configuration alias (<code class="codeph">&lt;config_alias&gt;</code>, which creates a named group of connection-specific parameters). Thereafter, using the <code class="codeph">&lt;connection_configs&gt;</code> tag, you can associate one or more connection-strings (specified using the <code class="codeph">&lt;connection-string&gt;</code> tag) with a <code class="codeph">&lt;config_alias&gt;</code>. This permits a level of indirection that allows multiple <code class="codeph">&lt;connection_string&gt;</code> elements to share the same set of <code class="codeph">&lt;parameters&gt;</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example 1</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This example shows a very simple <code class="codeph">oraaccess.xml</code> file configuration that highlights defaulting of global and connection parameters applicable across all connections.</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;ASCII&#34; ?&gt; 
&lt;!--
     Here is a sample oraaccess.xml.
     This shows defaulting of global and connection parameters 
     across all connections. 
--&gt;
 &lt;oraaccess xmlns=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
  xmlns:oci=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
  schemaLocation=&#34;http://xmlns.oracle.com/oci/oraaccess
  http://xmlns.oracle.com/oci/oraaccess.xsd&#34;&gt;
  &lt;default_parameters&gt;
    &lt;prefetch&gt;
      &lt;rows&gt;50&lt;/rows&gt; 
    &lt;/prefetch&gt;
    &lt;statement_cache&gt;
      &lt;size&gt;100&lt;/size&gt; 
    &lt;/statement_cache&gt;
    &lt;result_cache&gt;
      &lt;max_rset_rows&gt;100&lt;/max_rset_rows&gt; 
      &lt;max_rset_size&gt;10K&lt;/max_rset_size&gt; 
      &lt;max_size&gt;64M&lt;/max_size&gt; 
    &lt;/result_cache&gt;
  &lt;/default_parameters&gt;
&lt;/oraaccess&gt;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example 2</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This example shows connection parameters being overridden at the connection level.</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;ASCII&#34; ?&gt; 
&lt;!-- 
        Here is a sample oraaccess.xml. 
        This highlights some connection parameters being
        overridden at the connection level
     --&gt; 
 &lt;oraaccess xmlns=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
  xmlns:oci=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
  schemaLocation=&#34;http://xmlns.oracle.com/oci/oraaccess
  http://xmlns.oracle.com/oci/oraaccess.xsd&#34;&gt;
  &lt;default_parameters&gt;
    &lt;prefetch&gt;
      &lt;rows&gt;50&lt;/rows&gt; 
    &lt;/prefetch&gt;
    &lt;statement_cache&gt;
      &lt;size&gt;100&lt;/size&gt; 
    &lt;/statement_cache&gt;
    &lt;auto_tune&gt;
      &lt;enable&gt;true&lt;/enable&gt; 
      &lt;ram_threshold&gt;2.67&lt;/ram_threshold&gt; 
      &lt;memory_target&gt;204800&lt;/memory_target&gt; 
    &lt;/auto_tune&gt;
    &lt;result_cache&gt;
      &lt;max_rset_rows&gt;100&lt;/max_rset_rows&gt; 
      &lt;max_rset_size&gt;10K&lt;/max_rset_size&gt; 
      &lt;max_size&gt;64M&lt;/max_size&gt; 
    &lt;/result_cache&gt;
  &lt;/default_parameters&gt;
    &lt;!-- 
         Create configuration descriptions, which are  
         groups of connection parameters associated with
         a config_alias. 
    --&gt; 
  &lt;config_descriptions&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt;bar&lt;/config_alias&gt; 
      &lt;parameters&gt;
        &lt;prefetch&gt;
          &lt;rows&gt;20&lt;/rows&gt; 
        &lt;/prefetch&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt;foo&lt;/config_alias&gt; 
      &lt;parameters&gt;
        &lt;statement_cache&gt;
          &lt;size&gt;15&lt;/size&gt; 
        &lt;/statement_cache&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
  &lt;/config_descriptions&gt;
  &lt;!--   
         Now map the connection string used by the application 
         with a config_alias.  
  --&gt; 
  &lt;connection_configs&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;hr_db&lt;/connection_string&gt; 
      &lt;config_alias&gt;foo&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;finance_db&lt;/connection_string&gt; 
      &lt;config_alias&gt;bar&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
  &lt;/connection_configs&gt;
&lt;/oraaccess&gt;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example 3</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This example highlights setup for FAN notifications.</p>
<pre dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;ASCII&#34; ?&gt; 
   &lt;!--
    Here is a sample for oraaccess.xml for 
    setting up for FAN notifications.
   --&gt; 
  &lt;oraaccess xmlns=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
    xmlns:oci=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
    schemaLocation=&#34;http://xmlns.oracle.com/oci/oraaccess
    http://xmlns.oracle.com/oci/oraaccess.xsd&#34;&gt;
    &lt;default_parameters&gt;
      &lt;fan&gt;
        &lt;!-- only possible values are &#34;trace&#34; or &#34;error&#34; --&gt; 
        &lt;subscription_failure_action&gt;
          error
        &lt;/subscription_failure_action&gt; 
      &lt;/fan&gt;
      &lt;ons&gt;
        &lt;subscription_wait_timeout&gt;
          5
        &lt;/subscription_wait_timeout&gt; 
        &lt;auto_config&gt;true&lt;/auto_config&gt;  
      &lt;/ons&gt;
    &lt;events&gt;true&lt;/events&gt; 
    &lt;/default_parameters&gt;
  &lt;/oraaccess&gt;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example 4</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This example highlights an advanced <code class="codeph">oraaccess.xml</code> file configuration usage with manual ONS settings. Manual ONS settings should be used rarely.</p>
<pre dir="ltr">  &lt;?xml version=&#34;1.0&#34; encoding=&#34;ASCII&#34; ?&gt; 
    &lt;!-- 
       Here is a sample for oraaccess.xml that highlights
       manual ONS settings.
    --&gt; 
  &lt;oraaccess xmlns=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
    xmlns:oci=&#34;http://xmlns.oracle.com/oci/oraaccess&#34;
    schemaLocation=&#34;http://xmlns.oracle.com/oci/oraaccess
    http://xmlns.oracle.com/oci/oraaccess.xsd&#34;&gt;
    &lt;default_parameters&gt;
      &lt;fan&gt;
       &lt;!-- only possible values are &#34;trace&#34; or &#34;error&#34;  --&gt; 
        &lt;subscription_failure_action&gt;
          error
        &lt;/subscription_failure_action&gt; 
      &lt;/fan&gt;
      &lt;ons&gt;
        &lt;subscription_wait_timeout&gt;
          5
        &lt;/subscription_wait_timeout&gt; 
        &lt;auto_config&gt;true&lt;/auto_config&gt;  
        &lt;!--This provides the manual configuration for ONS.
            Note that this functionality should not need to be used
            as auto_config can normally discover this 
            information. --&gt; 
        &lt;servers&gt;
          &lt;address_list&gt;
            &lt;name&gt;pacific&lt;/name&gt; 
            &lt;max_connections&gt;3&lt;/max_connections&gt; 
            &lt;hosts&gt;10.228.215.121:25293, 10.228.215.122:25293&lt;/hosts&gt; 
          &lt;/address_list&gt;
          &lt;address_list&gt;
            &lt;name&gt;Europe&lt;/name&gt; 
            &lt;max_connections&gt;3&lt;/max_connections&gt; 
            &lt;hosts&gt;myhost1.mydomain.com:25273, 
              myhost2.mydomain.com:25298, 
              myhost3.mydomain.com:30004&lt;/hosts&gt; 
          &lt;/address_list&gt;
        &lt;/servers&gt;
      &lt;/ons&gt;
      &lt;events&gt;true&lt;/events&gt; 
    &lt;/default_parameters&gt;
  &lt;/oraaccess&gt;
</pre></div>
<!-- class="section" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-F506AE50-2ADE-4582-8CC8-7289925F3AD8">
<p class="notep1">See Also:</p>
<p><a href="oci10new.htm#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0">About Specifying Defaults for Connection Parameters</a> about overriding the very same set of connection-specific parameters at the connection-string level</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI73068"></a>
<div class="props_rev_3"><a id="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691"></a>
<h3 id="LNOCI-GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" class="sect3">File (oraaccess.xml) Properties</h3>
<div>
<p>Listed are some high level rules with regards to the <code class="codeph">oraaccess.xml</code> file syntax stated here for simplicity. The XML schema specified in the <code class="codeph">oraaccess.xsd</code> file is the ultimate formal reference for oraaccess syntax:</p>
<ul style="list-style-type: disc;">
<li>
<p>The contents of the file are case sensitive, and all elements (tags, parameter names) are in lower case.</p>
</li>
<li>
<p><span class="bold">TBD:</span> XML Schema (Provide definition of schema, and also the details of where it is located (most likely $ORACLE_HOME/rdbms/admin/)) to validate the file. If file is invalid, the application throws a proper error and stops.</p>
</li>
<li>
<p>Comments are allowed between parameters (nodes); for example, Comment &#34;&lt;!-- comments --&gt;&#34;.</p>
</li>
<li>
<p>For the syntax with respect to the order of the parameters, see the XML Schema: <code class="codeph">oraaccess.xsd</code> file (see information about the <code class="codeph">oraaccess.xsd</code> file later in this list).</p>
</li>
<li>
<p>For memory size, valid values and formats are 100, 100k, 100K, 1000M, and 1121m. This means only suffixes &#39;M&#39;, &#39;m&#39;, &#39;K&#39;, &#39;k&#39;, or no suffix are allowed. &#39;K&#39; or &#39;k&#39; means kilobytes and &#39;M&#39; or &#39;m&#39; means megabytes. No suffix means the size is in bytes.</p>
</li>
<li>
<p>&lt;ram_threshold&gt; should be a decimal number between 0 and 100 and indicates a percentage value.</p>
</li>
<li>
<p>Where a number is expected, only positive unsigned integers are allowed; no sign is allowed. An example of a valid number usage is <code class="codeph">&lt;statement_cache&gt; &lt;size&gt;100&lt;/size&gt; &lt;/statement_cache&gt;</code>).</p>
</li>
<li>
<p>Configuration alias names (<code class="codeph">&lt;config_alias&gt;foo&lt;/config_alias&gt;</code>) are not case-sensitive</p>
</li>
<li>
<p>String parameters (such as <code class="codeph">&lt;config_alias&gt;</code>) are not expected to be quoted.</p>
</li>
<li>
<p>These rules are all encapsulated in the schema definition.</p>
</li>
<li>
<p>OCI will report an error if OCI is provided an invalid <code class="codeph">oraaccess.xml</code> file.</p>
</li>
<li>
<p>Before deploying an <code class="codeph">oraaccess.xml</code> file, Oracle recommends that you validate it with the Oracle supplied XML schema file: <code class="codeph">oraaccess.xsd</code>. The schema file is installed under <code class="codeph">ORACLE_HOME/rdbms/admin</code> in a regular client and under <code class="codeph">instantclient_12_1/sdk/admin</code> in an instant client SDK. Customers can use their own favorite XML validation tools to perform the validation after modifying the <code class="codeph">oraaccess.xml</code> file.</p>
</li>
<li>
<p>Sample <code class="codeph">oraaccess.xml</code> files can be found in the <code class="codeph">ORACLE_HOME/rdbms/demo</code> directory in a regular client and in the <code class="codeph">instantclient_12_1/sdk/demo</code> in an instant client. The parameters in these files are for demonstration purpose only and should be modified and tested as per the application&#39;s requirement before deploying it.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="LNOCI73070"></a><a id="LNOCI1020"></a>
<div class="props_rev_3"><a id="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1"></a>
<h2 id="LNOCI-GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" class="sect2">Fault Diagnosability in OCI</h2>
<div>
<div class="p">This section describes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176">About Fault Diagnosability in OCI</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-6C60D154-9576-4C84-80F3-04DE75063C00" title="Describes how the location of the ADR base is determined.">ADR Base Location</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47">Using ADRCI</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C">Controlling ADR Creation and Disabling Fault Diagnosability Using sqlnet.ora</a></p>
</li>
</ul>
</div>
</div>
<a id="LNOCI73071"></a>
<div class="props_rev_3"><a id="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176"></a>
<h3 id="LNOCI-GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" class="sect3">About Fault Diagnosability in OCI</h3>
<div>
<p><a id="d120074e7454" class="indexterm-anchor"></a>Fault diagnosability was introduced into OCI in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). An incident (an occurrence of a problem) on the OCI client is captured without user intervention in the form of diagnostic data: dump files or core dump files. Up to Release 11.2.0.1, the diagnostic data was stored in an <a id="d120074e7460" class="indexterm-anchor"></a><a id="d120074e7462" class="indexterm-anchor"></a>Automatic Diagnostic Repository (ADR) subdirectory created for the incident. For example, if a Linux or UNIX application fails with a <code class="codeph">NULL</code> pointer reference, then the core file is written in the ADR home directory (if it exists) instead of the operating system directory. The ADR subdirectory structure and a utility to deal with the output, ADR Command Interpreter (ADRCI), are discussed in the following sections. However, beginning with Release 11.2.0.2, the diagnostic data is stored in the current directory.</p>
<p>An ADR home is the root directory for all diagnostic data for an instance of a particular product such as OCI and a particular operating system user. ADR homes are grouped under the same root directory, the ADR base.</p>
<p>Fault diagnosability and the ADR structure for Oracle Database are described in detail in the discussion of managing diagnostic data in Oracle Database Administrator&#39;s Guide.</p>
</div>
</div>
<a id="LNOCI16758"></a>
<div class="props_rev_3"><a id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00"></a>
<h3 id="LNOCI-GUID-6C60D154-9576-4C84-80F3-04DE75063C00" class="sect3">ADR Base Location</h3>
<div>
<p>Describes how the location of the ADR base is determined.</p>
<p>The location of the ADR base is determined by OCI in the following order:</p>
<ol>
<li>
<p>For all diagnosability parameters, OCI first looks in the file <code class="codeph">oraaccess.xml</code>. If these parameters are not set there, then OCI looks next in <code class="codeph">sqlnet.ora</code> (if it exists) for a statement such as (Linux or UNIX):</p>
<pre dir="ltr">ADR_BASE=<span class="italic">/foo/adr</span>
</pre>
<p><code class="codeph">adr</code> (the name of a directory) must exist and be writable by all operating system users who execute OCI applications and want to share the same ADR base. <code class="codeph">foo</code> stands for a path name. The location of <code class="codeph">sqlnet.ora</code> is given in the directory <code class="codeph">$TNS_ADMIN</code> (<code class="codeph">%TNS_ADMIN%</code> on Windows). If there is no <code class="codeph">$TNS_ADMIN</code> then the current directory is used. If <code class="codeph">ADR_BASE</code> is set and one <code class="codeph">sqlnet.ora</code> is shared by all users, then OCI stops searching when directory <code class="codeph">adr</code> does not exist or is not writable by the user. If <code class="codeph">ADR_BASE</code> is not set, then OCI continues the search, testing for the existence of certain directories.</p>
<p>For example, if <code class="codeph">sqlnet.ora</code> contains the entry <code class="codeph">ADR_BASE=/home/chuck/test</code> then the ADR base is <code class="codeph">/home/chuck/test/oradiag_chuck</code> and the ADR home could be something like <code class="codeph">/home/chuck/test/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">$ORACLE_BASE</code></span> (<span class="italic"><code class="codeph">%ORACLE_BASE%</code></span> on Windows) exists. In this case, the client subdirectory exists because it was created during installation of the database using Oracle Universal Installer.</p>
<p>For example, if <span class="italic"><code class="codeph">$ORACLE_BASE</code></span> is <code class="codeph">/home/chuck/obase</code> then the ADR base is <code class="codeph">/home/chuck/obase</code> and the ADR home could be similar to <code class="codeph">/home/chuck/obase/diag/clients/user_chuck/host_4144260688_11</code>.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <span class="italic"><code class="codeph">(%ORACLE_BASE%</code></span> on Windows) exists. In this case, the client subdirectory exists because it was created during installation of the database using Oracle Universal Installer.</p>
<p>For example, if <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> is <code class="codeph">/ade/chuck_l1/oracle</code> then the ADR base is <code class="codeph">/ade/chuck_l1/oracle/log</code> and the ADR home could be similar to <code class="codeph">/ade/chuck_l1/oracle/log/diag/clients/user_chuck/host_4144260688_11</code>.</p>
</li>
<li>
<p>Operating system home directory: <span class="italic"><code class="codeph">$HOME</code></span> on Linux or UNIX, or <span class="italic"><code class="codeph">%USERPROFILE%</code></span> on Windows. On Linux or UNIX the location could be something like this for user <code class="codeph">chuck</code>: <code class="codeph">/home/chuck/oradiag_chuck</code>. On Windows, a folder named <code class="codeph">Oracle</code> is created under <code class="codeph">C:\Documents and Settings\chuck</code>.</p>
<p>For example, in an Instant Client, if <span class="italic"><code class="codeph">$HOME</code></span> is <code class="codeph">/home/chuck</code> then the ADR base is <code class="codeph">/home/chuck/oradiag_chuck</code> and the ADR home could be <code class="codeph">/home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.</p>
</li>
<li>
<p>On Windows, if the application is run as a service, the home directory option is skipped.</p>
</li>
<li>
<p>Temporary directory in the Linux or UNIX operating system: <code class="codeph">/var/tmp</code>.</p>
<p>For example, in an Instant Client, if <span class="italic"><code class="codeph">$HOME</code></span> is not writable, then the ADR base is <code class="codeph">/var/tmp/oradiag_chuck</code> and the ADR home could be <code class="codeph">/var/tmp/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.</p>
<p>Temporary directories in the Windows operating system, searched in this order:</p>
<ol>
<li>
<p><span class="italic"><code class="codeph">%TMP%</code></span></p>
</li>
<li>
<p><span class="italic"><code class="codeph">%TEMP%</code></span></p>
</li>
<li>
<p><span class="italic"><code class="codeph">%USERPROFILE%</code></span></p>
</li>
<li>
<p>Windows system directory</p>
</li>
</ol>
</li>
</ol>
<p>If none of these directory choices are available and writable, or the ADR base is not created and there are no diagnostics.</p>
<div class="infoboxnotealso" id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00__GUID-8E70175E-E386-4DAD-B646-7D3ED6AAE3BD">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci01int.htm#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Instant Client is a deployment choice and can be used for running production applications.Because Instant Client is a deployment feature, the number and size of files (client footprint) required to run an OCI application has been reduced. What character sets are supported by Instant Client Light.">OCI Instant Client</a></p>
</li>
<li>
<p><a class="olink NETRF398" target="_blank" href="../NETRF/sqlnet.htm#NETRF398"><span><cite>Oracle Database Net Services Reference</cite></span></a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="LNOCI16759"></a>
<div class="props_rev_3"><a id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47"></a>
<h3 id="LNOCI-GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" class="sect3">Using ADRCI</h3>
<div>
<div class="section">
<p><a id="d120074e7988" class="indexterm-anchor"></a>ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use. You can use ADRCI interactively and from a script. A <span class="italic">problem</span> is a critical error in OCI or the client. Each problem has a problem key. An <span class="italic">incident</span> is a single occurrence of a problem and is identified by a unique numeric incident ID. Each incident has a problem key that is a set of attributes: the <code class="codeph">ORA</code> error number, error parameter values, and other information. Two incidents have the same root cause if their problem keys match.</p>
<div class="infoboxnotealso" id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47__GUID-781D0C7D-C282-4040-BE30-E37366B9160D">
<p class="notep1">See Also:</p>
<p><a class="olink SUTIL700" target="_blank" href="../SUTIL/GUID-DC5744C7-FAC0-436B-99D5-DBD45B66930B.htm#SUTIL700"><span class="italic">Oracle Database Utilities</span></a> for an introduction to ADRCI</p>
</div>
<p>What follows is a launch of ADRCI in a Linux system, a use of the <code class="codeph">HELP</code> command for the <code class="codeph">SHOW</code> <code class="codeph">BASE</code> command, and then the use of the <code class="codeph">SHOW</code> <code class="codeph">BASE</code> command with the option <code class="codeph">-PRODUCT</code> <code class="codeph">CLIENT</code>, which is necessary for OCI applications. The ADRCI commands are case-insensitive. User input is shown in bold.</p>
<pre dir="ltr">% <span class="bold">adrci</span>
 
ADRCI: Release 12.1.0.0.0 - Development on Thu Oct 13 14:17:46 2011
 
Copyright (c) 1982, 2009, Oracle.  All rights reserved.
 
adrci&gt; <span class="bold">help show base</span>
 
  Usage: SHOW BASE [-product &lt;product_name&gt;]
 
  Purpose: Show the current ADR base setting.
 
  Options:
    [-product &lt;product_name&gt;]: This option allows users to show the
    given product&#39;s ADR Base location. The current registered products are
    &#34;CLIENT&#34; and &#34;ADRCI&#34;.
 
  Examples: 
    show base -product client
    show base
 
adrci&gt; <span class="bold">show base -product client</span>
ADR base is &#34;/ade/chuck_l3/oracle/log&#34;
</pre>
<p>Next, the <code class="codeph">SET</code> <code class="codeph">BASE</code> command is described:</p>
<pre dir="ltr">adrci&gt; <span class="bold">help set base</span>
 
  Usage:  SET BASE &lt;base_str&gt; | -product &lt;product_name&gt;
 
  Purpose: Set the ADR base to use in the current ADRCI session.
           If there are valid ADR homes under the base, all homes will
           will be added to the current ADRCI session.
 
  Arguments:
    &lt;base_str&gt;: It is the ADR base directory, which is a system-dependent
    directory path string.
    -product &lt;product_name&gt;: This option allows users to set the 
    given product&#39;s ADR Base location. The current registered products are
    &#34;CLIENT&#34; and &#34;ADRCI&#34;.
 
  Notes:
    On platforms that use &#34;.&#34; to signify current working directory,
    it can be used as base_str.
 
  Example: 
    set base /net/sttttd1/scratch/someone/view_storage/someone_v1/log
    set base -product client
    set base .
 
adrci&gt; <span class="bold">quit</span>
</pre>
<p>When <code class="codeph">ADRCI</code> is started, the default ADR base is for the <code class="codeph">rdbms</code> server. <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> is set to <code class="codeph">/ade/chuck_l3/oracle</code>:</p>
<pre dir="ltr">% <span class="bold">adrci</span>
 
ADRCI: Release 12.1.0.0.0 - Development on Thu Oct 13 14:17:46 2011
 
Copyright (c) 1982, 2009, Oracle.  All rights reserved.
 
ADR base = &#34;/ade/chuck_l3/oracle/log&#34;
</pre>
<p>For OCI application incidents you must check and set the base:</p>
<pre dir="ltr">adrci&gt; <span class="bold">show base -product client</span>
ADR base is &#34;/ade/chuck_l3/oracle/log&#34;
adrci&gt; <span class="bold">set base /ade/chuck_l3/oracle/log</span>
</pre>
<p>For Instant Client there is no <span class="italic"><code class="codeph">$ORACLE_HOME</code></span>, so the default base is the user&#39;s home directory:</p>
<pre dir="ltr">adrci&gt; <span class="bold">show base -product client</span>
ADR base is &#34;/home/chuck/oradiag_chuck&#34;
adrci&gt; <span class="bold">set base /home/chuck/oradiag_chuck</span>
adrci&gt; <span class="bold">show incidents</span>
 
ADR Home = /home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11:
*************************************************************************
INCIDENT_ID    PROBLEM_KEY           CREATE_TIME
-------------------------------------------------------------------------
1                     oci 24550 [6]              2007-05-01 17:20:02.803697 -07:00                      
1 rows fetched
 
adrci&gt;
</pre>
<div class="infoboxnotealso" id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47__GUID-67B4CAD8-0E50-4FF6-8ACE-416AC11DE685">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="oci01int.htm#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Instant Client is a deployment choice and can be used for running production applications.Because Instant Client is a deployment feature, the number and size of files (client footprint) required to run an OCI application has been reduced. What character sets are supported by Instant Client Light.">OCI Instant Client</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="LNOCI16760"></a>
<div class="props_rev_3"><a id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C"></a>
<h3 id="LNOCI-GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" class="sect3">Controlling ADR Creation and Disabling Fault Diagnosability Using sqlnet.ora</h3>
<div>
<div class="section">
<p>To disable diagnosability, turn off diagnostics by setting the following parameters in <code class="codeph">sqlnet.ora</code> (the default is <code class="codeph">TRUE</code>):</p>
<pre dir="ltr"><a id="d120074e8278" class="indexterm-anchor"></a>DIAG_ADR_ENABLED=FALSE
<a id="d120074e8281" class="indexterm-anchor"></a>DIAG_DDE_ENABLED=FALSE
</pre>
<p>To turn off the OCI signal handler and reenable standard operating system failure processing, place the following parameter setting in <code class="codeph">sqlnet.ora</code>:</p>
<pre dir="ltr"><a id="d120074e8290" class="indexterm-anchor"></a>DIAG_SIGHANDLER_ENABLED=FALSE
</pre>
<p>As noted previously, <code class="codeph">ADR_BASE</code> is used in <code class="codeph">sqlnet.ora</code> to set the location of the ADR base.</p>
<p>Oracle Database client contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information, to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended to turn on full dumps; this can greatly speed resolution of issues. Full dumps can be enabled by adding the following line to the <code class="codeph">sqlnet.ora</code> file used by your Oracle Database client installation:</p>
<pre dir="ltr"><a id="d120074e8307" class="indexterm-anchor"></a>DIAG_RESTRICTED=FALSE
</pre>
<p>To verify that diagnosability features are working correctly:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Upgrade your application to use the latest client libraries.</span></li>
<li><span>Start your application.</span></li>
<li><span>Check the file <code class="codeph">sqlnet.log</code> in your application&#39;s <code class="codeph">TNS_ADMIN</code> directory for error messages indicating that diagnosability could not be started (normally this is due to invalid directory names or permissions).</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C__GUID-AB4CAD3A-85E2-462F-ACC5-B291C777163D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink NETRF397" target="_blank" href="../NETRF/sqlnet.htm#NETRF397"><span class="italic">Oracle Database Net Services Reference</span></a> for the ADR parameter settings in <code class="codeph">sqlnet.ora</code></p>
</li>
<li>
<p><a class="olink NETAG1524" target="_blank" href="../NETAG/trouble.htm#NETAG1524"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about the structure of ADR</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="LNOCI16761"></a>
<div class="props_rev_3"><a id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9"></a>
<h2 id="LNOCI-GUID-AB481881-FE50-4617-BB45-0C817815EAA9" class="sect2">Client and Server Operating with Different Versions of Time Zone Files</h2>
<div>
<p>In Oracle Database Release 11.2 (or later) you can use different versions of the time zone file on the client and server; this mode of operation was not supported before Oracle database Release 11.2.</p>
<p>Both client and server must be 11.2 or later to operate in such a mixed mode. This section discusses the ramifications of operating in such a mode. To avoid these ramifications use the same time zone file version for client and server.</p>
<p>The following behavior is seen when the client and server use different time zones file versions. Note that the use of different time zone file versions only affects the handling of <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> (<code class="codeph">TSTZ</code>) data type values.</p>
<ul style="list-style-type: disc;">
<li>
<p>The OCI Datetime and Interval APIs listed here unconditionally raise an error when the input parameters are of <code class="codeph">TSTZ</code> type. This is because these operations depend on the local time zone file on the client that is not synchronized with the database. Continuing with the computation in such a configuration can result in inconsistent computations across the client and database tiers.</p>
<pre dir="ltr"><a href="oci19map002.htm#GUID-5FFD4B08-30E1-461E-8E55-940787D6D8EC">OCIDateTimeCompare()</a>
<a href="oci19map002.htm#GUID-FC053036-BE93-42D7-A82C-4DDB6843E167">OCIDateTimeConstruct()</a>
<a href="oci19map002.htm#GUID-744793B2-CD2F-47AC-825A-6FF5BEE12BAB">OCIDateTimeConvert()</a>
<a href="oci19map002.htm#GUID-BD2F6432-81FF-4CD6-9C3D-85E401894528">OCIDateTimeSubtract()</a>
<a href="oci19map002.htm#GUID-0E4AF4DD-5EEB-434D-BA3A-F4EDE7038FF5">OCIIntervalAdd()</a>
<a href="oci19map002.htm#GUID-2D0465BC-B8EA-4F41-B200-587F49D0B2CB">OCIIntervalSubtract()</a>
<a href="oci19map002.htm#GUID-12B19818-0001-42F1-8B2C-FD96B7C3231C">OCIIntervalFromTZ()</a>
<a href="oci19map002.htm#GUID-489C51F6-43DB-43DB-980F-2A42AFAFB332">OCIDateTimeGetTimeZoneName()</a>
<a href="oci19map002.htm#GUID-B8DA860B-FD7D-481B-8347-156969B6EE04">OCIDateTimeGetTimeZoneOffset()</a><a id="fn_1" href="#fn_1" onclick="footdisplay(1,&#34;Returns an ORA-01805 error when timezone files on the client and server do not match (regions are not synchronized); returns OCI_SUCCESS when region time zone values are the same (represent the same instant in UTC), though the TIME ZONE offsets are different. &#34;)"><sup>Foot 1</sup></a>
<a href="oci19map002.htm#GUID-086776F8-1153-417D-ABC6-A864A2A62788">OCIDateTimeSysTimeStamp()</a>
</pre></li>
<li>
<p>There is a performance penalty when you retrieve or modify <code class="codeph">TSTZ</code> values. The performance penalty arises because of the additional conversions needed to compensate for the client and server using different time zone file versions.</p>
</li>
<li>
<p>If new time zone regions are defined by the more recent time zone file, you can see an error operating on a <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> value belonging to the new region on a node that has a time zone file version that does not recognize the new time zone region.</p>
</li>
</ul>
<p>Applications that manipulate opaque type or <code class="codeph">XMLType</code> instances or both containing <code class="codeph">TSTZ</code> type attributes must use the same time zone file version on client and server to avoid data loss.</p>
<div class="infoboxnotealso" id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9__GUID-C7AEE111-2B3B-42B6-B09A-9DD956F6D927">
<p class="notep1">See Also:</p>
<p><a class="olink NLSPG259" target="_blank" href="../NLSPG/ch4datetime.htm#NLSPG259"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for information about upgrading the time zone file and timestamp with time zone data</p>
</div>
</div>
</div>
<a id="LNOCI17889"></a>
<div class="props_rev_3"><a id="GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE"></a>
<h2 id="LNOCI-GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE" class="sect2">Support for Pluggable Databases</h2>
<div>
<p>The multitenant architecture enables an Oracle database to contain a portable collection of schemas, schema objects, and nonschema objects that appear to an Oracle client as a separate database. A multitenant container database (CDB) is an Oracle database that includes one or more pluggable databases (PDBs).</p>
<p>OCI clients can connect to a PDB using a service whose pluggable database property has been set to the relevant PDB.</p>
<p>In general, OCI calls behave the same way whether connected to a pluggable database or a normal database. OCI calls and features that require special consideration with a CDB are described in the sections that follow:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-8B3BD02D-9664-4155-B76F-401A24148303">Restrictions on OCI API Calls with Multitenant Container Databases (CDB) in General</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-13E3AA25-5A91-4729-8649-F84DA8951023">Restrictions on OCI Calls with ALTER SESSION SET CONTAINER</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-880C7AE6-8434-43E4-9949-AE2BAF405FAE__GUID-9DC3F081-F819-4ABE-9C30-5D8F61DA1BE4">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN13974" target="_blank" href="../ADMIN/cdb_pdb_admin.htm#ADMIN13974"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> for more information about PDBs and for more details about configuring the services to connect to various PDBs</p>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8B3BD02D-9664-4155-B76F-401A24148303"></a>
<h3 id="LNOCI-GUID-8B3BD02D-9664-4155-B76F-401A24148303" class="sect3">Restrictions on OCI API Calls with Multitenant Container Databases (CDB) in General</h3>
<div>
<ul style="list-style-type: disc;">
<li>
<p>An attempt to logon in <code class="codeph">OCI_PRELIM_AUTH</code> mode when connected to any container other than <code class="codeph">CDB$ROOT</code> will result in an <code class="codeph">ORA-24542</code> error.</p>
</li>
<li>
<p>An attempt to issue <a href="oci16rel001.htm#GUID-8E4CB0D4-DC77-4AA1-A3F8-9C05DE595353" title="Starts an Oracle Database instance.">OCIDBStartup()</a> when connected to any container other than <code class="codeph">CDB$ROOT</code> results in an <code class="codeph">ORA-24543</code> error.</p>
</li>
<li>
<p>An attempt to issue <a href="oci16rel001.htm#GUID-01C4FDCA-2719-4C5C-9348-B9909D178F4F" title="Shuts down an Oracle Database instance.">OCIDBShutdown()</a> when connected to any container other than <code class="codeph">CDB$ROOT</code> results in an <code class="codeph">ORA-24543</code> error. When <code class="codeph">OCIDBShutdown()</code> is issued connected to <code class="codeph">CDB$ROOT</code>, it brings down the whole instance.</p>
</li>
<li>
<p>OCI Continuous Query Notification (CQN) is not supported with CDB.</p>
</li>
<li>
<p>OCI Client Result Cache is not supported with CDB.</p>
</li>
<li>
<p>OCI applications linked against a client library older than release 12.1 and connecting to a pluggable database will not be able to utilize Fast Application Notification (FAN) High Availability (HA) functionality when connected as a normal (non-common) user. As a workaround, such applications should connect as a common user. This restriction does not exist for release 12.1 OCI clients.</p>
</li>
</ul>
</div>
</div>
<div class="props_rev_3"><a id="GUID-13E3AA25-5A91-4729-8649-F84DA8951023"></a>
<h3 id="LNOCI-GUID-13E3AA25-5A91-4729-8649-F84DA8951023" class="sect3">Restrictions on OCI Calls with ALTER SESSION SET CONTAINER</h3>
<div>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement can be used to switch an OCI connection from one pluggable database to another. However, applications that use the <code class="codeph">ALTER SESSION SET CONTAINER</code> statement to switch between pluggable databases need to ensure that their usage is consistent with the OCI restrictions described as follows.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is disallowed for OCI migratable sessions (such as sessions created with <code class="codeph">OCI_MIGRATE</code> mode during logon) and the combination results in an <code class="codeph">ORA-65135</code> error.</p>
</li>
<li>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is not supported with OCI connection pool (which is the old OCI connection pool API) and the combination results in an <code class="codeph">ORA-65135</code> error.</p>
</li>
<li>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is not supported in conjunction with OCI session switching (wherein multiple OCI user handles share the same OCI server handle).</p>
</li>
<li>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is not supported if the application uses <code class="codeph">TIMESTAMP WITH TIMEZONE</code> or <code class="codeph">TIMESTAMP WITH LOCAL TIMEZONE</code> data types in OCI, and if the application switches between pluggable databases having different database time zone settings or different database time zone file version settings, as this could lead to incorrect data being read or written for <code class="codeph">TIMESTAMP WITH TIMEZONE</code> and <code class="codeph">TIMESTAMP WITH LOCAL TIMEZONE</code> data types.</p>
</li>
<li>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is not supported if the command is used to switch an OCI connection between any two pluggable databases whose character sets are different as this could lead to incorrect data being read or written for character types.</p>
</li>
<li>
<p>If the client initially connects to a container with a <code class="codeph">EXTENDED MAX_STRING_SIZE</code> setting, and then within the same session switches to a container (using an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement) with an <code class="codeph">STANDARD MAX_STRING_SIZE</code> setting, then a subsequent <a href="oci17msc001.htm#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a> call will result in an <code class="codeph">ORA-14697</code> error if an attempt is made to use any bind variables of size greater than 4000 bytes. For more information about <code class="codeph">MAX_STRING_SIZE</code>, see <a class="olink SQLRF55623" target="_blank" href="../SQLRF/sql_elements001.htm#SQLRF55623"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.</p>
</li>
<li>
<p>An attempt to fetch from an OCI statement handle using <a href="ociaedep002.htm#GUID-536D38A8-B463-48F8-8B91-FD3F2872AF85" title="This function was deprecated in a release previous to Oracle 11g R2 (11.2).">OCIStmtFetch()</a> or <a href="oci17msc001.htm#GUID-DF585B90-58BA-45FC-B7CE-6F7F987C03B9" title="Fetches a row from the (scrollable) result set.">OCIStmtFetch2()</a> in the context of a different container than the one in which it was executed will result in an <code class="codeph">ORA-65108</code> error.</p>
</li>
<li>
<p>OCI client result cache is disabled if an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is done in OCI.</p>
</li>
<li>
<p>Fast Application Notification (FAN) and Runtime Connection Load Balancing notifications are not supported for applications that switch connections between pluggable databases using an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement.</p>
</li>
<li>
<p>The <code class="codeph">ALTER SESSION SET CONTAINER</code> statement sets the current transaction, if any, to read only and any attempt to perform any of the OCI transaction calls (<a id="d120074e9311" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8">OCITransStart()</a>, <a id="d120074e9317" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09">OCITransDetach()</a>, <a id="d120074e9323" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a>, <a id="d120074e9333" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366">OCITransRollback()</a>, <a id="d120074e9339" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3">OCITransPrepare()</a>, <a id="d120074e9345" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7">OCITransMultiPrepare()</a> , <a id="d120074e9351" class="indexterm-anchor"></a><a href="oci17msc006.htm#GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00">OCITransForget()</a>) will return an error in the new container. In order to issue any of these calls, you need to switch back to the original container.</p>
</li>
<li>
<p>If an <a id="d120074e9360" class="indexterm-anchor"></a><a href="oci17msc003.htm#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a> call is attempted in the context of an incorrect container (different from the container on which the corresponding <a id="d120074e9369" class="indexterm-anchor"></a><a href="oci17msc003.htm#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a> call was done), then an <code class="codeph">ORA-24950</code> is returned.</p>
</li>
<li>
<p>A <a href="oci16rel003.htm#GUID-AE9F73FB-DCC1-401E-8151-A8A89059163A" title="Describes existing schema and subschema objects.">OCIDescribeAny()</a> call with <code class="codeph">OCI_PTYPE_DATABASE</code> describes the database to which the connection is connected. After an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement is done, if the application wants to see the current database description, the <code class="codeph">OCIDescribeAny()</code> call will need to be reissued.</p>
</li>
<li>
<p>Calls to any OCI Any Data, collection, or object functions that are used to manipulate an object from a different container are not supported.</p>
</li>
<li>
<p>An <a href="oci18nav001.htm#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a> call is supported only in the container where the object instance was created with an <a href="oci18nav004.htm#GUID-2EFD6F01-A02F-4C5B-B20F-1EF841249056" title="Creates a standalone instance.">OCIObjectNew()</a> call.</p>
</li>
<li>
<p>Oracle recommends that <a href="oci18nav001.htm#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a> be called prior to switching containers with an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement. Note that an <code class="codeph">OCIObjectFlush()</code> call will start a transaction if one is not already started.</p>
</li>
<li>
<p>An <a href="oci18nav001.htm#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a> call done after switching containers may return an error if a transaction was already started earlier on another container by the same session (either as a result of explicit DMLs or as a result of an <code class="codeph">OCIObjectFlush()</code>call).</p>
</li>
<li>
<p>An <a href="oci18nav001.htm#GUID-03A4BAE9-3484-4D04-8A11-5EC410FEB301" title="Flushes a modified persistent object to the server.">OCIObjectFlush()</a> call only flushes objects dirtied in the context of the container in which the <code class="codeph">OCIObjectFlush()</code> call is issued.</p>
</li>
<li>
<p>Various session attributes may change on an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement. If an application caches these attributes, their settings may no longer be the same after an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement. Examples of attributes that can be obtained with an <a href="oci16rel002.htm#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a> call and which can change on an <code class="codeph">ALTER SESSION SET CONTAINER</code> statement include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="ociaahan.htm#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__CACDAAEB">OCI_ATTR_CURRENT_SCHEMA</a></p>
</li>
<li>
<p><a href="ociaahan.htm#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__CACCDIBD">OCI_ATTR_INITIAL_CLIENT_ROLES</a></p>
</li>
<li>
<p><a href="ociaahan.htm#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__BAJHBAFA">OCI_ATTR_EDITION</a></p>
</li>
<li>
<p><a href="ociaahan.htm#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__CACDAIBD">OCI_ATTR_MAX_OPEN_CURSORS</a></p>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<a id="LNOCI1088"></a>
<div class="props_rev_3"><a id="GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22"></a>
<h2 id="LNOCI-GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22" class="sect2">About Using the XStream Interface</h2>
<div>
<p>Since Oracle Database 11g Release 2, Oracle Streams provides enhanced APIs, known as eXtended Streams (XStream) Out and XStream In, to enable high performance, near real-time information-sharing infrastructure between Oracle databases and non-Oracle databases, non-RDBMS Oracle products, file systems, third party software applications, and so on.</p>
<p>XStream is built on top of Streams infrastructure.</p>
<div class="p">This section includes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54" title="XStream Out allows a remote client to attach to an outbound server (a Streams apply process) and extract row changes in the form of Logical Change Records (LCRs).">XStream Out</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90" title="To replicate non-Oracle data into Oracle databases use XStream In which allows a remote client to attach to an inbound server (a Streams apply process) and send row and DDL changes in the form of LCRs.">XStream In</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E" title="Describes the security characteristics of XStreams.">Security of XStreams</a></p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-EAC548D6-2769-4138-B90D-CE42D4F29F22__GUID-F201BA01-D9AC-44B7-9C9E-D7C3F1C728C2">
<p class="notep1">See Also:</p>
<p><a href="oci26strm.htm#GUID-527DB451-F87E-479A-8F35-25FD8D01E2EC">OCI XStream Functions</a></p>
</div>
</div>
<a id="LNOCI16769"></a>
<div class="props_rev_3"><a id="GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54"></a>
<h3 id="LNOCI-GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54" class="sect3">XStream Out</h3>
<div>
<p>XStream Out allows a remote client to attach to an outbound server (a Streams apply process) and extract row changes in the form of Logical Change Records (LCRs).</p>
<p>To use XStream Out, a capture and an apply process must be created similar to other Streams setup. All data types supported by Oracle Streams including LOB, <code class="codeph">LONG</code>, and <code class="codeph">XMLType</code> are supported by XStreams. Such an apply process is called an outbound server. The capture and the outbound server may or may not be on the same database instance. After the capture and the outbound server have started, row changes will be captured and sent to the outbound server. An external client can then connect to this outbound server using OCI. After the connection is established, the client can loop waiting for LCRs from the outbound server. The client can register a client-side callback to be invoked each time an LCR is received. At anytime, the client can detach from the outbound server as needed. Upon restart, the outbound server knows where in the redo stream to start streaming LCRs to the client.</p>
<div class="p">This section includes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837">LCR Streams</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A">The Processed Low Position and Restart Considerations</a></p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-9E682886-1812-4E18-B99F-1FCF2F6C0A54__GUID-FDEEA92B-B682-494A-954C-2D3739372FC8">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink STRMS107" target="_blank" href="../STRMS/strms_capture.htm#STRMS107"><span><cite>Oracle Streams Concepts and Administration</cite></span></a> for the basics of LCRs</p>
</li>
<li>
<p><a class="olink XSTRM1086" target="_blank" href="../XSTRM/xstrm_intro.htm#XSTRM1086"><span><cite>Oracle Database XStream Guide</cite></span></a> for more details of XStreams concepts</p>
</li>
</ul>
</div>
</div>
<a id="LNOCI16770"></a>
<div class="props_rev_3"><a id="GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837"></a>
<h4 id="LNOCI-GUID-E3CA74B0-6F37-4531-A5BE-1EFCFEFE6837" class="sect4">LCR Streams</h4>
<div>
<ul style="list-style-type: disc;">
<li>
<p>An LCR stream must be repeatable.</p>
</li>
<li>
<p>An LCR stream must contain a list of assembled and committed transactions.</p>
</li>
<li>
<p>LCRs from one transaction are contiguous. There is no interleaving of transactions in the LCR stream.</p>
</li>
<li>
<p>Each transaction within an LCR stream must have an ordered list of LCRs and a transaction ID.</p>
</li>
<li>
<p>The last LCR in each transaction must be a commit LCR.</p>
</li>
<li>
<p>Each LCR must have a unique position.</p>
</li>
<li>
<p>The position of all LCRs within a single transaction and across transactions must be strictly increasing.</p>
</li>
</ul>
</div>
</div>
<a id="LNOCI16771"></a>
<div class="props_rev_3"><a id="GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A"></a>
<h4 id="LNOCI-GUID-3D9E7038-EB91-4E74-95AF-9DDB3328222A" class="sect4">The Processed Low Position and Restart Considerations</h4>
<div>
<p>If the outbound server or the client aborts abnormally, the connection between the two is automatically broken. The client needs to maintain the processed low position to properly recover after a restart.</p>
<p>The processed low position is a position below which all LCRs have been processed by the client. This position should be maintained by the client while applying each transaction. Periodically this position is sent to the server while the client executes XStream Out APIs. This position indicates to the server that the client has processed all LCRs below or equal to this position; thus, the server can purge redo logs that are no longer needed.</p>
<p>Upon restart, the client must re-attach to the outbound server. During the attach call, the client can notify the outbound server of the last position received by the client. The outbound server then sends LCRs with position greater than this last position. If the client does not specify the last position (that is, a <code class="codeph">NULL</code> is specified), the outbound server will retrieve the processed low position from its system tables and derive the starting position to mine the redo logs. It will send to the client the LCRs with position greater than this processed low position.</p>
</div>
</div>
</div>
<a id="LNOCI16772"></a>
<div class="props_rev_3"><a id="GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90"></a>
<h3 id="LNOCI-GUID-A8AFCE7F-E475-4C75-AC3B-5A37B6F83B90" class="sect3">XStream In</h3>
<div>
<p>To replicate non-Oracle data into Oracle databases use XStream In which allows a remote client to attach to an inbound server (a Streams apply process) and send row and DDL changes in the form of LCRs.</p>
<p>An external client application connects to the inbound server using OCI. After the connection is established, the client application acts as the capture agent for the inbound server by streaming LCRs to it. A client application can attach to only one inbound server per database connection. Each inbound server only allows one client attaching to it.</p>
<p>XStream In uses the following features of Oracle Streams:</p>
<ul style="list-style-type: disc;">
<li>
<p>High performance processing of DML changes using an apply process and, optionally, apply process parallelism.</p>
</li>
<li>
<p>Apply process features such as SQL generation, conflict detection and resolution, error handling, and customized processing with apply handlers.</p>
</li>
<li>
<p>Streaming network transmission of information with minimal network round trips.</p>
</li>
</ul>
<p>XStream In supports all of the data types that are supported by Oracle Streams, including LOBs, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, and <code class="codeph">XMLType</code>. A client application sends LOB and <code class="codeph">XMLType</code> data to the inbound server in chunks. Several chunks make up a single column value of LOB or <code class="codeph">XMLType</code>.</p>
<div class="p">This section includes the following topics:
<ul style="list-style-type: disc;">
<li>
<p><a href="oci10new.htm#GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52">Processed Low Position and Restart Ability</a></p>
</li>
<li>
<p><a href="oci10new.htm#GUID-B5079754-01CC-4E34-9398-9A062B6F0102">Stream Position</a></p>
</li>
</ul>
</div>
</div>
<a id="LNOCI16773"></a>
<div class="props_rev_3"><a id="GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52"></a>
<h4 id="LNOCI-GUID-C4406AE9-9D42-49F8-B4B7-C8942A410D52" class="sect4">Processed Low Position and Restart Ability</h4>
<div>
<p>The processed low position is the position below which the inbound server no longer requires any LCRs. This position corresponds with the oldest SCN for an Oracle Streams apply process that applies changes captured by a capture process.</p>
<p>The processed low position indicates that the LCRs less than or equal to this position have been processed by the inbound server. If the client re-attaches to the inbound server, it only needs to send LCRs greater than the processed low position because the inbound server discards any LCRs that are less than or equal to the processed low position.</p>
<p>If the client application aborts abnormally, then the connection between the client application and the inbound server is automatically broken. Upon restart, the client application retrieves the processed low position from the inbound server and instructs its capture agent to retrieve changes starting from this processed low position.</p>
<p>To limit the recovery time of a client application using the XStream In interface, the client application can send activity, such as empty transactions, periodically to the inbound server. When there are no LCRs to send to the server, the client can send a row LCR with a commit directive to advance the inbound server&#39;s processed low position. This activity acts as an acknowledgement so that the inbound server&#39;s processed low position can be advanced. The LCR stream sent to an inbound server must follow the LCR stream properties for XStream Out defined above.</p>
</div>
</div>
<a id="LNOCI16774"></a>
<div class="props_rev_3"><a id="GUID-B5079754-01CC-4E34-9398-9A062B6F0102"></a>
<h4 id="LNOCI-GUID-B5079754-01CC-4E34-9398-9A062B6F0102" class="sect4">Stream Position</h4>
<div>
<p>Stream position refers to the position of an LCR in a given LCR stream.</p>
<p>For transactions captured outside Oracle databases the stream position must be encoded in certain format (for example, base-16 encoding) that supports byte comparison. The stream position is key to the total order of transaction stream sent by clients using the XStream In interface.</p>
</div>
</div>
</div>
<a id="LNOCI16775"></a>
<div class="props_rev_3"><a id="GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E"></a>
<h3 id="LNOCI-GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E" class="sect3">Security of XStreams</h3>
<div>
<p>Describes the security characteristics of XStreams.</p>
<p>XStream Out allows regular users to receive LCRs without requiring system level privileges. System level privileges, such as DBA role, are required to configure XStream Out. The user who configures XStream Out can specify a regular user as the connect user who can attach to an outbound server to receive LCRs.</p>
<p>XStream In allows regular users to update tables in its own schema without requiring system level privileges (for example, DBA) to configure XStream In.</p>
<p>XStream cannot assume that the connected user to the inbound or outbound server is trusted.</p>
<p>OCI clients must connect to an Oracle database prior to attaching to an XStream outbound or inbound server created on that database. The connected user must be the same as the <code class="codeph">connect_user</code> configured for the attached outbound server or the <code class="codeph">apply_user</code> configured for the attached inbound server; otherwise, an error is raised.</p>
<div class="infoboxnotealso" id="GUID-CFF27EA8-C0B5-4B49-8966-52AC4AD45F8E__GUID-91D5CCB2-56DD-43D9-B261-3C2CC7F67735">
<p class="notep1">See Also:</p>
<p><a class="olink XSTRM1496" target="_blank" href="../XSTRM/xstrm_xout_config.htm#XSTRM1496"><span><cite>Oracle Database XStream Guide</cite></span></a> for more about configuring Oracle XStreams</p>
</div>
</div>
</div>
</div>
<hr/>
<br/>
<p style="text-decoration:underline">Footnote Legend</p>
Footnote&nbsp;1:
<p>Returns an <code class="codeph">ORA-01805</code> error when timezone files on the client and server do not match (regions are not synchronized); returns <code class="codeph">OCI_SUCCESS</code> when region time zone values are the same (represent the same instant in UTC), though the <code class="codeph">TIME ZONE</code> offsets are different.</p>
<br/></div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment6150">
<tr>
<td class="cellalignment6162">
<table class="cellalignment6155">
<tr>
<td class="cellalignment6154"><a href="oci09adv.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment6154"><a href="oci11obj.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment6164">
<table class="cellalignment6153">
<tr>
<td class="cellalignment6154"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment6154"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment6154"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment6154"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment6154"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment6154"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>


</body></html>
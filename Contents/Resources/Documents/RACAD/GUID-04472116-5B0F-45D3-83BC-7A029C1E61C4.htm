<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87302"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/How%20Application%20Continuity%20Works%20for%20Applications"></a><title>How Application Continuity Works for Applications</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-EAB20547-B09A-4CB9-B0A4-628120511091.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-DEF850F6-27E9-428E-B8FC-530230D78AD2.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-04472116-5B0F-45D3-83BC-7A029C1E61C4"></a> <span id="PAGE" style="display:none;">115/567</span> <!-- End Header -->
<a id="RACAD8428"></a>
<h1 id="RACAD-GUID-04472116-5B0F-45D3-83BC-7A029C1E61C4" class="sect1">How Application Continuity Works for Applications</h1>
<div>
<p>Application Continuity operates on request boundaries. A <a id="d27801e131" class="indexterm-anchor"></a><a href="GUID-C68EE4B9-60C8-4EEE-B7D0-4708526B128E.htm#GUID-9B4EED64-7F24-4363-ACFB-4859BDDF2034"><span class="xrefglossterm">request</span></a> is a unit of work submitted by the application. It is normally executed between borrowing and returning connections for Universal Connection Pool, Oracle WebLogic Server, DRCP, and third-party connection pools. A request is marked by the <code class="codeph">beginRequest</code> and <code class="codeph">endRequest</code> APIs. Oracle Database provides these APIs, by default, when using one of the aforementioned connections pools.</p>
<p>Application Continuity works for applications, as follows:</p>
<ol>
<li>
<p>You either create a new database service or modify an existing database service so that the <code class="codeph">-failovertype</code> parameter is set to <code class="codeph">TRANSACTION</code>, and the <code class="codeph">-commit_outcome</code> parameter is set to <code class="codeph">TRUE</code>.</p>
<div class="infoboxnotealso" id="GUID-04472116-5B0F-45D3-83BC-7A029C1E61C4__GUID-9449B349-EBA9-40D1-90F6-7739DBDACECA">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-87EDF90F-1776-474A-AD9C-93F9CBE6CB31.htm">Creating Services for Application Continuity and Transaction Guard</a>&#34;</span></p>
</div>
</li>
<li>
<p>When an application opens a connection to the database using this service or borrows a connection from an Oracle connection pool using this service, the session handle carries a logical transaction ID (LTXID) for each transaction.</p>
</li>
<li>
<p>When the application submits a request, the server and replay driver collaborate to determine what states are to be captured for replay if there is an outage. If a <a href="GUID-C68EE4B9-60C8-4EEE-B7D0-4708526B128E.htm#GUID-EF113BDB-272C-4190-A5BD-E304B0724F12"><span class="xrefglossterm">recoverable error</span></a> occurs (planned or unplanned), then the error message is sent back to the replay driver.</p>
</li>
<li>
<p>For JDBC-thin (type 4) applications, the replay driver receives the FAN message (down or error). Fast Connection Failover (FCF) aborts the dead session. The replay driver then:</p>
<ol>
<li>
<p>Replaces the dead physical session with a new clean session and reestablishes FAN in case a later error occurs during or after replay.</p>
</li>
<li>
<p>Uses Transaction Guard to determine the outcome of the in-flight transaction, if one was open, to prepare for replay.</p>
</li>
<li>
<p>Optionally, calls back using a labeling callback or reconnect callback for the initial state, if one of these is registered.</p>
</li>
<li>
<p>Rebuilds the database session, recovering the transactional and nontransactional states, and validating at each step that the data and messages seen by the client driver are the same as those that the client may have seen and potentially made a decision on.</p>
</li>
</ol>
</li>
<li>
<p>Oracle Database validates replay when replay is initiated and as replay progresses. If the database session cannot be rebuilt correctly, because the client data cannot be repositioned to the same data values and messages that the client potentially made decisions on previously, then the replay driver returns the original error to the application.</p>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-04472116-5B0F-45D3-83BC-7A029C1E61C4__GUID-E8A28A2A-CF6E-4F1F-83AD-28BE97F55260">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="GUID-6524637F-FE3E-46D9-8B47-887C0D7C562C.htm">Service Deployment Options</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-EB0E1525-D3B3-469C-BE22-A569C76864A6.htm">Fast Application Notification</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-CBD1ABAA-34B4-4486-BB8B-111BDA7FE44A.htm">Configuring JDBC-Thin Clients for Application Continuity for Java</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="GUID-DDD78F92-BC57-472A-9729-CEFDBFB32142.htm">Configuring OCI Clients to use Transaction Guard</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-EAB20547-B09A-4CB9-B0A4-628120511091.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-DEF850F6-27E9-428E-B8FC-530230D78AD2.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
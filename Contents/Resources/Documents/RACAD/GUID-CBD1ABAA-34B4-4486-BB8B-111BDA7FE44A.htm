<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87754"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20JDBC-Thin%20Clients%20for%20Application%20Continuity%20for%20Java"></a><title>Configuring JDBC-Thin Clients for Application Continuity for Java</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-C3061DB8-C974-4734-98EB-EDED23B79423.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-F94A5DDE-4E87-4C6B-9DBB-1702E706B2D9.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-CBD1ABAA-34B4-4486-BB8B-111BDA7FE44A"></a> <span id="PAGE" style="display:none;">128/567</span> <!-- End Header -->
<a id="RACAD8430"></a><a id="RACAD8429"></a>
<h1 id="RACAD-GUID-CBD1ABAA-34B4-4486-BB8B-111BDA7FE44A" class="sect1">Configuring JDBC-Thin Clients for Application Continuity for Java</h1>
<div>
<p><a id="d29800e131" class="indexterm-anchor"></a>The Replay data source (<code class="codeph">oracle.jdbc.replay.OracleDataSource</code>) is a JDBC-thin data source that Application Continuity requires for Java. This data source serves as the connection factory that produces new physical JDBC connections, for both Universal Connection Pool and Oracle WebLogic Server Active GridLink for Oracle RAC data sources. The JDBC replay driver maintains a history of calls during a client conversation with Oracle Database 12<span class="italic">c</span>, in collaboration with Oracle Database. Following any outage of the session caused by a loss of database service, planned or unplanned, under the direction of the database, the JDBC replay driver attempts to rebuild the non-transactional and transactional database session states, so that the outage appears as a delayed execution.</p>
<p>To use Application Continuity for Java and the JDBC replay driver, you must use an Oracle Database 12<span class="italic">c</span> client and connect to an Oracle Database 12<span class="italic">c</span> database. Application Continuity for Java is supported in the following configurations:</p>
<ul style="list-style-type: disc;">
<li>
<p>JDBC applications using Oracle JDBC Replay data source and using neither Universal Connection Pool or Oracle WebLogic Server Active GridLink&mdash;typical third-party, JDBC-based connection pools</p>
</li>
<li>
<p>JDBC applications using Universal Connection Pool data sources&mdash;standalone or third-party application servers configured to use a Universal Connection Pool data source</p>
</li>
<li>
<p>JDBC applications using only Oracle WebLogic Server Active GridLink but not Universal Connection Pool data sources&mdash;typical Oracle WebLogic Server J2EE cases</p>
</li>
</ul>
<div class="section">
<p class="subhead1">To configure JDBC-thin clients to use the JDBC Replay Driver:</p>
</div>
<!-- class="section" -->
<ol>
<li>
<p>Ensure that you are using an application that is certified for replay.</p>
<div class="infoboxnotealso" id="GUID-CBD1ABAA-34B4-4486-BB8B-111BDA7FE44A__GUID-9D0674F0-A254-482D-88B5-17C406770499">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-5D7C1D6D-63A7-4732-B64F-48A45F0ABAFB.htm">Configuration Checklist for Application Continuity on Oracle RAC</a>&#34;</span></p>
</div>
</li>
<li>
<p>Use SRVCTL to create a service for use by the application, if one does not already exist. Set the <code class="codeph">-failovertype</code> parameter to <code class="codeph">TRANSACTION</code> and the <code class="codeph">-commit_outcome</code> parameter to <code class="codeph">TRUE</code> for this service.</p>
<div class="infoboxnotealso" id="GUID-CBD1ABAA-34B4-4486-BB8B-111BDA7FE44A__GUID-34B71DE1-EEC9-43C5-9619-8731689F7F0D">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-87EDF90F-1776-474A-AD9C-93F9CBE6CB31.htm">Creating Services for Application Continuity and Transaction Guard</a>&#34;</span> for more information about creating services.</p>
</div>
</li>
<li>
<p>Configure the connection element using the <code class="codeph">replayDataSource</code> object, as shown in the following example:</p>
<pre dir="ltr">replayDataSource rds = PoolDataSourceFactory.getreplayDataSource();
rds.setConnnectionPoolName(&#34;replayExample&#34;);
rds.setONSConfiguration(&#34;nodes=racnode1:4200,racnode2:4200&#34;);
rds.setFastConnectionFailoverEnabled(true);
rds.setConnectionFactoryClassName(&#34;oracle.jdbc.replay.OracleDataSource&#34;);

Connection conn = replayDataSource.getConnection();
</pre></li>
<li>
<p>When connecting to the database, use a URL that can access all instances offering the service.</p>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-CBD1ABAA-34B4-4486-BB8B-111BDA7FE44A__GUID-39DCAB9F-6154-477F-8B2B-B74B7C1082B1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="GUID-5396E213-81D5-45AA-84C0-FA74D9CD24A4.htm">Configuring FCF for JDBC/OCI and JDBC-Thin Driver Clients</a>&#34;</span> for information about configuring FAN/FCF</p>
</li>
<li>
<p><a class="olink JJDBC29059" target="_blank" href="../JJDBC/appcontnew.htm#JJDBC29059"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a> for information about configuring Transaction Guard without enabling Application Continuity</p>
</li>
<li>
<p><a class="olink ADFNS1058" target="_blank" href="../ADFNS/adfns_app_continuity.htm#ADFNS1058"><span class="italic">Oracle Database Development Guide</span></a></p>
</li>
<li>
<p><a class="olink JJUCP8109" target="_blank" href="../JJUCP/intro.htm#JJUCP8109"><span class="italic">Oracle Universal Connection Pool for JDBC Developer&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-C3061DB8-C974-4734-98EB-EDED23B79423.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-F94A5DDE-4E87-4C6B-9DBB-1702E706B2D9.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87707"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Cloning%20Local%20Oracle%20Homes%20on%20Linux%20and%20UNIX%20Systems"></a><title>Cloning Local Oracle Homes on Linux and UNIX Systems</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-D6CD2D5F-A5A1-4E5E-B070-782B96E2A6F8.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-FA391097-9F87-4241-B782-4BF7E05170DF.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B7632115-6316-4D0B-9F1C-E40CDC3F9DA9"></a> <span id="PAGE" style="display:none;">210/567</span> <!-- End Header -->
<a id="RACAD8292"></a>
<h1 id="RACAD-GUID-B7632115-6316-4D0B-9F1C-E40CDC3F9DA9" class="sect1">Cloning Local Oracle Homes on Linux and UNIX Systems</h1>
<div>
<p>This section explains how to add nodes to existing Oracle RAC environments by cloning a local (non-shared) Oracle home in Linux and UNIX system environments.</p>
<p>Complete the following steps to clone Oracle Database with Oracle RAC software:</p>
<ol>
<li>
<p>Follow the steps in the <span class="q">&#34;<a href="GUID-39DC544C-810D-40C6-BDB7-EFCF2C8619C7.htm" title="Use this overview to understand the procedures you use to clone Oracle RAC.">Preparing to Clone Oracle RAC</a>&#34;</span> to create a copy of an Oracle home that you then use to perform the cloning procedure on one or more nodes.</p>
</li>
<li>
<p>Use the <code class="codeph">tar</code> utility to create an archive of the Oracle home on the existing node and copy it to the new node. If the location of the Oracle home on the source node is <code class="codeph">$ORACLE_HOME</code>, then you must use this same directory as the destination location on the new node.</p>
</li>
<li>
<p>On the new node, configure the environment variables <code class="codeph">ORACLE_HOME</code> and <code class="codeph">ORACLE_BASE</code>. Then go to the <code class="codeph">$ORACLE_HOME/clone/bin</code> directory and run the following command where <span class="italic"><code class="codeph">existing_node</code></span> is the name of the node that you are cloning, <span class="italic"><code class="codeph">new_node2</code></span> and <span class="italic"><code class="codeph">new_node3</code></span> are the names of the new nodes, and <span class="italic"><code class="codeph">Oracle_home_name</code></span> is the name of the Oracle home:</p>
<pre dir="ltr">perl clone.pl -O &#39;CLUSTER_NODES={<span class="italic">existing_node,new_node2</span>,<span class="italic">new_node3</span>}&#39;
-O LOCAL_NODE=<span class="italic">new_node2</span> ORACLE_BASE=$ORACLE_BASE ORACLE_HOME=$ORACLE_HOME
ORACLE_HOME_NAME=<span class="italic">Oracle_home_name</span> -O -noConfig
</pre></li>
<li>
<p>Run the following command to run the configuration assistants to configure Oracle RAC on the new nodes:</p>
<pre dir="ltr">$ORACLE_HOME/cfgtoollogs/configToolFailedCommands
</pre>
<p>This script contains all commands that failed, were skipped, or were canceled during the installation. You can use this script to run the database configuration assistants outside of Oracle Universal Installer. Note that before you run the script you should check the script to see if any passwords within it need to be updated.</p>
</li>
<li>
<p>Run the following command on the existing node from the <code class="codeph">$ORACLE_HOME/oui/bin</code> directory to update the inventory in the Oracle Database home with Oracle RAC, specified by <span class="italic"><code class="codeph">Oracle_home</code></span>, where <span class="italic"><code class="codeph">existing_node</code></span> is the name of the original node that you are cloning and <span class="italic"><code class="codeph">new_node2</code></span> and <span class="italic"><code class="codeph">new_node3</code></span> are the names of the new nodes:</p>
<pre dir="ltr">./runInstaller -updateNodeList ORACLE_HOME=$ORACLE_HOME -O &#34;CLUSTER_
NODES={<span class="italic">existing_node</span>,<span class="italic">new_node2,new_node3</span>}&#34; 
</pre></li>
<li>
<p>On each new node, go to the <code class="codeph">$ORACLE_HOME</code> directory and run the following command:</p>
<pre dir="ltr">./root.sh
</pre></li>
<li>
<p>From the node that you cloned, run Database Configuration Assistant (DBCA) to add Oracle RAC database instances on the new nodes.</p>
</li>
</ol>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-D6CD2D5F-A5A1-4E5E-B070-782B96E2A6F8.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-FA391097-9F87-4241-B782-4BF7E05170DF.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
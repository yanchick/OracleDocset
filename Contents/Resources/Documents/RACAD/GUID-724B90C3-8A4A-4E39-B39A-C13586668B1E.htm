<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87563"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Customizing%20How%20Oracle%20Clusterware%20Manages%20Oracle%20RAC%20Databases"></a><title>Customizing How Oracle Clusterware Manages Oracle RAC Databases</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Use these examples to minimize Oracle Clusterware control over Oracle RAC databases, which you may need to do during upgrades."/>
<meta name="keywords" content="upgrades, changing management policy for, Oracle Clusterware, controlling database restarts, databases, controlling restarts, control policies, AUTOMATIC, MANUAL, using SRVCTL to display and change"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-84A783D4-9D71-434A-B885-77B77345C8DF.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E"></a> <span id="PAGE" style="display:none;">74/567</span> <!-- End Header -->
<a id="RACAD8332"></a><a id="RACAD8333"></a><a id="RACAD8334"></a><a id="RACAD7298"></a>
<h1 id="RACAD-GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E" class="sect1">Customizing How Oracle Clusterware Manages Oracle RAC Databases</h1>
<div>
<p>Use these examples to minimize Oracle Clusterware control over Oracle RAC databases, which you may need to do during upgrades.</p>
<p>By default, Oracle Clusterware controls database restarts in Oracle RAC environments. In some cases, you may need to minimize the level of control that Oracle Clusterware has over your Oracle RAC database, for example, during database upgrades.</p>
<div class="infobox-note" id="GUID-724B90C3-8A4A-4E39-B39A-C13586668B1E__GUID-E2ED1A11-3F39-4C39-B396-6DDA10ACDC40">
<p class="notep1">Note:</p>
<p>When using third-party clusterware, Oracle recommends that you use Oracle Clusterware to manage the Oracle RAC instances. If you set the instance to manual and start it with third-party clusterware, then do not use the third-party clusterware to monitor and restart database instances because Oracle Clusterware must do that.</p>
</div>
<p>To prevent Oracle Clusterware from restarting your Oracle RAC database when you restart your system, or to avoid restarting failed instances more than once, configure a management policy to define the degree of control. There are two management policies: AUTOMATIC, which is the default, and MANUAL. If the management policy is set to AUTOMATIC, the database is automatically restored to its previous running condition (started or stopped) upon restart of the database host computer. If MANUAL, the database is never automatically restarted upon restart of the database host computer. A MANUAL setting does not prevent Oracle Restart from monitoring the database while it is running and restarting it if a failure occurs.</p>
<p>Use SRVCTL commands to display and change the Oracle Clusterware management policies, as shown in the following examples:</p>
<div class="section">
<p class="subhead1">Example 1: Display the Current Management Policy</p>
<p>Use the following command syntax to display the current management policy where <code class="codeph"><span class="variable">db_unique_name</span></code> is the name of the database for which you want to change management policies:</p>
<pre dir="ltr">srvctl config database -db <span class="variable">db_unique_name</span> -all
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example 2: Change the Current Management Policy to Another Management Policy</p>
<p>Use the following SRVCTL command syntax to change the current management policy to either AUTOMATIC, MANUAL, or NORESTART:</p>
<pre dir="ltr">srvctl modify database -db <span class="variable">db_unique_name</span> -policy [AUTOMATIC | MANUAL | NORESTART]
</pre>
<p>This command syntax sets the resource attribute of the database resource.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example 3: Specify a Management Policy for a New Database</p>
<p>When you add a new database using the <code>srvctl add database</code> command, you can use the <code class="codeph">-policy</code> parameter to specify the management policy as either <code>AUTOMATIC</code>, <code>MANUAL</code>, or <code>NORESTART</code>, as shown in the following example where <code class="codeph"><span class="variable">db_unique_name</span></code> is the name of the database:</p>
<pre dir="ltr">srvctl add database -db <span class="variable">db_unique_name</span> -policy [AUTOMATIC | MANUAL | NORESTART]
   -oraclehome $ORACLE_HOME -dbname DATA
</pre>
<p>This command syntax places the new database under the control of Oracle Clusterware. If you do not provide a management policy option, then Oracle Database uses the default value of <code class="codeph"><code>automatic</code></code>. After you change the management policy, the Oracle Clusterware resource records the new value for the affected database.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a href="GUID-F40F56A3-138D-48AB-98D4-419CA0DAFB43.htm#GUID-F40F56A3-138D-48AB-98D4-419CA0DAFB43">srvctl config database</a></li>
<li><a href="GUID-1CAF8C01-4761-4CEB-B201-F4D0E67A4E70.htm#GUID-1CAF8C01-4761-4CEB-B201-F4D0E67A4E70">srvctl modify database</a></li>
<li><a href="GUID-94140A17-4CDB-4CD9-A72D-5754591B0B83.htm#GUID-94140A17-4CDB-4CD9-A72D-5754591B0B83">srvctl add database</a></li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-84A783D4-9D71-434A-B885-77B77345C8DF.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-298F829A-FE36-4FEC-9423-D0225FE39F1B.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
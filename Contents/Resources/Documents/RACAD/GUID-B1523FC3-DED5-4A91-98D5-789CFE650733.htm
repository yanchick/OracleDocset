<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87690"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Examples%20of%20Using%20Server%20Pools"></a><title>Examples of Using Server Pools</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-342BDB31-4A5D-473B-8F27-AB5785BBC0A9.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-0D6E4EC3-7D75-45DB-97D8-372B2FD010D3.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733"></a> <span id="PAGE" style="display:none;">21/567</span> <!-- End Header -->
<a id="RACAD8892"></a><a id="RACAD8901"></a><a id="RACAD8893"></a><a id="RACAD8902"></a><a id="RACAD8894"></a><a id="RACAD8903"></a><a id="RACAD8891"></a>
<h1 id="RACAD-GUID-B1523FC3-DED5-4A91-98D5-789CFE650733" class="sect1">Examples of Using Server Pools</h1>
<div>
<p>This section includes the following examples of using server pools:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABEJACC">Minimum and Maximum Number of Servers</a></p>
</li>
<li>
<p><a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABIFIIE">IMPORTANCE Attribute of Server Pools</a></p>
</li>
<li>
<p><a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABJGBHE">Consolidation of Databases</a></p>
</li>
</ul>
<div class="section" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABEJACC">
<p class="subhead1">Minimum and Maximum Number of Servers</p>
</div>
<!-- class="section" -->
<p>Consider a four-node cluster configured into two server pools named <code class="codeph">online</code> and <code class="codeph">backoffice</code>. A database named <code class="codeph">dbsales</code> runs in the <code class="codeph">online</code> server pool offering the <code class="codeph">browse</code>, <code class="codeph">search</code>, and <code class="codeph">salescart</code> services. A database named <code class="codeph">dberp</code> runs in the <code class="codeph">backoffice</code> server pool and offers the <code class="codeph">inventory</code> and <code class="codeph">shipping</code> services, as shown in <a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">Figure 1-2</a>. During normal business hours the enterprise requires a minimum of two instances of the <code class="codeph">dbsales</code> database and one instance of the <code class="codeph">dberp</code> database to meet normal demand.</p>
<div class="figure" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">
<p class="titleinfigure">Figure 1-2 Server Placement by Minimum and Maximum Limits</p>
<img width="642" height="402" src="img/GUID-47BDB4BB-A870-4296-B7D1-0A2B877AA380-default.png" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows"/><br/>
<a href="img_text/GUID-47BDB4BB-A870-4296-B7D1-0A2B877AA380-print.htm">Description of &#34;Figure 1-2 Server Placement by Minimum and Maximum Limits&#34;</a></div>
<!-- class="figure" -->
<p>In this policy-managed deployment, the value of the <code class="codeph">MIN_SIZE</code> server pool attribute for the <code class="codeph">online</code> server pool is 2, while the value of the <code class="codeph">MIN_SIZE</code> server pool attribute for the <code class="codeph">backoffice</code> server pool is 1. Configured this way, Oracle Clusterware ensures that there are always two servers in the <code class="codeph">online</code> server pool and one server in the <code class="codeph">backoffice</code> server pool. Because this is a four-node cluster, there is one server left not assigned to either server pool. Where that last server gets deployed is determined by the <code class="codeph">MAX_SIZE</code> server pool parameter of each server pool. If the sum of the values of the <code class="codeph">MAX_SIZE</code> server pool attribute for each server pool is less than the total number of servers in the cluster, then the remaining servers stay in the Free server pool awaiting a failure of a deployed node.</p>
<p>If the value of <code class="codeph">MAX_SIZE</code> is greater than that of <code class="codeph">MIN_SIZE</code>, then the remaining server will be deployed into the server pool whose importance value is greatest, as shown in <a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">Figure 1-2</a>, and fully discussed in the next section. In this case, the server is a shareable resource that can be relocated online to join the server pool where it is required. For example, during business hours the server could be given to the <code class="codeph">online</code> server pool to add an instance of the <code class="codeph">dbsales</code> database but after hours could be relocated to the <code class="codeph">backoffice</code> server pool, adding a <code class="codeph">dberp</code> database instance. All such movements are online and instances are shut down, transactionally.</p>
<p>These two policy-managed databases are running only the instances that are required and they can be dynamically increased or decreased to meet demand or business requirements.</p>
<div class="section" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABIFIIE">
<p class="subhead1">IMPORTANCE Attribute of Server Pools</p>
</div>
<!-- class="section" -->
<p>The <code class="codeph">IMPORTANCE</code> server pool attribute is used at cluster startup and in response to a node failure or eviction. In contrast to administrator-managed databases, you can configure server pools with different importance levels to determine which databases are started first and which databases remain online in case there is a multinode outage.</p>
<p>Consider a four-node cluster that hosts a database named <code class="codeph">dbapps</code> in two server pools, <code class="codeph">sales</code> and <code class="codeph">backoffice</code>. Two services, <code class="codeph">orderentry</code> and <code class="codeph">billing</code>, run in the <code class="codeph">sales</code> server pool, while two other services, <code class="codeph">erp</code> and <code class="codeph">reports</code>, run in the <code class="codeph">backoffice</code> server pool, as shown in <a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABDFGIE">Figure 1-3</a>. By configuring the value of the <code class="codeph">IMPORTANCE</code> server pool attribute of the <code class="codeph">sales</code> server pool higher than that of the <code class="codeph">backoffice</code> server pool, the services in <code class="codeph">sales</code> start first when the cluster starts and are always available, even if there is only one server left running after a multinode failure. The <code class="codeph">IMPORTANCE</code> server pool attribute enables you to rank services and also eliminates the requirement to run a service on all nodes in a cluster to ensure that it is always available.</p>
<div class="figure" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABDFGIE">
<p class="titleinfigure">Figure 1-3 Server Pool Importance</p>
<img width="642" height="402" src="img/GUID-EE6016EB-1E8F-4EBF-9E20-264B533789FD-default.png" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows"/><br/>
<a href="img_text/GUID-EE6016EB-1E8F-4EBF-9E20-264B533789FD-print.htm">Description of &#34;Figure 1-3 Server Pool Importance&#34;</a></div>
<!-- class="figure" -->
<div class="section" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABJGBHE">
<p class="subhead1">Consolidation of Databases</p>
</div>
<!-- class="section" -->
<p>You can use several different approaches, either discretely or combined, to consolidate Oracle databases. Policy-managed deployments facilitate consolidation. In the case of schema consolidation, where multiple applications are being hosted in a single database separated into discrete schemas or pluggable databases (PDBs), you can use server pools to meet required capacity. Because of the dynamic scaling property of server pools, you can increase or decrease the number of database instances to meet current demand or business requirements. Since server pools also determine which services run together or separately, you can configure and maintain required affinity or isolation.</p>
<p>When it is not possible to use schema consolidation because of, for example, version requirements, you can host multiple databases on a single set of servers. Using policy-managed databases facilitates this database consolidation because they can share the same server pool by making use of <a href="GUID-C68EE4B9-60C8-4EEE-B7D0-4708526B128E.htm#GUID-EA9BDE17-264E-4375-8F98-1B4184A03648"><span class="xrefglossterm">instance caging</span></a>, which enables you to dynamically increase or decrease databases, both horizontally (using server pool size) and vertically (using the <code class="codeph">CPU_COUNT</code> server configuration attribute) to meet demand or business policies and schedules.</p>
<div class="infoboxnotealso" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__GUID-596B1444-5D0F-4284-94D5-B21AF0E59347">
<p class="notep1">See Also:</p>
<p><a class="olink CWADD92636" target="_blank" href="../CWADD/GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B.htm#CWADD92636"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about the <code class="codeph">CPU_COUNT</code> server configuration attribute</p>
</div>
<p>By contrast, with administrator-managed databases, you are required to reserve capacity on each server to absorb workload failing over should a database instance or server fail. With policy-managed databases, however, you can effectively rank server pools by the business necessity of the workloads that they are running using the <code class="codeph">MIN_SIZE</code>, <code class="codeph">MAX_SIZE</code>, and <code class="codeph">IMPORTANCE</code> server pool attributes.</p>
<p>When the failure of a server brings a server pool to below its configured minimum number of servers, another server will move from a less important server pool to take its place and bring the number of servers back up to the configured minimum. This eliminates the risk of cascade failures due to overloading the remaining servers and enables you to significantly reduce or even eliminate the need to reserve capacity for handling failures.</p>
<p>Migrating or converting to policy-managed databases also enables cluster consolidation and creates larger clusters that have greater availability and scalability because of the increased number of servers available to host and scale databases. Because policy-managed databases do not require binding their instance names to a particular server and binding services to particular instances, the complexity of configuring and managing large clusters is greatly reduced.</p>
<p>An example deployment is shown in <a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABBJAHJ">Figure 1-4</a> where the previous two cluster examples (shown in <a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__CHDEBFHG">Figure 1-2</a> and <a href="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733.htm#GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABDFGIE">Figure 1-3</a>) are consolidated into a single cluster, making use of both database consolidation (using instance caging) and cluster consolidation (using server pools) configured so that workloads are properly sized and prioritized.</p>
<div class="figure" id="GUID-B1523FC3-DED5-4A91-98D5-789CFE650733__BABBJAHJ">
<p class="titleinfigure">Figure 1-4 Consolidating Databases</p>
<img width="642" height="401" src="img/GUID-B791F266-4A1F-4A2D-B222-0F48CB270801-default.png" alt="Description of Figure 1-4 follows" title="Description of Figure 1-4 follows"/><br/>
<a href="img_text/GUID-B791F266-4A1F-4A2D-B222-0F48CB270801-print.htm">Description of &#34;Figure 1-4 Consolidating Databases&#34;</a></div>
<!-- class="figure" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-342BDB31-4A5D-473B-8F27-AB5785BBC0A9.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-0D6E4EC3-7D75-45DB-97D8-372B2FD010D3.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87369"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20Fast%20Application%20Notification%20Callouts"></a><title>Using Fast Application Notification Callouts</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-807BA413-6348-482D-A53C-462F5BBAE5A8.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-097A5067-8CCF-4FF0-B97B-BF109DFA1841.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2024CEF8-F984-4377-9182-E17F738A4715"></a> <span id="PAGE" style="display:none;">106/567</span> <!-- End Header -->
<a id="RACAD7133"></a>
<h1 id="RACAD-GUID-2024CEF8-F984-4377-9182-E17F738A4715" class="sect1">Using Fast Application Notification Callouts</h1>
<div>
<p><a id="d26238e130" class="indexterm-anchor"></a>FAN callouts are server-side executables that Oracle RAC executes immediately when high availability events occur. You can use FAN callouts to automate activities when events occur in a cluster configuration, such as:</p>
<ul style="list-style-type: disc;">
<li>
<p>Opening fault tracking tickets</p>
</li>
<li>
<p>Sending messages to pagers</p>
</li>
<li>
<p>Sending e-mail</p>
</li>
<li>
<p>Starting and stopping server-side applications</p>
</li>
<li>
<p>Maintaining an uptime log by logging each event as it occurs</p>
</li>
<li>
<p>Relocating low-priority services when high priority services come online</p>
</li>
</ul>
<p><a id="d26238e157" class="indexterm-anchor"></a>To use FAN callouts, place an executable in the <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/racg/usrco</code> directory on every node that runs Oracle Clusterware. The executable must be able to run standalone when called, with optional arguments, from another program. The following is an example of the <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/racg/usrco/callout.sh</code> callout:</p>
<pre dir="ltr">#! /bin/bash
FAN_LOGFILE= [<span class="italic">your_path_name</span>]/admin/log/&#39;hostname&#39;_uptime&#39;.log
echo $* &#34;reported=&#34;&#39;date&#39; &gt;&gt; $FAN_LOGFILE &amp;
</pre>
<p>The previous example produces output similar to the following:</p>
<pre dir="ltr">NODE VERSION=1.0 host=sun880-2 incarn=23 status=nodedown reason=public_nw_down
timestamp=08-Oct-2012 04:02:14 timezone=-08:00 reported=Fri Oct 8 04:02:14 PDT 2012
</pre>
<p>The contents of a FAN event record matches the current session of the user logged on to the database, as shown in <a href="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D.htm#GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABFJDAI" title="FAN parameters and matching Oracle database signatures">Table 5-3</a>. The user environment (<code class="codeph">USERENV</code>) information is also available using OCI connection handle and descriptor attributes (using <code class="codeph">OCIAttrGet()</code>). Use this information to take actions on sessions that match the FAN event data.</p>
<div class="infoboxnotealso" id="GUID-2024CEF8-F984-4377-9182-E17F738A4715__GUID-B729C78F-470B-4107-8806-9C4586EDB569">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D.htm#GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABJHGIA" title="Event payload parameters and descriptions">Table 5-2</a> for information about the callout and event details</p>
</li>
<li>
<p><a class="olink LNOCI020" target="_blank" href="../LNOCI/oci02bas.htm#LNOCI020"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> for more information about connection handle and descriptor attributes</p>
</li>
</ul>
</div>
<p>In general, events are only posted to user callouts on the node from which the event originated. For example, if the database on <code class="codeph">node1</code> goes down, then the callout is posted to <code class="codeph">node1</code>, only. The only exceptions to this are node down and VIP down events&mdash;these events are posted to all nodes, regardless of from where they originated.</p>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-807BA413-6348-482D-A53C-462F5BBAE5A8.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-097A5067-8CCF-4FF0-B97B-BF109DFA1841.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
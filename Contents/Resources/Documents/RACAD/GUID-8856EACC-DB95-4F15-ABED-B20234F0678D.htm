<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87612"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Fast%20Application%20Notification%20High%20Availability%20Events"></a><title>Fast Application Notification High Availability Events</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="Fast Application Notification (FAN), parameters and matching database signatures"/>
<meta name="dcterms.created" content="2017-07-10T13:15:22Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48838-12"/>
<meta name="dcterms.isVersionOf" content="RACAD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-11B75A54-CEF7-4113-A72F-9E7AAFE61953.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-807BA413-6348-482D-A53C-462F5BBAE5A8.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48838-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D"></a> <span id="PAGE" style="display:none;">104/567</span> <!-- End Header -->
<a id="RACAD8300"></a><a id="RACAD7687"></a><a id="RACAD7688"></a><a id="RACAD7132"></a>
<h1 id="RACAD-GUID-8856EACC-DB95-4F15-ABED-B20234F0678D" class="sect1">Fast Application Notification High Availability Events</h1>
<div>
<p>This section describes the information delivered in the FAN event to a callout program. <a href="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D.htm#GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABCFJCA" title="FAN event types and descriptions">Table 5-1</a> lists the <a id="d25038e145" class="indexterm-anchor"></a>FAN event types and <a href="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D.htm#GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABJHGIA" title="Event payload parameters and descriptions">Table 5-2</a> describes name-value pairs for the event parameters. The event type is always the first entry when you receive FAN information through a callout, as in the following example:</p>
<pre dir="ltr">SERVICEMEMBER VERSION=1.0
   service=test.company.com database=ractest
   instance=ractest11 host=ractest1_host0343_1 status=up reason=FAILURE
   timestamp=2012-02-01 22:06:02 timezone=-07:00 db_domain=company.com
</pre>
<p>Note that the preceding examples displays as one line.</p>
<div class="tblformal" id="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABCFJCA">
<p class="titleintable">Table 5-1 FAN Event Types</p>
<table class="cellalignment2603" title="FAN Event Types" summary="FAN event types and descriptions">
<thead>
<tr class="cellalignment2594">
<th class="cellalignment2640" id="d25038e169">Event Types</th>
<th class="cellalignment2641" id="d25038e172">Notes</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e177" headers="d25038e169">
<pre dir="ltr">DATABASE,
INSTANCE, NODE,
SERVICE,
SERVICEMEMBER,
SRV_PRECONNECT,
SERVICEMETRICS
</pre></td>
<td class="cellalignment2643" headers="d25038e177 d25038e172">
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">DATABASE</code> and <code class="codeph">INSTANCE</code> types list the default database service as <span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span>.</p>
</li>
<li>
<p>All events except for <code class="codeph">NODE</code> events include a <code class="codeph">db_domain</code> field.</p>
</li>
<li>
<p>Events of <code class="codeph">SERVICEMETRICS</code> type are load balancing advisory events.</p>
<p><span class="bold">See Also:</span> <a href="GUID-0EF444E4-6EC3-46A9-AF14-307995FEA664.htm#GUID-0EF444E4-6EC3-46A9-AF14-307995FEA664__BABHJDGB" title="Event payload parameters and descriptions">Table 5-4</a> for more information about load balancing events</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformal" id="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABJHGIA">
<p class="titleintable">Table 5-2 Event Parameter Name-Value Pairs and Descriptions</p>
<table class="cellalignment2603" title="Event Parameter Name-Value Pairs and Descriptions" summary="Event payload parameters and descriptions">
<thead>
<tr class="cellalignment2594">
<th class="cellalignment2640" id="d25038e229">Parameter</th>
<th class="cellalignment2641" id="d25038e232">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e237" headers="d25038e229">
<pre dir="ltr">VERSION
</pre></td>
<td class="cellalignment2643" headers="d25038e237 d25038e232">
<p>Version of the event record. Used to identify release changes.</p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e244" headers="d25038e229">
<pre dir="ltr">database
</pre></td>
<td class="cellalignment2643" headers="d25038e244 d25038e232">
<p>The unique name of the database supporting the service; matches the initialization parameter value for <code class="codeph">DB_UNIQUE_NAME</code>, which defaults to the value of the <code class="codeph">DB_NAME</code> initialization parameter.</p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e257" headers="d25038e229">
<pre dir="ltr">instance
</pre></td>
<td class="cellalignment2643" headers="d25038e257 d25038e232">
<p>The name of the instance that supports the service; matches the <code class="codeph">ORACLE_SID</code> value.</p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e267" headers="d25038e229">
<pre dir="ltr">host
</pre></td>
<td class="cellalignment2643" headers="d25038e267 d25038e232">
<p>The name of the node that supports the service or the node that has stopped; matches the node name known to Cluster Synchronization Services (CSS).</p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e274" headers="d25038e229">
<pre dir="ltr">service
</pre></td>
<td class="cellalignment2643" headers="d25038e274 d25038e232">
<p>The service name; matches the name of the service as listed in <code class="codeph">DBA_SERVICES</code> and is domain-qualified as appropriate. Refer to the following examples:</p>
<pre dir="ltr">SERVICEMEMBER VERSION=1.0 service=swingbench
 database=orcl instance=orcl_2 host=rwsbj13 status=up
 reason=USER card=1 timestamp=2012-05-29 17:26:37
 timezone=-07:00 db_domain=

SERVICEMEMBER VERSION=1.0 service=swingbench.example.com
 database=orcl instance=orcl1 host=rwsbj09 status=up
 reason=USER card=2 timestamp=2012-07-03 17:29:28
 timezone=-07:00 db_domain=example.com

SERVICEMEMBER VERSION=1.0 service=swingbench.example.com
 database=orcl instance=orcl2 host=rwsbj10 status=up
 reason=USER card=1 timestamp=2012-07-03 17:29:18
 timezone=-07:00 db_domain=example.com
</pre></td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e286" headers="d25038e229">
<pre dir="ltr">status
</pre></td>
<td class="cellalignment2643" headers="d25038e286 d25038e232">
<p>Values are <code class="codeph">UP</code>, <code class="codeph">DOWN</code>, <code class="codeph">NODEDOWN</code> (this only applies to the <code class="codeph">NODE</code> event type), <code class="codeph">NOT_RESTARTING</code>, <code class="codeph">PRECONN_UP</code>, <code class="codeph">PRECONN_DOWN</code>, and <code class="codeph">UNKNOWN</code>.</p>
<p><span class="bold">Notes:</span></p>
<ul style="list-style-type: disc;">
<li>
<p>When the node is down, the status is <code class="codeph">NODEDOWN</code>, as opposed to <code class="codeph">DOWN</code> for other event types.</p>
</li>
<li>
<p>When <code class="codeph">STATUS=NODEDOWN</code> and <code class="codeph">REASON=MEMBER_LEAVE</code>, a node has failed and is no longer part of the cluster.</p>
</li>
<li>
<p>When <code class="codeph">STATUS=NODEDOWN</code> and <code class="codeph">REASON=PUBLIC_NW_DOWN</code>, the node is up but it is unreachable because the public network is down.</p>
</li>
<li>
<p>Multiple public networks are supported by Oracle Clusterware. The FAN event reflects this fact.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e352" headers="d25038e229">
<pre dir="ltr">reason
</pre></td>
<td class="cellalignment2643" headers="d25038e352 d25038e232">
<p><code class="codeph">AUTOSTART</code>, <code class="codeph">BOOT</code>, <code class="codeph">DEPENDENCY</code>, <code class="codeph">FAILURE</code>, <code class="codeph">MEMBER_LEAVE</code>, <code class="codeph">PUBLIC_NW_DOWN</code>, <code class="codeph">USER</code>.</p>
<p><span class="bold">Notes:</span></p>
<ul style="list-style-type: disc;">
<li>
<p>For <code class="codeph">DATABASE</code> and <code class="codeph">SERVICE</code> event types, <code class="codeph">REASON=AUTOSTART</code> if, when the node started, the <code class="codeph">AUTO_START</code> resource attribute was set to restore, and the resource was offline before the node started.</p>
</li>
<li>
<p>For <code class="codeph">DATABASE</code> and <code class="codeph">SERVICE</code> event types, <code class="codeph">REASON=BOOT</code> if, when the node started, the resource started because it was online before the node started.</p>
</li>
<li>
<p>For SRVCTL and Oracle Enterprise Manager operations, <code class="codeph">REASON=USER</code> describes planned actions for such operations as draining work.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e417" headers="d25038e229">
<pre dir="ltr">cardinality
</pre></td>
<td class="cellalignment2643" headers="d25038e417 d25038e232">
<p>The number of service members that are currently active; included in all <code class="codeph">SERVICEMEMBER UP</code> events.</p>
<p>Following is an example of <code class="codeph">SERVICEMEMBER UP</code> event:</p>
<pre dir="ltr">SERVICEMEMBER VERSION=1.0 service=swingbench.example.com
database=orcl instance=orcl_2 host=mjkbj09 status=up
reason=USER card=1 timestamp=2012-07-12 14:46:46  timezone=-07:00 db_domain=example.com
</pre></td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e434" headers="d25038e229">
<pre dir="ltr">incarnation
</pre></td>
<td class="cellalignment2643" headers="d25038e434 d25038e232">
<p>For <code class="codeph">NODEDOWN</code> events; the new cluster incarnation. This value changes each time a member joins or leaves the cluster.</p>
<p>Following is an example of a <code class="codeph">NODEDOWN</code> event:</p>
<pre dir="ltr">NODE VERSION=1.0 host=stru09 incarn=175615351 status=down
reason=member_leave timestamp=27-Jul-2010 14:49:32  timezone=-07:00
</pre></td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e451" headers="d25038e229">
<pre dir="ltr">timestamp
</pre></td>
<td class="cellalignment2643" headers="d25038e451 d25038e232">
<p>The time according to Oracle Clusterware that an event occurs.</p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2642" id="d25038e458" headers="d25038e229">
<pre dir="ltr">timezone
</pre></td>
<td class="cellalignment2643" headers="d25038e458 d25038e232">
<p>The time zone of Oracle Clusterware where the event occurred, given as GMT +/-hh:mm.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Some of the FAN event record parameters have values that correspond to values returned by the <code class="codeph">SYS_CONTEXT</code> function using the default namespace <code class="codeph">USERENV</code>, as shown in <a href="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D.htm#GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABFJDAI" title="FAN parameters and matching Oracle database signatures">Table 5-3</a>.</p>
<div class="tblformal" id="GUID-8856EACC-DB95-4F15-ABED-B20234F0678D__BABFJDAI">
<p class="titleintable">Table 5-3 FAN Parameters and Matching Session Information</p>
<table class="cellalignment2603" title="FAN Parameters and Matching Session Information" summary="FAN parameters and matching Oracle database signatures">
<thead>
<tr class="cellalignment2594">
<th class="cellalignment2687" id="d25038e487">FAN Parameter</th>
<th class="cellalignment2695" id="d25038e490">Matching Session Information</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2594">
<td class="cellalignment2690" id="d25038e495" headers="d25038e487">
<p><code class="codeph">SERVICE</code></p>
</td>
<td class="cellalignment2696" headers="d25038e495 d25038e490">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;service_name&#39;)</code></p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2690" id="d25038e504" headers="d25038e487">
<p><code class="codeph">DATABASE_UNIQUE_NAME</code></p>
</td>
<td class="cellalignment2696" headers="d25038e504 d25038e490">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;db_unique_name&#39;)</code></p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2690" id="d25038e513" headers="d25038e487">
<p><code class="codeph">INSTANCE</code></p>
</td>
<td class="cellalignment2696" headers="d25038e513 d25038e490">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;instance_name&#39;)</code></p>
</td>
</tr>
<tr class="cellalignment2594">
<td class="cellalignment2690" id="d25038e522" headers="d25038e487">
<p><code class="codeph">CLUSTER_NODE_NAME</code></p>
</td>
<td class="cellalignment2696" headers="d25038e522 d25038e490">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;server_host&#39;)</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2593">
<tr>
<td class="cellalignment2600">
<table class="cellalignment2598">
<tr>
<td class="cellalignment2597"><a href="GUID-11B75A54-CEF7-4113-A72F-9E7AAFE61953.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2597"><a href="GUID-807BA413-6348-482D-A53C-462F5BBAE5A8.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2602">
<table class="cellalignment2596">
<tr>
<td class="cellalignment2597"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2597"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2597"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2597"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2597"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2597"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
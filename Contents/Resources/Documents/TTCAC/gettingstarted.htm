<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-107395"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Getting%20Started"></a><title>Getting Started</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 726"/>
<meta name="dcterms.created" content="2014-09-23T15:6:29Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="TimesTen Application-Tier Database Cache User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E21634-12"/>
<meta name="dcterms.isVersionOf" content="TTCAC"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="concepts.htm" title="Previous" type="text/html"/>
<link rel="Next" href="prereqs.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E21634-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/21</span> <!-- End Header -->
<div id="TTCAC131" class="chapter"><a id="CHDDGGAE"></a>
<h1 class="chapter"><span class="secnum">2</span> Getting Started</h1>
<p>This chapter illustrates the creation and use of cache groups by demonstrating how to create an explicitly loaded read-only local cache group and a dynamic updatable global cache group. In addition, this chapter demonstrates how to create a grid, since this example creates a global cache group. It also describes how to populate the cache tables, and how to observe the transfer of updates between the cache tables in the TimesTen database and the cached tables in the Oracle database.</p>
<ul>
<li>
<p><a href="#CHDDJGGI">Setting up the Oracle Database and TimesTen systems</a></p>
</li>
<li>
<p><a href="#CHDCGCBC">Creating a cache grid</a></p>
</li>
<li>
<p><a href="#CHDEEHDJ">Creating cache groups</a></p>
</li>
<li>
<p><a href="#CHDIGHAA">Attaching the TimesTen database to the cache grid</a></p>
</li>
<li>
<p><a href="#CHDCFCHA">Performing operations on the read-only cache group</a></p>
</li>
<li>
<p><a href="#CHDECEDB">Performing operations on the dynamic updatable global cache group</a></p>
</li>
<li>
<p><a href="#CHDHDHGG">Cleaning up the TimesTen and Oracle Database systems</a></p>
</li>
</ul>
<a id="CHDDJGGI"></a>
<div id="TTCAC132" class="sect1">
<h2 class="sect1">Setting up the Oracle Database and TimesTen systems</h2>
<p>Before you can create a cache grid or a cache group, you must first install TimesTen and then configure the Oracle Database and TimesTen systems. See <a class="olink TTINS" href="../TTINS/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span></a> for information about installing TimesTen.</p>
<p>Complete the following tasks:</p>
<ol>
<li>
<p><a href="#CHDHAIJF">Create users in the Oracle database</a>.</p>
</li>
<li>
<p><a href="#CHDIFBAD">Create a DSN for the TimesTen database</a>.</p>
</li>
<li>
<p><a href="#CHDCGJAE">Create users in the TimesTen database</a>.</p>
</li>
<li>
<p><a href="#CHDHIHJD">Set the cache administration user name and password in the TimesTen database</a>.</p>
</li>
</ol>
<a id="CHDHAIJF"></a>
<div id="TTCAC133" class="sect2">
<h3 class="sect2">Create users in the Oracle database</h3>
<p>Before you can use TimesTen Application-Tier Database Cache, you must create the following users on the Oracle Database:</p>
<ul>
<li>
<p>A user <a id="sthref49"></a><a id="sthref50"></a><code>timesten</code> owns Oracle Database tables that store information about the cache environment.</p>
</li>
<li>
<p>One or more <a id="sthref51"></a><a id="sthref52"></a>schema users own the Oracle Database tables to be cached in a TimesTen database. These may be existing users or new users.</p>
</li>
<li>
<p>A <a id="sthref53"></a><a id="sthref54"></a>cache administration user creates and maintains Oracle Database objects that store information used to manage the cache environment and enforce predefined behaviors of particular cache group types.</p>
</li>
</ul>
<p>Start SQL*Plus on the Oracle Database system from an operating system shell or command prompt, and connect to the Oracle database instance as the <code>sys</code> user:</p>
<pre>% cd <span class="italic">TimesTen_install_dir</span>/oraclescripts
% sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre>
<p>Use SQL*Plus to create a default tablespace to be used for storing TimesTen Application-Tier Database Cache management objects that should not be shared with other applications. While you may also store Oracle base tables that are cached in TimesTen, we strongly recommend that this tablespace be used solely by TimesTen for cache management.</p>
<p>Use SQL*Plus to run the SQL*Plus script <code><span class="codeinlineitalic">TimesTen_install_dir</span></code><code>/oraclescripts/initCacheGlobalSchema.sql</code> to create the following elements:</p>
<ul>
<li>
<p>The <code>timesten</code> user</p>
</li>
<li>
<p>The Oracle Database tables owned by the <code>timesten</code> user to store information about the cache environment, including a cache grid if one is configured</p>
</li>
<li>
<p>The <a id="sthref55"></a><code>TT_CACHE_ADMIN_ROLE</code> role that defines privileges on these Oracle Database tables</p>
</li>
</ul>
<p>Pass the default tablespace as an argument to the <code>initCacheGlobalSchema.sql</code> script. In the following example, the name of the default tablespace is <code>cachetblsp</code>:</p>
<pre>SQL&gt; <a id="sthref56"></a><a id="sthref57"></a>CREATE TABLESPACE cachetblsp DATAFILE &#39;datfttuser.dbf&#39; SIZE 100M;
SQL&gt; <a id="sthref58"></a><a id="sthref59"></a>@initCacheGlobalSchema &#34;cachetblsp&#34;
</pre>
<p>Next, use SQL*Plus to create a schema user. Grant this user the minimum set of privileges required to create tables in the Oracle database to be cached in a TimesTen database. In the following example, the schema user is <code>oratt</code>:</p>
<pre>SQL&gt; <a id="sthref60"></a><a id="sthref61"></a><a id="sthref62"></a>CREATE USER oratt IDENTIFIED BY oracle;
SQL&gt; GRANT CREATE SESSION, RESOURCE TO oratt;
</pre>
<p>Then use SQL*Plus to perform the following operations:</p>
<ul>
<li>
<p>Create a cache administration user.</p>
</li>
<li>
<p>Run the SQL*Plus script <code><span class="codeinlineitalic">TimesTen_install_dir</span></code><code>/oraclescripts/grantCacheAdminPrivileges.sql</code> to grant the cache administration user the minimum set of privileges required to perform cache grid and cache group operations.</p>
</li>
</ul>
<p>Pass the cache administration user name as an argument to the <code>grantCacheAdminPrivileges.sql</code> script. In the following example, the cache administration user name is <code>cacheuser</code> and the name of its default tablespace is <code>cachetblsp</code>:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See the comments in the <code>grantCacheAdminPrivileges.sql</code> script for the required privileges by the user who executes this script and the privileges that this user grants to the cache administration user.</div>
<pre>SQL&gt; <a id="sthref63"></a>CREATE USER cacheuser IDENTIFIED BY oracle
  2  DEFAULT TABLESPACE cachetblsp QUOTA UNLIMITED ON cachetblsp;
SQL&gt; <a id="sthref64"></a><a id="sthref65"></a>@grantCacheAdminPrivileges &#34;cacheuser&#34;
SQL&gt; exit
</pre>
<p>The privileges that the cache administration user requires depend on the types of cache groups you create and the operations that you perform on the cache groups.</p>
<p>See <a href="prereqs.htm#BABBEGBI">&#34;Create the Oracle database users&#34;</a> for more information about the <code>timesten</code> user, the schema users, and the cache administration user.</p>
</div>
<!-- class="sect2" -->
<a id="CHDIFBAD"></a>
<div id="TTCAC134" class="sect2">
<h3 class="sect2">Create a DSN for the TimesTen database</h3>
<pre>SQL&gt; SELECT value FROM nls_database_parameters WHERE parameter=&#39;NLS_CHARACTERSET&#39;;
</pre>
<p>On UNIX, in the <code>.odbc.ini</code> file that resides in your home directory or the <code><span class="codeinlineitalic">TimesTen_install_dir</span></code><code>/info/sys.odbc.ini</code> file, create a TimesTen DSN <code>cachealone1</code> and set the following connection attributes:</p>
<pre><a id="sthref66"></a>[cachealone1]
DataStore=/users/OracleCache/alone1
PermSize=64
OracleNetServiceName=oracledb
DatabaseCharacterSet=AL32UTF8
CacheGridEnable=1
</pre>
<p>On Windows, create a TimesTen user DSN or system DSN <code>cachealone1</code> and set the following connection attributes:</p>
<ul>
<li>
<p>Data Store Path + Name: <code>c:\temp\alone1</code></p>
</li>
<li>
<p>Permanent Data Size: <code>64</code></p>
</li>
<li>
<p>Oracle Net Service Name: <code>oracledb</code></p>
</li>
<li>
<p>Database Character Set: <code>AL32UTF8</code></p>
</li>
<li>
<p>Cache grid is enabled so we can create a cache grid</p>
</li>
</ul>
<p>Use the default settings for all the other connection attributes.</p>
<p>See <a href="prereqs.htm#BCFHIFAD">&#34;Define a DSN for the TimesTen database&#34;</a> for more information about defining a DSN for a TimesTen database that caches data from an Oracle database.</p>
<p>See <a class="olink TTOPR120" href="../TTOPR/using.htm#TTOPR120">&#34;Managing TimesTen Databases&#34;</a> in <span class="italic">Oracle TimesTen In-Memory Database Operations Guide</span> for more information about TimesTen DSNs.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The term &#34;data store&#34; is used interchangeably with &#34;TimesTen database&#34;.</div>
</div>
<!-- class="sect2" -->
<a id="CHDCGJAE"></a>
<div id="TTCAC135" class="sect2">
<h3 class="sect2">Create users in the TimesTen database</h3>
<p>In addition to the Oracle Database users, you must create the following TimesTen users before you can use TimesTen Application-Tier Database Cache:</p>
<ul>
<li>
<p>A <a id="sthref67"></a><a id="sthref68"></a><span class="italic">cache manager user</span> performs cache grid and cache group operations. The TimesTen cache manager user must have the same name as a companion Oracle Database user that can access the cached Oracle Database tables. The companion Oracle Database user can be the cache administration user, a schema user, or some other existing user. For ease of use, making the cache administration user the companion Oracle Database user of the cache manager user is preferable. The password of the cache manager user can be different than the password of the companion Oracle Database user with the same name.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See <a href="prereqs.htm#BCFFABDH">&#34;Create the TimesTen users&#34;</a> for more details on the cache manager user and its companion Oracle Database user.</div>
<p>The <a id="sthref69"></a><a id="sthref70"></a>cache manager user is responsible for creating and configuring the cache grid (if one has been configured) and creating the cache groups. This user can also monitor the grid itself and various operations that are performed on the cache groups.</p>
</li>
<li>
<p>One or more <a id="sthref71"></a><a id="sthref72"></a><span class="italic">cache table users</span> own the cache tables. You must create a TimesTen cache table user with the same name as an Oracle Database schema user for each schema user who owns or will own Oracle Database tables to be cached in the TimesTen database. The password of a cache table user can be different than the password of the Oracle Database schema user with the same name.</p>
<p>The owner and name of a TimesTen cache table is the same as the owner and name of the corresponding cached Oracle Database table.</p>
</li>
</ul>
<p>Start the <a id="sthref73"></a><code>ttIsql</code> utility on the TimesTen system from an operating system shell or command prompt as the <a id="sthref74"></a>instance administrator, and connect to the <code>cachealone1</code> DSN to create the TimesTen database that is to be used to cache data from an Oracle database:</p>
<pre>% ttIsql cachealone1
</pre>
<p>Use <code>ttIsql</code> to create a <a id="sthref75"></a>cache manager user. <a id="sthref76"></a>Grant this user the minimum set of privileges required to create a cache grid (if one is configured), to create cache groups, and to perform operations on the cache groups. In the following example, the cache manager user name is <code>cacheuser</code>, which is the same name as the cache administration user that was created earlier:</p>
<pre>Command&gt; CREATE USER cacheuser IDENTIFIED BY timesten;
Command&gt; GRANT CREATE SESSION, CACHE_MANAGER, CREATE ANY TABLE TO cacheuser;
</pre>
<p>Then, use <code>ttIsql</code> to create a <a id="sthref77"></a>cache table user. In the following example, the cache table user name is <code>oratt</code>, which is the same name as the Oracle Database schema user that was created earlier:</p>
<pre>Command&gt; CREATE USER oratt IDENTIFIED BY timesten;
Command&gt; exit
</pre>
<p>The privileges that the cache manager user requires depend on the types of cache groups you create and the operations that you perform on the cache groups. See <a href="prereqs.htm#BCFFABDH">&#34;Create the TimesTen users&#34;</a> for more information about the cache manager user and the cache table users.</p>
<p>See <a class="olink TTOPR236" href="../TTOPR/accesscontrol.htm#TTOPR236">&#34;Managing Access Control&#34;</a> in <span class="italic">Oracle TimesTen In-Memory Database Operations Guide</span> for more information about TimesTen users and privileges.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHIHJD"></a>
<div id="TTCAC136" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Set the cache administration user name and password in the TimesTen database<a id="sthref78"></a><a id="sthref79"></a><a id="sthref80"></a></h3>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the cache manager user. In the connection string, specify the cache manager user name in the <code>UID</code> connection attribute. Specify the cache manager user&#39;s password in the <code>PWD</code> connection attribute. Specify the password of its companion Oracle user (created with the same name to be the companion user to the cache manager) in the <code>OraclePWD</code> connection attribute within the connection string. In this example, the cache administration user is the companion user to the cache manager user and so its password is provided.</p>
<pre>% ttIsql &#34;DSN=cachealone1;UID=cacheuser;PWD=timesten;OraclePWD=oracle&#34;
</pre>
<p>Use <code>ttIsql</code> to call the <code>ttCacheUidPwdSet</code> built-in procedure to set the cache administration user name and password:</p>
<pre>Command&gt; call ttCacheUidPwdSet(&#39;cacheuser&#39;,&#39;oracle&#39;);
</pre>
<p>The cache administration user name and password need to be set only once in a TimesTen database. See <a href="prereqs.htm#BCFFCGHH">&#34;Set the cache administration user name and password&#34;</a> for information on how to use this setting by the TimesTen database.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDCGCBC"></a>
<div id="TTCAC137" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Creating a cache grid<a id="sthref81"></a><a id="sthref82"></a><a id="sthref83"></a></h2>
<p>Since this example uses a global cache group, you need to create a cache grid to define the framework used to manage global cache data within TimesTen databases that cache data from an Oracle database. You create the cache grid after you have created the Oracle Database users, the TimesTen database, and the TimesTen users, and set the cache administration user name and password in the TimesTen database.</p>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttGridCreate</code> built-in procedure to create a cache grid <code>myGrid</code>:</p>
<pre>Command&gt; call ttGridCreate(&#39;myGrid&#39;);
</pre>
<p>Then use <code>ttIsql</code> to call the <a id="sthref84"></a><a id="sthref85"></a><a id="sthref86"></a><code>ttGridNameSet</code> built-in procedure to associate the TimesTen database with the <code>myGrid</code> cache grid:</p>
<pre>Command&gt; call ttGridNameSet(&#39;myGrid&#39;);
</pre>
<p>See <a href="prereqs.htm#BCFCGCBJ">&#34;Configuring a cache grid&#34;</a> for more information about the contents and functionality of a cache grid.</p>
</div>
<!-- class="sect1" -->
<a id="CHDEEHDJ"></a>
<div id="TTCAC138" class="sect1">
<h2 class="sect1">Creating cache groups<a id="sthref87"></a></h2>
<p>This section creates a read-only cache group (as shown in <a href="#CHDIBHEB">Figure 2-1</a>) and an asynchronous writethrough (AWT) cache group (as shown in <a href="#CHDCCFJD">Figure 2-2</a>).</p>
<div id="TTCAC139" class="figure">
<p class="titleinfigure"><a id="CHDIBHEB"></a>Figure 2-1 Single-table read-only cache group</p>
<img width="313" height="158" src="img/roquicks0.gif" alt="Description of Figure 2-1 follows"/><br/>
<a id="sthref88" href="img_text/roquicks0.htm">Description of &#34;Figure 2-1 Single-table read-only cache group&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div id="TTCAC140" class="figure">
<p class="titleinfigure"><a id="CHDCCFJD"></a>Figure 2-2 Single-table writethrough cache group</p>
<img width="284" height="143" src="img/writethruquick.gif" alt="Description of Figure 2-2 follows"/><br/>
<a id="sthref89" href="img_text/writethruquick.htm">Description of &#34;Figure 2-2 Single-table writethrough cache group&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Complete the following tasks to create a read-only cache group and an AWT cache group:</p>
<ol>
<li>
<p><a href="#CHDFCCHB">Create the Oracle Database tables to be cached</a>.</p>
</li>
<li>
<p><a href="#CHDFHDHF">Start the cache agent</a>.</p>
</li>
<li>
<p><a href="#CHDHJCII">Create the cache groups</a>.</p>
</li>
<li>
<p><a href="#CHDJAFHG">Start the replication agent for the AWT cache group</a>.</p>
</li>
</ol>
<a id="CHDFCCHB"></a>
<div id="TTCAC141" class="sect2">
<h3 class="sect2">Create the Oracle Database tables to be cached</h3>
<p>Start SQL*Plus and connect to the Oracle database as the schema user:</p>
<pre>% sqlplus oratt/oracle
</pre>
<p>Use SQL*Plus to create a table <code>readtab</code> as shown in <a href="#BABIGEBH">Figure 2-3</a>, and a table <code>writetab</code> as shown in <a href="#CHDIFJGF">Figure 2-4</a>:</p>
<pre>SQL&gt; CREATE TABLE readtab (keyval NUMBER NOT NULL PRIMARY KEY, str VARCHAR2(32));
SQL&gt; CREATE TABLE writetab (pk NUMBER NOT NULL PRIMARY KEY, attr VARCHAR2(40));
</pre>
<div id="TTCAC142" class="figure">
<p class="titleinfigure"><a id="BABIGEBH"></a>Figure 2-3 Creating an Oracle Database table to be cached in a read-only cache group</p>
<img width="201" height="255" src="img/roquicks3.gif" alt="Description of Figure 2-3 follows"/><br/>
<a id="sthref90" href="img_text/roquicks3.htm">Description of &#34;Figure 2-3 Creating an Oracle Database table to be cached in a read-only cache group&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div id="TTCAC143" class="figure">
<p class="titleinfigure"><a id="CHDIFJGF"></a>Figure 2-4 Creating an Oracle Database table to be cached in an AWT cache group</p>
<img width="179" height="203" src="img/writetabquick.gif" alt="Description of Figure 2-4 follows"/><br/>
<a id="sthref91" href="img_text/writetabquick.htm">Description of &#34;Figure 2-4 Creating an Oracle Database table to be cached in an AWT cache group&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Then use SQL*Plus to insert some rows into the <code>readtab</code> and <code>writetab</code> tables, and commit the changes:</p>
<pre>SQL&gt; INSERT INTO readtab VALUES (1, &#39;Hello&#39;);
SQL&gt; INSERT INTO readtab VALUES (2, &#39;World&#39;);

SQL&gt; INSERT INTO writetab VALUES (100, &#39;TimesTen&#39;);
SQL&gt; INSERT INTO writetab VALUES (101, &#39;CACHE&#39;);
SQL&gt; COMMIT;
</pre>
<p>Next use SQL*Plus to grant the <code>SELECT</code> privilege on the <code>readtab</code> table, and the <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code> and <code>DELETE</code> privileges on the <code>writetab</code> table to the cache administration user:</p>
<pre>SQL&gt; GRANT SELECT ON readtab TO cacheuser;

SQL&gt; GRANT SELECT ON writetab TO cacheuser;
SQL&gt; GRANT INSERT ON writetab TO cacheuser;
SQL&gt; GRANT UPDATE ON writetab TO cacheuser;
SQL&gt; GRANT DELETE ON writetab TO cacheuser;
</pre>
<p>The <code>SELECT</code> privilege on the <code>readtab</code> table is required to create a read-only cache group that caches this table and to perform autorefresh operations from the cached Oracle Database table to the TimesTen cache table.</p>
<p>The <code>SELECT</code> privilege on the <code>writetab</code> table is required to create an AWT cache group that caches this table. The <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> privileges on the <code>writetab</code> table are required to perform writethrough operations from the TimesTen cache table to the cached Oracle Database table.</p>
<p>See <a href="prereqs.htm#BCFGJFIA">&#34;Grant privileges to the Oracle database users&#34;</a> for more information about the privileges required for the cache administration user to create and perform operations on a read-only cache group and an AWT cache group.</p>
</div>
<!-- class="sect2" -->
<a id="CHDFHDHF"></a>
<div id="TTCAC144" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Start the cache agent<a id="sthref92"></a><a id="sthref93"></a><a id="sthref94"></a></h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttCacheStart</code> built-in procedure to start the cache agent on the TimesTen database:</p>
<pre>Command&gt; call ttCacheStart;
</pre>
<p>See <a href="prereqs.htm#BCFIDDJA">&#34;Managing the cache agent&#34;</a> for more information about starting the cache agent.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHJCII"></a>
<div id="TTCAC145" class="sect2">
<h3 class="sect2">Create the cache groups</h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to create a read-only cache group <code>readcache</code> that caches the Oracle Database <code>oratt.readtab</code> table and a dynamic AWT global cache group <code>writecache</code> that caches the Oracle Database <code>oratt.writetab</code> table:</p>
<pre>Command&gt; <a id="sthref95"></a>CREATE READONLY CACHE GROUP readcache
       &gt; AUTOREFRESH INTERVAL 5 SECONDS
       &gt; FROM oratt.readtab
       &gt; (keyval NUMBER NOT NULL PRIMARY KEY, str VARCHAR2(32));

Command&gt; <a id="sthref96"></a>CREATE DYNAMIC ASYNCHRONOUS WRITETHROUGH GLOBAL CACHE GROUP writecache
       &gt; FROM oratt.writetab
       &gt; (pk NUMBER NOT NULL PRIMARY KEY, attr VARCHAR2(40));
</pre>
<p>The cache groups <code>readcache</code> and <code>writecache</code>, and their respective cache tables <code>oratt.readtab</code> and <code>oratt.writetab</code>, whose owners and names are identical to the cached Oracle Database tables, are created in the TimesTen database. <a href="#CHDIFAAH">Figure 2-5</a> shows that the <code>writecache</code> cache group caches the <code>oratt.writetab</code> table.</p>
<div id="TTCAC459" class="figure">
<p class="titleinfigure"><a id="CHDIFAAH"></a>Figure 2-5 Creating an asynchronous writethrough cache group</p>
<img width="350" height="183" src="img/awtquickcreate.gif" alt="Description of Figure 2-5 follows"/><br/>
<a id="sthref97" href="img_text/awtquickcreate.htm">Description of &#34;Figure 2-5 Creating an asynchronous writethrough cache group&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Use the <code>ttIsql</code> <a id="sthref98"></a><a id="sthref99"></a><code>cachegroups</code> command to view the definition of the <code>readcache</code> and <code>writecache</code> cache groups:</p>
<pre>Command&gt; cachegroups;

Cache Group CACHEUSER.READCACHE:

  Cache Group Type: Read Only
  Autorefresh: Yes
  Autorefresh Mode: Incremental
  Autorefresh State: Paused
  Autorefresh Interval: 5 Seconds
  Autorefresh Status: ok
  Aging: No aging defined

  Root Table: ORATT.READTAB
  Table Type: Read Only

Cache Group CACHEUSER.WRITECACHE:

  Cache Group Type: Asynchronous Writethrough global (Dynamic)
  Autorefresh: No
  Aging: LRU on

  Root Table: ORATT.WRITETAB
  Table Type: Propagate

2 cache groups found.
</pre>
<p>See <a href="define.htm#CHDGDEDA">&#34;Read-only cache group&#34;</a> for more information about read-only cache groups.</p>
<p>See <a href="define.htm#CHDJAJAC">&#34;Asynchronous writethrough (AWT) cache group&#34;</a> for more information about AWT cache groups.</p>
<p>See <a href="define.htm#CHDBACDC">&#34;Dynamic cache groups&#34;</a> for more information about dynamic cache groups.</p>
<p>See <a href="define.htm#CHDCJADE">&#34;Global cache groups&#34;</a> for more information about global cache groups.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJAFHG"></a>
<div id="TTCAC148" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Start the replication agent for the AWT cache group<a id="sthref100"></a><a id="sthref101"></a><a id="sthref102"></a></h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttRepStart</code> built-in procedure to start the replication agent on the TimesTen database:</p>
<pre>Command&gt; call ttRepStart;
</pre>
<p>The replication agent propagates committed updates on TimesTen cache tables in AWT cache groups to the cached Oracle Database tables.</p>
<p>See <a href="define.htm#CHDFGHFF">&#34;Managing the replication agent&#34;</a> for more information about starting the replication agent.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDIGHAA"></a>
<div id="TTCAC149" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Attaching the TimesTen database to the cache grid<a id="sthref103"></a><a id="sthref104"></a><a id="sthref105"></a></h2>
<p>If you are only creating local cache groups, you do not need to attach the TimesTen database to the cache grid. However, before you can perform operations on a global cache group or on its cache tables, you must attach the TimesTen database to the cache grid that it is associated with.</p>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttGridAttach</code> built-in procedure to attach the TimesTen database to the <code>myGrid</code> cache grid:</p>
<pre>Command&gt; call ttGridAttach(1,&#39;alone1&#39;,&#39;mysys&#39;,5001);
</pre>
<p>In this example, <code>alone1</code> is a name that uniquely identifies the grid member, <code>mysys</code> is the host name of the TimesTen system, and <code>5001</code> is the TCP/IP port for the cache agent.Calling the <code>ttGridAttach</code> built-in procedure automatically starts the cache agent if it is not already running.</p>
<p>Although the example in this chapter contains only one standalone TimesTen database as the sole grid member, it can be extended to include additional grid members such as active standby pairs and other standalone TimesTen databases. See <a href="gridmembers.htm#CIHJJEDE">Chapter 6, &#34;Creating Other Cache Grid Members&#34;</a>, for details on how to create and add other members to an existing cache grid, and how data in a global cache group is shared among the grid members.</p>
</div>
<!-- class="sect1" -->
<a id="CHDCFCHA"></a>
<div id="TTCAC150" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Performing operations on the read-only cache group</h2>
<p>This section shows how to manually load the read-only cache group. Then it shows the TimesTen cache table being automatically refreshed with committed updates on the cached Oracle Database table.</p>
<p>Complete the following tasks to perform operations on the read-only cache group:</p>
<ol>
<li>
<p><a href="#CHDJIHAJ">Manually load the cache group</a>.</p>
</li>
<li>
<p><a href="#CHDJACDA">Update the cached Oracle Database table</a>.</p>
</li>
</ol>
<a id="CHDJIHAJ"></a>
<div id="TTCAC151" class="sect2">
<h3 class="sect2">Manually load the cache group</h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to load the contents of the Oracle Database <code>oratt.readtab</code> table into the TimesTen <code>oratt.readtab</code> cache table in the <code>readcache</code> cache group:</p>
<pre>Command&gt; <a id="sthref106"></a>LOAD CACHE GROUP readcache COMMIT EVERY 256 ROWS;
2 cache instances affected.
Command&gt; exit
</pre>
<p><a href="#CHDIBCCB">Figure 2-6</a> shows that the Oracle Database data is loaded into the <code>oratt.readtab</code> cache table.</p>
<div id="TTCAC146" class="figure">
<p class="titleinfigure"><a id="CHDIBCCB"></a>Figure 2-6 Loading a read-only cache group</p>
<img width="394" height="163" src="img/roquicks6.gif" alt="Description of Figure 2-6 follows"/><br/>
<a id="sthref107" href="img_text/roquicks6.htm">Description of &#34;Figure 2-6 Loading a read-only cache group&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the instance administrator. Use <code>ttIsql</code> to grant the <code>SELECT</code> privilege on the <code>oratt.readtab</code> cache table to the cache manager user so that this user can issue a <code>SELECT</code> query on this table.</p>
<pre>% ttIsql cachealone1
Command&gt; GRANT SELECT ON oratt.readtab TO cacheuser;
Command&gt; exit
</pre>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the cache manager user, including the cache manager user password and the password of its companion Oracle user. Use <code>ttIsql</code> to query the contents of <code>oratt.readtab</code> cache table.</p>
<pre>% ttIsql &#34;DSN=cachealone1;UID=cacheuser;PWD=timesten;OraclePWD=oracle&#34;
Command&gt; SELECT * FROM oratt.readtab;
&lt; 1, Hello &gt;
&lt; 2, World &gt;
2 rows found.
</pre>
<p>See <a href="operations.htm#CHDBGAAF">&#34;Loading and refreshing a cache group&#34;</a> for more information about manually loading a cache group.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJACDA"></a>
<div id="TTCAC152" class="sect2">
<h3 class="sect2">Update the cached Oracle Database table<a id="sthref108"></a></h3>
<p>Use SQL*Plus, as the Oracle Database schema user, to insert a new row, delete an existing row, and update an existing row in the Oracle Database <code>readtab</code> table, and commit the changes:</p>
<pre>SQL&gt; INSERT INTO readtab VALUES (3, &#39;Welcome&#39;);
SQL&gt; DELETE FROM readtab WHERE keyval=2;
SQL&gt; UPDATE readtab SET str=&#39;Hi&#39; WHERE keyval=1;
SQL&gt; COMMIT;
</pre>
<p>Since the read-only cache group was created specifying autorefresh with an interval of 5 seconds, the <code>oratt.readtab</code> cache table in the <code>readcache</code> cache group is automatically refreshed after 5 seconds with the committed updates on the cached Oracle Database <code>oratt.readtab</code> table as shown in <a href="#CHDCGIFE">Figure 2-7</a>.</p>
<div id="TTCAC153" class="figure">
<p class="titleinfigure"><a id="CHDCGIFE"></a>Figure 2-7 Automatically refresh the TimesTen cache table with Oracle Database updates</p>
<img width="443" height="228" src="img/roquicks7.gif" alt="Description of Figure 2-7 follows"/><br/>
<a id="sthref109" href="img_text/roquicks7.htm">Description of &#34;Figure 2-7 Automatically refresh the TimesTen cache table with Oracle Database updates&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>As the cache manager user, use the <code>ttIsql</code> utility to query the contents of the <code>oratt.readtab</code> cache table after the <code>readcache</code> cache group has been automatically refreshed with the committed updates on the cached Oracle Database table:</p>
<pre>Command&gt; SELECT * FROM oratt.readtab;
&lt; 1, Hi &gt;
&lt; 3, Welcome &gt;
2 rows found.
Command&gt; exit
</pre>
<p>See <a href="define.htm#CHDEBGEI">&#34;AUTOREFRESH cache group attribute&#34;</a> for more information about automatically refreshing cache groups.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDECEDB"></a>
<div id="TTCAC154" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Performing operations on the dynamic updatable global cache group</h2>
<p>This section shows how to dynamically load the AWT cache group. Then it shows committed updates on the TimesTen cache table being automatically propagated to the cached Oracle Database table.</p>
<p>Complete the following tasks to perform operations on the AWT cache group:</p>
<ol>
<li>
<p><a href="#CHDCCHHF">Dynamically load the cache group</a>.</p>
</li>
<li>
<p><a href="#CHDEJEHI">Update the TimesTen cache table</a>.</p>
</li>
</ol>
<a id="CHDCCHHF"></a>
<div id="TTCAC155" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Dynamically load the cache group<a id="sthref110"></a></h3>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the instance administrator. Use <code>ttIsql</code> to grant the <code>SELECT</code> privilege on the <code>oratt.writetab</code> cache table to the cache manager user so that this user can issue a dynamic load <code>SELECT</code> statement on this table.</p>
<pre>% ttIsql cachealone1
Command&gt; GRANT SELECT ON oratt.writetab TO cacheuser;
Command&gt; exit
</pre>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the cache manager user, including the cache manager user password and the password of its companion Oracle user. Use <code>ttIsql</code> to load a cache instance on demand from the Oracle Database <code>oratt.writetab</code> table to the TimesTen <code>oratt.writetab</code> cache table in the <code>writecache</code> cache group.</p>
<pre>% ttIsql &#34;DSN=cachealone1;UID=cacheuser;PWD=timesten;OraclePWD=oracle&#34;
Command&gt; SELECT * FROM oratt.writetab WHERE pk=100;
&lt; 100, TimesTen &gt;
1 row found.
Command&gt; exit
</pre>
<p>In a dynamic cache group, a cache instance can be loaded into its cache tables on demand with a dynamic load statement. A <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code> or <code>INSERT</code> statement issued on a TimesTen cache table that uniquely identifies a cache instance results in the cache instance being automatically loaded from the cached Oracle Database table if the data is not found in the cache table. A dynamically loaded cache instance consists of a single row in the root table of the cache group, and all the related rows in the child tables.</p>
<p>See <a href="operations.htm#CJAGAAHE">&#34;Dynamically loading a cache instance&#34;</a> for more information about a dynamic load operation.</p>
<p>Data can also be manually loaded into the cache tables of a dynamic cache group using a <code>LOAD CACHE GROUP</code> statement.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEJEHI"></a>
<div id="TTCAC156" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Update the TimesTen cache table<a id="sthref111"></a></h3>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the instance administrator. Use <code>ttIsql</code> to grant the <code>INSERT</code>, <code>DELETE</code>, and <code>UPDATE</code> privileges on the <code>oratt.writetab</code> cache table to the cache manager user so that this user can perform updates on this table.</p>
<pre>% ttIsql cachealone1
Command&gt; GRANT INSERT ON oratt.writetab TO cacheuser;
Command&gt; GRANT DELETE ON oratt.writetab TO cacheuser;
Command&gt; GRANT UPDATE ON oratt.writetab TO cacheuser;
Command&gt; exit
</pre>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the cache manager user. Use <code>ttIsql</code> to insert a new row, delete an existing row, and update an existing row in the <code>oratt.writetab</code> cache table, and commit the changes.</p>
<pre>% ttIsql &#34;DSN=cachealone1;UID=cacheuser;PWD=timesten;OraclePWD=oracle&#34;
Command&gt; INSERT INTO oratt.writetab VALUES (102, &#39;Cache&#39;);
Command&gt; DELETE FROM oratt.writetab WHERE pk=101;
Command&gt; UPDATE oratt.writetab SET attr=&#39;Oracle&#39; WHERE pk=100;
Command&gt; COMMIT;
Command&gt; exit
</pre>
<p>The committed updates on the <code>oratt.writetab</code> cache table in the <code>writecache</code> cache group are automatically propagated to the Oracle Database <code>oratt.writetab</code> table as shown in <a href="#CHDCCFIC">Figure 2-8</a>.</p>
<div id="TTCAC157" class="figure">
<p class="titleinfigure"><a id="CHDCCFIC"></a>Figure 2-8 Automatically propagate TimesTen cache table updates to Oracle Database</p>
<img width="386" height="221" src="img/writequicks7.gif" alt="Description of Figure 2-8 follows"/><br/>
<a id="sthref112" href="img_text/writequicks7.htm">Description of &#34;Figure 2-8 Automatically propagate TimesTen cache table updates to Oracle Database&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>As the Oracle Database schema user, use SQL*Plus to query the contents of the <code>writetab</code> table:</p>
<pre>SQL&gt; SELECT * FROM writetab;

        PK ATTR
---------- -------------------------------
       100 Oracle
       102 Cache

SQL&gt; exit
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDHDHGG"></a>
<div id="TTCAC158" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Cleaning up the TimesTen and Oracle Database systems</h2>
<p>Complete the following tasks to restore the TimesTen and Oracle Database systems to their original state before creating a cache grid and cache groups:</p>
<ol>
<li>
<p><a href="#CHDBFFAG">Detach the TimesTen database from the cache grid</a>.</p>
</li>
<li>
<p><a href="#CHDGEHJJ">Stop the replication agent</a>.</p>
</li>
<li>
<p><a href="#CHDJCFCD">Drop the cache groups</a>.</p>
</li>
<li>
<p><a href="#CHDCIFED">Destroy the cache grid</a>.</p>
</li>
<li>
<p><a href="#CHDEJEII">Stop the cache agent and destroy the TimesTen database</a>.</p>
</li>
<li>
<p><a href="#CHDFDFGD">Drop the Oracle Database users and their objects</a>.</p>
</li>
</ol>
<a id="CHDBFFAG"></a>
<div id="TTCAC159" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Detach the TimesTen database from the cache grid<a id="sthref113"></a><a id="sthref114"></a><a id="sthref115"></a></h3>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the cache manager user. Since we attached to a grid, use <code>ttIsql</code> to call the <code>ttGridDetach</code> built-in procedure to detach the TimesTen database from the <code>myGrid</code> cache grid.</p>
<pre>% ttIsql &#34;DSN=cachealone1;UID=cacheuser;PWD=timesten;OraclePWD=oracle&#34;
Command&gt; call ttGridDetach;
</pre>
<p>See <a href="cleanup.htm#BABHJBJD">&#34;Detaching a TimesTen database from a cache grid&#34;</a> for information about the effects of detaching a TimesTen database from a cache grid.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGEHJJ"></a>
<div id="TTCAC160" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Stop the replication agent<a id="sthref116"></a><a id="sthref117"></a><a id="sthref118"></a></h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttRepStop</code> built-in procedure to stop the replication agent on the TimesTen database:</p>
<pre>Command&gt; call ttRepStop;
Command&gt; exit
</pre>
<p>See <a href="define.htm#CHDFGHFF">&#34;Managing the replication agent&#34;</a> for more information about stopping the replication agent.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJCFCD"></a>
<div id="TTCAC161" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Drop the cache groups<a id="sthref119"></a></h3>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the instance administrator. Use <code>ttIsql</code> to grant the <code>DROP ANY TABLE</code> privilege to the cache manager user so that this user can drop the underlying cache tables when dropping the cache groups.</p>
<pre>% ttIsql cachealone1
Command&gt; GRANT DROP ANY TABLE TO cacheuser;
Command&gt; exit
</pre>
<p>Start the <code>ttIsql</code> utility and connect to the <code>cachealone1</code> DSN as the cache manager user. Use <code>ttIsql</code> to drop the <code>readcache</code> read-only cache group and the <code>writecache</code> AWT cache group.</p>
<pre>% ttIsql &#34;DSN=cachealone1;UID=cacheuser;PWD=timesten;OraclePWD=oracle&#34;
Command&gt; DROP CACHE GROUP readcache;
Command&gt; DROP CACHE GROUP writecache;
</pre>
<p>The cache groups <code>readcache</code> and <code>writecache</code>, and their respective cache tables <code>oratt.readtab</code> and <code>oratt.writetab</code>, are dropped from the TimesTen database.</p>
<p>See <a href="cleanup.htm#CHDCFGFG">&#34;Dropping a cache group&#34;</a> for more information about dropping cache groups.</p>
</div>
<!-- class="sect2" -->
<a id="CHDCIFED"></a>
<div id="TTCAC162" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Destroy the cache grid<a id="sthref120"></a><a id="sthref121"></a><a id="sthref122"></a></h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttGridDestroy</code> built-in procedure to destroy the <code>myGrid</code> cache grid:</p>
<pre>Command&gt; call ttGridDestroy(&#39;myGrid&#39;);
</pre>
<p>See <a href="cleanup.htm#BABJAGGD">&#34;Destroying a cache grid&#34;</a> for more information about destroying a cache grid.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEJEII"></a>
<div id="TTCAC163" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Stop the cache agent and destroy the TimesTen database<a id="sthref123"></a><a id="sthref124"></a><a id="sthref125"></a></h3>
<p>As the cache manager user, use the <code>ttIsql</code> utility to call the <code>ttCacheStop</code> built-in procedure to stop the cache agent on the TimesTen database:</p>
<pre>Command&gt; call ttCacheStop;
Command&gt; exit
</pre>
<p>See <a href="prereqs.htm#BCFIDDJA">&#34;Managing the cache agent&#34;</a> for more information about stopping the cache agent.</p>
<p>Then use the <code>ttDestroy</code> utility to connect to the <code>cachealone1</code> DSN and destroy the TimesTen database:</p>
<pre>% ttDestroy cachealone1
</pre></div>
<!-- class="sect2" -->
<a id="CHDFDFGD"></a>
<div id="TTCAC164" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Drop the Oracle Database users and their objects<a id="sthref126"></a></h3>
<p>Start SQL*Plus and connect to the Oracle database as the <code>sys</code> user. Use SQL*Plus to drop the <code>timesten</code> user, the schema user <code>oratt</code>, and the cache administration user <code>cacheuser</code>.</p>
<pre>% sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
SQL&gt; DROP USER timesten CASCADE;
SQL&gt; DROP USER oratt CASCADE;
SQL&gt; DROP USER cacheuser CASCADE;
</pre>
<p>Specifying <code>CASCADE</code> in a <code>DROP USER</code> statement drops all objects such as tables and triggers owned by the user before dropping the user itself.</p>
<p>Next use SQL*Plus to drop the <code>TT_CACHE_ADMIN_ROLE</code> role:</p>
<pre>SQL&gt; <a id="sthref127"></a>DROP ROLE TT_CACHE_ADMIN_ROLE;
</pre>
<p>Then use SQL*Plus to drop the <a id="sthref128"></a><a id="sthref129"></a>default tablespace <code>cachetblsp</code> used by the <code>timesten</code> user and cache administration user including the contents of the tablespace and its data file:</p>
<pre>SQL&gt; DROP TABLESPACE cachetblsp INCLUDING CONTENTS AND DATAFILES;
SQL&gt; exit
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5343">
<tr>
<td class="cellalignment5350">
<table class="cellalignment5348">
<tr>
<td class="cellalignment5347"><a href="concepts.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5347"><a href="prereqs.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5352">
<table class="cellalignment5346">
<tr>
<td class="cellalignment5347"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5347"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5347"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5347"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5347"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5347"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
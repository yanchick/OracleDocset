<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-78023"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Syntactic%20and%20Semantic%20Checking"></a><title>Syntactic and Semantic Checking</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-07-10T8:50:56Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Pro*C/C++ Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E53432-01"/>
<meta name="dcterms.isVersionOf" content="LNPCC"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="pc_actun.htm" title="Previous" type="text/html"/>
<link rel="Next" href="pc_aeops.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53432-01.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">30/35</span> <!-- End Header -->
<div id="LNPCC024" class="appendix"><a id="BEJCCCDC"></a>
<h1 class="appendix"><span class="secnum">C</span> Syntactic and Semantic Checking</h1>
<p>By checking the syntax and semantics of embedded SQL statements and PL/SQL blocks, the Pro*C/C++ Precompiler helps you quickly find and fix coding mistakes. This appendix shows you how to use the SQLCHECK option to control the type and extent of checking. This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#BEJHADHJ">What Is Syntactic and Semantic Checking?</a></p>
<p><a href="#BEJIECEG">Controlling the Type and Extent of Checking</a></p>
</li>
<li>
<p><a href="#BEJEGHJF">Specifying SQLCHECK=SEMANTICS</a></p>
</li>
<li>
<p><a href="#BEJCFEFF">Specifying SQLCHECK=SYNTAX</a></p>
</li>
<li>
<p><a href="#BEJDHAEF">Entering the SQLCHECK Option</a></p>
</li>
</ul>
<a id="BEJHADHJ"></a>
<div id="LNPCC4581" class="sect1">
<h2 class="sect1">What Is Syntactic and Semantic Checking?</h2>
<p>Rules of syntax specify how language elements are sequenced to form valid statements. Thus, <span class="italic">syntactic checking</span> verifies that keywords, object names, operators, delimiters, and so on are placed correctly in your SQL statement. For example, the following embedded SQL statements contain syntax errors:<a id="sthref2409"></a></p>
<pre>EXEC SQL DELETE FROM EMP WHER DEPTNO = 20; 
    -- misspelled keyword WHERE 
EXEC SQL INSERT INTO EMP COMM, SAL VALUES (NULL, 1500); 
    -- missing parentheses around column names COMM and SAL
</pre>
<p>Rules of semantics specify how valid external references are made. Thus, <span class="italic">semantic checking</span> verifies that references to database objects and host variables are valid and that host variable datatypes are correct. For example, the following embedded SQL statements contain semantic errors:<a id="sthref2410"></a><a id="sthref2411"></a></p>
<pre>EXEC SQL DELETE FROM empp WHERE deptno = 20; 
    -- nonexistent table, EMPP 
EXEC SQL SELECT * FROM emp WHERE ename = :emp_name; 
    -- undeclared host variable, <span class="italic">emp_name</span> 
</pre>
<p>The rules of SQL syntax and semantics are defined in <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BEJIECEG"></a>
<div id="LNPCC4582" class="sect1">
<h2 class="sect1">Controlling the Type and Extent of Checking</h2>
<p>You control the type and extent of checking by specifying the SQLCHECK option on the command line. With SQLCHECK, the <span class="italic">type</span> of checking can be syntactic, semantic, or both. The <span class="italic">extent</span> of checking can include the following:<a id="sthref2412"></a><a id="sthref2413"></a></p>
<ul>
<li>
<p>Data definition statements (such as CREATE and GRANT)</p>
</li>
<li>
<p>Data manipulation statements (such as SELECT and INSERT)</p>
</li>
<li>
<p>PL/SQL blocks</p>
</li>
</ul>
<p>However, SQLCHECK cannot check dynamic SQL statements because they are not fully defined until run time.<a id="sthref2414"></a></p>
<p>You can specify the following values for SQLCHECK:</p>
<ul>
<li>
<p>SEMANTICS or FULL</p>
</li>
<li>
<p>SYNTAX</p>
</li>
</ul>
<p>The default value is SYNTAX.</p>
<p>The use of SQLCHECK does not affect the normal syntax checking done on data control, cursor control, and dynamic SQL statements.<a id="sthref2415"></a></p>
</div>
<!-- class="sect1" -->
<a id="BEJEGHJF"></a>
<div id="LNPCC4583" class="sect1">
<h2 class="sect1">Specifying SQLCHECK=SEMANTICS</h2>
<p>When SQLCHECK=SEMANTICS, the precompiler checks the syntax and semantics of</p>
<ul>
<li>
<p>Data manipulation statements (INSERT, UPDATE, and so on)</p>
</li>
<li>
<p>PL/SQL blocks</p>
</li>
<li>
<p>Host variable datatypes</p>
</li>
</ul>
<p>as well as the syntax of</p>
<ul>
<li>
<p>Data definition statements (CREATE, ALTER, and so on)</p>
</li>
</ul>
<p>However, only syntactic checking is done on data manipulation statements that use the AT <span class="italic">db_name</span> clause.</p>
<p>When SQLCHECK=SEMANTICS, the precompiler gets information needed for a semantic check by using embedded DECLARE TABLE statements or if you specify the USERID option on the command line, by connecting to the Oracle server and accessing the data dictionary. You need not connect to the Oracle server if every table referenced in a data manipulation statement or PL/SQL block is defined in a DECLARE TABLE statement.</p>
<p>If you connect to the Oracle server, but some needed information cannot be found in the data dictionary, you must use DECLARE TABLE statements to supply the missing information. A DECLARE TABLE definition overrides a data dictionary definition if they conflict.</p>
<p>If you embed PL/SQL blocks in a host program, you <span class="italic">must</span> specify SQLCHECK=SEMANTICS.</p>
<p>When checking data manipulation statements, the precompiler uses the syntax rules found in the <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference,</span></a> but uses a stricter set of semantic rules. In particular, stricter datatype checking is done. As a result, existing applications written for earlier versions of Oracle might not precompile successfully when SQLCHECK=SEMANTICS.</p>
<p>Specify SQLCHECK=SEMANTICS when you precompile new programs or want stricter datatype checking.</p>
<div id="LNPCC4584" class="sect2"><a id="sthref2416"></a>
<h3 class="sect2">Enabling a Semantic Check</h3>
<p>When SQLCHECK=SEMANTICS, the precompiler can get information needed for a semantic check in either of the following ways:<a id="sthref2417"></a></p>
<ul>
<li>
<p>Connect to the Oracle server and access the data dictionary.</p>
</li>
<li>
<p>Use embedded DECLARE TABLE and DECLARE TYPE statements.</p>
</li>
</ul>
<div id="LNPCC4585" class="sect3"><a id="sthref2418"></a>
<h4 class="sect3">Connecting to the Oracle server</h4>
<p>To do a semantic check, the precompiler can connect to an Oracle database that maintains definitions of tables, types, and views referenced in your host program.<a id="sthref2419"></a></p>
<p>After connecting to the Oracle server, the precompiler accesses the data dictionary for needed information. The <span class="italic">data dictionary</span> stores table and column names, table and column constraints, column lengths, column datatypes, and so on.</p>
<p>If some of the needed information cannot be found in the data dictionary (because your program refers to a table not yet created, for example), you must supply the missing information using the DECLARE TABLE statement (discussed later in this appendix).</p>
<p>To connect to the Oracle server, specify the USERID option on the command line, using the syntax:<a id="sthref2420"></a><a id="sthref2421"></a></p>
<pre>USERID=username/password 
</pre>
<p>where <span class="italic">username</span> and <span class="italic">password</span> comprise a valid Oracle userid. If you omit the password, you are prompted for it.</p>
<p>If, instead of a username and password, you specify</p>
<pre>USERID=/ 
</pre>
<p>the precompiler attempts to automatically connect to the Oracle server. The attempt succeeds only if an existing Oracle username matches your operating system ID prefixed with &#34;CLUSTER$&#34;, or whatever value the parameter OS_AUTHENT_PREFIX is set to in the INIT.ORA file. For example, if your operating system ID is MBLAKE, an automatic connect only succeeds if CLUSTER$MBLAKE is a valid Oracle username.</p>
<p>If you omit the USERID option, the precompiler must get needed information from embedded DECLARE TABLE statements.</p>
<p>If you try connecting to the Oracle server but cannot (because the database is unavailable, for example), an error message is issued and your program is not precompiled.</p>
</div>
<!-- class="sect3" -->
<a id="BEJJDIIH"></a>
<div id="LNPCC4586" class="sect3">
<h4 class="sect3">Using DECLARE TABLE</h4>
<p>The precompiler can do a semantic check without connecting to the Oracle server. To do the check, the precompiler must get information about tables and views from embedded DECLARE TABLE statements. Thus, every table referenced in a data manipulation statement or PL/SQL block must be defined in a DECLARE TABLE statement.<a id="sthref2422"></a><a id="sthref2423"></a></p>
<p>The syntax of the DECLARE TABLE statement is:</p>
<pre>EXEC SQL DECLARE table_name TABLE 
    (col_name col_datatype [DEFAULT expr] [NULL|NOT NULL], ...); 
</pre>
<p>where <span class="italic">expr</span> is an integer that can be used as a default column value in the CREATE TABLE statement.</p>
<p>For user-defined object datatypes, the size is optional because it is not used.</p>
<p>If you use DECLARE TABLE to define a database table that already exists, the precompiler uses your definition, ignoring the one in the data dictionary.</p>
</div>
<!-- class="sect3" -->
<a id="BEJJEAJI"></a>
<div id="LNPCC4587" class="sect3">
<h4 class="sect3">Using DECLARE TYPE</h4>
<p>Similarly, for TYPE, there is a DECLARE TYPE statement whose syntax is:</p>
<pre>EXEC SQL DECLARE type TYPE 
[AS OBJECT (col_name col_datatype, ...)] |
[AS VARRAY(size) OF element_type ]|
[AS TABLE OF object_type ] ;
</pre>
<p>This allows for better type-checking for user-defined types when SQLCHECK=SEMANTICS at precompile-time. When SQLCHECK=SYNTAX, the DECLARE TYPE statements serve as documentation only and are commented out and ignored.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BEJCFEFF"></a>
<div id="LNPCC4588" class="sect1">
<h2 class="sect1">Specifying SQLCHECK=SYNTAX</h2>
<p>When SQLCHECK=SYNTAX, the precompiler checks the syntax of SQL statements documented in <a class="olink SQLRF" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a>:</p>
<ul>
<li>
<p>Data manipulation statements</p>
</li>
<li>
<p>Host-variable expressions</p>
</li>
</ul>
<p>No semantic check is done, and the following restrictions apply:</p>
<ul>
<li>
<p>No connection to the Oracle server is attempted and USERID becomes an invalid option. If you specify USERID, a warning message is issued.</p>
</li>
<li>
<p>DECLARE TABLE and DECLARE TYPE statements are ignored; they serve only as documentation.</p>
</li>
<li>
<p>PL/SQL blocks are not allowed. If the precompiler finds a PL/SQL block, an error message is issued.</p>
</li>
</ul>
<p>When checking data manipulation statements, the precompiler uses Oracle syntax rules. These rules are downwardly compatible, so specify SQLCHECK=SYNTAX when migrating your precompiled programs.</p>
</div>
<!-- class="sect1" -->
<a id="BEJDHAEF"></a>
<div id="LNPCC4589" class="sect1">
<h2 class="sect1">Entering the SQLCHECK Option</h2>
<p>You can enter the SQLCHECK option inline or on the command line. However, the level of checking you specify inline cannot be higher than the level you specify (or accept by default) on the command line. For example, if you specify SQLCHECK=SYNTAX on the command line, you cannot specify SQLCHECK=SEMANTICS inline.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment824">
<tr>
<td class="cellalignment833">
<table class="cellalignment829">
<tr>
<td class="cellalignment828"><a href="pc_actun.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment828"><a href="pc_aeops.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment836">
<table class="cellalignment827">
<tr>
<td class="cellalignment828"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment828"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment828"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment828"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment828"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment828"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
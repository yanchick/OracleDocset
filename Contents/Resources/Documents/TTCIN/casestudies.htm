<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-107481"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20TimesTen%20and%20TimesTen%20Cache"></a><title>Using TimesTen and TimesTen Cache</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 726"/>
<meta name="dcterms.created" content="2014-06-06T13:40:24Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="TimesTen Application-Tier Database Cache Introduction"/>
<meta name="dcterms.identifier" content="E21631-06"/>
<meta name="dcterms.isVersionOf" content="TTCIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="overview.htm" title="Previous" type="text/html"/>
<link rel="Next" href="arch.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E21631-06.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/14</span> <!-- End Header -->
<div id="TTCIN138" class="chapter"><a id="BABBHFGF"></a>
<h1 class="chapter"><span class="secnum">2</span> Using TimesTen and TimesTen Cache</h1>
<p>This chapter <a id="sthref57"></a><a id="sthref58"></a><a id="sthref59"></a><a id="sthref60"></a>describes how TimesTen and TimesTen Cache can be used to enable applications that require real-time access to data. It includes the following sections:</p>
<ul>
<li>
<p><a href="#CHDCFCIB">Uses for TimesTen</a></p>
</li>
<li>
<p><a href="#BABEHFGD">Uses for TimesTen Cache</a></p>
</li>
<li>
<p><a href="#CHDFBEFE">TimesTen application scenario</a></p>
</li>
<li>
<p><a href="#BABGIGBC">TimesTen Cache application scenarios</a></p>
</li>
</ul>
<a id="CHDCFCIB"></a>
<div id="TTCIN139" class="sect1">
<h2 class="sect1">Uses for TimesTen</h2>
<p>TimesTen can be used as:</p>
<ul>
<li>
<p>The <span class="italic">primary database</span> for real-time applications. All data needed by the applications resides in the TimesTen database.</p>
</li>
<li>
<p>A <span class="italic">data utility</span> for accelerating performance-critical points in an architecture. For example, providing persistence and transactional capabilities to a message queuing system might be achieved by using TimesTen as the repository for the messages.</p>
</li>
<li>
<p>A <span class="italic">data integration point</span> for multiple data sources on top of which new applications can be built. For example, an organization may have large amounts of information stored in several data sources, but only subsets of this information may be relevant to running its daily business. A suitable architecture would be to pull the relevant information from the different data sources into one TimesTen operational database to provide a central repository for the data of immediate interest to the applications.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABEHFGD"></a>
<div id="TTCIN140" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Uses for TimesTen Cache</h2>
<p>TimesTen Cache can be used as:</p>
<ul>
<li>
<p>A <span class="italic">read-only cache</span>. Oracle Database data can be cached in an TimesTen Cache read-only cache group. Read-only cache groups are automatically refreshed when the Oracle database tables are updated. A read-only cache group provides fast access to reference data such as look-up tables and subscriber profiles.</p>
</li>
<li>
<p>An <span class="italic">updatable cache</span>. Oracle Database data can be cached in TimesTen Cache updatable cache groups. Transactions on the cache groups can be committed synchronously or asynchronously to the associated Oracle database tables.</p>
</li>
<li>
<p>A <span class="italic">real-time data manager</span> for specific tasks in an overall workflow in collaboration with a disk-based RDBMS like the Oracle Database. For example, a phone billing application may capture and store recent call records in the TimesTen Cache database while storing information about customers, their billing addresses and credit information in an Oracle database. It can also age and keep archives of all call records in the Oracle database. Thus the information that requires real-time access is stored in the TimesTen Cache database while the information needed for longer-term analysis, auditing, and archival is stored in the Oracle database.</p>
</li>
<li>
<p>A <span class="italic">distributed cache</span>. Oracle Database data can be cached in multiple installations of TimesTen Cache running on different machines to provide scalability. You can configure a dynamic distributed cache in which records are loaded automatically and aged automatically.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="CHDFBEFE"></a>
<div id="TTCIN141" class="sect1">
<h2 class="sect1">TimesTen application scenario</h2>
<p>This section describes an application scenario to illustrate how TimesTen can be integrated as part of a data management solution.</p>
<p>The application scenario is a <a href="#BABEFJCD">Real-time quote service application</a>. It uses TimesTen to store stock quotes from a data feed for access by program trading applications. Quote data is collected from the data feed and published on a real-time message bus. The data is read from the message bus and stored in TimesTen, where it is accessed by the program trading applications.</p>
<a id="BABEFJCD"></a>
<div id="TTCIN142" class="sect2">
<h3 class="sect2">Real-time quote service application</h3>
<p>A financial services company is adding a real-time quote and news service to its online trading facility. The real-time quote service reads an incoming news wire from a major market data vendor and make a subset of the data available to trading applications that manage the automated trading operations for the company. The company plans to build an infrastructure that can accommodate future expansion to provide real-time quotes, news, and other trading services to retail subscribers.</p>
<p>The real-time quote service includes a <span class="italic">NewsReader</span> process that reads incoming data from a real-time message bus that is constantly fed data from a news wire. Each NewsReader is paired with a backup NewsReader that independently reads the data from the bus and inserts it into a separate TimesTen database. In this way, the message bus is used to fork incoming data to two TimesTen databases for redundancy. In this scenario, forking the data from the message bus is more efficient than using TimesTen replication.</p>
<p>One NewsReader makes the stock data available to a trading application, while the other serves as a hot standby backup to be used by the application if a failure occurs. The current load requires four NewsReader pairs, but more NewsReader pairs can be added in the future to scale the service to deliver real-time quotes to other types of clients over the Web or cellular phone.</p>
<p><a href="#CHDICDFB">Figure 2-1</a> shows the configuration for capturing data from a message bus and feeding it to NewsReaders.</p>
<div id="TTCIN143" class="figure">
<p class="titleinfigure"><a id="CHDICDFB"></a>Figure 2-1 Capturing feed data from a message bus</p>
<img width="465" height="195" src="img/beemanshuster1.gif" alt="Description of Figure 2-1 follows"/><br/>
<a id="sthref61" href="img_text/beemanshuster1.htm">Description of &#34;Figure 2-1 Capturing feed data from a message bus&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>As shown in <a href="#CHDEDHEF">Figure 2-2</a>, the NewsReader updates stock price data in a <code>QUOTES</code> table in the TimesTen database. Less dynamic earnings data is updated in an <code>EARNINGS</code> table. The <code>STOCK</code> columns in the <code>QUOTES</code> and <code>EARNINGS</code> tables are linked through a foreign key relationship.</p>
<p>The purpose of the trading application is to track only those stocks with PE ratios below 50, then use internal logic to analyze the current stock price and trading volume to determine whether to place a trade using another part of the trading facility. For maximum performance, the trading application implements an event facility that uses the TimesTen <a href="event.htm#CIHEHEGJ">Detect transaction modifications with the Transaction Log API</a> (XLA) to monitor the TimesTen transaction log for updates to the stocks of interest.</p>
<p>To provide the fastest possible access to such updates, the company creates a materialized view, named <code>PE_ALERTS</code>, with a <code>WHERE</code> clause that calculates the PE ratio from the <code>PRICE</code> column in the <code>QUOTES</code> table and the <code>EARNS</code> column in the <code>EARNINGS</code> table. By using the XLA event facility to monitor the transaction log for price updates in the materialized view, the trading application receives alerts only for those stocks that meet its trading criteria.</p>
<div id="TTCIN144" class="figure">
<p class="titleinfigure"><a id="CHDEDHEF"></a>Figure 2-2 Using materialized views and XLA</p>
<img width="474" height="350" src="img/beemanshuster2.gif" alt="Description of Figure 2-2 follows"/><br/>
<a id="sthref62" href="img_text/beemanshuster2.htm">Description of &#34;Figure 2-2 Using materialized views and XLA&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGIGBC"></a>
<div id="TTCIN145" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">TimesTen Cache application scenarios</h2>
<p>This section describes scenarios that illustrate how TimesTen Cache can be used:</p>
<ul>
<li>
<p><a href="#BABFBADJ">Call center application</a>: Uses TimesTen Cache as an application-tier cache to hold customer profiles maintained in an Oracle database.</p>
</li>
<li>
<p><a href="#BABCIGID">Caller usage metering application</a>: Uses TimesTen Cache to store metering data on the activities of cellular callers. The metering data is collected from multiple TimesTen databases distributed throughout a service area and archived in a central Oracle database for use by a central billing application.</p>
</li>
</ul>
<a id="BABFBADJ"></a>
<div id="TTCIN146" class="sect2">
<h3 class="sect2">Call center application</h3>
<p><span class="italic">Advance Call Center</span> provides customer service for <span class="italic">Wireless Communications</span>.</p>
<p><a href="#BABBEHCC">Figure 2-3</a> shows that the call center system includes a central server that hosts back-end applications and an Oracle database that stores the customer profiles.</p>
<div id="TTCIN147" class="figure">
<p class="titleinfigure"><a id="BABBEHCC"></a>Figure 2-3 Dynamically loading the Oracle database data to TimesTen Cache nodes</p>
<img width="278" height="246" src="img/callcenter.gif" alt="Description of Figure 2-3 follows"/><br/>
<a id="sthref63" href="img_text/callcenter.htm">Description of &#34;Figure 2-3 Dynamically loading the Oracle database data to TimesTen Cache nodes&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>To manage a large volume of concurrent customer sessions, the call center has deployed several application server nodes and periodically deploys additional nodes as its customer base increases. Each node contains a TimesTen Cache database. When a customer contacts the call center, the user is automatically routed to an available application server node and the appropriate customer profile is dynamically loaded from the Oracle database into the cache database.</p>
<p>When a customer completes a call, changes to the customer profile are flushed from the TimesTen Cache database to the Oracle database. Least recently used (LRU) aging is configured to remove inactive customer profiles from the TimesTen Cache database.</p>
<p>If the same customer contacts the call center again shortly after the first call and is connected to a different application server node, the customer profile is dynamically loaded to the new node from either the Oracle database or from the first TimesTen Cache node, depending on where the most recent copy resides. The TimesTen Cache determines where the most recent copy resides and uses peer-to-peer communication to exchange information with other TimesTen Cache databases in its grid. It also manages concurrent updates to the same data within its grid.</p>
<p>All of the customer data is stored in the Oracle database. The Oracle database is much larger than the combined TimesTen Cache databases and is best accessed by applications that do not require the real-time performance of TimesTen Cache, but do require access to large amounts of data. Such applications may include a billing application and a data mining application.</p>
<p>As the customer base increases and demands to serve more customers concurrently increases, the call center may decide to deploy additional application server nodes. New TimesTen Cache members can join the TimesTen Cache grid with no disruption to ongoing requests in the grid. Similarly, failures or removal of individual nodes do not disrupt operations in the rest of the grid.</p>
</div>
<!-- class="sect2" -->
<a id="BABCIGID"></a>
<div id="TTCIN148" class="sect2">
<h3 class="sect2">Caller usage metering application</h3>
<p><span class="italic">Wireless Communications</span> has a <span class="italic">usage metering</span> application that keeps track of the duration of each cellular call and the services used. For example, if a caller makes a regular call, a base rate is applied for the duration of the call. If a caller uses special features like roaming, extra charges are applied.</p>
<p>The usage metering application must efficiently monitor up to 100,000 concurrent calls, gather usage data on each call, and store the data in a central database for use by other applications that generate bills, reports, audits, and so on.</p>
<p>The company uses a TimesTen Cache database to store the caller data that is of immediate interest to the usage metering application and to warehouse all of the other data in the Oracle database. The company distributes multiple installations of the usage metering application and TimesTen Cache on individual nodes throughout its service areas. For maximum performance, each usage metering application connects to its local TimesTen Cache database by an ODBC direct driver connection.</p>
<p><a href="#CHDCECEH">Figure 2-4</a> shows the configuration.</p>
<div id="TTCIN149" class="figure">
<p class="titleinfigure"><a id="CHDCECEH"></a>Figure 2-4 Distributed caching of usage data</p>
<img width="368" height="269" src="img/looknowires1.gif" alt="Description of Figure 2-4 follows"/><br/>
<a id="sthref64" href="img_text/looknowires1.htm">Description of &#34;Figure 2-4 Distributed caching of usage data&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>A usage metering application and TimesTen Cache are deployed on each node to handle the real-time processing for calls beginning and terminating at different geographical locations delineated by area code. For each call, the local node stores a separate record for the beginning and the termination of a call. This is because the beginning of a cellular call might be detected by one node and its termination by another node.</p>
<p>Transactions that impact revenue (inserts and updates) must be durable. To ensure data availability, each TimesTen Cache database is replicated to a standby database.</p>
<p>Each time a customer makes, receives or terminates a cellular call, the application inserts a record of the activity into the <span class="italic">Calls</span> table in the TimesTen Cache database. Each call record includes a timestamp, unique identifier, originating host&#39;s IP address, and information on the services used.</p>
<p>A TimesTen Cache process periodically archives the rows in the <span class="italic">Calls</span> table to the Oracle database. After the call records have been successfully archived in the Oracle database, they are deleted from the TimesTen Cache database by a time-based aging process.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2928">
<tr>
<td class="cellalignment2937">
<table class="cellalignment2933">
<tr>
<td class="cellalignment2932"><a href="overview.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2932"><a href="arch.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2939">
<table class="cellalignment2931">
<tr>
<td class="cellalignment2932"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2932"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2932"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2932"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2932"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2932"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
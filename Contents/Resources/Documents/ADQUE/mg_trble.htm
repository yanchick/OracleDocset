<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-1001"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Monitoring%20Oracle%20Messaging%20Gateway"></a><title>Monitoring Oracle Messaging Gateway</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-07-01T0:30:48Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Queuing User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17945-14"/>
<meta name="dcterms.isVersionOf" content="ADQUE"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="mg_trnsfm.htm" title="Previous" type="text/html"/>
<link rel="Next" href="aq_stage.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17945-14.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">28/34</span> <!-- End Header -->
<div id="ADQUE2100" class="chapter"><a id="g1011013"></a> <a id="i1006413"></a>
<h1 class="chapter"><span class="secnum">21</span> Monitoring Oracle Messaging Gateway</h1>
<p>This chapter discusses means of monitoring the Oracle Messaging Gateway (MGW) agent, abnormal situations you may experience, several sources of information about Messaging Gateway errors and exceptions, and suggested remedies.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#CIAGFBDD">Oracle Messaging Gateway Log Files</a></p>
</li>
<li>
<p><a href="#CIACECIJ">Monitoring the Oracle Messaging Gateway Agent Status</a></p>
</li>
<li>
<p><a href="#CIACIJAH">Monitoring Oracle Messaging Gateway Propagation</a></p>
</li>
<li>
<p><a href="#CIAGEABA">Oracle Messaging Gateway Agent Error Messages</a></p>
</li>
</ul>
<a id="CIAGFBDD"></a>
<div id="ADQUE3384" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref2016"></a><a id="sthref2017"></a><a id="sthref2018"></a>Oracle Messaging Gateway Log Files</h2>
<p>Messaging Gateway agent status, history, and errors are recorded in Messaging Gateway log files. A different log file is created each time the Messaging Gateway agent is started. You should monitor the log file because any errors, configuration information read at startup time, or dynamic configuration information is written to the log.</p>
<p>The format of the log file name for the default agent is:</p>
<pre>oramgw-hostname-timestamp-processid.log
</pre>
<p>The format of the log file name for a named agent is:</p>
<pre>oramgw-AGENTNAME-hostname-timestamp-processid.log
</pre>
<p>By default the Messaging Gateway log file is in <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/log</code>. This location can overridden by the parameter <code>log_directory</code> in the Messaging Gateway initialization file used by the agent, usually <code>mgw.ora</code>.</p>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#CIAGHDGC">Sample Oracle Messaging Gateway Log File</a></p>
</li>
<li>
<p><a href="#CIAGEFDG">Interpreting Exception Messages in an Oracle Messaging Gateway Log File</a></p>
</li>
</ul>
<a id="CIAGHDGC"></a>
<div id="ADQUE3385" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Sample Oracle Messaging Gateway Log File</h3>
<p>The following sample log file shows the Messaging Gateway agent starting. The sample log file shows that a messaging link, a registered foreign queue, a propagation job, and a schedule associated with the job have been added. The log file shows that the propagation job has been activated. The last line indicates that the Messaging Gateway is up and running and ready to propagate messages.</p>
<div id="ADQUE3386" class="example">
<p class="titleinexample"><a id="sthref2019"></a>Example 21-1 Sample Messaging Gateway Log File</p>
<pre>&gt;&gt;2007-01-16 15:04:49 MGW C-Bootstrap 0 LOG process-id=11080
Bootstrap program starting
&gt;&gt;2007-01-16 15:04:50 MGW C-Bootstrap 0 LOG process-id=11080
JVM created -- heapsize = 64
&gt;&gt;2007-01-16 15:04:53 MGW Engine 0 200 main
MGW Agent version: 11.1.0.0
&gt;&gt;2007-01-16 15:04:53 MGW AdminMgr 0 LOG main
Connecting to database using connect string = jdbc:oracle:oci:@INST1
&gt;&gt;2007-01-16 15:05:00 MGW Engine 0 200 main
MGW Component version: 11.1.0.3.0
&gt;&gt;2007-01-16 15:05:01 MGW Engine 0 200 main
MGW agent name: DEFAULT_AGENT, MGW job instance id: 273006EC6ED255F1E040578C6D021A8C, MGW database instance: 1
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 1 main
Agent is initializing.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 23 main
The number of worker threads is set to 1.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 22 main
The default polling interval is set to 5000ms.
&gt;&gt;2007-01-16 15:05:09 MGW MQD 0 LOG main
Creating MQSeries messaging link:
link : MQLINK
link type : Base Java interface
queue manager : my.queue.manager
channel : channel1
host : my.machine
port : 1414
user :
ccdt url : 
ssl cipherSuite : 
connections : 1
inbound logQ : logq1
outbound logQ : logq2
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 4 main
Link MQLINK has been added.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 7 main
Queue DESTQ@MQLINK has been registered; provider queue: MGWUSER.MYQUEUE.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 9 main
Propagation Schedule JOB_AQ2MQ (MGWUSER.MGW_BASIC_SRC --&gt; DESTQ@MQLINK) has been
added.
&gt;&gt;2007-01-16 15:05:09 MGW AQN 0 LOG main
Creating AQ messaging link:
link : oracleMgwAq
link type : native
database : INST1
user : MGWAGENT
connection type : JDBC OCI
connections : 1
inbound logQ : SYS.MGW_RECV_LOG
outbound logQ : SYS.MGW_SEND_LOG
&gt;&gt;2007-01-16 15:05:10 MGW Engine 0 19 main
MGW propagation job JOB_AQ2MQ has been activated.
&gt;&gt;2007-01-16 15:05:10 MGW Engine 0 14 main
MGW propagation job JOB_AQ2MQ (MGWUSER.MGW_BASIC_SRC --&gt; DESTQ@MQLINK) has been added.
&gt;&gt;2007-01-16 15:05:11 MGW Engine 0 2 main
Agent is up and running.
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIAGEFDG"></a>
<div id="ADQUE3387" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref2020"></a><a id="sthref2021"></a>Interpreting Exception Messages in an Oracle Messaging Gateway Log File</h3>
<p>Exception messages logged to the Messaging Gateway log file may include one or more linked exceptions, identified by <code>[Linked-exception]</code> in the log file. These are often the most useful means of determining the cause of a problem. For instance, a linked exception could be a <code>java.sql.SQLException</code>, possibly including an Oracle error message, a PL/SQL stack trace, or both.</p>
<p>The following example shows entries from a Messaging Gateway log file when an invalid value (<code>bad_service_name</code>) was specified for the <code>database</code> parameter of <code>DBMS_MGWADM</code>.<code>CREATE_AGENT</code> or <code>DBMS_MGWADM</code>.<code>ALTER_AGENT</code>. This resulted in the Messaging Gateway agent being unable to establish database connections.</p>
<div id="ADQUE3388" class="example">
<p class="titleinexample"><a id="sthref2022"></a>Example 21-2 Sample Exception Message</p>
<pre>&gt;&gt;2003-07-22 15:27:26  MGW  AdminMgr  0  LOG  main
Connecting to database using connect string = jdbc:oracle:oci8:@BAD_SERVICE_NAME
&gt;&gt;2003-07-22 15:27:29  MGW  Engine  0  EXCEPTION  main
oracle.mgw.admin.MgwAdminException: [241]  Failed to connect to database. SQL
error: 12154, connect string: jdbc:oracle:oci8:@BAD_SERVICE_NAME
[ &hellip;Java stack trace here&hellip;]
[Linked-exception]
java.sql.SQLException: ORA-12154: TNS:could not resolve the connect identifier
specified
[ &hellip;Java stack trace here&hellip;]
&gt;&gt;2003-07-22 15:27:29  MGW  Engine  0  25  main
Agent is shutting down.
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIACECIJ"></a>
<div id="ADQUE3389" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref2023"></a><a id="sthref2024"></a><a id="sthref2025"></a>Monitoring the Oracle Messaging Gateway Agent Status</h2>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#CIACAAHF">MGW_GATEWAY View</a></p>
</li>
<li>
<p><a href="#CIAHJABE">Oracle Messaging Gateway Irrecoverable Error Messages</a></p>
</li>
<li>
<p><a href="#CIACHCDB">Other Oracle Messaging Gateway Error Conditions</a></p>
</li>
</ul>
<a id="CIACAAHF"></a>
<div id="ADQUE3390" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref2026"></a><a id="sthref2027"></a><a id="sthref2028"></a>MGW_GATEWAY View</h3>
<p>The <code>MGW_GATEWAY</code> view monitors the progress of the Messaging Gateway agent. Among the fields that can be used to monitor the agent are:</p>
<ul>
<li>
<p><code>AGENT_NAME</code></p>
</li>
<li>
<p><code>AGENT_INSTANCE</code></p>
</li>
<li>
<p><code>AGENT_PING</code></p>
</li>
<li>
<p><code>AGENT_STATUS</code></p>
</li>
<li>
<p><code>LAST_ERROR_MSG</code></p>
</li>
<li>
<p><code>SERVICE</code></p>
</li>
</ul>
<p>The <code>AGENT_STATUS</code> field shows the status of the agent. This column has the following possible values:</p>
<dl>
<dt>NOT_STARTED</dt>
<dd>
<p>Indicates that the agent is neither running nor scheduled to be run.</p>
</dd>
<dt>START_SCHEDULED</dt>
<dd>
<p>Indicates that the agent job is waiting to be run by the job scheduler.</p>
</dd>
<dt>STARTING</dt>
<dd>
<p>Indicates that the agent is in the process of starting.</p>
</dd>
<dt>INITIALIZING</dt>
<dd>
<p>Indicates that the agent has started and is reading configuration data.</p>
</dd>
<dt>RUNNING</dt>
<dd>
<p>Indicates that the agent is ready to propagate any available messages or process dynamic configuration changes.</p>
</dd>
<dt>SHUTTING_DOWN</dt>
<dd>
<p>Indicates that the agent is in the process of shutting down.</p>
</dd>
<dt>BROKEN</dt>
<dd>
<p>Indicates that, while attempting to start an agent process, Messaging Gateway has detected another agent already running. This situation should never occur under normal usage.</p>
</dd>
</dl>
<p>Querying the <code>AGENT_PING</code> field pings the Messaging Gateway agent. Its value is either <code>REACHABLE</code> or <code>UNREACHABLE</code>. An agent with status of <code>RUNNING</code> should almost always be <code>REACHABLE</code>.</p>
<p>The columns <code>LAST_ERROR_MSG</code>, <code>LAST_ERROR_DATE</code>, and <code>LAST_ERROR_TIME</code> give valuable information if an error in starting or running the Messaging Gateway agent occurs. <code>AGENT_INSTANCE</code> indicates the Oracle Database instance on which the Messaging Gateway instance was started.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;DBMS_MGWADM&#34; in <a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code>MGW_GATEWAY</code> view</div>
</div>
<!-- class="sect2" -->
<a id="CIAHJABE"></a>
<div id="ADQUE3391" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref2029"></a><a id="sthref2030"></a>Oracle Messaging Gateway Irrecoverable Error Messages</h3>
<p>A status of <code>NOT_STARTED</code> in the <code>AGENT_STATUS</code> field of the <code>MGW_GATEWAY</code> view indicates that the Messaging Gateway agent is not running. If the <code>AGENT_STATUS</code> is <code>NOT_STARTED</code> and the <code>LAST_ERROR_MSG</code> field is not NULL, then the Messaging Gateway agent has encountered an irrecoverable error while starting or running. Check if a Messaging Gateway log file has been generated and whether it indicates any errors. If a log file is not present, then the Messaging Gateway agent process was probably not started.</p>
<p>This section describes the causes and solutions for some error messages that may appear in the <code>LAST_ERROR_MSG</code> field of the <code>MGW_GATEWAY</code> view. Unless indicated otherwise, the Messaging Gateway agent will not attempt to restart itself when one of these errors occurs.</p>
<p class="subhead1"><a id="ADQUE3392"></a>ORA-01089: Immediate shutdown in progress - no operations are permitted</p>
<p>The Messaging Gateway agent has shut down because the <code>SHUTDOWN IMMEDIATE</code> command was used to shut down a running Oracle Database instance on which the agent was running. The agent will restart itself on the next available database instance on which it is set up to run.</p>
<p class="subhead1"><a id="ADQUE3393"></a>ORA-06520: PL/SQL: Error loading external library</p>
<p>The Messaging Gateway agent process was unable to start because the shared library was not loaded. This may be because the Java shared library was not in the library path. Verify that the library path in <code>listener.ora</code> has been set correctly.</p>
<p class="subhead1"><a id="ADQUE3394"></a>ORA-28575: Unable to open RPC connection to external procedure agent</p>
<p>The Messaging Gateway agent was unable to start. It will attempt to start again automatically.</p>
<p>Possible causes include:</p>
<ul>
<li>
<p>The listener is not running. If you have modified <code>listener.ora</code>, then you must stop and restart the listener before the changes will take effect.</p>
</li>
<li>
<p>Values in <code>tnsnames.ora</code>, <code>listener.ora</code>, or both are not correct.</p>
<p>In particular, <code>tnsnames.ora</code> must have a net service name entry of <code>MGW_AGENT</code>. This entry is not needed for Messaging Gateway on Windows. The SID value specified for <code>CONNECT_DATA</code> of the <code>MGW_AGENT</code> net service name in <code>tnsnames.ora</code> must match the <code>SID_NAME</code> value of the <code>SID_DESC</code> entry in <code>listener.ora</code>. If the <code>MGW_AGENT</code> net service name is set up for an <a href="glossary.htm#i432274"><span class="xrefglossterm">Inter-process Communication</span></a> (IPC) connection, then the <code>KEY</code> values for <code>ADDRESS</code> in <code>tnsnames.ora</code> and <code>listener.ora</code> must match. If the <code>names.default_domain</code> parameter for <code>sqlnet.ora</code> has been used to set a default domain, then that domain must be appended to the <code>MGW_AGENT</code> net service name in <code>tnsnames.ora</code>.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3395"></a>ORA-28576: Lost RPC connection to external procedure agent</p>
<p>The Messaging Gateway agent process ended prematurely. This may be because the process was stopped by an outside entity or because an internal error caused a malfunction. The agent will attempt to start again automatically. Check the Messaging Gateway log file to determine if further information is available. If the problem persists, then contact Oracle Support Services for assistance.</p>
<p class="subhead1"><a id="ADQUE3396"></a>ORA-32830: Result code -2 returned by Messaging Gateway agent</p>
<p>An error occurred when the Messaging Gateway agent tried to read its initialization file, usually <code>mgw</code>.<code>ora</code>. Verify that the file is readable.</p>
<p class="subhead1"><a id="ADQUE3397"></a>ORA-32830: Result code -3 returned by Messaging Gateway agent</p>
<p>An error occurred creating the Messaging Gateway log file. Verify that the log directory can be written to. The default location is <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/log</code>.</p>
<p class="subhead1"><a id="ADQUE3398"></a>ORA-32830: Result code -8 returned by Messaging Gateway agent</p>
<p>An error occurred starting the Java Virtual Machine (JVM). Verify that:</p>
<ul>
<li>
<p>You are using the correct Java version</p>
</li>
<li>
<p>Your operating system version and patch level are sufficient for the JDK version</p>
</li>
<li>
<p>You are using a reasonable value for the JVM heap size</p>
<p>The heap size is specified by the <code>max_memory</code> parameter of <code>DBMS_MGWADM.ALTER_AGENT</code></p>
</li>
<li>
<p>On Windows platforms, verify the <code>MGW_PRE_PATH</code> set in <code>mgw.ora</code> contains the path to the correct JVM library (<code>jvm.dll</code>).</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3399"></a>ORA-32830: Result code -12 returned by Messaging Gateway agent</p>
<p>An error occurred writing to the Messaging Gateway log file. Check the free disk space or any other issues that might result in file I/O problems.</p>
<p class="subhead1"><a id="ADQUE3400"></a>ORA-32830: Result code -17 returned by Messaging Gateway agent</p>
<p>The JVM was successfully created but an error occurred trying to call the MGW Java agent program. Verify that the CLASSPATH set in <code>mgw.ora</code> is correct.</p>
<p class="subhead1"><a id="ADQUE3401"></a>ORA-32830: Result code -19 returned by Messaging Gateway agent</p>
<p>The Messaging Gateway agent was configured to use a particular initialization file but that file does not exist. The <code>INITFILE</code> field of the <code>MGW_GATEWAY</code> view shows the full pathname of the file specified by the administrator. Either create that initialization file, or use <code>DBMS_MGWADM</code>.<code>ALTER_AGENT</code> to set <code>INITFILE</code> to another file or <code>NULL</code> to use the default initialization file.</p>
<p class="subhead1"><a id="ADQUE3402"></a>ORA-32830: Result code -100 returned by Messaging Gateway agent</p>
<p>The Messaging Gateway agent JVM encountered a runtime exception or error on startup before it could write to the log file.</p>
<p class="subhead1"><a id="ADQUE3403"></a>ORA-32830: Result code -101 returned by Messaging Gateway agent</p>
<p>An irrecoverable error caused the Messaging Gateway agent to shut down. Check the Messaging Gateway log file for further information. Verify that the values specified in <code>mgw.ora</code> are correct. Incorrect values can cause the Messaging Gateway agent to terminate due to unusual error conditions.</p>
<p class="subhead1"><a id="ADQUE3404"></a>ORA-32830: Result code -102 returned by Messaging Gateway agent</p>
<p>The Messaging Gateway agent shut down because the version of file <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/jlib/mgw.jar</code> does not match the version of the Messaging Gateway PL/SQL packages. Verify that all Messaging Gateway components are from the same release.</p>
<p class="subhead1"><a id="ADQUE3405"></a>ORA-32830: Result code -103 returned by Messaging Gateway agent</p>
<p>The Messaging Gateway agent shut down because the database instance on which it was running was shutting down. The agent should restart automatically, either on another instance if set up to do so, or when the instance that shut down is restarted.</p>
<p class="subhead1"><a id="ADQUE3406"></a>ORA-32830: Result code -104 returned by Messaging Gateway agent</p>
<p>See previous error.</p>
<p class="subhead1"><a id="ADQUE3407"></a>ORA-32830: Result code -105 returned by Messaging Gateway agent</p>
<p>The Messaging Gateway agent detected that it was running when it should not be. This should not happen. If it does, <code>AGENT_STATUS</code> will be <code>BROKEN</code> and the agent will shut down automatically. If you encounter this error:</p>
<ul>
<li>
<p>Terminate any Messaging Gateway agent process that may still be running. The process is usually named <code>extprocmgwextproc</code>.</p>
</li>
<li>
<p>Run <code>DBMS_MGWADM.CLEANUP_GATEWAY(DBMS_MGWADM.CLEAN_STARTUP_STATE)</code>.</p>
</li>
<li>
<p>Start the Messaging Gateway agent using <code>DBMS_MGWADM.STARTUP</code>.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3408"></a>ORA-32830: Result code -106 returned by Messaging Gateway agent</p>
<p>See previous error.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;DBMS-MGWADM&#34; in <a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></div>
</div>
<!-- class="sect2" -->
<a id="CIACHCDB"></a>
<div id="ADQUE3409" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref2031"></a><a id="sthref2032"></a>Other Oracle Messaging Gateway Error Conditions</h3>
<p>This section discusses possible causes for <code>AGENT_STATUS</code> remaining <code>START_SCHEDULED</code> in <code>MGW_GATEWAY</code> view for an extended period.</p>
<p class="subhead2"><a id="ADQUE3410"></a>Database Service Not Started</p>
<p>Messaging Gateway uses an Oracle Scheduler job to start the Messaging Gateway agent. Oracle Scheduler allows you to specify a database service under which a job should be run (service affinity). Messaging Gateway allows an administrator to configure the Messaging Gateway agent with a database service that will be used to configure the Scheduler job class associated with that agent.</p>
<p>When you shutdown a database Oracle stops all services to that database. You may need to manually restart the services when you start the database. If a Scheduler job is associated with a service then the job will not run until the service is started. If <code>AGENT_STATUS</code> for a Messaging Gateway agent remains <code>START_SCHEDULED</code> for an extended period that might indicate that the database service is disabled or no database instances associated with the service are running. Use the <code>MGW_GATEWAY</code> view, Oracle Scheduler views, and service views to determine how the agent was configured and the current state of the Scheduler job and database service.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHJHDJJ">Oracle Messaging Gateway Agent Scheduler Job</a> for information about Oracle Scheduler objects used by Messaging Gateway.</div>
<p class="subhead1"><a id="ADQUE3411"></a>Too Few Job Queue Processes</p>
<p>Messaging Gateway uses Oracle Scheduler to start the Messaging Gateway external process. When <code>AGENT_STATUS</code> is <code>START_SCHEDULED</code>, the Messaging Gateway agent Scheduler job is waiting to be run by the Scheduler. The Messaging Gateway job will not run until there is an available job process. Messaging Gateway holds its Scheduler job process for the lifetime of the Messaging Gateway agent session. If multiple Messaging Gateway agents have been started, each agent uses its own Scheduler job and require its own job process.</p>
<p>If the value of the database initialization parameter <code>JOB_QUEUE_PROCESSES</code> is zero, then no Oracle Scheduler jobs will run. If the value is non-zero, it effectively becomes the maximum number of Scheduler jobs and job queue jobs than can concurrently run.</p>
<p>If Messaging Gateway status remains <code>START_SCHEDULED</code> for an extended period of time, then it may indicate that the database has been started with a value for <code>JOB_QUEUE_PROCESSES</code> that is zero or is too low and that all job slaves are busy. Verify that the value is non-zero and that the database instance has been started with enough job queue processes so that one is available for each Messaging Gateway agent.</p>
<p class="subhead2"><a id="ADQUE3412"></a>Scheduler Job Broken or Disabled</p>
<p>The Messaging Gateway agent status will remain <code>START_SCHEDULED</code> if the Oracle Scheduler job associated with a Messaging Gateway agent has become disabled or broken for some reason. To determine if this is the case, use the <code>DBA_SCHEDULER_JOBS</code> view to look at <code>STATE</code> field for the agent&#39;s Scheduler job. Normally the Scheduler job state will be <code>SCHEDULED</code> when the Messaging Gateway agent&#39;s Scheduler job is waiting to be run, or <code>RUNNING</code> when the Messaging Gateway agent is running. The agent&#39;s Scheduler job should not exist if the Messaging Gateway agent status is <code>NOT_STARTED</code>.</p>
<p>Check other Scheduler views, such as <code>DBA_SCHEDULER_JOB_RUN_DETAILS</code>, for additional information about the Messaging Gateway Scheduler jobs. Also check the <code>MGW_GATEWAY</code> view and the Messaging Gateway log file for any error messages that may indicate a problem.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHJHDJJ">Oracle Messaging Gateway Agent Scheduler Job</a> for information about Oracle Scheduler objects used by Messaging Gateway</div>
<p class="subhead1"><a id="ADQUE3413"></a>Oracle Real Application Clusters (Oracle RAC) Environment</p>
<p>If Messaging Gateway is being used in an Oracle RAC environment and the agent has been configured with a database service but no database instances are running that have the service enabled, then the Messaging Gateway <code>AGENT_STATUS</code> will remain <code>START_SCHEDULED</code> until the service is started on a running database instance.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIACIJAH"></a>
<div id="ADQUE3414" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref2033"></a><a id="sthref2034"></a><a id="sthref2035"></a>Monitoring Oracle Messaging Gateway Propagation</h2>
<p>Messaging Gateway <a href="glossary.htm#BGBIJFAG"><span class="xrefglossterm">propagation</span></a> can be monitored using the <code>MGW_JOBS</code> view and the Messaging Gateway log file. The view provides information on propagated messages and errors that may have occurred during propagation attempts. The log file can be used to determine the cause of the errors.</p>
<p>Besides showing configuration information, the <code>MGW_JOBS</code> view also has dynamic information that can be used to monitor <a href="glossary.htm#i432676"><span class="xrefglossterm">message</span></a> propagation. Applicable fields include <code>STATUS</code>, <code>ENABLED</code>, <code>PROPAGATED_MSGS</code>, <code>EXCEPTIONQ_MSGS</code>, <code>FAILURES</code>, <code>LAST_ERROR_MSG</code>, <code>LAST_ERROR_DATE</code>, and <code>LAST_ERROR_TIME</code>.</p>
<p>The <code>STATUS</code> field indicates current status of the job. <code>READY</code> means that the job is ready for propagation (but only if the <code>ENABLED</code> field is <code>TRUE</code>). <code>RETRY</code> means that a propagation failure occurred but that propagation will be retried. <code>FAILED</code> means that the agent has stopped propagation for the job due to an unrecoverable error or the maximum number of consecutive propagation failures has been reached. <code>DELETE_PENDING</code> means job removal is pending due to <code>DBMS_MGWADM</code>.<code>REMOVE_JOB</code> being called but certain cleanup tasks pertaining to the job are still outstanding. <code>SUBSCRIBER_DELETE_PENDING</code> means that <code>DBMS_MGWADM</code>.<code>REMOVE_SUBSCRIBER</code> has been called on an old style propagation job but certain cleanup tasks pertaining to the job are still outstanding.</p>
<p>The <code>ENABLED</code> field indicates whether the propagation job is currently enabled. <code>TRUE</code> indicates the job is enabled while <code>FALSE</code> indicates the job is disabled. No propagation will occur unless the job is enabled.</p>
<p>The <code>PROPAGATED_MSGS</code> field of the <code>MGW_JOBS</code> view indicates how many messages have been successfully propagated. This field is reset to zero when the Messaging Gateway agent is started.</p>
<p>If a Messaging Gateway propagation job has been configured with an <a href="glossary.htm#i432734"><span class="xrefglossterm">exception queue</span></a>, then the Messaging Gateway agent will move messages to that exception queue the first time the Messaging Gateway agent encounters a propagation failure caused by a message conversion failure. A message conversion failure is indicated by <code>oracle.mgw.common.MessageException</code> in the Messaging Gateway log file. The <code>EXCEPTIONQ_MSGS</code> field indicates how many messages have been moved to the exception queue. This field is reset to zero when the Messaging Gateway agent is started.</p>
<p>If an error occurs during message propagation for a propagation job, a count is incremented in the <code>FAILURES</code> field. This field indicates the number of failures encountered since the last successful propagation of messages. Each time a failure occurs, an error message and the time it occurred will be shown by <code>LAST_ERROR_MSG</code>, <code>LAST_ERROR_DATE</code>, and <code>LAST_ERROR_TIME</code>. When the number of failures reaches sixteen, Messaging Gateway halts propagation attempts for this propagation job. To resume propagation attempts you must call <code>DBMS_MGWADM</code>.<code>RESET_JOB</code> for the propagation job.</p>
<p>If an error occurs, then examine the Messaging Gateway log file for further information.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;DBMS_MGWADM&#34; in <a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></div>
</div>
<!-- class="sect1" -->
<a id="CIAGEABA"></a>
<div id="ADQUE3415" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref2036"></a><a id="sthref2037"></a>Oracle Messaging Gateway Agent Error Messages</h2>
<p>This section lists some of the most commonly occurring errors that are shown in the <code>LAST_ERROR_MSG</code> column of the <code>MGW_JOBS</code> view and logged to the Messaging Gateway agent log file. Also shown are some errors that require special action. When you notice that a failure has occurred, look at the linked exceptions in the log file to determine the root cause of the problem.</p>
<p>Two primary types of errors are logged to the Messaging Gateway agent log file:</p>
<ul>
<li>
<p><code>oracle.mgw.common.MessageException</code></p>
<p>This error type is logged when a message conversion failure occurs. The Messaging Gateway agent probably cannot propagate the message causing the failure, and the propagation job will eventually be stopped.</p>
</li>
<li>
<p><code>oracle.mgw.common.GatewayException</code></p>
<p>This error type is logged when some failure other than message conversion occurs. Depending on the cause, the problem may fix itself or require user action.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3416"></a>[221] Failed to access &lt;<span class="italic">messaging_system</span>&gt; queue: &lt;<span class="italic">queue</span>&gt;</p>
<p>An error occurred while trying to access either an Oracle Database Advanced Queuing queue or a non-Oracle queue. Check the linked exception error code and message in the log file.</p>
<p class="subhead1"><a id="ADQUE3417"></a>[241] Failed to connect to database. SQL error: &lt;<span class="italic">error</span>&gt;, connect string: &lt;<span class="italic">connect_string</span>&gt;</p>
<p>This is probably caused by incorrect MGW agent connection information specified for <code>DBMS_MGWADM</code>.<code>CREATE_AGENT</code> or <code>DBMS_MGWADM</code>.<code>ALTER_AGENT</code>. Either the Messaging Gateway agent user or password is incorrect or the database specifier (database parameter) is incorrect. Verify that the connection information is correct for the connection type used by the agent, JDBC OCI or JDBC Thin.</p>
<p>If the <code>database</code> parameter is <code>NULL</code>, then check the Messaging Gateway log file for the following Oracle linked errors:</p>
<pre>ORA-01034: ORACLE not available
ORA-27101: shared memory realm does not exist
</pre>
<p>These two errors together indicate that the Messaging Gateway agent is attempting to connect to the database using a local IPC connection, but the <code>ORACLE_SID</code> value is not correct.</p>
<p>A local connection is used when the database parameter is set to <code>NULL</code>. If a local connection is desired, the correct <code>ORACLE_SID</code> value must be set in the Messaging Gateway agent process. This can be done by adding the following line to the MGW initialization file, usually <code>mgw</code>.<code>ora</code>:</p>
<pre>set ORACLE_SID = <span class="italic">sid_value</span>
</pre>
<p><code>ORACLE_SID</code> need not be set in the MGW initialization file if the database parameter is not <code>NULL</code>.</p>
<p>If setting <code>ORACLE_SID</code> in the MGW initialization file does not work, then the database parameter must be set to a value that is not <code>NULL</code>.</p>
<p>If the JDBC Thin connection is used, then the database parameter must be not <code>NULL</code>. If the JDBC Thin connection is used and the database parameter is a TNSNames alias, make sure that the <code>oracle</code>.<code>net</code>.<code>tns_names</code> Java property is set in the MGW initialization file. The property can be set by adding the following line to the MGW initialization file:</p>
<pre>setJavaProp oracle.net.tns_admin=&lt;directory containing tnsnames.ora&gt;
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="mg_start.htm#BABDFCFI">&#34;oracle.net.tns_admin&#34;</a> for more information</div>
<p class="subhead1"><a id="ADQUE3418"></a>[415] Missing messages from source queue of job &lt;<span class="italic">job_name</span>&gt;</p>
<p>Possible causes include:</p>
<ul>
<li>
<p>The agent partially processed persistent messages that were dequeued by someone other than the Messaging Gateway agent.</p>
</li>
<li>
<p>The propagation source queue was purged or re-created.</p>
</li>
<li>
<p>A message was moved to the Oracle Database Advanced Queuing exception queue.</p>
</li>
</ul>
<p>If this error occurs, then call procedure <code>CLEANUP_GATEWAY</code> in the <code>DBMS_MGWADM</code> package:</p>
<pre>DBMS_MGWADM.CLEANUP_GATEWAY (
       action =&gt; DBMS_MGWADM.RESET_SUB_MISSING_MESSAGE, 
       sarg =&gt; &lt;<span class="italic">job_name</span>&gt;);
</pre>
<p>The call takes effect only if the propagation job has encountered the missing message problem and the agent is running. The agent treats the missing messages as <a href="glossary.htm#i432366"><span class="xrefglossterm">nonpersistent</span></a> messages and continues processing the propagation job.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHHGHFG">&#34;Propagation Job Overview&#34;</a> for more information on Messaging Gateway exception queues</div>
<p class="subhead1"><a id="ADQUE3419"></a>[416] Missing log records in receiving log queue for job &lt;<span class="italic">job_name</span>&gt;</p>
<p>Possible causes include:</p>
<ul>
<li>
<p>Log records were dequeued from the log queues by someone other than the Messaging Gateway agent.</p>
</li>
<li>
<p>The log queues were purged or re-created.</p>
</li>
</ul>
<p>If this error occurs, then call procedure <code>CLEANUP_GATEWAY</code> in the <code>DBMS_MGWADM</code> package:</p>
<pre>DBMS_MGWADM.CLEANUP_GATEWAY (
       action =&gt; DBMS_MGWADM.RESET_SUB_MISSING_LOG_REC,  
       sarg =&gt; &lt;job_name&gt;);
</pre>
<p>The call takes effect only if the propagation job has encountered the missing log records problem and the agent is running.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Calling procedure <code>DBMS_MGWADM.CLEANUP_GATEWAY</code> may result in duplicated messages if the missing messages have already been propagated to the destination queue. Users should check the source and destination queues for any messages that exist in both places. If such messages exist, then they should be removed from either the source or destination queue before calling this procedure.</div>
<p class="subhead1"><a id="ADQUE3420"></a>[417] Missing log records in sending log queue for job &lt;<span class="italic">job_name</span>&gt;</p>
<p>See previous error.</p>
<p class="subhead1"><a id="ADQUE3421"></a>[421] WARNING: Unable to get connections to recover job &lt;<span class="italic">job_name</span>&gt;</p>
<p>This message is a warning message indicating that the Messaging Gateway agent failed to get a connection to recover the propagation job, because other propagation jobs are using them all. The agent will keep trying to get a connection until it succeeds.</p>
<p>If this message is repeated many times for a WebSphere MQ link, then increase the maximum number of connections used by the Messaging Gateway link associated with the propagation job.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHGHJHJ">&#34;Altering a Messaging System Link&#34;</a></div>
<p class="subhead1"><a id="ADQUE3422"></a>[434] Failed to access queue &lt;<span class="italic">queue</span>&gt;; provider queue &lt;<span class="italic">queue</span>&gt;</p>
<p>This message indicates that a messaging system native queue cannot be accessed. The queue may have been registered by <code>DBMS_MGWADM.REGISTER_FOREIGN_QUEUE</code>, or it may be an Oracle Database Advanced Queuing queue. The linked exceptions should give more information.</p>
<p>Possible causes include:</p>
<ul>
<li>
<p>The foreign queue was registered incorrectly, or the Messaging Gateway link was configured incorrectly.</p>
<p>Verify configuration information. If possible, use the same configuration information to run a sample application of the non-Oracle messaging system.</p>
</li>
<li>
<p>The non-Oracle messaging system is not accessible.</p>
<p>Check that the non-Oracle messaging system is running and can be accessed using the information supplied in the Messaging Gateway link.</p>
</li>
<li>
<p>The Oracle Database Advanced Queuing queue does not exist. Perhaps the queue was removed after the Messaging Gateway propagation job was created.</p>
<p>Check that the Oracle Database Advanced Queuing queue still exists.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3423"></a>[436] LOW MEMORY WARNING: total memory = &lt; &gt;, free_mem = &lt; &gt;</p>
<p>The Messaging Gateway agent JVM is running low on memory. Java garbage collection will be invoked, but this may represent a JVM heap size that is too small. Use the <code>max_memory</code> parameter of <code>DBMS_MGWADM.ALTER_AGENT</code> to increase the JVM heap size. If the Messaging Gateway agent is running, then it must be restarted for this change to take effect.</p>
<p class="subhead1"><a id="ADQUE3424"></a>[703] Failed to retrieve information for transformation &lt;<span class="italic">transformation_id</span>&gt;</p>
<p>The Messaging Gateway agent could not obtain all the information it needs about the <a href="glossary.htm#BGBCCBIF"><span class="xrefglossterm">transformation</span></a>. The transformation parameter of <code>DBMS_MGWADM.CREATE_JOB</code> must specify the name of the registered transformation and not the name of the transformation function.</p>
<p>Possible causes include:</p>
<ul>
<li>
<p>The transformation does not exist. Verify that the transformation has been created. You can see this from the following query performed as user SYS:</p>
<pre>SELECT TRANSFORMATION_ID, OWNER FROM DBA_TRANSFORMATIONS;
</pre></li>
<li>
<p>The wrong transformation is registered with Messaging Gateway. Verify that the transformation registered is the one intended.</p>
</li>
<li>
<p>The Messaging Gateway agent user does not have <code>EXECUTE</code> privilege on the <a href="glossary.htm#i432374"><span class="xrefglossterm">object type</span></a> used for the <code>from_type</code> or the <code>to_type</code> of the transformation indicated in the exception.</p>
<p>It is not sufficient to grant <code>EXECUTE</code> to <code>MGW_AGENT_ROLE</code> and then grant <code>MGW_AGENT_ROLE</code> to the agent user. You must grant <code>EXECUTE</code> privilege on the object type directly to the agent user or to <code>PUBLIC</code>.</p>
<p><a href="#CIADHAEI">Example 21-3</a> shows such a case for the <code>from_type</code>. It also shows the use of linked exceptions for determining the precise cause of the error.</p>
<div id="ADQUE3425" class="example">
<p class="titleinexample"><a id="CIADHAEI"></a>Example 21-3 No EXECUTE Privilege on Object Type</p>
<pre>Errors occurred during processing of job JOB_AQ2MQ_2
oracle.mgw.common.GatewayException: [703] Failed to retrieve information for
transformation mgwuser.SAMPLEADT_TO_MGW_BASIC_MSG
[&hellip;Java stack trace here&hellip;]
[Linked-exception]
java.sql.SQLException: &#34;from_type&#34; is null
[&hellip;Java stack trace here&hellip;]
</pre></div>
<!-- class="example" --></li>
</ul>
<p class="subhead1"><a id="ADQUE3426"></a>[720] AQ payload type &lt;<span class="italic">type</span>&gt; not supported; queue: &lt;<span class="italic">queue</span>&gt;</p>
<p>The payload type of the Oracle Database Advanced Queuing queue used by a Messaging Gateway propagation job is not directly supported by Messaging Gateway. For non-JMS propagation, Messaging Gateway directly supports the payload types <code>RAW</code>, <code>SYS.MGW_BASIC_MSG_T</code> and <code>SYS.MGW_TIBRV_MSG_T</code>.</p>
<p>Possible actions include:</p>
<ul>
<li>
<p>Configure the Messaging Gateway propagation job to use a transformation that converts the queue payload type to a supported type.</p>
</li>
<li>
<p>Remove the Messaging Gateway propagation job and create a new job that uses an Oracle Database Advanced Queuing queue with a supported payload type.</p>
<p>For <a href="glossary.htm#i432286"><span class="xrefglossterm">Java Message Service</span></a> (JMS) propagation, the Messaging Gateway propagation job must be removed and a new job created whose Oracle Database Advanced Queuing payload type is supported by <a href="glossary.htm#i432406"><span class="xrefglossterm">Oracle Java Message Service</span></a> (Oracle JMS). Transformations are not supported for JMS propagation.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3427"></a>[721] Transformation type &lt;<span class="italic">type</span>&gt; not supported; queue: &lt;<span class="italic">queue_name</span>&gt;, transform: &lt;<span class="italic">transformation</span>&gt;</p>
<p>A Messaging Gateway propagation job was configured with a transformation that uses an object type that is not one of the Messaging Gateway <a href="glossary.htm#i432214"><span class="xrefglossterm">canonical</span></a> types.</p>
<p>For an outbound job, the transformation <code>from_type</code> must be the Oracle Database Advanced Queuing payload type, and the <code>to_type</code> must be a Messaging Gateway canonical type. For an inbound job, the transformation <code>from_type</code> must be a Messaging Gateway canonical type and the <code>to_type</code> must be the Oracle Database Advanced Queuing payload type.</p>
<p class="subhead1"><a id="ADQUE3428"></a>[722] Message transformation failed; queue: &lt;<span class="italic">queue_name</span>&gt;, transform: &lt;<span class="italic">transformation</span>&gt;</p>
<p>An error occurred while attempting execution of the transformation. ORA-25229 is typically thrown by Oracle Database Advanced Queuing when the transformation function raises a PL/SQL exception or some other Oracle error occurs when attempting to use the transformation.</p>
<p>Possible causes include:</p>
<ul>
<li>
<p>The Messaging Gateway agent user does not have <code>EXECUTE</code> privilege on the transformation function. This is illustrated in <a href="#CIAGFEFC">Example 21-4</a>.</p>
<p>It is not sufficient to grant <code>EXECUTE</code> to <code>MGW_AGENT_ROLE</code> and then grant <code>MGW_AGENT_ROLE</code> to the Messaging Gateway agent user. You must grant <code>EXECUTE</code> privilege on the transformation function directly to the Messaging Gateway agent user or to <code>PUBLIC</code>.</p>
<div id="ADQUE3429" class="example">
<p class="titleinexample"><a id="CIAGFEFC"></a>Example 21-4 No EXECUTE Privilege on Transformation Function</p>
<pre>Errors occurred during processing of job JOB_MQ2AQ_2
oracle.mgw.common.GatewayException: [722] Message transformation failed queue:
MGWUSER.DESTQ_SIMPLEADT, transform: MGWUSER.MGW_BASIC_MSG_TO_SIMPLEADT
[&hellip;Java stack trace here&hellip;]
[Linked-exception]
oracle.mgw.common.MessageException: [722] Message transformation failed;
queue: MGWUSER.DESTQ_SIMPLEADT, transform: 
MGWUSER.MGW_BASIC_MSG_TO_SIMPLEADT
[&hellip;Java stack trace here&hellip;]
[Linked-exception]
java.sql.SQLException: ORA-25229: error on transformation of message msgid:
9749DB80C85B0BD4E03408002086745E
ORA-00604: error occurred at recursive SQL level 1
ORA-00904: invalid column name
[&hellip;Java stack trace here&hellip;]
</pre></div>
<!-- class="example" --></li>
<li>
<p>The transformation function does not exist, even though the registered transformation does. If the transformation function does not exist, it must be re-created.</p>
</li>
<li>
<p>The Messaging Gateway agent user does not have <code>EXECUTE</code> privilege on the payload object type for the queue indicated in the exception.</p>
<p>It is not sufficient to grant <code>EXECUTE</code> to <code>MGW_AGENT_ROLE</code> and then grant <code>MGW_AGENT_ROLE</code> to the Messaging Gateway agent user. You must grant <code>EXECUTE</code> privilege on the object type directly to the Messaging Gateway agent user or to <code>PUBLIC</code>.</p>
</li>
<li>
<p>The transformation function raised the error. Verify that the transformation function can handle all messages it receives.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3430"></a>[724] Message conversion not supported; to AQ payload type: &lt;<span class="italic">type</span>&gt;, from type: &lt;<span class="italic">type</span>&gt;</p>
<p>A Messaging Gateway propagation job is configured for inbound propagation where the canonical message type generated by the non-Oracle messaging system link is not compatible with the Oracle Database Advanced Queuing queue payload type. For example, propagation from a TIB/Rendezvous messaging system to an Oracle Database Advanced Queuing queue with a <code>SYS.MGW_BASIC_MSG_T</code> payload type, or propagation from WebSphere MQ to an Oracle Database Advanced Queuing queue with a <code>SYS.MGW_TIBRV_MSG_T</code> payload type.</p>
<p>Possible actions include:</p>
<ul>
<li>
<p>Configure the Messaging Gateway propagation job with a transformation that maps the canonical message type generated by the non-Oracle messaging link to the Oracle Database Advanced Queuing payload type.</p>
</li>
<li>
<p>Remove the Messaging Gateway propagation job and create a new job whose Oracle Database Advanced Queuing queue payload type matches the canonical message type generated by the non-Oracle link.</p>
</li>
</ul>
<p class="subhead1"><a id="ADQUE3431"></a>[725] Text message not supported for RAW payload</p>
<p>A Messaging Gateway propagation job is configured for inbound propagation to an Oracle Database Advanced Queuing destination having a <code>RAW</code> payload type. A text message was received from the source (non-Oracle) queue resulting in a message conversion failure.</p>
<p>If support for text data is required, remove the Messaging Gateway propagation job and create a new job to an Oracle Database Advanced Queuing destination whose payload type supports text data.</p>
<p class="subhead1"><a id="ADQUE3432"></a>[726] Message size &lt;<span class="italic">size</span>&gt; too large for RAW payload; maximum size is &lt;<span class="italic">size</span>&gt;</p>
<p>A Messaging Gateway propagation job is configured for inbound propagation to an Oracle Database Advanced Queuing destination having a <code>RAW</code> payload type. A message conversion failure occurred when a message containing a large <code>RAW</code> value was received from the source (non-Oracle) queue.</p>
<p>If large data support is required, remove the Messaging Gateway propagation job and create a new job to an Oracle Database Advanced Queuing destination whose payload type supports large data, usually in the form of an object type with a <a href="glossary.htm#BGBDJGBG"><span class="xrefglossterm">BLOB</span></a> attribute.</p>
<p class="subhead1"><a id="ADQUE3433"></a>[728] Message contains too many large (BLOB) fields</p>
<p>The source message contains too many fields that must be stored in <code>BLOB</code> types. <code>SYS.MGW_TIBRV_MSG_T</code> is limited to three <code>BLOB</code> fields. Reduce the number of large fields in the message, perhaps by breaking them into smaller fields or combining them into fewer large fields.</p>
<p class="subhead1"><a id="ADQUE3434"></a>[729] Message contains too many large (CLOB) fields</p>
<p>The source message contains too many fields that contain a large text value that must be stored in a <code>CLOB</code>. <code>SYS.MGW_TIBRV_MSG_T</code> is limited to three <code>CLOB</code> fields. Reduce the number of large fields in the message, perhaps by breaking them into smaller fields or combining them into fewer large fields.</p>
<p class="subhead1"><a id="ADQUE3435"></a>[805] MQSeries Message error while enqueuing to queue: &lt;<span class="italic">queue</span>&gt;</p>
<p>WebSphere MQ returned an error when an attempt was made to put a message in a WebSphere MQ queue. Check the linked exception error code and message in the log file. Consult WebSphere MQ documentation.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment993">
<tr>
<td class="cellalignment1002">
<table class="cellalignment998">
<tr>
<td class="cellalignment997"><a href="mg_trnsfm.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment997"><a href="aq_stage.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1004">
<table class="cellalignment996">
<tr>
<td class="cellalignment997"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment997"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment997"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment997"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment997"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment997"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
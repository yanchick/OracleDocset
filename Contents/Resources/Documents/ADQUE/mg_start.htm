<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-1000"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Getting%20Started%20with%20Oracle%20Messaging%20Gateway"></a><title>Getting Started with Oracle Messaging Gateway</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-07-01T0:30:47Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Queuing User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17945-14"/>
<meta name="dcterms.isVersionOf" content="ADQUE"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="mg_intro.htm" title="Previous" type="text/html"/>
<link rel="Next" href="mg_work.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17945-14.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">25/34</span> <!-- End Header -->
<div id="ADQUE1800" class="chapter"><a id="g1013928"></a> <a id="i1006428"></a>
<h1 class="chapter"><span class="secnum">18</span> Getting Started with Oracle Messaging Gateway</h1>
<p>This chapter describes Oracle Messaging Gateway (MGW) prerequisites and how to load, set up, and unload Messaging Gateway. It also describes how to set up and modify the <code>mgw.ora</code> initialization file.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i1005580">Oracle Messaging Gateway Prerequisites</a></p>
</li>
<li>
<p><a href="#i1005598">Loading and Setting Up Oracle Messaging Gateway</a></p>
</li>
<li>
<p><a href="#i1006072">Setting Up Non-Oracle Messaging Systems</a></p>
</li>
<li>
<p><a href="#i1007292">Verifying the Oracle Messaging Gateway Setup</a></p>
</li>
<li>
<p><a href="#CIHGFDJD">Unloading Oracle Messaging Gateway</a></p>
</li>
<li>
<p><a href="#i1006144">Understanding the mgw.ora Initialization File</a></p>
</li>
</ul>
<a id="i1005580"></a>
<div id="ADQUE3203" class="sect1">
<h2 class="sect1">Oracle Messaging Gateway Prerequisites</h2>
<p>Messaging Gateway uses one Oracle Scheduler job for each Messaging Gateway agent. If the value of the <code>JOB_QUEUE_PROCESSES</code> database initialization parameter is zero, then no Oracle Scheduler jobs will run. If the value is non-zero, it effectively becomes the maximum number of Scheduler jobs and job queue jobs that can run concurrently.</p>
<p>Verify that a non-zero value is set, and that it is large enough to accommodate a Scheduler job for each Messaging Gateway agent to be started.</p>
</div>
<!-- class="sect1" -->
<a id="i1005598"></a>
<div id="ADQUE3204" class="sect1">
<h2 class="sect1"><a id="sthref1684"></a><a id="sthref1685"></a>Loading and Setting Up Oracle Messaging Gateway</h2>
<p>Perform the following procedures before running Messaging Gateway:</p>
<ul>
<li>
<p><a href="#i1005655">Loading Database Objects into the Database</a></p>
</li>
<li>
<p><a href="#i1005668">Modifying listener.ora for the External Procedure</a></p>
</li>
<li>
<p><a href="#i1005775">Modifying tnsnames.ora for the External Procedure</a></p>
</li>
<li>
<p><a href="#CIHEBJIF">Setting Up an mgw.ora Initialization File</a></p>
</li>
<li>
<p><a href="#CIHGHGFE">Creating an Oracle Messaging Gateway Administrator User</a></p>
</li>
<li>
<p><a href="#CIHGGJAE">Creating an Oracle Messaging Gateway Agent User</a></p>
</li>
<li>
<p><a href="#i1006016">Configuring Oracle Messaging Gateway Connection Information</a></p>
</li>
<li>
<p><a href="#i1006058">Configuring Oracle Messaging Gateway in an Oracle RAC Environment</a></p>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
These setup instructions are specific to 32-bit and 64-bit versions of the Windows and 64-bit versions of the Unix-based operating systems. The tasks apply to both Windows and Unix-based operating systems, except where &#34;Windows Operating System Only&#34; or &#34;Linux Operating System Only&#34; is indicated. For other operating systems, see operating-system specific documentation.</div>
</li>
</ul>
<a id="i1005655"></a>
<div id="ADQUE3205" class="sect2">
<h3 class="sect2"><a id="sthref1686"></a><a id="sthref1687"></a><a id="sthref1688"></a><a id="sthref1689"></a>Loading Database Objects into the Database</h3>
<p>Using SQL*Plus, run <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/admin/catmgw.sql</code> as user <code>SYS</code> as <code>SYSDBA</code>. This script loads the database objects necessary for Messaging Gateway, including roles, tables, views, object types, and PL/SQL packages. It creates public synonyms for Messaging Gateway PL/SQL packages. It creates two roles, <code>MGW_ADMINISTRATOR_ROLE</code> and <code>MGW_AGENT_ROLE,</code> with certain privileges granted. All objects are owned by <code>SYS</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In a CDB environment, run <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/admin/catmgw.sql</code> as PDB root.</div>
</div>
<!-- class="sect2" -->
<a id="i1005668"></a>
<div id="ADQUE3206" class="sect2">
<h3 class="sect2"><a id="sthref1690"></a><a id="sthref1691"></a><a id="sthref1692"></a>Modifying listener.ora for the External Procedure</h3>
<p>This procedure is for Unix-based operating systems only. Static service information for the listener is not necessary on the Windows operating system.</p>
<p>You must modify <code>listener.ora</code> so that the Messaging Gateway PL/SQL packages can call the external procedure.</p>
<a id="i1005677"></a>
<ol>
<li>
<p>Verify that the default <a href="glossary.htm#i432274"><span class="xrefglossterm">Inter-process Communication</span></a> (IPC) protocol address for the external procedures is set.</p>
<pre>LISTENER = (ADDRESS_LIST=
(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC))
</pre></li>
<li>
<p>Add static service information for the listener in step 1. This involves setting a <code>SID_DESC</code> for the listener. Within the <code>SID_DESC</code>, the parameters described in <a href="#g1009355">Table 18-1</a> are important to Messaging Gateway and must be specified according to your own situation.</p>
</li>
</ol>
<div id="ADQUE3207" class="tblformal">
<p class="titleintable"><a id="sthref1693"></a><a id="g1009355"></a>Table 18-1 SID_DESC Parameters</p>
<table class="cellalignment1005" title="SID_DESC Parameters" summary="Rows correspond to parameters. The first column is the parameter name, and the second column is its description." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t4">Parameter</th>
<th class="cellalignment1001" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t4" headers="r1c1-t4">
<p><code>SID_NAME</code></p>
</td>
<td class="cellalignment1002" headers="r2c1-t4 r1c2-t4">
<p>The SID that is specified in the net service name in <code>tnsnames.ora</code>. In the following example, the <code>SID_NAME</code> is <code>mgwextproc</code>.</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t4" headers="r1c1-t4">
<p><code>ENVS</code></p>
</td>
<td class="cellalignment1002" headers="r3c1-t4 r1c2-t4">
<p>Set up the <code>LD_LIBRARY_PATH</code> environment needed for the external procedure to run. The <code>LD_LIBRARY_PATH</code> must contain the following paths:</p>
<pre><span class="italic">JRE_HOME</span>/lib/<span class="italic">PLATFORM_TYPE</span>
<span class="italic">JRE_HOME</span>/lib/<span class="italic">PLATFORM_TYPE</span>/server
<span class="italic">ORACLE_HOME</span>/lib
</pre>
<p>It should also contain any additional libraries required by third-party messaging systems. See <a href="#i1006072">&#34;Setting Up Non-Oracle Messaging Systems&#34;</a>.</p>
<p>The <code>ENVS</code> value is <code>LD_LIBRARY_PATH_64</code> for Oracle Solaris on SPARC (64-Bit) and Oracle Solaris on x86-64 (64-Bit), <code>LIBPATH</code> for IBM AIX on POWER Systems, and <code>LD_LIBRARY_PATH</code> for the remaining platforms.</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t4" headers="r1c1-t4">
<p><code>ORACLE_HOME</code></p>
</td>
<td class="cellalignment1002" headers="r4c1-t4 r1c2-t4">
<p>Your Oracle home directory. Using <code>$ORACLE_HOME</code> does not work.</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t4" headers="r1c1-t4">
<p><code>PROGRAM</code></p>
</td>
<td class="cellalignment1002" headers="r5c1-t4 r1c2-t4">
<p>The name of the external procedure agent, which is <code>extproc</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
<code><span class="codeinlineitalic">JRE_HOME</span></code> represents the root directory of a JRE installation, just as <code><span class="codeinlineitalic">ORACLE_HOME</span></code> represents the root directory of an Oracle installation. Oracle recommends that you use the JRE installed with Oracle Database.</div>
<p><a href="#i1006902">Example 18-1</a> adds <code>SID_NAME</code> <code>mgwextproc</code> to a listener.ora file for Linux x86.</p>
<div id="ADQUE3208" class="example">
<p class="titleinexample"><a id="i1006902"></a>Example 18-1 Adding Static Service Information for a Listener</p>
<pre># Add a SID_DESC
SID_LIST_LISTENER= (SID_LIST=
(SID_DESC =
   (SID_NAME= mgwextproc)
   (ENVS=
     &#34;LD_LIBRARY_PATH=<span class="italic">JRE_HOME</span>/lib/amd64:<span class="italic">JRE_HOME</span>/lib/amd64/server:<span class="italic">ORACLE_HOME</span>/lib&#34;)
   (ORACLE_HOME=<span class="italic">ORACLE_HOME</span>)
   (PROGRAM = extproc))
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="i1005775"></a>
<div id="ADQUE3209" class="sect2">
<h3 class="sect2"><a id="sthref1694"></a><a id="sthref1695"></a><a id="sthref1696"></a>Modifying tnsnames.ora for the External Procedure</h3>
<p>For the external procedure, configure a net service name <code>MGW_AGENT</code> in <code>tnsnames.ora</code> whose connect descriptor matches the information configured in <code>listener.ora</code>, as shown in <a href="#i1005782">Example 18-2</a>. The net service name must be <code>MGW_AGENT</code> (this value is fixed). The <code>KEY</code> value must match the <code>KEY</code> value specified for the IPC protocol in <code>listener.ora</code>. The SID value must match the value specified for <code>SID_NAME</code> of the <code>SID_DESC</code> entry in <code>listener.ora</code>.</p>
<div id="ADQUE3210" class="example">
<p class="titleinexample"><a id="i1005782"></a>Example 18-2 Configuring MGW_AGENT</p>
<pre>MGW_AGENT = 
(DESCRIPTION= 
   (ADDRESS_LIST= (ADDRESS= (PROTOCOL=IPC)(KEY=EXTPROC))) 
   (CONNECT_DATA= (SID=mgwextproc)))
</pre></div>
<!-- class="example" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
If the <code>names.default_domain</code> parameter for <code>sqlnet.ora</code> has been used to set a default domain, then that domain must be appended to the <code>MGW_AGENT</code> net service name in <code>tnsnames.ora</code>. For example, if <code>sqlnet.ora</code> contains the entry <code>names.default_domain=acme.com</code>, then the net service name in <code>tnsnames.ora</code> must be <code>MGW_AGENT.acme.com</code>.</div>
</div>
<!-- class="sect2" -->
<a id="CIHEBJIF"></a>
<div id="ADQUE3211" class="sect2">
<h3 class="sect2"><a id="sthref1697"></a><a id="sthref1698"></a>Setting Up an mgw.ora Initialization File</h3>
<p>The Messaging Gateway default initialization file <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/admin/mgw.ora</code> is a text file. The Messaging Gateway external procedure uses it to get initialization parameters to start the Messaging Gateway agent. Copy <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/admin/sample_mgw.ora</code> to <code>mgw.ora</code> and modify it according to your situation.</p>
<p>The following procedure sets environment variables and other parameters required for all applications of Messaging Gateway:</p>
<ol>
<li>
<p><span class="bold">Windows Operating System Only:</span> Set the <code>MGW_PRE_PATH</code> variable. Its value is the path to the <code>jvm.dll</code> library:</p>
<pre>set MGW_PRE_PATH = <span class="italic">JRE_HOME</span>\bin\client
</pre>
<p>This variable is prepended to the path inherited by the Messaging Gateway agent process.</p>
</li>
<li>
<p>Set <code>CLASSPATH</code> to include at least the following:</p>
<ul>
<li>
<p>JRE runtime classes:</p>
<pre><span class="italic">JRE_HOME</span>/lib/rt.jar
</pre></li>
<li>
<p>Oracle JDBC classes:</p>
<pre><span class="italic">ORACLE_HOME</span>/jdbc/lib/ojdbc6.jar
</pre></li>
<li>
<p>Oracle internationalization classes:</p>
<pre><span class="italic">ORACLE_HOME</span>/jlib/orai18n.jar
</pre></li>
<li>
<p>SQLJ runtime:</p>
<pre><span class="italic">ORACLE_HOME</span>/sqlj/lib/runtime12.jar
</pre></li>
<li>
<p><a href="glossary.htm#i432286"><span class="xrefglossterm">Java Message Service</span></a> (JMS) interface</p>
<pre><span class="italic">ORACLE_HOME</span>/rdbms/jlib/jmscommon.jar
</pre></li>
<li>
<p>Oracle JMS implementation classes</p>
<pre><span class="italic">ORACLE_HOME</span>/rdbms/jlib/aqapi.jar
</pre></li>
<li>
<p>Java transaction <a href="glossary.htm#BGBJIAAJ"><span class="xrefglossterm">API</span></a></p>
<pre><span class="italic">ORACLE_HOME</span>/jlib/jta.jar
</pre></li>
<li>
<p>Any additional classes needed for Messaging Gateway to access non-Oracle messaging systems</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1006072">&#34;Setting Up Non-Oracle Messaging Systems&#34;</a></div>
<div class="infobox-note">
<p class="notep1">Note:</p>
Replace <code><span class="codeinlineitalic">ORACLE_HOME</span></code> with the appropriate, spelled-out value. Using <code>$ORACLE_HOME</code>, for example, does not work.
<p>Users of the Windows operating system must set <code>CLASSPATH</code> using the Windows operating system path syntax.</p>
</div>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CIHGHGFE"></a>
<div id="ADQUE3212" class="sect2">
<h3 class="sect2"><a id="sthref1699"></a><a id="sthref1700"></a><a id="sthref1701"></a><a id="sthref1702"></a>Creating an Oracle Messaging Gateway Administrator User</h3>
<p>To perform Messaging Gateway administration work, a database user must be created with <code>MGW_ADMINISTRATOR_ROLE</code> privileges, as shown in <a href="#CIHEABFH">Example 18-3</a>.</p>
<div id="ADQUE3213" class="example">
<p class="titleinexample"><a id="CIHEABFH"></a>Example 18-3 Creating a Messaging Gateway Administrator User</p>
<pre>CREATE USER <span class="italic">admin_user</span> IDENTIFIED BY <span class="italic">admin_password</span>;
GRANT CREATE SESSION to <span class="italic">admin_user</span>;
GRANT MGW_ADMINISTRATOR_ROLE to <span class="italic">admin_user</span>;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="CIHGGJAE"></a>
<div id="ADQUE3214" class="sect2">
<h3 class="sect2"><a id="sthref1703"></a><a id="sthref1704"></a><a id="sthref1705"></a><a id="sthref1706"></a><a id="sthref1707"></a><a id="sthref1708"></a><a id="sthref1709"></a>Creating an Oracle Messaging Gateway Agent User</h3>
<p>To establish the Messaging Gateway agent connection back to the database, a database user with <code>MGW_AGENT_ROLE</code> privileges must be created, as shown in <a href="#i1006008">Example 18-4</a>.</p>
<div id="ADQUE3215" class="example">
<p class="titleinexample"><a id="i1006008"></a>Example 18-4 Creating a Messaging Gateway Agent User</p>
<pre>CREATE USER <span class="italic">agent_user</span> IDENTIFIED BY <span class="italic">agent_password</span>;
GRANT CREATE SESSION to <span class="italic">agent_user</span>;
GRANT MGW_AGENT_ROLE to <span class="italic">agent_user</span>;
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="i1006016"></a>
<div id="ADQUE3216" class="sect2">
<h3 class="sect2"><a id="sthref1710"></a><a id="sthref1711"></a><a id="sthref1712"></a>Configuring Oracle Messaging Gateway Connection Information</h3>
<p>After the Messaging Gateway agent user is created, the administration user uses <code>DBMS_MGWADM.ALTER_AGENT</code> to configure Messaging Gateway with the user name, password, and database connect string used by the Messaging Gateway agent to connect back to the database, as shown in <a href="#i1006051">Example 18-5</a>. Use the Messaging Gateway user name and password that you created in <a href="#CIHGGJAE">&#34;Creating an Oracle Messaging Gateway Agent User&#34;</a>. The database connect string parameter can be set to either a net service name in <code>tnsnames.ora</code> (with IPC protocol for better performance) or <code>NULL</code>. If <code>NULL</code>, then the <code>oracle_sid</code> parameter must be set in <code>mgw.ora</code>.</p>
<p>For this release, always specify a not <code>NULL</code> value for the database connect string parameter when calling <code>DBMS_MGWADM.ALTER_AGENT</code>.</p>
<div id="ADQUE3217" class="example">
<p class="titleinexample"><a id="i1006051"></a>Example 18-5 Configuring Messaging Gateway Connection Information</p>
<pre>set echo off
set verify off
connect admin_user
 
ACCEPT password CHAR PROMPT &#39;Enter the password for AGENT_USER: &#39; HIDE

EXEC DBMS_MGWADM.ALTER_AGENT(
      agent_name  =&gt; &#39;default_agent&#39;, 
      username    =&gt; &#39;agent_user&#39;, 
      password    =&gt; &#39;&amp;password&#39;, 
      database    =&gt; &#39;agent_database&#39;);
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="i1006058"></a>
<div id="ADQUE3218" class="sect2">
<h3 class="sect2"><a id="sthref1713"></a><a id="sthref1714"></a>Configuring Oracle Messaging Gateway in an Oracle RAC Environment</h3>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#BABHEIIC">Configuring Connection Information for the MGW Agent Connections</a></p>
</li>
<li>
<p><a href="#BABEAJFD">Setting the Oracle RAC Instance for the Messaging Gateway Agent</a></p>
</li>
</ul>
<a id="BABHEIIC"></a>
<div id="ADQUE3219" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Configuring Connection Information for the MGW Agent Connections</h4>
<p>You must make all database connections made by the Messaging Gateway agent to the instance on which the Messaging Gateway agent process is running. This ensures correct failover behavior in an Oracle RAC environment. You can configure connections this way by having the instances use slightly different <code>tnsnames.ora</code> files. Each file contains an entry with the same net service name, but the connect data refers to only the instance associated with that <code>tnsnames.ora</code> file. The common net service name would then be used for the database parameter when <code>DBMS_MGWADM.ALTER_AGENT</code> is used to configure the Messaging Gateway agent database connection information.</p>
<p>For example, in a two-instance Oracle RAC environment with instances <code>OraDB1</code> and <code>OraDB2</code>, where the net service name <code>AGENT_DB</code> is to be used, the <code>tnsnames.ora</code> for instance <code>OraDB1</code> would look like this:</p>
<pre>AGENT_DB =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = myhost1.mycorp.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = OraDB10.mycorp.com)
      (INSTANCE_NAME = OraDB1)
    )
  )
</pre>
<p>The <code>tnsnames.ora</code> for <code>OraDB2</code> would look like this:</p>
<pre>AGENT_DB =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = myhost2.mycorp.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = OraDB10.mycorp.com)
      (INSTANCE_NAME = OraDB2)
    )
  )
</pre>
<p>You would then configure Messaging Gateway agent user connection information by running the following command:</p>
<pre>EXEC DBMS_MGWADM.ALTER_AGENT(
   agent_name   =&gt; &#39;default_agent&#39;, 
   username     =&gt; &#39;agent_user&#39;, 
   password     =&gt; &#39;agent_password&#39;, 
   database     =&gt; &#39;agent_db&#39;);
</pre></div>
<!-- class="sect3" -->
<a id="BABEAJFD"></a>
<div id="ADQUE3220" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Setting the Oracle RAC Instance for the Messaging Gateway Agent</h4>
<p>Messaging Gateway provides service affinity for the Messaging Gateway agent external process by leveraging the database service support of the Oracle Scheduler. By default, a Messaging Gateway agent will use the default database service that is mapped to all instances. If you want a Messaging Gateway agent to start on a select group of database instances, you must create a database service for those instances and then assign the database service to the Messaging Gateway agent using the <code>SERVICE</code> parameter of the <code>DBMS_MGWADM</code>.<code>CREATE_AGENT</code> or <code>DBMS_MGWADM</code>.<code>ALTER_AGENT</code> procedures. The <code>DBMS_MGWADM</code>.<code>STARTUP</code> procedure submits an Oracle Scheduler job that starts the Messaging Gateway agent external process when the Scheduler job is executed. The Scheduler job will use the database service configured for the Messaging Gateway agent.</p>
<p>The database service specified by the <code>SERVICE</code> parameter is only used for the service affinity of the Oracle Scheduler job and thus the service affinity for the Messaging Gateway external process. It is not used for the database connections made by the Messaging Gateway agent user. Those JDBC client connections are based on the values specified for the <code>DATABASE</code> and <code>CONNTYPE</code> parameters.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHGJGAB">&#34;Running the Oracle Messaging Gateway Agent on Oracle RAC&#34;</a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006072"></a>
<div id="ADQUE3221" class="sect1">
<h2 class="sect1"><a id="sthref1715"></a><a id="sthref1716"></a>Setting Up Non-Oracle Messaging Systems</h2>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#i1007030">Setting Up for TIB/Rendezvous</a></p>
</li>
<li>
<p><a href="#i1007987">Setting Up for WebSphere MQ Base Java or JMS</a></p>
</li>
</ul>
<a id="i1007030"></a>
<div id="ADQUE3222" class="sect2">
<h3 class="sect2"><a id="sthref1717"></a><a id="sthref1718"></a>Setting Up for TIB/Rendezvous</h3>
<p>Running as a TIB/Rendezvous Java client application, the Messaging Gateway agent requires TIB/Rendezvous software to be installed on the computer where the Messaging Gateway agent runs. In this section <code><span class="codeinlineitalic">TIBRV_HOME</span></code> refers to the installed TIB/Rendezvous software location.</p>
<p class="subhead1"><a id="ADQUE3223"></a><a id="sthref1719"></a><a id="sthref1720"></a>Modifying listener.ora</p>
<p>On the Linux operating system, <code>LD_LIBRARY_PATH</code> in the entry for Messaging Gateway must include <code><span class="codeinlineitalic">TIBRV_HOME</span></code><code>/lib</code> for the agent to access TIB/Rendezvous shared library files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1005668">&#34;Modifying listener.ora for the External Procedure&#34;</a></div>
<p>On the Windows operating system, you are not required to modify <code>listener.ora</code>. But the system environment variable <code>PATH</code> must include <code><span class="codeinlineitalic">TIBRV_HOME</span></code><code>\bin</code>.</p>
<p class="subhead1"><a id="ADQUE3224"></a><a id="sthref1721"></a><a id="sthref1722"></a>Modifying mgw.ora</p>
<p><code>MGW_PRE_PATH</code> must include the directory that contains the TIB/Rendezvous license ticket file (<code>tibrv.tkt</code>), which usually is located in <code><span class="codeinlineitalic">TIBRV_HOME/bin</span></code>.</p>
<p><code>CLASSPATH</code> must include the TIB/Rendezvous jar file <code><span class="codeinlineitalic">TIBRV_HOME</span></code><code>/lib/tibrvj.jar</code>. If you use your own customized TIB/Rendezvous advisory message callback, then the location of the callback class must also be included.</p>
<p>You can set the following Java properties to change the default setting:</p>
<ul>
<li>
<p><code>oracle.mgw.tibrv.encoding</code></p>
</li>
<li>
<p><code>oracle.mgw.tibrv.intraProcAdvSubjects</code></p>
</li>
<li>
<p><code>oracle.mgw.tibrv.advMsgCallback</code></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#i1006144">&#34;Understanding the mgw.ora Initialization File&#34;</a></div>
</li>
</ul>
<div id="ADQUE3225" class="example">
<p class="titleinexample"><a id="sthref1723"></a>Example 18-6 Setting Java Properties</p>
<pre>setJavaProp oracle.mgw.tibrv.encoding=ISO8859_1
setJavaProp oracle.mgw.tibrv.intraProcAdvSubjects=_RV.&gt;
setJavaProp oracle.mgw.tibrv.advMsgCallback=MyadvCallback
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<a id="i1007987"></a>
<div id="ADQUE3226" class="sect2">
<h3 class="sect2"><a id="sthref1724"></a><a id="sthref1725"></a>Setting Up for WebSphere MQ Base Java or JMS</h3>
<p>The WebSphere MQ client and WebSphere MQ classes for Java and JMS must be installed on the computer where the Messaging Gateway agent runs. In this section <code><span class="codeinlineitalic">MQ_HOME</span></code> refers to the location of the installed client. On the Linux operating system, this location is always <code>/opt/mqm</code>. On the Windows operating system, the installed location can vary.</p>
<p class="subhead1"><a id="ADQUE3227"></a><a id="sthref1726"></a><a id="sthref1727"></a>Modifying listener.ora</p>
<p>No extra modification of <code>listener.ora</code> is necessary for Messaging Gateway to access WebSphere MQ.</p>
<p class="subhead1"><a id="ADQUE3228"></a><a id="sthref1728"></a><a id="sthref1729"></a>Modifying mgw.ora</p>
<p>When using WebSphere MQ Base Java (non-JMS) interface, set <code>CLASSPATH</code> to include at least the following (in addition to those in <a href="#CIHEBJIF">&#34;Setting Up an mgw.ora Initialization File&#34;</a>):</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">MQ_HOME</span></code><code>/java/lib/com.ibm.mq.jar</code></p>
</li>
<li>
<p><code><span class="codeinlineitalic">MQ_HOME</span></code><code>/java/lib/connector.jar</code></p>
</li>
</ul>
<p>When using WebSphere MQ JMS interface, set <code>CLASSPATH</code> to include at least the following (in addition to those in <a href="#CIHEBJIF">&#34;Setting Up an mgw.ora Initialization File&#34;</a>):</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">MQ_HOME</span></code><code>/java/lib/com.ibm.mqjms.jar</code></p>
</li>
<li>
<p><code><span class="codeinlineitalic">MQ_HOME</span></code><code>/java/lib/com.ibm.mq.jar</code></p>
</li>
<li>
<p><code><span class="codeinlineitalic">MQ_HOME</span></code><code>/java/lib/connector.jar</code></p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1007292"></a>
<div id="ADQUE3229" class="sect1">
<h2 class="sect1"><a id="sthref1730"></a><a id="sthref1731"></a>Verifying the Oracle Messaging Gateway Setup</h2>
<p>The following procedure verifies the setup and includes a simple startup and shutdown of the Messaging Gateway agent:</p>
<ol>
<li>
<p>Start the database listeners.</p>
<p>Start the listener for the external procedure and other listeners for the regular database connection.</p>
</li>
<li>
<p>Test the database connect string for the Messaging Gateway agent user.</p>
<p>Run <code>sqlplus</code> <code><span class="codeinlineitalic">agent_user</span></code><code>/</code><code><span class="codeinlineitalic">agent_password</span></code><code>@</code><code><span class="codeinlineitalic">agent_database</span></code>.</p>
<p>If it is successful, then the Messaging Gateway agent can connect to the database.</p>
</li>
<li>
<p><span class="bold">Linux Operating System Only:</span> Test the net service entry used to call the external procedure.</p>
<p>Run <code>sqlplus</code> <code><span class="codeinlineitalic">agent_user</span></code><code>/</code><code><span class="codeinlineitalic">agent_password</span></code><code>@</code><code>MGW_AGENT</code>.</p>
<p>This should fail with &#34;ORA-28547: connection to server failed, probable Oracle Net admin error&#34;. Any other error indicates that the <code>tnsnames.ora</code>, <code>listener.ora</code>, or both are not correct.</p>
</li>
<li>
<p>Connect as <code><span class="codeinlineitalic">admin_user</span></code> and call <code>DBMS_MGWADM.STARTUP</code> to start the Messaging Gateway agent.</p>
</li>
<li>
<p>Using the <code>MGW_GATEWAY</code> view, wait for <code>AGENT_STATUS</code> to change to <code>RUNNING</code> and <code>AGENT_PING</code> to change to <code>REACHABLE</code>.</p>
</li>
<li>
<p>Connect as <code><span class="codeinlineitalic">admin_user</span></code> and call <code>DBMS_MGWADM.SHUTDOWN</code> to shut down the Messaging Gateway agent.</p>
</li>
<li>
<p>Using the <code>MGW_GATEWAY</code> view, wait for <code>AGENT_STATUS</code> to change to <code>NOT_STARTED</code>.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="CIHGFDJD"></a>
<div id="ADQUE3230" class="sect1">
<h2 class="sect1"><a id="sthref1732"></a>Unloading Oracle Messaging Gateway</h2>
<p>Use this procedure to unload Messaging Gateway:</p>
<ol>
<li>
<p>Shut down Messaging Gateway.</p>
</li>
<li>
<p>Remove any user-created queues whose payload is a Messaging Gateway <a href="glossary.htm#i432214"><span class="xrefglossterm">canonical</span></a> type (for example, <code>SYS.MGW_BASIC_MSG_T</code>).</p>
</li>
<li>
<p>Using SQL*Plus, run <code><span class="codeinlineitalic">ORACLE_HOME</span></code><code>/mgw/admin/catnomgw.sql</code> as user <code>SYS</code> as <code>SYSDBA</code>.</p>
<p>This drops the database objects used by Messaging Gateway, including roles, tables, views, packages, object types, and synonyms.</p>
</li>
<li>
<p>Remove entries for Messaging Gateway created in <code>listener.ora</code> and <code>tnsnames.ora</code>.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1006144"></a>
<div id="ADQUE3231" class="sect1">
<h2 class="sect1"><a id="sthref1733"></a><a id="sthref1734"></a>Understanding the mgw.ora Initialization File</h2>
<p>Messaging Gateway reads initialization information from a text file when the Messaging Gateway agent starts. The initialization file contains lines for setting initialization parameters, environment variables, and Java properties. Each entity must be specified on one line. Leading whitespace is trimmed in all cases.</p>
<p>A Messaging Gateway administrator can specify the initialization file to be used for a Messaging Gateway agent via <code>DBMS_MGWADM</code>.<code>CREATE_AGENT</code> and <code>DBMS_MGWADM</code>.<code>ALTER_AGENT</code>. If an initialization file is not specified then a default initialization file will be used.</p>
<p>The default initialization file for the default agent is <code>ORACLE_HOME/mgw/admin/mgw.ora</code>.</p>
<p>The default initialization file for a named agent is <code>ORACLE_HOME</code>/<code>mgw</code>/<code>admin</code>/<code>mgw_AGENTNAME</code>.<code>ora</code> where <code>AGENTNAME</code> is the name in uppercase of the Messaging Gateway agent. For example, if the agent name is <code>my_agent</code> then the name of the agent&#39;s default initialization file is <code>ORACLE_HOME</code>/<code>mgw</code>/<code>admin</code>/<code>mgw_MY_AGENT</code>.<code>ora</code>. If the default initialization file for a named agent is not found then <code>ORACLE_HOME</code>/<code>mgw</code>/<code>admin</code>/<code>mgw</code>.<code>ora</code> will be used.</p>
<a id="i1006166"></a>
<div id="ADQUE3232" class="sect2">
<h3 class="sect2"><a id="sthref1735"></a><a id="sthref1736"></a><a id="sthref1737"></a>mgw.ora Initialization Parameters</h3>
<p>The initialization parameters are typically specified by lines having a &#34;<code><span class="codeinlineitalic">name</span></code><code>=</code><code><span class="codeinlineitalic">value</span></code><code>&lt;NL&gt;</code>&#34; format where <code><span class="codeinlineitalic">name</span></code> represents the parameter name, <code><span class="codeinlineitalic">value</span></code> represents its value and <code>&lt;NL&gt;</code> represents a new line.</p>
<p class="subhead2"><a id="ADQUE3233"></a><a id="sthref1738"></a><a id="sthref1739"></a>log_directory</p>
<p><a id="ADQUE3234"></a><span class="subhead3">Usage: &nbsp;</span>Specifies the directory where the Messaging Gateway log/trace file is created.</p>
<p><a id="ADQUE3235"></a><span class="subhead3">Format: &nbsp;</span></p>
<pre>log_directory = <span class="italic">value</span>
</pre>
<p><a id="ADQUE3236"></a><span class="subhead3">Default:&nbsp;</span></p>
<pre><span class="italic">ORACLE_HOME</span>/mgw/log
</pre>
<p><a id="ADQUE3237"></a><span class="subhead3">Example: &nbsp;</span></p>
<pre>log_directory = /private/mgwlog
</pre>
<p class="subhead2"><a id="ADQUE3238"></a><a id="sthref1740"></a><a id="sthref1741"></a>log_level</p>
<p><a id="ADQUE3239"></a><span class="subhead3">Usage: &nbsp;</span>Specifies the level of logging detail recorded by the Messaging Gateway agent. The logging level can be dynamically changed by calling <code>DBMS_MGWADM.SET_LOG_LEVEL</code> while the Messaging Gateway agent is running. Oracle recommends that log level <code>0</code> (the default value) be used at all times.</p>
<p><a id="ADQUE3240"></a><span class="subhead3">Format: &nbsp;</span></p>
<pre>log_level = <span class="italic">value</span>
</pre>
<p><a id="ADQUE3241"></a><span class="subhead3">Values: &nbsp;</span></p>
<p><code>0</code> for basic logging; equivalent to <code>DBMS_MGWADM.BASIC_LOGGING</code></p>
<p><code>1</code> for light tracing; equivalent to <code>DBMS_MGWADM.TRACE_LITE_LOGGING</code></p>
<p><code>2</code> for high tracing; equivalent to <code>DBMS_MGWADM.TRACE_HIGH_LOGGING</code></p>
<p><code>3</code> for debug tracing; equivalent to <code>DBMS_MGWADM.TRACE_DEBUG_LOGGING</code></p>
<p><code>4</code> for high debug tracing; equivalent to <code>DBMS_MGWADM.TRACE_DEBUG_HIGH_LOGGING</code></p>
<p><a id="ADQUE3242"></a><span class="subhead3">Example: &nbsp;</span></p>
<pre>log_level = 0
</pre></div>
<!-- class="sect2" -->
<a id="i1007933"></a>
<div id="ADQUE3243" class="sect2">
<h3 class="sect2"><a id="sthref1742"></a><a id="sthref1743"></a><a id="sthref1744"></a>mgw.ora Environment Variables</h3>
<p>Because the Messaging Gateway process environment is not under the direct control of the user, certain environment variables should be set using the initialization file. The environment variables currently used by the Messaging Gateway agent are <code>CLASSPATH</code>, <code>MGW_PRE_PATH</code>, and <code>ORACLE_SID</code>.</p>
<p>Environment variables such as <code>CLASSPATH</code> and <code>MGW_PRE_PATH</code> are set so the Messaging Gateway agent can find the required shared objects, Java classes, and so on. Environment variables are specified by lines having a <code>&#34;set</code> <code><span class="codeinlineitalic">env_var</span></code><code>=value</code><code>&lt;NL&gt;&#34;</code> or <code>&#34;setenv</code> <code><span class="codeinlineitalic">env_var</span></code><code>=</code><code><span class="codeinlineitalic">value</span></code><code>&lt;NL&gt;&#34;</code> format where <code><span class="codeinlineitalic">env_var</span></code> represents the name of the environment variable to set, <code><span class="codeinlineitalic">value</span></code> represents the value of the environment variable, and <code>&lt;NL&gt;</code> represents a new line.</p>
<p class="subhead2"><a id="ADQUE3244"></a><a id="sthref1745"></a><a id="sthref1746"></a>CLASSPATH</p>
<p><a id="ADQUE3245"></a><span class="subhead3">Usage: &nbsp;</span>Used by the <a href="glossary.htm#i432292"><span class="xrefglossterm">Java Virtual Machine</span></a> to find Java classes needed by the Messaging Gateway agent for <a href="glossary.htm#BGBIJFAG"><span class="xrefglossterm">propagation</span></a> between Oracle Database Advanced Queuing and non-Oracle messaging systems.</p>
<p><a id="ADQUE3246"></a><span class="subhead3">Format: &nbsp;</span></p>
<pre>set CLASSPATH=<span class="italic">value</span>
</pre>
<p><a id="ADQUE3247"></a><span class="subhead3">Example: &nbsp;</span></p>
<pre>set CLASSPATH=<span class="italic">ORACLE_HOME</span>/jdbc/lib/ojdbc6.jar:<span class="italic">JRE_HOME</span>/lib/rt.jar:
<span class="italic">ORACLE_HOME</span>/sqlj/lib/runtime12.jar:<span class="italic">ORACLE_H</span><span class="italic">OME</span>/jlib/orai18n.jar:<span class="italic">ORACLE_HOME</span>/rdbms/
jlib/jmscommon.jar:<span class="italic">ORACLE_HOME</span>/rdbms/jlib/aqapi.jar:<span class="italic">ORACLE_HOME</span>/jlib/jta.jar:
/opt/mqm/java/lib/com.ibm.mq.jar:/opt/mqm/java/lib/com.ibm.mqjms.jar:/opt/mqm/java
/lib/connector.jar
</pre>
<p class="subhead2"><a id="ADQUE3248"></a><a id="sthref1747"></a><a id="sthref1748"></a>MGW_PRE_PATH</p>
<p><a id="ADQUE3249"></a><span class="subhead3">Usage: &nbsp;</span>Appended to the front of the path inherited by the Messaging Gateway process. For the Windows operating system, this variable must be set to indicate where the library <code>jvm.dll</code> is found.</p>
<p><a id="ADQUE3250"></a><span class="subhead3">Format: &nbsp;</span></p>
<pre>set MGW_PRE_PATH=<span class="italic">value</span>
</pre>
<p><a id="ADQUE3251"></a><span class="subhead3">Example: &nbsp;</span></p>
<pre>set MGW_PRE_PATH=<span class="italic">JRE_HOME</span>\bin\client
</pre>
<p class="subhead2"><a id="ADQUE3252"></a><a id="sthref1749"></a><a id="sthref1750"></a>ORACLE_SID</p>
<p><a id="ADQUE3253"></a><span class="subhead3">Usage: &nbsp;</span>Can be used when a service name is not specified when configuring Messaging Gateway.</p>
<p><a id="ADQUE3254"></a><span class="subhead3">Format: &nbsp;</span></p>
<pre>set ORACLE_SID=<span class="italic">value</span>
</pre>
<p><a id="ADQUE3255"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>set ORACLE_SID=my_sid
</pre></div>
<!-- class="sect2" -->
<a id="i1006301"></a>
<div id="ADQUE3256" class="sect2">
<h3 class="sect2"><a id="sthref1751"></a><a id="sthref1752"></a><a id="sthref1753"></a>mgw.ora Java Properties</h3>
<p>You must specify Java system properties for the Messaging Gateway JVM when working with TIB/Rendezvous subjects. You can use the <code>setJavaProp</code> parameter of the Messaging Gateway initialization file for this. Java properties are specified by lines having a <code>&#34;setJavaProp</code> <code><span class="codeinlineitalic">prop_name</span></code><code>=</code><code><span class="codeinlineitalic">value</span></code><code>&lt;NL&gt;&#34;</code> format, where <code><span class="codeinlineitalic">prop_name</span></code> represents the name of the Java property to set, <code><span class="codeinlineitalic">value</span></code> represents the value of the Java property, and <code>&lt;NL&gt;</code> represents a new line character.</p>
<p class="subhead2"><a id="ADQUE3257"></a><a id="sthref1754"></a><a id="sthref1755"></a>oracle.mgw.batch_size</p>
<p><a id="ADQUE3258"></a><span class="subhead3">Usage:&nbsp;</span>This Java property represents the maximum number of messages propagated in one transaction. It serves as a default value if the Messaging Gateway job option, <code>MsgBatchSize</code>, is not specified. If altered from the default, then consideration should be given to the expected <a href="glossary.htm#i432676"><span class="xrefglossterm">message</span></a> size and the Messaging Gateway agent memory (see <code>max_memory</code> parameter of <code>DBMS_MGWADM.ALTER_AGENT</code>). The minimum value of this Java property is 1, the maximum is 100, and the default is 30.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;DBMS_MGWADM&#34; in <a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></div>
<p><a id="ADQUE3259"></a><span class="subhead3">Syntax:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.batch_size=<span class="italic">value</span>
</pre>
<p><a id="ADQUE3260"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.batch_size=10
</pre>
<p class="subhead2"><a id="ADQUE3261"></a><a id="sthref1756"></a><a id="sthref1757"></a>oracle.mgw.polling_interval</p>
<p><a id="ADQUE3262"></a><span class="subhead3">Usage:&nbsp;</span>This parameter specifies the time (in milliseconds) that must elapse between polls for available messages of a propagation source <a href="glossary.htm#i432672"><span class="xrefglossterm">queue</span></a>. The default polling interval used by Messaging Gateway is 5000 milliseconds (5 seconds). The minimum value of this Java property is 100 millisecond, and the maximum value is 60 seconds.</p>
<p><a id="ADQUE3263"></a><span class="subhead3">Syntax:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.polling_interval=<span class="italic">value</span> 
</pre>
<p><a id="ADQUE3264"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.polling_interval=1000 
</pre>
<p class="subhead2"><a id="ADQUE3265"></a><a id="sthref1758"></a><a id="sthref1759"></a>oracle.mgw.tibrv.encoding</p>
<p><a id="ADQUE3266"></a><span class="subhead3">Usage:&nbsp;</span>This parameter specifies the character encoding to be used by the TIB/Rendezvous messaging system links. Only one character set for all configured TIB/Rendezvous links is allowed due to TIB/Rendezvous restrictions. The default is ISO 8859-1 or the character set specified by the Java system property <code>file.encoding</code>.</p>
<p><a id="ADQUE3267"></a><span class="subhead3">Syntax:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.tibrv.encoding=<span class="italic">value</span> 
</pre>
<p><a id="ADQUE3268"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.tibrv.encoding=ISO8859_1 
</pre>
<p class="subhead2"><a id="ADQUE3269"></a><a id="sthref1760"></a><a id="sthref1761"></a>oracle.mgw.tibrv.intraProcAdvSubjects</p>
<p><a id="ADQUE3270"></a><span class="subhead3">Usage&nbsp;</span>Used for all TIB/Rendezvous messaging system links, this parameter specifies the names of system advisory subjects that present on the intraprocess transport.</p>
<p><a id="ADQUE3271"></a><span class="subhead3">Syntax&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.tibrv.intraProcAdvSubjects=
<span class="italic">advisorySubjectName</span>[:<span class="italic">advisorySubjectName</span>]
</pre>
<p><a id="ADQUE3272"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.tibrv.intraProcAdvSubjects=_RV.&gt;
</pre>
<p class="subhead2"><a id="ADQUE3273"></a><a id="sthref1762"></a><a id="sthref1763"></a>oracle.mgw.tibrv.advMsgCallback</p>
<p><a id="ADQUE3274"></a><span class="subhead3">Usage:&nbsp;</span>Used for all TIB/Rendezvous messaging system links, this parameter specifies the name of the Java class that implements the <code>TibrvMsgCallback</code> interface to handle system advisory messages. If it is not specified, then the default system advisory message handler provided by Messaging Gateway is used, which writes system advisory messages into Messaging Gateway log files. If it is specified, then the directory where the class file is stored must be included in the <code>CLASSPATH</code> in <code>mgw.ora</code>.</p>
<p><a id="ADQUE3275"></a><span class="subhead3">Syntax:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.tibrv.advMsgCallback=<span class="italic">className</span>
</pre>
<p><a id="ADQUE3276"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>setJavaProp oracle.mgw.tibrv.advMsgCallback=MyAdvCallback
</pre>
<p class="subhead2"><a id="BABDFCFI"></a><a id="ADQUE3277"></a><a id="sthref1764"></a><a id="sthref1765"></a>oracle.net.tns_admin</p>
<p><a id="ADQUE3278"></a><span class="subhead3">Usage:&nbsp;</span>This parameter specifies the directory of the tnsnames.ora file. It must be set if the Messaging Gateway agent is configured to use the JDBC Thin driver and the database specifier of the agent connection information is a TNSNames alias. This does not need to be set if the JDBC OCI driver is used or the database specifier is something other than a TNSNames alias.</p>
<p><a id="ADQUE3279"></a><span class="subhead3">Syntax:&nbsp;</span></p>
<pre>setJavaProp oracle.net.tns_admin=<span class="italic">value</span>
</pre>
<p><a id="ADQUE3280"></a><span class="subhead3">Example:&nbsp;</span></p>
<pre>setJavaProp oracle.net.tns_admin=/myoraclehome/network/admin
</pre></div>
<!-- class="sect2" -->
<a id="i1007942"></a>
<div id="ADQUE3281" class="sect2">
<h3 class="sect2"><a id="sthref1766"></a>mgw.ora Comment Lines</h3>
<p>Comment lines are designated with a <code>#</code> character as the first character of the line.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment993">
<tr>
<td class="cellalignment1002">
<table class="cellalignment998">
<tr>
<td class="cellalignment997"><a href="mg_intro.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment997"><a href="mg_work.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1004">
<table class="cellalignment996">
<tr>
<td class="cellalignment997"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment997"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment997"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment997"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment997"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment997"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-999"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Introduction%20to%20Oracle%20Messaging%20Gateway"></a><title>Introduction to Oracle Messaging Gateway</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-07-01T0:30:47Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Queuing User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17945-14"/>
<meta name="dcterms.isVersionOf" content="ADQUE"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="jm_exmpl.htm" title="Previous" type="text/html"/>
<link rel="Next" href="mg_start.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17945-14.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">24/34</span> <!-- End Header -->
<div id="ADQUE1700" class="chapter"><a id="g1007853"></a>
<h1 class="chapter"><span class="secnum">17</span> Introduction to Oracle Messaging Gateway</h1>
<p>The Messaging Gateway administration package DBMS_MGWADM provides an interface for creating Messaging Gateway agents, managing agents, creating messaging system links, registering non-Oracle queues, and setting up propagation jobs.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i1005582">Oracle Messaging Gateway Overview</a></p>
</li>
<li>
<p><a href="#i1005642">Oracle Messaging Gateway Features</a></p>
</li>
<li>
<p><a href="#i1005808">Oracle Messaging Gateway Architecture</a></p>
</li>
<li>
<p><a href="#i1006077">Propagation Processing Overview</a></p>
</li>
<li>
<p><a href="#BABEBHAC">Oracle Database AQ Buffered Messages and Messaging Gateway</a></p>
</li>
</ul>
<a id="i1005582"></a>
<div id="ADQUE3193" class="sect1">
<h2 class="sect1"><a id="sthref1662"></a>Oracle Messaging Gateway Overview</h2>
<p>Messaging Gateway enables communication between applications based on non-Oracle messaging systems and Oracle Database Advanced Queuing.</p>
<p>Oracle Database Advanced Queuing provides <a href="glossary.htm#CBADIFJC"><span class="xrefglossterm">propagation</span></a> between two Oracle Database Advanced Queuing queues to enable e-business (HTTP through <a href="glossary.htm#i432259"><span class="xrefglossterm">IDAP</span></a>). Messaging Gateway extends this to applications based on non-Oracle messaging systems.</p>
<p>Because Messaging Gateway is integrated with Oracle Database Advanced Queuing and Oracle Database, it offers reliable <a href="glossary.htm#CBACDHGB"><span class="xrefglossterm">message</span></a> delivery. Messaging Gateway guarantees that messages are delivered once and only once between Oracle Database Advanced Queuing and non-Oracle messaging systems that support persistence. The PL/SQL interface provides an easy-to-learn administrative <a href="glossary.htm#CBAIGGDE"><span class="xrefglossterm">API</span></a>, especially for developers already proficient in using Oracle Database Advanced Queuing.</p>
<p>This release of Messaging Gateway supports the integration of Oracle Database Advanced Queuing with applications based on WebSphere MQ 7.0.1.3 and TIB/Rendezvous 8.2.</p>
</div>
<!-- class="sect1" -->
<a id="i1005642"></a>
<div id="ADQUE3194" class="sect1">
<h2 class="sect1"><a id="sthref1663"></a><a id="sthref1664"></a>Oracle Messaging Gateway Features</h2>
<p>Messaging Gateway provides the following features:</p>
<ul>
<li>
<p>Extends Oracle Database Advanced Queuing message propagation</p>
<p>Messaging Gateway propagates messages between Oracle Database Advanced Queuing and non-Oracle messaging systems. Messages sent by Oracle Database Advanced Queuing applications can be received by non-Oracle messaging system applications. Conversely, messages published by non-Oracle messaging system applications can be consumed by Oracle Database Advanced Queuing applications.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
<ul>
<li>
<p><a href="#i1006077">&#34;Propagation Processing Overview&#34;</a></p>
</li>
<li>
<p><a href="mg_trnsfm.htm#g1017953">Chapter 20, &#34;Oracle Messaging Gateway Message Conversion&#34;</a></p>
</li>
</ul>
</div>
</li>
</ul>
<ul>
<li>
<p>Support for <a href="glossary.htm#i432286"><span class="xrefglossterm">Java Message Service</span></a> (JMS) messaging systems</p>
<p>Messaging Gateway propagates messages between Oracle Java Message Service (Oracle JMS) and WebSphere MQ Java Message Service (WebSphere MQ JMS).</p>
</li>
<li>
<p>Native message format support</p>
<p>Messaging Gateway supports the native message formats of messaging systems. Oracle Database Advanced Queuing messages can have <code>RAW</code> or any Oracle <a href="glossary.htm#CBAGCEHG"><span class="xrefglossterm">object type</span></a> payload. WebSphere MQ messages can be text or byte messages. TIB/Rendezvous messages can be any TIB/Rendezvous wire format datatype except the nested datatype <code>MSG</code> and those with unsigned integers.</p>
</li>
<li>
<p>Message conversion</p>
<p>Messaging Gateway facilitates message conversion between Oracle Database Advanced Queuing messages and non-Oracle messaging system messages. Messages are converted through either automatic routines provided by Messaging Gateway or customized message <a href="glossary.htm#CBACGHDB"><span class="xrefglossterm">transformation</span></a> functions that you provide.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Messaging Gateway does not support message propagation between JMS and non-JMS messaging systems.</p>
</li>
<li>
<p>Oracle Database AQ Sharded Queues are not supported by MGW in 12<span class="italic">c</span> Release 1 (12.1)</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="mg_trnsfm.htm#i1005789">&#34;Converting Oracle Messaging Gateway Non-JMS Messages&#34;</a></div>
</li>
</ul>
<ul>
<li>
<p>Integration with Oracle Database</p>
<p>Messaging Gateway is managed through a PL/SQL interface similar to that of Oracle Database Advanced Queuing. Configuration information is stored in Oracle Database tables. Message propagation is carried out by an external process of the Oracle Database server.</p>
</li>
<li>
<p>Guaranteed message delivery</p>
<p>If the messaging systems at the propagation source and propagation destination both support transactions, then Messaging Gateway guarantees that persistent messages are propagated exactly once. If messages are not persistent or transactions are not supported by the messaging systems at the propagation source or propagation destination, then at-most-once propagation is guaranteed.</p>
</li>
<li>
<p>Security support</p>
<p>Messaging Gateway supports client authentication of Oracle Database and non-Oracle messaging systems.</p>
<p>Messaging Gateway also allows Secure Socket Layer (SSL) support for IBM WebSphere MQ and WebSphere MQ JMS connections made by the Messaging Gateway agent.</p>
</li>
<li>
<p>Multiple agent support</p>
<p>Messaging Gateway supports multiple agents for a given database. Users can partition propagation jobs based on functionality, organizations, or workload and assign them to different Messaging Gateway agents. This allows Messaging Gateway to scale in an Oracle RAC environment and enables propagation job grouping and isolation.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1005808"></a>
<div id="ADQUE3195" class="sect1">
<h2 class="sect1"><a id="sthref1665"></a><a id="sthref1666"></a>Oracle Messaging Gateway Architecture</h2>
<p>Messaging Gateway has two main components:</p>
<ul>
<li>
<p>Administration Package DBMS_MGWADM</p>
</li>
<li>
<p>Messaging Gateway Agent</p>
</li>
</ul>
<p><a href="#i1006365">Figure 17-1</a> shows how these components work together with Oracle Database and non-Oracle messaging systems.</p>
<div id="ADQUE3196" class="figure">
<p class="titleinfigure"><a id="i1006365"></a>Figure 17-1 Messaging Gateway Architecture</p>
<img width="624" height="338" src="img/adque449.gif" alt="Description of Figure 17-1 follows"/><br/>
<a id="sthref1667" href="img_text/adque449.htm">Description of &#34;Figure 17-1 Messaging Gateway Architecture&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div id="ADQUE3197" class="sect2"><a id="sthref1668"></a>
<h3 class="sect2"><a id="sthref1669"></a><a id="sthref1670"></a><a id="sthref1671"></a>Administration Package DBMS_MGWADM</h3>
<p>The Messaging Gateway administration package <code>DBMS_MGWADM</code> provides an interface for creating named Messaging Gateway agents, managing agents, creating messaging system links, registering non-Oracle queues, and setting up propagation jobs.</p>
<p>Users call the procedures in the package to make configuration changes regardless of whether the Messaging Gateway agent is running. If the Messaging Gateway agent is running, then the procedures in the package send notifications for configuration changes to the agent. The agent dynamically alters its configuration for most configuration changes, although some changes require that the agent be shut down and restarted before they take effect. All the procedures in the package are serialized to guarantee that the Messaging Gateway agent receives and processes notifications in the same order as they are made.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on <code>DBMS_MGWADM</code></div>
</div>
<!-- class="sect2" -->
<div id="ADQUE3198" class="sect2"><a id="sthref1672"></a>
<h3 class="sect2"><a id="sthref1673"></a><a id="sthref1674"></a>Oracle Messaging Gateway Agent</h3>
<p>The Messaging Gateway agent runs as an external process of the Oracle Database server and processes propagation jobs. It is started and shut down by calling the <code>STARTUP</code> and <code>SHUTDOWN</code> procedures in <code>DBMS_MGWADM</code> package.</p>
<p>The Messaging Gateway agent contains a multithreaded propagation engine and a set of drivers for messaging systems. The propagation engine fairly schedules propagation jobs and processes propagation jobs concurrently. The polling thread in the agent periodically polls the source queues of enabled propagation jobs and wakes up worker threads to process propagation jobs if messages are available. The drivers for non-Oracle messaging systems run as clients of the messaging systems for all messaging operations.</p>
</div>
<!-- class="sect2" -->
<div id="ADQUE3199" class="sect2"><a id="sthref1675"></a>
<h3 class="sect2"><a id="sthref1676"></a>Oracle Database</h3>
<p>As an Oracle Database feature, Messaging Gateway provides a mechanism of message propagation between Oracle Database Advanced Queuing and non-Oracle messaging systems. Oracle Database Advanced Queuing is involved in every propagation job as either propagation source or propagation destination.</p>
<p>Messaging Gateway is managed through the PL/SQL administration package <code>DBMS_MGWADM</code>. All configuration information and execution state information of Messaging Gateway are stored in Oracle Database and can be accessed through database views.</p>
<p>The Messaging Gateway agent runs as an external procedure of the Oracle Database server. Therefore, it runs only when its associated database server is running.</p>
</div>
<!-- class="sect2" -->
<div id="ADQUE3200" class="sect2"><a id="sthref1677"></a>
<h3 class="sect2"><a id="sthref1678"></a><a id="sthref1679"></a>Non-Oracle Messaging Systems</h3>
<p>The Messaging Gateway agent connects to non-Oracle messaging systems through messaging system links. Messaging system links are communication channels between the Messaging Gateway agent and non-Oracle messaging systems. Users can use the administration package <code>DBMS_MGWADM</code> to configure multiple links to the same or different non-Oracle messaging systems.</p>
<p>Queues in non-Oracle messaging systems, such as WebSphere MQ queues, TIB/Rendezvous subjects, and WebSphere MQ JMS destinations (queues and topics) can all serve as propagation sources and destinations for Messaging Gateway. They are referred to as foreign queues. All foreign queues involved in message propagation as source queues, destination queues, or exception queues must be registered through the administration package. The registration of a foreign <a href="glossary.htm#CBAHIIAB"><span class="xrefglossterm">queue</span></a> does not create the physical queue in a non-Oracle messaging system, but merely records information about the queue, such as the messaging system link to access it, its native name, and its domain (queue or topic). The physical queue must be created through the administration interface of the non-Oracle messaging system.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHIACGA">&#34;Registering a Non-Oracle Queue&#34;</a></div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1006077"></a>
<div id="ADQUE3201" class="sect1">
<h2 class="sect1"><a id="sthref1680"></a><a id="sthref1681"></a>Propagation Processing Overview</h2>
<p>Propagation jobs must be defined in order for messages to be propagated from one messaging system to another. A propagation job defines the source queue, destination queue, and various other attributes that affect the processing of the propagation job.</p>
<p>If the propagation source is a queue (point-to-point), then the Messaging Gateway agent moves all messages in the queue to the destination. If the propagation source is a topic (<a href="glossary.htm#CBAIJICJ"><span class="xrefglossterm">publish/subscribe</span></a>), then the Messaging Gateway agent creates a subscription on the propagation source topic. The agent moves all messages that are published to the topic after the subscription is created.</p>
<p>A propagation job is processed when it is enabled. Disabling a propagation job stops propagation processing but does not stop message subscription.</p>
<p>When the Messaging Gateway agent processes a propagation job, it dequeues messages from the source queue and enqueues the messages to the destination queue. As each message is propagated, it is converted from its native format in the source messaging system to its native format in the destination messaging system. Messaging Gateway provides automatic message conversions between simple and commonly used message formats. You can customize message conversions by providing your own message transformation functions.</p>
<p>When the Messaging Gateway agent fails to convert a message from the source format to the destination format, the agent moves the message from the source queue to an <a href="glossary.htm#CBAHHGJI"><span class="xrefglossterm">exception queue</span></a>, if the exception queue exists, and continues to process the propagation job.</p>
<p>If the Messaging Gateway agent runs into failures when processing a propagation job, it retries up to sixteen times in an exponential backoff scheme (from two seconds up to thirty minutes) before it stops retrying.</p>
<p>To guarantee reliable message delivery, Messaging Gateway requires logging queues in messaging systems that support transactions and persistent messages. The Messaging Gateway agent uses the logging queues to store the processing states of propagation jobs so that it can restore propagation processing from failures.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="mg_work.htm#CIHBHAGI">&#34;Configuring Oracle Messaging Gateway Propagation Jobs&#34;</a></div>
</div>
<!-- class="sect1" -->
<a id="BABEBHAC"></a>
<div id="ADQUE3202" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref1682"></a><a id="sthref1683"></a>Oracle Database AQ Buffered Messages and Messaging Gateway</h2>
<p>Messaging Gateway does not support propagation of buffered messages. In outbound propagation, the Messaging Gateway agent dequeues only persistent messages from AQ queues. In inbound propagation, the Messaging Gateway agent always enqueues persistent messages into AQ queues.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment993">
<tr>
<td class="cellalignment1002">
<table class="cellalignment998">
<tr>
<td class="cellalignment997"><a href="jm_exmpl.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment997"><a href="mg_start.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1004">
<table class="cellalignment996">
<tr>
<td class="cellalignment997"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment997"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment997"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment997"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment997"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment997"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
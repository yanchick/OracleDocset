<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-959"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Database%20Advanced%20Queuing%3A%20Programmatic%20Interfaces"></a><title>Oracle Database Advanced Queuing: Programmatic Interfaces</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-07-01T0:30:46Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Advanced Queuing User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17945-14"/>
<meta name="dcterms.isVersionOf" content="ADQUE"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="componet.htm" title="Previous" type="text/html"/>
<link rel="Next" href="manage.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17945-14.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/34</span> <!-- End Header -->
<div id="ADQUE0300" class="chapter"><a id="g1019073"></a> <a id="i1007703"></a>
<h1 class="chapter"><span class="secnum">3</span> Oracle Database Advanced Queuing: Programmatic Interfaces</h1>
<p>This chapter describes the different language options and elements you must work with and issues to consider in preparing your Oracle Database Advanced Queuing (AQ) application environment.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Java package <code>oracle.AQ</code> was deprecated in 10<span class="italic">g</span> Release 1 (10.1). Oracle recommends that you migrate existing Java AQ applications to Oracle JMS (or other Java APIs) and use Oracle JMS (or other Java APIs) to design your future Java AQ applications.</div>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#i1005592">Programmatic Interfaces for Accessing Oracle Database Advanced Queuing</a></p>
</li>
<li>
<p><a href="#i1005696">Using PL/SQL to Access Oracle Database Advanced Queuing</a></p>
</li>
<li>
<p><a href="#i1005737">Using OCI to Access Oracle Database Advanced Queuing</a></p>
</li>
<li>
<p><a href="#CHDFIEAB">Using OCCI to Access Oracle Database Advanced Queuing</a></p>
</li>
<li>
<p><a href="#i1005893">Using Oracle Java Message Service (Oracle JMS) to Access Oracle Database Advanced Queuing</a></p>
</li>
<li>
<p><a href="#i1005954">Using Oracle Database Advanced Queuing XML Servlet to Access Oracle Database Advanced Queuing</a></p>
</li>
<li>
<p><a href="#i1006005">Comparing Oracle Database Advanced Queuing Programmatic Interfaces</a></p>
</li>
</ul>
<a id="i1005592"></a>
<div id="ADQUE2533" class="sect1">
<h2 class="sect1"><a id="sthref316"></a><a id="sthref317"></a>Programmatic Interfaces for Accessing Oracle Database Advanced Queuing</h2>
<p><a href="#CHDBDJDI">Table 3-1</a> lists Oracle Database Advanced Queuing programmatic interfaces, functions supported in each interface, and syntax references.</p>
<div id="ADQUE2534" class="tblformalwide">
<p class="titleintable"><a id="sthref318"></a><a id="CHDBDJDI"></a>Table 3-1 Oracle Database Advanced Queuing Programmatic Interfaces</p>
<table class="cellalignment1000" title="Oracle Database Advanced Queuing Programmatic Interfaces" summary="Rows correspond to languages. For each language, the first column is its name, the second column is the precompiler or interface program used with that language, the third column shows what functions are supported in that language, and the fourth column shows where to find its syntax." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t3">Language</th>
<th class="cellalignment1001" id="r1c2-t3">Precompiler or Interface Program</th>
<th class="cellalignment1001" id="r1c3-t3">Functions Supported</th>
<th class="cellalignment1001" id="r1c4-t3">Syntax References</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t3" headers="r1c1-t3">
<p>PL/SQL</p>
</td>
<td class="cellalignment1002" headers="r2c1-t3 r1c2-t3">
<p><code>DBMS_AQADM</code> and <code>DBMS_AQ</code> Packages</p>
</td>
<td class="cellalignment1002" headers="r2c1-t3 r1c3-t3">
<p>Administrative and operational</p>
</td>
<td class="cellalignment1002" headers="r2c1-t3 r1c4-t3">
<p><a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t3" headers="r1c1-t3">
<p>C</p>
</td>
<td class="cellalignment1002" headers="r3c1-t3 r1c2-t3">
<p><a href="glossary.htm#CBAFBDDI"><span class="xrefglossterm">Oracle Call Interface</span></a> (OCI)</p>
</td>
<td class="cellalignment1002" headers="r3c1-t3 r1c3-t3">
<p>Operational only</p>
</td>
<td class="cellalignment1002" headers="r3c1-t3 r1c4-t3">
<p><a class="olink LNOCI" href="../LNOCI/toc.htm"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t3" headers="r1c1-t3">
<p>Java (JMS)</p>
</td>
<td class="cellalignment1002" headers="r4c1-t3 r1c2-t3">
<p><code>oracle.JMS</code> package using JDBC <a href="glossary.htm#CBAIGGDE"><span class="xrefglossterm">API</span></a></p>
</td>
<td class="cellalignment1002" headers="r4c1-t3 r1c3-t3">
<p>Administrative and operational</p>
</td>
<td class="cellalignment1002" headers="r4c1-t3 r1c4-t3">
<p><a class="olink JAJMS" href="../JAJMS/toc.htm"><span class="italic">Oracle Database Advanced Queuing Java API Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t3" headers="r1c1-t3">
<p>AQ XML <a href="glossary.htm#CBADJIFE"><span class="xrefglossterm">servlet</span></a></p>
</td>
<td class="cellalignment1002" headers="r5c1-t3 r1c2-t3">
<p><a href="glossary.htm#CBADFCDG"><span class="xrefglossterm">Internet Data Access Presentation</span></a> (IDAP)</p>
</td>
<td class="cellalignment1002" headers="r5c1-t3 r1c3-t3">
<p>Operational only</p>
</td>
<td class="cellalignment1002" headers="r5c1-t3 r1c4-t3">
<p><a class="olink ADXDB" href="../ADXDB/toc.htm"><span class="italic">Oracle XML DB Developer&#39;s Guide</span></a></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" --></div>
<!-- class="sect1" -->
<a id="i1005696"></a>
<div id="ADQUE2535" class="sect1">
<h2 class="sect1"><a id="sthref319"></a><a id="sthref320"></a>Using PL/SQL to Access Oracle Database Advanced Queuing</h2>
<p>The PL/SQL packages <code>DBMS_AQADM</code> and <code>DBMS_AQ</code> support access to Oracle Database Advanced Queuing administrative and operational functions using the native Oracle Database Advanced Queuing interface. These functions include:</p>
<ul>
<li>
<p>Create <a href="glossary.htm#CBAHIIAB"><span class="xrefglossterm">queue</span></a>, <a href="glossary.htm#CBAFHDDD"><span class="xrefglossterm">queue table</span></a>, <a href="glossary.htm#CBAFCHBG"><span class="xrefglossterm">nonpersistent</span></a> queue, multiconsumer queue/topic, RAW <a href="glossary.htm#CBACDHGB"><span class="xrefglossterm">message</span></a>, or message with structured data</p>
</li>
<li>
<p>Get queue table, queue, or multiconsumer queue/topic</p>
</li>
<li>
<p>Alter queue table or queue/topic</p>
</li>
<li>
<p>Drop queue/topic</p>
</li>
<li>
<p>Start or stop queue/topic</p>
</li>
<li>
<p>Grant and revoke privileges</p>
</li>
<li>
<p>Add, remove, or alter <a href="glossary.htm#CBADJIIA"><span class="xrefglossterm">subscriber</span></a></p>
</li>
<li>
<p>Add, remove, or alter an Oracle Database Advanced Queuing Internet agent</p>
</li>
<li>
<p>Grant or revoke privileges of database users to Oracle Database Advanced Queuing Internet agents</p>
</li>
<li>
<p>Enable, disable, or alter <a href="glossary.htm#CBADIFJC"><span class="xrefglossterm">propagation</span></a> schedule</p>
</li>
<li>
<p>Enqueue messages to single <a href="glossary.htm#CBAJDFJA"><span class="xrefglossterm">consumer</span></a> queue (point-to-point model)</p>
</li>
<li>
<p>Publish messages to multiconsumer queue/topic (<a href="glossary.htm#CBAIJICJ"><span class="xrefglossterm">publish/subscribe</span></a> model)</p>
</li>
<li>
<p>Subscribe for messages in multiconsumer queue</p>
</li>
<li>
<p>Browse messages in a queue</p>
</li>
<li>
<p>Receive messages from queue/topic</p>
</li>
<li>
<p>Register to receive messages asynchronously</p>
</li>
<li>
<p>Listen for messages on multiple queues/topics</p>
</li>
<li>
<p>Post messages to anonymous subscriptions</p>
</li>
<li>
<p>Bind or unbind agents in a <a href="glossary.htm#CBAIIHDD"><span class="xrefglossterm">Lightweight Directory Access Protocol</span></a> (LDAP) server</p>
</li>
<li>
<p>Add or remove aliases to Oracle Database Advanced Queuing objects in a LDAP server</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed documentation of <code>DBMS_AQADM</code> and <code>DBMS_AQ</code>, including syntax, parameters, parameter types, return values, and examples</div>
</li>
</ul>
<p>Available PL/SQL <code>DBMS_AQADM</code> and <code>DBMS_AQ</code> functions are listed in detail in <a href="#g1011568">Table 3-2</a> through <a href="#g1011864">Table 3-9</a>.</p>
</div>
<!-- class="sect1" -->
<a id="i1005737"></a>
<div id="ADQUE2536" class="sect1">
<h2 class="sect1"><a id="sthref321"></a><a id="sthref322"></a><a id="sthref323"></a>Using OCI to Access Oracle Database Advanced Queuing</h2>
<p>OCI provides an interface to Oracle Database Advanced Queuing functions using the native Oracle Database Advanced Queuing interface.</p>
<p>An OCI client can perform the following actions:</p>
<ul>
<li>
<p>Enqueue messages</p>
</li>
<li>
<p>Dequeue messages</p>
</li>
<li>
<p>Listen for messages on sets of queues</p>
</li>
<li>
<p>Register to receive message notifications</p>
</li>
</ul>
<p>In addition, OCI clients can receive <a href="glossary.htm#CBABHFEE"><span class="xrefglossterm">asynchronous</span></a> notifications for new messages in a queue using <code>OCISubscriptionRegister</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;OCI and Advanced Queuing&#34; and &#34;Publish-Subscribe Notification&#34; in <a class="olink LNOCI" href="../LNOCI/toc.htm"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> for syntax details</div>
<p class="subhead1"><a id="ADQUE2537"></a><a id="sthref324"></a><a id="sthref325"></a><a id="sthref326"></a>Oracle Type Translator</p>
<p>For queues with user-defined payload types, the Oracle type translator must be used to generate the OCI/OCCI mapping for the Oracle type. The OCI client is responsible for freeing the memory of the Oracle Database Advanced Queuing descriptors and the message payload.</p>
</div>
<!-- class="sect1" -->
<a id="CHDFIEAB"></a>
<div id="ADQUE2538" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref327"></a><a id="sthref328"></a><a id="sthref329"></a>Using OCCI to Access Oracle Database Advanced Queuing</h2>
<p>C++ applications can use OCCI, which has a set of Oracle Database Advanced Queuing interfaces that enable messaging clients to access Oracle Database Advanced Queuing. OCCI AQ supports all the operational functions required to send/receive and publish/subscribe messages in a message-enabled database. Synchronous and asynchronous message consumption is available, based on a message selection rule.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
&#34;Oracle Database Advanced Queuing&#34; in <a class="olink LNCPP008" href="../LNCPP/ottutility.htm#LNCPP008"><span class="italic">Oracle C++ Call Interface Programmer&#39;s Guide</span></a></div>
</div>
<!-- class="sect1" -->
<a id="i1005893"></a>
<div id="ADQUE2540" class="sect1">
<h2 class="sect1"><a id="sthref330"></a><a id="sthref331"></a>Using Oracle Java Message Service (Oracle JMS) to Access Oracle Database Advanced Queuing</h2>
<p><a href="glossary.htm#i432286"><span class="xrefglossterm">Java Message Service</span></a> (JMS) is a messaging standard defined by Sun Microsystems, Oracle, IBM, and other vendors. JMS is a set of interfaces and associated semantics that define how a JMS client accesses the facilities of an enterprise messaging product.</p>
<p><a href="glossary.htm#CBAFCEFF"><span class="xrefglossterm">Oracle Java Message Service</span></a> (Oracle JMS) provides a Java API for Oracle Database Advanced Queuing based on the JMS standard. Oracle JMS supports the standard JMS interfaces and has extensions to support administrative operations and other features that are not a part of the standard.</p>
<p>Standard JMS features include:</p>
<ul>
<li>
<p>Point-to-point model of communication using queues</p>
</li>
<li>
<p>Publish/subscribe model of communication using topics</p>
</li>
<li>
<p><code>ObjectMessage</code>, <code>StreamMessage</code>, <code>TextMessage</code>, <code>BytesMessage</code>, and <code>MapMessage</code> message types</p>
</li>
<li>
<p>Asynchronous and <a href="glossary.htm#CBAIEAHI"><span class="xrefglossterm">synchronous</span></a> delivery of messages</p>
</li>
<li>
<p>Message selection based on message header fields or properties</p>
</li>
</ul>
<p>Oracle JMS extensions include:</p>
<ul>
<li>
<p>Administrative API to create queue tables, queues and topics</p>
</li>
<li>
<p>Point-to-multipoint communication using <a href="glossary.htm#CBACHAEI"><span class="xrefglossterm">recipient</span></a> lists for topics</p>
</li>
<li>
<p>Message propagation between destinations, which allows the application to define remote subscribers</p>
</li>
<li>
<p>Support for transactional sessions, enabling JMS and SQL operations in one transaction</p>
</li>
<li>
<p>Message retention after messages have been dequeued</p>
</li>
<li>
<p>Message delay, allowing messages to be made visible after a certain delay</p>
</li>
<li>
<p>Exception handling, allowing messages to be moved to exception queues if they cannot be processed successfully</p>
</li>
<li>
<p>Support for <code>AdtMessage</code></p>
<p>These are stored in the database as Oracle objects, so the payload of the message can be queried after it is enqueued. Subscriptions can be defined on the contents of these messages as opposed to just the message properties.</p>
</li>
<li>
<p>Topic browsing</p>
<p>This allows durable subscribers to browse through the messages in a publish/subscribe (topic) destination. It optionally allows these subscribers to purge the browsed messages, so they are no longer retained by Oracle Database Advanced Queuing for that subscriber.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><span class="italic">Java Message Service Specification</span>, version 1.1, March 18, 2002, Sun Microsystems, Inc.</p>
</li>
<li>
<p><a class="olink JAJMS" href="../JAJMS/toc.htm"><span class="italic">Oracle Database Advanced Queuing Java API Reference</span></a></p>
</li>
</ul>
</div>
</li>
</ul>
<p class="subhead1"><a id="CHDIIIFB"></a><a id="ADQUE3681"></a>Acce<a id="sthref332"></a><a id="sthref333"></a><a id="sthref334"></a><a id="sthref335"></a>ssing Standard and Oracle JMS Applications</p>
<p>Standard JMS interfaces are in the <code>javax.jms</code> package. Oracle JMS interfaces are in the <code>oracle.jms</code> package. You must have <code>EXECUTE</code> privilege on the <code>DBMS_AQIN</code> and <code>DBMS_AQJMS</code> packages to use the Oracle JMS interfaces. You can also acquire these rights through the <code>AQ_USER_ROLE</code> or the <code>AQ_ADMINSTRATOR_ROLE</code>. You also need the appropriate system and queue or topic privileges to <a href="glossary.htm#CBAFGDEC"><span class="xrefglossterm">send</span></a> or receive messages.</p>
<p>Because Oracle JMS uses <a href="glossary.htm#i432283"><span class="xrefglossterm">Java Database Connectivity</span></a> (JDBC) to connect to the database, its applications can run outside the database using the JDBC OCI driver or JDBC thin driver.</p>
<p class="subhead2"><a id="ADQUE2542"></a><a id="sthref336"></a><a id="sthref337"></a><a id="sthref338"></a><a id="sthref339"></a>Using JDBC OCI Driver or JDBC Thin Driver</p>
<p>To use JMS with clients running outside the database, you must include the appropriate <a href="glossary.htm#CBAEHGGF"><span class="xrefglossterm">JDBC driver</span></a>, <a href="glossary.htm#CBAIIJJF"><span class="xrefglossterm">Java Naming and Directory Interface</span></a> (JNDI) jar files, and Oracle Database Advanced Queuing jar files in your CLASSPATH.</p>
<p>Note that the Oracle Database does not support JDK 1.2, JDK 1.3, JDK 1.4, JDK5.n and all classes12*.* files. You need to use the <code>ojdbc6.jar</code> and <code>ojbc7.jar</code> files with JDK 6.n and JDK 7.n, respectively. The following jar and zip files should be in the <code>CLASSPATH</code> based on the release of JDK you are using.</p>
<p>For JDK 1.5.x, the <code>CLASSPATH</code> must contain:</p>
<pre><span class="italic">ORACLE_HOME</span>/jdbc/lib/ojdbc6.jar
</pre>
<p>For JDK 1.6.x, the <code>CLASSPATH</code> must contain:</p>
<pre><span class="italic">ORACLE_HOME</span>/jdbc/lib/ojdbc7.jar 
</pre>
<p>The following files are used for either JDK version:</p>
<pre><span class="italic">ORACLE_HOME</span>/lib/jta.jar
<span class="italic">ORACLE_HOME</span>/xdk/lib/xmlparserv2.jar
<span class="italic">ORACLE_HOME</span>/rdbms/jlib/xdb.jar
<span class="italic">ORACLE_HOME</span>/rdbms/jlib/aqapi.jar 
<span class="italic">ORACLE_HOME</span>/rdbms/jlib/jmscommon.jar
</pre>
<p class="subhead2"><a id="ADQUE2543"></a>Using Oracle Server Driver in JServer</p>
<p>If your application is running inside the <a href="glossary.htm#CBADFBEE"><span class="xrefglossterm">JServer</span></a>, then you should be able to access the Oracle JMS classes that have been automatically loaded when the JServer was installed. If these classes are not available, then you must load <code>jmscommon.jar</code> followed by <code>aqapi.jar</code> using the <code>$ORACLE_HOME/rdbms/admin/initjms</code> SQL script.</p>
</div>
<!-- class="sect1" -->
<a id="i1005954"></a>
<div id="ADQUE2544" class="sect1">
<h2 class="sect1"><a id="sthref340"></a><a id="sthref341"></a>Using Oracle Database Advanced Queuing XML Servlet to Access Oracle Database Advanced Queuing</h2>
<p>You can use Oracle Database Advanced Queuing XML servlet to access Oracle Database Advanced Queuing over HTTP using <a href="glossary.htm#CBABEDEC"><span class="xrefglossterm">Simple Object Access Protocol</span></a> (SOAP) and an Oracle Database Advanced Queuing XML message format called <a href="glossary.htm#CBADFCDG"><span class="xrefglossterm">Internet Data Access Presentation</span></a> (IDAP).</p>
<p>Using the Oracle Database Advanced Queuing servlet, a client can perform the following actions:</p>
<ul>
<li>
<p>Send messages to single-consumer queues</p>
</li>
<li>
<p>Publish messages to multiconsumer queues/topics</p>
</li>
<li>
<p>Receive messages from queues</p>
</li>
<li>
<p>Register to receive message notifications</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="internet.htm#i1007369">&#34;Deploying the Oracle Database Advanced Queuing XML Servlet&#34;</a> for more information on the Oracle Database Advanced Queuing XML servlet</div>
</div>
<!-- class="sect1" -->
<a id="i1006005"></a>
<div id="ADQUE2545" class="sect1">
<h2 class="sect1"><a id="sthref342"></a><a id="sthref343"></a>Comparing Oracle Database Advanced Queuing Programmatic Interfaces</h2>
<p>Available functions for the Oracle Database Advanced Queuing programmatic interfaces are listed by use case in <a href="#g1011568">Table 3-2</a> through <a href="#g1011864">Table 3-9</a>. Use cases are described in <a href="aq_admin.htm#g1020486">Chapter 8</a> through <a href="aq_opers.htm#g1025822">Chapter 10</a> and <a href="jm_opers.htm#i1014160">Chapter 12</a> through <a href="jm_share.htm#g1011754">Chapter 15</a>.</p>
<div id="ADQUE2546" class="sect2"><a id="sthref344"></a>
<h3 class="sect2"><a id="sthref345"></a><a id="sthref346"></a>Oracle Database Advanced Queuing Administrative Interfaces</h3>
<p><a href="#g1011568">Table 3-2</a> lists the equivalent Oracle Database Advanced Queuing administrative functions for the PL/SQL and Java (JMS) programmatic interfaces.</p>
<div id="ADQUE2547" class="tblformalwide">
<p class="titleintable"><a id="sthref347"></a><a id="g1011568"></a>Table 3-2 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Administrative Interface</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Administrative Interface" summary="Rows are use cases. The first column describes the use case, the second column shows the relevant PL/SQL interfaces, and the third column shows the relevant Java (JMS) interfaces." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t9">Use Case</th>
<th class="cellalignment1001" id="r1c2-t9">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t9">Java (JMS)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t9" headers="r1c1-t9">
<p>Create a connection factory</p>
</td>
<td class="cellalignment1002" headers="r2c1-t9 r1c2-t9">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r2c1-t9 r1c3-t9">
<pre>AQjmsFactory.getQueue
ConnectionFactory
</pre>
<pre>AQjmsFactory.getTopic
ConnectionFactory
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t9" headers="r1c1-t9">
<p>Register a <a href="glossary.htm#CBAHHBDH"><span class="xrefglossterm">ConnectionFactory</span></a> in an LDAP server</p>
</td>
<td class="cellalignment1002" headers="r3c1-t9 r1c2-t9">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r3c1-t9 r1c3-t9">
<pre>AQjmsFactory.register
ConnectionFactory
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t9" headers="r1c1-t9">
<p>Create a queue table</p>
</td>
<td class="cellalignment1002" headers="r4c1-t9 r1c2-t9">
<pre>DBMS_AQADM.CREATE_QUEUE_TABLE
</pre></td>
<td class="cellalignment1002" headers="r4c1-t9 r1c3-t9">
<pre>AQjmsSession.createQueueTable
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t9" headers="r1c1-t9">
<p>Get a queue table</p>
</td>
<td class="cellalignment1002" headers="r5c1-t9 r1c2-t9">
<p>Use <code><span class="codeinlineitalic">schema</span></code>.<code><span class="codeinlineitalic">queue_table_name</span></code></p>
</td>
<td class="cellalignment1002" headers="r5c1-t9 r1c3-t9">
<pre>AQjmsSession.getQueueTable
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r6c1-t9" headers="r1c1-t9">
<p>Alter a queue table</p>
</td>
<td class="cellalignment1002" headers="r6c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ALTER_QUEUE_TABLE
</pre></td>
<td class="cellalignment1002" headers="r6c1-t9 r1c3-t9">
<pre>AQQueueTable.alter
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r7c1-t9" headers="r1c1-t9">
<p>Drop a queue table</p>
</td>
<td class="cellalignment1002" headers="r7c1-t9 r1c2-t9">
<pre>DBMS_AQADM.DROP_QUEUE_TABLE
</pre></td>
<td class="cellalignment1002" headers="r7c1-t9 r1c3-t9">
<pre>AQQueueTable.drop
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r8c1-t9" headers="r1c1-t9">
<p>Create a queue</p>
</td>
<td class="cellalignment1002" headers="r8c1-t9 r1c2-t9">
<pre>DBMS_AQADM.CREATE_QUEUE
</pre></td>
<td class="cellalignment1002" headers="r8c1-t9 r1c3-t9">
<pre>AQjmsSession.createQueue
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r9c1-t9" headers="r1c1-t9">
<p>Get a queue</p>
</td>
<td class="cellalignment1002" headers="r9c1-t9 r1c2-t9">
<p>Use <code><span class="codeinlineitalic">schema.queue_name</span></code></p>
</td>
<td class="cellalignment1002" headers="r9c1-t9 r1c3-t9">
<pre>AQjmsSession.getQueue
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r10c1-t9" headers="r1c1-t9">
<p>Create a multiconsumer queue/topic in a queue table with multiple consumers enabled</p>
</td>
<td class="cellalignment1002" headers="r10c1-t9 r1c2-t9">
<pre>DBMS_AQADM.CREATE_QUEUE
</pre></td>
<td class="cellalignment1002" headers="r10c1-t9 r1c3-t9">
<pre>AQjmsSession.createTopic
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r11c1-t9" headers="r1c1-t9">
<p>Get a multiconsumer queue/topic</p>
</td>
<td class="cellalignment1002" headers="r11c1-t9 r1c2-t9">
<p>Use <code><span class="codeinlineitalic">schema.queue_name</span></code></p>
</td>
<td class="cellalignment1002" headers="r11c1-t9 r1c3-t9">
<pre>AQjmsSession.getTopic
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r12c1-t9" headers="r1c1-t9">
<p>Alter a queue/topic</p>
</td>
<td class="cellalignment1002" headers="r12c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ALTER_QUEUE
</pre></td>
<td class="cellalignment1002" headers="r12c1-t9 r1c3-t9">
<pre>AQjmsDestination.alter
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r13c1-t9" headers="r1c1-t9">
<p>Start a queue/topic</p>
</td>
<td class="cellalignment1002" headers="r13c1-t9 r1c2-t9">
<pre>DBMS_AQADM.START_QUEUE
</pre></td>
<td class="cellalignment1002" headers="r13c1-t9 r1c3-t9">
<pre>AQjmsDestination.start
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r14c1-t9" headers="r1c1-t9">
<p>Stop a queue/topic</p>
</td>
<td class="cellalignment1002" headers="r14c1-t9 r1c2-t9">
<pre>DBMS_AQADM.STOP_QUEUE
</pre></td>
<td class="cellalignment1002" headers="r14c1-t9 r1c3-t9">
<pre>AQjmsDestination.stop
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r15c1-t9" headers="r1c1-t9">
<p>Drop a queue/topic</p>
</td>
<td class="cellalignment1002" headers="r15c1-t9 r1c2-t9">
<pre>DBMS_AQADM.DROP_QUEUE
</pre></td>
<td class="cellalignment1002" headers="r15c1-t9 r1c3-t9">
<pre>AQjmsDestination.drop
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r16c1-t9" headers="r1c1-t9">
<p>Grant system privileges</p>
</td>
<td class="cellalignment1002" headers="r16c1-t9 r1c2-t9">
<pre>DBMS_AQADM.GRANT_SYSTEM_
PRIVILEGE
</pre></td>
<td class="cellalignment1002" headers="r16c1-t9 r1c3-t9">
<pre>AQjmsSession.grantSystem
Privilege
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r17c1-t9" headers="r1c1-t9">
<p>Revoke system privileges</p>
</td>
<td class="cellalignment1002" headers="r17c1-t9 r1c2-t9">
<pre>DBMS_AQADM.REVOKE_SYSTEM_
PRIVILEGE
</pre></td>
<td class="cellalignment1002" headers="r17c1-t9 r1c3-t9">
<pre>AQjmsSession.revokeSystem
Privilege
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r18c1-t9" headers="r1c1-t9">
<p>Grant a queue/topic privilege</p>
</td>
<td class="cellalignment1002" headers="r18c1-t9 r1c2-t9">
<pre>DBMS_AQADM.GRANT_QUEUE_
PRIVILEGE
</pre></td>
<td class="cellalignment1002" headers="r18c1-t9 r1c3-t9">
<pre>AQjmsDestination.grantQueue
Privilege
</pre>
<pre>AQjmsDestination.grantTopic
Privilege
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r19c1-t9" headers="r1c1-t9">
<p>Revoke a queue/topic privilege</p>
</td>
<td class="cellalignment1002" headers="r19c1-t9 r1c2-t9">
<pre>DBMS_AQADM.REVOKE_QUEUE_
PRIVILEGE
</pre></td>
<td class="cellalignment1002" headers="r19c1-t9 r1c3-t9">
<pre>AQjmsDestination.revokeQueue
Privilege
</pre>
<pre>AQjmsDestination.revokeTopic
Privilege
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r20c1-t9" headers="r1c1-t9">
<p>Verify a queue type</p>
</td>
<td class="cellalignment1002" headers="r20c1-t9 r1c2-t9">
<pre>DBMS_AQADM.VERIFY_QUEUE_TYPES
</pre></td>
<td class="cellalignment1002" headers="r20c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r21c1-t9" headers="r1c1-t9">
<p>Add a subscriber</p>
</td>
<td class="cellalignment1002" headers="r21c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ADD_SUBSCRIBER
</pre></td>
<td class="cellalignment1002" headers="r21c1-t9 r1c3-t9">
<p>See <a href="#g1011756">Table 3-6</a></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r22c1-t9" headers="r1c1-t9">
<p>Alter a subscriber</p>
</td>
<td class="cellalignment1002" headers="r22c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ALTER_SUBSCRIBER
</pre></td>
<td class="cellalignment1002" headers="r22c1-t9 r1c3-t9">
<p>See <a href="#g1011756">Table 3-6</a></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r23c1-t9" headers="r1c1-t9">
<p>Remove a subscriber</p>
</td>
<td class="cellalignment1002" headers="r23c1-t9 r1c2-t9">
<pre>DBMS_AQADM.REMOVE_SUBSCRIBER
</pre></td>
<td class="cellalignment1002" headers="r23c1-t9 r1c3-t9">
<p>See <a href="#g1011756">Table 3-6</a></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r24c1-t9" headers="r1c1-t9">
<p>Schedule propagation</p>
</td>
<td class="cellalignment1002" headers="r24c1-t9 r1c2-t9">
<pre>DBMS_AQADM.SCHEDULE_PROPAGATION
</pre></td>
<td class="cellalignment1002" headers="r24c1-t9 r1c3-t9">
<pre>AQjmsDestination.schedule
Propagation
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r25c1-t9" headers="r1c1-t9">
<p>Enable a propagation schedule</p>
</td>
<td class="cellalignment1002" headers="r25c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ENABLE_PROPAGATION_
SCHEDULE
</pre></td>
<td class="cellalignment1002" headers="r25c1-t9 r1c3-t9">
<pre>AQjmsDestination.enable
PropagationSchedule
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r26c1-t9" headers="r1c1-t9">
<p>Alter a propagation schedule</p>
</td>
<td class="cellalignment1002" headers="r26c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ALTER_PROPAGATION_
SCHEDULE
</pre></td>
<td class="cellalignment1002" headers="r26c1-t9 r1c3-t9">
<pre>AQjmsDestination.alter
PropagationSchedule
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r27c1-t9" headers="r1c1-t9">
<p>Disable a propagation schedule</p>
</td>
<td class="cellalignment1002" headers="r27c1-t9 r1c2-t9">
<pre>DBMS_AQADM.DISABLE_PROPAGATION_
SCHEDULE
</pre></td>
<td class="cellalignment1002" headers="r27c1-t9 r1c3-t9">
<pre>AQjmsDestination.disable
PropagationSchedule
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r28c1-t9" headers="r1c1-t9">
<p>Unschedule a propagation</p>
</td>
<td class="cellalignment1002" headers="r28c1-t9 r1c2-t9">
<pre>DBMS_AQADM.UNSCHEDULE_
PROPAGATION
</pre></td>
<td class="cellalignment1002" headers="r28c1-t9 r1c3-t9">
<pre>AQjmsDestination.unschedule
Propagation
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r29c1-t9" headers="r1c1-t9">
<p>Create an Oracle Database Advanced Queuing Internet Agent</p>
</td>
<td class="cellalignment1002" headers="r29c1-t9 r1c2-t9">
<pre>DBMS_AQADM.CREATE_AQ_AGENT
</pre></td>
<td class="cellalignment1002" headers="r29c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r30c1-t9" headers="r1c1-t9">
<p>Alter an Oracle Database Advanced Queuing Internet Agent</p>
</td>
<td class="cellalignment1002" headers="r30c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ALTER_AQ_AGENT
</pre></td>
<td class="cellalignment1002" headers="r30c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r31c1-t9" headers="r1c1-t9">
<p>Drop an Oracle Database Advanced Queuing Internet Agent</p>
</td>
<td class="cellalignment1002" headers="r31c1-t9 r1c2-t9">
<pre>DBMS_AQADM.DROP_AQ_AGENT
</pre></td>
<td class="cellalignment1002" headers="r31c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r32c1-t9" headers="r1c1-t9">
<p>Grant database user privileges to an Oracle Database Advanced Queuing Internet Agent</p>
</td>
<td class="cellalignment1002" headers="r32c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ENABLE_AQ_AGENT
</pre></td>
<td class="cellalignment1002" headers="r32c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r33c1-t9" headers="r1c1-t9">
<p>Revoke database user privileges from an Oracle Database Advanced Queuing Internet Agent</p>
</td>
<td class="cellalignment1002" headers="r33c1-t9 r1c2-t9">
<pre>DBMS_AQADM.DISABLE_AQ_AGENT
</pre></td>
<td class="cellalignment1002" headers="r33c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r34c1-t9" headers="r1c1-t9">
<p>Add alias for queue, agent, ConnectionFactory in a LDAP server</p>
</td>
<td class="cellalignment1002" headers="r34c1-t9 r1c2-t9">
<pre>DBMS_AQADM.ADD_ALIAS_TO_LDAP
</pre></td>
<td class="cellalignment1002" headers="r34c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r35c1-t9" headers="r1c1-t9">
<p>Delete alias for queue, agent, ConnectionFactory in a LDAP server</p>
</td>
<td class="cellalignment1002" headers="r35c1-t9 r1c2-t9">
<pre>DBMS_AQADM.DEL_ALIAS_FROM_LDAP
</pre></td>
<td class="cellalignment1002" headers="r35c1-t9 r1c3-t9">
<p>Not supported</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" --></div>
<!-- class="sect2" -->
<div id="ADQUE2548" class="sect2"><a id="sthref348"></a>
<h3 class="sect2"><a id="sthref349"></a><a id="sthref350"></a>Oracle Database Advanced Queuing Operational Interfaces</h3>
<p><a href="#g1011716">Table 3-3</a> through <a href="#g1011864">Table 3-9</a> list equivalent Oracle Database Advanced Queuing operational functions for the programmatic interfaces PL/SQL, OCI, Oracle Database Advanced Queuing XML Servlet, and JMS, for various use cases.</p>
<div id="ADQUE2549" class="tblformalwide">
<p class="titleintable"><a id="sthref351"></a><a id="g1011716"></a>Table 3-3 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Create Connection, Session, Message Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Create Connection, Session, Message Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t10">Use Case</th>
<th class="cellalignment1001" id="r1c2-t10">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t10">OCI</th>
<th class="cellalignment1001" id="r1c4-t10">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t10">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t10" headers="r1c1-t10">
<p>Create a connection</p>
</td>
<td class="cellalignment1002" headers="r2c1-t10 r1c2-t10">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r2c1-t10 r1c3-t10">
<pre>OCIServer
Attach
</pre></td>
<td class="cellalignment1002" headers="r2c1-t10 r1c4-t10">
<p>Open an HTTP connection after authenticating with the Web server</p>
</td>
<td class="cellalignment1002" headers="r2c1-t10 r1c5-t10">
<pre>AQjmsQueueConnectionFactory
.createQueueConnection
</pre>
<pre>AQjmsTopicConnectionFactory
.createTopicConnection
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t10" headers="r1c1-t10">
<p>Create a session</p>
</td>
<td class="cellalignment1002" headers="r3c1-t10 r1c2-t10">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r3c1-t10 r1c3-t10">
<pre>OCISession
Begin
</pre></td>
<td class="cellalignment1002" headers="r3c1-t10 r1c4-t10">
<p>An HTTP servlet session is automatically started with the first SOAP request</p>
</td>
<td class="cellalignment1002" headers="r3c1-t10 r1c5-t10">
<pre>QueueConnection.createQueue
Session
</pre>
<pre>TopicConnection.createTopic
Session
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t10" headers="r1c1-t10">
<p>Create a RAW message</p>
</td>
<td class="cellalignment1002" headers="r4c1-t10 r1c2-t10">
<p>Use SQL RAW type for message</p>
</td>
<td class="cellalignment1002" headers="r4c1-t10 r1c3-t10">
<p>Use OCIRaw for Message</p>
</td>
<td class="cellalignment1002" headers="r4c1-t10 r1c4-t10">
<p>Supply the hex representation of the message payload in the XML message. For example, <code>&lt;raw&gt;023f4523&lt;/raw&gt;</code></p>
</td>
<td class="cellalignment1002" headers="r4c1-t10 r1c5-t10">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t10" headers="r1c1-t10">
<p>Create a message with structured data</p>
</td>
<td class="cellalignment1002" headers="r5c1-t10 r1c2-t10">
<p>Use SQL Oracle <a href="glossary.htm#CBAGCEHG"><span class="xrefglossterm">object type</span></a> for message</p>
</td>
<td class="cellalignment1002" headers="r5c1-t10 r1c3-t10">
<p>Use SQL Oracle object type for message</p>
</td>
<td class="cellalignment1002" headers="r5c1-t10 r1c4-t10">
<p>For Oracle object type queues that are not JMS queues (that is, they are not type <code>AQ$_JMS_*</code>), the XML specified in <code>&lt;message payload&gt;</code> must map to the SQL type of the payload for the queue table.</p>
<p>For JMS queues, the XML specified in the <code>&lt;message_payload&gt;</code> must be one of the following: <code>&lt;jms_text_message&gt;</code>, <code>&lt;jms_map_message&gt;</code>, <code>&lt;jms_bytes_message&gt;</code>, <code>&lt;jms_object_message&gt;</code></p>
</td>
<td class="cellalignment1002" headers="r5c1-t10 r1c5-t10">
<pre>Session.createTextMessage
Session.createObjectMessage
Session.createMapMessage
Session.createBytesMessage
Session.createStreamMessage
AQjmsSession.createAdtMessage
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r6c1-t10" headers="r1c1-t10">
<p>Create a message <a href="glossary.htm#CBAJDCHC"><span class="xrefglossterm">producer</span></a></p>
</td>
<td class="cellalignment1002" headers="r6c1-t10 r1c2-t10">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r6c1-t10 r1c3-t10">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r6c1-t10 r1c4-t10">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r6c1-t10 r1c5-t10">
<pre>QueueSession.createSender
TopicSession.createPublisher
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<div id="ADQUE2550" class="tblformalwide">
<p class="titleintable"><a id="sthref352"></a><a id="sthref353"></a>Table 3-4 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Enqueue Messages to a Single-Consumer Queue, Point-to-Point Model Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Enqueue Messages to a Single-Consumer Queue, Point-to-Point Model Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t11">Use Case</th>
<th class="cellalignment1001" id="r1c2-t11">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t11">OCI</th>
<th class="cellalignment1001" id="r1c4-t11">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t11">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t11" headers="r1c1-t11">
<p>Enqueue a message to a single-consumer queue</p>
</td>
<td class="cellalignment1002" headers="r2c1-t11 r1c2-t11">
<pre>DBMS_AQ.enqueue
</pre></td>
<td class="cellalignment1002" headers="r2c1-t11 r1c3-t11">
<pre>OCIAQEnq
</pre></td>
<td class="cellalignment1002" headers="r2c1-t11 r1c4-t11">
<pre>&lt;AQXmlSend&gt;
</pre></td>
<td class="cellalignment1002" headers="r2c1-t11 r1c5-t11">
<pre>QueueSender.send
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t11" headers="r1c1-t11">
<p>Enqueue a message to a queue and specify visibility options</p>
</td>
<td class="cellalignment1002" headers="r3c1-t11 r1c2-t11">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify visibility in</p>
<pre>ENQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r3c1-t11 r1c3-t11">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_VISIBILITY</code> in <code>OCIAQEnqOptions</code></p>
<pre>OCIAQEnqOptions
</pre></td>
<td class="cellalignment1002" headers="r3c1-t11 r1c4-t11">
<pre>&lt;AQXmlSend&gt;
</pre>
<p>Specify <code>&lt;visibility&gt;</code> in</p>
<pre>&lt;producer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r3c1-t11 r1c5-t11">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t11" headers="r1c1-t11">
<p>Enqueue a message to a single-consumer queue and specify message properties priority and expiration</p>
</td>
<td class="cellalignment1002" headers="r4c1-t11 r1c2-t11">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify priority, expiration in</p>
<pre>MESSAGE_PROPERTIES
</pre></td>
<td class="cellalignment1002" headers="r4c1-t11 r1c3-t11">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_PRIORITY</code>, <code>OCI_ATTR_EXPIRATION</code> in</p>
<pre>OCIAQMsgProperties
</pre></td>
<td class="cellalignment1002" headers="r4c1-t11 r1c4-t11">
<pre>&lt;AQXmlSend&gt;
</pre>
<p>Specify <code>&lt;priority&gt;</code>, <code>&lt;expiration&gt;</code> in</p>
<pre>&lt;message_header&gt;
</pre></td>
<td class="cellalignment1002" headers="r4c1-t11 r1c5-t11">
<p>Specify <code>priority</code> and <code>TimeToLive</code> during</p>
<pre>QueueSender.send
</pre>
<p>or</p>
<pre>.setTimeToLive
</pre>
<p>and</p>
<pre>MessageProducer.
setPriority
</pre>
<p>followed by</p>
<pre>QueueSender.send
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t11" headers="r1c1-t11">
<p>Enqueue a message to a single-consumer queue and specify message properties correlationID, delay, and <a href="glossary.htm#CBAHHGJI"><span class="xrefglossterm">exception queue</span></a></p>
</td>
<td class="cellalignment1002" headers="r5c1-t11 r1c2-t11">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify correlation, delay, exception_queue in</p>
<pre>MESSAGE_PROPERTIES
</pre></td>
<td class="cellalignment1002" headers="r5c1-t11 r1c3-t11">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_CORRELATION</code>, <code>OCI_ATTR_DELAY</code>, <code>OCI_ATTR_EXCEPTION_QUEUE</code> in</p>
<pre>OCIAQMsgProperties
</pre></td>
<td class="cellalignment1002" headers="r5c1-t11 r1c4-t11">
<pre>&lt;AQXmlSend&gt;
</pre>
<p>Specify <code>&lt;correlation_id&gt;</code>, <code>&lt;delay&gt;</code>, <code>&lt;exception_queue&gt;</code> in</p>
<pre>&lt;message_header&gt;
</pre></td>
<td class="cellalignment1002" headers="r5c1-t11 r1c5-t11">
<pre>Message.setJMS
CorrelationI
</pre>
<p>Delay and exception queue specified as provider specific message properties</p>
<pre>JMS_OracleDelay
JMS_OracleExcpQ
</pre>
<p>followed by</p>
<pre>QueueSender.send
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r6c1-t11" headers="r1c1-t11">
<p>Enqueue a message to a single-consumer queue and specify user-defined message properties</p>
</td>
<td class="cellalignment1002" headers="r6c1-t11 r1c2-t11">
<p>Not supported</p>
<p>Properties should be part of payload</p>
</td>
<td class="cellalignment1002" headers="r6c1-t11 r1c3-t11">
<p>Not supported</p>
<p>Properties should be part of payload</p>
</td>
<td class="cellalignment1002" headers="r6c1-t11 r1c4-t11">
<pre>&lt;AQXmlSend&gt;
</pre>
<p>Specify <code>&lt;name&gt;</code> and <code>&lt;int_value&gt;</code>, <code>&lt;string_value&gt;</code>, <code>&lt;long_value&gt;,</code> and so on in</p>
<pre>&lt;user_properties&gt;
</pre></td>
<td class="cellalignment1002" headers="r6c1-t11 r1c5-t11">
<pre>Message.setInt
Property
</pre>
<pre>Message.setString
Property
</pre>
<pre>Message.setBoolean
Property
</pre>
<p>and so forth, followed by</p>
<pre>QueueSender.send
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r7c1-t11" headers="r1c1-t11">
<p>Enqueue a message to a single-consumer queue and specify message <a href="glossary.htm#CBACGHDB"><span class="xrefglossterm">transformation</span></a></p>
</td>
<td class="cellalignment1002" headers="r7c1-t11 r1c2-t11">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify transformation in</p>
<pre>ENQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r7c1-t11 r1c3-t11">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_TRANSFORMATION</code> in</p>
<pre>OCIAQEnqOptions
</pre></td>
<td class="cellalignment1002" headers="r7c1-t11 r1c4-t11">
<pre>&lt;AQXmlSend&gt;
</pre>
<p>Specify <code>&lt;transformation&gt;</code> in</p>
<pre>&lt;producer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r7c1-t11 r1c5-t11">
<pre>AQjmsQueueSender.
setTransformation
</pre>
<p>followed by</p>
<pre>QueueSender.send
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<div id="ADQUE2551" class="tblformalwide">
<p class="titleintable"><a id="sthref354"></a><a id="sthref355"></a>Table 3-5 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Publish Messages to a Multiconsumer Queue/Topic, Publish/Subscribe Model Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Publish Messages to a Multiconsumer Queue/Topic, Publish/Subscribe Model Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t12">Use Case</th>
<th class="cellalignment1001" id="r1c2-t12">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t12">OCI</th>
<th class="cellalignment1001" id="r1c4-t12">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t12">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t12" headers="r1c1-t12">
<p>Publish a message to a multiconsumer queue/topic using default subscription list</p>
</td>
<td class="cellalignment1002" headers="r2c1-t12 r1c2-t12">
<pre>DBMS_AQ.enqueue
</pre>
<p>Set <code>recipient_list</code> to <code>NULL</code> in</p>
<pre>MESSAGE_PROPERTIES
</pre></td>
<td class="cellalignment1002" headers="r2c1-t12 r1c3-t12">
<pre>OCIAQEnq
</pre>
<p>Set <code>OCI_ATTR_RECIPIENT_LIST</code> to <code>NULL</code> in</p>
<pre>OCIAQMsgProperties
</pre></td>
<td class="cellalignment1002" headers="r2c1-t12 r1c4-t12">
<pre>&lt;AQXmlPublish&gt;
</pre></td>
<td class="cellalignment1002" headers="r2c1-t12 r1c5-t12">
<pre>TopicPublisher.
publish
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t12" headers="r1c1-t12">
<p>Publish a message to a multiconsumer queue/topic using specific recipient list</p>
<p>See footnote-1</p>
</td>
<td class="cellalignment1002" headers="r3c1-t12 r1c2-t12">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify recipient list in</p>
<pre>MESSAGE_PROPERTIES
</pre></td>
<td class="cellalignment1002" headers="r3c1-t12 r1c3-t12">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_RECIPIENT_LIST</code> in</p>
<pre>OCIAQMsgProperties
</pre></td>
<td class="cellalignment1002" headers="r3c1-t12 r1c4-t12">
<pre>&lt;AQXmlPublish&gt;
</pre>
<p>Specify <code>&lt;recipient_list&gt;</code> in</p>
<pre>&lt;message_header&gt;
</pre></td>
<td class="cellalignment1002" headers="r3c1-t12 r1c5-t12">
<pre>AQjmsTopic
Publisher.publish
</pre>
<p>Specify recipients as an array of <code>AQjmsAgent</code></p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t12" headers="r1c1-t12">
<p>Publish a message to a multiconsumer queue/topic and specify message properties priority and expiration</p>
</td>
<td class="cellalignment1002" headers="r4c1-t12 r1c2-t12">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify priority, expiration in</p>
<pre>MESSAGE_PROPERTIES
</pre></td>
<td class="cellalignment1002" headers="r4c1-t12 r1c3-t12">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_PRIORITY</code>, <code>OCI_ATTR_EXPIRATION</code> in</p>
<pre>OCIAQMsgProperties
</pre></td>
<td class="cellalignment1002" headers="r4c1-t12 r1c4-t12">
<pre>&lt;AQXmlPublish&gt;
</pre>
<p>Specify <code>&lt;priority&gt;</code>, <code>&lt;expiration&gt;</code> in</p>
<pre>&lt;message_header&gt;
</pre></td>
<td class="cellalignment1002" headers="r4c1-t12 r1c5-t12">
<p>Specify <code>priority</code> and <code>TimeToLive</code> during</p>
<pre>TopicPublisher.
publish
</pre>
<p>or</p>
<pre>MessageProducer.
setTimeToLive
</pre>
<p>and</p>
<pre>MessageProducer.
setPriority
</pre>
<p>followed by</p>
<pre>TopicPublisher.
publish
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t12" headers="r1c1-t12">
<p>Publish a message to a multiconsumer queue/topic and specify send options correlationID, delay, and exception queue</p>
</td>
<td class="cellalignment1002" headers="r5c1-t12 r1c2-t12">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify correlation, delay, <code>exception_queue</code> in</p>
<pre>MESSAGE_PROPERTIES
</pre></td>
<td class="cellalignment1002" headers="r5c1-t12 r1c3-t12">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_CORRELATION</code>, <code>OCI_ATTR_DELAY</code>, <code>OCI_ATTR_EXCEPTION_QUEUE</code> in</p>
<pre>OCIAQMsgProperties
</pre></td>
<td class="cellalignment1002" headers="r5c1-t12 r1c4-t12">
<pre>&lt;AQXmlPublish&gt;
</pre>
<p>Specify <code>&lt;correlation_id&gt;</code>, <code>&lt;delay&gt;</code>, <code>&lt;exception_queue&gt;</code> in</p>
<pre>&lt;message_header&gt;
</pre></td>
<td class="cellalignment1002" headers="r5c1-t12 r1c5-t12">
<pre>Message.setJMS
CorrelationID
</pre>
<p>Delay and exception queue specified as provider-specific message properties</p>
<pre>JMS_OracleDelay
JMS_OracleExcpQ
</pre>
<p>followed by</p>
<pre>TopicPublisher.
publish
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r6c1-t12" headers="r1c1-t12">
<p>Publish a message to a topic and specify user-defined message properties</p>
</td>
<td class="cellalignment1002" headers="r6c1-t12 r1c2-t12">
<p>Not supported</p>
<p>Properties should be part of payload</p>
</td>
<td class="cellalignment1002" headers="r6c1-t12 r1c3-t12">
<p>Not supported</p>
<p>Properties should be part of payload</p>
</td>
<td class="cellalignment1002" headers="r6c1-t12 r1c4-t12">
<pre>&lt;AQXmlPublish&gt;
</pre>
<p>Specify <code>&lt;name&gt;</code> and <code>&lt;int_value&gt;</code>, <code>&lt;string_value&gt;</code>, <code>&lt;long_value&gt;,</code> and so on in</p>
<pre>&lt;user_properties&gt;
</pre></td>
<td class="cellalignment1002" headers="r6c1-t12 r1c5-t12">
<pre>Message.setInt
Property
</pre>
<pre>Message.setString
Property
</pre>
<pre>Message.setBoolean
Property
</pre>
<p>and so forth, followed by</p>
<pre>TopicPublisher.
publish
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r7c1-t12" headers="r1c1-t12">
<p>Publish a message to a topic and specify message transformation</p>
</td>
<td class="cellalignment1002" headers="r7c1-t12 r1c2-t12">
<pre>DBMS_AQ.enqueue
</pre>
<p>Specify transformation in</p>
<pre>ENQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r7c1-t12 r1c3-t12">
<pre>OCIAQEnq
</pre>
<p>Specify <code>OCI_ATTR_TRANSFORMATION</code> in</p>
<pre>OCIAQEnqOptions
</pre></td>
<td class="cellalignment1002" headers="r7c1-t12 r1c4-t12">
<pre>&lt;AQXmlPublish&gt;
</pre>
<p>Specify <code>&lt;transformation&gt;</code> in</p>
<pre>&lt;producer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r7c1-t12 r1c5-t12">
<pre>AQjmsTopic
Publisher.set
Transformation
</pre>
<p>followed by</p>
<pre>TopicPublisher.
publish
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<div id="ADQUE2552" class="tblformalwide">
<p class="titleintable"><a id="sthref356"></a><a id="g1011756"></a>Table 3-6 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Subscribing for Messages in a Multiconsumer Queue/Topic, Publish/Subscribe Model Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Subscribing for Messages in a Multiconsumer Queue/Topic, Publish/Subscribe Model Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t13">Use Case</th>
<th class="cellalignment1001" id="r1c2-t13">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t13">OCI</th>
<th class="cellalignment1001" id="r1c4-t13">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t13">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t13" headers="r1c1-t13">
<p>Add a subscriber</p>
</td>
<td class="cellalignment1002" headers="r2c1-t13 r1c2-t13">
<p>See administrative interfaces</p>
</td>
<td class="cellalignment1002" headers="r2c1-t13 r1c3-t13">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r2c1-t13 r1c4-t13">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r2c1-t13 r1c5-t13">
<pre>TopicSession.
createDurable
Subscriber
</pre>
<pre>AQjmsSession.
createDurable
Subscriber
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t13" headers="r1c1-t13">
<p>Alter a subscriber</p>
</td>
<td class="cellalignment1002" headers="r3c1-t13 r1c2-t13">
<p>See administrative interfaces</p>
</td>
<td class="cellalignment1002" headers="r3c1-t13 r1c3-t13">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r3c1-t13 r1c4-t13">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r3c1-t13 r1c5-t13">
<pre>TopicSession.
createDurable
Subscriber
</pre>
<pre>AQjmsSession.
createDurable
Subscriber
</pre>
<p>using the new selector</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t13" headers="r1c1-t13">
<p>Remove a subscriber</p>
</td>
<td class="cellalignment1002" headers="r4c1-t13 r1c2-t13">
<p>See administrative interfaces</p>
</td>
<td class="cellalignment1002" headers="r4c1-t13 r1c3-t13">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r4c1-t13 r1c4-t13">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r4c1-t13 r1c5-t13">
<pre>AQjmsSession.
unsubscribe
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<div id="ADQUE2553" class="tblformalwide">
<p class="titleintable"><a id="sthref357"></a><a id="sthref358"></a>Table 3-7 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Browse Messages in a Queue Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Browse Messages in a Queue Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t14">Use Case</th>
<th class="cellalignment1001" id="r1c2-t14">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t14">OCI</th>
<th class="cellalignment1001" id="r1c4-t14">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t14">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t14" headers="r1c1-t14">
<p>Browse messages in a queue/topic</p>
</td>
<td class="cellalignment1002" headers="r2c1-t14 r1c2-t14">
<pre>DBMS_AQ.
dequeue
</pre>
<p>Set <code>dequeue_mode</code> to <code>BROWSE</code> in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r2c1-t14 r1c3-t14">
<pre>OCIAQDeq
</pre>
<p>Set <code>OCI_ATTR_DEQ_MODE</code> to <code>BROWSE</code> in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r2c1-t14 r1c4-t14">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;dequeue_mode&gt;</code> <code>BROWSE</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r2c1-t14 r1c5-t14">
<pre>QueueSession.createBrowser
</pre>
<pre>QueueBrowser.getEnumeration
</pre>
<p>Not supported on topics</p>
<pre>oracle.jms.AQjmsSession.
createBrowser
</pre>
<pre>oracle.jms.TopicBrowser.
getEnumeration
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t14" headers="r1c1-t14">
<p>Browse messages in a queue/topic and lock messages while browsing</p>
</td>
<td class="cellalignment1002" headers="r3c1-t14 r1c2-t14">
<pre>DBMS_AQ.dequeue
</pre>
<p>Set <code>dequeue_mode</code> to <code>LOCKED</code> in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r3c1-t14 r1c3-t14">
<pre>OCIAQDeq
</pre>
<p>Set <code>OCI_ATTR_DEQ_MODE</code> to <code>LOCKED</code> in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r3c1-t14 r1c4-t14">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;dequeue_mode&gt; LOCKED</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r3c1-t14 r1c5-t14">
<pre>AQjmsSession.createBrowser
</pre>
<p>set <code>locked</code> to <code>TRUE</code>.</p>
<pre>QueueBrowser.getEnumeration
</pre>
<p>Not supported on topics</p>
<pre>oracle.jms.AQjmsSession.
createBrowser
</pre>
<pre>oracle.jms.TopicBrowser.
getEnumeration
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<div id="ADQUE2554" class="tblformalwide">
<p class="titleintable"><a id="sthref359"></a><a id="sthref360"></a>Table 3-8 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Receive Messages from a Queue/Topic Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Receive Messages from a Queue/Topic Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t15">Use Case</th>
<th class="cellalignment1001" id="r1c2-t15">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t15">OCI</th>
<th class="cellalignment1001" id="r1c4-t15">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t15">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t15" headers="r1c1-t15">
<p>Start a connection for receiving messages</p>
</td>
<td class="cellalignment1002" headers="r2c1-t15 r1c2-t15">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r2c1-t15 r1c3-t15">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r2c1-t15 r1c4-t15">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r2c1-t15 r1c5-t15">
<pre>Connection.start
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t15" headers="r1c1-t15">
<p>Create a message consumer</p>
</td>
<td class="cellalignment1002" headers="r3c1-t15 r1c2-t15">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r3c1-t15 r1c3-t15">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r3c1-t15 r1c4-t15">
<p>N/A</p>
</td>
<td class="cellalignment1002" headers="r3c1-t15 r1c5-t15">
<pre>QueueSession.
createQueueReceiver
</pre>
<pre>TopicSession.create
DurableSubscriber 
</pre>
<pre>AQjmsSession.create
TopicReceiver
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t15" headers="r1c1-t15">
<p>Dequeue a message from a queue/topic and specify visibility</p>
</td>
<td class="cellalignment1002" headers="r4c1-t15 r1c2-t15">
<pre>DBMS_AQ.dequeue
</pre>
<p>Specify visibility in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r4c1-t15 r1c3-t15">
<pre>OCIAQDeq
</pre>
<p>Specify <code>OCI_ATTR_VISIBILITY</code> in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r4c1-t15 r1c4-t15">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;visibility&gt;</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r4c1-t15 r1c5-t15">
<p>Not supported</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t15" headers="r1c1-t15">
<p>Dequeue a message from a queue/topic and specify transformation</p>
</td>
<td class="cellalignment1002" headers="r5c1-t15 r1c2-t15">
<pre>DBMS_AQ.dequeue
</pre>
<p>Specify transformation in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r5c1-t15 r1c3-t15">
<pre>OCIAQDeq
</pre>
<p>Specify <code>OCI_ATTR_TRANSFORMATION</code> in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r5c1-t15 r1c4-t15">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;transformation&gt;</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r5c1-t15 r1c5-t15">
<pre>AQjmsQueueReceiver.
setTransformation
</pre>
<pre>AQjmsTopicSubscriber.
setTransformation
</pre>
<pre>AQjmsTopicReceiver.
setTransformation
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r6c1-t15" headers="r1c1-t15">
<p>Dequeue a message from a queue/topic and specify navigation mode</p>
</td>
<td class="cellalignment1002" headers="r6c1-t15 r1c2-t15">
<pre>DBMS_AQ.dequeue
</pre>
<p>Specify navigation in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r6c1-t15 r1c3-t15">
<pre>OCIAQDeq
</pre>
<p>Specify <code>OCI_ATTR_NAVIGATION</code> in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r6c1-t15 r1c4-t15">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;navigation&gt;</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r6c1-t15 r1c5-t15">
<pre>AQjmsQueueReceiver.
setNavigationMode
</pre>
<pre>AQjmsTopicSubscriber.
setNavigationMode
</pre>
<pre>AQjmsTopicReceiver.
setNavigationMode
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r7c1-t15" headers="r1c1-t15">
<p>Dequeue a message from a single-consumer queue</p>
</td>
<td class="cellalignment1002" headers="r7c1-t15 r1c2-t15">
<pre>DBMS_AQ.dequeue
</pre>
<p>Set <code>dequeue_mode</code> to <code>REMOVE</code> in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r7c1-t15 r1c3-t15">
<pre>OCIAQDeq
</pre>
<p>Set <code>OCI_ATTR_DEQ_MODE</code> to <code>REMOVE</code> in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r7c1-t15 r1c4-t15">
<pre>&lt;AQXmlReceive&gt;
</pre></td>
<td class="cellalignment1002" headers="r7c1-t15 r1c5-t15">
<pre>QueueReceiver.receive
</pre>
<p>or</p>
<pre>QueueReceiver.receive
NoWait
</pre>
<p>or</p>
<pre>AQjmsQueueReceiver.
receiveNoData
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r8c1-t15" headers="r1c1-t15">
<p>Dequeue a message from a multiconsumer queue/topic using subscription name</p>
</td>
<td class="cellalignment1002" headers="r8c1-t15 r1c2-t15">
<pre>DBMS_AQ.dequeue
</pre>
<p>Set <code>dequeue_mode</code> to <code>REMOVE</code> and set <code>consumer_name</code> to subscription name in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r8c1-t15 r1c3-t15">
<pre>OCIAQDeq
</pre>
<p>Set <code>OCI_ATTR_DEQ_MODE</code> to <code>REMOVE</code> and set <code>OCI_ATTR_CONSUMER_NAME</code> to subscription name in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r8c1-t15 r1c4-t15">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;consumer_name&gt;</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r8c1-t15 r1c5-t15">
<p>Create a durable TopicSubscriber on the topic using the subscription name, then</p>
<pre>TopicSubscriber.
receive
</pre>
<p>or</p>
<pre>TopicSubscriber.
receiveNoWait
</pre>
<p>or</p>
<pre>AQjmsTopicSubscriber.
receiveNoData
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r9c1-t15" headers="r1c1-t15">
<p>Dequeue a message from a multiconsumer queue/topic using recipient name</p>
</td>
<td class="cellalignment1002" headers="r9c1-t15 r1c2-t15">
<pre>DBMS_AQ.dequeue
</pre>
<p>Set <code>dequeue_mode</code> to <code>REMOVE</code> and set <code>consumer_name</code> to recipient name in</p>
<pre>DEQUEUE_OPTIONS
</pre></td>
<td class="cellalignment1002" headers="r9c1-t15 r1c3-t15">
<pre>OCIAQDeq
</pre>
<p>Set <code>OCI_ATTR_DEQ_MODE</code> to <code>REMOVE</code> and set <code>OCI_ATTR_CONSUMER_NAME</code> to recipient name in</p>
<pre>OCIAQDeqOptions
</pre></td>
<td class="cellalignment1002" headers="r9c1-t15 r1c4-t15">
<pre>&lt;AQXmlReceive&gt;
</pre>
<p>Specify <code>&lt;consumer_name&gt;</code> in</p>
<pre>&lt;consumer_options&gt;
</pre></td>
<td class="cellalignment1002" headers="r9c1-t15 r1c5-t15">
<p>Create a <code>TopicReceiver</code> on the topic using the recipient name, then</p>
<pre>AQjmsSession.create
TopicReceiver
</pre>
<pre>AQjmsTopicReceiver.
receive
</pre>
<p>or</p>
<pre>AQjmsTopicReceiver.
receiveNoWait
</pre>
<p>or</p>
<pre>AQjmsTopicReceiver.
receiveNoData
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<div id="ADQUE2555" class="tblformalwide">
<p class="titleintable"><a id="sthref361"></a><a id="g1011864"></a>Table 3-9 Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Register to Receive Messages Asynchronously from a Queue/Topic Use Cases</p>
<table class="cellalignment1000" title="Comparison of Oracle Database Advanced Queuing Programmatic Interfaces: Operational Interface&mdash;Register to Receive Messages Asynchronously from a Queue/Topic Use Cases" summary="Rows are use cases. The first column describes the use case. The other columns show the relevant PL/SQL interfaces for PL/SQL, OCI, AQ XML Servlet, and JMS, respectively." dir="ltr">
<thead>
<tr class="cellalignment994">
<th class="cellalignment1001" id="r1c1-t16">Use Case</th>
<th class="cellalignment1001" id="r1c2-t16">PL/SQL</th>
<th class="cellalignment1001" id="r1c3-t16">OCI</th>
<th class="cellalignment1001" id="r1c4-t16">AQ XML Servlet</th>
<th class="cellalignment1001" id="r1c5-t16">JMS</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r2c1-t16" headers="r1c1-t16">
<p>Receive messages asynchronously from a single-consumer queue</p>
</td>
<td class="cellalignment1002" headers="r2c1-t16 r1c2-t16">
<p>Define a PL/SQL callback procedure</p>
<p>Register it using</p>
<pre>DBMS_AQ.REGISTER
</pre></td>
<td class="cellalignment1002" headers="r2c1-t16 r1c3-t16">
<pre>OCISubscription
Register
</pre>
<p>Specify <code>queue_name</code> as subscription name</p>
<pre>OCISubscription
Enable
</pre></td>
<td class="cellalignment1002" headers="r2c1-t16 r1c4-t16">
<pre>&lt;AQXmlRegister&gt;
</pre>
<p>Specify queue name in <code>&lt;destination&gt;</code> and notification mechanism in</p>
<pre>&lt;notify_url&gt;
</pre></td>
<td class="cellalignment1002" headers="r2c1-t16 r1c5-t16">
<p>Create a <code>QueueReceiver</code> on the queue, then</p>
<pre>QueueReceiver.set
MessageListener
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r3c1-t16" headers="r1c1-t16">
<p>Receive messages asynchronously from a multiconsumer queue/topic</p>
</td>
<td class="cellalignment1002" headers="r3c1-t16 r1c2-t16">
<p>Define a PL/SQL callback procedure</p>
<p>Register it using</p>
<pre>DBMS_AQ.REGISTER
</pre></td>
<td class="cellalignment1002" headers="r3c1-t16 r1c3-t16">
<pre>OCISubscription
Register
</pre>
<p>Specify <code>queue:OCI_ATTR_CONSUMER_NAME</code> as subscription name</p>
<pre>OCISubscription
Enable
</pre></td>
<td class="cellalignment1002" headers="r3c1-t16 r1c4-t16">
<pre>&lt;AQXmlRegister&gt;
</pre>
<p>Specify queue name in <code>&lt;destination&gt;</code>, consumer in <code>&lt;consumer_name&gt;</code> and notification mechanism in <code>&lt;notify_url&gt;</code></p>
</td>
<td class="cellalignment1002" headers="r3c1-t16 r1c5-t16">
<p>Create a <code>TopicSubscriber</code> or <code>TopicReceiver</code> on the topic, then</p>
<pre>TopicSubscriber.
setMessageListener
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r4c1-t16" headers="r1c1-t16">
<p>Listen for messages on multiple queues/topics</p>
</td>
<td class="cellalignment1002" headers="r4c1-t16 r1c2-t16">
<p>-</p>
</td>
<td class="cellalignment1002" headers="r4c1-t16 r1c3-t16">
<p>-</p>
</td>
<td class="cellalignment1002" headers="r4c1-t16 r1c4-t16">
<p>-</p>
</td>
<td class="cellalignment1002" headers="r4c1-t16 r1c5-t16">
<p>-</p>
</td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r5c1-t16" headers="r1c1-t16">
<p>Listen for messages on one (many) single-consumer queues</p>
</td>
<td class="cellalignment1002" headers="r5c1-t16 r1c2-t16">
<pre>DBMS_AQ.LISTEN
</pre>
<p>Use <code>agent_name</code> as <code>NULL</code> for all agents in <code>agent_list</code></p>
</td>
<td class="cellalignment1002" headers="r5c1-t16 r1c3-t16">
<pre>OCIAQListen
</pre>
<p>Use <code>agent_name</code> as <code>NULL</code> for all agents in <code>agent_list</code></p>
</td>
<td class="cellalignment1002" headers="r5c1-t16 r1c4-t16">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r5c1-t16 r1c5-t16">
<p>Create multiple <code>QueueReceivers</code> on a <code>QueueSession</code>, then</p>
<pre>QueueSession.set
MessageListener
</pre></td>
</tr>
<tr class="cellalignment994">
<td class="cellalignment1002" id="r6c1-t16" headers="r1c1-t16">
<p>Listen for messages on one (many) multiconsumer queues/Topics</p>
</td>
<td class="cellalignment1002" headers="r6c1-t16 r1c2-t16">
<pre>DBMS_AQ.LISTEN
</pre>
<p>Specify <code>agent_name</code> for all agents in <code>agent_list</code></p>
</td>
<td class="cellalignment1002" headers="r6c1-t16 r1c3-t16">
<pre>OCIAQListen
</pre>
<p>Specify <code>agent_name</code> for all agents in <code>agent_list</code></p>
</td>
<td class="cellalignment1002" headers="r6c1-t16 r1c4-t16">
<p>Not supported</p>
</td>
<td class="cellalignment1002" headers="r6c1-t16 r1c5-t16">
<p>Create multiple <code>TopicSubscribers</code> or <code>TopicReceivers</code> on a <code>TopicSession</code>, then</p>
<pre>TopicSession.set
MessageListener
</pre></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment993">
<tr>
<td class="cellalignment1002">
<table class="cellalignment998">
<tr>
<td class="cellalignment997"><a href="componet.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment997"><a href="manage.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1004">
<table class="cellalignment996">
<tr>
<td class="cellalignment997"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment997"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment997"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment997"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment997"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment997"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
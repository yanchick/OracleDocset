<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-73891"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Installation%20and%20Upgrading"></a><title>Installation and Upgrading</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1082"/>
<meta name="dcterms.created" content="2016-06-01T12:8:10Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="C++ Call Interface Programmer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E48221-07"/>
<meta name="dcterms.isVersionOf" content="LNCPP"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="introduction.htm" title="Previous" type="text/html"/>
<link rel="Next" href="relational.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48221-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/54</span> <!-- End Header -->
<div id="LNCPP002" class="chapter"><a id="CBHIFFJC"></a>
<h1 class="chapter"><span class="secnum">2</span> Installation and Upgrading</h1>
<p>This chapter provides an overview of installation and upgrading for Oracle C++ Call Interface (OCCI).</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#CBHBIJJG">Installing Oracle C++ Call Interface</a></p>
</li>
<li>
<p><a href="#CBHBJBFE">Upgrading Considerations</a></p>
</li>
<li>
<p><a href="#CBHBGHJA">Determining the Oracle Database Versions</a></p>
</li>
<li>
<p><a href="#CACFFGHF">Instant Client</a></p>
</li>
<li>
<p><a href="#CACDIAJD">Instant Client Light (English)</a></p>
</li>
<li>
<p><a href="#CBHGBBJI">Using OCCI with Microsoft Visual C++</a></p>
</li>
</ul>
<a id="CBHBIJJG"></a>
<div id="LNCPP20077" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Installing Oracle C++ Call Interface</h2>
<p>OCCI is installed as part of the Oracle Database. To determine additional configuration requirements, you should refer to the <span class="italic">Oracle Database Installation Guide</span> and the <span class="italic">Oracle Database Client Installation Guide</span> that is specific to your platform.</p>
</div>
<!-- class="sect1" -->
<a id="CBHBJBFE"></a>
<div id="LNCPP20078" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Upgrading Considerations</h2>
<p>To use the new features available in this release, you must recompile and relink all OCCI applications, including classes generated through the Object Type Translator Utility, when upgrading from an earlier Oracle Client release.</p>
</div>
<!-- class="sect1" -->
<a id="CBHBGHJA"></a>
<div id="LNCPP20079" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Determining the Oracle Database Versions</h2>
<p>When an application uses several separate code paths with different server versions or client patchsets, you can verify these options both during compilation and at run time.</p>
<div id="LNCPP20080" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref47"></a>
<h3 class="sect2">Determining the Oracle Client Version During Compilation</h3>
<p>The OCCI header files define <code dir="ltr">OCCI_MAJOR_VERSION</code> and <code dir="ltr">OCCI_MINOR_VERSION</code> macros. <a href="#CBHEIFFB">Example 2-1</a> illustrates one way to use these macros:</p>
<div id="LNCPP20081" class="example">
<p class="titleinexample"><a id="CBHEIFFB"></a>Example 2-1 How to Determine the Major Client Version and Set Performance Features</p>
<pre dir="ltr">#if (OCCI_MAJOR_VERSION &gt; 9)
     env-&gt;setCacheSortedFlush(true);  // benefit of performance, if available
#endif
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<div id="LNCPP20082" class="sect2"><a id="sthref48"></a>
<h3 class="sect2">Determining the Oracle Client and Server Versions at Run Time</h3>
<p>During run time, you can check both the client and server versions of the current <code dir="ltr">Connection</code> by using the <a href="reference010.htm#BBAJAFGC">getClientVersion()</a>, <a href="reference010.htm#BBAIHEEF">getServerVersion()</a>, and <a href="reference010.htm#BBABFDBG">getServerVersionUString()</a> methods.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACFFGHF"></a>
<div id="LNCPP20083" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref49"></a>Instant Client</h2>
<p>The Instant Client feature makes it extremely easy and fast to deploy OCCI based customer application by eliminating the need for <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>. The storage space requirements are an additional benefit; Instant Client shared libraries occupy about one-fourth of the disk space required for a full client installation.</p>
<div id="LNCPP20084" class="sect2"><a id="sthref50"></a>
<h3 class="sect2"><a id="sthref51"></a>Benefits of Instant Client</h3>
<ul>
<li>
<p>Installation involves copying only four files.</p>
</li>
<li>
<p>Storage space requirement for the client is minimal</p>
</li>
<li>
<p>No loss of functionality or performance exists for deployed applications</p>
</li>
<li>
<p>Simplified packaging with ISV applications</p>
</li>
</ul>
<p>The OCCI Instant Client capability simplifies OCCI installation. Even though OCCI is independent of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> setting in the Instant Client mode, applications that rely on <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> settings can continue operation by setting it to the appropriate value. The activation of the Instant Client mode is only dependent on the ability to load the Instant Client data shared library. In particular, this feature allows interoperability with Oracle applications that use <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> for their data, but use a newer release of Oracle Client.</p>
</div>
<!-- class="sect2" -->
<a id="CBHFBIBE"></a>
<div id="LNCPP20085" class="sect2">
<h3 class="sect2"><a id="sthref52"></a>Installing Instant Client</h3>
<p>OCCI requires only four shared libraries (or dynamic link libraries, as they are called on some operating systems) to be loaded by the dynamic loader of the operating system. Oracle Database 12<span class="italic">c</span> Release 1 (12.1) library names are used; the number part of library names changes to remain consistent with future release numbers.</p>
<p>For clarity and ease of development, the library structure is changed starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1). The client shared library, <code dir="ltr">libclntsh.so.12.1</code>, depends on <code dir="ltr">libclntshcore.so.12.1</code>. The <code dir="ltr">libclntshcore.so.12.1</code> library contains the NLS and CORE functionality. Both of these libraries must be installed in the same directory.</p>
<ul>
<li>
<p><span class="bold">OCI Instant Client Data Shared Library</span> (<code dir="ltr">libociei.so</code> on Linux and UNIX and <code dir="ltr">oraociei11.dll</code> on Windows); correct installation of this file determines if you are operating in Instant Client mode</p>
</li>
<li>
<p><span class="bold">Client Code Library</span> (<code dir="ltr">libclntsh.so.11.1</code> on Linux and UNIX and <code dir="ltr">oci.dll</code> on Windows)</p>
</li>
<li>
<p><span class="bold">Security Library</span> (<code dir="ltr">libnnz11.so</code> on Linux and UNIX and <code dir="ltr">orannzsbb11.dll</code> on Windows)</p>
</li>
<li>
<p><span class="bold">OCCI Library</span> (<code dir="ltr">libocci.so.11.1</code> on Linux and UNIX and <code dir="ltr">oraocci11.dll</code> on Windows)</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">libclntshcore.so.12.1</code> file must now reside in the same library as the data shared library.</div>
<div id="LNCPP20086" class="sect3"><a id="sthref53"></a>
<h4 class="sect3">Oracle Technology Network</h4>
<p>The Instant Client libraries are also available on the Oracle Technology Network (OTN) Web site at:</p>
<p><code dir="ltr"><a href="http://www.oracle.com/technology/tech/oci/instantclient/">http://www.oracle.com/technology/tech/oci/instantclient/</a></code></p>
<p>If these four libraries are accessible through the directory on the Operating System Library Path variable (<code dir="ltr">LD_LIBRARY_PATH</code> on Linux and UNIX, and <code dir="ltr">PATH</code> on Windows), then OCCI operates in the Instant Client mode. In this mode, there is no dependency on <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> and none of the other code and data files provided in <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> are needed by OCCI.</p>
<p>If you are installing Instant Client from the Oracle Technology Network,</p>
<ol>
<li id="CBHGICCH">
<p>Download and install the Instant Client libraries to an empty directory, such as <code dir="ltr">instantclient_12_1</code>.</p>
</li>
<li>
<p>Set the operating system shared library path environment variable (<code dir="ltr">LD_LIBRARY_PATH</code> on Linux and UNIX and <code dir="ltr">PATH</code> on Windows) to the directory used in step <a href="#CBHGICCH">1</a>, <code dir="ltr">instantclient_12_1</code>.</p>
</li>
</ol>
<div id="LNCPP20087" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref54"></a>
<h5 class="sect4">Instant Client SDK</h5>
<p><a id="sthref55"></a>Instant Client can also be downloaded as an <span class="bold">SDK</span> package. The SDK contains all necessary header files and a makefile for developing OCCI applications in an Instant Client environment. Once developed, these applications can be deployed in any client environment. The SDK has these additional features:</p>
<ul>
<li>
<p>It contains C++ demonstration programs.</p>
</li>
<li>
<p>It includes libraries required to link applications on Windows, and a <code dir="ltr">Make.bat</code> file is provided to build demos.</p>
</li>
<li>
<p>The Makefile <code dir="ltr">demo.mk</code> is provided to build the demos for Linux and UNIX. The <code dir="ltr">instantclient_12_1</code> directory must be on the <code dir="ltr">LD_LIBRARY_PATH</code> before linking the application. These programs require symbolic links for the Client Code Library and the OCCI library, <code dir="ltr">libclntsh.so.12.1</code> and <code dir="ltr">libocci.so.12.1</code> respectively, in the <code dir="ltr">instantclient_12_1</code> directory. The demo Makefile, <code dir="ltr">demo.mk</code>, generates these before the link step. These symbolic links can also be created in a shell script:</p>
<pre dir="ltr">cd instantclient_12_1
ln -s libclntsh.so.11.1 libclntsh.so
ln -s libocci.so.11.1 libocci.so
</pre></li>
<li>
<p>The SDK also contains the Object Type Translator (OTT) utility and its classes to generate the application header files.</p>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div id="LNCPP20088" class="sect3"><a id="sthref56"></a>
<h4 class="sect3">Complete Client Installation</h4>
<p>If you performed a complete client installation by choosing the <span class="bold">Admin</span> option,</p>
<ul>
<li>
<p>On Linux or UNIX platforms, the <code dir="ltr">libociei.so</code> library can be copied from the <code dir="ltr">$</code><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/instantclient</code> directory. All the other libraries can be copied from the <code dir="ltr">$</code><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/lib</code> directory in a full Oracle installation.</p>
</li>
<li>
<p>On Windows, the <code dir="ltr">oraociei11.dll</code> library can be copied from the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\instantclient</code> directory. All other Windows libraries can be copied from the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\bin</code> directory.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<div id="LNCPP20089" class="sect3"><a id="sthref57"></a>
<h4 class="sect3">Oracle Universal Installer</h4>
<p>If you did not install the database, you can install these libraries by choosing the Instant Client option from the Oracle Universal Installer. After completing these steps, you can begin running OCCI applications.</p>
<ol>
<li>
<p>Install the Instant Client shared libraries to a directory such as <code dir="ltr">instantclient_12_1</code>.</p>
</li>
<li>
<p>Set the operating system shared library path environment variable to the directory from step 1. For example, on Linux or UNIX, set the <code dir="ltr">LD_LIBRARY_PATH</code> to <code dir="ltr">instantclient_12_1</code>. On Windows, set <code dir="ltr">PATH</code> to locate the <code dir="ltr">instantclient_12_1</code> directory.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="LNCPP20090" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref58"></a>
<h4 class="sect3">Instant Client CD</h4>
<p>You can also install Instant Client from the Instant Client CD. You must install Instant Client either in an empty directory or on a different system.</p>
<p>There should be only one set of Oracle libraries on the operating system Library Path variable; if you have several directories or copies of Instant Client libraries, only one directory should be on the operating system Library Path.</p>
<p>Similarly, if you also have an installation on an <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> of the same system, do not place both the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/lib</code> and Instant Client directory on the operating system Library Path, regardless of the order in which they appear on the Library Path. Only one of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/lib</code> directory (for non-Instant Client operation) or Instant Client directory (for Instant Client operation) should be on the operating system Library Path variable.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="LNCPP20091" class="sect2"><a id="sthref59"></a>
<h3 class="sect2"><a id="sthref60"></a>Using Instant Client</h3>
<p>The Instant Client feature is designed for running production applications. For development, use either the Instant Client SDK or a full installation to access OCCI header files, makefiles, demonstration programs, and so on.</p>
</div>
<!-- class="sect2" -->
<div id="LNCPP20092" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref61"></a>
<h3 class="sect2"><a id="sthref62"></a><a id="sthref63"></a><a id="sthref64"></a>Patching Instant Client Shared Libraries on UNIX</h3>
<p>This feature is not available on Windows platforms.</p>
<p>Because Instant Client is primarily a deployment feature, one of its design objectives is to reduce the number and size of necessary files. Therefore, Instant Client deployment does not include all files for patching shared libraries. You should use the <code dir="ltr">OPATCH</code> utility on an <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>-based full client to patch the Instant Client shared libraries. The <code dir="ltr">OPATCH</code> utility stores the patching information of the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> installation in <code dir="ltr">libclntsh.so.11.1</code> for Linux and UNIX. This information can be retrieved using the <code dir="ltr">genezi</code> utility:</p>
<pre dir="ltr">genezi -v
</pre>
<p>If the <code dir="ltr">genezi</code> utility is not installed on the system that deploys Instant Client, you can copy it from the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/bin</code> directory of the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> system.</p>
<p>After applying the patch in an <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> environment, copy the files listed in<a href="#CBHFBIBE">&#34;Installing Instant Client&#34;</a> to the Instant Client directory. Instead of copying individual files, you can generate Instant Client <code dir="ltr">*.zip</code> files, as described in <a href="#CBHDDICI">&#34;Regenerating the Data Shared Library and Zip Files&#34;</a>. Then, instead of copying individual files, you can instead copy the zip files to the target system and unzip them.</p>
</div>
<!-- class="sect2" -->
<a id="CBHDDICI"></a>
<div id="LNCPP20093" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><a id="sthref65"></a><a id="sthref66"></a>Regenerating the Data Shared Library and Zip Files</h3>
<p>This feature is not available on Windows platforms.</p>
<p>The Instant Client Data Shared Library, <code dir="ltr">libociei.so</code>, can be regenerated in a Client Admin Install of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>. Executing <a href="#CBHGGHFJ">Example 2-2</a> creates a new <code dir="ltr">libociei.so</code> file based on current file in <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> and place it in the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/rdbms/install/instantclient</code> directory; the make target <code dir="ltr">ilibociei</code> generates <code dir="ltr">libociei.so</code>.</p>
<p>This location of the regenerated data shared library, <code dir="ltr">libociei.so</code>, is different from the original location of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/instantclient</code></p>
<p>The script in <a href="#CBHGGHFJ">Example 2-2</a> also creates a directory for <a href="#CACDIAJD">Instant Client Light (English)</a></p>
<div id="LNCPP21894" class="example">
<p class="titleinexample"><a id="CBHGGHFJ"></a>Example 2-2 How to Regenerate the Data Shared Library Files</p>
<pre dir="ltr">mkdir -p $<span class="italic">ORACLE_HOME</span>/rdbms/install/instantclient/light
cd $<span class="italic">ORACLE_HOME</span>/rdbms/lib
make -f ins_rdbms.mk ilibociei
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<div id="LNCPP20094" class="sect2"><a id="sthref67"></a>
<h3 class="sect2"><a id="sthref68"></a><a id="sthref69"></a>Database Connection Names for Instant Client</h3>
<p>All Oracle net naming methods that do not require use of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> or <code dir="ltr">TNS_ADMIN</code> to locate configuration files such as <code dir="ltr">tnsnames.ora</code> or <code dir="ltr">sqlnet.ora</code> work in the Instant Client mode.</p>
<p>The <code dir="ltr">connectString</code> parameter in the <a href="reference011.htm#i1089607">createConnection()</a> call can be specified in the following formats:</p>
<ul>
<li>
<p>As an <span class="bold">SQL Connect URL string,</span> of the form:</p>
<pre dir="ltr">//<span class="italic">host</span>:[<span class="italic">port</span>][/<span class="italic">service name</span>]
</pre>
<p>such as:</p>
<pre dir="ltr">//myserver111:5521/bjava21
</pre></li>
<li>
<p>As an <span class="bold">Oracle Net keyword-value pair</span>. For example:</p>
<pre dir="ltr">(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp) (HOST=myserver111) (PORT=5521))
(CONNECT_DATA=(SERVICE_NAME=bjava21)))
</pre></li>
<li>
<p>As a <span class="bold">connection name</span> that is resolved through Directory Naming when the site is configured for LDAP server discovery.</p>
</li>
<li>
<p>As an <span class="bold">entry</span> in the <code dir="ltr">tnsnames.ora</code> file.</p>
<p>If the <code dir="ltr">TNS_ADMIN</code> environment variable is not set, and <code dir="ltr">TNSNAMES</code> entries such as <code dir="ltr">inst1</code> are used, then the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> variable must be set and the configuration files are expected to be in the <code dir="ltr">$</code><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/network/admin</code> directory.</p>
<p>Naming methods that require <code dir="ltr">TNS_ADMIN</code> to locate configuration files continue to work if the <code dir="ltr">TNS_ADMIN</code> environment variable is set.</p>
<p>The <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> variable in this case is only used for locating Oracle Net configuration files, and no other component of OCCI Client Code Library uses the value of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>.</p>
</li>
</ul>
<p>The empty <code dir="ltr">connectString</code> parameter of <a href="reference011.htm#i1089607">createConnection()</a> is supported by setting the environment variable (<code dir="ltr">TWO_TASK</code> on Linux and UNIX, and <code dir="ltr">LOCAL</code> on Windows) to one of the values described earlier.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG008" href="../NETAG/naming.htm#NETAG008"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information on the connect descriptor.</div>
</div>
<!-- class="sect2" -->
<div id="LNCPP20095" class="sect2"><a id="sthref70"></a>
<h3 class="sect2"><a id="sthref71"></a>Environment Variables for OCCI Instant Client</h3>
<p>The <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> environment variable no longer determines the location of Globalization Support, CORE, and error message files. An OCCI-only application should not require <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> to be set. However, if it is set, it does not have an impact on OCCI&#39;s operation. OCCI always obtains its data from the Data Shared Library. If the Data Shared Library is not available, only then is <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> used and a full client installation is assumed. When set, <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> should be a valid operating system path name that identifies a directory.</p>
<p>Environment variables <code dir="ltr">ORA_NLS33</code>, <code dir="ltr">ORA_NLS32</code>, and <code dir="ltr">ORA_NLS</code> are ignored in the Instant Client mode.</p>
<p><a id="sthref72"></a>In the Instant Client mode, if the <code dir="ltr">ORA_TZFILE</code> variable is not set, then the larger, default, <code dir="ltr">timezlrg_</code><code dir="ltr"><span class="codeinlineitalic">n</span></code><code dir="ltr">.dat</code> file (where <code dir="ltr"><span class="codeinlineitalic">n</span></code> is the version number of the file) from the Data Shared Library is used. If using the smaller <code dir="ltr">timezone</code>_<code dir="ltr"><span class="codeinlineitalic">n</span></code><code dir="ltr">.dat</code> file from the Data Shared Library, then set the <code dir="ltr">ORA_TZFILE</code> environment variable to the name of the file without any absolute or relative path names, as shown in <a href="#CBHIIFFB">Example 2-3</a>.</p>
<div id="LNCPP20096" class="example">
<p class="titleinexample"><a id="CBHIIFFB"></a>Example 2-3 How to set the ORA_TZFILE Environment Variable</p>
<p><span class="bold">On Linux and UNIX:</span></p>
<pre dir="ltr">setenv ORA_TZFILE timezone_<span class="italic">n</span>.dat
</pre>
<p><a id="sthref73"></a><span class="bold">On Windows:</span></p>
<pre dir="ltr">set ORA_TZFILE timezone_<span class="italic">n</span>.dat
</pre></div>
<!-- class="example" -->
<p>If OCCI is not operating in the Instant Client mode because the Data Shared Library is not available, the <code dir="ltr">ORA_TZFILE</code> variable, if set, names a complete path name.</p>
<p>If <code dir="ltr">TNSNAMES</code> entries are used, then <code dir="ltr">TNS_ADMIN</code> directory must contain the <code dir="ltr">TNSNAMES</code> configuration files. If <code dir="ltr">TNS_ADMIN</code> is not set, the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/network/admin</code> directory must contain Oracle Net Services configuration files.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACDIAJD"></a>
<div id="LNCPP20012" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><a id="sthref74"></a>Instant Client Light (English)</h2>
<p>Instant Client Light (English) further reduces installation space requirements of the client installation over Instant Client by another 63 MB. Specifically, the installation of the Instant Client Light (English) shared library, <code dir="ltr">libociicus.so</code> on Linux and UNIX and <code dir="ltr">oraociicus11.dll</code> for Windows, occupies 4 MB on UNIX platforms, when the full Instant Client shared library, libociei.so, occupies 67 MB of disk space.</p>
<p>Instant Client Light (English), as the name implies, is geared toward applications that require English-only error messages and use either <code dir="ltr">US7ASCII</code>, <code dir="ltr">WE8DEC</code>, or a Unicode characterset. Instant Client Light (English) also has no restrictions on the <code dir="ltr">TERRITORY</code> field of the <code dir="ltr">NLS_LANG</code> setting. As a result, applications that meet these characterset and territory criteria can significantly reduce its footprint if they operate in the Instant Client Light (English) environment.</p>
<div id="LNCPP20097" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref75"></a>
<h3 class="sect2"><a id="sthref76"></a>Globalization Settings for Instant Client Light (English)</h3>
<p><a id="sthref77"></a>Instant Client Light (English) supports the following character sets:</p>
<ul>
<li>
<p>Single-byte character sets include <code dir="ltr">US7ASCII</code>, <code dir="ltr">WE8DEC</code>, <code dir="ltr">WE8MSWIN1252</code>, and <code dir="ltr">WE8ISO8859P1</code>.</p>
</li>
<li>
<p>Unicode character sets include <code dir="ltr">UTF8</code>, <code dir="ltr">AL16UTF16</code>, and <code dir="ltr">AL32UTF8</code>.</p>
</li>
</ul>
<p><a id="sthref78"></a>Instant Client Light (English) returns an error message if the application attempts to use a character set or a national character set not listed here, either on the client or on the database. The possible error messages, listed here, are only available in English:</p>
<ul>
<li>
<p>ORA-12734 Instant Client Light: unsupported client national character set (NLS_LANG value set)</p>
</li>
<li>
<p>ORA-12735 Instant Client Light: unsupported client character set (NLS_LANG value set)</p>
</li>
<li>
<p>ORA-12736 Instant Client Light: unsupported server national character set (NLS_LANG value set)</p>
</li>
<li>
<p>ORA-12737 Instant Client Light: unsupported server character set (NLS_LANG value set)</p>
</li>
</ul>
<p>When setting <code dir="ltr">NLS_LANG</code> parameters, use the following:</p>
<pre dir="ltr">American_<span class="italic">territory</span>.<span class="italic">charset</span>
</pre>
<p>where <code dir="ltr"><span class="codeinlineitalic">territory</span></code> is any valid Territory that can be specified through <code dir="ltr">NLS_LANG</code>, and <code dir="ltr"><span class="codeinlineitalic">charset</span></code> is a character set listed in this section.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NLSPG003" href="../NLSPG/ch3globenv.htm#NLSPG003"><span class="italic">Oracle Database Globalization Support Guide</span></a> for more information about NLS settings.</div>
</div>
<!-- class="sect2" -->
<div id="LNCPP20098" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref79"></a>
<h3 class="sect2"><a id="sthref80"></a>Using Instant Client Light (English)</h3>
<p>To determine whether to operate in the Instant Client mode, OCCI applications look for the Data Shared Library on the <code dir="ltr">LD_LIBRARY_PATH</code> for Linux and UNIX and <code dir="ltr">PATH</code> on Windows. If this library is not found, OCCI attempts to load the Instant Client Light (English) Data Shared Library, <code dir="ltr">libociicus.so</code> for Linux and UNIX and <code dir="ltr">oraociicus11.dll</code> on Windows. If neither is found, a full <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> installation is assumed.</p>
</div>
<!-- class="sect2" -->
<div id="LNCPP20099" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref81"></a>
<h3 class="sect2"><a id="sthref82"></a>Installing Instant Client Light (English)</h3>
<p>There are three ways to install Instant Client Light (English): from <a href="#CBHEJGHI">Oracle Technology Network Download</a>, through <a href="#CBHEEGFB">Client Admin Install</a>, and through <a href="#CBHICBGB">Oracle Universal Installer</a>.</p>
<p>Note that all Instant Client and Instant Client Light (English) files should always be copied or installed into an empty directory to ensure that there are no incompatible binaries in the final installation</p>
<a id="CBHEJGHI"></a>
<div id="LNCPP20100" class="sect3">
<h4 class="sect3"><a id="sthref83"></a>Oracle Technology Network Download</h4>
<p>When installing Instant Client Light (English) from Oracle Technology Network (OTN), download and unzip the <code dir="ltr">basiclite.zip</code> package instead of the usual <code dir="ltr">basic.zip</code> package. You must ensure that the <code dir="ltr">instantclient_12_1</code> directory is empty before unzipping the libraries. The downloadable package is at the following URL on OTN:</p>
<pre dir="ltr"><a href="http://www.oracle.com/technology/tech/oci/instantclient/">http://www.oracle.com/technology/tech/oci/instantclient/</a>
</pre></div>
<!-- class="sect3" -->
<a id="CBHEEGFB"></a>
<div id="LNCPP20101" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><a id="sthref84"></a>Client Admin Install</h4>
<p>Instead of copying the Instant Client Data Shared Library from the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/instantclient</code> directory, use the Instant Client Light (English) Data Shared Library, <code dir="ltr">libociicus.so for Linux and UNIX and oraociicus11.dll</code> for Windows, from the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/instantclient/light</code> directory. In other words, the Instant Client directory on the <code dir="ltr">LD_LIBRARY_PATH</code> for Linux and UNIX and <code dir="ltr">PATH</code> for Windows should contain the smaller Instant Client Light (English) Data Shared Libraries.</p>
</div>
<!-- class="sect3" -->
<a id="CBHICBGB"></a>
<div id="LNCPP20102" class="sect3">
<h4 class="sect3"><a id="sthref85"></a>Oracle Universal Installer</h4>
<p>If the Instant Client option is selected from the Oracle Universal Installer (OUI), the full Instant Client is installed by default, but the libraries for Instant Client Light (English) are also installed. To operate in Instant Client Light (English) mode, the Instant Client Light (English) Data Shared Library must replace the Instant Client library. Therefore, you must place libociicus.so on the <code dir="ltr">LD_LIBRARY_PATH</code> for Linux and UNIX, and <code dir="ltr">oraociicus11.dll</code> on the <code dir="ltr">PATH</code> for Windows. This design ensures that the Instant Client Light (English) is not enabled by default.</p>
<p>The Instant Client Light (English) Data Shared Library is initially placed in the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/instantclient/light</code> directory. You must move it to the base directory of the installation, <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/instantclient</code>, and remove the Instant Client Data Shared Library in that directory.</p>
<div id="LNCPP20103" class="example">
<p class="titleinexample"><a id="sthref86"></a>Example 2-4 Installing Instant Client Light (English) through Oracle Universal Installer</p>
<p>If the OUI has installed the Instant Client in <code dir="ltr">my_oraic_12_1</code> directory on the <code dir="ltr">LD_LIBRARY_PATH</code>, then the following commands would ensure operation in the Instant Client Light (English) mode. Note that to avoid use of incompatible binary files, all Instant Client files should be copied and installed in an empty directory.</p>
<pre dir="ltr">cd my_oraic_12_1
rm libociei.so
mv light/libociicus.so .
</pre></div>
<!-- class="example" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CBHGBBJI"></a>
<div id="LNCPP20104" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using OCCI with Microsoft Visual C++</h2>
<p>The Oracle Database 12<span class="italic">c</span> Release 1 (12.1) includes OCCI libraries for developing applications with Microsoft Visual C++ version 10.0 (.NET 2010 SP1 10.0), Microsoft Visual C++ version 11.0 (.NET 2012 11.0), Microsoft Visual C++ version 12.0 (.NET 2013 12.0), and Intel 12.1 C compilers with Microsoft Visual Studio 2010 STLs. Microsoft Visual C++ version 8.0 and version 9.0 are no longer supported.</p>
<p>Microsoft Visual C++ version 10.0 libraries are installed in the following default locations:</p>
<pre dir="ltr">ORACLE_BASE\<span class="italic">ORACLE_HOME</span>\bin\oraocci12.dll
ORACLE_BASE\<span class="italic">ORACLE_HOME</span>\oci\lib\msvc\oraocci12.lib
</pre>
<p>Copies of these two files are also installed under the directory:</p>
<pre dir="ltr">ORACLE_BASE\<span class="italic">ORACLE_HOME</span>\oci\lib\msvc\vc10
</pre>
<p>Microsoft Visual C++ 2012 OCCI libraries are installed in the following default location:</p>
<pre dir="ltr">ORACLE_BASE\ORACLE_HOME\oci\lib\msvc\vc11
</pre>
<p>When developing OCCI applications with MSVC++ 2012, ensure that the OCCI libraries are correctly selected from this directory for linking and executing.</p>
<p>Microsoft Visual C++ 2013 OCCI libraries are installed in the following default location:</p>
<pre dir="ltr">ORACLE_BASE\ORACLE_HOME\oci\lib\msvc\vc12
</pre>
<p>When developing OCCI applications with MSVC++ 2013, ensure that the OCCI libraries are correctly selected from this directory for linking and executing.</p>
<p>Applications should link with the appropriate OCCI library. You must ensure that the corresponding DLL is located in the Windows system PATH.</p>
<p>Applications that link to <code dir="ltr">MSVCRTD.DLL</code>, a debug version of Microsoft C-Runtime, <code dir="ltr">/MDd</code> compiler flag, should link with these specific OCCI libraries: <code dir="ltr">oraocci12d.lib</code> and <code dir="ltr">oraocci12d.dll</code>.</p>
<p>All Instant Client packages contain the versions of the OCCI DLLs that are compatible with Microsoft Visual C++ version 10.0.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2196">
<tr>
<td class="cellalignment2205">
<table class="cellalignment2201">
<tr>
<td class="cellalignment2200"><a href="introduction.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2200"><a href="relational.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2016,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2208">
<table class="cellalignment2199">
<tr>
<td class="cellalignment2200"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2200"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2200"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2200"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2200"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2200"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
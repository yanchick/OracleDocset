<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-113904"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Working%20with%20the%20TimesTen%20Client%20and%20Server"></a><title>Working with the TimesTen Client and Server</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748"/>
<meta name="dcterms.created" content="2014-09-30T15:13:3Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="TimesTen In-Memory Database Operations Guide"/>
<meta name="dcterms.identifier" content="E21633-12"/>
<meta name="dcterms.isVersionOf" content="TTOPR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="using.htm" title="Previous" type="text/html"/>
<link rel="Next" href="daemon.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E21633-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/16</span> <!-- End Header -->
<div id="TTOPR177" class="chapter"><a id="CHDHEBJB"></a>
<h1 class="chapter"><span class="secnum">2</span> Working with the TimesTen Client and Server</h1>
<p>You can open client/server connections across a network to the TimesTen database with the TimesTen Client and TimesTen Server.</p>
<p>The following sections describe the TimesTen Client/Server and how to connect using them:</p>
<ul>
<li>
<p><a href="#CHDGBBIE">Overview of the TimesTen Client/Server</a></p>
</li>
<li>
<p><a href="#BGBHBBJE">Configuring TimesTen Client and Server</a></p>
</li>
<li>
<p><a href="#BGBEJAHF">Running the TimesTen Server</a></p>
</li>
<li>
<p><a href="#BGBBCEAC">Accessing a remote database on UNIX</a></p>
</li>
</ul>
<a id="CHDGBBIE"></a>
<div id="TTOPR658" class="sect1">
<h2 class="sect1">Overview of the TimesTen Client/Server</h2>
<p>The TimesTen Server is a process that runs on a server system that takes network requests from TimesTen Clients and translates them into operations on databases on the server system. This enables clients to connect to databases that are located on different systems, potentially running a different platform and operating system bit level.</p>
<p>You can install the TimesTen Client on a separate or the same system as the TimesTen Server. If you install the TimesTen Client on the same system as the TimesTen Server, you can use it to access TimesTen databases on the local system. For example, this is useful when you want a 32-bit application to access a 64-bit database on the same system, for platforms that support both 32-bit and 64-bit applications.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can create a client/server connection between any combination of platforms that TimesTen supports.</div>
<p><a href="#CHDFCHJA">Figure 2-1</a> demonstrates how the TimesTen Client and TimesTen Server communicate using their respective drivers.</p>
<div id="TTOPR659" class="figure">
<p class="titleinfigure"><a id="CHDFCHJA"></a>Figure 2-1 Diagram of TimesTen Client and TimesTen Server</p>
<img width="365" height="507" src="./img/driver.gif" alt="Description of Figure 2-1 follows"/><br/>
<a id="sthref155" href="./img_text/driver.htm">Description of &#34;Figure 2-1 Diagram of TimesTen Client and TimesTen Server&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<ul>
<li>
<p>TimesTen Client: To access TimesTen databases on remote systems, link your application with the TimesTen Client ODBC driver. The application then communicates with the TimesTen Server process. Using the TimesTen Client driver, applications can connect transparently to TimesTen databases on a remote or local system that has the TimesTen Server and Data Manager installed.</p>
<p>You can link a client application directly with the TimesTen Client driver or with the Windows ODBC driver manager to access the TimesTen database. TimesTen supplies a driver manager for UNIX and Windows with the Quick Start sample applications. Note that there are performance considerations in using a driver manager.</p>
<p>Also, you can link a client application through a provided interface, like JDBC, OCI or Pro*C/C++, to access the TimesTen database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For details on how the application can use different drivers and interfaces to access a TimesTen database, see <a href="using.htm#BCGFCJIH">&#34;Connecting to TimesTen with ODBC and JDBC drivers&#34;</a></div>
</li>
<li>
<p>TimesTen Server: On the server system, the TimesTen Server uses the TimesTen Data Manager ODBC driver. The server&#39;s responsibility is to listen for requests from a client application, process the request through the Data Manager ODBC driver, and then send the results and any error information back to the client application.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For details on compiling and linking TimesTen applications, see <a class="olink TTJDV324" href="../TTJDV/env_setup.htm#TTJDV324">&#34;Compiling Java applications&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Java Developer&#39;s Guide</span> or <a class="olink TTCDV487" href="../TTCDV/compiling.htm#TTCDV487">&#34;Compiling and linking applications&#34;</a> the <span class="italic">Oracle TimesTen In-Memory Database C Developer&#39;s Guide</span>.</div>
<p>The following sections describe the restrictions and the communication protocols for client/server communication:</p>
<ul>
<li>
<p><a href="#CHDFJGCI">Restrictions on client/server communication</a></p>
</li>
<li>
<p><a href="#BGBBCDDI">Communication protocols for Client/Server communication</a></p>
</li>
</ul>
<a id="CHDFJGCI"></a>
<div id="TTOPR660" class="sect2">
<h3 class="sect2">Restrictions on client/server communication</h3>
<p>The following are the restrictions on client/server communication:</p>
<ul>
<li>
<p>XLA cannot be used over a client/server connection.</p>
</li>
<li>
<p>On UNIX, some TimesTen utilities only work over direct connections, such as <code>ttAdmin</code>, <code>ttRepAdmin</code>, and <code>ttBackup</code>. The utilities that can be executed over a client/server connection on the UNIX platform are named with a suffix of <code>CS</code>, such as <code>ttIsqlCS</code>, <code>ttBulkCpCS</code>, <code>ttMigrateCS</code> and <code>ttSchemaCS</code>. These utilities have been linked with the TimesTen Client driver and can be used to connect to client DSNs when accessing a database over a client/server connection. Each utility listed in the <a class="olink TTREF" href="../TTREF/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database Reference</span></a> provides the name of the client/server version of that utility, if there is one.</p>
</li>
<li>
<p>The <code>ttCacheUidPwdSet</code> built-in procedure cannot be used over a client/server connection.</p>
</li>
<li>
<p>You cannot connect with an external user defined on one host to a TimesTen data source on a remote host. There are no restrictions for connecting with internal users.</p>
</li>
<li>
<p>Internal users can only be created or altered over a direct connection and not over a client/server connection to a TimesTen database. Thus, you can only execute the <code>CREATE USER</code> or <code>ALTER USER</code> statements using a direct connection to the TimesTen database. Once created, the user that connects from the client to the server must be granted the <code>CREATE SESSION</code> privilege or the connection fails. For more information on how to create the user on the TimesTen database and how the administrator grants the <code>CREATE SESSION</code> privilege, see <a href="accesscontrol.htm#BABCBFFE">&#34;Creating or identifying users to the database&#34;</a> and <a href="accesscontrol.htm#BABGEBAD">&#34;Granting privileges to connect to the database&#34;</a>.</p>
</li>
<li>
<p>On UNIX, TimesTen does not allow a child process to use a connection opened by its parent. Any attempt from a child process using <code>fork()</code> to use a connection opened by the parent process returns an error.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BGBBCDDI"></a>
<div id="TTOPR178" class="sect2">
<h3 class="sect2">Communication protocols for Client/Server communication</h3>
<p>By default, a server process is spawned at the time a client requests a connection. By setting the <code>-serverPool</code> option in the <code>ttendaemon.options</code> file on the server system, you can pre-spawn a reserve pool of server processes. See <a href="daemon.htm#CFFJEFDE">&#34;Prespawning TimesTen Server processes&#34;</a> for details.</p>
<p>The following sections describe the communication protocols that the TimesTen Client can use with the TimesTen Server:<a id="sthref156"></a></p>
<ul>
<li>
<p><a href="#CHDCGEDJ">TCP/IP Communication</a></p>
</li>
<li>
<p><a href="#CHDHCHIE">Shared memory communication</a></p>
</li>
<li>
<p><a href="#CHDFJFAJ">UNIX domain socket communication</a></p>
</li>
</ul>
<a id="CHDCGEDJ"></a>
<div id="TTOPR179" class="sect3">
<h4 class="sect3">TCP/IP Communication</h4>
<p>By default, the TimesTen Client communicates with the TimesTen Server using TCP/IP sockets. This is the only form of communication available when the TimesTen Client and Server are installed on different systems.<a id="sthref157"></a><a id="sthref158"></a><a id="sthref159"></a><a id="sthref160"></a><a id="sthref161"></a></p>
</div>
<!-- class="sect3" -->
<a id="CHDHCHIE"></a>
<div id="TTOPR180" class="sect3">
<h4 class="sect3">Shared memory communication</h4>
<p>If both the TimesTen Client and Server are installed on the same system, applications using the TimesTen Client ODBC driver may use a shared memory segment for inter-process communication (IPC). Using a shared memory segment provides better performance than TCP/IP communication. To use a shared memory segment as communication, you must:</p>
<ol>
<li>
<p>Configure the server options to use shared memory communication in the <code>ttendaemon.options</code> file. See <a href="daemon.htm#CFFCIIGH">&#34;Using shared memory for Client/Server IPC&#34;</a>.</p>
</li>
<li>
<p>Define the Network Address as <a id="sthref162"></a><a id="sthref163"></a><code>ttShmHost</code> in the logical server name. See <a href="#CHDFIHDB">&#34;Defining a logical server name&#34;</a> for details.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
TimesTen supports a maximum of 16 different instances of the shared memory IPC-enabled server. If an application tries to connect to more than 16 different shared memory segments it receives an error.</div>
</div>
<!-- class="sect3" -->
<a id="CHDFJFAJ"></a>
<div id="TTOPR181" class="sect3">
<h4 class="sect3">UNIX domain socket communication</h4>
<p>On UNIX platforms, if both the TimesTen Client and Server <a id="sthref164"></a><a id="sthref165"></a><a id="sthref166"></a><a id="sthref167"></a><a id="sthref168"></a>are installed on the same system, you can use UNIX domain sockets for communication. Using a shared memory segment allows for the best performance but slightly greater memory usage. Using UNIX domain sockets allows for improved performance over TCP/IP, but with less memory consumption than a shared memory segment connection. To use domain sockets, you must define the Network Address of the logical server as <a id="sthref169"></a><a id="sthref170"></a><a id="sthref171"></a><code>ttLocalHost</code>. See <a href="#CHDFIHDB">&#34;Defining a logical server name&#34;</a> for more information.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBHBBJE"></a>
<div id="TTOPR182" class="sect1">
<h2 class="sect1">Configuring TimesTen Client and Server</h2>
<div class="infobox-note">
<p class="notep1">Note:</p>
Before <a id="sthref172"></a><a id="sthref173"></a>configuring the TimesTen Client and Server, read <a href="using.htm#BCGFCJIH">&#34;Connecting to TimesTen with ODBC and JDBC drivers&#34;</a> and <a href="using.htm#BCGBEEBG">&#34;Specifying Data Source Names to identify TimesTen databases&#34;</a>.</div>
<p>The following sections describe how to connect an application to a TimesTen database using TimesTen Client and Server:</p>
<ul>
<li>
<p><a href="#CHDCAACD">Overview of TimesTen Client/Server configuration</a></p>
</li>
<li>
<p><a href="#CHDFHDHC">Installing and configuring for client/server connections</a></p>
</li>
<li>
<p><a href="#BGBHJHDD">Defining server DSNs on a TimesTen Server system</a></p>
</li>
<li>
<p><a href="#CHDFIHDB">Defining a logical server name</a></p>
</li>
<li>
<p><a href="#CHDFCIJH">Creating client DSNs on a TimesTen Client system</a></p>
</li>
<li>
<p><a href="#CHDDEAJH">Using automatic client failover</a></p>
</li>
</ul>
<a id="CHDCAACD"></a>
<div id="TTOPR661" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Overview of TimesTen Client/Server configuration</h3>
<p>Before the client application can connect to a TimesTen database, the user must configure, as shown in <a href="#CHDHEJIJ">Figure 2-2</a>, the client DSN, optionally a logical server name, and a server DSN to uniquely identify the desired TimesTen database.</p>
<div id="TTOPR662" class="figure">
<p class="titleinfigure"><a id="CHDHEJIJ"></a>Figure 2-2 Configuring for a client/server connection</p>
<img width="315" height="533" src="./img/clisvr.gif" alt="Description of Figure 2-2 follows"/><br/>
<a id="sthref174" href="./img_text/clisvr.htm">Description of &#34;Figure 2-2 Configuring for a client/server connection&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The client application refers to the client DSN when initiating a connection. With the following details, the connection request is resolved to be able to connect to the intended TimesTen database:</p>
<ul>
<li>
<p>The client DSN is configured in either the user or system <code>odbc.ini</code> file with the server host name, either the logical server name or the actual server system name, and the server DSN that identifies the TimesTen database on the server.</p>
</li>
<li>
<p>The logical server name is an optional configuration on the client. When used, it specifies the server host name where the TimesTen database is installed. This is used when you want to hide or simplify the server host name. You must use the logical server name when using shared memory IPC or UNIX domain sockets.</p>
</li>
<li>
<p>The server DSN is configured in the system <code>odbc.ini</code> file with the TimesTen database name and its connection attributes. The connection attributes specify how the TimesTen database is loaded and configured, and how the connections to it are to be controlled or managed.</p>
</li>
</ul>
<p>Thus, when these are configured correctly, the client application can use the client DSN to locate and connect to the TimesTen database. The client DSN defines the server system and the server DSN. The server DSN, in turn, specifies the TimesTen database on that server, how the database is to be loaded, and how connections are to be managed.</p>
</div>
<!-- class="sect2" -->
<a id="CHDFHDHC"></a>
<div id="TTOPR663" class="sect2">
<h3 class="sect2">Installing and configuring for client/server connections</h3>
<p>The following sections describe what you must install on which node for client/server connections:</p>
<ul>
<li>
<p><a href="#CHDIADAH">Configuring Client/Server of the same TimesTen release</a></p>
</li>
<li>
<p><a href="#CHDDAGID">Configuring cross-release TimesTen Client/Server</a></p>
</li>
</ul>
<a id="CHDIADAH"></a>
<div id="TTOPR183" class="sect3">
<h4 class="sect3">Configuring Client/Server of the same TimesTen release</h4>
<p>The following sections describe how to install and configure TimesTen when the Client and Server are of the same TimesTen release:</p>
<ul>
<li>
<p><a href="#CHDGDJCJ">Install and configure the TimesTen Server</a></p>
</li>
<li>
<p><a href="#CHDFAJCF">Install and configure the TimesTen Client</a></p>
</li>
</ul>
<a id="CHDGDJCJ"></a>
<div id="TTOPR664" class="sect4">
<h5 class="sect4">Install and configure the TimesTen Server</h5>
<p>Perform the following tasks on the system on which the TimesTen database resides. This system is called the server system.</p>
<ol>
<li>
<p>Install the TimesTen Server. For information on how to install the TimesTen Server, see the <a class="olink TTINS" href="../TTINS/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span></a>.</p>
</li>
<li>
<p>Create and configure a server DSN corresponding to the TimesTen database. See <a href="#BGBHJHDD">&#34;Defining server DSNs on a TimesTen Server system&#34;</a>. Set TimesTen connection attributes in the server DSN. See <a class="olink TTREF114" href="../TTREF/attribute.htm#TTREF114">&#34;Connection Attributes&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Reference</span>.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<a id="CHDFAJCF"></a>
<div id="TTOPR665" class="sect4">
<h5 class="sect4">Install and configure the TimesTen Client</h5>
<p>Perform the following tasks on the system where the client application resides. This system is called the client system.</p>
<ol>
<li>
<p>Install the TimesTen Client. For information on how to install the TimesTen Client, see the <a class="olink TTINS" href="../TTINS/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span></a>.</p>
</li>
<li>
<p>If you are using JDBC to connect to the database, install the Java Developer&#39;s Kit (JDK) and set up the environment variables, such as <code>CLASSPATH</code> and the shared library search path. See <a class="olink TTJDV114" href="../TTJDV/env_setup.htm#TTJDV114">&#34;Setting the environment for Java development&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Java Developer&#39;s Guide</span> for details.</p>
</li>
<li>
<p>Create and configure a client DSN corresponding to the server DSN. See <a href="#BGBDCBAA">&#34;Creating and configuring client DSNs on UNIX&#34;</a> and <a href="#BGBCACDH">&#34;Creating and configuring client DSNs on Windows&#34;</a>.</p>
</li>
<li>
<p>For OCI and Pro*C/C++ client/server connections, configure the application to use either <code>tnsnames.ora</code> or easy connect as described in <a class="olink TTCDV204" href="../TTCDV/oci.htm#TTCDV204">&#34;Connecting to a TimesTen database from OCI&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database C Developer&#39;s Guide</span>.</p>
</li>
<li>
<p>Link client/server applications as follows:</p>
<ul>
<li>
<p>Link C and C++ client/server applications as described in <a class="olink TTCDV180" href="../TTCDV/compiling.htm#TTCDV180">&#34;Linking options&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database C Developer&#39;s Guide</span>.</p>
</li>
<li>
<p>Link OCI or Pro*C/C++ applications in the same manner as any OCI or Pro*C/C++ direct connect applications, which is described in <a class="olink TTCDV190" href="../TTCDV/oci.htm#TTCDV190">&#34;TimesTen Support for OCI&#34;</a> and <a class="olink TTCDV222" href="../TTCDV/pro_c.htm#TTCDV222">&#34;TimesTen Support for Pro*C/C++&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database C Developer&#39;s Guide</span>.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="CHDDAGID"></a>
<div id="TTOPR184" class="sect3">
<h4 class="sect3">Configuring cross-release TimesTen Client/Server</h4>
<p>A <a id="sthref175"></a><a id="sthref176"></a>TimesTen Client can connect to a TimesTen Server from a different release and of a different bit level. A TimesTen Client 7.0 or later release may connect to a TimesTen Server 7.0 or later release of any bit level. If you are configuring for a cross-release TimesTen Client/Server connection, install and configure as directed in <a href="#CHDIADAH">&#34;Configuring Client/Server of the same TimesTen release&#34;</a>.</p>
<p>The TimesTen Server loads a driver and a TimesTen database of its own release and bit level when a TimesTen Client application connects to the TimesTen database. The TimesTen Data Manager is automatically installed on the Server system.</p>
<ul>
<li>
<p>If you are using a local client/server connection using UNIX Domain sockets through <code>ttLocalHost</code>, then the platforms for the client and the server must be UNIX. The bit level and the release level for the client and server hosts must be the same.</p>
</li>
<li>
<p>If you are using a local client/server connection over a shared memory IPC using <code>ttShmHost</code>, then the platforms for the client and server can be either Windows or UNIX. The bit level may be different on the client and server hosts.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BGBHJHDD"></a>
<div id="TTOPR188" class="sect2">
<h3 class="sect2">Defining <a id="sthref177"></a><a id="sthref178"></a>server DSNs on a TimesTen Server system</h3>
<p>Server DSNs identify TimesTen databases that are accessed by a client/server connection. A server DSN must be defined as a system DSN and has the same configuration format and attributes as a TimesTen Data Manager DSN. For a description of DSNs and instructions on creating them, see <a href="using.htm#BCGCABBI">&#34;Creating a Data Manager DSN on Windows&#34;</a> or <a href="using.htm#BCGFEHHF">&#34;Creating a Data Manager DSN on UNIX&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can add or configure a server DSN while the TimesTen Server is running.</div>
<p>Because a server DSN identifies databases that are accessed by a TimesTen Server, a server DSN can be configured using the same connection attributes as a Data Manager DSN. In addition, there are connection attributes that are only allowed within the server DSN specification. These attributes enable you to specify multiple client/server connections to a single server.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Some connection attributes, including the ones described in the following sections, can be configured in the TimesTen daemon options file (<code>ttendaemon.options</code>). If you have set the same connection attributes in both the server DSN and the daemon options file, the value of the connection attributes in the server DSN takes precedence.
<p>For a description of the TimesTen daemon options see <a href="daemon.htm#CFFDJDAG">&#34;Managing TimesTen Client/Server options&#34;</a>.</p>
</div>
<p>The following sections describe the server DSN attributes in the context of the <code>odbc.ini</code> file or the ODBC Data Source Administrator:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For a complete description of the <a id="sthref179"></a><a id="sthref180"></a>TimesTen Server connection attributes, see <a class="olink TTREF114" href="../TTREF/attribute.htm#TTREF114">&#34;Connection Attributes&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Reference</span>.</div>
<ul>
<li>
<p><a href="#CHDBCFBI">Server DSN connection attributes defined in odbc.ini file</a></p>
</li>
<li>
<p><a href="#CHDCDDFB">Server DSN connection attributes defined in ODBC Data Source Administrator</a></p>
</li>
</ul>
<a id="CHDBCFBI"></a>
<div id="TTOPR666" class="sect3">
<h4 class="sect3">Server DSN connection attributes defined in odbc.ini file</h4>
<p>By default, TimesTen creates only one connection to a server per child process. However, the following Server connection attributes enable you to specify multiple client/server connections to a single TimesTen Server:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
These attributes are read at first connection. Changes to TimesTen Server settings do not occur until the TimesTen server is restarted. To restart the Server, use the following command:
<pre>ttDaemonAdmin -restartserver
</pre></div>
<ul>
<li>
<p><code>MaxConnsPerServer</code>: Set the maximum number of client connections that are handled by a single server process. The server is referenced by the server DSN. The server may have multiple server processes, where each process can only have the maximum number of connections as specified by this attribute.</p>
</li>
<li>
<p><code>ServersPerDSN</code>: You can have multiple server processes serving multiple incoming connections on the server. The <code>ServersPerDSN</code> attribute specifies the number of server processes that are initially spawned on the server. Each new incoming connection spawns a new server process up to the <code>ServersPerDSN</code>. When <code>ServersPerDSN</code> is reached, the existing server processes handle multiple connections up to the number specified in <code>MaxConnsPerServer</code>.</p>
</li>
<li>
<p><code>ServerStackSize</code>: Set the size of the stack on the Server for each connection.</p>
</li>
</ul>
<p>The <code>MaxConnsPerServer</code> and <code>ServersPerDSN</code> attributes are related. Neither of these attributes limits the number of client connections to given DSN. Instead, they control how connections are distributed over server processes. For example, if <code>MaxConnsPerServer</code> is set to 2 and <code>ServersPerDSN</code> is set to 5, then the following occurs:</p>
<ul>
<li>
<p>Connection 1 arrives at the server, the first server process is started for this connection. Connections 2 through 5 arrive at the server, server processes 2 through 5 are initiated where each server process services a connection.</p>
</li>
<li>
<p>Connection 6 arrives at the server. Since <code>ServersPerDSN</code> is reached, and <code>MaxConnsPerServer</code> is not, connection 6 is given to the first server process. Incoming connections 7 through 10 are given respectively as the second connection to server processes 2 through 5.</p>
</li>
<li>
<p>Connection 11 arrives at the server. Both <code>ServersPerDSN</code> and <code>MaxConnsPerServer</code> are reached, so server process 6 is started to handle connection 11.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDCDDFB"></a>
<div id="TTOPR667" class="sect3">
<h4 class="sect3">Server DSN connection attributes defined in ODBC Data Source Administrator</h4>
<p>If you anticipate having more than one connection using the server DSN, specify appropriate values for the server DSN attributes as needed. On Windows in the ODBC Data Source Administrator, these are specified on the <span class="bold">Server</span> tab.</p>
<div id="TTOPR668" class="figure">
<p class="titleinfigure"><a id="sthref181"></a>Figure 2-3 Server tab in TimesTen ODBC Administrator</p>
<img width="536" height="428" src="./img/odbc_server.gif" alt="Description of Figure 2-3 follows"/><br/>
<a id="sthref182" href="./img_text/odbc_server.htm">Description of &#34;Figure 2-3 Server tab in TimesTen ODBC Administrator&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFIHDB"></a>
<div id="TTOPR669" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Defining a logical server name</h3>
<p>A logical server name is a definition for a server system on the TimesTen Client. In some cases, such as when using a communication protocol other than TCP/IP for local client/server or the TimesTen Server process is not listening on the default TCP/IP port, you must define a logical server name on the client system. In these cases, the client DSN must refer to the logical server name. However, in most cases when the communication protocol used is TCP/IP, the client DSN can refer directly to the server host name without having to define a logical server name.</p>
<p>The following sections demonstrate how to define a logical server name on Windows or UNIX platforms:</p>
<ul>
<li>
<p><a href="#BGBJJACD">Creating and configuring a logical server name on Windows</a></p>
</li>
<li>
<p><a href="#BGBDAJEI">Creating and configuring a logical server name on UNIX</a></p>
</li>
</ul>
<a id="BGBJJACD"></a>
<div id="TTOPR191" class="sect3">
<h4 class="sect3">Creating and configuring a logical <a id="sthref183"></a><a id="sthref184"></a>server name on Windows</h4>
<p>To create and configure a logical server name:</p>
<ol>
<li>
<p>On the Windows Desktop from the <span class="bold">Start</span> menu, select <span class="bold">Settings</span>, <span class="bold">Control Panel</span>, <span class="bold">Administrative Tools</span>, and finally <span class="bold">Data Sources (ODBC)</span>.</p>
<p>This opens the ODBC Data Source Administrator.</p>
</li>
<li>
<p>Click <span class="bold">User DSN</span> or <span class="bold">System DSN</span>.</p>
</li>
<li>
<p>Select a TimesTen client DSN and click <span class="bold">Configure</span>. If no client DSN exists, click <span class="bold">Add</span>, select <span class="bold">TimesTen Client</span> <span class="bold">11.2.2</span> and click <span class="bold">Finish</span>. This opens the TimesTen Client DSN Setup dialog.</p>
</li>
<li>
<p>Click <span class="bold">Servers</span>. This opens the <a id="sthref185"></a>TimesTen Logical Server List dialog.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>. This opens the <a id="sthref186"></a>TimesTen Logical Server Name Setup dialog.</p>
</li>
<li>
<p>In the <span class="bold">Server Name</span> field, enter a logical server name.</p>
</li>
<li>
<p>In the <span class="bold">Description</span> field, enter an optional description for the server.</p>
</li>
<li>
<p>In the <span class="bold">Network Address</span><a id="sthref187"></a><a id="sthref188"></a> field, enter the host name or IP address of the server system. The Network Address must be one of:</p>
<div class="inftblhruleinformal">
<table class="cellalignment3233" title="Network address for connection types" summary="This table describes the network address for types of connections." dir="ltr">
<thead>
<tr class="cellalignment3224">
<th class="cellalignment3234" id="r1c1-t11">Type of connection</th>
<th class="cellalignment3234" id="r1c2-t11">Network Address</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r2c1-t11" headers="r1c1-t11">Remote client/server connection</td>
<td class="cellalignment3230" headers="r2c1-t11 r1c2-t11">The name of the system where the TimesTen Server is running. For example, <code>server.mycompany.com</code></td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r3c1-t11" headers="r1c1-t11">Local client/server connection that uses shared memory for inter-process communication (IPC)</td>
<td class="cellalignment3230" headers="r3c1-t11 r1c2-t11"><code>ttShmHost</code>
<p>In order to use shared memory as IPC, verify that you have configured your system correctly. See <a href="#CHDHCHIE">&#34;Shared memory communication&#34;</a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformal" --></li>
<li>
<p>In the <span class="bold">Network Port</span> field, TimesTen displays the port number on which the TimesTen Logical Server listens by default. If the TimesTen Server is listening on a different port, enter that port number in the <span class="bold">Network Port</span> field.</p>
<p>For example:</p>
<img width="399" height="176" src="./img/server.gif" alt="Description of server.gif follows"/><br/>
<a id="sthref189" href="./img_text/server.htm">Description of the illustration server.gif</a><br/>
<br/></li>
<li>
<p>Click <span class="bold">OK</span>, then click <span class="bold">Close</span> in the TimesTen Logical Server List dialog to finish creating the logical server name.</p>
</li>
</ol>
<p><a id="sthref190"></a>To<a id="sthref191"></a> delete a server name:</p>
<ol>
<li>
<p>On the Windows Desktop on the client system from the <span class="bold">Start</span> menu, select <span class="bold">Settings</span>, and then select <span class="bold">Control Panel</span>.</p>
</li>
<li>
<p>Double click <span class="bold">ODBC</span>. This opens the ODBC Data Source Administrator.</p>
</li>
<li>
<p>Click either <span class="bold">User DSN</span> or <a id="sthref192"></a><span class="bold">System DSN</span>.</p>
</li>
<li>
<p>Select a TimesTen client DSN and click <span class="bold">Configure</span>. This opens the TimesTen client DSN Setup dialog.</p>
</li>
<li>
<p>Click <span class="bold">Servers</span>. This opens the TimesTen Logical Server List dialog.</p>
</li>
<li>
<p>Select a server name from the <span class="bold">TimesTen Servers</span> list.</p>
</li>
<li>
<p>Click <span class="bold">Delete</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BGBDAJEI"></a>
<div id="TTOPR200" class="sect3">
<h4 class="sect3"><a id="sthref193"></a>Creating and configuring a logical server name on UNIX</h4>
<p>Define <a id="sthref194"></a><a id="sthref195"></a>logical server names in a file named by the <code>SYSTTCONNECTINI</code> environment variable. This file is referred to as the <code>ttconnect.ini</code> file. The file contains a description, a <a id="sthref196"></a><a id="sthref197"></a>network address and a port number.</p>
<p>TimesTen searches for the logical server in this order:</p>
<ol>
<li>
<p>In the file specified by the <code>SYSTTCONNECTINI</code> environment variable, if it is set</p>
</li>
<li>
<p>In the <code><span class="codeinlineitalic">install_dir</span></code><code>/info/sys.ttconnect.ini</code> file</p>
</li>
</ol>
<div id="TTOPR209" class="sect4"><a id="sthref198"></a>
<h5 class="sect4">Working with the ttconnect.ini file</h5>
<p>TimesTen uses the <code>ttconnect.ini</code> file to define the names and attributes for servers and the mappings between logical server names and their network addresses. This information is stored on the system where the TimesTen Client is installed. By default, the <code>ttconnect.ini</code> file is <code><span class="codeinlineitalic">install_dir</span></code><code>/info/sys.ttconnect.ini</code>.</p>
<p>To override the name and location of this file at runtime, set the <code>SYSTTCONNECTINI</code> environment variable to the name and location of the <code>ttconnect.ini</code> file before launching the TimesTen application.</p>
<p>You can define short-hand names for TimesTen Servers on UNIX in the <code>ttconnect.ini</code> file. The format of a TimesTen Server specification in the <code>ttconnect.ini</code> file is shown in <a href="#CHDHIAAF">Table 2-1</a>.</p>
<div id="TTOPR210" class="tblhruleformal">
<p class="titleintable"><a id="sthref199"></a><a id="CHDHIAAF"></a>Table 2-1 TimesTen Server format in the ttconnect.ini file</p>
<table class="cellalignment3233" title="TimesTen Server format in the ttconnect.ini file" summary="This table describes the components of a TimesTen server name." dir="ltr">
<thead>
<tr class="cellalignment3224">
<th class="cellalignment3234" id="r1c1-t12">Component</th>
<th class="cellalignment3234" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r2c1-t12" headers="r1c1-t12">
<p>[<code><span class="codeinlineitalic">ServerName</span></code>]</p>
</td>
<td class="cellalignment3230" headers="r2c1-t12 r1c2-t12">
<p>Logical server name of the TimesTen Server system</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r3c1-t12" headers="r1c1-t12">
<p><code>Description=</code><code><span class="codeinlineitalic">description</span></code></p>
</td>
<td class="cellalignment3230" headers="r3c1-t12 r1c2-t12">
<p>Description of the TimesTen Server</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r4c1-t12" headers="r1c1-t12">
<p><code>Network_Address=</code><code><span class="codeinlineitalic">network-address</span></code></p>
</td>
<td class="cellalignment3230" headers="r4c1-t12 r1c2-t12">
<p>The DNS name, host name or IP address of the system on which the TimesTen Server is running.</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r5c1-t12" headers="r1c1-t12">
<p><code>TCP_Port=</code><code><span class="codeinlineitalic">port-number</span></code></p>
</td>
<td class="cellalignment3230" headers="r5c1-t12 r1c2-t12">
<p>The TCP/IP port number where the TimesTen Server is running. Default for TimesTen release 11.2.2 is 53393 for 32-bit platforms and 53397 for 64-bit platforms.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p>The Network Address must be one of the following:</p>
<div class="inftblhruleinformal">
<table class="cellalignment3233" title="Network address for connection types" summary="This table describes the network address for types of connections." dir="ltr">
<thead>
<tr class="cellalignment3224">
<th class="cellalignment3234" id="r1c1-t13">Type of connection</th>
<th class="cellalignment3234" id="r1c2-t13">Network address</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r2c1-t13" headers="r1c1-t13">Remote client/server connection</td>
<td class="cellalignment3230" headers="r2c1-t13 r1c2-t13">The name of the system where the TimesTen Server is running. For example, <code>server.mycompany.com</code></td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r3c1-t13" headers="r1c1-t13">Local client/server connection that uses UNIX domain sockets</td>
<td class="cellalignment3230" headers="r3c1-t13 r1c2-t13"><code>ttLocalHost</code></td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r4c1-t13" headers="r1c1-t13">Local client/server connection that uses shared memory for inter-process communication</td>
<td class="cellalignment3230" headers="r4c1-t13 r1c2-t13"><code>ttShmHost</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblhruleinformal" -->
<div id="TTOPR201" class="example">
<p class="titleinexample"><a id="sthref200"></a>Example 2-1 Defining a logical server name</p>
<p>This example from a <code>ttconnect.ini</code> file defines a logical server name, <code>LogicalServer_1122</code>, for a TimesTen Server running on the system <code>server.mycompany.com</code> and listening on port <code>53397</code>. The instance name of the TimesTen installation is <code>tt1122_64</code>.</p>
<pre>[LogicalServer_1122]
Description=TimesTen Server 11.2.2
Network_Address=server.mycompany.com
TCP_Port=53397
</pre></div>
<!-- class="example" -->
<div id="TTOPR202" class="example">
<p class="titleinexample"><a id="sthref201"></a>Example 2-2 Using UNIX domain sockets for communication</p>
<p>If both the client and server are on the same UNIX system, applications using the TimesTen Client ODBC driver may improve performance by using UNIX domain sockets for communication.</p>
<p>The logical server name must also define the port number on which the TimesTen Server is listening so that multiple instances of the same version of TimesTen Server can be run on the same system. To achieve this, the logical server name definition in <code>ttconnect.ini</code> file might look like:</p>
<pre>[LocalHost_1122]
Description=Local TimesTen Server 11.2.2 through domain sockets
Network_Address=ttLocalHost
TCP_Port=53397
</pre></div>
<!-- class="example" -->
<div id="TTOPR203" class="example">
<p class="titleinexample"><a id="sthref202"></a>Example 2-3 Configuring shared memory for inter-process communication</p>
<p>If both the client and server are on the same system, applications can use shared memory for inter-process communication. This may result in the best performance.</p>
<p>The logical server name must also define the port number on which the TimesTen Server is listening in order to make the initial connection. To achieve this, the logical server name definition in <code>ttconnect.ini</code> file might look like:</p>
<pre>[ShmHost_1122]
Description= Local TimesTen Server 11.2.2 through shared memory
Network_Address=ttShmHost
TCP_Port=53397
</pre></div>
<!-- class="example" --></div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDFCIJH"></a>
<div id="TTOPR670" class="sect2">
<h3 class="sect2">Creating client DSNs on a TimesTen Client system</h3>
<p>A client DSN specifies a remote database and uses the TimesTen Client. The client DSN can be defined as a user or as a system DSN. A client <a id="sthref203"></a>DSN refers to a TimesTen database indirectly by specifying a <code>hostname, DSN</code> pair, where the hostname represents the server system on which TimesTen Server is running and the DSN refers to a server DSN that is defined on that host. These are configured within the client DSN connection attributes.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For a complete description of the <a id="sthref204"></a><a id="sthref205"></a>TimesTen client connection attributes, see <a class="olink TTREF114" href="../TTREF/attribute.htm#TTREF114">&#34;Connection Attributes&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Reference</span>.</div>
<p>Alternatively, you can configure connection attributes at runtime in the connection string that is passed to the ODBC <code>SQLDriverConnect</code> function or the URL string that is passed to the JDBC <a id="sthref206"></a><a id="sthref207"></a><a id="sthref208"></a><code>DriverManager.getConnection()</code> method. For example, you could use the <code>TTC_Server_DSN</code> attribute in either the connection string or the client DSN for a client to specify which DSN it should use on the server.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you configure any of the server DSN data store or first connection attributes within the definition of the client DSN, they are ignored. However, the TimesTen Client allows most of the server DSN attributes (except for the DataStore connection attribute) to be passed in as part of the connection or URL string. These are transparently passed on to the server and overrides what is configured in the server DSN.</div>
<p>The following sections describe how to create a client DSN and its attributes on either the Windows or UNIX platforms:</p>
<ul>
<li>
<p><a href="#BGBCACDH">Creating and configuring client DSNs on Windows</a></p>
</li>
<li>
<p><a href="#BGBDCBAA">Creating and configuring client DSNs on UNIX</a></p>
</li>
</ul>
<a id="BGBCACDH"></a>
<div id="TTOPR190" class="sect3">
<h4 class="sect3">Creating and configuring client DSNs on Windows</h4>
<p>On Windows, use the ODBC Data Source Administrator to configure logical server names and to define client DSNs.</p>
<p>This section includes the following topics:</p>
<ul>
<li>
<p><a href="#BGBCFJFA">Creating a client DSN on Windows</a></p>
</li>
<li>
<p><a href="#BGBCFFDG">Setting the timeout interval and authentication</a></p>
</li>
<li>
<p><a href="#BGBJJIAH">Accessing a remote database on Windows</a></p>
</li>
<li>
<p><a href="#BGBEADAI">Testing connections</a></p>
</li>
</ul>
<a id="BGBCFJFA"></a>
<div id="TTOPR192" class="sect4">
<h5 class="sect4">Creating a <a id="sthref209"></a><a id="sthref210"></a>client DSN on Windows</h5>
<p>To define a TimesTen client DSN:</p>
<ol>
<li>
<p>On the Windows Desktop from the <span class="bold">Start</span> menu, select <span class="bold">Settings</span>, <span class="bold">Control Panel</span>, <span class="bold">Administrative Tools</span>, and finally <span class="bold">Data Sources (ODBC)</span>. This opens the ODBC Data Source Administrator.</p>
</li>
<li>
<p>Choose either <span class="bold">User DSN</span> or <span class="bold">System DSN</span>. For a description of user DSNs and system DSNs see <a href="using.htm#BCGBEEBG">&#34;Specifying Data Source Names to identify TimesTen databases&#34;</a>.</p>
</li>
<li>
<p>Click <span class="bold">Add</span>. This opens the Create New Data Source dialog.</p>
<img width="478" height="358" src="./img/add_dsn.gif" alt="Description of add_dsn.gif follows"/><br/>
<a id="sthref211" href="./img_text/add_dsn.htm">Description of the illustration add_dsn.gif</a><br/>
<br/></li>
<li>
<p>Choose <span class="bold">TimesTen Client 11.2.2</span>. Click <span class="bold">Finish</span>. This opens the <a id="sthref212"></a>Oracle TimesTen client DSN Setup dialog.</p>
<img width="477" height="373" src="./img/setup_adv.gif" alt="Description of setup_adv.gif follows"/><br/>
<a id="sthref213" href="./img_text/setup_adv.htm">Description of the illustration setup_adv.gif</a><br/>
<br/></li>
<li>
<p>In the <span class="bold">Client DSN</span> field, enter a name for the client DSN.</p>
<p>The <a id="sthref214"></a><a id="sthref215"></a><a id="sthref216"></a>name must be unique to the current list of defined DSNs on the system where the client application resides and can contain up to 32 characters. To avoid potential conflicts, you may want to use a consistent naming scheme that combines the logical server name with the name of the server DSN. For example, a corporation might have client DSNs named <code>Boston_Accounts</code> and <code>Chicago_Accounts</code> where <code>Boston</code> and <code>Chicago</code> are logical server names and <code>Accounts</code> is a server DSN.</p>
</li>
<li>
<p>In the <span class="bold">Description</span> field, enter an optional description for the client DSN.</p>
</li>
<li>
<p>In the <span class="bold">Server Name</span> or <a id="sthref217"></a><span class="bold">Network Address</span> field, specify the logical server or network address of the server system.</p>
<ul>
<li>
<p>The name can be a host name, IP address or logical server name. The logical server names defined on the client system can be found in the drop-down list. To define logical server names, click <span class="bold">Servers</span>.</p>
</li>
<li>
<p>If you do not specify a logical server name in this field, the TimesTen Client assumes that the TimesTen Server is running on the default TCP/IP port number. Therefore, if your Server is running on a port other than the default port and you do not specify a logical server name in this field, you must specify the port number in the ODBC connection string, using the <code>TCP_Port</code> attribute.</p>
<p>For more information on defining logical server names, see <a href="#BGBJJACD">&#34;Creating and configuring a logical server name on Windows&#34;</a>.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">Server DSN</span> field, enter the server DSN corresponding to the database that the client application accesses.</p>
<ul>
<li>
<p>If you do not know the name of the server DSN, click <span class="bold">Refresh</span> to obtain a list of server DSNs that are defined on the system specified in the <span class="bold">Server Name</span> or <span class="bold">Network Address</span> field. Select the server DSN from the drop-down list.</p>
</li>
<li>
<p>You must have a network connection to the system where the TimesTen Server is running.</p>
</li>
</ul>
<p>For more information about customizing which server DSNs show in this list, see <a href="using.htm#BCGBAADG">&#34;ODBC Data Sources&#34;</a>.</p>
</li>
<li>
<p>In the <span class="bold">Connection Character Set</span> field, choose a character set that matches your terminal settings or your data source. The default <a id="sthref218"></a>connection character set is <code>US7ASCII</code>. For more information, see <a class="olink TTREF176" href="../TTREF/attribute.htm#TTREF176">&#34;ConnectionCharacterSet&#34;</a> in <span class="italic">Oracle TimesTen In-Memory Database Reference</span>.</p>
</li>
<li>
<p>If you are using automatic client failover, you would configure the <span class="bold">Failover Server Name</span>, <span class="bold">Failover Port Range</span>, and <span class="bold">Failover DSN</span>. For details, see <a href="#CHDCGBGF">&#34;Configuring automatic client failover&#34;</a>.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<a id="BGBCFFDG"></a>
<div id="TTOPR194" class="sect4">
<h5 class="sect4">S<a id="sthref219"></a><a id="sthref220"></a><a id="sthref221"></a><a id="sthref222"></a><a id="sthref223"></a>etting the timeout interval and authentication</h5>
<p>You can define the user name, password and timeout interval for the client/server connection in the client DSN with the <code>UID</code>, <code>PWD</code>, and <code>Timeout</code> attributes. However, configuring the authentication in the client DSN is optional, since you can provide the user name and password when connecting. It is strongly discouraged to supply the password in the client DSN, since the password is stored unencrypted on the client.</p>
<p>For a description of the <code><a id="sthref224"></a><a id="sthref225"></a><a id="sthref226"></a>UID</code>, <code>PWD</code>, and <code>Timeout</code> attributes, see <a class="olink TTREF114" href="../TTREF/attribute.htm#TTREF114">&#34;Connection Attributes&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Reference</span>.</p>
<p>To set the timeout interval and authentication:</p>
<ol>
<li>
<p>In the <span class="bold">User ID</span> field of the Oracle TimesTen client DSN Setup dialog box, enter a user name that is defined on the server system.</p>
</li>
<li>
<p>In the <span class="bold">Password</span> field, enter the password that corresponds to the user ID. Alternatively, you can enter an encrypted password in the <span class="bold">PwdCrypt</span> field.</p>
</li>
<li>
<p>In the <span class="bold">Timeout Interval</span> field, enter the interval time in seconds. You can enter any non-negative integer. A value of 0 indicates that client/server operations should not time out. The default is 60 seconds. The maximum is 99,999 seconds.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to save the setup.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<a id="BGBJJIAH"></a>
<div id="TTOPR196" class="sect4">
<h5 class="sect4">Accessing a <a id="sthref227"></a>remote database on Windows</h5>
<p>In this example, the TimesTen Client system is <code>client.mycompany.com</code>. The client application is accessing the server DSN on the remote server system, <code>server.mycompany.com</code><span class="bold">.</span> The logical server name is <code>LogicalServer_1122</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
These examples reference the sample DSNs preconfigured in a fresh TimesTen installation.</div>
<ol>
<li>
<p>On the server system <code>server.mycompany.com</code>, use the <code>ttStatus</code> utility to verify that the TimesTen Server is running and to verify the port number it is listening on.</p>
</li>
<li>
<p>Using the procedure in <a href="#BGBHJHDD">&#34;Defining server DSNs on a TimesTen Server system&#34;</a>, verify that the server DSN, <code>sampledb_1122</code>, is defined as a system DSN on <code>server.mycompany.com</code>.</p>
</li>
<li>
<p>On the client system, <code>client.mycompany.com</code>, create a Logical Server Name entry for the remote TimesTen Server. In the TimesTen Logical Server Name Setup dialog:</p>
<ul>
<li>
<p>In the Server Name field, enter <code>LogicalServer_1122</code>.</p>
</li>
<li>
<p>In the Network Address field, enter <code>server.mycompany.com</code>.</p>
</li>
<li>
<p>In the Network Port field, enter <code>53397</code>. This is the default port number for the TimesTen Server on 64-bit platforms for TimesTen Release 11.2.2. This value should correspond to the value displayed by <code>ttStatus</code> in Step 1.</p>
</li>
</ul>
<p>See <a href="#BGBJJACD">&#34;Creating and configuring a logical server name on Windows&#34;</a> for the procedure to open the TimesTen Server Name dialog and for more details.</p>
</li>
<li>
<p>On the client system, <code>client.mycompany.com</code>, create a client DSN that corresponds to the remote server DSN, <code>sampledbCS_1122</code>. In the TimesTen client DSN Setup dialog, enter the following values:</p>
<ul>
<li>
<p>In the <span class="bold">Client DSN</span> field, enter <code>sampledbCS_1122</code>.</p>
</li>
<li>
<p>In the <span class="bold">Server Name</span> or <span class="bold">Network Address</span> field, enter <code>LogicalServer_1122</code>.</p>
</li>
<li>
<p>In the <span class="bold">Description</span> field, enter a description for the server. Entering data into this field is optional.</p>
</li>
<li>
<p>In the <span class="bold">Server DSN</span> field, enter <code>sampledb_1122</code>.</p>
</li>
</ul>
</li>
<li>
<p>Run the client application from the system <code>client.mycompany.com</code> using the client DSN, <code>sampledbCS_1122</code>. The example below uses the <code>ttIsql</code> program installed with TimesTen Client.</p>
<pre>ttIsql -connStr &#34;DSN=sampledbCS_1122&#34;
</pre></li>
</ol>
<p>The next example describes how to access a TimesTen Server that is listening on a port numbered other than the default port number.</p>
<p>Consider that the network address of the TimesTen Server is <code>server.mycompany.com</code> and the Server is listening on Port 53397. The following methods can be used to connect to a Server DS:</p>
<ol>
<li>
<p>Define the logical server name <code>LogicalServer_1122</code> with <code>server.mycompany.com</code> as the Network Address and <code>53397</code> as the Network Port. Define <code>Client_DSN</code> as the client DSN with <code>LogicalServer_1122</code> as the Server name and <code>Server_DSN</code> as the server DSN. Then, execute the command:</p>
<pre>ttIsql -connStr &#34;DSN=Client_DSN&#34;
</pre></li>
<li>
<p>Alternatively, define the logical server name <code>LogicalServer_tt1122</code> with <code>server.mycompany.com</code> as the Network Address and the default port number as the Network Port. Define <code>Client_DSN</code> as the client DSN with <code>LogicalServer_1122</code> as the Server name and <code>Server_DSN</code> as the server DSN. Overwrite the port number in the command:</p>
<pre>ttIsql -connStr &#34;DSN=Client_DSN;TCP_Port=53397&#34;
</pre></li>
</ol>
</div>
<!-- class="sect4" -->
<a id="BGBEADAI"></a>
<div id="TTOPR197" class="sect4">
<h5 class="sect4">Testing <a id="sthref228"></a><a id="sthref229"></a>connections</h5>
<p>To test client application connections to TimesTen databases:</p>
<ol>
<li>
<p>On the Windows Desktop from the <span class="bold">Start</span> menu, select <span class="bold">Settings</span>, and then select <span class="bold">Control Panel</span>.</p>
</li>
<li>
<p>Double click <span class="bold">ODBC</span>. This opens the ODBC Data Source Administrator.</p>
</li>
<li>
<p>Click <span class="bold">User DSN</span> or <a id="sthref230"></a><span class="bold">System DSN</span>.</p>
</li>
<li>
<p>Select the TimesTen client DSN whose connection you want to test and click <span class="bold">Configure</span>. This opens the TimesTen Client DSN Setup dialog.</p>
<img width="477" height="373" src="./img/setup_adv.gif" alt="Description of setup_adv.gif follows"/><br/>
<a id="sthref231" href="./img_text/setup_adv.htm">Description of the illustration setup_adv.gif</a><br/>
<br/></li>
<li>
<p>Click <span class="bold">Test TimesTen Server Connection</span> to test the connection to TimesTen Server.</p>
<p>The ODBC Data Source Administrator attempts to connect to TimesTen Server and displays messages to indicate if it was successful. During this test TimesTen Client verifies that:</p>
<ul>
<li>
<p>ODBC, Windows sockets and TimesTen Client are installed on the client system.</p>
</li>
<li>
<p>The server specified in the <span class="bold">Server Name</span> or <span class="bold">Network Address</span> field of the TimesTen Client DSN Setup dialog is defined and the corresponding system exists.</p>
</li>
<li>
<p>The TimesTen Server is running on the server system.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Test Data Source Connection</span> to test the connection to the server DSN. The ODBC Data Source Administrator attempts to connect to the server DSN and displays messages to indicate whether it was successful.</p>
<p>During this test, TimesTen Client verifies that:</p>
<ul>
<li>
<p>The server DSN specified in the <span class="bold">Server DSN</span> field is defined on the server system.</p>
</li>
<li>
<p>A client application can connect to the server DSN.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="BGBDCBAA"></a>
<div id="TTOPR198" class="sect3">
<h4 class="sect3">Creating and configuring <a id="sthref232"></a>client DSNs on UNIX</h4>
<p>On UNIX, you define logical server names by editing the <code>ttconnect.ini</code> file; you define client DSNs by editing the user <code>odbc.ini</code> file for user DSN or the system <code>odbc.ini</code> file for system DSNs. For a description of user and system DSNs, see <a href="using.htm#BCGBEEBG">&#34;Specifying Data Source Names to identify TimesTen databases&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
T<a id="sthref233"></a><a id="sthref234"></a>he<a id="sthref235"></a> syntax for defining the client DSN in the <code>odbc.ini</code> file is described in <a href="using.htm#BCGIFGIB">&#34;odbc.ini file entry descriptions&#34;</a>.</div>
<p>In the ODBC Data Sources section of the <code>odbc.ini</code> file, add an entry for the client DSN. The client DSN specifies the location of the TimesTen database with the following attributes:</p>
<ul>
<li>
<p>ODBC client driver to use for the connection.</p>
</li>
<li>
<p>The server system on which the database resides on is specified in the <code>TTC_Server</code> attribute.</p>
</li>
<li>
<p>The server DSN that specifies the intended database is specified in the <code>TTC_Server_DSN</code> attribute.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The server DSN is defined on the server system where the database resides.</div>
</li>
</ul>
<p>For each TimesTen database with which the client connects needs to have two entries:</p>
<ul>
<li>
<p>Define the client DSN name and provide the name of the ODBC client driver to use in the ODBC Data Sources section.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
All available ODBC client drivers are listed in <a href="using.htm#BCGGBJJB">&#34;Connecting using TimesTen ODBC drivers&#34;</a>.</div>
</li>
<li>
<p>Create an entry with the client DSN you defined in the ODBC Data Sources section. Within this section, specify the server system and the server DSN.</p>
</li>
</ul>
<p>The following is the syntax for providing the client DSN name and the ODBC client driver to use:</p>
<pre>[ODBC Data Sources]
<span class="italic">Client_DSN</span>=<span class="italic">Name-of-ODBC-driver</span>
</pre>
<p>For example, to defined <code>sampbledbCS_1122</code> as the client DSN and associate it with the TimesTen Client ODBC driver, you would make the following entry in the ODBC Data Sources section of the <code>odbc.ini</code> file:</p>
<pre>[ODBC Data Sources]
sampledbCS_1122=TimesTen Client 11.2.2
</pre>
<p>After the ODBC Data Sources section, you would add an entry to specify the server system and server DSN for each data source you defined. Each client DSN listed in the ODBC Data Sources section of the <code>odbc.ini</code> file requires a its own specification section.</p>
<p>The following is an example specification of the TimesTen client DSN <code>sampledbCS_1122</code> where the server is configured with a logical server name of <code>LogicalServer_1122</code> and the server DSN is <code>sampledb_1122</code>:</p>
<pre>[sampledbCS_1122]
TTC_Server=LogicalServer_1122
TTC_Server_DSN=sampledb_1122
</pre>
<p>The <code>TTC_Server*</code> attributes are the main attributes for a client DSN definition. There are only a few client connection attributes, each of which are for identifying the server DSN. If you provide any server connection attributes in the client definition, these attributes are ignored. General connection attributes may be specified in the client definition. For a description of all client and general connection attributes available for use in the <code>odbc.ini</code> file, see <a class="olink TTREF114" href="../TTREF/attribute.htm#TTREF114">&#34;Connection Attributes&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Reference</span>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDDEAJH"></a>
<div id="TTOPR736" class="sect2">
<h3 class="sect2">Using auto<a id="sthref236"></a><a id="sthref237"></a><a id="sthref238"></a>matic client failover</h3>
<p>Automatic client failover is for use in High Availability scenarios with a TimesTen active standby pair replication configuration. Consider a scenario where failure of the active TimesTen node has resulted in the original standby node becoming the new active node. With the automatic client failover feature, failover (transfer) to the new active (original standby) node occurs, and applications are automatically reconnected to the new active node. TimesTen provides features that enable applications to be alerted when this occurs, so they can take any appropriate action.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Automatic client failover is complementary to Oracle Clusterware in situations where Oracle Clusterware is used, but the two features are not dependent on each other. For information about Oracle Clusterware, you can refer to <a class="olink TTREP257" href="../TTREP/cluster.htm#TTREP257">&#34;Using Oracle Clusterware to Manage Active Standby Pairs&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Replication Guide</span>.</div>
<p>The following sections describe how to use and enable automatic client failover:</p>
<ul>
<li>
<p><a href="#CHDJFCDJ">Features and functionality of automatic client failover</a></p>
</li>
<li>
<p><a href="#CHDCGBGF">Configuring automatic client failover</a></p>
</li>
</ul>
<a id="CHDJFCDJ"></a>
<div id="TTOPR738" class="sect3">
<h4 class="sect3">Features and functionality of automatic client failover</h4>
<p>When an application connects to the active node, the connection is registered and this registration is replicated to the standby node. If the active node fails, the standby node becomes the active node and then notifies the client of the failover. At this point, the client has a new connection to the new active node. No state from the original connection, other than the connection handle, is preserved. All client statement handles from the original connection are marked as invalid.</p>
<p>When failover completes, TimesTen makes a callback to a user-defined function that you register. This function takes care of any custom actions you want to occur in a failover situation.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For C developers, details of how to create the callback and to facilitate an automatic client failover are discussed in <a class="olink TTCDV174" href="../TTCDV/writing_app.htm#TTCDV174">&#34;Using automatic client failover in your application&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database C Developer&#39;s Guide</span>.
<p>For Java developers, details are discussed in <a class="olink TTJDV187" href="../TTJDV/writing_app.htm#TTJDV187">&#34;JDBC support for automatic client failover&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Java Developer&#39;s Guide</span>.</p>
</div>
<p>The following items list the behavior of automatic client failover in particular failure scenarios:</p>
<ul>
<li>
<p>If the client library loses the connection to the active node, it fails over and attempts to switch to the standby node.</p>
</li>
<li>
<p>If, for some reason, there is no active node (no failover has occurred at the server side and both servers are either standby or idle), applications cannot connect. But automatic client failover continues to alternate between both servers until it finds an active node or times out.</p>
</li>
<li>
<p>If a failover has already occurred and the client is already connected to the new active node, the next failover request results in an attempt to reconnect to the original active node. If that fails, alternating attempts are made to connect to the two servers until it times out.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When TimesTen attempts to recover from failure when using automatic client failover, a timeout specifies the duration for all attempts at failover recovery. The connection might be blocked while failover is attempted.
<p>This timeout defaults to 60 seconds or can be set with the value of the <code>TTC_Timeout</code> connection attribute. The minimum timeout is 60 seconds, regardless of the <code>TTC_Timeout</code> setting. Refer to <a class="olink TTREF199" href="../TTREF/attribute.htm#TTREF199">&#34;TTC_Timeout&#34;</a> in <span class="italic">Oracle TimesTen In-Memory Database Reference</span> for information about that attribute.</p>
</div>
</li>
<li>
<p>If the active node fails before the client registration is successfully propagated by replication to the standby node, the client does not receive a failover message and the connection registration is lost. However, the client library eventually notices (through TCP) that its connection to the original active node is lost and initiates a failover attempt.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>These features apply only to client/server connections, not direct connections.</p>
</li>
<li>
<p>Failover connections are created only as needed, not in advance.</p>
</li>
<li>
<p>Using automatic client failover results in one additional database connection per server process, which should be considered as you choose a setting for the TimesTen <code>Connections</code> attribute (upper limit of the number of concurrent connections to the database). The number of server processes, in turn, is affected by the setting of the <code>MaxConnsPerServer</code> attribute (maximum number of concurrent connections a child server process can handle). For example, if you have 12 connections and <code>MaxConnsPerServer=3</code>, then there are four server processes. Therefore, if some of the connections use automatic client failover, there are four additional connections.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CHDCGBGF"></a>
<div id="TTOPR193" class="sect3">
<h4 class="sect3">Configuring automatic client failover</h4>
<p>You can only configure <a id="sthref239"></a><a id="sthref240"></a>automatic client failover for databases that have active standby pair replication schemes. This enables the client to fail over automatically to the server on which the standby database resides.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
See <a class="olink TTCDV174" href="../TTCDV/writing_app.htm#TTCDV174">&#34;Using automatic client failover in your application&#34;</a> in <span class="italic">Oracle TimesTen In-Memory Database C Developer&#39;s Guide</span> for information about connection option persistence after failover.</div>
<div id="TTOPR737" class="sect4"><a id="sthref241"></a>
<h5 class="sect4">Configuring automatic client failover on Windows</h5>
<p>In the Oracle TimesTen Client DSN Setup dialog, after you have configured the rest of the client DSN information as described in <a href="#BGBCACDH">&#34;Creating and configuring client DSNs on Windows&#34;</a>, complete the following fields:</p>
<ol>
<li>
<p>In the <span class="bold">Failover Server Name or Network Address</span> field, specify the logical server or network address of the server system.</p>
<ul>
<li>
<p>The name can be a host name, IP address or logical server. The logical server names defined on the client system can be found in the drop-down list. To define logical server names, click <span class="bold">Servers</span>.</p>
</li>
<li>
<p>If you do not specify a logical server name in this field, the TimesTen Client assumes that the TimesTen Server is running on the default TCP/IP port number. Therefore, if the Server is running on a port other than the default port and you do not specify a logical server name in this field, you must specify the port number in the ODBC connection string, using the <code>TCP_Port</code> attribute.</p>
<p>For more information on defining logical server names, see <a href="#BGBJJACD">&#34;Creating and configuring a logical server name on Windows&#34;</a>.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="bold">Failover Server DSN</span> field, enter the server DSN corresponding to the standby database.</p>
<ul>
<li>
<p>If you do not know the name of the server DSN, click <span class="bold">Refresh</span> to obtain a list of server DSNs that are defined on the system specified in the <span class="bold">Failover Server Name</span> or <span class="bold">Network Address</span> field. Select the server DSN from the drop-down list.</p>
</li>
<li>
<p>You must have a network connection to the system where the TimesTen Server is running.</p>
</li>
</ul>
</li>
<li>
<p>Optionally, specify the <span class="bold">Failover Port Range</span> for the port or port range where TimesTen listens for failover notifications. This connection attribute needs to be specified as a single port number if you have firewall issues between the server hosts and the client hosts. By default, TimesTen uses a port chosen by the operating system. The failover notifications are issued from the server hosts to the client hosts. A port range is set as a lower and upper value separated by hyphen.</p>
<p>You only need to specify a port range if both of these conditions are true:</p>
<ul>
<li>
<p>You have firewall issues between the server hosts and the client hosts.</p>
</li>
<li>
<p>You use multiple client applications configured for automatic client failover on a single client host.</p>
</li>
</ul>
<p>Each client application configured for automatic client failover on a client host needs to listen on a distinct port for failover notifications.</p>
</li>
</ol>
</div>
<!-- class="sect4" -->
<a id="CHDIGBCG"></a>
<div id="TTOPR205" class="sect4">
<h5 class="sect4">Configuring automatic client failover on UNIX</h5>
<p><a id="sthref242"></a><a id="sthref243"></a>On the client, configure the following:</p>
<ol>
<li>
<p>In the <code>odbc.ini</code> file on the client, define the client DSNs for the standby node by configuring <code>TTC_Server2</code> to the server on which the standby database resides. Set <code>TTC_Server_DSN2</code> to the name of the standby database.</p>
<p>For example:</p>
<pre>[MyDSN]
TTC_Server=LogicalServer_1122
TTC_Server_DSN=MyDSN
TTC_Timeout=60
TTC_Server2=LogicalServer2_1122
TTC_Server_DSN2=MyDSN_Standby
</pre></li>
<li>
<p>In the <code>ttconnect.ini</code> file on the client, define the logical server for the standby node by configuring the <code>Network_Address</code> and <code>TCP_Port</code> to the server on which the standby database resides.</p>
<pre>[LogicalServer_1122]
Description=TimesTen Server 11.2.2
Network_Address=server.mycompany.com
TCP_Port=53397

[LogicalServer2_1122]
Description=TimesTen Server 11.2.2
Network_Address=server2.mycompany.com
TCP_Port=53397
</pre>
<p>Setting any of <code>TTC_Server2</code>, <code>TTC_Server_DSN2</code>, or <code>TCP_Port2</code> implies the following:</p>
<ul>
<li>
<p>You intend to use automatic client failover.</p>
</li>
<li>
<p>You understand that a new thread is created for your application to support the failover mechanism.</p>
</li>
</ul>
</li>
<li>
<p>Optionally, configure the <code>TTC_FailoverPortRange</code> attribute to specify a port or port range where the failover thread listens for failover notifications. This connection attribute needs to be specified as a single port number if you have firewall issues between the server hosts and the client hosts. By default, a port chosen by the operating system is used. The failover notifications are issued from the server hosts to the client hosts. A port range is set as a lower and upper value separated by hyphen.</p>
<p>You only need to specify a port range if both of these conditions are true:</p>
<ul>
<li>
<p>You have firewall issues between the server hosts and the client hosts.</p>
</li>
<li>
<p>You use multiple client applications configured for automatic client failover on a single client host.</p>
</li>
</ul>
<p>Each client application configured for automatic client failover on a client host needs to listen on a distinct port for failover notifications.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>Like other connection attributes, <code>TTC_Server2</code>, <code>TTC_Server_DSN2</code>, and <code>TCP_Port2</code> can be specified in the connection string, overriding any settings in the DSN.</p>
</li>
<li>
<p>If <code>TTC_Server2</code> is specified but <code>TTC_Server_DSN2</code> and <code>TCP_Port2</code> are not, then <code>TTC_Server_DSN2</code> is set to the <code>TTC_Server_DSN</code> value and <code>TCP_Port2</code> is set to the <code>TCP_Port</code> value.</p>
</li>
<li>
<p>If the client library cannot connect to <code>TTC_Server_DSN</code>, it tries the standby, <code>TTC_Server_DSN2</code>.</p>
</li>
<li>
<p><code>TTC_Server</code> and <code>TTC_Server2</code> can have the same setting if it is a virtual IP address.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBEJAHF"></a>
<div id="TTOPR185" class="sect1">
<h2 class="sect1">Running the <a id="sthref244"></a><a id="sthref245"></a>TimesTen Server</h2>
<p>The <a id="sthref246"></a>TimesTen Server is a child process of the TimesTen daemon. If you installed the TimesTen Server, this process is automatically started and stopped when the TimesTen daemon or Data Manager service is started or stopped. You can explicitly start or shut down the daemon or service with the <code>ttDaemonAdmin</code> utility.</p>
<p>The TimesTen Server handles requests from applications linked with the TimesTen Client driver.</p>
<p>The default ports for TimesTen daemon and TimesTen Servers are described in the <a class="olink TTINS113" href="../TTINS/install.htm#TTINS113">&#34;TimesTen Installation&#34;</a> chapter in the <span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span>. System administrators can change the port number during installation to avoid conflicts or for security reasons. The port range is from 1 - 65535. To connect to the TimesTen Server, client DSNs are required to specify the port number as part of the logical server name definition or in the connection string.</p>
<p>On Windows, the TimesTen service is run as user <code>SYSTEM</code>. On UNIX, the TimesTen Server is run as the instance administrator.</p>
<p>For instructions on modifying TimesTen Server options, see <a href="daemon.htm#CFFBEHIJ">&#34;Modifying the TimesTen Server options&#34;</a>.</p>
<a id="CHDIJEEF"></a>
<div id="TTOPR186" class="sect2">
<h3 class="sect2">Server <a id="sthref247"></a><a id="sthref248"></a>informational messages</h3>
<p>The TimesTen Server records &#34;connect,&#34; &#34;disconnect&#34; and various warning, error and informational entries in log files.</p>
<p>On Windows, these application messages can be accessed with the Event Viewer.</p>
<p>On UNIX, the TimesTen Server logs messages to the <code><span class="codeinlineitalic">install_dir</span></code><code>/info/ttmesg.log</code> and <code><span class="codeinlineitalic">install_dir</span></code><code>/info/tterrors.log</code> files by default. Optionally, you can configure TimesTen to log messages to the <code>syslog</code> facility.</p>
<p>See <a href="daemon.htm#CFFIGGJE">&#34;Modifying informational messages&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBBCEAC"></a>
<div id="TTOPR206" class="sect1">
<h2 class="sect1"><a id="sthref249"></a>Accessing a remote database on UNIX</h2>
<p>In this example, the TimesTen Client application system is a 64-bit Solaris system, <code>client.mycompany.com</code>. The client application is accessing the server DSN <code>sampledb_</code><code>1122</code> on the remote server system, another 64-bit Solaris system, <code>server.mycompany.com</code><span class="bold">.</span> The logical server name is <code>LogicalServer_1122</code>. The instance name of the TimesTen installation is <code>tt1122</code><code>_64</code>.</p>
<ol>
<li>
<p>On the server system <code>server.mycompany.com</code>, use the <code>ttStatus</code> utility to verify that the TimesTen Server is running and to verify the port number on which it is listening.</p>
</li>
<li>
<p>Verify that the server DSN <code>sampledb_1122</code> exists in the system <code>odbc.ini</code> file on <code>server.mycompany.com</code>.</p>
<p>There should be an entry in the <code>odbc.ini</code> file as follows:</p>
<pre>[sampledb_1122]
Driver=<span class="italic">install_dir</span>/lib/libtten.so
DataStore=<span class="italic">install_dir</span>/server/sampledb_1122
</pre></li>
<li>
<p>Create a logical server name entry for the remote TimesTen Server in the <code>ttconnect.ini</code> file on <code>client.mycompany.com</code>.</p>
<pre>[LogicalServer_1122]
Network_Address=server.mycompany.com
TCP_Port=53397
</pre>
<p>See <a href="#BGBDCBAA">&#34;Creating and configuring client DSNs on UNIX&#34;</a> for information on the creating a <code>ttconnect.ini</code> file.</p>
</li>
<li>
<p>On the client system, <code>client.mycompany.com</code>, create a client DSN corresponding to the remote server DSN, <code>sampledb_1122</code>.</p>
<p>There should be an entry in the <code>odbc.ini</code> file as follows:</p>
<pre>[sampledbCS_1122]
TTC_Server=LogicalServer_1122
TTC_Server_DSN=sampledb_1122
</pre>
<p>See <a href="using.htm#BCGBIAFB">&#34;Overview of user and system DSNs&#34;</a> for information on the location of the proper <code>odbc.ini</code> file.</p>
</li>
<li>
<p>Run the client application from the system <code>client.mycompany.com</code> using the client DSN, <code>sampledbCS_1122</code>. The example below uses the <code>ttIsql</code> program that is installed with TimesTen Client.</p>
<pre>ttIsqlCS -connStr &#34;DSN=sampledbCS_1122&#34;
</pre></li>
</ol>
<p>The next example describes how to access a TimesTen Server that is listening on a port numbered other than the default port number.</p>
<p>Let us consider the Network Address of the TimesTen Server is <code>server.mycompany.com</code> and the Server is listening on Port <code>53397</code>. The following methods can be used to connect to a Server DS:</p>
<ol>
<li>
<p>Define the logical server name <code>LogicalServer_1122</code> with <code>server.mycompany.com</code> as the Network Address and <code>53397</code> as the Network Port. Define <code>Client_DSN</code> as the client DSN with <code>LogicalServer_1122</code> as the server name and <code>Server_DSN</code> as the server DSN. Execute the command:</p>
<pre>ttIsqlCS -connStr &#34;DSN=Client_DSN&#34;
</pre></li>
<li>
<p>Alternatively, define the logical server name <code>logical_server</code> with <code>server.mycompany.com</code> as the Network Address and the default port number as the Network Port. Define a client DSN with <code>LogicalServer_1122</code> as the server name and <code>Server_DSN</code> as the server DSN. Overwrite the port number in the command:</p>
<pre>ttIsqlCS -connStr &#34;DSN=Client_DSN;TCP_Port=53397&#34;
</pre></li>
<li>
<p>Alternatively, define the server in the connection string. In this case you do not need to define a client DSN, nor a logical server name.</p>
<pre>ttIsqlCS -connStr &#34;TTC_Server=server.mycompany.com;TTC_Server_DSN=Server_DSN;TCP_Port=53397&#34;
</pre></li>
</ol>
<a id="CHDCHAEJ"></a>
<div id="TTOPR207" class="sect2">
<h3 class="sect2"><a id="sthref250"></a>Testing connections</h3>
<p>To test client application connections to TimesTen databases:</p>
<ol>
<li>
<p>Verify that the client system can access the server system.</p>
</li>
<li>
<p>Run <code>ping</code> from the client system to see if a response is received from the server system.</p>
</li>
<li>
<p>Verify that the TimesTen Server is running on the server system.</p>
<ul>
<li>
<p>Use <code>telnet</code> to connect to the port on which the TimesTen Server is listening. For example:</p>
<pre>telnet server.mycompany.com 53397
</pre></li>
<li>
<p>If you successfully connect to the TimesTen Server, you see a message similar to:</p>
<pre>Connected to server.mycompany.com
</pre></li>
<li>
<p>If the server system responds to a command, but TimesTen Server does not, the TimesTen Server may not be running. In the case of a failed connection, you see a message similar to:</p>
<pre>telnet: Unable to connect to remote host: Connection refused
</pre></li>
<li>
<p>Use the <code>ttStatus</code> utility on the server system to determine the status and port number of the TimesTen Server. Generally, the TimesTen Server is started at installation time. If the TimesTen Server is not running, you must start it. For information on starting the TimesTen Server, see <a href="daemon.htm#CFFBEHIJ">&#34;Modifying the TimesTen Server options&#34;</a>.</p>
</li>
</ul>
</li>
<li>
<p>Verify that the client application can connect to the database. If you cannot establish a connection to the database, check that the <code>ttconnect.ini</code> file contains the correct information.</p>
</li>
<li>
<p>If the information in the <code>ttconnect.ini</code> file is correct, check that a server DSN corresponding to the database has been defined properly in the system <code>odbc.ini</code> file on the system where the database resides and where the TimesTen Server is running.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3223">
<tr>
<td class="cellalignment3230">
<table class="cellalignment3228">
<tr>
<td class="cellalignment3227"><a href="using.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3227"><a href="daemon.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3232">
<table class="cellalignment3226">
<tr>
<td class="cellalignment3227"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3227"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3227"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3227"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3227"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3227"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
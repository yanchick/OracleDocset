<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-113903"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Managing%20Access%20Control"></a><title>Managing Access Control</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748"/>
<meta name="dcterms.created" content="2014-09-30T15:13:4Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="TimesTen In-Memory Database Operations Guide"/>
<meta name="dcterms.identifier" content="E21633-12"/>
<meta name="dcterms.isVersionOf" content="TTOPR"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="daemon.htm" title="Previous" type="text/html"/>
<link rel="Next" href="globalization.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E21633-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">8/16</span> <!-- End Header -->
<div id="TTOPR236" class="chapter"><a id="BABDADDC"></a>
<h1 class="chapter"><span class="secnum">4</span> Managing Access Control</h1>
<p><a id="sthref388"></a>The TimesTen Access Control provides authentication for each user and authorization for all objects in the database. Authentication is provided with the correct user password. Management of authorization for all objects in the database is provided by granting appropriate privileges to specific users.</p>
<p>The following sections describe the TimesTen authentication and authorization:</p>
<ul>
<li>
<p><a href="#BABDGBBI">Managing users to control authentication</a></p>
</li>
<li>
<p><a href="#BABBADHI">Providing authorization to objects through privileges</a></p>
</li>
</ul>
<a id="BABDGBBI"></a>
<div id="TTOPR237" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Managing users to control authentication</h2>
<p>For users to access and manipulate data within the database, you must create users and provide appropriate passwords. When you create a user, you should also grant the appropriate privileges for connecting to the database or for access to objects in the database. For more information on granting privileges, see <a href="#BABBADHI">&#34;Providing authorization to objects through privileges&#34;</a>.</p>
<p>The following sections describe how to create and manage your users:</p>
<ul>
<li>
<p><a href="#BABJCFHB">Overview of users</a></p>
</li>
<li>
<p><a href="#BABCBFFE">Creating or identifying users to the database</a></p>
</li>
<li>
<p><a href="#BABBFCBD">Changing the password of the internal user</a></p>
</li>
<li>
<p><a href="#BABEBDAC">Dropping users from the database</a></p>
</li>
</ul>
<a id="BABJCFHB"></a>
<div id="TTOPR238" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Overview of users</h3>
<p>There are three types of users in the TimesTen database:</p>
<ul>
<li>
<p>Instance administrator: The instance administrator is the user who installed the TimesTen instance. This user has full privileges for everything within the TimesTen instance. For information on creating this user, see <a class="olink TTINS113" href="../TTINS/install.htm#TTINS113">&#34;TimesTen Installation&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In addition to the instance administrator, there are four system users created during the TimesTen install. These system users are used internally by TimesTen as follows: <code>SYSTEM</code> for internal use, <code>SYS</code> for system objects, <code>GRID</code> for cache grid objects and <code>TTREP</code> for replication objects.</div>
</li>
<li>
<p>Internal user: An internal user is created within TimesTen for use within the TimesTen database. An internal user authenticates with a password for a particular database in which it was defined.</p>
<p>TimesTen user names are case-insensitive, of type <code>TT_CHAR</code> and limited to 30 characters. For details on all user naming conventions, see <a class="olink TTSQL187" href="../TTSQL/names.htm#TTSQL187">&#34;Names, Namespace and Parameters&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<p>You can create an internal user with the <code>CREATE USER</code> statement, which is described in <a class="olink TTSQL304" href="../TTSQL/state.htm#TTSQL304">&#34;CREATE USER&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
</li>
<li>
<p>External user: An external user is created within the operating system. External users are assumed to have been authenticated by the operating system at login time, so there is no stored password within the database. One cannot connect as an external user from a different host from which the TimesTen database is installed. On the same host, we use the operating system credentials of the client to enable the client to connect as that particular external user. For example, if an external user logs into the UNIX system, they can connect to the TimesTen database without specifying a password since they already provided it during the login, as long as the external user has been granted the correct privileges. The external user must also be in the TimesTen users group and have the correct permissions granted to it, as described in <a class="olink TTINS157" href="../TTINS/install.htm#TTINS157">&#34;TimesTen instance administrators and users groups&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span>.</p>
<p>You cannot connect with an external user defined on one host to a TimesTen data source on a remote host. External users can only be used to connect to the local TimesTen data source, because the local operating system authenticates the external user. When connecting over a client/server connection, the external user must be defined on the same host the client and server. Thus, in when using an external user, both the client and the server must be on the same host since the operating system provides the authentication of the user.</p>
<p>While the external user is created within the operating system, you still need to identify the user to the database as an external user with the <code>IDENTIFIED EXTERNALLY</code> clause of the <code>CREATE USER</code> statement. For details on this SQL statement, see <a class="olink TTSQL304" href="../TTSQL/state.htm#TTSQL304">&#34;CREATE USER&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<p>UNIX external user names are case sensitive. Windows external user names are not. When connecting from UNIX platforms, TimesTen automatically converts the external user name to upper case, rendering it case insensitive.</p>
<p>If you do not want to use clear text passwords to log into TimesTen, then use the <code>PWDCrypt</code> attribute to create a hash of the password. The only reason to use this attribute is if the password is used for logging into other entities, such as an Oracle database. The <code>PWDCrypt</code> version of the password can always be used to connect to TimesTen, but you cannot convert it back to the original password in order to connect to Oracle Database.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Both the instance administrator and all external users must be in the TimesTen users group specified during the install. For more details, see <a class="olink TTINS113" href="../TTINS/install.htm#TTINS113">&#34;TimesTen Installation&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span>.</div>
</div>
<!-- class="sect2" -->
<a id="BABCBFFE"></a>
<div id="TTOPR239" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Creating or identifying users to the database</h3>
<p>Only the instance administrator or a user with the <code>ADMIN</code> privilege can create the internal user or identify the external user with the <code>CREATE USER</code> statement. For security purposes, you can only create or alter the internal user with the <code>CREATE USER</code> or <code>ALTER USER</code> statements using a direct connection to the TimesTen database. Thus, executing <code>CREATE USER</code> or <code>ALTER USER</code> from a client-server application or through passthrough execution is not allowed. You can use the <code>ALTER USER</code> statement to change a user from an internal to an external user or from an external to an internal user. The full syntax for the <code>CREATE USER</code> statement is detailed in the <a class="olink TTSQL277" href="../TTSQL/state.htm#TTSQL277">&#34;SQL Statements&#34;</a> chapter in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For details on a user with the <code>ADMIN</code> privilege, see <a href="#BABFHIGI">&#34;Granting administrator privileges&#34;</a>.</div>
<p>To create an internal user, provide the user name and password in the <code>CREATE USER</code> statement. The following example creates the internal user <code>TERRY</code> with the password <code>&#34;secret&#34;</code>:</p>
<pre>CREATE USER TERRY IDENTIFIED BY &#34;secret&#34;;
User created.
</pre>
<p>To identify an external user, provide the user name in the <code>CREATE USER IDENTIFIED EXTERNALLY</code> statement. The following example identifies the external user <code>PAT</code> to the TimesTen database:</p>
<pre>CREATE USER PAT IDENTIFIED EXTERNALLY;
User created.
</pre>
<p>To change the external user <code>PAT</code> to an internal user, perform the following <code>ALTER USER</code> statement:</p>
<pre>ALTER USER PAT IDENTIFIED BY &#34;secret&#34;; 
</pre>
<p>To change the internal user <code>PAT</code> to an external user, perform the following <code>ALTER USER</code> statement:</p>
<pre>ALTER USER PAT IDENTIFIED EXTERNALLY; 
</pre>
<p>You can see what users have been created by executing a <code>SELECT</code> statement on the following system views:</p>
<ul>
<li>
<p><code>SYS.<a id="sthref389"></a><a id="sthref390"></a><a id="sthref391"></a>ALL_USERS</code> lists all users of the database that are visible to the current user.</p>
</li>
<li>
<p><code>SYS.USER_USERS</code> describes the current user of the database.</p>
</li>
<li>
<p><code>SYS.DBA_USERS</code> describes all users of the database. To perform a select statement on this view, you must have the appropriate privileges granted.</p>
</li>
</ul>
<p>For example, to see the current user, perform the following:</p>
<pre>SELECT * FROM sys.user_users;
&lt; PAT, 4, OPEN, &lt;NULL&gt;, &lt;NULL&gt;, USERS, TEMP, 2009-02-25 12:00:17.027100, &lt;NULL&gt;,
&lt;NULL&gt; &gt;
1 row found.
</pre>
<p>For more details on these views, see <a class="olink TTSYS346" href="../TTSYS/systemtables.htm#TTSYS346">&#34;System Tables&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database System Tables and Views Reference</span>.</p>
</div>
<!-- class="sect2" -->
<a id="BABBFCBD"></a>
<div id="TTOPR240" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Changing the password of the internal user</h3>
<p>Only the internal user has a password that can be modified within the database. A user can alter their own password. A user with the <code>ADMIN</code> privilege can alter the password of any user. These users can change the password with the <code>IDENTIFIED BY</code> clause of the <code>ALTER USER</code> statement.</p>
<p>For example, to change the password for internal user <code>TERRY</code> to <code>&#34;12345&#34;</code> from its current setting, perform the following:</p>
<pre>ALTER USER TERRY IDENTIFIED BY &#34;12345&#34;;
User altered.
</pre></div>
<!-- class="sect2" -->
<a id="BABEBDAC"></a>
<div id="TTOPR241" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Dropping users from the database</h3>
<p>If granted the appropriate privileges, you can use the <code>DROP USER</code> statement to drop users created in the database. You cannot drop the user in the following instances:</p>
<ul>
<li>
<p>You cannot drop the instance administrator.</p>
</li>
<li>
<p>You cannot drop a user unless all objects owned by that user have first been deleted.</p>
</li>
<li>
<p>You cannot drop a user if the user is currently connected to the database.</p>
</li>
</ul>
<p>The following <code>DROP USER</code> statement drops the user <code>TERRY</code> from the database:</p>
<pre>Command&gt; drop user terry;
User dropped.
</pre>
<p>The following error occurs if you try to drop the instance administrator:</p>
<pre>Command&gt; drop user instadmin;
15103: System-defined users and roles cannot be dropped
The command failed.
</pre>
<p>The following error occurs if user Pat tries to drop user Terry when Pat does not have the required <code>ADMIN</code> privilege:</p>
<pre>Command&gt; drop user terry;
15100: User PAT lacks privilege ADMIN
The command failed.
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Currently, we do not support <code>DROP USER CASCADE</code>.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABBADHI"></a>
<div id="TTOPR242" class="sect1">
<h2 class="sect1">Providing authorization to objects through privileges</h2>
<p><a id="sthref392"></a><a id="sthref393"></a>When multiple users can access database objects, authorization can be controlled to these objects with privileges. Every object has an owner. Privileges control if a user can modify an object owned by another user. Privileges are granted or revoked either by the instance administrator, a user with the <code>ADMIN</code> privilege or, for privileges to a certain object, by the owner of the object.</p>
<p>The following sections describe authorization to objects through the use of privileges:</p>
<ul>
<li>
<p><a href="#BABJHCIJ">Privileges overview</a></p>
</li>
<li>
<p><a href="#BABGIDJD">Granting or revoking system privileges</a></p>
</li>
<li>
<p><a href="#BABBDFAB">Granting or revoking object privileges</a></p>
</li>
<li>
<p><a href="#BABJEEJG">Granting or revoking multiple privileges with a single SQL statement</a></p>
</li>
<li>
<p><a href="#BABICBJD">Granting or revoking privileges for cache groups</a></p>
</li>
<li>
<p><a href="#BABBIAGC">Viewing user privileges</a></p>
</li>
<li>
<p><a href="#BABIDIIA">Privileges needed for utilities, built-in procedures and first connection attributes</a></p>
</li>
<li>
<p><a href="#BABJGIJI">Privilege checking rules for parent-child tables</a></p>
</li>
</ul>
<a id="BABJHCIJ"></a>
<div id="TTOPR243" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Privileges overview</h3>
<p><a id="sthref394"></a>TimesTen provides user authorization to objects in the database through privileges. Users must be granted privileges for access to database resources or objects. These privileges restrict what operations users may perform on those objects. A user has all privileges on all objects in their own schema, and these privileges cannot be revoked. A user can be granted privileges for objects in other users&#39; schemas.</p>
<p>TimesTen evaluates each user&#39;s privileges when the SQL statement is executed. Each SQL statement can be executed by an arbitrary user. For example:</p>
<pre>SELECT * from PAT.TABLE1;
</pre>
<p>If this statement is executed by Pat, then no extra privileges are necessary because Pat owns this object. However, if another user, such as Terry, executes this statement, then Terry must have been granted the <code>SELECT</code> privilege for <code>PAT.TABLE1</code>.</p>
<p>Privileges provide the following:</p>
<ul>
<li>
<p>Define what data users, applications, or functions can access or what operations they can perform.</p>
</li>
<li>
<p>Prevent users from adversely affecting system performance or from consuming excessive system resources. For example, a privilege restricting the creation of indexes is provided not because of an authorization concern, but because it may affect DML performance and occupies space.</p>
</li>
</ul>
<p>Some examples of privileges include the right to perform the following:</p>
<ul>
<li>
<p>Connect to the database and create a session</p>
</li>
<li>
<p>Create a table</p>
</li>
<li>
<p>Select rows from a table that is owned by another user</p>
</li>
<li>
<p>Perform any cache group operation</p>
</li>
</ul>
<p>In addition, a user may need certain privileges in order to perform the following:</p>
<ul>
<li>
<p>Call TimesTen built-in procedures.</p>
</li>
<li>
<p>Run TimesTen command-line utilities.</p>
</li>
<li>
<p>Initiate a connection with first connection attributes.</p>
</li>
<li>
<p>Execute SQL statements.</p>
</li>
</ul>
<p>Built-in procedure, utilities, and connection attributes are documented in the <a class="olink TTREF" href="../TTREF/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database Reference</span></a>. SQL statements are documented in the <a class="olink TTSQL" href="../TTSQL/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span></a>.</p>
<p><a id="sthref395"></a>There are two levels of privileges:</p>
<ul>
<li>
<p><a href="#BABDDFGE">System privileges</a>: These privileges enable system-wide functionality, such as access to all objects. Granting system privileges can enable a user to perform standard administrator tasks or access to objects in other users&#39; schemas. These privileges extend beyond a single object. Restrict them only to trusted users.</p>
</li>
<li>
<p><a href="#BABDHBBH">Object privileges</a>: Each type of object has privileges associated with it.</p>
</li>
</ul>
<p>A subset of these privileges are automatically granted to each user upon creation through the <a href="#BABGCCEC">PUBLIC role</a>. <a href="#BABCIDJG">Privilege hierarchy rules</a> apply to all privileges granted to a user.</p>
<p><a id="sthref396"></a>Grant privileges to users so that they can accomplish tasks required for their job. We recommend that you are intentional about who you grant privileges, so that they have only the exact privileges that they need to perform necessary operations.</p>
<p><a id="sthref397"></a><a id="sthref398"></a>Privileges are checked at prepare time and when the statement is first executed for each SQL statement. Subsequent executions of that statement require further privilege checks only when a revoke operation is executed in the database.</p>
<a id="BABDDFGE"></a>
<div id="TTOPR244" class="sect3">
<h4 class="sect3">System privileges</h4>
<p><a id="sthref399"></a><a id="sthref400"></a>A system privilege enables a user the ability to perform system-level activities across multiple objects in the database. It confers the right to perform a particular operation in the database or to perform an operation on a type of object. For example, the privilege to create or modify an object in another user&#39;s schema in the database requires a system privilege to be granted to the user.</p>
<p><a id="sthref401"></a><a id="sthref402"></a><a id="sthref403"></a><a id="sthref404"></a><a id="sthref405"></a><a id="sthref406"></a>Only the instance administrator or a user with the <code>ADMIN</code> privilege can grant a system privilege to a user. The instance administrator always has full system and object privileges, which cannot be revoked at any time.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The instance administrator can perform all operations. So, any operation that can be performed by a user with <code>ADMIN</code> privileges can also be performed by the instance administrator.</div>
<p>Some of the system privileges include <code>ADMIN</code>, <code>SELECT ANY TABLE</code>, <code>CREATE SESSION</code> and <code>CREATE ANY SEQUENCE</code>. For more details on granting or revoking system privileges, see <a href="#BABGIDJD">&#34;Granting or revoking system privileges&#34;</a>.</p>
</div>
<!-- class="sect3" -->
<a id="BABDHBBH"></a>
<div id="TTOPR245" class="sect3">
<h4 class="sect3">Object privileges</h4>
<p><a id="sthref407"></a><a id="sthref408"></a>An object privilege enables a user to perform defined operations on a specific object. Separate object privileges are available for each object type.</p>
<p>Every object owner has access and full privileges to their own objects. A user does not have access to objects owned by other users unless explicitly granted access by the object&#39;s owner or by a user with <code>ADMIN</code> privilege. If the <code>PUBLIC</code> role has been granted access to a given object, then all database users have access to that object. A user with <code>ADMIN</code> privileges cannot revoke an owner&#39;s privileges on the owner&#39;s object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Some <a id="sthref409"></a><a id="sthref410"></a><a id="sthref411"></a><a id="sthref412"></a>objects, such as cache group and replication objects, require system level privileges before a user can perform certain operations.</div>
<p><a id="sthref413"></a><a id="sthref414"></a>Object access control requires that a user either be the owner of an object or granted the appropriate object privilege to perform operations on the object. Object privileges are granted or revoked by the instance administrator, a user with the <code>ADMIN</code> privilege or the user who is the owner of the object.</p>
<p>For more details on granting or revoking object privileges, see <a href="#BABBDFAB">&#34;Granting or revoking object privileges&#34;</a>.</p>
</div>
<!-- class="sect3" -->
<a id="BABGCCEC"></a>
<div id="TTOPR246" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">PUBLIC role</h4>
<p><a id="sthref415"></a>A role called <a id="sthref416"></a><a id="sthref417"></a><code>PUBLIC</code> is automatically created in each TimesTen database. By default, TimesTen grants specific privileges to this role. Every user created within the TimesTen database are granted each privilege that is granted to the <code>PUBLIC</code> role. That is, when the instance administrator or a user with the <code>ADMIN</code> privilege creates a user, the privileges associated with the <code>PUBLIC</code> role are granted to each of these users. Each subsequent privilege that is granted to the <code>PUBLIC</code> role is also automatically granted to all users simultaneously. A user with the <code>ADMIN</code> privilege can add or remove default privileges for all users by granting or revoking privileges from the <code>PUBLIC</code> role. When the user revokes a privilege from <code>PUBLIC</code>, it is revoked from each user, except for those users who have this privilege granted to them explicitly.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The only exception to this behavior is that any privileges that were granted to <code>PUBLIC</code> by user <code>SYS</code> cannot be revoked. The privileges that were granted as part of database creation are shown when you execute the following SQL statement:
<pre>SELECT * FROM DBA_TAB_PRIVS WHERE GRANTOR = &#39;SYS&#39;
</pre></div>
<p>In the following example, user Pat is granted the <code>SELECT ANY TABLE</code> privilege and <code>PUBLIC</code> is granted the <code>SELECT ANY TABLE</code> privilege. Then, all system privileges are displayed from the <code>SYS.DBA_SYS_PRIVS</code> view. For more information on this view, see <a href="#BABBIAGC">&#34;Viewing user privileges&#34;</a>. Revoking <code>SELECT ANY TABLE</code> from <code>PUBLIC</code> does not remove <code>SELECT ANY TABLE</code> from Pat, which is shown again through the <code>SYS.DBA_SYS_PRIVS</code> view.</p>
<pre>Command&gt; GRANT SELECT ANY TABLE TO PAT;
Command&gt; GRANT SELECT ANY TABLE TO PUBLIC;
Command&gt; SELECT * FROM SYS.DBA_SYS_PRIVS;
&lt; SYS, ADMIN, NO &gt;
&lt; PUBLIC, SELECT ANY TABLE, NO &gt;
&lt; SYSTEM, ADMIN, NO &gt;
&lt; PAT, ADMIN, NO &gt;
&lt; PAT, SELECT ANY TABLE, NO &gt;
5 rows found.
Command&gt; REVOKE SELECT ANY TABLE FROM PUBLIC;
Command&gt; select * from sys.dba_sys_privs;
&lt; SYS, ADMIN, NO &gt;
&lt; SYSTEM, ADMIN, NO &gt;
&lt; PAT, ADMIN, NO &gt;
&lt; PAT, SELECT ANY TABLE, NO &gt;
4 rows found.
</pre>
<p>If you must, you may create a database that grants the <code>ADMIN</code> privilege to <code>PUBLIC</code>. This grants the <code>ADMIN</code> privilege to all users who then have unrestricted access to all database objects and are able to perform administrative tasks except for tasks that must be performed by the instance administrator. This is never recommended as a long-term approach, since it results in an insecure database. See <a class="olink TTINS199" href="../TTINS/upgrade.htm#TTINS199">&#34;TimesTen Upgrades&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span> for full details on when and for what purposes to use this approach.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For a full description of the default privileges assigned to the <code>PUBLIC</code> role, see <a class="olink TTSQL345" href="../TTSQL/privileges.htm#TTSQL345">&#34;The PUBLIC role&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</div>
<p>The <a id="sthref418"></a><code>PUBLIC</code> role also grants access to certain objects, system tables and views. By default, in a newly created TimesTen database, <code>PUBLIC</code> has <code>SELECT</code> and <code>EXECUTE</code> privileges on various system tables and views and PL/SQL functions, procedures and packages. You can see the list of privileges granted to <code>PUBLIC</code>, and subsequently all users, by querying the <code>SYS.DBA_TAB_PRIVS</code> view. In the following query, the privilege granted to <code>PUBLIC</code> is in the fifth column.</p>
<pre>Command&gt; DESC SYS.DBA_TAB_PRIVS;
View SYS.DBA_TAB_PRIVS:
  Columns:
    GRANTEE                         VARCHAR2 (30) INLINE
    OWNER                           VARCHAR2 (30) INLINE
    TABLE_NAME                      VARCHAR2 (30) INLINE
    GRANTOR                         VARCHAR2 (30) INLINE
    PRIVILEGE                       VARCHAR2 (40) INLINE NOT NULL
    GRANTABLE                       VARCHAR2 (3) INLINE NOT NULL
    HIERARCHY                       VARCHAR2 (3) INLINE NOT NULL
1 view found.

Command&gt; SELECT * FROM SYS.DBA_TAB_PRIVS WHERE GRANTEE=&#39;PUBLIC&#39;;
&lt; PUBLIC, SYS, TABLES, SYS, SELECT, NO, NO &gt;
&lt; PUBLIC, SYS, COLUMNS, SYS, SELECT, NO, NO &gt;
&lt; PUBLIC, SYS, INDEXES, SYS, SELECT, NO, NO &gt;
&lt; PUBLIC, SYS, USER_COL_PRIVS, SYS, SELECT, NO, NO &gt;
&lt; PUBLIC, SYS, PUBLIC_DEPENDENCY, SYS, SELECT, NO, NO &gt;
&lt; PUBLIC, SYS, USER_OBJECT_SIZE, SYS, SELECT, NO, NO &gt;
&lt; PUBLIC, SYS, STANDARD, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, UTL_IDENT, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, TT_DB_VERSION, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, PLITBLM, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, DBMS_OUTPUT, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, DBMS_SQL, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, DBMS_STANDARD, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, DBMS_PREPROCESSOR, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, UTL_RAW, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, DBMS_UTILITY, SYS, EXECUTE, NO, NO &gt;
&lt; PUBLIC, SYS, DBMS_RANDOM, SYS, EXECUTE, NO, NO &gt;
...
57 rows found.
</pre></div>
<!-- class="sect3" -->
<a id="BABCIDJG"></a>
<div id="TTOPR247" class="sect3">
<h4 class="sect3">Privilege hierarchy rules</h4>
<p><a id="sthref419"></a>There is a hierarchy for all of the privileges. The higher level privileges confer related lower level privileges. For example, the <code>ADMIN</code> privilege confers all privileges. The <code>SELECT ANY TABLE</code> privilege confers the <code>SELECT</code> privilege on any individual table.</p>
<p>Whenever a user needs a privilege for an operation, you can verify if the user already has the privilege if either the user is the owner of the object or has a higher level privilege that confers the necessary privileges for that operation. For example, if the user Pat needs to have the <code>SELECT</code> privilege for <code>Terry.Table2</code>, you can check the following:</p>
<ul>
<li>
<p>Is Pat the owner of the object? If so, owners have all object privileges on their objects</p>
</li>
<li>
<p>Has Pat been granted the <code>SELECT ANY TABLE</code> privilege? This privilege means Pat would have <code>SELECT ON</code> any table, view, or materialized view.</p>
</li>
<li>
<p>Has Pat been granted the <code>ADMIN</code> privilege, which would mean that Pat can perform any valid SQL operation.</p>
</li>
</ul>
<p>If you grant a privilege that is included in a higher level privilege, no error occurs. However, when you revoke privileges, they must be revoked in the same unit as granted. The following sequence of grant and revoke statements for user <code>PAT</code> grants the ability to update any table as well as an update privilege on a specific table:</p>
<pre>GRANT UPDATE ANY TABLE TO PAT;
GRANT UPDATE ON HR.employees TO PAT;
REVOKE UPDATE ON HR.employees FROM PAT;
 
</pre>
<p>The <code>UPDATE ANY TABLE</code> privilege grants the ability to update any table in the database. The second grant is specific for <code>UPDATE</code> privilege to the <code>HR.employees</code> table. The second grant is unnecessary as the <code>UPDATE ANY TABLE</code> provides access to all tables, including <code>employees</code>, but it does not result in an error. You can revoke the second grant, but it does not affect the first grant of the <code>UPDATE ANY TABLE</code> system privilege. Thus, Pat can still update the <code>HR.employees</code> table.</p>
<p>You must revoke in the same unit as was granted. The following example grants the <code>UPDATE ANY TABLE</code> system privilege to Pat. A user tries to revoke the ability to update the <code>HR.employees</code> table from the user. But, the <code>UPDATE ANY TABLE</code> privilege is a system privilege and the <code>UPDATE</code> privilege is an object privilege. The execution of the <code>REVOKE</code> statement for a unit that was not granted fails with an error.</p>
<pre>GRANT UPDATE ANY TABLE TO PAT;
REVOKE UPDATE ON HR.employees FROM PAT;
15143: REVOKE failed: User PAT does not have object privilege UPDATE on HR.EMPLOYEES
The command failed.
</pre>
<p>The full details of the privilege hierarchy is described in the <a class="olink TTSQL343" href="../TTSQL/privileges.htm#TTSQL343">&#34;Privilege hierarchy&#34;</a> section in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABGIDJD"></a>
<div id="TTOPR248" class="sect2">
<h3 class="sect2">Granting or revoking system privileges</h3>
<p><a id="sthref420"></a><a id="sthref421"></a><a id="sthref422"></a><a id="sthref423"></a><a id="sthref424"></a><a id="sthref425"></a>To grant or revoke a system privilege, use the <code>GRANT</code> or <code>REVOKE</code> statements. Only the instance administrator or a user with the <code>ADMIN</code> privilege can grant or revoke system privileges. T<a id="sthref426"></a><a id="sthref427"></a>he <code>GRANT</code> or <code>REVOKE</code> syntax for system privileges includes the system privilege and the user who receives that privilege. Both the syntax for the <code>GRANT</code> and <code>REVOKE</code> statements and the required privileges for executing each SQL statement are described in the <a class="olink TTSQL277" href="../TTSQL/state.htm#TTSQL277">&#34;SQL Statements&#34;</a> chapter in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
How to grant and revoke object privileges is described in <a href="#BABBDFAB">&#34;Granting or revoking object privileges&#34;</a>.</div>
<p>The most powerful system privilege is <code>ADMIN</code>. When you grant a user the <code>ADMIN</code> privilege, you enable this user to perform any operation for any database object.</p>
<p>An individual user can view their own system privileges in the <code>SYS.<a id="sthref428"></a><a id="sthref429"></a>USER_SYS_PRIVS</code> system view. A user with the <code>ADMIN</code> privilege can view all system privileges for all users in the <code>SYS.DBA_SYS_PRIVS</code> system table. These system views are described in <a href="#BABBIAGC">&#34;Viewing user privileges&#34;</a>.</p>
<p>The following sections describe some of the system privileges available in TimesTen:</p>
<ul>
<li>
<p><a href="#BABFHIGI">Granting administrator privileges</a></p>
</li>
<li>
<p><a href="#BABDGABE">Granting ALL PRIVILEGES</a></p>
</li>
<li>
<p><a href="#BABGEBAD">Granting privileges to connect to the database</a></p>
</li>
<li>
<p><a href="#BABBBGGH">Granting additional system privileges</a></p>
</li>
<li>
<p><a href="#BABGBCGB">Enabling users to perform operations on any database object type</a></p>
</li>
<li>
<p><a href="#BABICBJD">Granting or revoking privileges for cache groups</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For a full list of all system privileges, see <a class="olink TTSQL338" href="../TTSQL/privileges.htm#TTSQL338">&#34;Privileges&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</div>
<a id="BABFHIGI"></a>
<div id="TTOPR249" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Granting administrator privileges</h4>
<p>The <code>ADMIN</code> privilege confers all system and object privileges, which allows these users to perform all administrative tasks and valid database operations. For all objects, a user with the <code>ADMIN</code> privilege can perform create, alter, drop, select, update, insert, or delete operations. In addition, a user with the <code>ADMIN</code> privilege can perform replication tasks, checkpointing, backups, migration, user creation and deletion, and so on. Only a user with the <code>ADMIN</code> privilege can grant or revoke all privileges.</p>
<p><a id="sthref430"></a><a id="sthref431"></a><a id="sthref432"></a>Only a user with the <code>ADMIN</code> privilege may view all system tables and views by default. Only a user with the <code>ADMIN</code> privilege can create, alter or drop replication schemas or active standby pairs. The following views and packages can only be accessed by users with the <code>ADMIN</code> privilege:</p>
<ul>
<li>
<p>The <code>SYS.<a id="sthref433"></a>DBA_TAB_PRIVS</code> view</p>
</li>
<li>
<p>The <code>SYS.<a id="sthref434"></a>DBA_SYS_PRIVS</code> view</p>
</li>
<li>
<p>The <code>SYS.<a id="sthref435"></a>UTL_RECOMP</code> package</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information on viewing privileges for users from system tables or views, see <a href="#BABBIAGC">&#34;Viewing user privileges&#34;</a>.</div>
<p>To grant the <code>ADMIN</code> privilege to the user <code>TERRY</code>, execute the following statement:</p>
<pre>GRANT ADMIN TO TERRY;
</pre>
<p>If you have the <code>ADMIN</code> privilege, then you can grant privileges to other users. For example, a user with the <code>ADMIN</code> privilege can grant the <code>SELECT</code> privilege to <code>TERRY</code> on the <code>departments</code> table owned by Pat, as follows:</p>
<pre>GRANT SELECT ON PAT.departments TO TERRY;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Since Pat is the owner of departments, Pat may also grant the <code>SELECT</code> object privilege to Terry.</div>
</div>
<!-- class="sect3" -->
<a id="BABDGABE"></a>
<div id="TTOPR250" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Granting ALL PRIVILEGES</h4>
<p><a id="sthref436"></a><a id="sthref437"></a><a id="sthref438"></a><a id="sthref439"></a> The <code>ALL PRIVILEGES</code> grants every system privilege to a user. If you want a user to have most of the system privileges, you can grant <code>ALL PRIVILEGES</code> to a user and then revoke only those system privileges that you do not want them to have. The following example <a id="sthref440"></a><a id="sthref441"></a>grants all system privileges to user <code>PAT</code>. Then, revokes the <code>ADMIN</code> and <code>DROP ANY TABLE</code> privileges to disallow Pat the ability to perform all administration tasks or to drop any tables.</p>
<pre>GRANT ALL PRIVILEGES TO PAT;
REVOKE ADMIN, DROP ANY TABLE FROM PAT;
</pre>
<p>You may also <code>REVOKE ALL PRIVILEGES</code> that were granted to a user. This removes all system privileges from the user, except what the user inherits from the <code>PUBLIC</code> role, as demonstrated below for user <code>PAT</code>:</p>
<pre>REVOKE ALL PRIVILEGES FROM PAT;
</pre></div>
<!-- class="sect3" -->
<a id="BABGEBAD"></a>
<div id="TTOPR251" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Granting privileges to connect to the database</h4>
<p><a id="sthref442"></a><a id="sthref443"></a><a id="sthref444"></a>TimesTen databases are accessed through Data Source Names (DSNs). If a user tries to use a DSN that has connection attributes for which they do not have privileges, such as first connection attributes, they receive an error.</p>
<p>For a complete description of first connection attributes, see <a class="olink TTREF114" href="../TTREF/attribute.htm#TTREF114">&#34;Connection Attributes&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Reference</span><span class="italic">.</span></p>
<p>All users must be granted the <a id="sthref445"></a><a id="sthref446"></a><a id="sthref447"></a><code>CREATE SESSION</code> system privilege by a user with the <code>ADMIN</code> privilege in order to connect to the database. The <a id="sthref448"></a><a id="sthref449"></a><code>CREATE SESSION</code> system privilege provides the authorization to connect to the database. The following example grants the <code>CREATE SESSION</code> privilege to Pat:</p>
<pre>GRANT CREATE SESSION TO PAT;
</pre>
<p>A user with the ADMIN privilege can grant <code>CREATE SESSION</code> privilege to all users by granting this privilege to the <code>PUBLIC</code> role. This allows all users to connect to the database.</p>
<pre>GRANT CREATE SESSION TO PUBLIC;
</pre></div>
<!-- class="sect3" -->
<a id="BABBBGGH"></a>
<div id="TTOPR252" class="sect3">
<h4 class="sect3">Granting additional system privileges</h4>
<p>In addition to the <code>ADMIN</code> privilege, there are a few system privileges that confer a superset of abilities. The following provides a brief description of these privileges:</p>
<ul>
<li>
<p><a id="sthref450"></a><a id="sthref451"></a><code>XLA</code>: XLA readers can have global impact on the system. They create extra log volume, and can cause long log holds if they do not advance their bookmarks. You must have the <code>XLA</code> system privilege to connect as an XLA reader.</p>
</li>
<li>
<p><code>CACHE_MANAGER</code>: The <code>CACHE_MANAGER</code> privilege is used for cache group administrator operations. See <a href="#BABICBJD">&#34;Granting or revoking privileges for cache groups&#34;</a> for details.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABGBCGB"></a>
<div id="TTOPR253" class="sect3">
<h4 class="sect3">Enabling users to perform operations on any database object type</h4>
<p>When you want to grant or revoke privileges for a user, you can grant or revoke privileges for a single object or for that type of object anywhere in the database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
To grant or revoke privileges for a single object, use object privileges, which are described in <a href="#BABBDFAB">&#34;Granting or revoking object privileges&#34;</a>.</div>
<p><a id="sthref452"></a><a id="sthref453"></a><a id="sthref454"></a>The system privileges that contain the <code>ANY</code> keyword enable the user to perform the functions on all objects of the same type in the database. These system privileges are <code>CREATE ANY</code> <span class="italic">object_type</span>, <code>DROP ANY</code> <span class="italic">object_type</span>, <code>ALTER ANY</code> <span class="italic">object_type</span>, <a id="sthref455"></a><a id="sthref456"></a><a id="sthref457"></a><a id="sthref458"></a><code>SELECT ANY</code> <span class="italic">object_type</span>, <code>UPDATE ANY TABLE</code>, <code>INSERT ANY TABLE</code>, <a id="sthref459"></a><a id="sthref460"></a><a id="sthref461"></a><a id="sthref462"></a><a id="sthref463"></a><a id="sthref464"></a><code>DELETE ANY TABLE</code>, and <code>EXECUTE ANY PROCEDURE</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For a full description of these privileges, see <a class="olink TTSQL338" href="../TTSQL/privileges.htm#TTSQL338">&#34;Privileges&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>. For details on the cache group system privileges that contain the <code>ANY</code> keyword, see <a href="#BABICBJD">&#34;Granting or revoking privileges for cache groups&#34;</a>.</div>
<p>The following sections provide more details for the <code>CREATE ANY</code> <code><span class="codeinlineitalic">object_type</span></code>, <code>DROP ANY</code> <code><span class="codeinlineitalic">object_type</span></code>, and <code>ALTER ANY</code> <code><span class="codeinlineitalic">object_type</span></code> system privileges:</p>
<ul>
<li>
<p><a href="#BABCFGFG">Creating a table, index, view, materialized view, sequence, PL/SQL procedure, PL/SQL function, PL/SQL package or synonym</a></p>
</li>
<li>
<p><a href="#BABIFDGF">Dropping a table, view, materialized view, sequence, procedure, function, package or synonym</a></p>
</li>
<li>
<p><a href="#BABCIDFF">Altering a table, view, materialized view, sequence, procedure, function or package</a></p>
</li>
</ul>
<a id="BABCFGFG"></a>
<div id="TTOPR254" class="sect4">
<h5 class="sect4">Creating a table, index, view, materialized view, sequence, PL/SQL procedure, PL/SQL function, PL/SQL package or synonym</h5>
<p><a id="sthref465"></a><a id="sthref466"></a><a id="sthref467"></a>To create a table, view, materialized view, sequence, PL/SQL procedure, PL/SQL function, PL/SQL package, or synonym within the user&#39;s namespace or another user&#39;s namespace, you must have the appropriate <code>CREATE</code> <code><span class="codeinlineitalic">object_type</span></code> or <code>CREATE ANY</code> <code><span class="codeinlineitalic">object_type</span></code> system privileges.</p>
<p>The following describes the <code>CREATE</code> and <code>CREATE ANY</code> system privileges:</p>
<ul>
<li>
<p>The <code>CREATE</code> <code><span class="codeinlineitalic">object_type</span></code> privilege grants a user the ability to create that object, but only in the user&#39;s own schema. After creation, the user owns this object and thus, automatically has been granted all privileges for that object.</p>
<p>Other privileges are required if a user wants to create cache groups.</p>
</li>
<li>
<p>The <a id="sthref468"></a><a id="sthref469"></a><a id="sthref470"></a><a id="sthref471"></a><a id="sthref472"></a><a id="sthref473"></a><code>CREATE ANY</code> <code><span class="codeinlineitalic">object_type</span></code> privilege grants a user the ability to create any object of that type in the database, even in another user&#39;s schema. The object types include table, index, view, materialized view, sequence, synonym and procedure. The <code>CREATE ANY</code> <code><span class="codeinlineitalic">object_type</span></code> privileges are <code>CREATE ANY TABLE</code>, <code>CREATE ANY INDEX</code>, <code>CREATE ANY VIEW</code>, <code>CREATE ANY MATERIALIZED VIEW</code>, <code>CREATE ANY SEQUENCE</code>, <code>CREATE ANY SYNONYM</code> and <code>CREATE ANY PROCEDURE</code>.</p>
</li>
</ul>
<p>The following example grants the privilege to create any table in other users&#39; schemas to user <code>TERRY</code>:</p>
<pre>GRANT CREATE ANY TABLE TO TERRY;
</pre>
<p>The following example grants the privilege to create a table within the user&#39;s own schema:</p>
<pre>GRANT CREATE TABLE TO TERRY;
</pre></div>
<!-- class="sect4" -->
<a id="BABIFDGF"></a>
<div id="TTOPR255" class="sect4">
<h5 class="sect4">Dropping a table, view, materialized view, sequence, procedure, function, package or synonym</h5>
<p>Grant the <code>DROP ANY</code> <code><span class="codeinlineitalic">object_type</span></code> system privilege in order for a user to drop an object of <code><span class="codeinlineitalic">object_type</span></code> that the user does not own. For example, granting Pat this privilege enables Pat to drop the <code>employees</code> table that is owned by the user <code>HR</code>. A user always has the right to drop a table they own. The <code>DROP ANY</code> <code><span class="codeinlineitalic">object_type</span></code> privilege enables a user to drop any object of the specified type in the database, except for cache groups that require other privileges.</p>
</div>
<!-- class="sect4" -->
<a id="BABCIDFF"></a>
<div id="TTOPR256" class="sect4">
<h5 class="sect4">Altering a table, view, materialized view, sequence, procedure, function or package</h5>
<p><code>ALTER</code> <code>ANY PROCEDURE</code> allows users to alter any procedure, function or package in the database. The <code>ALTER ANY</code> <code><span class="codeinlineitalic">object_type</span></code> privilege is necessary to modify the properties of objects that the user does not own. For example, if a procedure is created in the <code>HR</code> schema named <code>Proc1</code> and if Pat is granted the <code>ALTER ANY PROCEDURE</code> privilege, Pat can successfully alter the procedure <code>HR.Proc1</code>.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBDFAB"></a>
<div id="TTOPR257" class="sect2">
<h3 class="sect2">Granting or revoking object privileges</h3>
<p><a id="sthref474"></a><a id="sthref475"></a><a id="sthref476"></a><a id="sthref477"></a>To grant or revoke an object privilege, use the <a id="sthref478"></a><a id="sthref479"></a><code>GRANT</code> or <code>REVOKE</code> statements. The syntax for the object-level <code>GRANT</code> or <code>REVOKE</code> statement requires the name of the object on which the grant or revoke is applied. The syntax for the <code>GRANT</code> and <code>REVOKE</code> statements is described in the <a class="olink TTSQL277" href="../TTSQL/state.htm#TTSQL277">&#34;SQL Statements&#34;</a> chapter in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Each SQL statement may require a certain privilege. The required privileges are documented with each statement description in the <a class="olink TTSQL277" href="../TTSQL/state.htm#TTSQL277">&#34;SQL Statements&#34;</a> chapter in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
</li>
<li>
<p>For a full list of all object privileges, see <a class="olink TTSQL338" href="../TTSQL/privileges.htm#TTSQL338">&#34;Privileges&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
</li>
</ul>
</div>
<p>The following sections describe and provide examples on the object privileges for all object types, except for the cache admin objects. The cache object privileges are described in <a href="#BABICBJD">&#34;Granting or revoking privileges for cache groups&#34;</a>.</p>
<ul>
<li>
<p><a href="#BABFIABH">Grant all object privileges</a></p>
</li>
<li>
<p><a href="#BABJGBAJ">Object privileges for tables</a></p>
</li>
<li>
<p><a href="#BABIJIIF">Object privileges for views</a></p>
</li>
<li>
<p><a href="#BABEJAGI">Object privileges for sequences</a></p>
</li>
<li>
<p><a href="#BABEICBH">Object privileges for materialized views</a></p>
</li>
<li>
<p><a href="#BABGDAAC">Object Privileges needed when creating foreign key with REFERENCES clause</a></p>
</li>
<li>
<p><a href="#BABIDFFG">Object privileges for PL/SQL functions, procedures and packages</a></p>
</li>
<li>
<p><a href="#BABHHHEH">Object privileges for synonyms</a></p>
</li>
</ul>
<a id="BABFIABH"></a>
<div id="TTOPR258" class="sect3">
<h4 class="sect3">Grant all object privileges</h4>
<p><a id="sthref480"></a><a id="sthref481"></a><a id="sthref482"></a><a id="sthref483"></a><a id="sthref484"></a>You can grant all privileges for an object to a user with the <code>ALL</code> keyword. This essentially grants a user the right to perform any operation on the object.</p>
<p>There are no specific object privileges for <code>DROP</code> or <code>ALTER</code>. These operations cannot be granted for individual objects; instead, granting the appropriate system privilege enables a user other the owner of an object to <code>DROP</code> or <code>ALTER</code> that object.</p>
<p>For example, <code>GRANT ALL ON employees TO PAT</code> grants all privileges for the <code>employees</code> table to user <code>PAT</code>. It is possible to revoke individual privileges after granting all object privileges. For instance, the following is a valid sequence of operations:</p>
<pre>GRANT ALL ON HR.employees TO PAT;
REVOKE DELETE ON HR.employees FROM PAT; 
</pre>
<p>You may also <code>REVOKE ALL</code> object privileges that were granted to a user for the object. This removes all privileges for the object from the user, as demonstrated below for user <code>PAT</code>:</p>
<pre>REVOKE ALL ON HR.employees FROM PAT;
</pre>
<p>Both the object owner and a user with the <code>ADMIN</code> privilege can perform the <code>GRANT ALL</code> and <code>REVOKE ALL</code> statements.</p>
</div>
<!-- class="sect3" -->
<a id="BABJGBAJ"></a>
<div id="TTOPR259" class="sect3">
<h4 class="sect3">Object privileges for tables</h4>
<p><a id="sthref485"></a><a id="sthref486"></a><a id="sthref487"></a>For a user to perform operations on tables that they do not own, they must be granted the appropriate object privilege for that table. This includes privileges for tables within cache groups. The object privileges for tables include <a id="sthref488"></a><a id="sthref489"></a><a id="sthref490"></a><a id="sthref491"></a><a id="sthref492"></a><a id="sthref493"></a><a id="sthref494"></a><a id="sthref495"></a><a id="sthref496"></a><a id="sthref497"></a><a id="sthref498"></a><code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>INSERT</code>, <code>INDEX</code> and <code>REFERENCES</code>.</p>
<p>The following object privileges may be appropriate not only for authorization, but also for<a id="sthref499"></a><a id="sthref500"></a> performance reasons:</p>
<ul>
<li>
<p>The <code>INDEX</code> privilege enables the user to create an index on the table. Creating an index consumes additional space and impacts the performance of DML on the table. A specific grant for INDEX is required for a user to create an index.</p>
</li>
<li>
<p>The <code>REFERENCES</code> privilege enables the user to create a foreign key dependency on the table. Foreign key dependencies impact the performance of DML operations on the parent. For more details on the <code>REFERENCES</code> privilege, see <a href="#BABGDAAC">&#34;Object Privileges needed when creating foreign key with REFERENCES clause&#34;</a>.</p>
</li>
</ul>
<p>The following example grants the <code>SELECT</code> object privilege for the <code>employees</code> table in the <code>HR</code> schema to the user <code>PAT</code>:</p>
<pre>GRANT SELECT ON HR.employees TO PAT;
</pre>
<p>The next example shows an example of how to grant the <code>UPDATE</code> privilege on the <code>employees</code> table owned by the user <code>HR</code> to the user <code>PAT</code>:</p>
<pre>GRANT UPDATE ON HR.employees TO PAT; 
</pre></div>
<!-- class="sect3" -->
<a id="BABIJIIF"></a>
<div id="TTOPR260" class="sect3">
<h4 class="sect3">Object privileges for views</h4>
<p><a id="sthref501"></a><a id="sthref502"></a><a id="sthref503"></a>For a user to create a view, that user must be granted the <code>CREATE VIEW</code> or <code>CREATE ANY VIEW</code> privilege. For a user to select from a view that they do not own, they need to be granted the <a id="sthref504"></a><a id="sthref505"></a><code>SELECT</code> object privilege for that view. Furthermore, the view itself needs to be valid; that is, the owner of the view must be granted the <code>SELECT</code> object privilege for all of the objects referenced by the view.</p>
<p>When user <code>PAT</code> creates a view owned by Pat and that view only references objects owned by Pat, then Pat is only required to be granted the <code>CREATE VIEW</code> privilege for this operation. If Pat creates a view owned by Terry that references objects owned by Terry, Pat is required to be granted the <code>CREATE ANY VIEW</code> privilege for this operation. For example:</p>
<pre>CREATE VIEW PAT.VIEW1 as select * from PAT.TABLE1;
</pre>
<p>In this example, if Pat executes this statement, Pat only needs to be granted the <code>CREATE VIEW</code> privilege.</p>
<p>If user Pat creates a view, and the view references a table owned by Terry, then Pat needs to be granted the <code>CREATE VIEW</code> privilege and the <code>SELECT</code> object privilege on all of the objects referenced by the view. The owner of the view, not the view creator, must be granted the <code>SELECT</code> object privilege on the objects referenced by the view. Therefore, in this example, Pat must be granted the <code>SELECT</code> object privilege on <code>TABLE2</code> that is owned by Terry. Once these privileges are granted, Pat can execute the following:</p>
<pre>CREATE VIEW PAT.VIEW2 as select * from TERRY.TABLE2;
</pre>
<p>However, if a third user, Joe, executes this statement, then Joe must be granted the <code>CREATE ANY VIEW</code> privilege to create the view. Even though Joe is executing the statement, Pat, as the owner of the view, is still required to be granted the <code>SELECT</code> object privilege in order to perform the select on Terry&#39;s table.</p>
<p>TimesTen validates all views referenced at execution time. TimesTen notifies which privileges are not in place in order to perform the given operation.</p>
<p>For example:</p>
<pre>CREATE VIEW PAT.VIEW2 as select * from TERRY.TABLE2;
CREATE VIEW JOE.VIEW4 as select * from PAT.VIEW2, TERRY.TABLE4;
 
</pre>
<p>If Pat is executing these statements, the following privileges must be granted:</p>
<ul>
<li>
<p><code>CREATE ANY VIEW</code> privilege so that Pat can create the view in Pat&#39;s own schema as well as a view in Joe&#39;s schema.</p>
</li>
<li>
<p>User Joe must be granted the <code>SELECT</code> object privilege on <code>Terry.Table4</code>.</p>
</li>
<li>
<p>User Joe must be granted the <code>SELECT</code> object privilege on <code>Pat.View2</code></p>
</li>
<li>
<p>User Pat must be granted the <code>SELECT</code> object privilege on <code>Terry.Table2</code></p>
</li>
</ul>
<p>When validating all references, TimesTen also validates that <code>PAT.VIEW2</code> is still valid by verifying that Pat has the <code>SELECT</code> object privilege on <code>TERRY.TABLE2</code>. When you select from a view, TimesTen validates that the view itself is still valid, as well as any views referenced by that view.</p>
</div>
<!-- class="sect3" -->
<a id="BABEJAGI"></a>
<div id="TTOPR261" class="sect3">
<h4 class="sect3">Object privileges for sequences</h4>
<p><a id="sthref506"></a><a id="sthref507"></a><a id="sthref508"></a>For a user to perform operations on sequences that they do not own, they must be granted the <a id="sthref509"></a><a id="sthref510"></a><code>SELECT</code> object privilege. The <code>SELECT</code> privilege on a sequence allows the user to perform all operations on a sequence, including NEXTVAL, even though it ultimately updates the sequence.</p>
<p>For example, to grant <code>SELECT</code> privilege on the <code>employees_seq</code> sequence in the <code>HR</code> schema to the user <code>PAT</code>, issue the following statement:</p>
<pre>GRANT SELECT ON HR.employees_seq TO PAT; 
</pre>
<p>Pat can subsequently generate the next value of the sequence with the following statement:</p>
<pre>SELECT HR.employees_seq.NEXTVAL FROM DUAL;
&lt; 207 &gt;
1 row found. 
</pre></div>
<!-- class="sect3" -->
<a id="BABEICBH"></a>
<div id="TTOPR262" class="sect3">
<h4 class="sect3">Object privileges for materialized views</h4>
<p>In order to create a materialized view, a user needs the <code>CREATE MATERIALIZED VIEW</code> privilege. If the user is creating a materialized view in some other user&#39;s schema, the user needs the <code>CREATE ANY MATERIALIZED VIEW</code> privilege.</p>
<p>The owner of the materialized view needs to have <code>CREATE TABLE</code> privilege as well as <code>SELECT</code> privileges on every detail table in that materialized view. However, the owner of the materialized view is automatically granted the <code>SELECT</code> privilege on the detail tables if previously granted a higher-level system privilege, such as <code>SELECT</code> <code>ANY TABLE</code> or <code>ADMIN</code>. <a id="sthref511"></a><a id="sthref512"></a><a id="sthref513"></a></p>
<p>For a user to select from a materialized view that they do not own, the user needs to be granted <a id="sthref514"></a><a id="sthref515"></a>the object privileges for materialized views, which include <a id="sthref516"></a><a id="sthref517"></a><a id="sthref518"></a><code>SELECT</code>, <code>INDEX</code> and <code>REFERENCES</code>. For more details on the privileges required, see the appropriate SQL statements in the <a class="olink TTSQL" href="../TTSQL/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span></a>.</p>
<div id="TTOPR671" class="sect4"><a id="sthref519"></a>
<h5 class="sect4">Behavior of Invalid Materialized Views</h5>
<p>In order for the <a id="sthref520"></a>materialized view to be valid, the owner of the view must be granted and must keep the <code>SELECT</code> object privilege for all of the detail tables referenced by the materialized view. If the owner of an existing materialized view loses the <code>SELECT</code> privilege on any detail table on which the materialized view is based, the materialized view becomes invalid.</p>
<p>The status of the materialized view is provided in the <code>STATUS</code> column of the <code>SYS.DBA_OBJECTS</code>, <code>SYS.ALL_OBJECTS</code>, and <code>SYS.USER_OBJECTS</code> views. The owner of the materialized view can see the status of its materialized views in the <code>USER_OBJECTS</code> view. Alternatively, execute the <code>ttIsql describe</code> command, which appends <code>INVALID</code> to the materialized view when it becomes invalid.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If the owner of the materialized view was granted with a higher-level system privilege, such as <code>SELECT ANY TABLE</code> or <code>ADMIN</code>, the owner loses the required <code>SELECT</code> privileges on the detail tables if the higher-level system privilege is revoked. At this point, the materialized view becomes invalid.</div>
<ul>
<li>
<p>Users may still select from an invalid asynchronous materialized view without error. However, users receive an error when selecting from an invalid synchronous materialized view.</p>
</li>
<li>
<p>Users that have the privilege to do so can still update the detail tables of the materialized view. However, an invalid materialized view does not reflect these changes. In addition, for asynchronous materialized views, the materialized view log is not updated if no valid materialized views depend on the detail tables.</p>
</li>
<li>
<p><code>REFRESH</code> on an invalid synchronous materialized view fails with an error.</p>
</li>
<li>
<p>If the owner of the materialized view has been re-granted the privilege that was previously revoked, a <code>REFRESH</code> on an invalid <code>COMPLETE</code> asynchronous materialized view succeeds and the asynchronous materialized view is now valid.</p>
</li>
<li>
<p>In order to fix an invalid materialized view, you must grant the appropriate privileges to the owner of the materialized view and then drop and re-create the materialized view.</p>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="BABGDAAC"></a>
<div id="TTOPR263" class="sect3">
<h4 class="sect3">Object Privileges needed when creating foreign key with REFERENCES clause</h4>
<p><a id="sthref521"></a><a id="sthref522"></a><a id="sthref523"></a>The <code>REFERENCES</code> clause in the <code>CREATE</code> or <code>ALTER TABLE</code> statements creates a foreign key dependency from the new child table column (<code>TABLE1.COL1</code>) on the parent table column (<code>TABLE2.PK</code>) as shown in the following operation:</p>
<pre>ALTER TABLE PAT.TABLE1 ADD CONSTRAINT FK1
    FOREIGN KEY (COL1) REFERENCES PAT.TABLE2 (PK);
</pre>
<p>In this example, the user executing the SQL must have <code>ALTER ANY TABLE</code> privilege. Since Pat owns both tables, no additional privileges are needed since Pat owns both tables.</p>
<p>However, if the <code>REFERENCES</code> clause refers to a table not owned by this user, then the <code>REFERENCES</code> object privilege on the table not owned by the user is required before execution is allowed. For example:</p>
<pre>ALTER TABLE PAT.TABLE1 ADD CONSTRAINT FK1
    FOREIGN KEY (COL1) REFERENCES TERRY.TABLE2 (PK);
</pre>
<p>In this example, the user executing this SQL must have <code>ALTER ANY TABLE</code> privilege. As in the previous example, if the user executing this SQL is Pat, the <code>ALTER ANY TABLE</code> privilege is not required because a table&#39;s owner can always modify its own table. In addition, the user Pat must be granted the <code>REFERENCES</code> privilege on <code>TERRY.TABLE2</code> in order for Pat to create a foreign key involving a table owned by Terry.</p>
<p>A user who creates or alters a child table needs the <code>REFERENCES</code> object privilege on the parent table to create a foreign key dependency. The <code>REFERENCES</code> privilege implicitly grants <code>SELECT</code> privileges for a user creating a foreign key on the parent table. However, this implicit grant does not mean that the user has the <code>SELECT</code> privilege on the parent table, so any <code>SELECT</code> statements fail if the only privilege on the parent table is the <code>REFERENCES</code> privilege.</p>
</div>
<!-- class="sect3" -->
<a id="BABIDFFG"></a>
<div id="TTOPR264" class="sect3">
<h4 class="sect3">Object privileges for PL/SQL functions, procedures and packages</h4>
<p><a id="sthref524"></a><a id="sthref525"></a><a id="sthref526"></a><a id="sthref527"></a><a id="sthref528"></a><a id="sthref529"></a><a id="sthref530"></a><a id="sthref531"></a><a id="sthref532"></a>For a user to perform operations on PL/SQL functions, PL/SQL procedures or PL/SQL packages that they do not own, they must be granted the <a id="sthref533"></a><a id="sthref534"></a><code>EXECUTE</code> object privilege. When you grant a user <code>EXECUTE</code> privilege on a package, this automatically grants <code>EXECUTE</code> privilege on its component procedures and functions.</p>
<p>This privilege grants the right to the following:</p>
<ul>
<li>
<p>Execute the procedure or function.</p>
</li>
<li>
<p>Access any program object declared in the specification of a package.</p>
</li>
<li>
<p>Compile the object implicitly during a call to a currently invalid or uncompiled function or procedure.</p>
</li>
</ul>
<p>The <code>EXECUTE</code> privilege does not allow the user to create, drop or alter any procedure, function or package. This requires appropriate system privileges. For example, to explicitly compile using <code>ALTER PROCEDURE</code> or <code>ALTER FUNCTION</code>, the user must be granted the <a id="sthref535"></a><a id="sthref536"></a><code>ALTER ANY PROCEDURE</code> system privilege. For details on the system privileges for functions, procedures or packages, see <a href="#BABGBCGB">&#34;Enabling users to perform operations on any database object type&#34;</a>.</p>
</div>
<!-- class="sect3" -->
<a id="BABHHHEH"></a>
<div id="TTOPR672" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Object privileges for synonyms</h4>
<p><a id="sthref537"></a><a id="sthref538"></a><a id="sthref539"></a><a id="sthref540"></a><a id="sthref541"></a><a id="sthref542"></a><a id="sthref543"></a>For a user to create or drop private or public synonyms, the user must have the following privileges:</p>
<div id="TTOPR673" class="tblhruleformal">
<p class="titleintable"><a id="sthref544"></a><a id="sthref545"></a>Table 4-1 Privileges for synonyms</p>
<table class="cellalignment3233" title="Privileges for synonyms" summary="object privileges for synonyms" dir="ltr">
<thead>
<tr class="cellalignment3224">
<th class="cellalignment3234" id="r1c1-t18">Action</th>
<th class="cellalignment3234" id="r1c2-t18">Required privilege</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r2c1-t18" headers="r1c1-t18">
<p>Create a private synonym in the user&#39;s own schema.</p>
</td>
<td class="cellalignment3230" headers="r2c1-t18 r1c2-t18">
<p><code>CREATE SYNONYM</code></p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r3c1-t18" headers="r1c1-t18">
<p>Create a private synonym in another user&#39;s schema.</p>
</td>
<td class="cellalignment3230" headers="r3c1-t18 r1c2-t18">
<p><code>CREATE ANY SYNONYM</code></p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r4c1-t18" headers="r1c1-t18">
<p>Create a public synonym.</p>
</td>
<td class="cellalignment3230" headers="r4c1-t18 r1c2-t18">
<p><code>CREATE PUBLIC SYNONYM</code></p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r5c1-t18" headers="r1c1-t18">
<p>Drop a private synonym in the user&#39;s own schema.</p>
</td>
<td class="cellalignment3230" headers="r5c1-t18 r1c2-t18">
<p>No privilege needed.</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r6c1-t18" headers="r1c1-t18">
<p>Drop a private synonym in another user&#39;s schema.</p>
</td>
<td class="cellalignment3230" headers="r6c1-t18 r1c2-t18">
<p><code>DROP ANY SYNONYM</code></p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r7c1-t18" headers="r1c1-t18">
<p>Drop a public synonym.</p>
</td>
<td class="cellalignment3230" headers="r7c1-t18 r1c2-t18">
<p><code>DROP PUBLIC SYNONYM</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p>In addition, in order to use a synonym, the user must have the appropriate access privileges for the object that the synonym refers to. For example, if you create a synonym for a view, then to select from that view using the synonym, the user would need the <code>SELECT</code> privilege that is necessary to select from a view.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABJEEJG"></a>
<div id="TTOPR265" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Granting or revoking multiple privileges with a single SQL statement</h3>
<p>You can grant multiple object privileges in the same <code>GRANT</code> or <code>REVOKE</code> statement for the same database object for one or more users. For example, the following grants Terry the <code>SELECT</code> and <code>UPDATE</code> object privileges on the <code>HR.employees</code> table in the same SQL statement.</p>
<pre>GRANT SELECT, UPDATE ON HR.employees TO TERRY;
</pre>
<p>You can also grant multiple system privileges to one or more users with the same <code>GRANT</code> or <code>REVOKE</code> statement. The following example grants multiple system privileges to both Terry and Pat.</p>
<pre>GRANT CREATE ANY TABLE, CREATE SESSION TO TERRY, PAT;
</pre>
<p>You cannot combine system and object privileges in the same <code>GRANT</code> or <code>REVOKE</code> statement.</p>
</div>
<!-- class="sect2" -->
<a id="BABICBJD"></a>
<div id="TTOPR266" class="sect2">
<h3 class="sect2">Granting or revoking privileges for cache groups</h3>
<p><a id="sthref546"></a><a id="sthref547"></a><a id="sthref548"></a>In order for a user to be able to perform activities involving any cache group, the user must have the appropriate cache group privileges. There are system and object privileges for cache groups, where system privileges confer abilities beyond a singular object.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Passthrough does not require any privileges to be granted, since the privilege checking is performed by the Oracle Database with the user credentials. For details on passthrough, see <a class="olink TTCAC291" href="../TTCAC/operations.htm#TTCAC291">&#34;Setting a passthrough level&#34;</a> in the <span class="italic">Oracle TimesTen Application-Tier Database Cache User&#39;s Guide</span>.</div>
<p>The following sections provide an overview of cache group privileges:</p>
<ul>
<li>
<p><a href="#BABGJBCH">Cache manager privilege</a></p>
</li>
<li>
<p><a href="#BABHAEHC">Cache group system privileges</a></p>
</li>
<li>
<p><a href="#BABBECAC">Cache group object privileges</a></p>
</li>
</ul>
<p>For a full list of all system and object privileges for cache group operations, see <a class="olink TTSQL338" href="../TTSQL/privileges.htm#TTSQL338">&#34;Privileges&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<a id="BABGJBCH"></a>
<div id="TTOPR267" class="sect3">
<h4 class="sect3">Cache manager privilege</h4>
<p>The cache group system privileges provide a user the ability to affect cache group objects across the database. The <a id="sthref549"></a><a id="sthref550"></a><code>CACHE_MANAGER</code> system privilege is the administrator privilege for cache groups. If a user has been granted the <code>CACHE_MANAGER</code> privilege, this user may perform any cache group operation. This privilege confers all cache group operation privileges, which are listed in the <a class="olink TTSQL343" href="../TTSQL/privileges.htm#TTSQL343">&#34;Privilege hierarchy&#34;</a> section in the <span class="italic">Oracle TimesTen In-Memory Database SQL Reference</span>.</p>
<p>You must have the <code>CACHE_MANAGER</code> privilege to perform the initial load of a read-only cache group or to change the state of autorefresh on a read-only cache group. The initial load implicitly alters the state of the cache group autorefresh from paused to on.</p>
<p>The following grants the <code>CACHE_MANAGER</code> privilege to Pat:</p>
<pre>GRANT CACHE_MANAGER TO PAT;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
An asynchronous writethrough (AWT) <a id="sthref551"></a>cache group combines both cache groups and replication. The <code>CACHE_MANAGER</code> privilege provides all of the privileges that you need for creating AWT cache groups.</div>
</div>
<!-- class="sect3" -->
<a id="BABHAEHC"></a>
<div id="TTOPR268" class="sect3">
<h4 class="sect3">Cache group system privileges</h4>
<p><a id="sthref552"></a><a id="sthref553"></a><a id="sthref554"></a><a id="sthref555"></a><a id="sthref556"></a><a id="sthref557"></a><a id="sthref558"></a><a id="sthref559"></a><a id="sthref560"></a>The privileges that the TimesTen users require depend on the types of cache group operations that you want to perform.</p>
<ul>
<li>
<p>To create a cache group, a user must be granted either the <code>CREATE CACHE GROUP</code> or <code>CREATE ANY CACHE GROUP</code> system privilege. In addition, the user must be granted either the <code>CREATE ANY TABLE</code> or <code>CREATE TABLE</code> privilege to create any underlying cache tables, depending on if the table is owned by the user or not.</p>
</li>
<li>
<p>To drop or alter a cache group that is not owned by the user, the user must be granted the <code>DROP ANY CACHE GROUP</code> or <code>ALTER ANY CACHE GROUP</code> privilege as appropriate. In addition, the user must be granted the <code>DROP ANY TABLE</code> privilege to drop any underlying cache tables, if the tables are not owned by the user.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
All cache group privileges are described in detail in the <a class="olink TTCAC167" href="../TTCAC/prereqs.htm#TTCAC167">&#34;Setting Up a Caching Infrastructure&#34;</a> chapter in the <span class="italic">Oracle TimesTen Application-Tier Database Cache User&#39;s Guide</span>.</div>
<p>For example, the following confers the privilege for a user to alter any cache group in the database:</p>
<pre>GRANT ALTER ANY CACHE GROUP TO PAT;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Users with certain privileges must also be created on the Oracle database to own tables and to store cache grid information. The privileges required for the Oracle Database cache administration user and the TimesTen cache manager user for each cache operation are listed in the <a class="olink TTCAC167" href="../TTCAC/prereqs.htm#TTCAC167">&#34;Setting Up a Caching Infrastructure&#34;</a> chapter in the <span class="italic">Oracle TimesTen Application-Tier Database Cache User&#39;s Guide</span>.</div>
<p>Other system privileges for cache group operations are for performing the following on objects not owned by the user:</p>
<ul>
<li>
<p><a id="sthref561"></a><code>FLUSH ANY CACHE GROUP</code>: Enables users to flush any cache group in the database.</p>
</li>
<li>
<p><a id="sthref562"></a><code>LOAD ANY CACHE GROUP</code>: Enables users to load any cache group in the database.</p>
</li>
<li>
<p><a id="sthref563"></a><code>UNLOAD ANY CACHE GROUP</code>: Enables users to unload any cache group in the database.</p>
</li>
<li>
<p><a id="sthref564"></a><code>REFRESH ANY CACHE GROUP</code>: Enables users to refresh any cache group in the database.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BABBECAC"></a>
<div id="TTOPR269" class="sect3">
<h4 class="sect3">Cache group object privileges</h4>
<p><a id="sthref565"></a><a id="sthref566"></a><a id="sthref567"></a><a id="sthref568"></a>The object privileges for cache group operations are granted to a user for performing the operation on a single, defined object. The following are the object privileges for cache group objects:</p>
<ul>
<li>
<p><a id="sthref569"></a><code>FLUSH</code>: Enables the user to flush a cache group owned by another user.</p>
</li>
<li>
<p><a id="sthref570"></a><code>LOAD</code>: Enables the user to load a cache group owned by another user.</p>
</li>
<li>
<p><a id="sthref571"></a><code>UNLOAD</code>: Enables the user to unload a cache group owned by another user.</p>
</li>
<li>
<p><a id="sthref572"></a><code>REFRESH</code>: Enables the user to refresh a cache group owned by another user.</p>
</li>
</ul>
<p>For example, the following example grants Pat the cache group object privilege to perform a <code>FLUSH</code> on the cache group <code>CACHEGRP</code> that is owned by Terry:</p>
<pre>GRANT FLUSH ON TERRY.CACHEGRP TO PAT;
 
</pre>
<p>For details on cache group operations, see <a class="olink TTCAC266" href="../TTCAC/operations.htm#TTCAC266">&#34;Cache Group Operations&#34;</a> in the <span class="italic">Oracle TimesTen Application-Tier Database Cache User&#39;s Guide</span>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABBIAGC"></a>
<div id="TTOPR270" class="sect2">
<h3 class="sect2">Viewing user privileges</h3>
<p><a id="sthref573"></a><a id="sthref574"></a><a id="sthref575"></a>You can view the privileges granted to each user through the following views:</p>
<div id="TTOPR271" class="tblhruleformal">
<p class="titleintable"><a id="sthref576"></a><a id="sthref577"></a>Table 4-2 System privilege views</p>
<table class="cellalignment3233" title="System privilege views" summary="System privilege views" dir="ltr">
<thead>
<tr class="cellalignment3224">
<th class="cellalignment3234" id="r1c1-t23">View name</th>
<th class="cellalignment3234" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r2c1-t23" headers="r1c1-t23">
<p><code>SYS.<a id="sthref578"></a>USER_SYS_PRIVS</code></p>
</td>
<td class="cellalignment3230" headers="r2c1-t23 r1c2-t23">
<p>Returns all of the system privileges granted to the current user.</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r3c1-t23" headers="r1c1-t23">
<p><code>SYS.<a id="sthref579"></a>DBA_SYS_PRIVS</code></p>
</td>
<td class="cellalignment3230" headers="r3c1-t23 r1c2-t23">
<p>Returns the list of system privileges granted to all users and inherited from the <code>PUBLIC</code> role. Requires the <code>ADMIN</code> privilege to select from this view.</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r4c1-t23" headers="r1c1-t23">
<p><code>SYS.<a id="sthref580"></a>USER_TAB_PRIVS</code></p>
</td>
<td class="cellalignment3230" headers="r4c1-t23 r1c2-t23">
<p>Returns all of the object privileges granted to the current user.</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r5c1-t23" headers="r1c1-t23">
<p><code>SYS.<a id="sthref581"></a>ALL_TAB_PRIVS</code></p>
</td>
<td class="cellalignment3230" headers="r5c1-t23 r1c2-t23">
<p>Returns the results of both <code>USER_TAB_PRIVS</code> and the object privileges inherited from the <code>PUBLIC</code> role for a user. This shows all object privileges granted to a user.</p>
</td>
</tr>
<tr class="cellalignment3224">
<td class="cellalignment3230" id="r6c1-t23" headers="r1c1-t23">
<p><code>SYS.<a id="sthref582"></a>DBA_TAB_PRIVS</code></p>
</td>
<td class="cellalignment3230" headers="r6c1-t23 r1c2-t23">
<p>Returns the object privileges granted to all users and inherited from the <code>PUBLIC</code> role. Requires the <code>ADMIN</code> privilege to select from this view.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformal" -->
<p>For example, perform the following to see all of the system privileges granted to all users:</p>
<pre>Command&gt; SELECT * FROM SYS.DBA_SYS_PRIVS;
&lt; SYS, ADMIN, YES &gt;
&lt; SYSTEM, ADMIN, YES &gt;
&lt; TERRY, ADMIN, YES &gt;
&lt; TERRY, CREATE ANY TABLE, NO &gt;
&lt; PAT, CACHE_MANAGER, NO &gt;
5 rows found.
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
For details on these views, see <a class="olink TTSYS346" href="../TTSYS/systemtables.htm#TTSYS346">&#34;System Tables&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database System Tables and Views Reference</span>.</div>
</div>
<!-- class="sect2" -->
<a id="BABIDIIA"></a>
<div id="TTOPR272" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Privileges needed for utilities, built-in procedures and first connection attributes</h3>
<p>Many of the utilities and built-in procedures require a certain privilege in order to execute. In addition, in order to modify or connect with certain first connection attributes, certain privileges are required. First connection attributes are set when a database is first loaded, and only the instance administrator can load a database with first connection attribute settings. The required privilege for each is described with the utility, built-in procedure or first connection attribute description in the <a class="olink TTREF" href="../TTREF/toc.htm"><span class="italic">Oracle TimesTen In-Memory Database Reference</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="BABJGIJI"></a>
<div id="TTOPR273" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Privilege checking rules for parent-child tables</h3>
<p><a id="sthref583"></a>If you have tables related by foreign key constraints, then the following applies:</p>
<ul>
<li>
<p>If <code>ON DELETE CASCADE</code> is specified on a foreign-key constraint for a child table, a user can delete rows from the parent table resulting in deletions from the child table without requiring an explicit <code>DELETE</code> privilege on the child table. However, a user must have the <code>DELETE</code> privilege on the parent table for this to occur automatically.</p>
</li>
<li>
<p>When you perform an insert or update on a child table, TimesTen determines if there is a foreign key constraint violation on the parent table resulting from the change to the child table. In this case, a user is required to have the <code>INSERT</code> or <code>UPDATE</code> privilege on the child table, but not a <code>SELECT</code> privilege on the parent table.</p>
</li>
<li>
<p>A user who creates a child table needs the <code>REFERENCES</code> object privilege on the parent table to create a foreign key dependency. See <a href="#BABGDAAC">&#34;Object Privileges needed when creating foreign key with REFERENCES clause&#34;</a> for more details.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3223">
<tr>
<td class="cellalignment3230">
<table class="cellalignment3228">
<tr>
<td class="cellalignment3227"><a href="daemon.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3227"><a href="globalization.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3232">
<table class="cellalignment3226">
<tr>
<td class="cellalignment3227"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3227"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3227"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3227"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3227"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3227"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
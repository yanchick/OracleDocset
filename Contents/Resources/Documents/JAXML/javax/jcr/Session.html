<!--NewPage--><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en-US"><head>
<!-- Generated by javadoc (build 1.6.0_21) on Sat Dec 29 19:14:37 PST 2012 -->
<a class="dashingAutolink" name="autolink-70033"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Session%20%28%7C%7COracle%20Database%20XML%20Java%20API%20Reference%7C%7C%29"></a><title>Session (||Oracle Database XML Java API Reference||)</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii"/>
<meta name="date" content="2012-12-29"/>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style"/>
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Session (||Oracle Database XML Java API Reference||)";
    }
}
</script>
<meta name="generator" content="Oracle ST-Doc Jadey 2.5"/>
</head>
<body bgcolor="white" onload="windowTitle();">
<hr/>
<p style="display: none"><a href="#skip_navbar_top" title="Skip navigation links">Skip navigation links</a> <a name="navbar_top" id="navbar_top"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="0" width="100%" cellpadding="1" cellspacing="0">
<tbody><tr>
<td colspan="2" bgcolor="#EEEEFF" class="NavBarCell1"><a name="navbar_top_firstrow" id="navbar_top_firstrow"><!-- --></a>
<table class="oac_no_warn" summary="Layout table... probably." border="0" cellpadding="0" cellspacing="3">
<tbody><tr align="center" valign="top">
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../overview-summary.html"><span class="NavBarFont1"><b>Overview</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="package-summary.html"><span class="NavBarFont1"><b>Package</b></span></a>&nbsp;</td>
<td bgcolor="#FFFFFF" class="NavBarCell1Rev">&nbsp;<span class="NavBarFont1Rev"><b>Class</b></span>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="package-tree.html"><span class="NavBarFont1"><b>Tree</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../deprecated-list.html"><span class="NavBarFont1"><b>Deprecated</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../index-all.html"><span class="NavBarFont1"><b>Index</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../help-doc.html"><span class="NavBarFont1"><b>Help</b></span></a>&nbsp;</td>
</tr>
</tbody></table>
</td>
<td align="right" valign="top" rowspan="3"><em><b>Oracle&reg; Database XML Java API Reference<br/>
12<em>c</em> Release 1 (12.1)</b><br/>
E15981-09</em></td>
</tr>
<tr>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller">&nbsp;<a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr"><b>PREV CLASS</b></a>&nbsp; &nbsp;<a href="../../javax/jcr/SimpleCredentials.html" title="class in javax.jcr"><b>NEXT CLASS</b></a></span></td>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller"><a href="../../index.html?javax/jcr/Session.html" target="_top"><b>FRAMES</b></a> &nbsp; &nbsp;<a href="Session.html" target="_top"><b>NO FRAMES</b></a> &nbsp; &nbsp;</span><script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes<\/B><\/A>');
  }
  //-->
</script> <noscript><a href="../../allclasses-noframe.html"><b>All Classes</b></a></noscript></td>
</tr>
<tr>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_summary">METHOD</a></span></td>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_detail">METHOD</a></span></td>
</tr>
</tbody></table>
<p><a name="skip_navbar_top" id="skip_navbar_top"></a> <!-- ========= END OF TOP NAVBAR ========= --></p>
<hr/>
<!-- ======== START OF CLASS DATA ======== -->
<h2><span style="font-size: smaller">javax.jcr</span><br/>
Interface Session</h2>
<dl>
<dt><b>All Known Subinterfaces:</b></dt>
<dd><a href="../../oracle/jcr/OracleSession.html" title="interface in oracle.jcr">OracleSession</a></dd>
</dl>
<hr/>
<dl>
<dd>
<pre>public interface <b>Session</b>
</pre></dd>
</dl>
<p>The <code>Session</code> object provides read and (in level 2) write access to the content of a particular workspace in the repository.</p>
<p>The <code>Session</code> object is returned by <a href="../../javax/jcr/Repository.html#login_javax_jcr_Credentials__java_lang_String_"><code>Repository.login(javax.jcr.Credentials, java.lang.String)</code></a>. It encapsulates both the authorization settings of a particular user (as specified by the passed <code>Credentials</code>)and a binding to the workspace specified by the <code>workspaceName</code> passed on <code>login</code>.</p>
<p>Each <code>Session</code> object is associated one-to-one with a <code>Workspace</code> object. The <code>Workspace</code> object represents a &#34;view&#34; of an actual repository workspace entity as seen through the authorization settings of its associated <code>Session</code>.</p>
<hr/>
<p><!-- ========== METHOD SUMMARY =========== -->
 <a name="method_summary" id="method_summary"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#CCCCFF" class="TableHeadingColor">
<th align="left" colspan="2"><span><b>Method Summary</b></span></th>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#addLockToken_java_lang_String_">addLockToken</a></b>(java.lang.String&nbsp;lt)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the specified lock token to this session.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#checkPermission_java_lang_String__java_lang_String_">checkPermission</a></b>(java.lang.String&nbsp;absPath, java.lang.String&nbsp;actions)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether this <code>Session</code> has permission to perform the specified actions at the specified <code>absPath</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#exportDocumentView_java_lang_String__org_xml_sax_ContentHandler__boolean__boolean_">exportDocumentView</a></b>(java.lang.String&nbsp;absPath, <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a>&nbsp;contentHandler, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#exportDocumentView_java_lang_String__java_io_OutputStream__boolean__boolean_">exportDocumentView</a></b>(java.lang.String&nbsp;absPath, java.io.OutputStream&nbsp;out, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#exportSystemView_java_lang_String__org_xml_sax_ContentHandler__boolean__boolean_">exportSystemView</a></b>(java.lang.String&nbsp;absPath, <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a>&nbsp;contentHandler, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#exportSystemView_java_lang_String__java_io_OutputStream__boolean__boolean_">exportSystemView</a></b>(java.lang.String&nbsp;absPath, java.io.OutputStream&nbsp;out, boolean&nbsp;skipBinary, boolean&nbsp;noRecurse)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.Object</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getAttribute_java_lang_String_">getAttribute</a></b>(java.lang.String&nbsp;name)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the value of the named attribute as an <code>Object</code>, or <code>null</code> if no attribute of the given name exists.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.String[]</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getAttributeNames__">getAttributeNames</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the names of the attributes set in this session as a result of the <code>Credentials</code> that were used to acquire it.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getImportContentHandler_java_lang_String__int_">getImportContentHandler</a></b>(java.lang.String&nbsp;parentAbsPath, int&nbsp;uuidBehavior)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an <code>org.xml.sax.ContentHandler</code> which can be used to push SAX events into the repository.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/Item.html" title="interface in javax.jcr">Item</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getItem_java_lang_String_">getItem</a></b>(java.lang.String&nbsp;absPath)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the item at the specified absolute path in the workspace.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.String[]</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getLockTokens__">getLockTokens</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array containing all lock tokens currently held by this session.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.String</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getNamespacePrefix_java_lang_String_">getNamespacePrefix</a></b>(java.lang.String&nbsp;uri)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the prefix to which the given URI is mapped</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.String[]</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getNamespacePrefixes__">getNamespacePrefixes</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all prefixes currently set for this session.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.String</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getNamespaceURI_java_lang_String_">getNamespaceURI</a></b>(java.lang.String&nbsp;prefix)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For a given prefix, returns the URI to which it is mapped as currently set in this <code>Session</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/Node.html" title="interface in javax.jcr">Node</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getNodeByUUID_java_lang_String_">getNodeByUUID</a></b>(java.lang.String&nbsp;uuid)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the node specifed by the given UUID.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/Repository.html" title="interface in javax.jcr">Repository</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getRepository__">getRepository</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>Repository</code> object through which this session was acquired.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/Node.html" title="interface in javax.jcr">Node</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getRootNode__">getRootNode</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the root node of the workspace.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;java.lang.String</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getUserID__">getUserID</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the user ID that was used to acquire this session.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/ValueFactory.html" title="interface in javax.jcr">ValueFactory</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getValueFactory__">getValueFactory</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns a <code>ValueFactory</code> that is used to create <code>Value</code> objects for use when setting repository properties.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/Workspace.html" title="interface in javax.jcr">Workspace</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#getWorkspace__">getWorkspace</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>Workspace</code> attached to this <code>Session</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;boolean</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#hasPendingChanges__">hasPendingChanges</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if this session holds pending (that is, unsaved) changes; otherwise returns <code>false</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;<a href="../../javax/jcr/Session.html" title="interface in javax.jcr">Session</a></code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#impersonate_javax_jcr_Credentials_">impersonate</a></b>(<a href="../../javax/jcr/Credentials.html" title="interface in javax.jcr">Credentials</a>&nbsp;credentials)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a new session in accordance with the specified (new) Credentials.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#importXML_java_lang_String__java_io_InputStream__int_">importXML</a></b>(java.lang.String&nbsp;parentAbsPath, java.io.InputStream&nbsp;in, int&nbsp;uuidBehavior)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deserializes an XML document and adds the resulting item subtree as a child of the node at parentAbsPath.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;boolean</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#isLive__">isLive</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if this <code>Session</code> object is usable by the client.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;boolean</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#itemExists_java_lang_String_">itemExists</a></b>(java.lang.String&nbsp;absPath)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if an item exists at <code>absPath</code>; otherwise returns <code>false</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#logout__">logout</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Releases all resources associated with this <code>Session</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#move_java_lang_String__java_lang_String_">move</a></b>(java.lang.String&nbsp;srcAbsPath, java.lang.String&nbsp;destAbsPath)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Moves the node at <code>srcAbsPath</code> (and its entire subtree) to the new location at <code>destAbsPath</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#refresh_boolean_">refresh</a></b>(boolean&nbsp;keepChanges)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If <code>keepChanges</code> is <code>false</code>, this method discards all pending changes currently recorded in this <code>Session</code> and returns all items to reflect the current saved state.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#removeLockToken_java_lang_String_">removeLockToken</a></b>(java.lang.String&nbsp;lt)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the specified lock token from this session.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#save__">save</a></b>()</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validates all pending changes currently recorded in this <code>Session</code>.</td>
</tr>
<tr bgcolor="white" class="TableRowColor">
<td align="right" valign="top" width="1%"><span style="font-size: smaller"><code>&nbsp;void</code></span></td>
<td><code><b><a href="../../javax/jcr/Session.html#setNamespacePrefix_java_lang_String__java_lang_String_">setNamespacePrefix</a></b>(java.lang.String&nbsp;prefix, java.lang.String&nbsp;uri)</code><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Within the scope of this session, rename a persistently registered namespace URI to the new prefix.</td>
</tr>
</tbody></table>
<p>&nbsp;</p>
<p><!-- ============ METHOD DETAIL ========== -->
 <a name="method_detail" id="method_detail"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="1" width="100%" cellpadding="3" cellspacing="0">
<tbody><tr bgcolor="#CCCCFF" class="TableHeadingColor">
<th align="left" colspan="1"><span><b>Method Detail</b></span></th>
</tr>
</tbody></table>
<p><a name="getRepository__" id="getRepository__"><!-- --></a></p>
<h3>getRepository</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/Repository.html" title="interface in javax.jcr">Repository</a> <b>getRepository</b>()
</pre>
<dl>
<dd>Returns the <code>Repository</code> object through which this session was acquired.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>a <code><a href="../../javax/jcr/Repository.html" title="interface in javax.jcr"><code>Repository</code></a></code> object.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getUserID__" id="getUserID__"><!-- --></a></p>
<h3>getUserID</h3>
<pre class="oac_no_warn">java.lang.String <b>getUserID</b>()
</pre>
<dl>
<dd>Gets the user ID that was used to acquire this session. This method is free to return an &#34;anonymous user id&#34; or <code>null</code> if the <code>Credentials</code> used to acquire this session happens not to have provided a real user ID (for example, if instead of <code>SimpleCredentials</code> some other implementation of <code>Credentials</code> was used).</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>the user id from the credentials used to acquire this session.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getAttribute_java_lang_String_" id="getAttribute_java_lang_String_"><!-- --></a></p>
<h3>getAttribute</h3>
<pre class="oac_no_warn">java.lang.Object <b>getAttribute</b>(java.lang.String name)
</pre>
<dl>
<dd>Returns the value of the named attribute as an <code>Object</code>, or <code>null</code> if no attribute of the given name exists. See <a href="../../javax/jcr/Session.html#getAttributeNames__"><code>getAttributeNames()</code></a>.</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>name</code> - the name of an attribute passed in the credentials used to acquire this session.</dd>
<dt><b>Returns:</b></dt>
<dd>the value of the attribute.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getAttributeNames__" id="getAttributeNames__"><!-- --></a></p>
<h3>getAttributeNames</h3>
<pre class="oac_no_warn">java.lang.String[] <b>getAttributeNames</b>()
</pre>
<dl>
<dd>Returns the names of the attributes set in this session as a result of the <code>Credentials</code> that were used to acquire it. Not all <code>Credentials</code> implementations will contain attributes (though, for example, <code>SimpleCredentials</code> does allow for them). This method returns an empty array if the <code>Credentials</code> instance used to acquire this <code>Session</code> did not provide attributes.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>A string array containing the names of all attributes passed in the credentials used to acquire this session.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getWorkspace__" id="getWorkspace__"><!-- --></a></p>
<h3>getWorkspace</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/Workspace.html" title="interface in javax.jcr">Workspace</a> <b>getWorkspace</b>()
</pre>
<dl>
<dd>Returns the <code>Workspace</code> attached to this <code>Session</code>.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>a <code><a href="../../javax/jcr/Workspace.html" title="interface in javax.jcr"><code>Workspace</code></a></code> object.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="impersonate_javax_jcr_Credentials_" id="impersonate_javax_jcr_Credentials_"><!-- --></a></p>
<h3>impersonate</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/Session.html" title="interface in javax.jcr">Session</a> <b>impersonate</b>(<a href="../../javax/jcr/Credentials.html" title="interface in javax.jcr">Credentials</a> credentials)
                    throws <a href="../../javax/jcr/LoginException.html" title="class in javax.jcr">LoginException</a>,
                           <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns a new session in accordance with the specified (new) Credentials. Allows the current user to &#34;impersonate&#34; another using incomplete credentials (perhaps including a user name but no password, for example), assuming that their original session gives them that permission.
<p>The new <code>Session</code> is tied to a new <code>Workspace</code> instance. In other words, <code>Workspace</code> instances are not re-used. However, the <code>Workspace</code> instance returned represents the same actual persistent workspace entity in the repository as is represented by the <code>Workspace</code> object tied to this <code>Session</code>.</p>
<p>Throws a <code>LoginException</code> if the current session does not have sufficient rights.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>credentials</code> - A <code>Credentials</code> object</dd>
<dt><b>Returns:</b></dt>
<dd>a <code>Session</code> object</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/LoginException.html" title="class in javax.jcr">LoginException</a></code> - if the current session does not have sufficient rights.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getRootNode__" id="getRootNode__"><!-- --></a></p>
<h3>getRootNode</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/Node.html" title="interface in javax.jcr">Node</a> <b>getRootNode</b>()
                 throws <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns the root node of the workspace. The root node, &#34;/&#34;, is the main access point to the content of the workspace.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>The root node of the workspace: a <code>Node</code> object.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getNodeByUUID_java_lang_String_" id="getNodeByUUID_java_lang_String_"><!-- --></a></p>
<h3>getNodeByUUID</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/Node.html" title="interface in javax.jcr">Node</a> <b>getNodeByUUID</b>(java.lang.String uuid)
                   throws <a href="../../javax/jcr/ItemNotFoundException.html" title="class in javax.jcr">ItemNotFoundException</a>,
                          <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns the node specifed by the given UUID. Only applies to nodes that expose a UUID, in other words, those of mixin node type <code>mix:referenceable</code></dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>uuid</code> - A universally unique identifier.</dd>
<dt><b>Returns:</b></dt>
<dd>A <code>Node</code>.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/ItemNotFoundException.html" title="class in javax.jcr">ItemNotFoundException</a></code> - if the specified UUID is not found.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getItem_java_lang_String_" id="getItem_java_lang_String_"><!-- --></a></p>
<h3>getItem</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/Item.html" title="interface in javax.jcr">Item</a> <b>getItem</b>(java.lang.String absPath)
             throws <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                    <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns the item at the specified absolute path in the workspace.</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>absPath</code> - An absolute path.</dd>
<dt><b>Returns:</b></dt>
<dd>An <code>Item</code>.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if the specified path cannot be found.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="itemExists_java_lang_String_" id="itemExists_java_lang_String_"><!-- --></a></p>
<h3>itemExists</h3>
<pre class="oac_no_warn">boolean <b>itemExists</b>(java.lang.String absPath)
                   throws <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns <code>true</code> if an item exists at <code>absPath</code>; otherwise returns <code>false</code>. Also returns <code>false</code> if the specified <code>absPath</code> is malformed.</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>absPath</code> - an absolute path</dd>
<dt><b>Returns:</b></dt>
<dd><code>true</code> if an item exists at <code>absPath</code>; otherwise returns <code>false</code>.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="move_java_lang_String__java_lang_String_" id="move_java_lang_String__java_lang_String_"><!-- --></a></p>
<h3>move</h3>
<pre class="oac_no_warn">void <b>move</b>(java.lang.String srcAbsPath,
          java.lang.String destAbsPath)
          throws <a href="../../javax/jcr/ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a>,
                 <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                 <a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
                 <a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
                 <a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
                 <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Moves the node at <code>srcAbsPath</code> (and its entire subtree) to the new location at <code>destAbsPath</code>.
<p>In order to persist the change, a <code>save</code> must be called on the parents of both the source and destination locations.</p>
<p>A <code>ConstraintViolationException</code> is thrown either immediately or on <code>save</code> if performing this operation would violate a node type or implementation-specific constraint. Implementations may differ on when this validation is performed.</p>
<p>As well, a <code>ConstraintViolationException</code> will be thrown on <code>save</code> if an attempt is made to seperately <code>save</code> either the source or destination node.</p>
<p>Note that this behaviour differs from that of <a href="../../javax/jcr/Workspace.html#move_java_lang_String__java_lang_String_"><code>Workspace.move(java.lang.String, java.lang.String)</code></a>, which operates directly in the persistent workspace and does not require a <code>save</code>.</p>
<p>The <code>destAbsPath</code> provided must not have an index on its final element. If it does then a <code>RepositoryException</code> is thrown. Strictly speaking, the <code>destAbsPath</code> parameter is actually an <i>absolute path</i> to the parent node of the new location, appended with the new <i>name</i> desired for the moved node. It does not specify a position within the child node ordering (if such ordering is supported). If ordering is supported by the node type of the parent node of the new location, then the newly moved node is appended to the end of the child node list.</p>
<p>This method cannot be used to move just an individual property by itself. It moves an entire node and its subtree (including, of course, any properties contained therein).</p>
<p>If no node exists at <code>srcAbsPath</code> or no node exists one level above <code>destAbsPath</code> (in other words, there is no node that will serve as the parent of the moved item) then a <code>PathNotFoundException</code> is thrown either immediately or on <code>save</code>. Implementations may differ on when this validation is performed.</p>
<p>An <code>ItemExistsException</code> is thrown either immediately or on <code>save</code> if a property already exists at <code>destAbsPath</code> or a node already exists there and same-name siblings are not allowed. Implementations may differ on when this validation is performed.</p>
<p>A <code>VersionException</code> is thrown either immediately or on <code>save</code> if the parent node of <code>destAbsPath</code> or the parent node of <code>srcAbsPath] is versionable and checked-in, or is non-versionable and its nearest versionable ancestor is checked-in. Implementations may differ on when this validation is performed.</code></p>
<p><code>A <code>LockException</code> is thrown either immediately or on <code>save</code> if a lock prevents the <code>move</code>. Implementations may differ on when this validation is performed.</code></p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>srcAbsPath</code> - the root of the subtree to be moved.</dd>
<dd><code>destAbsPath</code> - the location to which the subtree is to be moved.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a></code> - if a property already exists at <code>destAbsPath</code> or a node already exist there, and same name siblings are not allowed and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if either <code>srcAbsPath</code> or <code>destAbsPath</code> cannot be found and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the parent node of <code>destAbsPath</code> or the parent node of <code>srcAbsPath</code> is versionable and checked-in, or or is non-verionable and its nearest versionable ancestor is checked-in and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if a node-type or other constraint violation is detected immediately and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if the move operation would violate a lock and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if the last element of <code>destAbsPath</code> has an index or if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="save__" id="save__"><!-- --></a></p>
<h3>save</h3>
<pre class="oac_no_warn">void <b>save</b>()
          throws <a href="../../javax/jcr/AccessDeniedException.html" title="class in javax.jcr">AccessDeniedException</a>,
                 <a href="../../javax/jcr/ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a>,
                 <a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
                 <a href="../../javax/jcr/InvalidItemStateException.html" title="class in javax.jcr">InvalidItemStateException</a>,
                 <a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
                 <a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
                 <a href="../../javax/jcr/nodetype/NoSuchNodeTypeException.html" title="class in javax.jcr.nodetype">NoSuchNodeTypeException</a>,
                 <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Validates all pending changes currently recorded in this <code>Session</code>. If validation of all pending changes succeeds, then this change information is cleared from the <code>Session</code>. If the <code>save</code> occurs outside a transaction, the changes are persisted and thus made visible to other <code>Sessions</code>. If the <code>save</code> occurs within a transaction, the changes are not persisted until the transaction is committed.
<p>If validation fails, then no pending changes are saved and they remain recorded on the <code>Session</code>. There is no best-effort or partial save.</p>
<p>When an item is saved the item in persistent storage to which pending changes are written is determined as follows:</p>
<ul>
<li>If the transient item has a UUID, then the changes are written to the persistent item with the same UUID.</li>
<li>If the transient item does not have a UUID then its nearest ancestor with a UUID, or the root node (whichever occurs first) is found, and the relative path from the node in persistent node with that UUID is used to determine the item in persistent storage to which the changes are to be written.</li>
</ul>
As a result of these rules, a <code>save</code> of an item that has a UUID will succeed even if that item has, in the meantime, been moved in persistent storage to a new location (that is, its path has changed). However, a <code>save</code> of a non-UUID item will fail (throwing an <code>InvalidItemStateException</code>) if it has, in the meantime, been moved in persistent storage to a new location. A <code>save</code> of a non-UUID item will also fail if it has, in addition to being moved, been replaced in its original position by a UUID-bearing item.
<p>Note that <code>save</code> uses the same rules to match items between transient storage and persistent storage as <a href="../../javax/jcr/Node.html#update_java_lang_String_"><code>Node.update(java.lang.String)</code></a> does to match nodes between two workspaces.</p>
<p>An <code>AccessDeniedException</code> will be thrown if any of the changes to be persisted would violate the access privileges of this <code>Session</code>.</p>
<p>If any of the changes to be persisted would cause the removal of a node that is currently the target of a <code>REFERENCE</code> property then a <code>ReferentialIntegrityException</code> is thrown, provided that this <code>Session</code> has read access to that <code>REFERENCE</code> property. If, on the other hand, this <code>Session</code> does not have read access to the <code>REFERENCE</code> property in question, then an <code>AccessDeniedException</code> is thrown instead.</p>
<p>An <code>ItemExistsException</code> will be thrown if any of the changes to be persisted would be prevented by the presence of an already existing item in the workspace.</p>
<p>A <code>ConstraintViolationException</code> will be thrown if any of the changes to be persisted would violate a node type restriction. Additionally, a repository may use this exception to enforce implementation- or configuration-dependant restrictions.</p>
<p>A <code>LockException</code> is thrown if any of the changes to be persisted would violate a lock.</p>
<p>An <code>InvalidItemStateException</code> is thrown if any of the changes to be persisted conflicts with a change already persisted through another session and the implementation is such that this conflict can only be detected at save-time and therefore was not detected earlier, at change-time.</p>
<p>A <code>VersionException</code> is thrown if the <code>save</code> would make a result in a change to persistent storage that would violate the read-only status of a checked-in node.</p>
<p>A <code>LockException</code> is thrown if the <code>save</code> would result in a change to persistent storage that would violate a lock.</p>
<p>A <code>NoSuchNodeTypeException</code> is thrown if the <code>save</code> would result in the addition of a node with an unrecognized node type.</p>
<p>A <code>RepositoryException</code> will be thrown if another error occurs.</p>
</dd>
<dd>
<dl>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/AccessDeniedException.html" title="class in javax.jcr">AccessDeniedException</a></code> - if any of the changes to be persisted would violate the access privileges of the this <code>Session</code>. Also thrown if any of the changes to be persisted would cause the removal of a node that is currently referenced by a <code>REFERENCE</code> property that this Session <i>does not</i> have read access to.</dd>
<dd><code><a href="../../javax/jcr/ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a></code> - if any of the changes to be persisted would be prevented by the presence of an already existing item in the workspace.</dd>
<dd><code><a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if any of the changes to be persisted would violate a lock.</dd>
<dd><code><a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if any of the changes to be persisted would violate a node type or restriction. Additionally, a repository may use this exception to enforce implementation- or configuration-dependent restrictions.</dd>
<dd><code><a href="../../javax/jcr/InvalidItemStateException.html" title="class in javax.jcr">InvalidItemStateException</a></code> - if any of the changes to be persisted conflicts with a change already persisted through another session and the implementation is such that this conflict can only be detected at save-time and therefore was not detected earlier, at change-time.</dd>
<dd><code><a href="../../javax/jcr/ReferentialIntegrityException.html" title="class in javax.jcr">ReferentialIntegrityException</a></code> - if any of the changes to be persisted would cause the removal of a node that is currently referenced by a <code>REFERENCE</code> property that this <code>Session</code> has read access to.</dd>
<dd><code><a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the <code>save</code> would make a result in a change to persistent storage that would violate the read-only status of a checked-in node.</dd>
<dd><code><a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if the <code>save</code> would result in a change to persistent storage that would violate a lock.</dd>
<dd><code><a href="../../javax/jcr/nodetype/NoSuchNodeTypeException.html" title="class in javax.jcr.nodetype">NoSuchNodeTypeException</a></code> - if the <code>save</code> would result in the addition of a node with an unrecognized node type.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="refresh_boolean_" id="refresh_boolean_"><!-- --></a></p>
<h3>refresh</h3>
<pre class="oac_no_warn">void <b>refresh</b>(boolean keepChanges)
             throws <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>If <code>keepChanges</code> is <code>false</code>, this method discards all pending changes currently recorded in this <code>Session</code> and returns all items to reflect the current saved state. Outside a transaction this state is simply the current state of persistent storage. Within a transaction, this state will reflect persistent storage as modified by changes that have been saved but not yet committed.
<p>If <code>keepChanges</code> is true then pending change are not discarded but items that do not have changes pending have their state refreshed to reflect the current saved state, thus revealing changes made by other sessions.</p>
</dd>
<dd>
<dl>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="hasPendingChanges__" id="hasPendingChanges__"><!-- --></a></p>
<h3>hasPendingChanges</h3>
<pre class="oac_no_warn">boolean <b>hasPendingChanges</b>()
                          throws <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns <code>true</code> if this session holds pending (that is, unsaved) changes; otherwise returns <code>false</code>.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>a boolean</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getValueFactory__" id="getValueFactory__"><!-- --></a></p>
<h3>getValueFactory</h3>
<pre class="oac_no_warn"><a href="../../javax/jcr/ValueFactory.html" title="interface in javax.jcr">ValueFactory</a> <b>getValueFactory</b>()
                             throws <a href="../../javax/jcr/UnsupportedRepositoryOperationException.html" title="class in javax.jcr">UnsupportedRepositoryOperationException</a>,
                                    <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>This method returns a <code>ValueFactory</code> that is used to create <code>Value</code> objects for use when setting repository properties.
<p>If writing to the repository is not supported (because this is a level 1-only implementation, for example) an <code>UnsupportedRepositoryOperationException</code> will be thrown.</p>
</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>a <code>ValueFactory</code></dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/UnsupportedRepositoryOperationException.html" title="class in javax.jcr">UnsupportedRepositoryOperationException</a></code> - if writing to the repository is not supported.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="checkPermission_java_lang_String__java_lang_String_" id="checkPermission_java_lang_String__java_lang_String_"><!-- --></a></p>
<h3>checkPermission</h3>
<pre class="oac_no_warn">void <b>checkPermission</b>(java.lang.String absPath,
                     java.lang.String actions)
                     throws java.security.AccessControlException,
                            <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Determines whether this <code>Session</code> has permission to perform the specified actions at the specified <code>absPath</code>. This method quietly returns if the access request is permitted, or throws a suitable <code>java.security.AccessControlException</code> otherwise.
<p>The <code>actions</code> parameter is a comma separated list of action strings. The following action strings are defined:</p>
<ul>
<li><code>add_node</code>: If <code>checkPermission(path, &#34;add_node&#34;)</code> returns quietly, then this <code>Session</code> has permission to add a node at <code>path</code>, otherwise permission is denied.</li>
<li><code>set_property</code>: If <code>checkPermission(path, &#34;set_property&#34;)</code> returns quietly, then this <code>Session</code> has permission to set (add or change) a property at <code>path</code>, otherwise permission is denied.</li>
<li><code>remove</code>: If <code>checkPermission(path, &#34;remove&#34;)</code> returns quietly, then this <code>Session</code> has permission to remove an item at <code>path</code>, otherwise permission is denied.</li>
<li><code>read</code>: If <code>checkPermission(path, &#34;read&#34;)</code> returns quietly, then this <code>Session</code> has permission to retrieve (and read the value of, in the case of a property) an item at <code>path</code>, otherwise permission is denied.</li>
</ul>
When more than one action is specified in the <code>actions</code> parameter, this method will only return quietly if this <code>Session</code> has permission to perform <i>all</i> of the listed actions at the specified path.
<p>The information returned through this method will only reflect access control policies and not other restrictions that may exist. For example, even though <code>checkPermission</code> may indicate that a particular <code>Session</code> may add a property at <code>/A/B/C</code>, the node type of the node at <code>/A/B</code> may prevent the addition of a property called <code>C</code>.</p>
</dd>
<dd>
<dl>
<dt><b>Throws:</b></dt>
<dd><code>java.security.AccessControlException</code> - If permission is denied.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getImportContentHandler_java_lang_String__int_" id="getImportContentHandler_java_lang_String__int_"><!-- --></a></p>
<h3>getImportContentHandler</h3>
<pre class="oac_no_warn"><a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a> <b>getImportContentHandler</b>(java.lang.String parentAbsPath,
                                       int uuidBehavior)
                                       throws <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                                              <a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
                                              <a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
                                              <a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
                                              <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns an <code>org.xml.sax.ContentHandler</code> which can be used to push SAX events into the repository. If the incoming XML stream (in the form of SAX events) does not appear to be a JCR <i>system view</i> XML document then it is interpreted as a JCR <i>document view</i> XML document.
<p>The incoming XML is deserialized into a subtree of items immediately below the node at <code>parentAbsPath</code>.</p>
<p>This method simply returns the <code>ContentHandler</code> without altering the state of the session; the actual deserialization to the session transient space is done through the methods of the <code>ContentHandler</code>. Invalid XML data will cause the <code>ContentHandler</code> to throw a <code>SAXException</code>.</p>
<p>As SAX events are fed into the <code>ContentHandler</code>, the tree of new items is built in the transient storage of the session. In order to persist the new content, <code>save</code> must be called. The advantage of this through-the-session method is that (depending on which constraint checks the implementation leaves until <code>save</code>) structures that violate node type constraints can be imported, fixed and then saved. The disadvantage is that a large import will result in a large cache of pending nodes in the session. See <a href="../../javax/jcr/Workspace.html#getImportContentHandler_java_lang_String__int_"><code>Workspace.getImportContentHandler(java.lang.String, int)</code></a> for a version of this method that does not go through the session.</p>
<p>The flag <code>uuidBehavior</code> governs how the UUIDs of incoming (deserialized) nodes are handled. There are four options:</p>
<ul>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_CREATE_NEW"><code>ImportUUIDBehavior.IMPORT_UUID_CREATE_NEW</code></a>: Incoming referenceable nodes are added in the same way that new node is added with <code>Node.addNode</code>. That is, they are either assigned newly created UUIDs upon addition or upon <code>save</code> (depending on the implementation). In either case, UUID collisions will not occur.</li>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REMOVE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then the already existing node (and its subtree) is removed from wherever it may be in the workspace before the incoming node is added. Note that this can result in nodes ?disappearing? from locations in the workspace that are remote from the location to which the incoming subtree is being written. Both the removal and the new addition will be persisted on <code>save</code>.</li>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REPLACE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REPLACE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace, then the already-existing node is replaced by the incoming node in the same position as the existing node. Note that this may result in the incoming subtree being disaggregated and ?spread around? to different locations in the workspace. In the most extreme case this behavior may result in no node at all being added as child of <code>parentAbsPath</code>. This will occur if the topmost element of the incoming XML has the same UUID as an existing node elsewhere in the workspace. The change will be persisted on <code>save</code>.</li>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_THROW"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then a <code>SAXException</code> is thrown by the <code>ContentHandler</code> during deserialization.</li>
</ul>
Unlike <code>Workspace.getImportContentHandler</code>, this method does not necessarily enforce all node type constraints during deserialization. Those that would be immediately enforced in a normal write method (<code>Node.addNode</code>, <code>Node.setProperty</code> etc.) of this implementation cause the returned <code>ContentHandler</code> to throw an immediate <code>SAXException</code> during deserialization. All other constraints are checked on save, just as they are in normal write operations. However, which node type constraints are enforced depends upon whether node type information in the imported data is respected, and this is an implementation-specific issue.
<p>A <code>SAXException</code> will also be thrown by the returned <code>ContentHandler</code> during deserialization if <code>uuidBehavior</code> is set to <code>IMPORT_UUID_COLLISION_REMOVE_EXISTING</code> and an incoming node has the same UUID as the node at <code>parentAbsPath</code> or one of its ancestors.</p>
<p>A <code>PathNotFoundException</code> is thrown either immediately or on <code>save</code> if no node exists at <code>parentAbsPath</code>. Implementations may differ on when this validation is performed</p>
<p>A <code>ConstraintViolationException</code> is thrown either immediately or on <code>save</code> if the new subtree cannot be added to the node at parentAbsPath due to node-type or other implementation-specific constraints, and this can be determined before the first SAX event is sent. Implementations may differ on when this validation is performed.</p>
<p>A <code>VersionException</code> is thrown either immediately or on <code>save</code> if the node at <code>parentAbsPath</code> is versionable and checked-in, or is non-versionable but its nearest versionable ancestor is checked-in. Implementations may differ on when this validation is performed.</p>
<p>A <code>LockException</code> is thrown either immediately or on <code>save</code> if a lock prevents the addition of the subtree. Implementations may differ on when this validation is performed.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>parentAbsPath</code> - the absolute path of a node under which (as child) the imported subtree will be built.</dd>
<dd><code>uuidBehavior</code> - a four-value flag that governs how incoming UUIDs are handled.</dd>
<dt><b>Returns:</b></dt>
<dd>an org.xml.sax.ContentHandler whose methods may be called to feed SAX events into the deserializer.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>parentAbsPath</code> and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if the new subtree cannot be added to the node at <code>parentAbsPath</code> due to node-type or other implementation-specific constraints, and this implementation performs this validation immediately instead of waiting until <code>save</code>.</dd>
<dd><code><a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the node at <code>parentAbsPath</code> is versionable and checked-in, or is non-versionable but its nearest versionable ancestor is checked-in and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if a lock prevents the addition of the subtree and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="importXML_java_lang_String__java_io_InputStream__int_" id="importXML_java_lang_String__java_io_InputStream__int_"><!-- --></a></p>
<h3>importXML</h3>
<pre class="oac_no_warn">void <b>importXML</b>(java.lang.String parentAbsPath,
               java.io.InputStream in,
               int uuidBehavior)
               throws java.io.IOException,
                      <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                      <a href="../../javax/jcr/ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a>,
                      <a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a>,
                      <a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a>,
                      <a href="../../javax/jcr/InvalidSerializedDataException.html" title="class in javax.jcr">InvalidSerializedDataException</a>,
                      <a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a>,
                      <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Deserializes an XML document and adds the resulting item subtree as a child of the node at parentAbsPath.
<p>If the incoming XML stream does not appear to be a JCR <i>system view</i> XML document then it is interpreted as a <i>document view</i> XML document.</p>
<p>The tree of new items is built in the transient storage of the Session. In order to persist the new content, <code>save</code> must be called. The advantage of this through-the-session method is that (depending on what constraint checks the implementation leaves until <code>save</code>) structures that violate node type constraints can be imported, fixed and then saved. The disadvantage is that a large import will result in a large cache of pending nodes in the session. See <a href="../../javax/jcr/Workspace.html#importXML_java_lang_String__java_io_InputStream__int_"><code>Workspace.importXML(java.lang.String, java.io.InputStream, int)</code></a> for a version of this method that does not go through the <code>Session</code>.</p>
<p>The flag <code>uuidBehavior</code> governs how the UUIDs of incoming (deserialized) nodes are handled. There are four options:</p>
<ul>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_CREATE_NEW"><code>ImportUUIDBehavior.IMPORT_UUID_CREATE_NEW</code></a>: Incoming referenceable nodes are added in the same way that new node is added with <code>Node.addNode</code>. That is, they are either assigned newly created UUIDs upon addition or upon <code>save</code> (depending on the implementation). In either case, UUID collisions will not occur.</li>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REMOVE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then the already existing node (and its subtree) is removed from wherever it may be in the workspace before the incoming node is added. Note that this can result in nodes ?disappearing? from locations in the workspace that are remote from the location to which the incoming subtree is being written. Both the removal and the new addition will be persisted on <code>save</code>.</li>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_REPLACE_EXISTING"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_REPLACE_EXISTING</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace, then the already-existing node is replaced by the incoming node in the same position as the existing node. Note that this may result in the incoming subtree being disaggregated and ?spread around? to different locations in the workspace. In the most extreme case this behavior may result in no node at all being added as child of <code>parentAbsPath</code>. This will occur if the topmost element of the incoming XML has the same UUID as an existing node elsewhere in the workspace. The change will only be persisted on <code>save</code>.</li>
<li><a href="../../javax/jcr/ImportUUIDBehavior.html#IMPORT_UUID_COLLISION_THROW"><code>ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW</code></a>: If an incoming referenceable node has the same UUID as a node already existing in the workspace then an <code>ItemExistsException</code> is thrown.</li>
</ul>
Unlike <a href="../../javax/jcr/Workspace.html#importXML_java_lang_String__java_io_InputStream__int_"><code>Workspace.importXML(java.lang.String, java.io.InputStream, int)</code></a>, this method does not necessarily enforce all node type constraints during deserialization. Those that would be immediately enforced in a normal write method (<code>Node.addNode</code>, <code>Node.setProperty</code> etc.) of this implementation cause an immediate <code>ConstraintViolationException</code> during deserialization. All other constraints are checked on <code>save</code>, just as they are in normal write operations. However, which node type constraints are enforced depends upon whether node type information in the imported data is respected, and this is an implementation-specific issue.
<p>A <code>ConstraintViolationException</code> will also be thrown immediately if <code>uuidBehavior</code> is set to <code>IMPORT_UUID_COLLISION_REMOVE_EXISTING</code> and an incoming node has the same UUID as the node at <code>parentAbsPath</code> or one of its ancestors.</p>
<p>A <code>PathNotFoundException</code> is thrown either immediately or on <code>save</code> if no node exists at <code>parentAbsPath</code>. Implementations may differ on when this validation is performed</p>
<p>A <code>ConstraintViolationException</code> is thrown either immediately or on <code>save</code> if the new subtree cannot be added to the node at parentAbsPath due to node-type or other implementation-specific constraints, and this can be determined before the first SAX event is sent. Implementations may differ on when this validation is performed.</p>
<p>A <code>VersionException</code> is thrown either immediately or on <code>save</code> if the node at <code>parentAbsPath</code> is versionable and checked-in, or is non-versionable but its nearest versionable ancestor is checked-in. Implementations may differ on when this validation is performed.</p>
<p>A <code>LockException</code> is thrown either immediately or on <code>save</code> if a lock prevents the addition of the subtree. Implementations may differ on when this validation is performed.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>parentAbsPath</code> - the absolute path of the node below which the deserialized subtree is added.</dd>
<dd><code>in</code> - The <code>Inputstream</code> from which the XML to be deserilaized is read.</dd>
<dd><code>uuidBehavior</code> - a four-value flag that governs how incoming UUIDs are handled.</dd>
<dt><b>Throws:</b></dt>
<dd><code>java.io.IOException</code> - if an error during an I/O operation occurs.</dd>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>parentAbsPath</code> and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="../../javax/jcr/ItemExistsException.html" title="class in javax.jcr">ItemExistsException</a></code> - if deserialization would overwrite an existing item and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="../../javax/jcr/nodetype/ConstraintViolationException.html" title="class in javax.jcr.nodetype">ConstraintViolationException</a></code> - if a node type or other implementation-specific constraint is violated that would be checked on a normal write method or if <code>uuidBehavior</code> is set to <code>IMPORT_UUID_COLLISION_REMOVE_EXISTING</code> and an incoming node has the same UUID as the node at <code>parentAbsPath</code> or one of its ancestors.</dd>
<dd><code><a href="../../javax/jcr/version/VersionException.html" title="class in javax.jcr.version">VersionException</a></code> - if the node at <code>parentAbsPath</code> is versionable and checked-in, or its nearest versionable ancestor is checked-in and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="../../javax/jcr/InvalidSerializedDataException.html" title="class in javax.jcr">InvalidSerializedDataException</a></code> - if incoming stream is not a valid XML document.</dd>
<dd><code><a href="../../javax/jcr/lock/LockException.html" title="class in javax.jcr.lock">LockException</a></code> - if a lock prevents the addition of the subtree and this implementation performs this validation immediately instead of waiting until <code>save</code>..</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - is another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="exportSystemView_java_lang_String__org_xml_sax_ContentHandler__boolean__boolean_" id="exportSystemView_java_lang_String__org_xml_sax_ContentHandler__boolean__boolean_"><!-- --></a></p>
<h3>exportSystemView</h3>
<pre class="oac_no_warn">void <b>exportSystemView</b>(java.lang.String absPath,
                      <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a> contentHandler,
                      boolean skipBinary,
                      boolean noRecurse)
                      throws <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                             <a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a>,
                             <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>. The resulting XML is in the system view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the <code>&lt;sv:value&gt;</code> element will have no content). Note that in the case of multi-value <code>BINARY</code> properties, the number of values in the property will be reflected in the serialized output, though they will all be empty. If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user&#39;s point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>contentHandler</code> - The <code>org.xml.sax.ContentHandler</code> to which the SAX events representing the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code><a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a></code> - if an error occurs while feeding events to the <code>org.xml.sax.ContentHandler</code>.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="exportSystemView_java_lang_String__java_io_OutputStream__boolean__boolean_" id="exportSystemView_java_lang_String__java_io_OutputStream__boolean__boolean_"><!-- --></a></p>
<h3>exportSystemView</h3>
<pre class="oac_no_warn">void <b>exportSystemView</b>(java.lang.String absPath,
                      java.io.OutputStream out,
                      boolean skipBinary,
                      boolean noRecurse)
                      throws java.io.IOException,
                             <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                             <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>. The resulting XML is in the system view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the <code>&lt;sv:value&gt;</code> element will have no content). Note that in the case of multi-value <code>BINARY</code> properties, the number of values in the property will be reflected in the serialized output, though they will all be empty. If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user&#39;s point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>out</code> - The <code>OutputStream</code> to which the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code>java.io.IOException</code> - if an error during an I/O operation occurs.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="exportDocumentView_java_lang_String__org_xml_sax_ContentHandler__boolean__boolean_" id="exportDocumentView_java_lang_String__org_xml_sax_ContentHandler__boolean__boolean_"><!-- --></a></p>
<h3>exportDocumentView</h3>
<pre class="oac_no_warn">void <b>exportDocumentView</b>(java.lang.String absPath,
                        <a href="../../org/xml/sax/ContentHandler.html" title="interface in org.xml.sax">ContentHandler</a> contentHandler,
                        boolean skipBinary,
                        boolean noRecurse)
                        throws <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                               <a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a>,
                               <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> into a series of SAX events by calling the methods of the supplied <code>org.xml.sax.ContentHandler</code>. The resulting XML is in the document view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the value of the attribute will be empty). If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user&#39;s point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>contentHandler</code> - The <code>org.xml.sax.ContentHandler</code> to which the SAX events representing the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code><a href="../../org/xml/sax/SAXException.html" title="class in org.xml.sax">SAXException</a></code> - if an error occurs while feeding events to the <code>org.xml.sax.ContentHandler</code>.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="exportDocumentView_java_lang_String__java_io_OutputStream__boolean__boolean_" id="exportDocumentView_java_lang_String__java_io_OutputStream__boolean__boolean_"><!-- --></a></p>
<h3>exportDocumentView</h3>
<pre class="oac_no_warn">void <b>exportDocumentView</b>(java.lang.String absPath,
                        java.io.OutputStream out,
                        boolean skipBinary,
                        boolean noRecurse)
                        throws java.io.IOException,
                               <a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a>,
                               <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Serializes the node (and if <code>noRecurse</code> is <code>false</code>, the whole subtree) at <code>absPath</code> as an XML stream and outputs it to the supplied <code>OutputStream</code>. The resulting XML is in the document view form. Note that <code>absPath</code> must be the path of a node, not a property.
<p>If <code>skipBinary</code> is true then any properties of <code>PropertyType.BINARY</code> will be serialized as if they are empty. That is, the existence of the property will be serialized, but its content will not appear in the serialized output (the value of the attribute will be empty). If <code>skipBinary</code> is false then the actual value(s) of each <code>BINARY</code> property is recorded using Base64 encoding.</p>
<p>If <code>noRecurse</code> is true then only the node at <code>absPath</code> and its properties, but not its child nodes, are serialized. If <code>noRecurse</code> is <code>false</code> then the entire subtree rooted at <code>absPath</code> is serialized.</p>
<p>If the user lacks read access to some subsection of the specified tree, that section simply does not get serialized, since, from the user&#39;s point of view, it is not there.</p>
<p>The serialized output will reflect the state of the current workspace as modified by the state of this <code>Session</code>. This means that pending changes (regardless of whether they are valid according to node type constraints) and the current session-mapping of namespaces are reflected in the output.</p>
<p>A <code>PathNotFoundException</code> is thrown if no node exists at <code>absPath</code>.</p>
<p>A <code>SAXException</code> is thrown if an error occurs while feeding events to the <code>ContentHandler</code>.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>absPath</code> - The path of the root of the subtree to be serialized. This must be the path to a node, not a property</dd>
<dd><code>out</code> - The <code>OutputStream</code> to which the XML serialization of the subtree will be output.</dd>
<dd><code>skipBinary</code> - A <code>boolean</code> governing whether binary properties are to be serialized.</dd>
<dd><code>noRecurse</code> - A <code>boolean</code> governing whether the subtree at absPath is to be recursed.</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/PathNotFoundException.html" title="class in javax.jcr">PathNotFoundException</a></code> - if no node exists at <code>absPath</code>.</dd>
<dd><code>java.io.IOException</code> - if an error during an I/O operation occurs.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="setNamespacePrefix_java_lang_String__java_lang_String_" id="setNamespacePrefix_java_lang_String__java_lang_String_"><!-- --></a></p>
<h3>setNamespacePrefix</h3>
<pre class="oac_no_warn">void <b>setNamespacePrefix</b>(java.lang.String prefix,
                        java.lang.String uri)
                        throws <a href="../../javax/jcr/NamespaceException.html" title="class in javax.jcr">NamespaceException</a>,
                               <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Within the scope of this session, rename a persistently registered namespace URI to the new prefix. The renaming only affects operations done through this session. To clear all renamings the client must acquire a new session.
<p>A prefix that is currently already mapped to some URI (either persistently in the repository <code>NamespaceRegistry</code> or transiently within this <code>Session</code>) cannot be remapped to a new URI using this method, since this would make any content stored using the old URI unreadable. An attempt to do this will throw a <code>NamespaceException</code>.</p>
<p>As well, a <code>NamespaceException</code> will be thrown if an attempt is made to remap an existing namespace URI to a prefix beginning with the characters &#34;<code>xml</code>&#34; (in any combination of case).</p>
<p>A <code>NamespaceException</code> will also be thrown if the specified uri is not among those registered in the NamespaceRegistry.</p>
</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>prefix</code> - a string</dd>
<dd><code>uri</code> - a string</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/NamespaceException.html" title="class in javax.jcr">NamespaceException</a></code> - if the specified uri is not registered or an attempt is made to remap to an illegal prefix.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getNamespacePrefixes__" id="getNamespacePrefixes__"><!-- --></a></p>
<h3>getNamespacePrefixes</h3>
<pre class="oac_no_warn">java.lang.String[] <b>getNamespacePrefixes</b>()
                                        throws <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns all prefixes currently set for this session. This includes all those registered in the <code>NamespaceRegistry</code> but <i>not over-ridden</i> by a <code>Session.setNamespacePrefix</code>, plus those currently set locally by <code>Session.setNamespacePrefix</code>.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>a string array</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if an error occurs</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getNamespaceURI_java_lang_String_" id="getNamespaceURI_java_lang_String_"><!-- --></a></p>
<h3>getNamespaceURI</h3>
<pre class="oac_no_warn">java.lang.String <b>getNamespaceURI</b>(java.lang.String prefix)
                                 throws <a href="../../javax/jcr/NamespaceException.html" title="class in javax.jcr">NamespaceException</a>,
                                        <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>For a given prefix, returns the URI to which it is mapped as currently set in this <code>Session</code>. If the prefix is unknown, a <code>NamespaceException</code> is thrown.</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>prefix</code> - a string</dd>
<dt><b>Returns:</b></dt>
<dd>a string</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/NamespaceException.html" title="class in javax.jcr">NamespaceException</a></code> - if the prefix is unknown.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getNamespacePrefix_java_lang_String_" id="getNamespacePrefix_java_lang_String_"><!-- --></a></p>
<h3>getNamespacePrefix</h3>
<pre class="oac_no_warn">java.lang.String <b>getNamespacePrefix</b>(java.lang.String uri)
                                    throws <a href="../../javax/jcr/NamespaceException.html" title="class in javax.jcr">NamespaceException</a>,
                                           <a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a>
</pre>
<dl>
<dd>Returns the prefix to which the given URI is mapped</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>uri</code> - a string</dd>
<dt><b>Returns:</b></dt>
<dd>a string</dd>
<dt><b>Throws:</b></dt>
<dd><code><a href="../../javax/jcr/NamespaceException.html" title="class in javax.jcr">NamespaceException</a></code> - if the URI is unknown.</dd>
<dd><code><a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr">RepositoryException</a></code> - if another error occurs</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="logout__" id="logout__"><!-- --></a></p>
<h3>logout</h3>
<pre class="oac_no_warn">void <b>logout</b>()
</pre>
<dl>
<dd>Releases all resources associated with this <code>Session</code>. This method should be called when a <code>Session</code> is no longer needed.</dd>
</dl>
<hr/>
<p><a name="isLive__" id="isLive__"><!-- --></a></p>
<h3>isLive</h3>
<pre class="oac_no_warn">boolean <b>isLive</b>()
</pre>
<dl>
<dd>Returns <code>true</code> if this <code>Session</code> object is usable by the client. Otherwise, returns <code>false</code>. A usable <code>Session</code> is one that is neither logged-out, timed-out nor in any other way disconnected from the repository.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd><code>true</code> if this <code>Session</code> is usable, <code>false</code> otherwise.</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="addLockToken_java_lang_String_" id="addLockToken_java_lang_String_"><!-- --></a></p>
<h3>addLockToken</h3>
<pre class="oac_no_warn">void <b>addLockToken</b>(java.lang.String lt)
</pre>
<dl>
<dd>Adds the specified lock token to this session. Holding a lock token allows the <code>Session</code> object of the lock owner to alter nodes that are locked by the lock specified by that particular lock token.</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>lt</code> - a lock token (a string)</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="getLockTokens__" id="getLockTokens__"><!-- --></a></p>
<h3>getLockTokens</h3>
<pre class="oac_no_warn">java.lang.String[] <b>getLockTokens</b>()
</pre>
<dl>
<dd>Returns an array containing all lock tokens currently held by this session.</dd>
<dd>
<dl>
<dt><b>Returns:</b></dt>
<dd>an array of lock tokens (strings)</dd>
</dl>
</dd>
</dl>
<hr/>
<p><a name="removeLockToken_java_lang_String_" id="removeLockToken_java_lang_String_"><!-- --></a></p>
<h3>removeLockToken</h3>
<pre class="oac_no_warn">void <b>removeLockToken</b>(java.lang.String lt)
</pre>
<dl>
<dd>Removes the specified lock token from this session.</dd>
<dd>
<dl>
<dt><b>Parameters:</b></dt>
<dd><code>lt</code> - a lock token (a string)</dd>
</dl>
</dd>
</dl>
<!-- ========= END OF CLASS DATA ========= -->
<hr/>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<p style="display: none"><a href="#skip_navbar_bottom" title="Skip navigation links">Skip navigation links</a> <a name="navbar_bottom" id="navbar_bottom"><!-- --></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="0" width="100%" cellpadding="1" cellspacing="0">
<tbody><tr>
<td colspan="2" bgcolor="#EEEEFF" class="NavBarCell1"><a name="navbar_bottom_firstrow" id="navbar_bottom_firstrow"><!-- --></a>
<table class="oac_no_warn" summary="Layout table... probably." border="0" cellpadding="0" cellspacing="3">
<tbody><tr align="center" valign="top">
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../overview-summary.html"><span class="NavBarFont1"><b>Overview</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="package-summary.html"><span class="NavBarFont1"><b>Package</b></span></a>&nbsp;</td>
<td bgcolor="#FFFFFF" class="NavBarCell1Rev">&nbsp;<span class="NavBarFont1Rev"><b>Class</b></span>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="package-tree.html"><span class="NavBarFont1"><b>Tree</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../deprecated-list.html"><span class="NavBarFont1"><b>Deprecated</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../index-all.html"><span class="NavBarFont1"><b>Index</b></span></a>&nbsp;</td>
<td bgcolor="#EEEEFF" class="NavBarCell1"><a href="../../help-doc.html"><span class="NavBarFont1"><b>Help</b></span></a>&nbsp;</td>
</tr>
</tbody></table>
</td>
<td align="right" valign="top" rowspan="3"><em><b>Oracle&reg; Database XML Java API Reference<br/>
12<em>c</em> Release 1 (12.1)</b><br/>
E15981-09</em></td>
</tr>
<tr>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller">&nbsp;<a href="../../javax/jcr/RepositoryException.html" title="class in javax.jcr"><b>PREV CLASS</b></a>&nbsp; &nbsp;<a href="../../javax/jcr/SimpleCredentials.html" title="class in javax.jcr"><b>NEXT CLASS</b></a></span></td>
<td bgcolor="white" class="NavBarCell2"><span style="font-size: smaller"><a href="../../index.html?javax/jcr/Session.html" target="_top"><b>FRAMES</b></a> &nbsp; &nbsp;<a href="Session.html" target="_top"><b>NO FRAMES</b></a> &nbsp; &nbsp;</span><script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes<\/B><\/A>');
  }
  //-->
</script> <noscript><a href="../../allclasses-noframe.html"><b>All Classes</b></a></noscript></td>
</tr>
<tr>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_summary">METHOD</a></span></td>
<td valign="top" class="NavBarCell3"><span style="font-size: smaller">DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<a href="#method_detail">METHOD</a></span></td>
</tr>
</tbody></table>
<p><a name="skip_navbar_bottom" id="skip_navbar_bottom"></a> <!-- ======== END OF BOTTOM NAVBAR ======= --></p>
<hr/>
<p>Copyright &copy; 2004-2005 Day Software Management AG. All Rights Reserved.</p>


</body></html>
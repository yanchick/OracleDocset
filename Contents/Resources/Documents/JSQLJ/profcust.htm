<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-72375"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Customization%20and%20Specialized%20Customizers"></a><title>Customization and Specialized Customizers</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 743"/>
<meta name="dcterms.created" content="2013-12-02T6:55:15Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database SQLJ Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17660-12"/>
<meta name="dcterms.isVersionOf" content="JSQLJ"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="inserver.htm" title="Previous" type="text/html"/>
<link rel="Next" href="index.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17660-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">19/20</span> <!-- End Header -->
<div id="JSQLJ821" class="appendix"><a id="BHAECCFI"></a> <a id="i635971"></a>
<h1 class="appendix"><span class="secnum">A</span> Customization and Specialized Customizers</h1>
<p>Profiles and profile customization are introduced in <a href="keyprog.htm#i1005661">&#34;SQLJ Profiles&#34;</a>. This appendix presents more technical detail and discusses customizer options and how to use customizers other than the default Oracle customizer.</p>
<p>There is also discussion of Oracle specialized customizers, particularly the <code>SQLCheckerCustomizer</code> for semantics-checking profiles, and the <code>AuditorInstaller</code> for installing <span class="italic">auditors</span> for debugging.</p>
<p>The following topics are covered:</p>
<ul>
<li>
<p><a href="#i634239">More About Profiles</a></p>
</li>
<li>
<p><a href="#i634331">More About Profile Customization</a></p>
</li>
<li>
<p><a href="#i634421">Customization Options and Choosing a Customizer</a></p>
</li>
<li>
<p><a href="#i635377">JAR Files for Profiles</a></p>
</li>
<li>
<p><a href="#i635420">SQLCheckerCustomizer for Profile Semantics-Checking</a></p>
</li>
<li>
<p><a href="#i635528">AuditorInstaller Customizer for Debugging</a></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1"><span class="bold">Note</span>:</p>
If you use the default Oracle-specific code generation (<code>-codegen=oracle</code>), the discussion in this appendix does not pertain to your application.</div>
<a id="i634239"></a>
<div id="JSQLJ822" class="sect1">
<h2 class="sect1">More <a id="sthref977"></a>About Profiles</h2>
<p>SQLJ profiles contain information about your embedded SQL operations, with a separate profile being created for each connection context class that your application uses. Profiles are created during the SQLJ translator code generation phase and customized during the customization phase. Customization enables your application to use vendor-specific database features. Separating these vendor-specific operations into your profiles enables the rest of your generated code to remain generic.</p>
<p>Each profile contains a series of entries for the SQLJ statements that use the relevant connection context class, where each entry corresponds to one SQL operation in your application.</p>
<p>Profiles exist as serialized objects stored in resource files packaged with your application. Because of this, profiles can be loaded, read, and modified (added to or recustomized) at any time. When profiles are customized, information is only added, never removed. Multiple customizations can be made without losing preceding customizations, so that your application maintains the capability to run in multiple environments. This is known as <span class="bold">binary portability</span>.</p>
<p>For profiles to have binary portability, SQLJ industry-standard requirements have been met in the Oracle SQLJ implementation.</p>
<div id="JSQLJ823" class="sect2"><a id="sthref978"></a>
<h3 class="sect2">Creation of a <a id="sthref979"></a>Profile During Code Generation</h3>
<p>During code generation, the translator creates each profile as follows:</p>
<ol>
<li>
<p>It creates a profile object as an instance of the <code>sqlj.runtime.profile.Profile</code> class.</p>
</li>
<li>
<p>It inserts information about your embedded SQL operations into the profile object, for SQLJ statements that use the relevant connection context class.</p>
</li>
<li>
<p>It serializes the profile object into a Java resource file, referred to as a <span class="italic">profile file</span>, with a <code>.ser</code> file name extension.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Oracle SQLJ implementation provides an option to have the translator automatically convert these <code>.ser</code> files to <code>.class</code> files. The<code>.ser</code> files are not supported by some browsers, and can be cumbersome when loading translated applications into the server. However, this prevents any further customization of the profile. For information, see <a href="transopt.htm#i1007976">&#34;Conversion of .ser File to .class File (-ser2class)&#34;</a>.</div>
<p>As discussed in <a href="transrun.htm#i1005656">&#34;Code Generation&#34;</a>, profile file names for application <code>Foo</code> are of the form:</p>
<pre>Foo_SJProfile<span class="italic">n</span>.ser
</pre>
<p>SQLJ generates <code>Foo_SJProfile0.ser</code>, <code>Foo_SJProfile1.ser</code>, and so on, as needed, depending on how many connection context classes you use in your code. Or, if the <code>-ser2class</code> option is enabled, then SQLJ generates <code>Foo_SJProfile0.class</code>, <code>Foo_SJProfile1.class</code>, and so on.</p>
<p>Each profile has a <code>getConnectedProfile()</code> method that is called during SQLJ runtime. This method returns something equivalent to a JDBC <code>Connection</code> object, but with added functionality. This is further discussed in <a href="#i634410">&#34;Functionality of a Customized Profile at Run Time&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Referring to a &#34;profile object&#34; indicates that the profile is in its original nonserialized state. Referring to a &#34;profile file&#34; indicates that the profile is in its serialized state in a <code>.ser</code> file.</div>
</div>
<!-- class="sect2" -->
<a id="i634285"></a>
<div id="JSQLJ824" class="sect2">
<h3 class="sect2">Sample <a id="sthref980"></a>Profile Entry</h3>
<p>Following is a sample SQLJ executable statement with the profile entry that would result. For simplicity, the profile entry is presented as plain text with irrelevant portions omitted.</p>
<p>Note that in the profile entry, the host variable is replaced by JDBC syntax (the question mark).</p>
<div id="JSQLJ825" class="sect3"><a id="sthref981"></a>
<h4 class="sect3">SQLJ Executable Statement</h4>
<p>Presume the following declaration:</p>
<pre>#sql iterator Iter (double sal, String ename);
</pre>
<p>And presume the following executable statements:</p>
<pre>String empname = &#39;Smith&#39;;
Iter it;
...
#sql it = { SELECT first_name, salary FROM employees WHERE first_name = :empname };
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ826" class="sect3"><a id="sthref982"></a>
<h4 class="sect3">Corresponding SQLJ Profile Entry</h4>
<pre>=================================================================
...
#sql { SELECT first_name, salary FROM employees WHERE first_name = ? };
...
PREPARED_STATEMENT executed through EXECUTE_QUERY 
role is QUERY
descriptor is null
contains one parameter
1. mode: IN, java type: java.lang.String (java.lang.String),
   sql type: VARCHAR, name: ename, ...
result set type is NAMED_RESULT
result set name is Iter
contains 2 result columns
1. mode: OUT, java type: double (double),
   sql type: DOUBLE, name: sal, ...
2. mode: OUT, java type: java.lang.String (java.lang.String),
   sql type: VARCHAR, name: ename, ...
=================================================================
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
This profile entry is presented here as text for convenience only; profiles are not actually in text format. They can be printed as text, however, using the SQLJ <code>-P-print</code> option, as discussed in <a href="#i634472">&#34;Overview of Customizer Harness Options&#34;</a>.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i634331"></a>
<div id="JSQLJ827" class="sect1">
<h2 class="sect1">More <a id="sthref983"></a>About Profile Customization</h2>
<p>When using ISO SQLJ code, running the <code>sqlj</code> script on a SQLJ source file includes an automatic customization process, where each profile created during the code generation phase is customized for use with your particular database. The default customizer is Oracle customizer, <code>oracle.sqlj.runtime.OraCustomizer</code>, which optimizes your profiles to use type extensions and performance enhancements specific to Oracle Database 12<span class="italic">c</span> Release 1 (12.1).</p>
<p>You can also run the <code>sqlj</code> script to customize profiles created previously. On the SQLJ command line, you can specify <code>.ser</code> files individually, JAR files containing <code>.ser</code> files, or both.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Whenever you use the default Oracle customizer during translation, your application will require Oracle SQLJ run time and an Oracle JDBC driver when it runs, even if you do not use Oracle extensions in your code.</p>
</li>
<li>
<p>If an application has no customizations, or none suitable for the connection, then the generic SQLJ run time is used.</p>
</li>
<li>
<p>You can run SQLJ to process <code>.sqlj</code> and <code>.java</code> files (for translation, compilation, and customization) or to process <code>.ser</code> and <code>.jar</code> files (for customization only), but not both categories at once.</p>
</li>
</ul>
</div>
<div id="JSQLJ828" class="sect2"><a id="sthref984"></a>
<h3 class="sect2">Overview <a id="sthref985"></a><a id="sthref986"></a>of the Customizer Harness and Customizers</h3>
<p>Regardless of whether you use Oracle customizer or an alternative customizer, SQLJ uses a front-end customization utility known as the <span class="italic">customizer harness</span> in accomplishing your customizations.</p>
<p>When you run SQLJ, you can specify customization options for the customizer harness (for general customization settings that apply to any customizer you use) and for your customizer (for settings used by the particular customizer). In either case, you can specify these options either on the command line or in a properties file. This is discussed in <a href="#i634421">&#34;Customization Options and Choosing a Customizer&#34;</a>.</p>
<p>A customizer is required to be a JavaBeans component adhering to the standard JavaBeans API to expose its properties, and must implement the <code>sqlj.runtime.profile.util.ProfileCustomizer</code> interface, which specifies a <code>customize()</code> method. For each profile to be customized, the customizer harness calls the <code>customize()</code> method of the customizer object.</p>
<p>Oracle customizer meets the preceding requirements and is defined in the <code>oracle.sqlj.runtime.OraCustomizer</code> class.</p>
</div>
<!-- class="sect2" -->
<div id="JSQLJ829" class="sect2"><a id="sthref987"></a>
<h3 class="sect2">Steps in the <a id="sthref988"></a>Customization Process</h3>
<p>The SQLJ customization process during translation consists of the following steps, as applicable, either during the customization stage of an end-to-end SQLJ run, or when you run SQLJ to customize existing profiles only:</p>
<ol>
<li>
<p>SQLJ instantiates and invokes the customizer harness and passes it any general customization options you specified.</p>
</li>
<li>
<p>The customizer harness instantiates the customizer you are using and passes it any customizer-specific options you specified.</p>
</li>
<li>
<p>When you run SQLJ for customization only, specifying one or more JAR files on the command line, the customizer harness discovers and extracts the profile files within these JAR files.</p>
</li>
<li>
<p>The customizer harness deserializes each profile file into a profile object (<code>.ser</code> files automatically created during an end-to-end SQLJ run, <code>.ser</code> files specified on the command line for customization only, or <code>.ser</code> files extracted from JAR files specified on the command line for customization only).</p>
</li>
<li>
<p>If the customizer you use requires a database connection, the customizer harness establishes that connection.</p>
</li>
<li>
<p>For each profile, the harness calls the <code>customize()</code> method of the customizer object instantiated in step 2 (customizers used with SQLJ must have a <code>customize()</code> method).</p>
</li>
<li>
<p>For each profile, the <code>customize()</code> method typically creates and registers a profile customization within the profile. This depends on the intended functionality of the customizer, however. Some might have a specialized purpose that does not require a customization to be created and registered in this way.</p>
</li>
<li>
<p>The customizer harness reserializes each profile and puts it back into a <code>.ser</code> file.</p>
</li>
<li>
<p>When you run SQLJ for customization only, specifying one or more JAR files on the command line, the customizer harness recreates the JAR contents, inserting each customized <code>.ser</code> file to replace the original corresponding uncustomized <code>.ser</code> file.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>If an error occurs during customization of a profile, the original <code>.ser</code> file is not replaced.</p>
</li>
<li>
<p>If an error occurs during customization of any profile in a JAR file, the original JAR file is not replaced.</p>
</li>
<li>
<p>SQLJ can run only one customizer at a time. If you want to accomplish multiple customizations on a single profile, you must run SQLJ multiple times. For the additional customizations, enter the profile name directly on the SQLJ command line.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="JSQLJ830" class="sect2"><a id="sthref989"></a>
<h3 class="sect2">Creation and <a id="sthref990"></a>Registration of a Profile Customization</h3>
<p>When the harness calls the <code>customize()</code> method to customize a profile, it passes in the profile object, a SQLJ connection context object (if you are using a customizer that requires a connection), and an error log object (which is used in logging error messages during the customization).</p>
<p>The same error log object is used for all customizations throughout a single running of SQLJ, but its use is transparent. The customizer harness reads messages written to the error log object and reports them in real-time to the standard output device (whatever SQLJ uses, typically your screen).</p>
<p>Recall that each profile has a set of entries, where each entry corresponds to a SQL operation. (These would be the SQL operations in your application that use instances of the connection context class associated with this profile.)</p>
<p>A <code>customize()</code> method implements special processing on these entries. It could be as simple as checking each entry to verify its syntax, or it could be more complicated, such as creating new entries that are equivalent to the original entries but are modified to use features of your particular database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Any <code>customize()</code> processing of profile entries does not alter the original entries.</p>
</li>
<li>
<p>Customizing your profiles for use in a particular environment does not prevent your application from running in a different environment. You can customize a profile multiple times for use in multiple environments, and these customizations will not interfere with each other.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="JSQLJ831" class="sect2"><a id="sthref991"></a>
<h3 class="sect2">Customization <a id="sthref992"></a><a id="sthref993"></a><a id="sthref994"></a>Error and Status Messages</h3>
<p>The customizer harness outputs error and status messages in much the same way as the SQLJ translator, outputting them to the same output device. None of the warnings regarding customization are suppressible, however.</p>
<p>Error messages reported by the customizer harness fall into four categories:</p>
<ul>
<li>
<p>Unrecognized or illegal option</p>
</li>
<li>
<p>Connection instantiation error</p>
</li>
<li>
<p>Profile instantiation error</p>
</li>
<li>
<p>Customizer instantiation error</p>
</li>
</ul>
<p>Status messages reported by the customizer harness during customization enable you to determine whether a profile was successfully customized. They fall into three categories:</p>
<ul>
<li>
<p>Profile modification status</p>
</li>
<li>
<p>JAR file modification status</p>
</li>
<li>
<p>Name of backup file created (if the customizer harness <code>backup</code> option is enabled)</p>
</li>
</ul>
<p>Additional customizer-specific errors and warnings might be reported by the <code>customize()</code> method of the particular customizer.</p>
<p>During customization, the profile customizer writes messages to its error log, and the customizer harness reads the log contents in real-time and outputs these messages to the SQLJ output device, along with any other harness output. You never have to access error log contents directly.</p>
</div>
<!-- class="sect2" -->
<a id="i634410"></a>
<div id="JSQLJ832" class="sect2">
<h3 class="sect2">Functionality of a <a id="sthref995"></a><a id="sthref996"></a>Customized Profile at Run Time</h3>
<p>A customized profile is a static member of the connection context class with which it is associated. For each SQLJ statement in your application, the SQLJ run time determines the connection context class and instance associated with that statement, then uses the customized profile of the connection context class, together with the underlying JDBC connection of the particular connection context instance, to create a <span class="italic">connected profile</span>. This connected profile is the vehicle that the SQLJ run time uses in applying vendor-specific features to the execution of your SQLJ application.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i634421"></a>
<div id="JSQLJ833" class="sect1">
<h2 class="sect1">Customization <a id="sthref997"></a><a id="sthref998"></a>Options and Choosing a Customizer</h2>
<p>This section discusses options for profile customization, which fall into three categories:</p>
<ul>
<li>
<p>Options you specify to the customizer harness, which apply to whatever customizer you use.</p>
<p>This includes general options, connection options, and options that invoke specialized customizers.</p>
</li>
<li>
<p>Customizer-specific options you specify to your customizer through the customizer harness.</p>
</li>
<li>
<p>SQLJ options, which determine basic aspects of customization, such as whether to customize at all and which customizer to use.</p>
</li>
</ul>
<p>All categories of options are specified through the SQLJ command line or properties files.</p>
<p>The following topics are included in this section:</p>
<ul>
<li>
<p><a href="#i634472">Overview of Customizer Harness Options</a></p>
</li>
<li>
<p><a href="#i634547">General Customizer Harness Options</a></p>
</li>
<li>
<p><a href="#i634663">Customizer Harness Options for Connections</a></p>
</li>
<li>
<p><a href="#i634771">Customizer Harness Options that Invoke Specialized Customizers</a></p>
</li>
<li>
<p><a href="#i634872">Overview of Customizer-Specific Options</a></p>
</li>
<li>
<p><a href="#i634907">Oracle Customizer Options</a></p>
</li>
<li>
<p><a href="#i635357">SQLJ Translator Options for Profile Customization</a></p>
</li>
</ul>
<p>To choose a customizer other than the default Oracle customizer, you can use either the customizer harness <code>customizer</code> option (discussed in <a href="#i634472">&#34;Overview of Customizer Harness Options&#34;</a>) or the SQLJ <code>-default-customizer</code> option (discussed in <a href="#i635357">&#34;SQLJ Translator Options for Profile Customization&#34;</a>).</p>
<a id="i634472"></a>
<div id="JSQLJ834" class="sect2">
<h3 class="sect2">Overview of <a id="sthref999"></a><a id="sthref1000"></a><a id="sthref1001"></a>Customizer Harness Options</h3>
<p>The customizer harness provided with the Oracle SQLJ implementation offers a number of options that are not specific to a particular customizer. The harness uses these options in its front-end coordination of the customization process.</p>
<div id="JSQLJ835" class="sect3"><a id="sthref1002"></a>
<h4 class="sect3">Syntax for Customizer Harness Options</h4>
<p>Customizer harness option settings on the SQLJ command line have the following syntax:</p>
<pre>-P-<span class="italic">option</span>=<span class="italic">value</span>
</pre>
<p>Alternatively, in a SQLJ properties file:</p>
<pre>profile.<span class="italic">option</span>=<span class="italic">value</span>
</pre>
<p>Enable boolean options (flags) either with:</p>
<pre>-P-<span class="italic">option</span> 
</pre>
<p>or:</p>
<pre>-P-<span class="italic">option</span>=true
</pre>
<p>Boolean options are disabled by default, but you can explicitly disable them with:</p>
<pre>-P-<span class="italic">option</span>=false
</pre>
<p>This option syntax is also discussed in <a href="transopt.htm#i1007864">&#34;Options to Pass to the Profile Customizer (-P)&#34;</a> and <a href="transopt.htm#i1006412">&#34;Properties File Syntax&#34;</a>.</p>
</div>
<!-- class="sect3" -->
<div id="JSQLJ836" class="sect3"><a id="sthref1003"></a>
<h4 class="sect3">Options Supported by the Customizer Harness</h4>
<p>The customizer harness supports the following general options:</p>
<ul>
<li>
<p><code>backup</code>: Save a backup copy of the profile before customizing it.</p>
</li>
<li>
<p><code>context</code>: Limit customizations to profiles associated with the listed connection context classes.</p>
</li>
<li>
<p><code>customizer</code>: Specify the customizer to use.</p>
</li>
<li>
<p><code>digests</code>: Specify digests for JAR file manifests (relevant only if specifying JAR files to customize).</p>
</li>
<li>
<p><code>help</code>: Display customizer options (specified only in SQLJ command line).</p>
</li>
<li>
<p><code>verbose</code>: Display status messages during customization.</p>
</li>
</ul>
<p>The customizer harness supports the following options for customizer database connections. Currently, these are used by Oracle customizer if you enable its <code>optcols</code> option for column definitions (for performance optimization). In addition, they are used by the <code>SQLCheckerCustomizer</code> if you use this specialized customizer to perform online semantics-checking on profiles.</p>
<ul>
<li>
<p><code>user</code>: Specify the user name for the connection used in this customization.</p>
</li>
<li>
<p><code>password</code>: Specify the password for the connection used in this customization.</p>
</li>
<li>
<p><code>url</code>: Specify the URL for the connection used in this customization.</p>
</li>
<li>
<p><code>driver</code>: Specify the JDBC driver for the connection used in this customization.</p>
</li>
</ul>
<p>For information about the Oracle customizer <code>optcols</code> flag, see <a href="#i634971">&#34;Oracle Customizer Column Definition Option (optcols)&#34;</a>. For information about the <code>SQLCheckerCustomizer</code>, see <a href="#i635420">&#34;SQLCheckerCustomizer for Profile Semantics-Checking&#34;</a>.</p>
<p>The following commands function as customizer harness options, but are implemented through specialized customizers provided with the Oracle SQLJ implementation.</p>
<ul>
<li>
<p><code>debug</code>: Insert debugging information into the specified profiles, to be output at run time. This is a shortcut to invoke the Oracle SQLJ <code>AuditorInstaller</code>, which is described in <a href="#i635528">&#34;AuditorInstaller Customizer for Debugging&#34;</a>.</p>
</li>
<li>
<p><code>print</code>: Output the contents of the specified profiles, in text format.</p>
</li>
<li>
<p><code>verify</code>: Perform semantics-checking on a profile that was produced during a previous execution of the SQLJ translator (equivalent to semantics-checking performed on source code during translation). This is a shortcut to invoke Oracle SQLJ <code>SQLCheckerCustomizer</code>, which is described in <a href="#i635420">&#34;SQLCheckerCustomizer for Profile Semantics-Checking&#34;</a>.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i634547"></a>
<div id="JSQLJ837" class="sect2">
<h3 class="sect2">General Cust<a id="sthref1004"></a><a id="sthref1005"></a><a id="sthref1006"></a>omizer Harness Options</h3>
<p>This section describes general options supported by the customizer harness.</p>
<div id="JSQLJ838" class="sect3"><a id="sthref1007"></a>
<h4 class="sect3">Profile Backup <a id="sthref1008"></a>Option (backup)</h4>
<p>Use the <code>backup</code> flag to instruct the harness to save a backup copy of each <code>.jar</code> file and standalone <code>.ser</code> file before replacing the original. (Separate backups of <code>.ser</code> files that are within <code>.jar</code> files are not necessary.)</p>
<p>Backup file names are given the extension <code>.bak</code><code><span class="codeinlineitalic">n</span></code>, where <code><span class="codeinlineitalic">n</span></code> indicates digits used as necessary where there are similarly named files. For each backup file created, an informational message is issued.</p>
<p>If an error occurs during customization of a standalone <code>.ser</code> file, then the original <code>.ser</code> file is not replaced and no backup is created. Similarly, if an error occurs during customization of any <code>.ser</code> file within a JAR file, then the original JAR file is not replaced and no backup is created.</p>
<p>The command-line syntax for this option is:</p>
<pre>-P-backup&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-backup
</pre>
<p>Properties file syntax is:</p>
<pre>profile.backup&lt;=true|false&gt;
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ839" class="sect3"><a id="sthref1009"></a>
<h4 class="sect3">Customization Connection<a id="sthref1010"></a> Context Option (context)</h4>
<p>Use the <code>context</code> option to limit customizations to profiles that correspond to the specified connection context classes. Fully qualify the class names and use a comma-delimited list to specify multiple classes. For example:</p>
<pre>-P-context=sqlj.runtime.ref.DefaultContext,foo.bar.MyCtxtClass
</pre>
<p>There must be <span class="italic">no</span> space on either side of the comma.</p>
<p>If this option is not specified, then all profiles are customized, regardless of their associated connection context classes.</p>
<p>Command-line syntax is:</p>
<pre>-P-context=ctx_class1&lt;,ctx_class2,...&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-context=foo.bar.MyCtxtClass
</pre>
<p>Properties file syntax is:</p>
<pre>profile.context=<span class="italic">ctx_class1</span>&lt;,<span class="italic">ctx_class2</span>,...&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.context=foo.bar.MyCtxtClass
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ840" class="sect3"><a id="sthref1011"></a>
<h4 class="sect3">Customizer <a id="sthref1012"></a><a id="sthref1013"></a>Option (customizer)</h4>
<p>Use the <code>customizer</code> option to specify which customizer to use. Fully qualify the class name, such as in the following example:</p>
<pre>-P-customizer=oracle.sqlj.runtime.util.OraCustomizer
</pre>
<p>If you do not set this option, then SQLJ will use the customizer specified in the SQLJ <code>-default-customizer</code> option. Unless set otherwise, this is the following:</p>
<pre>oracle.sqlj.runtime.util.OraCustomizer

</pre>
<p>Command-line syntax is:</p>
<pre>-P-customizer=<span class="italic">customizer_class</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-customizer=a.b.c.MyCustomizer
</pre>
<p>Properties file syntax is:</p>
<pre>profile.customizer=<span class="italic">customizer_class</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.customizer=a.b.c.MyCustomizer
</pre>
<p>Default value is:</p>
<pre>None
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ841" class="sect3"><a id="sthref1014"></a>
<h4 class="sect3">Customization JAR File <a id="sthref1015"></a><a id="sthref1016"></a>Digests Option (digests)</h4>
<p>When a JAR file is produced, the JAR utility can optionally include one or more <span class="italic">digests</span> for each entry, based on one or more specified algorithms, so that the integrity of the JAR file entries can later be verified. Digests are similar conceptually to checksums, for readers familiar with those.</p>
<p>If you are customizing profiles in a JAR file and want the JAR utility to add new digests (or update existing digests) when the JAR file is updated, use the <code>digests</code> option to specify a comma-delimited list of one or more algorithms. These are the algorithms that the JAR utility will use in creating the digests for each entry. The JAR utility produces one digest for each algorithm for each JAR file entry in the JAR manifest file. Specify algorithms as follows:</p>
<pre>-P-digests=SHA,MD5
</pre>
<p>There must be no space on either side of the comma.</p>
<p>In this example, there will be two digests for each entry in the JAR manifest file: an <code>SHA</code> digest and an <code>MD5</code> digest.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Visit the Sun site more information about JAR manifest file.</div>
<p>Command-line syntax is:</p>
<pre>-P-digests=<span class="italic">algo1</span>&lt;,<span class="italic">algo2</span>,...&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-digests=SHA,MD5
</pre>
<p>Properties file syntax is:</p>
<pre>profile.digests=<span class="italic">algo1</span>&lt;,<span class="italic">algo2</span>,...&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.digests=SHA,MD5
</pre>
<p>Default value is:</p>
<pre>SHA,MD5
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ842" class="sect3"><a id="sthref1017"></a>
<h4 class="sect3">Customization Help <a id="sthref1018"></a>Option (help)</h4>
<p>Use the <code>help</code> option to display the option lists of the customizer harness and the default customizer or a specified customizer. For the harness and Oracle customizer, this includes a brief description and the current setting of each option.</p>
<p>Display the option lists for the harness and default customizer as follows (where the default customizer is Oracle customizer or whatever you have specified in the SQLJ <code>-default-customizer</code> option):</p>
<pre>-P-help
</pre>
<p>Use the <code>help</code> option in conjunction with the <code>customizer</code> option to display the option list of a particular customizer, as follows:</p>
<pre>-P-help -P-customizer=sqlj.runtime.profile.util.AuditorInstaller
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>You can use the <code>-P-help</code> option on the SQLJ command line only, not in a SQLJ properties file.</p>
</li>
<li>
<p>No customizations are performed if the <code>-P-help</code> flag is enabled, even if you specify profiles to customize on the command line.</p>
</li>
</ul>
</div>
<p>Command-line syntax is:</p>
<pre>-P-help &lt;-P-customizer=<span class="italic">customizer_class</span>&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-help
</pre>
<p>Properties file syntax is:</p>
<pre>NA
</pre>
<p>Properties file example is:</p>
<pre>NA
</pre>
<p>Default value is:</p>
<pre>None

</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ843" class="sect3"><a id="sthref1019"></a>
<h4 class="sect3">Customization Verbose <a id="sthref1020"></a>Option (verbose)</h4>
<p>Use the <code>verbose</code> flag to instruct the harness to display status messages during customizations. These messages are written to the standard output device, wherever SQLJ writes its other messages.</p>
<p>Command-line syntax is:</p>
<pre>-P-verbose&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-verbose
</pre>
<p>Properties file syntax is:</p>
<pre>profile.verbose&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.verbose
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i634663"></a>
<div id="JSQLJ844" class="sect2">
<h3 class="sect2">Customizer Ha<a id="sthref1021"></a><a id="sthref1022"></a><a id="sthref1023"></a>rness Options for Connections</h3>
<p>This section describes connection options supported by the customizer harness. These are used as follows:</p>
<ul>
<li>
<p>Oracle customizer uses database connections only for column definitions. If you do not enable Oracle customizer <code>optcols</code> option, then there is no need to set the customizer harness <code>user</code>, <code>password</code>, <code>url</code>, and <code>driver</code> options.</p>
</li>
<li>
<p>The <code>SQLCheckerCustomizer</code>, a specialized customizer that performs semantics-checking on profiles, uses the customizer harness <code>user</code>, <code>password</code>, <code>url</code>, and <code>driver</code> settings for online checking.</p>
<p>Use <code>-P-verify</code> on the SQLJ command line to invoke this customizer.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not confuse the customizer harness <code>user</code>, <code>password</code>, <code>url</code>, and <code>driver</code> options with the translator options of the same names, which are for semantics-checking during the translation step. However, the translator settings are passed to the customizer for convenience, in case customization is to use the same connection as translation. Override these initial settings through the customizer harness options if you wish.</div>
<a id="i634675"></a>
<div id="JSQLJ845" class="sect3">
<h4 class="sect3">Customization User <a id="sthref1024"></a>Option (user)</h4>
<p>Set the <code>user</code> option to specify a database schema if your customizer uses database connections.</p>
<p>In addition to specifying the schema, you can optionally specify the password, URL, or both in your <code>user</code> option setting. The password is preceded by a forward-slash (/), and the URL is preceded by an &#34;at&#34; sign (@), as in the following examples:</p>
<pre>-P-user=HR/hr
-P-user=HR@jdbc:oracle:oci:@
-P-user=HR/hr@jdbc:oracle:oci:@
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you use column definitions (<code>optcols</code> option), the user setting for the SQLJ translator is forwarded to the profile customizer as well, but you can use the customizer <code>user</code> option to override the translator setting.</div>
<p>Command-line syntax is:</p>
<pre>-P-user=<span class="italic">username</span>&lt;/<span class="italic">password</span>&gt;&lt;@<span class="italic">url</span>&gt;
</pre>
<p>Command-line examples is:</p>
<pre>-P-user=HR
-P-user=HR/<span class="italic">password</span>
-P-user=HR/<span class="italic">password</span>@jdbc:oracle:oci:@
</pre>
<p>Properties file syntax is:</p>
<pre>profile.user=<span class="italic">username</span>&lt;/<span class="italic">password</span>&gt;&lt;@<span class="italic">url</span>&gt;
</pre>
<p>Properties file examples is:</p>
<pre>profile.user=HR
profile.user=HR/hr
profile.user=HR/hr@jdbc:oracle:oci:@
</pre>
<p>Default value is:</p>
<pre>null
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ846" class="sect3"><a id="sthref1025"></a>
<h4 class="sect3">Customization Password <a id="sthref1026"></a>Option (password)</h4>
<p>Use the <code>password</code> option if your customizer uses database connections.</p>
<p>The password can also be set with the <code>user</code> option, as described in <a href="#i634675">&#34;Customization User Option (user)&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you use column definitions (<code>optcols</code> option), the password setting for the SQLJ translator is forwarded to the profile customizer as well, but you can use the customizer <code>password</code> option to override the translator setting.</div>
<p>Command-line syntax is:</p>
<pre>-P-password=password
</pre>
<p>Command-line example is:</p>
<pre>-P-password=<span class="italic">password</span>
</pre>
<p>Properties file syntax is:</p>
<pre>profile.password=<span class="italic">password</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.password=<span class="italic">password</span>
</pre>
<p>Default value is:</p>
<pre>null
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ847" class="sect3"><a id="sthref1027"></a>
<h4 class="sect3">Customization URL <a id="sthref1028"></a>Option (url)</h4>
<p>Use the <code>url</code> option if your customizer uses database connections.</p>
<p>The URL can also be set with the <code>user</code> option, as described in <a href="#i634675">&#34;Customization User Option (user)&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When you use column definitions (<code>optcols</code> option), the URL setting for the SQLJ translator is forwarded to the profile customizer as well, but you can use the customizer <code>url</code> option to override the translator setting.</div>
<p>Command-line syntax is:</p>
<pre>-P-url=<span class="italic">url</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-url=jdbc:oracle:oci:@
</pre>
<p>Properties file syntax is:</p>
<pre>profile.url=<span class="italic">url</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.url=jdbc:oracle:oci:@
</pre>
<p>Default value is:</p>
<pre>jdbc:oracle:oci:@

</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ848" class="sect3"><a id="sthref1029"></a>
<h4 class="sect3">Customization JDBC <a id="sthref1030"></a><a id="sthref1031"></a>Driver Option (driver)</h4>
<p>Use the <code>driver</code> option to register a comma-delimited list of JDBC driver classes if your customizer uses database connections. For example:</p>
<pre>-P-driver=sun.jdbc.odbc.JdbcOdbcDriver,oracle.jdbc.OracleDriver
</pre>
<p>There must be no space on either side of the comma.</p>
<p>Command-line syntax is:</p>
<pre>-P-driver=<span class="italic">dvr_class1</span>&lt;,<span class="italic">dvr_class2</span>,...&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-driver=sun.jdbc.odbc.JdbcOdbcDriver
</pre>
<p>Properties file syntax is:</p>
<pre>profile.driver=<span class="italic">dvr_class1</span>&lt;,<span class="italic">dvr_class2</span>,...&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.driver=sun.jdbc.odbc.JdbcOdbcDriver
</pre>
<p>Default value is:</p>
<pre>oracle.jdbc.OracleDriver

</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i634771"></a>
<div id="JSQLJ849" class="sect2">
<h3 class="sect2">Customizer Har<a id="sthref1032"></a><a id="sthref1033"></a><a id="sthref1034"></a>ness Options that Invoke Specialized Customizers</h3>
<p>The customizer harness supports the following options that invoke specialized customizers:</p>
<ul>
<li>
<p><code>debug</code>: This invokes the <code>AuditorInstaller</code> customizer, used in debugging.</p>
</li>
<li>
<p><code>print</code>: This invokes a customizer that prints a text version of a profile.</p>
</li>
<li>
<p><code>verify</code>: This invokes the <code>SQLCheckerCustomizer</code> customizer, which performs semantics-checking on a profile.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Important:</p>
Because each of these options invokes a customizer, and only one customizer can run in a single execution of SQLJ, you cannot perform any other customization when you use any of these options.
<p>You also cannot use more than one of <code>print</code>, <code>debug</code>, or <code>verify</code> simultaneously.</p>
</div>
<div id="JSQLJ850" class="sect3"><a id="sthref1035"></a>
<h4 class="sect3">Specialized Customizer: Profile <a id="sthref1036"></a><a id="sthref1037"></a><a id="sthref1038"></a>Debug Option (debug)</h4>
<p>The <code>debug</code> option runs a specialized customizer, called the <code>AuditorInstaller</code>, that inserts debugging statements into profiles. Use this option in conjunction with a SQLJ command line file list to insert debugging statements into the specified profiles. These profiles must already be customized from a previous SQLJ run.</p>
<p>For detailed information about this customizer, including additional options that it supports, see <a href="#i635528">&#34;AuditorInstaller Customizer for Debugging&#34;</a>.</p>
<p>The debugging statements will execute during SQLJ run time (when someone runs your application), displaying a trace of method calls and values returned.</p>
<p>Following are examples of how to specify the <code>debug</code> option:</p>
<pre>% sqlj -P-debug Foo_SJProfile0.ser Bar_SJProfile0.ser

% sqlj -P-debug *.ser
</pre>
<p>Command-line syntax is:</p>
<pre>sqlj -P-debug <span class="italic">profile_list</span>
</pre>
<p>Command-line example is:</p>
<pre>sqlj -P-debug Foo_SJProfile*.ser
</pre>
<p>Properties file syntax is:</p>
<pre>profile.debug 
</pre>
<p>(Also specify profiles in the SQLJ file list.)</p>
<p>Properties file example is:</p>
<pre>profile.debug
</pre>
<p>Default value is:</p>
<pre>NA
</pre></div>
<!-- class="sect3" -->
<a id="CHDBGFEF"></a>
<div id="JSQLJ851" class="sect3">
<h4 class="sect3">Specialized Customizer: Profile <a id="sthref1039"></a><a id="sthref1040"></a>Print Option (print)</h4>
<p>The <code>print</code> option runs a specialized customizer that prints profiles in text format. Use this option in conjunction with a SQLJ command line file list to output the contents of one or more specified profiles. The output goes to the standard SQLJ output device, typically the user screen. For example:</p>
<pre>% sqlj -P-print Foo_SJProfile0.ser Bar_SJProfile0.ser
</pre>
<p>Use the following command, if you want to see all the customizer options:</p>
<pre>% sqlj -P-print *.ser
</pre>
<p>The output of the preceding command is like the following:</p>
<pre>printing contents of profile Sample_SJProfile0
created 1154609279331 (8/3/06 5:47 AM)
associated context is Mycontext1
profile loader is sqlj.runtime.profile.DefaultLoader@12a3793
contains one customization
OracleCustomization Options  :
Version is :2300
Cstmtcache :5
Ccompat    :false
Cforce     :false
Coptcols   :false
Coptparams :false
Coptparamdefaults:null
CshowSQL   :false
Csummary   :false
CuserSQL   :true

#sql { SELECT a    FROM test WHERE name= ?  }
setFixedchar is enabled
Ncharconv  is disabled

#sql { commit }
setFixedchar is disabled
Ncharconv  is disabled
&hellip;&hellip;&hellip;
</pre>
<p>Command-line syntax is:</p>
<pre>sqlj -P-print <span class="italic">profile_list</span>
</pre>
<p>Command-line example is:</p>
<pre>sqlj -P-print Foo_SJProfile*.ser
</pre>
<p>Properties file syntax is:</p>
<pre>profile.print
</pre>
<p>(Also specify profiles in SQLJ file list.)</p>
<p>Properties file example is:</p>
<pre>profile.print
</pre>
<p>Default value is:</p>
<p>NA</p>
<pre></pre></div>
<!-- class="sect3" -->
<div id="JSQLJ852" class="sect3"><a id="sthref1041"></a>
<h4 class="sect3">Specialized Customizer: Profile <a id="sthref1042"></a><a id="sthref1043"></a><a id="sthref1044"></a>Semantics-Checking Option (verify)</h4>
<p>The <code>verify</code> option runs a specialized customizer, called the <code>SQLCheckerCustomizer</code>, that performs semantics-checking on a profile. This is equivalent to the semantics-checking that is performed on source code during translation. The profile will have been created during a previous execution of the SQLJ translator.</p>
<p>This option is useful for checking semantics against the run-time database, after deployment, and after the source code may no longer be available.</p>
<p>For detailed information about this customizer, including additional options that it supports, see <a href="#i635420">&#34;SQLCheckerCustomizer for Profile Semantics-Checking&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For online semantics-checking of the profile, you must also use the customizer harness <code>user</code>, <code>password</code>, and <code>url</code> options.</div>
<p>Following are examples of how to specify the <code>verify</code> option. Both of these examples use the <code>SQLCheckerCustomizer</code> default semantics-checker, which employs online checking through the specified database connection. (The first is a single wraparound command.)</p>
<pre>% sqlj -P-verify -P-user=HR -P-url=jdbc:oracle:oci:@ Foo_SJProfile0.ser Bar_SJProfile0.ser
Password: <span class="italic">password</span>

% sqlj -P-verify -P-user=HR -P-url=jdbc:oracle:oci:@ *.ser
Password: <span class="italic">password</span>
</pre>
<p>Command-line syntax is:</p>
<pre>sqlj -P-verify &lt;<span class="italic">conn params</span>&gt; <span class="italic">profile_list</span>
</pre>
<p>Command-line example is:</p>
<pre>sqlj -P-verify &lt;<span class="italic">conn params</span>&gt; Foo_SJProfile*.ser
</pre>
<p>Properties file syntax is:</p>
<pre>profile.verify
</pre>
<p>(You must also specify profiles, and typically customizer harness connection options, in the SQLJ command line.)</p>
<p>Properties file example is:</p>
<pre>profile.verify
</pre>
<p>Default value is:</p>
<pre>NA
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i634872"></a>
<div id="JSQLJ853" class="sect2">
<h3 class="sect2">Overview of Customizer-Specific <a id="sthref1045"></a>Options</h3>
<p>You can set customizer-specific options, such as options for Oracle customizer, on the SQLJ command line or in a SQLJ properties file. The syntax is similar to that for setting customizer harness options.</p>
<p>Set a customizer option on the SQLJ command line by preceding it with:</p>
<pre>-P-C
</pre>
<p>Alternatively, you can set it in a SQLJ properties file by preceding it with:</p>
<pre>profile.C
</pre>
<p>This option syntax is also discussed in <a href="transopt.htm#i1007864">&#34;Options to Pass to the Profile Customizer (-P)&#34;</a> and <a href="transopt.htm#i1006412">&#34;Properties File Syntax&#34;</a>.</p>
<p>The remainder of this section discusses features of Oracle customizer, which supports several options. Most of these options are boolean and are enabled as follows:</p>
<pre>-P-C<span class="italic">option</span>
</pre>
<p>or:</p>
<pre>-P-C<span class="italic">option</span>=true
</pre>
<p>Boolean options are disabled by default, but you can explicitly disable them with:</p>
<pre>-P-C<span class="italic">option</span>=false
</pre>
<p>Numeric or string options are set similarly:</p>
<pre>-P-C<span class="italic">option</span>=<span class="italic">value</span>
</pre></div>
<!-- class="sect2" -->
<a id="i634907"></a>
<div id="JSQLJ854" class="sect2">
<h3 class="sect2">Oracle Customizer <a id="sthref1046"></a><a id="sthref1047"></a><a id="sthref1048"></a>Options</h3>
<p>This section describes options that are specific to Oracle customizer, beginning with an overview of the options supported.</p>
<div id="JSQLJ855" class="sect3"><a id="sthref1049"></a>
<h4 class="sect3">Options Supported by Oracle Customizer</h4>
<p>Oracle customizer implements the following options:</p>
<ul>
<li>
<p><code>compat</code>: Display version-compatibility information.</p>
</li>
<li>
<p><code>force</code>: Instruct the customizer to customize even if a valid customization already exists.</p>
</li>
<li>
<p><code>optcols</code>: Enable iterator column type and size definitions to optimize performance.</p>
</li>
<li>
<p><code>optparams</code>: Enable parameter size definitions to optimize JDBC resource allocation (used in conjunction with <code>optparamdefaults</code>).</p>
</li>
<li>
<p><code>optparamdefaults</code>: Set parameter size defaults for particular data types (used in conjunction with <code>optparams</code>).</p>
</li>
<li>
<p><code>fixedchar</code>: Enable <code>CHAR</code> comparisons with blank padding for <code>WHERE</code> clauses.</p>
</li>
<li>
<p><code>showSQL</code>: Display SQL statement transformations.</p>
</li>
<li>
<p><code>stmtcache</code>: Set the statement cache size (the number of statements that can be cached for each connection during run time) for performance optimization, or set it to zero to disable statement caching.</p>
</li>
<li>
<p><code>summary</code>: Display a summary of Oracle features used in your application.</p>
</li>
</ul>
<p>Any output displayed by these options is written to the standard output device, wherever SQLJ writes its other messages.</p>
</div>
<!-- class="sect3" -->
<div id="JSQLJ856" class="sect3"><a id="sthref1050"></a>
<h4 class="sect3">Oracle Customizer <a id="sthref1051"></a><a id="sthref1052"></a><a id="sthref1053"></a><a id="sthref1054"></a>Version Compatibility Option (compat)</h4>
<p>Use the <code>compat</code> flag to instruct Oracle customizer to display information about compatibility of your application with different versions of Oracle Database and Oracle JDBC drivers. This can be accomplished either during a full SQLJ translation run or on profiles previously created.</p>
<p>For example, to see compatibility output when translating and customizing the application <code>MyApp</code>:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Ccompat MyApp.sqlj
</pre>
<p>In this example, the <code>MyApp</code> profiles will be created, customized, and checked for compatibility in a single running of SQLJ.</p>
<p>To see compatibility output for <code>MyApp</code> profiles previously created:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Ccompat MyApp_SJProfile*.ser
</pre>
<p>In this example, the <code>MyApp</code> profiles were created (and possibly customized) in a previous running of SQLJ and will be customized (if needed) and checked for compatibility in the above running of SQLJ.</p>
<p>Following are two output samples from a -P-C<code>compat</code> setting when using the default Oracle customizer. The first example indicates that the application can be used with all Oracle JDBC driver versions:</p>
<pre>MyApp_SJProfile0.ser: Info: compatible with all Oracle JDBC drivers 
</pre>
<p>This second example indicates that the application can be used only with the JDBC implementation from an Oracle 8.1.x or later release:</p>
<pre>MyApp_SJProfile0.ser: Info: compatible with Oracle 8.1 or later JDBC driver 
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If customization does not take place because a valid previous customization is detected, the <code>compat</code> option reports compatibility regardless.</div>
<p>Command-line syntax is:</p>
<pre>-P-Ccompat&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-Ccompat
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Ccompat&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.Ccompat
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ857" class="sect3"><a id="sthref1055"></a>
<h4 class="sect3">Oracle <a id="sthref1056"></a><a id="sthref1057"></a><a id="sthref1058"></a>Customizer Force Option (force)</h4>
<p>Use the <code>force</code> flag to instruct Oracle customizer to force the customization of a given profile (specified on the command line) even if a valid customization already exists in that profile. For example:</p>
<pre>% sqlj -P-Cforce MyApp_SJProfile*.ser
</pre>
<p>This will customize all the <code>MyApp</code> profiles, regardless of whether they have already been customized. Otherwise, by default, Oracle customizer will not reinstall over a previously existing customization unless the previous one had been installed with an older version of the customizer.</p>
<p>Command-line syntax is:</p>
<pre>-P-Cforce&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-Cforce
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cforce&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.Cforce
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<a id="i634971"></a>
<div id="JSQLJ858" class="sect3">
<h4 class="sect3">Oracle Cus<a id="sthref1059"></a><a id="sthref1060"></a><a id="sthref1061"></a><a id="sthref1062"></a>tomizer Column Definition Option (optcols)</h4>
<p>Use the <code>optcols</code> flag to instruct Oracle customizer to determine types and sizes of iterator or result set columns and add this information to the profile. This enables the SQLJ run time to automatically register the columns with Oracle JDBC driver when your application runs, saving round trips to Oracle depending on the particular driver implementation. Specifically, this is effective for the Thin driver and positional iterators.</p>
<p>For an overview of column definitions, see <a href="apppfdbg.htm#i1006199">&#34;Column Definitions&#34;</a>.</p>
<p>An error will be generated if you enable Oracle customizer <code>optcols</code> option without setting the user name, password, and URL for a database connection. You can accomplish this through the translator <code>-user</code>, <code>-password</code>, and <code>-url</code> options, which are forwarded to the customizer during ISO standard code generation, or directly through the customizer <code>user</code>, <code>password</code>, and <code>url</code> options.</p>
<p>The customizer does not have to connect to the same schema or even the same database that your application will connect to at run time, but the relevant columns will have to be in the same order and of identical types and sizes to avoid run-time errors.</p>
<p>For information about the customizer harness connection options, see the <code>user</code>, <code>password</code>, <code>url</code>, and <code>driver</code> sections under <a href="#i634472">&#34;Overview of Customizer Harness Options&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use the SQLJ translator <code>-optcols</code> option instead. This sets the customizer option automatically. (And for Oracle-specific code generation, which uses no profiles, you <span class="italic">must</span> use the translator option instead.) See <a href="transopt.htm#i1007528">&#34;Column Definitions (-optcols)&#34;</a>.
<p>That section also has some additional conceptual information.</p>
</div>
<p>You can enable or disable the customizer <code>optcols</code> flag on the SQLJ command line or in a properties file.</p>
<p>Enable it on the command line as follows:</p>
<pre>-P-Coptcols
</pre>
<p>or:</p>
<pre>-P-Coptcols=true
</pre>
<p>This flag is disabled by default, but you can also disable it explicitly. Disable it on the command line as follows:</p>
<pre>-P-Coptcols=false
</pre>
<p>Column definitions require the customizer to make a database connection to examine columns of tables being queried, so the customizer harness <code>user</code>, <code>password</code>, and <code>url</code> options must be set appropriately (as well as the customizer harness <code>driver</code> option if you are not using the default <code>OracleDriver</code> class). For example:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-user=HR@jdbc:oracle:oci:@ -P-Coptcols MyApp.sqlj
Password: <span class="italic">password</span>
</pre>
<p>Note that as with the SQLJ translator, you can optionally set the password and URL in the <code>user</code> option instead of in the <code>password</code> and <code>url</code> options.</p>
<p>Alternatively, you can insert column definitions into a previously existing profile. In this case you must also use the Oracle customizer <code>force</code> option to force a recustomization:</p>
<pre>% sqlj -P-user=HR@jdbc:oracle:oci:@ -P-Cforce -P-Coptcols MyApp_SJProfile*.ser
Password: <span class="italic">password</span>
</pre>
<p>You also can insert column definitions into previously existing profiles in a JAR file:</p>
<pre>% sqlj -P-user=HR@jdbc:oracle:oci:@ -P-Cforce -P-Coptcols MyAppProfiles.jar
Password: <span class="italic">password</span>
</pre>
<p>When you run Oracle customizer with its <code>optcols</code> flag enabled, either during translation and creation of a new profile or during customization of an existing profile, you can also enable the customizer harness <code>verbose</code> flag. This will instruct Oracle customizer to display information about what iterators and result sets are being processed and what their column type and size definitions are. For example:</p>
<pre>% sqlj -P-user=HR@jdbc:oracle:oci:@ -P-verbose -P-Cforce -P-Coptcols MyApp_SJProfile*.ser
Password: <span class="italic">password</span>
</pre>
<pre></pre>
<p>For general information about the <code>verbose</code> flag, see that section under <a href="#i634472">&#34;Overview of Customizer Harness Options&#34;</a>.</p>
<p>You can execute Oracle customizer with its <code>summary</code> flag enabled on an existing profile to determine if column definitions have been added to that profile:</p>
<pre>% sqlj -P-Csummary MyApp_SJProfile*.ser
</pre>
<p>For general information about the <code>summary</code> flag, see that section under <a href="#i634872">&#34;Overview of Customizer-Specific Options&#34;</a>.</p>
<p>Command-line syntax is:</p>
<pre>-P-Coptcols&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-Coptcols
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Coptcols&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.Coptcols
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<a id="i635053"></a>
<div id="JSQLJ859" class="sect3">
<h4 class="sect3">Oracle Cu<a id="sthref1063"></a><a id="sthref1064"></a><a id="sthref1065"></a><a id="sthref1066"></a>stomizer Parameter Definition Option (optparams)</h4>
<p>Use the <code>optparams</code> flag to enable parameter size definitions. If this flag is enabled, SQLJ will register your input and output parameters (host variables) to optimize JDBC resource allocations according to sizes you specify.</p>
<p>For an overview of parameter size definitions and a discussion of source code hints, see <a href="apppfdbg.htm#i1006237">&#34;Parameter Size Definitions&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use the SQLJ translator <code>-optparams</code> option instead. This sets the customizer option automatically. (And for Oracle-specific code generation, which uses no profiles, you <span class="italic">must</span> use the translator option instead.) See <a href="transopt.htm#i1007582">&#34;Parameter Definitions (-optparams)&#34;</a>.
<p>That section also has some additional conceptual information.</p>
</div>
<p>You can enable or disable the <code>optparams</code> flag on the command line or in a SQLJ properties file.</p>
<p>Enable it on the command line as follows:</p>
<pre>-P-Coptparams
</pre>
<p>or:</p>
<pre>-P-Coptparams=true
</pre>
<p>This flag is disabled by default, but you can also disable it explicitly. Disable it on the command line as follows:</p>
<pre>-P-Coptparams=false
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Unlike the <code>optcols</code> option, the <code>optparams</code> option does not require a database connection by the customizer, because you are providing the size specifications yourself.</div>
<p>Following is a command-line example (omitting a setting for the <code>optparamdefaults</code> option, which is discussed in the next section):</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Coptparams -P-Coptparamdefaults=<span class="italic">defaults_string</span> MyApp.sqlj
</pre>
<p>Alternatively, to enable parameter size definitions for a previously existing profile:</p>
<pre>% sqlj<span class="italic"> -P-Coptparams -P-Coptparamdefaults=defaults_string</span> MyApp_SJProfile*.ser
</pre>
<p>You can also use previously existing profiles in a JAR file:</p>
<pre>% sqlj<span class="italic"> -P-Coptparams -P-Coptparamdefaults=defaults_string</span> MyAppProfiles.jar
</pre>
<p>Command-line syntax is:</p>
<pre>-P-Coptparams&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-Coptparams
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Coptparams&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.Coptparams
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<a id="i635110"></a>
<div id="JSQLJ860" class="sect3">
<h4 class="sect3">Oracle Cu<a id="sthref1067"></a><a id="sthref1068"></a><a id="sthref1069"></a><a id="sthref1070"></a>stomizer Parameter Default Size Option (optparamdefaults)</h4>
<p>If you enable the <code>optparams</code> option to set parameter sizes, use the <code>optparamdefaults</code> option as desired to set default sizes for specified data types. If <code>optparams</code> is <span class="italic">not</span> enabled, then any <code>optparamdefaults</code> setting is ignored.</p>
<p>For an overview of parameter size definitions and a discussion of source code hints, see <a href="apppfdbg.htm#i1006237">&#34;Parameter Size Definitions&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use the SQLJ translator <code>-optparamdefaults</code> option instead. This sets the customizer option automatically. (And for Oracle-specific code generation, which uses no profiles, you <span class="italic">must</span> use the translator option instead.) See <a href="transopt.htm#i1007635">&#34;Parameter Default Size (-optparamdefaults)&#34;</a>.
<p>That section also has important additional conceptual and syntax information. Functionality of the two options is equivalent.</p>
</div>
<p>You can set the <code>optparamdefaults</code> flag on the command line or in a SQLJ properties file.</p>
<p>Set it on the command line as follows:</p>
<pre>-P-Coptparamdefaults=<span class="italic">datatype1</span>(<span class="italic">size1</span>),<span class="italic">datatype2</span>(<span class="italic">size2</span>),...
</pre>
<p>Following is a command-line example, including the <code>optparams</code> setting as well:</p>
<pre>% sqlj &lt;..<span class="italic">SQLJ options</span>..&gt; -P-Coptparams -P-Coptparamdefaults=CHAR_TYPE(50),RAW_TYPE(500),CHAR(10)<span class="italic"> </span>MyApp.sqlj
</pre>
<pre></pre>
<p>The syntax is explained in <a href="transopt.htm#i1007635">&#34;Parameter Default Size (-optparamdefaults)&#34;</a>.</p>
<p>Alternatively, you can specify parameter size defaults for a previously existing profile, in which case you must also use the Oracle customizer <code>force</code> option to force a recustomization:</p>
<pre>% sqlj -P-Cforce -P-Coptparams -P-Coptparamdefaults=CHAR_TYPE(50),RAW_TYPE(500),CHAR(10) MyApp_SJProfile*.ser
</pre>
<pre></pre>
<p>You also can specify parameter size defaults for previously existing profiles in a JAR file:</p>
<pre>% sqlj -P-Cforce -P-Coptparams -P-Coptparamdefaults=CHAR_TYPE(50),RAW_TYPE(500),CHAR(10) MyAppProfiles.jar
</pre>
<pre></pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If at run time, the actual size exceeds the registered size of any parameter, run-time errors will occur.</div>
<p>Command-line syntax is:</p>
<pre>-P-Coptparamdefaults=<span class="italic">defaults_string</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-Coptparamdefaults=VAR%(50),LONG%(500),RAW_TYPE()
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Coptparamdefaults=<span class="italic">defaults_string</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.Coptparamdefaults=VAR%(50),LONG%(500),RAW_TYPE()
</pre>
<p>Default value is:</p>
<pre>null
</pre></div>
<!-- class="sect3" -->
<a id="i635168"></a>
<div id="JSQLJ861" class="sect3">
<h4 class="sect3">Oracle Cu<a id="sthref1071"></a><a id="sthref1072"></a><a id="sthref1073"></a>stomizer CHAR Comparisons with Blank Padding (fixedchar)</h4>
<p>Set this flag to <code>true</code> to account for blank padding in <code>CHAR</code> database columns when binding character strings for <code>WHERE</code> clause comparisons. This way, for example, &#34;mystring&#34; would compare positively against &#34;mystring &#34;.</p>
<p>Here is an example of Oracle customizer <code>fixedchar</code> usage:</p>
<pre>% sqlj -P-Cfixedchar MyProgram.sqlj AnotherProg.java ...
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>You can use the SQLJ translator <code>-fixedchar</code> option instead. This sets the customizer option automatically. (And for Oracle-specific code generation, which uses no profiles, you <span class="italic">must</span> use the translator option instead.) See <a href="transopt.htm#i1007700">&#34;CHAR Comparisons with Blank Padding (-fixedchar)&#34;</a>. That section also has some additional conceptual information.</p>
</li>
<li>
<p>If you also enable the Oracle customizer <code>summary</code> flag, the number of usages of the Oracle <code>setFixedCHAR()</code> API (used behind the scenes for <code>fixedchar</code> functionality) will be displayed. See <a href="#i635285">&#34;Oracle Customizer Summary Option (summary)&#34;</a> for an example.</p>
</li>
</ul>
</div>
<p>Command-line syntax is:</p>
<pre>-P-Cfixedchar&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-Cfixedchar
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cfixedchar&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.Cfixedchar
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ862" class="sect3"><a id="sthref1074"></a>
<h4 class="sect3">Oracle Customizer <a id="sthref1075"></a><a id="sthref1076"></a><a id="sthref1077"></a>Show-SQL Option (showSQL)</h4>
<p>Use the <code>showSQL</code> flag to display any SQL statement transformations performed by Oracle customizer. Such transformations are necessary in cases where SQLJ supports syntax that the database does not directly support.</p>
<p>To show SQL transformations when translating and customizing the application <code>MyApp</code>:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-CshowSQL MyApp.sqlj
</pre>
<p>In this example, the <code>MyApp</code> profiles will be created and customized and their SQL transformations displayed in a single running of SQLJ.</p>
<p>To show SQL transformations when customizing <code>MyApp</code> profiles previously created:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-CshowSQL MyApp_SJProfile*.ser
</pre>
<p>In this example, the <code>MyApp</code> profiles were created (and possibly customized) in a previous running of SQLJ and will be customized (if needed) and have their SQL transformations displayed in the above running of SQLJ.</p>
<p>The <code>showSQL</code> output might include an entry such as this:</p>
<pre>MyApp.sqlj:14: Info: &lt;&lt;&lt;NEW SQL&gt;&gt;&gt; #sql {BEGIN  ? := VALUES(tkjsSET_f1); END}; 
 
in file MyApp, line 14, we had: 
 
</pre>
<pre>#sql {set :v1= VALUES(tkjsSET_f1) };
</pre>
<p>During customization, Oracle customizer replaces the <code>SET</code> statement with an equivalent PL/SQL block.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If customization does not take place because a valid previous customization is detected, the <code>showSQL</code> option shows SQL transformations regardless.</div>
<p>Command-line syntax is:</p>
<pre>-P-CshowSQL&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-CshowSQL
</pre>
<p>Properties file syntax is:</p>
<pre>profile.CshowSQL&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.CshowSQL
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<a id="i636682"></a>
<div id="JSQLJ863" class="sect3">
<h4 class="sect3">Oracle Customizer Statement Cac<a id="sthref1078"></a><a id="sthref1079"></a><a id="sthref1080"></a>he Size Option (stmtcache)</h4>
<p>Use the Oracle customizer <code>stmtcache</code> option to set the statement cache size&mdash;the number of statements that can be cached for each database connection as your application runs&mdash;or to disable statement caching.</p>
<p>The default statement cache size is 5. For an overview of statement caching, see <a href="apppfdbg.htm#i1005618">&#34;Statement Caching&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
With the default Oracle-specific code generation (<code>-codegen=oracle</code>), SQLJ does not produce profiles and skips the customization step. In this case, use connection context methods to control SQLJ statement caching. See <a href="apppfdbg.htm#i1005665">&#34;Connection Context Methods for Statement Caching (Oracle-Specific Code)&#34;</a>.</div>
<p>You can set the statement cache size on the command line or in a properties file.</p>
<p>To use the command line to set the statement cache size to 15 (for example) for the application <code>MyApp</code>:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Cstmtcache=15 MyApp.sqlj
</pre>
<p>To disable statement caching, set the cache size to 0:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Cstmtcache=0 MyApp.sqlj
</pre>
<p>You also can alter the statement cache size in an existing profile without retranslating the application, but you must also use the Oracle customizer <code>force</code> option to force a recustomization, as follows:</p>
<pre>% sqlj -P-Cforce -P-Cstmtcache=15 MyApp_SJProfile0.ser
</pre>
<p>If you have multiple profiles, you can set their statement cache sizes individually by running SQLJ separately for each profile, after you have translated your application:</p>
<pre>% sqlj -P-Cforce -P-Cstmtcache=10 MyApp_SJProfile0.ser
% sqlj -P-Cforce -P-Cstmtcache=15 MyApp_SJProfile1.ser
% sqlj -P-Cforce -P-Cstmtcache=0 MyApp_SJProfile2.ser
</pre>
<p>Of course, you must determine which profile corresponds to each of your connection context classes. This is determined as follows: profile 0 will correspond to the connection context class used for the first executable statement in your application; profile 1 will correspond to the connection context class used for the first executable statement that does not use the first connection context class, and so on. You can verify the correlation by using the customizer harness <code>print</code> option to examine each profile.</p>
<p>Command-line syntax is:</p>
<pre>-P-Cstmtcache=<span class="italic">value</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-Cstmtcache=10
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cstmtcache=<span class="italic">value</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.Cstmtcache=10
</pre>
<p>Default value is:</p>
<pre>5
</pre></div>
<!-- class="sect3" -->
<a id="i635285"></a>
<div id="JSQLJ864" class="sect3">
<h4 class="sect3">Oracle Customizer <a id="sthref1081"></a><a id="sthref1082"></a><a id="sthref1083"></a><a id="sthref1084"></a><a id="sthref1085"></a>Summary Option (summary)</h4>
<p>Use the <code>summary</code> flag to instruct Oracle customizer to display a summary of Oracle features used in an application being translated, or in specified profile files. This is useful in identifying features that would prevent portability to other platforms and can be accomplished either during a full SQLJ translation run or on profiles previously created.</p>
<p>To see summary output when translating and customizing the application <code>MyApp</code>:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Csummary MyApp.sqlj
</pre>
<p>In this example, the <code>MyApp</code> profiles will be created, customized, and summarized in a single running of SQLJ.</p>
<p>To see summary output for <code>MyApp</code> profiles previously created:</p>
<pre>% sqlj &lt;...<span class="italic">SQLJ options</span>...&gt; -P-Csummary MyApp_SJProfile*.ser
</pre>
<p>In this example, the <code>MyApp</code> profiles were created (and possibly customized) in a previous running of SQLJ and will be customized (if needed) and summarized in the above running of SQLJ.</p>
<p>Following are two samples resulting from a <code>-P-Csummary</code> setting when using the default Oracle customizer. The first example indicates no Oracle features are used:</p>
<pre>MyApp_SJProfile0.ser: Info: Oracle features used: 
MyApp_SJProfile0.ser: Info: * none 
</pre>
<p>This second example indicates that Oracle features <span class="italic">are</span> used&mdash;several Oracle extended data types from the <code>oracle.sql</code> package&mdash;and lists them:</p>
<pre>MyApp_SJProfile0.ser: Info: Oracle features used: 
MyApp_SJProfile0.ser: Info: * oracle.sql.NUMBER: 2 
MyApp_SJProfile0.ser: Info: * oracle.sql.DATE: 2 
MyApp_SJProfile0.ser: Info: * oracle.sql.CHAR: 2 
MyApp_SJProfile0.ser: Info: * oracle.sql.RAW: 2 
</pre>
<p>The following example prints out the number of usages of the Oracle <code>setFixedCHAR()</code> API (enabled through the Oracle customizer <code>fixedchar</code> option, to account for blank padding when binding a string into a <code>WHERE</code> clause for comparison against <code>CHAR</code> data):</p>
<pre>% sqlj -P-Cfixedchar -P-Csummary -P-Cforce *.ser
FC_SJProfile0.ser: Info: re-installing Oracle customization
FC_SJProfile0.ser: Info: Oracle features used:
FC_SJProfile0.ser: Info: * setFixedCHAR(): 4
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
If customization does not take place because a valid previous customization is detected, the <code>summary</code> option produces a summary regardless.</div>
<p>Command-line syntax is:</p>
<pre>-P-Csummary&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-Csummary
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Csummary&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.Csummary
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="JSQLJ865" class="sect2"><a id="sthref1086"></a>
<h3 class="sect2">Options for Other Customizers</h3>
<p>The Oracle SQLJ implementation provides additional, specialized customizers described later in this chapter. These customizers also have command-line options:</p>
<ul>
<li>
<p><code>SQLCheckerCustomizer</code> (for profile semantics-checking): See <a href="#i635420">&#34;SQLCheckerCustomizer for Profile Semantics-Checking&#34;</a> for general information, and <a href="#i635466">&#34;SQLCheckerCustomizer Options&#34;</a> for information about its options.</p>
</li>
<li>
<p><code>AuditorInstaller</code> (for debugging): See <a href="#i635528">&#34;AuditorInstaller Customizer for Debugging&#34;</a> for general information, and <a href="#i635630">&#34;AuditorInstaller Options&#34;</a> for information about its options.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="i635357"></a>
<div id="JSQLJ866" class="sect2">
<h3 class="sect2">SQLJ <a id="sthref1087"></a>Translator Options for Profile Customization</h3>
<p>The following SQLJ translator options relate to profile customization and are described elsewhere in this manual:</p>
<ul>
<li>
<p><code>-default-customizer</code>: Specify the default profile customizer to use if none is specified in the customizer harness <code>-customizer</code> option.</p>
<p>See <a href="transopt.htm#i1008714">&#34;Default Profile Customizer (-default-customizer)&#34;</a>.</p>
</li>
<li>
<p><code>-profile</code>: Specify whether to customize during this running of SQLJ.</p>
<p>See <a href="transopt.htm#i1007952">&#34;Profile Customization Flag (-profile)&#34;</a>.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i635377"></a>
<div id="JSQLJ867" class="sect1">
<h2 class="sect1">JAR File<a id="sthref1088"></a><a id="sthref1089"></a><a id="sthref1090"></a>s for Profiles</h2>
<p>As discussed previously, you can specify a JAR file on the SQLJ command line in order to customize any profiles that the JAR file contains.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Remember that you can specify <code>.sqlj</code> or <code>.java</code> files or both on the SQLJ command line for standard SQLJ processing, or you can specify <code>.ser</code> or <code>.jar</code> files or both on the command line for customization only, but not both categories.</p>
</li>
<li>
<p>It is permissible for the <code>.jar</code> file to contain files that are not profiles. Any file whose manifest entry indicates that the file is not a profile will be ignored during customization.</p>
</li>
<li>
<p>The <code>.jar</code> file is used as the class-loading context for each profile it contains. If a profile contains a reference to a class contained within the <code>.jar</code> file, then that class is loaded from the <code>.jar</code> file. If a profile contains a reference to a class not in the <code>.jar</code> file, then the system class loader will find and load the class according to your classpath, as usual.</p>
</li>
</ul>
</div>
<div id="JSQLJ868" class="sect2"><a id="sthref1091"></a>
<h3 class="sect2">JAR File Requirements</h3>
<p>There are requirements for the manifest entry of each profile.</p>
<p>Create a plain text file with two lines for each profile that will be included in the JAR file. One line starts with &#34;Name:&#34;, followed by the path or package and name. The other line is the following:</p>
<pre>SQLJProfile: TRUE
</pre>
<p>The two lines must be consecutive (no blank line in between), and there must be a blank line preceding line-pairs for additional profiles.</p>
<p>Use the JAR utility <code>-m</code> option to input this file.</p>
<p>For example, presume your <code>MyApp</code> application (in the directory <code>foo/bar</code>) has three profiles, and you will be creating a JAR file that will include these profiles. Complete the following steps:</p>
<ol>
<li>
<p>Create a text file with the following eight lines (including the blank lines used as separators):</p>
<pre>Name: foo/bar/MyApp_SJProfile0.ser
SQLJProfile: TRUE

Name: foo/bar/MyApp_SJProfile1.ser
SQLJProfile: TRUE

Name: foo/bar/MyApp_SJProfile2.ser
SQLJProfile: TRUE
</pre>
<p>Presume you call this file <code>MyAppJarEntries.txt</code>.</p>
</li>
<li>
<p>When you run <code>jar</code> to create the JAR file, use the <code>-m</code> option to input your text file as follows (presume you want to call the JAR file <code>myjarfile.jar</code>):</p>
</li>
</ol>
<pre>% jar -cvfm myjarfile.jar MyAppJarEntries.txt foo/bar/MyApp_SJProfile*.ser foo/bar/*.class
</pre>
<pre></pre>
<p>As the JAR utility constructs the manifest during creation of the JAR file, it reads your text file and inserts the <code>SQLJProfile: TRUE</code> line into the manifest entry of each profile. It accomplishes this by matching the names in the manifest with the names you specify in your text file.</p>
</div>
<!-- class="sect2" -->
<div id="JSQLJ869" class="sect2"><a id="sthref1092"></a>
<h3 class="sect2">JAR File Logistics</h3>
<p>When you specify a JAR file on the SQLJ command line, each profile in the JAR file is deserialized and customized.</p>
<p>A JAR file is successfully customized only if all the profiles it contains are successfully customized. After a successful customization, each profile has been reserialized into a <code>.ser</code> file, the JAR file has been modified to replace the original <code>.ser</code> files with the customized <code>.ser</code> files, and the JAR file manifest has been updated to indicate the new entries.</p>
<p>If any error is encountered in the customization of any profile in a JAR file, then the JAR file customization has failed, and the original JAR file is left completely unchanged.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you use signature files for authentication, the signature files that appeared in the original JAR file will appear unchanged in the updated JAR file. You are responsible for resigning the new JAR file if the profiles require signing.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i635420"></a>
<div id="JSQLJ870" class="sect1">
<h2 class="sect1">SQLCheckerCus<a id="sthref1093"></a>tomizer for Profile Semantics-Checking</h2>
<p>Oracle provides a special customizer, <code>SQLCheckerCustomizer</code>, that will perform semantics-checking on a profile that was produced during previous execution of the translator. This semantics-checking is similar to what is usually performed during translation of the source code.</p>
<p>This is particularly valuable when the database to be used at run time is not available for semantics-checking during translation. In these circumstances, you can use <code>SQLCheckerCustomizer</code> after deployment, against the run-time database, typically in a scenario where the source code is no longer available.</p>
<p>You can specify the checker to use. If you accept the default <code>OracleChecker</code> front end, <code>SQLCheckerCustomizer</code> will perform online semantics-checking using an appropriate online checker.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For online semantics-checking of the profile, you must also specify connection parameters using the customizer harness connection options.</div>
<div id="JSQLJ871" class="sect2"><a id="sthref1094"></a>
<h3 class="sect2">Invoking <a id="sthref1095"></a><a id="sthref1096"></a>SQLCheckerCustomizer with the Customizer Harness verify Option</h3>
<p>Following are examples of how to specify the Oracle customizer harness <code>verify</code> option to run <code>SQLCheckerCustomizer</code> in its default mode. Because it defaults to an online checker, you typically must provide connection parameters through the customizer harness <code>user</code>, <code>password</code>, and <code>url</code> options. (The first example is a single wraparound command line.)</p>
<pre>% sqlj -P-verify -P-user=HR -P-url=jdbc:oracle:oci:@ Foo_SJProfile0.ser Bar_SJProfile0.ser
Password: <span class="italic">password</span>

% sqlj -P-verify -P-user=HR -P-url=jdbc:oracle:oci:@ *.ser
Password: <span class="italic">password</span>
</pre>
<p>The <code>verify</code> option results in the customizer harness instantiating and invoking the following class:</p>
<pre>sqlj.runtime.profile.util.SQLCheckerCustomizer
</pre>
<p>This class coordinates semantics-checking of the SQL operations in the profile. You can specify a semantics-checker or accept the default <code>OracleChecker</code> semantics-checker front end.</p>
<p>The <code>-P-verify</code> option is equivalent to the following:</p>
<pre>-P-customizer=sqlj.runtime.profile.util.SQLCheckerCustomizer
</pre>
<p>This overrides the customizer specified in the SQLJ <code>-default-customizer</code> option.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>As with any Oracle customizer, help output and an option list will be provided if you specify <code>-P-verify</code> together with <code>-P-help</code> on the SQLJ command line.</p>
</li>
<li>
<p>It is important to realize that because the <code>verify</code> option invokes a customizer, and only one customizer can run in any single running of SQLJ, you cannot do any other customization when you use this option.</p>
</li>
<li>
<p>You also cannot use more than one of <code>-P-print</code>, <code>-P-debug</code>, and <code>-P-verify</code> simultaneously, because each of these invokes a specialized customizer.</p>
</li>
</ul>
</div>
<p>Command-line syntax is:</p>
<pre>sqlj -P-verify &lt;<span class="italic">conn params</span>&gt; <span class="italic">profile_list</span>
</pre>
<p>Command-line example is:</p>
<pre>sqlj -P-verify &lt;<span class="italic">conn params</span>&gt; Foo_SJProfile*.ser
</pre>
<p>Properties file syntax is:</p>
<pre>profile.verify
</pre>
<p>(You must also specify profiles, and typically customizer harness connection options, in the SQLJ command line.)</p>
<p>Properties file example is:</p>
<pre>profile.verify
</pre>
<p>Default value is:</p>
<pre>NA
</pre></div>
<!-- class="sect2" -->
<a id="i635466"></a>
<div id="JSQLJ872" class="sect2">
<h3 class="sect2">SQLCheckerCustomizer <a id="sthref1097"></a><a id="sthref1098"></a>Options</h3>
<p>Like any customizer, <code>SQLCheckerCustomizer</code> has its own options, which can be set using the <code>-P-C</code> prefix on the SQLJ command line or the <code>profile.C</code> prefix in a SQLJ properties file.</p>
<p><code>SQLCheckerCustomizer</code> supports the following options:</p>
<ul>
<li>
<p><code>checker</code>: Specify the semantics-checker to use. The default is the <code>OracleChecker</code> front end, as for checking during SQLJ translation.</p>
</li>
<li>
<p><code>warn</code>: Specify the categories of warnings and messages to display during semantics-checking of the profile. This is equivalent to the SQLJ <code>-warn</code> flag for warning categories during translation-time semantics-checking, supports the same settings, and uses the same defaults. See <a href="transopt.htm#i1007284">&#34;Translator Warnings (-warn)&#34;</a>.</p>
</li>
</ul>
<div id="JSQLJ873" class="sect3"><a id="sthref1099"></a>
<h4 class="sect3">SQLCheckerCustomizer <a id="sthref1100"></a>Semantics-Checker Option (checker)</h4>
<p>The <code>checker</code> option enables you to specify the semantics-checker to use in checking the SQL operations in a profile.</p>
<p>This defaults to the Oracle semantics-checker front end, <code>oracle.sqlj.checker.OracleChecker</code>, which for <code>SQLCheckerCustomizer</code> chooses an appropriate online checker for your environment. For more information about <code>OracleChecker</code>, see <a href="transopt.htm#i1008088">&#34;Semantics-Checkers and OracleChecker Front End (default checker)&#34;</a>.</p>
<p>Following is a full command-line example, showing how to use the <code>SQLCheckerCustomizer</code> <code>checker</code> option, in conjunction with the customizer harness <code>verify</code> option and connection options.</p>
<pre>% sqlj -P-verify -P-user=HR -P-url=jdbc:oracle:oci:@ -P-Cchecker=abc.def.MyChecker *.ser
Password: <span class="italic">password</span>
</pre>
<p>(This is a single wraparound command line.)</p>
<p>Command-line syntax is:</p>
<pre>-P-Cchecker=<span class="italic">checker_class</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-Cchecker=a.b.c.MyChecker
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cchecker=<span class="italic">checker_class</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.Cchecker=a.b.c.MyChecker
</pre>
<p>Default value is:</p>
<pre>oracle.sqlj.checker.OracleChecker
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ874" class="sect3"><a id="sthref1101"></a>
<h4 class="sect3">SQLCheckerCustomizer <a id="sthref1102"></a>Warnings Option (warn)</h4>
<p>The <code>warn</code> option is equivalent to the SQLJ translator <code>-warn</code> option, enabling you to choose the categories of warnings and messages to be displayed as semantics-checking is performed on a profile.</p>
<p>For a complete description of the functionality and possible settings of these options, see <a href="transopt.htm#i1007284">&#34;Translator Warnings (-warn)&#34;</a>.</p>
<p>This defaults to the <code>all,noverbose,noportable</code> settings, resulting in all warning categories except <code>verbose</code> and <code>portable</code> being enabled. You will receive any warnings regarding inheritance hierarchy requirements, data precision, conversion loss for nullable data, and strict matching for named iterators. These are the same defaults as for warnings during SQLJ translation.</p>
<p>Following is a full command-line example showing how to use the <code>SQLCheckerCustomizer</code> <code>warn</code> option, in conjunction with the customizer harness <code>verify</code> option and connection options. This would result in only portability warnings being displayed.</p>
<pre>% sqlj -P-verify -P-user=HR -P-url=jdbc:oracle:oci:@ -P-Cwarn=none,portable *.ser
Password: <span class="italic">password</span>
</pre>
<p>(This is a single wraparound command line.)</p>
<p>Command-line syntax is:</p>
<pre>-P-Cwarn=<span class="italic">comma-delimited_list_of_flags</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-Cwarn=none,verbose
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cwarn=<span class="italic">comma-delimited_list_of_flags</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.Cwarn=none,verbose
</pre>
<p>Default value is:</p>
<pre>all,noverbose,noportable
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i635528"></a>
<div id="JSQLJ875" class="sect1">
<h2 class="sect1">AuditorInstaller <a id="sthref1103"></a><a id="sthref1104"></a>Customizer for Debugging</h2>
<p>For ISO code generation, SQLJ provides a special customizer, <code>AuditorInstaller</code>. This customizer will insert sets of debugging statements, known as <span class="italic">auditors</span>, into profiles specified on the SQLJ command line. These profiles must already exist from previous customization.</p>
<p>The debugging statements will execute during SQLJ run time (when someone runs your application), displaying a trace of method calls and values returned.</p>
<p>Use the customizer harness <code>debug</code> option, preceded by <code>-P-</code> as with any general customization option, to insert the debugging statements. (Syntax for this option is discussed in <a href="#i635555">&#34;Invoking AuditorInstaller with the Customizer Harness debug Option&#34;</a>.)</p>
<a id="i635540"></a>
<div id="JSQLJ876" class="sect2">
<h3 class="sect2">Overview of <a id="sthref1105"></a><a id="sthref1106"></a><a id="sthref1107"></a><a id="sthref1108"></a>Auditors and Code Layers</h3>
<p>When an application is customized, Oracle customizer implements profiles in <span class="italic">layers</span> of code (typically less than five) for different levels of run-time functionality. The deepest layer uses straight Oracle JDBC calls and implements any of your SQLJ statements that can be executed through JDBC functionality. Each higher layer is a specialized layer for some category of SQLJ functionality that is not supported by JDBC and so must be handled specially by the SQLJ run time. For example, a layer for iterator conversion statements (<code>CAST</code>) is used to convert JDBC result sets to SQLJ iterators. Another layer is used for assignment statements (<code>SET</code>).</p>
<p>At run time, each SQLJ executable statement is first passed to the shallowest layer and then passed, layer-by-layer, until it reaches the layer that can process it (usually the deepest layer, which executes all JDBC calls).</p>
<p>You can install debugging statements at only one layer during a single execution of <code>AuditorInstaller</code>. Each set of debugging statements installed at a particular layer of code is referred to as an individual <span class="italic">auditor</span>. During run time, an auditor is activated whenever a call is passed to the layer at which the auditor is installed.</p>
<p>Any one of the specialized code layers above the JDBC layer is usually of no particular interest during debugging, so it is typical to install an auditor at either the deepest layer or the shallowest layer. If you install an auditor at the shallowest layer, its run-time debugging output will be a trace of method calls resulting from all your SQLJ executable statements. If you install an auditor at the deepest layer, its run-time output will be a trace of method calls from all your SQLJ executable statements that result in JDBC calls.</p>
<p>Use multiple executions of <code>AuditorInstaller</code> to install auditors at different levels. You might want to do that to install auditors at both the deepest layer and the shallowest layer, for example.</p>
<p>See <a href="#i635641">&#34;AuditorInstaller Depth Option (depth)&#34;</a> for information about how to specify the layer at which to install an auditor.</p>
</div>
<!-- class="sect2" -->
<a id="i635555"></a>
<div id="JSQLJ877" class="sect2">
<h3 class="sect2">Invoking <a id="sthref1109"></a><a id="sthref1110"></a>AuditorInstaller with the Customizer Harness debug Option</h3>
<p>Following are examples of how to specify the Oracle customizer harness <code>debug</code> option to run <code>AuditorInstaller</code> in its default mode:</p>
<pre>% sqlj -P-debug Foo_SJProfile0.ser Bar_SJProfile0.ser

% sqlj -P-debug *.ser

% sqlj -P-debug myappjar.jar
</pre>
<p>The <code>debug</code> option results in the customizer harness instantiating and invoking the following class:</p>
<pre>% sqlj.runtime.profile.util.AuditorInstaller
</pre>
<p>This class performs the work of inserting the debugging statements.</p>
<p>The <code>-P-debug</code> option is equivalent to the following:</p>
<pre>-P-customizer=sqlj.runtime.profile.util.AuditorInstaller
</pre>
<p>This overrides the customizer specified in the SQLJ <code>-default-customizer</code> option.</p>
<p>Be aware of the following:</p>
<ul>
<li>
<p>To run an application with auditors installed, the SQLJ file <code>translator.jar</code> must be in your classpath. (Usually, running a already translated SQLJ application requires only a runtime library.)</p>
</li>
<li>
<p>As with any Oracle customizer, help output and an option list will be provided if you specify <code>-P-debug</code> together with <code>-P-help</code> on the SQLJ command line.</p>
</li>
<li>
<p>It is important to realize that because the <code>debug</code> option invokes a customizer, and only one customizer can run in any single running of SQLJ, you cannot perform any other customization when you use this option.</p>
</li>
<li>
<p>You also cannot use more than one of <code>-P-print</code>, <code>-P-debug</code>, and <code>-P-verify</code> simultaneously, because each of these invokes a specialized customizer.</p>
</li>
</ul>
<p>Command-line syntax is:</p>
<pre>sqlj -P-debug <span class="italic">profile_list</span>
</pre>
<p>Command-line example is:</p>
<pre>sqlj -P-debug Foo_SJProfile*.ser
</pre>
<p>Properties file syntax is:</p>
<pre>profile.debug 
</pre>
<p>(You must also specify profiles in the file list.)</p>
<p>Properties file example is:</p>
<pre>profile.debug
</pre>
<p>Default value is:</p>
<pre>NA
</pre></div>
<!-- class="sect2" -->
<div id="JSQLJ878" class="sect2"><a id="sthref1111"></a>
<h3 class="sect2">AuditorInstaller <a id="sthref1112"></a><a id="sthref1113"></a><a id="sthref1114"></a>Run-Time Output</h3>
<p>During run time, debugging statements placed by <code>AuditorInstaller</code> result in a trace of methods called and values returned. This happens for all profile layers that had debugging statements installed. There is no means of selective debug output at run time.</p>
<p><code>AuditorInstaller</code> output relates to profiles only; there is currently no mapping to lines in your original <code>.sqlj</code> source file.</p>
<p>Following is a sample portion of <code>AuditorInstaller</code> run-time output. This is what the output might look like for a SQLJ <code>SELECT INTO</code> statement:</p>
<pre>oracle.sqlj.runtime.OraProfile@1 . getProfileData (  ) 
oracle.sqlj.runtime.OraProfile@1 . getProfileData returned sqlj.runtime.profile.ref.ProfileDataImpl@2 
oracle.sqlj.runtime.OraProfile@1 . getStatement ( 0 ) 
oracle.sqlj.runtime.OraProfile@1 . getStatement returned 
oracle.sqlj.runtime.OraRTStatement@3 
oracle.sqlj.runtime.OraRTStatement@3 . setMaxRows ( 1000 ) 
oracle.sqlj.runtime.OraRTStatement@3 . setMaxRows returned  
oracle.sqlj.runtime.OraRTStatement@3 . setMaxFieldSize ( 3000 ) 
oracle.sqlj.runtime.OraRTStatement@3 . setMaxFieldSize returned  
oracle.sqlj.runtime.OraRTStatement@3 . setQueryTimeout ( 1000 ) 
oracle.sqlj.runtime.OraRTStatement@3 . setQueryTimeout returned  
oracle.sqlj.runtime.OraRTStatement@3 . setBigDecimal ( 1 , 5 ) 
oracle.sqlj.runtime.OraRTStatement@3 . setBigDecimal returned  
oracle.sqlj.runtime.OraRTStatement@3 . setBoolean ( 2 , false ) 
oracle.sqlj.runtime.OraRTStatement@3 . setBoolean returned  
oracle.sqlj.runtime.OraRTStatement@3 . executeRTQuery (  ) 
oracle.sqlj.runtime.OraRTStatement@3 . executeRTQuery returned 
oracle.sqlj.runtime.OraRTResultSet@6 
oracle.sqlj.runtime.OraRTStatement@3 . getWarnings (  ) 
oracle.sqlj.runtime.OraRTStatement@3 . getWarnings returned null 
oracle.sqlj.runtime.OraRTStatement@3 . executeComplete (  ) 
oracle.sqlj.runtime.OraRTStatement@3 . executeComplete returned  
oracle.sqlj.runtime.OraRTResultSet@6 . next (  ) 
oracle.sqlj.runtime.OraRTResultSet@6 . next returned true 
oracle.sqlj.runtime.OraRTResultSet@6 . getBigDecimal ( 1 ) 
oracle.sqlj.runtime.OraRTResultSet@6 . getBigDecimal returned 5 
oracle.sqlj.runtime.OraRTResultSet@6 . getDate ( 7 ) 
oracle.sqlj.runtime.OraRTResultSet@6 . getDate returned 1998-03-28 
</pre>
<p>There are two lines for each method call. The first shows the call and input parameters; the second shows the return value.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The classes you see in the <code>oracle.sqlj.runtime</code> package are SQLJ run-time classes with equivalent functionality to similarly named JDBC classes. For example, <code>OraRTResultSet</code> is the SQLJ run-time implementation of the JDBC <code>ResultSet</code> interface, containing equivalent attributes and methods.</div>
</div>
<!-- class="sect2" -->
<a id="i635630"></a>
<div id="JSQLJ879" class="sect2">
<h3 class="sect2">AuditorInstaller <a id="sthref1115"></a><a id="sthref1116"></a>Options</h3>
<p>As with any customizer, <code>AuditorInstaller</code> has its own options that can be set using the <code>-P-C</code> prefix on the SQLJ command line (or <code>profile.C</code> in a SQLJ properties file).</p>
<p><code>AuditorInstaller</code> supports the following options:</p>
<ul>
<li>
<p><code>depth</code>: Specify how deeply you want to go into the layers of run-time functionality in your profiles.</p>
</li>
<li>
<p><code>log</code>: Specify the target file for run-time output of the debugging statements of the installed auditor.</p>
</li>
<li>
<p><code>prefix</code>: Specify a prefix for each line of run-time output that will result from this installation of debugging statements.</p>
</li>
<li>
<p><code>showReturns</code>: Enable the installed auditor to include return arguments in its run-time call tracing.</p>
</li>
<li>
<p><code>showThreads</code>: Enable the installed auditor to include thread names in its run-time call tracing (relevant only for multithreaded applications).</p>
</li>
<li>
<p><code>uninstall</code>: Remove the debugging statements placed into the profiles during the most recent previous invocation of <code>AuditorInstaller</code> on those profiles.</p>
</li>
</ul>
<a id="i635641"></a>
<div id="JSQLJ880" class="sect3">
<h4 class="sect3">AuditorInstaller <a id="sthref1117"></a>Depth Option (depth)</h4>
<p>As discussed in <a href="#i635540">&#34;Overview of Auditors and Code Layers&#34;</a>, <code>AuditorInstaller</code> can install a set of debugging statements, known as an auditor, at only a single layer of code during any one execution. The <code>AuditorInstaller</code> <code>depth</code> option enables you to specify which layer. Use multiple executions of <code>AuditorInstaller</code> to install auditors at different levels.</p>
<p>Layers are numbered in integers. The shallowest depth is layer 0; a maximum depth of 2 or 3 is typical. The only depth settings typically used are 0 for the shallowest layer or -1 for the deepest layer. In fact, it is difficult to install an auditor at any other particular layer, because the layer numbers used for the various kinds of SQLJ executable statements are not publicized.</p>
<p>The <code>depth</code> option is sometimes used in conjunction with the <code>prefix</code> option. By running <code>AuditorInstaller</code> more than once, with different prefixes for different layers, you can see at runtime what information is coming from which layers.</p>
<p>If you do not set the <code>depth</code> option, or the specification exceeds the number of layers in a given profile, then an auditor will be installed at the deepest layer.</p>
<p>Command-line syntax is:</p>
<pre>-P-Cdepth=<span class="italic">n</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-Cdepth=0
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cdepth=<span class="italic">n</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.Cdepth=0
</pre>
<p>Default value is:</p>
<pre>-1 (deepest layer)
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ881" class="sect3"><a id="sthref1118"></a>
<h4 class="sect3">AuditorInstaller <a id="sthref1119"></a>Log File Option (log)</h4>
<p>Use the <code>log</code> option to specify an output file for runtime output that will result from the auditor that you are currently installing. Otherwise, standard output will be used, so that debug output will go to wherever SQLJ messages go.</p>
<p>When auditors write messages to an output file, they append; they do not overwrite. Therefore, you can specify the same log file for multiple auditors without conflict. In fact, it is typical in this way to have debug information from all layers of your application go to the same log file.</p>
<p>Command-line syntax is:</p>
<pre>-P-Clog=<span class="italic">log_file</span>
</pre>
<p>Command-line example is:</p>
<pre>-P-Clog=foo/bar/mylog.txt
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Clog=<span class="italic">log_file</span>
</pre>
<p>Properties file example is:</p>
<pre>profile.Clog=foo/bar/mylog.txt
</pre>
<p>Default value is:</p>
<pre>Empty (for standard output)
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ882" class="sect3"><a id="sthref1120"></a>
<h4 class="sect3">AuditorInstaller <a id="sthref1121"></a>Prefix Option (prefix)</h4>
<p>Use the <code>prefix</code> option to specify a prefix for each line of runtime output resulting from the debugging statements installed during this invocation of <code>AuditorInstaller</code>.</p>
<p>This option is often used in conjunction with the <code>depth</code> option. By running <code>AuditorInstaller</code> multiple times with different prefixes for different layers, you can easily see at runtime what information is coming from which layers.</p>
<p>Command-line syntax is:</p>
<pre>-P-Cprefix=&#34;<span class="italic">string</span>&#34;
</pre>
<p>Command-line example is:</p>
<pre>-P-Cprefix=&#34;layer 2: &#34;
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cprefix=&#34;<span class="italic">string</span>&#34;
</pre>
<p>Properties file example is:</p>
<pre>profile.Cprefix=&#34;layer 2: &#34;
</pre>
<p>Default value is:</p>
<pre>Empty
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ883" class="sect3"><a id="sthref1122"></a>
<h4 class="sect3">AuditorInstaller <a id="sthref1123"></a>Return Arguments Option (showReturns)</h4>
<p>Use the <code>showReturns</code> option to enable or disable the display of return arguments as part of the runtime call tracing. This is enabled by default.</p>
<p>The following few lines show sample output with <code>showReturns</code> enabled (default):</p>
<pre>oracle.sqlj.runtime.OraRTStatement@3 . executeComplete (  ) 
oracle.sqlj.runtime.OraRTStatement@3 . executeComplete returned  
oracle.sqlj.runtime.OraRTResultSet@6 . next (  ) 
oracle.sqlj.runtime.OraRTResultSet@6 . next returned true 
oracle.sqlj.runtime.OraRTResultSet@6 . getBigDecimal ( 1 ) 
oracle.sqlj.runtime.OraRTResultSet@6 . getBigDecimal returned 5 
oracle.sqlj.runtime.OraRTResultSet@6 . getDate ( 7 ) 
oracle.sqlj.runtime.OraRTResultSet@6 . getDate returned 1998-03-28 
</pre>
<p>With <code>showReturns</code> disabled, the output would appear as follows:</p>
<pre>oracle.sqlj.runtime.OraRTStatement@3 . executeComplete (  ) 
oracle.sqlj.runtime.OraRTResultSet@6 . next (  ) 
oracle.sqlj.runtime.OraRTResultSet@6 . getBigDecimal ( 1 ) 
oracle.sqlj.runtime.OraRTResultSet@6 . getDate ( 7 ) 
</pre>
<p>Instead of both a call line and a return line for each method call, there is only a call line.</p>
<p>Command-line syntax is:</p>
<pre>-P-CshowReturns&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-CshowReturns=false
</pre>
<p>Properties file syntax is:</p>
<pre>profile.CshowReturns&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.CshowReturns=false
</pre>
<p>Default value is:</p>
<pre>true
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ884" class="sect3"><a id="sthref1124"></a>
<h4 class="sect3">AuditorInstaller <a id="sthref1125"></a>Thread Names Option (showThreads)</h4>
<p>Use the <code>showThreads</code> option to enable or disable the display of thread names as part of the runtime call tracing (relevant only for multithreaded applications). This is disabled by default.</p>
<p>When this option is enabled, thread names prefix the method names in the trace output.</p>
<p>Command-line syntax is:</p>
<pre>-P-CshowThreads&lt;=true|false&gt;
</pre>
<p>Command-line example is:</p>
<pre>-P-CshowThreads
</pre>
<p>Properties file syntax is:</p>
<pre>profile.CshowThreads&lt;=true|false&gt;
</pre>
<p>Properties file example is:</p>
<pre>profile.CshowThreads
</pre>
<p>Default value is:</p>
<pre>false
</pre></div>
<!-- class="sect3" -->
<div id="JSQLJ885" class="sect3"><a id="sthref1126"></a>
<h4 class="sect3">AuditorInstaller <a id="sthref1127"></a>Uninstall Option (uninstall)</h4>
<p>Use the <code>uninstall</code> option to remove debugging statements placed during previous invocations of <code>AuditorInstaller</code>. Each time you use the <code>uninstall</code> option, it will remove the auditor most recently installed.</p>
<p>To remove all auditors from a profile, run <code>AuditorInstaller</code> repeatedly until you get a message indicating that the profile was unchanged.</p>
<p>Command-line syntax is:</p>
<pre>-P-Cuninstall
</pre>
<p>Command-line example is:</p>
<pre>-P-Cuninstall
</pre>
<p>Properties file syntax is:</p>
<pre>profile.Cuninstall
</pre>
<p>Properties file example is:</p>
<pre>profile.Cuninstall
</pre>
<p>Default value is:</p>
<pre>Disabled
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="JSQLJ886" class="sect2"><a id="sthref1128"></a>
<h3 class="sect2">Full Command-Line <a id="sthref1129"></a><a id="sthref1130"></a>Examples</h3>
<p>Following are some full SQLJ command-line examples showing the specification of <code>AuditorInstaller</code> options.</p>
<p>Insert a set of debugging statements, or auditor, into the deepest layer (which is the default layer), with runtime output to standard output:</p>
<pre>% sqlj -P-debug MyApp_SJProfile*.ser
</pre>
<p>Insert an auditor into the deepest layer, with runtime output to <code>log.txt</code>:</p>
<pre>% sqlj -P-debug -P-Clog=foo/bar/log.txt MyApp_SJProfile*.ser
</pre>
<p>Insert an auditor into the deepest layer, with runtime output to standard output, showing thread names but not return arguments:</p>
<pre>% sqlj -P-debug -P-CshowThreads=true -P-CshowReturns=false MyApp_SJProfile*.ser
</pre>
<p>Insert an auditor into layer 0 (the shallowest layer). Send runtime output to <code>log.txt</code>; prefix each line of runtime output with &#34;<code>Layer 0:</code> &#34; (the following command is a single wraparound line):</p>
<pre>% sqlj -P-debug -P-Clog=foo/bar/log.txt -P-Cdepth=0 -P-Cprefix=&#34;Layer 0: &#34; 
MyApp_SJProfile*.ser
</pre>
<p>Uninstall an auditor (this uninstalls the auditor most recently installed; do it repeatedly to uninstall all auditors):</p>
<pre>% sqlj -P-debug -P-Cuninstall MyApp_SJProfile*.ser
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4010">
<tr>
<td class="cellalignment4017">
<table class="cellalignment4015">
<tr>
<td class="cellalignment4014"><a href="inserver.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4014"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4019">
<table class="cellalignment4013">
<tr>
<td class="cellalignment4014"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4014"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4014"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4014"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4014"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4014"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
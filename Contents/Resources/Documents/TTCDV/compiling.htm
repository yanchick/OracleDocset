<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-107449"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/C%20Development%20Environment"></a><title>C Development Environment</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1033"/>
<meta name="dcterms.created" content="2014-12-10T16:46:46Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="TimesTen In-Memory Database C Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E21637-09"/>
<meta name="dcterms.isVersionOf" content="TTCDV"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="whatsnew.htm" title="Previous" type="text/html"/>
<link rel="Next" href="writing_app.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E21637-09.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">5/15</span> <!-- End Header -->
<div id="TTCDV178" class="chapter"><a id="CHDBHACD"></a>
<h1 class="chapter"><span class="secnum">1</span> C Development Environment</h1>
<p>This chapter provides information about the C development environment and related considerations for developing TimesTen applications. The following topics are covered:</p>
<ul>
<li>
<p><a href="#CEGCFJHJ">Setting the environment for development</a></p>
</li>
<li>
<p><a href="#CHDHFIIG">Linking options</a></p>
</li>
<li>
<p><a href="#CEGCFAIE">Compiling and linking applications</a></p>
</li>
<li>
<p><a href="#CEGCJCJG">About the TimesTen C demos</a></p>
</li>
</ul>
<a id="CEGCFJHJ"></a>
<div id="TTCDV179" class="sect1">
<h2 class="sect1">Set<a id="sthref8"></a>ting the environment for development</h2>
<p>Environment variable settings for TimesTen are discussed in <a class="olink TTINS178" href="../TTINS/install.htm#TTINS178">&#34;Environment variables&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Installation Guide</span>. Refer to that discussion for details.</p>
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>The <code dir="ltr">ttenv</code> scripts also configure access to the Oracle Instant Client, required for OCI programming.</p>
</li>
<li>
<p>You can optionally use the appropriate <code dir="ltr">ttquickstartenv</code> script instead of <code dir="ltr">ttenv</code>. This is a superset of <code dir="ltr">ttenv</code> that also sets up the TimesTen Quick Start demo environment.</p>
</li>
<li>
<p>To ensure proper execution of OCI and Pro*C/C++ programs to be run on TimesTen, do not set <code dir="ltr">ORACLE_HOME</code> (or unset it if it was set previously) for OCI and Pro*C/C++ compilations.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CHDHFIIG"></a>
<div id="TTCDV180" class="sect1">
<h2 class="sect1">Linking options</h2>
<p>A TimesTen application can link specifically with the TimesTen ODBC direct driver or ODBC client driver without a driver manager, or can link with a driver manager.</p>
<div id="TTCDV181" class="sect2"><a id="sthref9"></a>
<h3 class="sect2"><a id="sthref10"></a>Linking without an ODBC driver manager</h3>
<p>Applications to be used solely with TimesTen can link specifically with either the TimesTen ODBC direct driver or the ODBC client driver, without a driver manager. This avoids the performance overhead of a driver manager and is the simplest way to access TimesTen. However, developers of applications linked without a driver manager should be aware of the following issues.</p>
<ul>
<li>
<p>The application can only connect to a DSN that uses the driver with which it is linked. It cannot connect to a database of any other vendor, nor can it connect to a TimesTen DSN of a different TimesTen driver or a different version or type.</p>
</li>
<li>
<p>Windows ODBC tracing is not available.</p>
</li>
<li>
<p>The ODBC cursor library is not available.</p>
</li>
<li>
<p>Applications cannot use ODBC functions that are usually implemented by a driver manager, such as <code dir="ltr">SQLDataSources</code> and <code dir="ltr">SQLDrivers</code>.</p>
</li>
<li>
<p>Applications that use <code dir="ltr">SQLCancel</code> to close a cursor instead of <code dir="ltr">SQLFreeStmt(..., SQL_CLOSE)</code> receive a return code of <code dir="ltr">SQL_SUCCESS_WITH_INFO</code> and a SQL state of <code dir="ltr">01S05</code>. This warning is intended to be used by the driver manager to manage its internal state. Applications should treat this warning as success.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CEGEJCJJ"></a>
<div id="TTCDV182" class="sect2">
<h3 class="sect2">Linking with an ODBC <a id="sthref11"></a><a id="sthref12"></a>driver manager</h3>
<p>Applications that link with the ODBC driver manager can connect to any DSN that references an ODBC driver and can even connect simultaneously to multiple DSNs that use different ODBC drivers. Note, however, that driver managers are not available by default on most non-Windows platforms. In addition, using a driver manager may add significant synchronization overhead to every ODBC function call and has the following limitations:</p>
<ul>
<li>
<p>The TimesTen option <code dir="ltr">TT_PREFETCH_COUNT</code> cannot be used with applications that link with a driver manager. For more information on using <code dir="ltr">TT_PREFETCH_COUNT</code>, see <a href="writing_app.htm#CEGGBDBH">&#34;Prefetching multiple rows of data&#34;</a>.</p>
</li>
<li>
<p>Applications cannot set or reset the TimesTen-specific <a id="sthref13"></a><code dir="ltr">TT_PREFETCH_CLOSE</code> connection option. For more information about using the <code dir="ltr">TT_PREFETCH_CLOSE</code> connection option, see <a class="olink TTOPR449" href="../TTOPR/perform.htm#TTOPR449">&#34;Enable TT_PREFETCH_CLOSE for Serializable transactions&#34;</a> in the <span class="italic">Oracle TimesTen In-Memory Database Operations Guide</span>.</p>
</li>
<li>
<p>Transaction Log API (XLA) calls cannot be used when applications are linked with a driver manager.</p>
</li>
<li>
<p>The ODBC C types <code dir="ltr">SQL_C_BIGINT</code>, <code dir="ltr">SQL_C_TINYINT</code>, and <code dir="ltr">SQL_C_WCHAR</code> are not supported for an application linked with a driver manager when used with TimesTen. You cannot call methods that have any of these types in their signatures.</p>
</li>
<li>
<p>The driver manager does not support LOB locator APIs or LOB data types, which are not part of the ODBC standard. However, you can use the LOB simple data interface or piecewise data interface as documented in <a href="writing_app.htm#BABDBEGH">&#34;Working with LOBs&#34;</a>.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
TimesTen supplies a driver manager for both Windows and UNIX with the Quick Start sample applications. This driver manager is not fully supported. It supports only the TimesTen direct driver and client driver and does not have the functionality or performance limitations described above. Applications that must concurrently use both direct connections and client/server connections to TimesTen can use this driver manager to achieve this with very little impact on performance.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGCFAIE"></a>
<div id="TTCDV487" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Compiling and linking applications</h2>
<p>This section discusses compiling and linking C applications on Windows or UNIX.</p>
<div id="TTCDV183" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref14"></a>
<h3 class="sect2">Compiling and linking applications on Win<a id="sthref15"></a><a id="sthref16"></a><a id="sthref17"></a><a id="sthref18"></a>dows</h3>
<p>To compile TimesTen applications on Windows, you are not required to specify the location of the ODBC include files. These files are included with Microsoft Visual C++. However, to use TimesTen features you must indicate the location of the TimesTen include files in the <code dir="ltr">/I</code> compiler option setting. (See <a href="writing_app.htm#BABHHHCF">&#34;TimesTen include files&#34;</a>.)</p>
<p>The Makefile in <a href="#CHDHAJFA">Example 1-1</a> shows how to build a TimesTen application on Windows systems. This example assumes that <code dir="ltr"><span class="codeinlineitalic">install_dir</span></code><code dir="ltr">\lib</code> has already been added to the LIB environment variable.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
Include TimesTen files before any other include files and link TimesTen libraries before any other libraries.</div>
<div id="TTCDV184" class="example">
<p class="titleinexample"><a id="CHDHAJFA"></a>Example 1-1 Building a TimesTen application in Windows</p>
<pre dir="ltr">CFLAGS = &#34;/I<span class="italic">install_dir</span>\include&#34;
LIBSDM = ODBC32.LIB
LIBS = tten1122.lib ttdv1122.lib
LIBSDEBUG = tten1122d.lib ttdv1122d.lib
LIBSCS = ttclient1122.lib

# Link with the ODBC driver manager
appldm.exe:appl.obj
           $(CC) /Feappldm.exe appl.obj $(LIBSDM)

# Link directly with the TimesTen
# ODBC production driver
appl.exe:appl.obj
         $(CC) /Feappl.exe appl.obj\
         $(LIBS)

# Link directly with the TimesTen
# ODBC debug driver
appldebug.exe:appl.obj
              $(CC) /Feappldebug.exe appl.obj\
              $(LIBSDEBUG)

# Link directly with the TimesTen
# ODBC client driver
applcs.exe:appl.obj
           $(CC) /Feapplcs.exe appl.obj\
           $(LIBSCS)
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" -->
<div id="TTCDV185" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref19"></a>
<h3 class="sect2">Compiling and linking applications on U<a id="sthref20"></a><a id="sthref21"></a><a id="sthref22"></a><a id="sthref23"></a><a id="sthref24"></a>NIX</h3>
<p>On UNIX platforms:</p>
<ul>
<li>
<p>Compile TimesTen applications using the TimesTen header files from the TimesTen installation directory.</p>
</li>
<li>
<p>Link with the TimesTen ODBC direct driver or client driver, each of which is provided as a shared library.</p>
</li>
</ul>
<p>On UNIX, applications using the <code dir="ltr">SQL_C_ULONG</code>, <code dir="ltr">SQL_C_SLONG</code>, <code dir="ltr">SQL_C_USHORT</code> or <code dir="ltr">SQL_C_SSHORT</code> ODBC data types must specify the <code dir="ltr">TT_USE_ALL_TYPES</code> preprocessor option while compiling. This is typically done using the <code dir="ltr">-DTT_USE_ALL_TYPES</code> C compiler option.</p>
<p>To use the TimesTen include files if you are using TimesTen features, add the following to the C compiler command, where <code dir="ltr"><span class="codeinlineitalic">install_dir</span></code> is the TimesTen installation directory path. (See <a href="writing_app.htm#BABHHHCF">&#34;TimesTen include files&#34;</a>.)</p>
<pre dir="ltr">-I<span class="italic">install_dir</span>/include
</pre>
<p>To link with the TimesTen ODBC direct driver, add the following to the link command:</p>
<pre dir="ltr">-L<span class="italic">install_dir</span>/lib -ltten
</pre>
<p>The <code dir="ltr">-L</code> option tells the linker to search the TimesTen <code dir="ltr">lib</code> directory for library files. The <code dir="ltr">-ltten</code> option links in the TimesTen ODBC direct driver.</p>
<p>To link with the TimesTen ODBC client driver, add the following to the link command:</p>
<pre dir="ltr">-L<span class="italic">install_dir</span>/lib -lttclient
</pre>
<p>O<a id="sthref25"></a><a id="sthref26"></a>n Solaris, the default TimesTen ODBC client driver was compiled with Studio 11. The library enables you to link an application compiled with the Sun Studio 11 C/C++ compiler directly with the TimesTen client.</p>
<p>O<a id="sthref27"></a><a id="sthref28"></a>n AIX, when linking applications with the TimesTen ODBC client driver, the C++ runtime library must be included in the link command (because the client driver is written in C++ and AIX does not link it automatically) and must follow the client driver:</p>
<pre dir="ltr">-L<span class="italic">install_dir</span>/lib -lttclient -lC_r
</pre>
<p>You can use Makefiles in subdirectories under the <code dir="ltr">quickstart/sample_code</code> directory, or you can use <a href="#CEGBEIJF">Example 1-2</a> to guide you in creating your own Makefile.</p>
<div class="infobox-note">
<p class="notep1">Important:</p>
Include TimesTen files before any other include files and link TimesTen libraries before any other libraries.</div>
<div id="TTCDV186" class="example">
<p class="titleinexample"><a id="CEGBEIJF"></a>Example 1-2 Makefile to link the application</p>
<pre dir="ltr">CFLAGS = -I<span class="italic">install_dir</span>/include
LIBS = -L<span class="italic">install_dir</span>/lib -ltten
LIBSDEBUG = -L<span class="italic">install_dir</span>/lib -lttenD
LIBSCS = -L<span class="italic">install_dir</span>/lib -lttclient

# Link directly with the TimesTen
# ODBC production driver
appl:appl.o
     $(CC) -o appl appl.o $(LIBS)

# Link directly with the TimesTen ODBC debug driver
appldebug:appl.o
     $(CC) -o appldebug appl.o $(LIBSDEBUG)

# Link directly with the TimesTen client driver
applcs:appl.o
     $(CC) -o applcs appl.o $(LIBSCS)
</pre></div>
<!-- class="example" -->
<div class="infobox-note">
<p class="notep1">Notes:</p>
<ul>
<li>
<p>To directly link your application to the debug TimesTen ODBC driver, substitute <code dir="ltr">-lttenD</code> for <code dir="ltr">-ltten</code> on the link line.</p>
</li>
<li>
<p>On Solaris, when compiling with Sun C/C++ compilers, TimesTen applications must be compiled and linked with the <code dir="ltr">-mt</code> option.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CEGCJCJG"></a>
<div id="TTCDV189" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Abo<a id="sthref29"></a><a id="sthref30"></a>ut the TimesTen C demos</h2>
<p>After you have configured your C environment, you can confirm that everything is set up correctly by compiling and running TimesTen Quick Start demo applications. Refer to the Quick Start welcome page at <code dir="ltr"><span class="codeinlineitalic">install_dir</span></code><code dir="ltr">/quickstart.html</code>, especially the links under SAMPLE PROGRAMS, for information on the following topics.</p>
<ul>
<li>
<p>Demo schema and setup: The <code dir="ltr">build_sampledb</code> script (<code dir="ltr">.sh</code> on UNIX or <code dir="ltr">.bat</code> on Windows) creates a sample database and demo schema. You must use this before you start using the demos.</p>
</li>
<li>
<p>Demo environment and setup: The <code dir="ltr">ttquickstartenv</code> script (<code dir="ltr">.sh</code> or <code dir="ltr">.csh</code> on UNIX or <code dir="ltr">.bat</code> on Windows), a superset of the <code dir="ltr">ttenv</code> script generally used for TimesTen setup, sets up the demo environment. You must use this each time you enter a session where you want to compile or run any of the demos.</p>
</li>
<li>
<p>Demos and setup: TimesTen provides demos for ODBC, XLA, OCI, Pro*C/C++, and ODP.NET in subdirectories under the <code dir="ltr">quickstart/sample_code</code> directory. For instructions on compiling and running the demos, see the README files in the subdirectories.</p>
</li>
<li>
<p>What the demos do: A synopsis of each demo is provided when you click the categories under SAMPLE PROGRAMS.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4359">
<tr>
<td class="cellalignment4368">
<table class="cellalignment4364">
<tr>
<td class="cellalignment4363"><a href="whatsnew.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4363"><a href="writing_app.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4370">
<table class="cellalignment4362">
<tr>
<td class="cellalignment4363"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4363"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4363"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4363"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4363"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4363"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
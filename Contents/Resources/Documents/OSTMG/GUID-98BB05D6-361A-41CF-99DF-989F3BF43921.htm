<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86912"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/acfsutil%20encr%20rekey"></a><title>acfsutil encr rekey</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="acfsutil encr rekey command"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-CEF666C5-2B32-4596-9D08-9DBCE96CDA30.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-4714B6EF-28B7-4318-A209-ADF7A2546586.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-98BB05D6-361A-41CF-99DF-989F3BF43921"></a> <span id="PAGE" style="display:none;">561/612</span> <!-- End Header -->
<a id="OSTMG95181"></a><a id="OSTMG95182"></a><a id="OSTMG95183"></a><a id="OSTMG95184"></a><a id="OSTMG95185"></a><a id="OSTMG95180"></a>
<h1 id="OSTMG-GUID-98BB05D6-361A-41CF-99DF-989F3BF43921" class="sect1">acfsutil encr rekey</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Generates a new key and re-encrypts volume or file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax and Description</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">acfsutil encr rekey -h
acfsutil encr rekey -m <span class="italic">mount_point</span>
     {-f [-r] <span class="italic">path</span> [<span class="italic">path</span>&hellip;] |-v } [-a {AES} -k {128|192 |256}]
</pre>
<p><code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">rekey</code> <code class="codeph">-h</code> displays help text and exits.</p>
<p><a href="GUID-98BB05D6-361A-41CF-99DF-989F3BF43921.htm#GUID-98BB05D6-361A-41CF-99DF-989F3BF43921__BABGECDI" title="This table lists the options for the acfsutil encr rekey command, along with a description for each option">Table 16-82</a> contains the options available with the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">rekey</code> command.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-98BB05D6-361A-41CF-99DF-989F3BF43921__BABGECDI">
<p class="titleintable">Table 16-82 Options for the acfsutil encr rekey command</p>
<table class="cellalignment1697" title="Options for the acfsutil encr rekey command" summary="This table lists the options for the acfsutil encr rekey command, along with a description for each option">
<thead>
<tr class="cellalignment1688">
<th class="cellalignment1698" id="d170564e197">Option</th>
<th class="cellalignment1699" id="d170564e200">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d170564e205" headers="d170564e197">
<p><code class="codeph">-m</code> <span class="italic"><code class="codeph">mount_point</code></span></p>
</td>
<td class="cellalignment1701" headers="d170564e205 d170564e200">
<p>Specifies the directory where the file system is mounted.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d170564e217" headers="d170564e197">
<p><code class="codeph">-f</code> [<code class="codeph">-r</code>] <span class="italic"><code class="codeph">path</code></span> ...</p>
</td>
<td class="cellalignment1701" headers="d170564e217 d170564e200">
<p>Generates a new file encryption key for the specified path and then encrypts the data with the new key.</p>
<p>If -r is specified, the rekey operation is performed recursively under <span class="italic"><code class="codeph">path</code></span>.</p>
<p><span class="italic"><code class="codeph">path</code></span> specifies the absolute or relative path of a directory. Multiple path values are allowed.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d170564e244" headers="d170564e197">
<p><code class="codeph">-v</code></p>
</td>
<td class="cellalignment1701" headers="d170564e244 d170564e200">
<p>Generates a new volume encryption key (VEK) for the specified mount point and then encrypts all the file encryption keys in file system with the new key. Prompts for the wallet password because the wallet must be accessed to store the new VEK.</p>
<p>The generated key is stored in the key store that was previously configured with the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">init</code> command.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d170564e263" headers="d170564e197">
<p><code class="codeph">-a</code> <span class="italic"><code class="codeph">algorithm</code></span></p>
</td>
<td class="cellalignment1701" headers="d170564e263 d170564e200">
<p>Specifies the algorithm. Advanced Encryption Standard (AES) is the only encryption supported for this release.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d170564e275" headers="d170564e197">
<p><code class="codeph">-k</code> <span class="italic"><code class="codeph">key_length</code></span></p>
</td>
<td class="cellalignment1701" headers="d170564e275 d170564e200">
<p>Specifies the key length for the directory or file specified by <span class="italic"><code class="codeph">path</code></span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>This command cannot be run on security realm-protected files.</p>
<p>The default values for the <code class="codeph">-a</code> and <code class="codeph">-k</code> are determined by the volume parameters specified when <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">set</code> was run.</p>
<p>The <span class="italic"><code class="codeph">path</code></span> option can specify a path to a file or directory in a read-write snapshot. If the <code class="codeph">-r</code> option is specified with the command on the root directory, the command does not transverse the snapshots under the <code class="codeph">.ACFS</code> directory. If a rekey operation is specified at the file system level, then the operation does not process files and directories of snapshots in the <code class="codeph">.ACFS/snaps/</code> directory.</p>
<p>If Oracle Key Vault is the key store for the file system, then the Oracle Key Vault home environmental variable (<code class="codeph">OKV_HOME</code>) must be set when using the <code class="codeph">-v</code> option to generate a new volume key. If the client was configured to use a password with Oracle Key Vault, then the same password must be entered when prompted.</p>
<div class="infoboxnotealso" id="GUID-98BB05D6-361A-41CF-99DF-989F3BF43921__GUID-9085E172-9C70-47E5-8874-565343983B80">
<p class="notep1">See Also:</p>
<p><a class="olink OKVAG" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OKVAG"><span class="italic">Oracle Key Vault Administrator&#39;s Guide</span></a> for information about Oracle Key Vault</p>
</div>
<p>Only a user with root or system administrator privileges can run this command with the <code class="codeph">-v</code> option. The file owner can also run this command with the <code class="codeph">-f</code> option to rekey encryption on the directory or file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following are examples of the use of <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">rekey</code>.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-98BB05D6-361A-41CF-99DF-989F3BF43921__GUID-36F3AA72-9ADB-442E-8977-1E14570A87E0">
<p class="titleinexample">Example 16-75 Using the acfsutil encr rekey command</p>
<pre dir="ltr"># /sbin/acfsutil encr rekey -m /acfsmounts/acfs1 -v

# /sbin/acfsutil encr rekey -m /acfsmounts/acfs1 -f
                            -r /acfsmounts/acfs1/myfiles
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-CEF666C5-2B32-4596-9D08-9DBCE96CDA30.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-4714B6EF-28B7-4318-A209-ADF7A2546586.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
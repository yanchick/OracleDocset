<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86808"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Running%20ASMCMD%20in%20Noninteractive%20Mode"></a><title>Running ASMCMD in Noninteractive Mode</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-9F63C7DE-8FDE-4206-9755-FB325938B66E.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A"></a> <span id="PAGE" style="display:none;">276/612</span> <!-- End Header -->
<a id="OSTMG94366"></a><a id="OSTMG94367"></a><a id="OSTMG94368"></a><a id="OSTMG94369"></a><a id="OSTMG94365"></a>
<h1 id="OSTMG-GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A" class="sect1">Running ASMCMD in Noninteractive Mode</h1>
<div>
<p><a id="d72115e134" class="indexterm-anchor"></a>In noninteractive mode, you run a single ASMCMD command by including the command and command options on the command line when invoking ASMCMD. ASMCMD runs the command, generates output if any, and then exits. The noninteractive mode is especially useful for running scripts.</p>
<p><a id="d72115e140" class="indexterm-anchor"></a><a id="d72115e144" class="indexterm-anchor"></a>On most operating systems, wildcard characters must be enclosed in quotes when running ASMCMD commands in noninteractive mode.</p>
<p>To run ASMCMD in noninteractive mode where <span class="italic"><code class="codeph">command</code></span> is any valid ASMCMD command and <span class="italic"><code class="codeph">options</code></span> is a list of command options, at the command prompt enter the following:</p>
<p><code class="codeph">asmcmd</code> <span class="italic"><code class="codeph">command</code></span> <span class="italic"><code class="codeph">options</code></span></p>
<p>In noninteractive mode, ASMCMD returns the codes listed in <a href="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A.htm#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBGJDC" title="ASMCMD return codes">Table 10-3</a>.</p>
<div class="tblformal" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBGJDC">
<p class="titleintable">Table 10-3 ASMCMD return codes</p>
<table class="cellalignment1697" title="ASMCMD return codes" summary="ASMCMD return codes">
<thead>
<tr class="cellalignment1688">
<th class="cellalignment1742" id="d72115e188">Type</th>
<th class="cellalignment1742" id="d72115e191">Return Code</th>
<th class="cellalignment1767" id="d72115e194">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1688">
<td class="cellalignment1746" id="d72115e199" headers="d72115e188">
<p>General</p>
</td>
<td class="cellalignment1746" headers="d72115e199 d72115e191">
<p>0</p>
</td>
<td class="cellalignment1768" headers="d72115e199 d72115e194">
<p>No issues for the command.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1746" id="d72115e209" headers="d72115e188">
<p>General</p>
</td>
<td class="cellalignment1746" headers="d72115e209 d72115e191">
<p>1</p>
</td>
<td class="cellalignment1768" headers="d72115e209 d72115e194">
<p>Internal error.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1746" id="d72115e219" headers="d72115e188">
<p>General</p>
</td>
<td class="cellalignment1746" headers="d72115e219 d72115e191">
<p>255 or -1</p>
</td>
<td class="cellalignment1768" headers="d72115e219 d72115e194">
<p>External user error as returned by a command.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1746" id="d72115e229" headers="d72115e188">
<p><code class="codeph">lsdsk</code></p>
</td>
<td class="cellalignment1746" headers="d72115e229 d72115e191">
<p>0</p>
</td>
<td class="cellalignment1768" headers="d72115e229 d72115e194">
<p>Results include member disks only.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1746" id="d72115e240" headers="d72115e188">
<p><code class="codeph">lsdsk</code></p>
</td>
<td class="cellalignment1746" headers="d72115e240 d72115e191">
<p>1</p>
</td>
<td class="cellalignment1768" headers="d72115e240 d72115e194">
<p>Results include candidate disks only.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1746" id="d72115e251" headers="d72115e188">
<p><code class="codeph">lsdsk</code></p>
</td>
<td class="cellalignment1746" headers="d72115e251 d72115e191">
<p>2</p>
</td>
<td class="cellalignment1768" headers="d72115e251 d72115e194">
<p>Results include both member and candidate disks.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a href="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A.htm#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__CIHICGCD">Example 10-2</a> shows how to run ASMCMD in the noninteractive mode. The first command runs the <code class="codeph">ls</code> command to list the disk groups for the Oracle ASM instance. The second command redirects the output of the <code class="codeph">lsod</code> command to the <code class="codeph">my_lsod_test</code> file. The third command runs <code class="codeph">lsdsk</code> using a pattern with a wildcard character to list specific disks in the <code class="codeph">data</code> disk group. Note that wildcard characters must be enclosed in quotes when running ASMCMD in noninteractive mode on most operating systems.</p>
<p><a href="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A.htm#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJECDDBC">Example 10-3</a> raises an error with an incorrect disk group name and the return code equal (255) is displayed.</p>
<p><a href="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A.htm#GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBCGBI">Example 10-4</a> shows an example of ASMCMD commands run in noninteractive mode inside a script.</p>
<div class="example" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__CIHICGCD">
<p class="titleinexample">Example 10-2 Running ASMCMD commands in noninteractive mode</p>
<pre dir="ltr">$ asmcmd ls -l
State    Type    Rebal  Name
MOUNTED  NORMAL  N      DATA/
MOUNTED  NORMAL  N      FRA/

$ asmcmd lsod --suppressheader -G data &gt; my_lsod_test

$ asmcmd lsdsk -G data &#39;/devices/diska*&#39;
Path
/devices/diska1
/devices/diska2
/devices/diska3
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJECDDBC">
<p class="titleinexample">Example 10-3 Displaying a return code when running ASMCMD in noninteractive mode</p>
<pre dir="ltr">$ asmcmd ls -l dat
ASMCMD-08001: diskgroup &#39;dat&#39; does not exist or is not mounted

$ echo $?
255
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-6C6CA705-01A8-461E-B23E-E3CE3AA40E0A__BJEBCGBI">
<p class="titleinexample">Example 10-4 Running ASMCMD commands in a script</p>
<pre dir="ltr">#!/bin/sh
for ((i = 1; i &lt;=3; i++))
 do
   asmcmd lsdsk -G data &#39;/devices/diska&#39;$i
done

$ ./asmcmd_test_script
Path
/devices/diska1
Path
/devices/diska2
Path
/devices/diska3
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-9F63C7DE-8FDE-4206-9755-FB325938B66E.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-DCDB8254-DEE1-46D7-B185-2270F4E7D432.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
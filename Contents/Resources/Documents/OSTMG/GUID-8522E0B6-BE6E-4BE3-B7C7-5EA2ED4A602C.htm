<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86874"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20ACFS%20Replication"></a><title>Oracle ACFS Replication</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C"></a> <span id="PAGE" style="display:none;">400/612</span> <!-- End Header -->
<a id="OSTMG34600"></a>
<h1 id="OSTMG-GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" class="sect1">Oracle ACFS Replication</h1>
<div>
<p><a id="d110950e130" class="indexterm-anchor"></a><a id="d110950e134" class="indexterm-anchor"></a>Oracle ACFS replication enables replication of Oracle ACFS file systems across the network to a remote site, providing disaster recovery capability for the file system.</p>
<div class="infobox-note" id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C__GUID-CFF2BDEC-3787-4E66-B237-3D91A2D436F9">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle ACFS replication functionality supports only one standby file system for each primary file system.</p>
</li>
<li>
<p>Oracle ACFS replication supports eight or fewer nodes mounting the primary file system.</p>
</li>
<li>
<p>The sites hosting the primary and standby file systems must be running the same operating system and must have the same system architecture.</p>
</li>
<li>
<p>The primary and standby sites should be running the same version of the Oracle Grid Infrastructure software. When upgrading the sites, update the standby site first.</p>
</li>
<li>
<p>The primary file system requires internal metadata files that are not visible to user-level commands, such as <code class="codeph">du</code> or <code class="codeph">ls</code>. The amount of internal storage for the primary file system is approximately 1 GB for each node. This extra internal storage accounts for the difference in storage usage between primary and standby file systems containing the same user files.</p>
</li>
<li>
<p>Oracle wallets should be used to manage security credentials when configuring the primary and standby file systems.</p>
</li>
<li>
<p>Using replication with database files on Oracle ACFS is not supported.</p>
</li>
<li>
<p>Oracle ACFS replication is not supported with Oracle Restart.</p>
</li>
</ul>
</div>
<p>The source Oracle ACFS file system of an Oracle ACFS replication is referred to as a primary file system. The target Oracle ACFS file system of an Oracle ACFS replication is referred to as a standby file system.</p>
<p>A site can host both primary and standby file systems. For example, if there are cluster sites <code class="codeph">A</code> and <code class="codeph">B</code>, a primary file system hosted at site <code class="codeph">A</code> can be replicated to a standby file system at site <code class="codeph">B</code>. Also, a primary file system hosted at site <code class="codeph">B</code> can be replicated to a standby file system at site <code class="codeph">A</code>. However, an Oracle ACFS file system cannot be used as a primary and a standby file system.</p>
<p>Oracle ACFS replication captures file system changes written to disk for a primary file system and records the changes in files called replication logs. These logs are transported to the site hosting the associated standby file system where background processes read the logs and apply the changes recorded in the logs to the standby file system. After the changes recorded in a replication log have been successfully applied to the standby file system, the replication log is deleted from the sites hosting the primary and standby file systems.</p>
<p>It is critical that there is enough disk space available on both sites hosting the primary and the standby file systems to contain the replication logs. If the primary file system runs out of space, applications running on the file system may fail because Oracle ACFS cannot create a new replication log to capture the file system changes made by the application. If the standby file system runs out of space, it cannot accept new replication logs from the primary file system and cannot apply those changes to the standby file system. In addition, replication logs accumulate on the primary file system and consume the available disk space.</p>
<p>If the primary file system has less than 2 GB available free disk space, Oracle ACFS attempts to automatically terminate replication on the primary file system. This action prevents further consumption of disk space for replication operations and frees disk space consumed by any replication logs that remain. The auto-terminate process can prevent the primary file system from running out of space in most cases, but it is still possible that the auto-terminate process does not occur quickly enough. Before reaching the 2 GB limit, Oracle ACFS writes warnings about the free space problem in the Oracle Grid Infrastructure home alert log.</p>
<p>You should prevent both the primary file system and the standby file system from running out of space. If either file system runs out of available storage, you should either expand the file system or remove files from the file system to free up space. If the primary file system runs out of space and you decide to free up space by removing files, you should only remove files that are not being replicated because the removal of a file that is replicated is captured in a replication log. Another option is to delete any Oracle ACFS snapshots. For information about resizing an Oracle ACFS file system, refer to <span class="q">&#34;<a href="GUID-79A8333D-4E1C-4788-944D-EC86E4278C00.htm">acfsutil size</a>&#34;</span>.</p>
<p>Because replication logs can accumulate when replication is paused, you should resume replication soon after pausing replication. For information on pausing and resuming replication, refer to <span class="q">&#34;<a href="GUID-77EB3E00-98F7-4AA8-94B4-1D3985634DF4.htm">acfsutil repl pause</a>&#34;</span> and <span class="q">&#34;<a href="GUID-BBD27CCA-4206-4418-B0CB-ACC5BD2475CE.htm">acfsutil repl resume</a>&#34;</span>.</p>
<p>Before using replication on a file system, ensure that you have checked the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>There is sufficient network bandwidth to support replication between the primary and standby file systems.</p>
</li>
<li>
<p>The configuration of the sites hosting the primary and standby file systems allow the standby file system to keep up with the rate of change on the primary file system.</p>
</li>
<li>
<p>The standby file system has sufficient capacity to manage the replication logs that are sent.</p>
</li>
<li>
<p>There is sufficient storage capacity to hold excess replication logs that might collect on the primary and the standby file systems when the standby file system cannot process replication logs quickly. For example, this situation can occur during network problems or maintenance on the site hosting the standby file system.</p>
</li>
<li>
<p>The primary file system must have a minimum size of 4 GB for each node that is mounting the file system. The standby file system must have a minimum size of 4 GB and should be sized appropriately for the amount of data being replicated and the space necessary for the replication logs sent from the primary file system.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C__GUID-DFBDBB6C-F4D5-4EFB-82E6-548117E26C88">
<p class="notep1">See Also:</p>
<p>For information about tuning the network, refer to the documentation at the MAA link on Oracle Technology Network:</p>
<p><a href="http://www.oracle.com/technetwork/database/features/availability/maa-096107.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/features/availability/maa-096107.html</code></a></p>
<p>Relevant information on tuning the network can be found in the <span class="italic">Data Guard Redo Transport &amp; Network Configuration</span> paper.</p>
</div>
<p>Directories and files in an Oracle ACFS file system can be tagged to select the objects that you want to replicate in a file system. For information on tagging, see <span class="q">&#34;<a href="GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2.htm">Oracle ACFS Tagging</a>&#34;</span>.</p>
<p>Before replicating an Oracle ACFS file system, a replication configuration must be established that identifies information such as the site hosting the primary file system, the site hosting the standby file system, the file system to be replicated, mount point of the file system, and a list of tags if desired.</p>
<p>The primary and standby sites must share the same user and group configurations, including all <code class="codeph">uids</code> and <code class="codeph">gids</code> in use in the file system. Because the replication daemons run with the credentials of <code class="codeph">oinstall</code> and the Oracle ASM administration group, the permissions on the mount points must be configured so that the daemons are able to read and traverse the directory mount point in order to access and create files under the <code class="codeph">.ACFS/repl</code> directory, which is the internal working location for replication logs and associated files.</p>
<p>To use Oracle ACFS replication functionality on Linux, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.2</code> or higher for the disk groups that contain the primary and standby file systems. To use Oracle ACFS replication functionality on Windows, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher. To use Oracle ACFS replication functionality on Solaris or AIX, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">12.1</code> or higher. For information about disk group compatibility, refer to <span class="q">&#34;<a href="GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34.htm">Disk Group Compatibility</a>&#34;</span>.</p>
<p>To use Oracle ACFS replication on Solaris Sparc hardware, the system must be running Solaris 10 update 8 or later.</p>
<p>To configure replication and manage replicated Oracle ACFS file systems, use the <code class="codeph">acfsutil</code> <code class="codeph">repl</code> command-line functions described in <span class="q">&#34;<a href="GUID-13F8260D-7549-475E-A701-A12386FE7048.htm">Replicating Oracle ACFS File Systems</a>&#34;</span> and <span class="q">&#34;<a href="GUID-F40FA4A4-2ED0-461F-A1E0-5F886DA7FC0A.htm">Oracle ACFS Command-Line Tools for Replication</a>&#34;</span>.</p>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-0E973722-DF57-4EBD-BAD2-DF3531BB5D75.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
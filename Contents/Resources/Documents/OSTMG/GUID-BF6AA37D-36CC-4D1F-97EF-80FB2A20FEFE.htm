<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86994"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Storing%20Oracle%20Cluster%20Registry%20and%20Voting%20Files%20in%20Oracle%20ASM%20Disk%20Groups"></a><title>Storing Oracle Cluster Registry and Voting Files in Oracle ASM Disk Groups</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-8B656725-D347-4166-8775-1070B6C4D580.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-6BB31112-8687-4C1E-AF14-D94FFCDA736F.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE"></a> <span id="PAGE" style="display:none;">112/612</span> <!-- End Header -->
<a id="OSTMG94111"></a><a id="OSTMG10204"></a>
<h1 id="OSTMG-GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE" class="sect1">Storing Oracle Cluster Registry and Voting Files in Oracle ASM Disk Groups</h1>
<div>
<p><a id="d28595e131" class="indexterm-anchor"></a><a id="d28595e135" class="indexterm-anchor"></a><a id="d28595e139" class="indexterm-anchor"></a><a id="d28595e143" class="indexterm-anchor"></a><a id="d28595e145" class="indexterm-anchor"></a>You can store Oracle Cluster Registry (OCR) and voting files in Oracle ASM disk groups. You can also store a backup of the OCR file in a disk group. Voting files and OCR are two important components of Oracle Clusterware. Voting files manage information about node membership. OCR manages cluster and Oracle Real Application Clusters (Oracle RAC) database configuration information.</p>
<p><a id="d28595e151" class="indexterm-anchor"></a><a id="d28595e155" class="indexterm-anchor"></a>A quorum failure group is a special type of failure group that does not contain user data.&nbsp;Quorum failure groups are used for storing Oracle ASM metadata. A quorum failure group may also contain voting files if those files are stored in a disk group that contains a quorum failure group. Additionally, Oracle ASM uses a quorum failure group to help determine if the disk group can be mounted in the event of the loss of one or more failure groups.</p>
<p>Because disks in quorum failure groups do not contain user data, a quorum failure group is not considered when determining redundancy requirements in respect to storing user data. For information about failure groups, see <span class="q">&#34;<a href="GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73.htm">Oracle ASM Failure Groups</a>&#34;</span>.</p>
<p>You can manage and monitor OCR and voting files with CRSCTL and <code class="codeph">ocrconfig</code> command-line tools, <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL statements, and <code class="codeph">V$ASM</code> views.</p>
<p>The CRSCTL and <code class="codeph">ocrconfig</code> commands enable the placement of OCR storage and Cluster Synchronization Services (CSS) voting files inside the disk groups managed by Oracle ASM.</p>
<p>The <code class="codeph">QUORUM</code> and <code class="codeph">REGULAR</code> keywords in <code class="codeph">CREATE</code> and <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> SQL statements enable the specification of an additional qualifier for failure groups or disks when creating or altering a disk group. Note that <code class="codeph">QUORUM</code> disks (or disks in <code class="codeph">QUORUM</code> failure groups) cannot contain user data, while <code class="codeph">REGULAR</code> disks (or disks in non-quorum failure groups) do not have this restriction.</p>
<p>You can use these keywords before the keyword <code class="codeph">FAILGROUP</code> if a failure group is being explicitly specified. If the failure group is implicitly implied, you can use these keywords (<code class="codeph">QUORUM</code>/<code class="codeph">REGULAR</code>) before the keyword <code class="codeph">DISK</code>. When failure groups are explicitly specified, it is an error to specify these keywords (<code class="codeph">QUORUM</code>/<code class="codeph">REGULAR</code>) immediately before the keyword <code class="codeph">DISK</code>. <code class="codeph">REGULAR</code> is the default failure group type.</p>
<p>When performing operations on existing disks or failure groups, the qualifier specified in the SQL must match the qualifier that was specified when the disks or failure groups were added to the disk group.</p>
<p><a href="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE.htm#GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__CHDBIHEH">Example 4-4</a> shows the creation of a disk group with a <code class="codeph">QUORUM</code> failure group. For Oracle Clusterware files a minimum of three disk devices or three failure groups is required with a normal redundancy disk group. A <code class="codeph">QUORUM</code> failure group is not considered when determining redundancy requirements in respect to storing user data. The <code class="codeph">COMPATIBLE.ASM</code> disk group compatibility attribute must be set to <code class="codeph">11.2</code> or greater to store OCR or voting files in a disk group.</p>
<p>The <code class="codeph">FAILGROUP_TYPE</code> column in the <code class="codeph">V$ASM_DISK</code> or <code class="codeph">V$ASM_DISK_STAT</code> views specifies the failure group type. The value for this column is <code class="codeph">REGULAR</code> for regular failure groups and <code class="codeph">QUORUM</code> for quorum failure groups.</p>
<p>The <code class="codeph">VOTING_FILE</code> column in the <code class="codeph">V$ASM_DISK</code> or <code class="codeph">V$ASM_DISK_STAT</code> views specifies whether a disk contains a voting file. The value for this column is either <code class="codeph">Y</code> if the disk contains a voting file or <code class="codeph">N</code> if not.</p>
<p>The value of <code class="codeph">USABLE_FILE_MB</code> in <code class="codeph">V$ASM_DISKGROUP</code> or <code class="codeph">V$ASM_DISKGROUP_STAT</code> does not consider any free space that is present in <code class="codeph">QUORUM</code> disks because that space is not available for client data files.</p>
<p>For information about <code class="codeph">V$ASM</code> views, refer to <span class="q">&#34;<a href="GUID-7CAB3FBA-5B76-4F30-A13F-C4C16BD59147.htm">Views Containing Oracle ASM Disk Group Information</a>&#34;</span>.</p>
<div class="infoboxnotealso" id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__GUID-CB554BA5-D3C5-41DD-9BC3-BF5B96E4E4F5">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CWGEN" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about configuring voting files and Oracle Cluster Registry (OCR)</p>
</li>
<li>
<p><a class="olink CWADD92368" target="_blank" href="../CWADD/GUID-70E524E1-0FAD-4962-9B9F-0691EAEE7A9F.htm#CWADD92368"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about managing Oracle Cluster Registry and voting files</p>
</li>
<li>
<p><a class="olink SQLRF01114" target="_blank" href="../SQLRF/statements_5009.htm#SQLRF01114"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <a class="olink SQLRF01114" target="_blank" href="../SQLRF/statements_5009.htm#SQLRF01114"><code class="codeph">CREATE DISKGROUP</code></a> and <a class="olink SQLRF01113" target="_blank" href="../SQLRF/statements_1009.htm#SQLRF01113"><code class="codeph">ALTER DISKGROUP</code></a> SQL statements</p>
</li>
<li>
<p><a class="olink REFRN003" target="_blank" href="../REFRN/GUID-8C5690B0-DE10-4460-86DF-80111869CF4C.htm#REFRN003"><span class="italic">Oracle Database Reference</span></a> for details about the <code class="codeph">V$ASM</code>* dynamic performance views</p>
</li>
</ul>
</div>
<div class="example" id="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE__CHDBIHEH">
<p class="titleinexample">Example 4-4 Using the QUORUM keyword when creating a failure group</p>
<pre dir="ltr">CREATE DISKGROUP ocr_data NORMAL REDUNDANCY
   FAILGROUP fg1 DISK &#39;/devices/diskg1&#39;
   FAILGROUP fg2 DISK &#39;/devices/diskg2&#39;
   QUORUM FAILGROUP fg3 DISK &#39;/devices/diskg3&#39;
   ATTRIBUTE &#39;compatible.asm&#39; = &#39;12.1.0.0.0&#39;;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-8B656725-D347-4166-8775-1070B6C4D580.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-6BB31112-8687-4C1E-AF14-D94FFCDA736F.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
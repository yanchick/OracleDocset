<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86560"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Encrypting%20Oracle%20ACFS%20File%20Systems"></a><title>Encrypting Oracle ACFS File Systems</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-30627065-670B-4477-B504-B41D50D476DF.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-1C351316-3D71-4520-A412-95AE85F56453.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-01EA8FA1-C136-4968-86D4-9F54B39F903C"></a> <span id="PAGE" style="display:none;">475/612</span> <!-- End Header -->
<a id="OSTMG94791"></a>
<h1 id="OSTMG-GUID-01EA8FA1-C136-4968-86D4-9F54B39F903C" class="sect1">Encrypting Oracle ACFS File Systems</h1>
<div>
<p><a id="d129729e130" class="indexterm-anchor"></a><a id="d129729e134" class="indexterm-anchor"></a>This section discusses the basic operations to manage encryption on an Oracle ACFS file system on Linux. The examples in this section show a scenario in which the medical history files are encrypted in an Oracle ACFS file system.</p>
<p>The steps in this section assume Oracle ACFS security is not configured for the file system; however, you can use both Oracle ACFS security and encryption on the same file system. If you decide to use both security and encryption, then both encryption and security must be initialized for the cluster containing the file system. After security is initialized on the file system, then an Oracle ACFS security administrator runs <code class="codeph">acfsutil</code> <code class="codeph">sec</code> commands to provide encryption for the file system. For information about setting up security with encryption, refer to <span class="q">&#34;<a href="GUID-30627065-670B-4477-B504-B41D50D476DF.htm">Securing Oracle ACFS File Systems</a>&#34;</span>.</p>
<p>Because the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">set</code> and <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">rekey</code> <code class="codeph">-v</code> commands modify the encryption key store, you should back up the Oracle Cluster Registry (OCR) after running these commands to ensure there is an OCR backup that contains all of the volume encryption keys (VEKs) for the file system.</p>
<p>The disk group on which the volume is created for the file system has compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> set to <code class="codeph">11.2.0.3</code> or higher. For information about disk group compatibility, refer to <span class="q">&#34;<a href="GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34.htm">Disk Group Compatibility</a>&#34;</span>.</p>
<p>For the examples in this section, various operating system users, operating system groups, and directories must exist.</p>
<p>The basic steps to manage encryption are:</p>
<ol>
<li>
<p>Initialize encryption.</p>
<p><a id="d129729e201" class="indexterm-anchor"></a><a id="d129729e205" class="indexterm-anchor"></a>Run the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">init</code> command to initialize encryption and create the storage necessary for the encryption keys. This command must be run one time for each cluster on which encryption is set up.</p>
<p>For example, the following command initializes encryption for a cluster.</p>
<pre dir="ltr"># /sbin/acfsutil encr init
</pre>
<p>This command must be run before any other encryption command and requires root or administrator privileges to run.</p>
<p>For more information, refer to <span class="q">&#34;<a href="GUID-0E8E9F8F-0B69-4502-8236-62110A86E95C.htm">acfsutil encr init</a>&#34;</span>.</p>
</li>
<li>
<p>Set encryption parameters.</p>
<p><a id="d129729e236" class="indexterm-anchor"></a><a id="d129729e240" class="indexterm-anchor"></a>Run the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">set</code> command to set the encryption parameters for the entire Oracle ACFS file system.</p>
<p>For example, the following command sets the <code class="codeph">AES</code> encryption algorithm and a file key length of <code class="codeph">128</code> for a file system mounted on the <code class="codeph">/acfsmounts/acfs1</code> directory.</p>
<pre dir="ltr"># /sbin/acfsutil encr set -a AES -k 128 -m /acfsmounts/acfs1/
</pre>
<p>The <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">set</code> command also transparently generates a volume encryption key which is stored in the key store that was previously configured with the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">init</code> command.</p>
<p>This command requires root or administrator privileges to run.</p>
<p>For more information, refer to <span class="q">&#34;<a href="GUID-4714B6EF-28B7-4318-A209-ADF7A2546586.htm">acfsutil encr set</a>&#34;</span>.</p>
</li>
<li>
<p>Enable encryption.</p>
<p><a id="d129729e301" class="indexterm-anchor"></a><a id="d129729e305" class="indexterm-anchor"></a>Run the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">on</code> command to enable encryption for directories and files.</p>
<p>For example, the following command enables encryption recursively on all files in the <code class="codeph">/acfsmounts/acfs1/medicalrecords</code> directory.</p>
<pre dir="ltr"># /sbin/acfsutil encr on -r /acfsmounts/acfs1/medicalrecords
                         -m /acfsmounts/acfs1/
</pre>
<p>For users that have appropriate permissions to access files in the <code class="codeph">/acfsmounts/acfs1/medicalrecords</code> directory, they can still read the decrypted files.</p>
<p>This command can be run by an administrator or the file owner.</p>
<p>For more information, refer to <span class="q">&#34;<a href="GUID-CEF666C5-2B32-4596-9D08-9DBCE96CDA30.htm">acfsutil encr on</a>&#34;</span>.</p>
</li>
<li>
<p>Display encryption information.</p>
<p><a id="d129729e344" class="indexterm-anchor"></a><a id="d129729e348" class="indexterm-anchor"></a>Run the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">info</code> command to display encryption information for directories and files.</p>
<pre dir="ltr"># /sbin/acfsutil encr info -m /acfsmounts/acfs1/ 
                           -r /acfsmounts/acfs1/medicalrecords
</pre>
<p>This command can be run by an administrator or the file owner.</p>
<p>For more information, refer to <span class="q">&#34;<a href="GUID-FFFD4D00-7657-4D57-834A-B78F7656E2A9.htm">acfsutil encr info</a>&#34;</span>.</p>
</li>
</ol>
<p>Auditing and diagnostic data for Oracle ACFS encryption is saved to log files. For more information about Oracle ACFS encryption, including the log files, refer to <span class="q">&#34;<a href="GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2.htm">Oracle ACFS Encryption</a>&#34;</span>.</p>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-30627065-670B-4477-B504-B41D50D476DF.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-1C351316-3D71-4520-A412-95AE85F56453.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
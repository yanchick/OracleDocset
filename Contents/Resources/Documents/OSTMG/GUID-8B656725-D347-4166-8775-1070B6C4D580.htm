<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86893"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Specifying%20the%20Sector%20Size%20for%20Drives"></a><title>Specifying the Sector Size for Drives</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-8B656725-D347-4166-8775-1070B6C4D580"></a> <span id="PAGE" style="display:none;">111/612</span> <!-- End Header -->
<a id="OSTMG94110"></a><a id="OSTMG10203"></a>
<h1 id="OSTMG-GUID-8B656725-D347-4166-8775-1070B6C4D580" class="sect1">Specifying the Sector Size for Drives</h1>
<div>
<p><a id="d28293e131" class="indexterm-anchor"></a><a id="d28293e135" class="indexterm-anchor"></a>You can use the optional <code class="codeph">SECTOR_SIZE</code> disk group attribute with the <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL statement to specify disks with the sector size set to the value of <code class="codeph">SECTOR_SIZE</code> for the disk group. Oracle ASM provides support for 4 KB sector disk drives without negatively affecting performance. The <code class="codeph">SECTOR_SIZE</code> disk group attribute can be set only during disk group creation.</p>
<p>The values for <code class="codeph">SECTOR_SIZE</code> can be set to 512, 4096, or 4K if the disks support those values. The default value is platform dependent. The <code class="codeph">COMPATIBLE.ASM</code> and <code class="codeph">COMPATIBLE.RDBMS</code> disk group attributes must be set to <code class="codeph">11.2</code> or higher to set the sector size to a value other than the default value.</p>
<div class="infobox-note" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__GUID-E5848AF0-5FE6-4AF6-AB98-6CE7B2F3D7B2">
<p class="notep1">Note:</p>
<p>Oracle Automatic Storage Management Cluster File System (Oracle ACFS) does not support 4 KB sector drives. There is a performance penalty for Oracle ACFS when using 4 KB sector disk drives in 512 sector emulation mode.</p>
</div>
<p><a id="d28293e174" class="indexterm-anchor"></a><a id="d28293e178" class="indexterm-anchor"></a>The following validations apply to the sector size disk group attribute.</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle ASM prevents disks of different sector sizes from being added to the same disk group. This validation occurs during <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code>, <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">ADD</code> <code class="codeph">DISK</code>, and <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">MOUNT</code> operations.</p>
</li>
<li>
<p>If the <code class="codeph">SECTOR_SIZE</code> attribute is explicitly specified when creating a disk group, then Oracle ASM attempts to verify that all disks discovered through disk search strings have a sector size equal to the specified value. If one or more disks were found to have a sector size different from the specified value, or if Oracle ASM was not able to verify a disk sector size, then the create operation fails.</p>
<p>Oracle ASM also attempts to verify disk sector size during the mount operation and the operation fails if one or more disks have a sector size different than the value of the <code class="codeph">SECTOR_SIZE</code> attribute.</p>
</li>
<li>
<p>If the <code class="codeph">SECTOR_SIZE</code> attribute is not specified when creating a disk group and Oracle ASM can verify that all discovered disks have the same sector value, then that value is assumed for the disk group sector size that is created. If the disks have different sector sizes, the create operation fails.</p>
</li>
<li>
<p>When new disks are added to an existing disk group using the <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> .. <code class="codeph">ADD</code> <code class="codeph">DISK</code> SQL statement, you must ensure that the new disks to be added have the same value as the <code class="codeph">SECTOR_SIZE</code> disk group attribute. If the new disks have different sector sizes, the alter operation fails.</p>
</li>
<li>
<p>You can determine the sector size value that has either been assumed or explicitly set for a successful disk group creation by querying the <code class="codeph">V$ASM_ATTRIBUTE</code> view or run the ASMCMD <code class="codeph">lsattr</code> command. You can also query the <code class="codeph">SECTOR_SIZE</code> column in the <code class="codeph">V$ASM_DISKGROUP</code> view.</p>
<pre dir="ltr">SQL&gt; SELECT name, value FROM V$ASM_ATTRIBUTE 
     WHERE name = &#39;sector_size&#39; AND group_number = 1;
NAME                        VALUE
--------------------------- -----------------------
sector_size                 512

SQL&gt; SELECT group_number, sector_size FROM V$ASM_DISKGROUP 
     WHERE group_number = 1;

GROUP_NUMBER SECTOR_SIZE
------------ -----------
           1         512
</pre></li>
<li>
<p>Not all disks support all of the possible <code class="codeph">SECTOR_SIZE</code> values. The sector size attribute setting must be compatible with the physical hardware.</p>
</li>
</ul>
<p>As shown in <a href="GUID-8B656725-D347-4166-8775-1070B6C4D580.htm#GUID-8B656725-D347-4166-8775-1070B6C4D580__CHDFFDAD">Example 4-3</a>, you can use the <code class="codeph">SECTOR_SIZE</code> attribute with the <code class="codeph">CREATE</code> <code class="codeph">DISKGROUP</code> SQL statement to specify the sector size of the disk drive on which the Oracle ASM disk group is located.</p>
<div class="infoboxnotealso" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__GUID-31072D5E-9F14-4FC7-8CF3-4491933AC387">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SQLRF01114" target="_blank" href="../SQLRF/statements_5009.htm#SQLRF01114"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the disk group attributes and the <a class="olink SQLRF01114" target="_blank" href="../SQLRF/statements_5009.htm#SQLRF01114"><code class="codeph">CREATE DISKGROUP</code></a> SQL statement</p>
</li>
<li>
<p><a class="olink SQLRF01602" target="_blank" href="../SQLRF/clauses004.htm#SQLRF01602"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">BLOCKSIZE</code> keyword</p>
</li>
<li>
<p><a class="olink REFRN003" target="_blank" href="../REFRN/GUID-8C5690B0-DE10-4460-86DF-80111869CF4C.htm#REFRN003"><span class="italic">Oracle Database Reference</span></a> for details about the <code class="codeph">V$ASM_ATTRIBUTE</code> and <code class="codeph">V$ASM_DISKGROUP</code> views</p>
</li>
</ul>
</div>
<div class="example" id="GUID-8B656725-D347-4166-8775-1070B6C4D580__CHDFFDAD">
<p class="titleinexample">Example 4-3 Creating a disk group of 4K sector size</p>
<pre dir="ltr">CREATE DISKGROUP data NORMAL REDUNDANCY
FAILGROUP controller1 DISK
&#39;/devices/diska1&#39;,
&#39;/devices/diska2&#39;,
&#39;/devices/diska3&#39;,
&#39;/devices/diska4&#39;
FAILGROUP controller2 DISK
&#39;/devices/diskb1&#39;,
&#39;/devices/diskb2&#39;,
&#39;/devices/diskb3&#39;,
&#39;/devices/diskb4&#39;
ATTRIBUTE &#39;compatible.asm&#39; = &#39;11.2&#39;, &#39;compatible.rdbms&#39; = &#39;11.2&#39;,
          &#39;sector_size&#39;=&#39;4096&#39;;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-CACF13FD-1CEF-4A2B-BF17-DB4CF0E1800C.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-BF6AA37D-36CC-4D1F-97EF-80FB2A20FEFE.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86760"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20ACFS%20Encryption"></a><title>Oracle ACFS Encryption</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-41F44E7A-7547-4D04-A8E7-072C3A697867.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2"></a> <span id="PAGE" style="display:none;">393/612</span> <!-- End Header -->
<a id="OSTMG34510"></a>
<h1 id="OSTMG-GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" class="sect1">Oracle ACFS Encryption</h1>
<div>
<p><a id="d109114e130" class="indexterm-anchor"></a><a id="d109114e134" class="indexterm-anchor"></a>Oracle ACFS encryption enables you to encrypt data stored on disk (data-at-rest). The encryption feature protects data in an Oracle ACFS file system in encrypted format to prevent unauthorized use of data in the case of data loss or theft. Both encrypted and non-encrypted files can exist in the same Oracle ACFS file system.</p>
<p>Some encryption functionality requires system administrator privileges. This functionality incudes the commands for initiating, setting, and reconfiguring encryption.</p>
<p>System administrators and Oracle ACFS security administrators can initiate encryption operations. Also, unprivileged users can initiate encryption for files they own.</p>
<p><a id="d109114e144" class="indexterm-anchor"></a><a id="d109114e148" class="indexterm-anchor"></a><a id="d109114e152" class="indexterm-anchor"></a>Oracle ACFS encryption provides two type of encryption keys:</p>
<ul style="list-style-type: disc;">
<li>
<p>File Encryption Key</p>
<p>This is a key for a file and is used to encrypt the data in the file.</p>
</li>
<li>
<p>Volume Encryption Key</p>
<p>This is a key for a file system and is used to encrypt the file encryption keys.</p>
</li>
</ul>
<p>You must first create the encryption key store, then specify file system-level encryption parameters and identify the directories. No extra steps are required for a user to read encrypted files if the user has the appropriate privileges for accessing the file data.</p>
<p>Oracle ACFS encryption supports both Oracle Cluster Registry (OCR) and Oracle Key Vault as a key store. Both OCR and Oracle Key Vault can be used in the same cluster. However, a single file system uses either OCR or Oracle Key Vault as a key store, but not both. Oracle Key Vault is currently only available with file systems on Linux.</p>
<div class="infoboxnotealso" id="GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2__GUID-D1BA7E43-AD7D-4D54-B46A-2B1EA9D0C2FF">
<p class="notep1">See Also:</p>
<p><a class="olink OKVAG" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OKVAG"><span class="italic">Oracle Key Vault Administrator&#39;s Guide</span></a> for information about Oracle Key Vault</p>
</div>
<p>If you are using OCR as a key store, you should back up the OCR after creating or updating an encryption key to ensure there is an OCR backup that contains all of the volume encryption keys (VEKs) for the file system.</p>
<p>Oracle ACFS encryption protects data stored on secondary storage against the threat of theft or direct access to the storage medium. Data is never written to secondary storage in plaintext. Even if physical storage is stolen, the data stored cannot be accessed without the encryption keys. The encryption keys are never stored in plaintext. The keys are either obfuscated, or encrypted using a user-supplied password.</p>
<p>An Oracle ACFS security administrator can manage encryption parameters on a per-realm basis. After a file is placed under realm security, file-level encryption operations are not allowed on that file. Even if the realm security allows the file owner or the root user to open the file, file-level encryption operations are blocked. Encryption of realm-protected files is managed entirely by the Oracle ACFS security administrator, who can enable and disable encryption for files at a security realm level.</p>
<p>After a directory has been added to a security realm, all files created in the directory inherit the realm-level encryption parameters, not the directory or file system-level parameters. When a file is removed from its last security realm, the file is encrypted or decrypted to match the file system-level encryption status. The file is not re-encrypted to match file system-level parameters if it has been encrypted with security realm parameters.</p>
<p>A system administrator cannot rekey realm-secured files at the file system or file level. To ensure all realm-secured files are encrypted with the most recent volume encryption key (VEK), you must first remove encryption from all realms, and then re-enable encryption. This action re-encrypts all files with the most recent VEK.</p>
<p>Auditing and diagnostic data are logged for Oracle ACFS encryption. The log files include information such as <code class="codeph">acfsutil</code> commands that have been run, the use of security or system administrator privileges, and run-time failures. Logs are written to the following files:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">mount_point</code></span><code class="codeph">/.Security</code><code class="codeph">/encryption/logs/encr-</code><span class="italic"><code class="codeph">hostname_fsid</code></span><code class="codeph">.log</code></p>
<p>The directory is created with <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">set</code> command and protected by Oracle ACFS security if security is enabled. Refer to <span class="q">&#34;<a href="GUID-4714B6EF-28B7-4318-A209-ADF7A2546586.htm">acfsutil encr set</a>&#34;</span>.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">GRID_HOME</code></span><code class="codeph">/log/</code><span class="italic"><code class="codeph">hostname</code></span><code class="codeph">/acfs/security/acfssec.log</code></p>
<p>The messages that are logged to this file are for commands that are not associated with a specific file system, such as <code class="codeph">acfsutil</code> <code class="codeph">encr</code> <code class="codeph">init</code>. The directory is created during installation and is owned by the root user.</p>
</li>
</ul>
<p>When an active log file grows to a pre-defined maximum size (10 MB), the file is automatically moved to <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code>, the administrator is notified, and logging continues to the regular log file name. When the administrator is notified, the administrator must archive and remove the <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code> file. If an active log file grows to the maximum size and the <span class="italic"><code class="codeph">log_file_name</code></span><code class="codeph">.bak</code> file exists, logging stops until the backup file is removed. After the backup log file is removed, logging restarts automatically.</p>
<p>Note the following when working with Oracle ACFS encryption:</p>
<ul style="list-style-type: disc;">
<li>
<p>A copy of an encrypted file is not encrypted unless the copy of the file is made in an encrypted directory.</p>
<p>Some applications, such as the <code class="codeph">vi</code> editor, re-create a file when the file is modified. The modified file is saved as a temporary file, the original file is removed, and temporary file is copied with the original file name as the destination name. This process creates a new file. The new file is not encrypted unless it is created in an encrypted directory. If you are planning to copy an encrypted file, you should ensure that the parent directory is also encrypted.</p>
</li>
<li>
<p>Using encryption with database files on Oracle ACFS is not supported.</p>
</li>
</ul>
<p>To use Oracle ACFS encryption functionality on Linux, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.2</code> or higher. The disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher on Linux for the following cases:</p>
<ul style="list-style-type: disc;">
<li>
<p>If encryption is configured for the first time on Oracle ASM 11<span class="italic">g</span> Release 2 (11.2.0.3).</p>
</li>
<li>
<p>If encryption parameters must be changed or a new volume encryption key must be created following a software upgrade to Oracle ASM 11<span class="italic">g</span> Release 2 (11.2.0.3). For information, see <span class="q">&#34;<a href="GUID-4714B6EF-28B7-4318-A209-ADF7A2546586.htm">acfsutil encr set</a>&#34;</span> and <span class="q">&#34;<a href="GUID-98BB05D6-361A-41CF-99DF-989F3BF43921.htm">acfsutil encr rekey</a>&#34;</span>.</p>
</li>
</ul>
<p>To use Oracle ACFS encryption functionality on Windows, the disk group compatibility attributes for <code class="codeph">ASM</code> and <code class="codeph">ADVM</code> must be set to <code class="codeph">11.2.0.3</code> or higher.</p>
<p>For information about disk group compatibility, refer to <span class="q">&#34;<a href="GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34.htm">Disk Group Compatibility</a>&#34;</span>.</p>
<p>For information about Oracle ACFS encryption and snapshots, refer to <span class="q">&#34;<a href="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C.htm">About Oracle ACFS Snapshots</a>&#34;</span>.</p>
<p>Encryption information for Oracle ACFS file systems is displayed in the <code class="codeph">V$ASM_ACFS_ENCRYPTION_INFO</code> view. For information about <code class="codeph">V$ASM_ACFS</code> views, refer to <a href="GUID-D49D7E60-61A2-496B-B0DD-52882B6E84E8.htm">Using Views to Display Oracle ACFS Information</a> .</p>
<p>To configure encryption and manage encryptedOracle ACFS file systems, you can use the <code class="codeph">acfsutil</code> <code class="codeph">encr</code> command-line functions described in <span class="q">&#34;<a href="GUID-01EA8FA1-C136-4968-86D4-9F54B39F903C.htm">Encrypting Oracle ACFS File Systems</a>&#34;</span> and <span class="q">&#34;<a href="GUID-0F0E925E-5C94-4697-A78B-7BFBC274C83B.htm">Oracle ACFS Command-Line Tools for Encryption</a>&#34;</span>. Also, you can use Oracle ASM Configuration Assistant with encryption features as described in <span class="q">&#34;<a href="GUID-8509E5ED-59FE-4F9B-9696-D7B1FA338533.htm">Managing Security and Encryption for Oracle ACFS with ASMCA</a>&#34;</span>.</p>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-41F44E7A-7547-4D04-A8E7-072C3A697867.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-0D1069AE-D31E-4E17-8B96-CA7C4548FCB9.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
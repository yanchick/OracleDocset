<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-86996"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Preferred%20Read%20Failure%20Groups"></a><title>Preferred Read Failure Groups</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-FBAEBFA6-60AE-4189-A3BA-90F477CD2646.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-BC6544D7-6D59-42B3-AE1F-4201D3459ADD.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244"></a> <span id="PAGE" style="display:none;">140/612</span> <!-- End Header -->
<a id="OSTMG10047"></a>
<h1 id="OSTMG-GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244" class="sect1">Preferred Read Failure Groups</h1>
<div>
<p><a id="d33645e130" class="indexterm-anchor"></a><a id="d33645e134" class="indexterm-anchor"></a>When <a id="d33645e137" class="indexterm-anchor"></a><a id="d33645e141" class="indexterm-anchor"></a><a id="d33645e145" class="indexterm-anchor"></a>you configure Oracle ASM failure groups, it might be more efficient for a node to read from an extent that is closest to the node, even if that extent is a secondary extent. In other words, you can configure Oracle ASM to read from a secondary extent if that extent is closer to the node instead of Oracle ASM reading from the primary copy which might be farther from the node. Using the preferred read failure groups feature is most useful in extended clusters.</p>
<p>To use this feature, Oracle recommends that you configure at least one mirrored extent copy from a disk that is local to a node in an extended cluster. However, a failure group that is preferred for one instance might be remote to another instance in the same Oracle RAC database. The parameter setting for preferred read failure groups is instance specific. For information about configuring preferred read failure groups, refer to <span class="q">&#34;<a href="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244.htm#GUID-A1C3BE20-7774-4571-ADCC-7D64C4EEF00E">Configuring and Administering Preferred Read Failure Groups</a>&#34;</span>.</p>
<p>Both the Oracle ASM clients and Oracle ASM require Oracle Database 11<span class="italic">g</span> Release 1 (11.1) or higher to use preferred read failure groups.</p>
<div class="infobox-note" id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244__GUID-444D2522-E08B-445D-8A1A-09661680031A">
<p class="notep1">Note:</p>
<p>If you do not specify failure groups for a disk group, each disk in the disk group belongs to its own failure group. Oracle does not recommend that you configure multiple preferred read failure groups in a disk group for an Oracle ASM instance. For any given instance, if you specify multiple failure groups in the same disk group as preferred read, a warning message is written to the alert log.</p>
</div>
<div class="infoboxnotealso" id="GUID-C0EF42F0-4C35-4ACA-AF10-FA98A952B244__GUID-0CECAB3B-7E94-42A9-838E-692600DD6D27">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD820" target="_blank" href="../RACAD/GUID-C1E8F960-0CD8-4608-80BA-A9F335A34BD5.htm#RACAD820"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about configuring preferred read disks in extended clusters</p>
</div>
</div>
<a id="OSTMG94133"></a>
<div class="props_rev_3"><a id="GUID-A1C3BE20-7774-4571-ADCC-7D64C4EEF00E"></a>
<h2 id="OSTMG-GUID-A1C3BE20-7774-4571-ADCC-7D64C4EEF00E" class="sect2">Configuring and Administering Preferred Read Failure Groups</h2>
<div>
<p><a id="d33645e304" class="indexterm-anchor"></a>To configure this feature, set the <code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code> initialization parameter to specify a list of failure group names as preferred read disks. For more information about this initialization parameter, refer to <span class="q">&#34;<a href="GUID-C80F7E86-9937-434E-964F-6EED495BBF9E.htm">ASM_PREFERRED_READ_FAILURE_GROUPS</a>&#34;</span>.</p>
<p>Set the parameter where <span class="italic"><code class="codeph">diskgroup</code></span> is the name of the disk group and <span class="italic"><code class="codeph">failuregroup</code></span> is the name of the failure group, separating these variables with a period. Oracle ASM ignores the name of a failure group that you use in this parameter setting if the failure group does not exist in the named disk group. You can append multiple values using commas as a separator as follows:</p>
<p><code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">diskgroup</code></span>.<span class="italic"><code class="codeph">failuregroup</code></span>,...</p>
<p>In an extended cluster, the failure groups that you specify with settings for the <code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code> parameter should only contain disks that are local to the instance. For normal redundancy disk groups, there should be only one failure group on each site of the extended cluster.</p>
<p>If there are multiple mirrored copies and you have set a value for the <code class="codeph">ASM_PREFERRED_READ_FAILURE_GROUPS</code> parameter, then Oracle ASM first reads the copy that resides on a preferred read disk. If that read fails, then Oracle ASM attempts to read from the next mirrored copy that might not be on a preferred read disk.</p>
<p>Having multiple failure groups on one site can cause the loss of access to the disk group by the other sites if the site containing multiple failure groups fails. In addition, by having multiple failure groups on a site, an extent might not be mirrored to another site. This can diminish the read performance of the failure group on the other site.</p>
<p>For example, for a normal redundancy disk group, if a site contains two failure groups of a disk group, then Oracle ASM might put both mirror copies of an extent on the same site. In this configuration, Oracle ASM cannot protect against data loss from a site failure.</p>
<p>You should configure at most two failure groups on a site for a high redundancy disk group. If there are three sites in an extended cluster, for the same reason previously mentioned, then you should only create one failure group.</p>
<p>For a two-site extended cluster, a normal redundancy disk group only has two failure groups. In this case, you can only specify one failure group as a preferred read failure group for each instance.</p>
<p><a id="d33645e361" class="indexterm-anchor"></a>You can use views to identify preferred read failure groups, such as the <code class="codeph">V$ASM_DISK</code> view that shows whether a disk is a preferred read disk by the value in the <code class="codeph">PREFERRED_READ</code> column. You can also use <code class="codeph">V$ASM_DISK</code> to verify whether local disks in an extended cluster are preferred read disks. Use the Oracle ASM disk I/O statistics to verify that read operations are using the preferred read disks that you configured.</p>
<p>If a disk group is not optimally configured for an extended cluster, then Oracle ASM records warning messages in the alert logs. To identify specific performance issues with Oracle ASM preferred read failure groups, use the <code class="codeph">V$ASM_DISK_IOSTAT</code> view. This view displays disk I/O statistics for each Oracle ASM client. You can also query the <code class="codeph">V$ASM_DISK_IOSTAT</code> view on a database instance. However, this query only shows the I/O statistics for the database instance. In general, optimal preferred read extended cluster configurations balance performance with disk group availability.</p>
<div class="infoboxnotealso" id="GUID-A1C3BE20-7774-4571-ADCC-7D64C4EEF00E__GUID-9150AAD9-8D5A-4C1B-B909-D81A5DF6C388">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN003" target="_blank" href="../REFRN/GUID-8C5690B0-DE10-4460-86DF-80111869CF4C.htm#REFRN003"><span class="italic">Oracle Database Reference</span></a> for details about the <code class="codeph">V$ASM</code>* dynamic performance views</p>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-FBAEBFA6-60AE-4189-A3BA-90F477CD2646.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-BC6544D7-6D59-42B3-AE1F-4201D3459ADD.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
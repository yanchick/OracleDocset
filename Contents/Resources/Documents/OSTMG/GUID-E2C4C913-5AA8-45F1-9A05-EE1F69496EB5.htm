<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-87081"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/chdg"></a><title>chdg</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="chdg command, ASMCMD utility, ASMCMD utility"/>
<meta name="dcterms.created" content="2017-07-10T10:06:05Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"/>
<meta name="dcterms.identifier" content="E41058-12"/>
<meta name="dcterms.isVersionOf" content="OSTMG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-3BA40908-0543-4968-B834-BD4D873E1059.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-878703A2-958A-41F2-9134-CF7486CDD89C.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41058-12.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5"></a> <span id="PAGE" style="display:none;">327/612</span> <!-- End Header -->
<a id="OSTMG94517"></a><a id="OSTMG94518"></a><a id="OSTMG94519"></a><a id="OSTMG94520"></a><a id="OSTMG94521"></a><a id="OSTMG94522"></a><a id="OSTMG94523"></a><a id="OSTMG94516"></a>
<h1 id="OSTMG-GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5" class="sect1">chdg</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Changes a disk group (adds disks, drops disks, resizes disks, or rebalances a disk group) based on an XML configuration file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax and Description</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">chdg { <span class="italic">config_file</span>.xml | &#39;<span class="italic">contents_of_xml_file</span>&#39; }
</pre>
<p><a href="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5.htm#GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHJJDGJ" title="chdg ASMCMD options">Table 10-42</a> lists the syntax options for the <code class="codeph">chdg</code> command.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHJJDGJ">
<p class="titleintable">Table 10-42 Options for the chdg command</p>
<table class="cellalignment1697" title="Options for the chdg command " summary="chdg ASMCMD options">
<thead>
<tr class="cellalignment1688">
<th class="cellalignment1698" id="d88913e183">Option</th>
<th class="cellalignment1699" id="d88913e186">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d88913e191" headers="d88913e183">
<p><span class="italic"><code class="codeph">config_file</code></span></p>
</td>
<td class="cellalignment1701" headers="d88913e191 d88913e186">
<p>Name of the XML file that contains the changes for the disk group. <code class="codeph">chdg</code> searches for the XML file in the directory where ASMCMD was started unless a path is specified.</p>
<p>For examples of the valid tags and XML configuration file, see <a href="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5.htm#GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHICGDH">Example 10-51</a> and <a href="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5.htm#GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHJBJDA">Example 10-52</a>.</p>
</td>
</tr>
<tr class="cellalignment1688">
<td class="cellalignment1700" id="d88913e209" headers="d88913e183">
<p><span class="italic"><code class="codeph">contents_of_xml_file</code></span></p>
</td>
<td class="cellalignment1701" headers="d88913e209 d88913e186">
<p>The XML script enclosed in single quotations.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p><code class="codeph">chdg</code> modifies a disk group based on an XML configuration file. The modification includes adding, replacing, or deleting disks from an existing disk group, and the setting rebalance or replace power level. The power level can be set to the same values as the <code class="codeph">ASM_POWER_LIMIT</code> initialization parameter. For information about the initialization parameter, see <span class="q">&#34;<a href="GUID-BCA97B38-50AB-4B71-8D09-C67D8530D7BD.htm">ASM_POWER_LIMIT</a>&#34;</span>.</p>
<p>When adding disks to a disk group, the diskstring must be specified in a format similar to the <code class="codeph">ASM_DISKSTRING</code> initialization parameter. For information about the initialization parameter, see <span class="q">&#34;<a href="GUID-03BD4335-FEF9-4147-B8E4-E63F2D80F863.htm">ASM_DISKSTRING</a>&#34;</span>.</p>
<p>The failure groups are optional parameters. The default causes every disk to belong to a its own failure group. For information about failure groups, see<span class="q">&#34;<a href="GUID-9AAB5AE7-D819-4CDA-9552-4B41C3383C73.htm">Oracle ASM Failure Groups</a>&#34;</span>.</p>
<p>Dropping disks from a disk group can be performed through this operation. An individual disk can be referenced by its Oracle ASM disk name. A set of disks that belong to a failure group can be specified by the failure group name. For information about dropping disks, see<span class="q">&#34;<a href="GUID-44160C76-20B6-40C8-82F8-FF332A28899E.htm">Dropping Disks from Disk Groups</a>&#34;</span>.</p>
<p>You can resize a disk inside a disk group with <code class="codeph">chdg</code>. The resize operation fails if there is not enough space for storing data after the resize. For information about resizing disks, see<span class="q">&#34;<a href="GUID-6AEFFA72-7BDC-4AA8-8667-8417AAF3DAC8.htm">Resizing Disks in Disk Groups</a>&#34;</span>.</p>
<p><a href="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5.htm#GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHICGDH">Example 10-51</a> shows the basic structure and the valid tags with their respective attributes for the <code class="codeph">chdg</code> XML configuration file.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHICGDH">
<p class="titleinexample">Example 10-51 Tags for the chdg XML configuration template</p>
<pre dir="ltr">&lt;chdg&gt; update disk clause (add/delete disks/failure groups)
      name         disk group to change
      power        power to perform rebalance or replace
 
&lt;add&gt;  items to add are placed here
&lt;/add&gt;

&lt;replace&gt;  items to replace are placed here
&lt;/replace&gt;

&lt;drop&gt; items to drop are placed here
&lt;/drop&gt;

&lt;fg&gt;  failure group
      name         failure group name
&lt;/fg&gt;

&lt;dsk&gt; disk
      name         disk name
      string       disk path
      size         size of the disk to add
      force        true specifies to use the force option
&lt;/dsk&gt;

&lt;/chdg&gt;
</pre></div>
<!-- class="example" -->
<div class="section">
<p>For information about creating a disk group with ASMCMD <code class="codeph">mkdg</code>, see <span class="q">&#34;<a href="GUID-241C6676-FA7C-4505-ABA0-BD45657CF4AA.htm">mkdg</a>&#34;</span>. For information about altering disk groups, see <span class="q">&#34;<a href="GUID-6BB31112-8687-4C1E-AF14-D94FFCDA736F.htm">Altering Disk Groups</a>&#34;</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following is an example of an XML configuration file for <code class="codeph">chdg</code>. This XML file alters the disk group named <code class="codeph">data</code>. The failure group <code class="codeph">fg1</code> is dropped and the disk <code class="codeph">data_0001</code> is also dropped. The <code class="codeph">/dev/disk5</code> disk is added to failure group <code class="codeph">fg2</code>. The rebalance power level is set to <code class="codeph">3</code>.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__CIHJBJDA">
<p class="titleinexample">Example 10-52 chdg sample XML configuration file</p>
<pre dir="ltr">&lt;chdg name=&#34;data&#34; power=&#34;3&#34;&gt;
  &lt;drop&gt;
    &lt;fg name=&#34;fg1&#34;&gt;&lt;/fg&gt;
    &lt;dsk name=&#34;data_0001&#34;/&gt;
  &lt;/drop&gt;
  &lt;add&gt;
    &lt;fg name=&#34;fg2&#34;&gt;
      &lt;dsk string=&#34;/dev/disk5&#34;/&gt;
    &lt;/fg&gt;
  &lt;/add&gt;
&lt;/chdg&gt;
</pre></div>
<!-- class="example" -->
<div class="section">
<p>The following are examples of the <code class="codeph">chdg</code> command with the configuration file or configuration information on the command line.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-E2C4C913-5AA8-45F1-9A05-EE1F69496EB5__GUID-4590B0F5-42F0-4D05-8806-F0CD9C38E1F0">
<p class="titleinexample">Example 10-53 Using the ASMCMD chdg command</p>
<pre dir="ltr">ASMCMD [+] &gt; chdg data_config.xml

ASMCMD [+] &gt; chdg &#39;&lt;chdg name=&#34;data&#34; power=&#34;3&#34;&gt;
        &lt;drop&gt;&lt;fg name=&#34;fg1&#34;&gt;&lt;/fg&gt;&lt;dsk name=&#34;data_0001&#34;/&gt;&lt;/drop&gt;
        &lt;add&gt;&lt;fg name=&#34;fg2&#34;&gt;&lt;dsk string=&#34;/dev/disk5&#34;/&gt;&lt;/fg&gt;&lt;/add&gt;&lt;/chdg&gt;&#39;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1687">
<tr>
<td class="cellalignment1694">
<table class="cellalignment1692">
<tr>
<td class="cellalignment1691"><a href="GUID-3BA40908-0543-4968-B834-BD4D873E1059.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1691"><a href="GUID-878703A2-958A-41F2-9134-CF7486CDD89C.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1696">
<table class="cellalignment1690">
<tr>
<td class="cellalignment1691"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1691"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1691"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1691"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1691"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1691"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-104463"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Information%20Provisioning%20Concepts"></a><title>Information Provisioning Concepts</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1032"/>
<meta name="dcterms.created" content="2014-12-23T13:28:8Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Streams Concepts and Administration"/>
<meta name="dcterms.identifier" content="E53116-02"/>
<meta name="dcterms.isVersionOf" content="STRMS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="strms_glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="pt_infprv.htm" title="Previous" type="text/html"/>
<link rel="Next" href="strms_miprov.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53116-02.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">47/57</span> <!-- End Header -->
<div id="STRMS008" class="chapter"><a id="BHCIEBGD"></a> <a id="BHCDDIAJ"></a>
<h1 class="chapter"><span class="secnum">35</span> Information Provisioning Concepts</h1>
<p><a id="sthref1430"></a><a id="sthref1431"></a>Information provisioning makes information available when and where it is needed. Information provisioning is part of Oracle grid computing, which pools large numbers of servers, storage areas, and networks into a flexible, on-demand computing resource for enterprise computing needs. Information provisioning uses many of the features that also are used for information integration.</p>
<p>The following topics contain information about information provisioning:</p>
<ul>
<li>
<p><a href="#BHCHEHCH">Overview of Information Provisioning</a></p>
</li>
<li>
<p><a href="#BHCGIADA">Bulk Provisioning of Large Amounts of Information</a></p>
</li>
<li>
<p><a href="#BHCCFBAC">Incremental Information Provisioning with Oracle Streams</a></p>
</li>
<li>
<p><a href="#BHCICGCG">On-Demand Information Access</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_miprov.htm#CHDFDDEF">Chapter 36, &#34;Using Information Provisioning&#34;</a></p>
</li>
<li>
<p><a class="olink CNCPT1699" href="../CNCPT/cmntopc.htm#CNCPT1699"><span class="italic">Oracle Database Concepts</span></a> for more information about information integration</p>
</li>
</ul>
</div>
<a id="BHCHEHCH"></a>
<div id="STRMS1113" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Information Provisioning</h2>
<p>Oracle grid computing enables resource provisioning with features such as Oracle Real Application Clusters (Oracle RAC), Oracle Scheduler, and Database Resource Manager. Oracle RAC enables you to provision hardware resources by running a single Oracle database server on a cluster of physical servers. Oracle Scheduler enables you to provision database workload over time for more efficient use of resources. Database Resource Manager provisions resources to database users, applications, or services within an Oracle database.</p>
<p>In addition to resource provisioning, Oracle grid computing also enables information provisioning. Information provisioning delivers information when and where it is needed, regardless of where the information currently resides on the grid. In a grid environment with distributed systems, the grid must move or copy information efficiently to make it available where it is needed.</p>
<p>Information provisioning can take the following forms:</p>
<ul>
<li>
<p><a href="#BHCGIADA">Bulk Provisioning of Large Amounts of Information</a>: Data Pump export/import, transportable tablespaces, the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package, and the <code dir="ltr">DBMS_FILE_TRANSFER</code> package all are ways to provide large amounts of information. Data Pump export/import enables you to move or copy information at the database, tablespace, schema, or table level. Transportable tablespaces enables you to move or copy tablespaces from one database to another efficiently. The procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package enable you to clone, detach, and attach tablespaces. In addition, some procedures in this package enable you to store tablespaces in a <a href="strms_glossary.htm#CBADBFFB"><span class="xrefglossterm">tablespace repository</span></a> that provides versioning of tablespaces. When tablespaces are needed, they can be pulled from the tablespace repository and plugged into a database. The procedures in the <code dir="ltr">DBMS_FILE_TRANSFER</code> package enable you to copy a binary file within a database or between databases.</p>
</li>
<li>
<p><a href="#BHCCFBAC">Incremental Information Provisioning with Oracle Streams</a>: Some data must be shared as it is created or changed, rather than occasionally shared in bulk. Oracle Streams can stream data between databases, nodes, or blade farms in a grid and can keep two or more copies synchronized as updates are made.</p>
</li>
<li>
<p><a href="#BHCICGCG">On-Demand Information Access</a>: You can make information available without moving or copying it to a new location. Oracle Distributed SQL allows grid users to access and integrate data stored in multiple Oracle databases and, through gateways, non-Oracle databases.</p>
</li>
</ul>
<p>These information provisioning capabilities can be used individually or in combination to provide a full information provisioning solution in your environment. The remaining sections in this chapter discuss the ways to provision information in more detail.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RACAD" href="../RACAD/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about Oracle RAC</p>
</li>
<li>
<p><a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about <a class="olink ADMIN033" href="../ADMIN/schedover.htm#ADMIN033">Oracle Scheduler</a> and <a class="olink ADMIN027" href="../ADMIN/dbrm.htm#ADMIN027">Database Resource Manager</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BHCGIADA"></a>
<div id="STRMS159" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Bulk Provisioning of Large Amounts of Information<a id="sthref1432"></a></h2>
<p>Oracle provides several ways to move or copy large amounts of information from database to database efficiently. Data Pump can export and import at the database, tablespace, schema, or table level. There are several ways to move or copy a tablespace set from one Oracle database to another. Transportable tablespaces can move or copy a subset of an Oracle database and &#34;plug&#34; it in to another Oracle database. Transportable tablespace from backup with RMAN enables you to move or copy a tablespace set while the tablespaces remain online. The procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package combine several steps that are required to move or copy a tablespace set into one procedure call.</p>
<p>Each method for moving or copying a tablespace set requires that the tablespace set is self-contained. A self-contained tablespace has no references from the tablespace pointing outside of the tablespace. For example, if an index in the tablespace is for a table in a different tablespace, then the tablespace is not self-contained. A self-contained tablespace set has no references from inside the set of tablespaces pointing outside of the set of tablespaces. For example, if a partitioned table is partially contained in the set of tablespaces, then the set of tablespaces is not self-contained. To determine whether a set of tablespaces is self-contained, use the <code dir="ltr">TRANSPORT_SET_CHECK</code> procedure in the Oracle supplied package <code dir="ltr">DBMS_TTS</code>.</p>
<p>The following sections describe the options for moving or copying large amounts of information and when to use each option:</p>
<ul>
<li>
<p><a href="#BHCFIEDA">Data Pump Export/Import</a></p>
</li>
<li>
<p><a href="#BHCEIECB">Transportable Tablespace from Backup with RMAN</a></p>
</li>
<li>
<p><a href="#BHCDIFDF">DBMS_STREAMS_TABLESPACE_ADM Procedures</a></p>
</li>
<li>
<p><a href="#BHCGDGAD">Options for Bulk Information Provisioning</a></p>
</li>
</ul>
<a id="BHCFIEDA"></a>
<div id="STRMS1114" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Data Pump Export/Import<a id="sthref1433"></a><a id="sthref1434"></a></h3>
<p>Data Pump export/import can move or copy data efficiently between databases. Data Pump can export/import a full database, tablespaces, schemas, or tables to provision large or small amounts of data for a particular requirement. Data Pump exports and imports can be performed using command line clients (<code dir="ltr">expdp</code> and <code dir="ltr">impdp</code>) or the <code dir="ltr">DBMS_DATAPUMP</code> package.</p>
<p>A transportable tablespaces export/import is specified using the <code dir="ltr">TRANSPORT_TABLESPACES</code> parameter. Transportable tablespaces enables you to unplug a set of tablespaces from a database, move or copy them to another location, and then plug them into another database. The transport is quick because the process transfers metadata and files. It does not unload and load the data. In transportable tablespaces mode, only the metadata for the tables (and their dependent objects) within a specified set of tablespaces are unloaded at the source and loaded at the target. This allows the tablespace data files to be copied to the target Oracle database and incorporated efficiently.</p>
<p>The tablespaces being transported can be either dictionary managed or locally managed. Moving or copying tablespaces using transportable tablespaces is faster than performing either an export/import or unload/load of the same data. To use transportable tablespaces, you must have the <code dir="ltr">EXP_FULL_DATABASE</code> and <code dir="ltr">IMP_FULL_DATABASE</code> role. The tablespaces being transported must be read-only during export, and the export cannot have a degree of parallelism greater than 1.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink SUTIL100" href="../SUTIL/GUID-17FAE261-0972-4220-A2E4-44D479F519D4.htm#SUTIL100"><span class="italic">Oracle Database Utilities</span></a> for more information about Data Pump</p>
</li>
<li>
<p><a class="olink ADMIN01101" href="../ADMIN/transport.htm#ADMIN01101"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for more information about using Data Pump with the <code dir="ltr">TRANSPORT_TABLESPACES</code> option</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BHCEIECB"></a>
<div id="STRMS1115" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Transportable Tablespace from Backup with RMAN<a id="sthref1435"></a><a id="sthref1436"></a></h3>
<p>The Recovery Manager (RMAN) <code dir="ltr">TRANSPORT</code> <code dir="ltr">TABLESPACE</code> command copies tablespaces without requiring that the tablespaces be in read-only mode during the transport process. Appropriate database backups must be available to perform RMAN transportable tablespace from backup.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink RCMRF1919" href="../RCMRF/rcmsynta2022.htm#RCMRF1919"><span class="italic">Oracle Database Backup and Recovery Reference</span></a></p>
</li>
<li>
<p><a class="olink BRADV05141" href="../BRADV/rcmttbsb.htm#BRADV05141"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BHCDIFDF"></a>
<div id="STRMS1116" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">DBMS_STREAMS_TABLESPACE_ADM Procedures<a id="sthref1437"></a><a id="sthref1438"></a></h3>
<p>The following procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package can move or copy tablespaces:</p>
<ul>
<li>
<p><code dir="ltr">ATTACH_TABLESPACES</code>: Uses Data Pump to import a self-contained tablespace set previously exported using the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package, Data Pump export, or the RMAN <code dir="ltr">TRANSPORT</code> <code dir="ltr">TABLESPACE</code> command.</p>
</li>
<li>
<p><code dir="ltr">CLONE_TABLESPACES</code>: Uses Data Pump export to clone a set of self-contained tablespaces. The tablespace set can be attached to a database after it is cloned. The tablespace set remains in the database from which it was cloned.</p>
</li>
<li>
<p><code dir="ltr">DETACH_TABLESPACES</code>: Uses Data Pump export to detach a set of self-contained tablespaces. The tablespace set can be attached to a database after it is detached. The tablespace set is dropped from the database from which it was detached.</p>
</li>
<li>
<p><code dir="ltr">PULL_TABLESPACES</code>: Uses Data Pump export/import to copy a set of self-contained tablespaces from a remote database and attach the tablespace set to the current database.</p>
</li>
</ul>
<p>In addition, the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package also contains the following procedures: <code dir="ltr">ATTACH_SIMPLE_TABLESPACE</code>, <code dir="ltr">CLONE_SIMPLE_TABLESPACE</code>, <code dir="ltr">DETACH_SIMPLE_TABLESPACE</code>, and <code dir="ltr">PULL_SIMPLE_TABLESPACE</code>. These procedures operate on a single tablespace that uses only one data file instead of a tablespace set.</p>
<a id="BHCGGGEE"></a>
<div id="STRMS1117" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">File Group Repository<a id="sthref1439"></a><a id="sthref1440"></a></h4>
<p>In the context of a file group, a <span class="bold">file</span> is a reference to a file stored on hard disk. A file is composed of a file name, a directory object, and a file type. The directory object references the directory in which the file is stored on hard disk. A <span class="bold">version</span> is a collection of related files, and a <span class="bold">file group</span> is a collection of versions.</p>
<p>A <span class="bold">file group repository</span> is a collection of all of the file groups in a database. A file group repository can contain multiple file groups and multiple versions of a particular file group.</p>
<p>For example, a file group named <code dir="ltr">reports</code> can store versions of sales reports. The reports can be generated on a regular schedule, and each version can contain the report files. The file group repository can version the file group under names such as <code dir="ltr">sales_reports_v1</code>, <code dir="ltr">sales_reports_v2</code>, and so on.</p>
<p>File group repositories can contain all types of files. You can create and manage file group repositories using the <code dir="ltr">DBMS_FILE_GROUP</code> package.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_miprov.htm#CHDGJIFE">&#34;Using a File Group Repository&#34;</a></p>
</li>
<li>
<p><a class="olink ARPLS828" href="../ARPLS/d_filgrp.htm#ARPLS828"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code dir="ltr">DBMS_FILE_GROUP</code> package</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="BHCECEHC"></a>
<div id="STRMS1118" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Tablespace Repository<a id="sthref1441"></a><a id="sthref1442"></a></h4>
<p>A <span class="bold">tablespace repository</span> is a collection of tablespace sets in a file group repository. Tablespace repositories are built on file group repositories, but tablespace repositories only contain the files required to move or copy tablespaces between databases. A file group repository can store versioned sets of files, including, but not restricted to, tablespace sets.</p>
<p>Different tablespace sets can be stored in a tablespace repository, and different versions of a particular tablespace set can also be stored. A version of a tablespace set in a tablespace repository consists of the following files:</p>
<ul>
<li>
<p>The Data Pump export dump file for the tablespace set</p>
</li>
<li>
<p>The Data Pump log file for the export</p>
</li>
<li>
<p>The data files that comprise the tablespace set</p>
</li>
</ul>
<p>All of the files in a version can reside in a single directory, or they can reside in different directories. The following procedures can move or copy tablespaces with or without using a tablespace repository:</p>
<ul>
<li>
<p><code dir="ltr">ATTACH_TABLESPACES</code></p>
</li>
<li>
<p><code dir="ltr">CLONE_TABLESPACES</code></p>
</li>
<li>
<p><code dir="ltr">DETACH_TABLESPACES</code></p>
</li>
</ul>
<p>If one of these procedures is run without using a tablespace repository, then a tablespace set is moved or copied, but it is not placed in or copied from a tablespace repository. If the <code dir="ltr">CLONE_TABLESPACES</code> or <code dir="ltr">DETACH_TABLESPACES</code> procedure is run using a tablespace repository, then the procedure places a tablespace set in the repository as a version of the tablespace set. If the <code dir="ltr">ATTACH_TABLESPACES</code> procedure is run using a tablespace repository, then the procedure copies a particular version of a tablespace set from the repository and attaches it to a database.</p>
<div id="STRMS1119" class="sect4"><a id="sthref1443"></a>
<h5 class="sect4">When to Use a Tablespace Repository</h5>
<p>A tablespace repository is useful when you must store different versions of one or more tablespace sets. For example, a tablespace repository can accomplish the following goals:</p>
<ul>
<li>
<p>You want to run quarterly reports on a tablespace set. You can clone the tablespace set quarterly for storage in a versioned tablespace repository, and a specific version of the tablespace set can be requested from the repository and attached to another database to run the reports.</p>
</li>
<li>
<p>You want applications to be able to attach required tablespace sets on demand in a grid environment. You can store multiple versions of several different tablespace sets in the tablespace repository. Each tablespace set can be used for a different purpose by the application. When the application needs a particular version of a particular tablespace set, the application can scan the tablespace repository and attach the correct tablespace set to a database.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<div id="STRMS1120" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref1444"></a>
<h5 class="sect4">Differences Between the Tablespace Repository Procedures</h5>
<p>The procedures that include the <code dir="ltr">file_group_name</code> parameter in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package behave differently for the tablespace set, the data files in the tablespace set, and the export dump file. <a href="#BHCIGFAE">Table 35-1</a> describes these differences.</p>
<div id="STRMS1121" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref1445"></a><a id="BHCIGFAE"></a>Table 35-1 Tablespace Repository Procedures</p>
<table class="cellalignment5973" title="Tablespace Repository Procedures" summary="This table describes the differences in the ways the tablespace repository procedures handle the tablespace set, datafiles, and the export dump file." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t7">Procedure</th>
<th class="cellalignment5974" id="r1c2-t7">Tablespace Set</th>
<th class="cellalignment5974" id="r1c3-t7">Data Files</th>
<th class="cellalignment5974" id="r1c4-t7">Export Dump File</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">ATTACH_TABLESPACES</code></p>
</td>
<td class="cellalignment5970" headers="r2c1-t7 r1c2-t7">
<p>The tablespace set is added to the local database.</p>
</td>
<td class="cellalignment5970" headers="r2c1-t7 r1c3-t7">
<p>If the <code dir="ltr">datafiles_directory_object</code> parameter is non-<code dir="ltr">NULL</code>, then the data files are copied from their current location(s) for the version in the tablespace repository to the directory object specified in the <code dir="ltr">datafiles_directory_object</code> parameter. The attached tablespace set uses the data files that were copied.</p>
<p>If the <code dir="ltr">datafiles_directory_object</code> parameter is <code dir="ltr">NULL</code>, then the data files are not moved or copied. The data files remain in the directory object(s) for the version in the tablespace repository, and the attached tablespace set uses these data files.</p>
</td>
<td class="cellalignment5970" headers="r2c1-t7 r1c4-t7">
<p>If the <code dir="ltr">datafiles_directory_object</code> parameter is non-<code dir="ltr">NULL</code>, then the export dump file is copied from its directory object for the version in the tablespace repository to the directory object specified in the <code dir="ltr">datafiles_directory_object</code> parameter.</p>
<p>If the <code dir="ltr">datafiles_directory_object</code> parameter is <code dir="ltr">NULL</code>, then the export dump file is not moved or copied.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">CLONE_TABLESPACES</code></p>
</td>
<td class="cellalignment5970" headers="r3c1-t7 r1c2-t7">
<p>The tablespace set is retained in the local database.</p>
</td>
<td class="cellalignment5970" headers="r3c1-t7 r1c3-t7">
<p>The data files are copied from their current location(s) to the directory object specified in the <code dir="ltr">tablespace_directory_object</code> parameter or in the default directory for the version or <a href="strms_glossary.htm#CBACCAEC"><span class="xrefglossterm">file group</span></a>. This parameter specifies where the version of the tablespace set is stored in the tablespace repository. The current location of the data files can be determined by querying the <code dir="ltr">DBA_DATA_FILES</code> data dictionary view. A directory object must exist, and must be accessible to the user who runs the procedure, for each data file location.</p>
</td>
<td class="cellalignment5970" headers="r3c1-t7 r1c4-t7">
<p>The export dump file is placed in the directory object specified in the <code dir="ltr">tablespace_directory_object</code> parameter or in the default directory for the version or file group.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">DETACH_TABLESPACES</code></p>
</td>
<td class="cellalignment5970" headers="r4c1-t7 r1c2-t7">
<p>The tablespace set is dropped from the local database.</p>
</td>
<td class="cellalignment5970" headers="r4c1-t7 r1c3-t7">
<p>The data files are not moved or copied. The data files remain in their current location(s). A directory object must exist, and must be accessible to the user who runs the procedure, for each data file location. These data files are included in the version of the tablespace set stored in the tablespace repository.</p>
</td>
<td class="cellalignment5970" headers="r4c1-t7 r1c4-t7">
<p>The export dump file is placed in the directory object specified in the <code dir="ltr">export_directory_object</code> parameter or in the default directory for the version or file group.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" --></div>
<!-- class="sect4" -->
<div id="STRMS1122" class="sect4"><a id="sthref1446"></a>
<h5 class="sect4">Remote Access to a Tablespace Repository</h5>
<p>A tablespace repository can reside in the database that uses the tablespaces, or it can reside in a remote database. If it resides in a remote database, then a database link must be specified in the <code dir="ltr">repository_db_link</code> parameter when you run one of the procedures, and the database link must be accessible to the user who runs the procedure.</p>
</div>
<!-- class="sect4" -->
<div id="STRMS1123" class="sect4"><a id="sthref1447"></a>
<h5 class="sect4">Only One Tablespace Version Can Be Online in a Database</h5>
<p>A version of a tablespace set in a tablespace repository can be either online or offline in a database. A tablespace set version is online in a database when it is attached to the database using the <code dir="ltr">ATTACH_TABLESPACES</code> procedure. Only a single version of a tablespace set can be online in a database at a particular time. However, the same version or different versions of a tablespace set can be online in different databases at the same time. In this case, it might be necessary to ensure that only one database can make changes to the tablespace set.</p>
</div>
<!-- class="sect4" -->
<div id="STRMS1124" class="sect4"><a id="sthref1448"></a>
<h5 class="sect4">Tablespace Repository Procedures Use the DBMS_FILE_GROUP Package Automatically</h5>
<p>Although tablespace repositories are built on file group repositories, it is not necessary to use the <code dir="ltr">DBMS_FILE_GROUP</code> package to create a file group repository before using one of the procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package. If you run the <code dir="ltr">CLONE_TABLESPACES</code> or <code dir="ltr">DETACH_TABLESPACES</code> procedure and specify a file group that does not exist, then the procedure creates the file group automatically.</p>
</div>
<!-- class="sect4" -->
<div id="STRMS1125" class="sect4"><a id="sthref1449"></a>
<h5 class="sect4">A Tablespace Repository Provides Versioning but Not Source Control</h5>
<p>A tablespace repository provides versioning of tablespace sets, but it does not provide source control. If two or more versions of a tablespace set are changed at the same time and placed in a tablespace repository, then these changes are not merged.</p>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div id="STRMS1126" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref1450"></a>
<h4 class="sect3">Read-Only Tablespaces Requirement During Export</h4>
<p>The procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package that perform a Data Pump export make any read/write tablespace being exported read-only. After the export is complete, if a procedure in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package made a tablespace read-only, then the procedure makes the tablespace read/write.</p>
</div>
<!-- class="sect3" -->
<div id="STRMS1127" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref1451"></a>
<h4 class="sect3">Automatic Platform Conversion for Tablespaces<a id="sthref1452"></a></h4>
<p>When one of the procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package moves or copies tablespaces to a database that is running on a different platform, the procedure can convert the data files to the appropriate platform if the conversion is supported. The <code dir="ltr">V$TRANSPORTABLE_PLATFORM</code> dynamic performance view lists all platforms that support cross-platform transportable tablespaces.</p>
<p>When a tablespace repository is used, the platform conversion is automatic if it is supported. When a tablespace repository is not used, you must specify the platform to which or from which the tablespace is being converted.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_miprov.htm#CHDFDDEF">Chapter 36, &#34;Using Information Provisioning&#34;</a> for information about using the procedures in the <code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> package, including usage scenarios</p>
</li>
<li>
<p><a class="olink ARPLS" href="../ARPLS/toc.htm"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for reference information about the <a class="olink ARPLS551" href="../ARPLS/d_streams_tbl.htm#ARPLS551"><code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code></a> package and the <a class="olink ARPLS828" href="../ARPLS/d_filgrp.htm#ARPLS828"><code dir="ltr">DBMS_FILE_GROUP</code></a> package</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BHCGDGAD"></a>
<div id="STRMS1128" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Options for Bulk Information Provisioning</h3>
<p><a href="#BHCHIHAB">Table 35-2</a> describes when to use each option for bulk information provisioning.</p>
<div id="STRMS1129" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref1453"></a><a id="BHCHIHAB"></a>Table 35-2 Options for Moving or Copying Tablespaces</p>
<table class="cellalignment5973" title="Options for Moving or Copying Tablespaces" summary="This table describes when to use each option for moving or copying tablespaces." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t9">Option</th>
<th class="cellalignment5974" id="r1c2-t9">Use this Option Under these Conditions</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t9" headers="r1c1-t9">
<p>Data Pump export/import</p>
</td>
<td class="cellalignment5970" headers="r2c1-t9 r1c2-t9">
<ul>
<li>
<p>You want to move or copy data at the database, tablespace, schema, or table level.</p>
</li>
<li>
<p>You want to perform each step required to complete the Data Pump export/import.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t9" headers="r1c1-t9">
<p>Data Pump export/import with the <code dir="ltr">TRANSPORT_TABLESPACES</code> option</p>
</td>
<td class="cellalignment5970" headers="r3c1-t9 r1c2-t9">
<ul>
<li>
<p>The tablespaces being moved or copied can be read-only during the operation.</p>
</li>
<li>
<p>You want to perform each step required to complete the Data Pump export/import.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t9" headers="r1c1-t9">
<p>Transportable tablespace from backup with the RMAN <code dir="ltr">TRANSPORT</code> <code dir="ltr">TABLESPACE</code> command</p>
</td>
<td class="cellalignment5970" headers="r4c1-t9 r1c2-t9">
<p>The tablespaces being moved or copied must remain online (writeable) during the operation.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r5c1-t9" headers="r1c1-t9">
<p><code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> procedures without a tablespace repository</p>
</td>
<td class="cellalignment5970" headers="r5c1-t9 r1c2-t9">
<ul>
<li>
<p>The tablespaces being moved or copied can be read-only during the operation.</p>
</li>
<li>
<p>You want to combine multiple steps in the Data Pump export/import into one procedure call.</p>
</li>
<li>
<p>You do not want to use a tablespace repository for the tablespaces being moved or copied.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r6c1-t9" headers="r1c1-t9">
<p><code dir="ltr">DBMS_STREAMS_TABLESPACE_ADM</code> procedures with a tablespace repository</p>
</td>
<td class="cellalignment5970" headers="r6c1-t9 r1c2-t9">
<ul>
<li>
<p>The tablespaces being moved or copied can be read-only during the operation.</p>
</li>
<li>
<p>You want to combine multiple steps in the Data Pump export/import into one procedure call.</p>
</li>
<li>
<p>You want to use a tablespace repository for the tablespaces being moved or copied.</p>
</li>
<li>
<p>You want platform conversion to be automatic.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BHCCFBAC"></a>
<div id="STRMS1130" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Incremental Information Provisioning with Oracle Streams<a id="sthref1454"></a><a id="sthref1455"></a></h2>
<p>Oracle Streams can share and maintain database objects in different databases at each of the following levels:</p>
<ul>
<li>
<p>Database</p>
</li>
<li>
<p>Schema</p>
</li>
<li>
<p>Table</p>
</li>
<li>
<p>Table subset</p>
</li>
</ul>
<p>Oracle Streams can keep shared database objects synchronized at two or more databases. Specifically, an Oracle Streams <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> or <a href="strms_glossary.htm#CBACHEDJ"><span class="xrefglossterm">synchronous capture</span></a> captures changes to a shared database object in a <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>, one or more <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a>s propagate the changes to another database, and an Oracle Streams <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> applies the changes to the shared database object. If database objects are not identical at different databases, then Oracle Streams can transform them at any point in the process. That is, a change can be transformed during capture, propagation, or apply. In addition, Oracle Streams provides custom processing of changes during apply with apply handlers. Database objects can be shared between Oracle databases, or they can be shared between Oracle and non-Oracle databases with an Oracle Database Gateway. In addition to data <a href="strms_glossary.htm#CHDCDAHE"><span class="xrefglossterm">replication</span></a>, Oracle Streams provides messaging, event management and notification, and data warehouse loading.</p>
<p>A combination of Oracle Streams and bulk provisioning enables you to copy and maintain a large amount of data by running a single procedure. The following procedures in the <code dir="ltr">DBMS_STREAMS_ADM</code> package use Data Pump to copy data between databases and configure Oracle Streams to maintain the copied data incrementally:</p>
<ul>
<li>
<p><a class="olink ARPLS825" href="../ARPLS/d_streams_adm.htm#ARPLS825"><code dir="ltr">MAINTAIN_GLOBAL</code></a><a id="sthref1456"></a> configures an Oracle Streams environment that replicates changes at the database level between two databases.</p>
</li>
<li>
<p><a class="olink ARPLS826" href="../ARPLS/d_streams_adm.htm#ARPLS826"><code dir="ltr">MAINTAIN_SCHEMAS</code></a><a id="sthref1457"></a> configures an Oracle Streams environment that replicates changes to specified schemas between two databases.</p>
</li>
<li>
<p><a class="olink ARPLS863" href="../ARPLS/d_streams_adm.htm#ARPLS863"><code dir="ltr">MAINTAIN_SIMPLE_TTS</code></a><a id="sthref1458"></a> clones a simple tablespace from a <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a> to a <a href="strms_glossary.htm#CHDGCAJA"><span class="xrefglossterm">destination database</span></a> and uses Oracle Streams to maintain this tablespace at both databases.</p>
</li>
<li>
<p><a class="olink ARPLS827" href="../ARPLS/d_streams_adm.htm#ARPLS827"><code dir="ltr">MAINTAIN_TABLES</code></a><a id="sthref1459"></a> configures an Oracle Streams environment that replicates changes to specified tables between two databases.</p>
</li>
<li>
<p><a class="olink ARPLS864" href="../ARPLS/d_streams_adm.htm#ARPLS864"><code dir="ltr">MAINTAIN_TTS</code></a><a id="sthref1460"></a> uses transportable tablespaces with Data Pump to clone a set of tablespaces from a source database to a destination database and uses Oracle Streams to maintain these tablespaces at both databases.</p>
</li>
</ul>
<p><a id="sthref1461"></a><a id="sthref1462"></a>In addition, the <a class="olink ARPLS831" href="../ARPLS/d_streams_adm.htm#ARPLS831"><code dir="ltr">PRE_INSTANTIATION_SETUP</code></a> and <a class="olink ARPLS830" href="../ARPLS/d_streams_adm.htm#ARPLS830"><code dir="ltr">POST_INSTANTIATION_SETUP</code></a> procedures configure an Oracle Streams environment that replicates changes either at the database level or to specified tablespaces between two databases. These procedures must be used together, and <a href="strms_glossary.htm#CHDCCEJE"><span class="xrefglossterm">instantiation</span></a> actions must be performed manually, to complete the Oracle Streams replication configuration.</p>
<p>Using these procedures, you can export data from one database, ship it to another database, reformat the data if the second database is on a different platform, import the data into the second database, and start syncing the data with the changes happening in the first database. If the second database is on a grid, then you have just migrated your application to a grid with one command.</p>
<p>These procedures can configure <a href="strms_glossary.htm#CHDDDJGJ"><span class="xrefglossterm">Oracle Streams client</span></a>s to maintain changes originating at the source database in a single-source replication environment, or they can configure Oracle Streams clients to maintain changes originating at both databases in a bidirectional replication environment. By maintaining changes to the data, it can be kept synchronized at both databases. These procedures can either perform these actions directly, or they can generate one or more scripts that performs these actions.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_over.htm#g1014298">Chapter 1, &#34;Introduction to Oracle Streams&#34;</a></p>
</li>
<li>
<p><a class="olink ARPLS305" href="../ARPLS/d_streams_adm.htm#ARPLS305"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for reference information about the <code dir="ltr">DBMS_STREAMS_ADM</code> package</p>
</li>
<li>
<p><a class="olink STREP056" href="../STREP/config_simple.htm#STREP056"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about using the <code dir="ltr">DBMS_STREAMS_ADM</code> package</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="BHCICGCG"></a>
<div id="STRMS1131" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">On-Demand Information Access<a id="sthref1463"></a></h2>
<p>Users and applications can access information without moving or copying it to a new location. Distributed SQL allows grid users to access and integrate data stored in multiple Oracle and, through Oracle Database Gateway, non-Oracle databases. Transparent remote data access with distributed SQL allows grid users to run their applications against any other database without making any code change to the applications. While integrating data and managing transactions across multiple data stores, the Oracle database optimizes the execution plans to access data in the most efficient manner.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMIN028" href="../ADMIN/ds_concepts.htm#ADMIN028"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information about distributed SQL</p>
</li>
<li>
<p><a class="olink HETER" href="../HETER/toc.htm"><span class="italic">Oracle Database Heterogeneous Connectivity User&#39;s Guide</span></a> for more information about Oracle Database Gateway</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5963">
<tr>
<td class="cellalignment5970">
<table class="cellalignment5968">
<tr>
<td class="cellalignment5967"><a href="pt_infprv.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5967"><a href="strms_miprov.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5972">
<table class="cellalignment5966">
<tr>
<td class="cellalignment5967"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5967"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5967"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5967"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5967"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5967"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
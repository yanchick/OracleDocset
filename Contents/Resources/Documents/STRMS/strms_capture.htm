<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-104458"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Streams%20Information%20Capture"></a><title>Oracle Streams Information Capture</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1032"/>
<meta name="dcterms.created" content="2014-12-23T13:28:5Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Streams Concepts and Administration"/>
<meta name="dcterms.identifier" content="E53116-02"/>
<meta name="dcterms.isVersionOf" content="STRMS"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="strms_glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="strms_over.htm" title="Previous" type="text/html"/>
<link rel="Next" href="strms_prop.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53116-02.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/57</span> <!-- End Header -->
<div id="STRMS002" class="chapter"><a id="i1006083"></a> <a id="BABEHJAE"></a>
<h1 class="chapter"><span class="secnum">2</span> Oracle Streams Information Capture</h1>
<p>Capturing information with Oracle Streams means creating a <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a> that contains the information and enqueuing the message into a <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>. The captured information can describe a database change, or it can be any other type of information.</p>
<p><a id="sthref25"></a><a id="sthref26"></a>The following topics contain conceptual information about capturing information with Oracle Streams:</p>
<ul>
<li>
<p><a href="#CACBJHJE">Ways to Capture Information with Oracle Streams</a></p>
</li>
<li>
<p><a href="#CACHGDHC">Types of Information Captured with Oracle Streams</a></p>
</li>
<li>
<p><a href="#CACJJIAH">Summary of Information Capture Options with Oracle Streams</a></p>
</li>
<li>
<p><a href="#i1013391">Instantiation in an Oracle Streams Environment</a></p>
</li>
<li>
<p><a href="#CACGECDI">Implicit Capture with an Oracle Streams Capture Process</a></p>
</li>
<li>
<p><a href="#CACIDGBI">Implicit Capture with Synchronous Capture</a></p>
</li>
<li>
<p><a href="#CACGBFJB">Explicit Capture by Applications</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink STREP204" href="../STREP/ccap.htm#STREP204"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about configuring implicit capture</p>
</li>
<li>
<p><a href="strms_mcap.htm#g1032206">Chapter 15, &#34;Managing Oracle Streams Implicit Capture&#34;</a></p>
</li>
<li>
<p><a href="strms_trcapture.htm#i1006114">&#34;Troubleshooting Capture Process Problems&#34;</a></p>
</li>
<li>
<p><a href="strms_cpmon.htm#CFFGDGCI">Chapter 24, &#34;Monitoring Oracle Streams Implicit Capture&#34;</a></p>
</li>
</ul>
</div>
<a id="CACBJHJE"></a>
<div id="STRMS294" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Ways to Capture Information with Oracle Streams</h2>
<p>There are two ways to capture information with Oracle Streams: implicit capture and explicit capture.</p>
<ul>
<li>
<p><a href="#CACICEDB">Implicit Capture</a></p>
</li>
<li>
<p><a href="#CACEAHHB">Explicit Capture</a></p>
</li>
</ul>
<a id="CACICEDB"></a>
<div id="STRMS295" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Implicit Capture</h3>
<p>With <a href="strms_glossary.htm#CHDECBHI"><span class="xrefglossterm">implicit capture</span></a>, data definition language (DDL) and data manipulation language (DML) changes are captured automatically either by a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> or by <a href="strms_glossary.htm#CBACHEDJ"><span class="xrefglossterm">synchronous capture</span></a>. A specific type of message called <a href="strms_glossary.htm#CHDEJJAF"><span class="xrefglossterm">logical change record (LCR)</span></a> describes these database changes. Both a capture process and synchronous capture can filter database changes with user-defined <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s. Therefore, only changes to specified objects are captured.</p>
<p>The following topics describe capture processes and synchronous captures:</p>
<ul>
<li>
<p><a href="#CACHBDDJ">Capture Processes</a></p>
</li>
<li>
<p><a href="#CACIJIIA">Synchronous Captures</a></p>
</li>
</ul>
<a id="CACHBDDJ"></a>
<div id="STRMS296" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Capture Processes</h4>
<p>A capture process retrieves change data from the redo log, either by mining the online redo log or, if necessary, by mining archived log files. After retrieving the data, the capture process formats it into an LCR and enqueues it for further processing.</p>
<p>A capture process enqueues information about database changes in the form of messages containing LCRs. A message containing an LCR that was originally captured and enqueued by a capture process is called a <span class="bold">captured LCR</span>. A capture process always enqueues messages into a buffered queue. A <span class="bold">buffered queue</span> is the portion of a queue that uses the <a href="strms_glossary.htm#CHDHGDCA"><span class="xrefglossterm">Oracle Streams pool</span></a> to store messages in memory and a queue table to store messages that have spilled from memory.</p>
<p>A capture process is useful in the following situations:</p>
<ul>
<li>
<p>When you want to capture changes to a relatively large number of tables</p>
</li>
<li>
<p>When you want to capture changes to schemas or to an entire database</p>
</li>
<li>
<p>When you want to capture DDL changes</p>
</li>
<li>
<p>When you want to capture changes at a database other than the source database using downstream capture</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CACGECDI">&#34;Implicit Capture with an Oracle Streams Capture Process&#34;</a></p>
</li>
<li>
<p><a href="strms_prop.htm#i1006905">&#34;Persistent Queues and Buffered Queues&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACIJIIA"></a>
<div id="STRMS297" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Synchronous Captures</h4>
<p>Synchronous capture uses an internal mechanism to capture DML changes immediately after they happen. Synchronous capture enqueues information about DML changes in the form of messages containing row LCRs. Synchronous capture enqueues these LCRs into a persistent queue. Synchronous capture always enqueues messages into a persistent queue. A <span class="bold">persistent queue</span> is the portion of a queue that only stores messages on hard disk in a queue table, not in memory. The messages captured by a synchronous capture are <a href="strms_glossary.htm#CBAGDEIH"><span class="xrefglossterm">persistent LCR</span></a>s.</p>
<p>Synchronous capture is useful in the following situations:</p>
<ul>
<li>
<p>For the best performance, when you want to capture DML changes to a relatively small number of tables</p>
</li>
<li>
<p>When you want to capture DML changes to a table immediately after these changes are made</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CACIDGBI">&#34;Implicit Capture with Synchronous Capture&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACEAHHB"></a>
<div id="STRMS298" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Explicit Capture</h3>
<p>With <a href="strms_glossary.htm#CHDJDDIH"><span class="xrefglossterm">explicit capture</span></a>, applications generate messages and enqueue them. These messages can be formatted as LCRs, or they can be formatted into different types of messages for consumption by other applications. Messages can also be enqueued explicitly by an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> or by an <a href="strms_glossary.htm#CHDCJAED"><span class="xrefglossterm">apply handler</span></a> for an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a>.</p>
<p>Explicit capture is useful in the following situations:</p>
<ul>
<li>
<p>When applications generate messages that must be processed by other applications.</p>
</li>
<li>
<p>When you have a heterogeneous replication environment in which an apply process in an Oracle database applies changes that originated at a non-Oracle database. In this case, an application captures LCRs based on the changes at the non-Oracle database, and these LCRs are processed by an apply process at an Oracle database.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#CACGBFJB">&#34;Explicit Capture by Applications&#34;</a></p>
</li>
<li>
<p><a class="olink STREP006" href="../STREP/hetero.htm#STREP006"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for more information about heterogeneous information sharing with Oracle Streams</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACHGDHC"></a>
<div id="STRMS299" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Types of Information Captured with Oracle Streams</h2>
<p>The following types of information can be captured with Oracle Streams:</p>
<ul>
<li>
<p><a href="#i1006153">Logical Change Records (LCRs)</a></p>
</li>
<li>
<p><a href="#CACCCHDA">User Messages</a></p>
</li>
</ul>
<a id="i1006153"></a>
<div id="STRMS107" class="sect2">
<h3 class="sect2">Logical Change Records (LCRs)<a id="sthref27"></a><a id="sthref28"></a></h3>
<p>An LCR is a <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a> with a specific format that describes a database change. There are two types of LCRs: <span class="bold">row LCRs</span> and <span class="bold">DDL LCRs</span>. A capture process, a synchronous capture, or an application can capture LCRs.</p>
<p>You can capture the following types of LCRs with Oracle Streams:</p>
<ul>
<li>
<p>A <span class="bold">captured LCR</span> is an LCR that is captured implicitly by a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> and enqueued into the <a href="strms_glossary.htm#CHDFJFED"><span class="xrefglossterm">buffered queue</span></a> portion of an <a href="strms_glossary.htm#CHDJDEHJ"><span class="xrefglossterm">ANYDATA queue</span></a>.</p>
</li>
<li>
<p>A <span class="bold">persistent LCR</span> is an LCR that is enqueued into the <a href="strms_glossary.htm#CBAEIBGJ"><span class="xrefglossterm">persistent queue</span></a> portion of an <code dir="ltr">ANYDATA</code> queue. A persistent LCR can be enqueued in one of the following ways:</p>
<ul>
<li>
<p>Captured implicitly by a <a href="strms_glossary.htm#CBACHEDJ"><span class="xrefglossterm">synchronous capture</span></a> and enqueued</p>
</li>
<li>
<p>Constructed explicitly by an application and enqueued</p>
</li>
<li>
<p>Dequeued by an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> and enqueued by the same apply process using the <code dir="ltr">SET_ENQUEUE_DESTINATION</code> procedure in the <code dir="ltr">DBMS_APPLY_ADM</code> package</p>
</li>
</ul>
<p>The only difference between the persistent LCRs captured in these three ways is that persistent LCRs captured by a synchronous capture have more attributes than those constructed by an application or enqueued by an apply process.</p>
</li>
<li>
<p>A <span class="bold">buffered LCR</span> is and LCR that is constructed explicitly by an application and enqueued into the buffered queue portion of an <code dir="ltr">ANYDATA</code> queue.</p>
</li>
</ul>
<p>The following sections contain information about LCRs:</p>
<ul>
<li>
<p><a href="#i1006190">Row LCRs</a></p>
</li>
<li>
<p><a href="#BABBDHJC">DDL LCRs</a></p>
</li>
<li>
<p><a href="#CACHIIJF">Extra Information in LCRs</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_prop.htm#i1006905">&#34;Persistent Queues and Buffered Queues&#34;</a></p>
</li>
<li>
<p><a class="olink STREP118" href="../STREP/man_lcrs.htm#STREP118"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about managing LCRs</p>
</li>
<li>
<p><a class="olink ARPLS307" href="../ARPLS/t_lcr.htm#ARPLS307"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about LCR types</p>
</li>
<li>
<p><a href="strms_mapply.htm#CHDCHAGD">&#34;Setting the Destination Queue for Messages that Satisfy a Rule&#34;</a> for more information about the <code dir="ltr">SET_ENQUEUE_DESTINATION</code> procedure</p>
</li>
</ul>
</div>
<a id="i1006190"></a>
<div id="STRMS300" class="sect3">
<h4 class="sect3">Row LCRs<a id="sthref29"></a></h4>
<p>A row LCR describes a change to the data in a single row or a change to a single LOB column, <code dir="ltr">LONG</code> column, <code dir="ltr">LONG</code> <code dir="ltr">RAW</code> column, or <code dir="ltr">XMLType</code> stored as <code dir="ltr">CLOB</code> column in a row. The change results from a data manipulation language (DML) statement or a piecewise operation. For example, a single DML statement can insert or merge multiple rows into a table, can update multiple rows in a table, or can delete multiple rows from a table. Applications can also construct LCRs that are enqueued for further processing.</p>
<p>A single DML statement can produce multiple row LCRs. That is, a capture process creates a row LCR for each row that is changed by the DML statement. In addition, an update to a LOB, <code dir="ltr">LONG</code>, <code dir="ltr">LONG</code> <code dir="ltr">RAW</code>, or <code dir="ltr">XMLType</code> stored as <code dir="ltr">CLOB</code> column in a single row can result in more than one row LCR.</p>
<p>Each row LCR is encapsulated in an object of <code dir="ltr">LCR$_ROW_RECORD</code> type. <a href="#BABGDJDE">Table 2-1</a> describes the attributes that are present in each row LCR.</p>
<div id="STRMS1459" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref30"></a><a id="BABGDJDE"></a>Table 2-1 Attributes Present in All Row LCRs</p>
<table class="cellalignment5973" title="Attributes Present in All Row LCRs" summary="This table describes each attribute that is present in all row LCRs." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t7">Attribute</th>
<th class="cellalignment5974" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t7" headers="r1c1-t7">
<p><code dir="ltr">source_database_name</code></p>
</td>
<td class="cellalignment5970" headers="r2c1-t7 r1c2-t7">
<p>The name of the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a> where the row change occurred.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t7" headers="r1c1-t7">
<p><code dir="ltr">command_type</code></p>
</td>
<td class="cellalignment5970" headers="r3c1-t7 r1c2-t7">
<p>The type of DML statement that produced the change, either <code dir="ltr">INSERT</code>, <code dir="ltr">UPDATE</code>, <code dir="ltr">DELETE</code>, <code dir="ltr">LOB</code> <code dir="ltr">ERASE</code>, <code dir="ltr">LOB</code> <code dir="ltr">WRITE</code>, or <code dir="ltr">LOB</code> <code dir="ltr">TRIM</code>.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t7" headers="r1c1-t7">
<p><code dir="ltr">object_owner</code></p>
</td>
<td class="cellalignment5970" headers="r4c1-t7 r1c2-t7">
<p>The schema name that contains the table with the changed&nbsp;row.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r5c1-t7" headers="r1c1-t7">
<p><code dir="ltr">object_name</code></p>
</td>
<td class="cellalignment5970" headers="r5c1-t7 r1c2-t7">
<p>The name of the table that contains the changed row.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r6c1-t7" headers="r1c1-t7">
<p><code dir="ltr">tag</code></p>
</td>
<td class="cellalignment5970" headers="r6c1-t7 r1c2-t7">
<p>A raw <a href="strms_glossary.htm#CHDBJJHH"><span class="xrefglossterm">tag</span></a> that you can use to track the LCR.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r7c1-t7" headers="r1c1-t7">
<p><code dir="ltr">transaction_id</code></p>
</td>
<td class="cellalignment5970" headers="r7c1-t7 r1c2-t7">
<p>The identifier of the transaction in which the DML statement was run.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r8c1-t7" headers="r1c1-t7">
<p><code dir="ltr">scn</code></p>
</td>
<td class="cellalignment5970" headers="r8c1-t7 r1c2-t7">
<p>The system change number (SCN) at the time when the change was made.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r9c1-t7" headers="r1c1-t7">
<p><code dir="ltr">old_values</code></p>
</td>
<td class="cellalignment5970" headers="r9c1-t7 r1c2-t7">
<p>The old column values related to the change. These are the column values for the row before the DML change. If the type of the DML statement is <code dir="ltr">UPDATE</code> or <code dir="ltr">DELETE</code>, then these old values include some or all of the columns in the changed row before the DML statement. If the type of the DML statement is <code dir="ltr">INSERT</code>, then there are no old values. For <code dir="ltr">UPDATE</code> and <code dir="ltr">DELETE</code> statements, row LCRs created by a capture process can include some or all of the old column values in the row, but row LCRs created by a synchronous capture always contain all of the new column values in the row.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r10c1-t7" headers="r1c1-t7">
<p><code dir="ltr">new_values</code></p>
</td>
<td class="cellalignment5970" headers="r10c1-t7 r1c2-t7">
<p>The new column values related to the change. These are the column values for the row after the DML change. If the type of the DML statement is <code dir="ltr">UPDATE</code> or <code dir="ltr">INSERT</code>, then these new values include some or all of the columns in the changed row after the DML statement. If the type of the DML statement is <code dir="ltr">DELETE</code>, then there are no new values. For <code dir="ltr">UPDATE</code> and <code dir="ltr">INSERT</code> statements, row LCRs created by a capture process can include some or all of the new column values in the row, but row LCRs created by a synchronous capture always contain all of the new column values in the row.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r11c1-t7" headers="r1c1-t7">
<p><code dir="ltr">position</code></p>
</td>
<td class="cellalignment5970" headers="r11c1-t7 r1c2-t7">
<p>A unique identifier of <code dir="ltr">RAW</code> data type for each LCR. The position is strictly increasing within a transaction and across transactions.</p>
<p>LCR position is commonly used in XStream configurations.</p>
<p>See <a class="olink XSTRM1101" href="../XSTRM/xstrm_gen_cncpt.htm#XSTRM1101"><span class="italic">Oracle Database XStream Guide</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<p>Row LCRs that were captured by a capture process or a synchronous capture contain additional attributes. <a href="#BABJCHJB">Table 2-2</a> describes these additional attributes. This table also shows whether the attribute is present in row LCRs captured by capture processes and row LCRs captured by synchronous captures. These attributes are not present in explicitly captured row LCRs.</p>
<div id="STRMS1460" class="tblformalwide">
<p class="titleintable"><a id="sthref31"></a><a id="BABJCHJB"></a>Table 2-2 Additional Attributes in Captured Row LCRs</p>
<table class="cellalignment5973" title="Additional Attributes in Captured Row LCRs" summary="This table describes the extra attributes in row LCRs captured by capture processes and synchronous captures." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t8">Attribute</th>
<th class="cellalignment5974" id="r1c2-t8">Description</th>
<th class="cellalignment5974" id="r1c3-t8">In Capture Process Row LCRs?</th>
<th class="cellalignment5974" id="r1c4-t8">In Synchronous Capture Row LCRs?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t8" headers="r1c1-t8">
<p><code dir="ltr">commit_scn</code></p>
</td>
<td class="cellalignment5970" headers="r2c1-t8 r1c2-t8">
<p>The commit system change number (SCN) of the transaction to which the LCR belongs.</p>
</td>
<td class="cellalignment5970" headers="r2c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r2c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t8" headers="r1c1-t8">
<p><code dir="ltr">commit_scn_from_position</code></p>
</td>
<td class="cellalignment5970" headers="r3c1-t8 r1c2-t8">
<p>The commit system change number (SCN) of a transaction determined by the input position, which is generated by an XStream outbound server.</p>
</td>
<td class="cellalignment5970" headers="r3c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r3c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t8" headers="r1c1-t8">
<p><code dir="ltr">commit_time</code></p>
</td>
<td class="cellalignment5970" headers="r4c1-t8 r1c2-t8">
<p>The commit time of the transaction to which the LCR belongs.</p>
</td>
<td class="cellalignment5970" headers="r4c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r4c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r5c1-t8" headers="r1c1-t8">
<p><code dir="ltr">compatible</code></p>
</td>
<td class="cellalignment5970" headers="r5c1-t8 r1c2-t8">
<p>The minimal database compatibility required to support the LCR.</p>
</td>
<td class="cellalignment5970" headers="r5c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r5c1-t8 r1c4-t8">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r6c1-t8" headers="r1c1-t8">
<p><code dir="ltr">instance_number</code></p>
</td>
<td class="cellalignment5970" headers="r6c1-t8 r1c2-t8">
<p>The instance number of the database instance that made the change that is encapsulated in the LCR. Typically, the instance number is relevant in an Oracle Real Application Clusters (Oracle RAC) configuration.</p>
</td>
<td class="cellalignment5970" headers="r6c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r6c1-t8 r1c4-t8">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r7c1-t8" headers="r1c1-t8">
<p><code dir="ltr">lob_information</code></p>
</td>
<td class="cellalignment5970" headers="r7c1-t8 r1c2-t8">
<p>The LOB information for the column, such as <code dir="ltr">NOT_A_LOB</code> or <code dir="ltr">LOB_CHUNK</code>.</p>
</td>
<td class="cellalignment5970" headers="r7c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r7c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r8c1-t8" headers="r1c1-t8">
<p><code dir="ltr">lob_offset</code></p>
</td>
<td class="cellalignment5970" headers="r8c1-t8 r1c2-t8">
<p>The LOB offset for the specified column in the number of characters for <code dir="ltr">CLOB</code> columns and the number of bytes for <code dir="ltr">BLOB</code> columns.</p>
</td>
<td class="cellalignment5970" headers="r8c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r8c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r9c1-t8" headers="r1c1-t8">
<p><code dir="ltr">lob_operation_size</code></p>
</td>
<td class="cellalignment5970" headers="r9c1-t8 r1c2-t8">
<p>The operation size for the LOB column in the number of characters for <code dir="ltr">CLOB</code> columns and the number of bytes for <code dir="ltr">BLOB</code> columns.</p>
</td>
<td class="cellalignment5970" headers="r9c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r9c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r10c1-t8" headers="r1c1-t8">
<p><code dir="ltr">long_information</code></p>
</td>
<td class="cellalignment5970" headers="r10c1-t8 r1c2-t8">
<p>The <code dir="ltr">LONG</code> information for the column, such as <code dir="ltr">NOT_A_LONG</code> or <code dir="ltr">LONG_CHUNK</code>.</p>
</td>
<td class="cellalignment5970" headers="r10c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r10c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r11c1-t8" headers="r1c1-t8">
<p><code dir="ltr">row_text</code></p>
</td>
<td class="cellalignment5970" headers="r11c1-t8 r1c2-t8">
<p>The SQL statement for the change that is encapsulated in the row LCR.</p>
</td>
<td class="cellalignment5970" headers="r11c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r11c1-t8 r1c4-t8">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r12c1-t8" headers="r1c1-t8">
<p><code dir="ltr">scn_from_position</code></p>
</td>
<td class="cellalignment5970" headers="r12c1-t8 r1c2-t8">
<p>The commit system change number (SCN) of a transaction determined by the input position, which is generated by an XStream outbound server.</p>
</td>
<td class="cellalignment5970" headers="r12c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r12c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r13c1-t8" headers="r1c1-t8">
<p><code dir="ltr">source_time</code></p>
</td>
<td class="cellalignment5970" headers="r13c1-t8 r1c2-t8">
<p>The time when the change in an LCR captured by a capture process was generated in the redo log of the source database, or the time when a persistent LCR was created.</p>
</td>
<td class="cellalignment5970" headers="r13c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r13c1-t8 r1c4-t8">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r14c1-t8" headers="r1c1-t8">
<p><code dir="ltr">xml_information</code></p>
</td>
<td class="cellalignment5970" headers="r14c1-t8 r1c2-t8">
<p>The XML information for the column, such as <code dir="ltr">NOT_XML</code>, <code dir="ltr">XML_DOC</code>, or <code dir="ltr">XML_DIFF</code>.</p>
</td>
<td class="cellalignment5970" headers="r14c1-t8 r1c3-t8">
<p>Yes</p>
</td>
<td class="cellalignment5970" headers="r14c1-t8 r1c4-t8">
<p>No</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformalwide" -->
<p>A row LCR captured by a capture process or synchronous capture can also contain transaction control statements. These row LCRs contain transaction control directives such as <code dir="ltr">COMMIT</code> and <code dir="ltr">ROLLBACK</code>. Such row LCRs are internal and are used by an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> to maintain transaction consistency between a source database and a <a href="strms_glossary.htm#CHDGCAJA"><span class="xrefglossterm">destination database</span></a>.</p>
</div>
<!-- class="sect3" -->
<a id="BABBDHJC"></a>
<div id="STRMS301" class="sect3">
<h4 class="sect3">DDL LCRs<a id="sthref32"></a></h4>
<p>A DDL LCR describes a data definition language (DDL) change. A DDL statement changes the structure of the database. For example, a DDL statement can create, alter, or drop a database object.</p>
<p>Each DDL LCR is encapsulated in an object of <code dir="ltr">LCR$_DDL_RECORD</code> type. <a href="#BABEGFJI">Table 2-3</a> describes the attributes that are present in each DDL LCR.</p>
<div id="STRMS1461" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref33"></a><a id="BABEGFJI"></a>Table 2-3 Attributes Present in All DDL LCRs</p>
<table class="cellalignment5973" title="Attributes Present in All DDL LCRs" summary="This table describes each attribute that is present in all DDL LCRs." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t9">Attribute</th>
<th class="cellalignment5974" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t9" headers="r1c1-t9">
<p><code dir="ltr">source_database_name</code></p>
</td>
<td class="cellalignment5970" headers="r2c1-t9 r1c2-t9">
<p>The name of the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a> where the row change occurred.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t9" headers="r1c1-t9">
<p><code dir="ltr">command_type</code></p>
</td>
<td class="cellalignment5970" headers="r3c1-t9 r1c2-t9">
<p>The type of DDL statement that produced the change, for example <code dir="ltr">ALTER</code> <code dir="ltr">TABLE</code> or <code dir="ltr">CREATE</code> <code dir="ltr">INDEX</code>.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t9" headers="r1c1-t9">
<p><code dir="ltr">object_owner</code></p>
</td>
<td class="cellalignment5970" headers="r4c1-t9 r1c2-t9">
<p>The schema name of the user who owns the database object on which the DDL statement was run.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r5c1-t9" headers="r1c1-t9">
<p><code dir="ltr">object_name</code></p>
</td>
<td class="cellalignment5970" headers="r5c1-t9 r1c2-t9">
<p>The name of the database object on which the DDL statement was run.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r6c1-t9" headers="r1c1-t9">
<p><code dir="ltr">object_type</code></p>
</td>
<td class="cellalignment5970" headers="r6c1-t9 r1c2-t9">
<p>The type of database object on which the DDL statement was run, for example <code dir="ltr">TABLE</code> or <code dir="ltr">PACKAGE</code>.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r7c1-t9" headers="r1c1-t9">
<p><code dir="ltr">ddl_text</code></p>
</td>
<td class="cellalignment5970" headers="r7c1-t9 r1c2-t9">
<p>The text of the DDL statement.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r8c1-t9" headers="r1c1-t9">
<p><code dir="ltr">logon_user</code></p>
</td>
<td class="cellalignment5970" headers="r8c1-t9 r1c2-t9">
<p>The logon user, which is the user whose session executed the DDL statement.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r9c1-t9" headers="r1c1-t9">
<p><code dir="ltr">current_schema</code></p>
</td>
<td class="cellalignment5970" headers="r9c1-t9 r1c2-t9">
<p>The schema that is used if no schema is specified for an object in the DDL text.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r10c1-t9" headers="r1c1-t9">
<p><code dir="ltr">base_table_owner</code></p>
</td>
<td class="cellalignment5970" headers="r10c1-t9 r1c2-t9">
<p>The base table owner. If the DDL statement is dependent on a table, then the base table owner is the owner of the table on which it is dependent.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r11c1-t9" headers="r1c1-t9">
<p><code dir="ltr">base_table_name</code></p>
</td>
<td class="cellalignment5970" headers="r11c1-t9 r1c2-t9">
<p>The base table name. If the DDL statement is dependent on a table, then the base table name is the name of the table on which it is dependent.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r12c1-t9" headers="r1c1-t9">
<p><code dir="ltr">tag</code></p>
</td>
<td class="cellalignment5970" headers="r12c1-t9 r1c2-t9">
<p>A raw <a href="strms_glossary.htm#CHDBJJHH"><span class="xrefglossterm">tag</span></a> that you can use to track the LCR.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r13c1-t9" headers="r1c1-t9">
<p><code dir="ltr">transaction_id</code></p>
</td>
<td class="cellalignment5970" headers="r13c1-t9 r1c2-t9">
<p>The identifier of the transaction in which the DDL statement was run.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r14c1-t9" headers="r1c1-t9">
<p><code dir="ltr">scn</code></p>
</td>
<td class="cellalignment5970" headers="r14c1-t9 r1c2-t9">
<p>The system change number (SCN) at the time when the change was made.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r15c1-t9" headers="r1c1-t9">
<p><code dir="ltr">position</code></p>
</td>
<td class="cellalignment5970" headers="r15c1-t9 r1c2-t9">
<p>A unique identifier of <code dir="ltr">RAW</code> data type for each LCR. The position is strictly increasing within a transaction and across transactions.</p>
<p>LCR position is commonly used in XStream configurations.</p>
<p>See <a class="olink XSTRM1101" href="../XSTRM/xstrm_gen_cncpt.htm#XSTRM1101"><span class="italic">Oracle Database XStream Guide</span></a>.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r16c1-t9" headers="r1c1-t9">
<p><code dir="ltr">edition_name</code></p>
</td>
<td class="cellalignment5970" headers="r16c1-t9 r1c2-t9">
<p>The name of the edition in which the DDL statement was executed.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<p>DDL LCRs that were captured by a capture process contain additional attributes. <a href="#BABJCHJB">Table 2-2</a> describes these additional attributes. Synchronous captures cannot capture DDL changes, and these attributes are not present in explicitly captured DDL LCRs.</p>
<div id="STRMS1462" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref34"></a><a id="sthref35"></a>Table 2-4 Additional Attributes in Captured DDL LCRs</p>
<table class="cellalignment5973" title="Additional Attributes in Captured DDL LCRs" summary="This table describes the extra attributes in DDL LCRs captured by capture processes and synchronous captures." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t10">Attribute</th>
<th class="cellalignment5974" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t10" headers="r1c1-t10">
<p><code dir="ltr">commit_scn</code></p>
</td>
<td class="cellalignment5970" headers="r2c1-t10 r1c2-t10">
<p>The commit system change number (SCN) of the transaction to which the LCR belongs.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t10" headers="r1c1-t10">
<p><code dir="ltr">commit_scn_from_position</code></p>
</td>
<td class="cellalignment5970" headers="r3c1-t10 r1c2-t10">
<p>The commit system change number (SCN) of a transaction determined by the input position, which is generated by an XStream outbound server.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t10" headers="r1c1-t10">
<p><code dir="ltr">commit_time</code></p>
</td>
<td class="cellalignment5970" headers="r4c1-t10 r1c2-t10">
<p>The commit time of the transaction to which the LCR belongs.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r5c1-t10" headers="r1c1-t10">
<p><code dir="ltr">compatible</code></p>
</td>
<td class="cellalignment5970" headers="r5c1-t10 r1c2-t10">
<p>The minimal database compatibility required to support the LCR.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r6c1-t10" headers="r1c1-t10">
<p><code dir="ltr">instance_number</code></p>
</td>
<td class="cellalignment5970" headers="r6c1-t10 r1c2-t10">
<p>The instance number of the database instance that made the change that is encapsulated in the LCR. Typically, the instance number is relevant in an Oracle Real Application Clusters (Oracle RAC) configuration.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r7c1-t10" headers="r1c1-t10">
<p><code dir="ltr">scn_from_position</code></p>
</td>
<td class="cellalignment5970" headers="r7c1-t10 r1c2-t10">
<p>The commit system change number (SCN) of a transaction determined by the input position, which is generated by an XStream outbound server.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r8c1-t10" headers="r1c1-t10">
<p><code dir="ltr">source_time</code></p>
</td>
<td class="cellalignment5970" headers="r8c1-t10 r1c2-t10">
<p>The time when the change in an LCR captured by a capture process was generated in the redo log of the source database, or the time when a persistent LCR was created.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
Both row LCRs and DDL LCRs contain the source database name of the database where a change originated. If <a href="strms_glossary.htm#CHDCHEJI"><span class="xrefglossterm">captured LCR</span></a>s will be propagated by a <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a> or applied by an apply process, then, to avoid propagation and apply problems, Oracle recommends that you do not rename the source database after a capture process has started capturing changes.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink LNOCI251" href="../LNOCI/ociaahan.htm#LNOCI251"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> for a complete list of the types of DDL statements in the &#34;SQL Command Codes&#34; table</p>
</li>
<li>
<p><a class="olink ARPLS567" href="../ARPLS/t_lcr.htm#ARPLS567"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" -->
<a id="CACHIIJF"></a>
<div id="STRMS302" class="sect3">
<h4 class="sect3">Extra Information in LCRs<a id="sthref36"></a><a id="sthref37"></a></h4>
<p>In addition to the information discussed in the previous sections, row LCRs and DDL LCRs optionally can include the extra information (or LCR attributes) described in <a href="#BABBHEAE">Table 2-5</a>.</p>
<div id="STRMS1463" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref38"></a><a id="BABBHEAE"></a>Table 2-5 Extra Attributes in LCRs</p>
<table class="cellalignment5973" title="Extra Attributes in LCRs" summary="This table describes each extra attribute that can be included in LCRs." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t13">Attribute</th>
<th class="cellalignment5974" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t13" headers="r1c1-t13">
<p><code dir="ltr">row_id</code></p>
</td>
<td class="cellalignment5970" headers="r2c1-t13 r1c2-t13">
<p>The rowid of the row changed in a row LCR. This attribute is not included in DDL LCRs or row LCRs for index-organized tables.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t13" headers="r1c1-t13">
<p><code dir="ltr">serial#</code></p>
</td>
<td class="cellalignment5970" headers="r3c1-t13 r1c2-t13">
<p>The serial number of the session that performed the change captured in the&nbsp;LCR.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t13" headers="r1c1-t13">
<p><code dir="ltr">session#</code></p>
</td>
<td class="cellalignment5970" headers="r4c1-t13 r1c2-t13">
<p>The identifier of the session that performed the change captured in the LCR.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r5c1-t13" headers="r1c1-t13">
<p><code dir="ltr">thread#</code></p>
</td>
<td class="cellalignment5970" headers="r5c1-t13 r1c2-t13">
<p>The thread number of the instance in which the change captured in the LCR was performed. Typically, the thread number is relevant only in an Oracle Real Application Clusters (Oracle RAC) environment.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r6c1-t13" headers="r1c1-t13">
<p><code dir="ltr">tx_name</code></p>
</td>
<td class="cellalignment5970" headers="r6c1-t13 r1c2-t13">
<p>The name of the transaction that includes the LCR.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r7c1-t13" headers="r1c1-t13">
<p><code dir="ltr">username</code></p>
</td>
<td class="cellalignment5970" headers="r7c1-t13 r1c2-t13">
<p>The name of the current user who performed the change captured in the&nbsp;LCR.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<p>You can use the <code dir="ltr">INCLUDE_EXTRA_ATTRIBUTE</code> procedure in the <code dir="ltr">DBMS_CAPTURE_ADM</code> package to instruct a capture process or synchronous capture to capture one or more extra attributes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_mcap.htm#i1011044">&#34;Managing Extra Attributes in Captured LCRs&#34;</a></p>
</li>
<li>
<p><a href="strms_cpmon.htm#i1013673">&#34;Viewing the Extra Attributes Captured by Implicit Capture&#34;</a></p>
</li>
<li>
<p><a class="olink ARPLS522" href="../ARPLS/d_cap_a.htm#ARPLS522"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code dir="ltr">INCLUDE_EXTRA_ATTRIBUTE</code> procedure</p>
</li>
<li>
<p><a class="olink LNPLS00809" href="../LNPLS/subprograms.htm#LNPLS00809"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the current user</p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACCCHDA"></a>
<div id="STRMS303" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">User Messages</h3>
<p>Messages that do not contain LCRs are called <span class="bold">user messages</span>. User messages can be of any type (except an LCR type). User messages can be created by an application and consumed by an application. For example, a business application might create a user message for each order, and these messages might be processed by another application.</p>
<p>You can capture the following types of user messages with Oracle Streams:</p>
<ul>
<li>
<p>A <span class="bold">persistent user message</span> is a non-<a href="strms_glossary.htm#CHDJDFAD"><span class="xrefglossterm">LCR</span></a> <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a> of a user-defined type that is enqueued into a <a href="strms_glossary.htm#CBAEIBGJ"><span class="xrefglossterm">persistent queue</span></a>. A persistent user message can be enqueued in one of the following ways:</p>
<ul>
<li>
<p>Created explicitly by an application and enqueued</p>
</li>
<li>
<p>Dequeued by an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> and enqueued by the same apply process using the <code dir="ltr">SET_ENQUEUE_DESTINATION</code> procedure in the <code dir="ltr">DBMS_APPLY_ADM</code> package</p>
</li>
</ul>
<p>A persistent user message can be enqueued into the persistent queue portion of an <a href="strms_glossary.htm#CHDJDEHJ"><span class="xrefglossterm">ANYDATA queue</span></a> or a <a href="strms_glossary.htm#CHDBGAAH"><span class="xrefglossterm">typed queue</span></a>.</p>
</li>
<li>
<p>A <span class="bold">buffered user message</span> is a non-LCR message of a user-defined type that is created explicitly by an application and enqueued into a <a href="strms_glossary.htm#CHDFJFED"><span class="xrefglossterm">buffered queue</span></a>. A buffered user message can be enqueued into the buffered queue portion of an <code dir="ltr">ANYDATA</code> queue or a typed queue.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Capture processes and synchronous captures never capture user messages.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_prop.htm#i1006905">&#34;Persistent Queues and Buffered Queues&#34;</a></p>
</li>
<li>
<p><a href="strms_mapply.htm#CHDCHAGD">&#34;Setting the Destination Queue for Messages that Satisfy a Rule&#34;</a> for more information about the <code dir="ltr">SET_ENQUEUE_DESTINATION</code> procedure</p>
</li>
<li>
<p><a class="olink ADQUE2100" href="../ADQUE/mg_trble.htm#ADQUE2100"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for information about using <code dir="ltr">ANYDATA</code> queues for messaging</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACJJIAH"></a>
<div id="STRMS304" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Summary of Information Capture Options with Oracle Streams</h2>
<p><a href="#CACFIECG">Table 2-6</a> summarizes the capture options available with Oracle Streams.</p>
<div id="STRMS305" class="tblhruleformalwide">
<p class="titleintable"><a id="sthref39"></a><a id="CACFIECG"></a>Table 2-6 Information Capture Options with Oracle Streams</p>
<table class="cellalignment5973" title="Information Capture Options with Oracle Streams" summary="This table describes the capture mechanism, message types, queues messages are enqueued into, and when to use the various capture options available with Streams." dir="ltr">
<thead>
<tr class="cellalignment5964">
<th class="cellalignment5974" id="r1c1-t17">Capture Type</th>
<th class="cellalignment5974" id="r1c2-t17">Capture Mechanism</th>
<th class="cellalignment5974" id="r1c3-t17">Message Types</th>
<th class="cellalignment5974" id="r1c4-t17">Enqueued Into</th>
<th class="cellalignment5974" id="r1c5-t17">Use When</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r2c1-t17" headers="r1c1-t17">
<p><a href="#CACGECDI">Implicit Capture with an Oracle Streams Capture Process</a></p>
</td>
<td class="cellalignment5970" headers="r2c1-t17 r1c2-t17">
<p>Mining of Redo Log</p>
</td>
<td class="cellalignment5970" headers="r2c1-t17 r1c3-t17">
<p>Captured LCRs</p>
</td>
<td class="cellalignment5970" headers="r2c1-t17 r1c4-t17">
<p>Buffered Queue</p>
</td>
<td class="cellalignment5970" headers="r2c1-t17 r1c5-t17">
<p>You want to capture changes to many tables.</p>
<p>You want to capture changes to schemas or an entire database.</p>
<p>You want to capture DDL changes.</p>
<p>You want to capture changes at a downstream database.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r3c1-t17" headers="r1c1-t17">
<p><a href="#CACIDGBI">Implicit Capture with Synchronous Capture</a></p>
</td>
<td class="cellalignment5970" headers="r3c1-t17 r1c2-t17">
<p>Internal Mechanism</p>
</td>
<td class="cellalignment5970" headers="r3c1-t17 r1c3-t17">
<p>Persistent LCRs</p>
</td>
<td class="cellalignment5970" headers="r3c1-t17 r1c4-t17">
<p>Persistent Queue</p>
</td>
<td class="cellalignment5970" headers="r3c1-t17 r1c5-t17">
<p>You want to capture DML changes to a small number of tables.</p>
<p>You want to capture DML changes immediately after they occur.</p>
</td>
</tr>
<tr class="cellalignment5964">
<td class="cellalignment5970" id="r4c1-t17" headers="r1c1-t17">
<p><a href="#CACGBFJB">Explicit Capture by Applications</a></p>
</td>
<td class="cellalignment5970" headers="r4c1-t17 r1c2-t17">
<p>Manual Message Creation and Enqueue</p>
</td>
<td class="cellalignment5970" headers="r4c1-t17 r1c3-t17">
<p>Buffered LCRs</p>
<p>Persistent LCRs</p>
<p>Buffered User Messages</p>
<p>Persistent User Messages</p>
</td>
<td class="cellalignment5970" headers="r4c1-t17 r1c4-t17">
<p>Buffered Queue or Persistent Queue</p>
</td>
<td class="cellalignment5970" headers="r4c1-t17 r1c5-t17">
<p>You want to capture user messages that will be consumed by applications.</p>
<p>You want to capture LCRs in a heterogeneous replication environment.</p>
<p>You want to construct LCRs by using an application instead of by using a capture process or a synchronous capture.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblhruleformalwide" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
A single database can use any combination of the capture options summarized in the table.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_prop.htm#i1006905">&#34;Persistent Queues and Buffered Queues&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="i1013391"></a>
<div id="STRMS306" class="sect1">
<h2 class="sect1">Instantiation in an Oracle Streams Environment<a id="sthref40"></a><a id="sthref41"></a></h2>
<p>An Oracle Streams environment can share a database object within a single database or between multiple databases. In an Oracle Streams environment that shares database objects and uses implicit capture to capture changes to the database object, the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a> is the database where the change originated. The source database is one of the following depending on the type of implicit capture used:</p>
<ul>
<li>
<p>If a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> captures changes, then the source database is the database where changes to the object are generated in the redo log.</p>
</li>
<li>
<p>If <a href="strms_glossary.htm#CBACHEDJ"><span class="xrefglossterm">synchronous capture</span></a> captures changes, then the source database is the database where synchronous capture is configured.</p>
</li>
</ul>
<p>After changes are captured, they can be applied locally or propagated to other databases and applied at destination databases.</p>
<p>In an Oracle Streams environment that shares database objects, you must instantiate the shared source database objects before changes to them can be dequeued and processed by an apply process. If a database where changes to the source database objects will be applied is a different database than the source database, then the destination database must have a copy of these database objects.</p>
<p>In Oracle Streams, the following general steps instantiate a database object:</p>
<a id="i1016148"></a>
<ol>
<li id="BABIFCBD">
<p>Prepare the object for instantiation at the source database.</p>
</li>
<li>
<p>If a copy of the object does not exist at the destination database, then create an object physically at the destination database based on an object at the source database. You can use export/import, transportable tablespaces, or RMAN to copy database objects for instantiation. If the database objects already exist at the destination database, then this step is not necessary.</p>
</li>
<li id="i1016149">
<p>Set the <a href="strms_glossary.htm#CHDHBBHE"><span class="xrefglossterm">instantiation SCN</span></a> for the database object at the destination database. An instantiation system change number (SCN) instructs an apply process at the destination database to apply only changes that committed at the source database after the specified&nbsp;SCN.</p>
</li>
</ol>
<p>In some cases, Step <a href="#BABIFCBD">1</a> and Step <a href="#i1016149">3</a> are completed automatically. For example, when you add <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s for an object to the <a href="strms_glossary.htm#CHDEEDIJ"><span class="xrefglossterm">positive rule set</span></a> for a capture process by running a procedure in the <code dir="ltr">DBMS_STREAMS_ADM</code> package, the procedure prepares the object for instantiation automatically. Also, when you use export/import or transportable tablespaces to copy database objects from a source database to a destination database, instantiation SCNs can be set for these objects automatically during import. Instantiation is required whenever an apply process dequeues <a href="strms_glossary.htm#CHDCHEJI"><span class="xrefglossterm">captured LCR</span></a>s, even if the apply process sends the LCRs to an <a href="strms_glossary.htm#CHDCJAED"><span class="xrefglossterm">apply handler</span></a> that does not execute them.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink STREP113" href="../STREP/instant.htm#STREP113"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for detailed information about instantiation in an Oracle Streams replication environment</p>
</li>
</ul>
</div>
</div>
<!-- class="sect1" -->
<a id="CACGECDI"></a>
<div id="STRMS307" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Implicit Capture with an Oracle Streams Capture Process<a id="sthref42"></a><a id="sthref43"></a></h2>
<p>This section explains the concepts related to the Oracle Streams <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a>.</p>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#i1006148">Introduction to Capture Processes</a></p>
</li>
<li>
<p><a href="#i1006237">Capture Process Rules</a></p>
</li>
<li>
<p><a href="#i1006263">Data Types Captured by Capture Processes</a></p>
</li>
<li>
<p><a href="#i1006318">Types of DML Changes Captured by Capture Processes</a></p>
</li>
<li>
<p><a href="#i1007293">Supplemental Logging in an Oracle Streams Environment</a></p>
</li>
<li>
<p><a href="#i1013269">Local Capture and Downstream Capture</a></p>
</li>
<li>
<p><a href="#i1006559">SCN Values Related to a Capture Process</a></p>
</li>
<li>
<p><a href="#i1006594">Oracle Streams Capture Processes and RESTRICTED SESSION</a></p>
</li>
<li>
<p><a href="#i1006718">Capture Process Subcomponents</a></p>
</li>
<li>
<p><a href="#CACCGAEB">Capture User</a></p>
</li>
<li>
<p><a href="#i1014290">Capture Process States</a></p>
</li>
<li>
<p><a href="#i1007025">Capture Process Parameters</a></p>
</li>
<li>
<p><a href="#i1007104">Persistent Capture Process Status Upon Database Restart</a></p>
</li>
</ul>
<a id="i1006148"></a>
<div id="STRMS308" class="sect2">
<h3 class="sect2">Introduction to Capture Processes<a id="sthref44"></a><a id="sthref45"></a></h3>
<p>Every Oracle database has a set of two or more redo log files. The redo log files for a database are collectively known as the database redo log. The primary function of the redo log is to record all of the changes made to the database.</p>
<p>Redo logs are used to guarantee recoverability in the event of human error or media failure. A <span class="bold">capture process</span> is an optional Oracle background process that scans the database redo log to capture data manipulation language (DML) and data definition language (DDL) changes made to database objects. When a capture process is configured to capture changes from a redo log, the database where the changes were generated is called the <span class="bold">source database</span> for the capture process.</p>
<p>When a capture process captures a database change, it converts it into a specific message format called a <a href="strms_glossary.htm#CHDEJJAF"><span class="xrefglossterm">logical change record (LCR)</span></a>. After capturing an LCR, a capture process enqueues a message containing the LCR into a <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>. A capture process is always associated with a single <code dir="ltr">ANYDATA</code> queue, and it enqueues messages into this queue only. For improved performance, <a href="strms_glossary.htm#CHDCHEJI"><span class="xrefglossterm">captured LCR</span></a>s always are stored in a <a href="strms_glossary.htm#CHDFJFED"><span class="xrefglossterm">buffered queue</span></a>, which is System Global Area (SGA) memory associated with a queue. You can create multiple queues and associate a different capture process with each queue.</p>
<p>Captured LCRs can be sent to queues in the same database or other databases by propagations. Captured LCRs can also be dequeued by apply processes. In some situations, an optimization enables capture processes to send LCRs to apply processes more efficiently. This optimization is called combined capture and apply.</p>
<p>A capture process can run on its source database or on a remote database. When a capture process runs on its source database, the capture process is a <span class="bold">local capture process</span>. When a capture process runs on a remote database, the capture process is a <span class="bold">downstream capture process</span>, and the remote database is called the <span class="bold">downstream database</span>.</p>
<p><a href="#i1006166">Figure 2-1</a> shows a capture process capturing LCRs.</p>
<div id="STRMS309" class="figure">
<p class="titleinfigure"><a id="i1006166"></a>Figure 2-1 Capture Process</p>
<img width="201" height="350" src="img/strms012.gif" alt="Description of Figure 2-1 follows"/><br/>
<a id="sthref46" href="img_text/strms012.htm">Description of &#34;Figure 2-1 Capture Process&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>A capture process can be associated only with an <code dir="ltr">ANYDATA</code> queue, not with a <a href="strms_glossary.htm#CHDBGAAH"><span class="xrefglossterm">typed queue</span></a>.</p>
</li>
<li>
<p>A capture process and a synchronous capture should not capture changes made to the same table.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#i1006153">&#34;Logical Change Records (LCRs)&#34;</a></p>
</li>
<li>
<p><a href="#i1007293">&#34;Supplemental Logging in an Oracle Streams Environment&#34;</a></p>
</li>
<li>
<p><a href="strms_adcca.htm#BGBJBDHJ">Chapter 12, &#34;Combined Capture and Apply Optimization&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1006237"></a>
<div id="STRMS310" class="sect2">
<h3 class="sect2">Capture Process Rules<a id="sthref47"></a><a id="sthref48"></a></h3>
<p>A <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> either captures or discards changes based on <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s that you define. Each rule specifies the database objects and types of changes for which the rule evaluates to <code dir="ltr">TRUE</code>. You can place these rules in a <a href="strms_glossary.htm#CHDEEDIJ"><span class="xrefglossterm">positive rule set</span></a> or <a href="strms_glossary.htm#CHDBHJHI"><span class="xrefglossterm">negative rule set</span></a> for the capture process.</p>
<p>If a rule evaluates to <code dir="ltr">TRUE</code> for a change, and the rule is in the positive rule set for a capture process, then the capture process captures the change. If a rule evaluates to <code dir="ltr">TRUE</code> for a change, and the rule is in the negative rule set for a capture process, then the capture process discards the change. If a capture process has both a positive and a negative rule set, then the negative rule set is always evaluated first.</p>
<p>You can specify capture process rules at the following levels:</p>
<ul>
<li>
<p>A table rule captures or discards either row changes resulting from DML changes or DDL changes to a particular table. Subset rules are table rules that include a subset of the row changes to a particular table.</p>
</li>
<li>
<p>A schema rule captures or discards either row changes resulting from DML changes or DDL changes to the database objects in a particular schema.</p>
</li>
<li>
<p>A global rule captures or discards either all row changes resulting from DML changes or all DDL changes in the database.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref49"></a><a id="sthref50"></a>The capture process does not capture certain types of changes and changes to certain data types in table columns. Also, a capture process never captures changes in the <code dir="ltr">SYS</code>, <code dir="ltr">SYSTEM</code>, or <code dir="ltr">CTXSYS</code> schemas.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_adrules.htm#BABEBHGC">Chapter 11, &#34;Advanced Rule Concepts&#34;</a></p>
</li>
<li>
<p><a href="strms_rules.htm#g1049257">Chapter 5, &#34;How Rules Are Used in Oracle Streams&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1006263"></a>
<div id="STRMS136" class="sect2">
<h3 class="sect2">Data Types Captured by Capture Processes<a id="sthref51"></a></h3>
<p>When capturing the row changes resulting from DML changes made to tables, a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> can capture changes made to columns of the following data types:</p>
<ul>
<li>
<p><code dir="ltr">VARCHAR2</code></p>
</li>
<li>
<p><code dir="ltr">NVARCHAR2</code></p>
</li>
<li>
<p><code dir="ltr">FLOAT</code></p>
</li>
<li>
<p><code dir="ltr">NUMBER</code></p>
</li>
<li>
<p><code dir="ltr">LONG</code></p>
</li>
<li>
<p><code dir="ltr">DATE</code></p>
</li>
<li>
<p><code dir="ltr">BINARY_FLOAT</code></p>
</li>
<li>
<p><code dir="ltr">BINARY_DOUBLE</code></p>
</li>
<li>
<p><code dir="ltr">TIMESTAMP</code></p>
</li>
<li>
<p><code dir="ltr">TIMESTAMP</code> <code dir="ltr">WITH</code> <code dir="ltr">TIME</code> <code dir="ltr">ZONE</code></p>
</li>
<li>
<p><code dir="ltr">TIMESTAMP</code> <code dir="ltr">WITH</code> <code dir="ltr">LOCAL</code> <code dir="ltr">TIME</code> <code dir="ltr">ZONE</code></p>
</li>
<li>
<p><code dir="ltr">INTERVAL</code> <code dir="ltr">YEAR</code> <code dir="ltr">TO</code> <code dir="ltr">MONTH</code></p>
</li>
<li>
<p><code dir="ltr">INTERVAL</code> <code dir="ltr">DAY</code> <code dir="ltr">TO</code> <code dir="ltr">SECOND</code></p>
</li>
<li>
<p><code dir="ltr">RAW</code></p>
</li>
<li>
<p><code dir="ltr">LONG</code> <code dir="ltr">RAW</code></p>
</li>
<li>
<p><code dir="ltr">CHAR</code></p>
</li>
<li>
<p><code dir="ltr">NCHAR</code></p>
</li>
<li>
<p><code dir="ltr">UROWID</code></p>
</li>
<li>
<p><code dir="ltr">CLOB</code> with <code dir="ltr">BASICFILE</code> or <code dir="ltr">SECUREFILE</code> storage</p>
</li>
<li>
<p><code dir="ltr">NCLOB</code> with <code dir="ltr">BASICFILE</code> or <code dir="ltr">SECUREFILE</code> storage</p>
</li>
<li>
<p><code dir="ltr">BLOB</code> with <code dir="ltr">BASICFILE</code> or <code dir="ltr">SECUREFILE</code> storage</p>
</li>
<li>
<p><code dir="ltr">XMLType</code> stored as <code dir="ltr">CLOB</code></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Some of these data types might not be supported by Oracle Streams in earlier releases of Oracle Database. If your Oracle Streams environment includes one or more databases from an earlier release, then ensure that row LCRs do not flow into a database that does not support all of the data types in the row LCRs. See the Oracle Streams documentation for the earlier release for information about supported data types.</p>
</li>
<li>
<p>Capture processes can capture changes to SecureFiles LOB columns only if the database compatibility level is set to 11.2.0 or higher.</p>
</li>
<li>
<p>Capture processes do not support extended data types introduced in Oracle Database 12<span class="italic">c</span>.</p>
</li>
<li>
<p><code dir="ltr">XMLType</code> stored as a <code dir="ltr">CLOB</code> is deprecated in this release.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="ap_restrictions.htm#BABBBIDF">&#34;Unsupported Data Types for Capture Processes&#34;</a> for information about data type restrictions for capture processes, including restrictions for SecureFiles LOBs</p>
</li>
<li>
<p><a href="strms_rules.htm#g1049257">Chapter 5, &#34;How Rules Are Used in Oracle Streams&#34;</a></p>
</li>
<li>
<p><a href="strms_apply.htm#i1006373">&#34;Data Types Applied&#34;</a></p>
</li>
<li>
<p><a class="olink SQLRF002" href="../SQLRF/sql_elements.htm#SQLRF002"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about data types</p>
</li>
<li>
<p><a class="olink UPGRD005" href="../UPGRD/intro.htm#UPGRD005"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about database compatibility</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1006318"></a>
<div id="STRMS311" class="sect2">
<h3 class="sect2">Types of DML Changes Captured by Capture Processes<a id="sthref52"></a></h3>
<p>When you specify that DML changes made to certain tables should be captured, a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> captures the following types of DML changes made to these tables:</p>
<ul>
<li>
<p><code dir="ltr">INSERT</code></p>
</li>
<li>
<p><code dir="ltr">UPDATE</code></p>
</li>
<li>
<p><code dir="ltr">DELETE</code></p>
</li>
<li>
<p><code dir="ltr">MERGE</code></p>
</li>
<li>
<p>Piecewise operations</p>
</li>
</ul>
<p>A capture process converts each <code dir="ltr">MERGE</code> change into an <code dir="ltr">INSERT</code> or <code dir="ltr">UPDATE</code> change. <code dir="ltr">MERGE</code> is not a valid command type in a row&nbsp;LCR.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="ap_restrictions.htm#BABGIFEA">&#34;Unsupported Table Types for Capture Processes&#34;</a></p>
</li>
<li>
<p><a href="strms_apply.htm#g1018604">Chapter 4, &#34;Oracle Streams Information Consumption&#34;</a> for information about the types of changes an apply process can apply</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1007293"></a>
<div id="STRMS201" class="sect2">
<h3 class="sect2">Supplemental Logging in an Oracle Streams Environment<a id="sthref53"></a><a id="sthref54"></a><a id="sthref55"></a><a id="sthref56"></a><a id="sthref57"></a></h3>
<p>Supplemental logging places additional column data into a redo log whenever an operation is performed. A <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> captures this additional information and places it in LCRs. Supplemental logging is always configured at a <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>, regardless of location of the capture process that captures changes to the source database.</p>
<p>Typically, supplemental logging is required in Oracle Streams <a href="strms_glossary.htm#CHDCDAHE"><span class="xrefglossterm">replication</span></a> environments. In these environments, an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> needs the additional information in the LCRs to properly apply changes that are replicated from a source database to a <a href="strms_glossary.htm#CHDGCAJA"><span class="xrefglossterm">destination database</span></a>. However, supplemental logging can also be required in environments where changes are not applied to database objects directly by an apply process. In such environments, an <a href="strms_glossary.htm#CHDCJAED"><span class="xrefglossterm">apply handler</span></a> can process the changes without applying them to the database objects, and the supplemental information might be needed by the apply handlers.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink STREP107" href="../STREP/prep_rep.htm#STREP107"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for more information about supplemental logging</p>
</li>
<li>
<p><a href="strms_adapply.htm#i1006927">&#34;Considerations for Applying DML Changes to Tables&#34;</a> for more information about apply process behavior that might require supplemental logging at the source database</p>
</li>
<li>
<p><a href="strms_adapply.htm#BABDHCJE">&#34;Virtual Dependency Definitions&#34;</a> for more information about value dependencies</p>
</li>
<li>
<p><a href="strms_trapply.htm#CEGCEIBE">&#34;Is the Apply Process Waiting for a Dependent Transaction?&#34;</a> for more information about bitmap index columns and apply process parallelism</p>
</li>
<li>
<p><a href="strms_transform.htm#CACIIJHJ">Chapter 6, &#34;Rule-Based Transformations&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1013269"></a>
<div id="STRMS129" class="sect2">
<h3 class="sect2">Local Capture and Downstream Capture<a id="sthref58"></a><a id="sthref59"></a><a id="sthref60"></a></h3>
<p>You can configure a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> to run locally on a <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a> or remotely on a <a href="strms_glossary.htm#CHDBJECA"><span class="xrefglossterm">downstream database</span></a>. A single database can have one or more capture processes that capture local changes and other capture processes that capture changes from a remote source database. That is, you can configure a single database to perform both local capture and downstream capture.</p>
<div id="STRMS312" class="sect3"><a id="sthref61"></a>
<h4 class="sect3">Local Capture</h4>
<p>Local capture means that a capture process runs on the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>. <a href="#i1006166">Figure 2-1</a> shows a database using local capture.</p>
<div id="STRMS313" class="sect4"><a id="sthref62"></a>
<h5 class="sect4">The Source Database Performs All Change Capture Actions</h5>
<p>If you configure local capture, then the following actions are performed at the source database:</p>
<ul>
<li>
<p>The <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure is run to extract (or build) the data dictionary to the redo log.</p>
</li>
<li>
<p>Supplemental logging at the source database places additional information in the redo log. This information might be needed when captured changes are applied by an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a>.</p>
</li>
<li>
<p>The first time a capture process is started at the database, Oracle Database uses the extracted data dictionary information in the redo log to create a <a href="strms_glossary.htm#CBACJIJH"><span class="xrefglossterm">LogMiner data dictionary</span></a>, which is separate from the primary data dictionary for the source database. Additional capture processes can use this existing LogMiner data dictionary, or they can create new LogMiner data dictionaries.</p>
</li>
<li>
<p>A capture process scans the redo log for changes using LogMiner.</p>
</li>
<li>
<p>The <a href="strms_glossary.htm#CHDIIIDH"><span class="xrefglossterm">rules engine</span></a> evaluates changes based on the <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s in one or more of the capture process <a href="strms_glossary.htm#CHDCHGGB"><span class="xrefglossterm">rule set</span></a>s.</p>
</li>
<li>
<p>The capture process enqueues changes that satisfy the rules in its rule sets into a local <code dir="ltr">ANYDATA</code> queue.</p>
</li>
<li>
<p>If the captured changes are shared with one or more other databases, then one or more <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a>s propagate these changes from the source database to the other databases.</p>
</li>
<li>
<p>If database objects at the source database must be instantiated at a <a href="strms_glossary.htm#CHDGCAJA"><span class="xrefglossterm">destination database</span></a>, then the objects must be prepared for <a href="strms_glossary.htm#CHDCCEJE"><span class="xrefglossterm">instantiation</span></a>, and a mechanism such as an Export utility must be used to make a copy of the database objects.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<div id="STRMS314" class="sect4"><a id="sthref63"></a>
<h5 class="sect4">Advantages of Local Capture<a id="sthref64"></a></h5>
<p>The following are the advantages of using local capture:</p>
<ul>
<li>
<p>Configuration and administration of the capture process is simpler than when downstream capture is used. When you use local capture, you do not need to configure redo data copying to a <a href="strms_glossary.htm#CHDBJECA"><span class="xrefglossterm">downstream database</span></a>, and you administer the capture process locally at the database where the captured changes originated.</p>
</li>
<li>
<p>A <a href="strms_glossary.htm#CHDDGCGH"><span class="xrefglossterm">local capture process</span></a> can scan changes in the online redo log before the database writes these changes to an archived redo log file. When you use an archived-log downstream capture process, archived redo log files are copied to the downstream database after the source database has finished writing changes to them, and some time is required to copy the redo log files to the downstream database. However, a real-time downstream capture process can capture changes in the online redo log sent from the source database.</p>
</li>
<li>
<p>The amount of data being sent over the network is reduced, because the redo data is not copied to the downstream database. Even if <a href="strms_glossary.htm#CHDCHEJI"><span class="xrefglossterm">captured LCR</span></a>s are propagated to other databases, the captured LCRs can be a subset of the total changes made to the database, and only the LCRs that satisfy the rules in the rule sets for a <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a> are propagated.</p>
</li>
<li>
<p>Security might be improved because only the source (local) database can access the redo data. For example, if the capture process captures changes in the <code dir="ltr">hr</code> schema only, then, when you use local capture, only the source database can access the redo data to enqueue changes to the <code dir="ltr">hr</code> schema into the capture process <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>. However, when you use downstream capture, the redo data is copied to the downstream database, and the redo data contains all of the changes made to the database, not just the changes made to the <code dir="ltr">hr</code> schema.</p>
</li>
<li>
<p>Some types of <a href="strms_glossary.htm#CHDDGIFE"><span class="xrefglossterm">custom rule-based transformation</span></a>s are simpler to configure if the capture process is running at the local source database. For example, if you use local capture, then a custom rule-based transformation can use cached information in a PL/SQL session variable which is populated with data stored at the source database.</p>
</li>
<li>
<p>In an Oracle Streams environment where messages are captured and applied in the same database, it might be simpler, and use fewer resources, to configure local queries and computations that require information about captured changes and the local data.</p>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<a id="i1014089"></a>
<div id="STRMS153" class="sect3">
<h4 class="sect3">Downstream Capture</h4>
<p>Downstream capture means that a capture process runs on a database other than the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>. The following types of downstream capture configurations are possible: real-time downstream capture and archived-log downstream capture. The <code dir="ltr">downstream_real_time_mine</code> capture process parameter controls whether a downstream capture process performs real-time downstream capture or archived-log downstream capture. A real-time downstream capture process and one or more archived-log downstream capture processes can coexist at a <a href="strms_glossary.htm#CHDBJECA"><span class="xrefglossterm">downstream database</span></a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>References to &#34;downstream capture processes&#34; in this document apply to both real-time downstream capture processes and archived-log downstream capture processes. This document distinguishes between the two types of downstream capture processes when necessary.</p>
</li>
<li>
<p>A downstream capture process only can capture changes from a single source database. However, multiple downstream capture processes at a single downstream database can capture changes from a single source database or multiple source databases.</p>
</li>
<li>
<p>To configure downstream capture, the source database must be an Oracle Database 10<span class="italic">g</span> Release 1 or later database.</p>
</li>
</ul>
</div>
<a id="BABGEJFC"></a>
<div id="STRMS315" class="sect4"><!-- infolevel="all" infotype="General" -->
<h5 class="sect4">Real-Time Downstream Capture</h5>
<p>A <span class="bold">real-time downstream capture</span> configuration works in the following way:</p>
<ul>
<li>
<p>Redo transport services at the source database sends redo data to the downstream database either synchronously or asynchronously. At the same time, the log writer process (LGWR) records redo data in the online redo log at the source database.</p>
</li>
<li>
<p>A remote file server process (RFS) at the downstream database receives the redo data over the network and stores the redo data in the standby redo log.</p>
</li>
<li>
<p>A log switch at the source database causes a log switch at the downstream database, and the <code dir="ltr">ARCH</code><code dir="ltr"><span class="codeinlineitalic">n</span></code> process at the downstream database archives the current standby redo log file.</p>
</li>
<li>
<p>The real-time downstream capture process captures changes from the standby redo log whenever possible and from the archived standby redo log files whenever necessary. A capture process can capture changes in the archived standby redo log files if it falls behind. When it catches up, it resumes capturing changes from the standby redo log.</p>
</li>
</ul>
<div id="STRMS316" class="figure">
<p class="titleinfigure"><a id="CACHGIFA"></a>Figure 2-2 Real-Time Downstream Capture</p>
<img width="522" height="453" src="img/strms047.png" alt="Description of Figure 2-2 follows"/><br/>
<a id="sthref65" href="img_text/strms047.htm">Description of &#34;Figure 2-2 Real-Time Downstream Capture&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The advantage of real-time downstream capture over archived-log downstream capture is that real-time downstream capture reduces the amount of time required to capture changes made at the source database. The time is reduced because the real-time downstream capture process does not need to wait for the redo log file to be archived before it can capture data from it.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can configure more than one real-time downstream capture process that captures changes from the same source database, but you cannot configure real-time downstream capture for multiple source databases at one downstream database.</div>
</div>
<!-- class="sect4" -->
<div id="STRMS317" class="sect4"><!-- infolevel="all" infotype="General" --><a id="sthref66"></a>
<h5 class="sect4">Archived-Log Downstream Capture</h5>
<p>An <span class="bold">archived-log downstream capture</span> configuration means that archived redo log files from the source database are copied to the downstream database, and the capture process captures changes in these archived redo log files. You can copy the archived redo log files to the downstream database using redo transport services, the <code dir="ltr">DBMS_FILE_TRANSFER</code> package, file transfer protocol (FTP), or some other mechanism.</p>
<div id="STRMS318" class="figure">
<p class="titleinfigure"><a id="i1013598"></a>Figure 2-3 Archived-Log Downstream Capture</p>
<img width="521" height="452" src="img/strms037.gif" alt="Description of Figure 2-3 follows"/><br/>
<a id="sthref67" href="img_text/strms037.htm">Description of &#34;Figure 2-3 Archived-Log Downstream Capture&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The advantage of archived-log downstream capture over real-time downstream capture is that archived-log downstream capture allows downstream capture processes from multiple source databases at a downstream database. You can copy redo log files from multiple source databases to a single downstream database and configure multiple archived-log downstream capture processes to capture changes in these redo log files.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SBYDB00400" href="../SBYDB/log_transport.htm#SBYDB00400"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about redo transport services</div>
</div>
<!-- class="sect4" -->
<div id="STRMS319" class="sect4"><a id="sthref68"></a>
<h5 class="sect4">The Downstream Database Performs Most Change Capture Actions</h5>
<p>If you configure either real-time or archived-log downstream capture, then the following actions are performed at the downstream database:</p>
<ul>
<li>
<p>The first time a downstream capture process is started at the downstream database, Oracle Database uses data dictionary information in the redo data from the source database to create a LogMiner data dictionary at the downstream database. The <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure is run at the source database to extract the source data dictionary information to the redo log at the source database. Next, the redo data is copied to the downstream database from the source database. Additional downstream capture processes for the same source database can use this existing LogMiner data dictionary, or they can create new LogMiner data dictionaries. Also, a real-time downstream capture process can share a LogMiner data dictionary with one or more archived-log downstream capture processes.</p>
</li>
<li>
<p>A capture process scans the redo data from the source database for changes using LogMiner.</p>
</li>
<li>
<p>The <a href="strms_glossary.htm#CHDIIIDH"><span class="xrefglossterm">rules engine</span></a> evaluates changes based on the <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s in one or more of the capture process <a href="strms_glossary.htm#CHDCHGGB"><span class="xrefglossterm">rule set</span></a>s.</p>
</li>
<li>
<p>The capture process enqueues changes that satisfy the rules in its rule sets into a local <code dir="ltr">ANYDATA</code> queue. The capture process formats the changes as LCRs.</p>
</li>
<li>
<p>If the captured LCRs are shared with one or more other databases, then one or more <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a>s propagate these LCRs from the downstream database to the other databases.</p>
</li>
</ul>
<p>In a downstream capture configuration, the following actions are performed at the source database:</p>
<ul>
<li>
<p>The <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure is run at the source database to extract the data dictionary to the redo log.</p>
</li>
<li>
<p>Supplemental logging at the source database places additional information that might be needed for apply in the redo log.</p>
</li>
<li>
<p>If database objects at the source database must be instantiated at other databases in the environment, then the objects must be prepared for <a href="strms_glossary.htm#CHDCCEJE"><span class="xrefglossterm">instantiation</span></a>, and a mechanism such as an Export utility must be used to make a copy of the database objects.</p>
</li>
</ul>
<p>In addition, the redo data must be copied from the computer system running the source database to the computer system running the downstream database. In a real-time downstream capture configuration, redo transport services sends redo data to the downstream database. Typically, in an archived-log downstream capture configuration, redo transport services copy the archived redo log files to the downstream database.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="strms_rules.htm#g1049257">Chapter 5, &#34;How Rules Are Used in Oracle Streams&#34;</a> for more information about rule sets for <a href="strms_glossary.htm#CHDDDJGJ"><span class="xrefglossterm">Oracle Streams client</span></a>s and for information about how messages satisfy rule sets</div>
</div>
<!-- class="sect4" -->
<div id="STRMS320" class="sect4"><a id="sthref69"></a>
<h5 class="sect4">Advantages of Downstream Capture<a id="sthref70"></a></h5>
<p>The following are the advantages of using downstream capture:</p>
<ul>
<li>
<p>Capturing changes uses fewer resources at the source database because the downstream database performs most of the required work.</p>
</li>
<li>
<p>If you plan to capture changes originating at multiple source databases, then capture process administration can be simplified by running multiple archived-log downstream capture processes with different source databases at one downstream database. That is, one downstream database can act as the central location for change capture from multiple sources. In such a configuration, one real-time downstream capture process can run at the downstream database in addition to the archived-log downstream capture processes.</p>
</li>
<li>
<p>Copying redo data to one or more downstream databases provides improved protection against data loss. For example, redo log files at the downstream database can be used for recovery of the source database in some situations.</p>
</li>
<li>
<p>The ability to configure at one or more downstream databases multiple capture processes that capture changes from a single source database provides more flexibility and can improve scalability.</p>
</li>
</ul>
</div>
<!-- class="sect4" -->
<div id="STRMS321" class="sect4"><a id="sthref71"></a>
<h5 class="sect4">Optional Database Link From the Downstream Database to the Source Database<a id="sthref72"></a></h5>
<p>When you create or alter a downstream capture process, you optionally can specify the use of a database link from the downstream database to the source database. This database link must have the same name as the global name of the source database. Such a database link simplifies the creation and administration of a downstream capture process. You specify that a downstream capture process uses a database link by setting the <code dir="ltr">use_database_link</code> parameter to <code dir="ltr">TRUE</code> when you run the <code dir="ltr">CREATE_CAPTURE</code> or <code dir="ltr">ALTER_CAPTURE</code> procedure on the downstream capture process. The name of the database link must match the global name of the source database.</p>
<p>When a downstream capture process uses a database link to the source database, the capture process connects to the source database to perform the following administrative actions automatically:</p>
<ul>
<li>
<p>In certain situations, runs the <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure at the source database to extract the data dictionary at the source database to the redo log when a capture process is created.</p>
</li>
<li>
<p>Prepares source database objects for instantiation.</p>
</li>
<li>
<p>Obtains the <a href="strms_glossary.htm#CHDCJHGI"><span class="xrefglossterm">first SCN</span></a> for the downstream capture process if the first system change number (SCN) is not specified during capture process creation. The first SCN is needed to create a capture process.</p>
</li>
</ul>
<p>If a downstream capture process does not use a database link, then you must perform these actions manually.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
During the creation of a downstream capture process, if the <code dir="ltr">first_scn</code> parameter is set to <code dir="ltr">NULL</code> in the <code dir="ltr">CREATE_CAPTURE</code> procedure, then the <code dir="ltr">use_database_link</code> parameter must be set to <code dir="ltr">TRUE</code>. Otherwise, an error is raised.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STREP207" href="../STREP/ccap.htm#STREP207"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about when the <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure is run automatically during capture process creation if the downstream capture process uses a database link</div>
</div>
<!-- class="sect4" -->
<a id="CIHDGDEG"></a>
<div id="STRMS322" class="sect4">
<h5 class="sect4">Operational Requirements for Downstream Capture<a id="sthref73"></a></h5>
<p>The following are operational requirements for using downstream capture:</p>
<ul>
<li>
<p>The source database must be running at least Oracle Database 10<span class="italic">g</span> and the downstream capture database must be running the same release of Oracle Database as the source database or later.</p>
</li>
<li>
<p>The downstream database must be running Oracle Database 10<span class="italic">g</span> Release&nbsp;2 or later to configure real-time downstream capture. In this case, the source database must be running Oracle Database 10<span class="italic">g</span> Release 1 or later.</p>
</li>
<li>
<p>The operating system on the source and downstream capture sites must be the same, but the operating system release does not need to be the same. In addition, the downstream sites can use a different directory structure than the source site.</p>
</li>
<li>
<p>The hardware architecture on the source and downstream capture sites must be the same. For example, a downstream capture configuration with a source database on a 32-bit Sun system must have a downstream database that is configured on a 32-bit Sun system. Other hardware elements, such as the number of CPUs, memory size, and storage configuration, can be different between the source and downstream sites.</p>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1006559"></a>
<div id="STRMS123" class="sect2">
<h3 class="sect2">SCN Values Related to a Capture Process</h3>
<p>This section describes system change number (SCN) values that are important for a <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a>. You can query the <code dir="ltr">DBA_CAPTURE</code> data dictionary view to display these values for one or more capture processes.</p>
<ul>
<li>
<p><a href="#CACCIHFG">Captured SCN and Applied SCN</a></p>
</li>
<li>
<p><a href="#i1009464">First SCN and Start SCN</a></p>
</li>
</ul>
<a id="CACCIHFG"></a>
<div id="STRMS323" class="sect3">
<h4 class="sect3">Captured SCN and Applied SCN<a id="sthref74"></a><a id="sthref75"></a><a id="sthref76"></a><a id="sthref77"></a><a id="sthref78"></a><a id="sthref79"></a></h4>
<p>The <span class="bold">captured SCN</span> is the SCN that corresponds to the most recent change scanned in the redo log by a capture process. The <span class="bold">applied SCN</span> for a capture process is the SCN of the most recent <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a> dequeued by the relevant <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a>es. All messages lower than this SCN have been dequeued by all apply processes that apply changes captured by the capture process. The applied SCN for a capture process is equivalent to the <a href="strms_glossary.htm#CHDJJDIC"><span class="xrefglossterm">low-watermark</span></a> SCN for an apply process that applies changes captured by the capture process.</p>
</div>
<!-- class="sect3" -->
<a id="i1009464"></a>
<div id="STRMS324" class="sect3">
<h4 class="sect3">First SCN and Start SCN<a id="sthref80"></a><a id="sthref81"></a><a id="sthref82"></a><a id="sthref83"></a><a id="sthref84"></a><a id="sthref85"></a><a id="sthref86"></a><a id="sthref87"></a></h4>
<p>The following sections describe the first SCN and start SCN for a capture process:</p>
<ul>
<li>
<p><a href="#CACGGFIB">First SCN</a></p>
</li>
<li>
<p><a href="#CACCACIG">Start SCN</a></p>
</li>
<li>
<p><a href="#CACJHBBH">Start SCN Must Be Greater Than or Equal to First SCN</a></p>
</li>
<li>
<p><a href="#CACFJBBF">A Start SCN Setting That Is Before Preparation for Instantiation</a></p>
</li>
</ul>
<a id="CACGGFIB"></a>
<div id="STRMS325" class="sect4">
<h5 class="sect4">First SCN</h5>
<p>The <span class="bold">first SCN</span> is the lowest SCN in the redo log from which a capture process can capture changes. If you specify a first SCN during capture process creation, then the database must be able to access redo data from the SCN specified and higher.</p>
<p>The <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure extracts the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a> data dictionary to the redo log. When you create a capture process, you can specify a first SCN that corresponds to this data dictionary build in the redo log. Specifically, the first SCN for the capture process being created can be set to any value returned by the following query:</p>
<pre dir="ltr">COLUMN FIRST_CHANGE# HEADING &#39;First SCN&#39; FORMAT 999999999
COLUMN NAME HEADING &#39;Log File Name&#39; FORMAT A50

SELECT DISTINCT FIRST_CHANGE#, NAME FROM V$ARCHIVED_LOG
  WHERE DICTIONARY_BEGIN = &#39;YES&#39;;
</pre>
<p>The value returned for the <code dir="ltr">NAME</code> column is the name of the redo log file that contains the SCN corresponding to the first SCN. This redo log file, and all subsequent redo log files, must be available to the capture process. If this query returns multiple distinct values for <code dir="ltr">FIRST_CHANGE#</code>, then the <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure has been run more than once on the source database. In this case, choose the first SCN value that is most appropriate for the capture process you are creating.</p>
<p>In some cases, the <code dir="ltr">DBMS_CAPTURE_ADM.BUILD</code> procedure is run automatically when a capture process is created. When this happens, the first SCN for the capture process corresponds to this data dictionary build.</p>
</div>
<!-- class="sect4" -->
<a id="CACCACIG"></a>
<div id="STRMS326" class="sect4">
<h5 class="sect4">Start SCN</h5>
<p>The <span class="bold">start SCN</span> is the SCN from which a capture process begins to capture changes. You can specify a start SCN that is different than the first SCN during capture process creation, or you can alter a capture process to set its start SCN. The start SCN does not need to be modified for normal operation of a capture process. Typically, you reset the start SCN for a capture process if point-in-time recovery must be performed on one of the <a href="strms_glossary.htm#CHDGCAJA"><span class="xrefglossterm">destination database</span></a>s that receive changes from the capture process. In these cases, the capture process can capture the changes made at the source database after the point-in-time of the recovery.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
An existing capture process must be stopped before setting its start SCN.</div>
</div>
<!-- class="sect4" -->
<a id="CACJHBBH"></a>
<div id="STRMS327" class="sect4">
<h5 class="sect4">Start SCN Must Be Greater Than or Equal to First SCN</h5>
<p>If you specify a start SCN when you create or alter a capture process, then the start SCN specified must be greater than or equal to the first SCN for the capture process. A capture process always scans any unscanned redo log records that have higher SCN values than the first SCN, even if the redo log records have lower SCN values than the start SCN. So, if you specify a start SCN that is greater than the first SCN, then the capture process might scan redo log records for which it cannot capture changes, because these redo log records have a lower SCN than the start SCN.</p>
<p>Scanning redo log records before the start SCN should be avoided if possible because it can take some time. Therefore, Oracle recommends that the difference between the first SCN and start SCN be as small as possible during capture process creation to keep the initial capture process startup time to a minimum.</p>
<div class="infobox-note">
<p class="notep1">Caution:</p>
<a id="sthref88"></a>When a capture process is started or restarted, it might need to scan redo log files with a <code dir="ltr">FIRST_CHANGE#</code> value that is lower than start SCN. Removing required redo log files before they are scanned by a capture process causes the capture process to abort. You can query the <code dir="ltr">DBA_CAPTURE</code> data dictionary view to determine the first SCN, start SCN, and <a href="strms_glossary.htm#CHDJHFCB"><span class="xrefglossterm">required checkpoint SCN</span></a>. A capture process needs the redo log file that includes the required checkpoint SCN, and all subsequent redo log files.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_adcapture.htm#i1006795">&#34;Capture Process Creation&#34;</a> for more information about the first SCN and start SCN for a capture process</p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" -->
<a id="CACFJBBF"></a>
<div id="STRMS328" class="sect4">
<h5 class="sect4">A Start SCN Setting That Is Before Preparation for Instantiation<a id="sthref89"></a><a id="sthref90"></a></h5>
<p>If you want to capture changes to a database object and apply these changes using an <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a>, then only changes that occurred after the database object has been prepared for <a href="strms_glossary.htm#CHDCCEJE"><span class="xrefglossterm">instantiation</span></a> can be applied. Therefore, if you set the start SCN for a capture process lower than the SCN that corresponds to the time when a database object was prepared for instantiation, then any captured changes to this database object before the prepare SCN cannot be applied by an apply process.</p>
<p>This limitation can be important during capture process creation. If a database object was never prepared for instantiation before the time of capture process creation, then an apply process cannot apply any captured changes to the object from a time before capture process creation time.</p>
<p>In some cases, database objects might have been prepared for instantiation before a new capture process is created. For example, if you want to create a capture process for a source database whose changes are already being captured by one or more existing capture processes, then some or all of the database objects might have been prepared for instantiation before the new capture process is created. If you want to capture changes to a certain database object with a new capture process from a time before the new capture process was created, then the following conditions must be met for an apply process to apply these captured changes:</p>
<ul>
<li>
<p>The database object must have been prepared for instantiation before the new capture process is created.</p>
</li>
<li>
<p>The start SCN for the new capture process must correspond to a time before the database object was prepared for instantiation.</p>
</li>
<li>
<p>The redo logs for the time corresponding to the specified start SCN must be available. Additional redo logs previous to the start SCN might be required as well.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink STREP114" href="../STREP/instant.htm#STREP114"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for more information about preparing database objects for instantiation</p>
</li>
<li>
<p><a href="strms_adcapture.htm#i1006795">&#34;Capture Process Creation&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1006594"></a>
<div id="STRMS329" class="sect2">
<h3 class="sect2">Oracle Streams Capture Processes and RESTRICTED SESSION<a id="sthref91"></a><a id="sthref92"></a></h3>
<p>When you enable restricted session during system startup by issuing a <code dir="ltr">STARTUP</code> <code dir="ltr">RESTRICT</code> statement, <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a>es do not start, even if they were running when the database shut down. When restricted session is disabled with an <code dir="ltr">ALTER</code> <code dir="ltr">SYSTEM</code> statement, each capture process that was running when the database shut down is started.</p>
<p>When restricted session is enabled in a running database by the SQL statement <code dir="ltr">ALTER</code> <code dir="ltr">SYSTEM</code> <code dir="ltr">ENABLE</code> <code dir="ltr">RESTRICTED</code> <code dir="ltr">SESSION</code> clause, it does not affect any running capture processes. These capture processes continue to run and capture changes. If a stopped capture process is started in a restricted session, then the capture process does not actually start until the restricted session is disabled.</p>
</div>
<!-- class="sect2" -->
<a id="i1006718"></a>
<div id="STRMS178" class="sect2">
<h3 class="sect2">Capture Process Subcomponents<a id="sthref93"></a><a id="sthref94"></a><a id="sthref95"></a><a id="sthref96"></a></h3>
<p>A <a href="strms_glossary.htm#CHDBHECD"><span class="xrefglossterm">capture process</span></a> is an optional Oracle background process whose process name is <code dir="ltr">CP</code><code dir="ltr"><span class="codeinlineitalic">nn</span></code>, where <code dir="ltr"><span class="codeinlineitalic">nn</span></code> can include letters and numbers. A capture process captures changes from the redo log by using the infrastructure of LogMiner. Oracle Streams configures LogMiner automatically. The underlying LogMiner process name is <code dir="ltr">MS</code><code dir="ltr"><span class="codeinlineitalic">nn</span></code>, where <code dir="ltr"><span class="codeinlineitalic">nn</span></code> can include letters and numbers. You can create, alter, start, stop, and drop a capture process, and you can define capture process <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s that control which changes a capture process captures.</p>
<p>A capture process consists of the following subcomponents:</p>
<ul>
<li>
<p>One <span class="bold">reader server</span> that reads the redo log and divides the redo log into regions.</p>
</li>
<li>
<p>One or more <span class="bold">preparer servers</span> that scan the regions defined by the reader server in parallel and perform prefiltering of changes found in the redo log. Prefiltering involves sending partial information about changes, such as schema and object name for a change, to the <a href="strms_glossary.htm#CHDIIIDH"><span class="xrefglossterm">rules engine</span></a> for evaluation, and receiving the results of the evaluation. You can control the number of preparer servers using the <code dir="ltr">parallelism</code> capture process parameter.</p>
</li>
<li>
<p>One <span class="bold">builder server</span> that merges redo records from the preparer servers. These redo records either evaluated to <code dir="ltr">TRUE</code> during partial evaluation or partial evaluation was inconclusive for them. The builder server preserves the system change number (SCN) order of these redo records and passes the merged redo records to the capture process.</p>
</li>
<li>
<p>The capture process (<code dir="ltr">CP</code><code dir="ltr"><span class="codeinlineitalic">nn</span></code>) performs the following actions for each change when it receives merged redo records from the builder server:</p>
<ul>
<li>
<p>Formats the change into an LCR</p>
</li>
<li>
<p>If the partial evaluation performed by a preparer server was inconclusive for the change in the LCR, then sends the LCR to the <a href="strms_glossary.htm#CHDIIIDH"><span class="xrefglossterm">rules engine</span></a> for full evaluation</p>
</li>
<li>
<p>Receives the results of the full evaluation of the LCR if it was performed</p>
</li>
<li>
<p>Discards the LCR if it satisfies the rules in the <a href="strms_glossary.htm#CHDBHJHI"><span class="xrefglossterm">negative rule set</span></a> for the capture process or if it does not satisfy the rules in the positive rule set</p>
</li>
<li>
<p>Enqueues the LCR into the <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a> associated with the capture process if the LCR satisfies the <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s in the <a href="strms_glossary.htm#CHDEEDIJ"><span class="xrefglossterm">positive rule set</span></a> for the capture process</p>
</li>
</ul>
</li>
</ul>
<p>Each reader server, preparer server, and builder server is a process.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_adcapture.htm#i1010527">&#34;Capture Process Rule Evaluation&#34;</a></p>
</li>
<li>
<p><a href="#i1007025">&#34;Capture Process Parameters&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACCGAEB"></a>
<div id="STRMS330" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Capture User<a id="sthref97"></a><a id="sthref98"></a></h3>
<p>Changes are captured in the security domain of the <a href="strms_glossary.htm#CBAEBCEE"><span class="xrefglossterm">capture user</span></a> for a capture process. The capture user captures all changes that satisfy the capture process <a href="strms_glossary.htm#CHDCHGGB"><span class="xrefglossterm">rule set</span></a>s. In addition, the capture user runs all <a href="strms_glossary.htm#CHDDGIFE"><span class="xrefglossterm">custom rule-based transformation</span></a>s specified by the rules in these rule sets. The capture user must have the necessary privileges to perform these actions, including <code dir="ltr">EXECUTE</code> privilege on the rule sets used by the capture process, <code dir="ltr">EXECUTE</code> privilege on all custom rule-based transformation functions specified for rules in the <a href="strms_glossary.htm#CHDEEDIJ"><span class="xrefglossterm">positive rule set</span></a>, and privileges to enqueue <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a>s into the capture process <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>. A capture process can be associated with only one user, but one user can be associated with many capture processes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink STREP200" href="../STREP/prep_rep.htm#STREP200"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about the required privileges</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1014290"></a>
<div id="STRMS331" class="sect2">
<h3 class="sect2">Capture Process States<a id="sthref99"></a><a id="sthref100"></a><a id="sthref101"></a><a id="sthref102"></a></h3>
<p>The state of a capture process describes what the capture process is doing currently. You can view the state of a capture process by querying the <code dir="ltr">STATE</code> column in the <code dir="ltr">V$STREAMS_CAPTURE</code> dynamic performance view. The following capture process states are possible:</p>
<ul>
<li>
<p><code dir="ltr">INITIALIZING</code> - Starting up.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr">DICTIONARY</code> <code dir="ltr">REDO</code> - Waiting for redo log files containing the dictionary build related to the <a href="strms_glossary.htm#CHDCJHGI"><span class="xrefglossterm">first SCN</span></a> to be added to the capture process session. A capture process cannot begin to scan the redo log files until all of the log files containing the dictionary build have been added.</p>
</li>
<li>
<p><code dir="ltr">DICTIONARY</code> <code dir="ltr">INITIALIZATION</code> - Processing a dictionary build.</p>
</li>
<li>
<p><code dir="ltr">MINING</code> <code dir="ltr">(PROCESSED</code> <code dir="ltr">SCN</code> <code dir="ltr">=</code> <code dir="ltr"><span class="codeinlineitalic">scn_value</span></code><code dir="ltr">)</code> - Mining a dictionary build at the SCN <span class="italic">scn_value</span>.</p>
</li>
<li>
<p><code dir="ltr">LOADING</code> <code dir="ltr">(step</code> <code dir="ltr"><span class="codeinlineitalic">X</span></code> <code dir="ltr">of</code> <code dir="ltr"><span class="codeinlineitalic">Y</span></code><code dir="ltr">)</code> - Processing information from a dictionary build and currently at step <span class="italic">X</span> in a process that involves <span class="italic">Y</span> steps, where <span class="italic">X</span> and <span class="italic">Y</span> are numbers.</p>
</li>
<li>
<p><code dir="ltr">CAPTURING</code> <code dir="ltr">CHANGES</code> - Scanning the redo log for changes that satisfy the capture process <a href="strms_glossary.htm#CHDCHGGB"><span class="xrefglossterm">rule set</span></a>s.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr">REDO</code> - Waiting for new redo log files to be added to the capture process session. The capture process has finished processing all of the redo log files added to its session. This state is possible if there is no activity at a <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>. For a <a href="strms_glossary.htm#CHDHEBHD"><span class="xrefglossterm">downstream capture process</span></a>, this state is possible if the capture process is waiting for new log files to be added to its session.</p>
</li>
<li>
<p><code dir="ltr">EVALUATING</code> <code dir="ltr">RULE</code> - Evaluating a change against a capture process rule set.</p>
</li>
<li>
<p><code dir="ltr">CREATING</code> <code dir="ltr">LCR</code> - Converting a change into a logical change record (LCR).</p>
</li>
<li>
<p><code dir="ltr">ENQUEUING</code> <code dir="ltr">MESSAGE</code> - Enqueuing an LCR that satisfies the capture process rule sets into the capture process <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>.</p>
</li>
<li>
<p><code dir="ltr">PAUSED</code> <code dir="ltr">FOR</code> <code dir="ltr">FLOW</code> <code dir="ltr">CONTROL</code> - Unable to enqueue LCRs either because of low memory or because <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a>s and apply processes are consuming <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a>s slower than the capture process is creating them. This state indicates flow control that is used to reduce spilling of <a href="strms_glossary.htm#CHDCHEJI"><span class="xrefglossterm">captured LCR</span></a>s when propagation or apply has fallen behind or is unavailable.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr">A</code> <code dir="ltr">SUBSCRIBER</code> <code dir="ltr">TO</code> <code dir="ltr">BE</code> <code dir="ltr">ADDED</code> - Waiting for a subscriber to the capture process&#39;s queue to be added. A subscriber can be a propagation or an apply process.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr">THE</code> <code dir="ltr">BUFFERED</code> <code dir="ltr">QUEUE</code> <code dir="ltr">TO</code> <code dir="ltr">SHRINK</code> - Waiting for the <a href="strms_glossary.htm#CHDFJFED"><span class="xrefglossterm">buffered queue</span></a> to change to a smaller size. The buffered queue shrinks when there is a memory limitation or when an administrator reduces its size.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code> <code dir="ltr">SUBSCRIBER(S)</code> <code dir="ltr">INITIALIZING</code> - Waiting for apply processes that receive LCRs from the capture process to start, where <span class="italic">n</span> is the number of apply processes.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr">TRANSACTION</code> - Waiting for LogMiner to provide more transactions.</p>
</li>
<li>
<p><code dir="ltr">WAITING</code> <code dir="ltr">FOR</code> <code dir="ltr">INACTIVE</code> <code dir="ltr">DEQUEUERS</code> - Waiting for capture process&#39;s queue subscribers to start. The capture process stops enqueuing LCRs if there are no active subscribers to the queue.</p>
</li>
<li>
<p><code dir="ltr">SUSPENDED</code> <code dir="ltr">FOR</code> <code dir="ltr">AUTO</code> <code dir="ltr">SPLIT/MERGE</code> - Waiting for a merge operation to complete.</p>
</li>
<li>
<p><code dir="ltr">SHUTTING</code> <code dir="ltr">DOWN</code> - Stopping.</p>
</li>
<li>
<p><code dir="ltr">ABORTING</code> - Aborting.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_cpmon.htm#i1006519">&#34;Displaying Change Capture Information About Each Capture Process&#34;</a> for a query that displays the state of a capture process</p>
</li>
<li>
<p><a class="olink STREP144" href="../STREP/man_gen_rep.htm#STREP144"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span> for information about split and merge operations</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1007025"></a>
<div id="STRMS332" class="sect2">
<h3 class="sect2">Capture Process Parameters<a id="sthref103"></a><a id="sthref104"></a><a id="sthref105"></a></h3>
<p>After creation, a capture process is disabled so that you can set the capture process parameters for your environment before starting it for the first time. Capture process parameters control the way a capture process operates. For example, the <code dir="ltr">parallelism</code> capture process parameter controls the number of <a href="strms_glossary.htm#CHDDDDAH"><span class="xrefglossterm">preparer server</span></a>s used by a capture process, and the <code dir="ltr">time_limit</code> capture process parameter specifies the amount of time a capture process runs before it is shut down automatically. You set capture process parameters using the <code dir="ltr">DBMS_CAPTURE_ADM.SET_PARAMETER</code> procedure.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_mcap.htm#i1006402">&#34;Setting a Capture Process Parameter&#34;</a></p>
</li>
<li>
<p><a href="#i1006718">&#34;Capture Process Subcomponents&#34;</a> for more information about preparer servers</p>
</li>
<li>
<p><a class="olink ARPLS306" href="../ARPLS/d_cap_a.htm#ARPLS306"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for detailed information about all of the capture process parameters</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1007104"></a>
<div id="STRMS333" class="sect2">
<h3 class="sect2">Persistent Capture Process Status Upon Database Restart<a id="sthref106"></a></h3>
<p>A capture process maintains a persistent status when the database running the capture process is shut down and restarted. For example, if a capture process is enabled when the database is shut down, then the capture process automatically starts when the database is restarted. Similarly, if a capture process is disabled or aborted when a database is shut down, then the capture process is not started and retains the disabled or aborted status when the database is restarted.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACIDGBI"></a>
<div id="STRMS168" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Implicit Capture with Synchronous Capture<a id="sthref107"></a><a id="sthref108"></a></h2>
<p><a id="sthref109"></a><a id="sthref110"></a>This section explains the concepts related to <a href="strms_glossary.htm#CBACHEDJ"><span class="xrefglossterm">synchronous capture</span></a>.</p>
<p>This section discusses the following topics:</p>
<ul>
<li>
<p><a href="#CACIAFGA">Introduction to Synchronous Capture</a></p>
</li>
<li>
<p><a href="#CACCAIBB">Synchronous Capture and Queues</a></p>
</li>
<li>
<p><a href="#CACEGCDH">Synchronous Capture Rules</a></p>
</li>
<li>
<p><a href="#CACFEDIE">Data Types Captured by Synchronous Capture</a></p>
</li>
<li>
<p><a href="#CACHCDCC">Types of DML Changes Captured by Synchronous Capture</a></p>
</li>
<li>
<p><a href="#CACGJBHE">Capture User for Synchronous Capture</a></p>
</li>
<li>
<p><a href="#CACBHGCF">Multiple Synchronous Captures in a Single Database</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink STREP208" href="../STREP/ccap.htm#STREP208"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about configuring synchronous capture</p>
</li>
<li>
<p><a href="strms_mcap.htm#BEHJAHDA">&#34;Managing a Synchronous Capture&#34;</a></p>
</li>
<li>
<p><a href="strms_cpmon.htm#CFFGCIJJ">&#34;Monitoring a Synchronous Capture&#34;</a></p>
</li>
<li>
<p><a class="olink STREP641" href="../STREP/config_simple.htm#STREP641"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
<a id="CACIAFGA"></a>
<div id="STRMS334" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Introduction to Synchronous Capture</h3>
<p>Synchronous capture is an optional <a href="strms_glossary.htm#CHDDDJGJ"><span class="xrefglossterm">Oracle Streams client</span></a> that captures data manipulation language (DML) changes made to tables. Synchronous capture uses an internal mechanism to capture DML changes to specified tables. When synchronous capture is configured to capture changes to tables, the database that contains these tables is called the <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>.</p>
<p>When a DML change it made to a table, it can result in changes to one or more rows in the table. Synchronous capture captures each row change and converts it into a specific message format called a <a href="strms_glossary.htm#CHDIGGFF"><span class="xrefglossterm">row logical change record (row LCR)</span></a>. After capturing a row LCR, synchronous capture enqueues a message containing the row LCR into a <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>. Row LCRs created by synchronous capture always contain values for all the columns in a row, even if some of the columns where not modified by the change.</p>
<p><a href="#CACGHJBJ">Figure 2-4</a> shows a synchronous capture capturing LCRs.</p>
<div id="STRMS335" class="figure">
<p class="titleinfigure"><a id="CACGHJBJ"></a>Figure 2-4 Synchronous Capture</p>
<img width="240" height="350" src="img/strms058.gif" alt="Description of Figure 2-4 follows"/><br/>
<a id="sthref111" href="img_text/strms058.htm">Description of &#34;Figure 2-4 Synchronous Capture&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
A synchronous capture and a capture process should not capture changes made to the same table.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_adqueue.htm#CHDEIIEI">&#34;Commit-Time Queues&#34;</a></p>
</li>
<li>
<p><a href="strms_mcap.htm#BEHJAHDA">&#34;Managing a Synchronous Capture&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACCAIBB"></a>
<div id="STRMS336" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Synchronous Capture and Queues<a id="sthref112"></a><a id="sthref113"></a></h3>
<p>Synchronous capture is always associated with a single <code dir="ltr">ANYDATA</code> queue, and it enqueues messages into this queue only. The queue used by synchronous capture must be a <a href="strms_glossary.htm#CBAEEFJE"><span class="xrefglossterm">commit-time queue</span></a>. Commit-time queues ensure that messages are grouped into transactions, and that transactions groups are in commit system change number (CSCN) order. Synchronous capture always enqueues row LCRs into the <a href="strms_glossary.htm#CBAEIBGJ"><span class="xrefglossterm">persistent queue</span></a>. The persistent queue is the portion of a queue that only stores messages on hard disk in a queue table, not in memory. You can create multiple queues and associate a different synchronous capture with each queue.</p>
<p>Although synchronous capture must enqueue messages into a commit-time queue, messages captured by synchronous capture can be propagated to queues that are not commit-time queues. Therefore, any intermediate queues that store messages captured by synchronous capture do not need to be commit-time queue. Also, apply processes that apply messages captured by synchronous capture can use queues that are not commit-time queues.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Synchronous capture can be associated only with an <code dir="ltr">ANYDATA</code> queue, not with a <a href="strms_glossary.htm#CHDBGAAH"><span class="xrefglossterm">typed queue</span></a>.</p>
</li>
<li>
<p>Synchronous capture should not enqueue messages that is used by a capture process.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACEGCDH"></a>
<div id="STRMS337" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Synchronous Capture Rules<a id="sthref114"></a><a id="sthref115"></a></h3>
<p>Synchronous capture either captures or discards changes based on <a href="strms_glossary.htm#CHDIFFCF"><span class="xrefglossterm">rule</span></a>s that you define. Each rule specifies the database objects and types of changes for which the rule evaluates to <code dir="ltr">TRUE</code>. You can place these rules in a <a href="strms_glossary.htm#CHDEEDIJ"><span class="xrefglossterm">positive rule set</span></a>. If a rule evaluates to <code dir="ltr">TRUE</code> for a change, and the rule is in the positive rule set for synchronous capture, then synchronous capture captures the change. Synchronous capture does not use <a href="strms_glossary.htm#CHDBHJHI"><span class="xrefglossterm">negative rule set</span></a>s.</p>
<p>You can specify synchronous capture rules at the table level. A table rule captures or discards row changes resulting from DML changes to a particular table. Subset rules are table rules that include a subset of the row changes to a particular table. Synchronous capture does not use schema or global rules.</p>
<p>All synchronous capture rules must be created with one of the following procedures in the <code dir="ltr">DBMS_STREAMS_ADM</code> package:</p>
<ul>
<li>
<p><code dir="ltr">ADD_TABLE_RULES</code></p>
</li>
<li>
<p><code dir="ltr">ADD_SUBSET_RULES</code></p>
</li>
</ul>
<p>Synchronous capture does not capture changes based on the following types of rules:</p>
<ul>
<li>
<p>Rules added to the synchronous capture rules set by any procedure other than <code dir="ltr">ADD_TABLE_RULES</code> or <code dir="ltr">ADD_SUBSET_RULES</code> in the <code dir="ltr">DBMS_STREAMS_ADM</code> package.</p>
</li>
<li>
<p>Rules created by the <code dir="ltr">DBMS_RULE_ADM</code> package.</p>
</li>
</ul>
<p>If these types of rules are in a synchronous capture rule set, then synchronous capture ignores these rules.</p>
<p>A synchronous capture can use a rule set created by the <code dir="ltr">CREATE_RULE_SET</code> procedure in the <code dir="ltr">DBMS_RULE_ADM</code> package, but you must add rules to the rule set with the <code dir="ltr">ADD_TABLE_RULES</code> or <code dir="ltr">ADD_SUBSET_RULES</code> procedure.</p>
<p>If the specified synchronous capture does not exist when you run the <code dir="ltr">ADD_TABLE_RULES</code> or <code dir="ltr">ADD_SUBSET_RULES</code> procedure, then the procedure creates it automatically. You can also use the <code dir="ltr">CREATE_SYNC_CAPTURE</code> procedure in the <code dir="ltr">DBMS_CAPTURE_ADM</code> package to create a synchronous capture.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<a id="sthref116"></a><a id="sthref117"></a>
<ul>
<li>
<p>Synchronous capture does not capture certain types of changes and changes to certain data types in table columns. Also, synchronous capture never captures changes in the <code dir="ltr">SYS</code>, <code dir="ltr">SYSTEM</code>, or <code dir="ltr">CTXSYS</code> schemas.</p>
</li>
<li>
<p><a id="sthref118"></a>When a rule is in the rule set for a synchronous capture, do not change the following rule conditions: <code dir="ltr">:dml.get_object_name</code> and <code dir="ltr">:dml.get_object_owner</code>. Changing these conditions can cause the synchronous capture not to capture changes to the database object. You can change other conditions in synchronous capture rules.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="strms_adrules.htm#BABEBHGC">Chapter 11, &#34;Advanced Rule Concepts&#34;</a></p>
</li>
<li>
<p><a href="strms_rules.htm#g1049257">Chapter 5, &#34;How Rules Are Used in Oracle Streams&#34;</a></p>
</li>
<li>
<p><a class="olink STREP208" href="../STREP/ccap.htm#STREP208"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about configuring a synchronous capture</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACFEDIE"></a>
<div id="STRMS338" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Data Types Captured by Synchronous Capture<a id="sthref119"></a></h3>
<p>When capturing the row changes resulting from DML changes made to tables, synchronous capture can capture changes made to columns of the following data types:</p>
<ul>
<li>
<p><code dir="ltr">VARCHAR2</code></p>
</li>
<li>
<p><code dir="ltr">NVARCHAR2</code></p>
</li>
<li>
<p><code dir="ltr">NUMBER</code></p>
</li>
<li>
<p><code dir="ltr">FLOAT</code></p>
</li>
<li>
<p><code dir="ltr">DATE</code></p>
</li>
<li>
<p><code dir="ltr">BINARY_FLOAT</code></p>
</li>
<li>
<p><code dir="ltr">BINARY_DOUBLE</code></p>
</li>
<li>
<p><code dir="ltr">TIMESTAMP</code></p>
</li>
<li>
<p><code dir="ltr">TIMESTAMP</code> <code dir="ltr">WITH</code> <code dir="ltr">TIME</code> <code dir="ltr">ZONE</code></p>
</li>
<li>
<p><code dir="ltr">TIMESTAMP</code> <code dir="ltr">WITH</code> <code dir="ltr">LOCAL</code> <code dir="ltr">TIME</code> <code dir="ltr">ZONE</code></p>
</li>
<li>
<p><code dir="ltr">INTERVAL</code> <code dir="ltr">YEAR</code> <code dir="ltr">TO</code> <code dir="ltr">MONTH</code></p>
</li>
<li>
<p><code dir="ltr">INTERVAL</code> <code dir="ltr">DAY</code> <code dir="ltr">TO</code> <code dir="ltr">SECOND</code></p>
</li>
<li>
<p><code dir="ltr">RAW</code></p>
</li>
<li>
<p><code dir="ltr">CHAR</code></p>
</li>
<li>
<p><code dir="ltr">NCHAR</code></p>
</li>
<li>
<p><code dir="ltr">UROWID</code></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Synchronous captures do not support extended data types introduced in Oracle Database 12<span class="italic">c</span>.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="ap_restrictions.htm#BABFCFAF">&#34;Unsupported Data Types for Synchronous Captures&#34;</a></p>
</li>
<li>
<p><a href="strms_apply.htm#i1006373">&#34;Data Types Applied&#34;</a> for information about the data types that can be applied by an apply process</p>
</li>
<li>
<p><a class="olink SQLRF002" href="../SQLRF/sql_elements.htm#SQLRF002"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about data types</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACHCDCC"></a>
<div id="STRMS339" class="sect2">
<h3 class="sect2">Types of DML Changes Captured by Synchronous Capture<a id="sthref120"></a><a id="sthref121"></a><a id="sthref122"></a></h3>
<p>When you specify that DML changes made to specific tables should be captured, synchronous capture captures the following types of DML changes made to these tables:</p>
<ul>
<li>
<p><code dir="ltr">INSERT</code></p>
</li>
<li>
<p><code dir="ltr">UPDATE</code></p>
</li>
<li>
<p><code dir="ltr">DELETE</code></p>
</li>
<li>
<p><code dir="ltr">MERGE</code></p>
</li>
</ul>
<p>Synchronous capture converts each <code dir="ltr">MERGE</code> change into an <code dir="ltr">INSERT</code> or <code dir="ltr">UPDATE</code> change. <code dir="ltr">MERGE</code> is not a valid command type in a row&nbsp;LCR.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="ap_restrictions.htm#BABHIDID">&#34;Unsupported Changes for Synchronous Captures&#34;</a></p>
</li>
<li>
<p><a href="strms_apply.htm#g1018604">Chapter 4, &#34;Oracle Streams Information Consumption&#34;</a> for information about the types of changes an apply process can apply</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CACGJBHE"></a>
<div id="STRMS340" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Capture User for Synchronous Capture<a id="sthref123"></a><a id="sthref124"></a></h3>
<p>Changes are captured in the security domain of the <a href="strms_glossary.htm#CBAEBCEE"><span class="xrefglossterm">capture user</span></a> for a synchronous capture. The capture user captures all changes that satisfy the synchronous capture <a href="strms_glossary.htm#CHDCHGGB"><span class="xrefglossterm">rule set</span></a>. In addition, the capture user runs all <a href="strms_glossary.htm#CHDDGIFE"><span class="xrefglossterm">custom rule-based transformation</span></a>s specified by the rules in these rule sets. The capture user must have the necessary privileges to perform these actions, including <code dir="ltr">EXECUTE</code> privilege on the rule set used by synchronous capture, <code dir="ltr">EXECUTE</code> privilege on all custom rule-based transformation functions specified for rules in the rule set, and privileges to enqueue <a href="strms_glossary.htm#CHDFHHGJ"><span class="xrefglossterm">message</span></a>s into the synchronous capture <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a>. A synchronous capture can be associated with only one user, but one user can be associated with many synchronous captures.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink STREP200" href="../STREP/prep_rep.htm#STREP200"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a> for information about the required privileges</div>
</div>
<!-- class="sect2" -->
<a id="CACBHGCF"></a>
<div id="STRMS341" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Multiple Synchronous Captures in a Single Database</h3>
<p>Oracle recommends that each <code dir="ltr">ANYDATA</code> queue used by a <a href="strms_glossary.htm#CBACHEDJ"><span class="xrefglossterm">synchronous capture</span></a>, <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a>, or <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a> have messages from at most one synchronous capture from a particular <a href="strms_glossary.htm#CHDHFBJG"><span class="xrefglossterm">source database</span></a>. Therefore, use a separate <a href="strms_glossary.htm#CHDIDCDI"><span class="xrefglossterm">queue</span></a> for each synchronous capture that captures changes originating at a particular source database, and ensure that each queue has its own queue table. Also, messages from two or more synchronous captures in the same source database should not be propagated to the same <a href="strms_glossary.htm#CHDHJHJD"><span class="xrefglossterm">destination queue</span></a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CACGBFJB"></a>
<div id="STRMS342" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Explicit Capture by Applications<a id="sthref125"></a><a id="sthref126"></a><a id="sthref127"></a><a id="sthref128"></a></h2>
<p>When applications enqueue messages manually, it is called <a href="strms_glossary.htm#CHDJDDIH"><span class="xrefglossterm">explicit capture</span></a>. After enqueue, these messages can be propagated by Oracle Streams <a href="strms_glossary.htm#CHDEICIC"><span class="xrefglossterm">propagation</span></a>s within the same database or to a different database. These messages can also be consumed by applications, <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a>es, and <a href="strms_glossary.htm#CHDDGHHB"><span class="xrefglossterm">messaging client</span></a>s. You can use either the <code dir="ltr">DBMS_STREAMS_MESSAGING</code> package or the <code dir="ltr">DBMS_AQADM</code> package to enqueue messages.</p>
<p>The following sections describe conceptual information about enqueuing messages:</p>
<ul>
<li>
<p><a href="#CACBEDEI">Types of Messages That Can Be Enqueued Explicitly</a></p>
</li>
<li>
<p><a href="#CACFBHGC">Enqueue Features</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADQUE" href="../ADQUE/toc.htm"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> contains the primary documentation about enqueuing messages</p>
</li>
</ul>
</div>
<a id="CACBEDEI"></a>
<div id="STRMS343" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Types of Messages That Can Be Enqueued Explicitly<a id="sthref129"></a></h3>
<p>Applications can create and enqueue different types of messages for various purposes in an Oracle Streams environment. These messages can be messages of a user-defined type called <a href="strms_glossary.htm#CHDDIHEC"><span class="xrefglossterm">user message</span></a>s, or they can be <a href="strms_glossary.htm#CHDJDFAD"><span class="xrefglossterm">LCR</span></a>s.</p>
<p>This section contains these topics:</p>
<ul>
<li>
<p><a href="#CACIDFHD">User Messages</a></p>
</li>
<li>
<p><a href="#CACHBDAH">Logical Change Records (LCRs) and Messaging</a></p>
</li>
</ul>
<a id="CACIDFHD"></a>
<div id="STRMS344" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">User Messages</h4>
<p>An application can construct a message of a user-defined type and enqueue it. The queue can be a queue of the same type as the message, or it can be an <a href="strms_glossary.htm#CHDJDEHJ"><span class="xrefglossterm">ANYDATA queue</span></a>. Typically, these <a href="strms_glossary.htm#CHDDIHEC"><span class="xrefglossterm">user message</span></a>s are consumed by applications or <a href="strms_glossary.htm#CHDJBHJC"><span class="xrefglossterm">apply process</span></a>es.</p>
<p>User messages enqueued into a <a href="strms_glossary.htm#CHDFJFED"><span class="xrefglossterm">buffered queue</span></a> are called <a href="strms_glossary.htm#CBAGGFJH"><span class="xrefglossterm">buffered user message</span></a>s. Buffered user messages can be dequeued by an application only. An application processes the messages after it dequeues them.</p>
<p>User messages enqueued into a <a href="strms_glossary.htm#CBAEIBGJ"><span class="xrefglossterm">persistent queue</span></a> are called <a href="strms_glossary.htm#CBAGGIDA"><span class="xrefglossterm">persistent user message</span></a>s. Persistent user messages can be dequeued by:</p>
<ul>
<li>
<p><span class="bold">Messaging clients:</span> A messaging client passes the messages to the application that invoked the messaging client for processing.</p>
</li>
<li>
<p><span class="bold">Applications:</span> An application processes the messages after it dequeues them.</p>
</li>
<li>
<p><span class="bold">Apply processes:</span> An apply process passes the messages to a <a href="strms_glossary.htm#CHDDHDEH"><span class="xrefglossterm">message handler</span></a> for processing. The queue must be an <code dir="ltr">ANYDATA</code> queue for an apply process to dequeue messages from it.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CACHBDAH"></a>
<div id="STRMS345" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Logical Change Records (LCRs) and Messaging</h4>
<p>An application can construct and enqueue LCRs into an <code dir="ltr">ANYDATA</code> queue. Row LCRs describe the results of DML changes, and DDL LCRs describe DDL changes. Typically, LCRs are consumed by apply processes, but they can also be consumed by messaging clients and applications. Heterogeneous replication environment can use explicit enqueue of LCRs to replicate database changes from a non-Oracle database to an Oracle database.</p>
<p>LCRs enqueued explicitly into a <a href="strms_glossary.htm#CHDFJFED"><span class="xrefglossterm">buffered queue</span></a> are called <a href="strms_glossary.htm#CBABHDGA"><span class="xrefglossterm">buffered LCR</span></a>s. Buffered LCRs can be dequeued only by applications. An application processes the buffered LCRs after it dequeues them.</p>
<p>LCRs enqueued explicitly into a <a href="strms_glossary.htm#CBAEIBGJ"><span class="xrefglossterm">persistent queue</span></a> are called <a href="strms_glossary.htm#CBAGDEIH"><span class="xrefglossterm">persistent LCR</span></a>s. Persistent LCRs can be dequeued by:</p>
<ul>
<li>
<p><span class="bold">Messaging clients:</span> A messaging client passes the messages to the application that invoked the messaging client for processing.</p>
</li>
<li>
<p><span class="bold">Applications:</span> An application processes the messages after it dequeues them.</p>
</li>
<li>
<p><span class="bold">Apply processes:</span> An apply process can apply the LCRs directly or pass them to an <a href="strms_glossary.htm#CHDCJAED"><span class="xrefglossterm">apply handler</span></a> for processing.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#i1006153">&#34;Logical Change Records (LCRs)&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CACFBHGC"></a>
<div id="STRMS346" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Enqueue Features<a id="sthref130"></a></h3>
<p>The enqueue features available with Oracle Database Advanced Queuing include the following:</p>
<ul>
<li>
<p>Enqueue into a buffered queue or a persistent queue</p>
</li>
<li>
<p>Ordering of messages by priority enqueue time, or commit time</p>
</li>
<li>
<p>Array enqueue of messages</p>
</li>
<li>
<p>Correlation identifiers</p>
</li>
<li>
<p>Message grouping</p>
</li>
<li>
<p>Sender identification</p>
</li>
<li>
<p>Time specification and scheduling</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADQUE" href="../ADQUE/toc.htm"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a> for information about these features and for information about other features available with Oracle Database Advanced Queuing</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5963">
<tr>
<td class="cellalignment5970">
<table class="cellalignment5968">
<tr>
<td class="cellalignment5967"><a href="strms_over.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5967"><a href="strms_prop.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5972">
<table class="cellalignment5966">
<tr>
<td class="cellalignment5967"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5967"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5967"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5967"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5967"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5967"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-46428"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Backup%20and%20Recovery"></a><title>Configuring Backup and Recovery</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060"/>
<meta name="dcterms.created" content="2015-07-15T12:40:31Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database High Availability Best Practices"/>
<meta name="dcterms.identifier" content="E40019-02"/>
<meta name="dcterms.isVersionOf" content="HABPT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="config_rac.htm" title="Previous" type="text/html"/>
<link rel="Next" href="config_dg.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E40019-02.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/20</span> <!-- End Header -->
<div id="HABPT4929" class="chapter"><a id="CHDIADHD"></a>
<h1 class="chapter"><span class="secnum">7</span> Configuring Backup and Recovery</h1>
<p>A data protection plan is not complete without a sound backup and recovery strategy to protect against system and storage failures. Oracle delivers a comprehensive data protection suite for backup and recovery of Oracle database and unstructured, application files.</p>
<p>The primary focus of this chapter is best practice configuration for backup and recovery for the Oracle database. File system data protection offerings are introduced along with pointers on where to find more information.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDEJGAC">Oracle Database Backup and Recovery Products and Features</a></p>
</li>
<li>
<p><a href="#CHDEIFBG">Backup and Recovery Configuration and Administration Best Practices</a></p>
</li>
<li>
<p><a href="#CHDICDAC">Backup to Disk Best Practices</a></p>
</li>
<li>
<p><a href="#CHDDABEF">Backup to Tape Best Practices</a></p>
</li>
<li>
<p><a href="#CHDEFHFJ">Backup and Recovery Operations and Maintenance Best Practices</a></p>
</li>
<li>
<p><a href="#CHDJGAAG">Backup Files Outside the Database</a></p>
</li>
</ul>
<p><a href="#BABIAEGC">Table 7-1</a>provides a quick reference summary of the Oracle backup and recovery suite.</p>
<div id="HABPT5336" class="tblruleformalwide">
<p class="titleintable"><a id="sthref366"></a><a id="BABIAEGC"></a>Table 7-1 Backup and Recovery Summary</p>
<table class="cellalignment2589" title="Backup and Recovery Summary" summary="backup and recovery summary" dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t2">Technology</th>
<th class="cellalignment2590" id="r1c2-t2">Recommended use with Oracle Database</th>
<th class="cellalignment2590" id="r1c3-t2">Recommended use with File System Data</th>
<th class="cellalignment2590" id="r1c4-t2">Comments</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t2" headers="r1c1-t2">
<p>Zero Data Loss Recovery Appliance</p>
</td>
<td class="cellalignment2586" headers="r2c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r2c1-t2 r1c3-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r2c1-t2 r1c4-t2">
<p>Enterprise-wide Oracle Data Protection (Backup and Recovery) Solution</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t2" headers="r1c1-t2">
<p>Recovery Manager (RMAN)</p>
</td>
<td class="cellalignment2586" headers="r3c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r3c1-t2 r1c3-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r3c1-t2 r1c4-t2">
<p>Native backup utility for the Oracle Database</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r4c1-t2" headers="r1c1-t2">
<p>Oracle Secure Backup</p>
</td>
<td class="cellalignment2586" headers="r4c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r4c1-t2 r1c3-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r4c1-t2 r1c4-t2">
<p>Tape backup management software</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r5c1-t2" headers="r1c1-t2">
<p>Oracle Database Backup Service</p>
</td>
<td class="cellalignment2586" headers="r5c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r5c1-t2 r1c3-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r5c1-t2 r1c4-t2">
<p>Backup to Oracle Public Cloud</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r6c1-t2" headers="r1c1-t2">
<p>Oracle Secure Backup Cloud Module for Amazon S3</p>
</td>
<td class="cellalignment2586" headers="r6c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r6c1-t2 r1c3-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r6c1-t2 r1c4-t2">
<p>Backup to Amazon S3 storage</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r7c1-t2" headers="r1c1-t2">
<p>Flashback Technologies</p>
</td>
<td class="cellalignment2586" headers="r7c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r7c1-t2 r1c3-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r7c1-t2 r1c4-t2">
<p>Logical error correction leveraging undo data of the Oracle Database</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r8c1-t2" headers="r1c1-t2">
<p>Flashback Database</p>
</td>
<td class="cellalignment2586" headers="r8c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r8c1-t2 r1c3-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r8c1-t2 r1c4-t2">
<p>Continuous Data Protection (CDP) leveraging flashback logs</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r9c1-t2" headers="r1c1-t2">
<p>Automatic Clustered File System (ACFS) Snapshots (for file system clones and disaster recovery)</p>
</td>
<td class="cellalignment2586" headers="r9c1-t2 r1c2-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r9c1-t2 r1c3-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r9c1-t2 r1c4-t2">
<p>Read-only or read/write copy-on-write version of the file system. Replication available.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r10c1-t2" headers="r1c1-t2">
<p>ZFS Snapshots (for database clones such as dev/test)</p>
</td>
<td class="cellalignment2586" headers="r10c1-t2 r1c2-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r10c1-t2 r1c3-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r10c1-t2 r1c4-t2">
<p>Read-only or read/write copy-on-write version of the database for testing and development</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r11c1-t2" headers="r1c1-t2">
<p>ZFS Snapshots for backup/restore</p>
</td>
<td class="cellalignment2586" headers="r11c1-t2 r1c2-t2">
<p>No</p>
</td>
<td class="cellalignment2586" headers="r11c1-t2 r1c3-t2">
<p>Yes</p>
</td>
<td class="cellalignment2586" headers="r11c1-t2 r1c4-t2">
<p>Read-only or read/write copy-on-write version of the file system for testing, development and backup</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" -->
<a id="CHDEJGAC"></a>
<div id="HABPT5148" class="sect1">
<h2 class="sect1"><span class="secnum">7.1</span> Oracle Database Backup and Recovery Products and Features</h2>
<p>This section discusses the motivation and tools for maintaining good database backups, for using Oracle database recovery features, and for using backup options and strategies made possible with Oracle database features.</p>
<div id="HABPT5149" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref367"></a>
<h3 class="sect2"><span class="secnum">7.1.1</span> Understand When to Use Backups</h3>
<p>Using backups to resolve an unscheduled outage of a production database may not allow you to meet your Recovery Time Objective (RTO) and Recovery Point Objective (RPO) or service-level requirements. For example, some outages are handled best by using Flashback Database or a standby database. However, some situations require using database backups, including the sample situations shown in <a href="#BABDAHAC">Table 7-2</a>.</p>
<div id="HABPT5150" class="tblruleformalwide">
<p class="titleintable"><a id="sthref368"></a><a id="BABDAHAC"></a>Table 7-2 Sample Situations that Require Database Backup</p>
<table class="cellalignment2589" title="Sample Situations that Require Database Backup" summary="when to use backups" dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t3">Situations that require Database Backup</th>
<th class="cellalignment2590" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t3" headers="r1c1-t3">
<p>Setting Up the Initial Data Guard Environment</p>
</td>
<td class="cellalignment2586" headers="r2c1-t3 r1c2-t3">
<p>During initial setup of a standby database, you can either use a backup of the primary database that is made accessible to the secondary site to create the initial standby database, or use RMAN network-enabled database duplication to create the standby database without the need for a pre-existing backup. To perform an over-the-network duplication you must include the RMAN <code dir="ltr">FROM ACTIVE DATABASE</code> option in the <code dir="ltr">DUPLICATE</code> command.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t3" headers="r1c1-t3">
<p>Recovering from Data Failures Using File or Block Media Recovery</p>
</td>
<td class="cellalignment2586" headers="r3c1-t3 r1c2-t3">
<p>When a block corruption, media failure, or other physical data failure occurs in an environment that does not include Data Guard, the only method of recovery is to restore from existing backups.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r4c1-t3" headers="r1c1-t3">
<p>Resolving a Double Failure</p>
</td>
<td class="cellalignment2586" headers="r4c1-t3 r1c2-t3">
<p>A double failure scenario is a situation that affects the availability of both the production and the standby databases. An example of a double failure scenario is a site outage at the secondary site, which eliminates fault tolerance, followed by a media failure on the production database. Whether the standby must be re-created depends on the type of outage at the secondary site. If the secondary site outage was temporary and did not involve the physical destruction of files, then after the secondary site is brought back online it can continue to receive redo data from the production database. Otherwise, the resolution of this situation is to re-create the production database from an available backup and then re-create the standby database.</p>
<p>Some multiple failures, or more appropriately disasters, such as a primary site outage followed by a secondary site outage, might require the use of backups that exist only in an offsite location. Developing and following a process to deliver and maintain backup tapes at an offsite location is necessary to restore service in this worst case scenario.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink SBYDB00200" href="../SBYDB/create_ps.htm#SBYDB00200"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about creating a standby database</p>
</li>
<li>
<p><a class="olink BRADV010" href="../BRADV/rcmdupdb.htm#BRADV010"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about the <code dir="ltr">DUPLICATE</code> command</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5365" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref369"></a>
<h3 class="sect2"><span class="secnum">7.1.2</span> Use Zero Data Loss Recovery Appliance to Back Up Database Files</h3>
<p>Zero Data Loss Recovery Appliance is a new data protection solution integrated with the Oracle Database that eliminates data loss exposure and dramatically reduces backup and data protection overhead on production servers. The recovery appliance easily protects all databases in the data center with a scalable cloud architecture, ensures end-to-end data validation, and automates the management of the entire data protection lifecycle for all Oracle databases through a unified Enterprise Manager interface.</p>
<p>The recovery appliance serves as a destination for real-time redo transport for all Oracle Database 11g and 12c databases, thus providing data loss protection until the last sub-second for transactional data.</p>
<p>In conjunction with Oracle Recovery Manager (RMAN), the Recovery Appliance minimizes the impact of running backups against the database by only requiring a single incremental Level 0 (full) database backup on day 1, and then Incremental Level 1 database backups thereafter.</p>
<p>When a database needs to be restored, the Recovery Appliance constructs a level 0 copy of the data file as it would have been at the time of the most recent incremental level 1 backup, thereby reducing the amount of data that needs to be recovered after the database restore is completed.</p>
<p>The Recovery Appliance also manages the transfer of data from the appliance to a tape library using Oracle Secure Backup (OSB) for purposes of tape vaulting, as well as replicating backups to another recovery appliance for faster offsite data protection.</p>
<p>Oracle ZDLRA offers many advantages over traditional backup methods including:</p>
<ul>
<li>
<p>Offloaded incremental forever backup strategy</p>
</li>
<li>
<p>Real-time redo transport, providing data loss protection until the last sub-second of transactions</p>
</li>
<li>
<p>End-to-end data backup and recovery service level agreement (SLA) validation</p>
</li>
<li>
<p>Efficient use of tape resources</p>
</li>
<li>
<p>Replication of backups to an offsite Recovery Appliance</p>
</li>
<li>
<p>Centralized administration and monitoring using Oracle Enterprise Manager Cloud Control</p>
</li>
<li>
<p>Reporting on capacity planning, database backups, and their recovery service level agreements</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See also:</p>
Zero Data Loss Recovery Appliance documentation library (especially the <a class="olink AMAGD107" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMAGD107"><span class="italic">Zero Data Loss Recovery Appliance Administrator&#39;s Guide</span></a> and <a class="olink AMPDB623" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=AMPDB623"><span class="italic">Zero Data Loss Recovery Appliance Protected Databases Configuration Guide</span></a>)</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5151" class="sect2"><a id="sthref370"></a>
<h3 class="sect2"><span class="secnum">7.1.3</span> Use Recovery Manager (RMAN) to Backup Database Files</h3>
<p><a id="sthref371"></a>Recovery Manager (RMAN) is Oracle&#39;s utility to backup and recover the Oracle Database. Because of its tight integration with the database, RMAN determines automatically what files must be backed up. More importantly, RMAN knows what files must be restored for media-recovery operations. RMAN uses server sessions to perform backup and recovery operations and stores metadata about backups in a repository. RMAN offers many advantages over typical user-managed backup methods, including:</p>
<ul>
<li>
<p>Online database backups without placing tablespaces in backup mode</p>
</li>
<li>
<p>Efficient block-level incremental backups</p>
</li>
<li>
<p>Data block integrity checks during backup and restore operations</p>
</li>
<li>
<p>Test backups and restores without actually performing the operation</p>
</li>
<li>
<p>Synchronize a physical standby database with the primary database</p>
</li>
</ul>
<p>RMAN automates backup and recovery. While user-managed methods require you to:</p>
<ul>
<li>
<p>Locate backups for each data file</p>
</li>
<li>
<p>Copy backups to the correct place using operating system commands</p>
</li>
<li>
<p>Choose which logs to apply</p>
</li>
</ul>
<p>RMAN fully automates these backup and recovery tasks.</p>
<p>There are also capabilities of Oracle backup and recovery that are only available when using RMAN, such as automated tablespace point-in-time recovery and block media recovery.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information, see the following chapters:
<ul>
<li>
<p><a class="olink BRADV89781" href="../BRADV/rcmblock.htm#BRADV89781"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about performing block media recovery</p>
</li>
<li>
<p><a class="olink BRADV009" href="../BRADV/rcmtspit.htm#BRADV009"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about performing RMAN Tablespace Point-in-Time Recovery (TSPITR)</p>
</li>
<li>
<p><a class="olink SBYDB00759" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=SBYDB00759"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about Using RMAN Incremental Backups to Roll Forward a Physical Standby Database</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5152" class="sect2"><a id="sthref372"></a>
<h3 class="sect2"><span class="secnum">7.1.4</span> Use Oracle Secure Backup for Backups to Tape</h3>
<p><a id="sthref373"></a>Oracle Secure Backup delivers unified data protection for heterogeneous environments with a common management interface across the spectrum of servers. Protecting both Oracle databases and unstructured data, Oracle Secure Backup provides centralized tape backup management for your entire IT environment, including:</p>
<ul>
<li>
<p>Oracle database through the Oracle Secure Backup built-in integration with Recovery Manager (RMAN)</p>
</li>
<li>
<p>File system data protection: For UNIX, Windows, and Linux servers</p>
</li>
<li>
<p>Network Attached Storage (NAS) data protection leveraging the Network Data Management Protocol (NDMP)</p>
</li>
</ul>
<p>Oracle Secure Backup is integrated with RMAN providing the media management layer (MML) for Oracle database tape backup and restore operations. The tight integration between these two products delivers high-performance Oracle database tape backup.</p>
<p>Specific performance optimizations between RMAN and Oracle Secure Backup that reduce tape consumption and improve backup performance are:</p>
<ul>
<li>
<p><a id="sthref374"></a><a id="sthref375"></a>Unused block compression: Eliminates the time and space usage needed to backup unused blocks</p>
</li>
<li>
<p><a id="sthref376"></a><a id="sthref377"></a>Backup undo optimization: Eliminates the time and space usage needed to backup undo that is not required to recover the current backup.</p>
</li>
</ul>
<p>You can manage the Oracle Secure Backup environment using the command line, the Oracle Secure Backup Web tool, and Oracle Enterprise Manager.</p>
<p>Using the combination of RMAN and Oracle Secure Backup provides an end-to-end tape backup solution, eliminating the need for third-party backup software.</p>
<p>Optionally, during Zero Data Loss Recovery Appliance deployment, Oracle Secure Backup can be configured and integrated automatically with the Recovery Appliance.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV193" href="../BRADV/rcmcncpt.htm#BRADV193"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about unused block compression and backup undo optimization</p>
</li>
<li>
<p>The Oracle Secure Backup platform and NAS and tape device compatibility matrixes in</p>
<p><code dir="ltr"><a href="http://www.oracle.com/technetwork/database/availability/osb-12-1-platforms-2420299.pdf">http://www.oracle.com/technetwork/database/availability/osb-12-1-platforms-2420299.pdf</a></code></p>
</li>
</ul>
</div>
<div id="HABPT5366" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref378"></a>
<h4 class="sect3"><span class="secnum">7.1.4.1</span> Using Oracle Secure Backup for Backups to Amazon S3 Storage</h4>
<p>Users can take advantage of the Internet-based data storage services offered by Amazon Web Services (AWS) Simple Storage Service (S3) for their database backup needs. The OSB Cloud Module enables RMAN to use S3 as a repository for Oracle Database backups. This provides an easy-to-manage, cost-efficient, and scalable alternative to maintaining in-house data storage and a local, fully configured backup infrastructure. RMAN with the OSB Cloud module is also the recommended means of backing up an Oracle Database that is running on AWS&#39;s Elastic Compute Cloud (EC2).</p>
<p>Users must establish an account with AWS to pay for their storage and network transfer costs as appropriate. Additionally, users must consider their security requirements and network resources, and configure their backups appropriately. Since backups to S3 may travel to AWS on the public Internet, and will be stored on a public cloud facility, it may be necessary to encrypt them to protect the data in transit and at rest at S3. This requirement may not apply for certain databases or in certain configurations, for example when the database runs on EC2 or inside AWS&#39;s Virtual Private Cloud (VPC).</p>
<p>Users must also configure the degree of network parallelism (using RMAN channels) to match the network capabilities between the database and S3 (which may include a portion of the public Internet). Multiple simultaneous channels may achieve the highest throughput overall, as RMAN takes full advantage of such parallelism.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="HABPT5153" class="sect2"><a id="sthref379"></a>
<h3 class="sect2"><span class="secnum">7.1.5</span> Use Restore Points for Creating Database Snapshots</h3>
<p><a id="sthref380"></a><a id="sthref381"></a>Oracle provides restore points and guaranteed restore points:</p>
<ul>
<li>
<p><span class="bold">Restore points</span> protect against logical failures at risky points during database maintenance. Creating a normal restore point assigns a restore point name to a specific point in time or SCN, that is a snapshot of the data as of that time. Normal restore points are available with Flashback Table, Flashback Database, and all RMAN recovery-related operations.</p>
</li>
<li>
<p><span class="bold">Guaranteed restore points</span> are recommended for database-wide maintenance such as database or application upgrades, or running batch processes. Guaranteed restore points are integrated with Flashback Database and enforce the retention of all flashback logs required for flashing back to the guaranteed restore point. After maintenance activities complete and the results are verified, you should delete guaranteed restore points that are no longer needed to reclaim flashback log space.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV71000" href="../BRADV/flashdb.htm#BRADV71000"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about using restore points and guaranteed restore points with a Flashback Database</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDEIFBG"></a>
<div id="HABPT5155" class="sect1">
<h2 class="sect1"><span class="secnum">7.2</span> Backup and Recovery Configuration and Administration Best Practices</h2>
<p><a id="sthref382"></a><a id="sthref383"></a><a id="sthref384"></a>This section describes best practices for determining backup frequency, using the RMAN recovery catalog, and for using Oracle database backup options such as Block Change Tracking.</p>
<div id="HABPT5156" class="sect2"><a id="sthref385"></a>
<h3 class="sect2"><span class="secnum">7.2.1</span> Determine a Backup Frequency<a id="sthref386"></a><a id="sthref387"></a><a id="sthref388"></a> and Retention Policy</h3>
<p>It is important to determine a backup frequency policy and to perform regular backups. A backup retention policy helps ensure that needed data is not destroyed.</p>
<p><a id="HABPT5157"></a><span class="subhead3">Factors Determining Backup Frequency&nbsp;</span>Frequent backups are essential for any recovery scheme. You should base the frequency and content of backups on the following criteria:</p>
<ul>
<li>
<p><span class="bold">Criticality of the data:</span> The <a id="sthref389"></a><a id="sthref390"></a>Recovery Point Objective (RPO) determines how much data your business can acceptably lose if a failure occurs. The more critical the data, the lower the RPO and the more frequently data should be backed up. If you are going to back up certain tablespaces more often than others, with the goal of getting better RPO for those tablespaces, then you also must plan for doing TSPITR as part of your recovery strategy. This requires considerably more planning and practice than DBPITR, because you must ensure that the tablespaces you plan to TSPITR are self-contained.</p>
</li>
<li>
<p><span class="bold">Estimated repair time</span>: The <a id="sthref391"></a><a id="sthref392"></a>Recovery Time Objective (RTO) determines the acceptable amount of time needed for recovery. Repair time is dictated by restore time plus recovery time. The lower the RTO, the higher the frequency of backups, that is, backups are more current, thereby reducing recovery time.</p>
</li>
<li>
<p><span class="bold">Volume of changed data:</span> The rate of database change effects how often data is backed up:</p>
<ul>
<li>
<p>For read-only data, perform backups frequently enough to adhere to retention policies.</p>
</li>
<li>
<p>For frequently changing data, perform backups more often to reduce the RTO.</p>
</li>
</ul>
</li>
</ul>
<p>To simplify database backup and recovery, the Oracle Suggested Recovery Appliance Backup Strategy for the Enterprise uses RMAN to send incremental database backups and redo using Data Guard transport to the Recovery Appliance, while the Oracle Suggested Backup Strategy uses the fast recovery area, incremental backups, and incrementally updated backup features for a particular database. After the initial image copy backup to the FRA, only the changed blocks are captured in the incremental backups thereafter and subsequently applied to the image copy, thereby updating the copy to the most current incremental backup time (that is, incrementally updating the backup).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV009" href="../BRADV/rcmtspit.htm#BRADV009"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about Performing RMAN Tablespace Point-in-Time Recovery (TSPITR)</p>
</li>
<li>
<p><a class="olink BRADV84152" href="../BRADV/rcmflash.htm#BRADV84152"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about Performing Database Point-in-Time Recovery</p>
</li>
<li>
<p><a class="olink ADMQS09322" href="../ADMQS/GUID-D77B0526-13F6-4570-9C74-6436B76DEA43.htm#ADMQS09322"><span class="italic">Oracle Database 2 Day DBA</span></a> for information about Using the Oracle Suggested Backup Strategy</p>
</li>
</ul>
</div>
<p><a id="HABPT5158"></a><span class="subhead3">Establishing a Backup Retention Policy&nbsp;</span>A backup retention policy, which is implemented as a Protection Policy on the Recovery Appliance, is a rule set regarding which backups must be retained, on disk or other backup media, to meet recovery and other requirements. It may be safe to delete a specific backup because it has been superseded by more recent backups or because it has been stored on tape. You may also have to retain a specific backup on disk for other reasons such as archival or regulatory requirements. A backup that is no longer needed to satisfy the backup retention policy is said to be obsolete.</p>
<p>Base your backup retention policy on redundancy or on a recovery window:</p>
<ul>
<li>
<p>In a redundancy-based retention policy, specify a number <span class="italic">n</span> such that you always keep at least <span class="italic">n</span> distinct backups of each file in your database.</p>
</li>
<li>
<p>In a recovery window-based retention policy, specify an earlier time interval, for example, one week or one month, and keep all backups required to let you perform point-in-time recovery to any point during that window.</p>
</li>
</ul>
<p><a id="HABPT5159"></a><span class="subhead3">Keeping Archival Backups<a id="sthref393"></a><a id="sthref394"></a><a id="sthref395"></a><a id="sthref396"></a>&nbsp;</span>Some businesses must retain some backups for much longer than their day-to-day backup retention policy. RMAN allows for this with the Long-term Archival Backup feature. Rather than becoming obsolete according to the database&#39;s backup retention policy, archival backups either never become obsolete or become obsolete when their time limit expires.</p>
<p>You can use the RMAN <code dir="ltr">BACKUP</code> command with the <code dir="ltr">KEEP</code> option to retain backups for longer than your ordinary retention policy. This option specifies the backup as an archival backup, which is a self-contained backup that is exempt from the configured retention policy. This allows you to retain certain backups for much longer than usual, when needed for such reasons as satisfying statutory retention requirements. Using the <code dir="ltr">KEEP</code> <code dir="ltr">FOREVER</code> option, a recovery catalog is required because the backup records eventually age out of the control file (otherwise, without a recovery catalog, loss may occur when you retain backups for much longer than usual using the database control file). Only the archived redo log files required to make an archival backup consistent are retained. For more information about the RMAN recovery catalog, see <a href="#CHDHDJEH">Section 7.2.2, &#34;Use an RMAN Recovery Catalog&#34;</a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV89551" href="../BRADV/rcmbckba.htm#BRADV89551"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about Archival Backups for Long-Term Storage</div>
</div>
<!-- class="sect2" -->
<a id="CHDHDJEH"></a>
<div id="HABPT5160" class="sect2">
<h3 class="sect2"><span class="secnum">7.2.2</span> Use an RMAN Recovery Catalog<a id="sthref397"></a><a id="sthref398"></a><a id="sthref399"></a></h3>
<p>To protect and keep backup metadata for longer retention times than can be accommodated by the control file, you can create a recovery catalog. When using the Recovery Appliance, the Recovery Appliance is the recovery catalog for all databases. When not using a Recovery Appliance, you should create the recovery catalog schema in a dedicated standalone database. Do not locate the recovery catalog with other production data. If you use Oracle Enterprise Manager, you can create the recovery catalog schema in the Oracle Enterprise Manager repository database.</p>
<p>The advantages of using a recovery catalog include:</p>
<ul>
<li>
<p>Storing backup information for a longer retention period than what can be feasibly stored in the control file. If the control file is too small to hold additional backup metadata, then existing backup information is overwritten, making it difficult to restore and recover using those backups.</p>
</li>
<li>
<p>Stores metadata for multiple databases.</p>
</li>
<li>
<p>Offloading backups to a physical standby database and using those backups to restore and recover the primary database. Similarly, you can back up a tablespace on a primary database and restore and recover it on a physical standby database. Note that backups of logical standby databases are not usable at the primary database.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV103" href="../BRADV/rcmarchi.htm#BRADV103"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about RMAN repository and the recovery catalog</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5161" class="sect2"><a id="sthref400"></a>
<h3 class="sect2"><span class="secnum">7.2.3</span> <a id="sthref401"></a><a id="sthref402"></a><a id="sthref403"></a>Create Backups in NOCATALOG Mode and Then RESYNC CATALOG When Not Using Recovery Appliance</h3>
<p>When creating backups to disk or tape, use the target database control file as the RMAN repository so that the success of the backup does not depend on the availability of the database connection to the recovery catalog. To use the target database control file as the RMAN repository, run RMAN with the <code dir="ltr">NOCATALOG</code> option. Immediately after the backup is complete, the new backup information stored in the target database control file should be synchronized to the recovery catalog using the <code dir="ltr">RESYNC CATALOG</code> command.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RCMRF150" href="../RCMRF/rcmsynta2009.htm#RCMRF150"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the <code dir="ltr">RESYNC CATALOG</code> command</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5162" class="sect2"><a id="sthref404"></a>
<h3 class="sect2"><span class="secnum">7.2.4</span> Enable Block Change Tracking for Incremental Backups</h3>
<p>Oracle database includes the <code dir="ltr">BLOCK CHANGE TRACKING</code><a id="sthref405"></a><a id="sthref406"></a><a id="sthref407"></a><a id="sthref408"></a><a id="sthref409"></a> feature for incremental backups which improves incremental backup performance by keeping track of which database blocks have changed since the previous backup. If <code dir="ltr">BLOCK CHANGE TRACKING</code> is enabled then RMAN uses the block change tracking file to identify which blocks to include in an incremental backup. This avoids the need to scan every block in the data file, reducing the number of disk reads during backup.</p>
<p>Starting with Oracle Database 11<span class="italic">g</span>, you can enable <code dir="ltr">BLOCK CHANGE TRACKING</code> on both the primary and physical standby databases. You should enable change tracking for any database where incremental backups are being performed. For example, if backups have been completely offloaded to a physical standby database, then Block Change Tracking should be enabled for that database (this requires Active Data Guard). If backups are being performed on both the primary and physical standby databases, then enable Block Change Tracking for both databases.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV89536" href="../BRADV/rcmbckba.htm#BRADV89536"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about Enabling and Disabling Block Change Tracking</p>
</li>
<li>
<p><a class="olink BRADV8125" href="../BRADV/rcmbckba.htm#BRADV8125"><span class="italic">Oracle Database Backup and Recovery Basics</span></a> for more information about Block Change Tracking</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5163" class="sect2"><a id="sthref410"></a>
<h3 class="sect2"><span class="secnum">7.2.5</span> Enable Autobackup for the Control File and Server Parameter File<a id="sthref411"></a><a id="sthref412"></a></h3>
<p>You should configure RMAN to automatically back up the control file and the <a id="sthref413"></a>server parameter file (SPFILE) whenever the database structure metadata in the control file changes or when a backup record is added.</p>
<p>The control file autobackup option enables RMAN to recover the database even if the current control file, catalog, and SPFILE are lost. Enable the RMAN autobackup feature with the <code dir="ltr">CONFIGURE CONTROLFILE AUTOBACKUP ON</code> statement.</p>
<p>You should enable autobackup for both the primary and standby databases. For example, after connecting to the primary database, as the target database, and the recovery catalog, issue the following command:</p>
<pre dir="ltr">CONFIGURE CONTROLFILE AUTOBACKUP ON;
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV89407" href="../BRADV/rcmconfb.htm#BRADV89407"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about Configuring Control File and Server Parameter File Autobackups</p>
</li>
<li>
<p><a class="olink SBYDB4855" href="../SBYDB/rman.htm#SBYDB4855"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about RMAN Configurations at a Standby Database Where Backups are Performed</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5164" class="sect2"><a id="sthref414"></a>
<h3 class="sect2"><span class="secnum">7.2.6</span> Offload Backups to a Physical Standby Database</h3>
<p>In an Oracle Data Guard configuration you can offload the process of backing up control files, data files, and archived redo log files to a physical standby database system, thereby minimizing the effect of performing backups on the primary system. You can use these backups to recover the primary or standby database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Backups of logical standby databases are not usable on the primary database.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink SBYDB04700" href="../SBYDB/rman.htm#SBYDB04700"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about using RMAN to back up and restore files</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5165" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref415"></a>
<h3 class="sect2"><span class="secnum">7.2.7</span> Set UNDO Retention for Flashback Query and Flashback Table Needs</h3>
<p>To ensure a database is enabled to use Flashback Query, Flashback Versions Query, and Flashback Transaction Query, implement the following:</p>
<ul>
<li>
<p>Set the <a id="sthref416"></a><code dir="ltr">UNDO_MANAGEMENT</code> initialization parameter to <code dir="ltr">AUTO</code>. This ensures the database is using an undo tablespace.</p>
</li>
<li>
<p>Set the <a id="sthref417"></a><code dir="ltr">UNDO_RETENTION</code> initialization parameter to a value that allows <code dir="ltr">UNDO</code> to be kept for a length of time that allows success of your longest query back in time or to recover from human errors.</p>
</li>
<li>
<p>Set the <a id="sthref418"></a><code dir="ltr">RETENTION</code> <code dir="ltr">GUARANTEE</code> clause for the undo tablespace to guarantee that unexpired undo will not be overwritten.</p>
</li>
</ul>
<p>The Flashback Table also relies on the undo data to recover the tables. Enabling Automatic Undo Management is recommended and the <code dir="ltr">UNDO_RETENTION</code> parameter must be set to a period for which the Flashback Table is needed. If a given table does not contain the required data after a Flashback Table, it can be flashed back further, flashed forward, or back to its original state, if there is sufficient <code dir="ltr">UNDO</code> data.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADFNS1008" href="../ADFNS/adfns_flashback.htm#ADFNS1008"><span class="italic">Oracle Database Advanced Application Developer&#39;s Guide</span></a> for information about Flashback</p>
</li>
<li>
<p><a class="olink ADFNS01003" href="../ADFNS/adfns_flashback.htm#ADFNS01003"><span class="italic">Oracle Database Advanced Application Developer&#39;s Guide</span></a> for information about Flashback Query</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDICDAC"></a>
<div id="HABPT5166" class="sect1">
<h2 class="sect1"><span class="secnum">7.3</span> Backup to Disk<a id="sthref419"></a> Best Practices</h2>
<p>Review the following priorities to determine your disk backup strategy:</p>
<ul>
<li>
<p>Overall backup time</p>
</li>
<li>
<p>Impact to resource consumption</p>
</li>
<li>
<p>Space used by the backup</p>
</li>
<li>
<p>Recovery time</p>
</li>
</ul>
<p><a href="#BABIBDIE">Table 7-3</a> compares different backup alternatives against the different priorities you might have. Using <a href="#BABIBDIE">Table 7-3</a> as a guide, you can choose the best backup approach for your specific business requirements. You might want to minimize backup space while sacrificing recovery time. Alternatively, you might choose to place a higher priority on recovery and backup times while space is not an issue.</p>
<div id="HABPT5167" class="tblruleformal">
<p class="titleintable"><a id="sthref420"></a><a id="BABIBDIE"></a>Table 7-3 Comparing <a id="sthref421"></a>Backup to Disk Options</p>
<table class="cellalignment2589" title="Comparing Backup to Disk Options" summary="This table compares the overall backup time, impact on primary, space used by backup, and recovery time for several different backup options." dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t18">Backup Option</th>
<th class="cellalignment2590" id="r1c2-t18">Overall Backup Time<br/>
1: Fastest<br/>
5: Slowest</th>
<th class="cellalignment2590" id="r1c3-t18">Impact on Resource Consumption<br/>
1: Lowest<br/>
5: Highest</th>
<th class="cellalignment2590" id="r1c4-t18">Space Used by Backup<br/>
1: Least<br/>
5: Most</th>
<th class="cellalignment2590" id="r1c5-t18">Restore Time<br/>
1: Fastest<br/>
5: Slowest</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t18" headers="r1c1-t18">
<p>Oracle Suggested Recovery Appliance Backup Strategy</p>
</td>
<td class="cellalignment2586" headers="r2c1-t18 r1c2-t18">
<p>1</p>
</td>
<td class="cellalignment2586" headers="r2c1-t18 r1c3-t18">
<p>1</p>
</td>
<td class="cellalignment2586" headers="r2c1-t18 r1c4-t18">
<p>1</p>
<p>(backups stored in a compressed format)</p>
</td>
<td class="cellalignment2586" headers="r2c1-t18 r1c5-t18">
<p>2</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t18" headers="r1c1-t18">
<p><a id="sthref422"></a>Data file image copy</p>
</td>
<td class="cellalignment2586" headers="r3c1-t18 r1c2-t18">
<p>5</p>
</td>
<td class="cellalignment2586" headers="r3c1-t18 r1c3-t18">
<p>5</p>
</td>
<td class="cellalignment2586" headers="r3c1-t18 r1c4-t18">
<p>5</p>
</td>
<td class="cellalignment2586" headers="r3c1-t18 r1c5-t18">
<p>1</p>
<p>No restore (switch to fast recovery area copy)</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r4c1-t18" headers="r1c1-t18">
<p><a id="sthref423"></a>Full or level 0 backup set</p>
</td>
<td class="cellalignment2586" headers="r4c1-t18 r1c2-t18">
<p>4</p>
</td>
<td class="cellalignment2586" headers="r4c1-t18 r1c3-t18">
<p>4</p>
</td>
<td class="cellalignment2586" headers="r4c1-t18 r1c4-t18">
<p>3</p>
</td>
<td class="cellalignment2586" headers="r4c1-t18 r1c5-t18">
<p>3</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r5c1-t18" headers="r1c1-t18">
<p><a id="sthref424"></a>Differential incremental backup set (level 1); applied to previous level 0 and level 1 backups during recovery</p>
</td>
<td class="cellalignment2586" headers="r5c1-t18 r1c2-t18">
<p>1</p>
</td>
<td class="cellalignment2586" headers="r5c1-t18 r1c3-t18">
<p>1</p>
</td>
<td class="cellalignment2586" headers="r5c1-t18 r1c4-t18">
<p>1</p>
</td>
<td class="cellalignment2586" headers="r5c1-t18 r1c5-t18">
<p>5</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r6c1-t18" headers="r1c1-t18">
<p><a id="sthref425"></a>Cumulative incremental backup set (level 1); applied to previous level 0 backup during recovery</p>
</td>
<td class="cellalignment2586" headers="r6c1-t18 r1c2-t18">
<p>2</p>
</td>
<td class="cellalignment2586" headers="r6c1-t18 r1c3-t18">
<p>2</p>
</td>
<td class="cellalignment2586" headers="r6c1-t18 r1c4-t18">
<p>2</p>
</td>
<td class="cellalignment2586" headers="r6c1-t18 r1c5-t18">
<p>4</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r7c1-t18" headers="r1c1-t18">
<p><a id="sthref426"></a>Incrementally updated backup (level 1); incremental applied to image copy after backup</p>
</td>
<td class="cellalignment2586" headers="r7c1-t18 r1c2-t18">
<p>3</p>
</td>
<td class="cellalignment2586" headers="r7c1-t18 r1c3-t18">
<p>1</p>
</td>
<td class="cellalignment2586" headers="r7c1-t18 r1c4-t18">
<p>5</p>
</td>
<td class="cellalignment2586" headers="r7c1-t18 r1c5-t18">
<p>1</p>
<p>No restore (switch to fast recovery area copy)</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformal" -->
<p><a id="HABPT5168"></a><span class="subhead3">Backup to Disk: Best Practices for Optimizing Recovery Times&nbsp;</span>If <a id="sthref427"></a><a id="sthref428"></a>restore time is your primary concern then perform either a database copy or an incremental backup with immediate apply of the incremental to the copy. These are the only options that provide an immediate usable backup of the database, which you then must recover only to the time of the failure using archived redo log files created since the last incremental backup was performed.</p>
<p><a id="HABPT5169"></a><span class="subhead3">Backup to Disk: Best Practices for Minimizing Space Usage&nbsp;</span>If <a id="sthref429"></a><a id="sthref430"></a>space usage is your primary concern then perform Oracle Suggested Recovery Appliance Backup Strategy, as this practice stores the database backups off the machine where the database is located.</p>
<p>Alternatively, an incremental backup with a deferred apply of the incremental to the copy. If you perform a cumulative level 1 incremental backup, then it stores only those blocks that have been changed since the last level 0 backup:</p>
<ul>
<li>
<p>With a cumulative incremental backup apply only the last level 1 backup to the level 0 backup.</p>
</li>
<li>
<p>With a differential incremental backup apply all level 1 backups to the level 0 backup.</p>
</li>
</ul>
<p>A cumulative incremental backup usually consumes more space in the fast recovery area than a differential incremental backup.</p>
<p><a id="HABPT5170"></a><span class="subhead3">Backup to Disk: Best Practices for Minimizing System Resource Consumption (I/O and CPU)&nbsp;</span>If <a id="sthref431"></a><a id="sthref432"></a>system resource consumption is your primary concern then an Oracle Suggested Recovery Appliance Backup Strategy or incremental backup with a Block Change Tracking enabled consumes the least amount of resources on the database.</p>
<p class="subhead2"><a id="HABPT5171"></a>Example</p>
<p>For many applications, only a small percentage of the entire database is changed each day even if the transaction rate is very high. In many cases, applications repeatedly modify the same set of blocks; so, the total unique, changed block set is small.</p>
<p>For example, a database contains about 600 GB of user data, not including temp files and redo logs. Every 24 hours, approximately 2.5% of the database is changed, which is approximately 15 GB of data. In this example, with the database being stored on the source system, MAA testing recorded the following results:</p>
<ul>
<li>
<p>Level 0 backup takes 180 minutes, including <code dir="ltr">READ</code>s from the data area and <code dir="ltr">WRITE</code>s to the fast recovery area</p>
</li>
<li>
<p>Level 1 backup takes 20 minutes, including <code dir="ltr">READ</code>s from the data area and <code dir="ltr">WRITE</code>s to the fast recovery area</p>
</li>
<li>
<p>Rolling forward and merging an existing image copy in the fast recovery area with a newly created incremental backup takes only 45 minutes, including <code dir="ltr">READ</code>s and <code dir="ltr">WRITE</code>s from the fast recovery area.</p>
</li>
</ul>
<p>In this example, the level 0 backup (image copy) takes 180 minutes. This is approximately the same amount of time it takes to perform a full backup set.</p>
<p>Subsequent backups are level 1 (incremental), which take 20 minutes, so the potential impact on the data area is reduced. That backup is then applied to the existing level 0 backup, which takes 45 minutes. This process does not perform I/O to the data area, so there is no impact (assuming the fast recovery area and data area use separate storage). The total time to create the incremental backup and apply it to the existing level 0 backup is 65 minutes (20+45).</p>
<p>The result is the same using incrementally updated backups or full backup sets, a full backup of the database is created. The incremental approach takes 115 minutes less time (64% less) than simply creating a full backup set. In addition, the I/O impact is less, particularly against the data area which should have less detrimental effect on production database performance.</p>
<p>Thus, for this example when you compare always taking full backups versus starting with a level 0 backup, performing only incremental backups, and then rolling forward the level 0 backup, the net savings are:</p>
<ul>
<li>
<p>115 minutes or 64% time savings to create a complete backup</p>
</li>
<li>
<p>Reduced I/O on the database during backups</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV8003" href="../BRADV/rcmbckba.htm#BRADV8003"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about backing up the database</div>
</div>
<!-- class="sect1" -->
<a id="CHDDABEF"></a>
<div id="HABPT5172" class="sect1">
<h2 class="sect1"><span class="secnum">7.4</span> Backup to Tape Best Practices</h2>
<p>Recovery Manager (RMAN) provides automated disk backup for the Oracle database and is integrated with media management products such as Oracle Secure Backup for backup to tape. Whether your Oracle database backup strategy uses disk, tape, or both, the combination of RMAN and Oracle Secure Backup delivers a comprehensive solution to meet your specific requirements.</p>
<div id="HABPT5173" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref433"></a>
<h3 class="sect2"><span class="secnum">7.4.1</span> Initial RMAN Oracle Secure Backup Configuration</h3>
<p>When installing Oracle Secure Backup, the System Backup Tape (SBT) libraries for RMAN tape backups are automatically linked. Using Oracle Enterprise Manager Database Control you can manage the Oracle Secure Backup backup domain from tape vaulting to backup and restore operations. The tight integration between RMAN, Oracle Enterprise Manager Database Control, and Oracle Secure Backup makes initial configuration a simple process.</p>
<p>Perform the following four steps to perform initial configuration and prepare to backup a database to tape:</p>
<ol>
<li>
<p>Define your Oracle Secure Backup Administrative Server in Oracle Enterprise Manager Database Control enabling the Oracle Secure Backup domain to be managed through Oracle Enterprise Manager.</p>
</li>
<li>
<p>Pre-authorize an Oracle Secure Backup user for use with RMAN allowing the RMAN backup/restore be performed without having to explicitly login to Oracle Secure Backup.</p>
</li>
<li>
<p>Set-up media policies in Oracle Secure Backup to be used for RMAN backups.</p>
</li>
<li>
<p>Establish RMAN backup settings such as parallelism and compression.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If you use Oracle Secure Backup or tape-side compression, do not also use RMAN compression.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OBADM197" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OBADM197"><span class="italic">Oracle Secure Backup Administrator&#39;s Guide</span></a> for more information about using Recovery Manager with Oracle Secure Backup</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5174" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref434"></a>
<h3 class="sect2"><span class="secnum">7.4.2</span> Define Oracle Secure Backup Media Policies for Tape Backups</h3>
<p>Once backup data stored on tape is no longer needed, its lifecycle is complete and the tape media can be reused. Management requirements during a tape&#39;s lifecycle (retention period) may include duplication and vaulting across multiple storage locations. Oracle Secure Backup provides effective media lifecycle management through user-defined media policies, including:</p>
<ul>
<li>
<p>Retention</p>
</li>
<li>
<p>Tape duplication</p>
</li>
<li>
<p>Vaulting: rotation of tapes between multiple locations</p>
</li>
</ul>
<p>Media lifecycle management may be as simple as defining appropriate retention settings or more complex to include tape duplication with the original and duplicate(s) having different retention periods and vaulting requirements. Oracle Secure Backup media families, often referred to as tape pools, provide the media lifecycle management foundation.</p>
<p>The best practice recommendation is to leverage content-managed media families which use defined RMAN retention parameters associated with the database to determine when the tape may be reused (effectively an expired tape). A specific expiration date is not associated with content-managed tapes as is done with time-managed. The expiration or recycling of these tapes is based on the attribute associated with the backup images on the tape. All backup images written to content-managed tapes automatically have an associated &#34;content-manages reuse&#34; attribute. Since the recycling of content-managed tapes adheres to user-defined RMAN retention settings, RMAN instructs Oracle Secure Backup when to change the backup image attribute to &#34;deleted&#34;.</p>
<p>The RMAN <code dir="ltr">DELETE</code> <code dir="ltr">OBSOLETE</code> command communicates which backup pieces (images) are no longer required to meet the user-defined RMAN retention periods. Once Oracle Secure Backup receives this communication, the backup image attribute is changed to &#34;deleted&#34;. The actual backup image is not deleted but the attribute is updated within the Oracle Secure Backup catalog. Once all backup images on tape have a deleted attribute, Oracle Secure Backup considers the tape eligible for reuse, similar to that of an expired time-managed tape.</p>
<p>Oracle Secure Backup provides policy-based media management for RMAN backup operations through user-defined Database Backup Storage Selectors. One Database Backup Storage Selector (SSEL) may apply to multiple databases or multiple SSELs may be associated with a single database. For example, you would create two SSEL for a database when using RMAN duplexing and each copy should be written to a different media family. The SSEL contains the following information:</p>
<ul>
<li>
<p>Database name / ID or applicable to all databases</p>
</li>
<li>
<p>Hostname or applicable to all hosts</p>
</li>
<li>
<p>Content: archive logs, full, incremental, autobackup or applicable to all</p>
</li>
<li>
<p>RMAN copy number (applicable when RMAN duplexing is configured)</p>
</li>
<li>
<p>Media family name</p>
</li>
<li>
<p>Name(s) of devices to which operations are restricted (if no device restrictions are configured, Oracle Secure Backup uses any available device)</p>
</li>
<li>
<p>Wait time (duration) for available tape resources</p>
</li>
<li>
<p>Encryption setting</p>
</li>
</ul>
<p>Oracle Secure Backup automatically uses the storage selections defined within a SSEL without further user intervention. To override the storage selections for one time backup operations or other exceptions, define alternate media management parameters in the RMAN backup script. For more information, see <a class="olink OBADM183" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OBADM183"><span class="italic">Oracle Secure Backup Administrator&#39;s Guide</span></a>.</p>
</div>
<!-- class="sect2" -->
<div id="HABPT5175" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref435"></a>
<h3 class="sect2"><span class="secnum">7.4.3</span> Create Tape Backups from the Fast Recovery Area</h3>
<p><a id="sthref436"></a>You can easily backup the Fast Recovery Area (FRA) to tape with the RMAN command: <code dir="ltr">BACKUP RECOVERY AREA</code>. Using this disk to tape backup method instead of performing a separate backup of the production database to tape provides a few distinct advantages:</p>
<ul>
<li>
<p>Saves tape consumption by creating an optimized backup of the Fast Recovery Area (FRA) thereby eliminating unnecessary backup of files already protected on tape</p>
</li>
<li>
<p>Enables RMAN to use better restore intelligence from disk then tape as necessary, otherwise, RMAN would restore from the most recent backup regardless of media type</p>
</li>
<li>
<p>Reduces I/O on the production database since the FRA uses a separate disk group</p>
</li>
</ul>
<p>Upon restoration, RMAN automatically selects the most appropriate backup to restore from disk or tape. If the required backup is on tape, RMAN would restore or recovery the database directly from tape media through integration with Oracle Secure Backup. As RMAN has intimate knowledge of what files are necessary for recovery, restoration from disk or tape is an automated process.</p>
<p>While it is possible to backup the FRA or other RMAN disk backup to tape outside of RMAN by performing a file system backup of the disk area using the media management software, it is not recommended. If RMAN is not aware of the tape backup then restoration is an error-prone, manual process:</p>
<ol>
<li>
<p>DBA must determine what files are needed for the restoration.</p>
</li>
<li>
<p>Media manager administrator would then restore designated files from tape backups to a disk location.</p>
</li>
<li>
<p>Once files on disk, DBA would initiate an RMAN restore or recovery from the disk location.</p>
</li>
</ol>
<p>The combination of RMAN and Oracle Secure Backup provides an integrated Oracle database tape backup solution.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink ADMQS09113" href="../ADMQS/GUID-EA0666F4-0EB0-4EB5-AD4C-24F77A64CE9D.htm#ADMQS09113"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about the Fast Recovery Area</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5176" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref437"></a>
<h3 class="sect2"><span class="secnum">7.4.4</span> Managing Offsite Backup Tapes</h3>
<p>Backup tapes are highly portable and often stored at offsite locations for disaster recovery purposes. These tapes are first created from within a tape device but often are removed from the hardware device. Once backup tapes are removed from a hardware device the tapes may be stored in an on-site or offsite location. You can effectively manage tape movement between multiple locations using Oracle Secure Backup rotation policies.</p>
<p>For Oracle database restoration, a restore request is submitted from RMAN to Oracle Secure Backup. If the tapes are within the library, the restore begins immediately assuming device availability. However, if the tapes needed for restore could be offsite; you may want to confirm the location of tapes before you issue the restore command. With RMAN and Oracle Secure Backup you can easily do so by issuing the following RMAN command(s):</p>
<ul>
<li>
<p><code dir="ltr">RESTORE DATABASE PREVIEW</code> command provides a list of tapes needed for restoration which are offsite.</p>
</li>
<li>
<p><code dir="ltr">RESTORE DATABASE PREVIEW RECALL</code> command initiates a recall operation through Oracle Secure Backup to return the tapes from offsite to the tape device for restoration. Once the tapes are on-site, you can begin the RMAN restore operation.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV89768" href="../BRADV/rcmcomre.htm#BRADV89768"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about recalling offsite backups with RMAN</p>
</li>
<li>
<p><a class="olink BRADV8140" href="../BRADV/rcmcomre.htm#BRADV8140"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about previewing backups used in restore operations</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDEFHFJ"></a>
<div id="HABPT5177" class="sect1">
<h2 class="sect1"><span class="secnum">7.5</span> Backup and Recovery Operations and Maintenance Best Practices</h2>
<p>This section outlines procedures to regularly check for corruption of data files using the Data Recovery Advisor, for testing recovery procedures, and for backing up the recovery catalog database.</p>
<div id="HABPT5367" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref438"></a>
<h3 class="sect2"><span class="secnum">7.5.1</span> Use Read Only Tablespaces</h3>
<p>Historical data that is not subject to change can be stored in Read Only tablespaces. A Read Only Tablespace can be backed up once, and then no additional backups need to be taken for those data files. This can reduce the amount of data that needs to be backed up during incremental level 0 or full backups.</p>
</div>
<!-- class="sect2" -->
<div id="HABPT5368" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref439"></a>
<h3 class="sect2"><span class="secnum">7.5.2</span> Do Not Compress Data That Has Already Been Compressed</h3>
<p>If the database contains compressed data such as HCC objects, then RMAN compression should not be used in an attempt to further compress the data. When RMAN compression is used, RMAN backups typically become CPU bound as opposed to IO bound and the backup operations can take between 2 and 50 times longer to complete depending upon the database and RMAN compression algorithm being used.</p>
</div>
<!-- class="sect2" -->
<div id="HABPT5369" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref440"></a>
<h3 class="sect2"><span class="secnum">7.5.3</span> Use Section Size Parameter to Break Up BigFile DataFiles Backup</h3>
<p>Using the RMAN Section Size option can significantly speed up database backups by allocating different parts of a big file datafile to multiple RMAN channels for processing in parallel.</p>
</div>
<!-- class="sect2" -->
<div id="HABPT5178" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref441"></a>
<h3 class="sect2"><span class="secnum">7.5.4</span> Diagnose Data Failures and Present Repair Options</h3>
<p>Data Recovery Advisor is an Oracle Database tool that automatically diagnoses data failures, determines and presents appropriate repair options, and executes repairs at the user&#39;s request. In this context, a data failure is a corruption or loss of persistent data on disk. By providing a centralized tool for automated data repair, Data Recovery Advisor improves the manageability and reliability of an Oracle database and thus helps reduce the mean time to recover (MTTR).</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV246" href="../BRADV/rcmrepai.htm#BRADV246"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about using Data Recovery Advisor</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5179" class="sect2"><a id="sthref442"></a>
<h3 class="sect2"><span class="secnum">7.5.5</span> Regularly Check Database Files for Corruption<a id="sthref443"></a><a id="sthref444"></a></h3>
<p><a id="sthref445"></a>When using Oracle Suggested Recovery Appliance Backup Strategy, regular checks of the database backups stored on the appliance are performed automatically. Alternatively, use the RMAN <code dir="ltr">VALIDATE</code> command to regularly check database files for block corruption that has not yet been reported by a user session or by normal backup operations. RMAN scans the specified files and checks for physical and logical errors, but does not actually perform the backup or recovery operation. Oracle database records the address of the corrupt block and the type of corruption in the control file. Access these records through the <code dir="ltr">V$DATABASE_BLOCK_CORRUPTION</code> view, which can be used by RMAN block media recovery.</p>
<p>To detect all types of corruption that are possible to detect, specify the <code dir="ltr">CHECK LOGICAL</code> option.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink BRADV90063" href="../BRADV/rcmvalid.htm#BRADV90063"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about Validating Database Files and Backups</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5180" class="sect2"><a id="sthref446"></a>
<h3 class="sect2"><span class="secnum">7.5.6</span> Periodically Test Recovery Procedures<a id="sthref447"></a></h3>
<p><a id="sthref448"></a>Complete, successful, and tested backups are fundamental to the success of any recovery. Create test plans for different outage types. Start with the most common outage types and progress to the least probable. Using the RMAN <code dir="ltr">DUPLICATE</code> command is a good way to perform recovery testing, because it requires restoring from backups and performing media recovery.</p>
<p>Monitor the backup procedure for errors, and validate backups by testing your recovery procedures periodically. Also, validate the ability to restore the database using the RMAN command <code dir="ltr">RESTORE...VALIDATE</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV010" href="../BRADV/rcmdupdb.htm#BRADV010"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about <code dir="ltr">DUPLICATE</code> command</p>
</li>
<li>
<p><a class="olink BRADV8156" href="../BRADV/rcmvalid.htm#BRADV8156"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about validating backups before restoring them</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5181" class="sect2"><a id="sthref449"></a>
<h3 class="sect2"><span class="secnum">7.5.7</span> Back Up the RMAN and Oracle Secure Backup Catalogs on a Regular Basis<a id="sthref450"></a><a id="sthref451"></a></h3>
<p>Include the recovery catalog database in your backup and recovery strategy. If you do not back up the recovery catalog and a disk failure occurs that destroys the recovery catalog database, then you may lose the metadata in the catalog. Without the recovery catalog contents, recovery of your other databases is likely to be more difficult.</p>
<p>The Oracle Zero Data Loss Recovery Appliance automatically backs up the RMAN Catalog to disk and then to tape along with backing up the integrated Oracle Secure Backup catalog.</p>
<p>When the Recovery Appliance is not used, the Oracle Secure Backup catalog maintains backup metadata, scheduling and configuration details for the backup domain. Just as it&#39;s important to protect the RMAN catalog or control file, the Oracle Secure Backup catalog should be backed up on a regular basis.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink BRADV8015" href="../BRADV/rcmcatdb.htm#BRADV8015"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about managing a recovery catalog</p>
</li>
<li>
<p><a class="olink OBADM" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OBADM"><span class="italic">Oracle Secure Backup Administrator&#39;s Guide</span></a> for information about the Oracle Secure Backup administrative server backup catalog</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5337" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref452"></a>
<h3 class="sect2"><span class="secnum">7.5.8</span> Use Procedures to Backup Files Outside the Database</h3>
<p>Oracle Secure Backup provides tape backup for non-Oracle files. Oracle Secure Backup does not have pro-active checking as the database does. Use the features available to backup files outside the database. For more information, see <a href="#CHDJGAAG">Section 7.6, &#34;Backup Files Outside the Database&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDJGAAG"></a>
<div id="HABPT5182" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">7.6</span> Backup Files Outside the Database</h2>
<p>Oracle IT environments include both database and application files that must be protected for short and long-term retention requirements. Differences exist between backing up database and unstructured files. In addition, managing backup and recovery often crosses organizational areas such as DBA for the database and system administration for file system data could cross organizational areas. The Oracle data protection suite offers a cohesive solution meeting your complete needs for Oracle database and non Oracle database storage.</p>
<a id="CHDDAHJA"></a>
<div id="HABPT5183" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">7.6.1</span> ACFS Snapshots</h3>
<p><a id="sthref453"></a><a id="sthref454"></a>An Oracle ACFS snapshot is an online, read-only, point in time copy of an Oracle ACFS file system. The snapshot copy is space-efficient and uses Copy-On-Write functionality. Before an Oracle ACFS file extent is modified or deleted, its current value is copied to the snapshot to maintain the point-in-time view of the file system.</p>
<p>Oracle ACFS snapshot can support the online recovery of files inadvertently modified or deleted from a file system. With up to 63 snapshot views supported for each file system, flexible online file recovery solutions spanning multiple views can be employed. An Oracle ACFS snapshot can also be used as the source of a file system backup, as it can be created on demand to deliver a current, consistent, online view of an active file system.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink OSTMG33000" href="../OSTMG/GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C.htm#OSTMG33000"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information About Oracle ACFS Snapshots</p>
</li>
<li>
<p><a class="olink OSTMG29100" href="../OSTMG/GUID-5308C88B-C7B3-4A47-8B7B-601D94DAE0BB.htm#OSTMG29100"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about Managing Oracle ACFS Snapshots with Oracle Enterprise Manager</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5184" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref455"></a>
<h3 class="sect2"><span class="secnum">7.6.2</span> Oracle ZFS Storage Appliance Snapshots</h3>
<p><a id="sthref456"></a><a id="sthref457"></a><a id="sthref458"></a>Oracle ZFS Storage Appliance provides an integrated high performance backup solution and is also a cost effective platform for disaster recovery for non-Database files. Ever-growing amounts of data present system and database administrators with many challenges&mdash;the thorniest of which are associated with the complex process of backup and recovery. Without reliable data protection and processes, mission-critical data is at risk.</p>
<p>Oracle ZFS Storage Appliance is an easy-to-deploy Unified Storage System that ensures that backup window and recovery time objectives (RTO) are met by providing timely recovery in the event of a disaster.</p>
<p>Oracle ZFS Storage Appliance supports unlimited snapshot capability. A snapshot similar to Oracle ACFS is a read-only, point-in-time copy of a file system (for information about Oracle ACFS, see <a href="#CHDDAHJA">Section 7.6.1, &#34;ACFS Snapshots&#34;</a>). It is instantaneously created and no space is allocated initially. Blocks are allocated as changes are made to the base file system (copy-on-write). The snapshots are either initiated manually or can be automated by scheduling at specific intervals. The snapshot data can be directly accessed for any backup purposes. Any reads to the snapshot blocks are served by the base file system&#39;s block. When changes happen to the base file system, the older block is now referenced by the snapshot and the new changed block is referenced by the file system.</p>
<p>Oracle ZFS Storage Appliance is also recommended for development and test systems that are snapshots taken from the standby database in a Data Guard environment.</p>
<p>Snapshot rollback is the process to bring the base file system to the point in time when the snapshot is taken. The rollback process discards all the changes that happened to the base file system from the time of the snapshot to the time of rollback. This removes the need for a data restore process.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="https://wikis.oracle.com/display/FishWorks/Documentation"><code dir="ltr">https://wikis.oracle.com/display/FishWorks/Documentation</code></a> for documentation on Oracle ZFS Storage Appliance</p>
</li>
<li>
<p>The MAA white paper &#34;Oracle Database Cloning Solution Using Oracle&#39;s Sun ZFS Storage Appliance And Oracle Data Guard&#34; from the MAA Best Practices area for Oracle Database at</p>
<p><code dir="ltr"><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
</li>
<li>
<p>The MAA white paper &#34;Oracle Database Cloning Using Oracle Recovery Manager and Sun ZFS Storage Appliance&#34; from the MAA Best Practices area for Oracle Databases at</p>
<p><code dir="ltr"><a href="http://www.oracle.com/goto/maa/">http://www.oracle.com/goto/maa</a></code></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<div id="HABPT5185" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref459"></a>
<h3 class="sect2"><span class="secnum">7.6.3</span> Tape Backups</h3>
<p>Oracle Secure Backup provides centralized tape backup management for heterogeneous file system data and the Oracle database. Oracle Secure Backup offers multiple backups levels with full, cumulative and differential incrementals. For more information, see <a href="#CHDDABEF">Section 7.4, &#34;Backup to Tape Best Practices&#34;</a>. In addition, a full offsite backup level may be scheduled without interfering with the regular full/incremental schedule. File system backups can be performed at the file, directory, file system, or raw partition level meeting even the most stringent requirements within user-defined backup windows.</p>
<p>For file system backup operations, you define Oracle Secure Backup &#34;datasets&#34; which describes what to backup. A dataset is a textual description employing a lightweight language to communicate how to build and organize files to be protected. Being Oracle Database aware, Oracle Secure Backup can skip database files during file system backups by using the &#34;exclude oracle database files&#34; directive within the dataset.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The <a class="olink OBADM220" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=OBADM220"><span class="italic">Oracle Secure Backup Administrator&#39;s Guide</span></a> for more information about file system backup operations</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2579">
<tr>
<td class="cellalignment2586">
<table class="cellalignment2584">
<tr>
<td class="cellalignment2583"><a href="config_rac.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2583"><a href="config_dg.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2588">
<table class="cellalignment2582">
<tr>
<td class="cellalignment2583"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2583"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2583"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2583"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2583"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2583"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
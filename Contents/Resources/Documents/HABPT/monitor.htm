<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-46468"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Monitoring%20for%20High%20Availability"></a><title>Monitoring for High Availability</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1060"/>
<meta name="dcterms.created" content="2015-07-15T12:40:32Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database High Availability Best Practices"/>
<meta name="dcterms.identifier" content="E40019-02"/>
<meta name="dcterms.isVersionOf" content="HABPT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2005, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="config_fcf.htm" title="Previous" type="text/html"/>
<link rel="Next" href="outage.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E40019-02.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">16/20</span> <!-- End Header -->
<div id="HABPT003" class="chapter"><a id="g1011041"></a>
<h1 class="chapter"><span class="secnum">11</span> Monitoring for High Availability</h1>
<p>This chapter provides best practices for monitoring your system using Enterprise Manager and to monitor and maintain a highly available environment across all tiers of the application stack.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CFABGBFA">Overview of Monitoring and Detection for High Availability</a></p>
</li>
<li>
<p><a href="#CFAECIDG">Using Enterprise Manager for System Monitoring</a></p>
</li>
<li>
<p><a href="#i1007185">Managing the High Availability Environment with Enterprise Manager</a></p>
</li>
<li>
<p><a href="#CHDIJBCC">Using Cluster Health Monitor</a></p>
</li>
</ul>
<a id="CFABGBFA"></a>
<div id="HABPT4974" class="sect1">
<h2 class="sect1"><span class="secnum">11.1</span> Overview of Monitoring and Detection for High Availability</h2>
<p>Continuous monitoring of the host, network, database operations, application, and other system components ensures early detection of problems. Early detection improves the user&#39;s system experience because problems can be avoided or resolved faster. In addition, monitoring captures system metrics to indicate trends in system performance, growth, and recurring problems. This information can facilitate prevention, enforce security policies, and manage job processing. For the database server, a sound monitoring system must measure availability and detect events that can cause the database server to become unavailable, and provide immediate notification about critical failures to responsible parties.</p>
<p>The monitoring system itself must be highly available and adhere to the same operational best practices and availability practices as the resources it monitors. Failure of the monitoring system leaves all monitored systems unable to capture diagnostic data or alert the administrator about problems.</p>
<p>Enterprise Manager provides management and monitoring capabilities with many different notification options. Recommendations are available for methods of monitoring the environment&#39;s availability and performance, and for using the tools in response to changes in the environment.</p>
</div>
<!-- class="sect1" -->
<a id="CFAECIDG"></a>
<div id="HABPT4975" class="sect1">
<h2 class="sect1"><span class="secnum">11.2</span> Using Enterprise Manager for System Monitoring<a id="sthref619"></a><a id="sthref620"></a><a id="sthref621"></a><a id="sthref622"></a><a id="sthref623"></a></h2>
<p>A major benefit of Enterprise Manager is its ability to manage components across the entire application stack, from the host operating system to a user or packaged application. Enterprise Manager treats each of the layers in the application as a <span class="italic"><a id="sthref624"></a>target</span>. Targets&mdash;such as databases, application servers, and hardware&mdash;can then be viewed along with other targets of the same type, or can be grouped by application type. You can also review related targets in a single view from the High Availability Console (for more information, <a href="#CFAHIBCJ">Section 11.3.3, &#34;Manage Database Availability with the High Availability Console&#34;</a>). Each target type has a default generated home page that displays a summary of relevant details for a specific target. You can group different types of targets by function; that is, as resources that support the same application.</p>
<p>Every target is monitored by an <a id="sthref625"></a><a id="sthref626"></a>Oracle Management Agent. Every <a id="sthref627"></a>Management Agent runs on a host and is responsible for a set of targets. The targets can be on a host that is different from the one that is used by the Management Agent. For example, a Management Agent can monitor a storage array that cannot host an agent natively. When a Management Agent is installed on a host, the host is automatically discovered along with other targets that are on the machine.</p>
<p>Moreover, to help you implement the Maximum Availability Architecture (MAA) best practices, Enterprise Manager provides the MAA Advisor (for more information, see <a href="#CFADBGAJ">Section 11.3.4, &#34;Configure High Availability Solutions with MAA Advisor&#34;</a>). The MAA Advisor page recommends Oracle solutions for most outage types and describes the benefits of each solution.</p>
<p>In addition to monitoring infrastructure with Enterprise Manager in the Oracle HA environment, Oracle Auto Service Request (ASR) can be used to resolve problems faster by using auto-case generation for Oracle&#39;s servers, storage systems, components, and Engineered Systems when specific hardware faults occur. For more information, see &#34;Oracle Auto Service Request&#34; in My Oracle Support Note 1185493.1 at</p>
<p><a href="https://support.oracle.com/rs?type=doc&amp;id=1185493.1"><code dir="ltr">https://support.oracle.com/rs?type=doc&amp;id=1185493.1</code></a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink EMCON109" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMCON109"><span class="italic">Enterprise Manager Cloud Control Introduction</span></a> for information about Enterprise Manager Architecture and the Oracle Management Agent</div>
<div id="HABPT4976" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref628"></a>
<h3 class="sect2"><span class="secnum">11.2.1</span> Oracle Enterprise Manager Home Page</h3>
<p>Administrators can select the Enterprise Manager Home Page that provides the most relevant information based upon their role, choosing from a set of suggested pages such as the Enterprise Summary page shown in <a href="#CFAGFFAA">Figure 11-1</a> that shows the availability of all discovered targets. Administrators can also select any page in Enterprise Manager as their home page.<a id="sthref629"></a><a id="sthref630"></a></p>
<div class="figure">
<p class="titleinfigure"><a id="CFAGFFAA"></a>Figure 11-1 Enterprise Summary Page</p>
<img width="1279" height="860" src="img/enterprise_summary_page.gif" alt="Description of Figure 11-1 follows"/><br/>
<a id="sthref631" href="img_text/enterprise_summary_page.htm">Description of &#34;Figure 11-1 Enterprise Summary Page&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The Enterprise Summary page provides administrators with a consolidated view of rollup information across a variety of areas that can affect availability, from critical incidents and failed jobs to recommended patches and compliance violations, providing the ability to drill into relevant details for further analysis, to take action to react to critical issues, and to proactively maintain environments to ensure availability.The Enterprise Summary page includes the following information:</p>
<ul>
<li>
<p>A snapshot of the current availability of all targets. The Status pie chart gives the administrator an immediate indication of how many targets are available (Up), unavailable (Down), or have lost communication with the console (Unknown), or have specifically had their monitoring suspended for reasons such as maintenance operations (Under Blackout). Click on any of the statuses to drill down into a list of the targets in that state, and drill further into individual targets to analyze and take corrective action.</p>
</li>
<li>
<p>An overview of how many <a id="sthref632"></a><a id="sthref633"></a>incidents and problems are known in the entire monitored system. Drill down to view matching incidents in the Incident Manager by clicking the links. The administrator can access the Incident Manager directly from any Enterprise Manager page by selecting Enterprise &gt; Monitoring &gt; Incident Manager or by pressing Ctrl+Shift+I.</p>
</li>
<li>
<p>The number of suspended, problem (stopped/failed), and action required executions for all Enterprise Manager jobs. Click the number next to the status group to view a list of those jobs.</p>
</li>
<li>
<p>Patch recommendations, viewable by classification or target type. Drill down to view details in the Patches &amp; Updates page for the selected set of patches or to view all recommendations.</p>
</li>
<li>
<p>A Compliance Summary displaying by compliance framework and compliance standard the results of compliance standard evaluations and the severity and total number of related violations for all managed targets. Drill down to view the Compliance Reports page and to determine the source and type of violation.</p>
</li>
<li>
<p>A view of the least compliant targets by selected target type, including the result of compliance standard evaluations and the severity and total number of related violations. Drill down to determine the source and type of violation.</p>
</li>
</ul>
<p>The following sections provide best practices, configuration recommendations, and relevant links to additional information regarding these capabilities. Tailoring the monitoring to the business needs and details of your environment helps to ensure that the data displayed on this page helps your administrators effectively manage the availability of your environments.</p>
<p>Your ability to use these capabilities is dependent upon ensuring the availability of the Enterprise Manager system itself. See &#34;EM Operational Considerations and Troubleshooting Whitepaper Master Index&#34; in My Oracle Support Note (Doc ID 1940179.1 for best practices for configuring, operating, and diagnosing Enterprise Manager to ensure the availability of the Enterprise Manager system.</p>
<div class="infoboxnotealso">
<p class="notep1"><span class="bold">See Also</span>:</p>
&#34;EM Operational Considerations and Troubleshooting Whitepaper Master Index&#34; in My Oracle Support Note (Doc ID 1940179.1</div>
</div>
<!-- class="sect2" -->
<a id="i1006661"></a>
<div id="HABPT4978" class="sect2">
<h3 class="sect2"><span class="secnum">11.2.2</span> Configure Metrics and Incident Rule Sets<a id="sthref634"></a></h3>
<p>Enterprise Manager takes a comprehensive approach to monitoring, management, and resolution of issues, organizing the process into three levels: event management, incident management, and problem management.</p>
<ul>
<li>
<p>An event is something that happens on a managed target, often indicating something abnormal has occurred. Metric alerts, availability alerts, compliance violations, and job events are examples of events.</p>
</li>
<li>
<p>An incident is composed of one or more significant events that need to be managed together because of the potential impact of the event(s) to the business. Incident resolution is focused on mitigating the business impact. Incidents are created automatically or manually and are managed via the Incident Manager.</p>
</li>
<li>
<p>A problem is the root cause of an incident. Problem resolution is focused on resolving the root cause. Administrators use Support Workbench to open a Service Request (SR) for the problem with Oracle Support using the details from the Automatic Diagnostic Repository (ADR), and manage the problem via the Incident Manager.</p>
</li>
</ul>
<p>Incident rule sets and incident rules provide the means to automate actions taken by Enterprise Manager with respect to events, incidents, and problems. There are two types of rule sets: enterprise rule sets and private rule sets. Enterprise rule sets provide a complete set of actions, while private rule sets can only send e-mail notifications to their owners. Enterprise rule sets are evaluated in order, may be evaluated in multiple passes, and are evaluated before private rule sets. The order is important as only one incident will be created for an event, so the first rule that matches the event will be the one that creates the incident. Each matching rule with a workflow or notification action will execute, so if there are multiple matching rules for an event, the last one that executes will determine the final value of the priority, assignment, etc., and administrators may receive multiple notifications for the same event. Rule sets and rules can be enabled and disabled.</p>
<p>Metric alerts and availability alerts are types of events generated by a combination of factors and are defined on specific metrics. A metric is a data point sampled by a Management Agent and sent to the Oracle Management Repository to determine the health of a target. An availability alert could be an evaluation of the availability of a component through a simple heartbeat test. A metric alert could be an evaluation of a specific performance measurement such as &#34;disk busy&#34; or percentage of processes waiting for a specific wait event.</p>
<p>There are four states that can be checked for any metric: error, warning, critical, and clear. The administrator must make policy decisions such as:</p>
<ul>
<li>
<p>What objects should be monitored (databases, nodes, listeners, or other services)?</p>
</li>
<li>
<p>What instrumentation should be sampled (such as availability, CPU percent busy)?</p>
</li>
<li>
<p>How frequently should the metric be sampled?</p>
</li>
<li>
<p>What should be done when the metric exceeds a predefined threshold?</p>
</li>
</ul>
<p>All of these decisions are predicated on the business needs of the system. For example, all components might be monitored for availability, but some systems might be monitored only during business hours. Systems with specific performance problems can have additional performance tracing enabled to debug a problem.</p>
<p><span class="bold">Incident Rules</span> can take action on events such as metric alerts and can be defined to operate on all targets, targets of a specific type, targets in a specific group, or individual targets. For example, an administrator can create an incident rule that monitors the availability of database targets and generates an e-mail message if a database fails. After that incident rule is enabled, it is evaluated for all existing databases and any database created in the future. Access these rules by navigating to <span class="bold">Setup</span>, selecting Incidents, and then choosing <span class="bold">Incident Rules</span>.</p>
<p>The rules monitor issues that require immediate attention, such as those that can affect service availability, and Oracle or application errors. Service availability can be affected by an outage in any layer of the application stack: node, database, listener, and critical application data. A service availability failure, such as the inability to connect to the database, or the inability to access data critical to the functionality of the application, must be identified, reported, and reacted to quickly. Potential service outages such as a full archive log directory also must be addressed correctly to avoid a system outage.</p>
<p>Enterprise Manager provides a default incident rule set that provides a strong starting framework for monitoring availability. While you cannot modify Oracle&#39;s default incident rule sets, you can create your own copy of the out of box incident rule set and modify the rules to conform to the policies of each individual site. You can also create incident rule sets consisting of incident rules for site-specific targets or applications. Additionally, you can configure notification schedules to notify users during specific time periods to create an automated coverage policy.</p>
<p>Implement a strategy for managing incident rules using four logical categories:</p>
<ul>
<li>
<p>High Availability</p>
<p>Create enterprise rule set(s) as applicable that focus on the availability of mission critical systems. Notify administrators when warning and critical thresholds are exceeded on the metrics that you identify. Locate the rule set(s) above the Oracle out of box rule sets so that any incident creation that you specify in the rule set(s) takes precedence.</p>
</li>
<li>
<p>Key Performance Indicators</p>
<p>Create enterprise rule set(s) as applicable that focus on the key performance indicators that are representative of the performance and throughput of the overall system. Notify administrators when warning and critical thresholds are exceeded on the metrics that you identify. Monitor to ensure required service level is achieved. Locate the rule set(s) above the Oracle out of box rule sets and below the High Availability rule set(s) so that any incident creation that you specify in the rule set(s) will occur if not created by High Availability rule set(s) and will take precedence over the out of box rule sets.</p>
</li>
<li>
<p>ADR Incidents</p>
<p>Make use of the ADR Incidents that are automatically generated by Oracle out of box. Incorporate notifications for these incidents into the rule sets in above categories as appropriate to notify administrators of relevant incidents and operational errors. Enable DB Alert Log metrics if/as necessary to address any additional required error monitoring.</p>
</li>
<li>
<p>Administrator&#39;s Choice</p>
<p>Each administrator creates private rule set(s) managed by the individual administrator, deciding on what is of most interest to them. Focus on providing more details and insight to ensure successful administration and operations, addressing deeper investigation, longer term, or lower priority concerns that would not warrant waking an administrator in the middle of the night. These rules may change more frequently.</p>
</li>
</ul>
<p>Consider the following example. The Fast Recovery Area (FRA) is filling up on a database that is part of a mission critical system. Having sufficient space for the FRA is critical to availability. The database is associated with a group of targets that are associated with a high availability rule set. The rule set includes a rule that evaluates events of type Metric Alert for the Recovery Area Free Space (%) metric and sends e-mail notifications to administrators. The rule is configured to evaluate whether the severity is warning or critical, and sends an appropriate notification via the appropriate mechanism. When Enterprise Manager detects that the FRA crosses the warning threshold, Enterprise Manager raises an event of type Metric Alert. The rules in the high availability rule set are evaluated. When Enterprise Manager processes the rule for the FRA, it determines that the severity of the Metric Alert event is warning, and sends an email to the administrators on their standard email accounts because an action has been specified to send an email to notify administrators via their standard email address when the FRA crosses the warning threshold. Had the FRA crossed the critical threshold, a rule action would have sent an email to the administrators&#39; pager addresses. Unlike most metrics, the Recovery Area Free Space (%) warning and critical thresholds cannot be edited. You can create a Metric Extension if different thresholds are required.</p>
<p>Use the following best practices:</p>
<ul>
<li>
<p>When creating enterprise rule sets, place those above the out of the box Oracle incident rule set so that your custom rule sets fire first.</p>
</li>
<li>
<p>Use monitoring templates to configure metrics for each target type. This allows standardization of metrics for similar targets in environments. You may have different templates for the same target types in different environments (such as development and production) and within different applications or hardware configurations (such as where thresholds would be different due to storage space or processing differences).</p>
</li>
<li>
<p>Use administration groups and template collections to ensure that monitoring templates are automatically applied to targets added to the administration groups. This removes the need to manually apply the monitoring templates to the targets.</p>
</li>
<li>
<p>Ensure that metric thresholds are set appropriately for each target type in each environment to suit your availability requirements. Consider setting thresholds for the metrics in <a href="#CFAJGBGJ">Table 11-1</a>, <a href="#CFAJGIHC">Table 11-2</a>, Table 11-4, and Table 11-5. The frequency of the monitoring is determined by the service-level agreement (SLA)<a id="sthref635"></a><a id="sthref636"></a> for each component.</p>
</li>
<li>
<p>Create incident rules that notify administrators appropriately for each environment based on the key metric alert and target availability events.</p>
</li>
<li>
<p>Use <a id="sthref637"></a><a id="sthref638"></a><a id="sthref639"></a><a id="sthref640"></a><a id="sthref641"></a>Beacon functionality to track the performance of individual applications. A Beacon can be set to perform a user transaction representative of normal application work. Enterprise Manager can then break down the response time of that transaction into its component pieces for analysis. In addition, an alert can be triggered if the execution time of that transaction exceeds a predefined limit.</p>
</li>
<li>
<p>Configure multiple e-mail addresses for administrators who have pagers, cell phones, or mobile devices that can receive messages via e-mail. Use the Email Type of Pager with the email addresses for these devices and the Email Type of Email for standard email addresses. Within Incident Rules, differentiate between critical and warning messages, adding administrators to the Page field to send notifications for critical alerts to email addresses associated with these devices to ensure critical notifications are received as quickly as possible, and adding administrators to the Email To field to send notification for warning events to the regular e-mail address.</p>
</li>
<li>
<p>Add Notification Methods and use them in each Incident Rule when notifications are sent. By default, the easiest method for alerting an administrator to a potential problem is to send e-mail as discussed previously. Supplement this notification method by adding a callout to an SNMP trap or operating system script that sends an alert by some method other than e-mail. This avoids problems that might occur if a component of the e-mail system fails. Set additional Notification Methods by using the <span class="bold">Setup</span> link at the top of any Enterprise Manager page and selecting Notification Methods for scripts and SNMPv1 Traps, or selecting SNMPv3 Traps.</p>
</li>
<li>
<p>Create or modify Incident Rules to notify the administrator when there are errors in computing target availability. Select &#34;Metric error detected&#34; in the Availability States for a Target Type on the Select Target Availability Events form when editing or creating a rule of type Target Availability. This might generate a false positive reading on the availability of the component, but it ensures the highest level of notification to system administrators. See Figure 11-2 Setting Incident Rules for Availability for an example of the Select Target Availability events form where this option is available to be selected.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink EMADM10644" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMADM10644"><span class="italic">Oracle Enterprise Manager Cloud Control Administrator&#39;s Guide</span></a> for information about Monitoring and using Metrics</p>
</li>
<li>
<p><a class="olink EMADM9790" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMADM9790"><span class="italic">Oracle Enterprise Manager Cloud Control Administrator&#39;s Guide</span></a> for information about Incident Management including Events, Incidents, Problems, Rule Sets, and Rules</p>
</li>
<li>
<p>For more information about Rule Sets and Incident Rules in Enterprise Manager 12c, see &#34;12c Cloud Control: What are Incident Management Rule Sets and Incident Rules?&#34; in My Oracle Support Note (Doc ID) 1556225.1 at <a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1556225.1"><code dir="ltr">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1556225.1</code></a></p>
</li>
<li>
<p><a class="olink EMADM9066" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMADM9066"><span class="italic">Oracle Enterprise Manager Cloud Control Administrator&#39;s Guide</span></a> for information about Notifications</p>
</li>
<li>
<p><a class="olink EMADM10011" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMADM10011"><span class="italic">Oracle Enterprise Manager Cloud Control Administrator&#39;s Guide</span></a> for information about Administration Groups</p>
</li>
<li>
<p><a class="olink EMADM12262" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMADM12262"><span class="italic">Oracle Enterprise Manager Cloud Control Administrator&#39;s Guide</span></a> for information about Monitoring Templates</p>
</li>
<li>
<p><a class="olink EMADM12912" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMADM12912"><span class="italic">Oracle Enterprise Manager Cloud Control Administrator&#39;s Guide</span></a> for information about configuring Service Tests and Beacons</p>
</li>
</ul>
</div>
<p><a href="#CFAFDBJH">Figure 11-2</a> shows the Select Target Availability events page for choosing availability states for a Cluster Database, with the Down option chosen.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAFDBJH"></a>Figure 11-2 Setting Incident Rules for Availability</p>
<img width="718" height="695" src="img/habpt_set_notif_rule.gif" alt="Description of Figure 11-2 follows"/><br/>
<a id="sthref642" href="img_text/habpt_set_notif_rule.htm">Description of &#34;Figure 11-2 Setting Incident Rules for Availability&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Use the metrics shown in <a href="#CFAJGBGJ">Table 11-1</a> to monitor space management conditions that have the potential to cause a service outage.</p>
<div id="HABPT4980" class="tblruleformalwide">
<p class="titleintable"><a id="sthref643"></a><a id="CFAJGBGJ"></a>Table 11-1 Recommendations for Monitoring Space</p>
<table class="cellalignment2589" title="Recommendations for Monitoring Space" summary="This table provides recommendations for metric settings to help you monitor space usage." dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t5">Metric</th>
<th class="cellalignment2590" id="r1c2-t5">Recommendation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t5" headers="r1c1-t5">
<p>Tablespace Space Used (%)</p>
</td>
<td class="cellalignment2586" headers="r2c1-t5 r1c2-t5">
<p>Set this database-level metric to check the Available Space Used (%) for each tablespace. For cluster databases, this metric is monitored at the cluster database target level and not by member instances. This metric enables the administrator to choose the threshold percentages that Enterprise Manager tests against, and the number of samples that must occur in error before a message is generated and sent to the administrator. If the percentage of used space is greater than the values specified in the threshold arguments, then a warning or critical alert is generated.</p>
<p>The recommended default settings are 85% for a warning and 97% for a critical space usage threshold, but you should adjust these values appropriately, depending on system usage. Also, you can customize this metric to monitor specific tablespaces.</p>
<p>Note: there is an Enterprise Manager Job in the Job Library named:</p>
<p><code dir="ltr">DISABLE TABLESPACE USED (%) ALERTS FOR UNDO AND TEMP TABLESPACES</code></p>
<p>Use this Job to disable alerts for all <code dir="ltr">UNDO</code> and <code dir="ltr">TEMP</code> tablespaces. This job is useful if you encounter too many alerts on <code dir="ltr">TEMP</code> and <code dir="ltr">UNDO</code> tablespaces.</p>
<p>Beginning with Database Plugin 12.1.0.6, monitoring of TEMP and UNDO tablespaces has been separated into two new metrics: Tablespace Space Used (%) (Temp) and Tablespace Space Used (%) (Undo). For more information, see Testing and Troubleshooting the &#39;Tablespace Space Full (%)&#39; metric in Enterprise Manager 12.1.0.4 in My Oracle Support Note (Doc ID) 1927636.1 at https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1927636.1.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t5" headers="r1c1-t5">
<p>Dump Area Used (%)</p>
</td>
<td class="cellalignment2586" headers="r3c1-t5 r1c2-t5">
<p>Set this metric to monitor the dump directory destinations. Dump space must be available so that the maximum amount of diagnostic information is saved the first time an error occurs. The recommended settings are 70% for a warning and 90% for a critical threshold error, but these should be adjusted depending on system usage.</p>
<p>Set this metric in the Dump Area metric group.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r4c1-t5" headers="r1c1-t5">
<p>Recovery Area Free Space (%)</p>
</td>
<td class="cellalignment2586" headers="r4c1-t5 r1c2-t5">
<p>This is a database-level metric that is evaluated by the server every 15 minutes or during a file creation, whichever occurs first. The metric is also printed in the alert log. For cluster databases, this metric is monitored at the cluster database target level and not by member instances.</p>
<p>The Critical Threshold is set for &lt; 3% and the Warning Threshold is set for &lt; 15%. You cannot customize these thresholds. An alert is returned the first time the alert occurs, and the alert is not cleared until the available space rises above 15%.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r5c1-t5" headers="r1c1-t5">
<p>File system Space Available(%)</p>
</td>
<td class="cellalignment2586" headers="r5c1-t5 r1c2-t5">
<p>By default, this metric monitors file systems on the host using the default warning threshold of 20% and the critical threshold of 5%. Thresholds can be set separately by file system.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r6c1-t5" headers="r1c1-t5">
<p>Archive Area Used (%)</p>
</td>
<td class="cellalignment2586" headers="r6c1-t5 r1c2-t5">
<p>Set this metric to return the percentage of space used on the archive area destinations. Thresholds can be set separately for each Archive Area Destination. If the space used is more than the threshold value given in the threshold arguments, then a warning or critical alert is generated.</p>
<p>If monitoring a cluster database that does not use a shared archive area, disable this metric at the cluster database level and enable this metric at the database instance level.</p>
<p>If the database is not running in <code dir="ltr">ARCHIVELOG</code> mode, this metric fails to register. The default warning threshold is 80%, but consider using 70% full to send a warning or 90% for the critical threshold.</p>
<p>If the database is configured to archive to the Fast Recovery Area, this metric is not applicable. Instead, use the Recovery Area Free Space (%) metric to monitor the Fast Recovery Area.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" -->
<p><a id="sthref644"></a><a id="sthref645"></a>In Enterprise Manager 12<span class="italic">c</span> the mechanism for monitoring the Database Alert Log is tightly integrated with the Support Workbench, with the benefits of being able to generate packages for each problem or incident reported and quickly upload them to support.</p>
<p>As part of integrating with the Support Workbench, errors are categorized into different classes and groups, each served by a separate metric. At the highest level of categorization there are two different classes of errors: incidents and operational errors.</p>
<ul>
<li>
<p>Incidents are errors that are recorded in the database alert log file, which signify that the database being monitored has detected a critical error condition. For example a critical error condition could be a generic internal error or an access violation.</p>
</li>
<li>
<p>Operational Errors are errors that are recorded in the database alert log file, which signify that the database being monitored has detected an error that may affect the operation of the database. For example, an operational error could be an indication that the archiver is hung or a media failure.</p>
</li>
</ul>
<p>Enterprise Manager automatically creates critical events for these incidents and operational errors. If these events are insufficient for your monitoring needs, you can supplement these by using one of two categories of metrics to configure warning and critical thresholds for a set of additional metrics that use the old pre-11g approach which monitors the text alert log. To do this, enable the disabled DB Alert Log metrics group metrics beginning with Database Plugin 12.1.0.4, or the disabled Alert Log metrics group metrics with earlier releases.</p>
<p>When using the DB Alert Log or Alert Log metrics, administrators can maintain the Alert Log Filter Expression in order to prevent certain errors that the administrator determines should be ignored from raising Metric Alert events in Enterprise Manager. To do this, edit the Alert Log Filter Expression, which is accessible by navigating to the Database target menu-&gt;Monitoring-&gt;Metrics and Collection Settings, and then selecting the edit icon to the right of Generic Alert Log Error under either DB Alert Log or Alert Log, depending upon which approach is being used.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about Alert Log Monitoring in Enterprise Manager 12c, see &#34;Database Alert log monitoring in 12c explained&#34; in My Oracle Support Note 1538482.1 at
<p><code dir="ltr"><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1538482.1">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1538482.1</a></code></p>
<p>For details about the changes to alert log monitoring in Database Plugin 12.1.0.4, see &#34; Changes to Alert Log Monitoring in Database Plugin 12.1.0.4&#34; in My Oracle Support Note (Doc ID) 1587020.1 at</p>
<p><a href="https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1587020.1"><code dir="ltr">https://support.oracle.com/CSP/main/article?cmd=show&amp;type=NOT&amp;id=1587020.1</code></a></p>
</div>
<p>Monitor the system to ensure that the processing capacity is not exceeded. The warning and critical thresholds for these metrics should be modified based on the usage pattern of the system, following the recommendations in <a href="#CFAJGIHC">Table 11-2</a>.</p>
<div id="HABPT4982" class="tblruleformalwide">
<p class="titleintable"><a id="sthref646"></a><a id="CFAJGIHC"></a>Table 11-2 Recommendations for Monitoring Processing Capacity</p>
<table class="cellalignment2589" title="Recommendations for Monitoring Processing Capacity" summary="This table provides recommendations for metric settings to help you monitor processing capacity." dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t7">Metric</th>
<th class="cellalignment2590" id="r1c2-t7">Recommendation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t7" headers="r1c1-t7">
<p>Process Limit Usage (%)</p>
</td>
<td class="cellalignment2586" headers="r2c1-t7 r1c2-t7">
<p>Set thresholds for this metric to warn if the number of current processes approaches the value of the <code dir="ltr">PROCESSES</code> initialization parameter.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t7" headers="r1c1-t7">
<p>Session Limit Usage (%)</p>
</td>
<td class="cellalignment2586" headers="r3c1-t7 r1c2-t7">
<p>Set thresholds for this metric to warn if the instance is approaching the maximum number of concurrent connections allowed by the database.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" -->
<p><a href="#CFAFCEBG">Figure 11-3</a> shows the Metric and Collection Settings page for setting and editing metrics. The documentation library contains complete reference information for every metric. To access reference information for a specific metric, use the documentation library search feature.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAFCEBG"></a>Figure 11-3 Metric and Collection Settings Page</p>
<img width="1280" height="896" src="img/habpt_metric_policy.gif" alt="Description of Figure 11-3 follows"/><br/>
<a id="sthref647" href="img_text/habpt_metric_policy.htm">Description of &#34;Figure 11-3 Metric and Collection Settings Page&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADMQS010" href="../ADMQS/GUID-95716F9A-C500-4CCD-AC3F-6541E3191E40.htm#ADMQS010"></a><a class="olink TDPPT045" href="../TDPPT/tdppt_alerts.htm#TDPPT045"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for information about setting metric thresholds</p>
</li>
<li>
<p><a class="olink ADMIN12299" href="../ADMIN/diag.htm#ADMIN12299"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> for information on Viewing Problems with the Support Workbench</p>
</li>
<li>
<p><a class="olink EMDBM109" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMDBM109"><span class="italic">Oracle Enterprise Manager Oracle Database Plug-in Metric Reference Manual</span></a> for information about available metrics</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1007720"></a>
<div id="HABPT4984" class="sect2">
<h3 class="sect2"><span class="secnum">11.2.3</span> Use Database Target Views to Monitor Health, Availability, and Performance</h3>
<p>The Database <a id="sthref648"></a><a id="sthref649"></a>target Home page in <a href="#CFAIHEJI">Figure 11-4</a> shows system performance, space usage, and information important to availability such as the date, time, and status of the last backup with a link to a backup report.</p>
<p>You can see the most recent incidents and problems for the target under the Incidents and Problems table, as shown in <a href="#CFAIHEJI">Figure 11-4</a>. You can access further information about Incidents and Problems by clicking the links in the Summary column.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAIHEJI"></a>Figure 11-4 Database Home Page</p>
<img width="1280" height="997" src="img/habpt_db_home.gif" alt="Description of Figure 11-4 follows"/><br/>
<a id="sthref650" href="img_text/habpt_db_home.htm">Description of &#34;Figure 11-4 Database Home Page&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p class="subhead2"><a id="HABPT5347"></a>Performance Analysis and Performance Baseline</p>
<p>Many of the metrics for Database targets in Enterprise Manager pertain to performance. A system that is not meeting performance service-level agreements is not meeting High Availability system requirements. While performance problems seldom cause a major system outage, they can still cause an outage to a subset of customers. Outages of this type are commonly referred to as <span class="bold"><a id="sthref651"></a><a id="sthref652"></a>application service brownouts</span>. The primary cause of brownouts is the intermittent or partial failure of one or more infrastructure components. IT managers must be aware of how the infrastructure components are performing (their response time, latency, and availability), and how they are affecting the quality of application service delivered to the end user.</p>
<p>A performance baseline, derived from normal operations that meet the service-level agreement should determine what constitutes a performance metric alert. Baseline data should be collected from the first day that an application is in production and should include the following:</p>
<ul>
<li>
<p>Application statistics (transaction volumes, response time, web service times)</p>
</li>
<li>
<p>Database statistics (transaction rate, redo rate, hit ratios, top 5 wait events, top 5 SQL transactions)</p>
</li>
<li>
<p>Operating system statistics (CPU, memory, I/O, network)</p>
</li>
</ul>
<p>You can use Enterprise Manager to capture a baseline snapshot of database performance and create an Automatic Workload Repository (AWR) baseline. Oracle recommends increasing the AWR retention period if practical in your environment; 30 days is a good starting point. Enterprise Manager compares these values against system performance and displays the result on the database Target page. Enterprise Manager can also send alerts if the values deviate too far from the established baseline. See <a href="config_db.htm#BGBGIBGI">&#34;Use Automatic Performance Tuning Features&#34;</a> for more information about Automatic Workload Repository.</p>
<p>There is no formula that can be used to set specific thresholds for a given customer system. Thresholds should be determined using values that are some percentage above the normal operating value of the metric, accounting for the variability of the value. Depending upon the variability, one starting point could be to take the baseline value, multiply by 1.15 to set the warning threshold and multiply by 1.25 to set the critical threshold. As each system and value is different, the key is to understand the system and the performance data associated with a baseline during normal operations, set candidate values, and then monitor and adjust as necessary. System baselines and thresholds need to be reevaluated periodically as the behavior of the system can change over time for a variety of reasons including changes in usage patterns, system volume, and hardware and software updates.</p>
<p>Set thresholds as appropriate for the metrics listed in <a href="#CFAGHECG">Table 11-3</a> for all database targets and incorporate into incident rules to provide notifications as needed.</p>
<div id="HABPT4986" class="tblruleformalwide">
<p class="titleintable"><a id="sthref653"></a><a id="CFAGHECG"></a>Table 11-3 Recommendations for Performance Related Metrics</p>
<table class="cellalignment2589" title="Recommendations for Performance Related Metrics" summary="This table lists recommendations for performance related metrics" dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t9">Metric</th>
<th class="cellalignment2590" id="r1c2-t9">Level</th>
<th class="cellalignment2590" id="r1c3-t9">Recommendation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t9" headers="r1c1-t9">
<p>I/O Requests (per second)</p>
</td>
<td class="cellalignment2586" headers="r2c1-t9 r1c2-t9">
<p>Instance</p>
</td>
<td class="cellalignment2586" headers="r2c1-t9 r1c3-t9">
<p>This metric represents the total rate of I/O read and write requests for the database. It sends an alert when the number of operations exceeds a user-defined threshold. Use this metric with operating system-level metrics that are also available with Enterprise Manager.</p>
<p>Set this metric based on the total I/O throughput available to the system, the number of I/O channels available, network bandwidth (in a SAN environment), the effects of the disk cache if you are using a storage array device, and the maximum I/O rate and number of spindles available to the database.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t9" headers="r1c1-t9">
<p>Database CPU Time (%)</p>
</td>
<td class="cellalignment2586" headers="r3c1-t9 r1c2-t9">
<p>Instance</p>
</td>
<td class="cellalignment2586" headers="r3c1-t9 r1c3-t9">
<p>This metric represents the percentage of database call time that is spent on the CPU. It can be used to detect a change in the operation of a system, for example, a drop in Database CPU time from 50% to 25%.</p>
<p>The <code dir="ltr">Consecutive Number of Occurrences Preceding Notification</code> column indicates the consecutive number of times the comparison against thresholds should hold <code dir="ltr">TRUE</code> before an alert is generated. This usage might be normal at peak periods, but it might also be an indication of a runaway process or of a potential resource shortage.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r4c1-t9" headers="r1c1-t9">
<p>Wait Time (%)</p>
</td>
<td class="cellalignment2586" headers="r4c1-t9 r1c2-t9">
<p>Instance</p>
</td>
<td class="cellalignment2586" headers="r4c1-t9 r1c3-t9">
<p>Excessive idle time indicates that a bottleneck for one or more resources is occurring. Set this instance-level metric based on the system wait time when the application is performing as expected.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r5c1-t9" headers="r1c1-t9">
<p>Network Bytes (per second)</p>
</td>
<td class="cellalignment2586" headers="r5c1-t9 r1c2-t9">
<p>Instance</p>
</td>
<td class="cellalignment2586" headers="r5c1-t9 r1c3-t9">
<p>This metric reports network traffic that Oracle generates. This metric can indicate a potential network bottleneck. Set this metric based on actual usage during peak periods.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r6c1-t9" headers="r1c1-t9">
<p>Pages Paged-in (per second)</p>
</td>
<td class="cellalignment2586" headers="r6c1-t9 r1c2-t9">
<p>Host</p>
</td>
<td class="cellalignment2586" headers="r6c1-t9 r1c3-t9">
<p>For UNIX-based systems, represents the number of pages paged in (read from disk to resolve fault memory references) per second. This metric checks the number of pages paged in for the CPU(s) specified by the Host CPU(s) parameter, such as <code dir="ltr">cpu_stat0</code> or <code dir="ltr">*</code> (for all CPUs on the system).</p>
<p>For Microsoft Windows, this metric is the rate at which pages are read from disk to resolve hard page faults. Hard page faults occur when a process refers to a page in virtual memory that is not in its working set or elsewhere in physical memory, and must be retrieved from disk. When a page is faulted, the system tries to read multiple contiguous pages into memory to maximize the benefit of the read operation.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r7c1-t9" headers="r1c1-t9">
<p>Run Queue Length</p>
</td>
<td class="cellalignment2586" headers="r7c1-t9 r1c2-t9">
<p>Host</p>
</td>
<td class="cellalignment2586" headers="r7c1-t9 r1c3-t9">
<p>For UNIX-based systems, the Run Queue Length metrics represent the average number of processes in memory and subject to be run in the last interval (1 minute average, 5 minute average, and 15 minute average).</p>
<p>It is recommended to alert when Run Queue Length = # of CPUs. (An alternative way to do this is to monitor the Load Average metric and compare it to Maximum CPU.)</p>
<p>This metric is not available on Microsoft Windows.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink TGDBA111" href="../TGDBA/part1.htm#TGDBA111"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about performance monitoring</p>
</li>
<li>
<p><a class="olink ADMQS010" href="../ADMQS/GUID-95716F9A-C500-4CCD-AC3F-6541E3191E40.htm#ADMQS010"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about monitoring and tuning using Enterprise Manager</p>
</li>
<li>
<p><a class="olink TDPPT344" href="../TDPPT/tdppt_partone.htm#TDPPT344"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information about monitoring and tuning using Enterprise Manager</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1006676"></a>
<div id="HABPT4988" class="sect2">
<h3 class="sect2"><span class="secnum">11.2.4</span> Use Metrics to Monitor Data Guard System Availability</h3>
<p>Set thresholds for Enterprise Manager metrics to monitor the availability of Data Guard <a id="sthref654"></a>configurations and incorporate into incident rules to provide notifications. As discussed regarding performance related metrics in the previous section, set the thresholds where applicable using values that are some percentage above normal operating values after monitoring the system and understanding what is normal in your environment. Consider your business Recovery Time Objective (RTO), Recovery Point Objective (RPO), and requirements of your Service Level Agreement(s) (SLA) as part of the thresholds. Reevaluate the thresholds over time to ensure they remain appropriate. <a href="#CFAHDIGG">Table 11-4</a> shows metrics that are available for monitoring Data Guard databases.</p>
<div id="HABPT4989" class="tblruleformalwide">
<p class="titleintable"><a id="sthref655"></a><a id="CFAHDIGG"></a>Table 11-4 Recommendations for Setting Data Guard Metrics<a id="sthref656"></a></p>
<table class="cellalignment2589" title="Recommendations for Setting Data Guard Metrics " summary="This table lists recommended settings for metrics that can be used to monitor the availability of logical and physical Data Guard configurations." dir="ltr">
<thead>
<tr class="cellalignment2580">
<th class="cellalignment2590" id="r1c1-t11">Metric</th>
<th class="cellalignment2590" id="r1c2-t11">Recommendation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r2c1-t11" headers="r1c1-t11">
<p>Data Guard Status<a id="sthref657"></a></p>
</td>
<td class="cellalignment2586" headers="r2c1-t11 r1c2-t11">
<p>Notifies you about system problems in a Data Guard configuration.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r3c1-t11" headers="r1c1-t11">
<p>Apply Lag<a id="sthref658"></a></p>
</td>
<td class="cellalignment2586" headers="r3c1-t11 r1c2-t11">
<p>Displays (in seconds) how far the standby is behind the primary database. This metric generates an alert on the standby database if it falls behind more than the user-specified threshold (if any). Set warning and critical thresholds based upon RTO and SLA considerations.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r4c1-t11" headers="r1c1-t11">
<p>Estimated Failover Time<a id="sthref659"></a></p>
</td>
<td class="cellalignment2586" headers="r4c1-t11 r1c2-t11">
<p>Displays the approximate number of seconds required to failover to this standby database. Set warning and critical thresholds based upon RTO and SLA considerations.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r5c1-t11" headers="r1c1-t11">
<p>Redo Apply Rate<a id="sthref660"></a></p>
</td>
<td class="cellalignment2586" headers="r5c1-t11 r1c2-t11">
<p>Displays the Redo Apply rate in KB/second on this standby database. Set warning and critical thresholds to identify deviation from normal operations.</p>
</td>
</tr>
<tr class="cellalignment2580">
<td class="cellalignment2586" id="r6c1-t11" headers="r1c1-t11">
<p>Transport Lag<a id="sthref661"></a></p>
</td>
<td class="cellalignment2586" headers="r6c1-t11 r1c2-t11">
<p>Displays the approximate number of seconds of redo that is not yet available on this standby database. The lag may be because the redo data has not yet been transported or there may be a gap. This metric generates an alert on the standby database if it falls behind more than the user-specified threshold (if any). Set warning and critical thresholds based upon RPO considerations.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblruleformalwide" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1007185"></a>
<div id="HABPT4990" class="sect1">
<h2 class="sect1"><span class="secnum">11.3</span> Managing the High Availability Environment with Enterprise Manager</h2>
<p>Use Enterprise Manager as a proactive part of administering any system and for problem notification and analysis, with the following recommendations:</p>
<ul>
<li>
<p><a href="#i1007229">Check Enterprise Manager Compliance Results</a></p>
</li>
<li>
<p><a href="#i1007674">Use Enterprise Manager to Manage Oracle Patches and Maintain System Baselines</a></p>
</li>
<li>
<p><a href="#CFAHIBCJ">Manage Database Availability with the High Availability Console</a></p>
</li>
<li>
<p><a href="#CFADBGAJ">Configure High Availability Solutions with MAA Advisor</a></p>
</li>
</ul>
<a id="i1007229"></a>
<div id="HABPT4991" class="sect2">
<h3 class="sect2"><span class="secnum">11.3.1</span> Check Enterprise Manager Compliance Results</h3>
<p><a id="sthref662"></a>Enterprise Manager includes a compliance management framework that provides automatic tracking and reporting on how well managed targets conform to standards. These standards can include industry, Oracle, and internal standards. Enterprise Manager <a id="sthref663"></a>comes with a pre-installed set of compliance standards for Oracle hardware and software including Database, Exadata Database Machine, Fusion Middleware, and more. These standards include recommendations of best practices for all databases. User-defined compliance frameworks and compliance standards can be created, either by creating like an existing framework or standard or by creating a brand new framework or standard.</p>
<p>To enable standards, navigate to the Compliance Library and associate the desired standards with the appropriate targets. In order to make use of some standards, such as security standards, templates must be applied to the targets first in order to collect the required information. For more details on which Oracle database compliance standards require which Oracle provided monitoring templates, see Oracle Enterprise Manager Cloud Control Oracle Database Compliance Standards. Compliance results are displayed on the targets&#39; home pages in the <span class="bold">Compliance Summary</span> area, as shown in <a href="#CFAECDIE">Figure 11-5</a>.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAECDIE"></a>Figure 11-5 Database Home Page with Compliance Summary</p>
<img width="1280" height="997" src="img/habpt_db_home_east.gif" alt="Description of Figure 11-5 follows"/><br/>
<a id="sthref664" href="img_text/habpt_db_home_east.htm">Description of &#34;Figure 11-5 Database Home Page with Compliance Summary&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>To see more details on Compliance Standard results, select a link in the <span class="bold">Compliance Summary</span> area. <a href="#CFAIJFIF">Figure 11-6</a> shows the Compliance Results page for the target and the selected Compliance Standard.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAIJFIF"></a>Figure 11-6 Database Target Compliance Results Page</p>
<img width="1275" height="503" src="img/habpt_policy_trend.gif" alt="Description of Figure 11-6 follows"/><br/>
<a id="sthref665" href="img_text/habpt_policy_trend.htm">Description of &#34;Figure 11-6 Database Target Compliance Results Page&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>To see the results of all Compliance Standards, select <span class="bold">Compliance</span> then Results from the <span class="bold">Enterprise</span> menu, as shown in <a href="#CFAJCBBF">Figure 11-7</a>.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAJCBBF"></a>Figure 11-7 Compliance Results Page</p>
<img width="1280" height="405" src="img/compliance_standards_results.gif" alt="Description of Figure 11-7 follows"/><br/>
<a id="sthref666" href="img_text/compliance_standards_results.htm">Description of &#34;Figure 11-7 Compliance Results Page&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink EMLCM9378" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMLCM9378"><span class="italic">Oracle Enterprise Manager Lifecycle Management Administrator&#39;s Guide</span></a> for more details on Managing Compliance</p>
</li>
<li>
<p><a class="olink EMDBC108" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMDBC108"><span class="italic">Oracle Enterprise Manager Cloud Control Oracle Database Compliance Standards</span></a> for more details on Compliance Standards</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1007674"></a>
<div id="HABPT4992" class="sect2">
<h3 class="sect2"><span class="secnum">11.3.2</span> Use Enterprise Manager to Manage Oracle Patches and Maintain System Baselines</h3>
<p>Oracle recommends that production environments stay current by implementing recommended patches within six months of their release. Enterprise Manager 12c provides a patch management solution that maximizes ease of use and minimizes patching related downtime, helping administrators meet those recommendations. For the most current details on patch list recommendations for your environment, see My Oracle Support (MOS).</p>
<p>An online mode integrates the patch workflow with MOS, providing a consistent interface that enables Oracle patch recommendations, manual patch searches, access to MOS resources such as knowledge articles and service requests, and automatic resolution of patch conflicts using merge patches. An offline mode supports environments where Enterprise Manager cannot connect to MOS, using patches manually uploaded to the Software Library. Administrators can access MOS on systems where internet access is available, download patches to their local host, and upload the patches to the Software Library either via Enterprise Manager or through the use of the Enterprise Manager Command Line Interface (emcli).</p>
<p>Patch plans provide end-to-end orchestration of the patching workflow, enabling administrators to prepare, validate, and apply a list of patches as a group to one or more targets. Patch plans support one-off patches, including interim patches, diagnostic patches, Patch Set Updates (PSU), and Critical Patch Updates (CPU). Patch plans also support patch sets for some targets.</p>
<p>Patch plans can be tested and saved as patch templates, making it easier for multiple administrators to deploy patches consistently across multiple environments by creating their patch plans from the patch template instead of having to create patch plans from scratch.</p>
<p>Enterprise Manager&#39;s patch management solution supports both in-place patching, where the Oracle home is directly patched, and out-of-place patching, where the existing Oracle home is cloned and the cloned home is patched. Use out-of-place patching where supported to minimize downtime.</p>
<p>For some targets, including Oracle RAC, Oracle Grid Infrastructure, and Oracle Data Guard, the solution also supports patching in rolling mode, where nodes are shut down, patched, and restarted one by one, and parallel mode, where all of the nodes are shut down and the patch is applied on all nodes at the same time. Use rolling mode patching where supported to minimize downtime.</p>
<p>You can examine patch levels for one system and compare them between systems in either a one-to-one or one-to-many relationship. In this case, a system can be identified as a baseline and used to demonstrate maintenance requirements in other systems. This can be done for operating system patches and database patches.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink EMLCM11461" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMLCM11461"><span class="italic">Oracle Enterprise Manager Lifecycle Management Administrator&#39;s Guide</span></a> for information about Patching Software Deployments</p>
</li>
<li>
<p><a class="olink EMLCM11613" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMLCM11613"><span class="italic">Oracle Enterprise Manager Lifecycle Management Administrator&#39;s Guide</span></a> for information about Managing Configuration Information</p>
</li>
<li>
<p><a href="schedule_outage.htm#CACCFHHC">&#34;Eliminating or Reducing Downtime for Scheduled Outages&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CFAHIBCJ"></a>
<div id="HABPT4993" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">11.3.3</span> Manage Database Availability with the <a id="sthref667"></a><a id="sthref668"></a>High Availability Console</h3>
<p><a id="sthref669"></a>The High Availability (HA) Console is a one stop, dashboard-style page for monitoring the availability of each database. You can use it on any database and if a database is part of a Data Guard configuration, the HA Console allows you to switch your view from the primary database to any of the standby databases.</p>
<p>Use the HA Console to:</p>
<ul>
<li>
<p>Display high availability events including events from related targets such as standby databases</p>
</li>
<li>
<p>View the high availability summary that includes the status of the database</p>
</li>
<li>
<p>View the last backup status</p>
</li>
<li>
<p>View the Fast Recovery Area Usage, if configured</p>
</li>
<li>
<p>If Oracle Data Guard is configured: View the Data Guard summary<a id="sthref670"></a><a id="sthref671"></a>, set up Data Guard standby databases for any database target, manage switchover and failover of database targets other than the database that contains the Management Repository, and monitor the health of a Data Guard configuration at a glance</p>
</li>
<li>
<p>If Oracle RAC is configured: View the Oracle RAC Services summary including Top Services</p>
</li>
</ul>
<p><a href="#CFACIBHC">Figure 11-8</a> shows the HA Console. This figure shows summary information, details, and historical statistics for the primary database and shows the standby databases for the primary target, various Data Guard standby performance metrics and settings, and the data protection mode.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFACIBHC"></a>Figure 11-8 Monitoring a Primary Database in the High Availability Console</p>
<img width="1278" height="684" src="img/ha_console_primary.gif" alt="Description of Figure 11-8 follows"/><br/>
<a id="sthref672" href="img_text/ha_console_primary.htm">Description of &#34;Figure 11-8 Monitoring a Primary Database in the High Availability Console&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>In <a href="#CFACIBHC">Figure 11-8</a>, the Availability Summary shows that the primary database is up and its availability is currently 99.95%. The Availability Summary also shows the status of Oracle ASM instances. The Availability Events table shows specific high availability events (alerts). You can click the message to obtain more details (or to suppress the event). To set up, manage, and configure a specific solution area for this database, under Availability Summary, next to <span class="bold">MAA Advisor</span>, click <span class="bold">Details</span> to go to the Maximum Availability Architecture (MAA) Advisor page (described in more detail in <a href="#CFADBGAJ">Section 11.3.4, &#34;Configure High Availability Solutions with MAA Advisor&#34;</a>).</p>
<p>The <span class="bold">Backup/Recovery Summary</span> area displays the Last Backup and Next Backup information, including times for both and status, size, and type of the last backup. The area also includes the Flashback Time to which the database can be reset if flashback database is enabled. The Fast Recovery Area Usage area displays information about the fast recovery area. The chart indicates about 73% of the fast recovery area is currently used. You can click the chart to display the page with the metric details.</p>
<p>The <span class="bold">Data Guard Summary</span> area shows the primary database is running in Maximum Performance mode and has Fast-Start Failover disabled. You can click the link next to <span class="bold">Protection Mode</span> to modify the data protection mode. In the Standby Databases table, the physical standby database is caught up with the primary database (Apply/Transport Lag) metrics are showing 0 seconds, and the Used Fast Recovery Area (FRA) is 72.33%. Click on the value next to the Primary Redo Rate to view a chart that shows the redo trend. Note that if Data Guard is not configured, the &#34;Switch To&#34; box in the corner of the console is not displayed.</p>
<p><a href="#CFAGHGEH">Figure 11-9</a> shows information similar to figure <a href="#CFACIBHC">Figure 11-8</a>, but for the standby database, which is a physical standby database running real-time query. In the Standby Databases table, the Apply/Transport Lag metrics indicate that the physical standby database is caught up with the primary database, and the Used Fast Recovery Area (FRA) is 72%. Note that if Data Guard is not configured, the &#34;Switch To&#34; box in the corner of the console is not displayed.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAGHGEH"></a>Figure 11-9 Monitoring the Standby Database in the High Availability Console</p>
<img width="1277" height="674" src="img/ha_console_standby.gif" alt="Description of Figure 11-9 follows"/><br/>
<a id="sthref673" href="img_text/ha_console_standby.htm">Description of &#34;Figure 11-9 Monitoring the Standby Database in the High Availability Console&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p><a href="#CFAEDFHJ">Figure 11-10</a> shows sample values for <span class="bold">Services Summary</span> and <span class="bold">Services Details</span> areas. These areas show summary and detail information about Oracle RAC Services, including links to details on top activity and problem services.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAEDFHJ"></a>Figure 11-10 Monitoring the Cluster in the High Availability Console Showing Services</p>
<img width="1280" height="715" src="img/ha_console_services.gif" alt="Description of Figure 11-10 follows"/><br/>
<a id="sthref674" href="img_text/ha_console_services.htm">Description of &#34;Figure 11-10 Monitoring the Cluster in the High Availability Console Showing Services&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink EMCON124" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMCON124"><span class="italic">Oracle Enterprise Manager Cloud Control Introduction</span></a> for information about Database Management</div>
</div>
<!-- class="sect2" -->
<a id="CFADBGAJ"></a>
<div id="HABPT4996" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">11.3.4</span> Configure High Availability Solutions with MAA Advisor<a id="sthref675"></a><a id="sthref676"></a><a id="sthref677"></a><a id="sthref678"></a></h3>
<p><a id="sthref679"></a>The goal of the MAA Advisor is to help you implement Oracle&#39;s best practices to achieve the optimal high availability architecture.</p>
<p>From the Availability Summary section on the High Availability Console, you can link to the MAA Advisor to:</p>
<ul>
<li>
<p>View recommended Oracle solutions for each outage type (site failures, computer failures, storage failures, human errors, and data corruptions)</p>
</li>
<li>
<p>View the configuration status and use the links in the Oracle Solution column to go to the Enterprise Manager page where the solution can be configured.</p>
</li>
<li>
<p>Understand the benefits of each solution</p>
</li>
<li>
<p>Link to the MAA website for white papers, documentation, and other information</p>
</li>
</ul>
<p>The MAA Advisor page contains a table that lists the outage type, Oracle solutions for each outage, configuration status, and benefits. The MAA Advisor allows you to view High Availability solutions in the following ways:</p>
<ul>
<li>
<p><span class="bold">Recommendations Only</span>&mdash;This condensed view shows only the recommended solutions (the default view) for the primary database.</p>
</li>
<li>
<p><span class="bold">All Solutions</span> &mdash;This expanded view shows all configuration recommendations and status for all primary and standby databases in this configuration. It includes an extra column <span class="bold">Target Name:Role</span> that provides the database name and shows the role (Primary, Physical Standby, or Logical Standby) of the database.</p>
</li>
</ul>
<p><a href="#CFAGGHCG">Figure 11-11</a> shows an example of the MAA Advisor page with the <span class="bold">Show</span> All Solutions view selected.</p>
<div class="figure">
<p class="titleinfigure"><a id="CFAGGHCG"></a>Figure 11-11 Maximum Availability Architecture (MAA) Advisor Page in Enterprise Manager</p>
<img width="1280" height="896" src="img/maa_advisor.gif" alt="Description of Figure 11-11 follows"/><br/>
<a id="sthref680" href="img_text/maa_advisor.htm">Description of &#34;Figure 11-11 Maximum Availability Architecture (MAA) Advisor Page in Enterprise Manager&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>You can click the link in the Oracle Solution column to go to a page where you can set up, manage, and configure the specific solution area. Once a solution has been configured, click <span class="bold">Refresh</span> to update the configuration status. Once the page is refreshed, click MAA <span class="bold">Advisor Details</span> on the High Availability Console page to see the updated values.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDIJBCC"></a>
<div id="HABPT5310" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">11.4</span> Using Cluster Health Monitor</h2>
<p><a id="sthref681"></a>The Cluster Health Monitor (CHM) gathers operating system metrics in real time and stores them in its repository for later analysis to determine the root cause of many Oracle Clusterware and Oracle RAC issues with the assistance of Oracle Support. It also works with Oracle Database Quality of Service Management (Oracle Database QoS Management) by providing metrics to detect memory over-commitment on a node. With this information, Oracle Database QoS Management can take action to relieve the stress and preserve existing workloads.</p>
<div class="infoboxnotealso">
<p class="notep1">See:</p>
<a class="olink CWADD90958" href="../CWADD/GUID-3C7E4196-7B8A-426C-B149-314EA41BC377.htm#CWADD90958"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for an Overview of Managing Oracle Clusterware Environments and for more information about Cluster Health Monitor (CHM)</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment2579">
<tr>
<td class="cellalignment2586">
<table class="cellalignment2584">
<tr>
<td class="cellalignment2583"><a href="config_fcf.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment2583"><a href="outage.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2005, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment2588">
<table class="cellalignment2582">
<tr>
<td class="cellalignment2583"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment2583"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment2583"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment2583"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment2583"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment2583"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
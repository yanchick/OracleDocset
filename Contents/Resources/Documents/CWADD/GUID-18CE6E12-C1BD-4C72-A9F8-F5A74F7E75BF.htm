<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4197"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/SCAN%20Listeners%20and%20Service%20Registration%20Restriction%20With%20Valid%20Node%20Checking"></a><title>SCAN Listeners and Service Registration Restriction With Valid Node Checking</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-494167AF-9BDC-4E61-B6EE-21B95B881272.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-805F8C64-B09F-4D4A-87E1-5338C1361512.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-18CE6E12-C1BD-4C72-A9F8-F5A74F7E75BF"></a> <span id="PAGE" style="display:none;">61/713</span> <!-- End Header -->
<a id="CWADD92569"></a>
<h1 id="CWADD-GUID-18CE6E12-C1BD-4C72-A9F8-F5A74F7E75BF" class="sect1">SCAN Listeners and Service Registration Restriction With Valid Node Checking</h1>
<div>
<p><a id="d19840e98" class="indexterm-anchor"></a><a id="d19840e100" class="indexterm-anchor"></a><a id="d19840e104" class="indexterm-anchor"></a><a id="d19840e106" class="indexterm-anchor"></a>You can use valid node checking to specify the nodes and subnets from which the SCAN listener accepts registrations. You can specify the nodes and subnet information using SRVCTL. SRVCTL stores the node and subnet information in the SCAN listener resource profile. The SCAN listener agent reads that information from the resource profile and writes it to the <code class="codeph">listener.ora</code> file.</p>
<p>For non-cluster (single-instance) databases, the local listener accepts service registrations only from database instances on the local node. Oracle RAC releases before Oracle RAC 11<span class="italic">g</span> release 2 (11.2) do not use SCAN listeners, and attempt to register their services with the local listener and the listeners defined by the <code class="codeph">REMOTE_LISTENERS</code> initialization parameter. To support service registration for these database instances, the default value of <code class="codeph">valid_node_check_for_registration_</code><span class="italic"><code class="codeph">alias</code></span> for the local listener in Oracle RAC 12<span class="italic">c</span> is set to the value <code class="codeph">SUBNET</code>, rather than to the local node. To change the valid node checking settings for the node listeners, edit the <code class="codeph">listener.ora</code> file.</p>
<p>SCAN listeners must accept service registration from instances on remote nodes. For SCAN listeners, the value of <code class="codeph">valid_node_check_for_registration_</code><span class="italic"><code class="codeph">alias</code></span> is set to <code class="codeph">SUBNET</code> in the <code class="codeph">listener.ora</code> file so that the corresponding listener can accept service registrations that originate from the same subnet.</p>
<p>You can configure the listeners to accept service registrations from a different subnet. For example, you might want to configure this environment when SCAN listeners share with instances on different clusters, and nodes in those clusters are on a different subnet. Run the <code class="codeph">srvctl modfiy scan_listener -invitednodes -invitedsubnets</code> command to include the nodes in this environment.</p>
<p>You must also run the <code class="codeph">srvctl modify nodeapps -remoteservers</code> <span class="italic"><code class="codeph">host</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">port</code></span><code class="codeph">,...</code> command to connect the Oracle Notification Service networks of this cluster and the cluster with the invited instances.</p>
<div class="infoboxnotealso" id="GUID-18CE6E12-C1BD-4C72-A9F8-F5A74F7E75BF__GUID-52869AE6-26EE-45A0-8EE0-F017AF6AC348">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">srvctl add scan_listener</code>, <code class="codeph">srvctl modify nodeapps</code>, and <code class="codeph">svrctl modify scan_listener</code> commands in <a class="olink RACAD5006" target="_blank" href="../RACAD/GUID-C2D37BAB-DA98-49B4-A777-F2B3AA8D2E7A.htm#RACAD5006"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for detailed usage information</p>
</li>
<li>
<p><a class="olink NETAG010" target="_blank" href="../NETAG/listenercfg.htm#NETAG010"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-494167AF-9BDC-4E61-B6EE-21B95B881272.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-805F8C64-B09F-4D4A-87E1-5338C1361512.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
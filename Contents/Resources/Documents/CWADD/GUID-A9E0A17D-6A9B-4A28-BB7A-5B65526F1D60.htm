<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4620"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Changing%20Static%20IPv4%20Addresses%20To%20Static%20IPv6%20Addresses%20Using%20SRVCTL"></a><title>Changing Static IPv4 Addresses To Static IPv6 Addresses Using SRVCTL</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="When you change from IPv4 static addresses to IPv6 static addresses, you add an IPv6 address and modify the network to briefly accept both IPv4 and IPv6 addresses, before switching to using static IPv6 addresses, only."/>
<meta name="keywords" content="IPv4, changing to a static IPv6 address"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-4E4B32AC-AF25-4C79-B1C0-1DCA3DA61B0D.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-B7A584D6-5279-46CB-BBAD-701CF4309816.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-A9E0A17D-6A9B-4A28-BB7A-5B65526F1D60"></a> <span id="PAGE" style="display:none;">80/713</span> <!-- End Header -->
<a id="CWADD92609"></a>
<h1 id="CWADD-GUID-A9E0A17D-6A9B-4A28-BB7A-5B65526F1D60" class="sect1">Changing Static IPv4 Addresses To Static IPv6 Addresses Using SRVCTL</h1>
<div>
<p>When you change from IPv4 static addresses to IPv6 static addresses, you add an IPv6 address and modify the network to briefly accept both IPv4 and IPv6 addresses, before switching to using static IPv6 addresses, only.</p>
<div class="section">
<div class="infobox-note" id="GUID-A9E0A17D-6A9B-4A28-BB7A-5B65526F1D60__GUID-84FB27FA-38AC-4490-940D-43EC95719152">
<p class="notep1">Note:</p>
<p>If the IPv4 network is in mixed mode with both static and dynamic addresses, then you cannot perform this procedure. You must first transition all addresses to static.</p>
</div>
<p>To change a static IPv4 address to a static IPv6 address:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand" id="GUID-A9E0A17D-6A9B-4A28-BB7A-5B65526F1D60__BAJEGHJF"><span>Add an IPv6 subnet using the following command as <code class="codeph">root</code> once for the entire network:</span>
<div>
<pre dir="ltr"># srvctl modify network &ndash;subnet <span class="variable">ipv6_subnet</span>/<span class="variable">prefix_length</span>
</pre>
<p>In the preceding syntax <code class="codeph"><span class="variable">ipv6_subnet</span></code><code class="codeph">/</code><code class="codeph"><span class="variable">prefix_length</span></code> is the subnet of the IPv6 address to which you are changing along with the prefix length, such as 3001::/64)</p>
</div>
</li>
<li class="stepexpand"><span>Add an IPv6 VIP using the following command as <code class="codeph">root</code> once on each node:</span>
<div>
<pre dir="ltr"># srvctl modify vip -node <span class="variable">node_name</span> -netnum <span class="variable">network_number</span> -address <span class="variable">vip_name</span>/<span class="variable">netmask</span>
</pre>
<p>In the preceding syntax:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><span class="variable">node_name</span></code> is the name of the node</p>
</li>
<li>
<p><code class="codeph"><span class="variable">network_number</span></code> is the number of the network</p>
</li>
<li>
<p><code class="codeph"><span class="variable">vip_name</span></code><code class="codeph">/</code><code class="codeph"><span class="variable">netmask</span></code> is the name of a local VIP that resolves to both IPv4 and IPv6 addresses</p>
<p>The IPv4 netmask or IPv6 prefix length that follows the VIP name must satisfy two requirements:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you specify a netmask in IPv4 format (such as 255.255.255.0), then the VIP name resolves to IPv4 addresses (but can also resolve to IPv6 addresses). Similarly, if you specify an IPv6 prefix length (such as 64), then the VIP name resolves to IPv6 addresses (but can also resolve to IPv4 addresses).</p>
</li>
<li>
<p>If you specify an IPv4 netmask, then it should match the netmask of the registered IPv4 network subnet number, regardless of whether the <code class="codeph">-iptype</code> of the network is IPv6. Similarly, if you specify an IPv6 prefix length, then it must match the prefix length of the registered IPv6 network subnet number, regardless of whether the <code class="codeph">-iptype</code> of the network is IPv4.</p>
</li>
</ul>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Add the IPv6 network resource to OCR using the following command:</span>
<div>
<pre dir="ltr">oifcfg setif -global <span class="variable">if_name</span>/<span class="variable">subnet</span>:public
</pre></div>
</li>
<li class="stepexpand"><span>Update the SCAN in DNS to have as many IPv6 addresses as there are IPv4 addresses. Add IPv6 addresses to the SCAN VIPs using the following command as <code class="codeph">root</code> once for the entire network:</span>
<div>
<pre dir="ltr"># srvctl modify scan -scanname <span class="variable">scan_name</span>
</pre>
<p><code class="codeph"><span class="variable">scan_name</span></code> is the name of a SCAN that resolves to both IPv4 and IPv6 addresses.</p>
</div>
</li>
<li class="stepexpand" id="GUID-A9E0A17D-6A9B-4A28-BB7A-5B65526F1D60__BAJHJEIE"><span>Convert the network IP type from IPv4 to both IPv4 and IPv6 using the following command as <code class="codeph">root</code> once for the entire network:</span>
<div>
<pre dir="ltr">srvctl modify network -netnum <span class="variable">network_number</span> -iptype both
</pre>
<p>This command brings up the IPv6 static addresses.</p>
</div>
</li>
<li class="stepexpand"><span>Change all clients served by the cluster from IPv4 networks and addresses to IPv6 networks and addresses.</span></li>
<li class="stepexpand"><span>Transition the network from using both protocols to using only IPv6 using the following command:</span>
<div>
<pre dir="ltr"># srvctl modify network -iptype ipv6
</pre></div>
</li>
<li class="stepexpand"><span>Modify the VIP using a VIP name that resolves to IPv6 by running the following command as <code class="codeph">root</code>:</span>
<div>
<pre dir="ltr"># srvctl modify vip -node <span class="variable">node_name</span> -address <span class="variable">vip_name</span> -netnum <span class="variable">network_number</span>
</pre>
<p>Do this once for each node.</p>
</div>
</li>
<li class="stepexpand"><span>Modify the SCAN using a SCAN name that resolves to IPv6 by running the following command:</span>
<div>
<pre dir="ltr"># srvctl modify scan -scanname <span class="variable">scan_name</span>
</pre>
<p>Do this once for the entire cluster.</p>
</div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-A9E0A17D-6A9B-4A28-BB7A-5B65526F1D60__GUID-9C14E897-B551-4753-B1DB-7CE4E428B8FD">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD005" target="_blank" href="../RACAD/GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D.htm#RACAD005"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about the SRVCTL commands used in this procedure</p>
</div>
</div>
<!-- class="section" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a href="GUID-93CAD74C-ED48-468B-A78C-9B84502102E0.htm#GUID-01566113-CEAE-445D-9145-377849530DBE">OIFCFG Command Format</a></li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-4E4B32AC-AF25-4C79-B1C0-1DCA3DA61B0D.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-B7A584D6-5279-46CB-BBAD-701CF4309816.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4450"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Creating%20Resources%20that%20Use%20the%20generic_application%20Resource%20Type"></a><title>Creating Resources that Use the generic_application Resource Type</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-46607977-281E-473B-8AA0-5B7C9CF5453E.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-A2472668-828C-45A1-AAFB-C9B143BA6B61.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-6D80CD6A-A3C1-4F5C-9F3D-6FCBDE9C075F"></a> <span id="PAGE" style="display:none;">218/713</span> <!-- End Header -->
<a id="CWADD92896"></a>
<h1 id="CWADD-GUID-6D80CD6A-A3C1-4F5C-9F3D-6FCBDE9C075F" class="sect1">Creating Resources that Use the generic_application Resource Type</h1>
<div>
<div class="section">
<p>Use the <code class="codeph">crsctl add resource</code> command to <a id="d50111e103" class="indexterm-anchor"></a>create resources using the <a id="d50111e108" class="indexterm-anchor"></a><code class="codeph">generic_application</code> resource type to model any type of application requiring high availability without having to create any action scripts. This section includes two examples for Linux/UNIX platforms of creating resources that use the <code class="codeph">generic_application</code> resource type.</p>
<div class="infoboxnotealso" id="GUID-6D80CD6A-A3C1-4F5C-9F3D-6FCBDE9C075F__GUID-F407B3D9-565E-44B0-B0B7-C389F1A94661">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="GUID-30DC08E5-72CE-4E93-B6D6-E209DEADF83E.htm">Oracle Clusterware Resource Types</a>&#34;</span> for more information about the <code class="codeph">generic_application</code> resource type</p>
</div>
<p>In the following command example, a Samba server resource is created for high availability:</p>
<pre dir="ltr">$ crsctl add resource samba1 -type generic_application -attr
  &#34;START_PROGRAM=&#39;/etc/init.d/smb start&#39;,
   STOP_PROGRAM=&#39;/etc/init.d/smb stop&#39;,
   CLEAN_PROGRAM=&#39;/etc/init.d/smb stop&#39;,
   PID_FILES=&#39;/var/run/smbd.pid,/var/run/nmbd.pid&#39;&#34;
</pre>
<p>In the preceding example, the attributes that define the resource are configured, as follows:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">START_PROGRAM=&#39;/etc/init.d/smb start&#39;</code>: This attribute contains the complete path and arguments to the script that starts the Samba server</p>
</li>
<li>
<p><code class="codeph">STOP_PROGRAM=&#39;/etc/init.d/smb stop&#39;</code>: This attribute contains the complete path and arguments to the script that stops the Samba server</p>
</li>
<li>
<p><code class="codeph">CLEAN_PROGRAM=&#39;/etc/init.d/smb stop&#39;</code>: This attribute contains the complete path and arguments to the script that forcefully terminates and cleans up the Samba server in case there is any failure in starting or stopping the server</p>
</li>
<li>
<p><code class="codeph">PID_FILES=&#39;/var/run/smbd.pid,/var/run/nmbd.pid&#39;</code>: This attribute contains the paths to the text files listing the process IDs (PIDs) that must be monitored to ensure that the Samba server and all its components are running</p>
</li>
</ul>
<div class="infobox-note" id="GUID-6D80CD6A-A3C1-4F5C-9F3D-6FCBDE9C075F__GUID-DBBBAB15-89E6-4119-89D6-34AC3416E536">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>If script-based monitoring is required for this Samba server configuration, then you can use the <code class="codeph">CHECK_PROGRAMS</code> attribute instead of the <code class="codeph">PID_FILES</code> attribute, as follows:</p>
<pre dir="ltr">CHECK_PROGRAMS=&#39;/etc/init.d/smb status&#39;
</pre></li>
<li>
<p>You can specify standard Oracle Clusterware placement and cardinality properties by configuring the <code class="codeph">HOSTING_MEMBERS</code>, <code class="codeph">SERVER_POOLS</code>, <code class="codeph">PLACEMENT</code>, and <code class="codeph">CARDINALITY</code> attributes of the Samba server resource.</p>
</li>
</ul>
</div>
<p>In the second command example, a database file server (DBFS) resource is created for high availability. The DBFS provides a Filesystem in Userspace (FUSE) file system to access data stored in an Oracle Database.</p>
<div class="infoboxnotealso" id="GUID-6D80CD6A-A3C1-4F5C-9F3D-6FCBDE9C075F__GUID-F859DA97-71B9-4120-8EF3-438B959B0831">
<p class="notep1">See Also:</p>
<p><a class="olink ADLOB45943" target="_blank" href="../ADLOB/adlob_fs.htm#ADLOB45943"><span class="italic">Oracle Database SecureFiles and Large Objects Developer&#39;s Guide</span></a> for more information about DBFS</p>
</div>
<p>You can use the <code class="codeph">generic_application</code> resource type to define a resource that corresponds to the DBFS file system. You can use this DBFS resource to start, stop, monitor, and failover the DBFS file system mount point. The command syntax to create this resource is as follows:</p>
<pre dir="ltr">$ crsctl add resource dbfs1 -type generic_application -attr
  &#34;START_PROGRAM=&#39;/app/oracle/12.1/bin/dbfs_client -o wallet 
   /@inst1 /scratch/mjkeenan/data/dbfs_mount&#39;,
   STOP_PROGRAM=&#39;/bin/fusermount -u /scratch/mjkeenan/data/dbfs_mount&#39;,
   CHECK_PROGRAMS=&#39;ls /scratch/mjkeenan/data/dbfs_mount/dbfsdata1&#39;,
   ENVIRONMENT_VARS=&#39;ORACLE_HOME=/app/oracle/12.1,
         LD_LIBRARY_PATH=/app/oracle/12.1/lib:/app/oracle/12.1/rdbms/lib,
         TNS_ADMIN=/app/oracle/12.1/network/admin&#39;,
   CLEAN_PROGRAM=&#39;/bin/fusermount -u -z /scratch/mjkeenan/data/dbfs_mount&#39;,
   START_DEPENDENCIES=&#39;hard(ora.inst1_srv.svc)&#39;,
   STOP_DEPENDENCIES=&#39;hard(ora.inst1_srv.svc)&#39;&#34;
</pre>
<p>In addition to the mandatory <code class="codeph">START_PROGRAM</code>, <code class="codeph">STOP_PROGRAM</code>, <code class="codeph">CHECK_PROGRAMS</code>, and <code class="codeph">CLEAN_PROGRAM</code> attributes, the above example also includes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">ENVIRONMENT_VARS</code> attribute specifies custom environment variables that are passed when starting or stopping the program</p>
</li>
<li>
<p>The <code class="codeph">START_DEPENDENCIES</code> and <code class="codeph">STOP_DEPENDENCIES</code> dependency attributes create a start and stop dependency on the database service that is the underlying database store of the DBFS file system</p>
<p>You can create dependencies on to the DBFS resource for higher-level application resources based on the application requirements of the DBFS file system.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-6D80CD6A-A3C1-4F5C-9F3D-6FCBDE9C075F__GUID-5CC2835A-EA0D-4982-B4D4-539B21A21ACF">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">ORACLE_HOME</code> directory shown in the preceding syntax is an example.</p>
</li>
<li>
<p>You can specify standard Oracle Clusterware placement and cardinality properties by configuring the <code class="codeph">HOSTING_MEMBERS</code>, <code class="codeph">SERVER_POOLS</code>, <code class="codeph">PLACEMENT</code>, and <code class="codeph">CARDINALITY</code> attributes of the DBFS file system resource.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-46607977-281E-473B-8AA0-5B7C9CF5453E.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-A2472668-828C-45A1-AAFB-C9B143BA6B61.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
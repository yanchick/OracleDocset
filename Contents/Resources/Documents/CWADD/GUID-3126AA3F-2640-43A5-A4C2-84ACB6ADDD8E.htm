<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4270"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/cluvfy%20stage%20%5B-pre%20%7C%20-post%5D%20crsinst"></a><title>cluvfy stage [-pre | -post] crsinst</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-5710F37A-976F-4372-BDFF-9F3EE20C7105.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-1B433D20-1F69-4C5C-8004-364A575A7C94.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-3126AA3F-2640-43A5-A4C2-84ACB6ADDD8E"></a> <span id="PAGE" style="display:none;">278/713</span> <!-- End Header -->
<a id="CWADD91022"></a>
<h1 id="CWADD-GUID-3126AA3F-2640-43A5-A4C2-84ACB6ADDD8E" class="sect1">cluvfy stage [-pre | -post] crsinst</h1>
<div>
<p>Use the <a id="d65304e99" class="indexterm-anchor"></a><a id="d65304e105" class="indexterm-anchor"></a><a id="d65304e111" class="indexterm-anchor"></a><code class="codeph">cluvfy stage -pre crsinst</code> command with either the <code class="codeph">-file</code>, <code class="codeph">-n</code>, <code class="codeph">-flex</code>, or <code class="codeph">-upgrade</code> parameters to check the specified nodes before installing or upgrading Oracle Clusterware.</p>
<p>Use the <code class="codeph">cluvfy stage -post crsinst</code> command to check the specified nodes after installing Oracle Clusterware.</p>
</div>
<div class="sect2"><a id="GUID-A60372EA-824B-4FF6-92B7-B064F9A16771"></a>
<h2 id="CWADD-GUID-A60372EA-824B-4FF6-92B7-B064F9A16771" class="sect2">Syntax</h2>
<div>
<pre dir="ltr">cluvfy stage -pre crsinst -file <span class="italic">config_file</span> [-fixup] [-fixupnoexec] 
  [-method {sudo -user <span class="italic">user_name</span> [-location <span class="italic">directory_path</span>] | root}] [-verbose]

cluvfy stage -pre crsinst -n <span class="italic">node_list</span> | -flex -hub <span class="italic">hub_list</span> [-leaf <span class="italic">leaf_list</span>]
  [-r {10.1 | 10.2 | 11.1 | 11.2 | 12.1}] [-c <span class="italic">ocr_location_list</span>] [-q <span class="italic">voting_disk_list</span>]
  [-osdba <span class="italic">osdba_group</span>] [-orainv <span class="italic">orainventory_group</span>] [-asm [-presence {local | flex}
  | -asmcredentials <span class="italic">client_data_file</span>] [-asmgrp <span class="italic">asmadmin_group</span>] [-asmdev <span class="italic">asm_device_list</span>]]
  [-crshome <span class="italic">Grid_home</span>] [-fixup] [-fixupnoexec]
  [-method {sudo -user <span class="italic">user_name</span> [-location <span class="italic">directory_path</span>] | root}]
  [-networks <span class="italic">network_list</span>] [-dhcp -clustername <span class="italic">cluster_name</span> [-dhcpport <span class="italic">dhcp_port</span>]]
  [-verbose]

crsinst -upgrade [-rolling] [-src_crshome <span class="italic">src_crshome</span>] -dest_crshome <span class="italic">dest_crshome</span>
  -dest_version <span class="italic">dest_version</span> [-fixup] [-fixupnoexec] [-method {sudo -user <span class="italic">user_name</span>
  [-location <span class="italic">directory_path</span>] | root}] [-verbose]

cluvfy stage -post crsinst -n <span class="italic">node_list</span>
  [-method {sudo -user <span class="italic">user_name</span> [-location <span class="italic">directory_path</span>] | root}] [-verbose]
</pre></div>
</div>
<a id="CWADD91370"></a>
<div class="sect2"><a id="GUID-B5EB5A3E-D29A-449E-B909-74C9FF31A9AF"></a>
<h2 id="CWADD-GUID-B5EB5A3E-D29A-449E-B909-74C9FF31A9AF" class="sect2">Parameters</h2>
<div>
<div class="tblformal" id="GUID-B5EB5A3E-D29A-449E-B909-74C9FF31A9AF__GUID-8524F33B-FCCF-46F6-B6C5-707E5ABBD6C1">
<p class="titleintable">Table A-28 cluvfy stage [-pre | -post] crsinst Command Parameters</p>
<table class="cellalignment5567" title="cluvfy stage [-pre | -post] crsinst Command Parameters " summary="This table lists and describes the cluvfy stage -pre | -post crsinst command parameters.">
<thead>
<tr class="cellalignment5561">
<th class="cellalignment5577" id="d65304e432">Parameter</th>
<th class="cellalignment5578" id="d65304e435">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e440" headers="d65304e432">
<pre dir="ltr">-file <span class="italic">config_file</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e440 d65304e435">
<p>Specify the root script configuration file containing Oracle installation variables.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e449" headers="d65304e432">
<pre dir="ltr">-n <span class="italic">node_list</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e449 d65304e435">
<p>The comma-delimited list of nondomain qualified node names on which to conduct the verification.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e458" headers="d65304e432">
<pre dir="ltr">-flex -hub <span class="italic">hub_list</span>
 [-leaf <span class="italic">leaf_list</span>]
</pre></td>
<td class="cellalignment5580" headers="d65304e458 d65304e435">
<p>Alternative to the <code class="codeph">-n</code> parameter, specify a comma-delimited list of Hub Node names on which to conduct checks. Optionally, you can specify a comma-delimited list of Leaf Nodes.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e474" headers="d65304e432">
<pre dir="ltr">-r {10.1 | 10.2 | 11.1 |
11.2 | 12.1}
</pre></td>
<td class="cellalignment5580" headers="d65304e474 d65304e435">
<p>Specifies the Oracle Clusterware release that CVU checks as required for installation of Oracle Clusterware. If you do not specify this option, then CVU assumes Oracle Clusterware 12<span class="italic">c</span>.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e484" headers="d65304e432">
<pre dir="ltr">-c <span class="italic">ocr_location_list</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e484 d65304e435">
<p>Specify a comma-delimited list of directory paths for OCR locations or files that CVU checks for availability to all nodes. If you do not specify this option, then the OCR locations are not checked.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e493" headers="d65304e432">
<pre dir="ltr">-q <span class="italic">voting_disk_list</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e493 d65304e435">
<p>Specify a comma-delimited list of directory paths for voting files that CVU checks for availability to all nodes. If you do not specify this option, then the voting file locations are not checked</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e502" headers="d65304e432">
<pre dir="ltr">-osdba <span class="italic">osdba_group</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e502 d65304e435">
<p>Specify the name of the OSDBA group. If you do not specify this option, then CVU uses <code class="codeph">dba</code> as the OSDBA group.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e514" headers="d65304e432">
<pre dir="ltr">-orainv <span class="italic">orainventory_group</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e514 d65304e435">
<p>Specify the name of the Oracle Inventory group. If you do not specify this option, then CVU uses <code class="codeph">oinstall</code> as the inventory group.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e526" headers="d65304e432">
<pre dir="ltr">-asm [-presence {local | flex} |
 -asmcredentials client_data_file]
</pre></td>
<td class="cellalignment5580" headers="d65304e526 d65304e435">
<p>This parameter indicates that Oracle ASM is used for storing the Oracle Clusterware files.</p>
<p>Specify the Oracle ASM presence, either <code class="codeph">LOCAL</code> or <code class="codeph">FLEX</code>, on this Oracle Clusterware installation. Optionally, for an Oracle ASM client, specify the path to an Oracle ASM client credential file.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e544" headers="d65304e432">
<pre dir="ltr">-asmgrp <span class="italic">asmadmin_group</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e544 d65304e435">
<p>Specify the name of the OSASM group. If you do not specify this option, then CVU uses the same group as the Oracle Inventory group.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e553" headers="d65304e432">
<pre dir="ltr">-asmdev <span class="italic">asm_device_list</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e553 d65304e435">
<p>Specify a list of devices you plan for Oracle ASM to use that CVU checks for availability to all nodes.</p>
<p>If you do not specify this option, then CVU uses an internal operating system-dependent value.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e565" headers="d65304e432">
<pre dir="ltr">-crshome <span class="italic">Grid_home</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e565 d65304e435">
<p>Specify the location of the Oracle Grid Infrastructure or Oracle Clusterware home directory. If you specify this option, then the supplied file system location is checked for sufficient free space for an Oracle Clusterware installation.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e574" headers="d65304e432">
<pre dir="ltr">-networks [<span class="italic">network_list</span>]
</pre></td>
<td class="cellalignment5580" headers="d65304e574 d65304e435">
<p>Checks the network parameters of a slash (&#34;<code class="codeph">/</code>&#34;)-delimited list of networks in the form of <code class="codeph">&#34;</code><span class="italic"><code class="codeph">if_name</code></span><code class="codeph">&#34; [:</code><span class="italic"><code class="codeph">subnet_id</code></span> <code class="codeph">[:public | :cluster_interconnect]]</code>.</p>
<ul style="list-style-type: disc;">
<li>
<p>You can use the asterisk (<code class="codeph">*</code>) wildcard character when you specify the network interface name (<span class="italic"><code class="codeph">if_name</code></span>), such as <code class="codeph">eth*</code>, to match interfaces.</p>
</li>
<li>
<p>Specify a subnet number for the network interface for the <span class="italic"><code class="codeph">subnet_id</code></span> variable and choose the type of network interface.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e621" headers="d65304e432">
<pre dir="ltr">-dhcp -clustername
 <span class="italic">cluster_name</span> [-dhcpport
 <span class="italic">dhcp_port</span>]
</pre></td>
<td class="cellalignment5580" headers="d65304e621 d65304e435">
<p>Specify the name of the cluster. Optionally, you can specify the port to which the DHCP packets will be sent. The default value for this port is 67.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e634" headers="d65304e432">
<pre dir="ltr">-rolling
</pre></td>
<td class="cellalignment5580" headers="d65304e634 d65304e435">
<p>Specify this if the upgrade you want to perform is a rolling upgrade.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e641" headers="d65304e432">
<pre dir="ltr">-src_crshome <span class="italic">src_crshome</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e641 d65304e435">
<p>Specify the location of the source Grid home.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e650" headers="d65304e432">
<pre dir="ltr">-dest_crshome <span class="italic">dest_crshome</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e650 d65304e435">
<p>Specify the location of the destination Grid home.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e659" headers="d65304e432">
<pre dir="ltr">-dest_version <span class="italic">dest_version</span>
</pre></td>
<td class="cellalignment5580" headers="d65304e659 d65304e435">
<p>Specify the version to which you are upgrading, including any patchset, such as 11.2.0.1.0 or 11.2.0.2.0.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e668" headers="d65304e432">
<pre dir="ltr">-fixup
</pre></td>
<td class="cellalignment5580" headers="d65304e668 d65304e435">
<p>Specifies that if the verification fails, then CVU performs fixup operations, if feasible.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e675" headers="d65304e432">
<pre dir="ltr">-fixupnoexec
</pre></td>
<td class="cellalignment5580" headers="d65304e675 d65304e435">
<p>Specifies that if verification fails, then CVU generates the fixup data and displays the instructions for manual execution of the generated fixups.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e682" headers="d65304e432">
<pre dir="ltr">-method {sudo -user <span class="italic">user_name</span>
 [-location <span class="italic">dir_path</span>] | root}
</pre></td>
<td class="cellalignment5580" headers="d65304e682 d65304e435">
<p>Specify whether the privilege delegation method is <code class="codeph">sudo</code> or <code class="codeph">root</code>, for root user access. If you specify <code class="codeph">sudo</code>, then you must specify the user name to access all the nodes with root privileges and, optionally, provide the full file system path for the <code class="codeph">sudo</code> executable.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d65304e707" headers="d65304e432">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment5580" headers="d65304e707 d65304e435">
<p>CVU prints detailed output.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<div class="sect2"><a id="GUID-CA9F9024-B5CE-4A60-8438-1E85EFD50E31"></a>
<h2 id="CWADD-GUID-CA9F9024-B5CE-4A60-8438-1E85EFD50E31" class="sect2">Usage Notes</h2>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To perform checks for a new installation, specify either the <code class="codeph">-file</code> or <code class="codeph">-n</code> parameters, and use <code class="codeph">-upgrade</code> for performing checks for upgrading to another version.</p>
</li>
<li>
<p>CVU performs additional checks on OCR and voting files if you specify the <code class="codeph">-c</code> and <code class="codeph">-q</code> options with the <code class="codeph">-n</code> parameter.</p>
</li>
</ul>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-5710F37A-976F-4372-BDFF-9F3EE20C7105.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-1B433D20-1F69-4C5C-8004-364A575A7C94.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4631"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Creating%20an%20Application%20VIP%20Managed%20by%20Oracle%20Clusterware"></a><title>Creating an Application VIP Managed by Oracle Clusterware</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-031885D1-164F-4A71-9E9C-C7237DAE914B.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-78EE66E9-21B5-4A0D-80C6-422C5783DBF9.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-AFA2B0A1-479F-4DAB-A9D0-226C30260DD8"></a> <span id="PAGE" style="display:none;">212/713</span> <!-- End Header -->
<a id="CWADD91298"></a>
<h1 id="CWADD-GUID-AFA2B0A1-479F-4DAB-A9D0-226C30260DD8" class="sect1">Creating an Application VIP Managed by Oracle Clusterware</h1>
<div>
<div class="section">
<p>If clients of an application access the application through a network, and the placement policy for the application allows it to fail over to another node, then you must register a <a id="d49093e100" class="indexterm-anchor"></a><a id="d49093e102" class="indexterm-anchor"></a>virtual internet protocol address (VIP) on which the application depends. An application VIP is a cluster resource that Oracle Clusterware manages (Oracle Clusterware provides a standard VIP agent for application VIPs). You should base any new application VIPs on this VIP type to ensure that your system experiences consistent behavior among all of the VIPs that you deploy in your cluster.</p>
<p>While you can add a VIP in the same way that you can add any other resource that Oracle Clusterware manages, Oracle recommends using the <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/bin/appvipcfg</code> command-line utility to create or delete an application VIP on the default network for which the <code class="codeph">ora.net1.network</code> resource is created by default.</p>
<p>To create an <a id="d49093e118" class="indexterm-anchor"></a><a id="d49093e124" class="indexterm-anchor"></a>application VIP, use the following syntax:</p>
<pre dir="ltr">appvipcfg create -network=<span class="italic">network_nummber</span> -ip=<span class="italic">ip_address</span> -vipname=<span class="italic">vip_name</span>
-user=<span class="italic">user_name</span> [-group=<span class="italic">group_name</span>] [-failback=0 | 1]
</pre>
<div class="infobox-note" id="GUID-AFA2B0A1-479F-4DAB-A9D0-226C30260DD8__GUID-2DC627DF-03EF-408F-9A56-31CB1FA7AF61">
<p class="notep1">Note:</p>
<p>You can modify the VIP name while the resource remains online, without restarting the resource.</p>
</div>
<p>When you create an application VIP on a default network, set <code class="codeph">-network=1</code>.</p>
<p>To create an <a id="d49093e154" class="indexterm-anchor"></a>application VIP on a non-default network, you may have to first create the network using the <code class="codeph">srvctl add network</code> command. Then you can create the application VIP, setting <code class="codeph">-network=</code><span class="italic"><code class="codeph">non-default_network_number</code></span>.</p>
<p>In an Oracle Flex Cluster, you can also add a Leaf Node network resource for application VIPs, so that applications can run on Leaf Nodes using the <code class="codeph">srvctl add network</code> command, use the following syntax:</p>
<pre dir="ltr">srvctl add network -netnum=<span class="italic">network_number</span> -subnet <span class="italic">subnet</span>/<span class="italic">netmask</span>[/<span class="italic">if1</span>[|<span class="italic">if2</span>|...]] -leaf
</pre>
<div class="infoboxnotealso" id="GUID-AFA2B0A1-479F-4DAB-A9D0-226C30260DD8__GUID-91FABA03-A7AA-4D33-8C4D-3FCFC29FBEC4">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink RACAD8248" target="_blank" href="../RACAD/GUID-E9B08A79-CE87-47ED-8FD8-7EAF421CCD88.htm#RACAD8248"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about the <code class="codeph">srvctl add network</code> command</p>
</li>
<li>
<p><a href="GUID-DF441DD8-B3B4-48C2-96B5-3DD59EAAC8EF.htm">Oracle Flex Clusters</a> for more information about Leaf Nodes</p>
</li>
</ul>
</div>
<p>To delete an <a id="d49093e211" class="indexterm-anchor"></a>application VIP, use the following syntax:</p>
<pre dir="ltr">appvipcfg delete -vipname=<span class="italic">vip_name</span>
</pre>
<p>In the preceding syntax examples, <span class="italic"><code class="codeph">network_number</code></span> is the number of the network, <span class="italic"><code class="codeph">ip_address</code></span> is the IP address, <span class="italic"><code class="codeph">vip_name</code></span> is the name of the VIP, <span class="italic"><code class="codeph">user_name</code></span> is the name of the user who installed Oracle Database, and <span class="italic"><code class="codeph">group_name</code></span> is the name of the group. The default value of the <code class="codeph">-failback</code> option is 0. If you set the option to 1, then the VIP (and therefore any resources that depend on VIP) fails back to the original node when it becomes available again.</p>
<div class="infobox-note" id="GUID-AFA2B0A1-479F-4DAB-A9D0-226C30260DD8__GUID-16314523-21A3-4E2D-AAAB-3BEC757D1DA4">
<p class="notep1">Note:</p>
<p>The <code class="codeph">-ip=</code><span class="italic"><code class="codeph">ip_address</code></span> parameter is required, but if Grid Plug and Play and GNS with DHCP have been configured, the parameter always takes the IP address from the DHCP server and ignores the IP address specified in the command. The value for the <code class="codeph">-vipname=</code><span class="italic"><code class="codeph">vip_name</code></span> parameter is also ignored with DHCP.</p>
</div>
<p>For example, as <code class="codeph">root</code>, run the following command:</p>
<pre dir="ltr"># <span class="italic">Grid_home</span>/bin/appvipcfg create -network=1 -ip=148.87.58.196 -vipname=appsVIP -user=root
</pre>
<p>The script only requires a network number, the IP address, and a name for the VIP resource, in addition to the user that owns the application VIP resource. A VIP resource is typically owned by <code class="codeph">root</code> because VIP related operations require root privileges.</p>
<p>To delete an application VIP, use the same script with the <code class="codeph">delete</code> option. This option accepts the VIP name as a parameter. For example:</p>
<pre dir="ltr"># <span class="italic">Grid_home</span>/bin/appvipcfg delete -vipname=appsVIP
</pre>
<p>After you have created the application VIP using this configuration script, you can view the VIP profile using the following command:</p>
<pre dir="ltr"><span class="italic">Grid_home</span>/bin/crsctl status res appsVIP -p
</pre>
<p>Verify and, if required, modify the following parameters using the <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/bin/crsctl modify res</code> command.</p>
<div class="infoboxnotealso" id="GUID-AFA2B0A1-479F-4DAB-A9D0-226C30260DD8__GUID-40BBAE17-CE4E-413E-9A4A-9C2EF80EA97C">
<p class="notep1">See Also:</p>
<p><a href="GUID-9C074F34-F180-4200-A99B-72186DAB56E1.htm">Oracle Clusterware Resource Reference</a> for detailed information about using CRSCTL commands</p>
</div>
<p>The <code class="codeph">appvipcfg</code> script requires that you specify the <code class="codeph">-network</code> option, even if <code class="codeph">-network=1</code>.</p>
<p>As the Oracle Database installation owner, start the VIP resource:</p>
<pre dir="ltr">$ crsctl start resource appsVIP
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-031885D1-164F-4A71-9E9C-C7237DAE914B.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-78EE66E9-21B5-4A0D-80C6-422C5783DBF9.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
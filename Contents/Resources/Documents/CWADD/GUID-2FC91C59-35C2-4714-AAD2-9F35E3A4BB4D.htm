<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4266"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Adding%20a%20Node%20to%20a%20Cluster%20on%20Windows%20Systems"></a><title>Adding a Node to a Cluster on Windows Systems</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D"></a> <span id="PAGE" style="display:none;">167/713</span> <!-- End Header -->
<a id="CWADD90996"></a>
<h1 id="CWADD-GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D" class="sect1">Adding a Node to a Cluster on Windows Systems</h1>
<div>
<div class="section">
<p>Ensure that you complete the prerequisites listed in <span class="q">&#34;<a href="GUID-25D8D7A2-5240-401F-A998-00C4B525413F.htm">Prerequisite Steps for Adding Cluster Nodes</a>&#34;</span> before adding nodes.</p>
<p>This procedure describes how to add a node to your cluster. This procedure assumes that:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>There is an existing cluster with two nodes named <code class="codeph">node1</code> and <code class="codeph">node2</code></p>
</li>
<li>
<p>You are adding a node named <code class="codeph">node3</code></p>
</li>
<li>
<p>You have successfully installed Oracle Clusterware on <code class="codeph">node1</code> and <code class="codeph">node2</code> in a local home, where <span class="italic"><code class="codeph">Grid_home</code></span> represents the successfully installed home</p>
</li>
</ul>
<div class="infobox-note" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-A0FC9024-5652-4D74-8A92-E258AD4B3EB4">
<p class="notep1">Note:</p>
<p>Do not use the procedures described in this section to add cluster nodes in configurations where the Oracle database has been upgraded from Oracle Database 10<span class="italic">g</span> release 1 (10.1) on Windows systems.</p>
</div>
<p><a id="d39805e142" class="indexterm-anchor"></a><a id="d39805e146" class="indexterm-anchor"></a>To add a node:</p>
<ol>
<li>
<p>Verify the integrity of the cluster and <code class="codeph">node3</code>:</p>
<pre dir="ltr">C:\&gt;cluvfy stage -pre nodeadd -n node3 [-fixup] [-verbose]
</pre>
<p>You can specify the <code class="codeph">-fixup</code> option and a directory into which CVU prints instructions to fix the cluster or node if the verification fails.</p>
</li>
<li>
<p>On <code class="codeph">node1</code>, go to the <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">\addnode</code> directory and run the <code class="codeph">addnode.bat</code> script, as follows:</p>
<pre dir="ltr">C:\&gt;addnode.bat &#34;CLUSTER_NEW_NODES={node3}&#34;
&#34;CLUSTER_NEW_VIRTUAL_HOSTNAMES={node3-vip}&#34;
</pre></li>
<li>
<p>Run the following command on the new node:</p>
<pre dir="ltr">C:\&gt;<span class="italic">Grid_home</span>\crs\config\gridconfig.bat
</pre></li>
<li>
<p>The following steps are required <span class="italic">only</span> if you have database homes configured to use Oracle ACFS:</p>
<ol>
<li id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__CFHDFCEI">
<p>For each database configured to use Oracle ACFS, run the following command from the Oracle RAC database home:</p>
<pre dir="ltr">C:\&gt; <span class="italic">ORACLE_HOME</span>/bin/srvctl stop database -db <span class="italic">database_unique_name</span>
</pre>
<div class="infobox-note" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-D23333CF-54F9-4E6B-BDFC-CBC8D257C209">
<p class="notep1">Note:</p>
<p>Run the <code class="codeph">srvctl config database</code> command to list all of the databases configured with Oracle Clusterware. Use the <code class="codeph">srvctl config database -db</code> <span class="italic"><code class="codeph">database_unique_name</code></span> to find the database details. If the <span class="italic"><code class="codeph">ORACLE_HOME</code></span> path leads to the Oracle ACFS mount path, then the database uses Oracle ACFS. Use the command output to find the database instance name configured to run on the newly added node.</p>
</div>
</li>
<li>
<p>Use Windows Server Manager Control to stop and delete services.</p>
</li>
<li>
<p>For each of the databases and database homes collected in step <a href="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D.htm#GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__CFHDFCEI">4.a</a>, run the following command:</p>
<pre dir="ltr">C:\&gt; <span class="italic">ORACLE_HOME</span>/bin/srvctl start database -db <span class="italic">database_unique_name</span>
</pre></li>
</ol>
</li>
<li>
<p>Run the following command to verify the integrity of the Oracle Clusterware components on all of the configured nodes, both the preexisting nodes and the nodes that you have added:</p>
<pre dir="ltr">C:\&gt;cluvfy stage -post crsinst -n all [-verbose]
</pre></li>
</ol>
<p>After you complete the procedure in this section for adding nodes, you can optionally extend Oracle Database with Oracle RAC components to the new nodes, making them members of an existing Oracle RAC database.</p>
<div class="infoboxnotealso" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-25382E7A-60CC-4D21-998A-EE16EA3995CE">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD7348" target="_blank" href="../RACAD/GUID-924C2E52-4C34-4500-92FB-80A453FE14A9.htm#RACAD7348"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about extending Oracle Database with Oracle RAC to new nodes</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Creating the OraMTS Service for Microsoft Transaction Server</p>
</div>
<!-- class="section" -->
<div class="section">
<p><a id="d39805e261" class="indexterm-anchor"></a><a id="d39805e265" class="indexterm-anchor"></a>Oracle Services for Microsoft Transaction Server (OraMTS) permit Oracle databases to be used as resource managers in Microsoft application-coordinated transactions. OraMTS acts as a proxy for the Oracle database to the Microsoft Distributed Transaction Coordinator (MSDTC). As a result, OraMTS provides client-side connection pooling and allows client components that leverage Oracle to participate in promotable and distributed transactions. In addition, OraMTS can operate with Oracle databases running on any operating system, given that the services themselves are run on Windows.</p>
<p>On releases earlier than Oracle Database 12<span class="italic">c</span>, the OraMTS service was created as part of a software-only installation. Starting with Oracle Database 12<span class="italic">c</span>, you must use a configuration tool to create this service.</p>
<p>Create the OraMTS service after adding a node or performing a software-only installation for Oracle RAC, as follows:</p>
<ol>
<li>
<p>Open a command window.</p>
</li>
<li>
<p>Change directories to <code class="codeph">%ORACLE_HOME%\bin</code>.</p>
</li>
<li>
<p>Run the <code class="codeph">OraMTSCtl</code> utility to create the OraMTS Service, where <span class="italic"><code class="codeph">host_name</code></span> is a list of nodes on which the service should be created:</p>
<pre dir="ltr">C:\..bin&gt; oramtsctl.exe -new -host <span class="italic">host_name</span>
</pre></li>
</ol>
<div class="infoboxnotealso" id="GUID-2FC91C59-35C2-4714-AAD2-9F35E3A4BB4D__GUID-4A09E0EC-345C-4805-8CB6-DC0C66BC2688">
<p class="notep1">See Also:</p>
<p><a class="olink NTMTS" target="_blank" href="../NTMTS/toc.htm"><span class="italic">Oracle Services for Microsoft Transaction Server Developer&#39;s Guide for Microsoft Windows</span></a> for more information about OraMTS, which allows Oracle databases to be used as resource managers in distributed transactions</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-D39503EC-3E13-4AF7-8A57-932B6E382C7B.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-DDED83A3-F1BB-43EB-AFA4-FDAF51E84EAF.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
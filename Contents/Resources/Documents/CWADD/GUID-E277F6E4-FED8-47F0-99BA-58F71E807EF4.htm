<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4777"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/crsctl%20add%20resource"></a><title>crsctl add resource</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-70E35C80-6FB4-4E98-9AA9-B641D5ABD761.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-EF31CD7E-FDF7-46E6-BEFF-417FCF0C5015.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-E277F6E4-FED8-47F0-99BA-58F71E807EF4"></a> <span id="PAGE" style="display:none;">356/713</span> <!-- End Header -->
<a id="CWADD91514"></a>
<h1 id="CWADD-GUID-E277F6E4-FED8-47F0-99BA-58F71E807EF4" class="sect1">crsctl add resource</h1>
<div>
<p>Use the <a id="d79650e99" class="indexterm-anchor"></a><code class="codeph">crsctl add resource</code> command to register a resource to be managed by Oracle Clusterware. A resource can be an application process, a database, a service, a listener, and so on.</p>
</div>
<div class="sect2"><a id="GUID-01A4CCF2-2332-4E04-B08B-066D3B1521F2"></a>
<h2 id="CWADD-GUID-01A4CCF2-2332-4E04-B08B-066D3B1521F2" class="sect2">Syntax</h2>
<div>
<pre dir="ltr">crsctl add resource <span class="italic">resource_name</span> -type <span class="italic">resource_type</span> [-file <span class="italic">file_path</span> |
   -attr &#34;<span class="italic">attribute_name</span>=<span class="italic">attribute_value</span>,<span class="italic">attribute_name</span>=<span class="italic">attribute_value</span>,...&#34;]
  [-i] [-f]
</pre></div>
</div>
<a id="CWADD91517"></a>
<div class="sect2"><a id="GUID-2A0027C5-BFC3-41AB-83FA-F3E8EC38F535"></a>
<h2 id="CWADD-GUID-2A0027C5-BFC3-41AB-83FA-F3E8EC38F535" class="sect2">Parameters</h2>
<div>
<div class="tblformal" id="GUID-2A0027C5-BFC3-41AB-83FA-F3E8EC38F535__GUID-68EDC7DC-7ADF-49A7-B54E-3C7CBF5EF06A">
<p class="titleintable">Table E-2 crsctl add resource Command Parameters</p>
<table class="cellalignment5567" title="crsctl add resource Command Parameters " summary="This table lists and describes parameters for the crsctl add resource command.">
<thead>
<tr class="cellalignment5561">
<th class="cellalignment5577" id="d79650e339">Parameter</th>
<th class="cellalignment5578" id="d79650e342">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d79650e347" headers="d79650e339">
<pre dir="ltr"><span class="italic">resource_name</span>
</pre></td>
<td class="cellalignment5580" headers="d79650e347 d79650e342">
<p>A short, descriptive name for the resource.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d79650e355" headers="d79650e339">
<pre dir="ltr">-type <span class="italic">resource_type</span>
</pre></td>
<td class="cellalignment5580" headers="d79650e355 d79650e342">
<p>The type of resource that you are adding preceded by the <code class="codeph">-type</code> flag.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d79650e367" headers="d79650e339">
<pre dir="ltr">-file <span class="italic">file_path</span>
</pre></td>
<td class="cellalignment5580" headers="d79650e367 d79650e342">
<p>Path name (either absolute or relative) for a text file containing line-delimited attribute name-value pairs that define the resource.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d79650e376" headers="d79650e339">
<pre dir="ltr">-attr &#34;<span class="italic">attribute_name</span>=
<span class="italic">attribute_value</span>
</pre></td>
<td class="cellalignment5580" headers="d79650e376 d79650e342">
<p>You can specify attributes for a resource you are adding in two different ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Following the <code class="codeph">-attr</code> flag, you can specify one or more comma-delimited attribute name-value pairs enclosed in double quotations marks (<code class="codeph">&#34;&#34;</code>). For example:</p>
<pre dir="ltr">-attr &#34;CHECK_INTERVAL=30,START_TIMEOUT=25&#34;
</pre>
<p>Some attributes can have multiple values. In those cases, separate the values with a space and enclose the list of values in single quotation marks. For example:</p>
<pre dir="ltr">-attr &#34;SERVER_POOL_NAMES=
&#39;ora.pool1 ora.pool2&#39;,START_TIMEOUT=25&#34;
</pre></li>
<li>
<p>Additionally, you can specify attribute values for resource instances with a particular cardinality value, and with a particular degree value. This method can be useful for applications that are tied to a particular server. Following the <code class="codeph">-attr</code> flag, the syntax is as follows:</p>
<pre dir="ltr"><span class="italic">attribute_name</span>{@SERVERNAME(<span class="italic">server_name</span>)
[@DEGREEID(<span class="italic">did</span>)] | @CARDINALITYID(<span class="italic">cid</span>)
[@DEGREEID(<span class="italic">did</span>)]}=<span class="italic">attribute_value</span>
</pre>
<p>If you specify the <code class="codeph">@SERVERNAME(</code><span class="italic"><code class="codeph">server_name</code></span><code class="codeph">)</code> syntax, then the attribute value you specify for the attribute you specify is limited to resource instances residing on the server you specify.</p>
<p>Alternatively, if you specify the <code class="codeph">@CARDINALITYID(</code><span class="italic"><code class="codeph">cid</code></span><code class="codeph">)</code> syntax, then the attribute value you specify for the attribute you specify is limited to resource instances with a specific cardinality ID (<span class="italic"><code class="codeph">cid</code></span>).</p>
<p>Optionally, you can combine the <code class="codeph">@DEGREEID(</code><span class="italic"><code class="codeph">did</code></span><code class="codeph">)</code> syntax with either the <code class="codeph">SERVERNAME</code> or <code class="codeph">CARDINALITYID</code> syntax, or both, to limit the attribute value to resources with the specific <code class="codeph">DEGREE</code>.</p>
<p>Examples:</p>
<pre dir="ltr">CHECK_INTERVAL@SERVERNAME(node1)=45
STOP_TIMEOUT@CARDINALITYID(2)=65
STOP_TIMEOUT@SERVERNAME(node1)@DEGREEID(2)=65
STOP_TIMEOUT@CARDINALITYID(3)@DEGREEID(2)=65
</pre></li>
</ul>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d79650e475" headers="d79650e339">
<pre dir="ltr">-i
</pre></td>
<td class="cellalignment5580" headers="d79650e475 d79650e342">
<p>If you specify <code class="codeph">-i</code>, then the command returns an error if processing this command requires waiting for Oracle Clusterware to unlock the resource or its dependents. Sometimes, Oracle Clusterware locks resources or other objects to prevent commands from interfering with each other.</p>
</td>
</tr>
<tr class="cellalignment5561">
<td class="cellalignment5579" id="d79650e485" headers="d79650e339">
<pre dir="ltr">-f
</pre></td>
<td class="cellalignment5580" headers="d79650e485 d79650e342">
<p>Use the force parameter:</p>
<ul style="list-style-type: disc;">
<li>
<p>To add a resource that has dependencies on other resources that do not yet exist. The force parameter overrides checks that would prevent a command from being completed.</p>
</li>
<li>
<p>To add a resource if the resource has hard dependencies on other resources and the owner of the resources does not execute permissions on one or more of the dependencies. If you do not specify the force parameter in this case, an error displays.</p>
</li>
<li>
<p>To add resources of <code class="codeph">application</code> type because you may need to move servers into the Generic server pool. If the servers currently host resources that must be stopped, then the force parameter is required</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-2A0027C5-BFC3-41AB-83FA-F3E8EC38F535__GUID-D53A9C95-A946-4CE2-AC4C-CC3819BEDF9F">
<p class="notep1">See Also:</p>
<p><a href="GUID-9C074F34-F180-4200-A99B-72186DAB56E1.htm">Oracle Clusterware Resource Reference</a> for more information about resources and resource attributes</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-9D41832E-50BA-4B2C-B4F9-7469916ABB37"></a>
<h2 id="CWADD-GUID-9D41832E-50BA-4B2C-B4F9-7469916ABB37" class="sect2">Usage Notes</h2>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Both the <span class="italic"><code class="codeph">resource_name</code></span> and <code class="codeph">-type</code> <span class="italic"><code class="codeph">resource_type</code></span> parameters are required. You can create an associated resource type using the <code class="codeph"><a href="GUID-EF31CD7E-FDF7-46E6-BEFF-417FCF0C5015.htm#GUID-EF31CD7E-FDF7-46E6-BEFF-417FCF0C5015">crsctl add type</a></code> command.</p>
</li>
<li>
<p>Any user can create a resource but only clusterware administrators can create resources of type <code class="codeph">local_resource</code> or resources of type <code class="codeph">cluster_resource</code> that have <code class="codeph">SERVER_POOLS=*</code>.</p>
<p>Once a resource is defined, its ACL controls who can perform particular operations with it. The Oracle Clusterware administrator list is no longer relevant.</p>
<p>On Windows, a member of the Administrators group has full control over everything.</p>
<div class="infoboxnotealso" id="GUID-9D41832E-50BA-4B2C-B4F9-7469916ABB37__GUID-9391853A-01FE-4E56-B326-D63FE985163A">
<p class="notep1">See Also:</p>
<p><code class="codeph"><span class="q">&#34;<a href="GUID-EF626933-3C5D-4E52-9CC2-921811C3426C.htm#GUID-EF626933-3C5D-4E52-9CC2-921811C3426C">crsctl setperm resource</a>&#34;</span></code> for more information about setting ACLs</p>
</div>
</li>
<li>
<p>If an attribute value for an attribute name-value pair contains commas, then the value must be enclosed in single quotation marks (<code class="codeph">&#39;&#39;</code>).</p>
</li>
<li>
<p>Following is an example of an attribute file:</p>
<pre dir="ltr">PLACEMENT=favored
HOSTING_MEMBERS=node1 node2 node3
RESTART_ATTEMPTS@CARDINALITYID(1)=0
RESTART_ATTEMPTS@CARDINALITYID(2)=0
FAILURE_THRESHOLD@CARDINALITYID(1)=2
FAILURE_THRESHOLD@CARDINALITYID(2)=4
FAILURE_INTERVAL@CARDINALITYID(1)=300
FAILURE_INTERVAL@CARDINALITYID(2)=500
CHECK_INTERVAL=2
CARDINALITY=2
</pre></li>
<li>
<p>Do not use this command for any resources with names that begin with <span class="italic">ora</span> because these resources are Oracle resources.</p>
</li>
</ul>
</div>
</div>
<a id="CWADD92155"></a><a id="CWADD92684"></a><a id="CWADD92685"></a><a id="CWADD92686"></a><a id="CWADD92687"></a><a id="CWADD92154"></a>
<div class="sect2"><a id="GUID-B3747FA0-7CC4-4233-ACF6-907DEB5A2148"></a>
<h2 id="CWADD-GUID-B3747FA0-7CC4-4233-ACF6-907DEB5A2148" class="sect2">Examples</h2>
<div>
<div class="section">
<p class="subhead2">Example 1</p>
</div>
<!-- class="section" -->
<p>To register a VIP as a resource with Oracle Clusterware:</p>
<pre dir="ltr">$ crsctl add resource app.appvip -type app.appvip.type -attr &#34;RESTART_ATTEMPTS=2,
START_TIMEOUT=100,STOP_TIMEOUT=100,CHECK_INTERVAL=10,
USR_ORA_VIP=172.16.0.0,
START_DEPENDENCIES=hard(ora.net1.network)pullup(ora.net1.network),
STOP_DEPENDENCIES=hard(ora.net1.network)&#34;
</pre>
<div class="section">
<p class="subhead2">Example 2</p>
</div>
<!-- class="section" -->
<p>To register a resource based on the <code class="codeph">test_type1</code> resource type:</p>
<pre dir="ltr">$ crsctl add resource r1 -type test_type1 -attr &#34;PATH_NAME=/tmp/r1.txt&#34;
$ crsctl add resource r1 -type test_type1 -attr &#34;PATH_NAME=/tmp/r2.txt&#34;
</pre>
<div class="section">
<p class="subhead2">Example 3</p>
</div>
<!-- class="section" -->
<p>To register a Samba server resource of the <code class="codeph">generic_application</code> resource type, using the <code class="codeph">EXECUTABLE_NAMES</code> attribute:</p>
<pre dir="ltr"># crsctl add resource my_samba -type generic_application -attr
&#34;EXECUTABLE_NAMES=smbd,START_PROGRAM=&#39;/etc/rc.d/init.d/smb start&#39;,
STOP_PROGRAM=&#39;/etc/rc.d/init.d/smb stop&#39;&#34;
</pre>
<div class="section">
<p class="subhead2">Example 4</p>
</div>
<!-- class="section" -->
<p>To register a DNS server of the <code class="codeph">generic_application</code> resource type, using the <code class="codeph">EXECUTABLE_NAMES</code> attribute:</p>
<pre dir="ltr"># crsctl add resource my_dns -type generic_application -attr
&#34;EXECUTABLE_NAMES=named,START_PROGRAM=&#39;/etc/rc.d/init.d/named start&#39;,
STOP_PROGRAM=&#39;/etc/rc.d/init.d/named stop&#39;&#34;
</pre>
<div class="section">
<p class="subhead2">Example 5</p>
</div>
<!-- class="section" -->
<p>To register an Apache web server of the <code class="codeph">generic_application</code> resource type using the PID_FILES attribute:</p>
<pre dir="ltr"># crsctl add resource my_apache -type generic_application -attr
&#34;START_PROGRAM=&#39;/usr/sbin/httpd -k start&#39;,STOP_PROGRAM=&#39;/usr/sbin/httpd -k stop&#39;,
PID_FILES=/etc/httpd/run/httpd.pid&#34;
</pre>
<div class="section">
<p class="subhead2">Example 6</p>
</div>
<!-- class="section" -->
<p>To register an application of <code class="codeph">generic_application</code> resource type using environment variables:</p>
<pre dir="ltr"># crsctl add resource my_app -type generic_application -attr
&#34;START_PROGRAM=&#39;/opt/my_app start&#39;, EXECUTABLE_NAMES=my_app,
ENVIRONMENT_VARS=&#39;USE_NETAPP=no,USE_BACKUP=yes,CLEAN_ON_KILL=yes&#39;&#34;
</pre></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-70E35C80-6FB4-4E98-9AA9-B641D5ABD761.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-EF31CD7E-FDF7-46E6-BEFF-417FCF0C5015.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4636"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Changing%20a%20Network%20Interface"></a><title>Changing a Network Interface</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-B1E152E6-2C4D-4F0A-90D4-207146C2B317.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-8A7E30F0-6D43-46CC-B453-6C8806886052.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073"></a> <span id="PAGE" style="display:none;">77/713</span> <!-- End Header -->
<a id="CWADD92114"></a>
<h1 id="CWADD-GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073" class="sect1">Changing a Network Interface</h1>
<div>
<div class="section">
<p>You can <a id="d22348e100" class="indexterm-anchor"></a><a id="d22348e106" class="indexterm-anchor"></a>change a network interface and its associated subnet address using the following procedure. You must perform this change on all nodes in the cluster.</p>
<p>This procedure changes the network interface and IP address on each node in the cluster used previously by Oracle Clusterware and Oracle Database.</p>
<div class="infobox-note" id="GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073__GUID-BF66973B-137A-4703-A0A5-BC26E669240B">
<p class="notep1">Caution:</p>
<p>The interface that the Oracle RAC (RDBMS) interconnect uses must be the same interface that Oracle Clusterware uses with the host name. Do not configure the private interconnect for Oracle RAC on a separate interface that is not monitored by Oracle Clusterware.</p>
</div>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that Oracle Clusterware is running on all of the cluster nodes by running the following command:</span>
<div>
<pre dir="ltr">$ olsnodes -s
</pre>
<p>The command returns output similar to the following, showing that Oracle Clusterware is running on all of the nodes in the cluster:</p>
<pre dir="ltr">./olsnodes -s
myclustera Active
myclusterc Active
myclusterb Active
</pre></div>
</li>
<li class="stepexpand"><span>Ensure that the replacement interface is configured and operational in the operating system on all of the nodes. Use the <code class="codeph">ifconfig</code> command (or <code class="codeph">ipconfig</code> on Windows) for your platform. For example, on Linux, use:</span>
<div>
<pre dir="ltr">$ /sbin/ifconfig..
</pre></div>
</li>
<li class="stepexpand"><span>Add the new interface to the cluster as follows, providing the name of the new interface and the subnet address, using the following command:</span>
<div>
<pre dir="ltr">$ oifcfg setif -global <span class="italic">if_name</span>/<span class="italic">subnet</span>:cluster_interconnect
</pre>
<p>You can use wildcards with the interface name. For example, <code class="codeph">oifcfg setif -global &#34;eth*/192.168.0.0:cluster_interconnect</code> is valid syntax. However, be careful to avoid ambiguity with other addresses or masks used with other cluster interfaces. If you use wildcards, then you see a warning similar to the following:</p>
<pre dir="ltr">eth*/192.168.0.0 global cluster_interconnect
PRIF-29: Warning: wildcard in network parameters can cause mismatch
among GPnP profile, OCR, and system
</pre>
<div class="infobox-note" id="GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073__GUID-3EDBD708-59EB-413B-8FFE-9C4F52C79458">
<p class="notep1">Note:</p>
<p>Legacy network configuration does not support wildcards; thus wildcards are resolved using current node configuration at the time of the update.</p>
</div>
<div class="infoboxnotealso" id="GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073__GUID-607606AF-8905-4493-BE4B-3C80C243AE23">
<p class="notep1">See Also:</p>
<p><a href="GUID-518BD051-E9F1-4B62-B86B-02A90C252580.htm">Oracle Interface Configuration Tool (OIFCFG) Command Reference</a> for more information about using OIFCFG commands</p>
</div>
</div>
</li>
<li class="stepexpand"><span>After the previous step completes, you can remove the former subnet, as follows, by providing the name and subnet address of the former interface:</span>
<div>
<pre dir="ltr">oifcfg delif -global <span class="italic">if_name</span>/<span class="italic">subnet</span>
</pre>
<p>For example:</p>
<pre dir="ltr">$ oifcfg delif -global eth1/10.10.0.0
</pre>
<div class="infobox-note" id="GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073__GUID-831ACA36-DC38-4B93-B79A-4C106A8F6E53">
<p class="notep1">Caution:</p>
<p>This step should be performed only after a replacement interface is committed into the Grid Plug and Play configuration. Simple deletion of cluster interfaces without providing a valid replacement can result in invalid cluster configuration.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Verify the current configuration using the following command:</span>
<div>
<pre dir="ltr">oifcfg getif
</pre>
<p>For example:</p>
<pre dir="ltr">$ oifcfg getif
eth2 10.220.52.0 global cluster_interconnect
eth0 10.220.16.0 global public
</pre></div>
</li>
<li class="stepexpand"><span>Stop Oracle Clusterware on all nodes by running the following command as <code class="codeph">root</code> on each node:</span>
<div>
<pre dir="ltr"># crsctl stop crs
</pre>
<div class="infobox-note" id="GUID-B1FF2FB7-0F60-4B00-90A8-0A9AA99DB073__GUID-9FE09085-FE58-4A4F-A785-70DC1E3600BD">
<p class="notep1">Note:</p>
<p>With cluster network configuration changes, the cluster must be fully stopped; do not use rolling stops and restarts.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>When Oracle Clusterware stops, you can deconfigure the deleted network interface in the operating system using the <code class="codeph">ifconfig</code> command. For example:</span>
<div>
<pre dir="ltr">$ ifconfig down
</pre>
<p>At this point, the IP address from network interfaces for the old subnet is deconfigured from Oracle Clusterware. This command does not affect the configuration of the IP address on the operating system.</p>
<p>You must update the operating system configuration changes, because changes made using <code class="codeph">ifconfig</code> are not persistent.</p>
</div>
</li>
<li class="stepexpand"><span>Restart Oracle Clusterware by running the following command on each node in the cluster as the <code class="codeph">root</code> user:</span>
<div>
<pre dir="ltr"># crsctl start crs
</pre>
<p>The changes take effect when Oracle Clusterware restarts.</p>
<p>If you use the <a id="d22348e237" class="indexterm-anchor"></a><a id="d22348e239" class="indexterm-anchor"></a><code class="codeph">CLUSTER_INTERCONNECTS</code> initialization parameter, then you must update it to reflect the changes.</p>
</div>
</li>
</ol>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-B1E152E6-2C4D-4F0A-90D4-207146C2B317.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-8A7E30F0-6D43-46CC-B453-6C8806886052.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
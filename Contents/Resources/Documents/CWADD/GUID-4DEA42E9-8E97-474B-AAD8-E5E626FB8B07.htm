<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4346"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Local%20Registry"></a><title>Oracle Local Registry</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="dcterms.created" content="2017-07-14T14:47:18Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"/>
<meta name="dcterms.identifier" content="E48819-11"/>
<meta name="dcterms.isVersionOf" content="CWADD"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E.htm" title="Previous" type="text/html"/>
<link rel="Next" href="GUID-1D3FDBE6-03ED-49B9-A181-2463C59331DA.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48819-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07"></a> <span id="PAGE" style="display:none;">150/713</span> <!-- End Header -->
<a id="CWADD90963"></a>
<h1 id="CWADD-GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07" class="sect1">Oracle Local Registry</h1>
<div>
<p>In Oracle Clusterware 12<span class="italic">c</span>, each node in a cluster has a local registry for node-specific resources, called an <a id="d36720e102" class="indexterm-anchor"></a><a id="d36720e106" class="indexterm-anchor"></a>Oracle Local Registry (OLR), that is installed and configured when Oracle Clusterware installs OCR. Multiple processes on each node have simultaneous read and write access to the OLR particular to the node on which they reside, regardless of whether Oracle Clusterware is running or fully functional.</p>
<p>By default, OLR is located at <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/cdata/</code><span class="italic"><code class="codeph">host_name</code></span><code class="codeph">.olr</code> on each node.</p>
<p>Manage OLR using the OCRCHECK, OCRDUMP, and OCRCONFIG utilities as <code class="codeph">root</code> with the <code class="codeph">-local</code> option.</p>
<ul style="list-style-type: disc;">
<li>
<p>You can check the status of OLR on the local node using the <a id="d36720e136" class="indexterm-anchor"></a><a id="d36720e140" class="indexterm-anchor"></a>OCRCHECK utility, as follows:</p>
<pre dir="ltr"># ocrcheck -local

Status of Oracle Cluster Registry is as follows :
        Version                  :          3
        Total space (kbytes)     :     262132
        Used space (kbytes)      :       9200
        Available space (kbytes) :     252932
        ID                       :  604793089
        Device/File Name         : /private2/crs/cdata/localhost/dglnx6.olr
                                   Device/File integrity check succeeded

        Local OCR integrity check succeeded
</pre></li>
<li>
<p>You can display the content of OLR on the local node to the text terminal that initiated the program using the <a id="d36720e150" class="indexterm-anchor"></a><a id="d36720e154" class="indexterm-anchor"></a>OCRDUMP utility, as follows:</p>
<pre dir="ltr"># ocrdump -local -stdout
</pre></li>
<li>
<p>You can perform administrative tasks on OLR on the local node using the <a id="d36720e164" class="indexterm-anchor"></a><a id="d36720e168" class="indexterm-anchor"></a>OCRCONFIG utility.</p>
<ul style="list-style-type: disc;">
<li>
<p><a id="d36720e176" class="indexterm-anchor"></a>To export OLR to a file:</p>
<pre dir="ltr"># ocrconfig &ndash;local &ndash;export <span class="italic">file_name</span>
</pre>
<div class="infobox-note" id="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07__GUID-4B8A6070-237E-4DC6-A15F-F4DE5EB44351">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle recommends that you use the <code class="codeph">-manualbackup</code> and <code class="codeph">-restore</code> commands and not the <code class="codeph">-import</code> and <code class="codeph">-export</code> commands.</p>
</li>
<li>
<p>When exporting OLR, Oracle recommends including &#34;<code class="codeph">olr</code>&#34;, the host name, and the timestamp in the name string. For example:</p>
<pre dir="ltr">olr_myhost1_20090603_0130_export
</pre></li>
</ul>
</div>
</li>
<li>
<p><a id="d36720e213" class="indexterm-anchor"></a>To import a specified file to OLR:</p>
<pre dir="ltr"># ocrconfig &ndash;local &ndash;import <span class="italic">file_name</span>
</pre></li>
<li>
<p><a id="d36720e225" class="indexterm-anchor"></a>To manually back up OLR:</p>
<pre dir="ltr"># ocrconfig &ndash;local &ndash;manualbackup
</pre>
<div class="infobox-note" id="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07__GUID-4DFA5399-F9B0-4353-B34C-978950F80703">
<p class="notep1">Note:</p>
<p>The OLR is backed up after an installation or an upgrade. After that time, you can only manually back up the OLR. Automatic backups are not supported for the OLR. You should create a new backup when you migrate OCR from Oracle ASM to other storage, or when you migrate OCR from other storage to Oracle ASM.</p>
<p>The default backup location for the OLR is in the path <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/cdata/</code><span class="italic"><code class="codeph">host_name</code></span>.</p>
</div>
</li>
<li>
<p><a id="d36720e248" class="indexterm-anchor"></a>To view the contents of the OLR backup file:</p>
<pre dir="ltr">ocrdump -local -backupfile <span class="italic">olr_backup_file_name</span>
</pre></li>
<li>
<p>To change the OLR backup location:</p>
<pre dir="ltr">ocrconfig -local -backuploc <span class="italic">new_olr_backup_path</span>
</pre></li>
<li>
<p><a id="d36720e268" class="indexterm-anchor"></a>To restore OLR:</p>
<pre dir="ltr"># crsctl stop crs
# ocrconfig -local -restore <span class="italic">file_name</span>
# ocrcheck -local
# crsctl start crs
$ cluvfy comp olr
</pre></li>
</ul>
</li>
</ul>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5560">
<tr>
<td class="cellalignment5574">
<table class="cellalignment5565">
<tr>
<td class="cellalignment5564"><a href="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5564"><a href="GUID-1D3FDBE6-03ED-49B9-A181-2463C59331DA.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5576">
<table class="cellalignment5563">
<tr>
<td class="cellalignment5564"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5564"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5564"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5564"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5564"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5564"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
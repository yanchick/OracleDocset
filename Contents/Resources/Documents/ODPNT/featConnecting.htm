<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79201"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Connecting%20to%20Oracle%20Database"></a><title>Connecting to Oracle Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-10-14T19:43:25Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Provider for .NET Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17732-11"/>
<meta name="dcterms.isVersionOf" content="ODPNT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="featCodeAccess.htm" title="Previous" type="text/html"/>
<link rel="Next" href="featRAC.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17732-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">24/172</span> <!-- End Header --><a id="i1006228"></a>
<div id="ODPNT163" class="sect1">
<h1 class="sect1">Connecting to Oracle Database</h1>
<p>Oracle Data Provider for .NET can connect to Oracle Database in a number of ways, such as using a user name and password, Windows Native Authentication, Kerberos, and Transport Layer Security/Secure Sockets Layer. This section describes <code>OracleConnection</code> provider-specific features, including:</p>
<ul>
<li>
<p><a href="#i1006259">Connection String Attributes</a></p>
</li>
<li>
<p><a href="#BABDCGGC">Connection String Builder</a></p>
</li>
<li>
<p><a href="#CIHIFGHC">Specifying the Data Source Attribute</a></p>
</li>
<li>
<p><a href="#CJADIFGJ">Schema Discovery</a></p>
</li>
<li>
<p><a href="#i1006393">Connection Pooling</a></p>
</li>
<li>
<p><a href="#CJAGDAGG">Connection Pool Management</a></p>
</li>
<li>
<p><a href="#CJADIIFD">Connection Pool Performance Counters</a></p>
</li>
<li>
<p><a href="#BABEIDIH">Pluggable Databases</a></p>
</li>
<li>
<p><a href="#CJADAEIJ">Edition-Based Redefinition</a></p>
</li>
<li>
<p><a href="#i1006432">Operating System Authentication</a></p>
</li>
<li>
<p><a href="#i1006454">Privileged Connections</a></p>
</li>
<li>
<p><a href="#i1006478">Password Expiration</a></p>
</li>
<li>
<p><a href="#i1006514">Proxy Authentication</a></p>
</li>
<li>
<p><a href="#CJAJFJHF">Dynamic Distributed Transaction Enlistment</a></p>
</li>
<li>
<p><a href="#CIHIFBJI">Client Identifier and End-to-End Tracing</a></p>
</li>
<li>
<p><a href="#i1006554">Transparent Application Failover (TAF) Callback Support</a></p>
</li>
</ul>
<a id="i1006259"></a>
<div id="ODPNT164" class="sect2">
<h2 class="sect2">Connection String Attributes<a id="sthref164"></a><a id="sthref165"></a><a id="sthref166"></a><a id="sthref167"></a><a id="sthref168"></a><a id="sthref169"></a><a id="sthref170"></a><a id="sthref171"></a><a id="sthref172"></a><a id="sthref173"></a><a id="sthref174"></a><a id="sthref175"></a><a id="sthref176"></a><a id="sthref177"></a><a id="sthref178"></a><a id="sthref179"></a><a id="sthref180"></a><a id="sthref181"></a><a id="sthref182"></a><a id="sthref183"></a></h2>
<p><a href="#CJAEDBGH">Table 3-2</a> lists the supported connection string attributes<a id="sthref184"></a><a id="sthref185"></a><a id="sthref186"></a>.</p>
<div id="ODPNT165" class="tblformal">
<p class="titleintable"><a id="sthref187"></a><a id="CJAEDBGH"></a>Table 3-2 Supported Connection String Attributes</p>
<table class="cellalignment4231" title="Supported Connection String Attributes " summary="rows are string attributes. first column is name, second column default value, and third column is description." dir="ltr">
<thead>
<tr class="cellalignment4220">
<th class="cellalignment4230" id="r1c1-t5">Connection String Attribute</th>
<th class="cellalignment4230" id="r1c2-t5">Description</th>
<th class="cellalignment4230" id="r1c3-t5">Default Value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r2c1-t5" headers="r1c1-t5">
<p><code>Connection Lifetime</code></p>
</td>
<td class="cellalignment4226" headers="r2c1-t5 r1c2-t5">
<p>Minimum life time (in seconds) of the connection.</p>
</td>
<td class="cellalignment4226" headers="r2c1-t5 r1c3-t5">
<p><code>0</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r3c1-t5" headers="r1c1-t5">
<p><code>Connection Timeout</code></p>
</td>
<td class="cellalignment4226" headers="r3c1-t5 r1c2-t5">
<p>Minimum time (in seconds) to wait for a free connection from the pool.</p>
</td>
<td class="cellalignment4226" headers="r3c1-t5 r1c3-t5">
<p><code>15</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r4c1-t5" headers="r1c1-t5">
<p><code>Context</code> <code>Connection</code></p>
</td>
<td class="cellalignment4226" headers="r4c1-t5 r1c2-t5">
<p>Returns an implicit database connection if set to <code>true</code>.</p>
<p><span class="italic">Supported in a .NET stored procedure only</span></p>
</td>
<td class="cellalignment4226" headers="r4c1-t5 r1c3-t5">
<p><code>false</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r5c1-t5" headers="r1c1-t5">
<p><code>Data</code> <code>Source</code></p>
</td>
<td class="cellalignment4226" headers="r5c1-t5 r1c2-t5">
<p>Oracle Net Services Name, Connect Descriptor, or an easy connect naming that identifies the database to which to connect.</p>
</td>
<td class="cellalignment4226" headers="r5c1-t5 r1c3-t5">
<p>empty string</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r6c1-t5" headers="r1c1-t5">
<p><code>DBA Privilege</code></p>
</td>
<td class="cellalignment4226" headers="r6c1-t5 r1c2-t5">
<p>Administrative privileges: <code>SYSDBA</code> or <code>SYSOPER</code>.</p>
</td>
<td class="cellalignment4226" headers="r6c1-t5 r1c3-t5">
<p>empty string</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r7c1-t5" headers="r1c1-t5">
<p><code>Decr Pool Size</code></p>
</td>
<td class="cellalignment4226" headers="r7c1-t5 r1c2-t5">
<p>Number of connections that are closed when an excessive amount of established connections are unused.</p>
</td>
<td class="cellalignment4226" headers="r7c1-t5 r1c3-t5">
<p><code>1</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r8c1-t5" headers="r1c1-t5">
<p><code>Enlist</code></p>
</td>
<td class="cellalignment4226" headers="r8c1-t5 r1c2-t5">
<p>Controls the enlistment behavior and capabilities of a connection in context of COM+ transactions or <code>System.Transactions</code>.</p>
</td>
<td class="cellalignment4226" headers="r8c1-t5 r1c3-t5">
<p><code>true</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r9c1-t5" headers="r1c1-t5">
<p><code>HA</code> <code>Events</code></p>
</td>
<td class="cellalignment4226" headers="r9c1-t5 r1c2-t5">
<p>Enables ODP.NET connection pool to proactively remove connections from the pool when an Oracle database service, service member, instance, or node goes down. Works with Oracle Global Data Services, including Oracle RAC, Data Guard, GoldenGate, and some single instance deployments.</p>
</td>
<td class="cellalignment4226" headers="r9c1-t5 r1c3-t5">
<p><code>false</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r10c1-t5" headers="r1c1-t5">
<p><code>Load</code> <code>Balancing</code></p>
</td>
<td class="cellalignment4226" headers="r10c1-t5 r1c2-t5">
<p>Enables ODP.NET connection pool to balance work requests across Oracle database instances based on the load balancing advisory and service goal. Works with Oracle Global Data Services, including Oracle RAC, Active Data Guard, and GoldenGate.</p>
</td>
<td class="cellalignment4226" headers="r10c1-t5 r1c3-t5">
<p><code>false</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r11c1-t5" headers="r1c1-t5">
<p><code>Incr Pool Size</code></p>
</td>
<td class="cellalignment4226" headers="r11c1-t5 r1c2-t5">
<p>Number of new connections to be created when all connections in the pool are in use.</p>
</td>
<td class="cellalignment4226" headers="r11c1-t5 r1c3-t5">
<p><code>5</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r12c1-t5" headers="r1c1-t5">
<p><code>Max Pool Size</code></p>
</td>
<td class="cellalignment4226" headers="r12c1-t5 r1c2-t5">
<p>Maximum number of connections in a pool.</p>
</td>
<td class="cellalignment4226" headers="r12c1-t5 r1c3-t5">
<p><code>100</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r13c1-t5" headers="r1c1-t5">
<p><code>Metadata</code> <code>Pooling</code></p>
</td>
<td class="cellalignment4226" headers="r13c1-t5 r1c2-t5">
<p>Caches metadata information.</p>
</td>
<td class="cellalignment4226" headers="r13c1-t5 r1c3-t5">
<p><code>True</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r14c1-t5" headers="r1c1-t5">
<p><code>Min</code> <code>Pool</code> <code>Size</code></p>
</td>
<td class="cellalignment4226" headers="r14c1-t5 r1c2-t5">
<p>Minimum number of connections in a pool.</p>
</td>
<td class="cellalignment4226" headers="r14c1-t5 r1c3-t5">
<p><code>1</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r15c1-t5" headers="r1c1-t5">
<p><code>Password</code></p>
</td>
<td class="cellalignment4226" headers="r15c1-t5 r1c2-t5">
<p>Password for the user specified by <code>User</code> <code>Id</code>.</p>
</td>
<td class="cellalignment4226" headers="r15c1-t5 r1c3-t5">
<p>empty string</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r16c1-t5" headers="r1c1-t5">
<p><code>Persist</code> <code>Security</code> <code>Info</code></p>
</td>
<td class="cellalignment4226" headers="r16c1-t5 r1c2-t5">
<p>Retrieval of the password in the connection string.</p>
</td>
<td class="cellalignment4226" headers="r16c1-t5 r1c3-t5">
<p><code>false</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r17c1-t5" headers="r1c1-t5">
<p><code>Pooling</code></p>
</td>
<td class="cellalignment4226" headers="r17c1-t5 r1c2-t5">
<p>Connection pooling.</p>
</td>
<td class="cellalignment4226" headers="r17c1-t5 r1c3-t5">
<p><code>true</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r18c1-t5" headers="r1c1-t5">
<p><code>Promotable</code> <code>Transaction</code></p>
</td>
<td class="cellalignment4226" headers="r18c1-t5 r1c2-t5">
<p>Indicates whether or not a transaction is local or distributed throughout its lifetime.</p>
</td>
<td class="cellalignment4226" headers="r18c1-t5 r1c3-t5">
<p>promotable</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r19c1-t5" headers="r1c1-t5">
<p><code>Proxy</code> <code>User</code> <code>Id</code></p>
</td>
<td class="cellalignment4226" headers="r19c1-t5 r1c2-t5">
<p>User name of the proxy user.</p>
</td>
<td class="cellalignment4226" headers="r19c1-t5 r1c3-t5">
<p>empty string</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r20c1-t5" headers="r1c1-t5">
<p><code>Proxy</code> <code>Password</code></p>
</td>
<td class="cellalignment4226" headers="r20c1-t5 r1c2-t5">
<p>Password of the proxy user.</p>
</td>
<td class="cellalignment4226" headers="r20c1-t5 r1c3-t5">
<p>empty string</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r21c1-t5" headers="r1c1-t5">
<p><code>Self Tuning</code></p>
</td>
<td class="cellalignment4226" headers="r21c1-t5 r1c2-t5">
<p>Enables or disables self-tuning for a connection.</p>
</td>
<td class="cellalignment4226" headers="r21c1-t5 r1c3-t5">
<p><code>true</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r22c1-t5" headers="r1c1-t5">
<p><code>Statement</code> <code>Cache</code> <code>Purge</code></p>
</td>
<td class="cellalignment4226" headers="r22c1-t5 r1c2-t5">
<p>Statement cache purged when the connection goes back to the pool.</p>
</td>
<td class="cellalignment4226" headers="r22c1-t5 r1c3-t5">
<p><code>false</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r23c1-t5" headers="r1c1-t5">
<p><code>Statement</code> <code>Cache</code> <code>Size</code></p>
</td>
<td class="cellalignment4226" headers="r23c1-t5 r1c2-t5">
<p>Statement cache enabled and cache size, that is, the maximum number of statements that can be cached.</p>
</td>
<td class="cellalignment4226" headers="r23c1-t5 r1c3-t5">
<p><code>0</code></p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r24c1-t5" headers="r1c1-t5">
<p><code>User</code> <code>Id</code></p>
</td>
<td class="cellalignment4226" headers="r24c1-t5 r1c2-t5">
<p>Oracle user name.</p>
</td>
<td class="cellalignment4226" headers="r24c1-t5 r1c3-t5">
<p>empty string</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r25c1-t5" headers="r1c1-t5">
<p><code>Validate</code> <code>Connection</code></p>
</td>
<td class="cellalignment4226" headers="r25c1-t5 r1c2-t5">
<p>Validation of connections coming from the pool.</p>
</td>
<td class="cellalignment4226" headers="r25c1-t5 r1c3-t5">
<p><code>false</code></p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p>The following example uses connection string attributes to connect to Oracle Database:</p>
<pre>// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class ConnectionSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    //using connection string attributes to connect to Oracle Database
    con.ConnectionString = &#34;User Id=scott;Password=tiger;Data Source=oracle&#34;;
    con.Open();
    Console.WriteLine(&#34;Connected to Oracle&#34; + con.ServerVersion);
    
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
    Console.WriteLine(&#34;Disconnected&#34;);
  }
}
 
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="OracleConnectionClass.htm#i1000208">&#34;OracleConnection Properties&#34;</a> for detailed information on connection attributes</p>
</li>
<li>
<p><a href="featOraCommand.htm#i1007222">&#34;OracleCommand Object&#34;</a> for detailed information on statement caching</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="BABDCGGC"></a>
<div id="ODPNT199" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Connection String Builder<a id="sthref188"></a><a id="sthref189"></a></h2>
<p>The <code>OracleConnectionStringBuilder</code> class makes creating connection strings less error-prone and easier to manage.</p>
<p>Using this class, developers can employ a configuration file to provide the connection string and/or dynamically set the values though the key/value pairs. One example of a configuration file entry follows:</p>
<pre>&lt;configuration&gt;
   &lt;connectionStrings&gt; 
&lt;add name=&#34;Publications&#34; providerName=&#34;Oracle.DataAccess.Client&#34; 
           connectionString=&#34;User Id=scott;Password=tiger;Data Source=inst1&#34; /&gt;
   &lt;/connectionStrings&gt; 
&lt;/configuration&gt;
</pre>
<p>Connection string information can be retrieved by specifying the connection string name, in this example, <code>Publications</code>. Then, based on the <code>providerName</code>, the appropriate factory for that provider can be obtained. This makes managing and modifying the connection string easier. In addition, this provides better security against string injection into a connection string.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="OracleConnectionStringBuilderClass.htm#CHDJJHGF">OracleConnectionStringBuilder Class</a></div>
</div>
<!-- class="sect2" -->
<a id="CIHIFGHC"></a>
<div id="ODPNT166" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Specifying the Data Source Attribute<a id="sthref190"></a><a id="sthref191"></a><a id="sthref192"></a></h2>
<p>This section describes different ways of specifying the data source attribute.</p>
<p>The following example shows a connect descriptor mapped to a TNS alias called <code>sales</code> in the <code>tnsnames.ora</code> file:</p>
<pre>sales=
 (DESCRIPTION= 
  (ADDRESS= (PROTOCOL=tcp)(HOST=sales-server)(PORT=1521))
  (CONNECT_DATA= 
     (SERVICE_NAME=sales.us.acme.com)))
</pre>
<p>The connection pool will maintain the full descriptor of an alias so that subsequent connection requests with the same connection string will not need to resolve the alias again. This applies to <code>tnsnames.ora</code>, .NET config data sources, and LDAP aliases. To flush out the cached full descriptor maintained by the connection pool, invoke <code>OracleDataSourceEnumerator.GetDataSources()</code> followed by <code>OracleConnection.ClearPool()</code> or <code>OracleConnection.ClearAllPools()</code>.</p>
<p>If connection pooling is not used, the alias will need to be resolved to the full descriptor for each request. In the case of LDAP, the LDAP server is contacted for each connection request.</p>
<div id="ODPNT167" class="sect3"><a id="sthref193"></a>
<h3 class="sect3">Using the TNS Alias</h3>
<p>To connect as <code>scott/tiger</code> using the TNS Alias, a valid connection appears as follows:</p>
<pre>&#34;user id=scott;password=tiger;data source=sales&#34;;
</pre></div>
<!-- class="sect3" -->
<div id="ODPNT168" class="sect3"><a id="sthref194"></a>
<h3 class="sect3">Using the Connect Descriptor</h3>
<p>ODP.NET also allows applications to connect without the use of the <code>tnsnames.ora</code> file. To do so, the entire connect descriptor can be used as the <code>&#34;data</code> <code>source&#34;</code>.</p>
<p>The connection string appears as follows:</p>
<pre>&#34;user id=scott;password=tiger;data source=&#34; + 
     &#34;(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)&#34; + 
     &#34;(HOST=sales-server)(PORT=1521))(CONNECT_DATA=&#34;+
     &#34;(SERVICE_NAME=sales.us.acme.com)))&#34;
</pre></div>
<!-- class="sect3" -->
<div id="ODPNT169" class="sect3"><a id="sthref195"></a>
<h3 class="sect3">Using Easy Connect Naming Method<a id="sthref196"></a><a id="sthref197"></a></h3>
<p>The easy connect naming method enables clients to connect to a database without any configuration.</p>
<p>Prior to using the easy connect naming method, make sure that <code>EZCONNECT</code> is specified by the <code>NAMES.DIRECTORY_PATH</code> parameter in the <code>sqlnet.ora</code> file as follows:</p>
<pre>NAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT)
</pre>
<p>With this enabled, ODP.NET allows applications to specify the <code>&#34;Data</code> <code>Source&#34;</code> attribute in the form of:</p>
<pre><span class="italic">//host</span>:[<span class="italic">port</span>]/[<span class="italic">service_name]</span>
</pre>
<p>Using the same example, some valid connection strings follow:</p>
<pre>&#34;user id=scott;password=tiger;data source=//sales-server:1521/sales.us.acme.com&#34;
&#34;user id=scott;password=tiger;data source=//sales-server/sales.us.acme.com&#34; 
&#34;user id=scott;password=tiger;data source=sales-server/sales.us.acme.com&#34;
</pre>
<p>If the port number is not specified, 1521 is used by default.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG008" href="../NETAG/naming.htm#NETAG008"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for details and requirements in the section Using Easy Connect Naming Method</div>
</div>
<!-- class="sect3" -->
<div id="ODPNT8268" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref198"></a>
<h3 class="sect3">Using LDAP</h3>
<p>ODP.NET can connect with connect identifiers mapped to connect descriptors in an LDAP-compliant directory server, such as Oracle Internet Directory and Microsoft Active Directory.</p>
<p>To configure LDAP for ODP.NET, Unmanaged Driver, follow these Oracle documentation instructions in Configuring the Directory Naming Method in <a class="olink NETAG265" href="../NETAG/naming.htm#NETAG265"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a>.</p>
<p>To configure LDAP for ODP.NET, Managed Driver, follow the instructions in <a href="InstallConfig.htm#CHDJIDIG">&#34;settings section&#34;</a> and <a href="InstallConfig.htm#CHDJEIAF">&#34;LDAPsettings section.&#34;</a></p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NETAG008" href="../NETAG/naming.htm#NETAG008"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> and <a class="olink DBSEG" href="../DBSEG/toc.htm"><span class="italic">Oracle Database Security Guide</span></a> for details and requirements in the section Using LDAP</div>
</div>
<!-- class="sect3" -->
<a id="BABBAEIC"></a>
<div id="ODPNT200" class="sect3">
<h3 class="sect3">Data Source Enumerator<a id="sthref199"></a><a id="sthref200"></a></h3>
<p>The data source enumerator enables the application to generically obtain a collection of the Oracle data sources that the application can connect to.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="OracleDataSourceEnumeratorClass.htm#CHDEHJCE">&#34;OracleDataSourceEnumerator Class&#34;</a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="ODPNT8269" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref201"></a>
<h2 class="sect2">Using Transport Layer Security and Secure Sockets Layer</h2>
<p>Transport Layer Security (TLS) and its predecessor, Secure Sockets Layer (SSL), are industry standard protocols for securing network connections. Both managed and unmanaged ODP.NET support SSL for database and transport authentication.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Enabling Secure Sockets Layer in <a class="olink DBSEG074" href="../DBSEG/asossl.htm#DBSEG074"><span class="italic">Oracle Database Security Guide</span></a> for more information about TLS/SSL and configuration with Oracle database.</div>
</div>
<!-- class="sect2" -->
<div id="ODPNT8270" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref202"></a>
<h2 class="sect2">Using Kerberos</h2>
<p>Kerberos is a network authentication service for security in distributed environments. ODP.NET applications can use Kerberos for single sign-on and centralized user authentication. ODP.NET, Unmanaged Driver supports Kerberos for single sign-on and authentication. ODP.NET, Managed Driver does not support Kerberos.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Configuring Kerberos Authentication in <a class="olink DBSEG060" href="../DBSEG/asokerb.htm#DBSEG060"><span class="italic">Oracle Database Security Guide</span></a> for more information about Kerberos and configuration with Oracle database.</div>
</div>
<!-- class="sect2" -->
<a id="CJADIFGJ"></a>
<div id="ODPNT205" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Schema Discovery<a id="sthref203"></a><a id="sthref204"></a></h2>
<p>ADO.NET exposes five different types of metadata collections through the <code>OracleConnection.GetSchema</code> API. This permits application developers to customize metadata retrieval on an individual-application basis, for any Oracle data source. Thus, developers can build a generic set of code to manage metadata from multiple data sources.</p>
<p>The following types of metadata are exposed:</p>
<ul>
<li>
<p><code>MetaDataCollections</code></p>
<p>A list of metadata collections that is available from the data source, such as tables, columns, indexes, and stored procedures.</p>
</li>
<li>
<p><code>Restrictions</code></p>
<p>The restrictions that apply to each metadata collection, restricting the scope of the requested schema information.</p>
</li>
<li>
<p><code>DataSourceInformation</code></p>
<p>Information about the instance of the database that is currently being used, such as product name and version.</p>
</li>
<li>
<p><code>DataTypes</code></p>
<p>A set of information about each data type that the database supports.</p>
</li>
<li>
<p><code>ReservedWords</code></p>
<p>Reserved words for the Oracle query language.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="appendix.htm#BEHGIAGE">Appendix A, &#34;Oracle Schema Collections&#34;</a></div>
</li>
</ul>
<div id="ODPNT206" class="sect3"><a id="sthref205"></a>
<h3 class="sect3">User Customization of Metadata</h3>
<p>ODP.NET provides a comprehensive set of database schema information. Developers can extend or customize the metadata that is returned by the <code>GetSchema</code> method on an individual application basis.</p>
<p>To do this, developers must create a customized metadata file and provide the file name to the application as follows:</p>
<ol>
<li>
<p>Create a customized metadata file and put it in the <code>CONFIG</code> subdirectory where the .NET framework is installed. This is the directory that contains <code>machine.config</code> and the security configuration settings.</p>
<p>This file must contain the entire set of schema configuration information, not just the changes. Developers provide changes that modify the behavior of the schema retrieval to user-specific requirements. For instance, a developer can filter out internal database tables and just retrieve user-specific tables</p>
</li>
<li>
<p>Add an entry in the <code>app.config</code> file of the application, similar to the following, to provide the name of the metadata file, in name-value pair format.</p>
<pre>&lt;oracle.dataaccess.client&gt;
  &lt;settings&gt;
    &lt;add name=&#34;MetaDataXml&#34; value=&#34;<span class="italic">CustomMetaData.xml</span>&#34; /&gt;
  &lt;/settings&gt;
&lt;/oracle.dataaccess.client&gt;
</pre></li>
</ol>
<p>When the <code>GetSchema</code> method is called, ODP.NET checks the <code>app.config</code> file for the name of the customized metadata XML file. First, the <code>GetSchema</code> method searches for an entry in the file with a element named after the provider, in this example, <code>oracle.dataaccess.client</code>. In this XML element, the value that corresponds to the name <code>MetaDataXml</code> is the name of the customized XML file, in this example, <code><span class="codeinlineitalic">CustomMetaData.xml</span></code>.</p>
<p>If the metadata file is not in the correct directory, then the application loads the default metadata XML file, which is part of ODP.NET.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="OracleConnectionClass.htm#BABEFDDC">&#34;GetSchema&#34;</a></div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i1006393"></a>
<div id="ODPNT170" class="sect2">
<h2 class="sect2">Connection Pooling<a id="sthref206"></a><a id="sthref207"></a><a id="sthref208"></a><a id="sthref209"></a><a id="sthref210"></a><a id="sthref211"></a> <a id="sthref212"></a><a id="sthref213"></a><a id="sthref214"></a><a id="sthref215"></a><a id="sthref216"></a><a id="sthref217"></a><a id="sthref218"></a><a id="sthref219"></a></h2>
<p>ODP.NET connection pooling is enabled and disabled using the <code>Pooling</code> connection string attribute. By default, connection pooling is enabled. The following are <code>ConnectionString</code> attributes that control the behavior of the connection pooling service:</p>
<ul>
<li>
<p><code>Connection</code> <code>Lifetime</code></p>
</li>
<li>
<p><code>Connection</code> <code>Timeout</code></p>
</li>
<li>
<p><code>Decr</code> <code>Pool</code> <code>Size</code></p>
</li>
<li>
<p><code>HA</code> <code>Events</code></p>
</li>
<li>
<p><code>Incr</code> <code>Pool</code> <code>Size</code></p>
</li>
<li>
<p><code>Load</code> <code>Balancing</code></p>
</li>
<li>
<p><code>Max</code> <code>Pool</code> <code>Size</code></p>
</li>
<li>
<p><code>Min</code> <code>Pool</code> <code>Size</code></p>
</li>
<li>
<p><code>Pooling</code></p>
</li>
<li>
<p><code>Validate</code> <code>Connection</code></p>
</li>
</ul>
<p class="subhead2"><a id="ODPNT171"></a>Connection Pooling Example<a id="sthref220"></a><a id="sthref221"></a></p>
<p>The following example opens a connection using <code>ConnectionString</code> attributes related to connection pooling.</p>
<pre>// C#
 
using System;
using Oracle.DataAccess.Client; 
 
 
class ConnectionPoolingSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    //Open a connection using ConnectionString attributes
    //related to connection pooling.
    con.ConnectionString = 
      &#34;User Id=scott;Password=tiger;Data Source=oracle;&#34; + 
      &#34;Min Pool Size=10;Connection Lifetime=100000;Connection Timeout=60;&#34; + 
      &#34;Incr Pool Size=5; Decr Pool Size=2&#34;;
    con.Open();
    Console.WriteLine(&#34;Connection pool successfully created&#34;);
 
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
    Console.WriteLine(&#34;Connection is placed back into the pool.&#34;);
  }
}
</pre>
<div id="ODPNT172" class="sect3"><a id="sthref222"></a>
<h3 class="sect3">Using Connection Pooling<a id="sthref223"></a><a id="sthref224"></a><a id="sthref225"></a><a id="sthref226"></a><a id="sthref227"></a><a id="sthref228"></a><a id="sthref229"></a><a id="sthref230"></a><a id="sthref231"></a></h3>
<p>When connection pooling is enabled (the default), the <code>Open</code> and <code>Close</code> methods of the <code>OracleConnection</code> object implicitly use the connection pooling service, which is responsible for pooling and returning connections to the application.</p>
<p>The connection pooling service creates connection pools by using the <code>ConnectionString</code> property as a signature, to uniquely identify a pool.</p>
<p>When a new connection is opened, if the connection string is not an exact match to an existing pool, then a new pool is created. Prior to ODP.NET 12.1.0.2, only connection string attribute values had to match. Now, connection strings themselves must be an exact match. Keywords supplied in a different order for the same connection will be pooled separately. If a pool already exists with the requested signature, a connection is returned to the application from that pool.</p>
<p>When a connection pool is created, the connection pooling service initially creates the number of connections defined by the <code>Min</code> <code>Pool</code> <code>Size</code> attribute of the <code>ConnectionString</code> property. This number of connections is always maintained by the connection pooling service for the connection pool.</p>
<p>At any given time, these connections are in use by the application or are available in the pool.</p>
<p>The <code>Incr</code> <code>Pool</code> <code>Size</code> attribute of the <code>ConnectionString</code> property defines the number of new connections to be created by the connection pooling service when more connections are needed in the connection pool.</p>
<p>When the application closes a connection, the connection pooling service determines whether or not the connection lifetime has exceeded the value of the <code>Connection</code> <code>Lifetime</code> attribute. If so, the connection pooling service closes the connection; otherwise, the connection goes back to the connection pool. The connection pooling service enforces the <code>Connection</code> <code>Lifetime</code> only when a connection is going back to the connection pool.</p>
<p>The <code>Max</code> <code>Pool</code> <code>Size</code> attribute of the <code>ConnectionString</code> property sets the maximum number of connections for a connection pool. If a new connection is requested, but no connections are available and the limit for <code>Max</code> <code>Pool</code> <code>Size</code> has been reached, then the connection pooling service waits for the time defined by the <code>Connection</code> <code>Timeout</code> attribute. If the <code>Connection</code> <code>Timeout</code> time has been reached, and there are still no connections available in the pool, the connection pooling service raises an exception indicating that the connection pool request has timed-out. Upon a connection timeout, ODP.NET distinguishes whether the timeout occurred due to the database server failing to deliver a connection in the allotted time or no connection being available in the pool due to the maximum pool size having been reached. The exception text returned will either be &#34;Connection request timed out&#34; in the case of the former or &#34;Pooled connection request timed out&#34; in the case of the latter.</p>
<p>The <code>Validate</code> <code>Connection</code> attribute validates connections coming out of the pool. This attribute should be used only when absolutely necessary, because it causes a round-trip to the database to validate each connection immediately before it is provided to the application. If invalid connections are uncommon, developers can create their own event handler to retrieve and validate a new connection, rather than using the <code>Validate</code> <code>Connection</code> attribute. This generally provides better performance.</p>
<p>The connection pooling service closes connections when they are not used; connections are closed every 3 minutes. The <code>Decr</code> <code>Pool</code> <code>Size</code> attribute of the <code>ConnectionString</code> property provides connection pooling service for the maximum number of connections that can be closed every 3 minutes.</p>
<p>Beginning with Oracle Data Provider for .NET release 11.1.0.6.20, enabling connection pooling by setting <code>&#34;pooling=true&#34;</code> in the connection string (which is the case by default) will also pool operating system authenticated connections.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CJAGDAGG"></a>
<div id="ODPNT173" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Connection Pool Management<a id="sthref232"></a><a id="sthref233"></a><a id="sthref234"></a></h2>
<p>ODP.NET connection pool management provides explicit connection pool control to ODP.NET applications. Applications can explicitly clear connections in a connection pool.</p>
<p>Using connection pool management, applications can do the following:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
These APIs are not supported in a .NET stored procedure.</div>
<ul>
<li>
<p>Clear connections from connection pools using the <code>ClearPool</code> method.</p>
</li>
<li>
<p>Clear connections in all the connection pools in an application domain, using the <code>ClearAllPools</code> method.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="OracleConnectionClass.htm#CHDFJBAF">&#34;ClearPool&#34;</a></p>
</li>
<li>
<p><a href="OracleConnectionClass.htm#CHDIJFDJ">&#34;ClearAllPools&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CJADIIFD"></a>
<div id="ODPNT174" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2"><a id="sthref235"></a><a id="sthref236"></a><a id="sthref237"></a>Connection Pool Performance Counters</h2>
<p>Installing Oracle Data Provider for .NET creates a set of performance counters on the target system. These performance counters are published by ODP.NET for each ODP.NET client application. These performance counters can be viewed using Windows Performance Monitor (Perfmon).</p>
<p>In Perfmon, administrators can add ODP.NET counters to the performance monitor graph. ODP.NET performance counters are published under the following Category Name: Oracle Data Provider for .NET. Administrators can choose the ODP.NET counters to monitor after selecting the Oracle Data Provider for .NET category.</p>
<p>As ODP.NET performance counters are not enabled by default, administrators must enable the specific counters of interest before attempting to monitor them. In addition, at least one ODP.NET instance must be actively running when attempting to monitor using Perfmon.</p>
<p>Oracle Data Provider for .NET enables or disables publishing performance counters for connection pooling, using registry entries.</p>
<p><a href="#CJAIBJCA">Table 3-3</a> lists the performance counters used for connection pooling with their valid registry values.</p>
<div id="ODPNT175" class="tblformal">
<p class="titleintable"><a id="sthref238"></a><a id="CJAIBJCA"></a>Table 3-3 Performance Counters for Connection Pooling</p>
<table class="cellalignment4231" title="Performance Counters for Connection Pooling" summary="Rows are performance counters, first column names, second column descriptions." dir="ltr">
<thead>
<tr class="cellalignment4220">
<th class="cellalignment4230" id="r1c1-t17">Performance Counter</th>
<th class="cellalignment4230" id="r1c2-t17">Valid Values</th>
<th class="cellalignment4230" id="r1c3-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r2c1-t17" headers="r1c1-t17">
<p>None</p>
</td>
<td class="cellalignment4226" headers="r2c1-t17 r1c2-t17">
<p><code>0</code></p>
</td>
<td class="cellalignment4226" headers="r2c1-t17 r1c3-t17">
<p>Not enabled (Default)</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r3c1-t17" headers="r1c1-t17">
<p><code>HardConnectsPerSecond</code></p>
</td>
<td class="cellalignment4226" headers="r3c1-t17 r1c2-t17">
<p><code>1</code></p>
</td>
<td class="cellalignment4226" headers="r3c1-t17 r1c3-t17">
<p>Number of sessions being established with the Oracle Database every second.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r4c1-t17" headers="r1c1-t17">
<p><code>HardDisconnectsPerSecond</code></p>
</td>
<td class="cellalignment4226" headers="r4c1-t17 r1c2-t17">
<p><code>2</code></p>
</td>
<td class="cellalignment4226" headers="r4c1-t17 r1c3-t17">
<p>Number of sessions being severed from the Oracle Database every second.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r5c1-t17" headers="r1c1-t17">
<p><code>SoftConnectsPerSecond</code></p>
</td>
<td class="cellalignment4226" headers="r5c1-t17 r1c2-t17">
<p><code>4</code></p>
</td>
<td class="cellalignment4226" headers="r5c1-t17 r1c3-t17">
<p>Number of active connections originating from connection pools every second.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r6c1-t17" headers="r1c1-t17">
<p><code>SoftDisconnectsPerSecond</code></p>
</td>
<td class="cellalignment4226" headers="r6c1-t17 r1c2-t17">
<p><code>8</code></p>
</td>
<td class="cellalignment4226" headers="r6c1-t17 r1c3-t17">
<p>Number of active connections going back to the connection pool every second.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r7c1-t17" headers="r1c1-t17">
<p><code>NumberOfActiveConnectionPools</code></p>
</td>
<td class="cellalignment4226" headers="r7c1-t17 r1c2-t17">
<p><code>16</code></p>
</td>
<td class="cellalignment4226" headers="r7c1-t17 r1c3-t17">
<p>Total number of active connection pools.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r8c1-t17" headers="r1c1-t17">
<p><code>NumberOfInactiveConnectionPools</code></p>
</td>
<td class="cellalignment4226" headers="r8c1-t17 r1c2-t17">
<p><code>32</code></p>
</td>
<td class="cellalignment4226" headers="r8c1-t17 r1c3-t17">
<p>Number of inactive connection pools.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r9c1-t17" headers="r1c1-t17">
<p><code>NumberOfActiveConnections</code></p>
</td>
<td class="cellalignment4226" headers="r9c1-t17 r1c2-t17">
<p><code>64</code></p>
</td>
<td class="cellalignment4226" headers="r9c1-t17 r1c3-t17">
<p>Total number of connections in use.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r10c1-t17" headers="r1c1-t17">
<p><code>NumberOfFreeConnections</code></p>
</td>
<td class="cellalignment4226" headers="r10c1-t17 r1c2-t17">
<p><code>128</code></p>
</td>
<td class="cellalignment4226" headers="r10c1-t17 r1c3-t17">
<p>Total number of connections available for use in all the connection pools.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r11c1-t17" headers="r1c1-t17">
<p><code>NumberOfPooledConnections</code></p>
</td>
<td class="cellalignment4226" headers="r11c1-t17 r1c2-t17">
<p><code>256</code></p>
</td>
<td class="cellalignment4226" headers="r11c1-t17 r1c3-t17">
<p>Number of pooled active connections.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r12c1-t17" headers="r1c1-t17">
<p><code>NumberOfNonPooledConnections</code></p>
</td>
<td class="cellalignment4226" headers="r12c1-t17 r1c2-t17">
<p><code>512</code></p>
</td>
<td class="cellalignment4226" headers="r12c1-t17 r1c3-t17">
<p>Number of non-pooled active connections.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r13c1-t17" headers="r1c1-t17">
<p><code>NumberOfReclaimedConnections</code></p>
</td>
<td class="cellalignment4226" headers="r13c1-t17 r1c2-t17">
<p><code>1024</code></p>
</td>
<td class="cellalignment4226" headers="r13c1-t17 r1c3-t17">
<p>Number of connections which were garbage-collected implicitly.</p>
</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r14c1-t17" headers="r1c1-t17">
<p><code>NumberOfStasisConnections</code></p>
</td>
<td class="cellalignment4226" headers="r14c1-t17 r1c2-t17">
<p><code>2048</code></p>
</td>
<td class="cellalignment4226" headers="r14c1-t17 r1c3-t17">
<p>Number of connections that will be soon available in the pool. User has closed these connections, but they are currently awaiting actions such transaction completion before they can be placed back into the pool as free connections.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="ODPNT176" class="sect3"><a id="sthref239"></a>
<h3 class="sect3">Publishing Performance Counters</h3>
<p>Publication of individual performance counters is enabled or disabled using the registry value <code>PerformanceCounters</code> of type <code>REG_SZ</code> or a .NET configuration file. This registry value is under:</p>
<p><code>HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\ODP.NET\</code><code><span class="codeinlineitalic">Assembly_Version</span></code></p>
<p>where <code><span class="codeinlineitalic">Assembly_Version</span></code> is the full assembly version number of <code>Oracle.DataAccess.dll</code>.</p>
<p>Multiple performance counters can be obtained by adding the valid values. For example, if <code>PerformanceCounters</code> is set to 3, both <code>HardConnectsPerSecond</code> and <code>HardDisconnectsPerSecond</code> are enabled.</p>
</div>
<!-- class="sect3" -->
<div id="ODPNT177" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref240"></a>
<h3 class="sect3">Setting Performance Counters Using .NET Configuration Entry<a id="sthref241"></a><a id="sthref242"></a></h3>
<p>Performance counters can be set using an .NET configuration entry. Since .NET configuration entries take precedence over the registry value setting, they can be used for a specific application.</p>
<p>An .NET configuration entry uses name/value pairs as in the following example:</p>
<pre>&lt;configuration&gt;
  &lt;oracle.dataaccess.client&gt;
  &lt;settings&gt;
    &lt;add name=&#34;PerformanceCounters&#34;
         value=&#34;3&#34;/&gt;
  &lt;/settings&gt;
  &lt;/oracle.dataaccess.client&gt;
&lt;/configuration&gt;
</pre></div>
<!-- class="sect3" -->
<div id="ODPNT178" class="sect3"><a id="sthref243"></a>
<h3 class="sect3">Instance Names of Performance Counters<a id="sthref244"></a><a id="sthref245"></a></h3>
<p>Performance counters can now monitor at the application domain, pool, or database instance level. Database instance level monitoring only applies if load balancing or Fast Connection Failover features are enabled.</p>
<p>The instance name format is as follows:</p>
<p><code>&lt;Application Domain Name&gt; [&lt;Process Id&gt;, &lt;Application Domain Id&gt;][&lt;Connection String/Pool Name&gt;][&lt;Instance Name&gt;]</code>. The entry is limited to 127 characters. There is a restriction length on every field in the instance name. The following table shows the maximum number of characters allocated for each field:</p>
<div class="inftblinformal">
<table class="cellalignment4229" summary="informal table" dir="ltr">
<thead>
<tr class="cellalignment4220">
<th class="cellalignment4230" id="r1c1-t18">Field Name</th>
<th class="cellalignment4230" id="r1c2-t18">Maximum Number of Characters</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r2c1-t18" headers="r1c1-t18">Application Domain</td>
<td class="cellalignment4226" headers="r2c1-t18 r1c2-t18">40</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r3c1-t18" headers="r1c1-t18">Pool Name/Connection String</td>
<td class="cellalignment4226" headers="r3c1-t18 r1c2-t18">70</td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r4c1-t18" headers="r1c1-t18">Database Instance Name</td>
<td class="cellalignment4226" headers="r4c1-t18 r1c2-t18">16</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>When the length of a field value exceeds the length limit, the string is truncated and appended with &#34;<code>...</code>&#34; to fit within the length limit and indicate the continuation. For example, for a given application called <code>Program.exe</code> with a connection string <code>user id=scott;Password=tiger;data source=inst1;max pool size=125</code>, one may see the following similar to the following for a process that has two application domains:</p>
<ul>
<li>
<p><code>Program.exe [123, 1]</code></p>
</li>
<li>
<p><code>Program.exe [123, 1][ user id=scott;data source=inst1;max pool siz...]</code></p>
</li>
<li>
<p><code>Program.exe [123, 1][ user id=scott;data source=inst1;max pool siz...] [instA]</code></p>
</li>
<li>
<p><code>Domain 2[123, 2]</code></p>
</li>
<li>
<p><code>Domain 2[123, 2][ user id=scott;data source=inst1;max pool siz...]</code></p>
</li>
<li>
<p><code>Domain 2[123, 2][ user id=scott;data source=inst1;max pool siz...] [instB]</code></p>
</li>
<li>
<p><code>Domain 2[123, 2][ user id=scott;data source=inst1;max pool siz...] [instC]</code></p>
</li>
</ul>
<p>Since connection pool attributes can be similar in their first 70 characters, applications can set a Pool Name to uniquely identify each one in the monitoring tool. The .NET config file can set the Pool Name attribute:</p>
<p class="subhead2"><a id="ODPNT8271"></a>ODP.NET, Unmanaged Driver</p>
<pre>&lt;configuration&gt;
 &lt;oracle.dataaccess.client&gt;
  &lt;settings&gt;
           .
           .
      &lt;add name=&#34;[<span class="italic">connection string without password</span>]&#34; value=&#34;connectionPool   name=&#39;[<span class="italic">Pool Name</span>]&#39;&#34;/&gt;   
          .
          .
    &lt;/settings&gt;
  &lt;/oracle.dataaccess.client&gt;
&lt;/configuration&gt;
</pre>
<p class="subhead2"><a id="ODPNT8272"></a>ODP.NET, Managed Driver</p>
<pre>&lt;oracle.manageddataaccess.client&gt;
 &lt;version number=&#34;*&#34;&gt;
  &lt;connectionPools&gt;
           .
           .
     &lt;connectionPool connectionString=&#34;[<span class="italic">connection string without password</span>]&#34; &#34; poolName=&#34;[<span class="italic">Pool Name</span>]&#34;&gt;   &lt;/connectionPool&gt;
           .
           .
  &lt;/connectionPools&gt;
 &lt;/version&gt;
&lt;/oracle.manageddataaccess.client&gt;
</pre>
<p>The behavior of two of the performance counters has now changed in the 12c release:</p>
<ul>
<li>
<p><code>NumberOfPooledConnections</code> -- Sum of the active connections and free connections. Previously, this value was equal to just the number of active connections.</p>
</li>
<li>
<p><code>NumberOfStasisConnections</code> -- No longer supported.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BABEIDIH"></a>
<div id="ODPNT8175" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Pluggable Databases</h2>
<p>Oracle Database 12<span class="italic">c</span> introduced a new feature, Pluggable Databases, which enable an Oracle database to contain a portable collection of schemas, schema objects, and nonschema objects that appears to ODP.NET as a separate database. This self-contained collection is called a pluggable database (PDB).</p>
<p>ODP.NET 12<span class="italic">c</span> and higher can connect to PDBs, which clients access through database services. Database services have an optional PDB property. When a PDB is created, a new default database service is created automatically. The service has the same name as the PDB and can be used to access the PDB using the easy connect syntax or the net service name. This service is intended primarily for performing administrative tasks. It is recommended that you create additional services for use in your applications.</p>
<p>All ODP.NET features can be used with PDBs with the following exceptions:</p>
<ul>
<li>
<p>Continuous Query Notification</p>
</li>
<li>
<p>Client Result Cache</p>
</li>
<li>
<p>Fast Application Notification events using Oracle Notification Service</p>
</li>
<li>
<p>Switching from one PDB to another PDB using the <code>ALTER SESSION SET CONTAINER</code> statement</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
Managing Pluggable Databases in <a class="olink ADMIN13506" href="../ADMIN/part_cdb.htm#ADMIN13506"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a></div>
</div>
<!-- class="sect2" -->
<a id="CJADAEIJ"></a>
<div id="ODPNT179" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Edition-Based Redefinition</h2>
<p>Edition-based redefinition enables you to upgrade the database component of an application even while the application is being used. This minimizes or eliminates downtime for the application.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
For more information on Editions refer to the <a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> and <a class="olink ADFNS" href="../ADFNS/toc.htm"><span class="italic">Oracle Database Development Guide</span></a></div>
<p>ODP.NET 11g Release 2 (11.2.0.1), and higher, supports specifying an Edition at deployment time when used with Oracle Database 11.2 or later. Applications can specify an Edition at deployment time using the registry or configuration file.</p>
<p>An application can create the following registry entry of type <code>REG_SZ</code>:</p>
<pre>HKLM\Software\Oracle\ODP.NET\<span class="italic">version</span>\<span class="italic">Edition</span>
</pre>
<p>Here <code><span class="codeinlineitalic">version</span></code> is the version of ODP.NET, and <code><span class="codeinlineitalic">Edition</span></code> is a valid Edition string value.</p>
<p>An application can alternatively use the <code>web.config</code> or <code>application.config</code> configuration file to specify the Edition at deployment time. The <code>machine.config</code> configuration file can be used to specify the Edition for all applications that use a particular version of the .NET framework.</p>
<p>The following example sets the Edition to E1 in a .NET configuration file for ODP.NET, Unmanaged Driver:</p>
<pre>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt;
&lt;configuration&gt;
 &lt;oracle.dataaccess.client&gt;
  &lt;settings&gt;
   &lt;add name=&#34;Edition&#34; value=&#34;E1&#34;/&gt;
  &lt;/settings&gt;
 &lt;/oracle.dataaccess.client&gt;
&lt;/configuration&gt;
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>ODP.NET only supports deployment-time configuration of Edition.</p>
</li>
<li>
<p>ODP.NET does not support usage of the &#34;<code>ALTER SESSION</code>&#34; statement to modify the Edition during the lifetime of a process.</p>
</li>
<li>
<p>ODP.NET, Managed Driver does not support Edition-Based Redefinition.</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1006432"></a>
<div id="ODPNT185" class="sect2">
<h2 class="sect2">Operating System Authentication<a id="sthref246"></a></h2>
<p>Oracle Database can use Windows user login credentials to authenticate database users. To open a connection using Windows user login credentials, the <code>User</code> <code>Id</code> connection string attribute must be set to a slash (<code>/)</code>. If the <code>Password</code> attribute is provided, it is ignored.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Operating System Authentication is not supported in a .NET stored procedure.</div>
<p>Beginning with Oracle Data Provider for .NET release 11.1.0.6.20, all connections, including those using operating system authentication, can be pooled. Connections are pooled by default, and no configuration is required, as long as pooling is enabled.</p>
<p>The following example shows the use of operating system authentication:</p>
<pre>/* Create an OS-authenticated user in the database
   Assume init.ora has OS_AUTHENT_PREFIX set to &#34;&#34; and &lt;OS_USER&gt;
   is any valid OS or DOMAIN user.
 
     create user &lt;OS_USER&gt; identified externally;
     grant connect, resource to &lt;OS_USER&gt;;
 
   Login through OS Authentication and execute the sample.  See Oracle 
   documentation for details on how to configure an OS-Authenticated user
*/
 
// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class OSAuthenticationSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    //Establish connection using OS Authentication   
    con.ConnectionString = &#34;User Id=/;Data Source=oracle;&#34;;
    con.Open();
    Console.WriteLine(&#34;Connected to Oracle&#34; + con.ServerVersion);
 
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
    Console.WriteLine(&#34;Disconnected&#34;);
  }
}
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NTQRF" href="../NTQRF/toc.htm"><span class="italic">Oracle Database Platform Guide for Microsoft Windows</span></a> for information on how to set up Oracle Database to authenticate database users using Windows user login credentials</div>
</div>
<!-- class="sect2" -->
<a id="i1006454"></a>
<div id="ODPNT186" class="sect2">
<h2 class="sect2">Privileged Connections<a id="sthref247"></a><a id="sthref248"></a><a id="sthref249"></a></h2>
<p>Oracle allows database administrators to connect to Oracle Database with either <code>SYSDBA</code> or <code>SYSOPER</code> privileges. This is done through the <code>DBA</code> <code>Privilege</code> attribute of the <code>ConnectionString</code> property.</p>
<p>The following example connects <code>scott</code>/<code>tiger</code> as <code>SYSDBA</code>:</p>
<pre>// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class PrivilegedConnectionSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    //Connect scott/tiger as SYSDBA   
    con.ConnectionString = &#34;User Id=scott;Password=tiger;&#34; + 
      &#34;DBA Privilege=SYSDBA;Data Source=oracle;&#34;;
    con.Open();
    Console.WriteLine(&#34;Connected to Oracle&#34; + con.ServerVersion);
 
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
    Console.WriteLine(&#34;Disconnected&#34;);
  }
}
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
DBA Privilege <a href="OracleConnectionClass.htm#BABBAGJJ">&#34;Supported Connection String Attributes&#34;</a> for further information on privileged connections in the database</div>
</div>
<!-- class="sect2" -->
<a id="i1006478"></a>
<div id="ODPNT187" class="sect2">
<h2 class="sect2">Password Expiration<a id="sthref250"></a></h2>
<p>Oracle allows users passwords to expire. ODP.NET lets applications handle the password expiration by providing a new method, <code>OpenWithNewPassword</code>, that opens the connection with a new password.</p>
<p>The following example uses the <code>OracleConnection</code> <code>OpenWithNewPassword</code> method to connect with a new password of <code>panther</code>:</p>
<pre>/* Database Setup
connect / as sysdba;
drop user testexpire cascade;
-- create user &#34;testexpire&#34; with password &#34;testexpire&#34;
grant connect , resource to testexpire identified by testexpire; 
alter user testexpire password expire;
*/
 
 
// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class PasswordExpirationSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    try
    {
      con.ConnectionString = 
        &#34;User Id=testexpire;Password=testexpire;Data Source=oracle&#34;;
      con.Open();
      Console.WriteLine(&#34;Connected to Oracle&#34; + con.ServerVersion);
    }
    catch (OracleException ex)
    {
      Console.WriteLine(ex.Message);
 
      //check the error number 
      //ORA-28001 : the password has expired
      if (ex.Number == 28001)
      {
        Console.WriteLine(&#34;\nChanging password to panther&#34;);
        con.OpenWithNewPassword(&#34;panther&#34;);
        Console.WriteLine(&#34;Connected with new password.&#34;);
      }
    }
    finally
    {
      // Close and Dispose OracleConnection object
      con.Close();
      con.Dispose();
      Console.WriteLine(&#34;Disconnected&#34;);
    }
  }
}
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>The <code>OpenWithNewPassword</code> method should be used only when the user password has expired, not for changing the password.</p>
</li>
<li>
<p>If connection pooling is enabled, then invoking the <code>OpenWithNewPassword</code> method also clears the connection pool. This closes all idle connections created with the old password.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="OracleConnectionClass.htm#i1001202">&#34;OpenWithNewPassword&#34;</a></div>
</div>
<!-- class="sect2" -->
<a id="i1006514"></a>
<div id="ODPNT188" class="sect2">
<h2 class="sect2">Proxy Authentication<a id="sthref251"></a><a id="sthref252"></a><a id="sthref253"></a></h2>
<p>With proper setup in the database, proxy authentication enables middle-tier applications to control the security by preserving database user identities and privileges, and auditing actions taken on behalf of these users. This is accomplished by creating and using a proxy database user that connects and authenticates against the database on behalf of a database user (that is, the <span class="italic">real</span> user) or database users.</p>
<p>Proxy authentication can then be used to provide better scalability with connection pooling. When connection pooling is used in conjunction with proxy authentication, the proxy authenticated connections can be shared among different real users. This is because only the connection and session established for the proxy is cached. An additional session is created for the real user when a proxy authenticated connection is requested, but it will be destroyed appropriately when the proxy authenticated connection is placed back into the pool. This design enables the application to scale well without sacrificing security.</p>
<p>ODP.NET applications can use proxy authentication by setting the <code>&#34;Proxy</code> <code>User</code> <code>Id&#34;</code> and <code>&#34;Proxy</code> <code>Password&#34;</code> attributes in the connection string. The real user is specified by the <code>&#34;User</code> <code>Id&#34;</code> attribute. Optionally, to enforce greater security, the real user&#39;s password can be provided through the <code>&#34;Password&#34;</code> connection string attribute. When using distributed transactions in conjunction with proxy authentication, the real user&#39;s password is no longer optional, and it must be supplied.</p>
<p>The following example illustrates the use of ODP.NET proxy authentication:</p>
<pre>/*  Log on as DBA (SYS or SYSTEM) that has CREATE USER privilege.
    Create a proxy user and modified scott to allow proxy connection.
  
     create user appserver identified by eagle;
     grant connect, resource to appserver;
     alter user scott grant connect through appserver;
*/
 
// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class ProxyAuthenticationSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    // Connecting using proxy authentication
    con.ConnectionString = &#34;User Id=scott;Password=tiger;&#34; + 
      &#34;Data Source=oracle;Proxy User Id=appserver;Proxy Password=eagle; &#34;;
    con.Open();
    Console.WriteLine(&#34;Connected to Oracle&#34; + con.ServerVersion);
 
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
    Console.WriteLine(&#34;Disconnected&#34;);
  }
}
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink ADFNS" href="../ADFNS/toc.htm"><span class="italic">Oracle Database Development Guide</span></a> for details on designing a middle-tier server using proxy users</p>
</li>
<li>
<p><a class="olink SQLRF01103" href="../SQLRF/statements_4003.htm#SQLRF01103"><span class="italic">Oracle Database SQL Language Reference</span></a> for the description and syntax of the proxy clause for the <code>ALTER</code> <code>USER</code> statement</p>
</li>
<li>
<p><a class="olink ADMIN" href="../ADMIN/toc.htm"><span class="italic">Oracle Database Security Guide</span></a> section &#34;Standard Auditing in a Multitier Environment&#34;</p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CJAJFJHF"></a>
<div id="ODPNT189" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Dynamic Distributed Transaction Enlistment<a id="sthref254"></a><a id="sthref255"></a></h2>
<p>For those applications that dynamically enlist in distributed transactions through the <code>EnlistDistributedTransaction</code> of the <code>OracleConnection</code> object, the <code>&#34;enlist&#34;</code> connection string attribute must be set to a value of either <code>&#34;dynamic&#34;</code> or <code>&#34;true&#34;</code>. If <code>&#34;enlist=true&#34;</code>, the connection enlists in a transaction when the <code>Open</code> method is called on the <code>OracleConnection</code> object, if it is within the context of a COM+ transaction or a <code>System.Transactions</code>. If not, the <code>OracleConnection</code> object does not enlist in a distributed transaction, but it can later enlist explicitly using the <code>EnlistDistributedTransaction</code> or the <code>EnlistTransaction</code> method. If <code>&#34;enlist=false&#34;</code>, the connection cannot enlist in the transaction.</p>
<p>For applications that cannot be rebuilt using <code>&#34;Enlist=dynamic&#34;</code>, a registry string value, named <code>DynamicEnlistment</code>, of type <code>REG_SZ</code>, should be created and set to <code>1</code> under <code>HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE\ODP.NET\</code><code><span class="codeinlineitalic">Assembly</span></code><code><span class="codeinlineitalic">_Version</span></code> where <code><span class="codeinlineitalic">Assembly_Version</span></code> is the full assembly version number of <code>Oracle.DataAccess.dll</code>.If ODP.NET is properly installed, there should already be registry string values such as <code>StatementCacheSize</code>, <code>TraceFileName</code>, and so forth, under the same ODP.NET key. Dynamic Enlistment can also be configured through an XML configuration file. For details, see <a href="InstallConfig.htm#BABJBBDF">&#34;Configuring Oracle Data Provider for .NET&#34;</a>.If the <code>DynamicEnlistment</code> registry key is set to <code>0</code> (or if the registry entry does not exist), it does not affect the application in any way. However, if <code>DynamicEnlistment</code> is set to <code>1</code>, <code>&#34;Enlist=false&#34;</code> is treated the same as <code>&#34;Enlist=dynamic&#34;</code>, enabling applications to enlist successfully through the <code>EnlistDistributedTransaction</code> method without any code change. Having <code>DynamicEnlistment</code> set to <code>1</code> does not affect <code>OracleConnection</code> objects that have <code>&#34;Enlist=true&#34;</code> or <code>&#34;Enlist=dynamic&#34;</code> in the connection string.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="#i1006259">&#34;Connection String Attributes&#34;</a></p>
</li>
<li>
<p><a href="OracleConnectionClass.htm#DAFJHFFC">&#34;EnlistDistributedTransaction&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="CIHIFBJI"></a>
<div id="ODPNT190" class="sect2"><!-- infolevel="all" infotype="General" -->
<h2 class="sect2">Client Identifier<a id="sthref256"></a><a id="sthref257"></a><a id="sthref258"></a><a id="sthref259"></a><a id="sthref260"></a><a id="sthref261"></a><a id="sthref262"></a><a id="sthref263"></a> and End-to-End Tracing</h2>
<p>The client identifier is a predefined attribute from the Oracle application context namespace <code>USERENV</code>. It is similar to proxy authentication because it can enable tracking of user identities. However, client identifier does not require the creation of two sessions (one for the proxy user and another for the end user) as proxy authentication does. In addition, the client identifier does not have to be a database user. It can be set to any string. But most importantly, by using client identifier, ODP.NET developers can use application context and Oracle Label Security, and configure Oracle Virtual Private Database (VPD) more easily. To set the client identifier, ODP.NET applications can set the <code>ClientId</code> property on the <code>OracleConnection</code> object after opening a connection. If connection pooling is enabled, the <code>ClientId</code> is reset to <code>null</code> whenever a connection is placed back into the pool.</p>
<p>The client identifier can also be used for end-to-end application tracing. End-to-end tracing simplifies the process of diagnosing performance problems in multitier environments. In multitier environments, a request from an end client is routed to different database sessions by the middle tier making it difficult to track a client across different database sessions. End-to-end tracing uses the client identifier to uniquely trace a specific end-client through all tiers to the database server.</p>
<p>ODP.NET exposes the <code>ActionName, ClientId,</code> <code>ClientInfo,</code> and <code>ModuleName</code> write-only properties on the <code>OracleConnection</code> object. These properties correspond to the following end-to-end tracing attributes:</p>
<ul>
<li>
<p><code>Action</code> - Specifies an action, such as an <code>INSERT</code> or <code>UPDATE</code> operation, in a module</p>
</li>
<li>
<p><code>ClientId</code> - Specifies an end user based on the logon ID, such as <code>HR.HR</code></p>
</li>
<li>
<p><code>Client info</code> - Specifies user session information</p>
</li>
<li>
<p><code>Module</code> - Specifies a functional block, such as Accounts Receivable or General Ledger, of an application</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a href="OracleConnectionClass.htm#i1000208">&#34;OracleConnection Properties&#34;</a></p>
</li>
<li>
<p><a class="olink TGDBA" href="../TGDBA/toc.htm">&#34;End-to-End Application Tracing&#34;</a> in the <span class="italic">Oracle Database Performance Tuning Guide</span></p>
</li>
<li>
<p><a class="olink DBSEG70748" href="../DBSEG/app_context.htm#DBSEG70748"><span class="italic">Oracle Database Security Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect2" -->
<a id="i1006554"></a>
<div id="ODPNT191" class="sect2">
<h2 class="sect2">Transparent Application Failover (TAF) Callback Support<a id="sthref264"></a><a id="sthref265"></a><a id="sthref266"></a><a id="sthref267"></a><a id="sthref268"></a><a id="sthref269"></a></h2>
<p><a href="glossary.htm#i433023"><span class="xrefglossterm">Transparent Application Failover (TAF)</span></a> is a feature in Oracle Database that provides high availability.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
ODP.NET, Managed Driver does not support TAF nor TAF callbacks.</div>
<p>TAF enables an application connection to automatically reconnect to another database instance if the connection gets severed. Active transactions roll back, but the new database connection, made by way of a different node, is identical to the original. This is true regardless of how the connection fails.</p>
<p>With TAF, a client notices no loss of connection as long as there is one instance left serving the application. The database administrator controls which applications run on which instances, and also creates a failover order for each application.</p>
<p>When a session fails over to another database, the NLS settings that were initially set on the original session are not carried over to the new session. Therefore, it is the responsibility of the application to set these NLS settings on the new session.</p>
<div id="ODPNT192" class="sect3"><a id="sthref270"></a>
<h3 class="sect3">TAF Notification</h3>
<p>Given the delays that failovers can cause, applications may wish to be notified by a TAF callback. ODP.NET supports the TAF callback function through the <code>Failover</code> event of the <code>OracleConnection</code> object, which allows applications to be notified whenever a failover occurs. To receive TAF callbacks, an event handler function must be registered with the <code>Failover</code> event.</p>
</div>
<!-- class="sect3" -->
<div id="ODPNT193" class="sect3"><a id="sthref271"></a>
<h3 class="sect3">When Failover Occurs</h3>
<p>When a failover occurs, the <code>Failover</code> event is raised and the registered event handler is invoked several times during the course of reestablishing the connection to another Oracle instance.</p>
<p>The first call to the event handler occurs when Oracle Database First detects an instance connection loss. This allows the application to act accordingly for the upcoming delay for the failover.</p>
<p>If the failover is successful, the <code>Failover</code> event is raised again when the connection is reestablished and usable. At this time, the application can resynchronize the <code>OracleGlobalization</code> session setting and inform the application user that a failover has occurred.</p>
<p>If failover is unsuccessful, the <code>Failover</code> event is raised to inform the application that a failover did not take place.</p>
<p>The application can determine whether or not the failover is successful by checking the <code>OracleFailoverEventArgs</code> object that is passed to the event handler.</p>
</div>
<!-- class="sect3" -->
<div id="ODPNT194" class="sect3"><a id="sthref272"></a>
<h3 class="sect3">Registering an Event Handler for Failover</h3>
<p>The following example registers an event handler method called <code>OnFailover</code>:</p>
<pre>// C#
 
using System;
using Oracle.DataAccess.Client; 
 
class TAFCallBackSample
{
  public static FailoverReturnCode OnFailover(object sender, 
                                              OracleFailoverEventArgs eventArgs)
  {
    switch (eventArgs.FailoverEvent)
    {
      case FailoverEvent.Begin :
        Console.WriteLine(
          &#34; \nFailover Begin - Failing Over ... Please standby \n&#34;);
        Console.WriteLine(
          &#34; Failover type was found to be &#34; + eventArgs.FailoverType);
        break;
 
      case FailoverEvent.Abort :
        Console.WriteLine(&#34; Failover aborted. Failover will not take place.\n&#34;);
        break;
 
      case FailoverEvent.End :
        Console.WriteLine(&#34; Failover ended ...resuming services\n&#34;);
        break;
 
      case FailoverEvent.Reauth :
        Console.WriteLine(&#34; Failed over user. Resuming services\n&#34;);
        break;
 
      case FailoverEvent.Error :
        Console.WriteLine(&#34; Failover error gotten. Sleeping...\n&#34;);
        return FailoverReturnCode.Retry;
 
      default :
        Console.WriteLine(&#34;Bad Failover Event: %d.\n&#34;, eventArgs.FailoverEvent);
        break;
    }
    return FailoverReturnCode.Success;
  } /* OnFailover */
 
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    con.ConnectionString = &#34;User Id=scott;Password=tiger;Data Source=oracle;&#34;;
    con.Open();
    con.Failover += new OracleFailoverEventHandler(OnFailover);
    Console.WriteLine(&#34;Event Handler is successfully registered&#34;);
 
    // Close and Dispose OracleConnection object
    con.Close();
    con.Dispose();
  }
}
</pre>
<p>The <code>Failover</code> event invokes only one event handler. If multiple <code>Failover</code> event handlers are registered with the <code>Failover</code> event, only the event handler registered last is invoked.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Distributed transactions are not supported in an environment where failover is enabled.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<ul>
<li>
<p><a class="olink NETAG" href="../NETAG/toc.htm"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a></p>
</li>
<li>
<p><a href="OracleFailoverEventHandlerDelegate.htm#i1008778">&#34;OracleFailoverEventHandler Delegate&#34;</a></p>
</li>
<li>
<p><a href="OracleFailoverEventArgsClass.htm#i1008365">&#34;OracleFailoverEventArgs Class&#34;</a></p>
</li>
</ul>
</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4219">
<tr>
<td class="cellalignment4226">
<table class="cellalignment4224">
<tr>
<td class="cellalignment4223"><a href="featCodeAccess.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4223"><a href="featRAC.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4228">
<table class="cellalignment4222">
<tr>
<td class="cellalignment4223"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4223"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4223"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4223"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4223"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4223"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-79187"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Number%20Default%20Data%20Type%20Mapping%20and%20Customization"></a><title>Oracle Number Default Data Type Mapping and Customization</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-10-14T19:43:26Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Data Provider for .NET Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E17732-11"/>
<meta name="dcterms.isVersionOf" content="ODPNT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="entityEDMmapping.htm" title="Previous" type="text/html"/>
<link rel="Next" href="extensions.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17732-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">46/172</span> <!-- End Header --><a id="CIHJHIEF"></a>
<div id="ODPNT8300" class="sect1">
<h1 class="sect1">Oracle Number Default Data Type<a id="sthref718"></a> Mapping and Customization</h1>
<p>You can configure a custom mapping in the .NET configuration file to override the default mapping for the <code>Number(p,0)</code> Oracle data type. So, for example, <code>Number(1,0)</code>, which is mapped to <code>Int16</code> by default, can be custom mapped to the .NET <code>Bool</code> or .NET <code>Byte</code> type.</p>
<p><a href="#CIHFHDFH">Example 4-1</a> shows a sample <code>app.config</code> file that uses custom mapping to map the <code>Number(1, 0)</code> Oracle data type to the <code>bool</code> EDM type. The example also maps <code>Number(3,0)</code> to <code>byte</code>, and sets the maximum precisions for the <code>Int16, Int32,</code> and <code>Int64</code> data types to 4, 9, and 18 respectively.</p>
<div id="ODPNT8301" class="example">
<p class="titleinexample"><a id="CIHFHDFH"></a>Example 4-1 Sample Application Configuration File to Custom Map the Number (p,0) Data Type</p>
<pre>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;configuration&gt;
  &lt;connectionStrings&gt;
  &lt;/connectionStrings&gt;
  &lt;oracle.dataaccess.client&gt;
    &lt;settings&gt;
      &lt;add name=&#34;bool&#34; value=&#34;edmmapping number(1,0)&#34; /&gt;
      &lt;add name=&#34;byte&#34; value=&#34;edmmapping number(3,0)&#34; /&gt;
      &lt;add name=&#34;int16&#34; value=&#34;edmmapping number(4,0)&#34; /&gt;
      &lt;add name=&#34;int32&#34; value=&#34;edmmapping number(9,0)&#34; /&gt;
      &lt;add name=&#34;int64&#34; value=&#34;edmmapping number(18,0)&#34; /&gt;
    &lt;/settings&gt;
  &lt;/oracle.dataaccess.client&gt;
&lt;/configuration&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHEBJGC">Example 4-2</a> shows a ODP.NET, Managed Driver sample <code>app.config</code> file.</p>
<div id="ODPNT8302" class="example">
<p class="titleinexample"><a id="CIHEBJGC"></a>Example 4-2 Sample ODP.NET, Managed Driver Application Configuration File to Custom Map the Number Data Type</p>
<pre>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt;
&lt;configuration&gt;
  &lt;oracle.manageddataaccess.client&gt;
    &lt;version number=&#34;*&#34;&gt;
       &lt;edmMappings&gt;
           &lt;edmMapping dataType=&#34;number&#34;&gt;
               &lt;add name=&#34;bool&#34; precision=&#34;1&#34;/&gt;
               &lt;add name=&#34;byte&#34; precision=&#34;3&#34; /&gt;
               &lt;add name=&#34;int16&#34; precision=&#34;4&#34; /&gt;
               &lt;add name=&#34;int32&#34; precision=&#34;9&#34; /&gt;
               &lt;add name=&#34;int64&#34; precision=&#34;18&#34; /&gt;
          &lt;/edmMapping&gt;
       &lt;/edmMappings&gt;
     &lt;/version&gt;
  &lt;/oracle.manageddataaccess.client&gt;
&lt;/configuration&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CIHFHDFH">Example 4-1</a> and <a href="#CIHEBJGC">Example 4-2</a> customizes the mappings as follows:</p>
<div class="inftblinformal">
<table class="cellalignment4229" title="Custom Map Created by Example 3-1" summary="Summarizes customized mappings created by the preceding app.config file." dir="ltr">
<thead>
<tr class="cellalignment4220">
<th class="cellalignment4230" id="r1c1-t30">Oracle Type</th>
<th class="cellalignment4230" id="r1c2-t30">Default EDM Type</th>
<th class="cellalignment4230" id="r1c3-t30">Custom EDM Type</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r2c1-t30" headers="r1c1-t30"><code>Number(1,0)</code></td>
<td class="cellalignment4226" headers="r2c1-t30 r1c2-t30"><code>Int16</code></td>
<td class="cellalignment4226" headers="r2c1-t30 r1c3-t30"><code>bool</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r3c1-t30" headers="r1c1-t30"><code>Number(2,0)</code> to <code>Number(3,0)</code></td>
<td class="cellalignment4226" headers="r3c1-t30 r1c2-t30"><code>Int16</code></td>
<td class="cellalignment4226" headers="r3c1-t30 r1c3-t30"><code>byte</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r4c1-t30" headers="r1c1-t30"><code>Number(4,0)</code></td>
<td class="cellalignment4226" headers="r4c1-t30 r1c2-t30"><code>Int16</code></td>
<td class="cellalignment4226" headers="r4c1-t30 r1c3-t30"><code>Int16</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r5c1-t30" headers="r1c1-t30"><code>Number(5,0)</code></td>
<td class="cellalignment4226" headers="r5c1-t30 r1c2-t30"><code>Int16</code></td>
<td class="cellalignment4226" headers="r5c1-t30 r1c3-t30"><code>Int32</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r6c1-t30" headers="r1c1-t30"><code>Number(6,0)</code> to <code>Number(9,0)</code></td>
<td class="cellalignment4226" headers="r6c1-t30 r1c2-t30"><code>Int32</code></td>
<td class="cellalignment4226" headers="r6c1-t30 r1c3-t30"><code>Int32</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r7c1-t30" headers="r1c1-t30"><code>Number(10,0)</code></td>
<td class="cellalignment4226" headers="r7c1-t30 r1c2-t30"><code>Int32</code></td>
<td class="cellalignment4226" headers="r7c1-t30 r1c3-t30"><code>Int64</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r8c1-t30" headers="r1c1-t30"><code>Number(11,0)</code> to <code>Number(18,0)</code></td>
<td class="cellalignment4226" headers="r8c1-t30 r1c2-t30"><code>Int64</code></td>
<td class="cellalignment4226" headers="r8c1-t30 r1c3-t30"><code>Int64</code></td>
</tr>
<tr class="cellalignment4220">
<td class="cellalignment4226" id="r9c1-t30" headers="r1c1-t30"><code>Number(19,0)</code></td>
<td class="cellalignment4226" headers="r9c1-t30 r1c2-t30"><code>Int64</code></td>
<td class="cellalignment4226" headers="r9c1-t30 r1c3-t30"><code>Decimal</code></td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="inftblinformal" -->
<p>Custom mapping configures the maximum precision of the Oracle <code>Number</code> type that would map to the .NET/EDM type. So, for example, the preceding custom application configuration file configures ODP.NET to map <code>Number(10,0)</code> through <code>Number(18,0)</code> to <code>Int64</code>, as opposed to the default range of <code>Number(11,0)</code> through <code>Number(19,0)</code> for <code>Int64</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<ul>
<li>
<p>Custom mapping does not require you to map all the .NET/EDM types. For example, if custom mapping is required just for <code>Int16</code>, then having a single entry for <code>Int16</code> is sufficient. Default mapping gets used for the other types.</p>
</li>
<li>
<p>When using Model First, a <code>Byte</code> attribute is mapped to <code>Number(3,0)</code> by default. However, when a model is generated for a <code>Number(3,0)</code> column, it gets mapped to <code>Int16</code> by default unless custom mapping for <code>Byte</code> is specified.</p>
</li>
<li>
<p>ODP.NET managed and unmanaged driver .NET configuration file settings for native Entity Framework 6 applications have a different format than the traditional .NET configuration file settings. For more information on this format, refer to the ODP.NET README. The README also describes ODP.NET-specific steps to migrate from an Entity Framework 5 application to Entity Framework 6.</p>
</li>
</ul>
</div>
<p>You must make sure that your mappings allow the data to fit within the range of the .NET/EDM type and the <code>Number(p, s)</code> type. If you select a .NET/EDM type with a range too small for the Oracle <code>Number</code> data, then errors will occur during data retrieval. Also, if you select a .NET/EDM type, and the corresponding data is too big for the Oracle <code>Number</code> column, then INSERTs and UPDATEs to the Oracle database will error out.</p>
<div id="ODPNT8303" class="sect2"><a id="sthref719"></a>
<h2 class="sect2">Data Type Mapping and Customization Process</h2>
<p>To enable custom mapping, add the mapping information to the .NET config file <span class="italic">prior</span> to EDM creation.</p>
<p>If the EDM was created already before providing the mapping information, then you can <span class="italic">modify</span> the mappings either through the Visual Studio tools or manually. Using Visual Studio, go to the EDM Model Browser page. Right-click on the table(s) requiring new data type mapping and select <span class="bold">Table Mapping</span> from the pop-up menu. The <span class="bold">Mapping Details</span> window will appear usually at the bottom of your screen. Update <span class="bold">Column Mappings</span> as desired.</p>
<p>If you need to <span class="italic">add</span> or <span class="italic">delete</span> mappings, find the <span class="bold">Type</span> values in the CSDL mapping section of your project&#39;s existing EDMX file. Add or delete those <span class="bold">Type</span> values to the .NET data types you want the application to use. In the example below, the property name types for <code>BOOLCOL</code> and <code>BYTECOL</code> are added to the CSDL and mapped to Boolean and Byte, respectively.</p>
<p>Example Mapping Before CSDL Customization:</p>
<pre>&lt;Property Name=&#34;INT16COL&#34; Type=&#34;Int16&#34; Nullable=&#34;false&#34; /&gt; 
</pre>
<p>Example Mapping After CSDL Customization:</p>
<pre>&lt;Property Name=&#34;BOOLCOL&#34; Type=&#34;Boolean&#34; Nullable=&#34;false&#34; /&gt; 
&lt;Property Name=&#34;BYTECOL&#34; Type=&#34;Byte&#34; Nullable=&#34;false&#34; /&gt; 
&lt;Property Name=&#34;INT16COL&#34; Type=&#34;Int16&#34; Nullable=&#34;false&#34; /&gt;
</pre>
<p>You can employ combinations of these customization possibilities depending on your planned mapping changes. If <span class="italic">many</span> tables and <span class="italic">many</span> columns require mapping changes, it is most efficient to delete the EDMX file and regenerate the data model. If a <span class="italic">few</span> tables and <span class="italic">many</span> columns require changes, then delete the affected tables, save the EDMX file, and select <span class="bold">Update Model from Database...</span> to include those tables again. If only a <span class="italic">single</span> table and <span class="italic">one or two</span> columns require changes, then modify the EDMX either manually or by using the <span class="bold">Mapping Details</span> window.</p>
</div>
<!-- class="sect2" -->
<div id="ODPNT8304" class="sect2"><a id="sthref720"></a>
<h2 class="sect2">StoreGeneratedPattern Enumeration</h2>
<p>The following sections describe the Identity attribute and the Virtual column.</p>
<div id="ODPNT8305" class="sect3"><a id="sthref721"></a>
<h3 class="sect3">Identity Attribute</h3>
<p>Oracle Database 12<span class="italic">c</span> (12.1) and later versions support table or view Identity attribute columns. Oracle has three Identity attribute types. When the EDM wizard generates a data model from an Oracle Identity attribute-containing table or view, ODP.NET will set the value of <code>StoreGeneratedPattern</code> to <code>Identity</code> in the <code>.edmx</code> file for any of three Oracle Identity types. The Identity attribute-associated column will use the server-generated value during <code><a id="sthref722"></a><a id="sthref723"></a>INSERT</code>: hence, application developers no longer need to create a sequence nor trigger. If the .NET application attempts to set the Identity attribute itself, this value will be ignored.</p>
<p>For Oracle Database 11<span class="italic">g</span> Release 2 (11.2) and earlier versions that do not support Identity columns, application developers can manually set <code>StoreGeneratedPattern</code> to <code>Identity</code> in columns through the entity model designer Properties after model generation, then create an <code>INSERT</code> trigger. Depending on the data type, a sequence may not be necessary if a server function, such as <code>sys_guid()</code>, can generate the value for the column.</p>
</div>
<!-- class="sect3" -->
<div id="ODPNT8306" class="sect3"><a id="sthref724"></a>
<h3 class="sect3">Virtual Column</h3>
<p>Oracle Database 11<span class="italic">g</span> (11.1) and later versions can store expressions directly in base tables as Virtual columns, also known as Generated columns. Virtual columns cannot be inserted into or updated. ODP.NET will not automatically set <code>StoreGeneratedPattern</code> to <code>Computed</code> in the EF model for Virtual columns. To avoid errors, application developers need to add or change the value of <code>StoreGeneratedPattern</code> to <code>Computed</code> for Virtual columns after the model generation. Once done, Virtual columns are excluded from <code>INSERT</code>s and <code>UPDATE</code>s upon calling <code>SaveChanges()</code>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<div id="ODPNT8307" class="sect2"><a id="sthref725"></a>
<h2 class="sect2">Resolving Compilation Errors When Using Custom Mapping</h2>
<p>If the custom mapping in a .NET configuration file has changed, then regenerate the data model to solve compilation errors introduced by the changes.</p>
<p>Under certain scenarios, custom mapping may cause compilation errors when a project that uses custom mapping is loaded by Visual Studio. You may use the following workaround for such scenarios:</p>
<ol>
<li>
<p>Open Visual Studio Help, About Microsoft Visual Studio. Click <span class="bold">OK</span> to exit the dialog box.</p>
<p>Alternatively, open the to-be-used connection in Server Explorer.</p>
</li>
<li>
<p>Compile the project again to eliminate the compilation errors.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="ODPNT8308" class="sect2"><a id="sthref726"></a>
<h2 class="sect2">Mapping Boolean and Guid Parameters in Custom INSERT, UPDATE, and DELETE Stored Procedures</h2>
<p>When using your custom <code>INSERT, UPDATE,</code> or <code>DELETE</code> stored procedure in Stored Procedure Mapping, the following error might occur:</p>
<p><code>Error 2042: Parameter Mapping specified is not valid.</code></p>
<p>This can happen if a <code>Number</code> parameter has been mapped to a <code>Boolean</code> attribute, or if a <code>RAW</code> parameter has been mapped to a <code>Guid</code> attribute.</p>
<p>The solution is to manually add <code>Precision=&#34;1&#34;</code> for the <code>Number</code> parameter, and <code>MaxLength=&#34;16&#34;</code> for the RAW parameter of your stored procedure in the SSDL.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" -->
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4219">
<tr>
<td class="cellalignment4226">
<table class="cellalignment4224">
<tr>
<td class="cellalignment4223"><a href="entityEDMmapping.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4223"><a href="extensions.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4228">
<table class="cellalignment4222">
<tr>
<td class="cellalignment4223"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4223"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4223"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4223"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4223"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4223"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-106566"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Installing%20Oracle%20Grid%20Infrastructure"></a><title>Installing Oracle Grid Infrastructure</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Before installing Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node using Oracle Universal Installer (OUI), you must first install the Oracle Grid Infrastructure for a cluster software, which consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM)."/>
<meta name="keywords" content=", Oracle Universal Installer (OUI), preparing for installation, Oracle Real Application Clusters installation, Grid_home, definition of, ORACLE_HOME, Oracle home directory, Oracle Configuration Manager, installation, patches, applying previously downloaded patches during installation, fixup scripts, scripts, fixup, Oracle ASM, installing, Oracle Grid Infrastructure installation, starting, Oracle RAC One Node, creating a database, Oracle RAC, disk groups, creating, creating disk groups, fast recovery area, creating disk group for, Oracle ASM Configuration Assistant (ASMCA), Oracle Configuration Manager (OCM), Desktop class, Server class, single-instance database, ORACLE_SID, limitations, database name, limitations, Cluster Verification Utility, use by OUI, backups, root.sh script, root.sh, emkey.ora, Enterprise Manager, encryption key, Oracle Real Application Clusters, patching, rconfig, converting single-instance databases to Oracle RAC, cluster database, converting to, prerequisites, using rconfig, administrator-managed database, and rconfig, convert to clustered Oracle ASM"/>
<meta name="dcterms.created" content="2017-02-17T11:56:16Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database 2 Day + Real Application Clusters Guide"/>
<meta name="dcterms.identifier" content="E17616-18"/>
<meta name="dcterms.isVersionOf" content="TDPRC"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="preparing.htm" title="Previous" type="text/html"/>
<link rel="Next" href="adminrac.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17616-18.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-986CA7AA-DA09-4261-866A-D08CD7A3E689"></a> <span id="PAGE" style="display:none;">8/17</span> <!-- End Header -->
<a id="TDPRC159"></a>
<h1 id="TDPRC-GUID-986CA7AA-DA09-4261-866A-D08CD7A3E689" class="sect1"><span class="enumeration_chapter">3</span> Installing Oracle Grid Infrastructure</h1>
<div>
<p>Before installing Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node using Oracle Universal Installer (OUI), you must first install the Oracle Grid Infrastructure for a cluster software, which consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-2286F02E-8763-4EBF-9ABC-C891F15C0EB1">Using Oracle Enterprise Manager Cloud Control for Provisioning Operations</a></strong><br/>
As part of the database provisioning solution, Oracle Enterprise Manager Cloud Control enables you to provision Oracle Databases (also known as single-instance databases) and Oracle Real Application Clusters (Oracle RAC) databases.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-8683244E-4597-4007-8A06-4EE09F362A80">Preparing to Install the Oracle Software</a></strong><br/>
Prepare a staging area for the installation files.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-56F82129-A9D7-4909-A004-8B5DFC4E8385">Verifying My Oracle Support Credentials</a></strong><br/>
When you first start OUI, you are prompted to enter your e-mail address and My Oracle Support password.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9">Installing Oracle Grid Infrastructure for a Cluster</a></strong><br/>
The software for Oracle Grid Infrastructure for a cluster consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-B1BF6C1F-BDFE-438F-8CDA-51D7478F89E6">Installing the Oracle Database Software and Creating a Database</a></strong><br/>
After Oracle Grid Infrastructure for a cluster is functional, you can install the Oracle Database software on the nodes of your cluster.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-1BB6D9E2-4D4E-4C49-A035-8797D23BFD15">Performing Postinstallation Tasks</a></strong><br/>
After you have installed the Oracle Real Application Clusters (Oracle RAC) software and created an Oracle RAC database there are additional tasks to perform before your cluster database is ready for use. These steps are recommended, but are not required.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-657D12EB-542F-418B-8674-5B221F6DB8F0">About Converting an Oracle Database to an Oracle RAC Database</a></strong><br/>
If you have a single-instance database and you want to convert to Oracle RAC or Oracle RAC One Node, then you can use <code class="codeph">rconfig</code>, Oracle Enterprise Manager, or Database Configuration Assistant (DBCA) to assist you with the task of converting a single-instance database installation to an Oracle Real Application Clusters (Oracle RAC) database.</li>
</ul>
</div>
<a id="TDPRC659"></a>
<div class="props_rev_3"><a id="GUID-2286F02E-8763-4EBF-9ABC-C891F15C0EB1"></a>
<h2 id="TDPRC-GUID-2286F02E-8763-4EBF-9ABC-C891F15C0EB1" class="sect2">Using Oracle Enterprise Manager Cloud Control for Provisioning Operations</h2>
<div>
<p>As part of the database provisioning solution, Oracle Enterprise Manager Cloud Control enables you to provision Oracle Databases (also known as single-instance databases) and Oracle Real Application Clusters (Oracle RAC) databases.</p>
<p>Using Oracle Enterprise Manager Cloud Control, you can extend or delete Oracle RAC nodes, and provision Oracle RAC One node databases. Oracle Enterprise Manager Cloud Control also helps in setting up the environment for provisioning and does various pre-checks on the host to verify provisioning is successful. Before you can use Oracle Enterprise Manager Cloud Control to provision your Oracle software, you must perform the following system configuration tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Discover all host by installing the Enterprise Manager Agent on all nodes.</p>
</li>
<li>
<p>Configure named and preferred credentials in Enterprise Manager.</p>
</li>
<li>
<p>Configure a software library and setup roles.</p>
</li>
<li>
<p>Download software from Oracle Technology Network to create installation media components in Enterprise Manager. Optionally, you can create a Provisioning Profile (similar to a gold image) from an existing system.</p>
</li>
</ul>
<p>Details on how to perform these tasks, and how to provision your Oracle Grid Infrastructure and Oracle RAC software using Oracle Enterprise Manager Cloud Control are available in <a class="olink EMLCM11094" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=EMLCM11094"><span class="italic">Oracle Enterprise Manager Lifecycle Management Administrator&#39;s Guide</span></a>.</p>
</div>
</div>
<a id="TDPRC161"></a><a id="TDPRC160"></a>
<div class="props_rev_3"><a id="GUID-8683244E-4597-4007-8A06-4EE09F362A80"></a>
<h2 id="TDPRC-GUID-8683244E-4597-4007-8A06-4EE09F362A80" class="sect2">Preparing to Install the Oracle Software</h2>
<div>
<p>Prepare a staging area for the installation files.</p>
<div class="section">
<p>Oracle Clusterware is installed as part of Oracle Grid Infrastructure for a cluster. OUI installs Oracle Clusterware into a directory structure called the <span class="variable">Grid_home</span>. This home is separate from the home directories of other Oracle software products installed on the same server. Because Oracle Clusterware works closely with the operating system, you must have system administrator privileges for some installation tasks. In addition, some Oracle Clusterware processes must run as the special operating system user, <code class="codeph">root</code>. OUI also installs Oracle Automatic Storage Management (Oracle ASM) in the Grid home directory.</p>
<p>You install the Oracle RAC software from the Oracle Database 12<span class="italic">c</span> installation media. By default, the standard Oracle Database 12<span class="italic">c</span> software installation process installs the Oracle RAC option when OUI recognizes that you are performing the installation on a cluster. OUI installs Oracle RAC into a directory structure called the <span class="variable">Oracle_home</span>. This home is separate from the home directories of other Oracle software products installed on the same server.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">To prepare to install the Oracle software:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>If you have the Oracle software on CDs or DVDs, then insert the disc for Oracle Grid Infrastructure for a cluster into a disk drive on your computer. Make sure the disk drive has been mounted at the operating system level. You must change discs when installing the Oracle Database software.</span>
<div>
<p>If you do not have installation disks, but are instead installing from ZIP files, then continue to Step 2.</p>
</div>
</li>
<li class="stepexpand"><span>If the installation software is in one or more ZIP files, then create a staging directory on one node, for example, <code class="codeph">racnode1</code>, to store the unzipped files, as shown here:</span>
<div>
<pre dir="ltr">mkdir -p /stage/oracle/12.1.0
</pre></div>
</li>
<li class="stepexpand"><span>Copy the ZIP files to this staging directory. For example, if the files were downloaded to a directory named <code class="codeph">/home/user1</code>, and the ZIP file is named <code class="codeph">12100_linux_db.zip</code>, then use the following command to move the ZIP file to the staging directory:</span>
<div>
<pre dir="ltr">cd /home/user1
cp 12100_linux_db.zip /stage/oracle/12.1.0
</pre></div>
</li>
<li class="stepexpand"><span>As the <code class="codeph">oracle</code> user on the first node, unzip the Oracle media, as shown in the following example:</span>
<div>
<pre dir="ltr">cd /stage/oracle/12.1.0
unzip 12100_linux_db.zip
</pre></div>
</li>
</ol>
</div>
</div>
<a id="TDPRC182"></a>
<div class="props_rev_3"><a id="GUID-56F82129-A9D7-4909-A004-8B5DFC4E8385"></a>
<h2 id="TDPRC-GUID-56F82129-A9D7-4909-A004-8B5DFC4E8385" class="sect2">Verifying My Oracle Support Credentials</h2>
<div>
<p>When you first start OUI, you are prompted to enter your e-mail address and My Oracle Support password.</p>
<p>By entering this information, you enable the following features:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Configuration Manager is installed and configured. This option enables you to associate information about your Oracle RAC configuration with your My Oracle Support account. In the event that you must place a service request with Oracle Support, that configuration information can help provide a more rapid resolution to the service issue.</p>
</li>
<li>
<p>You can receive e-mail notification of security alerts from My Oracle Support.</p>
</li>
<li>
<p>Automatic download and application of the most recent patches to the newly installed Oracle software (with Oracle Grid Infrastructure for a cluster or Oracle Database). The software updates that can be downloaded include patches, critical patch updates, installer updates, and patch sets.</p>
</li>
</ul>
<p>If you choose to enable these features, then you must supply your My Oracle Support account name (your e-mail address) and your password. You may have to configure the proxy settings before your computer can connect to My Oracle Support.</p>
<p>If you have downloaded the software updates, then during installation you can enter the directory location where the files are stored on the local server instead of downloading them from My Oracle Support. The software updates are applied to the installed software during the installation process.</p>
<div class="infoboxnotealso" id="GUID-56F82129-A9D7-4909-A004-8B5DFC4E8385__GUID-0483BF90-833F-4F3E-B135-D259C682E962">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMQS1122" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMQS1122"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="TDPRC162"></a>
<div class="props_rev_3"><a id="GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9"></a>
<h2 id="TDPRC-GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9" class="sect2">Installing Oracle Grid Infrastructure for a Cluster</h2>
<p>The software for Oracle Grid Infrastructure for a cluster consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).</p>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-935792B8-EE36-4BE1-B8AB-8CEB88EBB063">Configuring the Operating System Environment</a></strong><br/>
Before starting the installer, you should set and unset environment variables.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-93000036-5127-4189-94B0-11DB9693EC70">About Cluster Verification Utility Fixup Scripts on Linux and UNIX</a></strong><br/>
During installation on Linux and UNIX platforms, for certain prerequisite check failures, you can click <span class="bold">Fix &amp; Check Again</span> to generate a fixup script.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-72D1994F-E838-415A-8E7D-30EA780D74A8">Using Oracle Universal Installer to Install the Oracle Grid Infrastructure for a Cluster</a></strong><br/>
You use Oracle Universal Installer (OUI) to install the software on one node in the cluster, and the installer copies the software to the other cluster nodes.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB">Completing the Oracle Clusterware Configuration</a></strong><br/>
After you have installed Oracle Clusterware, verify that the node applications are started.</li>
</ul>
</div>
<a id="TDPRC164"></a><a id="TDPRC163"></a>
<div class="props_rev_3"><a id="GUID-935792B8-EE36-4BE1-B8AB-8CEB88EBB063"></a>
<h3 id="TDPRC-GUID-935792B8-EE36-4BE1-B8AB-8CEB88EBB063" class="sect3">Configuring the Operating System Environment</h3>
<div>
<p>Before starting the installer, you should set and unset environment variables.</p>
<div class="section">
<p>You run OUI from the <code class="codeph">grid</code> or <code class="codeph">oracle</code> user account. Before you start OUI to install Oracle Grid Infrastructure for a cluster, you do not have to configure the environment of the <code class="codeph">grid</code> user. You can specify the directories to use for the central inventory and the Grid home during the installation process.</p>
<p>However, you can set the <code class="codeph">ORACLE_BASE</code> environment variable to the directory in which you want the Oracle Inventory files located. For example, if you plan to make the Oracle Database home directory <code class="codeph">/u01/app/oracle/product/12.1.0/dbhome_1</code>, then you would set <code class="codeph">ORACLE_BASE</code> to the directory <code class="codeph">/u01/app/oracle/</code>. If you set the <code class="codeph">ORACLE_BASE</code> directory before installation, then this becomes the default location for the central inventory displayed by OUI.</p>
<p>You can also set the <code class="codeph">ORACLE_HOME</code> environment variable to the location chosen for the Grid home. If you set the <code class="codeph">ORACLE_HOME</code> directory before installation, then this becomes the default location for the Grid home displayed by OUI.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">(Optional) To modify the user environment before installing Oracle Grid Infrastructure for a cluster on Oracle Linux:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>As the <code class="codeph">grid</code> or <code class="codeph">oracle</code> user, execute the following commands:</span>
<div>
<pre dir="ltr">[oracle]$ unset ORACLE_HOME
[oracle]$ unset ORACLE_SID
[oracle]$ unset ORACLE_BASE
[oracle]$ export ORACLE_BASE=/u01/app/oracle/
[oracle]$ export ORACLE_HOME=/u01/app/12.1.0/grid
</pre></div>
</li>
<li class="stepexpand"><span>Verify the changes have been made by executing the following commands:</span>
<div>
<pre dir="ltr">[oracle]$ echo $ORACLE_SID

[oracle]$ echo $ORACLE_HOME
<samp class="sysout">/u01/app/12.1.0/grid
</samp>
[oracle]$ echo $ORACLE_BASE
<samp class="sysout">/u01/app/oracle/
</samp>
</pre></div>
</li>
</ol>
</div>
</div>
<a id="TDPRC168"></a>
<div class="props_rev_3"><a id="GUID-93000036-5127-4189-94B0-11DB9693EC70"></a>
<h3 id="TDPRC-GUID-93000036-5127-4189-94B0-11DB9693EC70" class="sect3">About Cluster Verification Utility Fixup Scripts on Linux and UNIX</h3>
<div>
<p>During installation on Linux and UNIX platforms, for certain prerequisite check failures, you can click <span class="bold">Fix &amp; Check Again</span> to generate a fixup script.</p>
<p>The installer detects when the minimum requirements for an installation are not met, and creates shell scripts, called Fixup scripts, to finish incomplete system configuration steps. If the installer detects an incomplete task, then it generates a Fixup script (<code class="codeph">runfixup.sh</code>). You also can have CVU generate Fixup scripts before installation.</p>
<p>Fixup scripts do the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>If necessary, set kernel parameters to values required for successful installation, including:</p>
<ul style="list-style-type: disc;">
<li>
<p>Shared memory parameters.</p>
</li>
<li>
<p>Open file descriptor and UDP send/receive parameters.</p>
</li>
</ul>
</li>
<li>
<p>Create and set permissions on the Oracle Inventory (central inventory) directory.</p>
</li>
<li>
<p>Create or reconfigure primary and secondary group memberships for the installation owner, if necessary, for the Oracle Inventory directory and the operating system privileges groups.</p>
</li>
<li>
<p>Set shell limits if necessary to required values.</p>
</li>
</ul>
<p>You can run the script after you click <span class="bold">Fix and Check Again</span>. You are prompted by the installer to run the fixup script as the <code class="codeph">root</code> user in a separate session or you can specify through the installer interface that the scripts should be run automatically. You must run the script on all the nodes specified by the installer.</p>
<p>Modifying the contents of the generated fixup script is not recommended.</p>
<div class="infobox-note" id="GUID-93000036-5127-4189-94B0-11DB9693EC70__GUID-35F3C83A-F985-43BA-9A2F-D4EBE9D2F4DB">
<p class="notep1">Note:</p>
<p>Using fixup scripts does not ensure that all the required prerequisites for installing Oracle Grid Infrastructure for a cluster and Oracle RAC are satisfied. You must still verify that all the requirements listed in <a href="preparing.htm#GUID-A3389F0E-E143-482B-9ED0-6D30C3FB8CAA" title="Before you begin your installation, check to ensure that your system meets the requirements for Oracle Real Application Clusters (Oracle RAC). You must ensure that you have a certified combination of the operating system and the Oracle Database software. Each node you make part of your cluster, or Oracle Clusterware and Oracle RAC installation, must satisfy the minimum hardware requirements of the software. Oracle Grid Infrastructure and Oracle RAC require access to shared storage, so each node and instance in the cluster can access the same set of files.You must have the hardware to support communication, both public and private, between all the nodes in the cluster.Oracle Grid Infrastructure and Oracle RAC use a variety of IP addresses for communication.Ensure your system meets the operating system version and other software requirements.Before installing the Oracle software, check that your operating system meets the requirements.Oracle Universal Installer (OUI) detects when the minimum requirements for an installation are not met, and creates shell scripts, called Fixup scripts, to finish incomplete system configuration steps. Instead of waiting for the installation to notify you of an incorrect configuration, you can use operating system commands to manually check the operating system configuration before installation. This helps you determine if additional time will be needed to update the operating system before starting the Oracle Grid Infrastructure installation.After you have verified that your system meets the basic requirements for installing Oracle RAC, the next step is to configure the server in preparation for installation.Depending on whether this is the first time Oracle software is installed on this server, you may have to create operating system groups and users.To install Oracle Grid Infrastructure for a cluster and Oracle Real Application Clusters (Oracle RAC), you must create certain operating system groups and users.Instead of using a single operating system user as the owner of every Oracle software installation, you can use multiple users, each owning one or more Oracle software installations.On the Windows platform, management of operating system users and groups is different from Linux and UNIX Systems.You can use additional users and groups to divide administrative access privileges to the Oracle Grid Infrastructure for a cluster installation from other administrative users and groups associated with other Oracle installations. Separating administrative access is implemented by specifying membership in different operating system groups, and separating installation privileges is implemented by using different installation owners for each Oracle installation.This task describes how to create the grid and oracle users prior to installing the software.To install Oracle software, Secure Shell (SSH) connectivity must be set up between all cluster member nodes. On Oracle Linux, you run Oracle Universal Installer (OUI) from the grid account. OUI obtains information from the environment variables configured for the grid user. Before you install Oracle Grid Infrastructure and Oracle RAC you need to decide on network names and configure IP addresses.After you have configured the network, perform verification tests to make sure it is configured properly. If there are problems with the network connection between nodes in the cluster, then the Oracle Clusterware installation fails.When you install the Oracle software on your server, Oracle Universal Installer expects the operating system to have specific packages and software applications installed.Before starting the installation, ensure that the date and time settings on all the cluster nodes are set as closely as possible to the same date and time. OUI checks the current settings for various kernel parameters to ensure they meet the minimum requirements for deploying Oracle RAC. For production database systems, Oracle recommends that you tune the settings to optimize the performance of your particular system.You may be required to perform special configuration steps that are specific to the operating system on which you are installing Oracle RAC, or for the components used with your cluster. Oracle RAC requires access to a shared file system for storing Oracle Clusterware files. You must also determine where the Oracle software and database files will be installed.The Oracle Inventory (oraInventory) directory is the central inventory record of all Oracle software installations on a server. If you have an existing Oracle Inventory, then ensure that you use the same Oracle Inventory for all Oracle software installations, and ensure that all Oracle software users you intend to use for installation have permissions to write to this directory. During installation, you are prompted to provide a path to a home directory in which to place the software for Oracle Grid Infrastructure for a cluster. OUI installs Oracle Clusterware and Oracle ASM into a directory referred to as Grid_home.Before installing any Oracle software, you must configure an Oracle base directory. OUI uses the Oracle base directory to determine the location of the Oracle Inventory directory, and also for installing Oracle RAC.The Oracle home directory is the location in which the Oracle RAC software is installed. Each node in a cluster requires external shared disks for storing the Oracle Clusterware (Oracle Cluster Registry and voting disk) files, and Oracle Database files.To use an NFS file system, it must be on a certified NAS device. If you have a certified network attached storage (NAS) device, then you can create zero-padded files in an NFS mounted directory and use those files as disk devices in an Oracle ASM disk group. You can use the ASMLIB utility to configure disks used by Oracle Automatic Storage Management (Oracle ASM).The ASMLIB software for various Linux platforms is available from the Oracle Technology Network. After the ASMLIB software is installed, a few steps have to be taken by the system administrator to make the Oracle ASM driver available. Use the ASMLIB utility to configure and mark the disks used by Oracle Automatic Storage Management (Oracle ASM).If you use ASMLIB, then you do not have to ensure permissions and device path persistency in udev.">Preparing Your Cluster</a> are met to ensure a successful installation.</p>
</div>
</div>
</div>
<a id="TDPRC565"></a><a id="TDPRC169"></a>
<div class="props_rev_3"><a id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8"></a>
<h3 id="TDPRC-GUID-72D1994F-E838-415A-8E7D-30EA780D74A8" class="sect3">Using Oracle Universal Installer to Install the Oracle Grid Infrastructure for a Cluster</h3>
<div>
<p>You use Oracle Universal Installer (OUI) to install the software on one node in the cluster, and the installer copies the software to the other cluster nodes.</p>
<div class="section">
<p>As the user that owns the software for Oracle Grid Infrastructure for a cluster (<code class="codeph">grid)</code>on the first node, install Oracle Grid Infrastructure for a cluster. Note that OUI uses Secure Shell (SSH) to copy the binary files from this node to the other nodes during the installation. OUI can configure SSH for you during installation.</p>
<div class="infobox-note" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-D9257F81-988D-4629-AB71-45ED00658090">
<p class="notep1">Note:</p>
<p>If you are installing Oracle Clusterware on a server that has a single-instance Oracle Database 11<span class="italic">g</span> installation, then stop the existing Oracle ASM instances, if any. After Oracle Clusterware is installed, start the Oracle ASM instances again. When you restart the single-instance Oracle database and the Oracle ASM instances, the Oracle ASM instances use the Cluster Synchronization Services Daemon (CSSD) instead of the daemon for the single-instance Oracle database.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To install the software for Oracle Grid Infrastructure for a cluster:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Use the following command to start OUI, where <code class="codeph"><span class="variable">staging_area</span></code> is the location of the staging area on disk, or the root level of the installation media:</span>
<div>
<pre dir="ltr">cd /<span class="variable">staging_area</span>/clusterware/Disk1
./runInstaller
</pre></div>
<div>After a few minutes, the Download Software Updates window appears.</div>
</li>
<li class="stepexpand"><span>Choose to download the latest software updates, providing your registered My Oracle Support user name and password. Click <span class="bold">Next</span>.</span>
<div>You can use a staging location for the software updates or use software updates you have previously downloaded for this release. You can also proceed without checking for updates.</div>
<div>The Select Installation Option window appears.</div>
</li>
<li class="stepexpand"><span>Choose the <span class="bold">Install and Configure Grid Infrastructure for a Cluster</span> option, then click <span class="bold">Next</span>.</span>
<div>The Select Cluster Type window appears.</div>
</li>
<li class="stepexpand"><span>Choose the <span class="bold">Configure a Standard cluster</span> option, then click <span class="bold">Next</span>.</span>
<div>The Select Installation Type window appears.</div>
</li>
<li class="stepexpand"><span>Select <span class="bold">Typical Installation</span>, then click <span class="bold">Next</span>.</span>
<div>The Specify Cluster Configuration window appears.</div>
</li>
<li class="stepexpand"><span>In the <span class="bold">SCAN Name</span> field, enter a name for your cluster that is unique throughout your entire enterprise network. In the Hostname column of the table of cluster nodes, you should see your local node, for example racnode1.example.com. Click <span class="bold">Add</span> to add another node to the cluster.</span>
<div>For example, you might choose a name that is based on the node names&#39; common prefix. This guide uses the SCAN name <code class="codeph">docrac</code>.
<div class="infobox-note" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-CFB8DD2A-118E-4E2B-9D72-88D1CB604C2B">
<p class="notep1">Note:</p>
<p>Specify both nodes during installation even if you plan to use Oracle RAC One Node.</p>
</div>
</div>
<div>The Add Cluster Node Information pop-up window appears.</div>
</li>
<li class="stepexpand"><span>Enter the second node&#39;s public name (<code class="codeph">racnode2</code>), and virtual IP name (<code class="codeph">racnode2-vip</code>), then click <span class="bold">OK</span>.</span>
<div>You are returned to the Specify Cluster Configuration window. You should now see both nodes listed in the table of cluster nodes.</div>
</li>
<li class="stepexpand"><span>Click the <span class="bold">Identify Network Interfaces</span> button.</span>
<div>In the Identify Network Interfaces window, verify that each interface has the correct interface type (Public or Private) associated with it. If you have network interfaces that should not be used by Oracle Clusterware, then set the network interface type to <span class="bold">Do Not Use</span>.</div>
<div>Make sure both nodes are selected, then click the <span class="bold">SSH Connectivity</span> button at the bottom of the window. The bottom panel of the window displays the SSH Connectivity information.</div>
</li>
<li class="stepexpand"><span>Enter the operating system username and password for the Oracle software owner (<code class="codeph">oracle</code>). Select the option <span class="bold">If you have configured SSH connectivity between the nodes</span>, then select the <span class="bold">Reuse private and public keys existing in user home</span> option. Click <span class="bold">Setup</span>.</span>
<div>A message window appears, indicating that it might take several minutes to configure SSH connectivity between the nodes. After a short period, another message window appears indicating that passwordless SSH connectivity has been established between the cluster nodes. Click <span class="bold">OK</span> to continue.</div>
</li>
<li class="stepexpand"><span>When returned to the Specify Cluster Configuration window, click <span class="bold">Next</span> to continue.</span>
<div>After several checks are performed, the Specify Install Locations window appears.</div>
</li>
<li class="stepexpand"><span>In the Specify Install Locations window, specify information for all the fields in this window, then click <span class="bold">Next</span>.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>For the Oracle base field, make sure it is set to the location you chose for your Oracle base directory, for example <code>/u01/app/<span class="variable">username</span>/</code>. If not, then click <span class="bold">Browse</span>. In the Choose Directory window, go up the path until you can select the <code>/u01/app/<span class="variable">username</span>/</code> directory, then click <span class="bold">Choose Directory</span>.</p>
</li>
<li>
<p>For the Software Location field, make sure it is set to the location you chose for your Grid home, for example <span><code>/u01/app/12.1.0/grid</code></span>. If not, then click <span class="bold">Browse</span>. In the Choose Directory window, go up the path until you can select <span><code>/u01/app/12.1.0/grid</code></span>, then click <span class="bold">Choose Directory</span>.</p>
</li>
<li>
<p>For the Cluster Registry Storage Type, choose <span class="bold">Automatic Storage Management</span>.</p>
</li>
<li>
<p>Enter a password for a SYSASM user in the SYSASM Password and Confirm Password fields. This password is used for managing Oracle ASM after installation, so make note of it in a secure place.</p>
</li>
<li>
<p>For the OSASM group, use the drop-down list to choose the operating system group for managing Oracle ASM, for example, <code class="codeph">dba</code>.</p>
</li>
</ul>
</div>
<div>The Create ASM Disk Group window appears.</div>
</li>
<li class="stepexpand"><span>In the <span class="bold">Disk Group Name</span> field, enter a name for the disk group, for example DATA. Choose the Redundancy level for this disk group, and then in the Add Disks section, choose the disks to add to this disk group. When you have finished selecting the disks for this disk group, click <span class="bold">Next</span>.</span>
<div>In the Add Disks section you should see the disks that you configured using the ASMLIB utility in <span class="q">&#34;<a href="preparing.htm#GUID-A4DF0428-C8C1-4833-9469-68D6A77BE8D7" title="You can use the ASMLIB utility to configure disks used by Oracle Automatic Storage Management (Oracle ASM).">Using ASMLIB to Mark the Shared Disks as Candidate Disks</a>&#34;</span>.</div>
<div>If you have not installed Oracle software previously on this computer, then the Create Inventory window appears.</div>
</li>
<li class="stepexpand"><span>Change the path for the inventory directory, if required. Then, click <span class="bold">Next</span>.</span>
<div>If you are using the same directory names as the examples in this book, then it should show a value of <code>/u01/app/oraInventory</code>. The group name for the <code class="codeph">oraInventory</code> directory should show <code class="codeph">oinstall</code>.
<div class="infobox-note" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-0E7800F7-279D-455D-AB16-EA60BE037773">
<p class="notep1">Note:</p>
<p>The path displayed for the inventory directory should be the <code class="codeph">oraInventory</code> subdirectory of the directory one level above the Oracle base directory. For example, if you set the <code class="codeph">ORACLE_BASE</code> environment variable to <code>/u01/app/grid/</code> before starting OUI, then the Oracle inventory path displayed is <code>/u01/app/oraInventory</code>.</p>
</div>
</div>
<div>The Root Script Execution Configuration window appears.</div>
</li>
<li class="stepexpand"><span>Select the option to <span class="bold">Automatically run configuration scripts.</span> Enter the credentials for the root user or a sudo account, then click <span class="bold">Next</span>.</span>
<div>Alternatively, you can Run the scripts manually as the <code class="codeph">root</code> user at the end of the installation process when prompted by OUI.</div>
<div>The Perform Prerequisite Checks window appears.</div>
</li>
<li class="stepexpand"><span>If any of the checks have a status of Failed and are not Fixable, then you must manually correct these issues. After you have fixed the issue, you can click the <span class="bold">Check Again</span> button to have the installer recheck the requirement and update the status. Repeat as needed until all the checks have a status of Succeeded. Click <span class="bold">Next</span>.</span>
<div>
<div class="figure" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-3B8895C8-195F-404B-BEA4-E24F4CA3FDC8">
<p class="titleinfigure">Figure 3-1 Perform Prerequisite Checks Window</p>
<img width="800" height="599" src="img/GUID-46DF895A-196B-4327-975C-DC1503A5B22B-default.png" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows"/><br/>
<a href="img_text/GUID-46DF895A-196B-4327-975C-DC1503A5B22B-default.htm">Description of &#34;Figure 3-1 Perform Prerequisite Checks Window&#34;</a></div>
<!-- class="figure" -->
<p>The Summary window appears.</p>
</div>
</li>
<li class="stepexpand"><span>Review the contents of the Summary window and then click <span class="bold">Finish</span>.</span>
<div>OUI displays a progress indicator enabling you to monitor the installation process.</div>
</li>
<li class="stepexpand"><span>If you did not configure automation of the root scripts, then you are required to run certain scripts as the <code class="codeph">root</code> user, as specified in the Execute Configuration Scripts window appears. Do <span class="italic">not</span> click <span class="bold">OK</span> until you have run the scripts. Run the scripts on all nodes as directed, in the order shown.</span>
<div>
<p>For example, on Oracle Linux you perform the following steps (note that for clarity, the examples show the current user, node and directory in the prompt):</p>
<ol>
<li>
<p>As the <code class="codeph">grid</code> user on <code class="codeph">racnode1</code>, open a terminal window, and enter the following commands:</p>
<pre dir="ltr">[grid@racnode1 oracle]$ <kbd class="userinput">cd /u01/app/oraInventory</kbd>
[grid@racnode1 oraInventory]$ <kbd class="userinput">su</kbd>
</pre></li>
<li>
<p>Enter the password for the <code class="codeph">root</code> user, and then enter the following command to run the first script on <code class="codeph">racnode1</code>:</p>
<pre dir="ltr">[root@racnode1 oraInventory]# <kbd class="userinput">./orainstRoot.sh</kbd>
</pre></li>
<li>
<p>After the <code class="codeph">orainstRoot.sh</code> script finishes on <code class="codeph">racnode1</code>, open another terminal window, and as the <code class="codeph">oracle</code> user, enter the following commands:</p>
<pre dir="ltr">[grid@racnode1 oracle]$ <kbd class="userinput">ssh racnode2</kbd>
[grid@racnode2 oracle]$ <kbd class="userinput">cd /u01/app/oraInventory</kbd>
[grid@racnode2 oraInventory]$ <kbd class="userinput">su</kbd>
</pre></li>
<li>
<p>Enter the password for the <code class="codeph">root</code> user, and then enter the following command to run the first script on <code class="codeph">racnode2</code>:</p>
<pre dir="ltr">[root@racnode2 oraInventory]# <kbd class="userinput">./orainstRoot.sh</kbd>
</pre></li>
<li>
<p>After the <code class="codeph">orainstRoot.sh</code> script finishes on <code class="codeph">racnode2</code>, go to the terminal window you opened in part a of this step. As the <code class="codeph">root</code> user on <code class="codeph">racnode1</code>, enter the following commands to run the second script, <code class="codeph">root.sh</code>:</p>
<pre dir="ltr">[root@racnode1 oraInventory]# <kbd class="userinput">cd /u01/app/12.1.0/grid</kbd>
[root@racnode1 grid]# <kbd class="userinput">./root.sh</kbd>
</pre>
<p>Press <span class="bold">Enter</span> at the prompt to accept the default value.</p>
<div class="infobox-note" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-6D4F44EA-89E0-4317-9F45-A87AE3700DB4">
<p class="notep1">Note:</p>
<p>You must run the <code class="codeph">root.sh</code> script on the first node and wait for it to finish. You can run <code class="codeph">root.sh</code> scripts concurrently on all other nodes except for the last node on which you run the script. Like the first node, the <code class="codeph">root.sh</code> script on the last node must be run separately.</p>
</div>
</li>
<li>
<p>After the <code class="codeph">root.sh</code> script finishes on <code class="codeph">racnode1</code>, go to the terminal window you opened in part c of this step. As the <code class="codeph">root</code> user on <code class="codeph">racnode2</code>, enter the following commands:</p>
<pre dir="ltr">[root@racnode2 oraInventory]# <kbd class="userinput">cd /u01/app/12.1.0/grid</kbd>
[root@racnode2 grid]# <kbd class="userinput">./root.sh</kbd>
</pre>
<p>After the <code class="codeph">root.sh</code> script completes, return to the OUI window where the Installer prompted you to run the <code class="codeph">orainstRoot.sh</code> and <code class="codeph">root.sh</code> scripts. Click <span class="bold">OK</span>.</p>
<p>The software installation monitoring window reappears.</p>
</li>
</ol>
</div>
</li>
<li class="stepexpand"><span>Continue monitoring the installation until the Finish window appears. Then click <span class="bold">Close</span> to complete the installation process and exit the installer.</span></li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-72D1994F-E838-415A-8E7D-30EA780D74A8__GUID-8CD2CADA-8D4A-409C-92A9-F9CD455ED945">
<p class="notep1">Caution:</p>
<p>After installation is complete, do not remove manually or run <code class="codeph">cron</code> jobs that remove <code class="codeph">/tmp/.oracle</code> or <code class="codeph">/var/tmp/.oracle</code> directories or their files while Oracle software is running on the server. If you remove these files, then the Oracle software can encounter intermittent hangs. Oracle Clusterware installations can fail with the error:</p>
<p><code class="codeph">CRS-0184: Cannot communicate with the CRS daemon</code>.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="TDPRC172"></a><a id="TDPRC171"></a>
<div class="props_rev_3"><a id="GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB"></a>
<h3 id="TDPRC-GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB" class="sect3">Completing the Oracle Clusterware Configuration</h3>
<div>
<p>After you have installed Oracle Clusterware, verify that the node applications are started.</p>
<div class="section">
<p>Depending on which operating system you use, you may have to perform some postinstallation tasks to configure the Oracle Clusterware components properly.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To complete the Oracle Clusterware configuration on Oracle Linux:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>As the <code class="codeph">grid</code> user on the first node, check the status of the Oracle Clusterware targets by entering the following command:</span>
<div>
<pre dir="ltr"><span>/u01/app/12.1.0/grid</span>/bin/crsctl check cluster -all
</pre>
<p>This command provides output showing if all the required cluster services, such as <code class="codeph">gsd</code>, <code class="codeph">ons</code>, and <code class="codeph">vip,</code> are started on the nodes of your cluster.</p>
</div>
</li>
<li class="stepexpand"><span>In the displayed output, you should see the Oracle Clusterware daemons are online for each node in the cluster.</span>
<div>
<pre dir="ltr"><samp class="sysout">******************************************************************
racnode1:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
******************************************************************
racnode2:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
******************************************************************
</samp>
</pre>
<p>If you see that one or more Oracle Clusterware resources are offline, or are missing, then the Oracle Clusterware software did not install properly.</p>
</div>
</li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-8A81885F-2803-42B0-BEB7-11ED00EF6DFB__GUID-24FA60AE-F135-41EC-A513-5182A49425C0">
<p class="notep1">Note:</p>
<p>Avoid changing host names after you complete the Oracle Clusterware installation, including adding or deleting domain qualifications. Nodes with changed host names must be deleted from the cluster and added back with the new name.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="TDPRC173"></a>
<div class="props_rev_3"><a id="GUID-B1BF6C1F-BDFE-438F-8CDA-51D7478F89E6"></a>
<h2 id="TDPRC-GUID-B1BF6C1F-BDFE-438F-8CDA-51D7478F89E6" class="sect2">Installing the Oracle Database Software and Creating a Database</h2>
<div>
<p>After Oracle Grid Infrastructure for a cluster is functional, you can install the Oracle Database software on the nodes of your cluster.</p>
<p>Oracle Universal Installer (OUI) installs the software on the local node and then copies the binary files from the local node to all the other nodes in the cluster.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-C2ED56D9-4FE5-4452-8A0A-6E26F729D178">Configuring the Operating System Environment</a></strong><br/>
You run Oracle Universal Installer (OUI) from the <code class="codeph">oracle</code> user account. You don&rsquo;t have to configure the environment of the <code class="codeph">oracle</code> user before you start OUI.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-FABA9C97-18D9-4C96-B3C2-18912DEF406D">Creating Additional Oracle ASM Disk Groups</a></strong><br/>
If you want to use a separate disk group for your Oracle database files or for the fast recovery area, then you must create the additional Oracle ASM disk groups before installing Oracle Database software.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675">Using Oracle Universal Installer to Install Oracle RAC Software</a></strong><br/>
After you have configured the operating system environment, you can use Oracle Universal Installer to install the Oracle RAC software and create an Oracle RAC database.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-3A642BD1-F717-450B-ABDE-B585DE3E38F8">Verifying Your Oracle RAC Database Installation</a></strong><br/>
If you chose to create an Oracle RAC database during installation, then verify that all the database services are up and running.</li>
</ul>
<div class="infoboxnotealso" id="GUID-B1BF6C1F-BDFE-438F-8CDA-51D7478F89E6__GUID-A5089CD7-F1E5-4D97-AD56-E755ABBD822B">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="install_rac.htm#GUID-F0861E27-BF82-47A1-950F-A5652AFB18B9" title="The software for Oracle Grid Infrastructure for a cluster consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM).">Installing Oracle Grid Infrastructure for a Cluster</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="TDPRC252"></a><a id="TDPRC192"></a>
<div class="props_rev_3"><a id="GUID-C2ED56D9-4FE5-4452-8A0A-6E26F729D178"></a>
<h3 id="TDPRC-GUID-C2ED56D9-4FE5-4452-8A0A-6E26F729D178" class="sect3">Configuring the Operating System Environment</h3>
<div>
<p>You run Oracle Universal Installer (OUI) from the <code class="codeph">oracle</code> user account. You don&rsquo;t have to configure the environment of the <code class="codeph">oracle</code> user before you start OUI.</p>
<div class="section">
<p>You can set the <code class="codeph">ORACLE_BASE</code> environment variable to the directory in which you want the Oracle Inventory files for the Oracle Database software located. For example, if you plan to make the Oracle Database home directory <span><code>/u01/app/oracle/product/12.1.0/dbhome_1</code></span>, then you would set <code class="codeph">ORACLE_BASE</code> to the directory <code class="codeph">/u01/app/oracle/</code>. If you set the <code class="codeph">ORACLE_BASE</code> environment variable before installation, then the path specified becomes the default location for the central inventory displayed by OUI.</p>
<p>You can also set the <code class="codeph">ORACLE_HOME</code> environment variable to the location chosen for the Oracle Database home. If you set the <code class="codeph">ORACLE_HOME</code> environment variable before installation, then the path specified becomes the default location for the Oracle home displayed by OUI.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">(Optional) To modify the user environment before installing Oracle Database software on Oracle Linux:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>As the <code class="codeph">oracle</code> user, execute the following commands:</span>
<div>
<pre dir="ltr">[oracle]$ unset ORACLE_SID
[oracle]$ export ORACLE_BASE=/u01/app/oracle/
[oracle]$ export ORACLE_HOME=<span>/u01/app/oracle/product/12.1.0/dbhome_1</span>
</pre></div>
</li>
<li class="stepexpand"><span>Verify the changes have been made by executing the following commands:</span>
<div>
<pre dir="ltr">[oracle]$ echo $ORACLE_SID

[oracle]$ echo $ORACLE_HOME
<span>/u01/app/oracle/product/12.1.0/dbhome_1</span>
[oracle]$ echo $ORACLE_BASE
/u01/app/oracle/
</pre></div>
</li>
</ol>
</div>
</div>
<a id="TDPRC321"></a><a id="TDPRC253"></a>
<div class="props_rev_3"><a id="GUID-FABA9C97-18D9-4C96-B3C2-18912DEF406D"></a>
<h3 id="TDPRC-GUID-FABA9C97-18D9-4C96-B3C2-18912DEF406D" class="sect3">Creating Additional Oracle ASM Disk Groups</h3>
<div>
<p>If you want to use a separate disk group for your Oracle database files or for the fast recovery area, then you must create the additional Oracle ASM disk groups before installing Oracle Database software.</p>
<div class="section">
<p>If you chose to store the Oracle Clusterware files on Oracle ASM during the Oracle Grid Infrastructure for a cluster installation, then a single disk group was created in Oracle ASM. You can use this same disk group to store the data files for your Oracle database, or you can create a separate disk group for the Oracle Database files.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To create an additional disk group using ASMCA:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare the disks or devices for use with Oracle ASM, as described in <span class="q">&#34;<a href="preparing.htm#GUID-FBC7E608-113A-4393-8603-9B2F6967F867" title="Oracle RAC requires access to a shared file system for storing Oracle Clusterware files. You must also determine where the Oracle software and database files will be installed.">Configuring Installation Directories and Shared Storage</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Start the Oracle Automatic Storage Configuration Assistant (ASMCA) from the Grid home:</span>
<div>
<pre dir="ltr"><span>/u01/app/12.1.0/grid</span>/bin/asmca
</pre>
<p>ASMCA starts, and displays the Disk Groups window.</p>
</div>
</li>
<li class="stepexpand"><span>Click the <span class="bold">Create</span> button to create a disk group.</span>
<div>
<p>The Create Disk Group window appears.</p>
</div>
</li>
<li class="stepexpand"><span>Provide the following information:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>In the <span class="bold">Disk Group Name</span> field, enter a name for the new disk group, for example, FRA.</p>
</li>
<li>
<p>Choose a <span class="bold">Redundancy</span> level, for example, Normal.</p>
</li>
<li>
<p>Select the disks to include in the new disk group.</p>
</li>
</ul>
<p>After you have provided all the information, click <span class="bold">OK</span>. A progress window titled DiskGroup: Creation appears. After a few minutes, a message appears indicating the disk group was created successfully. Click <span class="bold">OK</span> to continue.</p>
</div>
</li>
<li class="stepexpand"><span>Repeat Step 3 and 4 to create additional disk groups, or click <span class="bold">Exit</span>, then select <span class="bold">Yes</span> to exit the utility.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-FABA9C97-18D9-4C96-B3C2-18912DEF406D__GUID-D3489D26-5059-4A55-B889-54370B995564">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="intro_tdprc.htm#GUID-FE9755F2-0D7C-400D-92E6-C9230ECA1CDF" title="Oracle Automatic Storage Management (Oracle ASM) is an integrated, high-performance volume manager and file system.">About Oracle Automatic Storage Management</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="preparing.htm#GUID-C87607F7-66E0-41E6-ADF4-F4581EEC8969" title="To use an NFS file system, it must be on a certified NAS device. If you have a certified network attached storage (NAS) device, then you can create zero-padded files in an NFS mounted directory and use those files as disk devices in an Oracle ASM disk group.">Configuring Files on an NAS Device for Use with Oracle ASM</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="preparing.htm#GUID-A4DF0428-C8C1-4833-9469-68D6A77BE8D7" title="You can use the ASMLIB utility to configure disks used by Oracle Automatic Storage Management (Oracle ASM).">Using ASMLIB to Mark the Shared Disks as Candidate Disks</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="TDPRC174"></a><a id="TDPRC400"></a>
<div class="props_rev_3"><a id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675"></a>
<h3 id="TDPRC-GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675" class="sect3">Using Oracle Universal Installer to Install Oracle RAC Software</h3>
<div>
<p>After you have configured the operating system environment, you can use Oracle Universal Installer to install the Oracle RAC software and create an Oracle RAC database.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To install Oracle Database software on your cluster and to create a database:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>As the <code class="codeph">oracle</code> user, use the following commands to start OUI, where <code class="codeph"><span class="variable">staging_area</span></code> is the location of the staging area on disk, or the location of the mounted installation disk:</span>
<div>
<pre dir="ltr"><kbd class="userinput">cd /<span class="variable">staging_area</span></kbd>
<kbd class="userinput">./runInstaller
</kbd>
</pre></div>
<div>The Configure Security Updates window appears.</div>
</li>
<li class="stepexpand" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__CHDFCGBC"><strong>Optional:</strong> <span>Enter your email address and My Oracle Support password, then click <span class="bold">Next</span> to continue.</span>
<div>
<p>If you want to receive notification by email of any newly discovered security issues related to the software you are installing, then enter an email address in the <span class="bold">Email</span> field. If you also want to receive the security updates through My Oracle Support, then use the same email address that is registered with My Oracle Support, select the <span class="bold">I wish to receive security updates via My Oracle Support</span> option, and enter your My Oracle Support login password in the <span class="bold">My Oracle Support Password</span> field.</p>
<p>If you provide an email address, then the Oracle Configuration Manager (OCM) tool will also be installed. This utility provides Oracle Support Services with configuration information about your system when creating service requests. You can disable the OCM tool after installation, but Oracle strongly discourages this. OCM does not access, collect, or store any personal information (except for technical support contact information), or any business data files residing in your software environment. For more information about OCM, see <a href="http://www.oracle.com/technetwork/documentation/ocm-092152.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/documentation/ocm-092152.html</code></a>.</p>
</div>
<div>After you click <span class="bold">Next</span>, the Select Installation Option window appears.</div>
</li>
<li class="stepexpand"><span>Select <span class="bold">Create and configure a database</span>, then click <span class="bold">Next</span> to continue:</span>
<div>The System Class window appears.</div>
</li>
<li class="stepexpand"><span>Choose <span class="bold">Server Class</span>, then click <span class="bold">Next</span>.</span>
<div>If you choose the Desktop Class option, then OUI installs a single-instance database, not a clustered database.</div>
<div>The Grid Installation Options window appears.</div>
</li>
<li class="stepexpand"><span>Choose either the <span class="bold">Oracle Real Application Clusters database installation</span> option or the <span class="bold">Oracle RAC One Node database installation</span> option.</span>
<div>The Select Install Type window appears.</div>
</li>
<li class="stepexpand"><span>Choose <span class="bold">Admin-managed</span> or <span class="bold">Policy-Managed</span> for your database, then click <span class="bold">Next</span> to continue.</span>
<div>If you chose Admin-Managed, then the Select List of Nodes window appears. If you selected Policy-Managed, then the Select Install Type window appears.</div>
</li>
<li class="stepexpand"><span>For an administrator-managed database, you must select the nodes in the cluster where you want to run Oracle RAC or Oracle RAC One Node.</span>
<ol>
<li class="substepexpand"><span>Select the nodes on which you want to install Oracle Database software and create an Oracle RAC instance. All the available nodes in the cluster are selected by default.</span>
<div>
<div class="infobox-note" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__GUID-C474A0AF-A8B5-497F-A2BE-876E5F3E73CF">
<p class="notep1">Note:</p>
<p>Select both nodes during installation, even if you are creating an Oracle RAC One Node database.</p>
</div>
</div>
</li>
<li class="substepexpand"><span>Click the <span class="bold">SSH Connectivity</span> button at the bottom of the window.</span>
<div>The bottom panel of the window displays the SSH Connectivity information.</div>
</li>
</ol>
</li>
<li class="stepexpand"><span>Because you configured SSH connectivity between the nodes for the Oracle Grid Infrastructure for a cluster installation, select the <span class="bold">Reuse private and public keys existing in user home option</span>. Click <span class="bold">Test</span>.</span>
<div>If you are using a network user that has a home directory on shared storage, then also select the <span class="bold">User home if shared by the selected nodes</span> option.</div>
<div>A message window appears, indicating that passwordless SSH connectivity has been established between the cluster nodes. Click <span class="bold">OK</span> to continue.</div>
</li>
<li class="stepexpand"><span>When returned to the Node Selection window, click <span class="bold">Next</span> to continue.</span>
<div>The Select Install Type window appears.</div>
</li>
<li class="stepexpand"><span>Choose the <span class="bold">Typical install</span> option, and click <span class="bold">Next</span>.</span>
<div>A typical installation requires minimal input. It installs the software and optionally creates a general-purpose database. If you choose the Advanced installation type (not documented in this guide), then you are prompted to provide more information about how the database should be configured. For example, you could set passwords for each user account individually, choose a different template for the starter database, choose a nondefault language for the database, and so on.</div>
<div>The Typical Install Configuration window appears.</div>
</li>
<li class="stepexpand" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__CHDFEJAJ"><span>In this window, you must provide the following information:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Oracle base location</span>: The default value is <code class="codeph">/u01/app/oracle/</code>. If you did not set the <code class="codeph">ORACLE_BASE</code> environment variable and the default location is different from the directory location you have chosen, then enter the directory for your Oracle base or click the Browse button to change the directory path.</p>
</li>
<li>
<p><span class="bold">Software location</span>: If you did not set the <code class="codeph">ORACLE_HOME</code> environment variable before starting the installation, then enter the directory for your Oracle home or click the Browse button to change the directory path.</p>
</li>
<li>
<p><span class="bold">Storage Type</span>: In this drop-down list, choose Automatic Storage Management (ASM). If you do not want to use Oracle ASM, then choose File System. Because Oracle ASM was installed with the Oracle Grid Infrastructure for a cluster, Oracle Automatic Storage Management is the default value.</p>
</li>
<li>
<p><span class="bold">Database file location</span>: Choose the disk group to use for storing the database files. You can use the same disk group that Oracle Clusterware uses. If you do not want to use the same disk group that is currently being used to store the Oracle Clusterware files, then you must exit the installation and create a new disk group using Oracle ASM utilities. Refer to <span class="q">&#34;<a href="install_rac.htm#GUID-FABA9C97-18D9-4C96-B3C2-18912DEF406D" title="If you want to use a separate disk group for your Oracle database files or for the fast recovery area, then you must create the additional Oracle ASM disk groups before installing Oracle Database software.">Creating Additional Oracle ASM Disk Groups</a>&#34;</span> for more information on creating a disk group.</p>
<p>If you chose the File System storage type, then enter the directory location of the shared storage where the database files will be created.</p>
</li>
<li>
<p><span class="bold">ASMSNMP Password</span>: Enter the password for the ASMSNMP user. The ASMSNMP user is used primarily by Oracle Enterprise Manager to monitor Oracle ASM instances. See <a class="olink OSTMG22700" target="_blank" href="../OSTMG/GUID-1EA7DE60-BB4C-43BB-9FC6-51A7E82E92D6.htm#OSTMG22700"><span><cite>Oracle Automatic Storage Management Administrator&#39;s Guide</cite></span></a> for more information about the ASMSNMP user.</p>
<p>If you chose File System for the Storage Type, then this field is disabled.</p>
</li>
<li>
<p><span class="bold">Database edition</span>: From this drop-down list choose either Enterprise Edition or Standard Edition. The number in parentheses next to your choice indicates the amount of disk space required.</p>
</li>
<li>
<p><span class="bold">OSDBA Group</span>: From this drop-down list select the operating system group used for database administration, for example, <code class="codeph">dba</code>.</p>
</li>
<li>
<p><span class="bold">Global database name</span>: Enter the fully qualified global name for your database. The global database name is in the form <span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span>.<span class="italic"><code class="codeph">DB_DOMAIN</code></span>, for example, <code class="codeph">orcl.example.com</code>.</p>
<div class="infobox-note" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__GUID-0778EF2A-0DDC-4CAE-8017-E8A0E236F404">
<p class="notep1">Note:</p>
<p>The first eight characters of the <code class="codeph">ORACLE_SID</code> must be a unique identifier for each database. The SID prefix cannot contain underscore (_), dollar ($), or pound (#) characters. The total length of the <code class="codeph">ORACLE_SID</code> cannot exceed 15 characters for Oracle RAC databases.</p>
</div>
</li>
<li>
<p><span class="bold">Administrative password</span>: Enter the password to be used for the administrative account, such as SYS, SYSTEM, and DBSNMP.</p>
</li>
<li>
<p><span class="bold">Confirm Password</span>: Enter the same password in this field.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>After you have provided all the necessary information, click <span class="bold">Next</span>.</span>
<div>The Perform Prerequisite Checks window appears.</div>
</li>
<li class="stepexpand"><span>After a short period of time, the Summary window appears. Review the information on this window, then click <span class="bold">Finish</span> to continue.</span>
<div>
<p>If any of the information in the Summary window is incorrect, then use the Back button to return to a previous window and correct it.</p>
</div>
<div>After you click Finish, OUI displays a progress indicator to show that the installation has begun. This step takes several minutes to complete.</div>
</li>
<li class="stepexpand"><span>After the software is installed on each node, if you select the option to create a database, then OUI starts the Database Configuration Assistant (DBCA).</span>
<div>
<p>This utility creates the database using the global database name specified in Step 9. At the end of the database creation, you see the DBCA window with the database configuration information displayed.</p>
<p>There is also a Password Management button that you can click to unlock the database user accounts, or change their default passwords.</p>
<p>After making note of the information in the Summary window, click <span class="bold">OK</span>.</p>
<p>OUI configures Oracle Configuration Management, if you provided the information in Step 2.</p>
<p>If you chose to perform a software-only installation, then the database configuration assistants are not started. You must run DBCA separately to create the Oracle RAC One Node database.</p>
<div class="infoboxnotealso" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__GUID-AAE65CB8-7C4F-4F62-8802-3716A079D388">
<p class="notep1">See Also:</p>
<p><a class="olink RIGEN" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=RIGEN"><span><cite>Oracle Real Application Clusters Installation Guide</cite></span></a> for your platform for information about creating an Oracle RAC One Node database using DBCA</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Perform the following steps to run the <code class="codeph">root.sh</code> script (note that for clarity, the examples show the current user, node and directory in the prompt):</span>
<div>In the last step of the installation process, you are prompted to perform the task of running the <code class="codeph">root.sh</code> script on both nodes, as specified in the Execute Configuration Scripts window. Do <span class="italic">not</span> click <span class="bold">OK</span> until you have run the scripts on all nodes.
<div class="figure" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__GUID-16A0BCB1-5AEC-49DF-BFB2-8E482B3DB5F5">
<p class="titleinfigure">Figure 3-2 Execute Configuration Scripts Window</p>
<img width="548" height="396" src="img/GUID-0E36A0CE-E41F-407D-B133-7673AFBA6341-default.gif" alt="Description of Figure 3-2 follows" title="Description of Figure 3-2 follows"/><br/>
<a href="img_text/GUID-0E36A0CE-E41F-407D-B133-7673AFBA6341-default.htm">Description of &#34;Figure 3-2 Execute Configuration Scripts Window&#34;</a></div>
<!-- class="figure" --></div>
<ol>
<li class="substepexpand"><span>Open a terminal window as the <code class="codeph">oracle</code> user on the first node. Change directories to your Oracle home directory, and then switch to the <code class="codeph">root</code> user by entering the following commands:</span>
<div>
<pre dir="ltr">[oracle@racnode1 oracle]$ <kbd class="userinput">cd /u01/app/oracle/product/12.1.0/dbhome_1</kbd>
[oracle@racnode1 dbhome_1]$ <kbd class="userinput">su</kbd>
</pre></div>
</li>
<li class="substepexpand"><span>Enter the password for the <code class="codeph">root</code> user, and then run the script specified in the Execute Configuration scripts window:</span>
<div>
<pre dir="ltr">[root@racnode1 dbhome_1]# <kbd class="userinput">./root.sh</kbd>
</pre></div>
<div>
<div class="infobox-note" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__GUID-644AD71D-5F87-47BB-AC10-D216875D8E9C">
<p class="notep1">Note:</p>
<p>You can run the <code class="codeph">root.sh</code> script simultaneously on all nodes in the cluster for Oracle RAC installations or upgrades.</p>
</div>
</div>
</li>
<li class="substepexpand"><span>After responding to prompt, press the <span class="bold">Enter</span> key. To accept the default choice, press the Enter key without entering any text.</span>
<div>As the <code class="codeph">root.sh</code> script runs, it prompts you for the path to the local <code class="codeph">bin</code> directory. The information displayed in the brackets is the information it has obtained from your system configuration. It also writes the <code class="codeph">dbhome</code>, <code class="codeph">oraenv</code>, and <code class="codeph">coraenv</code> files in the <code class="codeph">/usr/local/bin</code> directory. If these files exist, then you are asked to overwrite them.</div>
</li>
<li class="substepexpand"><span>Enter commands similar to the following to run the script on the other nodes:</span>
<div>
<pre dir="ltr">[root@racnode1 dhome_1]# <kbd class="userinput">exit</kbd>
[oracle@racnode1 dhome_1]$ <kbd class="userinput">ssh racnode2</kbd>
[oracle@racnode2 ~]$ <kbd class="userinput">cd /u01/app/oracle/product/12.1.0/dbhome_1</kbd>
[oracle@racnode2 dbhome_1]$ <kbd class="userinput">su</kbd>
</pre></div>
</li>
<li class="substepexpand"><span>Enter the password for the <code class="codeph">root</code> user, and then run the script specified in the Execute Configuration scripts window:</span>
<div>
<pre dir="ltr">[root@racnode2 dbhome_1]# <kbd class="userinput">./root.sh
</kbd>
</pre></div>
</li>
<li class="substepexpand"><span>After responding to each prompt, press the <span class="bold">Enter</span> key.</span></li>
<li class="substepexpand"><span>When the <code class="codeph">root.sh</code> script completes, the following messages are displayed:</span>
<div>
<div class="figure" id="GUID-A28DAC89-7AC7-4F30-A289-7E28B5E9D675__GUID-E7FE25EC-D596-4068-B38C-E4C307A25248"><img width="635" height="156" src="img/GUID-35E56B9E-9F2A-463C-9366-313A265A4135-default.gif" alt="Description of GUID-35E56B9E-9F2A-463C-9366-313A265A4135-default.gif follows" title="Description of GUID-35E56B9E-9F2A-463C-9366-313A265A4135-default.gif follows"/><br/>
<a href="img_text/GUID-35E56B9E-9F2A-463C-9366-313A265A4135-default.htm">Description of the illustration GUID-35E56B9E-9F2A-463C-9366-313A265A4135-default.gif</a></div>
<!-- class="figure" --></div>
</li>
</ol>
</li>
<li class="stepexpand"><span>After you finish executing the script on all nodes, return to the Execute Configuration scripts window and click <span class="bold">OK</span>.</span>
<div>The Install Product window displays.</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Next</span> to complete the installation.</span>
<div>The Finish window is displayed.</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Close</span> to exit the installer.</span></li>
</ol>
<div class="section"></div>
<!-- class="section" --></div>
</div>
<a id="TDPRC176"></a><a id="TDPRC175"></a>
<div class="props_rev_3"><a id="GUID-3A642BD1-F717-450B-ABDE-B585DE3E38F8"></a>
<h3 id="TDPRC-GUID-3A642BD1-F717-450B-ABDE-B585DE3E38F8" class="sect3">Verifying Your Oracle RAC Database Installation</h3>
<div>
<p>If you chose to create an Oracle RAC database during installation, then verify that all the database services are up and running.</p>
<div class="section">
<p class="subhead3">To verify the Oracle RAC database services are started:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Log in as the <code class="codeph">oracle</code> user and go to the <code><span class="variable">Grid_home</span>/bin</code> directory:</span>
<div>
<pre dir="ltr">[oracle] $ cd <span>/u01/app/12.1.0/grid</span>/bin
</pre></div>
</li>
<li class="stepexpand"><span>Run the following command to view the status of the resources managed by Oracle Clusterware that contain the string &#39;ora&#39;:</span>
<div>
<pre dir="ltr">[oracle] $ <kbd class="userinput">./crsctl status resource -w &#34;TYPE co &#39;ora&#39;&#34; -t</kbd>
</pre>
<p>The output of the command should show that the Oracle Clusterware, Oracle ASM, and Oracle Database resources are available (online) for each host. An example of the output is:</p>
<pre dir="ltr">---------------------------------------------------------------------------
NAME              TARGET STATE    SERVER            STATE_DETAILS
---------------------------------------------------------------------------
Local Resources
---------------------------------------------------------------------------
ora.DATA.dg
                  ONLINE  ONLINE   racnode1
                  ONLINE  ONLINE   racnode2

ora.LISTENER.lsnr
                  ONLINE  ONLINE   racnode1
                  ONLINE  ONLINE   racnode2

ora.asm

                  ONLINE  ONLINE   racnode1          Started
                  ONLINE  ONLINE   racnode2          Started

ora.eons
                  ONLINE  ONLINE   racnode1
                  ONLINE  ONLINE   racnode2

ora.gsd
                  OFFLINE OFFLINE   racnode1
                  OFFLINE OFFLINE   racnode2

ora.net1.network
                  ONLINE  ONLINE   racnode1
                  ONLINE  ONLINE   racnode2

ora.ons
                  ONLINE  ONLINE   racnode1
                  ONLINE  ONLINE   racnode2
ora.registry.acfs
                  ONLINE  ONLINE   racnode1
                  ONLINE  ONLINE   racnode2
---------------------------------------------------------------------------
Cluster Resources
---------------------------------------------------------------------------
ora.LISTENER_SCAN1.lsnr
      1           ONLINE  ONLINE   racnode1
ora.oc4j
      1           OFFLINE OFFLINE
ora.orcl.db
      1           ONLINE  ONLINE   racnode1            Open
      2           ONLINE  ONLINE   racnode2            Open
ora.racnode1.vip
      1           ONLINE  ONLINE   racnode1
ora.racnode2.vip
      1           ONLINE  ONLINE   racnode2
ora.scan1.vip
      1           ONLINE  ONLINE   racnode1
</pre></div>
</li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-3A642BD1-F717-450B-ABDE-B585DE3E38F8__GUID-DFF339C0-447A-4849-A32F-4BEADAE0AFBB">
<p class="notep1">Caution:</p>
<p>After installation is complete, do not remove manually or run <code class="codeph">cron</code> jobs that remove <code class="codeph">/tmp/.oracle</code> or <code class="codeph">/var/tmp/.oracle</code> directories or their files while Oracle software is running on the server. If you remove these files, then the Oracle software can encounter intermittent hangs. Oracle Clusterware installations will fail with the error:</p>
<pre dir="ltr"> CRS-0184: Cannot communicate with the CRS daemon. 
</pre></div>
<div class="infoboxnotealso" id="GUID-3A642BD1-F717-450B-ABDE-B585DE3E38F8__GUID-9F768427-B699-4DCB-BB50-9DFFB2B7DEBB">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="install_rac.htm#GUID-1BB6D9E2-4D4E-4C49-A035-8797D23BFD15" title="After you have installed the Oracle Real Application Clusters (Oracle RAC) software and created an Oracle RAC database there are additional tasks to perform before your cluster database is ready for use. These steps are recommended, but are not required.">Performing Postinstallation Tasks</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="TDPRC177"></a>
<div class="props_rev_3"><a id="GUID-1BB6D9E2-4D4E-4C49-A035-8797D23BFD15"></a>
<h2 id="TDPRC-GUID-1BB6D9E2-4D4E-4C49-A035-8797D23BFD15" class="sect2">Performing Postinstallation Tasks</h2>
<div>
<p>After you have installed the Oracle Real Application Clusters (Oracle RAC) software and created an Oracle RAC database there are additional tasks to perform before your cluster database is ready for use. These steps are recommended, but are not required.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-311CED54-6AD1-4AA9-AA50-84705E179999">About Verifying the Oracle Clusterware Installation</a></strong><br/>
Use Cluster Verification Utility (CVU) to verify that your installation is configured correctly.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-88B68AEE-E7A4-4F57-9D91-4B6369C6903D">Creating an Oracle RAC Database Using DBCA</a></strong><br/>
The Database Configuration Assistant (DBCA) utility is used to create Oracle Databases.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-395C613F-3BAB-4C35-B96B-854D6EB5C3BD">Backing Up Installation Files</a></strong><br/>
Certain files used during installation are very important to the operation of the installed software.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-36700F60-4864-46B9-822A-BF2CBE427718">Verifying Oracle Enterprise Manager Operations</a></strong><br/>
When you create an Oracle RAC database and choose Database Control for your database management, the Enterprise Manager Database Control utility is installed and configured automatically.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-6BD345CD-BDCB-4659-9FBE-2F804A7A97FA">About Downloading and Installing Oracle Database Patches</a></strong><br/>
Ensure that you run the latest patch set of the installed software.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-1CA4111F-F6B7-4F5F-9AA1-164F6968F62B">About Configuring User Accounts</a></strong><br/>
You can use different operating system accounts for accessing and managing your Oracle RAC database.</li>
</ul>
<div class="infoboxnotealso" id="GUID-1BB6D9E2-4D4E-4C49-A035-8797D23BFD15__GUID-9B1FC9CD-A6C6-4420-8E3F-0C2BD9A1AD0B">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="install_rac.htm#GUID-3A642BD1-F717-450B-ABDE-B585DE3E38F8" title="If you chose to create an Oracle RAC database during installation, then verify that all the database services are up and running.">Verifying Your Oracle RAC Database Installation</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="TDPRC178"></a>
<div class="props_rev_3"><a id="GUID-311CED54-6AD1-4AA9-AA50-84705E179999"></a>
<h3 id="TDPRC-GUID-311CED54-6AD1-4AA9-AA50-84705E179999" class="sect3">About Verifying the Oracle Clusterware Installation</h3>
<div>
<p>Use Cluster Verification Utility (CVU) to verify that your installation is configured correctly.</p>
<p>After the Oracle Clusterware installation is complete, OUI automatically runs Cluster Verification Utility (CVU) as a configuration assistant to verify that the Oracle Clusterware installation has been completed successfully.</p>
<p>If CVU reports problems with your configuration, then correct these errors before proceeding.</p>
<div class="infoboxnotealso" id="GUID-311CED54-6AD1-4AA9-AA50-84705E179999__GUID-2D97CB5F-7C3B-4911-BD15-2A18F8D17574">
<p class="notep1">See Also:</p>
<p><a class="olink CWADD530" target="_blank" href="../CWADD/GUID-0CBB99C2-6F24-46E5-8A9B-A1A0C581E86A.htm#CWADD530"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about using CVU and resolving configuration problems</p>
</div>
</div>
</div>
<a id="TDPRC566"></a>
<div class="props_rev_3"><a id="GUID-88B68AEE-E7A4-4F57-9D91-4B6369C6903D"></a>
<h3 id="TDPRC-GUID-88B68AEE-E7A4-4F57-9D91-4B6369C6903D" class="sect3">Creating an Oracle RAC Database Using DBCA</h3>
<div>
<p>The Database Configuration Assistant (DBCA) utility is used to create Oracle Databases.</p>
<div class="section">
<p>If you did not select the option to create an Oracle Real Application Clusters (Oracle RAC) database during installation, then you will need to create one using DBCA after you have verified that the installation of the Oracle RAC software was successful. The steps for creating an Oracle RAC database are documented in <a class="olink RILIN004" target="_blank" href="../RILIN/dbcacrea.htm#RILIN004"><span class="italic">Oracle Real Application Clusters Installation Guide for Linux and UNIX</span></a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="TDPRC402"></a>
<div class="props_rev_3"><a id="GUID-395C613F-3BAB-4C35-B96B-854D6EB5C3BD"></a>
<h3 id="TDPRC-GUID-395C613F-3BAB-4C35-B96B-854D6EB5C3BD" class="sect3">Backing Up Installation Files</h3>
<div>
<p>Certain files used during installation are very important to the operation of the installed software.</p>
<p>It is important to back up these files and keep them in a separate location from the installed software in case of hardware failure.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-8D4CB033-41E8-4F70-8C96-97625E92695D">About Backing Up the root.sh Script</a></strong><br/>
Oracle recommends that you back up the <code class="codeph">root.sh</code> script after you complete an installation.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-A047E25F-DE40-4E57-ADA5-27CED06C1D5B">About Backing Up the emkey.ora File</a></strong><br/>
Oracle recommends that you back up the <code class="codeph">emkey.ora</code> file after you complete an installation.</li>
</ul>
</div>
<a id="TDPRC183"></a>
<div class="props_rev_3"><a id="GUID-8D4CB033-41E8-4F70-8C96-97625E92695D"></a>
<h4 id="TDPRC-GUID-8D4CB033-41E8-4F70-8C96-97625E92695D" class="sect4">About Backing Up the root.sh Script</h4>
<div>
<p>Oracle recommends that you back up the <code class="codeph">root.sh</code> script after you complete an installation.</p>
<p>If you install other products in the same Oracle home directory, then OUI updates the contents of the existing <code class="codeph">root.sh</code> script during the installation. If you require information contained in the original <code class="codeph">root.sh</code> script, then you can recover it from the <code class="codeph">root.sh</code> backup copy.</p>
</div>
</div>
<a id="TDPRC407"></a>
<div class="props_rev_3"><a id="GUID-A047E25F-DE40-4E57-ADA5-27CED06C1D5B"></a>
<h4 id="TDPRC-GUID-A047E25F-DE40-4E57-ADA5-27CED06C1D5B" class="sect4">About Backing Up the emkey.ora File</h4>
<div>
<p>Oracle recommends that you back up the <code class="codeph">emkey.ora</code> file after you complete an installation.</p>
<p>During the installation described in this guide, the Enterprise Manager Database Control management repository is placed in secure mode. All Enterprise Manager data is encrypted using the encryption key stored in the file <code class="codeph">emkey.ora</code>. If this file is damaged or lost, and cannot be restored from a backup, then you are no longer able to use the existing Enterprise Manager repository.</p>
<p>The <code class="codeph">emkey.or</code>a file is located in the <code><span class="variable">Oracle_home</span>/<span class="variable">node_name</span>_<span class="variable">Database_name</span>/sysman/config</code> directory. For example, on the <code class="codeph">racnode2</code> server, the encryption key file for the <code class="codeph">orcl.example.com</code> database would be located at <span><code>/u01/app/oracle/product/12.1.0/dbhome_1</code></span><code>/racnode2_orcl/sysman/config/emkey.ora</code> directory.</p>
</div>
</div>
</div>
<a id="TDPRC181"></a><a id="TDPRC180"></a>
<div class="props_rev_3"><a id="GUID-36700F60-4864-46B9-822A-BF2CBE427718"></a>
<h3 id="TDPRC-GUID-36700F60-4864-46B9-822A-BF2CBE427718" class="sect3">Verifying Oracle Enterprise Manager Operations</h3>
<div>
<p>When you create an Oracle RAC database and choose Database Control for your database management, the Enterprise Manager Database Control utility is installed and configured automatically.</p>
<div class="section">
<p class="subhead3">To verify Oracle Enterprise Manager Database Control has been started in your new Oracle RAC environment:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Make sure the <code class="codeph">ORACLE_UNQNAME</code> environment variable is set to the unique name of the database to which you want to connect, for example <code class="codeph">orcl</code>. Also make sure the <code class="codeph">ORACLE_HOME</code> environment variable is set to the location of the installed Oracle Database software.</span>
<div>
<pre dir="ltr">$ export ORACLE_UNQNAME=orcl
$ echo $ORACLE_HOME
<span>/u01/app/oracle/product/12.1.0/dbhome_1</span>

$ echo $ORACLE_UNQNAME
<samp class="sysout">orcl
</samp>
</pre></div>
</li>
<li class="stepexpand"><span>Go to the <code><span class="variable">Oracle_home</span>/bin</code> directory.</span></li>
<li class="stepexpand"><span>Run the following command as the <code class="codeph">oracle</code> user:</span>
<div>
<pre dir="ltr">./emctl status dbconsole
</pre>
<p>The Enterprise Manager Control (EMCTL) utility displays the current status of the Database Control console on the current node.</p>
<pre dir="ltr">Oracle Enterprise Manager 11g Database Control Release 11.2.0.1.0
Copyright (c) 1996, 2009 Oracle Corporation.  All rights reserved.
https://racnode1.example.com:1158/em/console/aboutApplication
Oracle Enterprise Manager 11g is running.
------------------------------------------------------------------
Logs are generated in directory /u01/app/oracle/product/12.1.0/dbhome_1/racnode1_orcl/sysman/log
</pre></div>
</li>
<li class="stepexpand"><span>If the EMCTL utility reports that Database Control is not started, then use the following command to start it:</span>
<div>
<pre dir="ltr">./emctl start dbconsole
</pre>
<p>Following a typical installation, Database Control serves console pages from the node where database was created. The console also monitors agents on all nodes of the cluster. However, you can configure Enterprise Manager to have multiple Database Control consoles within a cluster using Enterprise Manager Configuration Assistant (EMCA).</p>
</div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-36700F60-4864-46B9-822A-BF2CBE427718__GUID-95A8FE5A-D121-493D-84F3-A8D4CBB35770">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMQS003" target="_blank" href="../ADMQS/GUID-2BF9BB16-53C9-4E40-952D-774FEA514335.htm#ADMQS003"><span><cite>Oracle Database 2 Day DBA</cite></span></a></p>
</li>
<li>
<p><span class="q">&#34;<a href="adminrac.htm#GUID-D160EBEF-E2FF-4336-9941-46976B85AFB4" title="The web-based Oracle Enterprise Manager Cloud Control console enables you to manage Oracle RAC and Oracle RAC One Node databases.">About Oracle RAC Management Using Enterprise Manager</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="TDPRC179"></a>
<div class="props_rev_3"><a id="GUID-6BD345CD-BDCB-4659-9FBE-2F804A7A97FA"></a>
<h3 id="TDPRC-GUID-6BD345CD-BDCB-4659-9FBE-2F804A7A97FA" class="sect3">About Downloading and Installing Oracle Database Patches</h3>
<div>
<p>Ensure that you run the latest patch set of the installed software.</p>
<p>Periodically, Oracle issues bug fixes for its software called <span class="bold">patches</span>. <span class="bold">Patch sets</span> are a collection of bug fixes that were produced up to the time of the patch set release. Patch sets are fully tested product fixes. Application of a patch set affects the software residing in your Oracle home.</p>
<p>If you configured access to My Oracle Support during installation, then the latest patches should have been downloaded and applied during installation.</p>
<p>If you did not configure access to My Oracle Support within OUI, then you should apply the latest patch set for your release and any necessary patches that are not included in a patch set. Information about downloading and installing patches and patch sets is covered in <a href="softpatch2.htm#GUID-1E6F18E0-99D5-49DC-8041-938EB8E4664E" title="To manage Oracle software and apply patches in Oracle Real Application Clusters (Oracle RAC) environments, you use Oracle Universal Installer or the OPatch utility.">Managing Oracle Software and Applying Patches</a>.</p>
<div class="infoboxnotealso" id="GUID-6BD345CD-BDCB-4659-9FBE-2F804A7A97FA__GUID-3F8A5CDD-EBD1-4D33-A714-716DEB097A66">
<p class="notep1">See Also:</p>
<p><a class="olink CWLIN-GUID-57C27D5D-7C92-4919-A430-690B89C57665" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWLIN-GUID-57C27D5D-7C92-4919-A430-690B89C57665"><span class="italic">Oracle Grid Infrastructure Installation Guide for Linux</span></a> for detailed instructions on how to locate and download patches and patch sets</p>
</div>
</div>
</div>
<a id="TDPRC184"></a>
<div class="props_rev_3"><a id="GUID-1CA4111F-F6B7-4F5F-9AA1-164F6968F62B"></a>
<h3 id="TDPRC-GUID-1CA4111F-F6B7-4F5F-9AA1-164F6968F62B" class="sect3">About Configuring User Accounts</h3>
<div>
<p>You can use different operating system accounts for accessing and managing your Oracle RAC database.</p>
<p>The <code class="codeph">oracle</code> user operating system account is the account that you used to install the Oracle Database software. You can modify the shell configuration file to set environment variables such as <code class="codeph">ORACLE_HOME</code> whenever you log in as that operating system user.</p>
<div class="infoboxnotealso" id="GUID-1CA4111F-F6B7-4F5F-9AA1-164F6968F62B__GUID-419E6653-3AF1-45D8-A3EF-161BEC1076B4">
<p class="notep1">See Also:</p>
<a href="preparing.htm#GUID-EE17EE2E-A2F6-4463-A188-A3401FD92EFD" title="Depending on whether this is the first time Oracle software is installed on this server, you may have to create operating system groups and users.">About Operating System Users and Groups</a></div>
</div>
</div>
</div>
<a id="TDPRC185"></a>
<div class="props_rev_3"><a id="GUID-657D12EB-542F-418B-8674-5B221F6DB8F0"></a>
<h2 id="TDPRC-GUID-657D12EB-542F-418B-8674-5B221F6DB8F0" class="sect2">About Converting an Oracle Database to an Oracle RAC Database</h2>
<div>
<p>If you have a single-instance database and you want to convert to Oracle RAC or Oracle RAC One Node, then you can use <code class="codeph">rconfig</code>, Oracle Enterprise Manager, or Database Configuration Assistant (DBCA) to assist you with the task of converting a single-instance database installation to an Oracle Real Application Clusters (Oracle RAC) database.</p>
<p><code class="codeph">rconfig</code> is a command line utility. The Convert to Cluster Database option in Oracle Enterprise Manager Cloud Control provides a GUI conversion tool. Additionally, after you have converted your single-instance database to an Oracle RAC database, you can use the <code class="codeph">srvctl</code> utility to convert the database to an Oracle RAC One Node database.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-038D3EE8-70E8-43C2-B39F-A5D111F93E81">About Preparing for Database Conversion</a></strong><br/>
Before you start the process of converting your database to a cluster database, your database environment must meet certain prerequisites.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-28AE064B-3389-4924-BEB1-7626ED7D8477">Overview of the Database Conversion Process Using Cloud Control</a></strong><br/>
You can convert a single-instance database to an Oracle RAC database using Oracle Enterprise Manager Cloud Control.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-524E3D4C-9680-434A-B8EB-269DA2326188">Overview of the Database Conversion Process Using rconfig</a></strong><br/>
This topic provides an outline of the process of converting a single-instance database to an Oracle RAC database using the <code class="codeph">rconfig</code> utility.</li>
<li class="ulchildlink"><strong><a href="install_rac.htm#GUID-0A2A815E-8F99-4D1F-9048-BFAF219134DF">Converting an Oracle RAC Database into an Oracle RAC One Node Database</a></strong><br/>
After you use the <code class="codeph">rconfig</code> utility to convert a single-instance Oracle database into a single-node Oracle RAC database, you can use the <code class="codeph">srvctl</code> utility to convert the database into an Oracle RAC One Node database.</li>
</ul>
</div>
<a id="TDPRC186"></a>
<div class="props_rev_3"><a id="GUID-038D3EE8-70E8-43C2-B39F-A5D111F93E81"></a>
<h3 id="TDPRC-GUID-038D3EE8-70E8-43C2-B39F-A5D111F93E81" class="sect3">About Preparing for Database Conversion</h3>
<div>
<p>Before you start the process of converting your database to a cluster database, your database environment must meet certain prerequisites.</p>
<ul style="list-style-type: disc;">
<li>
<p>The existing database and the target Oracle RAC database must be on the same release of Oracle Database 12<span class="italic">c</span> and must be running on the same platform.</p>
</li>
<li>
<p>The hardware and operating system software used to implement your Oracle RAC database must be certified for use with the release of the Oracle RAC software you are installing.</p>
</li>
<li>
<p>You must configure shared storage for your Oracle RAC database. You will need additional shared storage for the Oracle Clusterware files, such as the Oracle Cluster Registry, the voting files, and the Grid Infrastructure Management Repository.</p>
</li>
<li>
<p>You must verify that any applications that run against the Oracle RAC database do not need any additional configuration before they can be used successfully with the cluster database. This applies to both Oracle applications and database features, such as Oracle Streams, and applications and products that do not come from Oracle.</p>
</li>
<li>
<p>Backup procedures should be available before converting from a single-instance Oracle Database to Oracle RAC.</p>
</li>
<li>
<p>For archiving in Oracle RAC environments, the archive log file format requires a thread number.</p>
</li>
<li>
<p>The archived redo log files from all instances of an Oracle RAC database are required for media recovery. If you archive to a file and you do not use a cluster file system, or some other means to provide shared file systems, then you require a method of accessing the archived redo log files from all nodes on which the cluster database has instances.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-038D3EE8-70E8-43C2-B39F-A5D111F93E81__GUID-92D416EC-81A9-4A33-9C0C-82E3738A0C87">
<p class="notep1">Note:</p>
<p>For information about using individual Oracle Database 12<span class="italic">c</span> database products or options, refer to the product documentation library, which is available on the Oracle Help Center website at <a href="http://docs.oracle.com/en/database/" target="_blank"><code class="codeph">http://docs.oracle.com/en/database/</code></a></p>
</div>
<div class="infoboxnotealso" id="GUID-038D3EE8-70E8-43C2-B39F-A5D111F93E81__GUID-11FC313A-B6EF-4559-8268-6DDEA162D23B">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="intro_tdprc.htm#GUID-DAC72B0F-2B92-4233-8EF3-FF008D3A0CA5" title="Oracle Real Application Clusters is supported on a variety of different operating systems.">About Installing Oracle RAC on Different Operating Systems</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="preparing.htm#GUID-10CB3DEB-A83A-4101-8078-B91669133D1E" title="Before you begin your installation, check to ensure that your system meets the requirements for Oracle Real Application Clusters (Oracle RAC).">Verifying System Requirements</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="preparing.htm#GUID-FBC7E608-113A-4393-8603-9B2F6967F867" title="Oracle RAC requires access to a shared file system for storing Oracle Clusterware files. You must also determine where the Oracle software and database files will be installed.">Configuring Installation Directories and Shared Storage</a> &#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="TDPRC187"></a>
<div class="props_rev_3"><a id="GUID-28AE064B-3389-4924-BEB1-7626ED7D8477"></a>
<h3 id="TDPRC-GUID-28AE064B-3389-4924-BEB1-7626ED7D8477" class="sect3">Overview of the Database Conversion Process Using Cloud Control</h3>
<div>
<p>You can convert a single-instance database to an Oracle RAC database using Oracle Enterprise Manager Cloud Control.</p>
<p>This section summarizes the process of converting a single-instance database to an Oracle RAC database:</p>
<ul style="list-style-type: disc;">
<li>
<p>Complete the prerequisite tasks for converting to an Oracle RAC database:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Clusterware and Oracle Database software is installed on all target nodes.</p>
</li>
<li>
<p>Oracle Clusterware is started.</p>
</li>
<li>
<p>The Oracle Database binary is enabled for Oracle RAC on all target nodes.</p>
</li>
<li>
<p>Shared storage is configured and accessible from all nodes.</p>
</li>
<li>
<p>User equivalency is configured for the operating system user performing the conversion.</p>
</li>
<li>
<p>Enterprise Manager agents are configured and running on all nodes, and are configured with the cluster and host information.</p>
</li>
<li>
<p>The database being converted has been backed up successfully.</p>
</li>
</ul>
</li>
<li>
<p>Access the Database Home page for the database you want to convert. For instructions on navigating to the Database Home page, see &#34;Accessing the Database Home Page&#34; in the <a class="olink ADMQS033" target="_blank" href="../ADMQS/GUID-E2807CDE-1401-4A79-8131-EBC6D45C71B4.htm#ADMQS033"><span><cite>Oracle Database 2 Day DBA</cite></span></a>Guide.</p>
</li>
<li>
<p>From the <span class="bold">Availability</span> menu, select <span class="bold">Convert to Cluster Database</span>.</p>
</li>
<li>
<p>Provide the necessary credentials.</p>
</li>
<li>
<p>Select the host nodes that should contain instances of the new database.</p>
</li>
<li>
<p>Provide listener and instance configuration information.</p>
</li>
<li>
<p>Specify the location of the shared storage to be used for the data files.</p>
</li>
<li>
<p>Submit the job.</p>
</li>
<li>
<p>Complete the post-conversion tasks.</p>
</li>
</ul>
<p>The resulting Oracle RAC database uses a server pool instead of a fixed configuration.</p>
<div class="infoboxnotealso" id="GUID-28AE064B-3389-4924-BEB1-7626ED7D8477__GUID-41A4DBF9-E158-4B64-9F42-C99BE1C092AF">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD8871" target="_blank" href="../RACAD/GUID-AB9AFE38-0992-4EC1-A645-E41C0E25BE0A.htm#RACAD8871"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for a complete description of this process</p>
</div>
</div>
</div>
<a id="TDPRC188"></a>
<div class="props_rev_3"><a id="GUID-524E3D4C-9680-434A-B8EB-269DA2326188"></a>
<h3 id="TDPRC-GUID-524E3D4C-9680-434A-B8EB-269DA2326188" class="sect3">Overview of the Database Conversion Process Using rconfig</h3>
<div>
<p>This topic provides an outline of the process of converting a single-instance database to an Oracle RAC database using the <code class="codeph">rconfig</code> utility.</p>
<ul style="list-style-type: disc;">
<li>
<p>Complete the prerequisite tasks for converting to an Oracle RAC database.</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Clusterware and Oracle Database software is installed on all target nodes.</p>
</li>
<li>
<p>Oracle Clusterware is started.</p>
</li>
<li>
<p>The Oracle Database binary is enabled for Oracle RAC on all target nodes.</p>
</li>
<li>
<p>Shared storage is configured and accessible from all nodes.</p>
</li>
<li>
<p>User equivalency is configured for the operating system user performing the conversion.</p>
</li>
<li>
<p>The database being converted has been backed up successfully.</p>
</li>
</ul>
</li>
<li>
<p>Using <code class="codeph">rconfig</code>, you can convert a single-instance database to either an administrator-managed cluster database or a policy-managed cluster database. Modify the parameters in either the <code class="codeph">ConvertToRAC_AdminManaged.xml</code> or <code class="codeph">ConvertToRAC_PolicyManaged.xml</code> sample file, as appropriate for your environment, then save the file to a new location. Both files are located in the <code><span class="variable">Oracle_home</span>/assistants/rconfig/sampleXMLs</code> directory.</p>
</li>
<li>
<p>Run the <code class="codeph">rconfig</code> command, supplying the name of the modified XML file as input.</p>
</li>
<li>
<p>Complete the post-conversion tasks.</p>
</li>
</ul>
<p>You can also use the <code class="codeph">rconfig</code> utility to convert single-instance Oracle ASM to clustered Oracle ASM.</p>
<div class="infoboxnotealso" id="GUID-524E3D4C-9680-434A-B8EB-269DA2326188__GUID-F09B7B57-E365-4214-9D97-9E95C11B2DCF">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD8870" target="_blank" href="../RACAD/GUID-C846650A-B9CC-40C7-B31B-02CEE1177D60.htm#RACAD8870"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for a complete description of this process</p>
</div>
</div>
</div>
<a id="TDPRC567"></a>
<div class="props_rev_3"><a id="GUID-0A2A815E-8F99-4D1F-9048-BFAF219134DF"></a>
<h3 id="TDPRC-GUID-0A2A815E-8F99-4D1F-9048-BFAF219134DF" class="sect3">Converting an Oracle RAC Database into an Oracle RAC One Node Database</h3>
<div>
<p>After you use the <code class="codeph">rconfig</code> utility to convert a single-instance Oracle database into a single-node Oracle RAC database, you can use the <code class="codeph">srvctl</code> utility to convert the database into an Oracle RAC One Node database.</p>
<div class="section">
<p>To convert your database to an Oracle RAC One Node database, use the following command:</p>
<pre dir="ltr">srvctl convert database -db <span class="variable">database_name</span> -dbtype RACONENODE
</pre>
<p>An Oracle RAC One Node database must be part of a multi-node cluster to support failover or online database relocation. You must either install Oracle Grid Infrastructure for a cluster and Oracle RAC on at least two nodes, or add a node to your existing single-node Oracle RAC database.</p>
<div class="infoboxnotealso" id="GUID-0A2A815E-8F99-4D1F-9048-BFAF219134DF__GUID-4A2701BA-0751-4D9E-8858-E60B0206AE0D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="addnodes.htm#GUID-510D69A2-5CFC-4D82-929A-3F2BD3B20759" title="You can extend an existing Oracle Real Application Clusters (Oracle RAC) home to other nodes and instances in the cluster, and delete Oracle RAC instances and remove nodes from the cluster.">Adding and Deleting Nodes and Instances</a> &#34;</span> for more information about adding nodes</p>
</li>
<li>
<p><span class="q">&#34;<a href="intro_tdprc.htm#GUID-4AF3DA8B-06CD-480A-AAD6-407800222208" title="Oracle RAC One Node is a single instance of an Oracle RAC-enabled database running on one node in the cluster, only, under normal operations.">About Oracle RAC One Node</a>&#34;</span> for more information about Oracle RAC One Node</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment5060">
<tr>
<td class="cellalignment5074">
<table class="cellalignment5065">
<tr>
<td class="cellalignment5064"><a href="preparing.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5064"><a href="adminrac.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment5076">
<table class="cellalignment5063">
<tr>
<td class="cellalignment5064"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5064"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5064"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5064"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5064"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment5064"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="Content-Script-Type" content="text/javascript"/>
<meta name="generator" content="DITA Open Toolkit version 1.8.5"/>
<a class="dashingAutolink" name="autolink-6033"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Description%20of%20the%20illustration%20dwhsg120.png"></a><title>Description of the illustration dwhsg120.png</title>
<link rel="stylesheet" href="../../dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css"/>
</head>
<body>
<div>
<p>This illustrates the process flow in a SQL model. The SQL statement in question is:</p>
<p>The the flow is:</p>
<ul style="list-style-type: disc;">
<li>
<p>The query results input to MODEL clause are vcr 2001 sales of 9 and dvd sales for 2001 of 0</p>
</li>
<li>
<p>An array is defined of prod/year with 1999, 2000, and 2001 values of vcr 1, 5, 9; dvd 2, 6, 0; tv 3, 7, 1; pc 4, 8, 2</p>
</li>
<li>
<p>rule 1 is applied so the values for 2000 change to vcr=2, dvd=4, tv=6, pc=8</p>
</li>
<li>
<p>rule 2 is applied so the value for 2002vcr=11</p>
</li>
<li>
<p>rule 3 is applied so the value for 2002 dvd=3</p>
</li>
<li>
<p>MODEL clause results converted back to rows (vcr, 2001, 9), (dvd, 2001, 0), (vcr, 2002, 11), and (dvd, 2002, 3)</p>
</li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p>MODEL</p>
</li>
<li>
<p>DIMENSION BY (prod, year)</p>
</li>
<li>
<p>MEASURES (sales s)</p>
</li>
<li>
<p>RULES UPSERT</p>
</li>
<li>
<p>s[ANY, 2000] = s[CV(prod), CV(year -1)*2], -- rule 1</p>
</li>
<li>
<p>s[vcr, 2000] = s[vcr, 2001 + s[vcr, 2000], -- rule 2</p>
</li>
<li>
<p>s[dvd, 2002] = AVG(s)[CV(prod), year &lt; 2001]) -- rule 3</p>
</li>
</ul>
</div>
<div class="footer"><img class="copyrightlogo" src="../../dcommon/gifs/oracle.gif" alt="Oracle Logo"/> <a href="../../dcommon/html/cpyr.htm"><br/>
<span class="copyrightlogo">Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span></a></div>


</body></html>
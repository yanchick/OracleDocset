<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88432"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/IMPORT%20CATALOG"></a><title>IMPORT CATALOG</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="metadata, changing catalog schemas, recovery catalogs, moving metadata, target databases, maintaining single metadata catalog, catalogs, importing, IMPORT CATALOG command"/>
<meta name="dcterms.created" content="2017-06-08T22:24:36Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Backup and Recovery Reference"/>
<meta name="dcterms.identifier" content="E50791-08"/>
<meta name="dcterms.isVersionOf" content="RCMRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rcmsynta025.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rcmsynta027.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50791-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-70D3A403-822A-40E7-B1BC-C7649F441058"></a> <span id="PAGE" style="display:none;">32/152</span> <!-- End Header -->
<a id="RCMRF90194"></a><a id="RCMRF90195"></a><a id="RCMRF90196"></a><a id="RCMRF198"></a>
<h1 class="sect1">IMPORT CATALOG</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
<p>Use the <code class="codeph">IMPORT CATALOG</code> command to import the metadata from one recovery catalog schema into a different catalog schema. If you created catalog schemas of different versions to store metadata for multiple target databases, then this command enables you to maintain a single catalog schema for all databases.</p>
<div class="infoboxnotealso" id="GUID-70D3A403-822A-40E7-B1BC-C7649F441058__GUID-0B3F9D4B-7958-45AF-8480-DB84E8742161">
<p class="notep1">See Also:</p>
<p><code class="codeph"><a href="rcmsynta012.htm#GUID-9CFE47C7-2273-48C4-8056-6A4042AF3CDC">CREATE CATALOG</a></code></p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Prerequisites</p>
<p>RMAN must be connected to the destination recovery catalog, which is the catalog into which you want to import catalog data. This recovery catalog must not be a virtual private catalog.</p>
<p>No target database connection is needed to merge catalog schemas. Execute this command at the RMAN prompt.</p>
<p>The version of the source recovery catalog schema must be equal to the current version of the destination recovery catalog schema. If they are not equal, then upgrade the schemas to the same version.</p>
<p>Ensure that the same database is not registered in both the source recovery catalog schema and destination catalog schema. If a database is registered in both schemas, then <code class="codeph"><a href="rcmsynta2023.htm#GUID-CFC11D2B-0F77-4253-87E6-483C2C4452BB">UNREGISTER</a></code> this database from source recovery catalog and execute the <code class="codeph">IMPORT</code> command again.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>If the operation fails in the middle of the import, then the import is rolled back. Thus, a partial import is not permitted. The unregister operation is separate from the import. By default, the imported database IDs are unregistered from the source recovery catalog schema after a successful import.</p>
<p><a id="d52015e135" class="indexterm-anchor"></a>Stored scripts are either global or local. It is possible for global scripts, but not local scripts, to have name conflicts during import because the destination schema contains an object with the same name. In this case, RMAN renames the global script name to <code class="codeph">COPY OF</code> <span class="italic"><code class="codeph">script_name</code></span>. For example, RMAN renames <code class="codeph">bp_cmd</code> to <code class="codeph">COPY OF bp_cmd</code>.</p>
<p>If the renamed global script is still not unique, then RMAN renames it to <code class="codeph">COPY(2) OF</code> <span class="italic"><code class="codeph">script_name</code></span>. If this script name also exists, then RMAN renames the script to <code class="codeph">COPY(3) OF</code> <span class="italic"><code class="codeph">script_name</code></span>. RMAN continues the <code class="codeph">COPY(</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">) OF</code> pattern until the script is uniquely named.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<p><span class="bold"><span class="italic">import</span>::=</span></p>
<div class="figure" id="GUID-70D3A403-822A-40E7-B1BC-C7649F441058__GUID-1DE31BF8-2EF4-4BB4-9733-AADEB6D29FBD"><img width="593" height="162" src="img/GUID-3302A77B-5DC4-4932-8F04-F28D2755D137-default.gif" alt="Description of GUID-3302A77B-5DC4-4932-8F04-F28D2755D137-print.eps follows" title="Description of GUID-3302A77B-5DC4-4932-8F04-F28D2755D137-print.eps follows"/><br/>
<a href="img_text/GUID-3302A77B-5DC4-4932-8F04-F28D2755D137-print.htm">Description of the illustration GUID-3302A77B-5DC4-4932-8F04-F28D2755D137-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD__BABHGJJD">connectStringSpec::=</a></span>)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Semantics</p>
<div class="tblformalwide" id="GUID-70D3A403-822A-40E7-B1BC-C7649F441058__GUID-A6116510-9843-4735-8397-2D47159B1AD3">
<table class="cellalignment1044" summary="Describes IMPORT CATALOG command parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d52015e204">Syntax Element</th>
<th class="cellalignment1052" id="d52015e207">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d52015e212" headers="d52015e204">
<p><span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d52015e212 d52015e207">
<p>Specifies the connection string for the source recovery catalog, which is the catalog whose metadata is imported.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d52015e223" headers="d52015e204">
<p><code class="codeph">DBID</code> <span class="italic"><code class="codeph">integer</code></span></p>
</td>
<td class="cellalignment1053" headers="d52015e223 d52015e207">
<p>Specifies the list of DBIDs for the databases whose metadata is imported from the source catalog schema (see <a href="rcmsynta026.htm#GUID-70D3A403-822A-40E7-B1BC-C7649F441058__CHDIBDIB">Example 2-104</a>).</p>
<p>When not specified, RMAN merges metadata for all database IDs from the source catalog schema into the destination catalog schema. RMAN issues an error if the database whose metadata is merged is already registered in the recovery catalog schema.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d52015e239" headers="d52015e204">
<p><code class="codeph">DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d52015e239 d52015e207">
<p>Specifies the list of databases whose metadata is imported from the source catalog schema (see <a href="rcmsynta026.htm#GUID-70D3A403-822A-40E7-B1BC-C7649F441058__CHDIBDIB">Example 2-104</a>).</p>
<p>When not specified, RMAN merges metadata for all databases from the source catalog schema into the destination catalog schema. RMAN issues an error if the same DBID is registered in both recovery catalogs.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d52015e255" headers="d52015e204">
<p><code class="codeph">NO UNREGISTER</code></p>
</td>
<td class="cellalignment1053" headers="d52015e255 d52015e207">
<p>Forces RMAN to keep imported database IDs in the source catalog schema. By default, the imported database IDs are unregistered from source recovery catalog schema.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-70D3A403-822A-40E7-B1BC-C7649F441058__CHDIIACD">
<p class="titleinexample">Example 2-103 Importing Metadata for All Registered Databases</p>
<p>In this example, database <code class="codeph">prod</code> contains a 10.2 catalog schema owned by user <code class="codeph">rcat</code>, while database <code class="codeph">catdb</code> contains an 11.1 catalog schema owned by user <code class="codeph">rco</code>. RMAN imports metadata for all database IDs registered in <code class="codeph">rcat</code> into the recovery catalog owned by <code class="codeph">rco</code>. All target databases registered in <code class="codeph">rcat</code> are unregistered.</p>
<pre dir="ltr">RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>
connected to recovery catalog database
 
RMAN&gt; IMPORT CATALOG rcat@prod;
 
Starting import catalog at 15-FEB-13
source recovery catalog database Password: <span class="italic">password</span>
connected to source recovery catalog database
import validation complete
database unregistered from the source recovery catalog
Finished import catalog at 15-FEB-13
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-70D3A403-822A-40E7-B1BC-C7649F441058__CHDIBDIB">
<p class="titleinexample">Example 2-104 Importing Metadata for a Subset of Registered Databases</p>
<p>This example is a variation on <a href="rcmsynta026.htm#GUID-70D3A403-822A-40E7-B1BC-C7649F441058__CHDIIACD">Example 2-103</a>. Instead of importing the entire recovery catalog, it imports only the metadata for the database with DBID 1618984270.</p>
<pre dir="ltr">RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>
connected to recovery catalog database
 
RMAN&gt; IMPORT CATALOG rcat@inst1 DBID=1618984270;
 
Starting import catalog at 15-FEB-13
source recovery catalog database Password: <span class="italic">password</span>
connected to source recovery catalog database
import validation complete
database unregistered from the source recovery catalog
Finished import catalog at 15-FEB-13
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1037">
<tr>
<td class="cellalignment1049">
<table class="cellalignment1042">
<tr>
<td class="cellalignment1041"><a href="rcmsynta025.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1041"><a href="rcmsynta027.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1051">
<table class="cellalignment1040">
<tr>
<td class="cellalignment1041"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1041"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1041"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1041"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1041"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1041"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
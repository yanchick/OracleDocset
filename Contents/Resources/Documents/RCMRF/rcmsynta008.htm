<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88414"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/CHANGE"></a><title>CHANGE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="repositories, updating availability status, automatic diagnostic repository, changing logged failures, DB_UNIQUE_NAME setting, recovery catalog, updating DB_UNIQUE_NAME, Data Guard backups, changing associated database, CHANGE command, resetDbUniqueNameOption subclause, parameter descriptions, changeFailure subclause"/>
<meta name="dcterms.created" content="2017-06-08T22:24:36Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Backup and Recovery Reference"/>
<meta name="dcterms.identifier" content="E50791-08"/>
<meta name="dcterms.isVersionOf" content="RCMRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rcmsynta007.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rcmsynta009.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50791-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2"></a> <span id="PAGE" style="display:none;">14/152</span> <!-- End Header -->
<a id="RCMRF90056"></a><a id="RCMRF90057"></a><a id="RCMRF90058"></a><a id="RCMRF90059"></a><a id="RCMRF90060"></a><a id="RCMRF90061"></a><a id="RCMRF90062"></a><a id="RCMRF90063"></a><a id="RCMRF90064"></a><a id="RCMRF90065"></a><a id="RCMRF90066"></a><a id="RCMRF90067"></a><a id="RCMRF90068"></a><a id="RCMRF90069"></a><a id="RCMRF90070"></a><a id="RCMRF110"></a>
<h1 class="sect1">CHANGE</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
<p>Use the <code class="codeph">CHANGE</code> command to perform the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Update the availability status of backups and copies recorded in the RMAN repository</p>
</li>
<li>
<p>Change the priority of or close failures recorded in the automatic diagnostic repository</p>
</li>
<li>
<p>Update the <code class="codeph">DB_UNIQUE_NAME</code> recorded in the recovery catalog for the target database</p>
</li>
<li>
<p>Associate the backup of a database in a Data Guard environment with a different database in the environment</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="infoboxnotealso" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-7A310409-B6A4-4259-A33B-E4CBBA47CB55">
<p class="notep1">See Also:</p>
<p><a class="olink BRADV8173" target="_blank" href="../BRADV/rcmmaint.htm#BRADV8173"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> to change the availability status of a backup or copy</p>
</div>
<div class="section">
<p class="subhead1">Prerequisites</p>
<p>RMAN must be connected as <code class="codeph">TARGET</code> to a database instance, which must be started.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p><span class="q">&#34;<a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIIGD">RMAN Backups in a Data Guard Environment</a>&#34;</span> explains the difference between the association and accessibility of a backup. In a Data Guard environment, the database that creates a backup or copy is associated with the file. You can use maintenance commands such as <code class="codeph">CHANGE</code>, <code class="codeph"><a href="rcmsynta015.htm#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code>, and <code class="codeph"><a href="rcmsynta014.htm#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code> for backups when connected to any database in the Data Guard environment if the backups are accessible. In general, RMAN considers tape backups created on any database as accessible to all databases in the environment, whereas disk backups are accessible only to the database that created them.</p>
<p>For example, suppose that you connect RMAN as <code class="codeph">TARGET</code> to standby database <code class="codeph">standby1</code> and back it up to tape and disk. If the tape drive becomes unavailable, then you can connect RMAN as <code class="codeph">TARGET</code> to any primary or standby database in the Data Guard environment to change the status of the tape backup to <code class="codeph">UNAVAILABLE</code>. After the tape drive is repaired, you can connect RMAN as <code class="codeph">TARGET</code> to any database to change the status of the tape backup back to <code class="codeph">AVAILABLE</code>. However, if the disk backup is accidentally removed by an operating system utility, then RMAN can only change the status of the disk backup when connected as <code class="codeph">TARGET</code> to <code class="codeph">standby1</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<p><span class="bold"><span class="italic">change</span>::=</span></p>
<div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-2DA8C741-34BB-4D19-91EE-48300CE8E2F4"><img width="751" height="189" src="img/GUID-9AE34D4C-4D3B-46DD-8689-877549F030F2-default.gif" alt="Description of GUID-9AE34D4C-4D3B-46DD-8689-877549F030F2-print.eps follows" title="Description of GUID-9AE34D4C-4D3B-46DD-8689-877549F030F2-print.eps follows"/><br/>
<a href="img_text/GUID-9AE34D4C-4D3B-46DD-8689-877549F030F2-print.htm">Description of the illustration GUID-9AE34D4C-4D3B-46DD-8689-877549F030F2-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEJJII">maintSpec::=</a></span>, <span class="italic"><a href="rcmsubcl009.htm#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE__BABBBGBC">forDbUniqueNameOption::=</a></span>, <span class="italic"><a href="rcmsubcl013.htm#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B__BABGDGCC">keepOption::=</a></span>, <span class="italic"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>)</p>
<p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEJJII"><a id="d23726e246" class="indexterm-anchor"></a><a id="d23726e250" class="indexterm-anchor"></a><span class="bold"><span class="italic">maintSpec</span>::=</span></p>
<div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-C58C5A51-A340-4709-BBCA-BB6B5D764CC3"><img width="362" height="194" src="img/GUID-78CE780B-74FE-47F7-A520-154DEE1A91E4-default.gif" alt="Description of GUID-78CE780B-74FE-47F7-A520-154DEE1A91E4-print.eps follows" title="Description of GUID-78CE780B-74FE-47F7-A520-154DEE1A91E4-print.eps follows"/><br/>
<a href="img_text/GUID-78CE780B-74FE-47F7-A520-154DEE1A91E4-print.htm">Description of the illustration GUID-78CE780B-74FE-47F7-A520-154DEE1A91E4-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsubcl014.htm#GUID-73596ED4-99FE-45B8-B333-FECC698E1374__BABBEIIJ">listObjList::=</a></span>, <span class="italic"><a href="rcmsubcl002.htm#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier::=</a></span>, <span class="italic"><a href="rcmsubcl015.htm#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F__BABEEGAJ">maintQualifier::=</a></span>, <span class="italic"><a href="rcmsubcl018.htm#GUID-92F09EC0-5E30-47C0-834E-5A24FAE98F14__BABEIAEB">recordSpec::=</a></span>, <span class="italic"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>)</p>
<p><a id="d23726e284" class="indexterm-anchor"></a><a id="d23726e288" class="indexterm-anchor"></a><span class="bold"><span class="italic">forDbUniqueNameOption</span>::=</span></p>
<div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-3B9E4370-8966-4E1B-9C7A-35D1B374C97F"><img width="381" height="64" src="img/GUID-ACC77609-7337-45BC-ABC0-CA0FA570E3D7-default.gif" alt="Description of GUID-ACC77609-7337-45BC-ABC0-CA0FA570E3D7-print.eps follows" title="Description of GUID-ACC77609-7337-45BC-ABC0-CA0FA570E3D7-print.eps follows"/><br/>
<a href="img_text/GUID-ACC77609-7337-45BC-ABC0-CA0FA570E3D7-print.htm">Description of the illustration GUID-ACC77609-7337-45BC-ABC0-CA0FA570E3D7-print.eps</a></div>
<!-- class="figure" -->
<p><a id="d23726e300" class="indexterm-anchor"></a><a id="d23726e304" class="indexterm-anchor"></a><span class="bold"><span class="italic">resetDbUniqueNameOption</span>::=</span></p>
<div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-1E6EEBAA-4994-4C8F-9155-7DD95FA03E2B"><img width="423" height="53" src="img/GUID-5272BA3E-66A6-40FA-8A72-38AB7502982D-default.gif" alt="Description of GUID-5272BA3E-66A6-40FA-8A72-38AB7502982D-print.eps follows" title="Description of GUID-5272BA3E-66A6-40FA-8A72-38AB7502982D-print.eps follows"/><br/>
<a href="img_text/GUID-5272BA3E-66A6-40FA-8A72-38AB7502982D-print.htm">Description of the illustration GUID-5272BA3E-66A6-40FA-8A72-38AB7502982D-print.eps</a></div>
<!-- class="figure" -->
<p><a id="d23726e317" class="indexterm-anchor"></a><a id="d23726e321" class="indexterm-anchor"></a><span class="bold"><span class="italic">changeFailure</span>::=</span></p>
<div class="figure" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-5793F7BA-1593-4A4C-942B-61AFD01781D5"><img width="721" height="183" src="img/GUID-FC0AA954-5D60-46FD-80E8-D2C78F37B071-default.gif" alt="Description of GUID-FC0AA954-5D60-46FD-80E8-D2C78F37B071-print.eps follows" title="Description of GUID-FC0AA954-5D60-46FD-80E8-D2C78F37B071-print.eps follows"/><br/>
<a href="img_text/GUID-FC0AA954-5D60-46FD-80E8-D2C78F37B071-print.htm">Description of the illustration GUID-FC0AA954-5D60-46FD-80E8-D2C78F37B071-print.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Semantics</p>
<p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDDBFA"><span class="bold"><span class="italic">change</span></span></p>
<p>This clause enables you to change the status of RMAN repository records. To obtain the primary keys of RMAN repository records whose status you want to change, run a <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> command or query the recovery catalog views.</p>
<div class="tblformalwide" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-B9B45BD1-C6C5-412D-831E-35CB401D8B61">
<table class="cellalignment1044" summary="Describes CHANGE command parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d23726e354">Syntax Element</th>
<th class="cellalignment1052" id="d23726e357">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e362" headers="d23726e354">
<p><span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e362 d23726e357">
<p>Specifies which files you want to <code class="codeph">CHANGE</code>.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> for descriptions of the options in this clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e386" headers="d23726e354">
<p><span class="italic"><code class="codeph">&nbsp;&nbsp;&nbsp;<a href="rcmsubcl009.htm#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e386 d23726e357">
<p>Changes the metadata for objects that are exclusively associated with the specified <code class="codeph">DB_UNIQUE_NAME</code> in a Data Guard environment.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl009.htm#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span> for descriptions of the options in this clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e411" headers="d23726e354">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;AVAILABLE</code></p>
</td>
<td class="cellalignment1053" headers="d23726e411 d23726e357">
<p><a id="d23726e417" class="indexterm-anchor"></a><a id="d23726e419" class="indexterm-anchor"></a><a id="d23726e423" class="indexterm-anchor"></a><a id="d23726e427" class="indexterm-anchor"></a>Changes the status of a backup or copy to <code class="codeph">AVAILABLE</code> in the repository. RMAN searches for the file and verifies that it exists.</p>
<p>This feature is useful when a previously unavailable file is made available again. You can also use this option to alter the repository status of backups and copies from prior incarnations.</p>
<p>This is the only <code class="codeph">CHANGE</code> option that requires either a manual or automatic maintenance channel. A maintenance channel is not required, however, when <code class="codeph">CHANGE ... AVAILABLE</code> is used with a file that is disk only (that is, an <code class="codeph">ARCHIVELOG</code>, <code class="codeph">DATAFILECOPY</code>, or <code class="codeph">CONTROLFILECOPY</code>). If you use <code class="codeph">CHANGE ... AVAILABLE</code> on files that are not disk-only, and have objects created on device types that are not configured for automatic channels, then issue manual maintenance commands on these channels. For example, if you created a backup on an <code class="codeph">sbt</code> channel, but have only a <code class="codeph">DISK</code> channel automatically configured, then you must manually allocate an <code class="codeph">sbt</code> channel before <code class="codeph">CHANGE ... AVAILABLE</code> can operate on the backup.</p>
<p>If you execute <code class="codeph">CHANGE ... AVAILABLE</code> for a file in a Data Guard environment, then RMAN attempts to cross-check the file before updating its status to <code class="codeph">AVAILABLE</code>. If the file is inaccessible, then RMAN prompts you to perform the same operation when connected as <code class="codeph">TARGET</code> to the database associated with the file. If the file is accessible, then RMAN updates the status as requested.</p>
<p><span class="bold">Note:</span> You can view the status of backups in the <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> output or recovery catalog views.</p>
<p><span class="bold">Note:</span> <code class="codeph">CHANGE ... AVAILABLE</code> is not valid for foreign archived redo log files, which are received by a logical standby database for a <a id="d23726e497" class="indexterm-anchor"></a>LogMiner session. Unlike normal archived redo log files, foreign archived redo log files have a different DBID.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e501" headers="d23726e354">
<p><span class="italic"><code class="codeph">&nbsp;&nbsp;&nbsp;<a href="rcmsubcl013.htm#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e501 d23726e357">
<p><a id="d23726e511" class="indexterm-anchor"></a>Changes the exemption status of a backup or copy in relation to the configured retention policy. For example, specify <code class="codeph">CHANGE ... NOKEEP</code> to remove the <code class="codeph">KEEP</code> attributes for a backup, making it subject to the backup retention policy.</p>
<p>The <code class="codeph">KEEP FOREVER</code> clause requires use of a recovery catalog (see <a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDHFHGC">Example 2-45</a>). The <code class="codeph">RESTORE POINT</code> option is not valid with <code class="codeph">CHANGE</code>. You cannot use <code class="codeph">CHANGE ... UNAVAILABLE</code> or <code class="codeph">KEEP</code> attributes for files stored in the fast recovery area.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl013.htm#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e552" headers="d23726e354">
<p><span class="italic"><code class="codeph"><a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDEBAI">resetDbUniqueNameOption</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e552 d23726e357">
<p>Associates the files in <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> with a different database in a Data Guard environment.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDEBAI">resetDbUniqueNameOption</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e576" headers="d23726e354">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;UNAVAILABLE</code></p>
</td>
<td class="cellalignment1053" headers="d23726e576 d23726e357">
<p><a id="d23726e582" class="indexterm-anchor"></a><a id="d23726e584" class="indexterm-anchor"></a><a id="d23726e588" class="indexterm-anchor"></a><a id="d23726e592" class="indexterm-anchor"></a>Changes the status of a backup or copy to <code class="codeph">UNAVAILABLE</code> in the repository (see <a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEBBHI">Example 2-43</a>). View the status in the <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> output or recovery catalog views.</p>
<p><a id="d23726e608" class="indexterm-anchor"></a>This option is useful when a file cannot be found or has migrated offsite. RMAN does not use a file that is marked <code class="codeph">UNAVAILABLE</code> in a <code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> or <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command. If the file is later found or returns to the main site, then use the <code class="codeph">AVAILABLE</code> option to update its status. The <code class="codeph">UNAVAILABLE</code> option is also useful when you do not want a specific backup or copy to be eligible to be restored but also do not want to delete it, or when you want to alter the repository status of backups and copies from prior incarnations.</p>
<p><code class="codeph">CHANGE ... UNAVAILABLE</code> is not valid for files in the fast recovery area. This command is also not valid for foreign archived redo log files, which are received by a logical standby database for a LogMiner session. Unlike normal archived redo log files, foreign archived redo log files have a different DBID.</p>
<p><span class="bold">Note:</span> If you execute <code class="codeph">CHANGE ... UNAVAILABLE</code> for a file in a Data Guard environment, then RMAN does not attempt to cross-check the file before updating its status to <code class="codeph">UNAVAILABLE</code>. RMAN updates the status as requested regardless of whether the file physically exists.</p>
<p><span class="bold">Note:</span> The <code class="codeph">CHANGE ... UNAVAILABLE</code> command cannot be used when you back up target databases to Zero Data Loss Recovery Appliance, commonly known as Recovery Appliance.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e654" headers="d23726e354">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;UNCATALOG</code></p>
</td>
<td class="cellalignment1053" headers="d23726e654 d23726e357">
<p><a id="d23726e660" class="indexterm-anchor"></a>Removes references to a data file copy, backup piece, or archived redo log from the recovery catalog, and updates records in the target control file to status <code class="codeph">DELETED</code> (see <a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCADAJ">Example 2-44</a>). The <code class="codeph">CHANGE ... UNCATALOG</code> command does not touch physical backups and copies. Use this command to notify RMAN when a file is deleted by some means other than a <code class="codeph"><a href="rcmsynta015.htm#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> command.</p>
<p>If you execute <code class="codeph">CHANGE ... UNCATALOG</code> for a file in a Data Guard environment, then RMAN does not attempt to cross-check the file before removing its metadata from the recovery catalog. RMAN removes the metadata as requested regardless of whether the file physically exists.</p>
<p><span class="bold">Caution:</span> If you resynchronize from a backup control file, or upgrade the recovery catalog, then records previously removed from the RMAN repository with <code class="codeph">CHANGE ... UNCATALOG</code> may reappear in the recovery catalog.</p>
<p><span class="bold">Note:</span> The <code class="codeph">CHANGE ... UNCATALOG</code> command cannot be used when you back up target databases to Zero Data Loss Recovery Appliance, commonly known as Recovery Appliance.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e698" headers="d23726e354"><code class="codeph">&nbsp;&nbsp;&nbsp;DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
<td class="cellalignment1053" headers="d23726e698 d23726e357">
<p>Executes the <code class="codeph">CHANGE</code> for the specified device type only (see <span class="italic"><code class="codeph"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span>). This option is valid only if you have configured automatic channels and have not manually allocated channels. For example, if you run <code class="codeph">CHANGE UNCATALOG ... DEVICE TYPE DISK</code>, then RMAN only uncatalogs files on disk.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e723" headers="d23726e354">
<p><span class="italic"><code class="codeph"><a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDBGFCG">changeFailure</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e723 d23726e357">
<p>Specifies changes for failures recorded by the Data Recovery Advisor.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e733" headers="d23726e354"><code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">FROM</code> <span class="italic"><code class="codeph">db_unique_name</code></span> <code class="codeph">TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span></td>
<td class="cellalignment1053" headers="d23726e733 d23726e357">
<p>Updates the metadata in the recovery catalog to reflect a new <code class="codeph">DB_UNIQUE_NAME</code> for a database in a Data Guard environment. The first value specifies the old <code class="codeph">DB_UNIQUE_NAME</code> for the database currently recorded in the recovery catalog, whereas the second specifies the new <code class="codeph">DB_UNIQUE_NAME</code>.</p>
<p>RMAN must be connected to a recovery catalog and a mounted target database. The target database must not have the <code class="codeph">DB_UNIQUE_NAME</code> specified in the <code class="codeph">FROM</code> <span class="italic"><code class="codeph">db_unique_name</code></span> parameter; otherwise, RMAN signals an error.</p>
<p>Typically, you use this command after you have changed the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter of a database and must update its metadata in the recovery catalog. In general, do not run this command before performing any other RMAN operations on a renamed database. The recommended practice is to execute <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> before <code class="codeph">CHANGE DB_UNIQUE_NAME</code>.</p>
<p>Assume that you changed the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter for a standby database from <code class="codeph">standby_old</code> to <code class="codeph">standby_new</code>. Typically, you execute <code class="codeph">CHANGE DB_UNIQUE_NAME</code> in the following scenarios:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> command shows the old <code class="codeph">DB_UNIQUE_NAME</code> value but does <span class="italic">not</span> show the new one (see <a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCDEAC">Example 2-48</a>).</p>
</li>
<li>
<p>A <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> command shows both the old <span class="italic">and</span> new <code class="codeph">DB_UNIQUE_NAME</code> values. When RMAN connects as <code class="codeph">TARGET</code> to a database with an unrecognized <code class="codeph">DB_UNIQUE_NAME</code>, RMAN implicitly registers the instance as a new database. For this reason, <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">DB_UNIQUE_NAME</code> command can show both the old and new names (in this example, <code class="codeph">standby_old</code> and <code class="codeph">standby_new</code>) for a database whose <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter has been changed.</p>
</li>
</ul>
<p>In the scenario in which only the old name is listed, execute <code class="codeph">CHANGE DB_UNIQUE_NAME FROM standby_old TO standby_new</code> so that RMAN changes the <code class="codeph">DB_UNIQUE_NAME</code> for <code class="codeph">standby_old</code> to <code class="codeph">standby_new</code> in the recovery catalog.</p>
<p>In the scenario in which both the old and new names are listed, RMAN automatically executes the following commands when you run <code class="codeph">CHANGE DB_UNIQUE_NAME FROM standby_old TO standby_new</code>:</p>
<ol>
<li>
<p><code class="codeph">CHANGE ARCHIVELOG ALL FOR DB_UNIQUE_NAME standby_old RESET DB_UNIQUE_NAME</code></p>
</li>
<li>
<p><code class="codeph">CHANGE BACKUP FOR DB_UNIQUE_NAME standby_old RESET DB_UNIQUE_NAME</code></p>
</li>
<li>
<p><code class="codeph"><a href="rcmsynta2023.htm#GUID-CFC11D2B-0F77-4253-87E6-483C2C4452BB">UNREGISTER</a></code> <code class="codeph">DB_UNIQUE_NAME standby_old</code></p>
</li>
</ol>
<p>Thus, RMAN changes the association of all backups for the <code class="codeph">DB_UNIQUE_NAME</code> specified in the <code class="codeph">FROM</code> clause to the <code class="codeph">DB_UNIQUE_NAME</code> specified in the <code class="codeph">TO</code> clause.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDEBAI"><span class="bold"><span class="italic">resetDbUniqueNameOption</span></span></p>
<p><a id="d23726e919" class="indexterm-anchor"></a>This clause enables you to associate backups made on one database in a Data Guard environment with a different database in the environment. The following table explains the RMAN behavior when different options are specified with <code class="codeph">RESET DB_UNIQUE_NAME</code>.</p>
<div class="tblformal" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDJGCDI">
<p class="titleintable">Table 2-2 RESET DB_UNIQUE_NAME Options</p>
<table class="cellalignment1067" title="RESET DB_UNIQUE_NAME Options" summary="Describes the outcome of using different RESET DB_UNIQUE_NAME parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1072" id="d23726e938">TO db_unique_name</th>
<th class="cellalignment1072" id="d23726e943">FOR DB_UNIQUE_NAME</th>
<th class="cellalignment1076" id="d23726e946">RMAN Behavior</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1074" id="d23726e951" headers="d23726e938">
<p>No</p>
</td>
<td class="cellalignment1074" headers="d23726e951 d23726e943">
<p>No</p>
</td>
<td class="cellalignment1077" headers="d23726e951 d23726e946">
<p>RMAN associates the <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files with the target database. RMAN also changes the association of all backups that are not associated with any database.</p>
<p>Typically, you would execute <code class="codeph">CHANGE</code> with these options after upgrading to an Oracle Database 11<span class="italic">g</span> recovery catalog schema, so that you can associate the backups with the target database.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1074" id="d23726e975" headers="d23726e938">
<p>Yes</p>
</td>
<td class="cellalignment1074" headers="d23726e975 d23726e943">
<p>No</p>
</td>
<td class="cellalignment1077" headers="d23726e975 d23726e946">
<p>RMAN associates the <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files with the database indicated by the <code class="codeph">TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span>. RMAN also changes the association of all backups that are not associated with any database.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1074" id="d23726e998" headers="d23726e938">
<p>No</p>
</td>
<td class="cellalignment1074" headers="d23726e998 d23726e943">
<p>Yes</p>
</td>
<td class="cellalignment1077" headers="d23726e998 d23726e946">
<p>RMAN restricts its operations to <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files that are associated with the database in the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause, and then associates these files with the target database.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1074" id="d23726e1017" headers="d23726e938">
<p>Yes</p>
</td>
<td class="cellalignment1074" headers="d23726e1017 d23726e943">
<p>Yes</p>
</td>
<td class="cellalignment1077" headers="d23726e1017 d23726e946">
<p>RMAN restricts its operations to <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> files that are associated with the database in the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause, and then associates these files with the database specified by <code class="codeph">TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="tblformalwide" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-43D52AE1-3935-4F98-B0E3-A214AD12C42D">
<table class="cellalignment1044" summary="Describes the CHANGE command resetDbUniqueNameOption parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d23726e1050">Syntax Element</th>
<th class="cellalignment1052" id="d23726e1053">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1058" headers="d23726e1050">
<p><code class="codeph">RESET&nbsp;DB_UNIQUE_NAME</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1058 d23726e1053">
<p>Associates the files in <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> with the target database (see <a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDAFDE">Example 2-47</a>). <a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDJGCDI" title="Describes the outcome of using different RESET DB_UNIQUE_NAME parameters">Table 2-2</a> explains the RMAN behavior when different options are specified.</p>
<p>When changing the association of the files from one database to another database, RMAN deletes the duplicate names from the recovery catalog. For example, if you change the association of data file copy <code class="codeph">/d1/df1.bak</code> from database <code class="codeph">standby1</code> to database <code class="codeph">prod</code>, then the recovery catalog has only one record for this file rather than two.</p>
<p>Use caution when specifying the <code class="codeph">RESET DB_UNIQUE_NAME</code> option because you cannot undo the effect of this command. For example, after you have changed the association of the files associated with database <code class="codeph">standby1</code> to database <code class="codeph">prod</code>, the recovery catalog does not retain historical metadata about the database with which these files were previously associated. However, you can unregister database <code class="codeph">standby1</code> and connect RMAN again to <code class="codeph">standby1</code>, but the recovery catalog is updated with all metadata from the <code class="codeph">standby1</code> control file.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1111" headers="d23726e1050">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <span class="italic"><code class="codeph">db_unique_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e1111 d23726e1053">
<p>Associates the files in <span class="italic"><code class="codeph"><a href="rcmsubcl016.htm#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span> with the specified database in a Data Guard environment.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDBGFCG"><span class="bold"><span class="italic">changeFailure</span></span></p>
<p>This clause enables you to change the status of failures. Use the <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">FAILURE</code> command to show the list of failures.</p>
<div class="tblformalwide" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-E03C69D7-0EF4-442D-BD6B-8C52AE740B37">
<table class="cellalignment1044" summary="Describes the CHANGE command changeFailure parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d23726e1150">Syntax Element</th>
<th class="cellalignment1052" id="d23726e1153">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1158" headers="d23726e1150">
<p><code class="codeph">FAILURE</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1158 d23726e1153">
<p>Enables you to change priority or close failures recorded in the Automatic Diagnostic Repository. By default RMAN prompts for confirmation before performing the requested change.</p>
<p>The target database to which RMAN is connected must be a single-instance database and must not be a physical standby database.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1168" headers="d23726e1150">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;ALL</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1168 d23726e1153">
<p>Changes only open failures.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1176" headers="d23726e1150">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;CRITICAL</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1176 d23726e1153">
<p>Changes only critical failures.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1184" headers="d23726e1150">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;HIGH</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1184 d23726e1153">
<p>Changes only failures with <code class="codeph">HIGH</code> priority.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1195" headers="d23726e1150">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;LOW</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1195 d23726e1153">
<p>Changes only failures with <code class="codeph">LOW</code> priority.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1206" headers="d23726e1150">
<p><code class="codeph">UNKNOWN</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1206 d23726e1153">
<p>Changes only failures whose priority cannot be determined until the database is mounted.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1214" headers="d23726e1150">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">failnum</code></span></p>
</td>
<td class="cellalignment1053" headers="d23726e1214 d23726e1153">
<p>Changes only the specified failure.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1225" headers="d23726e1150"><code class="codeph">EXCLUDE&nbsp;FAILURE</code> <code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">failnum</code></span></td>
<td class="cellalignment1053" headers="d23726e1225 d23726e1153">
<p>Excludes the specified failures from the change. Use a comma-delimited list to specify multiple failures</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1238" headers="d23726e1150">
<p><code class="codeph">CLOSED</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1238 d23726e1153">
<p>Closes the specified failures by setting their status to <code class="codeph">CLOSED</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1249" headers="d23726e1150">
<p><code class="codeph">PRIORITY</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1249 d23726e1153">
<p>Changes the priority of the specified failures to <code class="codeph">LOW</code> or <code class="codeph">HIGH</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d23726e1263" headers="d23726e1150">
<p><code class="codeph">NOPROMPT</code></p>
</td>
<td class="cellalignment1053" headers="d23726e1263 d23726e1153">
<p>Does not prompt for confirmation before modifying the specified failures.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDEBBHI">
<p class="titleinexample">Example 2-43 Updating Backups to Status UNAVAILABLE</p>
<p>Assume that you have temporarily moved backup set 4 to a different location because of a space issue on disk. The backup, which has the key 4, is still listed as available:</p>
<pre dir="ltr">RMAN&gt; LIST BACKUP SUMMARY;
</pre>
<pre dir="ltr">List of Backups
===============
Key     TY LV S Device Type Completion Time #Pieces #Copies Compressed Tag
------- -- -- - ----------- --------------- ------- ------- ---------- ---
1       B  A  A DISK        24-FEB-13       1       1       NO         TAG20130427T115348
3       B  A  A DISK        24-MAR-13       1       1       NO         TAG20130427T115452
4       B  F  A DISK        24-APR-13       1       1       NO         TAG20130427T115456
</pre>
<p>You do not want to uncatalog the backup because you plan to move it back to its original location when more disk space is available. Thus, you make the backup unavailable as follows (sample output included):</p>
<pre dir="ltr">RMAN&gt; CHANGE BACKUPSET 4 UNAVAILABLE;
 
changed backup piece unavailable
backup piece handle=/disk2/backup/c-3257893776-20130424-00 RECID=4 STAMP=588858897
Changed 1 objects to UNAVAILABLE status
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCADAJ">
<p class="titleinexample">Example 2-44 Uncataloging and Recataloging Archived Redo Log Files</p>
<p>In this example, you move all archived redo log files to a new directory, uncatalog them, and then recatalog them in the new location:</p>
<pre dir="ltr">RMAN&gt; HOST &#39;/bin/mv $ORACLE_HOME/dbs/*.arc /disk2/archlog/&#39;;
RMAN&gt; CHANGE ARCHIVELOG ALL UNCATALOG;
RMAN&gt; CATALOG START WITH &#39;/disk2/archlog&#39; NOPROMPT;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDHFHGC">
<p class="titleinexample">Example 2-45 Changing a Database Backup into an Archival Backup</p>
<p>Assume your goal to is to change a database backup into an archival backup, which you plan to store offsite. Because the backup is consistent and requires no recovery, you do not need to store archived redo log files with the backup. The example uses the <code class="codeph">CHANGE ... KEEP FOREVER</code> command to specify that the backup is never obsolete.</p>
<pre dir="ltr">RMAN&gt; CONNECT TARGET /
RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>

RMAN&gt; CHANGE BACKUP TAG &#39;consistent_db_bkup&#39; KEEP FOREVER;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__GUID-322B1D26-308F-4F8A-9DB9-E0E39035FD9B">
<p class="titleinexample">Example 2-46 Changing the Status of a Failure</p>
<p>In the following example, the <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">FAILURE</code> command shows that a data file has corrupt blocks. The failure number is 5 and has a priority of <code class="codeph">HIGH</code>. This data file contains nonessential data, so you decide to change the priority of this failure to low.</p>
<pre dir="ltr">RMAN&gt; LIST FAILURE;

List of Database Failures
Failure ID Priority Status    Time Detected Summary
---------- -------- --------- ------------- -------
5          HIGH     OPEN      11-DEC-13     datafile 8 contains corrupt blocks
 
RMAN&gt; CHANGE FAILURE 5 PRIORITY LOW;
 
List of Database Failures
Failure ID Priority Status    Time Detected Summary
---------- -------- --------- ------------- -------
5          HIGH     OPEN      11-DEC-13     datafile 8 contains corrupt blocks
 
Do you really want to change the above failures (enter YES or NO)? YES
changed 1 failures to LOW priority
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDDAFDE">
<p class="titleinexample">Example 2-47 Associating Backups with a New Database in a Data Guard Environment</p>
<p>Assume that <code class="codeph">standby1</code>, <code class="codeph">standby2</code>, and <code class="codeph">standby3</code> are standby databases associated with primary database is <code class="codeph">prod</code>. This example assumes that RMAN is connected to target database <code class="codeph">prod</code> and a recovery catalog.</p>
<p>You are planning to remove <code class="codeph">standby1</code> from your environment, so you want to associate the <code class="codeph">standby1</code> backups with your primary database. You are also planning to remove <code class="codeph">standby3</code> from your environment, so you want to associate the <code class="codeph">standby3</code> backups with <code class="codeph">standby2</code>. You execute the following commands:</p>
<pre dir="ltr">CHANGE BACKUP FOR DB_UNIQUE_NAME standby1 RESET DB_UNIQUE_NAME;
CHANGE BACKUP FOR DB_UNIQUE_NAME standby3 RESET DB_UNIQUE_NAME TO standby2;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2__CHDCDEAC">
<p class="titleinexample">Example 2-48 Updating a DB_UNIQUE_NAME in the Recovery Catalog</p>
<p>Assume that a standby database has the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting of <code class="codeph">dgrdbms4</code>, which you decide to change to <code class="codeph">sfrdbms4</code>. You shut down the standby instance, change the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter to <code class="codeph">sfrdbms4</code>, and restart the standby instance.</p>
<p>Later, to update the recovery catalog to reflect the changed unique name of the standby database, you connect RMAN to the primary database and recovery catalog, and then execute the <code class="codeph">CHANGE</code> command as follows:</p>
<pre dir="ltr">RMAN&gt; CONNECT TARGET /
RMAN&gt; CONNECT CATALOG rco@catdb

recovery catalog database Password: <span class="italic">password</span>
</pre>
<pre dir="ltr">RMAN&gt; CHANGE DB_UNIQUE_NAME FROM dgrdbms4 TO sfrdbms4;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1037">
<tr>
<td class="cellalignment1049">
<table class="cellalignment1042">
<tr>
<td class="cellalignment1041"><a href="rcmsynta007.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1041"><a href="rcmsynta009.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1051">
<table class="cellalignment1040">
<tr>
<td class="cellalignment1041"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1041"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1041"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1041"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1041"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1041"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
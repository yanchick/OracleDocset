<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88444"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/RESTORE"></a><title>RESTORE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="validating backups, previewing backups, media failure, restoring backups, data files, restoring, control files, archived redo logs, point-in-time recovery, RESTORE command, to new locations, destinations for restoring data files, SET NEWNAME command, SWITCH command, effect on RESTORE, restore clause, parameter descriptions, restoreObject subclause, autoBackupOptList subclause"/>
<meta name="dcterms.created" content="2017-06-08T22:24:36Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Backup and Recovery Reference"/>
<meta name="dcterms.identifier" content="E50791-08"/>
<meta name="dcterms.isVersionOf" content="RCMRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rcmsynta2007.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rcmsynta2009.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50791-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B"></a> <span id="PAGE" style="display:none;">44/152</span> <!-- End Header -->
<a id="RCMRF90294"></a><a id="RCMRF90622"></a><a id="RCMRF90295"></a><a id="RCMRF90296"></a><a id="RCMRF90297"></a><a id="RCMRF90298"></a><a id="RCMRF90299"></a><a id="RCMRF90300"></a><a id="RCMRF90301"></a><a id="RCMRF90302"></a><a id="RCMRF90623"></a><a id="RCMRF90303"></a><a id="RCMRF90304"></a><a id="RCMRF90305"></a><a id="RCMRF90306"></a><a id="RCMRF90307"></a><a id="RCMRF90308"></a><a id="RCMRF90309"></a><a id="RCMRF90310"></a><a id="RCMRF90311"></a><a id="RCMRF90312"></a><a id="RCMRF90313"></a><a id="RCMRF90314"></a><a id="RCMRF90315"></a><a id="RCMRF90316"></a><a id="RCMRF90317"></a><a id="RCMRF90318"></a><a id="RCMRF90319"></a><a id="RCMRF90624"></a><a id="RCMRF90625"></a><a id="RCMRF90626"></a><a id="RCMRF90627"></a><a id="RCMRF90628"></a><a id="RCMRF90629"></a><a id="RCMRF149"></a>
<h1 class="sect1">RESTORE</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
<p>Use the <code class="codeph">RESTORE</code> command to restore, validate, or preview RMAN backups. Typically, you restore backups when a media failure has damaged a current data file, control file, or archived redo log or before performing a point-in-time recovery.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Prerequisites</p>
<p>To restore data files to their current location, the database must be started, mounted, or open with the tablespaces or data files to be restored offline.</p>
<p>If you use RMAN in a Data Guard environment, then connect RMAN to a recovery catalog.</p>
<p>If you are performing a trial restore of the production database, then perform either of the following actions before restoring the database in the test environment:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the test database uses a fast recovery area that is physically <span class="italic">different</span> from the recovery area used by the production database, then set <code class="codeph">DB_RECOVERY_FILE_DEST</code> in the test database instance to the new location.</p>
</li>
<li>
<p>If the test database uses a fast recovery area that is physically the <span class="italic">same</span> as the recovery area used by the production database, then set <code class="codeph">DB_UNIQUE_NAME</code> in the test database instance to a different name from the production database.</p>
</li>
</ul>
<p>If you do not perform either of the preceding actions, then RMAN assumes that you are restoring the production database and deletes <a id="d77248e212" class="indexterm-anchor"></a>flashback logs from the fast recovery area because they are considered unusable.</p>
<p>If you restore encrypted databases or tablespaces, then the Oracle keystore must be open before performing the restore operation..</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>The <code class="codeph">RESTORE</code> command restores full backups, level 0 incremental backups, or image copies. You can restore files to their default location or a different location.</p>
<p>By default, RMAN examines read-only data files to make sure they exist, are readable, and have the correct checkpoint. If any of the conditions is not met, then RMAN restores the files. If all of the conditions are met, then RMAN does not restore the files.</p>
<p><span class="bold">Backup Selection</span></p>
<p>By default, <code class="codeph">RESTORE</code> chooses the most recent backup set or file copy, that is, the file copy or backup set that needs the least media recovery. RMAN only restores backups created on the same type of channels allocated by the <code class="codeph">RESTORE</code> command. For example, if you made backups of a data file with <code class="codeph">DISK</code> and <code class="codeph">sbt</code> channels, and if only a <code class="codeph">DISK</code> channel is allocated for the <code class="codeph">RESTORE</code> command, then RMAN does not restore the <code class="codeph">sbt</code> backups. If you do not manually allocate channels, then RMAN allocates all automatic channels that it possibly needs, subject to any restrictions imposed by the <code class="codeph">DEVICE TYPE</code> option.</p>
<p>In an Oracle RAC configuration, RMAN automatically restores backups, control file copies, and data file copies from channels that can read the files on tape or a local file system. For example, if channel <code class="codeph">ch1</code> connected to <code class="codeph">inst1</code> can read log 1000 from its tape drive, but channel <code class="codeph">ch2</code> connected to <code class="codeph">inst2</code> cannot read the same log from its tape drive, then <code class="codeph">ch2</code> cannot participate in restoring the log and so <code class="codeph">ch1</code> restores the log. Autolocation is automatically enabled when the channels have different <code class="codeph">PARMS</code> or <code class="codeph">CONNECT</code> settings.</p>
<p>If data file names are symbolic links, then the control file stores the file names of the link files but RMAN performs I/O on the data files pointed to by the link files. If a link file is lost and you restore a data file without re-creating the symbolic link, then RMAN restores the data file to the location of the link file rather than to the location pointed to by the link file.</p>
<div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-7648D567-3EEA-4A1B-B0D3-45460A104162">
<p class="notep1">See Also:</p>
<p><a class="olink BRADV30001" target="_blank" href="../BRADV/rcmrvcon.htm#BRADV30001"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for details on restore failover</p>
</div>
<p><span class="bold">Restore Operations for CDBs and PDBs</span><a id="d77248e296" class="indexterm-anchor"></a><a id="d77248e300" class="indexterm-anchor"></a><a id="d77248e304" class="indexterm-anchor"></a><a id="d77248e308" class="indexterm-anchor"></a></p>
<p>The <code class="codeph">RESTORE</code> command can be used to restore a whole multitenant container database (CDB), the root, one or more pluggable databases (PDBs), and tablespaces in a PDB. The information in this section about restoring data is also applicable to restoring CDBs and PDBs.</p>
<p>The process of restoring CDBs and PDBs is similar to that of non-CDBs. The only differences are in connecting to the database and in the commands used. To restore a whole CDB, the root, or multiple PDBs, you connect to the root. To restore a particular PDB, you connect to that PDB. While restoring PDBs, use <code class="codeph">RESTORE PLUGGABLE DATABASE</code>. To restore a CDB, use <code class="codeph">RESTORE DATABASE</code> and to restore the root, use <code class="codeph">RESTORE DATABASE ROOT</code>.</p>
<div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-EFA9690C-7997-40F0-83A5-E68819C273EB">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmsynta010.htm#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a>&#34;</span> for information about connecting to CDBs and PDBs</p>
</div>
<p><span class="bold">Restore Operations Using Encrypted Backup Sets</span></p>
<p><a id="d77248e340" class="indexterm-anchor"></a>As explained in <span class="q">&#34;<a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>&#34;</span>, how RMAN handles encrypted backup sets during restore operations depends on the encryption mode with which the backup was created. You can use <code class="codeph"><a href="rcmsynta009.htm#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> and <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> to manage the RMAN backup encryption settings for your database. Note the following restore considerations:</p>
<ul style="list-style-type: disc;">
<li>
<p><a id="d77248e362" class="indexterm-anchor"></a>For transparent-mode encrypted backups, the required passwords must be available in the Oracle software keystore. The same keystore used when creating the backup must be open and available when restoring it. If a password-based keystore was used while creating the backups, then you must use <code class="codeph">SET DECRYPTION WALLET OPEN IDENTIFIED BY</code> to provide the password used to open the keystore.</p>
</li>
<li>
<p><a id="d77248e370" class="indexterm-anchor"></a>For password-mode encrypted backups, the required passwords must be provided with <code class="codeph">SET DECRYPTION</code>.</p>
</li>
<li>
<p>For dual-mode encrypted backups, the required passwords must be available in the Oracle software keystore or provided with <code class="codeph">SET DECRYPTION</code>.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-6C245F3A-6EDA-4339-994F-5DD3315343FA">
<p class="notep1">Note:</p>
<p>Keystore-based encryption is more secure than password-based encryption because no passwords are involved. Use password-based encryption only when absolutely necessary because your backups must be transportable.</p>
</div>
<p><span class="bold">Restore Failover</span></p>
<p>If a backup piece, image copy or proxy copy is inaccessible or if a block is corrupted, then RMAN performs <a id="d77248e392" class="indexterm-anchor"></a><a id="d77248e394" class="indexterm-anchor"></a><a id="d77248e398" class="indexterm-anchor"></a><a id="d77248e402" class="indexterm-anchor"></a><a id="d77248e406" class="indexterm-anchor"></a>restore failover. The <code class="codeph">RESTORE</code> command automatically looks for another usable copy of a backup or image copy on the same device and other devices. If no usable copies are available, then RMAN searches for previous backups. RMAN continuously searches for previous usable backups until it has exhausted all possibilities. RMAN automatically uses eligible backups from previous database incarnations if required.</p>
<p>If you are restoring a data file for which no backups are available, then RMAN creates an empty data file with the checkpoint change as creation SCN. During recovery, all archived redo log files back to the creation of the data file are restored, and all changes during the history of the data file are reapplied to re-create its contents.</p>
<div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-897548D0-B773-41A9-BDA6-3BE44939323E">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>&#34;</span> and the extended discussion in <a class="olink BRADV72450" target="_blank" href="../BRADV/rcmbckad.htm#BRADV72450"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></p>
</div>
<p><span class="bold">Location of Restored Data Files</span></p>
<p><a id="d77248e430" class="indexterm-anchor"></a>If you restore data files to the default location, then RMAN overwrites files with the same file names. By default, RMAN does not restore a data file if it is in the correct place and its header contains the expected data. RMAN does not scan the data file body for corrupt blocks.</p>
<p>If RMAN detects that the default file name cannot be used (for example, the file may be an Oracle-managed file or on an <a id="d77248e438" class="indexterm-anchor"></a>Automatic Storage Management disk group), then RMAN attempts to create a new file in the same location or disk group.</p>
<p>RMAN restores data files to the location currently stored in the recovery catalog. This default behavior eliminates problems with restoring data files to locations that may have become obsolete since the time of the original backup. It also means that if you have changed the location of the data files from their original backup location, that RMAN restores the files to the most current or changed location.</p>
<p>To restore files to a nondefault location, use <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code> commands to rename the restored files and then use a <code class="codeph"><a href="rcmsynta2021.htm#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> command to make the restored files current (as illustrated in <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">Example 3-22</a>). If you do not issue <code class="codeph">SWITCH</code> commands, then RMAN considers the restored files as valid copies for use in future restore operations. <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCJADE" title="Explains the interaction between SET NEWNAME, SWITCH, and RESTORE">Table 3-8</a> describes the behavior of the <code class="codeph">RESTORE</code>, <code class="codeph">SET NEWNAME</code>, and <code class="codeph">SWITCH</code> commands.</p>
<div class="tblformal" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCJADE">
<p class="titleintable">Table 3-8 SET NEWNAME, SWITCH, and RESTORE</p>
<table class="cellalignment1067" title="SET NEWNAME, SWITCH, and RESTORE" summary="Explains the interaction between SET NEWNAME, SWITCH, and RESTORE">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1084" id="d77248e491">SET NEWNAME Run</th>
<th class="cellalignment1084" id="d77248e494">SWITCH Run</th>
<th class="cellalignment1069" id="d77248e497">RESTORE Behavior</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1089" id="d77248e502" headers="d77248e491">
<p>No</p>
</td>
<td class="cellalignment1089" headers="d77248e502 d77248e494">
<p>N/A</p>
</td>
<td class="cellalignment1071" headers="d77248e502 d77248e497">
<p>RMAN restores the files to the most recent location stored in the recovery catalog.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1089" id="d77248e512" headers="d77248e491">
<p>Yes</p>
</td>
<td class="cellalignment1089" headers="d77248e512 d77248e494">
<p>Yes</p>
</td>
<td class="cellalignment1071" headers="d77248e512 d77248e497">
<p>RMAN restores the files to the path names specified by <code class="codeph">SET</code> <code class="codeph">NEWNAME</code>. RMAN replaces the current data file names in the control file with the names of the restored files. RMAN records the data files with the old names as data file copies.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1089" id="d77248e528" headers="d77248e491">
<p>Yes</p>
</td>
<td class="cellalignment1089" headers="d77248e528 d77248e494">
<p>No</p>
</td>
<td class="cellalignment1071" headers="d77248e528 d77248e497">
<p>RMAN restores the files to the path names specified by <code class="codeph">SET</code> <code class="codeph">NEWNAME</code>. RMAN does not update the current data file names in the control file. The restored files are listed in the RMAN repository as data file copies.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Because temp files cannot be backed up and because no redo is ever generated for them, RMAN never restores or recovers temp files. RMAN does track the names of temp files, but only so that it can automatically re-create them when needed.</p>
<p><span class="bold">RMAN Behavior When Restoring Control Files</span></p>
<p>The behavior of RMAN when restoring control files depend on a variety of factors, which are summarized in <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a>. Required commands and options for restoring autobackups are summarized in <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a>.</p>
<div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD">
<p class="titleintable">Table 3-9 RESTORE CONTROLFILE Scenarios</p>
<table class="cellalignment1044" title="RESTORE CONTROLFILE Scenarios" summary="Describes restoration of control files under various scenarios">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1081" id="d77248e573">RMAN Connection</th>
<th class="cellalignment1081" id="d77248e576">RESTORE CONTROLFILE;</th>
<th class="cellalignment1072" id="d77248e579">RESTORE CONTROLFILE FROM AUTOBACKUP;</th>
<th class="cellalignment1072" id="d77248e582">RESTORE CONTROLFILE ... TO &#39;filename&#39;;</th>
<th class="cellalignment1072" id="d77248e588">RESTORE CONTROLFILE ... FROM &#39;media_handle&#39; or TAG &#39;user_tag&#39;;</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1086" id="d77248e599" headers="d77248e573">
<p>No catalog, target database started in <code class="codeph">NOMOUNT</code> state</p>
</td>
<td class="cellalignment1086" headers="d77248e599 d77248e576">
<p>Error. Must specify <code class="codeph">FROM AUTOBACKUP</code>.</p>
</td>
<td class="cellalignment1074" headers="d77248e599 d77248e579">
<p>Restores to <code class="codeph">CONTROL_FILES</code> locations. See <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> for required commands and options.</p>
</td>
<td class="cellalignment1074" headers="d77248e599 d77248e582">
<p>Must specify <code class="codeph">FROM AUTOBACKUP</code>. Restores only to <span class="italic"><code class="codeph">filename</code></span>.</p>
</td>
<td class="cellalignment1074" headers="d77248e599 d77248e588">
<p>First run <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code>. Restores from specified file (cannot restore from <code class="codeph">TAG</code>). If <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39; not used, restores to all <code class="codeph">CONTROL_FILES</code> locations.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1086" id="d77248e658" headers="d77248e573">
<p>No catalog, target database mounted or open</p>
</td>
<td class="cellalignment1086" headers="d77248e658 d77248e576">
<p>Error. Must use <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39;, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.</p>
</td>
<td class="cellalignment1074" headers="d77248e658 d77248e579">
<p>Error. Must use <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39;, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.</p>
</td>
<td class="cellalignment1074" headers="d77248e658 d77248e582">
<p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.</p>
</td>
<td class="cellalignment1074" headers="d77248e658 d77248e588">
<p>RMAN issues error <a id="d77248e712" class="indexterm-anchor"></a><a id="d77248e714" class="indexterm-anchor"></a><code class="codeph">RMAN-06496</code>. Use <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39; instead.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1086" id="d77248e729" headers="d77248e573">
<p>Catalog, target database started in <code class="codeph">NOMOUNT</code> state</p>
</td>
<td class="cellalignment1086" headers="d77248e729 d77248e576">
<p>Restores to <code class="codeph">CONTROL_FILES</code> locations. Run <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> only if <code class="codeph">DB_NAME</code> not unique in catalog.</p>
</td>
<td class="cellalignment1074" headers="d77248e729 d77248e579">
<p>Only use with recovery catalog for testing.</p>
</td>
<td class="cellalignment1074" headers="d77248e729 d77248e582">
<p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.</p>
</td>
<td class="cellalignment1074" headers="d77248e729 d77248e588">
<p>Restores from specified file. If <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39; not used, restores to all <code class="codeph">CONTROL_FILES</code> locations.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1086" id="d77248e783" headers="d77248e573">
<p>Catalog, target database mounted or open</p>
</td>
<td class="cellalignment1086" headers="d77248e783 d77248e576">
<p>Error. Must use <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39;, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.</p>
</td>
<td class="cellalignment1074" headers="d77248e783 d77248e579">
<p>Do not use with recovery catalog.</p>
</td>
<td class="cellalignment1074" headers="d77248e783 d77248e582">
<p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.</p>
</td>
<td class="cellalignment1074" headers="d77248e783 d77248e588">
<p>RMAN issues error <a id="d77248e823" class="indexterm-anchor"></a><a id="d77248e825" class="indexterm-anchor"></a><code class="codeph">RMAN-06496</code>. Use <code class="codeph">TO</code> &#39;<span class="italic"><code class="codeph">filename</code></span>&#39; instead.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If you use RMAN in a <a id="d77248e841" class="indexterm-anchor"></a>Data Guard environment, then RMAN transparently converts primary control files to standby control files and vice versa. RMAN automatically updates file names for data files, online redo logs, standby redo logs, and temp files when you issue <code class="codeph">RESTORE</code> and <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>. The recovery catalog always contains the correct information about the backup file names for each database, as explained in <span class="q">&#34;<a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIIGD">RMAN Backups in a Data Guard Environment</a>&#34;</span>.</p>
<p><span class="bold">Control File and Server Parameter File Autobackup Options</span></p>
<p><a id="d77248e862" class="indexterm-anchor"></a><a id="d77248e866" class="indexterm-anchor"></a><a id="d77248e870" class="indexterm-anchor"></a>When restoring an autobackup, the commands and options that you use depend on the autobackup type (control file or server parameter file) and location (inside or outside fast recovery area). The options are summarized in <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a>.</p>
<div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD">
<p class="titleintable">Table 3-10 RESTORE ... FROM AUTOBACKUP</p>
<table class="cellalignment1044" title="RESTORE ... FROM AUTOBACKUP" summary="Describes restoration from autobackups using various options">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1082" id="d77248e895">Restore Object</th>
<th class="cellalignment1101" id="d77248e898">Autobackup Location</th>
<th class="cellalignment1102" id="d77248e901">Run SET DBID?</th>
<th class="cellalignment1084" id="d77248e904">Specify RECOVERY AREA on RESTORE?</th>
<th class="cellalignment1091" id="d77248e907">Specify DB_NAME or DB_UNIQUE_NAME on RESTORE?</th>
<th class="cellalignment1080" id="d77248e910">Run SET CONTROLFILE AUTOBACKUP FORMAT?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1087" id="d77248e915" headers="d77248e895">
<p>SPFILE</p>
</td>
<td class="cellalignment1103" headers="d77248e915 d77248e898">
<p>Recovery area</p>
</td>
<td class="cellalignment1104" headers="d77248e915 d77248e901">
<p>No</p>
</td>
<td class="cellalignment1089" headers="d77248e915 d77248e904">
<p>Yes</p>
</td>
<td class="cellalignment1092" headers="d77248e915 d77248e907">
<p>Yes</p>
</td>
<td class="cellalignment1085" headers="d77248e915 d77248e910">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1087" id="d77248e934" headers="d77248e895">
<p>SPFILE</p>
</td>
<td class="cellalignment1103" headers="d77248e934 d77248e898">
<p>Outside recovery area</p>
</td>
<td class="cellalignment1104" headers="d77248e934 d77248e901">
<p>Yes</p>
</td>
<td class="cellalignment1089" headers="d77248e934 d77248e904">
<p>No</p>
</td>
<td class="cellalignment1092" headers="d77248e934 d77248e907">
<p>No</p>
</td>
<td class="cellalignment1085" headers="d77248e934 d77248e910">
<p>Only if autobackup is not in default location</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1087" id="d77248e953" headers="d77248e895">
<p>Control file</p>
</td>
<td class="cellalignment1103" headers="d77248e953 d77248e898">
<p>Recovery area</p>
</td>
<td class="cellalignment1104" headers="d77248e953 d77248e901">
<p>No</p>
</td>
<td class="cellalignment1089" headers="d77248e953 d77248e904">
<p>Only if autobackup is in noncurrent recovery area</p>
</td>
<td class="cellalignment1092" headers="d77248e953 d77248e907">
<p>Only if autobackup is in noncurrent recovery area and uses a noncurrent <code class="codeph">DB_UNIQUE_NAME</code></p>
</td>
<td class="cellalignment1085" headers="d77248e953 d77248e910">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1087" id="d77248e974" headers="d77248e895">
<p>Control file</p>
</td>
<td class="cellalignment1103" headers="d77248e974 d77248e898">
<p>Outside recovery area</p>
</td>
<td class="cellalignment1104" headers="d77248e974 d77248e901">
<p>Yes</p>
</td>
<td class="cellalignment1089" headers="d77248e974 d77248e904">
<p>No</p>
</td>
<td class="cellalignment1092" headers="d77248e974 d77248e907">
<p>No</p>
</td>
<td class="cellalignment1085" headers="d77248e974 d77248e910">
<p>Only if autobackup is not in default location</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><span class="bold">Restoring Control Files From Archived Backups in NOCATALOG Mode</span></p>
<p>You can offload backups stored on disk either to tape or Oracle Cloud. When control file autobackup is enabled, and you use one of the following commands to archive disk backups to tape or Oracle Cloud, RMAN includes a backup of the latest control file to tape or Oracle Cloud:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">BACKUP BACKUPSET ALL</code></p>
</li>
<li>
<p><code class="codeph">BACKUP RECOVERY AREA</code></p>
</li>
<li>
<p><code class="codeph">BACKUP DATAFILE COPY ALL</code></p>
</li>
</ul>
<p>To restore these backups, when a recovery catalog is not used, you must configure one or more disk and SBT channels (for tape or Oracle Cloud).</p>
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CFAFGIJJ"><span class="bold">Restoring Data Files and Control Files Using Files from a Remote Host</span><a id="d77248e1015" class="indexterm-anchor"></a><a id="d77248e1019" class="indexterm-anchor"></a><a id="d77248e1023" class="indexterm-anchor"></a><a id="d77248e1027" class="indexterm-anchor"></a></p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, you can restore a database, data files, control files, tablespaces, or an spfile using files from a remote database. RMAN connects to the remote database and transfers the required files, over the network, to the target database using backup sets. This is very useful in a Data Guard environment. You can restore data files on a primary database by connecting to a standby database over the network. You can also restore data files on a standby database by connecting to the primary database.</p>
<p>While restoring files from a remote host over the network, you must use <code class="codeph">FROM SERVICE</code> to specify the service name of the remote host from which the files are obtained. Optionally, use <code class="codeph">SECTION SIZE</code> to restore files from the source database as multisection backup sets. You can compress the transferred files by specifying the <code class="codeph">USING COMPRESSED BACKUPSET</code>.</p>
<p>To encrypt the files being transferred from the source database, use the <code class="codeph">SET ENCRYPTION</code> command before the <code class="codeph">RESTORE</code> command. You can also use <code class="codeph">SET COMPRESSION ALGORITHM</code> to specify the algorithm used to compress the backup sets before transferring them over the network.</p>
<p><span class="bold">Prerequisites for Restoring Files Using a Remote Host</span></p>
<ul style="list-style-type: disc;">
<li>
<p>The password file on the source database and the target database must be the same.</p>
</li>
<li>
<p>The <code class="codeph">tnsnames.ora</code> file in the target database must contain an entry that corresponds to the remote database.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<p><a id="d77248e1075" class="indexterm-anchor"></a><a id="d77248e1079" class="indexterm-anchor"></a><span class="bold"><span class="italic">restore</span>::=</span></p>
<div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-13F7CB53-33B9-4CF4-B2C7-6EB2C07473F1"><img width="439" height="666" src="img/GUID-C7795283-5E74-4F42-B4EB-72F455DC5A16-default.gif" alt="Description of GUID-C7795283-5E74-4F42-B4EB-72F455DC5A16-print.eps follows" title="Description of GUID-C7795283-5E74-4F42-B4EB-72F455DC5A16-print.eps follows"/><br/>
<a href="img_text/GUID-C7795283-5E74-4F42-B4EB-72F455DC5A16-print.htm">Description of the illustration GUID-C7795283-5E74-4F42-B4EB-72F455DC5A16-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDIJJJD">restoreObject::=</a></span>, <span class="italic"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCEJCJ">restoreSpecOperand::=</a></span>, <span class="italic"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="rcmsubcl022.htm#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause::=</a></span>)</p>
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDIJJJD"><a id="d77248e1109" class="indexterm-anchor"></a><a id="d77248e1113" class="indexterm-anchor"></a><span class="bold"><span class="italic">restoreObject</span>::=</span></p>
<div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F76932CB-06A6-4BE2-8017-F4E99F8951C1"><img width="862" height="444" src="img/GUID-3D472F64-D318-45B7-90C9-8B6785283ABF-default.gif" alt="Description of GUID-3D472F64-D318-45B7-90C9-8B6785283ABF-print.eps follows" title="Description of GUID-3D472F64-D318-45B7-90C9-8B6785283ABF-print.eps follows"/><br/>
<a href="img_text/GUID-3D472F64-D318-45B7-90C9-8B6785283ABF-print.htm">Description of the illustration GUID-3D472F64-D318-45B7-90C9-8B6785283ABF-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsubcl002.htm#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier::=</a></span>, <span class="italic"><a href="rcmsubcl005.htm#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec::=</a></span>, <span class="italic"><a href="rcmsubcl010.htm#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3__CIHFBDBF">foreignFileSpec::=</a></span>)</p>
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCEJCJ"><a id="d77248e1139" class="indexterm-anchor"></a><a id="d77248e1141" class="indexterm-anchor"></a><span class="bold"><span class="italic">restoreSpecOperand</span>::=</span></p>
<div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-BA92DFD7-1618-4B78-A4F0-1247AF3194B9"><img width="327" height="168" src="img/GUID-B8422B02-EB4E-4705-91A8-3330EC2D2DF1-default.gif" alt="Description of GUID-B8422B02-EB4E-4705-91A8-3330EC2D2DF1-print.eps follows" title="Description of GUID-B8422B02-EB4E-4705-91A8-3330EC2D2DF1-print.eps follows"/><br/>
<a href="img_text/GUID-B8422B02-EB4E-4705-91A8-3330EC2D2DF1-print.htm">Description of the illustration GUID-B8422B02-EB4E-4705-91A8-3330EC2D2DF1-print.eps</a></div>
<!-- class="figure" -->
<p><a id="d77248e1153" class="indexterm-anchor"></a><a id="d77248e1157" class="indexterm-anchor"></a><span class="bold"><span class="italic">autoBackupOptList</span>::=</span></p>
<div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-805921B0-4F3B-4C1C-AF5D-103F0AAF2A83"><img width="647" height="182" src="img/GUID-6D6807AE-8D5A-407D-81F0-0C1C8C7E4017-default.gif" alt="Description of GUID-6D6807AE-8D5A-407D-81F0-0C1C8C7E4017-print.eps follows" title="Description of GUID-6D6807AE-8D5A-407D-81F0-0C1C8C7E4017-print.eps follows"/><br/>
<a href="img_text/GUID-6D6807AE-8D5A-407D-81F0-0C1C8C7E4017-print.htm">Description of the illustration GUID-6D6807AE-8D5A-407D-81F0-0C1C8C7E4017-print.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Semantics</p>
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1017375"><span class="bold"><span class="italic">restore</span></span></p>
<p>This clause enables you to select which files you want to restore and specify parameters that control the behavior of the restore operation.</p>
<div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-8DE95FE2-A16D-4EF1-8B52-859C89D4AB6E">
<table class="cellalignment1044" summary="Describes RESTORE command parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d77248e1185">Syntax Element</th>
<th class="cellalignment1052" id="d77248e1188">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1193" headers="d77248e1185">
<p><span class="italic"><code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1193 d77248e1188">
<p>Specifies the files to be restored.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1203" headers="d77248e1185">
<p><span class="italic"><code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1203 d77248e1188">
<p>Specifies options for the <span class="italic"><code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></code></span> clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1218" headers="d77248e1185">
<p><code class="codeph">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1218 d77248e1188">
<p>Refer to the <span class="italic"><code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span> clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1235" headers="d77248e1185">
<p><code class="codeph">CHECK LOGICAL</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1235 d77248e1188">
<p>Tests data and index blocks that pass physical corruption checks for logical corruption, for example, corruption of a row piece or index entry. If RMAN finds logical corruption, then it logs the block in the alert log and server session trace file.</p>
<p>If the total number of physical and logical corruptions detected in a file is less than its <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">MAXCORRUPT</code> setting, then the RMAN command completes and the database populates the <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view with corrupt block ranges. If <code class="codeph">MAXCORRUPT</code> is exceeded, then the command terminates without populating the views.</p>
<p>When restoring a backup data file, RMAN honors the <code class="codeph">DB_BLOCK_CHECKSUM</code> initialization parameter setting. RMAN clears the checksum if <code class="codeph">DB_BLOCK_CHECKSUM</code> is set to <code class="codeph">false</code>. If set to <code class="codeph">typical</code>, then RMAN verifies the checksum when restoring from the backup and writing to the data file. If the initialization parameter <code class="codeph">DB_BLOCK_CHECKSUM=typical</code>, and if <code class="codeph">MAXCORRUPT</code> is not set, then specifying <code class="codeph">CHECK LOGICAL</code> detects all types of corruption that are possible to detect.</p>
<p><span class="bold">Note:</span> The <code class="codeph">MAXCORRUPT</code> setting represents the total number of physical and logical corruptions permitted on a file.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1290" headers="d77248e1185">
<p><code class="codeph">DEVICE&nbsp;TYPE</code> <span class="italic"><code class="codeph"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1290 d77248e1188">
<p>Allocates automatic channels for the specified device type only. For example, if you configure automatic disk and tape channels, and issue <code class="codeph">RESTORE ... DEVICE TYPE DISK</code>, then RMAN allocates only disk channels. You must configure a device type by using <code class="codeph"><a href="rcmsynta009.htm#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> (except for <code class="codeph">DISK</code>, which is preconfigured) before specifying the <code class="codeph">DEVICE TYPE</code> option.</p>
<p><span class="bold">Note:</span> You cannot manually allocate channels within a <code class="codeph"><a href="rcmsynta2012.htm#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block and then run <code class="codeph">RESTORE</code> with the <code class="codeph">DEVICE TYPE</code> clause.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl007.htm#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABHDFAD">deviceSpecifier</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1341" headers="d77248e1185">
<p><code class="codeph">FORCE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1341 d77248e1188">
<p>Overrides the restartable restore feature and restores all files regardless of whether they must be restored. If you do not specify <code class="codeph">FORCE</code>, then RMAN restores a file only if its header information does not match the information in the control file.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1352" headers="d77248e1185">
<p><code class="codeph">FROM&nbsp;BACKUPSET</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1352 d77248e1188">
<p>Restores from backup sets only. By default <code class="codeph">RESTORE</code> chooses the file copy or backup set that needs the least media recovery.</p>
<p>If you use the <code class="codeph">FROM BACKUPSET</code> option, then channels for the appropriate type of storage devices must be allocated for the backup sets that must be restored. For example, if needed backups are only available on tape, and no <code class="codeph">sbt</code> channels have been allocated, then RMAN cannot find a candidate backup set to restore, and the <code class="codeph">RESTORE</code> command fails.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1375" headers="d77248e1185">
<p><code class="codeph">FROM&nbsp;DATAFILECOPY</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1375 d77248e1188">
<p>Restores data file copies only. By default <code class="codeph">RESTORE</code> chooses the file copy or backup set that needs the least media recovery. If you use the <code class="codeph">FROM DATAFILECOPY</code> option, then the allocated channels must be of <code class="codeph">DEVICE TYPE DISK</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1392" headers="d77248e1185">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;INSTANT FULL</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1392 d77248e1188">
<p>This clause is reserved for a future release.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1401" headers="d77248e1185">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;INSTANT SPARSE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1401 d77248e1188">
<p>This clause is reserved for a future release.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1409" headers="d77248e1185">
<p><code class="codeph">FROM PLATFORM</code> <span class="italic"><code class="codeph">platform</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1409 d77248e1188">
<p>Specifies the name of the platform on which the cross platform backup was created. Cross-platform data transportation is supported starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1). This clause must be accompanied by a <span class="italic"><code class="codeph">foreignFileSpec</code></span> that specifies the backup sets that contain the data to be restored. The <code class="codeph">FROM PLATFORM</code> clause is optional. You can restore a cross-platform backup by specifying only a <span class="italic"><code class="codeph">foreignFileSpec</code></span>. However, if you specify a platform name using <code class="codeph">FROM PLATFORM</code>, the name must match the platform identifier stored in the cross-platform backup header.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1439" headers="d77248e1185">
<p><code class="codeph">FROM SERVICE</code> <span class="italic"><code class="codeph">service_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1439 d77248e1188">
<p>Restores data files, control files, or the spfile on the target database using files transferred over the network from a remote database. <span class="italic"><code class="codeph">service_name</code></span> specifies the service name of the remote database.</p>
<p><span class="bold">Note:</span> Restoring files over the network is supported starting with Oracle Database 12<span class="italic">c</span>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1462" headers="d77248e1185">
<p><code class="codeph">FROM&nbsp;TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1462 d77248e1188">
<p>Refer to the <span class="italic"><code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span> clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1479" headers="d77248e1185">
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI"><code class="codeph">PREVIEW</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1479 d77248e1188">
<p>Reports&mdash;but does not restore&mdash;the backups and archived redo log files that RMAN could use to restore and recover the database to the specified time. RMAN queries the metadata and does not actually read the backup files.</p>
<p>The <code class="codeph">RESTORE ... PREVIEW</code> output is in the same format as the <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">BACKUP</code> output (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDEFIAA">Example 3-28</a>).</p>
<p><a id="d77248e1502" class="indexterm-anchor"></a><a id="d77248e1504" class="indexterm-anchor"></a>Some media managers provide status information to RMAN about which backups are offsite. Offsite backups are stored in a remote location, such as a secure storage facility, and cannot be used without retrieving media.</p>
<p>Offsite backups are marked as <code class="codeph">AVAILABLE</code> in the RMAN repository even though the media must be retrieved from storage before the backup can be restored. If RMAN attempts to restore a offsite backup, then the restore operation fails. <code class="codeph">RESTORE ... PREVIEW</code> can identify backups needed for a <code class="codeph">RESTORE</code> operation that are stored on media that requires retrieval. The output indicates whether backups are stored offsite.</p>
<p>If a needed backup is stored offsite, but the media manager does not support offsite backups, then your options are:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use <code class="codeph"><a href="rcmsynta008.htm#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> <code class="codeph">... UNAVAILABLE</code> to prevent RMAN from selecting the needed offsite backups, and attempt the <code class="codeph">RESTORE ... PREVIEW</code> operation again to determine whether RMAN selects another offsite backup. When RMAN does not select any offsite backups, you can perform the restore operation.</p>
</li>
<li>
<p>Use <code class="codeph">RESTORE ... PREVIEW</code> with the <code class="codeph">RECALL</code> option.</p>
</li>
</ul>
<p><span class="bold">See Also:</span> <code class="codeph"><a href="rcmsynta027.htm#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code>, specifically the <code class="codeph">BACKUPS</code> and <code class="codeph">SUMMARY</code> options, and the <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">... VALIDATE HEADER</code> command</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1570" headers="d77248e1185">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;RECALL</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1570 d77248e1188">
<p>Instructs the media manager to retrieve the backup media needed for the specified restore operation from offsite storage (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDDHJHH">Example 3-29</a>).</p>
<p><span class="bold">Note:</span> This option only works if your media manager supports this functionality. You can use <code class="codeph">RESTORE ... PREVIEW</code> periodically to monitor whether the needed backups are stored locally again.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1587" headers="d77248e1185">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;SUMMARY</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1587 d77248e1188">
<p>Summarizes the backups that RMAN would restore. The output is in the same format as the output of the <code class="codeph">LIST BACKUPS ... SUMMARY</code> command.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1598" headers="d77248e1185">
<p><code class="codeph">SECTION SIZE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1598 d77248e1188">
<p>Restores a multi-section backup.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1606" headers="d77248e1185">
<p><code class="codeph">SKIP READONLY</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1606 d77248e1188">
<p>Does not restore read-only files.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1614" headers="d77248e1185"><code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
<td class="cellalignment1053" headers="d77248e1614 d77248e1188">
<p>Specifies a restore point, with the SCN at which the restore point was created as the upper, inclusive limit. Because the limit is inclusive, RMAN selects only files that it can use to restore files up to <span class="italic">and including</span> the SCN corresponding to the restore point.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1628" headers="d77248e1185">
<p><span class="italic"><code class="codeph"><a href="rcmsubcl022.htm#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1628 d77248e1188">
<p>Limits the selection to backup sets or file copies that are suitable for a point-in-time recovery to the specified time, SCN, or log sequence number.</p>
<p>In the absence of any other criteria, RMAN selects the most current file copy or backup set to restore. The time specified in the <code class="codeph">UNTIL</code> clause must fall within the current database incarnation.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl022.htm#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1653" headers="d77248e1185">
<p><code class="codeph">USING [COMPRESSED] BACKUPSET</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1653 d77248e1188">
<p>Specifies that the files being restored, over the network, must be transferred from the remote database as compressed backup sets. By default, RMAN transfers files as backup sets. Therefore, even when you omit the <code class="codeph">USING BACKUPSET</code> clause, the files are transferred as backup sets.By default, compression is performed by using the compression algorithm that is set in the RMAN configuration. You can use a different compression algorithm by executing the <code class="codeph">SET COMPRESSION ALGORITHM</code> command before executing the <code class="codeph">RESTORE</code> command.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1670" headers="d77248e1185">
<p><code class="codeph">VALIDATE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1670 d77248e1188">
<p>RMAN identifies which backup sets, data file copies, and archived redo log files must be restored, and then validates them (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDHIEJA">Example 3-30</a>). No files are restored.</p>
<p>For files on both disk and tape, RMAN reads all blocks in the backup piece or image copy. RMAN also validates offsite backups. The validation is identical to a real restore operation except that RMAN does not write output files.</p>
<p><span class="bold">Note:</span> If you use <code class="codeph">RESTORE</code> with the <code class="codeph">VALIDATE</code> option, then the database can be open with data files online.</p>
<p><span class="bold">See Also:</span> <code class="codeph"><a href="rcmsynta2025.htm#GUID-ECE57997-40CE-4029-A434-320441D2AD1E">VALIDATE</a></code></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1701" headers="d77248e1185">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;HEADER</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1701 d77248e1188">
<p>Reports and validates&mdash;but does not restore&mdash;the backups that RMAN could use to restore to the specified time.</p>
<p>When you specify this option, RMAN performs the same functions as when you run <code class="codeph">RESTORE</code> with the <code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI">PREVIEW</a></code> option. However, in addition to listing the files needed for restore and recovery, RMAN validates the backup file headers to determine whether the files on disk or in the media management catalog correspond to the metadata in the RMAN repository.</p>
<p><span class="bold">See Also:</span> The descriptions of the <code class="codeph">RESTORE</code> <code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI">PREVIEW</a></code> option and the <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">... VALIDATE HEADER</code> option</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB"><span class="bold"><span class="italic">restoreObject</span></span></p>
<p>This subclause specifies the objects to be restored: control files, data files, archived redo log files, or the server parameter file. RMAN does not support backup and recovery of the change tracking file. RMAN re-creates the change tracking file after database restore and recovery; the next incremental backup after any recovery can use the file. Thus, restore and recovery has no user-visible effect on change tracking.</p>
<div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-4DD39ED2-61C4-486B-89CD-377539B3CCA6">
<table class="cellalignment1044" summary="Describes RESTORE command restoreObject parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d77248e1750">Syntax Element</th>
<th class="cellalignment1052" id="d77248e1753">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1758" headers="d77248e1750">
<p><span class="italic"><code class="codeph"><a href="rcmsubcl002.htm#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1758 d77248e1753">
<p><a id="d77248e1767" class="indexterm-anchor"></a>Restores the specified range of archived redo log files.</p>
<p>The default restore location is <code class="codeph">DB_RECOVERY_FILE_DEST</code> (if one of <code class="codeph">LOG_ARCHIVE_DEST_n</code> is configured to <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code> either implicitly or explicitly). Otherwise, the default restore file names are constructed with the <code class="codeph">LOG_ARCHIVE_FORMAT</code> and <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameters of the target database. These parameters combine in a port-specific fashion to derive the name of the restored log. You can override the default location with the <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ARCHIVELOG DESTINATION</code> command.</p>
<p>Because the <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command automatically restores archived redo log files as needed, you seldom need to restore logs manually. Possible reasons for manually restoring archived redo log files are to speed up recovery, to stage the logs to multiple destinations, or to analyze the log contents after a point-in-time recovery. To restore logs from a previous incarnation without shutting down the database, you can use <code class="codeph">RESTORE ARCHIVELOG</code> with:</p>
<ul style="list-style-type: disc;">
<li>
<p>... <code class="codeph">FROM SCN</code></p>
</li>
<li>
<p>..<code class="codeph">.SCN BETWEEN... AND</code></p>
</li>
<li>
<p><code class="codeph">FROM SCN ... INCARNATION &lt;integer&gt;</code></p>
</li>
<li>
<p><code class="codeph">FROM SCN... INCARNATION ALL</code></p>
</li>
</ul>
<p><span class="bold">Note:</span> The database can be started, mounted, or open for this operation.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl002.htm#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1843" headers="d77248e1750">
<p><code class="codeph">CONTROLFILE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1843 d77248e1753">
<p>Restores either a standby or backup control file depending on the target database role.</p>
<p>If the control file is lost, then restore the control file (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a>) and restore the database after mounting the restored control file. You must always run the <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command after mounting a restored control file and you must open the database with the <code class="codeph">RESETLOGS</code> option.</p>
<p><span class="bold">Note:</span> If the target database is not mounted, and if RMAN is not connected to a recovery catalog, then you must specify the <code class="codeph">FROM AUTOBACKUP</code> clause with <code class="codeph">RESTORE CONTROLFILE</code>. If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format. If the target database is mounted or open, then you must specify the <code class="codeph">TO</code> <span class="italic"><code class="codeph">filename</code></span> clause with <code class="codeph">RESTORE CONTROLFILE</code>.</p>
<p>When you run <code class="codeph">RESTORE</code> with a backup control file while connected to a recovery catalog (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGHAJH">Example 3-23</a>), RMAN automatically updates the control file to reflect the structure of the restored database based on the metadata in the catalog.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1897" headers="d77248e1750">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1897 d77248e1753">
<p>Restores the control file to the specified file name.</p>
<p><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> explains RMAN behavior when restoring the control file with the <code class="codeph">TO</code> clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1922" headers="d77248e1750">
<p><code class="codeph">DATABASE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1922 d77248e1753">
<p>Restores all data files in the database except those that are offline. By default, RMAN restores data files in read-only tablespaces.</p>
<p>In a CDB, restores the whole CDB. You connect to the root to restore the CDB. In a PDB, restores the data files in the specified PDB. To backup a PDB, connect to that PDB. See <span class="q">&#34;<a href="rcmsynta010.htm#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>&#34;</span>.</p>
<p>Unlike <code class="codeph"><a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">DATABASE</code>, <code class="codeph">RESTORE DATABASE</code> does <span class="italic">not</span> automatically include the control file and the server parameter file&mdash;you must issue additional <code class="codeph">RESTORE CONTROLFILE</code> and <code class="codeph">RESTORE SPFILE</code> commands to restore these files.</p>
<p><span class="bold">Note:</span> To restore offline data files you must use <code class="codeph">RESTORE DATAFILE</code> or <code class="codeph">RESTORE TABLESPACE</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1969" headers="d77248e1750">
<p><a id="d77248e1971" class="indexterm-anchor"></a><a id="d77248e1975" class="indexterm-anchor"></a><a id="d77248e1979" class="indexterm-anchor"></a><code class="codeph">DATABASE ROOT</code></p>
</td>
<td class="cellalignment1053" headers="d77248e1969 d77248e1753">
<p>In a CDB, restores all online data files belonging to the root. Connect to the root as described in <span class="q">&#34;<a href="rcmsynta010.htm#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>&#34;</span>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e1993" headers="d77248e1750">
<p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e1993 d77248e1753">
<p>In a CDB, restores all data files belonging to the specified PDB. No other PDBs are affected; they can remain open and operational. Use a comma-separated list to restore multiple PDBs. Connect to the root as described in <span class="q">&#34;<a href="rcmsynta010.htm#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>&#34;</span>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2009" headers="d77248e1750"><code class="codeph">&nbsp;&nbsp;&nbsp;SKIP [FOREVER]</code> <code class="codeph">&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
<td class="cellalignment1053" headers="d77248e2009 d77248e1753">
<p>Excludes the specified tablespaces from the restore operation. This option is useful to avoid restoring tablespaces containing temporary data. In a CDB, refers to a tablespace in the root when connected to the root, and refers to a tablespace in a PDB when connected directly to the PDB.</p>
<p>Specifying the <code class="codeph">FOREVER</code> keyword does not change the behavior of <code class="codeph">SKIP</code>. The <code class="codeph">FOREVER</code> keyword exists solely to maintain compatible syntax between <code class="codeph">RESTORE SKIP FOREVER</code> and <code class="codeph">RECOVER SKIP FOREVER</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2040" headers="d77248e1750">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">pdb_name</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">tablespace_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2040 d77248e1753">
<p>In a CDB, excludes the specified tablespaces from the restore operation. This syntax is required only when connected to the root. When connected directly to a PDB, use <code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2063" headers="d77248e1750">
<p><code class="codeph">DATAFILE</code> <span class="italic"><code class="codeph"><a href="rcmsubcl005.htm#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2063 d77248e1753">
<p>Restores the data files specified by file name or absolute data file number (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">Example 3-22</a>).</p>
<p><span class="bold">Note:</span> Do not specify a data file more than once in a restore job. For example, the following command is invalid because data file 1 is both specified explicitly and implied by the <code class="codeph">SYSTEM</code> tablespace:</p>
<pre dir="ltr">RESTORE TABLESPACE SYSTEM DATAFILE 1;
</pre>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl005.htm#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2097" headers="d77248e1750">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="rcmsubcl010.htm#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2097 d77248e1753">
<p>Restores a cross-platform backup that uses backup sets. Specifying <span class="italic"><code class="codeph"><a href="rcmsubcl010.htm#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span> is mandatory when you perform a cross-platform restore operation. This clause specifies the data that must be restored (data files, tablespaces, or entire database) and the backup sets that contain the data to be restored. The cross-platform backup that is being restored can consist of multiple backup sets or multiple backup pieces.</p>
<p>Use the <code class="codeph">BACKUPSET</code> syntax to specify the backup set to be restored. To restore data files, use <code class="codeph">ALL FOREIGN DATAFILES</code> or <code class="codeph">FOREIGN DATAFILE</code>. To restore tablespaces. use <code class="codeph">FOREIGN TABLESPACE</code>. To restore an entire database, use <code class="codeph">FOREIGN DATABASE</code>.</p>
<p>To plug the restored tablespaces in to the destination database, you use the export dump file containing the tablespace metadata that was created along with the backup. Use <code class="codeph">DUMP FILE</code> to indicate that the backup contains an export dump file and <code class="codeph">BACKUPSET</code> to specify the backup set that contains the export dump file.</p>
<p><span class="bold">Note:</span> This clause can be used only to restore data that was backed up using backup sets. It cannot be used for backups created as image copies.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl010.htm#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2154" headers="d77248e1750">
<p><code class="codeph">PRIMARY CONTROLFILE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2154 d77248e1753">
<p>Restores a control file for a primary database in a Data Guard environment.</p>
<p>RMAN restores either a normal or standby control file as appropriate, depending on the most recent database role known to the recovery catalog (<code class="codeph"><a href="rcviews055.htm#GUID-5A53B4D3-7E4C-40AF-B5DB-560FCAFB8293">RC_SITE</a></code><code class="codeph">.DATABASE_ROLE</code>) for the target database. The purpose of this option to override the default setting in cases where the most recent database role is out-of-date.</p>
<p><a id="d77248e2171" class="indexterm-anchor"></a>Assume that you perform a switchover from primary database <code class="codeph">dgny</code> to standby database <code class="codeph">dgsf</code>, so that <code class="codeph">dgsf</code> is the new primary database. You want to restore a control file on <code class="codeph">dgsf</code>, but the recovery catalog was not resynchronized and still shows <code class="codeph">dgsf</code> as a standby database. In this case, you can specify <code class="codeph">PRIMARY CONTROLFILE</code> to override the default RMAN behavior and restore a normal control file.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2197" headers="d77248e1750">
<p><code class="codeph">SPFILE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2197 d77248e1753">
<p>Restores a primary or standby server parameter file to the location from which it was backed up. RMAN cannot overwrite a server parameter file currently in use by the target database.</p>
<p>By default RMAN restores the most current server parameter file. Specify the <code class="codeph">UNTIL</code> or <code class="codeph">TAG</code> options to restore older versions of the server parameter file.</p>
<p>If the server parameter file is lost, then connect RMAN to the target database (and recovery catalog if used) and run <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code>. Run <code class="codeph"><a href="rcmsynta2020.htm#GUID-96DFEF80-A2D1-493C-8CFF-BF0CB4BE281D">STARTUP</a></code> <code class="codeph">FORCE NOMOUNT</code> before running <code class="codeph">RESTORE SPFILE</code>. Then run <code class="codeph">STARTUP FORCE</code> to restart the database instance with the restored server parameter file.</p>
<p><span class="bold">Note:</span> If the target database is not mounted, and if RMAN is not connected to a recovery catalog, then you must specify the <code class="codeph">FROM AUTOBACKUP</code> clause with <code class="codeph">RESTORE SPFILE</code>. If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format. If the target database is started, mounted, or open, and if the database was started with a server parameter file, then you must specify the <code class="codeph">TO</code> <span class="italic"><code class="codeph">filename</code></span> clause with <code class="codeph">RESTORE SPFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2262" headers="d77248e1750">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;TO [PFILE]</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2262 d77248e1753">
<p><a id="d77248e2276" class="indexterm-anchor"></a><a id="d77248e2278" class="indexterm-anchor"></a>Restores a primary or standby server parameter file to the location specified by the <code class="codeph">TO</code> clause. Specify <code class="codeph">PFILE</code> to save the server parameter file as a text-based initialization parameter file.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2288" headers="d77248e1750"><code class="codeph">&nbsp;&nbsp;&nbsp;FOR DB_UNIQUE_NAME</code> <span class="italic"><code class="codeph">db_unique_name</code></span></td>
<td class="cellalignment1053" headers="d77248e2288 d77248e1753">
<p>Specifies the <code class="codeph">DB_UNIQUE_NAME</code> for the target database when the instance is not started. This parameter is only useful in a Data Guard environment.</p>
<p><a id="d77248e2302" class="indexterm-anchor"></a>When <code class="codeph">FOR DB_UNIQUE_NAME</code> is specified, RMAN can locate the correct RMAN configurations for the host on which the <code class="codeph">SPFILE</code> is being restored and use them to access backup devices. Otherwise, RMAN cannot choose the correct channel configurations and returns an <a id="d77248e2313" class="indexterm-anchor"></a><a id="d77248e2315" class="indexterm-anchor"></a><code class="codeph">RMAN-6758</code> error.</p>
<p>In a Data Guard environment, the primary and standby hosts may have different channel configurations for communicating with their associated SBT backup and disk devices. If both the primary and standby databases are known to the recovery catalog, then the configuration settings for both databases are recorded in the recovery catalog. Because the two databases have the same <code class="codeph">DB_NAME</code>, the records in the recovery catalog can only be distinguished with the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter.</p>
<p><span class="bold">Note:</span> Using <code class="codeph">RESTORE SPFILE</code> when the <code class="codeph">DB_NAME</code> is not unique in the recovery catalog produces an <code class="codeph">RMAN-6758</code> error.</p>
<p><span class="bold">See Also:</span> <a class="olink SBYDB04700" target="_blank" href="../SBYDB/rman.htm#SBYDB04700"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for a detailed procedure for restoring the server parameter file in a Data Guard environment</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2353" headers="d77248e1750">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2353 d77248e1753">
<p>Restores the standby control file to the specified file name. <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> explains the RMAN behavior when restoring the control file with the <code class="codeph">TO</code> clause.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2377" headers="d77248e1750">
<p><code class="codeph">STANDBY CONTROLFILE</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2377 d77248e1753">
<p>Restores a control file for a standby database. RMAN can transparently restore a normal control file backup and make it usable for a standby database.</p>
<p>RMAN restores either a normal or standby control file as appropriate, depending on the most recent database role known to the recovery catalog (<code class="codeph"><a href="rcviews055.htm#GUID-5A53B4D3-7E4C-40AF-B5DB-560FCAFB8293">RC_SITE</a></code><code class="codeph">.DATABASE_ROLE</code>) for the target database. The purpose of this option to override the default setting in cases where the most recent database role is out-of-date. Assume that you perform a switchover from primary database <code class="codeph">dgny</code> to standby database <code class="codeph">dgsf</code>, so that <code class="codeph">dgsf</code> is the new primary database. Later, you make <code class="codeph">dgny</code> a standby database for <code class="codeph">dgsf</code>. You want to restore a control file on <code class="codeph">dgny</code>, but the recovery catalog was not resynchronized and still shows <code class="codeph">dgny</code> as a primary database. In this case, you can specify <code class="codeph">STANDBY CONTROLFILE</code> to override the default RMAN behavior and restore a standby control file.</p>
<p>If you restore the control file of a database whose <code class="codeph">DB_UNIQUE_NAME</code> is known to the recovery catalog, then RMAN updates all file names in the control file to file names known to the recovery catalog. Any file names explicitly renamed with <code class="codeph">ALTER DATABASE RENAME FILE</code> take precedence over the file names in the recovery catalog.</p>
<p><span class="bold">See Also:</span> <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes</p>
<p><span class="bold">Note:</span> You must always run the <code class="codeph"><a href="rcmsynta2001.htm#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command after mounting a restored control file, and must also always open the database with the <code class="codeph">RESETLOGS</code> option.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2448" headers="d77248e1750">
<p><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2448 d77248e1753">
<p>Restores all data files in the specified tablespaces (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGADCD">Example 3-21</a>).</p>
<p>RMAN translates the tablespace name internally into a list of data files. If you rename a tablespace (for example, from <code class="codeph">users</code> to <code class="codeph">customers</code>), then so long as an additional tablespace with the old name (<code class="codeph">users</code>) has not been created, you can use either the old name (<code class="codeph">users</code>) or the new name (<code class="codeph">customers</code>) for the tablespace. RMAN detects that the tablespace has changed its name and updates the recovery catalog on the next resynchronization.</p>
<p><span class="bold">Note:</span> RMAN can back up and restore dictionary-managed temporary tablespaces, but it cannot back up locally managed temporary tablespaces. However, RMAN automatically re-creates locally managed temporary tablespaces after restoring the database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865"><span class="bold"><span class="italic">restoreSpecOperand</span></span></p>
<p>This subclause specifies options for the <span class="italic"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></span> clause. These parameters override the parameters with the same name at the <code class="codeph">RESTORE</code> command level.</p>
<div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-7A286BD4-5147-4DE8-841F-7567B8D0B30F">
<table class="cellalignment1044" summary="Describes RESTORE command restoreSpecOperand parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d77248e2503">Syntax Element</th>
<th class="cellalignment1052" id="d77248e2506">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2511" headers="d77248e2503">
<p><code class="codeph">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2511 d77248e2506">
<p>Specifies the case-sensitive name of a channel to use for this restore operation. If you do not specify a channel, then <code class="codeph">RESTORE</code> uses any available channel allocated with the correct device type.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2526" headers="d77248e2503">
<p><a id="d77248e2528" class="indexterm-anchor"></a><a id="d77248e2530" class="indexterm-anchor"></a><a id="d77248e2532" class="indexterm-anchor"></a><code class="codeph">FROM AUTOBACKUP</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2526 d77248e2506">
<p>Restores a control file autobackup (see <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">Example 3-24</a>).</p>
<p>This option is only valid on the <code class="codeph">RESTORE CONTROLFILE</code> and <code class="codeph">RESTORE SPFILE</code> commands. When restoring either type of file in <code class="codeph">NOCATALOG</code> mode, the <code class="codeph">FROM AUTOBACKUP</code> clause is required.</p>
<p>RMAN begins the search on the current day or on the day specified with the <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">UNTIL</code>. On the first day searched, the search begins with sequence number 256 (or the sequence number specified by <code class="codeph">MAXSEQ</code>, if provided) and counts back to sequence 0. If no autobackup is found in the current or <code class="codeph">SET UNTIL</code> day, then RMAN checks preceding days, starting with sequence 256 and counting back to 0. The search continues up to <code class="codeph">MAXDAYS</code> days (default of 7, maximum of 366) before the current or <code class="codeph">SET UNTIL</code> day. If no autobackup is found within <code class="codeph">MAXDAYS</code> days, then RMAN signals an error and the command stops.</p>
<p><span class="bold">See Also:</span> <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2593" headers="d77248e2503">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBHBIAC">autoBackupOptList</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2593 d77248e2506">
<p>Specifies parameters that control the search for a control file autobackup.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2605" headers="d77248e2503">
<p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><code class="codeph">&#39;</code><span class="italic"><code class="codeph">media_handle</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2605 d77248e2506">
<p>Specifies the name of the control file copy or backup piece containing a control file. The <span class="italic"><code class="codeph">media_handle</code></span> can be any backup piece that contains a backup of a control file: the control file backup does not need to be an autobackup.</p>
<p><span class="bold">See Also:</span> <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2633" headers="d77248e2503">
<p><code class="codeph">FROM SERVICE</code> <span class="italic"><code class="codeph">service_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2633 d77248e2506">
<p>Restores data files or control files using backups transferred, over the network, from the remote database. <span class="italic"><code class="codeph">service_name</code></span> specifies the service name of the remote database.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2649" headers="d77248e2503">
<p><code class="codeph">FROM TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2649 d77248e2506">
<p>Overrides the default selection of the most recent backups or file copy available. The tag restricts the automatic selection to backup sets or file copies created with the specified tag. If multiple backup sets or copies have a matching tag, then RMAN selects the most recent one. Tag names are not case sensitive.</p>
<p><span class="bold">See Also:</span> <code class="codeph"><a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> for a description of how a tag can be applied to an individual copy of a duplexed backup set, and for a description of the default file name format for tags.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBHBIAC"><span class="bold"><span class="italic">autoBackupOptList</span></span></p>
<p>This subclause specifies parameters that control the search for a control file autobackup.</p>
<div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F53EFB76-A84F-4C8B-9261-F596381C8164">
<table class="cellalignment1044" summary="Describes RESTORE command autoBackupOptList parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d77248e2684">Syntax Element</th>
<th class="cellalignment1052" id="d77248e2687">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2692" headers="d77248e2684">
<p><code class="codeph">DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2692 d77248e2687">
<p>Provides a <code class="codeph">DB_NAME</code> to be used in searching for control file autobackups. See <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.</p>
<p>The default value of the <a id="d77248e2713" class="indexterm-anchor"></a><a id="d77248e2715" class="indexterm-anchor"></a><code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2745" headers="d77248e2684">
<p><code class="codeph">MAXDAYS</code> <span class="italic"><code class="codeph">integer</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2745 d77248e2687">
<p>Limits the search for a control file autobackup to within the specified number of days earlier.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2757" headers="d77248e2684">
<p><code class="codeph">MAXSEQ</code> <span class="italic"><code class="codeph">integer</code></span></p>
</td>
<td class="cellalignment1053" headers="d77248e2757 d77248e2687">
<p>Specifies the highest sequence number for the control file autobackup search.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2769" headers="d77248e2684">
<p><code class="codeph">RECOVERY AREA</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">pathname</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d77248e2769 d77248e2687">
<p>Specifies a path to the fast recovery area to search for autobackups. <code class="codeph">RECOVERY AREA</code> and <code class="codeph">DB_RECOVERY_FILE_DEST</code> are synonyms. See <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2796" headers="d77248e2684"><code class="codeph">DB_RECOVERY_FILE_DEST</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">pathname</code></span><code class="codeph">&#39;</code></td>
<td class="cellalignment1053" headers="d77248e2796 d77248e2687">
<p><code class="codeph">RECOVERY AREA</code> and <code class="codeph">DB_RECOVERY_FILE_DEST</code> are synonyms.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2816" headers="d77248e2684"><code class="codeph">&nbsp;&nbsp;&nbsp;DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></td>
<td class="cellalignment1053" headers="d77248e2816 d77248e2687">
<p>Provides a <code class="codeph">DB_NAME</code> to be used in searching for control file autobackups. See <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.</p>
<p>The default value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d77248e2862" headers="d77248e2684"><code class="codeph">&nbsp;&nbsp;&nbsp;DB_UNIQUE_NAME</code> <code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">db_unique_name</code></span></td>
<td class="cellalignment1053" headers="d77248e2862 d77248e2687">
<p>Specifies the <code class="codeph">DB_UNIQUE_NAME</code> of the database in the specified fast recovery area that is the target of the restore operation.</p>
<p>The default value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGADCD">
<p class="titleinexample">Example 3-21 Restoring a Tablespace</p>
<p>This example takes a tablespace offline, restores it, then performs media recovery.</p>
<pre dir="ltr">ALTER TABLESPACE users OFFLINE IMMEDIATE; 
RESTORE TABLESPACE users; 
RECOVER TABLESPACE users;  
ALTER TABLESPACE users ONLINE;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">
<p class="titleinexample">Example 3-22 Setting a New Name for a Restored Data File</p>
<p>Assume that <code class="codeph">/disk1</code>, which contains data file <code class="codeph">9</code>, suffers a media failure. This example specifies a new name for the data file, restores it, updates the control file to use the new name, recovers it, and then brings it online:</p>
<pre dir="ltr">RUN
{
  ALTER DATABASE DATAFILE 9 OFFLINE;
  SET NEWNAME FOR DATAFILE 9 TO &#39;/disk2/users01.dbf&#39;;
  RESTORE DATAFILE 9;
  SWITCH DATAFILE ALL;
  RECOVER DATAFILE 9;
  ALTER DATABASE DATAFILE 9 ONLINE;
}
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGHAJH">
<p class="titleinexample">Example 3-23 Restoring the Control File When Using a Recovery Catalog</p>
<p>Assume that you want to restore the control file backup with the tag <code class="codeph">monday_cf_backup</code>. You start the RMAN client, connect to the target and recovery catalog databases, and run the following commands:</p>
<pre dir="ltr">RUN
{ # SET DBID is not necessary when RMAN is connected to a recovery catalog
  STARTUP FORCE NOMOUNT;
  RESTORE CONTROLFILE FROM TAG &#39;monday_cf_backup&#39;;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS; # required after recovery with backup control file
</pre>
<p>RMAN restores the control file to its default location and replicates it automatically to all <code class="codeph">CONTROL_FILES</code> locations. RMAN mounts the control file and restores and recovers the database. RMAN automatically updates the control file to reflect the structure of the restored database based on the metadata in the recovery catalog.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">
<p class="titleinexample">Example 3-24 Recovering the Database with a Control File Autobackup</p>
<p>Assume that the control file and some data files are lost and must be restored from tape. Because RMAN does not use a recovery catalog in this scenario, the <a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDFHGDI">SET</a> <code class="codeph">DBID</code> command is necessary to identify the control file to be restored. The example restores the control file from tape, mounts the database, and then restores and recovers the database.</p>
<pre dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT;
SET DBID 36508508;  # required when restoring control file in NOCATALOG mode
RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE CONTROLFILE FROM AUTOBACKUP;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-C8B73D43-EF8C-44F6-825F-1BC8730CB692">
<p class="titleinexample">Example 3-25 Restoring a Control File Autobackup to a Nondefault Location</p>
<p>This example is a variation on <a href="rcmsynta2008.htm#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">Example 3-24</a>. In this scenario, the control file autobackup is located on disk in a nondefault location. RMAN starts searching for backups with a sequence number of 20, and searches backward for 5 months:</p>
<pre dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT
SET DBID 36508508;  # required when restoring control file in NOCATALOG mode
RUN
{
  SET CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK 
    TO &#39;/disk1/prod_cf_auto_%F&#39;;
  RESTORE CONTROLFILE TO &#39;/tmp/cf_auto.dbf&#39; FROM AUTOBACKUP 
    MAXSEQ 20 MAXDAYS 150;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24AA3226-F3F0-4E61-B8AC-A9F5DE32B281">
<p class="titleinexample">Example 3-26 Restoring a Server Parameter File Autobackup to the Current Location</p>
<p>The following series of commands restores the current server parameter file in <code class="codeph">NOCATALOG</code> mode and then starts the instance with the restored server parameter file.</p>
<pre dir="ltr">CONNECT TARGET /
SET DBID 1620189241; # set dbid to dbid of target database
STARTUP FORCE NOMOUNT; # start instance with dummy SPFILE
RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE SPFILE FROM AUTOBACKUP; # FROM AUTOBACKUP needed in NOCATALOG mode
  STARTUP FORCE; # startup with restored SPFILE
}
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-B7851B84-55FC-4B96-98C5-1169AB687EA9">
<p class="titleinexample">Example 3-27 Restoring Control File Autobackups Stored on Tape or Oracle Cloud</p>
<p>Database backups are created on disk according to a backup schedule. Control file autobackups are enabled, but a recovery catalog is not used. Subsequently, these backup sets are backed up to Oracle Cloud using the <code class="codeph">BACKUP BACKUPSET ALL</code> command. This example restores a control file using the autobackup that was created on Oracle Cloud. RMAN scans both disk and Oracle Cloud backups and then retrieves the latest control file autobackup. You must configure one disk channel and one SBT channel, for Oracle Cloud.</p>
<pre dir="ltr">RUN
{
SET DBID 1928835918;
ALLOCATE CHANNEL disk1 DEVICE TYPE DISK;
ALLOCATE CHANNEL sbt1 DEVICE TYPE &#39;SBT_TAPE&#39; PARMS &#39;SBT_LIBRARY=/disk1/oss/libopc.so ENV=(OPC_PFILE=/disk1/oss/opc_sbt.ora)&#39;;
RESTORE CONTROLFILE FROM AUTOBACKUP;
}
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDEFIAA">
<p class="titleinexample">Example 3-28 Previewing Backups</p>
<p>This example shows the results of a <code class="codeph">RESTORE ... PREVIEW</code> command, which identifies the backup sets RMAN selects for use in restoring archived redo log files.</p>
<pre dir="ltr">RMAN&gt; RESTORE ARCHIVELOG ALL DEVICE TYPE sbt PREVIEW;
 
Starting restore at 01-MAR-13
released channel: ORA_SBT_TAPE_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=85 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
 
List of Backup Sets
===================
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
53      1.25M      SBT_TAPE    00:00:18     01-MAR-13
        BP Key: 53   Status: AVAILABLE  Compressed: NO  Tag: TAG20130301T150155
        Handle: 2aibhej3_1_1   Media: RMAN-DEFAULT-000001
 
  List of Archived Logs in backup set 53
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    8       526376     01-MAR-13 527059     01-MAR-13
  1    9       527059     01-MAR-13 527074     01-MAR-13
  1    10      527074     01-MAR-13 527091     01-MAR-13
  1    11      527091     01-MAR-13 527568     01-MAR-13
  1    12      527568     01-MAR-13 527598     01-MAR-13
validation succeeded for backup piece
Finished restore at 01-MAR-13
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDDHJHH">
<p class="titleinexample">Example 3-29 Recalling Offsite Backups from Offsite Storage</p>
<p>When used with a media manager that reports information about offsite storage of backups and supports recalling offsite backups, <code class="codeph">RESTORE ... PREVIEW RECALL</code> requests that any media needed to restore archived redo log files from backup be recalled from offsite storage.</p>
<pre dir="ltr">RMAN&gt; RESTORE ARCHIVELOG ALL PREVIEW RECALL;

Starting restore at 10-JUN-13
using channel ORA_DISK_1
using channel ORA_SBT_TAPE_1
 
 
List of Backup Sets
===================
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
31      12.75M     SBT_TAPE    00:00:02     10-JUN-13     
        BP Key: 33   Status: AVAILABLE  Compressed: NO  Tag: TAG20130610T152755
        Handle: 15gmknbs   Media: /v1,15gmknbs
 
  List of Archived Logs in backup set 31
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    1       221154     06-JUN-13 222548     06-JUN-13
  1    2       222548     06-JUN-13 222554     06-JUN-13
  1    3       222554     06-JUN-13 222591     06-JUN-13
  1    4       222591     06-JUN-13 246629     07-JUN-13
  1    5       246629     07-JUN-13 262451     10-JUN-13
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
32      256.00K    SBT_TAPE    00:00:01     10-JUN-13     
        BP Key: 34   Status: AVAILABLE  Compressed: NO  Tag: TAG20130610T153105
        Handle: 17gmknhp_1_1   Media: /v1,17gmknhp_1_1
 
  List of Archived Logs in backup set 32
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    6       262451     10-JUN-13 262547     10-JUN-13
  1    7       262547     10-JUN-13 262565     10-JUN-13
 
Initiated recall for the following list of offsite backup files
==========================================================
        Handle: 15gmknbs   Media: /v1,15gmknbs
Finished restore at 10-JUN-13
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDHIEJA">
<p class="titleinexample">Example 3-30 Validating the Restore of a Backup</p>
<p>The following example illustrates using <code class="codeph">RESTORE... VALIDATE</code> to confirm that backups required to restore the database are present on disk or tape, readable, and not corrupted:</p>
<pre dir="ltr">RMAN&gt; RESTORE DATABASE VALIDATE;
 
Starting restore at 01-MAR-13
using channel ORA_DISK_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=85 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
 
channel ORA_DISK_1: starting validation of datafile backup set
channel ORA_DISK_1: reading from backup piece /disk2/PROD/backupset/2013_03_01/o1_mf_nnndf_TAG20130301T161038_2ygtvzg0_.bkp
channel ORA_DISK_1: piece handle=/disk2/PROD/backupset/2013_03_01/o1_mf_nnndf_TAG20130301T161038_2ygtvzg0_.bkp tag=TAG20130301T161038
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: validation complete, elapsed time: 00:00:16
Finished restore at 01-MAR-13
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F3A8E3B5-91C6-4528-994C-2BEB2DB49A33">
<p class="titleinexample">Example 3-31 Restoring Data Files on the Primary Database Using the Standby</p>
<p>This example restores the data file <code class="codeph">users.dbf</code> that was lost on the primary database by restoring it, over the network, from the standby database:</p>
<pre dir="ltr">RESTORE DATAFILE &#39;/oradata/files/users.dbf&#39;
          FROM SERVICE standby_tns
          SECTION SIZE 200M
          USING COMPRESSED BACKUPSET;
</pre>
<p>The service name of the remote database that contains the data file to be restored is <code class="codeph">standby_tns</code>. The <code class="codeph">SECTION SIZE</code> clause indicates that the data file is restored using multisection backup sets. The <code class="codeph">USING COMPRESSED BACKUPSET</code> clause specifies that the backup sets are compressed using the default compression algorithm that is configured for RMAN.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-4A098666-190F-41FD-8F74-FA59042AEBE2">
<p class="titleinexample">Example 3-32 Restoring a Database from a Cross-Platform Database Backup</p>
<p>This example restores the database using a cross-platform backup that was created in <a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBECGFG">Example 2-33</a>. This backup was created on a Microsoft Windows IA (32-bit) platform and is being restored on Linux x86 64-bit. The backup set containing the database is stored in <code class="codeph">/tmp/xplat_restores/full_db.bck</code>. The restored data files are stored in <code class="codeph">/oradata/datafiles</code> using unique file names that begin with <code class="codeph">df_</code></p>
<pre dir="ltr">RESTORE 
   FROM PLATFORM &#39;Microsoft Windows IA (32-bit)&#39;
   ALL FOREIGN DATAFILES
   FORMAT &#39;/oradata/datafiles/df_%U&#39;
   FROM BACKUPSET &#39;/tmp/xplat_restores/full_db.bck&#39;;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-30865953-C561-49AF-AC5A-3310E3BF6431">
<p class="titleinexample">Example 3-33 Restoring a Tablespace from a Cross-Platform Tablespace Backup</p>
<p>This example restores the tablespace example from the cross-platform backup created in <a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBJFJAC">Example 2-34</a>. The backup set containing the tablespace to be restored is stored in <code class="codeph">/tmp/xplat_restores/example_readonly.bck</code>. The restored data files use unique names that being with <code class="codeph">example_readonly_</code>. The metadata required to plug this tablespace into the target database is stored in the backup set <code class="codeph">/tmp/xplat_restores/example_dmp.bck</code>.</p>
<pre dir="ltr">RESTORE
   FOREIGN TABLESPACE example
   FORMAT &#39;/tmp/xplat_restores/example_readonly_%U_%n&#39;
   FROM BACKUPSET &#39;/tmp/xplat_restores/example_readonly.bck&#39;   DUMP FILE
   DATAPUMP DESTINATION &#39;/tmp/datapump&#39;
   FROM BACKUPSET &#39;/tmp/xplat_restores/example_dmp.bck&#39;;
</pre>
<div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-CE4AC678-A9C0-4AB7-9DF0-23AFD016AF6B">
<p class="notep1">See Also:</p>
<p><a class="olink BRADV" target="_blank" href="../BRADV/toc.htm"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for an example of backing up and restoring multiple tablespaces</p>
</div>
</div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-0D8CF88F-B6D9-4EBD-91F9-14995B61CFFB">
<p class="titleinexample">Example 3-34 Restoring a Tablespace Using a Cross-Platform Backup Consisting of Multiple Backup Sets</p>
<p>This example restores the tablespace <code class="codeph">example</code> from a cross-platform backup consisting of multiple backup sets that was created in <a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBFJIGG">Example 2-35</a>. You must use a separate <code class="codeph">BACKUPSET</code> clause for each backup set. The backup sets must be listed in the order in which they were created, starting with the first backup set.</p>
<pre dir="ltr">RESTORE
   BACKUPSET &#39;/tmp/xplat_restores/db_multiple_59nkcln6_1_1&#39;
   BACKUPSET &#39;/tmp/xplat_restores/db_multiple_5ankcln7_1_1&#39;
   BACKUPSET &#39;/tmp/xplat_restores/db_multiple_5bnkcln8_1_1&#39;
   BACKUPSET &#39;/tmp/xplat_restores/db_multiple_5cnkcln9_1_1&#39;
   DUMP FILE
       FROM BACKUPSET &#39;/tmp/xplat_restores/db_multiple.dmp&#39;;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CFADGAFF">
<p class="titleinexample">Example 3-35 Restoring a Tablespace Using a Cross-Platform Consistent Backup that Contains Multiple Backup Pieces</p>
<p>This example restores the tablespace <code class="codeph">example</code> from a cross-platform backup consisting of multiple backup pieces that was created in <a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCECEE">Example 2-36</a>. The export dump file containing the metadata of the tablespace is stored in <code class="codeph">/tmp/xplat_restores/example_mutli-piece_dmp.bck</code>. The <code class="codeph">FROM BACKUPSET</code> clause contains a comma-separated list of all the backup pieces. List the backup pieces in the same order in which they were created.</p>
<pre dir="ltr">RESTORE
   FOREIGN TABLESPACE sales
   FORMAT &#39;/tmp/xplat_restores/datafiles/example_mult_%u&#39;
   FROM BACKUPSET 
       &#39;/tmp/xplat_restores/example_multi-piece_0lnjnujs_1_1&#39;,
       &#39;/tmp/xplat_restores/example_multi-piece_0lnjnujs_2_1&#39;,
       &#39;/tmp/xplat_restores/example_multi-piece_0lnjnujs_3_1&#39;
   DUMP FILE 
   FROM BACKUPSET &#39;/tmp/xplat_restores/example_multi-piece_dmp.bck&#39;;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-8C951D9D-F006-4F24-98EB-230D83085F77">
<p class="titleinexample">Example 3-36 Restoring a Cross-Platform Inconsistent Tablespace Backup</p>
<p>This example restores the tablespace <code class="codeph">example</code> from the cross-platform inconsistent backup created in <a href="rcmsynta006.htm#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBEJBGF">Example 2-37</a>. The restored data files are stored using unique names that begin with <code class="codeph">inconsist_</code>. Because the tablespace was not read-only when the backup was created, you cannot directly plug it into the target database. You must apply an incremental backup of the tablespace taken when the tablespace is read-only to the recovered foreign data files.</p>
<pre dir="ltr">RESTORE
    FOREIGN TABLESPACE example
    FORMAT &#39;/tmp/xplat_restores/datafiles/inconsist_%u&#39;
    FROM BACKUPSET &#39;/tmp/xplat_backups/example_inconsist.bck&#39;;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1037">
<tr>
<td class="cellalignment1049">
<table class="cellalignment1042">
<tr>
<td class="cellalignment1041"><a href="rcmsynta2007.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1041"><a href="rcmsynta2009.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1051">
<table class="cellalignment1040">
<tr>
<td class="cellalignment1041"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1041"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1041"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1041"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1041"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1041"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88458"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/TRANSPORT%20TABLESPACE"></a><title>TRANSPORT TABLESPACE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="backups, creating transportable tablespaces, transportable tablespaces, creating from backups, TRANSPORT TABLESPACE command, transpt_tbs clause, parameter descriptions, transpt_tbs_optlist subclause"/>
<meta name="dcterms.created" content="2017-06-08T22:24:36Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Backup and Recovery Reference"/>
<meta name="dcterms.identifier" content="E50791-08"/>
<meta name="dcterms.isVersionOf" content="RCMRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rcmsynta2021.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rcmsynta2023.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50791-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D"></a> <span id="PAGE" style="display:none;">58/152</span> <!-- End Header -->
<a id="RCMRF90378"></a><a id="RCMRF90379"></a><a id="RCMRF90380"></a><a id="RCMRF90381"></a><a id="RCMRF90382"></a><a id="RCMRF90383"></a><a id="RCMRF90384"></a><a id="RCMRF90385"></a><a id="RCMRF90386"></a><a id="RCMRF1919"></a>
<h1 class="sect1">TRANSPORT TABLESPACE</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
<p>Use the <code class="codeph">TRANSPORT TABLESPACE</code> command to create transportable tablespace sets from RMAN backups instead of the live data files of the source database.</p>
<div class="infoboxnotealso" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-A345E258-6358-455E-8644-DA60E0274D1E">
<p class="notep1">See Also:</p>
<p><a class="olink BRADV05141" target="_blank" href="../BRADV/rcmttbsb.htm#BRADV05141"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> to learn how to transport tablespaces with RMAN</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Prerequisites</p>
<p>The limitations on creating transportable tablespace sets described in <a class="olink ADMIN01101" target="_blank" href="../ADMIN/transport.htm#ADMIN01101"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> apply to transporting tablespaces from backup, except the requirement to make the tablespaces read-only.</p>
<p>The <a id="d97417e139" class="indexterm-anchor"></a><code class="codeph">SYSAUX</code> tablespace must not be part of the recovery set, which is the set of tablespaces to be transported. RMAN enforces inclusion of the <code class="codeph">SYSAUX</code> tablespace in the auxiliary set, which contains data files and other files required for the tablespace transport.</p>
<p><code class="codeph">TRANSPORT TABLESPACE</code> does not convert <a id="d97417e151" class="indexterm-anchor"></a>endian formats. If the target platform has a different endian format, then after running <code class="codeph">TRANSPORT TABLESPACE</code> use the <code class="codeph"><a href="rcmsynta011.htm#GUID-AD252F46-DD9E-4E2C-BF0E-DF2A4C7590C9">CONVERT</a></code> command to convert the endian format of the transportable set data files.</p>
<p>If you drop a tablespace, then you cannot later use <code class="codeph">TRANSPORT TABLESPACE</code> to include this tablespace in a transportable tablespace set, even if the SCN for <code class="codeph">TRANSPORT TABLESPACE</code> is earlier than the SCN at which the table was dropped. If you rename a tablespace, then you cannot use <code class="codeph">TRANSPORT TABLESPACE</code> to create a transportable tablespace set as of a point in time before the tablespace was renamed.</p>
<p><span class="bold">Backups and Backup Metadata</span></p>
<p>You must have a backup of all needed tablespaces (including those in the auxiliary set) and archived redo log files needed to recover to the target point in time.</p>
<p>If you do not use a recovery catalog, and if the database has re-used control file records containing metadata about required backups, then the command fails because RMAN cannot locate the backups. You may be able to use <code class="codeph"><a href="rcmsynta007.htm#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code> to add backups to the RMAN repository, but if the database is overwriting control file records, you may lose records of other backups.</p>
<p><span class="bold">Data Pump Export and Import</span></p>
<p>Because the RMAN uses the <a id="d97417e192" class="indexterm-anchor"></a>Data Pump Export and Import utilities, you cannot use <code class="codeph">TRANSPORT TABLESPACE</code> if the tablespaces to be transported use <a id="d97417e198" class="indexterm-anchor"></a><code class="codeph">XMLType</code>. In this case you must use the procedure in <a class="olink ADMIN01101" target="_blank" href="../ADMIN/transport.htm#ADMIN01101"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>.</p>
<p>If a file under the name of the export dump file exists in the tablespace destination, then <code class="codeph">TRANSPORT TABLESPACE</code> fails when it calls Data Pump Export. If you are repeating a previous <code class="codeph">TRANSPORT TABLESPACE</code> job, then make sure to delete the previous output files, including the export dump file.</p>
<p><span class="bold">Tablespace and Column Encryption</span></p>
<p><a id="d97417e221" class="indexterm-anchor"></a>The following database encryption features both use the <a id="d97417e224" class="indexterm-anchor"></a>Oracle software keystore: Transparent Data Encryption (TDE) column encryption, which functions at the column level, and TDE tablespace encryption. Note the following restrictions for tablespaces that are encrypted or contain encrypted columns:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you are transporting an encrypted tablespace, then you must manually copy the keystore to the destination database.</p>
</li>
<li>
<p>If the destination database has an existing keystore, then you cannot copy the keystore from the source database to the destination database. Thus, you cannot transport encrypted data to a database that already has a keystore. If you encrypt columns with TDE column encryption, then you can export them into an export file that is password-protected and import the data into the destination database.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-AD8E3593-6EA3-496B-9BF0-818C297ABBB1">
<p class="notep1">See Also:</p>
<p><a class="olink ASOAG10139" target="_blank" href="../ASOAG/introduction-to-transparent-data-encryption.htm#ASOAG10139"><span class="italic">Oracle Database Advanced Security Guide</span></a> to learn about TDE</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>Because RMAN creates the automatic auxiliary instance used for restore and recovery on the same node as the source instance, there is some performance overhead during the operation of the <code class="codeph">TRANSPORT TABLESPACE</code> command.</p>
<p>If RMAN is not part of the backup strategy for your database, then you can still use <code class="codeph">TRANSPORT TABLESPACE</code> if the needed data file copies and archived redo log files are available on disk. Use the <code class="codeph"><a href="rcmsynta007.htm#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code> command to record the data file copies and archived redo log files in the RMAN repository. You can then use <code class="codeph">TRANSPORT TABLESPACE</code>. You also have the option of using RMAN to back up your database specifically so you can use <code class="codeph">TRANSPORT TABLESPACE</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<p><a id="d97417e269" class="indexterm-anchor"></a><a id="d97417e273" class="indexterm-anchor"></a><span class="bold"><span class="italic">transpt_tbs</span>::=</span></p>
<div class="figure" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-88789C56-01DB-4EFF-883D-504E157DDFAA"><img width="543" height="64" src="img/GUID-93701145-14A8-44F0-BB84-2055F8C79F7C-default.gif" alt="Description of GUID-93701145-14A8-44F0-BB84-2055F8C79F7C-print.eps follows" title="Description of GUID-93701145-14A8-44F0-BB84-2055F8C79F7C-print.eps follows"/><br/>
<a href="img_text/GUID-93701145-14A8-44F0-BB84-2055F8C79F7C-print.htm">Description of the illustration GUID-93701145-14A8-44F0-BB84-2055F8C79F7C-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsynta2022.htm#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDHCFHG">transpt_tbs_optlist::=</a></span>)</p>
<p id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDHCFHG"><a id="d97417e291" class="indexterm-anchor"></a><a id="d97417e295" class="indexterm-anchor"></a><span class="bold"><span class="italic">transpt_tbs_optlist</span>::=</span></p>
<div class="figure" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-1F68C5FC-930F-428D-9BA3-F8C2BB1341C0"><img width="454" height="237" src="img/GUID-2A0AC170-38EC-476C-B6CF-C7BE82BCF51D-default.gif" alt="Description of GUID-2A0AC170-38EC-476C-B6CF-C7BE82BCF51D-print.eps follows" title="Description of GUID-2A0AC170-38EC-476C-B6CF-C7BE82BCF51D-print.eps follows"/><br/>
<a href="img_text/GUID-2A0AC170-38EC-476C-B6CF-C7BE82BCF51D-print.htm">Description of the illustration GUID-2A0AC170-38EC-476C-B6CF-C7BE82BCF51D-print.eps</a></div>
<!-- class="figure" -->
<p>(<span class="italic"><a href="rcmsubcl022.htm#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause::=</a></span>)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Semantics</p>
<p id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDEAJHF"><span class="bold"><span class="italic">transpt_tbs</span></span></p>
<div class="tblformalwide" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-19F31BEE-99B1-4CC1-B316-4904DD5F808B">
<table class="cellalignment1044" summary="Describes TRANSPORT TABLESPACE command transpt_tbs parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d97417e327">Syntax Element</th>
<th class="cellalignment1052" id="d97417e330">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e335" headers="d97417e327">
<p><span class="italic"><code class="codeph">tablespace_name</code></span></p>
</td>
<td class="cellalignment1053" headers="d97417e335 d97417e330">
<p>Specifies the name of each tablespace to transport.</p>
<p>You must have a backup of all needed tablespaces (including those in the auxiliary set) and archived redo log files available for use by RMAN that can be recovered to the target time for the <code class="codeph">TRANSPORT TABLESPACE</code> operation.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDFHFFI"><span class="bold"><span class="italic">transpt_tbs_optlist</span></span></p>
<p>This subclause specifies optional parameters that affect the tablespace transport.</p>
<div class="tblformalwide" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__GUID-E664F78D-731E-400B-99EC-854F40236C1A">
<table class="cellalignment1044" summary="Describes TRANSPORT TABLESPACE command transpt_tbs_optlist parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1045" id="d97417e362">Syntax Element</th>
<th class="cellalignment1052" id="d97417e365">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e370" headers="d97417e362"><code class="codeph">AUXILIARY&nbsp;DESTINATION</code><code class="codeph">&#39;</code><span class="italic"><code class="codeph">location</code></span><code class="codeph">&#39;</code></td>
<td class="cellalignment1053" headers="d97417e370 d97417e365">
<p>Specifies the location for files for the auxiliary instance.</p>
<p>You can use <code class="codeph"><a href="rcmsynta2014.htm#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code> and <code class="codeph"><a href="rcmsynta009.htm#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">AUXNAME</code> to override this argument for individual files. If using your own initialization parameter file to customize the auxiliary instance, then you can use the <a id="d97417e401" class="indexterm-anchor"></a><a id="d97417e403" class="indexterm-anchor"></a><code class="codeph">DB_FILE_NAME_CONVERT</code> and <a id="d97417e411" class="indexterm-anchor"></a><a id="d97417e413" class="indexterm-anchor"></a><code class="codeph">LOG_FILE_NAME_CONVERT</code> initialization parameters instead of <code class="codeph">AUXILIARY DESTINATION</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink BRADV39711" target="_blank" href="../BRADV/rcmttbsb.htm#BRADV39711"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for details on the interactions among the different techniques for naming the auxiliary instance files</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e433" headers="d97417e362"><a id="d97417e434" class="indexterm-anchor"></a><code class="codeph">DATAPUMP&nbsp;DIRECTORY</code> <span class="italic"><code class="codeph">datapump_directory</code></span></td>
<td class="cellalignment1053" headers="d97417e433 d97417e365">
<p>Specifies a database directory object where Data Pump Export outputs are created (see <a href="rcmsynta2022.htm#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDFIDHD">Example 3-73</a>). If not specified, then RMAN creates files in the location specified by <code class="codeph">TABLESPACE</code> <code class="codeph">DESTINATION</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink SUTIL" target="_blank" href="../SUTIL/toc.htm"><span class="italic">Oracle Database Utilities</span></a> for more details on Data Pump Export and database directory objects</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e462" headers="d97417e362">
<p><code class="codeph">DUMP FILE</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d97417e462 d97417e365">
<p>Specifies where to create the Data Pump Export dump file. If not specified, the export dump file is named <code class="codeph">dmpfile.dmp</code> and stored in the location specified by the <code class="codeph">DATAPUMP DIRECTORY</code> clause or in the tablespace destination.</p>
<p><span class="bold">Note:</span> If a file under the name of the export dump file exists in the tablespace destination, then <code class="codeph">TRANSPORT TABLESPACE</code> fails when it calls Data Pump Export. If you are repeating a previous <code class="codeph">TRANSPORT TABLESPACE</code> job, then make sure to delete the previous output files, including the export dump file.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e494" headers="d97417e362">
<p><a id="d97417e496" class="indexterm-anchor"></a><code class="codeph">EXPORT LOG</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d97417e494 d97417e365">
<p>Specifies the location of the log generated by Data Pump Export. If omitted, the export log is named <code class="codeph">explog.log</code> and stored in the location specified by the <code class="codeph">DATAPUMP DIRECTORY</code> clause or in the tablespace destination.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e518" headers="d97417e362">
<p><a id="d97417e520" class="indexterm-anchor"></a><code class="codeph">IMPORT SCRIPT</code> <code class="codeph">&#39;</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1053" headers="d97417e518 d97417e365">
<p>Specifies the file name for the sample input script generated by RMAN for use in plugging in the transported tablespace at the destination database. If omitted, the import script is named <code class="codeph">impscript.sql</code>. The script is stored in the tablespace destination.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e539" headers="d97417e362"><a id="d97417e540" class="indexterm-anchor"></a><code class="codeph">TABLESPACE DESTINATION</code> <span class="italic"><code class="codeph">tablespace_destination</code></span></td>
<td class="cellalignment1053" headers="d97417e539 d97417e365">
<p>Specifies the location of the data files for the transported tablespaces after the tablespace transport operation completes.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e552" headers="d97417e362"><a id="d97417e553" class="indexterm-anchor"></a><a id="d97417e557" class="indexterm-anchor"></a><code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
<td class="cellalignment1053" headers="d97417e552 d97417e365">
<p>Specifies a restore point for tablespace restore and recovery, with the SCN at which the restore point was created as the upper, inclusive limit. Because the limit is inclusive, RMAN selects only files that it can use to restore or recover tablespaces up to <span class="italic">and including</span> the SCN corresponding to the restore point.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1047" id="d97417e574" headers="d97417e362">
<p><span class="italic"><code class="codeph"><a href="rcmsubcl022.htm#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
</td>
<td class="cellalignment1053" headers="d97417e574 d97417e365">
<p>Specifies a past time, SCN, or log sequence number (see <a href="rcmsynta2022.htm#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDBHIHJ">Example 3-72</a>). If specified, RMAN restores and recovers the tablespaces at the auxiliary instance to their contents at that past point in time before export.</p>
<p>If you rename a tablespace, then you cannot use this command to create a transportable tablespace set as of a point in time before the tablespace was renamed. RMAN has no knowledge of the previous name of the tablespace.</p>
<p>Tablespaces including undo segments as of the <code class="codeph">UNTIL</code> time or SCN for <code class="codeph">TRANSPORT TABLESPACE</code> must be part of the auxiliary set. The control file only contains a record of tablespaces that include undo segments at the current time. If the set of tablespaces with undo segments was different at the <code class="codeph">UNTIL</code> time or SCN, then <code class="codeph">TRANSPORT TABLESPACE</code> fails. Thus, if you use RMAN in <code class="codeph">NOCATALOG</code> mode and specify <code class="codeph">UNTIL</code>, then the set of tablespaces with undo segments at the time <code class="codeph">TRANSPORT TABLESPACE</code> executes must equal the set of tablespaces with undo segments at the <code class="codeph">UNTIL</code> time or SCN.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDBHIHJ">
<p class="titleinexample">Example 3-72 Using TRANSPORT TABLESPACE with a Past Time</p>
<p>In this example, the tablespaces for the transportable set are <code class="codeph">example</code> and <code class="codeph">tools</code>, the transportable set files are to be stored at <code class="codeph">/disk1/transport_dest</code>, and the transportable tablespaces are to be recovered to a time 15 minutes ago:</p>
<pre dir="ltr">TRANSPORT TABLESPACE example, tools
  TABLESPACE DESTINATION &#39;/disk1/transportdest&#39;
  AUXILIARY DESTINATION &#39;/disk1/auxdest&#39;
  UNTIL TIME &#39;SYSDATE-15/1440&#39;;
</pre>
<p>Partial sample output follows:</p>
<pre dir="ltr">Creating automatic instance, with SID=&#39;egnr&#39;
 
initialization parameters used for automatic instance:
db_name=PROD
compatible=11.0.0
db_block_size=8192
.
.
.
starting up automatic instance PROD
.
.
. 
executing Memory Script
 
executing command: SET until clause
 
Starting restore at 07-JUN-13
allocated channel: ORA_AUX_DISK_1
channel ORA_AUX_DISK_1: SID=44 device type=DISK
 
channel ORA_AUX_DISK_1: starting datafile backup set restore
channel ORA_AUX_DISK_1: restoring control file
.
.
.
output file name=/disk1/auxdest/cntrl_tspitr_PROD_egnr.f
Finished restore at 07-JUN-13
 
sql statement: alter database mount clone database
 
sql statement: alter system archive log current
 
sql statement: begin dbms_backup_restore.AutoBackupFlag(FALSE); end;
 
starting full resync of recovery catalog
full resync complete
.
.
.
executing Memory Script
.
.
.
 
Starting restore at 07-JUN-13
using channel ORA_AUX_DISK_1
 
channel ORA_AUX_DISK_1: starting datafile backup set restore
channel ORA_AUX_DISK_1: specifying datafile(s) to restore from backup set
channel ORA_AUX_DISK_1: restoring datafile 00001 to /disk1/auxdest/TSPITR_PROD_EGNR/datafile/o1_mf_system_%u_.dbf
datafile 1 switched to datafile copy
.
.
.
starting media recovery
.
.
. 
Finished recover at 07-JUN-13
 
database opened
.
.
.
executing Memory Script
.
.
.
sql statement: alter tablespace EXAMPLE read only
Removing automatic instance
shutting down automatic instance
Oracle instance shut down
Automatic instance removed
auxiliary instance file /disk1/auxdest/cntrl_tspitr_PROD_egnr.f deleted
.
.
.
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D__CHDFIDHD">
<p class="titleinexample">Example 3-73 Using TRANSPORT TABLESPACE with Customized File Locations</p>
<p>This example illustrates the use of the optional arguments that control the locations of Data Pump-related files such as the dump file. The <code class="codeph">DATAPUMP DIRECTORY</code> must refer to an object that exists in the target database. Use the <code class="codeph">CREATE DIRECTORY</code> SQL statement to create a directory object.</p>
<pre dir="ltr">TRANSPORT TABLESPACE example
  TABLESPACE DESTINATION &#39;/disk1/transportdest&#39;
  AUXILIARY DESTINATION &#39;/disk1/auxdest&#39;
  DATAPUMP DIRECTORY mypumpdir
  DUMP FILE &#39;mydumpfile.dmp&#39;
  IMPORT SCRIPT &#39;myimportscript.sql&#39;
  EXPORT LOG &#39;myexportlog.log&#39;;
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1037">
<tr>
<td class="cellalignment1049">
<table class="cellalignment1042">
<tr>
<td class="cellalignment1041"><a href="rcmsynta2021.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1041"><a href="rcmsynta2023.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1051">
<table class="cellalignment1040">
<tr>
<td class="cellalignment1041"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1041"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1041"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1041"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1041"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1041"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-88447"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/RMAN"></a><title>RMAN</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="keywords" content="command line arguments, Recovery Manager client, opening, client, opening RMAN, RMAN command (operating system), cmdLine clause, parameter descriptions, RMAN command"/>
<meta name="dcterms.created" content="2017-06-08T22:24:36Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Backup and Recovery Reference"/>
<meta name="dcterms.identifier" content="E50791-08"/>
<meta name="dcterms.isVersionOf" content="RCMRF"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="rcmsynta2010.htm" title="Previous" type="text/html"/>
<link rel="Next" href="rcmsynta2012.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50791-08.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7"></a> <span id="PAGE" style="display:none;">47/152</span> <!-- End Header -->
<a id="RCMRF90327"></a><a id="RCMRF90328"></a><a id="RCMRF90329"></a><a id="RCMRF90330"></a><a id="RCMRF90331"></a><a id="RCMRF90332"></a><a id="RCMRF90333"></a><a id="RCMRF90334"></a><a id="RCMRF111"></a>
<h1 class="sect1">RMAN</h1>
<div>
<div class="section">
<p class="subhead1">Purpose</p>
<p><a id="d85533e105" class="indexterm-anchor"></a><a id="d85533e107" class="indexterm-anchor"></a>Use the <code class="codeph" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDECICE">RMAN</code> command to start RMAN from the operating system command line.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Prerequisites</p>
<p>You must issue the <code class="codeph">RMAN</code> command and any options at the operating system command line rather than at the RMAN prompt.</p>
<p>RMAN connections to a database are specified and authenticated in the same way as SQL*Plus connections to a database. The only difference is that RMAN connections to a target or auxiliary database require the <code class="codeph">SYSBACKUP</code> privilege.</p>
<div class="infoboxnotealso" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-5500B7A8-C93C-484C-8F17-15100D4FBC8D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN00102" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=ADMIN00102"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> to learn about database connection options when using SQL*Plus</p>
</li>
<li>
<p><a class="olink BRADV8123" target="_blank" href="../BRADV/rcmcnctg.htm#BRADV8123"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> to learn about using the <code class="codeph">SYSBACKUP</code> administrative privilege</p>
</li>
</ul>
</div>
<div class="infobox-note" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-90D2ACF1-8FBF-4D0F-9D24-FA723A3398AC">
<p class="notep1">Caution:</p>
<p>Good security practice requires that passwords are not entered in plain text on the command line. Enter passwords in RMAN only when requested by an RMAN prompt. See <a class="olink DBSEG0032" target="_blank" href="../DBSEG/authentication.htm#DBSEG0032"><span class="italic">Oracle Database Security Guide</span></a> to learn about password protection.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Usage Notes</p>
<p>The command name that you enter at the operating system prompt is operating system-dependent. For example, enter <code class="codeph">rman</code> in lowercase on Linux and UNIX systems.</p>
<p>If you start RMAN without specifying either <code class="codeph">CATALOG</code> or <code class="codeph">NOCATALOG</code> on the operating system command line, then the RMAN session is effectively in <code class="codeph">NOCATALOG</code> mode unless you execute a <code class="codeph"><a href="rcmsynta010.htm#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code> <code class="codeph">CATALOG</code> command (see <a href="rcmsynta2011.htm#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIIDEJ">Example 3-42</a>). If you maintain a recovery catalog, then the best practice is to connect RMAN to the recovery catalog before performing RMAN operations.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<p><a id="d85533e189" class="indexterm-anchor"></a><a id="d85533e193" class="indexterm-anchor"></a><span class="bold"><span class="italic">cmdLine</span>::=</span></p>
<div class="figure" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-8874AA53-1ADD-45CA-B409-07E5CFD28F1E"><img width="433" height="504" src="img/GUID-759E5440-B682-41DE-AB62-E29166567FCB-default.gif" alt="Description of GUID-759E5440-B682-41DE-AB62-E29166567FCB-print.eps follows" title="Description of GUID-759E5440-B682-41DE-AB62-E29166567FCB-print.eps follows"/><br/>
<a href="img_text/GUID-759E5440-B682-41DE-AB62-E29166567FCB-print.htm">Description of the illustration GUID-759E5440-B682-41DE-AB62-E29166567FCB-print.eps</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Semantics</p>
<p id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDDGEEB"><span class="bold"><span class="italic">cmdLine</span></span></p>
<div class="tblformalwide" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-B58B3A6A-79BE-4FE1-ADDC-6342EEE6EA87">
<table class="cellalignment1044" summary="Describes RMAN command parameters">
<thead>
<tr class="cellalignment1038">
<th class="cellalignment1058" id="d85533e219">Syntax Element</th>
<th class="cellalignment1059" id="d85533e222">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e227" headers="d85533e219">
<p><code class="codeph">APPEND</code></p>
</td>
<td class="cellalignment1061" headers="d85533e227 d85533e222">
<p>Causes new output to be appended to the end of the message log file. If you do not specify this parameter, and if a file with the same name as the message log file exists, then RMAN overwrites it.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e235" headers="d85533e219">
<p><code class="codeph">CHECKSYNTAX</code></p>
</td>
<td class="cellalignment1061" headers="d85533e235 d85533e222">
<p>Causes RMAN to start in a mode in which commands entered are checked for syntax errors, but no other processing is performed (see <a href="rcmsynta2011.htm#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDCGAGH">Example 3-45</a>). If used with a <code class="codeph">CMDFILE</code> or <code class="codeph">@</code> argument, then the RMAN client starts, checks all commands in the file, then exits. If used without specifying a command file, then RMAN prompts the user for input and parses each command until the user exits the RMAN client.</p>
<p>RMAN reports an <a id="d85533e253" class="indexterm-anchor"></a><a id="d85533e255" class="indexterm-anchor"></a><code class="codeph">RMAN-0558</code> error for each command that is not syntactically correct.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e263" headers="d85533e219">
<p><code class="codeph">AUXILIARY</code> <span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e263 d85533e222">
<p>Specifies a connect string to an auxiliary database, for example, <code class="codeph">AUXILIARY</code> <code class="codeph">sbu@dupdb</code>.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e292" headers="d85533e219">
<p><code class="codeph">CATALOG</code> <span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e292 d85533e222">
<p>Specifies a connect string to the database containing the recovery catalog, for example, <code class="codeph">CATALOG</code> <code class="codeph">rco@inst2</code>.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e321" headers="d85533e219">
<p><code class="codeph">CMDFILE</code> <span class="italic"><code class="codeph">filename</code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e321 d85533e222">
<p>Parses and compiles all RMAN commands in a file and then sequentially executes each command in the file. RMAN exits if it encounters a syntax error during the parse phase or if it encounters a runtime error during the execution phase. If no errors are found, then RMAN exits after the job completes.</p>
<p>If the first character of the file name is alphabetic, then you can omit the quotes around the file name. The contents of the command file are identical to commands entered at the RMAN prompt.</p>
<p><span class="bold">Note:</span> If you run a command file at the RMAN prompt rather than as an option on the operating system command line, then RMAN does <span class="italic">not</span> run the file as a single job. RMAN reads each line sequentially and executes it, only exiting when it reaches the last line of the script.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e342" headers="d85533e219">
<p><code class="codeph">@</code><span class="italic"><code class="codeph">filename</code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e342 d85533e222">
<p>Equivalent to <code class="codeph">CMDFILE</code>.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e356" headers="d85533e219"><code class="codeph">&nbsp;&nbsp;&nbsp;</code><code class="codeph">{</code><span class="italic"><code class="codeph">string_or_identifier</code></span><code class="codeph">&nbsp;&nbsp;&nbsp;|</code> <span class="italic"><code class="codeph">integer</code></span><code class="codeph">}</code></td>
<td class="cellalignment1061" headers="d85533e356 d85533e222">
<p>Equivalent to options specified after <code class="codeph">USING</code> syntax.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e378" headers="d85533e219">
<p><code class="codeph">LOG</code>&nbsp;<span class="italic"><code class="codeph">filename</code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e378 d85533e222">
<p>Specifies the file where RMAN records its output, that is, the commands that were processed and their results. RMAN displays command input at the prompt but does not display command output, which is written to the log file. By default RMAN writes its message log file to standard output.</p>
<p>RMAN output is also stored in the <a id="d85533e391" class="indexterm-anchor"></a><a id="d85533e393" class="indexterm-anchor"></a><code class="codeph">V$RMAN_OUTPUT</code> view, which is a memory-only view for jobs in progress, and in <a id="d85533e400" class="indexterm-anchor"></a><a id="d85533e402" class="indexterm-anchor"></a><code class="codeph">V$RMAN_STATUS</code>, which is a control file view for completed jobs and jobs in progress.</p>
<p>The <code class="codeph">LOG</code> parameter does not cause RMAN to terminate if the specified file cannot be opened. Instead, RMAN writes to standard output.</p>
<p><span class="bold">Note:</span> The easiest way to send RMAN output both to a log file and to standard output is to use the Linux <a id="d85533e418" class="indexterm-anchor"></a><code class="codeph">tee</code> command or its equivalent. For example:</p>
<pre dir="ltr">% rman | tee rman.log
</pre></td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e426" headers="d85533e219">
<p><code class="codeph">MSGNO</code></p>
</td>
<td class="cellalignment1061" headers="d85533e426 d85533e222">
<p>Causes RMAN to print message numbers, that is, <code class="codeph">RMAN-</code><span class="italic"><code class="codeph">xxxx</code></span>, for the output of all commands. By default, RMAN does not print the <code class="codeph">RMAN-</code><span class="italic"><code class="codeph">xxxx</code></span> prefix.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e446" headers="d85533e219">
<p><code class="codeph">NOCATALOG</code></p>
</td>
<td class="cellalignment1061" headers="d85533e446 d85533e222">
<p>Indicates that you are using RMAN without a recovery catalog.</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e454" headers="d85533e219">
<p><code class="codeph">SEND</code>&nbsp;<code class="codeph">&#39;</code><span class="italic"><code class="codeph">command</code></span><code class="codeph">&#39;</code></p>
</td>
<td class="cellalignment1061" headers="d85533e454 d85533e222">
<p>Sends a vendor-specific command string to all allocated channels.</p>
<p><span class="bold">See Also:</span> Your media management documentation to determine whether this feature is supported, and <code class="codeph"><a href="rcmsynta2013.htm#GUID-4AD68AC8-1A0A-4FDC-90D5-BDA278393D97">SEND</a></code></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e479" headers="d85533e219">
<p><code class="codeph">PIPE</code>&nbsp;<span class="italic"><code class="codeph">pipe_name</code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e479 d85533e222">
<p>Invokes the RMAN pipe interface. RMAN uses two public pipes: one for receiving commands and the other for sending output. The names of the pipes are derived from the value of the <code class="codeph">PIPE</code> parameter. For example, you can invoke the RMAN pipe interface with the following options: <code class="codeph">PIPE rpi TARGET /</code>.</p>
<p>RMAN opens the following pipes in the target database:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ORA$RMAN_RPI_IN</code>, which RMAN uses to receive user commands</p>
</li>
<li>
<p><code class="codeph">ORA$RMAN_RPI_OUT</code>, which RMAN uses to send all output</p>
</li>
</ul>
<p>All messages on both the input and output pipes are of type <code class="codeph">VARCHAR2</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink BRADV130" target="_blank" href="../BRADV/rcmquick.htm#BRADV130"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> to learn how to pass commands to RMAN through a pipe</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e524" headers="d85533e219">
<p><code class="codeph">SCRIPT</code> <span class="italic"><code class="codeph">script_name</code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e524 d85533e222">
<p>Specifies the name of a stored script.</p>
<p>After connecting to a target database and recovery catalog (which must be specified with the <code class="codeph">TARGET</code> and <code class="codeph">CATALOG</code> options), RMAN runs the named stored script from the recovery catalog against the target database. If both a global script and a local stored script exist on the target database with the name <span class="italic"><code class="codeph">script_name</code></span>, then RMAN runs the local script.</p>
<p>The single quotes around the stored script name are required when the script name either begins with a number or is an RMAN reserved word (see <span class="q">&#34;<a href="rcmcomma.htm#GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675">RMAN Reserved Words</a>&#34;</span>). Avoid using such names.</p>
<p><span class="bold">See Also:</span> <code class="codeph"><a href="rcmsynta013.htm#GUID-4741C1E1-C365-4597-BF2F-8679145B4946">CREATE SCRIPT</a></code> for more details about stored scripts</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e564" headers="d85533e219">
<p><code class="codeph">TARGET</code> <span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e564 d85533e222">
<p>Specifies a connect string to the target database, for example, <code class="codeph">TARGET /</code>.</p>
<p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="rcmsubcl004.htm#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e590" headers="d85533e219">
<p><code class="codeph">TIMEOUT</code> <span class="italic"><code class="codeph">integer</code></span></p>
</td>
<td class="cellalignment1061" headers="d85533e590 d85533e222">
<p>Causes RMAN to exit automatically if it does not receive input from an input pipe within <span class="italic"><code class="codeph">integer</code></span> seconds. The <code class="codeph">PIPE</code> parameter must be specified when using <code class="codeph">TIMEOUT</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink BRADV130" target="_blank" href="../BRADV/rcmquick.htm#BRADV130"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> to learn how to pass commands to RMAN through a pipe</p>
</td>
</tr>
<tr class="cellalignment1038">
<td class="cellalignment1060" id="d85533e621" headers="d85533e219">
<p><code class="codeph">USING</code> <code class="codeph">{</code><span class="italic"><code class="codeph">string_or_identifier</code></span> <code class="codeph">|</code> <span class="italic"><code class="codeph">integer</code></span><code class="codeph">}</code></p>
</td>
<td class="cellalignment1061" headers="d85533e621 d85533e222">
<p>Specifies one or more values for use in substitution variables in a command file. As in SQL*Plus, <code class="codeph">&amp;1</code> indicates where to place the first value, <code class="codeph">&amp;2</code> indicate where to place the second value, and so on. <a href="rcmsynta2011.htm#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIAFGG">Example 3-44</a> illustrates how to pass values specified in a <code class="codeph">USING</code> clause to an RMAN command file.</p>
<p>The substitution variable syntax is <code class="codeph">&amp;</code><span class="italic"><code class="codeph">integer</code></span> followed by an optional dot, for example, <code class="codeph">&amp;1.3</code>. The optional dot is part of the variable and replaced with the value, thus enabling the substitution text to be immediately followed by another integer. For example, if you pass the value <code class="codeph">mybackup</code> to a command file that contains the substitution variable <code class="codeph">&amp;1.3</code>, then the result of the substitution is <code class="codeph">mybackup3</code>.</p>
<p><span class="bold">See Also:</span> <code class="codeph"><a href="rcmsynta021.htm#GUID-553B5C55-0BA6-4B47-86A9-0BCF839CCE04">EXECUTE SCRIPT</a></code> to learn how to specify the <code class="codeph">USING</code> clause when executing a stored script</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIIDEJ">
<p class="titleinexample">Example 3-42 Connecting RMAN to a Target Database in Default NOCATALOG Mode</p>
<p>In this example, you start the RMAN client without specifying database connection options at the operating system prompt. At the RMAN prompt, you run the <code class="codeph">CONNECT</code> command to connect to a target database. Because <code class="codeph"><a href="rcmsynta010.htm#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code> <code class="codeph">CATALOG</code> was not run at the RMAN prompt, RMAN connects in default <code class="codeph">NOCATALOG</code> mode when the first command requiring a repository connection is run, which in this case is the <code class="codeph">BACKUP DATABASE</code> command.</p>
<pre dir="ltr">% rman
RMAN&gt; CONNECT TARGET /
RMAN&gt; BACKUP DATABASE;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-1FA522DE-A267-443F-86FC-0A9AC3D4D7ED">
<p class="titleinexample">Example 3-43 Connecting RMAN to an Auxiliary Database Instance</p>
<p>This example connects to target database <code class="codeph">prod</code> and recovery catalog database <code class="codeph">catdb</code> with net service names, and connects to an auxiliary database instance with operating system authentication. <code class="codeph">sbu</code> is a user who is granted the <code class="codeph">SYSBACKUP</code> privilege.</p>
<pre dir="ltr">$ <span class="bold">RMAN TARGET &#34;sbu@prod AS SYSBACKUP&#34;</span>
 
Recovery Manager: Release 12.1.0.1.0 - Production on Wed Jan 16 09:29:02 2013
 
Copyright (c) 1982, 2013, Oracle and/or its affiliates.  All rights reserved.
 
target database Password: <span class="italic"><span class="bold">password</span></span>
connected to target database: REL12 (DBID=3152825380)
 
RMAN&gt; <span class="bold">CONNECT CATALOG rco@catdb</span>
 
recovery catalog database Password: <span class="italic"><span class="bold">password</span></span>
connected to recovery catalog database
 
RMAN&gt; <span class="bold">CONNECT AUXILIARY /</span>
 
connected to auxiliary database: REL12 (DBID=3152825380)
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIAFGG">
<p class="titleinexample">Example 3-44 Specifying Substitution Variables</p>
<p>Suppose that you want to create a Linux shell script that backs up the database. You want to use shell variables so that you can pass arguments to the RMAN backup script at run time. Substitution variables solve this problem. First, you create a command file named <code class="codeph">whole_db.cmd</code> with the following contents:</p>
<pre dir="ltr">cat &gt; /tmp/whole_db.cmd &lt;&lt;EOF
# name: whole_db.cmd
CONNECT TARGET /
BACKUP TAG &amp;1 COPIES &amp;2 DATABASE FORMAT &#39;/disk2/db_%U&#39;;
EXIT;
EOF
</pre>
<p>Next, you write the following Linux shell script, which sets <code class="codeph">csh</code> shell variables <code class="codeph">tagname</code> and <code class="codeph">copies</code>. The shell script starts RMAN, connects to target database <code class="codeph">prod1</code>, and runs <code class="codeph">whole_db.cmd</code>. The <code class="codeph">USING</code> clause passes the values in the variables <code class="codeph">tagname</code> and <code class="codeph">copies</code> to the RMAN command file at execution time.</p>
<pre dir="ltr">#!/bin/csh
# name: runbackup.sh
# usage: use the tag name and number of copies as arguments
set tagname = $argv[1]
set copies = $argv[2]
rman @&#39;/tmp/whole_db.cmd&#39; USING $tagname $copies LOG /tmp/runbackup.out
# the preceding line is equivalent to:
# rman @&#39;/tmp/whole_db.cmd&#39; $tagname $copies LOG /tmp/runbackup.out
</pre>
<p>Finally, you execute the shell script <code class="codeph">runbackup.sh</code> from a Linux shell as follows to create two backups of the database with the tag <code class="codeph">Q106</code>:</p>
<pre dir="ltr">% runbackup.sh Q106 2
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDCGAGH">
<p class="titleinexample">Example 3-45 Checking the Syntax of a Command File</p>
<p>Suppose that you create command file <code class="codeph">backup_db.cmd</code> as follows:</p>
<pre dir="ltr">cat &gt; /tmp/backup_db.cmd &lt;&lt;EOF
CONNECT TARGET /
BACKUP DATABASE;
EXIT;
EOF
</pre>
<p>The following example checks the syntax of the contents of command file <code class="codeph">backup_db.cmd</code> (sample output included):</p>
<pre dir="ltr">% rman CHECKSYNTAX @&#39;/tmp/backup_db.cmd&#39;

Recovery Manager: Release 12.1.0.1.0 - Production on Wed Jan 16 17:51:30 2013
 
Copyright (c) 1982, 2013, Oracle and/or its affiliates.  All rights reserved.
 
RMAN&gt; CONNECT TARGET *
2&gt; BACKUP DATABASE;
3&gt; EXIT;
The cmdfile has no syntax errors
 
Recovery Manager complete.
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-D8D18288-98B9-472A-8287-E2183A293AD0">
<p class="titleinexample">Example 3-46 Running a Stored Script and Appending Output to a Message Log</p>
<p>This example connects to a target database using operating system authentication and then runs stored script <code class="codeph">wdbb</code>. RMAN writes output to message log <code class="codeph">/tmp/wdbb.log</code>.</p>
<pre dir="ltr">% rman TARGET / SCRIPT wdbb LOG /tmp/wdbb.log
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-B62D87E4-E420-4DAA-B463-CFFA1BF8A2B6">
<p class="titleinexample">Example 3-47 Invoking the RMAN Pipe Interface</p>
<p>This example invokes the RMAN pipe <code class="codeph">newpipe</code> with a 90 second timeout option.</p>
<pre dir="ltr">% rman PIPE newpipe TARGET / TIMEOUT 90
</pre></div>
<!-- class="example" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1037">
<tr>
<td class="cellalignment1049">
<table class="cellalignment1042">
<tr>
<td class="cellalignment1041"><a href="rcmsynta2010.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1041"><a href="rcmsynta2012.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1051">
<table class="cellalignment1040">
<tr>
<td class="cellalignment1041"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1041"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1041"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1041"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1041"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1041"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
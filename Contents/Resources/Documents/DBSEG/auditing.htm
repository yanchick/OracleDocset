<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-5274"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Introduction%20to%20Auditing"></a><title>Introduction to Auditing</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Auditing tracks changes that users make in the database."/>
<meta name="keywords" content="PDBs, auditing, what can be audited, audit policies, unified audit policies, monitoring user actions, auditing, standard auditing, fine-grained auditing, Sarbanes-Oxley Act, auditing to meet compliance, auditing, meeting compliance through, performance, auditing, unified audit trail, about, unified auditing, benefits, finding if migrated to, compared with mixed mode auditing, mixed mode auditing, database creation, capabilities, mixed mode auditing capabilities, privileges required, types of audit settings allowed, CDBs, auditing, how affects, distributed databases, auditing and, distributed databases and"/>
<meta name="dcterms.created" content="2017-06-05T11:20:26Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Security Guide"/>
<meta name="dcterms.identifier" content="E48135-19"/>
<meta name="dcterms.isVersionOf" content="DBSEG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="part_6.htm" title="Previous" type="text/html"/>
<link rel="Next" href="audit_config.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48135-19.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-94381464-53A3-421B-8F13-BD171C867405"></a> <span id="PAGE" style="display:none;">32/44</span> <!-- End Header -->
<a id="DBSEG1023"></a>
<h1 id="DBSEG-GUID-94381464-53A3-421B-8F13-BD171C867405" class="sect1"><span class="enumeration_chapter">21</span> Introduction to Auditing</h1>
<div>
<p>Auditing tracks changes that users make in the database.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="auditing.htm#GUID-F901756D-F747-489C-ACDE-9DBFDD388D3E" title="Auditing is the monitoring and recording of configured database actions, from both database users and nondatabase users.">What Is Auditing?</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-0BCF9D36-BD6F-4FDC-AE3A-202202CA3A2B" title="You typically use auditing to monitor user activity.">Why Is Auditing Used?</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-8F354963-F0E6-4B8F-BFF4-891278E954D5" title="You should follow best practices guidelines for auditing.">Best Practices for Auditing</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-16E8E421-CFCE-4584-B09B-88F01D51B152" title="In unified auditing, the unified audit trail captures audit information from a variety of sources.">What Is Unified Auditing?</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-8D96829C-9151-4FA4-BED9-831D088F12FF" title="The benefits of a unified audit trail are many.">Benefits of the Unified Audit Trail</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-57897757-4F56-4E7D-9E81-1372AF3ADF1D" title="The V$OPTION dynamic view indicates if your database has been migrated to unified auditing.">Checking if Your Database Has Migrated to Unified Auditing</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-4A3AEFC3-5422-4320-A048-8219EC96EAC1" title="Mixed mode auditing is the default auditing in a newly installed database.">Mixed Mode Auditing</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-1BDA99D9-B7AA-4632-BB75-9B9A472BA146" title="Oracle provides two roles for users who perform auditing: AUDIT_ADMIN and AUDIT_VIEWER.">Who Can Perform Auditing?</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-562D382F-356F-46FE-B061-CF5E589CCEB8" title="Unified auditing can be used in a multitenant environment.">Auditing in a Multitenant Environment</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-37AD768B-685B-490A-B7EE-4880FC5CE623" title="Auditing is site autonomous in that a database instance audits only the statements issued by directly connected users.">Auditing in a Distributed Database</a></p>
</li>
</ul>
<div class="infobox-note" id="GUID-94381464-53A3-421B-8F13-BD171C867405__GUID-4DAD13D8-D473-4A86-86E1-A365832D5AE4">
<p class="notep1">Note:</p>
<p>This part describes how to use pure unified auditing, in which all audit records are centralized in one place. If you have not yet migrated to use unified auditing, then see <a class="olink UPGRD52810" target="_blank" href="../UPGRD/afterup.htm#UPGRD52810"><span><cite>Oracle Database Upgrade Guide</cite></span></a>. Be aware that the upgrade process itself does not automatically enable unified auditing. You must manually migrate to unified auditing, as described in <a class="olink UPGRD52810" target="_blank" href="../UPGRD/afterup.htm#UPGRD52810"><span class="italic">Oracle Database Upgrade Guide</span></a>.</p>
</div>
<div class="infoboxnotealso" id="GUID-94381464-53A3-421B-8F13-BD171C867405__GUID-D63849C6-8DAF-4C2C-9FA5-DFC76C701554">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="guidelines.htm#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle provides guidelines for auditing.">Guidelines for Auditing</a>&#34;</span> for general guidelines to follow for auditing your system</p>
</div>
</div>
<a id="DBSEG60612"></a>
<div class="props_rev_3"><a id="GUID-F901756D-F747-489C-ACDE-9DBFDD388D3E"></a>
<h2 id="DBSEG-GUID-F901756D-F747-489C-ACDE-9DBFDD388D3E" class="sect2">What Is Auditing?</h2>
<div>
<p>Auditing is the monitoring and recording of configured database actions, from both database users and nondatabase users.</p>
<p>&#34;Nondatabase users&#34; refers to application users who are recognized in the database using the <code class="codeph">CLIENT_IDENTIFIER</code> attribute. To audit this type of user, you can use a unified audit policy condition, a fine-grained audit policy, or Oracle Database Real Application Security.</p>
<p>You can base auditing on individual actions, such as the type of SQL statement executed, or on combinations of data that can include the user name, application, time, and so on.</p>
<p>You can configure auditing for both successful and failed activities, and include or exclude specific users from the audit. In a multitenant environment, you can audit individual actions of the pluggable database (PDB) or individual actions in the entire multitenant container database (CDB). In addition to auditing the standard activities the database provides, auditing can include activities from Oracle Database Real Application Security, Oracle Recovery Manager, Oracle Data Pump, Oracle Data Mining, Oracle Database Vault, Oracle Label Security, and Oracle SQL*Loader direct path events.</p>
<p>Auditing is enabled by default. All audit records are written to the unified audit trail in a uniform format and are made available through the <code class="codeph">UNIFIED_AUDIT_TRAIL</code> view. These records reside in the <code class="codeph">AUDSYS</code> schema. The audit records are stored in the <code class="codeph">SYSAUX</code> tablespace by default. Oracle recommends that you configure a different tablespace for the unified audit trail. Be aware that for most Oracle Database editions except for Enterprise Edition, you can only associate the tablespace for unified auditing once. You should perform this association before you generate any audit records for the unified audit trail. After you have associated the tablespace, you cannot modify it because partitioning is only supported on Enterprise Edition.</p>
<p>You can configure auditing by using any of the following methods:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Group audit settings into one unified audit policy.</span> You can create one or more unified audit policies that define all the audit settings that your database needs. <a href="audit_config.htm#GUID-A215CCAF-4AFF-448A-909C-736EBDED5A8A" title="You can use the CREATE AUDIT POLICY and AUDIT statements to use unified auditing policies.">Auditing Activities with Unified Audit Policies and the AUDIT Statement</a> describes how to accomplish this.</p>
</li>
<li>
<p><span class="bold">Use one of the default unified audit policies.</span> Oracle Database provides three default unified audit policies that encompass the standard audit settings that most regulatory agencies require. See <a href="audit_config.htm#GUID-C43651C6-A35C-4EEF-BEA7-EADA408BFF67" title="Oracle Database provides five predefined unified audit policies, which cover commonly used security-relevant audit settings.">Auditing Activities with the Predefined Unified Audit Policies</a>.</p>
</li>
<li>
<p><span class="bold">Create fine-grained audit policies.</span> You can create fine-grained audit policies that capture data such as the time an action occurred. See <a href="audit_config.htm#GUID-B706FF6F-13A6-4944-AFCB-29971F5076FD" title="Fine-grained auditing enables you to create audit policies at the granular level.">Auditing Specific Activities with Fine-Grained Auditing</a>.</p>
</li>
</ul>
<p>Oracle recommends that you audit your databases. Auditing is an effective method of enforcing strong internal controls so that your site can meet its regulatory compliance requirements, as defined in the Sarbanes-Oxley Act. This enables you to monitor business operations, and find any activities that may deviate from company policy. Doing so translates into tightly controlled access to your database and the application software, ensuring that patches are applied on schedule and preventing ad hoc changes. By creating effective audit policies, you can generate an audit record for audit and compliance personnel. Be selective with auditing and ensure that it meets your business compliance needs.</p>
</div>
</div>
<a id="DBSEG340"></a>
<div class="props_rev_3"><a id="GUID-0BCF9D36-BD6F-4FDC-AE3A-202202CA3A2B"></a>
<h2 id="DBSEG-GUID-0BCF9D36-BD6F-4FDC-AE3A-202202CA3A2B" class="sect2">Why Is Auditing Used?</h2>
<div>
<p>You typically use auditing to monitor user activity.</p>
<p>Auditing can be used to accomplish the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Enable accountability for actions.</span> These include actions taken in a particular schema, table, or row, or affecting specific content.</p>
</li>
<li>
<p><span class="bold">Deter users (or others, such as intruders) from inappropriate actions based on their accountability.</span></p>
</li>
<li>
<p><span class="bold">Investigate suspicious activity.</span> For example, if a user is deleting data from tables, then a security administrator can audit all connections to the database and all successful and unsuccessful deletions of rows from all tables in the database.</p>
</li>
<li>
<p><span class="bold">Notify an auditor of the actions of an unauthorized user.</span> For example, an unauthorized user could be changing or deleting data, or the user has more privileges than expected, which can lead to reassessing user authorizations.</p>
</li>
<li>
<p><span class="bold">Monitor and gather data about specific database activities.</span> For example, the database administrator can gather statistics about which tables are being updated, how many logical I/Os are performed, or how many concurrent users connect at peak times.</p>
</li>
<li>
<p><span class="bold">Detect problems with an authorization or access control implementation.</span> For example, you can create audit policies that you expect will never generate an audit record because the data is protected in other ways. However, if these policies generate audit records, then you will know the other security controls are not properly implemented.</p>
</li>
<li>
<p><span class="bold">Address auditing requirements for compliance.</span> Regulations such as the following have common auditing-related requirements:</p>
<ul style="list-style-type: disc;">
<li>
<p>Sarbanes-Oxley Act</p>
</li>
<li>
<p>Health Insurance Portability and Accountability Act (HIPAA)</p>
</li>
<li>
<p>International Convergence of Capital Measurement and Capital Standards: a Revised Framework (Basel II)</p>
</li>
<li>
<p>Japan Privacy Law</p>
</li>
<li>
<p>European Union Directive on Privacy and Electronic Communications</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<a id="DBSEG343"></a>
<div class="props_rev_3"><a id="GUID-8F354963-F0E6-4B8F-BFF4-891278E954D5"></a>
<h2 id="DBSEG-GUID-8F354963-F0E6-4B8F-BFF4-891278E954D5" class="sect2">Best Practices for Auditing</h2>
<div>
<p>You should follow best practices guidelines for auditing.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">As a general rule, design your auditing strategy to collect the amount of information that you need to meet compliance requirements, but focus on activities that cause the greatest security concerns.</span> For example, auditing every table in the database is not practical, but auditing tables with columns that contain sensitive data, such as salaries, is. With both unified and fine-grained auditing, there are mechanisms you can use to design audit policies that focus on specific activities to audit.</p>
</li>
<li>
<p><span class="bold">Periodically archive and purge the audit trail data.</span> See <a href="audit_admin.htm#GUID-9B891A44-3DF4-4B52-98D4-A931DBFAEC1D" title="You can use the DBMS_AUDIT_MGMT PL/SQL package to schedule automatic purge jobs, manually purge audit records, and perform other audit trail operations.">Purging Audit Trail Records</a> for more information.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-8F354963-F0E6-4B8F-BFF4-891278E954D5__GUID-1A9FB451-37CE-4331-9A44-125FAE84DF91">
<p class="notep1">See Also:</p>
<p><a href="guidelines.htm#GUID-776AA713-E67B-4DE5-BA51-621AACCFBA37" title="Oracle provides guidelines for auditing.">Guidelines for Auditing</a> for general guidelines to follow for auditing your system</p>
</div>
</div>
</div>
<a id="DBSEG630"></a>
<div class="props_rev_3"><a id="GUID-16E8E421-CFCE-4584-B09B-88F01D51B152"></a>
<h2 id="DBSEG-GUID-16E8E421-CFCE-4584-B09B-88F01D51B152" class="sect2">What Is Unified Auditing?</h2>
<div>
<p>In unified auditing, the unified audit trail captures audit information from a variety of sources.</p>
<p>Unified auditing enables you to capture audit records from the following sources:</p>
<ul style="list-style-type: disc;">
<li>
<p>Audit records (including <code class="codeph">SYS</code> audit records) from unified audit policies and <code class="codeph">AUDIT</code> settings</p>
</li>
<li>
<p>Fine-grained audit records from the <code class="codeph">DBMS_FGA</code> PL/SQL package</p>
</li>
<li>
<p>Oracle Database Real Application Security audit records</p>
</li>
<li>
<p>Oracle Recovery Manager audit records</p>
</li>
<li>
<p>Oracle Database Vault audit records</p>
</li>
<li>
<p>Oracle Label Security audit records</p>
</li>
<li>
<p>Oracle Data Mining records</p>
</li>
<li>
<p>Oracle Data Pump</p>
</li>
<li>
<p>Oracle SQL*Loader Direct Load</p>
</li>
</ul>
<p>The unified audit trail, which resides in a read-only table in the <code class="codeph">AUDSYS</code> schema in the <code class="codeph">SYSAUX</code> tablespace, makes this information available in a uniform format in the <code class="codeph">UNIFIED_AUDIT_TRAIL</code> data dictionary view, and is available in both single-instance and Oracle Database Real Application Clusters environments. In addition to the user <code class="codeph">SYS</code>, users who have been granted the <code class="codeph">AUDIT_ADMIN</code> and <code class="codeph">AUDIT_VIEWER</code> roles can query these views. If your users only need to query the views but not create audit policies, then grant them the <code class="codeph">AUDIT_VIEWER</code> role.</p>
<p>When the database is writeable, audit records are written to the unified audit trail. If the database is not writable, then audit records are written to new format operating system files in the <code class="codeph">$ORACLE_BASE/audit/$ORACLE_SID</code> directory.</p>
<div class="infoboxnotealso" id="GUID-16E8E421-CFCE-4584-B09B-88F01D51B152__GUID-E4B00393-9D54-430B-9044-1C9A1269A498">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN29162" target="_blank" href="../REFRN/GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D.htm#REFRN29162"><span><cite>Oracle Database Reference</cite></span></a> for detailed information about the <code class="codeph">UNIFIED_AUDIT_TRAIL</code> data dictionary view</p>
</div>
</div>
</div>
<a id="DBSEG1024"></a>
<div class="props_rev_3"><a id="GUID-8D96829C-9151-4FA4-BED9-831D088F12FF"></a>
<h2 id="DBSEG-GUID-8D96829C-9151-4FA4-BED9-831D088F12FF" class="sect2">Benefits of the Unified Audit Trail</h2>
<div>
<p>The benefits of a unified audit trail are many.</p>
<p>For example:</p>
<ul style="list-style-type: disc;">
<li>
<p>After unified auditing is enabled, it does not depend on the initialization parameters that were used in previous releases. See <a href="audit_changes.htm#GUID-22ED5B2A-13F9-4448-BE3E-578CE3691F3B__CIHDIGAD" title="How the Unified Auditing Migration Affects Individual Audit Features">Table G-1</a> for a list of these initialization parameters.</p>
</li>
<li>
<p>The audit records, including records from the <code class="codeph">SYS</code> audit trail, for all the audited components of your Oracle Database installation are placed in one location and in one format, rather than your having to look in different places to find audit trails in varying formats. This consolidated view enables auditors to co-relate audit information from different components. For example, if an error occurred during an <code class="codeph">INSERT</code> statement, standard auditing can indicate the error number and the SQL that was executed. Oracle Database Vault-specific information can indicate whether this error happened because of a command rule violation or realm violation. Note that there will be two audit records with a distinct <code class="codeph">AUDIT_TYPE</code>. With this unification in place, <code class="codeph">SYS</code> audit records appear with <code class="codeph">AUDIT_TYPE</code> set to <code class="codeph">Standard Audit</code>.</p>
</li>
<li>
<p>The management and security of the audit trail is also improved by having it in single audit trail.</p>
</li>
<li>
<p>Overall auditing performance is greatly improved. By default, the audit records are automatically written to an internal relational table in the <code class="codeph">AUDSYS</code> schema.</p>
</li>
<li>
<p>You can create named audit policies that enable you to audit the supported components listed at the beginning of this section, as well as <code class="codeph">SYS</code> administrative users. Furthermore, you can build conditions and exclusions into your policies.</p>
</li>
<li>
<p>If you are using an Oracle Audit Vault and Database Firewall environment, then the unified audit trail greatly facilitates the collection of audit data, because all of this data will come from one location. See <a class="olink SIGAD40485" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=SIGAD40485"><span><cite>Oracle Audit Vault and Database Firewall Administrator&#39;s Guide</cite></span></a> for more information.</p>
</li>
</ul>
</div>
</div>
<a id="DBSEG750"></a>
<div class="props_rev_3"><a id="GUID-57897757-4F56-4E7D-9E81-1372AF3ADF1D"></a>
<h2 id="DBSEG-GUID-57897757-4F56-4E7D-9E81-1372AF3ADF1D" class="sect2">Checking if Your Database Has Migrated to Unified Auditing</h2>
<div>
<p>The <code class="codeph">V$OPTION</code> dynamic view indicates if your database has been migrated to unified auditing.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Query the <code class="codeph">VALUE</code> column of the <code class="codeph">V$OPTION</code> dynamic view as follows, entering <code class="codeph">Unified Auditing</code> in the case shown:</p>
<pre dir="ltr">SELECT VALUE FROM V$OPTION WHERE PARAMETER = &#39;Unified Auditing&#39;;

PARAMETER         VALUE
----------------  ----------
Unified Auditing  TRUE
</pre></li>
</ul>
<p>This output shows that unified auditing is enabled. If unified auditing has not been enabled, then the output is <code class="codeph">FALSE</code>.</p>
<div class="infoboxnotealso" id="GUID-57897757-4F56-4E7D-9E81-1372AF3ADF1D__GUID-00BDDE2B-0112-45AB-9A04-6D663E24876F">
<p class="notep1">See Also:</p>
<p><a href="audit_admin.htm#GUID-80D9305C-29F6-4F3B-BDDB-371F619B08D8" title="You can disable unified auditing.">Disabling Unified Auditing</a> if you must disable unified auditing</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="DBSEG493"></a>
<div class="props_rev_3"><a id="GUID-4A3AEFC3-5422-4320-A048-8219EC96EAC1"></a>
<h2 id="DBSEG-GUID-4A3AEFC3-5422-4320-A048-8219EC96EAC1" class="sect2">Mixed Mode Auditing</h2>
<div>
<p>Mixed mode auditing is the default auditing in a newly installed database.</p>
<p>Topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="auditing.htm#GUID-E9DB31BB-E90C-4B22-B29D-F9A44B350F9B" title="Mixed mode auditing enables both traditional (that is, the audit facility from releases earlier than Release 12c) and the new audit facilities (unified auditing).">About Mixed Mode Auditing</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-576F6022-F559-462B-94A4-B4612A7F29AB" title="Unified auditing uses the $ORACLE_BASE/audit directory as the location for the new format operating system files.">How Database Creation Determines the Type of Auditing You Have Enabled</a></p>
</li>
<li>
<p><a href="auditing.htm#GUID-12712083-CA55-400A-93DC-15F97CB83814" title="Mixed mode auditing provides the several capabilities.">Capabilities of Mixed Mode Auditing</a></p>
</li>
</ul>
</div>
<a id="DBSEG1085"></a><a id="DBSEG822"></a>
<div class="props_rev_3"><a id="GUID-E9DB31BB-E90C-4B22-B29D-F9A44B350F9B"></a>
<h3 id="DBSEG-GUID-E9DB31BB-E90C-4B22-B29D-F9A44B350F9B" class="sect3">About Mixed Mode Auditing</h3>
<div>
<p>Mixed mode auditing enables both traditional (that is, the audit facility from releases earlier than Release 12<span class="italic">c</span>) and the new audit facilities (unified auditing).</p>
<p>You can enable the database in either of these two modes: the mixed mode auditing or pure unified auditing mode. Even though the features of unified auditing are enabled in both these modes, there are differences between them. In mixed mode, you can use the new unified audit facility alongside the traditional auditing facility. In pure unified auditing, you only use the unified audit facility.</p>
<p><a href="auditing.htm#GUID-E9DB31BB-E90C-4B22-B29D-F9A44B350F9B__CHDBEGGG" title="Comparison between mixed mode and pure mode auditing">Table 21-1</a> summarizes the features of these two modes and how you enable them.</p>
<div class="tblformal" id="GUID-E9DB31BB-E90C-4B22-B29D-F9A44B350F9B__CHDBEGGG">
<p class="titleintable">Table 21-1 Differences Between MIxed Mode Audting and Pure Unified Auditing</p>
<table class="cellalignment3677" title="Differences Between MIxed Mode Audting and Pure Unified Auditing" summary="Comparison between mixed mode and pure mode auditing">
<thead>
<tr class="cellalignment3671">
<th class="cellalignment3678" id="d119031e1122">Mode</th>
<th class="cellalignment3679" id="d119031e1125">Features</th>
<th class="cellalignment3680" id="d119031e1128">How to Enable</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3671">
<td class="cellalignment3681" id="d119031e1133" headers="d119031e1122">
<p>Mixed mode auditing</p>
</td>
<td class="cellalignment3682" headers="d119031e1133 d119031e1125">
<p>Has both traditional and unified auditing</p>
</td>
<td class="cellalignment3683" headers="d119031e1133 d119031e1128">
<p>Enable any unified audit policy. There is no need to restart the database.</p>
</td>
</tr>
<tr class="cellalignment3671">
<td class="cellalignment3681" id="d119031e1143" headers="d119031e1122">
<p>Pure unified auditing</p>
</td>
<td class="cellalignment3682" headers="d119031e1143 d119031e1125">
<p>Has only unified auditing</p>
</td>
<td class="cellalignment3683" headers="d119031e1143 d119031e1128">
<p>Link the <code class="codeph">oracle</code> binary with <code class="codeph">uniaud_on</code>, and then restart the database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Mixed mode is intended to introduce unified auditing, so that you can have a feel of how it works and what its nuances and benefits are. Mixed mode enables you to migrate your existing applications and scripts to use unified auditing. Once you have decided to use pure unified auditing, you can relink the <code class="codeph">oracle</code> binary with the unified audit option turned on and thereby enable it as the one and only audit facility the Oracle database runs. If you decide to revert back to mixed mode, you can.</p>
<p>As in previous releases, the traditional audit facility is driven by the <code class="codeph">AUDIT_TRAIL</code> initialization parameter. Only for mixed mode auditing, you should set this parameter to the appropriate traditional audit trail. This traditional audit trail will then be populated with audit records, along with the unified audit trail.</p>
<p>When you upgrade your database to the current release, traditional auditing is preserved, and the new audit records are written to the traditional audit trail. After you complete the migration (as described in <a class="olink UPGRD52810" target="_blank" href="../UPGRD/afterup.htm#UPGRD52810"><span><cite>Oracle Database Upgrade Guide</cite></span></a>), the audit records from the previous release are still available in those audit trails. You then can archive and purge these older audit trails by using the <code class="codeph">DBMS_AUDIT_MGMT</code> PL/SQL procedures, based on your enterprise retention policies.</p>
<div class="infoboxnotealso" id="GUID-E9DB31BB-E90C-4B22-B29D-F9A44B350F9B__GUID-3583CF21-38CA-40FA-9BE7-C73C827037EC">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="audit_changes.htm#GUID-22ED5B2A-13F9-4448-BE3E-578CE3691F3B" title="Most of the pre-Oracle Database 12c release 1 (12.1) auditing features can be used before a unified auditing migration.">How the Unified Auditing Migration Affects Individual Audit Features</a>, for a comparison of the features available in the pre-migrated and post-migrated auditing environments</p>
</li>
<li>
<p><a href="auditing.htm#GUID-57897757-4F56-4E7D-9E81-1372AF3ADF1D" title="The V$OPTION dynamic view indicates if your database has been migrated to unified auditing.">Checking if Your Database Has Migrated to Unified Auditing</a></p>
</li>
<li>
<p><a class="olink UPGRD52810" target="_blank" href="../UPGRD/afterup.htm#UPGRD52810"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about migrating your databases to unified auditing, and for references to the documentation you should use if you choose not to migrate</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DBSEG824"></a>
<div class="props_rev_3"><a id="GUID-576F6022-F559-462B-94A4-B4612A7F29AB"></a>
<h3 id="DBSEG-GUID-576F6022-F559-462B-94A4-B4612A7F29AB" class="sect3">How Database Creation Determines the Type of Auditing You Have Enabled</h3>
<div>
<p>Unified auditing uses the <code class="codeph">$ORACLE_BASE/audit</code> directory as the location for the new format operating system files.</p>
<p>For newly created databases, mixed mode auditing is enabled by default through the predefined policy <code class="codeph">ORA_SECURECONFIG</code>.</p>
<p>To start using unified auditing, you must enable at least one unified audit policy, and to stop using it, disable all unified audit policies.</p>
<div class="infoboxnotealso" id="GUID-576F6022-F559-462B-94A4-B4612A7F29AB__GUID-EF38459F-2A4F-42A1-A1EB-954472BA5EBE">
<p class="notep1">See Also:</p>
<p><a href="audit_config.htm#GUID-C0070008-D2BB-425A-9DC3-153FB1575445" title="The ORA_SECURECONFIG unified audit policy provides all the secure configuration audit options.">Secure Options Predefined Unified Audit Policy</a> for more information about the <code class="codeph">ORA_SECURECONFIG</code> policy</p>
</div>
</div>
</div>
<a id="DBSEG826"></a>
<div class="props_rev_3"><a id="GUID-12712083-CA55-400A-93DC-15F97CB83814"></a>
<h3 id="DBSEG-GUID-12712083-CA55-400A-93DC-15F97CB83814" class="sect3">Capabilities of Mixed Mode Auditing</h3>
<div>
<p>Mixed mode auditing provides the several capabilities.</p>
<p>These capabilities are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>It enables the use of all existing auditing initialization parameters: <code class="codeph">AUDIT_TRAIL</code>, <code class="codeph">AUDIT_FILE_DEST</code>, <code class="codeph">AUDIT_SYS_OPERATIONS</code>, and <code class="codeph">AUDIT_SYSLOG_LEVEL</code>.</p>
</li>
<li>
<p>It writes mandatory audit records only to the traditional audit trails.</p>
</li>
<li>
<p>It bases standard audit records on the standard audit configuration, and writes these records to the audit trail designated by the <code class="codeph">AUDIT_TRAIL</code> initialization parameter.</p>
<p>However, be aware that standard audit trail records are also generated based on unified audit policies and only these audit records are written to the unified audit trail. The standard audit records generated as a result of unified audit policies follow the semantics of unified audit policy enablement.</p>
</li>
<li>
<p>Administrative user sessions generate <code class="codeph">SYS</code> audit records. These records are written if the <code class="codeph">AUDIT_SYS_OPERATIONS</code> initialization parameter is set to <code class="codeph">TRUE</code>. This process writes the records only to the traditional audit trails. However, when unified audit policies are enabled for administrative users, these unified audit records are also written to unified audit trail.</p>
</li>
<li>
<p>The format of the audit records that are written to traditional audit trails remains the same as in Oracle Database 11<span class="italic">g</span> Release 2.</p>
</li>
<li>
<p>By default, Oracle Database writes unified audit records to system global area (SGA) queues. In other words, it writes the records periodically, not immediately. You can control how often the audit records are written. See <a href="audit_admin.htm#GUID-1DD625ED-AC75-47E7-ADF6-1C7C93656F22" title="Oracle Database writes audit records to the AUDSYS schema.">Writing the Unified Audit Trail Records to the AUDSYS Schema</a> for more information.</p>
</li>
<li>
<p>The performance cost of writing an audit record is equivalent to the sum of the times required for generating and writing an audit record to the traditional audit trail and the unified audit trail.</p>
</li>
<li>
<p>Mixed mode auditing provides a glance of the unified audit mode features. Oracle recommends that you migrate to unified audit mode once you are comfortable with the new style of audit policies and audit trail. To migrate to unified auditing, see <a class="olink UPGRD52810" target="_blank" href="../UPGRD/afterup.htm#UPGRD52810"><span class="italic">Oracle Database Upgrade Guide</span></a>.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="DBSEG614"></a>
<div class="props_rev_3"><a id="GUID-1BDA99D9-B7AA-4632-BB75-9B9A472BA146"></a>
<h2 id="DBSEG-GUID-1BDA99D9-B7AA-4632-BB75-9B9A472BA146" class="sect2">Who Can Perform Auditing?</h2>
<div>
<p>Oracle provides two roles for users who perform auditing: <code class="codeph">AUDIT_ADMIN</code> and <code class="codeph">AUDIT_VIEWER</code>.</p>
<p>To perform any kind of auditing, you must be granted the <code class="codeph">AUDIT_ADMIN</code> role. An auditor can view audit data after being granted the <code class="codeph">AUDIT_VIEWER</code> role.</p>
<p>The privileges that these roles provide are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">AUDIT_ADMIN role.</span> This role enables you to create unified and fine-grained audit policies, use the <code class="codeph">AUDIT</code> and <code class="codeph">NOAUDIT</code> SQL statements, view audit data, and manage the audit trail administration. Grant this role only to trusted users.</p>
</li>
<li>
<p><span class="bold">AUDIT_VIEWER role.</span> This role enables users to view and analyze audit data. The kind of user who needs this role is typically an external auditor.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-1BDA99D9-B7AA-4632-BB75-9B9A472BA146__GUID-C277DC34-5198-4BA9-8B82-42E1F697579C">
<p class="notep1">Note:</p>
<p>In previous releases, users were allowed to add and remove audit configuration to objects in their own schemas without any additional privileges. This ability is no longer allowed.</p>
</div>
</div>
</div>
<a id="DBSEG617"></a>
<div class="props_rev_3"><a id="GUID-562D382F-356F-46FE-B061-CF5E589CCEB8"></a>
<h2 id="DBSEG-GUID-562D382F-356F-46FE-B061-CF5E589CCEB8" class="sect2">Auditing in a Multitenant Environment</h2>
<div>
<p>Unified auditing can be used in a multitenant environment.</p>
<p>You can apply audit settings to individual PDBs or to the CDB as a whole, depending on the type of policy. In a multitenant environment, each PDB, including the root, has own unified audit trail.</p>
<p>See the following sections for more information:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Unified audit policies created with the CREATE AUDIT POLICY and AUDIT statements:</span> You can create policies for both the root and individual PDBs. See<a href="audit_config.htm#GUID-E02D0A5B-6591-4CD1-AF2B-29B0850BB6CB" title="In a multitenant environment, you can create unified audit policies in both the root and in PDBs.">Using the Unified Audit Policies or AUDIT Settings in a Multitenant Environment</a>.</p>
</li>
<li>
<p><span class="bold">Fine-grained audit policies:</span> You can create policies for individual PDBs only, not the root. See <a href="audit_config.htm#GUID-374564C6-AF17-44EC-8710-2C8440C5478D" title="The DBMS_FGA.ADD_POLICY procedure enables you to create a fine-grained audit policy.">Creating a Fine-Grained Audit Policy</a>.</p>
</li>
<li>
<p><span class="bold">Purging the audit trail:</span> You can perform purge operations for both the root and individual PDBs. See <a href="audit_admin.htm#GUID-9B891A44-3DF4-4B52-98D4-A931DBFAEC1D" title="You can use the DBMS_AUDIT_MGMT PL/SQL package to schedule automatic purge jobs, manually purge audit records, and perform other audit trail operations.">Purging Audit Trail Records</a>.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-562D382F-356F-46FE-B061-CF5E589CCEB8__GUID-13675917-FF2D-45B5-B450-F29FFAAD5C7F">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT89367" target="_blank" href="../CNCPT/glossary.htm#CNCPT89367"><span><cite>Oracle Database Concepts</cite></span></a> for information about the common audit configurations in a multitenant environment</p>
</div>
</div>
</div>
<a id="DBSEG60613"></a>
<div class="props_rev_3"><a id="GUID-37AD768B-685B-490A-B7EE-4880FC5CE623"></a>
<h2 id="DBSEG-GUID-37AD768B-685B-490A-B7EE-4880FC5CE623" class="sect2">Auditing in a Distributed Database</h2>
<div>
<p>Auditing is site autonomous in that a database instance audits only the statements issued by directly connected users.</p>
<p>A local Oracle Database node cannot audit actions that take place in a remote database.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3670">
<tr>
<td class="cellalignment3684">
<table class="cellalignment3675">
<tr>
<td class="cellalignment3674"><a href="part_6.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3674"><a href="audit_config.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3686">
<table class="cellalignment3673">
<tr>
<td class="cellalignment3674"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3674"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3674"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3674"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3674"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3674"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-3887"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Troubleshooting%20Common%20Errors"></a><title>Troubleshooting Common Errors</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-08-21T13:54:23Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Extensions for .NET Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E18596-03"/>
<meta name="dcterms.isVersionOf" content="CLRNT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="appendixa.htm" title="Previous" type="text/html"/>
<link rel="Next" href="glossary.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E18596-03.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/12</span> <!-- End Header -->
<div id="CLRNT0006" class="appendix"><a id="sthref208"></a>
<h1 class="appendix"><span class="secnum">B</span> Troubleshooting Common Errors</h1>
<p><a id="sthref209"></a><a id="sthref210"></a>This appendix discusses common errors.</p>
<p>Users may encounter various errors while running the PL/SQL wrapper. Causes and recommended actions for such errors are listed below.</p>
<div class="msgset">
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3877"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref211"></a>ORA-03113: end-of-file on communication channel</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The connection between Client and Server process was broken. It may also happen if the external agent <code>extproc</code> crashes for some reason.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> There was a communication error that requires further investigation. First, check for network problems and review the SQL*Net setup. Also, look in the <code>alert.log</code> file for any errors. Finally, test to see whether the server process is dead and whether a trace file was generated at failure time. There may be some system calls in the .NET function which might terminate the process. Remove such calls.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3878"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref212"></a>ORA-03114: not connected to ORACLE</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The connection between Client and Server process was broken. This may also happen if the external agent <code>extproc</code> crashes for some reason.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> There was a communication error which requires further investigation. First, check for network problems and review the SQL*Net setup. Also, look in the <code>alert.log</code> file for any errors. Finally, test to see whether the server process is dead and whether a trace file was generated at failure time. There may be some system calls in the .NET function which might terminate the process. Remove such calls.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3879"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref213"></a>ORA-20100: System.BadImageFormatException. The format of the file is invalid.</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The .NET Assembly is not in the proper format.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Fix the .NET assembly format that contains the .NET stored procedures or functions. You need to recompile the .NET assembly.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3880"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref214"></a>ORA-20100: System.IO.FileNotFoundException. File or assembly name &lt;assemblyname&gt;.dll, or one of its dependencies, was not found.</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The .NET Assembly or one of its dependent assemblies is not available in <code><span class="codeinlineitalic">ORACLE_BASE\\ORACLE_HOME</span></code><code>\bin\clr</code> or in one of the subdirectories as specified during the creation of the library object by the wizard.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Copy the .NET assembly and all its dependent assemblies to <code><span class="codeinlineitalic">ORACLE_BASE\\ORACLE_HOME</span></code><code>\bin\clr</code> or to one of its subdirectories as appropriate.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3881"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref215"></a>ORA-20100: System.MissingMethodException</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> <code>MissingMethodException</code> is thrown for many possible reasons including:
<ul>
<li>
<p>The stored procedure or function name does not match the actual stored procedure or function name defined in the .NET assembly.</p>
</li>
<li>
<p>The number, sequence, and type of parameters passed do not match the actual parameters in the .NET stored procedure.</p>
</li>
</ul>
</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Check the name of the called stored procedure or function for spelling mistakes or case mismatch (upper or lower). Check the number of parameters and check that the type and sequence of the parameters match those of the stored procedure or function defined in the .NET assembly.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3882"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref216"></a>ORA-20100: System.Reflection.TargetException. &lt;typename&gt; type not found</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> The namespace and/or the class name used in the PL/SQL wrapper is not defined in the .NET Assembly.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Check the class name for spelling mistakes or case mismatch. Check the .NET assembly code for the type.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3883"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref217"></a>ORA-20100: System.Security.SecurityException</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> .NET stored procedure or function could not be executed with current security level.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the appropriate security level. For example, if the .NET stored procedure or function requires file system access, then it should be created with EXTERNAL security level.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3884"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref218"></a>ORA-28575: unable to open RPC connection to external procedure agent</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Initialization of a network connection to the <code>extproc</code> agent did not succeed. This problem can be caused by network problems, incorrect listener configuration, or incorrect transfer code.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Check listener configuration in <code>LISTENER.ORA</code> and <code>TNSNAMES.ORA</code>, or check Oracle Names Server. Verify that the multithreaded <code>extproc</code> configuration entries are correct.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3885"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref219"></a>ORA-28578: protocol error during callback from an external procedure</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> An internal protocol error occurred. This could be due to some registration issue during creation of PL/SQL wrapper.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Recreate the PL/SQL wrapper using the wizard.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<div class="msgentry">
<dl>
<dt><span class="msg"><a class="dashingAutolink" name="autolink-3886"></a><a class="dashAnchor" name="//apple_ref/cpp/Command/"></a><a id="sthref220"></a>PLS-00201: identifier &#39;DBMS_CLR&#39; must be declared</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Either Oracle Database Extensions for .NET is not installed and configured properly or the .NET stored procedure has not been deployed correctly using the Oracle Deployment Wizard for .NET.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Use the Database Configuration Assistant to configure Oracle Database Extensions for .NET, if it has not been installed already. Deploy the .NET stored procedure using the Oracle Deployment Wizard for .NET.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1812">
<tr>
<td class="cellalignment1821">
<table class="cellalignment1817">
<tr>
<td class="cellalignment1816"><a href="appendixa.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1816"><a href="glossary.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1824">
<table class="cellalignment1815">
<tr>
<td class="cellalignment1816"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1816"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1816"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1816"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1816"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1816"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
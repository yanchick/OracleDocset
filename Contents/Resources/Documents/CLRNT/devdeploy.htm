<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-3889"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Development%20and%20Deployment%20with%20Visual%C2%A0Studio"></a><title>Development and Deployment with Visual&nbsp;Studio</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-08-21T13:54:23Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Extensions for .NET Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E18596-03"/>
<meta name="dcterms.isVersionOf" content="CLRNT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="install.htm" title="Previous" type="text/html"/>
<link rel="Next" href="demo.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E18596-03.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/12</span> <!-- End Header -->
<div id="CLRNT0003" class="chapter"><a id="CHDFBGAI"></a>
<h1 class="chapter"><span class="secnum">3</span> Development and Deployment with Visual&nbsp;Studio</h1>
<p>This chapter describes the steps that are required to develop and deploy a .NET stored procedure or function into an Oracle Database.</p>
<p>This chapter contains these topics:</p>
<ul>
<li>
<p><a href="#CHDDAGDH">Step 1: Develop the Stored Procedure or Function and Build it into an Assembly</a></p>
</li>
<li>
<p><a href="#CHDIFCDB">Step 2: Run the Oracle Deployment Wizard for .NET</a></p>
</li>
<li>
<p><a href="#CHDHFCFE">Step 3: Choose the Procedure or Function to Deploy and Security Level</a></p>
</li>
<li>
<p><a href="#CHDGHIHA">Step 4: Determine the Appropriate Parameter Type Mappings</a></p>
</li>
<li>
<p><a href="#CHDFDDAD">Step 5: Deploy the Procedure or Function</a></p>
</li>
<li>
<p><a href="#BIHIIJED">Step 6: Test the Procedure or Function</a></p>
</li>
<li>
<p><a href="#BIHIJFJJ">Step 7: Debug the Procedure or Function</a></p>
</li>
</ul>
<a id="CHDDAGDH"></a>
<div id="CLRNT146" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 1: Develop the Stored Procedure or Function and Build it into an Assembly<a id="sthref124"></a><a id="sthref125"></a><a id="sthref126"></a><a id="sthref127"></a><a id="sthref128"></a><a id="sthref129"></a><a id="sthref130"></a><a id="sthref131"></a><a id="sthref132"></a></h2>
<p>Write the stored procedure or function using Microsoft Visual Studio with an appropriate .NET language.</p>
<p>Use Oracle Data Provider for .NET (<code>Oracle.DataAccess.Client</code> and <code>Oracle.DataAccess.Types</code>) in a .NET stored procedure or function to provide data access.</p>
<p>Build the stored procedure or function into an assembly as a DLL, and not as an EXE. This is typically accomplished using a Class Library project.</p>
<p>Keep in mind the Oracle Data Provider for .NET limitations and restrictions, especially concerning connections and transactional semantics, when designing and developing a .NET procedure or function that uses data access.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<span class="italic">Oracle Data Provider for .NET Developer&#39;s Guide for Microsoft Windows</span></div>
</div>
<!-- class="sect1" -->
<a id="CHDIFCDB"></a>
<div id="CLRNT147" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 2: Run the Oracle Deployment Wizard for .NET</h2>
<p>Run Oracle Deployment Wizard for .NET from Microsoft Visual Studio. Oracle Deployment Wizard for .NET is installed as part of the Oracle Developer Tools for Visual Studio. This wizard requires <code>SYSDBA</code> credentials, the name of the assembly to be deployed, and the database it is being deployed to.</p>
</div>
<!-- class="sect1" -->
<a id="CHDHFCFE"></a>
<div id="CLRNT148" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 3: Choose the Procedure or Function to Deploy and Security Level</h2>
<p>Choose the procedure or function to be deployed when the Oracle Deployment Wizard for .NET displays the list of methods for that assembly.</p>
<p>Also, choose the security level.</p>
<p>Oracle Database Extensions for .NET executes .NET stored procedures or functions at a specific security level. The security level dictates the Code Access Permissions granted to a .NET stored procedure or function. By default, .NET stored procedures or functions are executed with the SAFE security level.</p>
<p>The security levels are:</p>
<ul>
<li>
<p>Safe</p>
<p>In Safe level, the .NET stored procedure or function is allowed to access only database resources. Access to any external resources such as local files, networks, and so on, is not allowed.</p>
</li>
<li>
<p>External</p>
<p>In External level, the .NET stored procedure or function is allowed to read or write to local files, and to access network resources such as sockets and internet nodes, and so on.</p>
</li>
<li>
<p>Unsafe</p>
<p>In Unsafe level, the .NET stored procedure or function is allowed unrestricted execution including execution of unmanaged code. It is a superset of all other security levels.</p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="demo.htm#CJFFIGID">&#34;Step 3: Choose the Function to Deploy&#34;</a> for the process of entering security level</div>
</div>
<!-- class="sect1" -->
<a id="CHDGHIHA"></a>
<div id="CLRNT149" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 4: Determine the Appropriate Parameter Type Mappings<a id="sthref133"></a><a id="sthref134"></a><a id="sthref135"></a><a id="sthref136"></a><a id="sthref137"></a><a id="sthref138"></a><a id="sthref139"></a><a id="sthref140"></a></h2>
<p>Determine the correct mapping between .NET and Oracle data types for creating a PL/SQL wrapper for the .NET stored procedure or function. The Oracle Deployment Wizard for .NET provides default mappings, but they can be overridden.</p>
<p>In case of overloaded .NET stored procedures or functions, you need to provide distinct names for the PL/SQL wrappers.</p>
<p>Tables in Appendix A provides conversion information.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="appendixa.htm#CHDHIGFF">&#34;Data Type Conversion&#34;</a></div>
</div>
<!-- class="sect1" -->
<a id="CHDFDDAD"></a>
<div id="CLRNT150" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 5: Deploy the Procedure or Function<a id="sthref141"></a><a id="sthref142"></a></h2>
<p>Deploy the procedure or function in the database. The wizard performs the following steps:</p>
<ol>
<li>
<p>Connects as <code>SYSDBA</code>.</p>
</li>
<li>
<p>Copies the user assembly to the <code><span class="codeinlineitalic">ORACLE_BASE\\ORACLE_HOME</span></code><code>\bin\CLR</code> directory or its subdirectory.</p>
</li>
<li>
<p>Creates an Oracle library object and grants execute privilege on this library object to the database user:</p>
<pre>CREATE OR REPLACE LIBRARY CLRLIBRARY1_DLL AS &#39;$ORACLE_HOME\
    bin\clr\CLRLibrary1_dll;
GRANT EXECUTE ON CLRLIBRARY1_DLL TO SCOTT;
</pre></li>
<li>
<p>Creates a PL/SQL wrapper in the user&#39;s database schema for each procedure or function, according to the parameter type mappings defined by the user.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BIHIIJED"></a>
<div id="CLRNT151" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 6: Test the Procedure or Function</h2>
<p>Test the .NET stored procedure or function by calling the PL/SQL wrapper.</p>
<p>The PL/SQL wrapper can be located and executed easily using Oracle Developer Tools for Visual Studio, or from a tool like SQL*Plus.</p>
</div>
<!-- class="sect1" -->
<a id="BIHIJFJJ"></a>
<div id="CLRNT152" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Step 7: Debug the Procedure or Function<a id="sthref143"></a><a id="sthref144"></a><a id="sthref145"></a><a id="sthref146"></a><a id="sthref147"></a></h2>
<p>Whenever a .NET stored procedure or function is invoked, the Oracle database listener redirects the request to a multithreaded CLR external procedure agent, <code>extproc.exe</code>. Each .NET stored procedure or function is executed in the context of the <code>extproc.exe</code> process.</p>
<ol>
<li>
<p>Ensure that the debug versions of the .NET assembly representing the .NET stored procedure or function and its <code>pdb</code> file and dependency DLLs, and their respective <code>pdb</code> files are copied to the <code><span class="codeinlineitalic">ORACLE_BASE\\ORACLE_HOME</span></code><code>\bin\clr</code> directory or one of its subdirectories, based on the path provided while creating the library.</p>
</li>
<li>
<p>Attach the debugger to the <code>extproc.exe</code> process. Note that the debugger should be capable of debugging .NET code. If Visual Studio is used for debugging, select the Native and Common Language Runtime options in the Attach to Process dialog box. The Native option can be deselected if any .NET stored procedure has already been run in the context of the same <code>extproc.exe</code> process.</p>
</li>
<li>
<p>When the debugger is attached, open the .NET stored procedure or function source code and set any breakpoints that are needed, at the required locations.</p>
</li>
<li>
<p>Debug the .NET stored procedure.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
You can use Oracle Data Provider for .NET tracing mechanism to troubleshoot application issues. Please see Debug Tracing section in <span class="italic">Oracle Data Provider for .NET Developer&#39;s Guide for Microsoft Windows</span>.</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1812">
<tr>
<td class="cellalignment1821">
<table class="cellalignment1817">
<tr>
<td class="cellalignment1816"><a href="install.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1816"><a href="demo.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1824">
<table class="cellalignment1815">
<tr>
<td class="cellalignment1816"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1816"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1816"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1816"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1816"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1816"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-71033"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Classpath%20Extensions%20and%20User%20Classloaded%20Metadata"></a><title>Classpath Extensions and User Classloaded Metadata</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="description" content="This book describes how to develop, load, and run Java applications in Oracle Database."/>
<meta name="dcterms.created" content="2014-06-30T4:25:1Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Java Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E50793-03"/>
<meta name="dcterms.isVersionOf" content="JJDEV"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="appendixa.htm" title="Previous" type="text/html"/>
<link rel="Next" href="index.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E50793-03.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">22/23</span> <!-- End Header -->
<div id="JJDEV13542" class="appendix"><a id="BGBBBJAE"></a>
<h1 class="appendix"><span class="secnum">B</span> Classpath Extensions and User Classloaded Metadata</h1>
<p>This section provides a description of the extensions to the <code>-classpath</code> search path and User Classloaded Metadata.</p>
<div id="JJDEV13543" class="sect1"><!-- infolevel="all" infotype="General" --><a id="sthref876"></a>
<h2 class="sect1">Classpath Extensions</h2>
<p>This section provides a description of the extensions to the <code>-classpath</code> search path and <code>jserver</code> URL protocol syntaxes that allow specification of database resident objects and byte sets in search paths used by the command-line interface.</p>
<div id="JJDEV13544" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref877"></a>
<h3 class="sect2">jserverQuotedClassPathTermPrefix</h3>
<p>When a classpath term begins with the <code>jserverQuotedClassPathTermPrefix</code> string, it extends through the next occurrence of the string, regardless of the <code>File.pathSeparator</code> characters it may contain. The actual value of this string is given by the system property <code>jserver.quoted.classpath.term.prefix</code>. If this property is not defined, the default value is <code>||</code>.</p>
</div>
<!-- class="sect2" -->
<div id="JJDEV13545" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref878"></a>
<h3 class="sect2">jserverURLPrefix</h3>
<p>When a dequoted classpath term begins with the <code>jserverURLPrefix</code> string, the rest of the term is treated as a URL. The value of this string is given by the system property <code>jserver.url.in.classpath.prefix.</code> If this value is <code>null,</code> any quoted term that does not begin with one of the following three prefixes, is treated as a URL:</p>
<ul>
<li>
<p><code>jserverSpecialTokenPrefix,</code> if the value is set</p>
</li>
<li>
<p><code>JSERVER_CP</code></p>
</li>
<li>
<p><code>JSERVER_SCHEMAc</code></p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
A quoted term is one that begins and ends with the string that is the value of <code>jserverQuotedClassPathTermPrefix.</code> A dequoted term is either the whole original term if it is not quoted, or the part of a quoted term between the beginning and ending occurrences of <code>jserverQuotedClassPathTermPrefix.</code></div>
</div>
<!-- class="sect2" -->
<div id="JJDEV13546" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref879"></a>
<h3 class="sect2">jserverSpecialTokenPrefix</h3>
<p>The value of the <code>jserverSpecialTokenPrefix</code> string is given by the system property <code>jserver.specialtoken.in.classpath.prefix.</code> If this value is not <code>null</code>, then the prefixes <code>JSERVER_CP</code> and <code>JSERVER_SCHEMAc</code> are recognized only when preceded by this string.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="#BGBJCBBE">&#34;JSERVER_CP&#34;</a> and <a href="#BGBBIJJC">&#34;JSERVER_SCHEMAc&#34;</a></div>
</div>
<!-- class="sect2" -->
<a id="BGBJCBBE"></a>
<div id="JJDEV13547" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">JSERVER_CP</h3>
<p>A classpath term beginning with the literal substring <code>&#34;JSERVER_CP&#34;</code> is converted to a URL by replacing <code>JSERVER_CP</code> with <code>jserver:/CP.</code></p>
</div>
<!-- class="sect2" -->
<a id="BGBBIJJC"></a>
<div id="JJDEV13548" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">JSERVER_SCHEMAc</h3>
<p>A classpath term beginning with the literal substring <code>&#34;JSERVER_SCHEMAc&#34;</code> is converted to a URL by replacing <code>JSERVER_SCHEMAc</code> with <code>jserver:/CPcSCHEMAc.</code> Here <code>c</code> can be any character, but is typically <code>/</code>. This means that a term of the form <code>JSERVER_SCHEMAc + &lt;remaining string&gt;</code> is treated as a prescription for looking for shared System classloaded classes and resources in the schema identified by <code>&lt;remaining string&gt;.</code> For example, the term <code>JSERVER_SCHEMA/HR</code> is equivalent to <code>jserver:/CP/SCHEMA/HR</code> and it instructs to look for shared classes and resources in the schema named <code>HR</code>.</p>
</div>
<!-- class="sect2" -->
<div id="JJDEV13549" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref880"></a>
<h3 class="sect2">jserver:/CP general syntax</h3>
<p>A URL beginning with <code>jserver:/CP</code> is meaningful only as a classpath term. The first character following <code>jserver:/CP</code> is used as the token separator for the remainder of the string. This is typically the character <code>/.</code> The subsequent tokens are the following:</p>
<ul>
<li>
<p>The possible values of the first token are JAR, RESOURCE, or SHARED_DATA, where RESOURCE indicates a Java resource object, SHARED_DATA indicates a Java shared data object, and JAR indicates a database resident JAR object. This token is optional and all of the values are case-insensitive. If one of these is present, the URL is called a JAR specifier. Otherwise, it is called a SCHEMA specifier.</p>
</li>
<li>
<p>The value of the second token is PRIVATE. This is an optional token and is case-insensitive.</p>
</li>
<li>
<p>The value of the third token is SCHEMA. This is a required token and is case-insensitive.</p>
</li>
<li>
<p>The fourth token is a required token, which is interpreted as a schema name.</p>
</li>
<li>
<p>The fifth token is required for a JAR specifier and prohibited for a SCHEMA specifier. It is interpreted as the name of an object in the schema identified by the fourth token, if present.</p>
</li>
</ul>
<p>Functionally, a classpath term is used to look for an object that matches a class or resource name that is being searched for. In the case of a SCHEMA specifier, the object is looked for in the indicated schema. In the case of a JAR specifier, a particular object in the schema is identified by the fifth token in the URL. This object is treated as a JAR and the searched for object is looked for by name, within that JAR. In the case of looking for a class within a database resident JAR, this may mean finding the class as a class object in the schema. Otherwise, it means finding the search object in the actual bytes of the JAR object.</p>
<p>The searched for object is a database Java class object, if it meets the following conditions:</p>
<ul>
<li>
<p>The search name ends in <code>.class</code></p>
</li>
<li>
<p>the URL is either a SCHEMA specifier or a JAR specifier for a database resident JAR</p>
</li>
</ul>
<p>Such a class object may be:</p>
<ul>
<li>
<p>Loaded as a shared system classloaded class. This is done if the optional second token PRIVATE is not present.</p>
</li>
<li>
<p>Interpreted as a set of bytecodes and loaded by the <code>defineClass</code> method as a private user classloaded class. This is done if the optional second token PRIVATE is present.</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
Classes loaded from classpath terms not beginning with the jserver URL marker are always private, user classloaded classes.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBGDGHE"></a>
<div id="JJDEV13550" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">User Classloaded Metadata</h2>
<p>Starting from 11g release 1 (11.1), there is a new system table created in the following manner in <code>javavm/install/initjvma.sql</code> during database creation and upgrade:</p>
<pre>create table java$jvm$runtime$parameters (owner# number not null,flags number);
create unique index java$jvm$runtime$parameters$i on java$jvm$runtime$parameters(owner#);
</pre>
<p>This table is removed during downgrade by <code>javavm/install/rmjvm.sql.</code> If you want to share private class metadata and have DBA privileges, then you can populate this table manually. The rule is that if there is a row matching your owner ID, then the flag value of this row is bitwise anded with the flag value from the row with owner# = -1, if any. If none of these previously mentioned rows exist, then the bit set in the result is -1, that is, all bits set. If bit 0 (1&lt;&lt;0) is set in the result, then your session attempts to share existing shared private metadata. If bit 1 (1&lt;&lt;1) is set in the result, then the session creates shared metadata when existing shared metadata is not found. By default, there is no row in the table. So, all sessions both use and create shared private metadata.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3995">
<tr>
<td class="cellalignment4004">
<table class="cellalignment4000">
<tr>
<td class="cellalignment3999"><a href="appendixa.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3999"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4006">
<table class="cellalignment3998">
<tr>
<td class="cellalignment3999"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3999"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3999"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3999"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3999"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3999"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-5857"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Using%20the%20DMU%20to%20Cleanse%20Data"></a><title>Using the DMU to Cleanse Data</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1067"/>
<meta name="dcterms.created" content="2015-08-21T21:34:33Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Migration Assistant for Unicode Guide"/>
<meta name="dcterms.identifier" content="E48475-07"/>
<meta name="dcterms.isVersionOf" content="DUMAG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="ch5advanced.htm" title="Previous" type="text/html"/>
<link rel="Next" href="glossary.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E48475-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/11</span> <!-- End Header -->
<div id="DUMAG1440" class="chapter"><a id="BBBBBBBB"></a>
<h1 class="chapter"><span class="secnum">6</span> Using the DMU to Cleanse Data</h1>
<p>T<a id="sthref231"></a><a id="sthref232"></a>his chapter provides a reference for elements of the user interface of the Database Migration Assistant for Unicode (DMU) used during cleansing and describes how to use them to perform various tasks.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#BABBIBCE">Cleansing Data</a></p>
</li>
<li>
<p><a href="#BCGBHDHE">Viewing Data</a></p>
</li>
<li>
<p><a href="#BCGHJBGJ">Editing Data</a></p>
</li>
<li>
<p><a href="#BCGCFACC">Displaying Data</a></p>
</li>
<li>
<p><a href="#BCGDDJFJ">Modifying Columns</a></p>
</li>
<li>
<p><a href="#BCGHEJAF">Scheduling Column Modification</a></p>
</li>
<li>
<p><a href="#BCGBDIBF">Modifying Attributes</a></p>
</li>
<li>
<p><a href="#BCGHABAF">Scheduling Attribute Modification</a></p>
</li>
<li>
<p><a href="#BCGCHCJI">Ignoring Convertibility Issues</a></p>
</li>
<li>
<p><a href="#BCGBHBII">Bulk Cleansing</a></p>
</li>
<li>
<p><a href="#BCGHJDFD">Cleansing Scenario 1: A Database with No Issues</a></p>
</li>
<li>
<p><a href="#BCGBABGJ">Cleansing Scenario 2: Cleansing Expansion Issues</a></p>
</li>
<li>
<p><a href="#BCGCHIBB">Cleansing Scenario 3: Cleansing Invalid Representation Issues</a></p>
</li>
</ul>
<p>In certain specific cases, two column properties allow you to ignore data issues as described in <a href="#BCGCHCJI">&#34;Ignoring Convertibility Issues&#34;</a>.</p>
<p>The cleansing actions can be immediate or scheduled. An immediate action is performed directly on the database contents and its effects are immediately visible. A scheduled cleansing action is registered in the migration repository and executed during the conversion step of the migration process. Therefore, the effects of a scheduled action are virtual until the conversion. The DMU accounts for scheduled actions when scanning the database for issues by presenting adjusted scan results under the heading &#34;including effects of scheduled cleansing&#34; or &#34;scheduled&#34;.</p>
<p>Scheduled cleansing actions are defined in the Schedule Column Modification and Schedule Attribute Modification dialog boxes. All other cleansing actions are immediate.</p>
<p>Note that if your application enforces specific data dependencies in your database where the data values stored in multiple table columns must be kept consistent, then you will need to manually maintain the data dependencies during the data cleansing process as the DMU would have no knowledge of such user application schema dependencies.</p>
<a id="BABBIBCE"></a>
<div id="DUMAG204" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Cleansing Data</h2>
<p>The Cleansing E<a id="sthref233"></a>ditor tab is the starting point of most cleansing actions on a table. You can open it by selecting <span class="bold">Cleansing</span> <span class="bold">Editor</span> from the context menu of a table node in the Navigator pane or in the Database Scan Report. The Cleansing Editor is not available for the data dictionary tables. The Cleansing Editor tab is shown in <a href="#BABHECAF">Figure 6-1</a>.</p>
<p>The Cleansing Editor tab contains a toolbar, an editor grid, and two buttons, Save and Revert. The editor grid displays contents of the table for which the Cleansing Editor was opened. This table is called the edited table later in this guide. The columns of the grid correspond to character data type columns of the edited table and rows of the grid correspond to rows of the table.</p>
<p>The editor grid works in one of two selection modes: if you click a single cell, the cell is selected and the grid switches to the cell selection mode. Only one cell can be selected in this mode. The selected cell is called the current cell. If you click a column heading (containing the name of the column), the grid switches to the column selection mode and the clicked column becomes a selected column. You can add more columns to the selection by holding down the Ctrl key and clicking further column headings. <a href="#BABHECAF">Figure 6-1, &#34;Cleansing Editor&#34;</a> shows the cell in the <code dir="ltr">JOB_ID</code> column of the 10th displayed table row selected as the current cell.</p>
<p>Cells in the grid are highlighted with specific colors to indicate identified data issues. See <a href="#BCGGCDCH">&#34;Cleansing Data: Color Highlighting&#34;</a> for more information. <a href="#BABHECAF">Figure 6-1</a> shows the cell in the <code dir="ltr">EMAIL</code> column of the 10th displayed table row on light coral background to indicate an invalid representation issue and the cell in the <code dir="ltr">LAST_NAME</code> column of the same row on yellow background to indicate a column length issue.</p>
<p>You can let the Cleansing Editor filter out rows of the edited table so that only the rows relevant to your current cleansing activity are displayed in the editor grid. See <a href="ch4scenarios.htm#BABCGFIJ">&#34;Database Scan Report: Filtering&#34;</a> for more information.</p>
<div id="DUMAG206" class="figure">
<p class="titleinfigure"><a id="BABHECAF"></a>Figure 6-1 Cleansing Editor</p>
<img width="656" height="464" src="img/fivee.gif" alt="Description of Figure 6-1 follows"/><br/>
<a id="sthref234" href="img_text/fivee.htm">Description of &#34;Figure 6-1 Cleansing Editor&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The Cleansing Editor enables you to start various cleansing actions on contents of the edited table. If you double-click a cell or you select <span class="bold">Edit</span> <span class="bold">Data</span> from the context menu of the current cell, the Edit Data dialog box is opened, displaying the value stored in the cell. You can edit the value, for example shortening it or removing illegal character codes, as described in <a href="#BCGHJBGJ">&#34;Editing Data&#34;</a>. Edited values are not stored in the database until you click <span class="bold">Save</span> at the bottom of the Cleansing Editor tab. A value that has been edited is displayed using italic font face until it is saved permanently in the database. <a href="#BABHECAF">Figure 6-1</a> shows the cell in the <code dir="ltr">FIRST_NAME</code> column of the 10th displayed table row as modified and not yet saved. You can click <span class="bold">Revert</span> to recall all edit changes and revert cell values to current values from the database.</p>
<p>If you right-click a cell in the cell selection mode (which also makes the cell current) or you right-click a selected column in the column selection mode, a context menu appears that contains Modify Columns and Schedule Column Modification menu items. If the current cell or the selected columns correspond to attributes of a user-defined data type (ADT), the context menu contains Modify Attribute and Schedule Attribute Modification instead. If multiple columns are selected and they are not all of the same data type, none of the prior menu items is present in the context menu. Clicking one of the four menu items opens the corresponding dialog box described in <a href="#BCGDDJFJ">&#34;Modifying Columns&#34;</a>, <a href="#BCGHEJAF">&#34;Scheduling Column Modification&#34;</a>, <a href="#BCGBDIBF">&#34;Modifying Attributes&#34;</a>, or <a href="#BCGHABAF">&#34;Scheduling Attribute Modification&#34;</a>. These dialog boxes allow you to modify table structure to cleanse convertibility issues in one or more columns. The dialog boxes are not available for columns and attributes of the <code dir="ltr">CLOB</code> data type.</p>
<p>If you click the <span class="bold">Modify</span> <span class="bold">Column</span> or <span class="bold">Schedule</span> <span class="bold">Column</span> <span class="bold">Modification</span> menu item, the DMU displays a warning if it detects that the column to be modified belongs to one of the schemas comprising an Oracle e-Business Suite installation. Altering the structure of Oracle e-Business Suite tables is generally not supported. You can accept the warning and continue with modifications, if and only if the affected table is a custom table created by you or you have been advised to modify the table by Oracle Support.</p>
<p>Before modifying the structure of any table installed along with an Oracle or third-party product, ask the vendor for advice. Modification of such tables is usually not supported as it may cause the owning application to malfunction.</p>
<p>You can use the Cleansing Editor to change the character set that the DMU uses to interpret character codes contained in a column. See <a href="#BCGGBIEJ">&#34;Setting the Assumed Character Set&#34;</a>.</p>
<a id="BABFHACH"></a>
<div id="DUMAG205" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Cleansing Data: Using the Toolbar</h3>
<p>The items on the Cleansing Editor toolbar in the order shown in <a href="#BABHECAF">Figure 6-1, &#34;Cleansing Editor&#34;</a> are:</p>
<ul>
<li>
<p>Rescan Table</p>
<p>Opens the Scan Wizard (see <a href="ch4scenarios.htm#BACBGACC">&#34;Scanning the Database with the Scan Wizard&#34;</a>) with only the edited table marked for scanning. This allows the edited table to be easily rescanned.</p>
</li>
<li>
<p>Rescan Selected Columns</p>
<p>Opens the Scan Wizard with only the currently selected columns marked for scanning. This allows a set of edited table columns to be easily rescanned. If no columns are selected, that is, the editor grid is in the cell selection mode, the column containing the current cell is marked for rescanning.</p>
</li>
<li>
<p>Refresh Data</p>
<p>Reloads the grid with the most current data from the edited table.</p>
</li>
<li>
<p>Select Columns to Show</p>
<p>Displays a dialog box in which you can select the columns to include in the editor grid. To save screen space, you can deselect columns that have no issues themselves and that do not contain any data helpful in analysis of issues in other columns. You can also add a special read-only column to the grid that displays rowids of edited table rows. You can use the rowids to quickly locate relevant rows in other database tools, such as Oracle SQL Developer.</p>
</li>
<li>
<p>Show Impact of Scheduled Cleansing</p>
<p>Highlights the effects of scheduled cleansing actions using a different color.</p>
<p>See <a href="#BCGGCDCH">&#34;Cleansing Data: Color Highlighting&#34;</a>.</p>
</li>
<li>
<p>Use Collected Rowids to Filter Data</p>
<p>Filters data using rowids collected during scanning.</p>
<p>See <a href="#BCGGDFCD">&#34;Filtering Data&#34;</a>.</p>
</li>
<li>
<p>Customize Filtering Condition</p>
<p>Displays a dialog box where you can customize the filtering condition. See <a href="#BCGGDFCD">&#34;Filtering Data&#34;</a>.</p>
</li>
<li>
<p>Filter drop-down list with the following choices:</p>
<ul>
<li>
<p>All</p>
</li>
<li>
<p>Requiring Conversion</p>
</li>
<li>
<p>Exceeding Column Limits</p>
</li>
<li>
<p>Exceeding Data Type Limit</p>
</li>
<li>
<p>Invalid Binary Representation</p>
</li>
</ul>
<p>If you select one of the options other than All, the Cleansing Editor applies a filter to display only rows with the corresponding convertibility issues. See <a href="#BCGGDFCD">&#34;Filtering Data&#34;</a>.</p>
</li>
<li>
<p>Previous Cell with Issue</p>
<p>Selects the previous cell with a convertibility issue as the current cell. The cell is searched for first in the preceding columns of the same row, and then in the preceding rows, from the last column to the first.</p>
</li>
<li>
<p>Next Cell with Issue</p>
<p>Selects the next cell with a convertibility issue as the current cell. The cell is searched for first in the following columns of the same row, and then in the following rows, from the first column to the last.</p>
</li>
<li>
<p>Character Set drop-down list</p>
<p>Contains character sets that you can select as assumed column character sets. See <a href="#BCGGBIEJ">&#34;Setting the Assumed Character Set&#34;</a>.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BCGGCDCH"></a>
<div id="DUMAG1461" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Cleansing Data: Color Highlighting</h3>
<p>Cells that contain da<a id="sthref235"></a><a id="sthref236"></a>ta with convertibility issues are highlighted by using colors different from the standard colors of other cells. By default, cells with length issues, that is, exceeding column limit or exceeding data type limit after conversion, are displayed on yellow background. Cells with invalid binary representation issues, that is, containing character codes illegal in their declared (assumed) character set, are displayed on light coral background.</p>
<p>If an issue in a cell has been cleansed by a scheduled cleansing action, for example lengthening of the containing column, and the Show Impact of Scheduled Cleansing toolbar button is clicked, the cell background color changes to green, by default. An immediate cleansing action, such as editing a value, changing the assumed column character set, or modifying the column or attribute through a Modify Columns or Modify Attributes dialog box, permanently removes the issue, so that the previously affected cells become convertible and are no longer highlighted.</p>
<p>The preceding default colors can be customized on the Cleansing Editor page of the Preferences dialog box, as shown in <a href="#BABDBIAB">Figure 6-2, &#34;Preferences: Cleansing Editor&#34;</a>. You can open the Preferences dialog box by selecting <span class="bold">Preferences</span> from the Tools menu. The first two choices are for cells with length issues, the next two are for cells with unconvertible data dictionary cells, the next two are for cells with invalid binary representation, and the last two are for cells with fixed migration issues. In addition, you can restore default setting by clicking on <span class="bold">Restore</span> <span class="bold">Defaults</span>.</p>
<div id="DUMAG209" class="figure">
<p class="titleinfigure"><a id="BABDBIAB"></a>Figure 6-2 Preferences: Cleansing Editor</p>
<img width="700" height="500" src="img/prefsclean.gif" alt="Description of Figure 6-2 follows"/><br/>
<a id="sthref237" href="img_text/prefsclean.htm">Description of &#34;Figure 6-2 Preferences: Cleansing Editor&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<a id="BCGGDFCD"></a>
<div id="DUMAG1462" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Filtering Data</h3>
<p>To make working with large tables easier, the Cleansing Editor tab provides a powerful filtering feature. You can filter rows included in the editor grid on the types of the convertibility issues that they contain or on an arbitrary SQL condition.</p>
<div id="DUMAG1463" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref238"></a>
<h4 class="sect3">Filtering on Convertibility Status</h4>
<p>You can select the types of convertibility issues to include from the Filter drop-down list on the Cleansing Editor toolbar. The choices are:</p>
<ul>
<li>
<p>All</p>
<p>This option switches off filtering on convertibility issues and causes rows with any contents to be included.</p>
</li>
<li>
<p>Requiring Conversion</p>
<p>This option shows all rows that are not changeless, that is, one or more columns contain data that needs conversion and, optionally, has length expansion or invalid representation issues.</p>
</li>
<li>
<p>Exceeding Column Limits</p>
<p>This option shows all rows in which one or more column values exceed their column limit after conversion.</p>
</li>
<li>
<p>Exceeding Data Type Limit</p>
<p>This option shows all rows in which one or more column values exceed their data type limit after conversion.</p>
</li>
<li>
<p>Invalid Binary Representation</p>
<p>This option shows all rows in which one or more columns contain invalid character codes.</p>
</li>
</ul>
<p>The DMU can identify rows with a given type of convertibility issues by doing either of the following:</p>
<ul>
<li>
<p>Looking at rowids collected in the migration repository by a previous scanning task.</p>
</li>
<li>
<p>Analyzing the column values as they are fetched from the database.</p>
</li>
</ul>
<p>When only a small percentage of rows in the edited table has the type of convertibility issues to pass through the filter, the DMU might need to fetch and analyze many rows before it finds enough rows to fill the editor grid. This could negatively and significantly impact the speed of browsing through a large table when filtering is on. Locating rows by collected rowids is usually much faster. On the other hand, collected rowids correspond to the state of a table at the time of the last scan of the table. This state might already be stale because rows might have been added, updated, or deleted. Nevertheless, rescanning a large table with sparsely distributed issues periodically during a longer cleansing session is usually more convenient than trying to filter rows without using collected rowids.</p>
<p>You tell the DMU to use the collected rowids by clicking the <span class="bold">Use</span> <span class="bold">Scan</span> <span class="bold">Log</span> <span class="bold">to</span> <span class="bold">Filter</span> <span class="bold">Data</span> button on the toolbar of the Cleansing Editor. This button is enabled only if rowid collection was switched on during the last scan of the table. You can set the rowid collection level either on the Scanning subtab of the Table Properties tab (see <a href="ch3tasks.htm#BABJAAAF">&#34;Table Properties: Scanning&#34;</a>) or on the Scan Details page of the Scan Wizard (see <a href="ch4scenarios.htm#BACBGACC">&#34;Scanning the Database with the Scan Wizard&#34;</a>). The setting on the Table Properties tab is persistent. The setting in the Scan Wizard is only for the current scan and overrides the value on the Table Properties tab. You can set the level to <span class="bold">All</span> <span class="bold">to</span> <span class="bold">Convert</span> or <span class="bold">With</span> <span class="bold">Issues</span>. The first option collects rowids for all rows that are not changeless. The second option collects rowids only for rows with issues, that is, exceeding column limit, exceeding data type limit, or having invalid binary representation. Use the first option if you plan to set the filter to <span class="bold">Requiring</span> <span class="bold">Conversion</span>. Use the second option if you plan to set the filter only to <span class="bold">Exceeding</span> <span class="bold">Column</span> <span class="bold">Limit</span>, <span class="bold">Exceeding</span> <span class="bold">Data</span> <span class="bold">Type</span> <span class="bold">Limit</span>, or <span class="bold">Invalid</span> <span class="bold">Binary</span> <span class="bold">Representation</span>.</p>
<p>Collecting rowids for all convertible rows might be very costly if many rows need conversion in the table, for example, because the table contains a <code dir="ltr">CLOB</code> column and the database character set is single-byte. Generally, use this option only for data dictionary tables to locate convertible data, which could prevent conversion. Rowids are collected per cell, so if a row contains multiple cells with data fitting the collection criteria, the rowid of the row is stored in multiple copies, each time with the ID of another column.</p>
</div>
<!-- class="sect3" -->
<div id="DUMAG1464" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref239"></a>
<h4 class="sect3">Filtering on SQL Condition</h4>
<p>In addition to the filtering based on convertibility status of rows, you can specify an arbitrary SQL condition to be added to the query that the DMU sends to the database to retrieve data from the edited table. Specify the condition in the Custom Filtering Condition dialog box, shown in <a href="#BABGGHAB">Figure 6-3, &#34;Custom Filtering Condition&#34;</a>. Open the dialog box by clicking on <span class="bold">Customize</span> <span class="bold">Filtering</span> <span class="bold">Condition</span> on the toolbar of the Cleansing Editor tab. Select the <span class="bold">Custom</span> <span class="bold">SQL</span> <span class="bold">Condition</span> option in the dialog box and enter the desired condition. Click <span class="bold">Apply</span>. The condition is applied to the table to create a subset of rows to fetch and then the filtering on convertibility issues is applied to this subset. To remove the filtering condition, reopen the Custom Filtering Condition dialog box, select the No Custom Filtering option and click <span class="bold">Apply</span>.</p>
<div id="DUMAG213" class="figure">
<p class="titleinfigure"><a id="BABGGHAB"></a>Figure 6-3 Custom Filtering Condition</p>
<img width="534" height="346" src="img/fiveg.gif" alt="Description of Figure 6-3 follows"/><br/>
<a id="sthref240" href="img_text/fiveg.htm">Description of &#34;Figure 6-3 Custom Filtering Condition&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BCGGBIEJ"></a>
<div id="DUMAG1465" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Setting the Assumed Character Set</h3>
<p>A common source of data with invalid representation issues, as described in <a href="ch1overview.htm#CJAHJBDG">&#34;Invalid Binary Storage Representation of Data&#34;</a>, are applications that use the pass-through configuration to store data directly in the client character set without any conversion and without caring what the database character set is. The DMU helps you to identify such client character sets, the real character sets of the data, and use them as the source character set for conversion, if they are different from the database character set. This allows incorrectly stored data to be correct converted to the target Unicode encoding. The standard conversion from the database character set would corrupt the data and make it illegible. The declared character set of data in a column that you can select in the DMU is called the assumed column character set.</p>
<p>The assumed column character set is used not only for conversion to Unicode but also when column data is interpreted for display in the Cleansing Editor, Edit Data dialog box, or Show Data dialog box. The displayed data looks correctly to a human reader only if its interpretation happens according to its real character set or according to a binary superset of the real character set. Otherwise, displayed values contain unexpected characters or replacement characters. (Replacement characters are usually represented by rectangular shapes of the size of an uppercase letter. This representation is platform-dependent.) This fact lets you verify the assumed column character set has been chosen correctly, if all data in the column looks correct.</p>
<p>You might want to set the assumed character set of a column even if the column scan results report only convertible contents without issues. The reason being that data in a real character set that is different from the database character set might still consist of byte sequences that could be interpreted as valid in the database character set &ndash; even if this interpretation does not produce reasonable text. This is especially true for single-byte database character sets in which most byte values (0..255) have a valid character assigned in the character set definition. CL8MSWIN1251 is the prominent example, with only one byte value not assigned to any character.</p>
<p>You can identify the real character set of a column by doing either of the following:</p>
<ul>
<li>
<p>Collecting the necessary information about the relevant application configuration, database clients, and client character sets (the preferred method)</p>
</li>
<li>
<p>Selecting successive character sets as the assumed character set of the column and verifying the correctness (legibility) of displayed text</p>
</li>
</ul>
<p>The second method might be very useful if you know the language of the data, but not the specific character set used to encode it. For example, you know that text in a column is in Japanese but you do not know if it is encoded in EUC-JP (JA16EUC) or Shift-JIS (JA16SJIS).</p>
<p>To set the assumed character set of a column in the Cleansing Editor, select the column by clicking its heading and select the desired character set in the Character Set drop-down list on the toolbar, as shown in <a href="#BABFCGDB">Figure 6-4, &#34;Setting Assumed Column Character Set&#34;</a>. The contents of the selected column will be redisplayed according to the new interpretation. Try another character set, if the data is illegible. Also, the color highlighting (see <a href="#BCGGCDCH">&#34;Cleansing Data: Color Highlighting&#34;</a>) will tell you if some bytes in the column cannot be interpreted according to the selected character set.</p>
<div id="DUMAG215" class="figure">
<p class="titleinfigure"><a id="BABFCGDB"></a>Figure 6-4 Setting Assumed Column Character Set</p>
<img width="507" height="455" src="img/fiveh.gif" alt="Description of Figure 6-4 follows"/><br/>
<a id="sthref241" href="img_text/fiveh.htm">Description of &#34;Figure 6-4 Setting Assumed Column Character Set&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>If you select multiple columns in the Cleansing Editor, you could set all of their assumed character sets to the same value at one time.</p>
<p>To save the selected assumed column character sets permanently in the migration repository for use in any further processing of the columns, click <span class="bold">Save</span>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCGBHDHE"></a>
<div id="DUMAG1466" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing Data</h2>
<p>The Data Viewer is a read-only version o<a id="sthref242"></a>f the Cleansing Editor tab, described in <a href="#BABFHACH">&#34;Cleansing Data: Using the Toolbar&#34;</a>.</p>
<p class="subhead2"><a id="DUMAG1532"></a>To view data:</p>
<ol>
<li>
<p>Select <span class="bold">Data</span> <span class="bold">Viewer</span> from the context menu of a data dictionary table node in the Navigator pane or in the Database Scan Report.</p>
<p>The Data Viewer is not available for the standard application tables. It looks identical to the Cleansing Editor tab, shown in <a href="#BABHECAF">Figure 6-1, &#34;Cleansing Editor&#34;</a>, except that the button Show Impact of Scheduling Cleansing is disabled. There is no Save or Revert button. Also, the Edit Data, Modify Column, Schedule Column Modification, Modify Attribute, and Schedule Attribute Modification context menu items are not available. The Show Data menu item is available in place of Edit Data to open the Show Data dialog box, which is described in <a href="#BCGCFACC">&#34;Displaying Data&#34;</a>. All viewing and filtering functionality of the Cleansing Editor is available in the Data Viewer. You can set the assumed character set of a column in the Data Viewer in order to analyze the real character set of column contents, but you cannot save this choice.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BCGHJBGJ"></a>
<div id="DUMAG1467" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Editing Data</h2>
<p>Open the Edit<a id="sthref243"></a> Data dialog box, shown in <a href="#BABBFEJB">Figure 6-5, &#34;Edit Data Dialog Box&#34;</a>, by double-clicking a table cell in the Cleansing Editor or by selecting <span class="bold">Edit</span> <span class="bold">Data</span> from the context menu of the current cell. The value of the cell is shown in the main text area of the dialog box and can be edited by adding, changing, or deleting characters. If the value contains end-of-line characters (LF=0x0A), it will be displayed in multiple lines. The Wrap Lines check box determines how lines longer than the width of the text area are displayed. If the check box is selected, the dialog box wraps the long lines into multiple lines of the text area. If the check box is not selected, the lines are not wrapped and the dialog box shows a horizontal scroll bar to let you scroll the text area.</p>
<p>The Edit Data dialog box shows the following data about the text value being edited:</p>
<ul>
<li>
<p>Data Type</p>
<p>This is the data type of the column to which the value belongs, such as <code dir="ltr">VARCHAR2</code>, <code dir="ltr">CHAR</code>, <code dir="ltr">LONG</code>, or <code dir="ltr">CLOB</code>.</p>
</li>
<li>
<p>Data Length in Bytes</p>
<p>This is the length in bytes that the edited value would have, if it were stored in the database.</p>
</li>
<li>
<p>Data Length in Characters</p>
<p>This is the length in characters that the edited value would have, if it were stored in the database.</p>
</li>
<li>
<p>Post-Conversion Length in Bytes</p>
<p>This is the length in bytes that the edited value would have, if it were stored in the database after conversion to the target Unicode character set.</p>
</li>
<li>
<p>Current Column Limit in Bytes</p>
<p>This is the maximum length in bytes that the value might currently have to fit into its column in the database.</p>
</li>
<li>
<p>Current Column Limit in Characters</p>
<p>This is the maximum length in characters that the value might currently have to fit into its column in the database. Nothing is displayed if the column uses byte-length semantics.</p>
</li>
<li>
<p>Post-Conversion Limit in Bytes</p>
<p>This is the maximum length in bytes that the value will be allowed to have to fit into its column in the database after conversion to Unicode.</p>
</li>
</ul>
<p>When editing a value, you must always ensure that Data Length in Bytes is not greater than Current Column Limit in Bytes and that Data Length in Characters is not greater than Current Column Limit in Characters (if specified). To resolve the &#34;exceeds column limit&#34; issue for the value, you must also ensure that Post-Conversion Length in Bytes is not greater than Post-Conversion Limit in Bytes.</p>
<p>Characters that cause the current value to exceed its Post-Conversion Limit in Bytes are shown on yellow background. This lets you quickly estimate how much a value must be truncated to resolve the &#34;exceeds column limit&#34; issue.</p>
<div id="DUMAG218" class="figure">
<p class="titleinfigure"><a id="BABBFEJB"></a>Figure 6-5 Edit Data Dialog Box</p>
<img width="584" height="441" src="img/eddatathree.gif" alt="Description of Figure 6-5 follows"/><br/>
<a id="sthref244" href="img_text/eddatathree.htm">Description of &#34;Figure 6-5 Edit Data Dialog Box&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>In the bottom right, the edited text is displayed as a sequence of hexadecimal numbers corresponding to bytes that comprise (encode) the text when it is stored in the database.</p>
<p>By looking at numeric values of bytes comprising the edited text you can:</p>
<ul>
<li>
<p>Identify binary values, such as images or encryption results, stored invalidly in a character column</p>
<p>Such values usually contain some bytes from ranges 0x00 to 0x08 and 0x10 to 0x1f. Because bytes in these ranges are control codes rarely used today, values containing such bytes are almost never pure text values.</p>
</li>
<li>
<p>Identify corrupted characters</p>
<p>If you see replacement characters in the edited text in the text, you can view the binary display to analyze particular bytes corresponding to these characters. By identifying the language of the data and looking at definitions of character sets valid for this language, you can diagnose the issue as an incorrect character set of data or as corrupted character codes, that is, bytes missing from multibyte codes or random bytes resulting from software bugs or hardware malfunction.</p>
</li>
</ul>
<p>You can insert, modify, or delete bytes in the edited value to fix corruption issues. Click a byte to make it current. Right-click anywhere in the edit area to open the context menu. Select <span class="bold">Insert</span> to add a byte before the current one. Select <span class="bold">Delete</span> to remove the current byte from the value. Select <span class="bold">Modify</span> to change the value of the current byte. Double-clicking a byte is equivalent to selecting it as current and selecting <span class="bold">Modify</span>.</p>
<p>After making all your intended modifications in the Edit Data dialog box, click <span class="bold">OK</span> to accept them and to close the dialog box. Click <span class="bold">Cancel</span>, if you want to close the dialog box and discard the modifications. After accepting the modifications, you still have to click <span class="bold">Save</span> on the Cleansing Editor tab to save them in the database.</p>
</div>
<!-- class="sect1" -->
<a id="BCGCFACC"></a>
<div id="DUMAG1468" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Displaying Data</h2>
<p>The Show Data dialog box<a id="sthref245"></a> is a read-only version of the Edit Data dialog box. It is used to display values in the data dictionary tables, which you are not allowed to modify directly.</p>
<p>As in the Edit Data dialog box, you can view the data in text form or in binary form. You can also wrap or unwrap long lines.</p>
</div>
<!-- class="sect1" -->
<a id="BCGDDJFJ"></a>
<div id="DUMAG1469" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Modifying Columns</h2>
<p>The cleansing <a id="sthref246"></a>actions that you can perform using the Modify Columns dialog box are immediate changes to column definitions (metadata) of a table. The Modify Columns dialog box is shown in <a href="#BABDHBDD">Figure 6-6</a>. You can open it by selecting <span class="bold">Modify</span> <span class="bold">Column</span> from the context menu of the Cleansing Editor (see <a href="#BABFHACH">&#34;Cleansing Data: Using the Toolbar&#34;</a>).</p>
<div id="DUMAG222" class="figure">
<p class="titleinfigure"><a id="BABDHBDD"></a>Figure 6-6 Modify Columns Dialog Box</p>
<img width="522" height="470" src="img/fivek.gif" alt="Description of Figure 6-6 follows"/><br/>
<a id="sthref247" href="img_text/fivek.htm">Description of &#34;Figure 6-6 Modify Columns Dialog Box&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Columns that will be modified through the Modify Columns dialog box are displayed in the Columns list box. The Dependencies list box shows database objects, such as views and PL/SQL procedures, that depend on those columns and could therefore need updating or recompilation after the columns are altered.</p>
<p>In the Modify Columns dialog box, you can command the following cleansing actions on the columns:</p>
<ul>
<li>
<p>Migrate to Character Semantics</p>
<p>You can change the length semantics of the columns from byte to character. If a column to be modified is defined as <code dir="ltr">VARCHAR2(n BYTE)</code>, it will become <code dir="ltr">VARCHAR2(n CHAR)</code>. Such modification solves &#34;exceed column limit&#34; issues because a n <code dir="ltr">BYTE</code> column never contains more than <span class="italic">n</span> characters and the underlying byte length limit of an <code dir="ltr">n</code> <code dir="ltr">CHAR</code> column is automatically increased when the database character set changes to accommodate any string of the length <span class="italic">n</span> characters (but only up to the data type limit; that is, values reported as &#34;exceed data type limit&#34; will not fit).</p>
</li>
<li>
<p>Lengthen to:</p>
<p>You can choose to lengthen the columns to a new limit, which you specify in the edit field that follows the option label. You can change the length semantics between bytes and characters at the same time by choosing the desired semantics from the following drop-down list. To solve &#34;exceed column limit&#34; issues, specify a limit that is greater than maximum post-conversion lengths reported for all the columns.</p>
</li>
<li>
<p>Migrate to:</p>
<p>You can migrate some data types to a new data type. A <code dir="ltr">CHAR</code> column can be migrated to <code dir="ltr">VARCHAR2</code>, <code dir="ltr">CLOB</code>, or <code dir="ltr">RAW</code>. A <code dir="ltr">VARCHAR2</code> column can be migrated to <code dir="ltr">CLOB</code> or <code dir="ltr">RAW</code>. A <code dir="ltr">LONG</code> column can be migrated to <code dir="ltr">LONG</code> <code dir="ltr">RAW</code> or <code dir="ltr">CLOB</code>. If you choose migration to <code dir="ltr">CLOB</code>, a properties dialog box is available that enables you to modify the tablespace and storage properties of the new <code dir="ltr">CLOB</code> segment. If you choose migration to <code dir="ltr">RAW</code> or <code dir="ltr">VARCHAR2</code>, you can specify the new length limit, provided it is not smaller than any of the byte length limits of the columns to be migrated. If you choose migration to <code dir="ltr">VARCHAR2</code>, you can specify the length semantics in addition to the new length. Migration to <code dir="ltr">VARCHAR2</code> or <code dir="ltr">CLOB</code> solves the &#34;exceed data type limit&#34; issues, because the new data types are larger than the old ones. Migration to <code dir="ltr">RAW</code> or <code dir="ltr">LONG</code> <code dir="ltr">RAW</code> solves the &#34;invalid binary representation&#34; issues caused by binary data stored in character columns by ensuring that the data is indeed treated as binary by the database.</p>
<p>Migrations to <code dir="ltr">VARCHAR2</code>, <code dir="ltr">RAW</code>, and <code dir="ltr">LONG</code> <code dir="ltr">RAW</code> are metadata-only operations and are therefore very fast. Migration to <code dir="ltr">CLOB</code> requires data to be updated in all rows of the table. It could, therefore, be very resource-consuming for large tables and it might fail, if enough undo space is not available in the database.</p>
</li>
</ul>
<p>After you have defined the cleansing action, click <span class="bold">Apply</span>. You are asked to confirm that you indeed want to modify the columns immediately. Click <span class="bold">Yes</span> and the appropriate SQL DDL statements are sent to the database for immediate execution.</p>
</div>
<!-- class="sect1" -->
<a id="BCGHEJAF"></a>
<div id="DUMAG1470" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Scheduling Column Modification</h2>
<p>The Schedule <a id="sthref248"></a>Column Modification dialog box is almost identical to the Modify Columns dialog box, described previously. The two differences are:</p>
<ul>
<li>
<p>The cleansing actions specified in this dialog box are scheduled actions. They are not executed immediately when you select <span class="bold">Apply</span>. Instead, they are saved in the migration repository and are executed in the conversion step of the character set migration process. This enables you to synchronize any necessary application upgrades related to changes in table structure with the database conversion.</p>
</li>
<li>
<p>The additional No Modification option is available. It enables you to recall a previously scheduled cleansing action before the database conversion starts.</p>
</li>
</ul>
<p class="subhead2"><a id="DUMAG1533"></a>To schedule column modification:</p>
<ol>
<li>
<p>Open the Schedule Column Modification dialog box by selecting <span class="bold">Schedule</span> <span class="bold">Column</span> <span class="bold">Modification</span> from the context menu of the Cleansing Editor (see <a href="#BABFHACH">&#34;Cleansing Data: Using the Toolbar&#34;</a>). The Schedule Column Modification dialog box appears, as illustrated in <a href="#BACJACHJ">Figure 6-31, &#34;Schedule Column Modification: Lengthen the Column Size&#34;</a>.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BCGBDIBF"></a>
<div id="DUMAG1471" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Modifying Attributes</h2>
<p>The cleansing a<a id="sthref249"></a>ctions that you can perform using the Modify Attributes dialog box are immediate changes to attributes of user-defined object types (ADT). A change to an object attribute affects all tables that reference that attribute. You must use the Modify Attributes dialog box to change table columns that store object attribute values. The Modify Columns dialog box is not available for such columns.</p>
<p>Attributes that will be modified through the Modify Attributes dialog box are displayed in the Attributes list box. The Dependencies list box shows database objects, such as tables, views and PL/SQL procedures, that depend on those attributes and could therefore need updating or recompilation after the attributes are altered.</p>
<p>At present, you can define only one cleansing action in the Modify Attributes dialog box, which is to lengthen the attributes to a new limit. You specify the limit in the edit field. You can change the length semantics between bytes and characters at the same time by choosing the desired semantics from the following drop-down list. To solve &#34;exceed column limit&#34; issues, specify a limit that is greater than maximum post-conversion lengths reported for all columns storing values of the attributes in all tables in the database.</p>
<p class="subhead2"><a id="DUMAG1534"></a>To modify attributes:</p>
<ol>
<li>
<p>Select <span class="bold">Modify</span> <span class="bold">Attribute</span> from the context menu of the Cleansing Editor (see <a href="#BABFHACH">&#34;Cleansing Data: Using the Toolbar&#34;</a>). The Modify Attributes dialog box appears, as is illustrated in <a href="#BABJFJCH">Figure 6-7</a>.</p>
</li>
<li>
<p>After you have defined the cleansing action, click <span class="bold">Modify</span>.</p>
</li>
<li>
<p>You are asked to confirm that you indeed want to modify the attributes immediately. Click <span class="bold">Yes</span> and the appropriate SQL DDL statements are sent to the database for immediate execution.</p>
</li>
</ol>
<div id="DUMAG225" class="figure">
<p class="titleinfigure"><a id="BABJFJCH"></a>Figure 6-7 Modify Attributes Dialog Box</p>
<img width="522" height="458" src="img/fivel.gif" alt="Description of Figure 6-7 follows"/><br/>
<a id="sthref250" href="img_text/fivel.htm">Description of &#34;Figure 6-7 Modify Attributes Dialog Box&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect1" -->
<a id="BCGHABAF"></a>
<div id="DUMAG1472" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Scheduling Attribute Modification</h2>
<p>The Schedule <a id="sthref251"></a>Attribute Modification dialog box is almost identical to the Modify Attributes dialog box, previously described. The two differences are:</p>
<ul>
<li>
<p>The cleansing action specified in this dialog box is a scheduled action. It is not executed immediately when you select <span class="bold">Save</span>. Instead, it is saved in the migration repository and is executed in the conversion step of the character set migration process. This enables you to synchronize any necessary application upgrades related to changes in table structure with the database conversion.</p>
</li>
<li>
<p>The additional No Modification option is available. It enables you to recall a previously scheduled cleansing action before the database conversion starts.</p>
</li>
</ul>
<p>You can open the Schedule Attribute Modification dialog box by selecting <span class="bold">Schedule</span> <span class="bold">Attribute</span> <span class="bold">Modification</span> from the context menu of the Cleansing Editor (see <a href="#BABFHACH">&#34;Cleansing Data: Using the Toolbar&#34;</a>).</p>
</div>
<!-- class="sect1" -->
<a id="BCGCHCJI"></a>
<div id="DUMAG1473" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Ignoring Convertibility Issues</h2>
<p>While not strictly cleansing actions, two column properties allow you to handle convertibility issues reported in a column. You can set these properties in the Converting subtab of the Column Properties tab, described in <a href="ch3tasks.htm#BABHFFIJ">&#34;Viewing and Setting Column Properties&#34;</a>.</p>
<p>The first property is called Allow Conversion of Data with Issues. If you set this column property to Yes, any convertibility issues reported for the column are ignored. That is, they do not prevent you from starting the conversion step. The column undergoes the conversion to Unicode and the resulting values are automatically truncated to fit into the column. Invalid character codes are converted to replacement characters. This option is useful if you encounter some convertibility issues in auxiliary or historical data that you do not require to be fully correct after conversion, and that you do not want to remove from the database yet.</p>
<p>The second property is called Exclude from Conversion. If you set this column property to Yes, the column is skipped in the conversion step. Column values remain identical to what they were before character set migration. This option is useful to prevent conversion of a column that:</p>
<ul>
<li>
<p>Contains a mixture of values in multiple character sets, which came in the pass-through configuration from various clients working in different character sets. Such values must be converted manually after the DMU converts the rest of the database and updates the database character set to Unicode.</p>
</li>
<li>
<p>Has the data type <code dir="ltr">VARCHAR2</code> and a length constraint greater than 2000 bytes, and stores binary data. You cannot migrate such a column to <code dir="ltr">RAW</code>, which is limited to 2000 bytes, therefore, you might decide to keep accessing the column in the pass-through configuration after migration to Unicode, before you can update your applications to support this data through the <code dir="ltr">BLOB</code> data type.</p>
</li>
</ul>
<p>Convertibility issues reported in columns marked for exclusion from conversion do not prevent you from starting the conversion step. See <a href="ch5advanced.htm#CIHHGBCA">&#34;Excluding Columns and Tables From Migration&#34;</a> for more information about setting this property.</p>
</div>
<!-- class="sect1" -->
<a id="BCGBHBII"></a>
<div id="DUMAG1535" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Bulk Cleansing</h2>
<p>You can perf<a id="sthref252"></a><a id="sthref253"></a><a id="sthref254"></a><a id="sthref255"></a>orm three actions in bulk:</p>
<ul>
<li>
<p>Alter the length semantics of <code dir="ltr">CHAR</code> and <code dir="ltr">VARCHAR2</code> table columns from byte semantics to character semantics</p>
<p>Character semantics is useful for defining the storage requirements for multibyte strings of varying widths. For example, in a Unicode database (AL32UTF8), suppose that you need to define a <code dir="ltr">VARCHAR2</code> column that can store up to five Chinese characters together with five English characters. Using byte semantics, this column requires 15 bytes for the Chinese characters, which are three bytes long, and 5 bytes for the English characters, which are one byte long, for a total of 20 bytes. Using character semantics, the column requires 10 characters. Character semantics allows the specification of the column size in terms of characters independent of the database character set. The benefits of using character length semantics in Unicode migration are further described in <a href="#BCGEGIEC">&#34;Changing the Length Semantics&#34;</a>.</p>
<p>You can define bulk cleansing actions for migrating to character length semantics in either the immediate or scheduled cleansing mode. In the scheduled mode, the migration to character length semantics will take place during the conversion phase without any interruption to the production environment. When the DMU is used in validation mode, only the immediate bulk cleansing to character length semantics is available.</p>
<p>Bulk cleansing supports the migration of the following data type columns to character length semantics:</p>
<ul>
<li>
<p><code dir="ltr">CHAR</code> built-in data type columns</p>
</li>
<li>
<p><code dir="ltr">VARCHAR2</code> built-in data type columns</p>
</li>
<li>
<p><code dir="ltr">VARCHAR2</code> attribute columns of ADT</p>
</li>
</ul>
<p>The following columns are excluded:</p>
<ul>
<li>
<p><code dir="ltr">CHAR</code> attribute columns of ADT</p>
</li>
<li>
<p>Columns in clusters</p>
</li>
<li>
<p>Columns on which partition keys are defined</p>
</li>
</ul>
<p>As in regular cleansing, bulk cleansing does not support character length semantics migration for Oracle-supplied schemas, such as Oracle e-Business Suite schemas.</p>
</li>
<li>
<p>Set the &#34;Allow Conversion of Data with Issues&#34; column conversion property</p>
<p>If the scan results of the column show that some values have conversion issues, that is, the converted values will contain replacement characters or they will be truncated, you can still let the DMU convert the data by setting this property to Yes. This might be useful if you want to automatically truncate data that exceeds the column or data type limit or you are not concerned about a few corrupted values that happen to exist in the column but are of no real significance for applications that use this data.</p>
</li>
<li>
<p>Replace or remove occurrences of a byte or character pattern in column values</p>
<p>In some cases, after analyzing the nature of individual data exceptions, you may decide to modify the data by replacing the offending bytes or characters with a set of valid equivalent bytes or characters or removing them altogether. If the same problem symptom exists in multiple database objects, it may be desirable to perform such replacement operation in bulk. The pattern-based replacement cleansing option allows you to replace all occurrences of a source pattern with a target pattern for the selected database objects. You can perform the replacement for single bytes or characters or specify substrings of bytes or characters.</p>
</li>
</ul>
<p class="subhead2"><a id="DUMAG1536"></a>To bulk cleanse data from byte semantics to character semantics:</p>
<ol>
<li>
<p>Under the Migration menu, select <span class="bold">Bulk</span> <span class="bold">Cleansing</span>. A dialog, such as <a href="#BCGHDHHF">Figure 6-8, &#34;Bulk Cleansing Wizard - Welcome&#34;</a>, appears.</p>
<div id="DUMAG1537" class="figure">
<p class="titleinfigure"><a id="BCGHDHHF"></a>Figure 6-8 Bulk Cleansing Wizard - Welcome</p>
<img width="640" height="478" src="img/bwizwel.gif" alt="Description of Figure 6-8 follows"/><br/>
<a id="sthref256" href="img_text/bwizwel.htm">Description of &#34;Figure 6-8 Bulk Cleansing Wizard - Welcome&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#BCGFFHBE">Figure 6-9, &#34;Bulk Cleansing Wizard - Action Selection&#34;</a> appears.</p>
<div id="DUMAG1538" class="figure">
<p class="titleinfigure"><a id="BCGFFHBE"></a>Figure 6-9 Bulk Cleansing Wizard - Action Selection</p>
<img width="640" height="481" src="img/bwizact.gif" alt="Description of Figure 6-9 follows"/><br/>
<a id="sthref257" href="img_text/bwizact.htm">Description of &#34;Figure 6-9 Bulk Cleansing Wizard - Action Selection&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Select <span class="bold">Migrate</span> <span class="bold">to</span> <span class="bold">character</span> <span class="bold">length</span> <span class="bold">semantics</span> and click <span class="bold">Next</span>.</p>
</li>
<li>
<p><a href="#BCGFJEAH">Figure 6-10, &#34;Bulk Cleansing Wizard - Parameters&#34;</a> appears.</p>
<div id="DUMAG1539" class="figure">
<p class="titleinfigure"><a id="BCGFJEAH"></a>Figure 6-10 Bulk Cleansing Wizard - Parameters</p>
<img width="640" height="480" src="img/bwizparsched.gif" alt="Description of Figure 6-10 follows"/><br/>
<a id="sthref258" href="img_text/bwizparsched.htm">Description of &#34;Figure 6-10 Bulk Cleansing Wizard - Parameters&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Select the execution mode for bulk cleansing. For the scheduled cleansing mode, you can select how to handle columns with previously scheduled cleansing actions by either keeping the previously scheduled actions or override them and migrate the columns to character length semantics.</p>
</li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#CEGGIBEB">Figure 6-11, &#34;Bulk Cleansing Wizard - Object Selection&#34;</a> appears.</p>
<div id="DUMAG1540" class="figure">
<p class="titleinfigure"><a id="CEGGIBEB"></a>Figure 6-11 Bulk Cleansing Wizard - Object Selection</p>
<img width="640" height="480" src="img/bwizobj1.gif" alt="Description of Figure 6-11 follows"/><br/>
<a id="sthref259" href="img_text/bwizobj1.htm">Description of &#34;Figure 6-11 Bulk Cleansing Wizard - Object Selection&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Select the objects to be migrated to character length semantics. The Data Type and Scheduled Cleansing Action columns show the current data types of the columns and any existing scheduled cleansing actions. Objects that are already in character length semantics or objects that are not supported for character length semantics migration are not selectable in the navigator tree.</p>
</li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#BCGBDBDB">Figure 6-12, &#34;Bulk Cleansing Wizard - Details&#34;</a> appears.</p>
<div id="DUMAG1541" class="figure">
<p class="titleinfigure"><a id="BCGBDBDB"></a>Figure 6-12 Bulk Cleansing Wizard - Details</p>
<img width="638" height="477" src="img/bwizdet.gif" alt="Description of Figure 6-12 follows"/><br/>
<a id="sthref260" href="img_text/bwizdet.htm">Description of &#34;Figure 6-12 Bulk Cleansing Wizard - Details&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The Bulk Cleansing Details page displays a list of the table columns and type attributes that will be migrated to character length semantics.</p>
</li>
<li>
<p>To confirm and start the bulk cleansing operations, click <span class="bold">Finish</span>. <a href="#BCGCAIDH">Figure 6-13, &#34;Bulk Cleansing Progress&#34;</a> appears.</p>
<div id="DUMAG1542" class="figure">
<p class="titleinfigure"><a id="BCGCAIDH"></a>Figure 6-13 Bulk Cleansing Progress</p>
<img width="764" height="524" src="img/bulkcleansprogb.gif" alt="Description of Figure 6-13 follows"/><br/>
<a id="sthref261" href="img_text/bulkcleansprogb.htm">Description of &#34;Figure 6-13 Bulk Cleansing Progress&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>You can monitor the status of the bulk cleansing on the Bulk Cleansing Progress panel. If an operation fails on a table column or a type attribute during the process, you can highlight the entry to see the error message in the Status column as well as at the bottom of the panel. To view only the entries with errors, select the &#34;Show Only Errors&#34; check box at the top.</p>
<p>You can suspend the cleanse by clicking Stop.</p>
</li>
</ol>
<p class="subhead2"><a id="DUMAG1543"></a>To bulk cleanse data by allowing conversion of data with issues:</p>
<ol>
<li>
<p>Under the Migration menu, select <span class="bold">Bulk</span> <span class="bold">Cleansing</span>. A dialog, such as <a href="#CEGFEIAA">Figure 6-14, &#34;Bulk Cleansing Wizard - Welcome&#34;</a>, appears.</p>
<div id="DUMAG1544" class="figure">
<p class="titleinfigure"><a id="CEGFEIAA"></a>Figure 6-14 Bulk Cleansing Wizard - Welcome</p>
<img width="640" height="478" src="img/bwizwel.gif" alt="Description of Figure 6-14 follows"/><br/>
<a id="sthref262" href="img_text/bwizwel.htm">Description of &#34;Figure 6-14 Bulk Cleansing Wizard - Welcome&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#CEGBBAFH">Figure 6-15, &#34;Bulk Cleansing Wizard - Action Selection&#34;</a> appears.</p>
<div id="DUMAG1545" class="figure">
<p class="titleinfigure"><a id="CEGBBAFH"></a>Figure 6-15 Bulk Cleansing Wizard - Action Selection</p>
<img width="640" height="480" src="img/bwizact2.gif" alt="Description of Figure 6-15 follows"/><br/>
<a id="sthref263" href="img_text/bwizact2.htm">Description of &#34;Figure 6-15 Bulk Cleansing Wizard - Action Selection&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Select <span class="bold">Set</span> <span class="bold">the</span> <span class="bold">&#34;Allow</span> <span class="bold">Conversion</span> <span class="bold">of</span> <span class="bold">Data</span> <span class="bold">With</span> <span class="bold">Issues&#34;</span>. Click <span class="bold">Next</span> and <a href="#CEGDFCHB">Figure 6-16, &#34;Bulk Cleansing Wizard - Parameters&#34;</a> appears.</p>
<div id="DUMAG1546" class="figure">
<p class="titleinfigure"><a id="CEGDFCHB"></a>Figure 6-16 Bulk Cleansing Wizard - Parameters</p>
<img width="642" height="481" src="img/bwizparallow.gif" alt="Description of Figure 6-16 follows"/><br/>
<a id="sthref264" href="img_text/bwizparallow.htm">Description of &#34;Figure 6-16 Bulk Cleansing Wizard - Parameters&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Select the desired value and click <span class="bold">Next</span> and <a href="#CEGBGEHC">Figure 6-17, &#34;Bulk Cleansing Wizard - Object Selection&#34;</a> appears.</p>
<div id="DUMAG1547" class="figure">
<p class="titleinfigure"><a id="CEGBGEHC"></a>Figure 6-17 Bulk Cleansing Wizard - Object Selection</p>
<img width="641" height="478" src="img/bwizobj4.gif" alt="Description of Figure 6-17 follows"/><br/>
<a id="sthref265" href="img_text/bwizobj4.htm">Description of &#34;Figure 6-17 Bulk Cleansing Wizard - Object Selection&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Select the objects for which the &#34;Allow Conversion of Data with Issues&#34; property is to be set. The Data Type and Scheduled Cleansing Action columns show the current data types of the columns and any existing scheduled cleansing actions.</p>
</li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#CEGFFHHJ">Figure 6-18, &#34;Bulk Cleansing Wizard - Details&#34;</a> appears.</p>
<div id="DUMAG1548" class="figure">
<p class="titleinfigure"><a id="CEGFFHHJ"></a>Figure 6-18 Bulk Cleansing Wizard - Details</p>
<img width="641" height="477" src="img/bulkwizdetb.gif" alt="Description of Figure 6-18 follows"/><br/>
<a id="sthref266" href="img_text/bulkwizdetb.htm">Description of &#34;Figure 6-18 Bulk Cleansing Wizard - Details&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>The Bulk Cleansing Details page displays a list of the table columns and type attributes for which the &#34;Allow Conversion of Data with Issues&#34; property will be set. To confirm and start the bulk cleansing operations, click <span class="bold">Finish</span>. <a href="#BCGCAIDH">Figure 6-13, &#34;Bulk Cleansing Progress&#34;</a> appears.</p>
<div id="DUMAG1549" class="figure">
<p class="titleinfigure"><a id="sthref267"></a>Figure 6-19 Bulk Cleansing Progress</p>
<img width="637" height="495" src="img/bulkcleanseprogb.gif" alt="Description of Figure 6-19 follows"/><br/>
<a id="sthref268" href="img_text/bulkcleanseprogb.htm">Description of &#34;Figure 6-19 Bulk Cleansing Progress&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>You can monitor the status of the bulk cleansing on the Bulk Cleansing Progress panel. If an operation fails on a table column or a type attribute during the process, you can highlight the entry to see the error message in the Status column as well as at the bottom of the panel. To view only the entries with errors, select the &#34;Show Only Errors&#34; check box at the top.</p>
<p>You can suspend the cleanse by clicking Stop.</p>
</li>
</ol>
<p class="subhead2"><a id="DUMAG1550"></a>To bulk cleanse data with pattern-based replacement:</p>
<ol>
<li>
<p>Under the Migration menu, select <span class="bold">Bulk</span> <span class="bold">Cleansing</span>. A dialog, such as <a href="#CEGIDCAF">Figure 6-20, &#34;Bulk Cleansing Wizard - Welcome&#34;</a>, appears.</p>
<div id="DUMAG1551" class="figure">
<p class="titleinfigure"><a id="CEGIDCAF"></a>Figure 6-20 Bulk Cleansing Wizard - Welcome</p>
<img width="640" height="478" src="img/bwizwel.gif" alt="Description of Figure 6-20 follows"/><br/>
<a id="sthref269" href="img_text/bwizwel.htm">Description of &#34;Figure 6-20 Bulk Cleansing Wizard - Welcome&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#CEGJBDBE">Figure 6-21, &#34;Bulk Cleansing Wizard - Action Selection&#34;</a> appears.</p>
<div id="DUMAG1552" class="figure">
<p class="titleinfigure"><a id="CEGJBDBE"></a>Figure 6-21 Bulk Cleansing Wizard - Action Selection</p>
<img width="641" height="480" src="img/bwizact3.gif" alt="Description of Figure 6-21 follows"/><br/>
<a id="sthref270" href="img_text/bwizact3.htm">Description of &#34;Figure 6-21 Bulk Cleansing Wizard - Action Selection&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>Select <span class="bold">Perform</span> <span class="bold">pattern-based</span> <span class="bold">replacement</span> <span class="bold">cleansing</span> and <a href="#CEGJCEFD">Figure 6-22, &#34;Bulk Cleansing Wizard - Parameters&#34;</a> appears.</p>
</li>
<li>
<p>Select the type of replacement operation to be performed and how you want to enter the data. You can perform the replacement in terms of single bytes or characters or use substrings of bytes or characters. The source and replacement values can be entered in either characters or hexadecimal byte representation. If you leave some of the replacement bytes or characters as empty, the corresponding source bytes or characters will be removed from the selected target columns.</p>
<div id="DUMAG1553" class="figure">
<p class="titleinfigure"><a id="CEGJCEFD"></a>Figure 6-22 Bulk Cleansing Wizard - Parameters</p>
<img width="641" height="480" src="img/bwizparbulk.gif" alt="Description of Figure 6-22 follows"/><br/>
<a id="sthref271" href="img_text/bwizparbulk.htm">Description of &#34;Figure 6-22 Bulk Cleansing Wizard - Parameters&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Click <span class="bold">Next</span> and <a href="#CEGHIHFJ">Figure 6-23, &#34;Bulk Cleansing Wizard - Commit Frequency&#34;</a> appears. The Commit Frequency page allows you to specify how you want the pattern replacement changes to be committed. Select the first option if you want to have a chance to accept or reject the entire operation at the end. Select the second option if you want all changes to be committed immediately.</p>
<div id="DUMAG1554" class="figure">
<p class="titleinfigure"><a id="CEGHIHFJ"></a>Figure 6-23 Bulk Cleansing Wizard - Commit Frequency</p>
<img width="639" height="478" src="img/bwizfreq.gif" alt="Description of Figure 6-23 follows"/><br/>
<a id="sthref272" href="img_text/bwizfreq.htm">Description of &#34;Figure 6-23 Bulk Cleansing Wizard - Commit Frequency&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Specify how to commit. Click <span class="bold">Next</span> and <a href="#CEGFBAGF">Figure 6-24, &#34;Bulk Cleansing Wizard - Object Selection&#34;</a> appears.</p>
<div id="DUMAG1555" class="figure">
<p class="titleinfigure"><a id="CEGFBAGF"></a>Figure 6-24 Bulk Cleansing Wizard - Object Selection</p>
<img width="641" height="478" src="img/bwizobj4.gif" alt="Description of Figure 6-24 follows"/><br/>
<a id="sthref273" href="img_text/bwizobj4.htm">Description of &#34;Figure 6-24 Bulk Cleansing Wizard - Object Selection&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>Select the objects on which the pattern-based replacement is to be performed. Click <span class="bold">Next</span> and <a href="#CEGIJAEA">Figure 6-25, &#34;Bulk Cleansing Wizard - Details&#34;</a> appears.</p>
<div id="DUMAG1556" class="figure">
<p class="titleinfigure"><a id="CEGIJAEA"></a>Figure 6-25 Bulk Cleansing Wizard - Details</p>
<img width="639" height="480" src="img/bwizdet4.gif" alt="Description of Figure 6-25 follows"/><br/>
<a id="sthref274" href="img_text/bwizdet4.htm">Description of &#34;Figure 6-25 Bulk Cleansing Wizard - Details&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>The Bulk Cleansing Details page displays a list of the table columns and type attributes that are to be cleansed. To confirm and start the bulk cleansing operations, click <span class="bold">Finish</span>. <a href="#CEGIJDGD">Figure 6-26, &#34;Bulk Cleansing Progress&#34;</a> appears.</p>
<div id="DUMAG1557" class="figure">
<p class="titleinfigure"><a id="CEGIJDGD"></a>Figure 6-26 Bulk Cleansing Progress</p>
<img width="630" height="489" src="img/bulkcleanseprogc.gif" alt="Description of Figure 6-26 follows"/><br/>
<a id="sthref275" href="img_text/bulkcleanseprogc.htm">Description of &#34;Figure 6-26 Bulk Cleansing Progress&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>You can monitor the status of the bulk cleansing on the Bulk Cleansing Progress panel. If an operation fails on a table column or a type attribute during the process, you can highlight the entry to see the error message in the Status column as well as at the bottom of the panel. To view only the entries with errors, select the &#34;Show Only Errors&#34; check box at the top.</p>
<p>You can suspend the cleanse by clicking Stop.</p>
</li>
</ol>
<div id="DUMAG1558" class="example">
<p class="titleinexample"><a id="sthref276"></a>Example 6-1 Replacing Invalid Bytes in Bulk</p>
<p>In this example, the database contains occurrences of invalid bytes (0x8D and 0x9D in a WE8MSWIN1252 database), as illustrated in the following graphic.</p>
<img width="756" height="502" src="img/dataed.gif" alt="Description of dataed.gif follows"/><br/>
<a id="sthref277" href="img_text/dataed.htm">Description of the illustration dataed.gif</a><br/>
<br/>
<p>If there are multiple occurrences of the same invalid data symptom, you may decide to perform pattern-based cleansing to resolve the issues in bulk. In this case, assuming the byte values 0x8d and 0x9d are ignorable and insignificant to the data contents, you may define a pattern-based replacement to remove them from your data as below.</p>
<img width="637" height="479" src="img/baddatacleanb.gif" alt="Description of baddatacleanb.gif follows"/><br/>
<a id="sthref278" href="img_text/baddatacleanb.htm">Description of the illustration baddatacleanb.gif</a><br/>
<br/>
<p>After this has been done, a similar view of the data is illustrated in the following screenshot.</p>
<img width="530" height="480" src="img/baddatacleand.gif" alt="Description of baddatacleand.gif follows"/><br/>
<a id="sthref279" href="img_text/baddatacleand.htm">Description of the illustration baddatacleand.gif</a><br/>
<br/>
<p>Note that the invalid data in line 8 has been removed.</p>
</div>
<!-- class="example" -->
<div id="DUMAG1559" class="example">
<p class="titleinexample"><a id="sthref280"></a>Example 6-2 Replacing Characters in Bulk</p>
<p>In some cases, it&#39;s possible you may decide to replace 8-bit characters with their 7-bit equivalents to deal with data size expansion issues when converting to Unicode without changing the column definitions. For example, you may replace occurrences of the character &auml; with a using the bulk cleansing method as is illustrated in the following screenshot.</p>
<img width="640" height="480" src="img/eightsevenb.gif" alt="Description of eightsevenb.gif follows"/><br/>
<a id="sthref281" href="img_text/eightsevenb.htm">Description of the illustration eightsevenb.gif</a><br/>
<br/></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="BCGHJDFD"></a>
<div id="DUMAG1474" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Cleansing Scenario 1: A Database with No Issues</h2>
<p>If there are no issues with data in your database, the Scan Report resemble what is shown in <a href="#BACHBGBJ">Figure 6-27, &#34;Database Scan Report: No Data Issues&#34;</a>.</p>
<div id="DUMAG258" class="figure">
<p class="titleinfigure"><a id="BACHBGBJ"></a>Figure 6-27 Database Scan Report: No Data Issues</p>
<img width="814" height="206" src="img/scanrepnoth.gif" alt="Description of Figure 6-27 follows"/><br/>
<a id="sthref282" href="img_text/scanrepnoth.htm">Description of &#34;Figure 6-27 Database Scan Report: No Data Issues&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The report column Need No Change (Scheduled) shows the number of character column values (cells) in the database that are already valid in the target Unicode character set. This means that these cells are either null or they contain only ASCII characters (except when the migration is from UTF8 to AL32UTF8, in which case the characters might be other valid UTF-8 codes from the Basic Multilingual Plane of Unicode.). The report column Need Conversion (Scheduled) shows the number of character cells that need conversion to become Unicode but whose conversion will not cause any errors or data loss.</p>
<p>The report columns Invalid Representation (Scheduled), Over Column Limit (Scheduled), and Over Type Limit (Scheduled) show zero, which means that the database content has no convertibility issues. The green OK icon to the left of the database node means the same thing. If the Migration Status tab shows no other issues in the database (see <a href="ch2migrasteps.htm#CHDIDJCB">&#34;Following the Status of the Migration&#34;</a>) you can proceed to the actual conversion phase of the migration process, which is described in <a href="ch4scenarios.htm#CIHIEFDC">&#34;Converting the Database&#34;</a>.</p>
</div>
<!-- class="sect1" -->
<a id="BCGBABGJ"></a>
<div id="DUMAG1475" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Cleansing Scenario 2: Cleansing Expansion Issues</h2>
<p>If there are expansion issues with data in your database, the Scan Report will resemble what is shown in <a href="#BACDACCJ">Figure 6-28, &#34;Database Scan Report: Expansion Issues&#34;</a>. In addition to the columns Need No Change (Scheduled) and Need Conversion (Scheduled), described in <a href="#BCGHJDFD">&#34;Cleansing Scenario 1: A Database with No Issues&#34;</a>, the columns Over Column Limit (Scheduled) and Over Type Limit (Scheduled) contain nonzero values. A yellow triangle icon next to the database node signals convertibility issues with the data.</p>
<p>After conversion to the target character set, the cells classified as Over Column Limit (Scheduled) will no longer fit into their columns unless the columns are lengthened. The cells classified as Over Type Limit (Scheduled) will become longer than the limit of their data types. The lengthening of their columns will not help.</p>
<p>You can expand the object tree in the Name column to locate which schemas, which tables in those schemas, and which columns in those tables contain the problematic cells. The yellow triangle icons show which nodes to expand. The columns Over Column Limit (Scheduled) and Over Type Limit (Scheduled) show for each schema, table, and column how many problematic cells are in the corresponding database object.</p>
<div id="DUMAG260" class="figure">
<p class="titleinfigure"><a id="BACDACCJ"></a>Figure 6-28 Database Scan Report: Expansion Issues</p>
<img width="844" height="480" src="img/dbscanissuesb.gif" alt="Description of Figure 6-28 follows"/><br/>
<a id="sthref283" href="img_text/dbscanissuesb.htm">Description of &#34;Figure 6-28 Database Scan Report: Expansion Issues&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>You can also reduce the amount of information on the Scan Report tab and let the DMU show scan results only for columns that have issues. To do this, click the filter drop-down list to open it, as shown in <a href="#BACECFHF">Figure 6-29, &#34;Filtering Scan Results&#34;</a>. Select the option <span class="bold">With</span> <span class="bold">Some</span> <span class="bold">Issues</span> to see all database columns with data issues or the option <span class="bold">With</span> <span class="bold">Length</span> <span class="bold">Issues</span> to see only columns that have data expansion issues discussed in this section.</p>
<div id="DUMAG261" class="figure">
<p class="titleinfigure"><a id="BACECFHF"></a>Figure 6-29 Filtering Scan Results</p>
<img width="843" height="364" src="img/dbscanfilter.gif" alt="Description of Figure 6-29 follows"/><br/>
<a id="sthref284" href="img_text/dbscanfilter.htm">Description of &#34;Figure 6-29 Filtering Scan Results&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The non-zero counter values for Over Column Limit (Scheduled) and Over Type Limit (Scheduled) cells at the table and column level are active links. If you click a counter, it will open the Cleansing Editor tab in the client pane of the DMU window, as shown in <a href="#BACCAJDH">Figure 6-30, &#34;Cleansing Editor Tab: Expansion Issues&#34;</a>. Another way to open this tab is to right-click the table node in the Navigator pane or the Scan Report tree and then select <span class="bold">Cleansing</span> <span class="bold">Editor</span>.</p>
<p>The Cleansing Editor tab shows the contents of the table for which it was opened. By default, the data cells that have length expansion issues are shown on a yellow background. You can change this color in the Preferences dialog box, which can be opened by selecting <span class="bold">Preferences</span> from the Tools menu.</p>
<p>Various filtering and search features of the Cleansing Editor can help you locate the problematic data cells. See <a href="#BCGGDFCD">&#34;Filtering Data&#34;</a> for more information about these features.</p>
<p>With the Cleansing Editor tab open, you can now try to cleanse the reported expansion issues as described in the following sections.</p>
<p>Repeat the cleansing process for all tables with issues reported by the DMU. As soon as no more issues are reported in either the Scan Report or the Migration Status tab, you can start the conversion phase, described in <a href="ch4scenarios.htm#CIHIEFDC">&#34;Converting the Database&#34;</a>.</p>
<div id="DUMAG262" class="figure">
<p class="titleinfigure"><a id="BACCAJDH"></a>Figure 6-30 Cleansing Editor Tab: Expansion Issues</p>
<img width="746" height="531" src="img/threey.gif" alt="Description of Figure 6-30 follows"/><br/>
<a id="sthref285" href="img_text/threey.htm">Description of &#34;Figure 6-30 Cleansing Editor Tab: Expansion Issues&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<a id="BACBFDCH"></a>
<div id="DUMAG263" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Over Column Limit Issues</h3>
<p>To cleanse the Over<a id="sthref286"></a> Column Limit issues in a column, you have the following options:</p>
<ul>
<li>
<p>Lengthen the column.</p>
</li>
<li>
<p>Change the length semantics of the column from bytes to characters.</p>
</li>
<li>
<p>Shorten the stored values manually.</p>
</li>
<li>
<p>Allow the DMU to truncate the values during conversion.</p>
</li>
<li>
<p>Edit the value to replace characters that expand in conversion.</p>
</li>
<li>
<p>Migrate to a larger data type.</p>
</li>
</ul>
<p>The choice of cleansing action depends mainly on your ability to modify applications accessing the cleansed table. If you are unable to modify applications, for example, because they are not developed in your company, then you usually cannot lengthen a column, change its length semantics, or migrate to another data type, because all these actions require modifications to the application code to adapt buffer sizes or data access methods to the changed column data types.</p>
<a id="BACIEBJH"></a>
<div id="DUMAG264" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Lengthening a Column</h4>
<p>Lengthening a column is the most efficient way to deal with &#34;over column limit&#34; issues, if applications accessing the column either adapt to the increased length automatically or require only a few manual changes in a few well-defined places in code.</p>
<p class="subhead2"><a id="DUMAG345"></a>To lengthen a column:</p>
<ol>
<li>
<p>To lengthen a column, right-click any cell of the column in the Cleansing Editor to open the context menu. In the menu, select either <span class="bold">Schedule</span> <span class="bold">Column</span> <span class="bold">Modification</span> or <span class="bold">Modify</span> <span class="bold">Column</span>. The former opens the Schedule Column Modification dialog box, shown in <a href="#BACJACHJ">Figure 6-31, &#34;Schedule Column Modification: Lengthen the Column Size&#34;</a>. The latter opens the Modify Column dialog box, which looks almost the same, except that it does not include the Exclude From Conversion and No Modification options.</p>
<div id="DUMAG265" class="figure">
<p class="titleinfigure"><a id="BACJACHJ"></a>Figure 6-31 Schedule Column Modification: Lengthen the Column Size</p>
<img width="573" height="569" src="img/threez.gif" alt="Description of Figure 6-31 follows"/><br/>
<a id="sthref287" href="img_text/threez.htm">Description of &#34;Figure 6-31 Schedule Column Modification: Lengthen the Column Size&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
<li>
<p>The Schedule Column Modification dialog box lets you define a scheduled cleansing action on a column, which is to be performed only during the actual conversion phase of the migration process. The action is saved in the migration repository and applied to the table just before or while the table is converted. The table is not modified before that time and defining the action does not disturb the current processing in the database. New application versions adapted to the change need to be installed only at the time of conversion.</p>
<p>If you prefer the cleansing action to be performed immediately, use the Modify Column dialog box. After you click <span class="bold">Apply</span> in this dialog box, the DMU immediately sends the appropriate SQL DLL statements to the database. The resulting modification cannot be rolled back.</p>
<p>To lengthen a column in the Schedule Column Modification or in the Modify Column dialog box, select <span class="bold">Lengthen</span> <span class="bold">to</span> and enter a new length value that is equal to or higher than the maximum length of all post-conversion values in the column. The maximum post-conversion length is reported on the Scanning subtab of the Column Properties tab. See <a href="ch4scenarios.htm#BACEAEHJ">&#34;Scanning the Database&#34;</a> in the &#34;Column Properties&#34; section.</p>
<p>When lengthening a column, leave the drop-down list set to &#34;Bytes&#34;. Click <span class="bold">Apply</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BCGEGIEC"></a>
<div id="DUMAG266" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Changing the Length Semantics</h4>
<p>Changing the length semantics of a <code dir="ltr">VARCHAR2</code> or <code dir="ltr">CHAR</code> column from bytes to characters is a special form of lengthening the column. By changing the length semantics of a column, you tell the database to constrain values stored in the column to a given number of characters and not to a given number of bytes that comprise the encoding of these characters. The length constraint becomes independent of the character set. The database sets the implicit byte limit of each character length semantics column to the maximum possible byte length of a character value that has the declared maximum number of characters. This implicit byte limit is equal to the maximum number of characters multiplied by the maximum number of bytes in a character code in the database character set.</p>
<p>The number of characters does not change in conversion from one character set to another (except for conversion of supplementary Unicode characters from ZHT16HKSCS31 to surrogate pairs in UTF8). Therefore, because the number of characters fitting into <span class="italic">n</span> bytes is not greater than <span class="italic">n</span>, if a column length constraint is changed from <span class="italic">n</span> bytes to <span class="italic">n</span> characters, then all column values comply with this new constraint after database character set conversion. The implicit byte limit is automatically adjusted by the database character set change. One caveat is that the maximum length of a character value is still restricted by the byte limit of its data type: 4000 bytes for <code dir="ltr">VARCHAR2</code> and 2000 bytes for <code dir="ltr">CHAR</code>. Values that exceed this limit after conversion are classified as Over Type Limit. The handling of such values is described in <a href="#BACEACFF">&#34;Handling Over Type Limit Issues&#34;</a>.</p>
<p>Choose migration to character length semantics over lengthening a column if, when adapting your applications to process Unicode, you make them manage character value limits in characters and not bytes.</p>
<p class="subhead2"><a id="DUMAG394"></a>To change length semantics:</p>
<p>To change the length semantics of a column, follow the previous steps described in <a href="#BACIEBJH">&#34;Lengthening a Column&#34;</a> to open either the Schedule Column Modification or Modify Column dialog box.</p>
<ol>
<li>
<p>First, instead of selecting <span class="bold">Lengthen</span> <span class="bold">to</span>, select <span class="bold">Migrate</span> <span class="bold">to</span> <span class="bold">Character</span> <span class="bold">Semantics</span>.</p>
</li>
<li>
<p>Although not usually necessary, you can migrate a column to character length semantics and at the same time make the declared maximum number of characters greater than the current declared maximum number of bytes. To do so, select <span class="bold">Lengthen</span> <span class="bold">to</span>, enter the new character limit for the column into the adjacent text field, and select <span class="bold">Characters</span> from the drop-down list.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BACJDFDA"></a>
<div id="DUMAG267" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3">Shortening Character Values Manually</h4>
<p>If the column data types cannot be altered, you must modify the stored character values so that they do not expand over the column length limit in conversion to the target character set. There are three ways to do this:</p>
<ul>
<li>
<p>Shorten the values manually.</p>
</li>
<li>
<p>Let the DMU shorten the values during conversion.</p>
</li>
<li>
<p>Replace some expanding characters with non-expanding equivalents.</p>
</li>
</ul>
<p>Manual shortening of values requires that the number of cells with the Over Column Limit issue is small enough so that the operation can be completed within a reasonable time. Manual shortening of values gives you the best control over the cleansing results, but it is very time-consuming. Shortening values is not a feasible cleansing action for data that has precisely defined contents, such as family names.</p>
<p class="subhead2"><a id="DUMAG346"></a>To shorten a character value manually:</p>
<ol>
<li>
<p>To shorten a character value in a given cell, which is marked with a yellow background in the Cleansing Editor, double-click the cell or right-click it and select <span class="bold">Edit</span> <span class="bold">Data</span> from the context menu. The Edit Data dialog box that contains the value to be edited is displayed, as shown in <a href="#BACIGEFE">Figure 6-32, &#34;Edit Data Dialog Box&#34;</a>.</p>
<div id="DUMAG268" class="figure">
<p class="titleinfigure"><a id="BACIGEFE"></a>Figure 6-32 Edit Data Dialog Box</p>
<img width="584" height="456" src="img/threeaa.gif" alt="Description of Figure 6-32 follows"/><br/>
<a id="sthref288" href="img_text/threeaa.htm">Description of &#34;Figure 6-32 Edit Data Dialog Box&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>In the Edit Data dialog box, the trailing part of the character value being edited that causes the value to exceed the maximum column length after conversion is marked with a yellow background. Therefore, delete characters from the value until no yellow background is visible. You can also compare the number shown in Post-Conversion Length in Bytes with the number shown in Post-Conversion Limit in Bytes and delete characters until the first number is smaller than or equal to the second number.</p>
</li>
<li>
<p>After you are ready with the changes, click <span class="bold">OK</span> to accept the new value and close the dialog box. The new value is displayed in the Cleansing Editor but it is not yet stored in the database. You can now edit further cells. If you want to store the new values permanently in the database, click <span class="bold">Save</span> on the Cleansing Editor tab. You can reverse any edit changes made since the last save by clicking <span class="bold">Revert</span>.</p>
</li>
</ol>
<p>Editing values is always an immediate cleansing action. You cannot schedule manual editing changes to be applied only during conversion.</p>
</div>
<!-- class="sect3" -->
<div id="DUMAG269" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref289"></a>
<h4 class="sect3">Truncating Column Values During Conversion</h4>
<p>If data in a column is historical and no longer required for business purposes or the essential information is always contained at the very beginning of a cell value, you can choose to let the DMU automatically truncate the values during conversion so that they comply with the existing length constraint of the column. This approach is not considered a cleansing action because its effects are not reflected in the scan results. However, the DMU ignores columns that you allow to automatically truncate when deciding if conversion should be disallowed due to data convertibility issues.</p>
<p class="subhead2"><a id="DUMAG395"></a>To truncate column values during conversion:</p>
<p>You can have the DMU automatically truncate column values to comply with the existing length constraint of a column. The steps are:</p>
<ol>
<li>
<p>Open the Column Properties tab.</p>
</li>
<li>
<p>Open the Readiness subtab.</p>
</li>
<li>
<p>Select <span class="bold">Yes</span> for the value of the property Allow Conversion of Exceptional Data.</p>
</li>
</ol>
<p>See <a href="ch3tasks.htm#BABEJGJB">Chapter 3, &#34;Viewing and Setting Object Properties in the DMU&#34;</a> for more information about setting column properties.</p>
</div>
<!-- class="sect3" -->
<div id="DUMAG270" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref290"></a>
<h4 class="sect3">Replacing Expanding Characters</h4>
<p>If neither changing the data type of a column nor shortening column values is possible, consider as a last resort avoiding the expansion by replacing the expanding non-ASCII characters with ASCII equivalents. Examples are:</p>
<ul>
<li>
<p>Replace nonbreaking space (0xA0 in most single-byte ISO and Microsoft Windows code pages) with the standard space (0x20 in all ASCII-based character sets).</p>
</li>
<li>
<p>Replace <span class="italic">smart</span> quotation mark characters, such as &#39;, &#39;, &#34;, &#34;, and &bdquo; with ASCII single- and double-quotation mark characters &#39; and &#34;.</p>
</li>
<li>
<p>Replace currency symbols with approximated representation: &yen; (Yen) becomes Y, &pound; (Pound) becomes L, &cent; (cent) becomes c, and so on.</p>
</li>
<li>
<p>Remove accents from Latin letters, if values remain acceptable after this operation.</p>
</li>
</ul>
<p>You can replace characters in cells by editing them in the Edit Data dialog box, as described in <a href="#BACJDFDA">&#34;Shortening Character Values Manually&#34;</a>. This is feasible if the number of cells to edit is not large. To replace characters in many cells, use a database tool, such as Oracle SQL Developer, and issue an <code dir="ltr">UPDATE</code> SQL statement with the <code dir="ltr">TRANSLATE</code> function to replace all relevant characters in a table at one time.</p>
</div>
<!-- class="sect3" -->
<div id="DUMAG271" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref291"></a>
<h4 class="sect3">Migrating to a Larger Data Type</h4>
<p>Migration of a column data type is not required if the column does not contain values that exceed the data type limit. But if such values are expected in the future, you can choose to migrate the column data type to a larger one. The choices are:</p>
<ul>
<li>
<p>Migrate a <code dir="ltr">CHAR</code> column to <code dir="ltr">VARCHAR2</code>.</p>
</li>
<li>
<p>Migrate a <code dir="ltr">CHAR</code> column to <code dir="ltr">CLOB</code>.</p>
</li>
<li>
<p>Migrate a <code dir="ltr">VARCHAR2</code> column to <code dir="ltr">CLOB</code>.</p>
</li>
<li>
<p>Migrate a <code dir="ltr">LONG</code> column to <code dir="ltr">CLOB</code>.</p>
</li>
</ul>
<p>The DMU does not support migration to the deprecated <code dir="ltr">LONG</code> data type.</p>
<p>Migration of column data types usually requires code changes to adapt applications to the comparison and padding semantics difference between <code dir="ltr">CHAR</code> and <code dir="ltr">VARCHAR2</code>, or to different ways of fetching <code dir="ltr">CLOB</code> values.</p>
<p class="subhead2"><a id="DUMAG396"></a>To migrate the data type of a column:</p>
<ol>
<li>
<p>To migrate the data type of a column, open either the Schedule Column Modification dialog box or the Modify Column dialog box for this column, as described in <a href="#BACIEBJH">&#34;Lengthening a Column&#34;</a>. Then, select <span class="bold">Migrate to</span> and select the target data type from the adjacent drop-down list. If the target data type is <code dir="ltr">VARCHAR2</code>, enter the desired target length and length semantics. If the target data type is <code dir="ltr">CLOB</code>, click <span class="bold">Properties</span> to open the <code dir="ltr">CLOB</code> Properties dialog box. You can enter storage parameters for the <code dir="ltr">CLOB</code> segment in this dialog box. See <a class="olink SQLRF20041" href="../SQLRF/sql_elements001.htm#SQLRF20041"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the available options. Click <span class="bold">Apply</span> to close the dialog box and save the parameters.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span> in the Schedule Column Modification or Modify Column dialog box to accept the defined cleansing action. If you chose to migrate the data type immediately by using the Modify Column dialog box and the migration is to the <code dir="ltr">CLOB</code> data type, the following processing might take a long time depending on the amount of column data to migrate.</p>
</li>
</ol>
<p>The migration from <code dir="ltr">CHAR</code> to <code dir="ltr">VARCHAR2</code> does not remove trailing blanks from the <code dir="ltr">CHAR</code> values. If you want to remove the blanks, use a database tool, such as Oracle SQL Developer, and issue an <code dir="ltr">UPDATE</code> SQL statement with the <code dir="ltr">RTRIM</code> function.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BACEACFF"></a>
<div id="DUMAG272" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Handling Over Type Limit Issues</h3>
<p>The next step is to resolve the <a id="sthref292"></a>problems with Over Type Limit cells. To cleanse the Over Type Limit issues in a column, you have the following options, which are a subset of options available to cleanse the Over Column Limit issues:</p>
<ul>
<li>
<p>Migrate to a larger data type.</p>
</li>
<li>
<p>Shorten the stored values manually.</p>
</li>
<li>
<p>Allow the DMU to truncate the values during conversion.</p>
</li>
<li>
<p>Edit the value to replace characters that expand in conversion.</p>
</li>
</ul>
<p>Similar to what is described in <a href="#BACBFDCH">&#34;Over Column Limit Issues&#34;</a>, the choice of the cleansing action depends mainly on your ability to modify applications accessing the cleansed table. If you are unable to modify applications, then you cannot migrate to a larger data type.</p>
<p>See <a href="#BACBFDCH">&#34;Over Column Limit Issues&#34;</a> for the steps required to perform any of the preceding available cleansing actions.</p>
</div>
<!-- class="sect2" -->
<a id="BACHGIAD"></a>
<div id="DUMAG273" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Refreshing Scan Results</h3>
<p>When you define a column cleansing action in the Schedule Column Modification or the Modify Column dialog box, or you edit a value in the Edit Data dialog box, the DMU invalidates the scan results for the column, unless it can otherwise adjust the results based on the performed cleansing action. In case the results are invalidated, you should rescan the column.</p>
<p class="subhead2"><a id="DUMAG397"></a>To refresh scan results:</p>
<ol>
<li>
<p>To rescan a column, right-click the column node in the Scan Report tree or the Navigator tree, and select <span class="bold">Scan</span>. The Scan Wizard appears with only this column selected for scanning.</p>
</li>
<li>
<p>Accept the scan parameters and click <span class="bold">Finish</span> to start the scan.</p>
<p>The new scan will account for the just-performed cleansing action when analyzing the issues. If the column is cleansed properly, no issues will be reported for it in the Over Column Limit (Scheduled) report column.</p>
</li>
</ol>
<p>If you define a scheduled cleansing action, you are still able to view the results for the current table structure and contents in the Over Column Limit optional report column on the Scan Report tab (see <a href="ch4scenarios.htm#BACEAEHJ">&#34;Scanning the Database&#34;</a>) or in the Current Data column of scan results displayed on the Scanning subtab of the Column Properties tab.</p>
</div>
<!-- class="sect2" -->
<a id="BACCGFHG"></a>
<div id="DUMAG274" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Revoking Scheduled Cleansing Actions</h3>
<p>A scheduled cleansing action for a column can be revoked at any time before the database is converted.</p>
<p class="subhead2"><a id="DUMAG398"></a>To revoke scheduled cleansing actions:</p>
<ol>
<li>
<p>Open the Schedule Column Modification dialog box for the affected column.</p>
</li>
<li>
<p>Select <span class="bold">No</span> <span class="bold">Modification</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
<p>The scan results for the column will be invalidated and you will have to rescan the column.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BCGCHIBB"></a>
<div id="DUMAG1476" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Cleansing Scenario 3: Cleansing Invalid Representation Issues</h2>
<p>If there are invalid representation issues with data in your database, the Scan Report resembles what is shown in <a href="ch4scenarios.htm#BACGFIHF">&#34;Overview of the Database Scan Report&#34;</a>, but in addition to or in place of the report columns Over Column Limit (Scheduled) and Over Type Limit (Scheduled), the report column Invalid Representation (Scheduled) contains nonzero values. A yellow triangle icon next to the database node signals convertibility issues with the data.</p>
<p>Analogously to how columns with length expansion issues are located in the Scan Report, you can locate columns containing cells with invalid binary representation issues. See <a href="ch4scenarios.htm#BACEAEHJ">&#34;Scanning the Database&#34;</a> for more details.</p>
<p>Invalid binary representation issue in a cell value means that the value is not valid in its assumed (declared) character set, which is by default the database character set. Some bytes in the value do not form a valid character code in the declared character set.</p>
<p>There are three possible reasons for a value to have invalid binary representation:</p>
<ul>
<li>
<p>An application stores binary values, that is, values that are not to be interpreted as pure text, in a pass-through configuration. The most common examples are images or documents in proprietary binary formats stored in <code dir="ltr">LONG</code> columns and encrypted text values stored in <code dir="ltr">VARCHAR2</code> columns (for example, results from <code dir="ltr">DBMS_OBFUSCATION_TOOLKIT</code> procedures that return <code dir="ltr">VARCHAR2</code> results).</p>
</li>
<li>
<p>An application stores character values in a pass-through configuration and the values are encoded in one or more character sets different from the database character set. The most common examples are data in various Microsoft Windows client character sets stored in databases with the US7ASCII or various ISO 8859 database character sets.</p>
</li>
<li>
<p>An application stores values that have some character codes corrupted due to software defects or hardware failures.</p>
</li>
</ul>
<p>See <a href="ch1overview.htm#CJAHJBDG">&#34;Invalid Binary Storage Representation of Data&#34;</a> for a description of the pass-through configuration.</p>
<p>To analyze which of the three possible reasons caused invalid binary representation data to appear in a given column, open the Cleansing Editor tab for this column by clicking the nonzero Invalid Representation (Scheduled) counter value for the column. When you click the counter value, the DMU opens the Cleansing Editor tab in the client pane of the DMU window, as shown in <a href="#BACJGFBF">Figure 6-33, &#34;Cleansing Editor Tab: Invalid Binary Representation Issues&#34;</a>. Another way to open this tab is to right-click the table node in the Navigator pane or the Scan Report tree and to select <span class="bold">Cleansing</span> <span class="bold">Editor</span>.</p>
<p>Various filtering and search features of the Cleansing Editor can help you locate the problematic data cells. See <a href="#BABBIBCE">&#34;Cleansing Data&#34;</a> for more information about these features.</p>
<p>By default, the data cells that have invalid binary representation issues are shown on a light coral background. You can change this color in the Preferences dialog box, which can be opened by selecting <span class="bold">Preferences</span> from the Tools menu.</p>
<div id="DUMAG276" class="figure">
<p class="titleinfigure"><a id="BACJGFBF"></a>Figure 6-33 Cleansing Editor Tab: Invalid Binary Representation Issues</p>
<img width="659" height="446" src="img/threeab.gif" alt="Description of Figure 6-33 follows"/><br/>
<a id="sthref293" href="img_text/threeab.htm">Description of &#34;Figure 6-33 Cleansing Editor Tab: Invalid Binary Representation Issues&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>As in the case of expansion issues, you can double-click a cell with invalid binary representation issues to open the Edit Data dialog box, as shown in <a href="#BACIGEFE">Figure 6-32, &#34;Edit Data Dialog Box&#34;</a>.</p>
<p>In the Edit Data dialog box, you can view the binary data by looking in the bottom-right pane. The bytes comprising the edited value are displayed as 2-digit hexadecimal numbers, as shown in <a href="#BACDEACE">Figure 6-34, &#34;Edit Data Dialog Box: Viewing Binary Data&#34;</a>.</p>
<div id="DUMAG277" class="figure">
<p class="titleinfigure"><a id="BACDEACE"></a>Figure 6-34 Edit Data Dialog Box: Viewing Binary Data</p>
<img width="584" height="441" src="img/editdata3.gif" alt="Description of Figure 6-34 follows"/><br/>
<a id="sthref294" href="img_text/editdata3.htm">Description of &#34;Figure 6-34 Edit Data Dialog Box: Viewing Binary Data&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>With the Cleansing Editor tab and the Edit Data dialog box open, you can now try to identify the reason for invalid binary representation issues and cleanse the issues as described in the following sections. The considerations discussed in <a href="#BACHGIAD">&#34;Refreshing Scan Results&#34;</a> and <a href="#BACCGFHG">&#34;Revoking Scheduled Cleansing Actions&#34;</a> apply to the cleansing of invalid binary representation issues as well.</p>
<p>Repeat the cleansing process for all tables with issues reported by the DMU. When no more issues are reported in either the Scan Report or the Migration Status tab, you can proceed to the conversion phase, described in <a href="ch4scenarios.htm#CIHIEFDC">&#34;Converting the Database&#34;</a>.</p>
<div id="DUMAG278" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref295"></a>
<h3 class="sect2">Cleansing Binary Values in Character Columns</h3>
<p>In the bottom-right of the Edit Data dialog box, you can recognize binary values stored incorrectly in a character column because such values show as garbage in the bottom left of the dialog box. In the binary display, if the dialog box shows a lot of bytes in the ranges 0x00 to 0x08 and 0x10 to 0x1f, the value is binary. These bytes come up in character values very seldom because they correspond to ASCII control codes with only historical importance.</p>
<p>A binary value can also be recognized by a very long series of a single byte (other than the ASCII code for a space or the ASCII code for any character commonly used to draw separator lines, such as minus, plus, underscore, equal sign, or period).</p>
<p>To cleanse the invalid binary representation issues for a column storing binary values, migrate the data type of the column to <code dir="ltr">RAW</code> or <code dir="ltr">LONG</code> <code dir="ltr">RAW</code>. The DMU does not support migration to <code dir="ltr">BLOB</code>. The migration to <code dir="ltr">RAW</code> is supported for <code dir="ltr">CHAR</code> columns and for <code dir="ltr">VARCHAR2</code> columns up to 2000 bytes in length. The migration to <code dir="ltr">LONG</code> <code dir="ltr">RAW</code> is supported for <code dir="ltr">LONG</code> columns.</p>
<p class="subhead2"><a id="DUMAG399"></a>To migrate a column to a binary type:</p>
<ol>
<li>
<p>To migrate a column to a binary data type, right-click any cell of the column in the Cleansing Editor. The context menu is displayed.</p>
</li>
<li>
<p>In the menu, select either <span class="bold">Schedule</span> <span class="bold">Column</span> <span class="bold">Modification</span> or <span class="bold">Modify</span> <span class="bold">Column</span>. The former opens the Schedule Column Modification dialog box; the latter opens the Modify Column dialog box. The difference between these dialog boxes and the difference between associated cleansing modes &ndash; scheduled versus immediate &ndash; are described in <a href="#BACIEBJH">&#34;Lengthening a Column&#34;</a>.</p>
</li>
<li>
<p>In the opened dialog box (see <a href="#BACJACHJ">Figure 6-31, &#34;Schedule Column Modification: Lengthen the Column Size&#34;</a>), select <span class="bold">Migrate</span> <span class="bold">to</span>, and from the adjacent drop-down list, select the target data type. If the target data type is <code dir="ltr">RAW</code>, enter the desired length of the column in bytes. The length must be equal to or greater than the maximum byte length of any value in the column to be migrated.</p>
</li>
<li>
<p>Click <span class="bold">Apply</span>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BACBICBI"></a>
<div id="DUMAG279" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Cleansing Incorrect Character Set Declaration</h3>
<p>If the binary view<a id="sthref296"></a> in the Edit Data dialog box does not reveal any byte patterns characteristic for binary data, the edited value is most probably character data in an incorrectly used character set. If in doubt, consult application developers or application administrators and identify the source and type of information stored in the analyzed column.</p>
<p class="subhead2"><a id="DUMAG400"></a>To correct incorrect character set declarations:</p>
<ol>
<li>
<p>To identify the actual character set of data in the column, select the column in the Cleansing Editor and repeatedly change the selected value in the Character Set drop-down list, until all values in the column are legible. See <a href="#BACJGHEA">Figure 6-35, &#34;Assumed Column Character Set&#34;</a>. To save time, apply the knowledge gathered before starting the migration, as recommended in <a href="ch2migrasteps.htm#CHDCCJDI">&#34;Review Your Preparations for Migration&#34;</a>, to restrict the character sets to only those that can possibly be used by any data source of the database (clients, input files).</p>
<p>If none of the attempted character sets makes all values in the column appear to display correctly, but each of the values does seem to be correct in one of the character sets, the column contains a mixture of data in different character sets. Such issues must be resolved outside of the DMU.</p>
</li>
<li>
<p>After you identify the correct character set, assign it permanently to the column by clicking <span class="bold">Save</span> in the Cleansing Editor tab. Then, rescan the column. No more invalid representation issues should be reported for the column.</p>
<div id="DUMAG280" class="figure">
<p class="titleinfigure"><a id="BACJGHEA"></a>Figure 6-35 Assumed Column Character Set</p>
<img width="600" height="504" src="img/threead.gif" alt="Description of Figure 6-35 follows"/><br/>
<a id="sthref297" href="img_text/threead.htm">Description of &#34;Figure 6-35 Assumed Column Character Set&#34;</a><br/>
<br/></div>
<!-- class="figure" --></li>
</ol>
</div>
<!-- class="sect2" -->
<div id="DUMAG281" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref298"></a>
<h3 class="sect2">Cleansing Corrupted Character Values</h3>
<p>If only a very small number of values in a column is not legible in the assumed character set of the column and the characters illegible in one value are legible in another, the invalid binary representation issue results from random corruption of the character values caused by a software or hardware malfunction. In the case of software, applications that use single-byte algorithms to process multibyte data are a common reason for such corruption in multibyte databases. Such applications might split or truncate strings in the middle of a multibyte character, producing invalid partial codes.</p>
<p>To cleanse randomly corrupted values, edit and correct them in the Edit Data dialog box, as described in <a href="#BACJDFDA">&#34;Shortening Character Values Manually&#34;</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3209">
<tr>
<td class="cellalignment3216">
<table class="cellalignment3214">
<tr>
<td class="cellalignment3213"><a href="ch5advanced.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3213"><a href="glossary.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3218">
<table class="cellalignment3212">
<tr>
<td class="cellalignment3213"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3213"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3213"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3213"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3213"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3213"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
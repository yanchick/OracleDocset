<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4106"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Database%20Instance"></a><title>Oracle Database Instance</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="This chapter explains the nature of an Oracle database instance, the parameter and diagnostic files associated with an instance, and what occurs during instance creation and the opening and closing of a database."/>
<meta name="keywords" content="databases, starting up, startup, instances, database, database instances, duration, Oracle Enterprise Manager, Enterprise Manager, operating systems, privileges for administrator, security, administrator privileges, connections, client/server, privileges, administrator, passwords, SYSOPER privilege, files, password, SYSDBA privilege, SGA (system global area), allocating, initialization parameter file, initialization parameter, server parameter, server parameter file, associating with databases, mounting, control files, used in mounting database, opening, auditing, shutdown, shutting down, steps, checkpoints, database shutdowns, closing, terminating, terminating the instance, recovery, required after terminating instance, abnormal, SHUTDOWN ABORT statement, forced, definition, incremental, thread, online redo log, rolling forward, committed data, failures, database buffers and, system monitor process (SMON), rolling back transactions, fast-start, rollback on demand, rollback segments, parallel recovery, position, use of in recovery, INIT.ORA, initialization parameter file., parameters, initialization, parameter, server, initialization parameters, basic, variable parameters, about, Automatic Diagnostic Repository (ADR), ADR, alert log, SQL*Plus"/>
<meta name="dcterms.created" content="2017-07-10T11:33:29Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Concepts"/>
<meta name="dcterms.identifier" content="E41396-15"/>
<meta name="dcterms.isVersionOf" content="CNCPT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1993, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="part_inarch.htm" title="Previous" type="text/html"/>
<link rel="Next" href="memory.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41396-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-67247052-CE3F-44D2-BA3E-7067DEF4B6D5"></a> <span id="PAGE" style="display:none;">22/34</span> <!-- End Header -->
<a id="CNCPT005"></a>
<h1 id="CNCPT-GUID-67247052-CE3F-44D2-BA3E-7067DEF4B6D5" class="sect1"><span class="enumeration_chapter">13</span> Oracle Database Instance</h1>
<div>
<p>This chapter explains the nature of an Oracle database instance, the parameter and diagnostic files associated with an instance, and what occurs during instance creation and the opening and closing of a database.</p>
<p>This chapter contains the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="startup.htm#GUID-2942B648-70FA-47B4-8950-0CC6884B1F80" title="A database instance is a set of memory structures that manage database files.">Introduction to the Oracle Database Instance</a></p>
</li>
<li>
<p><a href="startup.htm#GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" title="A database instance provides user access to a database. The instance and the database can be in various states.">Overview of Database Instance Startup and Shutdown</a></p>
</li>
<li>
<p><a href="startup.htm#GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" title="A checkpoint is a crucial mechanism in consistent database shutdowns, instance recovery, and Oracle Database operation generally.">Overview of Checkpoints</a></p>
</li>
<li>
<p><a href="startup.htm#GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" title="Instance recovery is the process of applying records in the online redo log to data files to reconstruct changes made after the most recent checkpoint.">Overview of Instance Recovery</a></p>
</li>
<li>
<p><a href="startup.htm#GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790" title="To start a database instance, Oracle Database must read either a server parameter file, which is recommended, or a text initialization parameter file, which is a legacy implementation. These files contain a list of configuration parameters.">Overview of Parameter Files</a></p>
</li>
<li>
<p><a href="startup.htm#GUID-E329D228-F334-4506-84C1-EC030032C228" title="Oracle Database includes a fault diagnosability infrastructure for preventing, detecting, diagnosing, and resolving database problems. Problems include critical errors such as code bugs, metadata corruption, and customer data corruption.">Overview of Diagnostic Files</a></p>
</li>
</ul>
</div>
<a id="CNCPT601"></a>
<div class="props_rev_3"><a id="GUID-2942B648-70FA-47B4-8950-0CC6884B1F80"></a>
<h2 id="CNCPT-GUID-2942B648-70FA-47B4-8950-0CC6884B1F80" class="sect2">Introduction to the Oracle Database Instance</h2>
<div>
<p>A <span class="bold">database instance</span> is a set of memory structures that manage database files.</p>
<p>A database is a set of physical files on disk created by the <code class="codeph">CREATE DATABASE</code> statement. The instance manages its associated data and serves the users of the database.</p>
<p>Every running Oracle database is associated with at least one Oracle database instance. Because an instance exists in memory and a database exists on disk, an instance can exist without a database and a database can exist without an instance.</p>
</div>
<a id="CNCPT89032"></a><a id="CNCPT89031"></a>
<div class="props_rev_3"><a id="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E"></a>
<h3 id="CNCPT-GUID-824DB02D-D382-4B23-9A94-85A3E816B75E" class="sect3">Database Instance Structure</h3>
<div>
<p>When an instance is started, Oracle Database allocates a memory area called the <span class="bold">system global area (SGA)</span> and starts one or more <span class="bold">background processes</span>.</p>
<p>The SGA serves various purposes, including the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Maintaining internal data structures that many processes and threads access concurrently</p>
</li>
<li>
<p>Caching data blocks read from disk</p>
</li>
<li>
<p>Buffering redo data before writing it to the online redo log files</p>
</li>
<li>
<p>Storing SQL execution plans</p>
</li>
</ul>
<p>Oracle processes running on a single computer share the SGA. The way in which Oracle processes associate with the SGA varies according to operating system.</p>
<p>A database instance includes background processes. Server processes, and the process memory allocated in these processes, also exist in the instance. The instance continues to function when server processes terminate.</p>
<p>The following graphic shows the main components of an Oracle database instance.</p>
<div class="figure" id="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E__I1332">
<p class="titleinfigure">Figure 13-1 Database Instance</p>
<img width="486" height="488" src="img/GUID-AF40292F-35B7-4FC2-8850-918D195FC11C-default.gif" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows"/><br/>
<a href="img_text/GUID-AF40292F-35B7-4FC2-8850-918D195FC11C-print.htm">Description of &#34;Figure 13-1 Database Instance&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-824DB02D-D382-4B23-9A94-85A3E816B75E__GUID-0A7E72BD-9FB6-4AA6-8922-5F31A42BD0D9">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-24EDB8CD-8279-4CED-82AF-642FC01A4A73" title="The SGA is a read/write memory area that, along with the Oracle background processes, form a database instance. All server processes that execute on behalf of users can read information in the instance SGA. Several processes write to the SGA during database operation.">Overview of the System Global Area (SGA)</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="process.htm#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="Background processes are additional processes used by a multiprocess Oracle database. The background processes perform maintenance tasks required to operate the database and to maximize performance for multiple users.">Overview of Background Processes</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89034"></a><a id="CNCPT89033"></a>
<div class="props_rev_3"><a id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127"></a>
<h3 id="CNCPT-GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127" class="sect3">Database Instance Configurations</h3>
<div>
<p>Oracle Database runs in either a single-instance configuration or an Oracle Real Application Clusters (Oracle RAC) configuration. These configurations are mutually exclusive.</p>
<p>In a single-instance configuration, a one-to-one relationship exists between the database and a database instance. In Oracle RAC, a one-to-many relationship exists between the database and database instances.</p>
<p>The following figure shows possible database instance configurations.</p>
<div class="figure" id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127__BABIEDFC">
<p class="titleinfigure">Figure 13-2 Database Instance Configurations</p>
<img width="641" height="333" src="img/GUID-0AC66BA5-9D0C-49E7-82AA-9EB3D03BEE1F-default.gif" alt="Description of Figure 13-2 follows" title="Description of Figure 13-2 follows"/><br/>
<a href="img_text/GUID-0AC66BA5-9D0C-49E7-82AA-9EB3D03BEE1F-print.htm">Description of &#34;Figure 13-2 Database Instance Configurations&#34;</a></div>
<!-- class="figure" -->
<p>Whether in a single-instance or Oracle RAC configuration, a database instance is associated with only one database at a time. You can start a database instance and <span class="bold">mount</span> (associate the instance with) one database, but not mount two databases simultaneously with the same instance.</p>
<div class="infobox-note" id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127__GUID-F5B30592-3BEA-4331-86FD-7B39FEBB1A46">
<p class="notep1">Note:</p>
<p>This chapter discusses a single-instance database configuration unless otherwise noted.</p>
</div>
<p>Multiple instances can run concurrently on the same computer, each accessing its own database. For example, a computer can host two distinct databases: <code class="codeph">prod1</code> and <code class="codeph">prod2</code>. One database instance manages <code class="codeph">prod1</code>, while a separate instance manages <code class="codeph">prod2</code>.</p>
<div class="infoboxnotealso" id="GUID-1A8EA852-BC7F-4324-9318-ED3D72B4F127__GUID-DC9C3DB9-B0FE-4D77-8C31-7A92767FA2FA">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD900" target="_blank" href="../RACAD/GUID-C9DB4DCB-34B9-42F0-8AB4-33199087CE98.htm#RACAD900"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information specific to Oracle RAC</p>
</div>
</div>
<a id="CNCPT89036"></a><a id="CNCPT89035"></a>
<div class="props_rev_3"><a id="GUID-6074B991-B875-4054-BF0D-063BCF0843BA"></a>
<h4 id="CNCPT-GUID-6074B991-B875-4054-BF0D-063BCF0843BA" class="sect4">Duration of a Database Instance</h4>
<div>
<p>A database instance begins when it is created with the <code class="codeph">STARTUP</code> command and ends when it is terminated.</p>
<p>During this period, a database instance can associate itself with one and only one database. Furthermore, the instance can mount a database only once, close it only once, and open it only once. After a database has been closed or shut down, you must start a <span class="italic">different</span> instance to mount and open this database.</p>
<p>The following table illustrates a database instance attempting to reopen a database that it previously closed.</p>
<div class="tblformalwide" id="GUID-6074B991-B875-4054-BF0D-063BCF0843BA__DURATIONOFANINSTANCE-1BF5E351">
<p class="titleintable">Table 13-1 Duration of an Instance</p>
<table class="cellalignment1211" title="Duration of an Instance" summary="This table shows a database instance attempting to reopen a database that it previously closed.">
<thead>
<tr class="cellalignment1197">
<th class="cellalignment1222" id="d64757e1370">Statement</th>
<th class="cellalignment1222" id="d64757e1373">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e1378" headers="d64757e1370">
<pre dir="ltr">SQL&gt; STARTUP
ORACLE instance started.
 
Total System Global Area  468729856 bytes
Fixed Size                  1333556 bytes
Variable Size             440403660 bytes
Database Buffers           16777216 bytes
Redo Buffers               10215424 bytes
Database mounted.
Database opened.
</pre></td>
<td class="cellalignment1223" headers="d64757e1378 d64757e1373">
<p>The <code class="codeph">STARTUP</code> command creates an instance, which mounts and opens the database.</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e1388" headers="d64757e1370">
<pre dir="ltr">SQL&gt; SELECT 
TO_CHAR(STARTUP_TIME,&#39;MON-DD-RR HH24:MI:SS&#39;) 
AS &#34;Inst Start Time&#34; FROM V$INSTANCE;
 
Inst Start Time
------------------
JUN-18-14 <span class="bold">13:14:48</span>
</pre></td>
<td class="cellalignment1223" headers="d64757e1388 d64757e1373">
<p>This query shows the time that the current instance was started.</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e1397" headers="d64757e1370">
<pre dir="ltr">SQL&gt; SHUTDOWN IMMEDIATE
</pre></td>
<td class="cellalignment1223" headers="d64757e1397 d64757e1373">
<p>The instance closes the database and shuts down, ending the life of this instance.</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e1404" headers="d64757e1370">
<pre dir="ltr">SQL&gt; STARTUP
Oracle instance started.
. . .
</pre></td>
<td class="cellalignment1223" headers="d64757e1404 d64757e1373">
<p>The <code class="codeph">STARTUP</code> command creates a new instance and mounts and open the database.</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e1414" headers="d64757e1370">
<pre dir="ltr">SQL&gt; SELECT 
TO_CHAR(STARTUP_TIME, &#39;MON-DD-RR HH24:MI:SS&#39;)
AS &#34;Inst Start Time&#34; FROM V$INSTANCE;
 
Inst Start Time
------------------
JUN-18-14 <span class="bold">13:16:40</span>
</pre></td>
<td class="cellalignment1223" headers="d64757e1414 d64757e1373">
<p>This query shows the time that the current instance was started. The different start time shows that this instance is different from the one that shut down the database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="CNCPT89037"></a>
<div class="props_rev_3"><a id="GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D"></a>
<h4 id="CNCPT-GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D" class="sect4">Oracle System Identifier (SID)</h4>
<div>
<p>The <span class="bold">system identifier (SID)</span> is a unique name for an Oracle database instance on a specific host.</p>
<p>On UNIX and Linux, Oracle Database uses the SID and <a href="glossary.htm#GUID-5375FC57-08EA-48EB-B5CF-6A41423E94D3"><span class="xrefglossterm">Oracle home</span></a> values to create a key to shared memory. Also, Oracle Database uses the SID by default to locate the initialization parameter file, which locates relevant files such as the database control files.</p>
<p>On most platforms, the <code class="codeph">ORACLE_SID</code> environment variable sets the SID, whereas the <code class="codeph">ORACLE_HOME</code> variable sets the Oracle home. When connecting to an instance, clients can specify the SID in an Oracle Net connection or use a net service name. Oracle Database converts a service name into an <code class="codeph">ORACLE_HOME</code> and <code class="codeph">ORACLE_SID</code>.</p>
<div class="infoboxnotealso" id="GUID-8BB8140D-63ED-454E-AAC3-1964F80D102D__GUID-66882AB1-DC25-4D82-B632-F54D5D8EA2F0">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-C931A159-E1FE-4DB3-A811-510C42516683" title="A service name is a logical representation of a service used for client connections.">Service Names</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN11074" target="_blank" href="../ADMIN/create.htm#ADMIN11074"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to specify an Oracle SID</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="CNCPT955"></a>
<div class="props_rev_3"><a id="GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F"></a>
<h2 id="CNCPT-GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" class="sect2">Overview of Database Instance Startup and Shutdown</h2>
<div>
<p>A <span class="bold">database instance</span> provides user access to a database. The instance and the database can be in various states.</p>
</div>
<a id="CNCPT89038"></a><a id="CNCPT602"></a>
<div class="props_rev_3"><a id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6"></a>
<h3 id="CNCPT-GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6" class="sect3">Overview of Instance and Database Startup</h3>
<div>
<p>Typically, you manually start an instance, and then mount and open the database, making it available for users. You can use the SQL*Plus <code class="codeph">STARTUP</code> command, Oracle Enterprise Manager (Enterprise Manager), or the SRVCTL utility to perform these steps.</p>
<p>To start a database instance using Oracle Net, the following must be true:</p>
<ul style="list-style-type: disc;">
<li>
<p>The database is statically registered with an Oracle Net listener.</p>
</li>
<li>
<p>Your client is connected to the database with the <code class="codeph">SYSDBA</code> privilege.</p>
</li>
</ul>
<p>The listener creates a dedicated server, which can start the database instance.</p>
<p>The following graphic shows the database progressing from a shutdown state to an open state.</p>
<div class="figure" id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6__BABICCFJ">
<p class="titleinfigure">Figure 13-3 Instance and Database Startup Sequence</p>
<img width="434" height="272" src="img/GUID-DC81449B-0792-41C5-92FE-C6FD847CE407-default.gif" alt="Description of Figure 13-3 follows" title="Description of Figure 13-3 follows"/><br/>
<a href="img_text/GUID-DC81449B-0792-41C5-92FE-C6FD847CE407-print.htm">Description of &#34;Figure 13-3 Instance and Database Startup Sequence&#34;</a></div>
<!-- class="figure" -->
<p>A database goes through the following phases when it proceeds from a shutdown state to an open database state:</p>
<ol>
<li>
<p>Instance started without mounting database</p>
<p>The instance is started, but is not yet associated with a database.</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" title="When Oracle Database starts an instance, it proceeds through stages.">How an Instance Is Started</a>&#34;</span> explains this stage.</p>
</li>
<li>
<p>Database mounted</p>
<p>The instance is started and is associated with a database by reading its <a href="glossary.htm#GUID-DF498605-D186-451B-87AA-73DF396AD599"><span class="xrefglossterm">control file</span></a>. The database is closed to users.</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-8180290B-A8B5-493D-91F0-EAE677A6A319" title="The instance mounts a database to associate the database with this instance.">How a Database Is Mounted</a>&#34;</span> explains this stage.</p>
</li>
<li>
<p>Database open</p>
<p>The instance is started and is associated with an open database. The data contained in the data files is accessible to authorized users.</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36" title="Opening a mounted database makes it available for normal database operation.">How a Database Is Opened</a>&#34;</span> explains this stage.</p>
</li>
</ol>
<div class="infoboxnotealso" id="GUID-B3A8DB74-211A-453C-8B73-B61824DC56F6__GUID-E7396332-60E3-43FE-9648-3766FF31A72F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" title="The Oracle Net Listener (the listener) is a server-side process that listens for incoming client connection requests and manages traffic to the database. When a database instance starts, and at various times during its life, the instance contacts a listener and establishes a communication pathway to this instance.">The Oracle Net Listener</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="physical.htm#GUID-90EAC9F2-B396-4C59-9821-B03BF7B6BCD0" title="The database control file is a small binary file associated with only one database. Each database has one unique control file, although multiple identical copies are permitted.">Overview of Control Files</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-BE08A8FA-501A-418E-AD32-3E42AE762026">Oracle Enterprise Manager</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN10063" target="_blank" href="../ADMIN/start.htm#ADMIN10063"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to start an instance</p>
</li>
<li>
<p><a class="olink ADMIN5032" target="_blank" href="../ADMIN/restart.htm#ADMIN5032"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to use SRVCTL</p>
</li>
</ul>
</div>
</div>
<a id="CNCPT1289"></a>
<div class="props_rev_3"><a id="GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F"></a>
<h4 id="CNCPT-GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F" class="sect4">Connection with Administrator Privileges</h4>
<div>
<p>Database startup and shutdown are powerful administrative options that are restricted to users who connect to Oracle Database with administrator privileges.</p>
<p>Normal users do not have control over the current status of an Oracle database. Depending on the operating system, one of the following conditions establishes administrator privileges for a user:</p>
<ul style="list-style-type: disc;">
<li>
<p>The operating system privileges of the user enable him or her to connect using administrator privileges.</p>
</li>
<li>
<p>The user is granted special system privileges, and the database uses password files to authenticate database administrators over the network.</p>
</li>
</ul>
<p>The following special system privileges enable access to a database instance even when the database is not open:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SYSDBA</code></p>
</li>
<li>
<p><code class="codeph">SYSOPER</code></p>
</li>
<li>
<p><code class="codeph">SYSBACKUP</code></p>
</li>
<li>
<p><code class="codeph">SYSDG</code></p>
</li>
<li>
<p><code class="codeph">SYSKM</code></p>
</li>
</ul>
<p>Control of the preceding privileges is outside of the database itself. When you connect to a database with the <code class="codeph">SYSDBA</code> system privilege, you are in the schema owned by <code class="codeph">SYS</code>. When you connect as <code class="codeph">SYSOPER</code>, you are in the public schema. <code class="codeph">SYSOPER</code> privileges are a subset of <code class="codeph">SYSDBA</code> privileges.</p>
<div class="infoboxnotealso" id="GUID-921ADB75-43B0-4F84-BAA5-F90EE649877F__GUID-BED12021-4F75-4E42-960F-6EABD2E88C56">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="tablecls.htm#GUID-97709804-7430-4BD0-AFF4-727B74F6997E" title="All Oracle databases include default administrative accounts. Administrative accounts are highly privileged and are intended only for DBAs authorized to perform tasks such as starting and stopping the database, managing memory and storage, creating and managing database users, and so on.">SYS and SYSTEM Schemas</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cmntopc.htm#GUID-4D6D2B67-1B65-476D-852A-976E9D153EEC" title="In general, database security involves user authentication, encryption, access control, and monitoring.">Overview of Database Security</a>&#34;</span> to learn about password files and authentication for database administrators</p>
</li>
<li>
<p><a class="olink DBSEG577" target="_blank" href="../DBSEG/authorization.htm#DBSEG577"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about managing administrative privileges</p>
</li>
<li>
<p><a class="olink ADMIN11048" target="_blank" href="../ADMIN/dba.htm#ADMIN11048"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn about system privileges</p>
</li>
<li>
<p><a class="olink GINST" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span><cite>Oracle Database Installation Guide</cite></span></a> to learn more about operating system privilege groups</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT1293"></a>
<div class="props_rev_3"><a id="GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304"></a>
<h4 id="CNCPT-GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" class="sect4">How an Instance Is Started</h4>
<div>
<p>When Oracle Database starts an instance, it proceeds through stages.</p>
<p>The stages are as follows:</p>
<ol>
<li>
<p>Searches for a <a href="glossary.htm#GUID-D068D7A7-ECF5-49F2-A055-B6F668E96D0C"><span class="xrefglossterm">server parameter file</span></a> in a platform-specific default location and, if not found, for a text <a href="glossary.htm#GUID-96DC327C-8DBE-4B23-BEA5-9207A5CCD83E"><span class="xrefglossterm">initialization parameter file</span></a> (specifying <code class="codeph">STARTUP</code> with the <code class="codeph">SPFILE</code> or <code class="codeph">PFILE</code> parameters overrides the default behavior)</p>
</li>
<li>
<p>Reads the parameter file to determine the values of initialization parameters</p>
</li>
<li>
<p>Allocates the SGA based on the initialization parameter settings</p>
</li>
<li>
<p>Starts the Oracle background processes</p>
</li>
<li>
<p>Opens the <a href="glossary.htm#GUID-ACC7727F-41AE-47B1-AADB-2585EE828792"><span class="xrefglossterm">alert log</span></a> and trace files and writes all explicit parameter settings to the alert log in valid parameter syntax</p>
</li>
</ol>
<p>At this stage, no database is associated with the instance. Scenarios that require a <code class="codeph">NOMOUNT</code> state include database creation and certain backup and recovery operations.</p>
<div class="infoboxnotealso" id="GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304__GUID-F34C4EC3-4602-4339-B055-D4D31A4E9124">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN00202" target="_blank" href="../ADMIN/create.htm#ADMIN00202"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to manage initialization parameters using a server parameter file</p>
</div>
</div>
</div>
<a id="CNCPT1296"></a>
<div class="props_rev_3"><a id="GUID-8180290B-A8B5-493D-91F0-EAE677A6A319"></a>
<h4 id="CNCPT-GUID-8180290B-A8B5-493D-91F0-EAE677A6A319" class="sect4">How a Database Is Mounted</h4>
<div>
<p>The instance <span class="bold">mounts</span> a database to associate the database with this instance.</p>
<p>To mount the database, the instance obtains the names of the database control files specified in the <code class="codeph">CONTROL_FILES</code> initialization parameter and opens the files. Oracle Database reads the control files to find the names of the data files and the online redo log files that it will attempt to access when opening the database.</p>
<p>In a <a href="glossary.htm#GUID-FEB61320-F0D4-404D-A25B-E9C1D61E066B"><span class="xrefglossterm">mounted database</span></a>, the database is closed and accessible only to database administrators. Administrators can keep the database closed while completing specific maintenance operations. However, the database is not available for normal operations.</p>
<p>If Oracle Database allows multiple instances to mount the same database concurrently, then the <code class="codeph">CLUSTER_DATABASE</code> initialization parameter setting can make the database available to multiple instances. Database behavior depends on the setting:</p>
<ul style="list-style-type: disc;">
<li>
<p>If <code class="codeph">CLUSTER_DATABASE</code> is <code class="codeph">false</code> (default) for the first instance that mounts a database, then only this instance can mount the database.</p>
</li>
<li>
<p>If <code class="codeph">CLUSTER_DATABASE</code> is <code class="codeph">true</code> for the first instance, then other instances can mount the database if their <code class="codeph">CLUSTER_DATABASE</code> parameter settings are set to <code class="codeph">true</code>. The number of instances that can mount the database is subject to a predetermined maximum specified when creating the database.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-8180290B-A8B5-493D-91F0-EAE677A6A319__GUID-F2064D33-AB34-478C-8BA9-C629D2454FD6">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11152" target="_blank" href="../ADMIN/start.htm#ADMIN11152"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to mount a database</p>
</li>
<li>
<p><a class="olink GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E" target="_blank" href="../RACAD/GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E.htm#GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for more information about the use of multiple instances with a single database</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT1300"></a>
<div class="props_rev_3"><a id="GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36"></a>
<h4 id="CNCPT-GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36" class="sect4">How a Database Is Opened</h4>
<div>
<p>Opening a mounted database makes it available for normal database operation.</p>
<p>Any valid user can connect to an open database and access its information. Usually, a database administrator opens the database to make it available for general use.</p>
<p>When you open the database, Oracle Database performs the following actions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Opens the online data files in tablespaces other than undo tablespaces</p>
<p>If a tablespace was offline when the database was previously shut down, then the tablespace and its corresponding data files will be offline when the database reopens.</p>
</li>
<li>
<p>Acquires an undo tablespace</p>
<p>If multiple undo tablespaces exists, then the <code class="codeph">UNDO_TABLESPACE</code> initialization parameter designates the undo tablespace to use. If this parameter is not set, then the first available undo tablespace is chosen.</p>
</li>
<li>
<p>Opens the online redo log files</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-46EC6A61-6065-4CE8-BBDA-5A969FE54D36__GUID-2459C724-50F5-4F22-889D-12EC6FC5E095">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="logical.htm#GUID-DBE61726-0DE6-4A85-A49B-9F5587234A87" title="A tablespace can be online (accessible) or offline (not accessible) whenever the database is open.">Online and Offline Tablespaces</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-BCE6455B-0E49-4835-B9AB-2BC70F673F88" title="While several problems can halt the normal operation of a database or affect I/O operations, only some problems require DBA intervention and data repair.">Data Repair</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="CNCPT1306"></a>
<div class="props_rev_3"><a id="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934"></a>
<h5 id="CNCPT-GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934" class="sect5">Read-Only Mode</h5>
<div>
<p>By default, the database opens in <span class="bold">read/write mode</span>. In this mode, users can make changes to the data, generating redo in the online redo log. Alternatively, you can open in <span class="bold">read-only mode</span> to prevent data modification by user transactions.</p>
<div class="infobox-note" id="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934__GUID-5B391503-580A-4395-830E-383ED75B88C8">
<p class="notep1">Note:</p>
<p>By default, a physical <a href="glossary.htm#GUID-728D4956-0F56-4D39-A63A-2E3FF5CCEDE4"><span class="xrefglossterm">standby database</span></a> opens in read-only mode.</p>
</div>
<p>Read-only mode restricts database access to read-only transactions, which cannot write to data files or to online redo log files. However, the database can perform recovery or operations that change the database state without generating redo. For example, in read-only mode:</p>
<ul style="list-style-type: disc;">
<li>
<p>Data files can be taken offline and online. However, you cannot take permanent tablespaces offline.</p>
</li>
<li>
<p>Offline data files and tablespaces can be recovered.</p>
</li>
<li>
<p>The control file remains available for updates about the state of the database.</p>
</li>
<li>
<p>Temporary tablespaces created with the <code class="codeph">CREATE TEMPORARY TABLESPACE</code> statement are read/write.</p>
</li>
<li>
<p>Writes to operating system audit trails, trace files, and alert logs can continue.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-D42BA45D-5213-4454-A7E5-CEEA2ED6D934__GUID-EEE8934A-94F4-46C5-AFC9-C5C47D5D734E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11154" target="_blank" href="../ADMIN/start.htm#ADMIN11154"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to open a database in read-only mode</p>
</li>
<li>
<p><a class="olink SBYDB00706" target="_blank" href="../SBYDB/manage_ps.htm#SBYDB00706"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89039"></a>
<div class="props_rev_3"><a id="GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF"></a>
<h5 id="CNCPT-GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF" class="sect5">Database File Checks</h5>
<div>
<p>If any of the data files or redo log files are not present when the instance attempts to open the database, or if the files are present but fail consistency tests, then the database returns an error. Media recovery may be required.</p>
<div class="infoboxnotealso" id="GUID-650763F3-A9E0-4E3E-9BCE-245D9E09DADF__GUID-18C48A2C-B56A-4BC5-9504-4BEFE967D11A">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-DCE361D9-B486-43B4-B4FD-5722A93203F0" title="Backup and recovery is the set of concepts, procedures, and strategies involved in protecting the database against data loss caused by media failure or users errors. In general, the purpose of a backup and recovery strategy is to protect the database against data loss and reconstruct lost data.">Backup and Recovery</a>&#34;</span></p>
</div>
</div>
</div>
</div>
</div>
<a id="CNCPT89040"></a><a id="CNCPT603"></a>
<div class="props_rev_3"><a id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812"></a>
<h3 id="CNCPT-GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812" class="sect3">Overview of Database and Instance Shutdown</h3>
<div>
<p>In a typical use case, you manually shut down the database, making it unavailable for users while you perform maintenance or other administrative tasks. You can use the SQL*Plus <code class="codeph">SHUTDOWN</code> command or Enterprise Manager to perform these steps.</p>
<p>The following figure shows the progression from an open state to a consistent shutdown.</p>
<div class="figure" id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812__BABHIDBH">
<p class="titleinfigure">Figure 13-4 Instance and Database Shutdown Sequence</p>
<img width="435" height="273" src="img/GUID-07236D52-DE3B-404F-B63C-9354BB126961-default.gif" alt="Description of Figure 13-4 follows" title="Description of Figure 13-4 follows"/><br/>
<a href="img_text/GUID-07236D52-DE3B-404F-B63C-9354BB126961-print.htm">Description of &#34;Figure 13-4 Instance and Database Shutdown Sequence&#34;</a></div>
<!-- class="figure" -->
<p>Oracle Database automatically performs the following steps whenever an open database is shut down consistently:</p>
<ol>
<li>
<p>Database closed</p>
<p>The database is mounted, but online data files and redo log files are closed.</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A" title="The database close operation is implicit in a database shutdown. The nature of the operation depends on whether the database shutdown is normal or abnormal.">How a Database Is Closed</a>&#34;</span> explains this stage.</p>
</li>
<li>
<p>Database unmounted</p>
<p>The instance is started, but is no longer associated with the control file of the database.</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF" title="After the database is closed, Oracle Database unmounts the database to disassociate it from the instance.">How a Database Is Unmounted</a>&#34;</span> explains this stage.</p>
</li>
<li>
<p>Database instance shut down</p>
<p>The database instance is no longer started.</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5" title="The final step in database shutdown is shutting down the instance. When the database instance shuts down, the SGA ceases to occupy memory, and the background processes terminate.">How an Instance Is Shut Down</a>&#34;</span> explains this stage.</p>
</li>
</ol>
<p>Oracle Database does not go through all of the preceding steps in an instance failure or <code class="codeph">SHUTDOWN ABORT</code>, which immediately terminates the instance.</p>
<div class="infoboxnotealso" id="GUID-ADFF9AAC-EDA9-4F3C-8AD7-156BB620E812__GUID-CE4F12CF-2B00-4D57-8D93-B3F720F7DB00">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN11156" target="_blank" href="../ADMIN/start.htm#ADMIN11156"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to shut down a database</p>
</div>
</div>
<a id="CNCPT89042"></a><a id="CNCPT89041"></a>
<div class="props_rev_3"><a id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803"></a>
<h4 id="CNCPT-GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803" class="sect4">Shutdown Modes</h4>
<div>
<p>A database administrator with <code class="codeph">SYSDBA</code> or <code class="codeph">SYSOPER</code> privileges can shut down the database using the SQL*Plus <code class="codeph">SHUTDOWN</code> command or Enterprise Manager. The <code class="codeph">SHUTDOWN</code> command has options that determine shutdown behavior.</p>
<p>The following table summarizes the behavior of the different shutdown modes.</p>
<div class="tblformal" id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803__DATABASEBEHAVIORABORTIMMEDIATETRANS-1BF3E109">
<p class="titleintable">Table 13-2 Database Shutdown Modes</p>
<table class="cellalignment1206" title="Database Shutdown Modes" summary="This table summarizes the behavior of the ABORT, IMMEDIATE, TRANSACTIONAL, and NORMAL shutdown modes.">
<thead>
<tr class="cellalignment1197">
<th class="cellalignment1222" id="d64757e4656">Database Behavior</th>
<th class="cellalignment1222" id="d64757e4659">ABORT</th>
<th class="cellalignment1222" id="d64757e4662">IMMEDIATE</th>
<th class="cellalignment1222" id="d64757e4665">TRANSACTIONAL</th>
<th class="cellalignment1222" id="d64757e4668">NORMAL</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e4673" headers="d64757e4656">
<p>Permits new user connections</p>
</td>
<td class="cellalignment1223" headers="d64757e4673 d64757e4659">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4673 d64757e4662">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4673 d64757e4665">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4673 d64757e4668">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e4689" headers="d64757e4656">
<p>Waits until current sessions end</p>
</td>
<td class="cellalignment1223" headers="d64757e4689 d64757e4659">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4689 d64757e4662">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4689 d64757e4665">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4689 d64757e4668">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e4705" headers="d64757e4656">
<p>Waits until current transactions end</p>
</td>
<td class="cellalignment1223" headers="d64757e4705 d64757e4659">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4705 d64757e4662">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4705 d64757e4665">
<p>Yes</p>
</td>
<td class="cellalignment1223" headers="d64757e4705 d64757e4668">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e4721" headers="d64757e4656">
<p>Performs a <a href="glossary.htm#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">checkpoint</span></a> and closes open files</p>
</td>
<td class="cellalignment1223" headers="d64757e4721 d64757e4659">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e4721 d64757e4662">
<p>Yes</p>
</td>
<td class="cellalignment1223" headers="d64757e4721 d64757e4665">
<p>Yes</p>
</td>
<td class="cellalignment1223" headers="d64757e4721 d64757e4668">
<p>Yes</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The possible <code class="codeph">SHUTDOWN</code> statements are:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SHUTDOWN ABORT</code></p>
<p>This mode is intended for emergency situations, such as when no other form of shutdown is successful. This mode of shutdown is the fastest. However, a subsequent open of this database may take substantially longer because instance recovery must be performed to make the data files consistent.</p>
<p>Because <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> does not checkpoint the open data files, instance recovery is necessary before the database can reopen. The other shutdown modes do not require instance recovery before the database can reopen.</p>
<div class="infobox-note" id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803__GUID-F7320FC6-0B56-4A15-8D8E-2FDE94ABA271">
<p class="notep1">Note:</p>
<p>In a CDB, issuing <code class="codeph">SHUTDOWN ABORT</code> on a PDB is equivalent to issuing <code class="codeph">SHUTDOWN IMMEDIATE</code> on a non-CDB.</p>
</div>
</li>
<li>
<p><code class="codeph">SHUTDOWN IMMEDIATE</code></p>
<p>This mode is typically the fastest next to <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code>. Oracle Database terminates any executing SQL statements and disconnects users. Active transactions are terminated and uncommitted changes are rolled back.</p>
</li>
<li>
<p><code class="codeph">SHUTDOWN TRANSACTIONAL</code></p>
<p>This mode prevents users from starting new transactions, but waits for all current transactions to complete before shutting down. This mode can take a significant amount of time depending on the nature of the current transactions.</p>
</li>
<li>
<p><code class="codeph">SHUTDOWN NORMAL</code></p>
<p>This is the default mode of shutdown. The database waits for all connected users to disconnect before shutting down.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-CD115A39-2FAE-4B94-BB3E-59818AD42803__GUID-7D19C28F-5E02-4870-9E51-01C98E642208">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11156" target="_blank" href="../ADMIN/start.htm#ADMIN11156"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn about the different shutdown modes</p>
</li>
<li>
<p><a class="olink SQPUG124" target="_blank" href="../SQPUG/ch_twelve041.htm#SQPUG124"><span><cite>SQL*Plus User&#39;s Guide and Reference</cite></span></a> to learn about the <code class="codeph">SHUTDOWN</code> command</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT1307"></a>
<div class="props_rev_3"><a id="GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A"></a>
<h4 id="CNCPT-GUID-B4C89F06-EED1-448C-AA14-41DF2BD07B3A" class="sect4">How a Database Is Closed</h4>
<div>
<p>The database close operation is implicit in a database shutdown. The nature of the operation depends on whether the database shutdown is normal or abnormal.</p>
</div>
<a id="CNCPT1391"></a>
<div class="props_rev_3"><a id="GUID-5C5DF42E-49FC-4F3F-8622-EBA7ABA2610B"></a>
<h5 id="CNCPT-GUID-5C5DF42E-49FC-4F3F-8622-EBA7ABA2610B" class="sect5">How a Database Is Closed During Normal Shutdown</h5>
<div>
<p>When a database is closed as part of a <code class="codeph">SHUTDOWN</code> with any option other than <code class="codeph">ABORT</code>, Oracle Database writes data in the SGA to the data files and online redo log files.</p>
<p>Afterward, the database closes online data files and online redo log files. Any offline data files of offline tablespaces have been closed already. When the database reopens, any tablespace that was offline remains offline.</p>
<p>At this stage, the database is closed and inaccessible for normal operations. The control files remain open after a database is closed.</p>
</div>
</div>
<a id="CNCPT1392"></a>
<div class="props_rev_3"><a id="GUID-E78B28B6-79D2-4C14-A157-5CDBF75FAB25"></a>
<h5 id="CNCPT-GUID-E78B28B6-79D2-4C14-A157-5CDBF75FAB25" class="sect5">How a Database Is Closed During Abnormal Shutdown</h5>
<div>
<p>If a <code class="codeph">SHUTDOWN ABORT</code> or abnormal termination occurs, then the instance of an open database closes and shuts down the database instantaneously.</p>
<p>In an abnormal shutdown, Oracle Database does not write data in the buffers of the SGA to the data files and redo log files. The subsequent reopening of the database requires instance recovery, which Oracle Database performs automatically.</p>
</div>
</div>
</div>
<a id="CNCPT1309"></a>
<div class="props_rev_3"><a id="GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF"></a>
<h4 id="CNCPT-GUID-949F8140-35AD-4BF8-AFA8-AD1F525D4CAF" class="sect4">How a Database Is Unmounted</h4>
<div>
<p>After the database is closed, Oracle Database unmounts the database to disassociate it from the instance.</p>
<p>After a database is unmounted, Oracle Database closes the control files of the database. At this point, the database instance remains in memory.</p>
</div>
</div>
<a id="CNCPT1310"></a>
<div class="props_rev_3"><a id="GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5"></a>
<h4 id="CNCPT-GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5" class="sect4">How an Instance Is Shut Down</h4>
<div>
<p>The final step in database shutdown is shutting down the instance. When the database instance shuts down, the SGA ceases to occupy memory, and the background processes terminate.</p>
<p>In unusual circumstances, shutdown of an instance may not occur cleanly. Memory structures may not be removed from memory or one of the background processes may not be terminated. When remnants of a previous instance exist, a subsequent instance startup may fail. In such situations, you can force the new instance to start by removing the remnants of the previous instance and then starting a new instance, or by issuing a <code class="codeph">SHUTDOWN ABORT</code> statement in SQL*Plus or using Enterprise Manager.</p>
<div class="infoboxnotealso" id="GUID-425B8CA6-73A1-47A0-972C-2D0802A57DE5__GUID-C890C998-2B8C-4B0A-9297-B0B19193BC41">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN11156" target="_blank" href="../ADMIN/start.htm#ADMIN11156"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> for more detailed information about database shutdown</p>
</div>
</div>
</div>
</div>
</div>
<a id="CNCPT89043"></a>
<div class="props_rev_3"><a id="GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4"></a>
<h2 id="CNCPT-GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" class="sect2">Overview of Checkpoints</h2>
<div>
<p>A <span class="bold">checkpoint</span> is a crucial mechanism in consistent database shutdowns, instance recovery, and Oracle Database operation generally.</p>
<p>The term has the following related meanings:</p>
<ul style="list-style-type: disc;">
<li>
<p>A data structure that indicates the <span class="bold">checkpoint position</span>, which is the <a href="glossary.htm#GUID-4B14A746-A8B3-4123-A02A-3FC1C293042C"><span class="xrefglossterm">SCN</span></a> in the redo stream where instance recovery must begin</p>
<p>The checkpoint position is determined by the oldest dirty buffer in the database buffer cache. The checkpoint position acts as a pointer to the redo stream and is stored in the control file and in each data file header.</p>
</li>
<li>
<p>The writing of modified database buffers in the <a href="glossary.htm#GUID-7913177D-8183-4CC5-8F59-816FE66DA363"><span class="xrefglossterm">database buffer cache</span></a> to disk</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4__GUID-48C4566A-75E3-4999-B1F1-BD13D74AD255">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="transact.htm#GUID-A2615547-94D2-4346-B156-64C534C5E9E4">System Change Numbers (SCNs)</a>&#34;</span></p>
</div>
</div>
<a id="CNCPT89044"></a>
<div class="props_rev_3"><a id="GUID-4EC2658A-9519-4188-90C6-AA79F14D85D2"></a>
<h3 id="CNCPT-GUID-4EC2658A-9519-4188-90C6-AA79F14D85D2" class="sect3">Purpose of Checkpoints</h3>
<div>
<p>Oracle Database uses checkpoints to achieve multiple goals.</p>
<p>Goals include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Reduce the time required for recovery in case of an instance or media failure</p>
</li>
<li>
<p>Ensure that the database regularly writes dirty buffers in the buffer cache to disk</p>
</li>
<li>
<p>Ensure that the database writes all committed data to disk during a consistent shutdown</p>
</li>
</ul>
</div>
</div>
<a id="CNCPT89045"></a>
<div class="props_rev_3"><a id="GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9"></a>
<h3 id="CNCPT-GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9" class="sect3">When Oracle Database Initiates Checkpoints</h3>
<div>
<p>The <span class="bold">checkpoint process (CKPT)</span> is responsible for writing checkpoints to the data file headers and control file.</p>
<p>Checkpoints occur in a variety of situations. For example, Oracle Database uses the following types of checkpoints:</p>
<ul style="list-style-type: disc;">
<li>
<p>Thread checkpoints</p>
<p>The database writes to disk all buffers modified by redo in a specific thread before a certain target. The set of thread checkpoints on all instances in a database is a <span class="bold">database checkpoint</span>. Thread checkpoints occur in the following situations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Consistent database shutdown</p>
</li>
<li>
<p><code class="codeph">ALTER SYSTEM CHECKPOINT</code> statement</p>
</li>
<li>
<p>Online redo log switch</p>
</li>
<li>
<p><code class="codeph">ALTER DATABASE BEGIN BACKUP</code> statement</p>
</li>
</ul>
</li>
<li>
<p>Tablespace and data file checkpoints</p>
<p>The database writes to disk all buffers modified by redo before a specific target. A tablespace checkpoint is a set of data file checkpoints, one for each data file in the tablespace. These checkpoints occur in a variety of situations, including making a tablespace read-only or taking it offline normal, shrinking a data file, or executing <code class="codeph">ALTER TABLESPACE BEGIN BACKUP</code>.</p>
</li>
<li>
<p>Incremental checkpoints</p>
<p>An incremental checkpoint is a type of thread checkpoint partly intended to avoid writing large numbers of blocks at online redo log switches. DBW checks at least every three seconds to determine whether it has work to do. When DBW writes dirty buffers, it advances the checkpoint position, causing CKPT to write the checkpoint position to the control file, but not to the data file headers.</p>
</li>
</ul>
<p>Other types of checkpoints include instance and media recovery checkpoints and checkpoints when schema objects are dropped or truncated.</p>
<div class="infoboxnotealso" id="GUID-A3FAC5B6-928C-474C-9D4C-E5C5B27544E9__GUID-B9A9EF30-43D9-4FE9-BE67-5F47EDE1DE53">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="process.htm#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" title="The checkpoint process (CKPT) updates the control file and data file headers with checkpoint information and signals DBW to write blocks to disk. Checkpoint information includes the checkpoint position, SCN, and location in online redo log to begin recovery.">Checkpoint Process (CKPT)</a>&#34;</span></p>
</li>
<li>
<p><a class="olink RACAD039" target="_blank" href="../RACAD/GUID-8BAC72B2-20AA-49FC-B3DD-F5FC647C3E5E.htm#RACAD039"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about global checkpoints in Oracle RAC</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT1301"></a>
<div class="props_rev_3"><a id="GUID-728C6BE1-5687-4DC5-B570-D2042C88F935"></a>
<h2 id="CNCPT-GUID-728C6BE1-5687-4DC5-B570-D2042C88F935" class="sect2">Overview of Instance Recovery</h2>
<div>
<p><span class="bold">Instance recovery</span> is the process of applying records in the online redo log to data files to reconstruct changes made after the most recent checkpoint.</p>
<p>Instance recovery occurs automatically when an administrator attempts to open a database that was previously shut down inconsistently.</p>
</div>
<a id="CNCPT89046"></a>
<div class="props_rev_3"><a id="GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452"></a>
<h3 id="CNCPT-GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452" class="sect3">Purpose of Instance Recovery</h3>
<div>
<p>Instance recovery ensures that the database is in a consistent state after an instance failure. The files of a database can be left in an inconsistent state because of how Oracle Database manages database changes.</p>
<p>A <a href="glossary.htm#GUID-68F9BFC2-703C-48FF-BE8C-236FE3BC8977"><span class="xrefglossterm">redo thread</span></a> is a record of all of the changes generated by an instance. A single-instance database has one thread of redo, whereas an Oracle RAC database has multiple redo threads, one for each database instance.</p>
<p>When a <a href="glossary.htm#GUID-212D8EA1-D704-4D7B-A72D-72001965CE45"><span class="xrefglossterm">transaction</span></a> is committed, <a href="glossary.htm#GUID-E96BC851-0B78-4250-8EAB-26EBDF4FE5A6"><span class="xrefglossterm">log writer process (LGWR)</span></a> writes both the remaining redo entries in memory and the transaction SCN to the <a href="glossary.htm#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">online redo log</span></a>. However, the <a href="glossary.htm#GUID-C27AAA54-E60B-49BC-AB04-7B3848EBAFD6"><span class="xrefglossterm">database writer (DBW)</span></a> process writes modified data blocks to the data files whenever it is most efficient. For this reason, uncommitted changes may temporarily exist in the data files while committed changes do not yet exist in the data files.</p>
<p>If an instance of an open database fails, either because of a <code class="codeph">SHUTDOWN ABORT</code> statement or abnormal termination, then the following situations can result:</p>
<ul style="list-style-type: disc;">
<li>
<p>Data blocks committed by a transaction are not written to the data files and appear only in the <a href="glossary.htm#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">online redo log</span></a>. These changes must be reapplied to the data files.</p>
</li>
<li>
<p>The data files contains changes that had not been committed when the instance failed. These changes must be rolled back to ensure transactional consistency.</p>
</li>
</ul>
<p>Instance recovery uses only online redo log files and current online data files to synchronize the data files and ensure that they are consistent.</p>
<div class="infoboxnotealso" id="GUID-43485736-3663-4E5C-AD1B-2FA6C9A98452__GUID-B33F5A95-2562-49DF-8829-079F6A8BA5E7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="process.htm#GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" title="The database writer process (DBW) writes the contents of database buffers to data files. DBW processes write modified buffers in the database buffer cache to disk.">Database Writer Process (DBW)</a>&#34;</span> and <span class="q">&#34;<a href="memory.htm#GUID-4FF66585-E469-4631-9225-29D75594CD14" title="The database buffer cache, also called the buffer cache, is the memory area that stores copies of data blocks read from data files.">Database Buffer Cache</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="consist.htm#GUID-7AD41DFA-04E5-4738-B744-C4407170411C" title="In a single-user database, a user can modify data without concern for other users modifying the same data at the same time. However, in a multiuser database, statements within multiple simultaneous transactions may update the same data. Transactions executing simultaneously must produce meaningful and consistent results.">Introduction to Data Concurrency and Consistency</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89047"></a>
<div class="props_rev_3"><a id="GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E"></a>
<h3 id="CNCPT-GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E" class="sect3">When Oracle Database Performs Instance Recovery</h3>
<div>
<p>Whether instance recovery is required depends on the state of the redo threads.</p>
<p>A redo thread is marked open in the control file when a database instance opens in read/write mode, and is marked closed when the instance is shut down consistently. If redo threads are marked open in the control file, but no live instances hold the thread enqueues corresponding to these threads, then the database requires instance recovery.</p>
<p>Oracle Database performs instance recovery automatically in the following situations:</p>
<ul style="list-style-type: disc;">
<li>
<p>The database opens for the first time after the failure of a single-instance database or all instances of an Oracle RAC database. This form of instance recovery is also called <span class="bold">crash recovery</span>. Oracle Database recovers the online redo threads of the terminated instances together.</p>
</li>
<li>
<p>Some but not all instances of an Oracle RAC database fail. Instance recovery is performed automatically by a surviving instance in the configuration.</p>
</li>
</ul>
<p>The SMON background process performs instance recovery, applying online redo automatically. No user intervention is required.</p>
<div class="infoboxnotealso" id="GUID-6F20EBD4-CD7A-41BA-823B-BB3B25C7C99E__GUID-A55490FB-C30D-4010-A242-45275942D9C6">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="process.htm#GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" title="The system monitor process (SMON) is in charge of a variety of system-level cleanup duties.">System Monitor Process (SMON)</a>&#34;</span></p>
</li>
<li>
<p><a class="olink RACAD063" target="_blank" href="../RACAD/GUID-0AAFAEC9-2FDB-47D3-83E8-B70BA460F13E.htm#RACAD063"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> to learn about instance recovery in an Oracle RAC database</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89049"></a><a id="CNCPT89048"></a>
<div class="props_rev_3"><a id="GUID-19F515DA-AA77-4138-853B-1C41A759D76E"></a>
<h3 id="CNCPT-GUID-19F515DA-AA77-4138-853B-1C41A759D76E" class="sect3">Importance of Checkpoints for Instance Recovery</h3>
<div>
<p>Instance recovery uses checkpoints to determine which changes must be applied to the data files. The checkpoint position guarantees that every committed change with an SCN <span class="italic">lower than</span> the checkpoint SCN is saved to the data files.</p>
<p>The following figure depicts the redo thread in the online redo log.</p>
<div class="figure" id="GUID-19F515DA-AA77-4138-853B-1C41A759D76E__BABFHDCH">
<p class="titleinfigure">Figure 13-5 Checkpoint Position in Online Redo Log</p>
<img width="501" height="258" src="img/GUID-B6F701D8-242D-4333-9622-5F02794571D7-default.gif" alt="Description of Figure 13-5 follows" title="Description of Figure 13-5 follows"/><br/>
<a href="img_text/GUID-B6F701D8-242D-4333-9622-5F02794571D7-print.htm">Description of &#34;Figure 13-5 Checkpoint Position in Online Redo Log&#34;</a></div>
<!-- class="figure" -->
<p>During instance recovery, the database must apply the changes that occur between the checkpoint position and the end of the redo thread. As shown in <a href="startup.htm#GUID-19F515DA-AA77-4138-853B-1C41A759D76E__BABFHDCH">Figure 13-5</a>, some changes may already have been written to the data files. However, only changes with SCNs lower than the checkpoint position are <span class="italic">guaranteed</span> to be on disk.</p>
<div class="infoboxnotealso" id="GUID-19F515DA-AA77-4138-853B-1C41A759D76E__GUID-ECB531A3-AB4B-43A5-967A-985793D2F079">
<p class="notep1">See Also:</p>
<p><a class="olink GUID-E281EB31-5762-4945-9497-BBB923A6FF50" target="_blank" href="../TGDBA/pfgrf_instance_tune.htm#GUID-E281EB31-5762-4945-9497-BBB923A6FF50"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn how to limit instance recovery time</p>
</div>
</div>
</div>
<a id="CNCPT89051"></a><a id="CNCPT89050"></a>
<div class="props_rev_3"><a id="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E"></a>
<h3 id="CNCPT-GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E" class="sect3">Instance Recovery Phases</h3>
<div>
<p>The first phase of instance recovery is called <span class="bold">cache recovery</span> or <span class="bold">rolling forward</span>, and reapplies all changes recorded in the online redo log to the data files. Because the online redo log contains undo data, rolling forward also regenerates the corresponding undo segments.</p>
<p>Rolling forward proceeds through as many online redo log files as necessary to bring the database forward in time. After rolling forward, the data blocks contain all committed changes recorded in the online redo log files. These files could also contain uncommitted changes that were either saved to the data files before the failure, or were recorded in the online redo log and introduced during cache recovery.</p>
<p>After the roll forward, any changes that were not committed must be undone. Oracle Database uses the checkpoint position, which guarantees that every committed change with an SCN lower than the checkpoint SCN is saved on disk. Oracle Database applies undo blocks to roll back uncommitted changes in data blocks that were written before the failure or introduced during cache recovery. This phase is called <span class="bold">rolling back</span> or <a href="glossary.htm#GUID-C71AA6BE-1272-4B2C-BEDD-1A1F5720046E"><span class="xrefglossterm">transaction recovery</span></a>.</p>
<p>The following figure illustrates rolling forward and rolling back, the two steps necessary to recover from database instance failure.</p>
<div class="figure" id="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E__BABBBFFG">
<p class="titleinfigure">Figure 13-6 Basic Instance Recovery Steps: Rolling Forward and Rolling Back</p>
<img width="657" height="390" src="img/GUID-0A590969-7FC3-4621-92A0-90E925198C8B-default.gif" alt="Description of Figure 13-6 follows" title="Description of Figure 13-6 follows"/><br/>
<a href="img_text/GUID-0A590969-7FC3-4621-92A0-90E925198C8B-print.htm">Description of &#34;Figure 13-6 Basic Instance Recovery Steps: Rolling Forward and Rolling Back&#34;</a></div>
<!-- class="figure" -->
<p>Oracle Database can roll back multiple transactions simultaneously as needed. All transactions that were active at the time of failure are marked as terminated. Instead of waiting for the SMON process to roll back terminated transactions, new transactions can roll back individual blocks themselves to obtain the required data.</p>
<div class="infoboxnotealso" id="GUID-EC07F1A7-EAB6-4B56-8065-CDDEA6969D1E__GUID-0CC37987-D7A1-4D41-8FCC-A8D89B39D50D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="logical.htm#GUID-6E206D3A-E0E7-4B23-9C41-516FB35BC3FE" title="Oracle Database maintains records of the actions of transactions, collectively known as undo data.">Undo Segments</a>&#34;</span> to learn more about undo data</p>
</li>
<li>
<p><a class="olink GUID-75455F43-DE5E-456C-BBC7-A28A782EE9D9" target="_blank" href="../TGDBA/pfgrf_instance_tune.htm#GUID-75455F43-DE5E-456C-BBC7-A28A782EE9D9"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for a discussion of instance recovery mechanics and tuning</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT1290"></a>
<div class="props_rev_3"><a id="GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790"></a>
<h2 id="CNCPT-GUID-BB6ADD85-55FD-42C4-A847-80F0BACDE790" class="sect2">Overview of Parameter Files</h2>
<div>
<p>To start a database instance, Oracle Database must read either a <span class="bold">server parameter file</span>, which is recommended, or a <span class="bold">text initialization parameter file</span>, which is a legacy implementation. These files contain a list of configuration parameters.</p>
<p>To create a database manually, you must start an instance with a parameter file and then issue a <code class="codeph">CREATE DATABASE</code> statement. Thus, the instance and parameter file can exist even when the database itself does not exist.</p>
</div>
<a id="CNCPT89052"></a>
<div class="props_rev_3"><a id="GUID-901E7F62-4D36-4478-879E-8D9A9C6DE5E7"></a>
<h3 id="CNCPT-GUID-901E7F62-4D36-4478-879E-8D9A9C6DE5E7" class="sect3">Initialization Parameters</h3>
<div>
<p><span class="bold">Initialization parameters</span> are configuration parameters that affect the basic operation of an instance. The instance reads initialization parameters from a file at startup.</p>
<p>Oracle Database provides many initialization parameters to optimize its operation in diverse environments. Only a few of these parameters must be explicitly set because the default values are usually adequate.</p>
</div>
<a id="CNCPT89053"></a>
<div class="props_rev_3"><a id="GUID-269000AB-F115-4137-BF40-64CFE029D747"></a>
<h4 id="CNCPT-GUID-269000AB-F115-4137-BF40-64CFE029D747" class="sect4">Functional Groups of Initialization Parameters</h4>
<div>
<p>Initialization parameters fall into different functional groups.</p>
<p>Most initialization parameters belong to one of the following groups:</p>
<ul style="list-style-type: disc;">
<li>
<p>Parameters that name entities such as files or directories</p>
</li>
<li>
<p>Parameters that set limits for a process, database resource, or the database itself</p>
</li>
<li>
<p>Parameters that affect capacity, such as the size of the SGA (these parameters are called <span class="bold">variable parameters</span>)</p>
</li>
</ul>
<p>Variable parameters are of particular interest to database administrators because they can use these parameters to improve database performance.</p>
</div>
</div>
<a id="CNCPT89054"></a>
<div class="props_rev_3"><a id="GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268"></a>
<h4 id="CNCPT-GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268" class="sect4">Basic and Advanced Initialization Parameters</h4>
<div>
<p>Initialization parameters are divided into two groups: basic and advanced.</p>
<p>Typically, you must set and tune only the approximately 30 basic parameters to obtain reasonable performance. The basic parameters set characteristics such as the database name, locations of the control files, database block size, and undo tablespace.</p>
<p>In rare situations, modification to the advanced parameters may be required for optimal performance. The advanced parameters enable expert DBAs to adapt the behavior of the Oracle Database to meet unique requirements.</p>
<p>Oracle Database provides values in the starter initialization parameter file provided with your database software, or as created for you by the Database Configuration Assistant. You can edit these Oracle-supplied initialization parameters and add others, depending on your configuration and how you plan to tune the database. For relevant initialization parameters not included in the parameter file, Oracle Database supplies defaults.</p>
<div class="infoboxnotealso" id="GUID-99ACD9FE-74A0-4AC3-BD5E-C7EE76C33268__GUID-AB3442A0-995D-4A5B-80CF-AF7B39311774">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-87ACF317-FEBC-418C-9BE6-253F2C43F482" title="Oracle provides several tools to simplify the task of installing and configuring Oracle Database software.">Tools for Database Installation and Configuration</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN12541" target="_blank" href="../ADMIN/create.htm#ADMIN12541"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to specify initialization parameters</p>
</li>
<li>
<p><a class="olink REFRN001" target="_blank" href="../REFRN/GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9.htm#REFRN001"><span><cite>Oracle Database Reference</cite></span></a> for an explanation of the types of initialization parameters</p>
</li>
<li>
<p><a class="olink REFRN30176" target="_blank" href="../REFRN/GUID-C86F3AB0-1191-447F-8EDF-4727D8693754.htm#REFRN30176"><span><cite>Oracle Database Reference</cite></span></a> for a description of <code class="codeph">V$PARAMETER</code> and <a class="olink SQPUG123" target="_blank" href="../SQPUG/ch_twelve040.htm#SQPUG123"><span><cite>SQL*Plus User&#39;s Guide and Reference</cite></span></a> for <code class="codeph">SHOW PARAMETER</code> syntax</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT89055"></a>
<div class="props_rev_3"><a id="GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8"></a>
<h3 id="CNCPT-GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8" class="sect3">Server Parameter Files</h3>
<div>
<p>A <span class="bold">server parameter file</span> is a repository for initialization parameters. A server parameter file has the following key characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>Only Oracle Database reads and writes to the server parameter file.</p>
</li>
<li>
<p>Only one server parameter file exists for a database. This file must reside on the database host.</p>
</li>
<li>
<p>The server parameter file is binary and cannot be modified by a text editor.</p>
</li>
<li>
<p>Initialization parameters stored in the server parameter file are persistent. Any changes made to the parameters while a database instance is running can persist across instance shutdown and startup.</p>
</li>
</ul>
<p>A server parameter file eliminates the need to maintain multiple text initialization parameter files for client applications. A server parameter file is initially built from a text initialization parameter file using the <code class="codeph">CREATE SPFILE</code> statement. It can also be created directly by the Database Configuration Assistant.</p>
<div class="infoboxnotealso" id="GUID-8A6C47D3-0A17-40B7-992D-798A28BF3AF8__GUID-B4F4B1C6-9EFF-4569-90A4-AC3143A5C7D1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11115" target="_blank" href="../ADMIN/create.htm#ADMIN11115"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a> to learn more about server parameter files</p>
</li>
<li>
<p><a class="olink SQLRF01315" target="_blank" href="../SQLRF/statements_6018.htm#SQLRF01315"><span class="italic">Oracle Database SQL Language Reference</span></a> to learn about <code class="codeph">CREATE SPFILE</code></p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89057"></a><a id="CNCPT89056"></a>
<div class="props_rev_3"><a id="GUID-2F760754-174C-4A30-800C-8A147561B64C"></a>
<h3 id="CNCPT-GUID-2F760754-174C-4A30-800C-8A147561B64C" class="sect3">Text Initialization Parameter Files</h3>
<div>
<p>A <span class="bold">text initialization parameter file</span> is a text file that contains a list of initialization parameters.</p>
<p>This type of parameter file, which is a legacy implementation of the parameter file, has the following key characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>When starting up or shutting down a database, the text initialization parameter file must reside on the same host as the client application that connects to the database.</p>
</li>
<li>
<p>A text initialization parameter file is text-based, not binary.</p>
</li>
<li>
<p>Oracle Database can read but not write to the text initialization parameter file. To change the parameter values you must manually alter the file with a text editor.</p>
</li>
<li>
<p>Changes to initialization parameter values by <code class="codeph">ALTER SYSTEM</code> are only in effect for the current instance. You must manually update the text initialization parameter file and restart the instance for the changes to be known.</p>
</li>
</ul>
<p>The text initialization parameter file contains a series of <code class="codeph">key=value</code> pairs, one per line. For example, a portion of an initialization parameter file could look as follows:</p>
<pre dir="ltr">db_name=sample
control_files=/disk1/oradata/sample_cf.dbf
db_block_size=8192
open_cursors=52
undo_management=auto
shared_pool_size=280M
pga_aggregate_target=29M
.
.
.
</pre>
<p>To illustrate the manageability problems that text parameter files can create, assume that you use computers <code class="codeph">clienta</code> and <code class="codeph">clientb</code> and must be able to start the database with SQL*Plus on either computer. In this case, two separate text initialization parameter files must exist, one on each computer, as shown in <a href="startup.htm#GUID-2F760754-174C-4A30-800C-8A147561B64C__BABEEAJB">Figure 13-7</a>. A server parameter file solves the problem of the proliferation of parameter files.</p>
<div class="figure" id="GUID-2F760754-174C-4A30-800C-8A147561B64C__BABEEAJB">
<p class="titleinfigure">Figure 13-7 Multiple Initialization Parameter Files</p>
<img width="404" height="285" src="img/GUID-71435C40-CDBE-4F38-845A-376587D2F4E1-default.gif" alt="Description of Figure 13-7 follows" title="Description of Figure 13-7 follows"/><br/>
<a href="img_text/GUID-71435C40-CDBE-4F38-845A-376587D2F4E1-print.htm">Description of &#34;Figure 13-7 Multiple Initialization Parameter Files&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-2F760754-174C-4A30-800C-8A147561B64C__GUID-C5B82CBC-CA52-4F61-ADD8-CD6AB1695FA1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN11099" target="_blank" href="../ADMIN/create.htm#ADMIN11099"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn more about text initialization parameter files</p>
</li>
<li>
<p><a class="olink SQLRF01308" target="_blank" href="../SQLRF/statements_6009.htm#SQLRF01308"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about <code class="codeph">CREATE PFILE</code></p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89058"></a><a id="CNCPT1292"></a>
<div class="props_rev_3"><a id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862"></a>
<h3 id="CNCPT-GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862" class="sect3">Modification of Initialization Parameter Values</h3>
<div>
<p>You can adjust initialization parameters to modify the behavior of a database. The classification of parameters as <span class="bold">static</span> or <span class="bold">dynamic</span> determines how they can be modified.</p>
<p>The following table summarizes the differences.</p>
<div class="tblformal" id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862__STATICANDDYNAMICINITIALIZATIONPARAM-1BF6912F">
<p class="titleintable">Table 13-3 Static and Dynamic Initialization Parameters</p>
<table class="cellalignment1206" title="Static and Dynamic Initialization Parameters" summary="This table summarizes the differences between static and dynamic initialization parameters.">
<thead>
<tr class="cellalignment1197">
<th class="cellalignment1222" id="d64757e10142">Characteristic</th>
<th class="cellalignment1222" id="d64757e10145">Static</th>
<th class="cellalignment1222" id="d64757e10148">Dynamic</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e10153" headers="d64757e10142">
<p>Requires modification of the parameter file (text or server)</p>
</td>
<td class="cellalignment1223" headers="d64757e10153 d64757e10145">
<p>Yes</p>
</td>
<td class="cellalignment1223" headers="d64757e10153 d64757e10148">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e10163" headers="d64757e10142">
<p>Requires database instance restart before setting takes affect</p>
</td>
<td class="cellalignment1223" headers="d64757e10163 d64757e10145">
<p>Yes</p>
</td>
<td class="cellalignment1223" headers="d64757e10163 d64757e10148">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e10173" headers="d64757e10142">
<p>Described as &#34;Modifiable&#34; in <a class="olink REFRN00102" target="_blank" href="../REFRN/GUID-4C578B21-DE2B-4210-8EB7-EF28D36CC1CB.htm#REFRN00102"><span><cite>Oracle Database Reference</cite></span></a> initialization parameter entry</p>
</td>
<td class="cellalignment1223" headers="d64757e10173 d64757e10145">
<p>No</p>
</td>
<td class="cellalignment1223" headers="d64757e10173 d64757e10148">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1197">
<td class="cellalignment1223" id="d64757e10189" headers="d64757e10142">
<p>Modifiable only for the database or instance</p>
</td>
<td class="cellalignment1223" headers="d64757e10189 d64757e10145">
<p>Yes</p>
</td>
<td class="cellalignment1223" headers="d64757e10189 d64757e10148">
<p>No</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Static parameters include <code class="codeph">DB_BLOCK_SIZE</code>, <code class="codeph">DB_NAME</code>, and <code class="codeph">COMPATIBLE</code>. Dynamic parameters are grouped into <span class="bold">session-level parameters</span>, which affect only the current user session, and <span class="bold">system-level parameters</span>, which affect the database and all sessions. For example, <code class="codeph">MEMORY_TARGET</code> is a system-level parameter, while <code class="codeph">NLS_DATE_FORMAT</code> is a session-level parameter.</p>
<p>The <span class="bold">scope</span> of a parameter change depends on when the change takes effect. When an instance has been started with a server parameter file, you can use the <code class="codeph">ALTER SYSTEM</code> <code class="codeph">SET</code> statement to change values for system-level parameters as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SCOPE=MEMORY</code></p>
<p>Changes apply to the database instance only. The change will not persist if the database is shut down and restarted.</p>
</li>
<li>
<p><code class="codeph">SCOPE=SPFILE</code></p>
<p>Changes apply to the server parameter file but do not affect the current instance. Thus, the changes do not take effect until the instance is restarted.</p>
<div class="infobox-note" id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862__GUID-C8FFD72C-2E6A-46B1-95DA-A2F88AE6AE51">
<p class="notep1">Note:</p>
<p>You must specify <code class="codeph">SPFILE</code> when changing the value of a parameter described as not modifiable in <a class="olink REFRN00102" target="_blank" href="../REFRN/GUID-4C578B21-DE2B-4210-8EB7-EF28D36CC1CB.htm#REFRN00102"><span><cite>Oracle Database Reference</cite></span></a>.</p>
</div>
</li>
<li>
<p><code class="codeph">SCOPE=BOTH</code></p>
<p>Oracle Database writes changes both to memory and to the server parameter file. This is the default scope when the database is using a server parameter file.</p>
</li>
</ul>
<p>The database prints the new value and the old value of an initialization parameter to the alert log. As a preventative measure, the database validates changes of basic parameter to prevent invalid values from being written to the server parameter file.</p>
<div class="infoboxnotealso" id="GUID-2D1DC65D-42D8-41FD-925F-850D0D57A862__GUID-B4866C50-24CB-480D-9C58-9FD32822D2BB">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cncptdev.htm#GUID-FD06164D-2938-497D-B26D-D7603D08B3AD" title="A locale is a linguistic and cultural environment in which a system or program is running. NLS parameters determine locale-specific behavior on both the client and database.">Locale-Specific Settings</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN11119" target="_blank" href="../ADMIN/create.htm#ADMIN11119"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to change initialization parameter settings</p>
</li>
<li>
<p><a class="olink REFRN001" target="_blank" href="../REFRN/GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9.htm#REFRN001"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of all initialization parameters</p>
</li>
<li>
<p><a class="olink SQLRF00902" target="_blank" href="../SQLRF/statements_2017.htm#SQLRF00902"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">ALTER SYSTEM</code> syntax and semantics</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT1912"></a>
<div class="props_rev_3"><a id="GUID-E329D228-F334-4506-84C1-EC030032C228"></a>
<h2 id="CNCPT-GUID-E329D228-F334-4506-84C1-EC030032C228" class="sect2">Overview of Diagnostic Files</h2>
<div>
<p>Oracle Database includes a <span class="bold">fault diagnosability infrastructure</span> for preventing, detecting, diagnosing, and resolving database problems. Problems include critical errors such as code bugs, metadata corruption, and customer data corruption.</p>
<p>The goals of the advanced fault diagnosability infrastructure are the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Detecting problems proactively</p>
</li>
<li>
<p>Limiting damage and interruptions after a problem is detected</p>
</li>
<li>
<p>Reducing problem diagnostic and resolution time</p>
</li>
<li>
<p>Improving manageability by enabling trace files to be partitioned, allowing user to define the size per piece and maximum number of pieces to retain, and disabling tracing after a user-specified disk space limit is reached</p>
</li>
<li>
<p>Simplifying customer interaction with Oracle Support</p>
</li>
</ul>
<p>Multitenant container databases (CDBs) and non-CDBs have architectural differences. This section assumes the architecture of a non-CDB unless indicated otherwise.</p>
<div class="infoboxnotealso" id="GUID-E329D228-F334-4506-84C1-EC030032C228__GUID-99A5246A-F7A4-47C5-A1AC-7329E9DBCA98">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN13884" target="_blank" href="../ADMIN/cdb_admin.htm#ADMIN13884"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to manage diagnostic files in a CDB</p>
</div>
</div>
<a id="CNCPT1913"></a>
<div class="props_rev_3"><a id="GUID-8E4BC033-4704-4FF5-A459-0E1EBF2D35B8"></a>
<h3 id="CNCPT-GUID-8E4BC033-4704-4FF5-A459-0E1EBF2D35B8" class="sect3">Automatic Diagnostic Repository</h3>
<div>
<p><span class="bold">Automatic Diagnostic Repository (ADR)</span> is a file-based repository that stores database diagnostic data such as trace files, the alert log, DDL log, and Health Monitor reports.</p>
<p>Key characteristics of ADR include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Unified directory structure</p>
</li>
<li>
<p>Consistent diagnostic data formats</p>
</li>
<li>
<p>Unified tool set</p>
</li>
</ul>
<p>The preceding characteristics enable customers and Oracle Support to correlate and analyze diagnostic data across multiple Oracle instances, components, and products.</p>
<p>ADR is located <span class="italic">outside</span> the database, which enables Oracle Database to access and manage ADR when the physical database is unavailable. A database instance can create ADR before a database has been created.</p>
</div>
<a id="CNCPT89059"></a>
<div class="props_rev_3"><a id="GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD"></a>
<h4 id="CNCPT-GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD" class="sect4">Problems and Incidents</h4>
<div>
<p>ADR proactively tracks <span class="bold">problems</span>, which are critical errors in the database.</p>
<p>Critical errors manifest as internal errors, such as <code class="codeph">ORA-600</code>, or other severe errors. Each problem has a <span class="bold">problem key</span>, which is a text string that describes the problem.</p>
<p>When a problem occurs multiple times, ADR creates a time-stamped <span class="bold">incident</span> for each occurrence. An incident is uniquely identified by a numeric <span class="bold">incident ID</span>. When an incident occurs, ADR sends an <span class="bold">incident alert</span> to Enterprise Manager. Diagnosis and resolution of a critical error usually starts with an incident alert.</p>
<p>Because a problem could generate many incidents in a short time, ADR applies flood control to incident generation after certain thresholds are reached. A <span class="bold">flood-controlled incident</span> generates an alert log entry, but does not generate incident dumps. In this way, ADR informs you that a critical error is ongoing without overloading the system with diagnostic data.</p>
<div class="infoboxnotealso" id="GUID-EF16D3AE-EE25-4396-B33A-C3002308A7DD__GUID-3F7EFFFD-5C0F-4095-BCEE-762670BE1343">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN11257" target="_blank" href="../ADMIN/diag.htm#ADMIN11257"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> for detailed information about the fault diagnosability infrastructure</p>
</div>
</div>
</div>
<a id="CNCPT89061"></a><a id="CNCPT89062"></a><a id="CNCPT89060"></a>
<div class="props_rev_3"><a id="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356"></a>
<h4 id="CNCPT-GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356" class="sect4">ADR Structure</h4>
<div>
<div><span>The <span class="bold">ADR base</span> is the ADR root directory.</span> The ADR base can contain multiple ADR homes, where each <a href="glossary.htm#GUID-89658C05-F8DE-4DEC-9F79-E28B229C87CC"><span class="xrefglossterm">ADR home</span></a> is the root directory for all diagnostic data&mdash;traces, dumps, the alert log, and so on&mdash;for an instance of an Oracle product or component. For example, in an Oracle RAC environment with shared storage and Oracle ASM, each database instance and each Oracle ASM instance has its own ADR home.</div>
<p><a href="startup.htm#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">Figure 13-8</a> illustrates the ADR directory hierarchy for a database instance. Other ADR homes for other Oracle products or components, such as Oracle ASM or Oracle Net Services, can exist within this hierarchy, under the same ADR base.</p>
<div class="figure" id="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">
<p class="titleinfigure">Figure 13-8 ADR Directory Structure for an Oracle Database Instance</p>
<img width="404" height="332" src="img/GUID-2C727F88-B767-4424-8163-9ACF5EE14429-default.gif" alt="Description of Figure 13-8 follows" title="Description of Figure 13-8 follows"/><br/>
<a href="img_text/GUID-2C727F88-B767-4424-8163-9ACF5EE14429-print.htm">Description of &#34;Figure 13-8 ADR Directory Structure for an Oracle Database Instance&#34;</a></div>
<!-- class="figure" -->
<p>As the following Linux example shows, when you start an instance with a unique SID and database name <span class="italic">before</span> creating a database, Oracle Database creates ADR by default as a directory structure in the host file system. The SID and database name form part of the path name for files in the ADR Home.</p>
<div class="example" id="GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABGCIDC">
<p class="titleinexample">Example 13-1 Creation of ADR</p>
<pre dir="ltr">% setenv ORACLE_SID osi
% echo &#34;DB_NAME=dbn&#34; &gt; init.ora
% sqlplus / as sysdba
.
.
. 
Connected to an idle instance.
 
SQL&gt; STARTUP NOMOUNT PFILE=&#34;./init.ora&#34;
ORACLE instance started.
 
Total System Global Area  146472960 bytes
Fixed Size                  1317424 bytes
Variable Size              92276176 bytes
Database Buffers           50331648 bytes
Redo Buffers                2547712 bytes
 
SQL&gt; COL NAME FORMAT a21
SQL&gt; COL VALUE FORMAT a60
SQL&gt; SELECT NAME, VALUE FROM V$DIAG_INFO;
 
NAME                  VALUE
--------------------- --------------------------------------------------------
Diag Enabled          TRUE
ADR Base              /d1/3910926111/oracle/log
ADR Home              /d1/3910926111/oracle/log/diag/rdbms/dbn/osi
Diag Trace            /d1/3910926111/oracle/log/diag/rdbms/dbn/osi/trace
Diag Alert            /d1/3910926111/oracle/log/diag/rdbms/dbn/osi/alert
Diag Incident         /d1/3910926111/oracle/log/diag/rdbms/dbn/osi/incident
Diag Cdump            /d1/3910926111/oracle/log/diag/rdbms/dbn/osi/cdump
Health Monitor        /d1/3910926111/oracle/log/diag/rdbms/dbn/osi/hm
Default Trace File    /d1/3910926111/oracle/log ... osi/trace/osi_ora_6825.trc
Active Problem Count  0
Active Incident Count 0
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="CNCPT89063"></a>
<div class="props_rev_3"><a id="GUID-01C37B10-EB2D-454F-A211-8B159B429DBC"></a>
<h3 id="CNCPT-GUID-01C37B10-EB2D-454F-A211-8B159B429DBC" class="sect3">Alert Log</h3>
<div>
<p>Every database has an <span class="bold">alert log</span>, which is an XML file containing a chronological log of database messages and errors.</p>
<p>The alert log contents include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>All internal errors (<code class="codeph">ORA-600</code>), block corruption errors (<code class="codeph">ORA-1578</code>), and <a href="glossary.htm#GUID-E33D1853-7F99-4FDD-9CC7-D6308E943D61"><span class="xrefglossterm">deadlock</span></a> errors (<code class="codeph">ORA-60</code>)</p>
</li>
<li>
<p>Administrative operations such as the SQL*Plus commands <code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>, <code class="codeph">ARCHIVE LOG</code>, and <code class="codeph">RECOVER</code></p>
</li>
<li>
<p>Several messages and errors relating to the functions of shared server and dispatcher processes</p>
</li>
<li>
<p>Errors during the automatic refresh of a materialized view</p>
</li>
</ul>
<p>Oracle Database uses the alert log as an alternative to displaying information in the Enterprise Manager GUI. If an administrative operation is successful, then Oracle Database writes a message to the alert log as &#34;completed&#34; along with a time stamp.</p>
<p>Oracle Database creates an alert log in the <code class="codeph">alert</code> subdirectory shown in <a href="startup.htm#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">Figure 13-8</a> when you first start a database instance, even if no database has been created yet. This file is in the XML format. The trace subdirectory contains a text-only alert log, a portion of which appears in the following example:</p>
<pre dir="ltr">Fri Nov 02 12:41:58 2014
SMP system found. enable_NUMA_support disabled (FALSE)
Starting ORACLE instance (normal)
CLI notifier numLatches:3 maxDescs:189
LICENSE_MAX_SESSION = 0
LICENSE_SESSIONS_WARNING = 0
Initial number of CPU is 2
Number of processor cores in the system is 2
Number of processor sockets in the system is 2
Shared memory segment for instance monitoring created
Picked latch-free SCN scheme 3
Using LOG_ARCHIVE_DEST_1 parameter default value as /disk1/oracle/dbs/arch
Autotune of undo retention is turned on.
IMODE=BR
ILAT =10
LICENSE_MAX_USERS = 0
SYS auditing is disabled
NOTE: remote asm mode is local (mode 0x1; from cluster type)
Starting up:
Oracle Database 12c Enterprise Edition Release 12.1.0.1.0 - 64bit Production
With the Partitioning, Advanced Analytics and Real Application Testing options.
.
.
.
Using parameter settings in client-side pfile 
System parameters with nondefault values:
  processes                = 100
  sessions                 = 172
</pre>
<p>As shown in <a href="startup.htm#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABGCIDC">Example 13-1</a>, query <code class="codeph">V$DIAG_INFO</code> to locate the alert log.</p>
</div>
</div>
<a id="CNCPT89299"></a>
<div class="props_rev_3"><a id="GUID-18417D71-3774-4E71-B011-26B9F340AD7C"></a>
<h3 id="CNCPT-GUID-18417D71-3774-4E71-B011-26B9F340AD7C" class="sect3">DDL Log</h3>
<div>
<p>The <span class="bold">DDL log</span> has the same format and basic behavior as the alert log but contains only DDL statements and details. The database writes DDL information to its own file to reduce the clutter in the alert log.</p>
<p>DDL log records are DDL text, optionally augmented with supplemental information. One log record exists for each DDL statement. The DDL log is stored in the <code class="codeph">log/ddl</code> subdirectory of the ADR home.</p>
</div>
</div>
<a id="CNCPT1260"></a>
<div class="props_rev_3"><a id="GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD"></a>
<h3 id="CNCPT-GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD" class="sect3">Trace Files</h3>
<div>
<p>A <span class="bold">trace file</span> is a file that contains diagnostic data used to investigate problems. Also, trace files can provide guidance for tuning applications or an instance.</p>
<div class="infoboxnotealso" id="GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD__GUID-FEDE3C6B-1156-4B79-BEB2-87055851592A">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-045B9963-F53D-427C-87B7-04858B22D4D8" title="As a DBA, you are responsible for the performance of your Oracle database. Typically, performance problems result from unacceptable response time, which is the time to complete a specified workload, or throughput, which is the amount of work that can be completed in a specified time.">Performance and Tuning</a>&#34;</span></p>
</div>
</div>
<a id="CNCPT89064"></a>
<div class="props_rev_3"><a id="GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56"></a>
<h4 id="CNCPT-GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56" class="sect4">Types of Trace Files</h4>
<div>
<p>Each server and background process can periodically write to an associated trace file. The files contain information on the process environment, status, activities, and errors.</p>
<p>The SQL trace facility also creates trace files, which provide performance information on individual SQL statements. You can enable tracing for a client identifier, service, module, action, session, instance, or database in various ways. For example, you can execute the appropriate procedures in the <code class="codeph">DBMS_MONITOR</code> package or set events.</p>
<div class="infoboxnotealso" id="GUID-14D27A80-C67F-4B89-9B31-BE5C2EE86F56__GUID-D243738A-2334-407D-A170-90C4A7BEE6F5">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="sqllangu.htm#GUID-261BEAAC-0897-465D-9137-D201CE80675C" title="Session control statements dynamically manage the properties of a user session.">Session Control Statements</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN11263" target="_blank" href="../ADMIN/diag.htm#ADMIN11263"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn about trace files, dumps, and core files</p>
</li>
<li>
<p><a class="olink TGSQL791" target="_blank" href="../TGSQL/tgsql_trace.htm#TGSQL791"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn about application tracing</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89065"></a>
<div class="props_rev_3"><a id="GUID-3BABFDE3-1508-4912-879E-1E35CECE5053"></a>
<h4 id="CNCPT-GUID-3BABFDE3-1508-4912-879E-1E35CECE5053" class="sect4">Locations of Trace Files</h4>
<div>
<p>ADR stores trace files in the <code class="codeph">trace</code> subdirectory. Trace file names are platform-dependent and use the extension <code class="codeph">.trc</code>.</p>
<p>Typically, database background process trace file names contain the Oracle SID, the background process name, and the operating system process number. An example of a trace file for the <code class="codeph">RECO</code> process is <code class="codeph">mytest_reco_10355.trc</code>.</p>
<p>Server process trace file names contain the Oracle SID, the string <code class="codeph">ora</code>, and the operating system process number. An example of a server process trace file name is <code class="codeph">mytest_ora_10304.trc</code>.</p>
<p>Sometimes trace files have corresponding trace metadata files, which end with the extension <code class="codeph">.trm</code>. These files contain structural information called <span class="bold">trace maps</span> that the database uses for searching and navigation.</p>
<div class="infoboxnotealso" id="GUID-3BABFDE3-1508-4912-879E-1E35CECE5053__GUID-6223BFC3-7DCC-4ED6-B7DF-1550AF5AC29A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="startup.htm#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABBCEEE">Figure 13-8</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN12484" target="_blank" href="../ADMIN/diag.htm#ADMIN12484"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to find trace files</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89455"></a>
<div class="props_rev_3"><a id="GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038"></a>
<h4 id="CNCPT-GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038" class="sect4">Segmentation of Trace Files</h4>
<div>
<p>When the trace file size is limited, the database may automatically split it into a maximum of five segments. Segments are separate files that have the same name as the active trace file, but with a segment number appended, as in <code class="codeph">ora_1234_2.trc</code>.</p>
<p>Each segment is typically 20% of the limit set by <code class="codeph">MAX_DUMP_FILE_SIZE</code>. When the combined size of all segments exceeds the limit, the database deletes the oldest segment (although never the first segment, which may contain relevant information about the initial state of the process), and then creates a new, empty segment.</p>
<div class="infoboxnotealso" id="GUID-077AC8D0-1DC0-413C-9AC0-8391B366B038__GUID-C76F6E0D-E591-4610-B027-175E730B1423">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN11244" target="_blank" href="../ADMIN/monitoring.htm#ADMIN11244"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to control the size of trace files</p>
</div>
</div>
</div>
</div>
<a id="CNCPT89301"></a>
<div class="props_rev_3"><a id="GUID-1CE79EC6-6B04-4BB2-BBF1-77A2D47A1CE6"></a>
<h3 id="CNCPT-GUID-1CE79EC6-6B04-4BB2-BBF1-77A2D47A1CE6" class="sect3">Diagnostic Dumps</h3>
<div>
<p>A <span class="bold">diagnostic dump file</span> is a special type of trace file that contains detailed point-in-time information about a state or structure.</p>
<p>A trace tends to be continuous output of diagnostic data. In contrast, a dump is typically a one-time output of diagnostic data in response to an event.</p>
</div>
<a id="CNCPT89302"></a>
<div class="props_rev_3"><a id="GUID-9EE8697E-B25C-4502-969D-D32D09F9D8A0"></a>
<h4 id="CNCPT-GUID-9EE8697E-B25C-4502-969D-D32D09F9D8A0" class="sect4">Trace Dumps and Incidents</h4>
<div>
<p>Most dumps occur because of incidents.</p>
<p>When an incident occurs, the database writes one or more dumps to the incident directory created for the incident. Incident dumps also contain the incident number in the file name.</p>
<p>During incident creation, an application may take a heap or system state dump as part of an action. In such cases, the database appends the dump name to the incident file name instead of the default trace file name. For example, because of an incident in a process, the database creates file <code class="codeph">prod_ora_90348.trc</code>. A dump in the incident generates the file <code class="codeph">prod_ora_90348_<span class="codeinlineitalic">incident_id</span>.trc</code>, where <code class="codeph"><span class="codeinlineitalic">incident_id</span></code> is the numeric ID of the incident. A heap dump action created as part of the incident generates the heap dump file <code class="codeph">prod_ora_90348_<span class="codeinlineitalic">incident_id</span>_<span class="codeinlineitalic">dump_id</span>.trc</code>, where <code class="codeph"><span class="codeinlineitalic">dump_id</span></code> is the numeric ID of the trace dump.</p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1196">
<tr>
<td class="cellalignment1203">
<table class="cellalignment1201">
<tr>
<td class="cellalignment1200"><a href="part_inarch.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1200"><a href="memory.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1993, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1205">
<table class="cellalignment1199">
<tr>
<td class="cellalignment1200"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1200"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1200"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1200"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1200"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1200"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
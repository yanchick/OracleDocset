<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-4101"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Process%20Architecture"></a><title>Process Architecture</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="This chapter discusses the processes in an Oracle database."/>
<meta name="keywords" content="structures, processes, database structures, databases, structure, jobs, tasks, memory, processes use of, instances, database, process structure, servers, shared, architecture, shared server, described, application processes, client, client processes, connections, client/server, definition, sessions contrasted with, sessions, connections contrasted with, connections and, sessions and, defined, passwords, connecting with, users, database, names, sessions and connections, authentication, database, database authentication, DBMS_SQL_MONITOR package, database operations, Oracle, Oracle processes, server processes, server, background, background processes, mandatory, process monitor process (PMON), process monitor (PMON), recovery, process recovery, user, recovery from failure of, PMON background process, transaction tables, reset at recovery, failures, statement and process, system monitor process (SMON), SMON background process, recovery of, SMON process, system monitor (SMON), Real Application Clusters, system monitor process and, Real Application Clusters and, instance recovery, database writer process (DBW, n, database buffer cache, database buffers, writing, DBW background process, database writer process (DBW), multiple DBW, multiblock writes, checkpoints, checkpoints and, checkpoint position, blocks, data, data blocks, LGWR background process, log writer process (LGWR), online redo log, buffer management, writing buffers, log writer process, log writer (LGWR), write-ahead, group commits, committing transactions, transactions, committing, performance, committing a transaction, fast commit, implementation, files, alert log, trace files, LGWR trace file, alert logs, checkpoint process (CKPT), recoverer process (RECO), distributed databases, recoverer process (RECO) and, distributed processing in, distributed, resolving automatically, distributed transaction resolution, recoverer (RECO), optional, ARCHIVELOG mode, log switch, archiver process, job queue processes, materialized views, refresh, refresh, job queue, processing, parallel SQL, SQL, parallel execution, queries, parallel processing, tuning, servers, parallel execution coordinator, parallel execution servers, coordinator, coordinator process, full table scans, parallel exe, partitions, dynamic partitioning, tables"/>
<meta name="dcterms.created" content="2017-07-10T11:33:29Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Concepts"/>
<meta name="dcterms.identifier" content="E41396-15"/>
<meta name="dcterms.isVersionOf" content="CNCPT"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1993, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="memory.htm" title="Previous" type="text/html"/>
<link rel="Next" href="dist_pro.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41396-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A"></a> <span id="PAGE" style="display:none;">24/34</span> <!-- End Header -->
<a id="CNCPT008"></a>
<h1 id="CNCPT-GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A" class="sect1"><span class="enumeration_chapter">15</span> Process Architecture</h1>
<div>
<p>This chapter discusses the processes in an Oracle database.</p>
<p>This chapter contains the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="process.htm#GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022" title="A process is a mechanism in an operating system that can run a series of steps.">Introduction to Processes</a></p>
</li>
<li>
<p><a href="process.htm#GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1" title="When a user runs an application such as a Pro*C program or SQL*Plus, the operating system creates a client process (sometimes called a user process) to run the user application. The client application has Oracle Database libraries linked into it that provide the APIs required to communicate with the database.">Overview of Client Processes</a></p>
</li>
<li>
<p><a href="process.htm#GUID-310F28E9-793A-4816-87CB-FDB54AB68957" title="Oracle Database creates server processes to handle the requests of client processes connected to the instance. A client process always communicates with a database through a separate server process.">Overview of Server Processes</a></p>
</li>
<li>
<p><a href="process.htm#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="Background processes are additional processes used by a multiprocess Oracle database. The background processes perform maintenance tasks required to operate the database and to maximize performance for multiple users.">Overview of Background Processes</a></p>
</li>
</ul>
</div>
<a id="CNCPT903"></a><a id="CNCPT901"></a>
<div class="props_rev_3"><a id="GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022"></a>
<h2 id="CNCPT-GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022" class="sect2">Introduction to Processes</h2>
<div>
<p>A <span class="bold">process</span> is a mechanism in an operating system that can run a series of steps.</p>
<p>The process execution architecture depends on the operating system. For example, on Windows an Oracle background process is a thread of execution within a process. On Linux and UNIX, an Oracle process is either an operating system process or a thread within an operating system process.</p>
<p>Processes run code modules. All connected Oracle Database users must run the following modules to access a <a href="glossary.htm#GUID-CFB1A30E-76B6-44EA-839E-9E63C8DA31AC"><span class="xrefglossterm">database instance</span></a>:</p>
<ul style="list-style-type: disc;">
<li>
<p>Application or Oracle Database utility</p>
<p>A database user runs a database application, such as a <a href="glossary.htm#GUID-FDCF892E-6AD5-4AC9-9D1D-A9C7D106D21D"><span class="xrefglossterm">precompiler</span></a> program or a database tool such as SQL*Plus, that issues SQL statements to a database.</p>
</li>
<li>
<p>Oracle database code</p>
<p>Each user has Oracle database code executing on his or her behalf that interprets and processes the application&#39;s SQL statements.</p>
</li>
</ul>
<p>A process normally runs in its own private memory area. Most processes can periodically write to an associated trace file.</p>
<div class="infoboxnotealso" id="GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022__GUID-52D7A87D-5712-4E2A-9D12-5E0C19DBC1C2">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="startup.htm#GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD" title="A trace file is a file that contains diagnostic data used to investigate problems. Also, trace files can provide guidance for tuning applications or an instance.">Trace Files</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-FA659979-25B7-4611-AA8D-48B5404301FE" title="Oracle provides several tools to simplify the task of installing and configuring Oracle Database software. Oracle Net Services provides enterprise wide connectivity solutions in distributed, heterogeneous computing environments. Oracle Net, a component of Oracle Net Services, enables a network session from a client application to a database.SQL*Loader loads data from external files, called data files (not to be confused with the internal database data files), into database tables. It has a powerful data parsing engine that puts little limitation on the format of the data in the data file. Oracle Data Pump enables high-speed movement of data and metadata from one database to another.ADRCI is a command-line utility that enables you to investigate problems, view health check reports, and package and upload first-failure data to Oracle Support.">Tools for Database Administrators</a>&#34;</span></p>
</li>
<li>
<p>and <span class="q">&#34;<a href="cncptdev.htm#GUID-D1C1BC1D-03C7-4A18-BB88-0D76F311DAF0" title="Oracle provides several tools for use in developing database applications. This section describes some commonly used development tools.">Tools for Database Developers</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="CNCPT89079"></a><a id="CNCPT1246"></a>
<div class="props_rev_3"><a id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC"></a>
<h3 id="CNCPT-GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC" class="sect3">Types of Processes</h3>
<div>
<p>A database instance contains or interacts with multiple processes.</p>
<p>Processes are divided into the following types:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <a href="glossary.htm#GUID-6F3BBCE8-F471-41E8-8C98-F4C62A85862B"><span class="xrefglossterm">client process</span></a> runs the application or Oracle tool code.</p>
</li>
<li>
<p>An <a href="glossary.htm#GUID-DD083580-0AAF-4728-9186-BE1E319020DD"><span class="xrefglossterm">Oracle process</span></a> is a unit of execution that runs the Oracle database code. In the multithreaded architecture, an Oracle process can be an operating system process or a thread within an operating system process. Oracle processes include the following subtypes:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <a href="glossary.htm#GUID-8EFE210D-EE23-42A9-B4F0-7EF79C9315EE"><span class="xrefglossterm">background process</span></a> starts with the database instance and perform maintenance tasks such as performing <a href="glossary.htm#GUID-FFDBC27D-CE99-49C7-8BB9-C8C2D8D52801"><span class="xrefglossterm">instance recovery</span></a>, cleaning up processes, writing redo buffers to disk, and so on.</p>
</li>
<li>
<p>A <a href="glossary.htm#GUID-E660AC1C-B704-4DC1-A35A-DB49EFB34F4A"><span class="xrefglossterm">server process</span></a> performs work based on a client request.</p>
<p>For example, these processes parse SQL queries, place them in the <a href="glossary.htm#GUID-64AFFF3A-C836-44F9-A25C-86CE4B9B16A8"><span class="xrefglossterm">shared pool</span></a>, create and execute a <a href="glossary.htm#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a> for each <a href="glossary.htm#GUID-CCF91C9F-A98A-498F-A84B-58A0FA16CD6E"><span class="xrefglossterm">query</span></a>, and read buffers from the <a href="glossary.htm#GUID-7913177D-8183-4CC5-8F59-816FE66DA363"><span class="xrefglossterm">database buffer cache</span></a> or from disk.</p>
<div class="infobox-note" id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__GUID-5D832581-B0C2-4C4D-8CCB-72909319A8CF">
<p class="notep1">Note:</p>
<p>Server processes, and the process memory allocated in these processes, run in the database instance. The instance continues to function when server processes terminate.</p>
</div>
</li>
<li>
<p>A slave process performs additional tasks for a background or server process.</p>
</li>
</ul>
</li>
</ul>
<p>The process structure varies depending on the operating system and the choice of Oracle Database options. For example, you can configure the code for connected users for <a href="glossary.htm#GUID-8B14C804-9D68-471C-A581-5AEE673A9FCD"><span class="xrefglossterm">dedicated server</span></a> or <a href="glossary.htm#GUID-E94CE0E3-CC86-4F46-B8EF-54945F026326"><span class="xrefglossterm">shared server</span></a> connections. In a shared server architecture, each server process that runs database code can serve multiple client processes.</p>
<p><a href="process.htm#GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__BABHJDHD">Figure 15-1</a> shows a <a href="glossary.htm#GUID-78C0E867-233A-4857-B9FE-A3852A9B7BDF"><span class="xrefglossterm">system global area (SGA)</span></a> and background processes using dedicated server connections. For each user connection, a client process runs the application. This client process that is different from the dedicated server process that runs the database code. Each client process is associated with its own server process, which has its own <a href="glossary.htm#GUID-76021F69-AC7A-4D8D-A308-A7B8AC072EEF"><span class="xrefglossterm">program global area (PGA)</span></a>.</p>
<div class="figure" id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__BABHJDHD">
<p class="titleinfigure">Figure 15-1 Oracle Processes and the SGA</p>
<img width="648" height="611" src="img/GUID-D815297F-96E0-4B5B-86FD-585CDC0BDF56-default.gif" alt="Description of Figure 15-1 follows" title="Description of Figure 15-1 follows"/><br/>
<a href="img_text/GUID-D815297F-96E0-4B5B-86FD-585CDC0BDF56-print.htm">Description of &#34;Figure 15-1 Oracle Processes and the SGA&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__GUID-58699DF1-67D3-4467-9CA4-1C4231A12F58">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" title="In a dedicated server architecture, the server process created on behalf of each client process is called a dedicated server process (or shadow process).">Dedicated Server Architecture</a>&#34;</span> and <span class="q">&#34;<a href="dist_pro.htm#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="In a shared server architecture, a dispatcher directs multiple incoming network session requests to a pool of shared server processes">Shared Server Architecture</a>&#34;</span></p>
</li>
<li>
<p>Your Oracle Database operating system-specific documentation for more details on configuration choices</p>
</li>
<li>
<p><a class="olink REFRN30186" target="_blank" href="../REFRN/GUID-BBE32620-1043-4345-9448-51DB21547FEB.htm#REFRN30186"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$PROCESS</code> view</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT1245"></a>
<div class="props_rev_3"><a id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664"></a>
<h3 id="CNCPT-GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664" class="sect3">Multiprocess and Multithreaded Oracle Database Systems</h3>
<div>
<p>Multiprocess Oracle Database (also called multiuser Oracle Database) uses several processes to run different parts of the Oracle Database code and additional Oracle processes for the users&mdash;either one process for each connected user or one or more processes shared by multiple users. Most databases are multiuser because a primary advantage of a database is managing data needed by multiple users simultaneously.</p>
<p>Each process in a database instance performs a specific job. By dividing the work of the database and applications into several processes, multiple users and applications can connect to an instance simultaneously while the system gives good performance.</p>
<p>In releases earlier than Oracle Database 12<span class="italic">c</span>, Oracle processes did not run as threads on UNIX and Linux systems. Starting in Oracle Database 12<span class="italic">c</span>, the <a href="glossary.htm#GUID-A0106836-D69F-4157-A3D9-04842A99FDC8"><span class="xrefglossterm">multithreaded Oracle Database model</span></a> enables Oracle processes to execute as operating system threads in separate address spaces. When Oracle Database 12<span class="italic">c</span> is installed, the database runs in process mode. You must set the <code class="codeph">THREADED_EXECUTION</code> initialization parameter to <code class="codeph">TRUE</code> to run the database in threaded mode. In threaded mode, some background processes on UNIX and Linux run as processes (with each process containing one thread), whereas the remaining Oracle processes run as threads within processes.</p>
<p>In a database running in threaded mode, PMON and DBW might run as operating system processes, whereas LGWR and CMON might run as threads within a single process. Two foreground processes and a parallel execution (PX) server process might run as threads in a second operating system process. A third operating system process might contain multiple foreground threads. Thus, &#34;Oracle process&#34; does not always mean &#34;operating system process.&#34;</p>
<div class="infobox-note" id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664__GUID-2317ABBD-BA01-4044-B1AC-7F95649AEB8E">
<p class="notep1">Note:</p>
When the <code class="codeph">THREADED_EXECUTION</code> initialization parameter is set to <code class="codeph">TRUE</code>, operating system authentication is not supported.</div>
<div class="example" id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664__GUID-5599E151-5CAD-40A5-BD57-C76FAE455853">
<p class="titleinexample">Example 15-1 Viewing Oracle Process Metadata</p>
<p>The <code class="codeph">V$PROCESS</code> view contains one row for each Oracle process connected to a database instance. For example, you can run the following query in SQL*Plus to get the operating system process ID and operating system thread ID for each process:</p>
<pre dir="ltr">COL SPID FORMAT a8
COL STID FORMAT a8
SELECT SPID, STID, PROGRAM FROM V$PROCESS ORDER BY SPID;
</pre>
<p>The query yields the following partial sample output:</p>
<pre dir="ltr">SPID   STID   PROGRAM
-----  -----  ---------------------------
7190   7190   oracle@samplehost (PMON) 
7192   7192   oracle@samplehost (PSP0) 
7194   7194   oracle@samplehost (VKTM) 
7198   7198   oracle@samplehost (SCMN) 
7198   7200   oracle@samplehost (GEN0) 
7202   7202   oracle@samplehost (SCMN) 
7202   7204   oracle@samplehost (DIAG) 
7198   7205   oracle@samplehost (DBRM) 
7202   7206   oracle@samplehost (DIA0) 
.
.
.
</pre>
<div class="infoboxnotealso" id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664__GUID-25EA98F4-BF97-4B2A-839C-C884482C4DCF">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink TGDBA477" target="_blank" href="../TGDBA/tune_pga.htm#TGDBA477"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn how to use the <code class="codeph">V$PROCESS</code> view</p>
</li>
<li>
<p><a class="olink REFRN10335" target="_blank" href="../REFRN/GUID-7A668A49-9FC5-4245-AD27-10D90E5AE8A8.htm#REFRN10335"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">THREADED_EXECUTION</code> initialization parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="example" --></div>
</div>
</div>
<a id="CNCPT902"></a>
<div class="props_rev_3"><a id="GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1"></a>
<h2 id="CNCPT-GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1" class="sect2">Overview of Client Processes</h2>
<div>
<p>When a user runs an application such as a Pro*C program or SQL*Plus, the operating system creates a client process (sometimes called a <span class="italic">user process</span>) to run the user application. The client application has Oracle Database libraries linked into it that provide the APIs required to communicate with the database.</p>
</div>
<a id="CNCPT9836"></a>
<div class="props_rev_3"><a id="GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072"></a>
<h3 id="CNCPT-GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072" class="sect3">Client and Server Processes</h3>
<div>
<p>Client processes differ in important ways from the Oracle processes interacting directly with the instance.</p>
<p>The Oracle processes servicing the client process can read from and write to the SGA, whereas the client process cannot. A client process can run on a host other than the database host, whereas Oracle processes cannot.</p>
<p>For example, assume that a user on a client host starts SQL*Plus, and then connects over the network to database <code class="codeph">sample</code> on a different host when the database instance is not started:</p>
<pre dir="ltr">SQL&gt; CONNECT SYS@inst1 AS SYSDBA
Enter password: *********
Connected to an idle instance.
</pre>
<p>On the client host, a search of the processes for either <code class="codeph">sqlplus</code> or <code class="codeph">sample</code> shows only the <code class="codeph">sqlplus</code> client process:</p>
<pre dir="ltr">% ps -ef | grep -e sample -e sqlplus | grep -v grep
clientuser 29437 29436  0 15:40 pts/1    00:00:00 sqlplus           as sysdba
</pre>
<p>On the database host, a search of the processes for either <code class="codeph">sqlplus</code> or <code class="codeph">sample</code> shows a server process with a nonlocal connection, but no client process:</p>
<pre dir="ltr">% ps -ef | grep -e sample -e sqlplus | grep -v grep
serveruser 29441     1  0 15:40 ?        00:00:00 oraclesample (LOCAL=NO)
</pre>
<div class="infoboxnotealso" id="GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072__GUID-CDE856A4-1C63-4F1B-9030-A887DC6E769B">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" title="When Oracle Database starts an instance, it proceeds through stages.">How an Instance Is Started</a>&#34;</span> to learn how a client can connect to a database when the instance is not started</p>
</div>
</div>
</div>
<a id="CNCPT89080"></a><a id="CNCPT89081"></a><a id="CNCPT89082"></a><a id="CNCPT89083"></a><a id="CNCPT1247"></a>
<div class="props_rev_3"><a id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB"></a>
<h3 id="CNCPT-GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB" class="sect3">Connections and Sessions</h3>
<div>
<p>A database <span class="bold">connection</span> is a physical communication pathway between a client process and a database instance.</p>
<p>During a connection, a communication pathway is established using available interprocess communication mechanisms or network software. Typically, a connection occurs between a client process and a server process or dispatcher, but it can also occur between a client process and Oracle Connection Manager (CMAN).</p>
<p>A database <a href="glossary.htm#GUID-0F44C072-9841-4E2E-B846-FB16A2E54139"><span class="xrefglossterm">session</span></a> is a logical entity in the database instance memory that represents the state of a current user login to a database. For example, when a user is authenticated by the database with a password, a session is established for this user. A session lasts from the time the user is authenticated by the database until the time the user disconnects or exits the database application.</p>
<p>A single connection can have 0, 1, or more sessions established on it. The sessions are independent: a commit in one session does not affect transactions in other sessions.</p>
<div class="infobox-note" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__GUID-58E168A7-F4FE-4117-A02B-74B67BF24031">
<p class="notep1">Note:</p>
<p>If Oracle Net <a href="glossary.htm#GUID-50E2A9E3-613B-460D-B815-E36205D4FB05"><span class="xrefglossterm">connection pooling</span></a> is configured, then it is possible for a connection to drop but leave the sessions intact.</p>
</div>
<p>Multiple sessions can exist concurrently for a single database user. As shown in the following figure, user <code class="codeph">hr</code> can have multiple connections to a database. In dedicated server connections, the database creates a server process on behalf of each connection. Only the client process that causes the dedicated server to be created uses it. In a shared server connection, many client processes access a single shared server process.</p>
<div class="figure" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABDBIJC">
<p class="titleinfigure">Figure 15-2 One Session for Each Connection</p>
<img width="497" height="300" src="img/GUID-7573E230-C20A-40BE-82C1-390F4CDF883F-default.gif" alt="Description of Figure 15-2 follows" title="Description of Figure 15-2 follows"/><br/>
<a href="img_text/GUID-7573E230-C20A-40BE-82C1-390F4CDF883F-print.htm">Description of &#34;Figure 15-2 One Session for Each Connection&#34;</a></div>
<!-- class="figure" -->
<p><a href="process.htm#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABBCEEF">Figure 15-3</a> illustrates a case in which user <code class="codeph">hr</code> has a single connection to a database, but this connection has two sessions.</p>
<div class="figure" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABBCEEF">
<p class="titleinfigure">Figure 15-3 Two Sessions in One Connection</p>
<img width="495" height="182" src="img/GUID-586753B2-4782-49A6-A5AC-5CA590EC252E-default.gif" alt="Description of Figure 15-3 follows" title="Description of Figure 15-3 follows"/><br/>
<a href="img_text/GUID-586753B2-4782-49A6-A5AC-5CA590EC252E-print.htm">Description of &#34;Figure 15-3 Two Sessions in One Connection&#34;</a></div>
<!-- class="figure" -->
<p>Generating an autotrace report of SQL statement execution statistics re-creates the scenario in <a href="process.htm#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABBCEEF">Figure 15-3</a>.</p>
<p>The <code class="codeph">DISCONNECT</code> command in <a href="process.htm#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABGDIIB">Example 15-2</a> actually ends the <span class="italic">sessions</span>, not the connection.</p>
<div class="example" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABGDIIB">
<p class="titleinexample">Example 15-2 Connections and Sessions</p>
<p>The following example connects SQL*Plus to the database as user <code class="codeph">SYSTEM</code> and enables tracing, thus creating a new session (sample output included):</p>
<pre dir="ltr">SQL&gt; SELECT SID, SERIAL#, PADDR FROM V$SESSION WHERE USERNAME = USER;

SID SERIAL# PADDR
--- ------- --------
 90      91 3BE2E41C
 
SQL&gt; SET AUTOTRACE ON STATISTICS;
SQL&gt; SELECT SID, SERIAL#, PADDR FROM V$SESSION WHERE USERNAME = USER;
 
SID SERIAL# PADDR
--- ------- --------
 88      93 3BE2E41C
 90      91 3BE2E41C
...
SQL&gt; DISCONNECT
</pre>
<p>The <code class="codeph">DISCONNECT</code> command actually ends the <span class="italic">sessions</span>, not the connection. Opening a new terminal and connecting to the instance as a different user, the following query shows that the connection with the address <code class="codeph">3BE2E41C</code> is still active.</p>
<pre dir="ltr">SQL&gt; CONNECT dba1@inst1
Password: ********
Connected.
SQL&gt; SELECT PROGRAM FROM V$PROCESS WHERE ADDR = HEXTORAW(&#39;3BE2E41C&#39;);

PROGRAM
------------------------------------------------
oracle@stbcs09-1 (TNS V1-V3)
</pre>
<div class="infoboxnotealso" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__GUID-1073DD9E-2641-4C52-869E-15BD4D0F2B73">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="In a shared server architecture, a dispatcher directs multiple incoming network session requests to a pool of shared server processes">Shared Server Architecture</a>&#34;</span></p>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="CNCPT89228"></a>
<div class="props_rev_3"><a id="GUID-251AC080-BD5C-415E-8549-B67F8653AD40"></a>
<h3 id="CNCPT-GUID-251AC080-BD5C-415E-8549-B67F8653AD40" class="sect3">Database Operations</h3>
<div>
<p>In the context of database monitoring, a <span class="bold">database operation</span> is a logical entity that includes a SQL statement, a PL/SQL block, or a composite of the two.</p>
<p>A <a href="glossary.htm#GUID-7747199F-B131-4ACB-AC61-07747C2E385A"><span class="xrefglossterm">simple database operation</span></a> is either a single SQL statement, or a single PL/SQL procedure or function. A <a href="glossary.htm#GUID-8EC99CA9-7748-409C-9E78-1D9722168A65"><span class="xrefglossterm">composite database operation</span></a> is activity between two points in time in a single database session.</p>
<p>You can divide a large set of tasks into database operations, and subdivide operations into phases, so that you can more easily monitor, compare, and tune tasks. You cannot nest operations and phases within one another. A use case is a PL/SQL batch job that takes three times as long as usual to complete. By configuring the job as a database operation, you can easily identify and tune the expensive steps in the job.</p>
<p>You create and manage database operations with the <code class="codeph">DBMS_SQL_MONITOR</code> package. Each execution of a database operation is uniquely identified by a pair of attributes: operation name and execution ID. Two occurrences of the same database operation can execute at the same time using the same name but different IDs. Each execution of a database operation with the same name can contain different statements.</p>
<div class="infoboxnotealso" id="GUID-251AC080-BD5C-415E-8549-B67F8653AD40__GUID-4F7A0F2D-F46F-44D9-BC28-0587311B52A7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink TGSQL789" target="_blank" href="../TGSQL/tgsql_monit.htm#TGSQL789"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn how to monitor database operations</p>
</li>
<li>
<p><a class="olink DWHSG011" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=DWHSG011"><span><cite>Oracle Database Data Warehousing Guide</cite></span></a> to learn how to monitor long-running loads</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT1248"></a>
<div class="props_rev_3"><a id="GUID-310F28E9-793A-4816-87CB-FDB54AB68957"></a>
<h2 id="CNCPT-GUID-310F28E9-793A-4816-87CB-FDB54AB68957" class="sect2">Overview of Server Processes</h2>
<div>
<p>Oracle Database creates server processes to handle the requests of client processes connected to the instance. A client process always communicates with a database through a separate server process.</p>
<p>Server processes created on behalf of a database application can perform one or more of the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Parse and run SQL statements issued through the application, including creating and executing the <a href="glossary.htm#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a></p>
</li>
<li>
<p>Execute PL/SQL code</p>
</li>
<li>
<p>Read data blocks from data files into the database buffer cache (the DBW background process has the task of writing modified blocks back to disk)</p>
</li>
<li>
<p>Return results in such a way that the application can process the information</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-310F28E9-793A-4816-87CB-FDB54AB68957__GUID-73D21F6F-4949-4E28-875A-FF3E5DDF2C4F">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="sqllangu.htm#GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF" title="The general stages of SQL processing are parsing, optimization, row source generation, and execution. Depending on the statement, the database may omit some of these steps.">Stages of SQL Processing</a>&#34;</span></p>
</div>
</div>
<a id="CNCPT9838"></a>
<div class="props_rev_3"><a id="GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2"></a>
<h3 id="CNCPT-GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2" class="sect3">Dedicated Server Processes</h3>
<div>
<p>In dedicated server connections, the client connection is associated with one and only one server process.</p>
<p>On Linux, 20 client processes connected to a database instance are serviced by 20 server processes. Each client process communicates directly with its server process. This server process is dedicated to its client process for the duration of the session. The server process stores process-specific information and the UGA in its PGA.</p>
<div class="infoboxnotealso" id="GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2__GUID-86C47065-5FBF-4940-A679-7504F1340115">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" title="In a dedicated server architecture, the server process created on behalf of each client process is called a dedicated server process (or shadow process).">Dedicated Server Architecture</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-26FCB7D9-7B1D-4F5A-88AA-1DB1E0ACD2BE" title="PGA memory allocation depends on whether the database uses dedicated or shared server connections.">PGA Usage in Dedicated and Shared Server Modes</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT9839"></a>
<div class="props_rev_3"><a id="GUID-A4FA88C6-8447-4636-911C-5864E0DC8572"></a>
<h3 id="CNCPT-GUID-A4FA88C6-8447-4636-911C-5864E0DC8572" class="sect3">Shared Server Processes</h3>
<div>
<p>In shared server connections, client applications connect over a network to a <span class="bold">dispatcher process</span>, not a server process. For example, 20 client processes can connect to a single dispatcher process.</p>
<p>The dispatcher process receives requests from connected clients and puts them into a request queue in the large pool. The first available shared server process takes the request from the queue and processes it. Afterward, the shared server places the result into the dispatcher response queue. The dispatcher process monitors this queue and transmits the result to the client.</p>
<p>Like a dedicated server process, a shared server process has its own PGA. However, the UGA for a session is in the SGA so that any shared server can access session data.</p>
<div class="infoboxnotealso" id="GUID-A4FA88C6-8447-4636-911C-5864E0DC8572__GUID-E0BC680F-27E9-4DA9-8C4A-D99D1A4955A6">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="In a shared server architecture, a dispatcher directs multiple incoming network session requests to a pool of shared server processes">Shared Server Architecture</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-1ECB5213-AC4E-4BB4-9113-91C761676B34" title="The large pool is an optional memory area intended for memory allocations that are larger than is appropriate for the shared pool.">Large Pool</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT1249"></a>
<div class="props_rev_3"><a id="GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D"></a>
<h2 id="CNCPT-GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" class="sect2">Overview of Background Processes</h2>
<div>
<p>Background processes are additional processes used by a multiprocess Oracle database. The background processes perform maintenance tasks required to operate the database and to maximize performance for multiple users.</p>
<p>Each background process has a separate task, but works with the other processes. For example, the LGWR process writes data from the <a href="glossary.htm#GUID-BADF3CFF-08C6-42E8-A05E-DEB83502572A"><span class="xrefglossterm">redo log buffer</span></a> to the <a href="glossary.htm#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">online redo log</span></a>. When a filled redo log file is ready to be archived, LGWR signals another process to archive the redo log file.</p>
<p>Oracle Database creates background processes automatically when a database instance starts. An instance can have many background processes, not all of which always exist in every database configuration. The following query lists the background processes running on your database:</p>
<pre dir="ltr">SELECT PNAME 
FROM   V$PROCESS 
WHERE  PNAME IS NOT NULL 
ORDER BY PNAME;
</pre>
<p>This section includes the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="process.htm#GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A" title="Mandatory background processes are present in all typical database configurations. These processes run by default in a database instance started with a minimally configured initialization parameter file.">Mandatory Background Processes</a></p>
</li>
<li>
<p><a href="process.htm#GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02" title="An optional background process is any background process not defined as mandatory.">Optional Background Processes</a></p>
</li>
<li>
<p><a href="process.htm#GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49" title="Slave processes are background processes that perform work on behalf of other processes.">Slave Processes</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D__GUID-58621A25-4C0B-4F2A-B303-E78B80BED83B">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN104" target="_blank" href="../REFRN/GUID-86184690-5531-405F-AA05-BB935F57B76D.htm#REFRN104"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of all the background processes</p>
</div>
</div>
<a id="CNCPT9840"></a>
<div class="props_rev_3"><a id="GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A"></a>
<h3 id="CNCPT-GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A" class="sect3">Mandatory Background Processes</h3>
<div>
<p>Mandatory background processes are present in all typical database configurations. These processes run by default in a database instance started with a minimally configured initialization parameter file.</p>
<p>This section describes the following mandatory background processes:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="process.htm#GUID-B5CA9579-53DB-442C-A85F-F21FD334833A" title="The process monitor (PMON) monitors the other background processes and performs process recovery when a server or dispatcher process terminates abnormally.">Process Monitor Process (PMON)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A" title="The listener registration process (LREG) registers information about the database instance and dispatcher processes with the Oracle Net Listener.">Listener Registration Process (LREG)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" title="The system monitor process (SMON) is in charge of a variety of system-level cleanup duties.">System Monitor Process (SMON)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" title="The database writer process (DBW) writes the contents of database buffers to data files. DBW processes write modified buffers in the database buffer cache to disk.">Database Writer Process (DBW)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85" title="The log writer process (LGWR) manages the online redo log buffer.">Log Writer Process (LGWR)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" title="The checkpoint process (CKPT) updates the control file and data file headers with checkpoint information and signals DBW to write blocks to disk. Checkpoint information includes the checkpoint position, SCN, and location in online redo log to begin recovery.">Checkpoint Process (CKPT)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC" title="The manageability monitor process (MMON) performs many tasks related to the Automatic Workload Repository (AWR).">Manageability Monitor Processes (MMON and MMNL)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC" title="In a distributed database, the recoverer process (RECO) automatically resolves failures in distributed transactions.">Recoverer Process (RECO)</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A__GUID-DCAC8F55-0364-4765-AA4D-82C222331C6E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="startup.htm#GUID-C1510B39-9583-4B97-8E69-8A5B7EB7B356__BABGCIDC">Example 13-1</a></p>
</li>
<li>
<p><a class="olink REFRN104" target="_blank" href="../REFRN/GUID-86184690-5531-405F-AA05-BB935F57B76D.htm#REFRN104"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of other mandatory processes, including MMAN, DIAG, VKTM, DBRM, and PSP0</p>
</li>
<li>
<p><a class="olink RACAD7275" target="_blank" href="../RACAD/GUID-AEBD3F49-4F10-4BDE-9008-DC1AF8E7DB42.htm#RACAD7275"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> and <a class="olink CWADD90953" target="_blank" href="../CWADD/GUID-D129E5BF-B00B-4B61-AAA6-46CFA99F04CF.htm#CWADD90953"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for more information about background processes specific to Oracle RAC and Oracle Clusterware</p>
</li>
</ul>
</div>
</div>
<a id="CNCPT1254"></a>
<div class="props_rev_3"><a id="GUID-B5CA9579-53DB-442C-A85F-F21FD334833A"></a>
<h4 id="CNCPT-GUID-B5CA9579-53DB-442C-A85F-F21FD334833A" class="sect4">Process Monitor Process (PMON)</h4>
<div>
<p>The <span class="bold">process monitor (PMON)</span> monitors the other background processes and performs process recovery when a server or dispatcher process terminates abnormally.</p>
<p>PMON is responsible for cleaning up the database buffer cache and freeing resources that the client process was using. For example, PMON resets the status of the active <a href="glossary.htm#GUID-BFF71130-2760-4C64-8829-7772C803FBE7"><span class="xrefglossterm">transaction table</span></a>, releases locks that are no longer required, and removes the process ID from the list of active processes.</p>
</div>
</div>
<a id="CNCPT89329"></a>
<div class="props_rev_3"><a id="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A"></a>
<h4 id="CNCPT-GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A" class="sect4">Listener Registration Process (LREG)</h4>
<div>
<p>The <span class="bold">listener registration process (LREG)</span> registers information about the database instance and dispatcher processes with the Oracle Net Listener.</p>
<p>When an instance starts, LREG polls the listener to determine whether it is running. If the listener is running, then LREG passes it relevant parameters. If it is not running, then LREG periodically attempts to contact it.</p>
<div class="infobox-note" id="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A__GUID-A004EB19-9A80-44F6-9146-8F0397915DA1">
<p class="notep1">Note:</p>
<p>In releases before Oracle Database 12<span class="italic">c</span>, PMON performed the listener registration.</p>
</div>
<div class="infoboxnotealso" id="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A__GUID-F38340BA-1B48-4B14-AE30-6C23D1F0F419">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="dist_pro.htm#GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" title="The Oracle Net Listener (the listener) is a server-side process that listens for incoming client connection requests and manages traffic to the database. When a database instance starts, and at various times during its life, the instance contacts a listener and establishes a communication pathway to this instance.">The Oracle Net Listener</a>&#34;</span></p>
</div>
</div>
</div>
<a id="CNCPT1253"></a>
<div class="props_rev_3"><a id="GUID-21393D94-CA2D-4551-BD20-28BEFDC98631"></a>
<h4 id="CNCPT-GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" class="sect4">System Monitor Process (SMON)</h4>
<div>
<p>The <span class="bold">system monitor process (SMON)</span> is in charge of a variety of system-level cleanup duties.</p>
<p>Duties assigned to SMON include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Performing instance recovery, if necessary, at instance startup. In an Oracle RAC database, the SMON process of one database instance can perform instance recovery for a failed instance.</p>
</li>
<li>
<p>Recovering terminated transactions that were skipped during instance recovery because of file-read or tablespace offline errors. SMON recovers the transactions when the tablespace or file is brought back online.</p>
</li>
<li>
<p>Cleaning up unused temporary segments. For example, Oracle Database allocates extents when creating an index. If the operation fails, then SMON cleans up the temporary space.</p>
</li>
<li>
<p>Coalescing contiguous free extents within dictionary-managed tablespaces.</p>
</li>
</ul>
<p>SMON checks regularly to see whether it is needed. Other processes can call SMON if they detect a need for it.</p>
</div>
</div>
<a id="CNCPT1250"></a>
<div class="props_rev_3"><a id="GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233"></a>
<h4 id="CNCPT-GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" class="sect4">Database Writer Process (DBW)</h4>
<div>
<p>The <span class="bold">database writer process (DBW)</span> writes the contents of database buffers to data files. DBW processes write modified buffers in the database buffer cache to disk.</p>
<p>Although one database writer process (DBW0) is adequate for most systems, you can configure additional processes&mdash;DBW1 through DBW9, DBWa through DBWz, and BW36 through BW99&mdash;to improve write performance if your system modifies data heavily. These additional DBW processes are not useful on uniprocessor systems.</p>
<p>The DBW process writes dirty buffers to disk under the following conditions:</p>
<ul style="list-style-type: disc;">
<li>
<p>When a server process cannot find a clean reusable buffer after scanning a threshold number of buffers, it signals DBW to write. DBW writes dirty buffers to disk asynchronously if possible while performing other processing.</p>
</li>
<li>
<p>DBW periodically writes buffers to advance the <a href="glossary.htm#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">checkpoint</span></a>, which is the position in the <a href="glossary.htm#GUID-68F9BFC2-703C-48FF-BE8C-236FE3BC8977"><span class="xrefglossterm">redo thread</span></a> from which instance recovery begins. The log position of the checkpoint is determined by the oldest dirty buffer in the buffer cache.</p>
</li>
</ul>
<p>In many cases the blocks that DBW writes are scattered throughout the disk. Thus, the writes tend to be slower than the sequential writes performed by LGWR. DBW performs multiblock writes when possible to improve efficiency. The number of blocks written in a multiblock write varies by operating system.</p>
<div class="infoboxnotealso" id="GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233__GUID-7ED63A79-FD5D-4927-BE35-926FF8F50213">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-4FF66585-E469-4631-9225-29D75594CD14" title="The database buffer cache, also called the buffer cache, is the memory area that stores copies of data blocks read from data files.">Database Buffer Cache</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="startup.htm#GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" title="A checkpoint is a crucial mechanism in consistent database shutdowns, instance recovery, and Oracle Database operation generally.">Overview of Checkpoints</a>&#34;</span></p>
</li>
<li>
<p><a class="olink GUID-01C9C892-4C0B-4524-82B3-146D1C191BDD" target="_blank" href="../TGDBA/pfgrf_instance_tune.htm#GUID-01C9C892-4C0B-4524-82B3-146D1C191BDD"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for advice on configuring, monitoring, and tuning DBW</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT1251"></a>
<div class="props_rev_3"><a id="GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85"></a>
<h4 id="CNCPT-GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85" class="sect4">Log Writer Process (LGWR)</h4>
<div>
<p>The <span class="bold">log writer process (LGWR)</span> manages the online redo log buffer.</p>
<p>LGWR writes one portion of the buffer to the online redo log. By separating the tasks of modifying database buffers, performing scattered writes of dirty buffers to disk, and performing fast sequential writes of redo to disk, the database improves performance.</p>
<p>In the following circumstances, LGWR writes all redo entries that have been copied into the buffer since the last time it wrote:</p>
<ul style="list-style-type: disc;">
<li>
<p>A user commits a transaction.</p>
</li>
<li>
<p>An online redo <a href="glossary.htm#GUID-1A479613-DF95-469C-9C3B-D7DBA54F77F7"><span class="xrefglossterm">log switch</span></a> occurs.</p>
</li>
<li>
<p>Three seconds have passed since LGWR last wrote.</p>
</li>
<li>
<p>The redo log buffer is one-third full or contains 1 MB of buffered data.</p>
</li>
<li>
<p>DBW must write modified buffers to disk.</p>
<p>Before DBW can write a dirty buffer, the database must write to disk the redo records associated with changes to the buffer (the <a href="glossary.htm#GUID-A20D57FC-78FF-4F09-868E-849806568EE7"><span class="xrefglossterm">write-ahead protocol</span></a>). If DBW discovers that some redo records have not been written, it signals LGWR to write the records to disk, and waits for LGWR to complete before writing the data buffers to disk.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85__GUID-EFD78033-2AB6-4018-9824-521DA6930038">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="transact.htm#GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA">Commits of Transactions</a>&#34;</span></p>
</div>
</div>
<a id="CNCPT89084"></a>
<div class="props_rev_3"><a id="GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228"></a>
<h5 id="CNCPT-GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228" class="sect5">LGWR and Commits</h5>
<div>
<p>Oracle Database uses a fast commit mechanism to improve performance for committed transactions.</p>
<p>When a user issues a <code class="codeph">COMMIT</code> statement, the transaction is assigned a <span class="bold">system change number (SCN)</span>. LGWR puts a commit record in the redo log buffer and writes it to disk immediately, along with the commit SCN and transaction&#39;s redo entries.</p>
<p>The redo log buffer is circular. When LGWR writes redo entries from the redo log buffer to an online redo log file, server processes can copy new entries over the entries in the redo log buffer that have been written to disk. LGWR normally writes fast enough to ensure that space is always available in the buffer for new entries, even when access to the online redo log is heavy.</p>
<p>The atomic write of the redo entry containing the transaction&#39;s commit record is the single event that determines that the transaction has committed. Oracle Database returns a success code to the committing transaction although the data buffers have not yet been written to disk. The corresponding changes to data blocks are deferred until it is efficient for DBW to write them to the data files.</p>
<div class="infobox-note" id="GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228__GUID-B59CF13D-8D48-4640-80E7-93A898847ACE">
<p class="notep1">Note:</p>
<p>LGWR can write redo log entries to disk before a transaction commits. The changes that are protected by the redo entries become permanent only if the transaction later commits.</p>
</div>
<p>When activity is high, LGWR can use group commits. For example, a user commits, causing LGWR to write the transaction&#39;s redo entries to disk. During this write other users commit. LGWR cannot write to disk to commit these transactions until its previous write completes. Upon completion, LGWR can write the list of redo entries of waiting transactions (not yet committed) in one operation. In this way, the database minimizes disk I/O and maximizes performance. If commits requests continue at a high rate, then every write by LGWR can contain multiple commit records.</p>
</div>
</div>
<a id="CNCPT89085"></a>
<div class="props_rev_3"><a id="GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C"></a>
<h5 id="CNCPT-GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C" class="sect5">LGWR and Inaccessible Files</h5>
<div>
<p>LGWR writes synchronously to the active mirrored group of online redo log files.</p>
<p>If a log file is inaccessible, then LGWR continues writing to other files in the group and writes an error to the LGWR trace file and the <a href="glossary.htm#GUID-ACC7727F-41AE-47B1-AADB-2585EE828792"><span class="xrefglossterm">alert log</span></a>. If all files in a group are damaged, or if the group is unavailable because it has not been archived, then LGWR cannot continue to function.</p>
<div class="infoboxnotealso" id="GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C__GUID-022BB8CD-6F65-4549-BAC1-8679359C470C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="physical.htm#GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1" title="The online redo log for a database instance is called a redo thread.">How Oracle Database Writes to the Online Redo Log</a>&#34;</span> and <span class="q">&#34;<a href="memory.htm#GUID-C2AD1BF6-A5AE-42E9-9677-0AA08126864B" title="The redo log buffer is a circular buffer in the SGA that stores redo entries describing changes made to the database.">Redo Log Buffer</a>&#34;</span></p>
</li>
<li>
<p><a class="olink TGDBA553" target="_blank" href="../TGDBA/tune_buffer_cache.htm#TGDBA553"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a>for information about how to monitor and tune the performance of LGWR</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="CNCPT89086"></a><a id="CNCPT1252"></a>
<div class="props_rev_3"><a id="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372"></a>
<h4 id="CNCPT-GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" class="sect4">Checkpoint Process (CKPT)</h4>
<div>
<p>The <span class="bold">checkpoint process (CKPT)</span> updates the control file and data file headers with checkpoint information and signals DBW to write blocks to disk. Checkpoint information includes the checkpoint position, SCN, and location in online redo log to begin recovery.</p>
<p>As shown in <a href="process.htm#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372__BABEACIA">Figure 15-4</a>, CKPT does not write data blocks to data files or redo blocks to online redo log files.</p>
<div class="figure" id="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372__BABEACIA">
<p class="titleinfigure">Figure 15-4 Checkpoint Process</p>
<img width="281" height="371" src="img/GUID-890F7A9A-C061-4D15-B48B-5C21F0DAB953-default.gif" alt="Description of Figure 15-4 follows" title="Description of Figure 15-4 follows"/><br/>
<a href="img_text/GUID-890F7A9A-C061-4D15-B48B-5C21F0DAB953-print.htm">Description of &#34;Figure 15-4 Checkpoint Process&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372__GUID-81902423-E0A8-45AD-8D54-DE4B608B60D7">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="startup.htm#GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" title="A checkpoint is a crucial mechanism in consistent database shutdowns, instance recovery, and Oracle Database operation generally.">Overview of Checkpoints</a>&#34;</span></p>
</div>
</div>
</div>
<a id="CNCPT89087"></a>
<div class="props_rev_3"><a id="GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC"></a>
<h4 id="CNCPT-GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC" class="sect4">Manageability Monitor Processes (MMON and MMNL)</h4>
<div>
<p>The <span class="bold">manageability monitor process (MMON)</span> performs many tasks related to the <span class="bold">Automatic Workload Repository (AWR)</span>.</p>
<p>For example, MMON writes when a <span class="bold">metric</span> violates its threshold value, taking snapshots, and capturing statistics value for recently modified SQL objects.</p>
<p>The manageability monitor lite process (MMNL) writes statistics from the Active Session History (ASH) buffer in the SGA to disk. MMNL writes to disk when the ASH buffer is full.</p>
<div class="infoboxnotealso" id="GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC__GUID-46AA81F8-FAB6-4264-9918-9281F38748F1">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-1C0B57E9-1D1D-4C48-8A3D-5F56160435ED" title="Automatic Workload Repository (AWR) is a repository of historical performance data that includes cumulative statistics for the system, sessions, individual SQL statements, segments, and services.">Automatic Workload Repository (AWR)</a>&#34;</span> and <span class="q">&#34;<a href="cncptdba.htm#GUID-12C38C77-BD4A-4D0D-8A67-FF7BF2167C77" title="Active Session History (ASH) samples active database sessions each second, writing the data to memory and persistent storage. ASH is an integral part of the database self-management framework and is useful for diagnosing performance problems.">Active Session History (ASH)</a>&#34;</span></p>
</div>
</div>
</div>
<a id="CNCPT1255"></a>
<div class="props_rev_3"><a id="GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC"></a>
<h4 id="CNCPT-GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC" class="sect4">Recoverer Process (RECO)</h4>
<div>
<p>In a distributed database, the <span class="bold">recoverer process (RECO)</span> automatically resolves failures in distributed transactions.</p>
<p>The RECO process of a node automatically connects to other databases involved in an in-doubt distributed transaction. When RECO reestablishes a connection between the databases, it automatically resolves all in-doubt transactions, removing from each database&#39;s pending transaction table any rows that correspond to the resolved transactions.</p>
<div class="infoboxnotealso" id="GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC__GUID-1D2703C0-F49C-4015-97D1-8444676E49D1">
<p class="notep1">See Also:</p>
<p><a class="olink ADMIN12287" target="_blank" href="../ADMIN/ds_txnman.htm#ADMIN12287"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> for more information about transaction recovery in distributed systems</p>
</div>
</div>
</div>
</div>
<a id="CNCPT9841"></a>
<div class="props_rev_3"><a id="GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02"></a>
<h3 id="CNCPT-GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02" class="sect3">Optional Background Processes</h3>
<div>
<p>An optional background process is any background process not defined as mandatory.</p>
<p>Most optional background processes are specific to tasks or features. For example, background processes that support Oracle ASM are only available when this feature is enabled.</p>
<p>This section describes some common optional processes:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="process.htm#GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887" title="An archiver process (ARCn) copies online redo log files to offline storage after a redo log switch occurs.">Archiver Processes (ARCn)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9" title="A queue process runs user jobs, often in batch mode. A job is a user-defined task scheduled to run one or more times.">Job Queue Processes (CJQ0 and Jnnn)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-20C38AD6-B413-4D04-A21C-A7B81280A153" title="The flashback data archive process (FBDA) archives historical rows of tracked tables into Flashback Data Archives.">Flashback Data Archive Process (FBDA)</a></p>
</li>
<li>
<p><a href="process.htm#GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC" title="The SMCO process coordinates the execution of various space management related tasks.">Space Management Coordinator Process (SMCO)</a></p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02__GUID-163A469B-8BE3-4294-8FC5-DFDDCDF270AB">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cmntopc.htm#GUID-7CCB29F5-6B3B-4D15-B428-D10A6BFB35D5" title="Advanced Queuing stores user messages in abstract storage units called queues. Oracle Database Advanced Queuing (AQ) supports all the standard features of message queuing systems.">Oracle Database Advanced Queuing (AQ)</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN104" target="_blank" href="../REFRN/GUID-86184690-5531-405F-AA05-BB935F57B76D.htm#REFRN104"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of background processes specific to AQ and Oracle ASM</p>
</li>
</ul>
</div>
</div>
<a id="CNCPT1257"></a>
<div class="props_rev_3"><a id="GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887"></a>
<h4 id="CNCPT-GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887" class="sect4">Archiver Processes (ARC<span class="italic">n</span>)</h4>
<div>
<p>An <span class="bold">archiver process (ARCn)</span> copies online redo log files to offline storage after a redo log switch occurs.</p>
<p>These processes can also collect transaction redo data and transmit it to <a href="glossary.htm#GUID-728D4956-0F56-4D39-A63A-2E3FF5CCEDE4"><span class="xrefglossterm">standby database</span></a> destinations. ARC<span class="variable">n</span> processes exist <span class="italic">only</span> when the database is in <a href="glossary.htm#GUID-1AA9F015-FD15-4A08-BE06-04F0A6797782"><span class="xrefglossterm">ARCHIVELOG mode</span></a> and automatic archiving is enabled.</p>
<div class="infoboxnotealso" id="GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887__GUID-1D4CA947-553A-4B0F-90E8-C0A3A8E6359F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="physical.htm#GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E" title="An archived redo log file is a copy of a filled member of an online redo log group. The file is not considered part of the database, but is an offline copy of an online redo log file created by the database and written to a user-specified location.">Archived Redo Log Files</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN11337" target="_blank" href="../ADMIN/archredo.htm#ADMIN11337"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn how to adjust the number of archiver processes</p>
</li>
<li>
<p><a class="olink TGDBA553" target="_blank" href="../TGDBA/tune_buffer_cache.htm#TGDBA553"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn how to tune archiver performance</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT1256"></a>
<div class="props_rev_3"><a id="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9"></a>
<h4 id="CNCPT-GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9" class="sect4">Job Queue Processes (CJQ0 and Jnnn)</h4>
<div>
<p>A <span class="bold">queue process</span> runs user jobs, often in batch mode. A job is a user-defined task scheduled to run one or more times.</p>
<p>For example, you can use a job queue to schedule a long-running update in the background. Given a start date and a time interval, the job queue processes attempt to run the job at the next occurrence of the interval.</p>
<p>Oracle Database manages job queue processes dynamically, thereby enabling job queue clients to use more job queue processes when required. The database releases resources used by the new processes when they are idle.</p>
<p>Dynamic job queue processes can run many jobs concurrently at a given interval. The sequence of events is as follows:</p>
<ol>
<li>
<p>The job coordinator process (CJQ0) is automatically started and stopped as needed by Oracle Scheduler. The coordinator process periodically selects jobs that need to be run from the system <code class="codeph">JOB$</code> table. New jobs selected are ordered by time.</p>
</li>
<li>
<p>The coordinator process dynamically spawns job queue slave processes (Jnnn) to run the jobs.</p>
</li>
<li>
<p>The job queue process runs one of the jobs that was selected by the CJQ0 process for execution. Each job queue process runs one job at a time to completion.</p>
</li>
<li>
<p>After the process finishes execution of a single job, it polls for more jobs. If no jobs are scheduled for execution, then it enters a sleep state, from which it wakes up at periodic intervals and polls for more jobs. If the process does not find any new jobs, then it terminates after a preset interval.</p>
</li>
</ol>
<p>The initialization parameter <code class="codeph">JOB_QUEUE_PROCESSES</code> represents the maximum number of job queue processes that can concurrently run on an instance. However, clients should not assume that all job queue processes are available for job execution.</p>
<div class="infobox-note" id="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9__GUID-0C5F1AD9-2AF4-43DA-BE02-8D79873257F8">
<p class="notep1">Note:</p>
<p>The coordinator process is not started if the initialization parameter <code class="codeph">JOB_QUEUE_PROCESSES</code> is set to 0.</p>
</div>
<div class="infoboxnotealso" id="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9__GUID-F3F04009-84B2-4762-A6D5-A45E69AA7354">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cncptdba.htm#GUID-077CBA84-5099-4550-AA11-250B301B609A" title="Oracle Scheduler (the Scheduler) enables database administrators and application developers to control when and where various tasks take place in the database environment.">Oracle Scheduler</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMIN034" target="_blank" href="../ADMIN/scheduse.htm#ADMIN034"><span><cite>Oracle Database Administrator&rsquo;s Guide</cite></span></a> to learn about Oracle Scheduler jobs</p>
</li>
<li>
<p><a class="olink ADQUE2530" target="_blank" href="../ADQUE/componet.htm#ADQUE2530"><span><cite>Oracle Database Advanced Queuing User&#39;s Guide</cite></span></a> to learn about AQ background processes</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT89089"></a>
<div class="props_rev_3"><a id="GUID-20C38AD6-B413-4D04-A21C-A7B81280A153"></a>
<h4 id="CNCPT-GUID-20C38AD6-B413-4D04-A21C-A7B81280A153" class="sect4">Flashback Data Archive Process (FBDA)</h4>
<div>
<p>The <span class="bold">flashback data archive process (FBDA)</span> archives historical rows of tracked tables into Flashback Data Archives.</p>
<p>When a transaction containing DML on a tracked table commits, this process stores the pre-image of the changed rows into the Flashback Data Archive. It also keeps metadata on the current rows.</p>
<p>FBDA automatically manages the Flashback Data Archive for space, organization, and retention. Additionally, the process keeps track of how long the archiving of tracked transactions has occurred.</p>
</div>
</div>
<a id="CNCPT89090"></a>
<div class="props_rev_3"><a id="GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC"></a>
<h4 id="CNCPT-GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC" class="sect4">Space Management Coordinator Process (SMCO)</h4>
<div>
<p>The SMCO process coordinates the execution of various space management related tasks.</p>
<p>Typical tasks include proactive space allocation and space reclamation. SMCO dynamically spawns slave processes (W<span class="italic">nnn</span>) to implement the task.</p>
<div class="infoboxnotealso" id="GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC__GUID-DFCFE327-4BB4-4ADE-A0F6-CFB4FA75E8F0">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS01011" target="_blank" href="../ADFNS/adfns_flashback.htm#ADFNS01011"><span><cite>Oracle Database Development Guide</cite></span></a> to learn about the Flashback Data Archive and the Temporal History feature</p>
</div>
</div>
</div>
</div>
<a id="CNCPT9847"></a>
<div class="props_rev_3"><a id="GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49"></a>
<h3 id="CNCPT-GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49" class="sect3">Slave Processes</h3>
<div>
<p>Slave processes are background processes that perform work on behalf of other processes.</p>
<p>This section describes some slave processes used by Oracle Database.</p>
<div class="infoboxnotealso" id="GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49__GUID-FC301A1B-EF2D-4BA0-A52F-61F6CB977146">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN104" target="_blank" href="../REFRN/GUID-86184690-5531-405F-AA05-BB935F57B76D.htm#REFRN104"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of Oracle Database slave processes</p>
</div>
</div>
<a id="CNCPT9848"></a>
<div class="props_rev_3"><a id="GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A"></a>
<h4 id="CNCPT-GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A" class="sect4">I/O Slave Processes</h4>
<div>
<p>I/O slave processes (Innn) simulate asynchronous I/O for systems and devices that do not support it.</p>
<p>In asynchronous I/O, there is no timing requirement for transmission, enabling other processes to start before the transmission has finished.</p>
<p>For example, assume that an application writes 1000 blocks to a disk on an operating system that does not support asynchronous I/O. Each write occurs sequentially and waits for a confirmation that the write was successful. With asynchronous disk, the application can write the blocks in bulk and perform other work while waiting for a response from the operating system that all blocks were written.</p>
<p>To simulate asynchronous I/O, one process oversees several slave processes. The invoker process assigns work to each of the slave processes, who wait for each write to complete and report back to the invoker when done. In true asynchronous I/O the operating system waits for the I/O to complete and reports back to the process, while in simulated asynchronous I/O the slaves wait and report back to the invoker.</p>
<p>The database supports different types of I/O slaves, including the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>I/O slaves for Recovery Manager (RMAN)</p>
<p>When using RMAN to back up or restore data, you can use I/O slaves for both disk and tape devices.</p>
</li>
<li>
<p>Database writer slaves</p>
<p>If it is not practical to use multiple database writer processes, such as when the computer has one CPU, then the database can distribute I/O over multiple slave processes. DBW is the only process that scans the buffer cache LRU list for blocks to be written to disk. However, I/O slaves perform the I/O for these blocks.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A__GUID-1B8F63E1-4DA8-4C2A-8AF0-C3F0C33D5F75">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink BRADV90069" target="_blank" href="../BRADV/rcmtunin.htm#BRADV90069"><span><cite>Oracle Database Backup and Recovery User&rsquo;s Guide</cite></span></a> to learn more about I/O slaves for backup and restore operations</p>
</li>
<li>
<p><a class="olink GUID-01C9C892-4C0B-4524-82B3-146D1C191BDD" target="_blank" href="../TGDBA/pfgrf_instance_tune.htm#GUID-01C9C892-4C0B-4524-82B3-146D1C191BDD"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn more about database writer slaves</p>
</li>
</ul>
</div>
</div>
</div>
<a id="CNCPT94676"></a><a id="CNCPT1475"></a>
<div class="props_rev_3"><a id="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42"></a>
<h4 id="CNCPT-GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42" class="sect4">Parallel Execution (PX) Server Processes</h4>
<div>
<p>In <span class="bold">parallel execution</span>, multiple processes work together simultaneously to run a single SQL statement.</p>
<p>By dividing the work among multiple processes, Oracle Database can run the statement more quickly. For example, four processes handle four different quarters in a year instead of one process handling all four quarters by itself.</p>
<p>Parallel execution contrasts with <a href="glossary.htm#GUID-02F8D8C0-F2BC-44CF-8383-9803180F76F7"><span class="xrefglossterm">serial execution</span></a>, in which a single server process performs all necessary processing for the sequential execution of a SQL statement. For example, to perform a <a href="glossary.htm#GUID-BF9B54D6-892E-4C3B-8536-38958ACC069D"><span class="xrefglossterm">full table scan</span></a> such as <code class="codeph">SELECT * FROM employees</code>, one server process performs all of the work, as shown in <a href="process.htm#GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42__BABDHFIC">Figure 15-5</a>.</p>
<div class="figure" id="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42__BABDHFIC">
<p class="titleinfigure">Figure 15-5 Serial Full Table Scan</p>
<img width="518" height="141" src="img/GUID-C9A2807D-49ED-4E16-8174-706F919393D8-default.gif" alt="Description of Figure 15-5 follows" title="Description of Figure 15-5 follows"/><br/>
<a href="img_text/GUID-C9A2807D-49ED-4E16-8174-706F919393D8-print.htm">Description of &#34;Figure 15-5 Serial Full Table Scan &#34;</a></div>
<!-- class="figure" -->
<p>Parallel execution reduces response time for data-intensive operations on large databases such as data warehouses. Symmetric multiprocessing (SMP) and clustered system gain the largest performance benefits from parallel execution because statement processing can be split up among multiple CPUs. Parallel execution can also benefit certain types of <a href="glossary.htm#GUID-709E943F-FF0E-4AA6-979A-C4CB2A7B0C29"><span class="xrefglossterm">OLTP</span></a> and hybrid systems.</p>
<p>In Oracle RAC systems, the service placement of a specific service controls parallel execution. Specifically, parallel processes run on the nodes on which the service is configured. By default, Oracle Database runs parallel processes only on an instance that offers the service used to connect to the database. This does not affect other parallel operations such as parallel recovery or the processing of <code class="codeph">GV$</code> queries.</p>
<div class="infoboxnotealso" id="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42__GUID-9D719B42-877E-4F24-8760-87C800AD687E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink VLDBG010" target="_blank" href="../VLDBG/GUID-3E2AE088-2505-465E-A8B2-AC38813EA355.htm#VLDBG010"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> to learn more about parallel execution</p>
</li>
<li>
<p><a class="olink RACAD7124" target="_blank" href="../RACAD/GUID-D594636D-17E5-42BC-A2B1-FD8FBEBCD06B.htm#RACAD7124"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for considerations regarding parallel execution in Oracle RAC environments</p>
</li>
</ul>
</div>
</div>
<a id="CNCPT220"></a>
<div class="props_rev_3"><a id="GUID-6487F7FA-2299-4428-8588-7937BD8675D3"></a>
<h5 id="CNCPT-GUID-6487F7FA-2299-4428-8588-7937BD8675D3" class="sect5">Query Coordinator</h5>
<div>
<p>In parallel execution, the server process acts as the <span class="bold">query coordinator</span> (also called the <span class="italic">parallel execution coordinator</span>).</p>
<p>The query coordinator is responsible for the following:</p>
<ol>
<li>
<p>Parsing the query</p>
</li>
<li>
<p>Allocating and controlling the parallel execution server processes</p>
</li>
<li>
<p>Sending output to the user</p>
</li>
</ol>
<p>Given a <a href="glossary.htm#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a> for a query, the coordinator breaks down each <a href="glossary.htm#GUID-4BC5B7D2-6483-4742-AD66-E0B7C39047E3"><span class="xrefglossterm">operator</span></a> in a SQL query into parallel pieces, runs them in the order specified in the query, and integrates the partial results produced by the parallel execution servers executing the operators.</p>
<p>The number of parallel execution servers assigned to a single operation is the <a href="glossary.htm#GUID-C5F5E0B5-C13F-42F3-B8C4-ADCB4290C980"><span class="xrefglossterm">degree of parallelism</span></a> for an operation. Multiple operations within the same SQL statement all have the same degree of parallelism.</p>
</div>
</div>
<a id="CNCPT94677"></a><a id="CNCPT9850"></a>
<div class="props_rev_3"><a id="GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83"></a>
<h5 id="CNCPT-GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83" class="sect5">Producers and Consumers</h5>
<div>
<p>Parallel execution servers are divided into producers and consumers. The producers are responsible for processing their data and then distributing it to the consumers that need it.</p>
<p>The database can perform the distribution using a variety of techniques. Two common techniques are a broadcast and a hash. In a broadcast, each producer sends the rows to all consumers. In a hash, the database computes a hash function on a set of keys and makes each consumer responsible for a subset of hash values.</p>
<p><a href="process.htm#GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83__BABIDAFF">Figure 15-6</a> represents the interplay between producers and consumers in the parallel execution of the following statement:</p>
<pre dir="ltr">SELECT * FROM employees ORDER BY last_name;
</pre>
<p>The execution plan implements a full scan of the <code class="codeph">employees</code> table. The scan is followed by a sort of the retrieved rows. All of the producer processes involved in the scan operation send rows to the appropriate consumer process performing the sort.</p>
<div class="figure" id="GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83__BABIDAFF">
<p class="titleinfigure">Figure 15-6 Producers and Consumers</p>
<img width="660" height="329" src="img/GUID-96DFB7AC-B96E-4EB0-8BEE-B62DBCBCCC28-default.gif" alt="Description of Figure 15-6 follows" title="Description of Figure 15-6 follows"/><br/>
<a href="img_text/GUID-96DFB7AC-B96E-4EB0-8BEE-B62DBCBCCC28-print.htm">Description of &#34;Figure 15-6 Producers and Consumers&#34;</a></div>
<!-- class="figure" --></div>
</div>
<a id="CNCPT89092"></a><a id="CNCPT94678"></a>
<div class="props_rev_3"><a id="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239"></a>
<h5 id="CNCPT-GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239" class="sect5">Granules</h5>
<div>
<p>In parallel execution, a table is divided dynamically into load units. Each unit, called a <span class="bold">granule</span>, is the smallest unit of work when accessing data.</p>
<p>A block-based granule is a range of data blocks of the table read by a single parallel execution server (also called a <span class="italic">PX server</span>), which uses <code class="codeph">P<span class="codeinlineitalic">nnn</span></code> as a name format. To obtain an even distribution of work among parallel server processes, the number of granules is always much higher than the requested DOP.</p>
<p><a href="process.htm#GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239__I3086">Figure 15-7</a> shows a parallel scan of the <code class="codeph">employees</code> table.</p>
<div class="figure" id="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239__I3086">
<p class="titleinfigure">Figure 15-7 Parallel Full Table Scan</p>
<img width="659" height="239" src="img/GUID-EC07F976-2D5E-4CD5-A01F-BB173CABC021-default.gif" alt="Description of Figure 15-7 follows" title="Description of Figure 15-7 follows"/><br/>
<a href="img_text/GUID-EC07F976-2D5E-4CD5-A01F-BB173CABC021-print.htm">Description of &#34;Figure 15-7 Parallel Full Table Scan&#34;</a></div>
<!-- class="figure" -->
<p>The database maps granules to parallel execution servers at execution time. When a parallel execution server finishes reading the rows corresponding to a granule, and when granules remain, it obtains another granule from the query coordinator. This operation continues until the table has been read. The execution servers send results back to the coordinator, which assembles the pieces into the desired <a href="glossary.htm#GUID-BF9B54D6-892E-4C3B-8536-38958ACC069D"><span class="xrefglossterm">full table scan</span></a>.</p>
<div class="infoboxnotealso" id="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239__GUID-5C70CA39-DC9A-4D11-B777-5EB7FA125AB6">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink VLDBG010" target="_blank" href="../VLDBG/GUID-3E2AE088-2505-465E-A8B2-AC38813EA355.htm#VLDBG010"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> to learn how to use parallel execution</p>
</li>
<li>
<p><a class="olink DWHSG8371" target="_blank" href="../DWHSG/refresh.htm#DWHSG8371"><span><cite>Oracle Database Data Warehousing Guide</cite></span></a> to learn about recommended initialization parameters for parallelism</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1196">
<tr>
<td class="cellalignment1203">
<table class="cellalignment1201">
<tr>
<td class="cellalignment1200"><a href="memory.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1200"><a href="dist_pro.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1993, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1205">
<table class="cellalignment1199">
<tr>
<td class="cellalignment1200"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1200"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1200"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1200"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1200"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1200"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
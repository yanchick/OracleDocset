<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-287"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Managing%20Processes"></a><title>Managing Processes</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Oracle Databases uses several processes so that multiple users and applications can connect to a single database instance simultaneously."/>
<meta name="keywords" content="processes, server processes, dedicated, dedicated server processes, shared server, database resident connection pooling, advantages, triggers, initialization parameters, shared server and, ALTER SYSTEM statement, SET SHARED_SERVERS initialization parameter, setting minimum number of servers, SHARED_SERVERS, disabling, configuring dispatchers, dispatcher processes, dispatchers, DISPATCHERS initialization parameter, setting initially, DISPATCHERS, V$QUEUE view, monitoring shared server dispatchers, V$DISPATCHER view, V$DISPATCHER_RATE view, data dictionary views reference, views, data dictionary, for shared server, enabling, disabling, configuring the connection pool, configuration parameters, for database resident connection pooling, background, background processes, database writer (DBWn), database writer process (DBWn), log writer (LGWR), log writer process (LGWR), checkpoint (CKPT), checkpoint process (CKPT), system monitor (SMON), system monitor process (SMON), process monitor (PMON), archiver (ARCn), archiver process (ARCn), recoverer (RECO), recoverer process, dispatcher (Dnnn), dispatcher process (Dnnn), parallel execution, managing, parallel hints, external procedures, managing processes for, procedures, external, sessions, terminating, terminating user sessions, identifying sessions, active sessions, errors, ORA-00028, active, inactive sessions, inactive, users, session, terminating"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="restart.htm" title="Previous" type="text/html"/>
<link rel="Next" href="memory.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9B3A136E-D275-417B-B6F4-59A45D42655F"></a> <span id="PAGE" style="display:none;">10/59</span> <!-- End Header -->
<a id="ADMIN11000"></a>
<h1 id="ADMIN-GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" class="sect1"><span class="enumeration_chapter">5</span> Managing Processes</h1>
<p>Oracle Databases uses several processes so that multiple users and applications can connect to a single database instance simultaneously.</p>
<a id="ADMIN11166"></a>
<div class="props_rev_3"><a id="GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D"></a>
<h2 id="ADMIN-GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" class="sect2"><span class="enumeration_section">5.1</span> About Dedicated and Shared Server Processes</h2>
<div>
<p>Oracle Database creates server processes to handle the requests of user processes connected to an instance.</p>
<p>A server process can be either of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <span class="bold">dedicated server process</span>, which services only one user process</p>
</li>
<li>
<p>A <span class="bold">shared server process</span>, which can service multiple user processes</p>
</li>
</ul>
<p>Your database is always enabled to allow dedicated server processes, but you must specifically configure and enable shared server by setting one or more initialization parameters.</p>
</div>
<a id="ADMIN13013"></a><a id="ADMIN11167"></a>
<div class="props_rev_3"><a id="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5"></a>
<h3 id="ADMIN-GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5" class="sect3"><span class="enumeration_section">5.1.1</span> Dedicated Server Processes</h3>
<div>
<p>A dedicated server process services only one user process.</p>
<p><a href="manproc.htm#GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5__i1007374">Figure 5-1</a> illustrates how dedicated server processes work. In this diagram two user processes are connected to the database through dedicated server processes.</p>
<p>In general, it is better to be connected through a <span class="bold">dispatcher</span> and use a shared server process. This is illustrated in <a href="manproc.htm#GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__i1006182">Figure 5-2</a>. A shared server process can be more efficient because it keeps the number of processes required for the running instance low.</p>
<p>In the following situations, however, users and administrators should explicitly connect to an instance using a dedicated server process:</p>
<ul style="list-style-type: disc;">
<li>
<p>To submit a batch job (for example, when a job can allow little or no idle time for the server process)</p>
</li>
<li>
<p>To use Recovery Manager (RMAN) to back up, restore, or recover a database</p>
</li>
</ul>
<p>To request a dedicated server connection when Oracle Database is configured for shared server, users must connect using a net service name that is configured to use a dedicated server. Specifically, the net service name value should include the <code class="codeph">SERVER=DEDICATED</code> clause in the connect descriptor.</p>
<div class="infoboxnotealso" id="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5__GUID-33E7D776-22ED-4052-A5F3-E364C4430E27">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG002" target="_blank" href="../NETAG/concepts.htm#NETAG002"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more information about requesting a dedicated server connection</p>
</div>
<div class="figure" id="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5__i1007374">
<p class="titleinfigure">Figure 5-1 Oracle Database Dedicated Server Processes</p>
<img width="487" height="456" src="img/GUID-C60DAB5D-A96B-478F-A33C-BC5C5969E344-default.gif" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows"/><br/>
<a href="img_text/GUID-C60DAB5D-A96B-478F-A33C-BC5C5969E344-print.htm">Description of &#34;Figure 5-1 Oracle Database Dedicated Server Processes&#34;</a></div>
<!-- class="figure" --></div>
</div>
<a id="ADMIN13014"></a><a id="ADMIN11168"></a>
<div class="props_rev_3"><a id="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50"></a>
<h3 id="ADMIN-GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50" class="sect3"><span class="enumeration_section">5.1.2</span> Shared Server Processes</h3>
<div>
<p>A shared server process can service multiple user processes.</p>
<p>Consider an order entry system with dedicated server processes. A customer phones the order desk and places an order, and the clerk taking the call enters the order into the database. For most of the transaction, the clerk is on the telephone talking to the customer. A server process is not needed during this time, so the server process dedicated to the clerk&#39;s user process remains idle. The system is slower for other clerks entering orders, because the idle server process is holding system resources.</p>
<p>Shared server architecture eliminates the need for a dedicated server process for each connection (see <a href="manproc.htm#GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__i1006182">Figure 5-2</a>).</p>
<div class="figure" id="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__i1006182">
<p class="titleinfigure">Figure 5-2 Oracle Database Shared Server Processes</p>
<img width="342" height="569" src="img/GUID-652587EB-A2E6-49E3-A182-2B044B263753-default.gif" alt="Description of Figure 5-2 follows" title="Description of Figure 5-2 follows"/><br/>
<a href="img_text/GUID-652587EB-A2E6-49E3-A182-2B044B263753-print.htm">Description of &#34;Figure 5-2 Oracle Database Shared Server Processes&#34;</a></div>
<!-- class="figure" -->
<p>In a shared server configuration, client user processes connect to a dispatcher. The dispatcher can support multiple client connections concurrently. Each client connection is bound to a <span class="bold">virtual circuit</span>, which is a piece of shared memory used by the dispatcher for client database connection requests and replies. The dispatcher places a virtual circuit on a common queue when a request arrives.</p>
<p>An idle shared server process picks up the virtual circuit from the common queue, services the request, and relinquishes the virtual circuit before attempting to retrieve another virtual circuit from the common queue. This approach enables a small pool of server processes to serve a large number of clients. A significant advantage of shared server architecture over the dedicated server model is the reduction of system resources, enabling the support of an increased number of users.</p>
<p>For even better resource management, shared server can be configured for <span class="bold">session multiplexing</span>, which combines multiple sessions for transmission over a single network connection in order to conserve the operating system&#39;s resources.</p>
<p>Shared server architecture requires Oracle Net Services. User processes targeting the shared server must connect through Oracle Net Services, even if they are on the same system as the Oracle Database instance.</p>
<div class="infoboxnotealso" id="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__GUID-3362B621-1F2A-4F71-A942-AB7ED9EE7FE5">
<p class="notep1">See Also:</p>
<p><a class="olink NETAG154" target="_blank" href="../NETAG/intro.htm#NETAG154"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for more detailed information about shared server, including features such as session multiplexing</p>
</div>
</div>
</div>
</div>
<a id="ADMIN12549"></a><a id="ADMIN12550"></a><a id="ADMIN13400"></a><a id="ADMIN12347"></a>
<div class="props_rev_3"><a id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777"></a>
<h2 id="ADMIN-GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" class="sect2"><span class="enumeration_section">5.2</span> About Database Resident Connection Pooling</h2>
<div>
<p>Database Resident Connection Pooling (DRCP) provides a connection pool in the database server for typical Web application usage scenarios where the application acquires a database connection, works on it for a relatively short duration, and then releases it. DRCP pools &#34;dedicated&#34; servers. A <span class="bold">pooled server</span> is the equivalent of a server foreground process and a database session combined.</p>
<p>DRCP complements middle-tier connection pools that share connections between threads in a middle-tier process. In addition, DRCP enables sharing of database connections across middle-tier processes on the same middle-tier host and even across middle-tier hosts. This results in significant reduction in key database resources needed to support a large number of client connections, thereby reducing the database tier memory footprint and boosting the scalability of both middle-tier and database tiers. Having a pool of readily available servers also has the additional benefit of reducing the cost of creating and tearing down client connections.</p>
<p>DRCP is especially relevant for architectures with multi-process single threaded application servers (such as PHP/Apache) that cannot perform middle-tier connection pooling. The database can still scale to tens of thousands of simultaneous connections with DRCP.</p>
<div class="infobox-note" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-B0C128E8-89DE-45FF-8FEB-332FE6E5D15D">
<p class="notep1">Note:</p>
<p>On Windows platforms, setting the <code class="codeph">SQLNET.AUTHENTICATION_SERVICES</code> parameter value to <code class="codeph">nts</code> is not supported with DRCP.</p>
</div>
<div class="infoboxnotealso" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-12129C28-3F11-4575-A052-71AAEC38AD71">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CNCPT1896" target="_blank" href="../CNCPT/dist_pro.htm#CNCPT1896"><span class="italic">Oracle Database Concepts</span></a> for more details on DRCP</p>
</li>
<li>
<p><a class="olink ADFNS228" target="_blank" href="../ADFNS/adfns_perf_scale.htm#ADFNS228"><span class="italic">Oracle Database Development Guide</span></a> for more information about DRCP, including restrictions on using DRCP</p>
</li>
<li>
<p><a class="olink LNOCI9110" target="_blank" href="../LNOCI/oci09adv.htm#LNOCI9110"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a> for information about options that are available when obtaining a DRCP session</p>
</li>
</ul>
</div>
<div class="section">
<p class="subhead2">When To Use Database Resident Connection Pooling</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Database resident connection pooling is useful when multiple clients access the database and when any of the following apply:</p>
<ul style="list-style-type: disc;">
<li>
<p>A large number of client connections need to be supported with minimum memory usage.</p>
</li>
<li>
<p>The client applications are similar and can share or reuse sessions.</p>
<p>Applications are similar if they connect with the same database credentials and use the same schema.</p>
</li>
<li>
<p>The client applications acquire a database connection, work on it for a relatively short duration, and then release it.</p>
</li>
<li>
<p>Session affinity is not required across client requests.</p>
</li>
<li>
<p>There are multiple processes and multiple hosts on the client side.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Advantages of Database Resident Connection Pooling</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Using database resident connection pooling provides the following advantages:</p>
<ul style="list-style-type: disc;">
<li>
<p>Enables resource sharing among multiple middle-tier client applications.</p>
</li>
<li>
<p>Improves scalability of databases and applications by reducing resource usage.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Database Resident Connection Pooling and LOGON/LOGOFF Triggers</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">LOGON</code> triggers fire for every authentication and every time a new session is created in DRCP.</p>
<p><code class="codeph">LOGOFF</code> triggers fire on every log off and when the sessions are destroyed in DRCP. Therefore, a <code class="codeph">LOGOFF</code> trigger fires when a session is terminated due to an idle time limit.</p>
<div class="infoboxnotealso" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-F19E7975-9422-406F-8784-4BE2D6404544">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink LNPLS020" target="_blank" href="../LNPLS/overview.htm#LNPLS020"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
</li>
<li>
<p><a class="olink DBSEG60634" target="_blank" href="../DBSEG/app_context.htm#DBSEG60634"><span class="italic">Oracle Database Security Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
<a id="ADMIN13015"></a><a id="ADMIN12551"></a><a id="ADMIN12348"></a>
<div class="props_rev_3"><a id="GUID-17E572DA-A048-410A-9C81-744D15867345"></a>
<h3 id="ADMIN-GUID-17E572DA-A048-410A-9C81-744D15867345" class="sect3"><span class="enumeration_section">5.2.1</span> Comparing DRCP to Dedicated Server and Shared Server</h3>
<div>
<p>Understand the differences between dedicated server, shared server, and database resident connection pooling.</p>
<p><a href="manproc.htm#GUID-17E572DA-A048-410A-9C81-744D15867345__BABFCIEE" title="This table describes the differences between shared server and database resident connection pooling.">Table 5-1</a> lists the differences between dedicated server, shared server, and database resident connection pooling.</p>
<div class="tblformalwide" id="GUID-17E572DA-A048-410A-9C81-744D15867345__BABFCIEE">
<p class="titleintable">Table 5-1 Dedicated Servers, Shared Servers, and Database Resident Connection Pooling</p>
<table class="cellalignment1880" title="Dedicated Servers, Shared Servers, and Database Resident Connection Pooling" summary="This table describes the differences between shared server and database resident connection pooling.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1858" id="d71914e607">Dedicated Server</th>
<th class="cellalignment1858" id="d71914e610">Shared Server</th>
<th class="cellalignment1858" id="d71914e613">Database Resident Connection Pooling</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e618" headers="d71914e607">
<p>When a client request is received, a new server process and a session are created for the client.</p>
</td>
<td class="cellalignment1861" headers="d71914e618 d71914e610">
<p>When the first request is received from a client, the Dispatcher process places this request on a common queue. The request is picked up by an available shared server process. The Dispatcher process then manages the communication between the client and the shared server process.</p>
</td>
<td class="cellalignment1861" headers="d71914e618 d71914e613">
<p>When the first request is received from a client, the Connection Broker picks an available pooled server and hands off the client connection to the pooled server.</p>
<p>If no pooled servers are available, the Connection Broker creates one. If the pool has reached its maximum size, the client request is placed on the wait queue until a pooled server is available.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e630" headers="d71914e607">
<p>Releasing database resources involves terminating the session and server process.</p>
</td>
<td class="cellalignment1861" headers="d71914e630 d71914e610">
<p>Releasing database resources involves terminating the session.</p>
</td>
<td class="cellalignment1861" headers="d71914e630 d71914e613">
<p>Releasing database resources involves releasing the pooled server to the pool.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e640" headers="d71914e607">
<p>Memory requirement is proportional to the number of server processes and sessions. There is one server and one session for each client.</p>
</td>
<td class="cellalignment1861" headers="d71914e640 d71914e610">
<p>Memory requirement is proportional to the sum of the shared servers and sessions. There is one session for each client.</p>
</td>
<td class="cellalignment1861" headers="d71914e640 d71914e613">
<p>Memory requirement is proportional to the number of pooled servers and their sessions. There is one session for each pooled server.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e650" headers="d71914e607">
<p>Session memory is allocated from the PGA.</p>
</td>
<td class="cellalignment1861" headers="d71914e650 d71914e610">
<p>Session memory is allocated from the SGA.</p>
</td>
<td class="cellalignment1861" headers="d71914e650 d71914e613">
<p>Session memory is allocated from the PGA.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead3">Example of Memory Usage for Dedicated Server, Shared Server, and Database Resident Connection Pooling</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Consider an application in which the memory required for each session is 400 KB and the memory required for each server process is 4 MB. The pool size is 100 and the number of shared servers used is 100.</p>
<p>If there are 5000 client connections, the memory used by each configuration is as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Dedicated Server</p>
<p>Memory used = 5000 X (400 KB + 4 MB) = 22 GB</p>
</li>
<li>
<p>Shared Server</p>
<p>Memory used = 5000 X 400 KB + 100 X 4 MB = 2.5 GB</p>
<p>Out of the 2.5 GB, 2 GB is allocated from the SGA.</p>
</li>
<li>
<p>Database Resident Connection Pooling</p>
<p>Memory used = 100 X (400 KB + 4 MB) + (5000 X 35KB)= 615 MB</p>
<p>The cost of each connection to the broker is approximately 35 KB.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN00502"></a>
<div class="props_rev_3"><a id="GUID-84994723-F2E0-4098-A765-C100103E2DDF"></a>
<h2 id="ADMIN-GUID-84994723-F2E0-4098-A765-C100103E2DDF" class="sect2"><span class="enumeration_section">5.3</span> Configuring Oracle Database for Shared Server</h2>
<div>
<p>You can enable shared server and set or alter shared server initialization parameters.</p>
<div class="infoboxnotealso" id="GUID-84994723-F2E0-4098-A765-C100103E2DDF__GUID-B43D8BA0-5F9F-4CF9-B95A-1141F2F2CB21">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="manproc.htm#GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" title="Oracle Database creates server processes to handle the requests of user processes connected to an instance.">About Dedicated and Shared Server Processes</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SQLRF009" target="_blank" href="../SQLRF/statements_2.htm#SQLRF009"><span class="italic">Oracle Database SQL Language Reference</span></a> for further information about the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN11169"></a>
<div class="props_rev_3"><a id="GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA"></a>
<h3 id="ADMIN-GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA" class="sect3"><span class="enumeration_section">5.3.1</span> Initialization Parameters for Shared Server</h3>
<div>
<p>A set of initialization parameters control shared server operation.</p>
<p>The following initialization parameters control shared server operation:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SHARED_SERVERS</code>: Specifies the initial number of shared servers to start and the minimum number of shared servers to keep. This is the only required parameter for using shared servers.</p>
</li>
<li>
<p><code class="codeph">MAX_SHARED_SERVERS</code>: Specifies the maximum number of shared servers that can run simultaneously.</p>
</li>
<li>
<p><code class="codeph">SHARED_SERVER_SESSIONS</code>: Specifies the total number of shared server user sessions that can run simultaneously. Setting this parameter enables you to reserve user sessions for dedicated servers.</p>
</li>
<li>
<p><code class="codeph">DISPATCHERS</code>: Configures dispatcher processes in the shared server architecture.</p>
</li>
<li>
<p><code class="codeph">MAX_DISPATCHERS</code>: Specifies the maximum number of dispatcher processes that can run simultaneously. This parameter can be ignored for now. It will only be useful in a future release when the number of dispatchers is auto-tuned according to the number of concurrent connections.</p>
</li>
<li>
<p><code class="codeph">CIRCUITS</code>: Specifies the total number of virtual circuits that are available for inbound and outbound network sessions.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA__GUID-EE99994A-D0D3-4DEB-89A4-EE6CEADCC249">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN001" target="_blank" href="../REFRN/GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9.htm#REFRN001"><span class="italic">Oracle Database Reference</span></a> for more information about these initialization parameters</p>
</div>
</div>
</div>
<a id="ADMIN13345"></a>
<div class="props_rev_3"><a id="GUID-71B59149-13ED-4414-A08E-642E98A8D086"></a>
<h3 id="ADMIN-GUID-71B59149-13ED-4414-A08E-642E98A8D086" class="sect3"><span class="enumeration_section">5.3.2</span> Memory Management for Shared Server</h3>
<div>
<p>Shared server requires some user global area (UGA) in either the shared pool or large pool. For installations with a small number of simultaneous sessions, the default sizes for these system global area (SGA) components are generally sufficient. However, if you expect a large number of sessions for your installation, you may have to tune memory to support shared server.</p>
<p>See the &#34;Configuring and Using Memory&#34; section of <a class="olink TGDBA610" target="_blank" href="../TGDBA/tune_shared_pool.htm#TGDBA610"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for guidelines.</p>
</div>
</div>
<a id="ADMIN11170"></a>
<div class="props_rev_3"><a id="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5"></a>
<h3 id="ADMIN-GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" class="sect3"><span class="enumeration_section">5.3.3</span> Enabling Shared Server</h3>
<div>
<p>Shared server is enabled by setting the <code class="codeph">SHARED_SERVERS</code> initialization parameter to a value greater than 0. The other shared server initialization parameters need not be set.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Set shared server dynamically by setting the <code class="codeph">SHARED_SERVERS</code> initialization parameter to a nonzero value with the <code class="codeph">ALTER SYSTEM</code> statement.</p>
</li>
<li>
<p>Set the <code class="codeph">SHARED_SERVERS</code> initialization parameter to a nonzero value at database startup by including it in the initialization parameter file.</p>
</li>
</ul>
<p>Because shared server requires at least one dispatcher in order to work, a dispatcher is brought up even if no dispatcher has been configured. Dispatchers are discussed in <span class="q">&#34;<a href="manproc.htm#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="The DISPATCHERS initialization parameter configures dispatcher processes in the shared server architecture. At least one dispatcher process is required for shared server to work. If you do not specify a dispatcher, but you enable shared server by setting SHARED_SERVER to a nonzero value, then by default Oracle Database creates one dispatcher for the TCP protocol.">Configuring Dispatchers</a>&#34;</span>.</p>
<div class="infobox-note" id="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5__GUID-89218DE3-3E2E-4214-98FD-23B80DE36410">
<p class="notep1">Note:</p>
<p>If <code class="codeph">SHARED_SERVERS</code> is not included in the initialization parameter file at database startup, but <code class="codeph">DISPATCHERS</code> is included and it specifies at least one dispatcher, shared server is enabled. In this case, the default for <code class="codeph">SHARED_SERVERS</code> is 1.</p>
<p>If neither <code class="codeph">SHARED_SERVERS</code> nor <code class="codeph">DISPATCHERS</code> is included in the initialization file, you cannot start shared server after the instance is brought up by just altering the <code class="codeph">DISPATCHERS</code> parameter. You must specifically alter <code class="codeph">SHARED_SERVERS</code> to a nonzero value to start shared server.</p>
</div>
<div class="infobox-note" id="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5__GUID-72BD3668-560D-490B-9EF6-9BE0E0ADCCB2">
<p class="notep1">Note:</p>
<p>If you create your Oracle database with Database Configuration Assistant (DBCA), DBCA configures a dispatcher for Oracle XML DB (XDB). This is because XDB protocols like HTTP and FTP require shared server. This results in a <code class="codeph">SHARED_SERVER</code> value of 1. Although shared server is enabled, this configuration permits only sessions that connect to the XDB service to use shared server. To enable shared server for regular database sessions (for submitting SQL statements), you must add an additional dispatcher configuration, or replace the existing configuration with one that is not specific to XDB. See <span class="q">&#34;<a href="manproc.htm#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="The DISPATCHERS initialization parameter configures dispatcher processes in the shared server architecture. At least one dispatcher process is required for shared server to work. If you do not specify a dispatcher, but you enable shared server by setting SHARED_SERVER to a nonzero value, then by default Oracle Database creates one dispatcher for the TCP protocol.">Configuring Dispatchers</a>&#34;</span> for instructions.</p>
</div>
</div>
<!-- class="section" --></div>
<a id="ADMIN11171"></a>
<div class="props_rev_3"><a id="GUID-227DE417-B75F-4468-8DEF-5CE2447C7973"></a>
<h4 id="ADMIN-GUID-227DE417-B75F-4468-8DEF-5CE2447C7973" class="sect4"><span class="enumeration_section">5.3.3.1</span> About Determining a Value for SHARED_SERVERS</h4>
<div>
<p><code class="codeph">The SHARED_SERVERS</code> initialization parameter specifies the minimum number of shared servers that you want created when the instance is started. After instance startup, Oracle Database can dynamically adjust the number of shared servers based on how busy existing shared servers are and the length of the request queue.</p>
<p>In typical systems, the number of shared servers stabilizes at a ratio of one shared server for every ten connections. For OLTP applications, when the rate of requests is low, or when the ratio of server usage to request is low, the connections-to-servers ratio could be higher. In contrast, in applications where the rate of requests is high or the server usage-to-request ratio is high, the connections-to-server ratio could be lower.</p>
<p>The PMON (process monitor) background process cannot terminate shared servers below the value specified by <code class="codeph">SHARED_SERVERS</code>. Therefore, you can use this parameter to stabilize the load and minimize strain on the system by preventing PMON from terminating and then restarting shared servers because of coincidental fluctuations in load.</p>
<p>If you know the average load on your system, you can set <code class="codeph">SHARED_SERVERS</code> to an optimal value. The following example shows how you can use this parameter:</p>
<p>Assume a database is being used by a telemarketing center staffed by 1000 agents. On average, each agent spends 90% of the time talking to customers and only 10% of the time looking up and updating records. To keep the shared servers from being terminated as agents talk to customers and then spawned again as agents access the database, a DBA specifies that the optimal number of shared servers is 100.</p>
<p>However, not all work shifts are staffed at the same level. On the night shift, only 200 agents are needed. Since <code class="codeph">SHARED_SERVERS</code> is a dynamic parameter, a DBA reduces the number of shared servers to 20 at night, thus allowing resources to be freed up for other tasks such as batch jobs.</p>
</div>
</div>
<a id="ADMIN11172"></a>
<div class="props_rev_3"><a id="GUID-8AB53F7E-3556-4F15-9E61-9EF2BCAF4FA2"></a>
<h4 id="ADMIN-GUID-8AB53F7E-3556-4F15-9E61-9EF2BCAF4FA2" class="sect4"><span class="enumeration_section">5.3.3.2</span> Decreasing the Number of Shared Server Processes</h4>
<div>
<p>You can decrease the minimum number of shared servers that must be kept active by dynamically setting the <code class="codeph">SHARED_SERVERS</code> parameter to a lower value. Thereafter, until the number of shared servers is decreased to the value of the <code class="codeph">SHARED_SERVERS</code> parameter, any shared servers that become inactive are marked by PMON for termination.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Set shared server dynamically by setting the <code class="codeph">SHARED_SERVERS</code> initialization parameter to a nonzero value with the <code class="codeph">ALTER SYSTEM</code> statement.</p>
</li>
</ul>
<p>For example, the following statement reduces the number of shared servers:</p>
<pre dir="ltr">ALTER SYSTEM SET SHARED_SERVERS = 5;
</pre>
<p>Setting <code class="codeph">SHARED_SERVERS</code> to 0 disables shared server. For more information, see <span class="q">&#34;<a href="manproc.htm#GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3" title="You disable shared server by setting the SHARED_SERVERS initialization parameter to 0. You can do this dynamically with the ALTER SYSTEM statement.">Disabling Shared Server</a>&#34;</span>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11173"></a>
<div class="props_rev_3"><a id="GUID-8CA4051B-28BC-4C97-9698-D07A00BAACC7"></a>
<h4 id="ADMIN-GUID-8CA4051B-28BC-4C97-9698-D07A00BAACC7" class="sect4"><span class="enumeration_section">5.3.3.3</span> Limiting the Number of Shared Server Processes</h4>
<div>
<p>The <code class="codeph">MAX_SHARED_SERVERS</code> initialization parameter specifies the maximum number of shared servers that can be automatically created by PMON. It has no default value.</p>
<div class="section">
<p>If no value is specified, then PMON starts as many shared servers as is required by the load, subject to these limitations:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The process limit (set by the <code class="codeph">PROCESSES</code> initialization parameter)</p>
</li>
<li>
<p>A minimum number of free process slots (at least one-eighth of the total process slots, or two slots if <code class="codeph">PROCESSES</code> is set to less than 24)</p>
</li>
<li>
<p>System resources</p>
</li>
</ul>
<p>To limit the number of shared server processes:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">MAX_SHARED_SERVERS</code> initialization parameter.</p>
</li>
</ul>
<p>The value of <code class="codeph">SHARED_SERVERS</code> overrides the value of <code class="codeph">MAX_SHARED_SERVERS</code>. Therefore, you can force PMON to start more shared servers than the <code class="codeph">MAX_SHARED_SERVERS</code> value by setting <code class="codeph">SHARED_SERVERS</code> to a value higher than <code class="codeph">MAX_SHARED_SERVERS</code>. You can subsequently place a new upper limit on the number of shared servers by dynamically altering the <code class="codeph">MAX_SHARED_SERVERS</code> to a value higher than <code class="codeph">SHARED_SERVERS</code>.</p>
<p>The primary reason to limit the number of shared servers is to reserve resources, such as memory and CPU time, for other processes. For example, consider the case of the telemarketing center discussed previously:</p>
<p>The DBA wants to reserve two thirds of the resources for batch jobs at night. He sets <code class="codeph">MAX_SHARED_SERVERS</code> to less than one third of the maximum number of processes (<code class="codeph">PROCESSES</code>). By doing so, the DBA ensures that even if all agents happen to access the database at the same time, batch jobs can connect to dedicated servers without having to wait for the shared servers to be brought down after processing agents&#39; requests.</p>
<p>Another reason to limit the number of shared servers is to prevent the concurrent run of too many server processes from slowing down the system due to heavy swapping, although <code class="codeph">PROCESSES</code> can serve as the upper bound for this rather than <code class="codeph">MAX_SHARED_SERVERS</code>.</p>
<p>Still other reasons to limit the number of shared servers are testing, debugging, performance analysis, and tuning. For example, to see how many shared servers are needed to efficiently support a certain user community, you can vary <code class="codeph">MAX_SHARED_SERVERS</code> from a very small number upward until no delay in response time is noticed by the users.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11174"></a>
<div class="props_rev_3"><a id="GUID-36BCDDCC-E868-4E9D-A8DC-37F61CF6AE20"></a>
<h4 id="ADMIN-GUID-36BCDDCC-E868-4E9D-A8DC-37F61CF6AE20" class="sect4"><span class="enumeration_section">5.3.3.4</span> Limiting the Number of Shared Server Sessions</h4>
<div>
<p>The <code class="codeph">SHARED_SERVER_SESSIONS</code> initialization parameter specifies the maximum number of concurrent shared server user sessions.</p>
<div class="section">
<p>Setting this parameter, which is a dynamic parameter, lets you reserve database sessions for dedicated servers. This in turn ensures that administrative tasks that require dedicated servers, such as backing up or recovering the database, are not preempted by shared server sessions.</p>
<p>To limit the number of shared server sessions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">SHARED_SERVER_SESSIONS</code> initialization parameter.</p>
</li>
</ul>
<p>This parameter has no default value. If it is not specified, the system can create shared server sessions as needed, limited by the <code class="codeph">SESSIONS</code> initialization parameter.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11175"></a>
<div class="props_rev_3"><a id="GUID-CF3BF2EA-1D90-4FFB-9A0B-28B6CC6D3BF4"></a>
<h4 id="ADMIN-GUID-CF3BF2EA-1D90-4FFB-9A0B-28B6CC6D3BF4" class="sect4"><span class="enumeration_section">5.3.3.5</span> Protecting Shared Memory</h4>
<div>
<p>The <code class="codeph">CIRCUITS</code> initialization parameter sets a maximum limit on the number of virtual circuits that can be created in shared memory. This parameter has no default. If it is not specified, then the system can create circuits as needed, limited by the <code class="codeph">DISPATCHERS</code> initialization parameter and system resources.</p>
<div class="section">
<p>To protect shared memory by limiting the number of virtual circuits that can be created in shared memory:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">CIRCUITS</code> initialization parameter.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11176"></a>
<div class="props_rev_3"><a id="GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1"></a>
<h3 id="ADMIN-GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" class="sect3"><span class="enumeration_section">5.3.4</span> Configuring Dispatchers</h3>
<div>
<p>The <code class="codeph">DISPATCHERS</code> initialization parameter configures dispatcher processes in the shared server architecture. At least one dispatcher process is required for shared server to work. If you do not specify a dispatcher, but you enable shared server by setting <code class="codeph">SHARED_SERVER</code> to a nonzero value, then by default Oracle Database creates one dispatcher for the TCP protocol.</p>
<div class="section">
<p>The equivalent <code class="codeph">DISPATCHERS</code> explicit setting of the initialization parameter for this configuration is:</p>
<pre dir="ltr">dispatchers=&#34;(PROTOCOL=tcp)&#34;
</pre>
<p>You can configure more dispatchers, using the <code class="codeph">DISPATCHERS</code> initialization parameter, if either of the following conditions apply:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>You must configure a protocol other than TCP/IP. You configure a protocol address with one of the following attributes of the DISPATCHERS parameter:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1012890">ADDRESS</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011323">DESCRIPTION</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011327">PROTOCOL</a></p>
</li>
</ul>
</li>
<li>
<p>You want to configure one or more of the optional dispatcher attributes:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011780">DISPATCHERS</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011335">CONNECTIONS</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011339">SESSIONS</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011347">LISTENER</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011351">MULTIPLEX</a></p>
</li>
<li>
<p><a href="manproc.htm#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011359">SERVICE</a></p>
<div class="infobox-note" id="GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1__GUID-38902ED6-37E6-456F-8A7B-F655733CAC9B">
<p class="notep1">Note:</p>
<p><a id="d71914e1725" class="indexterm-anchor"></a>Database Configuration Assistant helps you configure this parameter.</p>
</div>
</li>
</ul>
</li>
</ul>
<p>To configure a protocol other than TCP/IP or to configure additional dispatchers:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">DISPATCHERS</code> initialization parameter and specify the appropriate attributes.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="ADMIN11177"></a>
<div class="props_rev_3"><a id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561"></a>
<h4 id="ADMIN-GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561" class="sect4"><span class="enumeration_section">5.3.4.1</span> DISPATCHERS Initialization Parameter Attributes</h4>
<div>
<p>You can set several attributes for the <code class="codeph">DISPATCHERS</code> initialization parameter.</p>
<div class="section">
<p>A protocol address is required and is specified using one or more of the following attributes:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-C431832C-D005-4857-A366-07685495BB74">
<table class="cellalignment1849" summary="In the left column, this table lists the attributes of the DISPATCHERS initialization parameter that can be used can be used to specify a protocol address. The right column describes the attributes use.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1881" id="d71914e1812">Attribute</th>
<th class="cellalignment1981" id="d71914e1815">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1820" headers="d71914e1812">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1012890"><code class="codeph">ADDRESS</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1820 d71914e1815">
<p>Specify the network protocol address of the endpoint on which the dispatchers listen.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1828" headers="d71914e1812">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011323"><code class="codeph">DESCRIPTION</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1828 d71914e1815">
<p>Specify the network description of the endpoint on which the dispatchers listen, including the network protocol address. The syntax is as follows:</p>
<pre dir="ltr">(DESCRIPTION=(ADDRESS=...))
</pre></td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1838" headers="d71914e1812">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011327"><code class="codeph">PROTOCOL</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1838 d71914e1815">
<p>Specify the network protocol for which the dispatcher generates a listening endpoint. For example:</p>
<pre dir="ltr">(PROTOCOL=tcp) 
</pre>
<p>See the <a class="olink NETRF004" target="_blank" href="../NETRF/protocoladd.htm#NETRF004"><span class="italic">Oracle Database Net Services Reference</span></a> for further information about protocol address syntax.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>The following attribute specifies how many dispatchers this configuration should have. It is optional and defaults to 1.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-F2849C5A-BD3F-4097-9958-48EFFCDFE6C4">
<table class="cellalignment1849" summary="This table describes the DISPATCHERS attribute of the DISPATCHERS initialization parameter.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1881" id="d71914e1865">Attribute</th>
<th class="cellalignment1981" id="d71914e1868">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1873" headers="d71914e1865">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011780"><code class="codeph">DISPATCHERS</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1873 d71914e1868">
<p>Specify the initial number of dispatchers to start.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>The following attributes tell the instance about the network attributes of each dispatcher of this configuration. They are all optional.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-877E574B-C75A-48F7-90E8-018DF86B456C">
<table class="cellalignment1849" summary="This table describes the network attributes of the DISPATCHERS initialization parameter. The attribute is listed in the first column, the second column contains a description of the attribute.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1881" id="d71914e1891">Attribute</th>
<th class="cellalignment1981" id="d71914e1894">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1899" headers="d71914e1891">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011335"><code class="codeph">CONNECTIONS</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1899 d71914e1894">
<p>Specify the maximum number of network connections to allow for each dispatcher.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1907" headers="d71914e1891">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011339"><code class="codeph">SESSIONS</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1907 d71914e1894">
<p>Specify the maximum number of network sessions to allow for each dispatcher.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1916" headers="d71914e1891">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011347"><code class="codeph">LISTENER</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1916 d71914e1894">
<p>Specify an alias name for the listeners with which the LREG process registers dispatcher information. Set the alias to a name that is resolved through a naming method.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1925" headers="d71914e1891">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011351"><code class="codeph">MULTIPLEX</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1925 d71914e1894">
<p>Used to enable the Oracle Connection Manager session multiplexing feature.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d71914e1933" headers="d71914e1891">
<p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011359"><code class="codeph">SERVICE</code></p>
</td>
<td class="cellalignment1982" headers="d71914e1933 d71914e1894">
<p>Specify the service names the dispatchers register with the listeners.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>You can specify either an entire attribute name a substring consisting of at least the first three characters. For example, you can specify <code class="codeph">SESSIONS=3,</code> <code class="codeph">SES=3</code>, <code class="codeph">SESS=3</code>, or <code class="codeph">SESSI=3</code>, and so forth.</p>
<div class="infoboxnotealso" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-F596B7E8-B54C-43B3-B26F-0436B7D264B8">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10049" target="_blank" href="../REFRN/GUID-DCBCCF94-8A73-4805-9138-412DA413FC7C.htm#REFRN10049"><span class="italic">Oracle Database Reference</span></a> for more detailed descriptions of the attributes of the <code class="codeph">DISPATCHERS</code> initialization parameter</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11178"></a>
<div class="props_rev_3"><a id="GUID-710DF15E-9EEA-4D77-9F30-E23EAC9A337A"></a>
<h4 id="ADMIN-GUID-710DF15E-9EEA-4D77-9F30-E23EAC9A337A" class="sect4"><span class="enumeration_section">5.3.4.2</span> Determining the Number of Dispatchers</h4>
<div>
<p>Once you know the number of possible connections for each process for the operating system, calculate the initial number of dispatchers to create during instance startup, for each network protocol.</p>
<div class="section">
<p>To calculate the initial number of dispatchers to create during instance startup, use the following formula:</p>
<pre dir="ltr">Number of dispatchers =
   CEIL ( max. concurrent sessions / connections for each dispatcher )
</pre>
<pre dir="ltr"></pre>
<p><code class="codeph">CEIL</code> returns the result roundest up to the next whole integer.</p>
<p>For example, assume a system that can support 970 connections for each process, and that has:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>A maximum of 4000 sessions concurrently connected through TCP/IP and</p>
</li>
<li>
<p>A maximum of 2,500 sessions concurrently connected through TCP/IP with SSL</p>
</li>
</ul>
<p>The <code class="codeph">DISPATCHERS</code> attribute for TCP/IP should be set to a minimum of five dispatchers (4000 / 970), and for TCP/IP with SSL three dispatchers (2500 / 970:</p>
<pre dir="ltr">DISPATCHERS=&#39;(PROT=tcp)(DISP=5)&#39;, &#39;(PROT=tcps)(DISP=3)&#39;
</pre>
<p>Depending on performance, you may need to adjust the number of dispatchers.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12552"></a><a id="ADMIN12553"></a><a id="ADMIN12554"></a><a id="ADMIN11179"></a>
<div class="props_rev_3"><a id="GUID-B2416115-2A05-4959-B963-E917B2C9482C"></a>
<h4 id="ADMIN-GUID-B2416115-2A05-4959-B963-E917B2C9482C" class="sect4"><span class="enumeration_section">5.3.4.3</span> Setting the Initial Number of Dispatchers</h4>
<div>
<p>You can specify multiple dispatcher configurations by setting <code class="codeph">DISPATCHERS</code> to a comma separated list of strings, or by specifying multiple <code class="codeph">DISPATCHERS</code> initialization parameters in the initialization parameter file.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">DISPATCHERS</code> initialization parameter.</p>
</li>
</ul>
<p>If you specify <code class="codeph">DISPATCHERS</code> multiple times, then the lines must be adjacent to each other in the initialization parameter file. Internally, Oracle Database assigns an <code class="codeph">INDEX</code> value (beginning with zero) to each <code class="codeph">DISPATCHERS</code> parameter. You can later refer to that <code class="codeph">DISPATCHERS</code> parameter in an <code class="codeph">ALTER SYSTEM</code> statement by its index number.</p>
<p>Some examples of setting the <code class="codeph">DISPATCHERS</code> initialization parameter follow.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example: Typical</p>
</div>
<!-- class="section" -->
<div class="section">
<p>This is a typical example of setting the <code class="codeph">DISPATCHERS</code> initialization parameter.</p>
<pre dir="ltr">DISPATCHERS=&#34;(PROTOCOL=TCP)(DISPATCHERS=2)&#34;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example: Forcing the IP Address Used for Dispatchers</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following hypothetical example will create two dispatchers that will listen on the specified IP address. The address must be a valid IP address for the host that the instance is on. (The host may be configured with multiple IP addresses.)</p>
<pre dir="ltr">DISPATCHERS=&#34;(ADDRESS=(PROTOCOL=TCP)(HOST=144.25.16.201))(DISPATCHERS=2)&#34;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Example: Forcing the Port Used by Dispatchers</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To force the dispatchers to use a specific port as the listening endpoint, add the <code class="codeph">PORT</code> attribute as follows:</p>
<pre dir="ltr">DISPATCHERS=&#34;(ADDRESS=(PROTOCOL=TCP)(PORT=5000))&#34;
DISPATCHERS=&#34;(ADDRESS=(PROTOCOL=TCP)(PORT=5001))&#34;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11180"></a>
<div class="props_rev_3"><a id="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB"></a>
<h4 id="ADMIN-GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB" class="sect4"><span class="enumeration_section">5.3.4.4</span> Altering the Number of Dispatchers</h4>
<div>
<p>You can control the number of dispatcher processes in the instance. Unlike the number of shared servers, the number of dispatchers does not change automatically. You change the number of dispatchers explicitly with the <code class="codeph">ALTER SYSTEM</code> statement. You can increase the number of dispatchers to more than the limit specified by the <code class="codeph">MAX_DISPATCHERS</code> parameter.</p>
<div class="section">
<ol>
<li>
<div class="p">Monitor the following views to determine the load on the dispatcher processes:
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">V$QUEUE</code></p>
</li>
<li>
<p><code class="codeph">V$DISPATCHER</code></p>
</li>
<li>
<p><code class="codeph">V$DISPATCHER_RATE</code></p>
<p>If these views indicate that the load on the dispatcher processes is consistently high, then performance may be improved by starting additional dispatcher processes to route user requests. In contrast, if the load on dispatchers is consistently low, reducing the number of dispatchers may improve performance.</p>
<div class="infoboxnotealso" id="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB__GUID-C1F85B47-03AE-47A2-B077-F50DDC044ADD">
<p class="notep1">See Also:</p>
<p><a class="olink TGDBA021" target="_blank" href="../TGDBA/pfgrf_build_db.htm#TGDBA021"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about monitoring these views to determine dispatcher load and performance</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>To dynamically alter the number of dispatchers when the instance is running, use the <code class="codeph">ALTER SYSTEM</code> statement to modify the <code class="codeph">DISPATCHERS</code> attribute setting for an existing dispatcher configuration. You can also add new dispatcher configurations to start dispatchers with different network attributes.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p>When you reduce the number of dispatchers for a particular dispatcher configuration, the dispatchers are not immediately removed. Rather, as users disconnect, Oracle Database terminates dispatchers down to the limit you specify in <code class="codeph">DISPATCHERS</code>,</p>
<p>For example, suppose the instance was started with this <code class="codeph">DISPATCHERS</code> setting in the initialization parameter file:</p>
<pre dir="ltr">DISPATCHERS=&#39;(PROT=tcp)(DISP=2)&#39;, &#39;(PROT=tcps)(DISP=2)&#39;
</pre>
<p>To increase the number of dispatchers for the TCP/IP protocol from 2 to 3, and decrease the number of dispatchers for the TCP/IP with SSL protocol from 2 to 1, you can issue the following statement:</p>
<pre dir="ltr">ALTER SYSTEM SET DISPATCHERS = &#39;(INDEX=0)(DISP=3)&#39;, &#39;(INDEX=1)(DISP=1)&#39;;
</pre>
<p>or</p>
<pre dir="ltr">ALTER SYSTEM SET DISPATCHERS = &#39;(PROT=tcp)(DISP=3)&#39;, &#39;(PROT=tcps)(DISP=1)&#39;;
</pre>
<div class="infobox-note" id="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB__GUID-11A09E7E-8A8B-4663-AAD7-D3F20323BD39">
<p class="notep1">Note:</p>
<p>You need not specify (<code class="codeph">DISP=1</code>). It is optional because 1 is the default value for the <code class="codeph">DISPATCHERS</code> parameter.</p>
</div>
<p>If fewer than three dispatcher processes currently exist for TCP/IP, the database creates new ones. If multiple dispatcher processes currently exist for TCP/IP with SSL, then the database terminates the extra ones as the connected users disconnect.</p>
</div>
<!-- class="section" --></div>
<a id="ADMIN11181"></a>
<div class="props_rev_3"><a id="GUID-79FF4889-2B3D-4F86-B26E-2DEA13706BA6"></a>
<h5 id="ADMIN-GUID-79FF4889-2B3D-4F86-B26E-2DEA13706BA6" class="sect5"><span class="enumeration_section">5.3.4.4.1</span> Notes on Altering Dispatchers</h5>
<div>
<p>Understand details about altering dispatchers.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">INDEX</code> keyword can be used to identify which dispatcher configuration to modify. If you do not specify <code class="codeph">INDEX</code>, then the first dispatcher configuration matching the <code class="codeph">DESCRIPTION</code>, <code class="codeph">ADDRESS</code>, or <code class="codeph">PROTOCOL</code> specified will be modified. If no match is found among the existing dispatcher configurations, then a new dispatcher will be added.</p>
</li>
<li>
<p>The <code class="codeph">INDEX</code> value can range from 0 to <span class="italic"><code class="codeph">n</code></span>-1, where <span class="italic"><code class="codeph">n</code></span> is the current number of dispatcher configurations. If your <code class="codeph">ALTER SYSTEM</code> statement specifies an <code class="codeph">INDEX</code> value equal to <span class="italic"><code class="codeph">n</code></span>, where <span class="italic"><code class="codeph">n</code></span> is the current number of dispatcher configurations, a new dispatcher configuration will be added.</p>
</li>
<li>
<p>To see the values of the current dispatcher configurations--that is, the number of dispatchers and so forth--query the <code class="codeph">V$DISPATCHER_CONFIG</code> dynamic performance view. To see which dispatcher configuration a dispatcher is associated with, query the <code class="codeph">CONF_INDX</code> column of the <code class="codeph">V$DISPATCHER</code> view.</p>
</li>
<li>
<p>When you change the <code class="codeph">DESCRIPTION</code>, <code class="codeph">ADDRESS</code>, <code class="codeph">PROTOCOL</code>, <code class="codeph">CONNECTIONS</code>, and <code class="codeph">MULTIPLEX</code> attributes of a dispatcher configuration, the change does not take effect for existing dispatchers but only for new dispatchers. Therefore, in order for the change to be effective for all dispatchers associated with a configuration, you must forcibly terminate existing dispatchers after altering the <code class="codeph">DISPATCHERS</code> parameter, and let the database start new ones in their place with the newly specified properties.</p>
<p>The attributes <code class="codeph">LISTENER</code> and <code class="codeph">SERVICES</code> are not subject to the same constraint. They apply to existing dispatchers associated with the modified configuration. Attribute <code class="codeph">SESSIONS</code> applies to existing dispatchers only if its value is reduced. However, if its value is increased, it is applied only to newly started dispatchers.</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11182"></a>
<div class="props_rev_3"><a id="GUID-74A1A3FF-83E6-4573-B32E-185EE2CF00F1"></a>
<h4 id="ADMIN-GUID-74A1A3FF-83E6-4573-B32E-185EE2CF00F1" class="sect4"><span class="enumeration_section">5.3.4.5</span> Shutting Down Specific Dispatcher Processes</h4>
<div>
<p>With the <code class="codeph">ALTER SYSTEM SET DISPATCHERS</code> statement, you leave it up to the database to determine which dispatchers to shut down to reduce the number of dispatchers. Alternatively, it is possible to shut down specific dispatcher processes.</p>
<div class="section">
<ol>
<li>
<div class="p">To identify the name of the specific dispatcher process to shut down, use the <code class="codeph">V$DISPATCHER</code> dynamic performance view.
<pre dir="ltr">SELECT NAME, NETWORK FROM V$DISPATCHER;
</pre>
Each dispatcher is uniquely identified by a name of the form D<span class="italic">nnn</span>.</div>
</li>
<li>
<p>Run an ALTER SYSTEM SHUTDOWN IMMEDIATE statement and specify the dispatcher name.</p>
<div class="p">For example, to shut down dispatcher <code class="codeph">D002</code>, issue the following statement:
<pre dir="ltr">ALTER SYSTEM SHUTDOWN IMMEDIATE &#39;D002&#39;;
</pre>
The <code class="codeph">IMMEDIATE</code> keyword stops the dispatcher from accepting new connections, and the database immediately terminates all existing connections through that dispatcher. After all sessions are cleaned up, the dispatcher process shuts down. If <code class="codeph">IMMEDIATE</code> were not specified, then the dispatcher would wait until all of its users disconnected and all of its connections terminated before shutting down.</div>
</li>
</ol>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11183"></a>
<div class="props_rev_3"><a id="GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3"></a>
<h3 id="ADMIN-GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3" class="sect3"><span class="enumeration_section">5.3.5</span> Disabling Shared Server</h3>
<div>
<p>You disable shared server by setting the <code class="codeph">SHARED_SERVERS</code> initialization parameter to 0. You can do this dynamically with the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">SHARED_SERVERS</code> initialization parameter to 0.</p>
</li>
</ul>
<p>When you disable shared server, no new clients can connect in shared mode. However, Oracle Database retains some shared servers until all shared server connections are closed. The number of shared servers retained is either the number specified by the preceding setting of <code class="codeph">SHARED_SERVERS</code> or the value of the <code class="codeph">MAX_SHARED_SERVERS</code> parameter, whichever is smaller. If both <code class="codeph">SHARED_SERVERS</code> and <code class="codeph">MAX_SHARED_SERVERS</code> are set to 0, then all shared servers will terminate and requests from remaining shared server clients will be queued until the value of <code class="codeph">SHARED_SERVERS</code> or <code class="codeph">MAX_SHARED_SERVERS</code> is raised again.</p>
<p>To terminate dispatchers once all shared server clients disconnect, enter this statement:</p>
<pre dir="ltr">ALTER SYSTEM SET DISPATCHERS = &#39;&#39;;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11184"></a>
<div class="props_rev_3"><a id="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A"></a>
<h3 id="ADMIN-GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A" class="sect3"><span class="enumeration_section">5.3.6</span> Shared Server Data Dictionary Views</h3>
<div>
<p>You can query data dictionary views for information about your shared server configuration and to monitor performance.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A__GUID-54A00BCF-DDA3-4C8A-8250-D52B09BE47F4">
<table class="cellalignment1849" summary="The left column contains the names of views, the right column contains the descriptions.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1927" id="d71914e2787">View</th>
<th class="cellalignment1928" id="d71914e2790">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2795" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30063" target="_blank" href="../REFRN/GUID-C1D9CB17-35E8-41FF-863E-D94CA8CECD88.htm#REFRN30063">V$DISPATCHER</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2795 d71914e2790">
<p>Provides information on the dispatcher processes, including name, network address, status, various usage statistics, and index number.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2806" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30064" target="_blank" href="../REFRN/GUID-26B42B13-9550-4AC9-9126-FA092D2D9B68.htm#REFRN30064">V$DISPATCHER_CONFIG</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2806 d71914e2790">
<p>Provides configuration information about the dispatchers.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2816" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30065" target="_blank" href="../REFRN/GUID-CC507547-3D92-47B6-9324-305D8771CBD3.htm#REFRN30065">V$DISPATCHER_RATE</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2816 d71914e2790">
<p>Provides rate statistics for the dispatcher processes.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2827" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30194" target="_blank" href="../REFRN/GUID-4C6BF5CB-2EBF-45D1-9149-DC5930B4D0DF.htm#REFRN30194">V$QUEUE</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2827 d71914e2790">
<p>Contains information on the shared server message queues.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2837" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30241" target="_blank" href="../REFRN/GUID-7E3C0646-DDB5-4BBE-9862-207A68BD94C0.htm#REFRN30241">V$SHARED_SERVER</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2837 d71914e2790">
<p>Contains information on the shared servers.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2847" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30037" target="_blank" href="../REFRN/GUID-C8775DDD-E1EF-4A82-ADBB-F3DA35813577.htm#REFRN30037">V$CIRCUIT</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2847 d71914e2790">
<p>Contains information about virtual circuits, which are user connections to the database through dispatchers and servers.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2857" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30242" target="_blank" href="../REFRN/GUID-72DCF3B8-0928-45DD-B0F2-442B40693146.htm#REFRN30242">V$SHARED_SERVER_MONITOR</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2857 d71914e2790">
<p>Contains information for tuning shared server.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2867" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30233" target="_blank" href="../REFRN/GUID-4E216A4C-5C7E-43F6-8E2C-CDE442A1CEEC.htm#REFRN30233">V$SGA</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2867 d71914e2790">
<p>Contains size information about various system global area (SGA) groups. May be useful when tuning shared server.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2877" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30238" target="_blank" href="../REFRN/GUID-60D2578E-2293-45F5-91C1-35FDF047E520.htm#REFRN30238">V$SGASTAT</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2877 d71914e2790">
<p>Contains detailed statistical information about the SGA, useful for tuning.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1929" id="d71914e2887" headers="d71914e2787">
<p><code class="codeph"><a class="olink REFRN30240" target="_blank" href="../REFRN/GUID-0D80C0CF-76AC-4FD2-B906-4BA242905FBB.htm#REFRN30240">V$SHARED_POOL_RESERVED</a></code></p>
</td>
<td class="cellalignment1930" headers="d71914e2887 d71914e2790">
<p>Lists statistics to help tune the reserved pool and space within the shared pool.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A__GUID-78540CE1-6F37-4CB5-837C-E53F58F9919D">
<p class="notep1">See Also:</p>
<p><a class="olink TGDBA021" target="_blank" href="../TGDBA/pfgrf_build_db.htm#TGDBA021"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for specific information about monitoring and tuning shared server</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN12349"></a>
<div class="props_rev_3"><a id="GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924"></a>
<h2 id="ADMIN-GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" class="sect2"><span class="enumeration_section">5.4</span> Configuring Database Resident Connection Pooling</h2>
<div>
<p>The database server is preconfigured to allow database resident connection pooling. However, you must explicitly enable this feature by starting the connection pool.</p>
<div class="infoboxnotealso" id="GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924__GUID-05612ED8-F713-4ED2-9A6C-EF50F05CB44E">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="manproc.htm#GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" title="Database Resident Connection Pooling (DRCP) provides a connection pool in the database server for typical Web application usage scenarios where the application acquires a database connection, works on it for a relatively short duration, and then releases it. DRCP pools &#34;dedicated&#34; servers. A pooled server is the equivalent of a server foreground process and a database session combined.">About Database Resident Connection Pooling</a>&#34;</span></p>
</div>
</div>
<a id="ADMIN12555"></a><a id="ADMIN12556"></a><a id="ADMIN12557"></a><a id="ADMIN12558"></a><a id="ADMIN12350"></a>
<div class="props_rev_3"><a id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC"></a>
<h3 id="ADMIN-GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC" class="sect3"><span class="enumeration_section">5.4.1</span> Enabling Database Resident Connection Pooling</h3>
<div>
<p>Oracle Database includes a default connection pool called <code class="codeph">SYS_DEFAULT_CONNECTION_POOL</code>. By default, this pool is created, but not started. To enable database resident connection pooling, you must explicitly start the connection pool.</p>
<div class="section">
<p class="subhead3">To enable database resident connection pooling:</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Start the database resident connection pool, as described in <span class="q">&#34;<a href="manproc.htm#GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDCACDA">Starting the Database Resident Connection Pool</a>&#34;</span>.</p>
</li>
<li>
<p>Route the client connection requests to the connection pool, as described in <span class="q">&#34;<a href="manproc.htm#GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDIAIAA">Routing Client Connection Requests to the Connection Pool</a>&#34;</span>.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDCACDA">
<p class="subhead3">Starting the Database Resident Connection Pool</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To start the connection pool:</p>
<ol>
<li>
<p>Start SQL*Plus and connect to the database as the <code class="codeph">SYS</code> user.</p>
</li>
<li>
<p>Issue the following command:</p>
<pre dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.START_POOL();
</pre></li>
</ol>
<p>Once started, the connection pool remains in this state until it is explicitly stopped. The connection pool is automatically restarted when the database instance is restarted if the pool was active at the time of instance shutdown.</p>
<p>In an Oracle Real Application Clusters (Oracle RAC) environment, you can use any instance to manage the connection pool. Any changes you make to the pool configuration are applicable on all Oracle RAC instances.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDIAIAA">
<p class="subhead3">Routing Client Connection Requests to the Connection Pool</p>
</div>
<!-- class="section" -->
<div class="section">
<p>In the client application, the connect string must specify the connect type as <code class="codeph">POOLED</code>.</p>
<p>The following example shows an easy connect string that enables clients to connect to a database resident connection pool:</p>
<pre dir="ltr">examplehost.company.com:1521/books.company.com:POOLED
</pre>
<p>The following example shows a TNS connect descriptor that enables clients to connect to a database resident connection pool:</p>
<pre dir="ltr">(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp) (HOST=myhost)
       (PORT=1521))(CONNECT_DATA=(SERVICE_NAME=sales)
       (SERVER=POOLED)))
</pre>
<div class="infobox-note" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-6B85CA35-FBEC-48C8-BC38-5233A9B2F88C">
<p class="notep1">Note:</p>
Only the TCP protocol is supported for client connections to a database resident connection pool.</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Disabling Database Resident Connection Pooling</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To disable database resident connection pooling, you must explicitly stop the connection pool. Use the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start SQL*Plus and connect to the database as the <code class="codeph">SYS</code> user.</span></li>
<li class="stepexpand"><span>Issue the following command:</span>
<div>
<pre dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.STOP_POOL();
</pre>
<div class="infoboxnotealso" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-BE482E26-EB44-4FD2-8B23-BA3593DADB0F">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS215" target="_blank" href="../ARPLS/d_connection_pool.htm#ARPLS215"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">DBMS_CONNECTION_POOL</code> package.</p>
</div>
</div>
</li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-C5F80ABC-17EE-45BB-A87F-5FC7EDB7F925">
<p class="notep1">Note:</p>
<p>The operation of disabling the database resident connection pool can be completed only when all client requests that have been handed off to a server are completed.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13016"></a><a id="ADMIN12559"></a><a id="ADMIN12560"></a><a id="ADMIN12561"></a><a id="ADMIN12351"></a>
<div class="props_rev_3"><a id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391"></a>
<h3 id="ADMIN-GUID-08C884ED-0CFF-4AEC-9419-6597B2309391" class="sect3"><span class="enumeration_section">5.4.2</span> Configuring the Connection Pool for Database Resident Connection Pooling</h3>
<div>
<p>The connection pool is configured using default parameter values. You can use the procedures in the <code class="codeph">DBMS_CONNECTION_POOL</code> package to configure the connection pool according to your usage. In an Oracle Real Application Clusters (Oracle RAC) environment, the configuration parameters are applicable to each Oracle RAC instance.</p>
<div class="section">
<p class="subhead3">Using the CONFIGURE_POOL Procedure</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The <code class="codeph">CONFIGURE_POOL</code> procedure of the <code class="codeph">DBMS_CONNECTION_POOL</code> package enables you to configure the connection pool with advanced options. This procedure is usually used when you must modify all the parameters of the connection pool.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Using the ALTER_PARAM Procedure</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The <code class="codeph">ALTER_PARAM</code> procedure of the <code class="codeph">DBMS_CONNECTION_POOL</code> package enables you to alter a specific configuration parameter without affecting other parameters.For example, the following command changes the minimum number of pooled servers used:</p>
<pre dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.ALTER_PARAM (&#39;&#39;,&#39;MINSIZE&#39;,&#39;10&#39;);
</pre>
<p>The following example, changes the maximum number of connections that each connection broker can handle to 50000.</p>
<pre dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.ALTER_PARAM (&#39;&#39;,&#39;MAXCONN_CBROK&#39;,&#39;50000&#39;);
</pre>
<p>Before you execute this command, ensure that the maximum number of connections allowed by the platform on which your database is installed is not less than the value you set for <code class="codeph">MAXCONN_CBROK</code>.</p>
<p>For example, in Linux, the following entry in the <code class="codeph">/etc/security/limits.conf</code> file indicates that the maximum number of connections allowed for the user <code class="codeph">test_user</code> is 30000.</p>
<pre dir="ltr">test_user HARD NOFILE 30000
</pre>
<p>To set the maximum number of connections that each connection broker can allow to 50000, first change the value in the <code class="codeph">limits.conf</code> file to a value not less than 50000.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Restoring the Connection Pool Default Settings</p>
</div>
<!-- class="section" -->
<div class="section">
<p>If you have made changes to the connection pool parameters, but you want to revert to the default pool settings, use the <code class="codeph">RESTORE_DEFAULT</code> procedure of the <code class="codeph">DBMS_CONNECTION_POOL</code> package. The command to restore the connection pool to its default settings is:</p>
<pre dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.RESTORE_DEFAULTS();
</pre>
<div class="infoboxnotealso" id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391__GUID-AE6E1098-25E9-4D6B-87E6-C9EB24692FD2">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS215" target="_blank" href="../ARPLS/d_connection_pool.htm#ARPLS215"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">DBMS_CONNECTION_POOL</code> package.</p>
</div>
</div>
<!-- class="section" --></div>
<div class="sect4"><a id="GUID-ABBE6941-73AC-4343-B320-A1400451B44F"></a>
<h4 id="ADMIN-GUID-ABBE6941-73AC-4343-B320-A1400451B44F" class="sect4"><span class="enumeration_section">5.4.2.1</span> Configuration Parameters for Database Resident Connection Pooling</h4>
<div>
<p>You can specify parameters for subprograms in the <code class="codeph">DBMS_CONNECTION_POOL</code> package to configure database resident connection pooling.</p>
<div class="section">
<p>The following table lists the parameters that you can configure for the connection pool.</p>
<div class="tblformal" id="GUID-ABBE6941-73AC-4343-B320-A1400451B44F__CHDEGEHJ">
<p class="titleintable">Table 5-2 Configuration Parameters for Database Resident Connection Pooling</p>
<table class="cellalignment1849" title="Configuration Parameters for Database Resident Connection Pooling" summary="This table describes the configuration parameters used for database resident connection pooling.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d71914e3373">Parameter Name</th>
<th class="cellalignment1963" id="d71914e3376">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3381" headers="d71914e3373">
<p><code class="codeph">MINSIZE</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3381 d71914e3376">
<p>The minimum number of pooled servers in the pool. The default value is 4.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3389" headers="d71914e3373">
<p><code class="codeph">MAXSIZE</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3389 d71914e3376">
<p>The maximum number of pooled servers in the pool. The default value is 40.</p>
<p>The connection pool reserves 5% of the pooled servers for authentication, and at least one pooled server is always reserved for authentication. When setting this parameter, ensure that there are enough pooled servers for both authentication and connections.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3399" headers="d71914e3373">
<p><code class="codeph">INCRSIZE</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3399 d71914e3376">
<p>The number of pooled servers by which the pool is incremented if servers are unavailable when a client application request is received. The default value is 2.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3407" headers="d71914e3373">
<p><code class="codeph">SESSION_CACHED_CURSORS</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3407 d71914e3376">
<p>The number of session cursors to cache in each pooled server session. The default value is 50.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3415" headers="d71914e3373">
<p><code class="codeph">INACTIVITY_TIMEOUT</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3415 d71914e3376">
<p>The maximum time, in seconds, the pooled server can stay idle in the pool. After this time, the server is terminated. The default value is 300.</p>
<p>This parameter does not apply if the pool is at <code class="codeph">MINSIZE</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3428" headers="d71914e3373">
<p><code class="codeph">MAX_THINK_TIME</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3428 d71914e3376">
<p>The maximum time of inactivity, in seconds, for a client after it obtains a pooled server from the pool. After obtaining a pooled server from the pool, if the client application does not issue a database call for the time specified by <code class="codeph">MAX_THINK_TIME</code>, the pooled server is freed and the client connection is terminated. The default value is 120.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3439" headers="d71914e3373">
<p><code class="codeph">MAX_USE_SESSION</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3439 d71914e3376">
<p>The number of times a pooled server can be taken and released to the pool. The default value is 500000.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3447" headers="d71914e3373">
<p><code class="codeph">MAX_LIFETIME_SESSION</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3447 d71914e3376">
<p>The time, in seconds, to live for a pooled server in the pool. The default value is 86400.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3455" headers="d71914e3373">
<p><code class="codeph">NUM_CBROK</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3455 d71914e3376">
<p>The number of Connection Brokers that are created to handle client requests. The default value is 1.</p>
<p>Creating multiple Connection Broker processes helps distribute the load of client connection requests if there are a large number of client applications.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d71914e3465" headers="d71914e3373">
<p><code class="codeph">MAXCONN_CBROK</code></p>
</td>
<td class="cellalignment1964" headers="d71914e3465 d71914e3376">
<p>The maximum number of connections that each Connection Broker can handle.</p>
<p>The default value is 40000. But if the maximum connections allowed by the platform on which the database is installed is lesser than the default value, this value overrides the value set using <code class="codeph">MAXCONN_CBROK</code>.</p>
<p>Set the per-process file descriptor limit of the operating system sufficiently high so that it supports the number of connections specified by <code class="codeph">MAXCONN_CBROK</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-ABBE6941-73AC-4343-B320-A1400451B44F__GUID-C2E23FDA-D9F0-454B-9D05-574C5C32A19A">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS215" target="_blank" href="../ARPLS/d_connection_pool.htm#ARPLS215"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">DBMS_CONNECTION_POOL</code> package.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN13017"></a><a id="ADMIN12352"></a>
<div class="props_rev_3"><a id="GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903"></a>
<h3 id="ADMIN-GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903" class="sect3"><span class="enumeration_section">5.4.3</span> Data Dictionary Views for Database Resident Connection Pooling</h3>
<div>
<p>You can query data dictionary views to obtain information about your connection pool and to monitor the performance of database resident connection pooling.</p>
<div class="tblformal" id="GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903__BABDGAFH">
<p class="titleintable">Table 5-3 Data Dictionary Views for Database Resident Connection Pooling</p>
<table class="cellalignment1849" title="Data Dictionary Views for Database Resident Connection Pooling" summary="This table describes the data dictionary views that contain information about database resident connection pooling.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1858" id="d71914e3575">View</th>
<th class="cellalignment1970" id="d71914e3578">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e3583" headers="d71914e3575">
<p><code class="codeph"><a class="olink REFRN23605" target="_blank" href="../REFRN/GUID-14A26A04-952B-44B5-BCF1-1083AACD366F.htm#REFRN23605">DBA_CPOOL_INFO</a></code></p>
</td>
<td class="cellalignment1971" headers="d71914e3583 d71914e3578">
<p>Contains information about the connection pool such as the pool status, the maximum and minimum number of connections, and timeout for idle sessions.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e3593" headers="d71914e3575">
<p><code class="codeph"><a class="olink REFRN30630" target="_blank" href="../REFRN/GUID-20A39B0D-5E39-426D-B10D-668AFD569B83.htm#REFRN30630">V$CPOOL_CONN_INFO</a></code></p>
</td>
<td class="cellalignment1971" headers="d71914e3593 d71914e3578">
<p>Contains information about each connection to the connection broker.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e3603" headers="d71914e3575">
<p><code class="codeph"><a class="olink REFRN30487" target="_blank" href="../REFRN/GUID-D57D1672-386B-4F9E-9B78-42176115D6DC.htm#REFRN30487">V$CPOOL_STATS</a></code></p>
</td>
<td class="cellalignment1971" headers="d71914e3603 d71914e3578">
<p>Contains pool statistics such as the number of session requests, number of times a session that matches the request was found in the pool, and total wait time for a session request.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e3613" headers="d71914e3575">
<p><code class="codeph"><a class="olink REFRN30486" target="_blank" href="../REFRN/GUID-A57977A3-D27F-417C-8ACD-85AFAF978B7F.htm#REFRN30486">V$CPOOL_CC_INFO</a></code></p>
</td>
<td class="cellalignment1971" headers="d71914e3613 d71914e3578">
<p>Contains information about the pool-to-connection class mapping for the pool.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d71914e3623" headers="d71914e3575">
<p><code class="codeph"><a class="olink REFRN30448" target="_blank" href="../REFRN/GUID-DAD6A631-8165-4CF9-8242-DC9FAE3F6005.htm#REFRN30448">V$CPOOL_CC_STATS</a></code></p>
</td>
<td class="cellalignment1971" headers="d71914e3623 d71914e3578">
<p>Contains connection class level statistics for the pool.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN13018"></a><a id="ADMIN11185"></a>
<div class="props_rev_3"><a id="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF"></a>
<h2 id="ADMIN-GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF" class="sect2"><span class="enumeration_section">5.5</span> About Oracle Database Background Processes</h2>
<div>
<p>To maximize performance and accommodate many users, a multiprocess Oracle Database system uses <span class="bold">background processes</span>. Background processes consolidate functions that would otherwise be handled by multiple database programs running for each user process. Background processes asynchronously perform I/O and monitor other Oracle Database processes to provide increased parallelism for better performance and reliability.</p>
<p><a href="manproc.htm#GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF__CIHIICBD" title="the first column lists the various background processes, the second column contains a brief description of the process.">Table 5-4</a> describes the fundamental background processes, many of which are discussed in more detail elsewhere in this book. The use of additional database features or options can cause more background processes to be present. For example:</p>
<ul style="list-style-type: disc;">
<li>
<p>When you use Oracle Database Advanced Queuing, the queue monitor (QMN<span class="italic">n</span>) background process is present.</p>
</li>
<li>
<p>When you set the <code class="codeph">FILE_MAPPING</code> initialization parameter to <code class="codeph">true</code> for mapping data files to physical devices on a storage subsystem, the FMON process is present.</p>
</li>
<li>
<p>If you use Oracle Automatic Storage Management (Oracle ASM), then additional Oracle ASM&ndash;specific background processes are present.</p>
</li>
</ul>
<div class="tblformalwide" id="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF__CIHIICBD">
<p class="titleintable">Table 5-4 Oracle Database Background Processes</p>
<table class="cellalignment1880" title="Oracle Database Background Processes" summary="the first column lists the various background processes, the second column contains a brief description of the process.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d71914e3788">Process Name</th>
<th class="cellalignment1957" id="d71914e3791">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3796" headers="d71914e3788">
<p>Database writer (DBW<span class="italic">n</span> or BW<span class="italic">nn</span>)</p>
</td>
<td class="cellalignment1958" headers="d71914e3796 d71914e3791">
<p>The database writer writes modified blocks from the database buffer cache to the data files. Oracle Database allows a maximum of 100 database writer processes. The names of the first 36 database writer processes are DBW0-DBW9 and DBWa-DBWz. The names of the 37th through 100th database writer processes are BW36-BW99.</p>
<p>The <code class="codeph">DB_WRITER_PROCESSES</code> initialization parameter specifies the number of database writer processes. The database selects an appropriate default setting for this initialization parameter or adjusts a user-specified setting based on the number of CPUs and the number of processor groups.</p>
<p>For more information about setting the <code class="codeph">DB_WRITER_PROCESSES</code> initialization parameter, see the <a class="olink TGDBA94512" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=TGDBA94512"><span class="italic">Oracle Database Performance Tuning Guide</span></a>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3824" headers="d71914e3788">
<p>Log writer (LGWR)</p>
</td>
<td class="cellalignment1958" headers="d71914e3824 d71914e3791">
<p>The log writer process writes redo log entries to disk. Redo log entries are generated in the redo log buffer of the system global area (SGA). LGWR writes the redo log entries sequentially into a redo log file. If the database has a multiplexed redo log, then LGWR writes the redo log entries to a group of redo log files. See <a href="onlineredo.htm#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a> for information about the log writer process.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3838" headers="d71914e3788">
<p>Checkpoint (CKPT)</p>
</td>
<td class="cellalignment1958" headers="d71914e3838 d71914e3791">
<p>At specific times, all modified database buffers in the system global area are written to the data files by DBW<span class="italic">n</span>. This event is called a checkpoint. The checkpoint process is responsible for signalling DBW<span class="italic">n</span> at checkpoints and updating all the data files and control files of the database to indicate the most recent checkpoint.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3851" headers="d71914e3788">
<p>System monitor (SMON)</p>
</td>
<td class="cellalignment1958" headers="d71914e3851 d71914e3791">
<p>The system monitor performs recovery when a failed instance starts up again. In an Oracle Real Application Clusters database, the SMON process of one instance can perform instance recovery for other instances that have failed. SMON also cleans up temporary segments that are no longer in use and recovers terminated transactions skipped during system failure and instance recovery because of file-read or offline errors. These transactions are eventually recovered by SMON when the tablespace or file is brought back online.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3858" headers="d71914e3788">
<p>Process monitor (PMON)</p>
</td>
<td class="cellalignment1958" headers="d71914e3858 d71914e3791">
<p>The process monitor performs process recovery when a user process fails. PMON is responsible for cleaning up the cache and freeing resources that the process was using. PMON also checks on the dispatcher processes (described later in this table) and server processes and restarts them if they have failed.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3865" headers="d71914e3788">
<p>Archiver (ARC<span class="italic">n</span>)</p>
</td>
<td class="cellalignment1958" headers="d71914e3865 d71914e3791">
<p>One or more archiver processes copy the redo log files to archival storage when they are full or a log switch occurs. Archiver processes are the subject of <a href="archredo.htm#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations.">Managing Archived Redo Log Files</a>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3888" headers="d71914e3788">
<p>Recoverer (RECO)</p>
</td>
<td class="cellalignment1958" headers="d71914e3888 d71914e3791">
<p>The recoverer process is used to resolve distributed transactions that are pending because of a network or system failure in a distributed database. At timed intervals, the local RECO attempts to connect to remote databases and automatically complete the commit or rollback of the local portion of any pending distributed transactions. For information about this process and how to start it, see <a href="ds_txnman.htm#GUID-AB19431E-BF9F-4181-BC57-699F8A06149D" title="Managing distributed transactions includes tasks such as specifying the comment point strength of a node, naming transactions, and managing in-doubt transactions.">Managing Distributed Transactions</a>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d71914e3904" headers="d71914e3788">
<p>Dispatcher (D<span class="italic">nnn</span>)</p>
</td>
<td class="cellalignment1958" headers="d71914e3904 d71914e3791">
<p>Dispatchers are optional background processes, present only when the shared server configuration is used. Shared server was discussed previously in <span class="q">&#34;<a href="manproc.htm#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="You can enable shared server and set or alter shared server initialization parameters.">Configuring Oracle Database for Shared Server</a>&#34;</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF__GUID-FE1A346A-0888-446F-8191-5570B471F585">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN104" target="_blank" href="../REFRN/GUID-86184690-5531-405F-AA05-BB935F57B76D.htm#REFRN104"><span class="italic">Oracle Database Reference</span></a> for a complete list of Oracle Database background processes</p>
</div>
</div>
</div>
<a id="ADMIN11186"></a>
<div class="props_rev_3"><a id="GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C"></a>
<h2 id="ADMIN-GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C" class="sect2"><span class="enumeration_section">5.6</span> Managing Processes for Parallel SQL Execution</h2>
<div>
<p>You can manage parallel processing of SQL statements. In this configuration, Oracle Database can divide the work of processing an SQL statement among multiple parallel processes.</p>
<div class="infobox-note" id="GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C__GUID-EA7D9273-518D-4095-8230-1097E0563888">
<p class="notep1">Note:</p>
<p>The parallel execution feature described in this section is available with the Oracle Database Enterprise Edition.</p>
</div>
</div>
<a id="ADMIN11187"></a>
<div class="props_rev_3"><a id="GUID-364B130D-8ADE-4904-9657-88EA639C6330"></a>
<h3 id="ADMIN-GUID-364B130D-8ADE-4904-9657-88EA639C6330" class="sect3"><span class="enumeration_section">5.6.1</span> About Parallel Execution Servers</h3>
<div>
<p>The execution of many SQL statements can be parallelized. The <span class="bold">degree of parallelism</span> is the number of parallel execution servers that can be associated with a single operation.</p>
<p>The degree of parallelism is determined by any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <code class="codeph">PARALLEL</code> clause in a statement</p>
</li>
<li>
<p>For objects referred to in a query, the <code class="codeph">PARALLEL</code> clause that was used when the object was created or altered</p>
</li>
<li>
<p>A parallel hint inserted into the statement</p>
</li>
<li>
<p>A default determined by the database</p>
</li>
</ul>
<p>An example of using parallel SQL execution is contained in <span class="q">&#34;<a href="tables.htm#GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440" title="When you specify the AS SELECT clause to create a table and populate it with data from another table, you can use parallel execution.">Parallelizing Table Creation</a>&#34;</span>.</p>
<p>When an instance starts up, Oracle Database creates a pool of parallel execution servers which are available for any parallel operation. A process called the <span class="bold">parallel execution coordinator</span> dispatches the execution of a pool of <span class="bold">parallel execution servers</span> and coordinates the sending of results from all of these parallel execution servers back to the user.</p>
<p>The parallel execution servers are enabled by default, because by default the value for <code class="codeph">PARALLEL_MAX_SERVERS</code> initialization parameter is set &gt;0. The processes are available for use by the various Oracle Database features that are capable of exploiting parallelism. Related initialization parameters are tuned by the database for the majority of users, but you can alter them as needed to suit your environment. For ease of tuning, some parameters can be altered dynamically.</p>
<p>Parallelism can be used by several features, including transaction recovery, replication, and SQL execution. In the case of parallel SQL execution, the topic discussed in this book, parallel execution server processes remain associated with a statement throughout its execution phase. When the statement is completely processed, these processes become available to process other statements.</p>
<div class="infoboxnotealso" id="GUID-364B130D-8ADE-4904-9657-88EA639C6330__GUID-C28054AD-AB46-4141-BD6B-8D8CE1B1BE9C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink TGSQL259" target="_blank" href="../TGSQL/tgsql_influence.htm#TGSQL259"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information about using parallel hints<a id="d71914e4128" class="indexterm-anchor"></a><a id="d71914e4132" class="indexterm-anchor"></a></p>
</li>
<li>
<p><a class="olink VLDBG010" target="_blank" href="../VLDBG/GUID-3E2AE088-2505-465E-A8B2-AC38813EA355.htm#VLDBG010"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about using parallel execution</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11188"></a>
<div class="props_rev_3"><a id="GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5"></a>
<h3 id="ADMIN-GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5" class="sect3"><span class="enumeration_section">5.6.2</span> Altering Parallel Execution for a Session</h3>
<p>You control parallel SQL execution for a session using the <code class="codeph">ALTER SESSION</code> statement.</p>
<a id="ADMIN11189"></a>
<div class="props_rev_3"><a id="GUID-7A0C9553-7E42-442C-B8B9-5CCD07322379"></a>
<h4 id="ADMIN-GUID-7A0C9553-7E42-442C-B8B9-5CCD07322379" class="sect4"><span class="enumeration_section">5.6.2.1</span> Disabling Parallel SQL Execution</h4>
<div>
<p>You disable parallel SQL execution with an <code class="codeph">ALTER SESSION DISABLE PARALLEL DML|DDL|QUERY</code> statement. All subsequent DML (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>), DDL (<code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>), or query (<code class="codeph">SELECT</code>) operations are executed serially after such a statement is issued. They will be executed serially regardless of any parallel attribute associated with the table or indexes involved. However, statements with a <code class="codeph">PARALLEL</code> hint override the session settings.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Run the appropriate <code class="codeph">ALTER SESSION DISABLE PARALLEL</code> statement to disable DML, DDL, or query operations.</p>
</li>
</ul>
<p>For example, to disable parallel DDL operations, run the following statement:</p>
<pre dir="ltr">ALTER SESSION DISABLE PARALLEL DDL;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11190"></a>
<div class="props_rev_3"><a id="GUID-A39A946B-4E34-4017-A07E-EB6486220695"></a>
<h4 id="ADMIN-GUID-A39A946B-4E34-4017-A07E-EB6486220695" class="sect4"><span class="enumeration_section">5.6.2.2</span> Enabling Parallel SQL Execution</h4>
<div>
<p>You enable parallel SQL execution with an <code class="codeph">ALTER SESSION ENABLE PARALLEL DML|DDL|QUERY</code> statement. Subsequently, when a <code class="codeph">PARALLEL</code> clause or parallel hint is associated with a statement, those DML, DDL, or query statements will execute in parallel. By default, parallel execution is enabled for DDL and query statements.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Run the appropriate A<code class="codeph">LTER SESSION DISABLE PARALLEL</code> statement to enable DML, DDL, or query operations.</p>
</li>
</ul>
<p>For example, a DML statement can be parallelized only if you specifically issue an <code class="codeph">ALTER SESSION</code> statement to enable parallel DML:</p>
<pre dir="ltr">ALTER SESSION ENABLE PARALLEL DML;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11191"></a>
<div class="props_rev_3"><a id="GUID-FB5E8998-50ED-45E7-AFF5-FD29A2248DF5"></a>
<h4 id="ADMIN-GUID-FB5E8998-50ED-45E7-AFF5-FD29A2248DF5" class="sect4"><span class="enumeration_section">5.6.2.3</span> Forcing Parallel SQL Execution</h4>
<div>
<p>You can force parallel execution of all subsequent DML, DDL, or query statements for which parallelization is possible with the <code class="codeph">ALTER SESSION FORCE PARALLEL DML|DDL|QUERY</code> statement. Additionally you can force a specific degree of parallelism to be in effect, overriding any <code class="codeph">PARALLEL</code> clause associated with subsequent statements. If you do not specify a degree of parallelism in this statement, the default degree of parallelism is used. Forcing parallel execution overrides any parallel hints in SQL statements.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Run an <code class="codeph">ALTER SESSION FORCE PARALLEL</code> statement.</p>
</li>
</ul>
<p>For example, the following statement forces parallel execution of subsequent statements and sets the overriding degree of parallelism to 5:</p>
<pre dir="ltr">ALTER SESSION FORCE PARALLEL DDL PARALLEL 5;
</pre></div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="ADMIN00501"></a>
<div class="props_rev_3"><a id="GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7"></a>
<h2 id="ADMIN-GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" class="sect2"><span class="enumeration_section">5.7</span> Managing Processes for External Procedures</h2>
<div>
<p>An external procedure is a procedure or function written in a programming language and stored in a shared library. An Oracle server can call external procedures or functions using PL/SQL routines.</p>
</div>
<a id="ADMIN13389"></a>
<div class="props_rev_3"><a id="GUID-DA5E72EA-46BF-4069-9185-393D939F1F77"></a>
<h3 id="ADMIN-GUID-DA5E72EA-46BF-4069-9185-393D939F1F77" class="sect3"><span class="enumeration_section">5.7.1</span> About External Procedures</h3>
<div>
<p>External procedures are procedures that are written in a programming language such as C, C++, or Java, compiled, and stored outside of the database, and then called by user sessions. For example, a PL/SQL program unit can call one or more C routines that are required to perform special-purpose processing.</p>
<p>These callable routines are stored in a dynamic link library (DLL), or a libunit in the case of a Java class method, and are registered with the base language. Oracle Database provides a special-purpose interface, the <span class="bold">call specification</span> (call spec), that enables users to call external procedures.</p>
<p>When a user session calls an external procedure, the database starts an external procedure agent on the database host computer. The default name of the agent is <code class="codeph">extproc</code>. Each session has its own dedicated agent. Optionally, you can create a credential so that the agent runs as a particular operating system user. When a session terminates, the database terminates its agent.</p>
<p>User applications pass to the external procedure agent the name of the DLL or libunit, the name of the external procedure, and any relevant parameters. The external procedure agent then loads the DLL or libunit, runs the external procedure, and passes back to the application any values returned by the external procedure.</p>
<div class="infoboxnotealso" id="GUID-DA5E72EA-46BF-4069-9185-393D939F1F77__GUID-2DEF1F5F-6ACF-4C5E-998D-EE1E3707F15F">
<p class="notep1">See Also:</p>
<p><a class="olink ADFNS010" target="_blank" href="../ADFNS/adfns_externproc.htm#ADFNS010"><span class="italic">Oracle Database Development Guide</span></a> for information about external procedures</p>
</div>
</div>
</div>
<a id="ADMIN13390"></a>
<div class="props_rev_3"><a id="GUID-1302E117-D5C9-42E4-BD26-E228884D86F1"></a>
<h3 id="ADMIN-GUID-1302E117-D5C9-42E4-BD26-E228884D86F1" class="sect3"><span class="enumeration_section">5.7.2</span> DBA Tasks to Enable External Procedure Calls</h3>
<div>
<p>To enable external procedure calls, you must modify the listener and manage libraries.</p>
<p>Enabling external procedure calls may involve the following DBA tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Configuring the listener to start the <code class="codeph">extproc</code> agent</p>
<p>By default, the database starts the <code class="codeph">extproc</code> process. Under the following circumstances, you must change this default configuration so that the listener starts the <code class="codeph">extproc</code> process:</p>
<ul style="list-style-type: disc;">
<li>
<p>You want to use a multithreaded <code class="codeph">extproc</code> agent</p>
</li>
<li>
<p>The database is running in shared server mode on Windows</p>
</li>
<li>
<p>An <code class="codeph">AGENT</code> clause in the <code class="codeph">LIBRARY</code> specification or an <code class="codeph">AGENT</code> <code class="codeph">IN</code> clause in the <code class="codeph">PROCEDURE</code> or <code class="codeph">FUNCTION</code> specification redirects external procedures to a different <code class="codeph">extproc</code> agent</p>
</li>
</ul>
<p>Instructions for changing the default configuration are in <a class="olink ADFNS705" target="_blank" href="../ADFNS/adfns_externproc.htm#ADFNS705"><span class="italic">Oracle Database Development Guide</span></a>.</p>
</li>
<li>
<p>Managing libraries or granting privileges related to managing libraries</p>
<p>The database requires DLL statements to be accessed through a schema object called a library. For security purposes, by default, only users with the <code class="codeph">DBA</code> role can create and manage libraries. Therefore, you may be asked to:</p>
<ul style="list-style-type: disc;">
<li>
<p><a id="d71914e4736" class="indexterm-anchor"></a><a id="d71914e4740" class="indexterm-anchor"></a>Create a directory object using the <code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code> statement for the location of the library. After the directory object is created, a <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code> statement can specify the directory object for the location of the library.</p>
</li>
<li>
<p><a id="d71914e4759" class="indexterm-anchor"></a><a id="d71914e4761" class="indexterm-anchor"></a><a id="d71914e4763" class="indexterm-anchor"></a>Create a credential using the <code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code> PL/SQL procedure. After the credential is created, a <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code> statement can associate the credential with a library to run the <code class="codeph">extproc</code> agent as a particular operating system user.</p>
</li>
<li>
<p>Use the <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code> statement to create the library objects that the developers need.</p>
</li>
<li>
<p>Grant the following privileges to developers: <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>, <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code>, <code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code>, <code class="codeph">EXECUTE</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code>, <code class="codeph">EXECUTE</code> <code class="codeph">ON</code> <span class="italic"><code class="codeph">library_name</code></span>, and <code class="codeph">EXECUTE</code> <code class="codeph">ON</code> <span class="italic"><code class="codeph">directory_object</code></span>.</p>
<p>Only make an explicit grant of these privileges to trusted users, and never to the <code class="codeph">PUBLIC</code> role. If you plan to create PL/SQL interfaces to libraries, then only grant the <code class="codeph">EXECUTE</code> privilege to the PL/SQL interface. Do not grant <code class="codeph">EXECUTE</code> on the underlying library. You must have the <code class="codeph">EXECUTE</code> object privilege on the library to create the PL/SQL interface. However, users have this privilege automatically in their own schemas. Explicit grants of <code class="codeph">EXECUTE</code> object privilege on a library are rarely required.</p>
</li>
</ul>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-1302E117-D5C9-42E4-BD26-E228884D86F1__GUID-85B16494-0D69-4136-BA90-0C7AB7CDEB90">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink LNPLS99948" target="_blank" href="../LNPLS/create_library.htm#LNPLS99948"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code> statement</p>
</li>
<li>
<p><a class="olink DBSEG656" target="_blank" href="../DBSEG/app_devs.htm#DBSEG656"><span class="italic">Oracle Database Security Guide</span></a> for information about creating a credential using the <code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code> procedure</p>
</li>
<li>
<p><a class="olink ARPLS73499" target="_blank" href="../ARPLS/d_credential.htm#ARPLS73499"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_CREDENTIAL</code> package</p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-BCB91872-760D-43CA-A5E2-135C6A2DB2F5" title="Oracle Scheduler requires job credentials to authenticate with an Oracle database or the operating system before running.">Specifying Scheduler Job Credentials</a>&#34;</span> for information about using credentials with Oracle Scheduler jobs</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADMIN11192"></a>
<div class="props_rev_3"><a id="GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615"></a>
<h2 id="ADMIN-GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" class="sect2"><span class="enumeration_section">5.8</span> Terminating Sessions</h2>
<p>Sometimes it is necessary to terminate current user sessions. For example, you might want to perform an administrative operation and need to terminate all non-administrative sessions.</p>
<div class="sect3"><a id="GUID-1837277B-EF67-4D60-A1A2-F69520D27502"></a>
<h3 id="ADMIN-GUID-1837277B-EF67-4D60-A1A2-F69520D27502" class="sect3"><span class="enumeration_section">5.8.1</span> About Terminating Sessions</h3>
<div>
<p>When a session is terminated, any active transactions of the session are rolled back, and resources held by the session (such as locks and memory areas) are immediately released and available to other sessions.</p>
<p>You terminate a current session using the SQL statement <code class="codeph">ALTER SYSTEM KILL SESSION</code>. The following statement terminates the session whose system identifier is 7 and serial number is 15:</p>
<pre dir="ltr">ALTER SYSTEM KILL SESSION &#39;7,15&#39;;
</pre>
<p>You can also use the <code class="codeph">DBMS_SERVICE.DISCONNECT_SESSION</code> procedure to terminate sessions with a named service at the current instance.</p>
<div class="infoboxnotealso" id="GUID-1837277B-EF67-4D60-A1A2-F69520D27502__GUID-747C55A5-5107-40AE-A9A8-75B384CC4608">
<p class="notep1">See Also:</p>
<p><a class="olink ARPLS68024" target="_blank" href="../ARPLS/d_serv.htm#ARPLS68024"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DISCONNECT_SESSION</code> procedure</p>
</div>
</div>
</div>
<a id="ADMIN11193"></a>
<div class="props_rev_3"><a id="GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F"></a>
<h3 id="ADMIN-GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F" class="sect3"><span class="enumeration_section">5.8.2</span> Identifying Which Session to Terminate</h3>
<div>
<p>To identify which session to terminate, specify the session index number and serial number.</p>
<div class="section">
<p>To identify the system identifier (SID) and serial number of a session:</p>
<ul style="list-style-type: disc;">
<li>
<p>Query the <code class="codeph">V$SESSION</code> dynamic performance view.</p>
</li>
</ul>
<p>For example, the following query identifies all sessions for the user <code class="codeph">jward</code>:</p>
<pre dir="ltr">SELECT SID, SERIAL#, STATUS
  FROM V$SESSION
  WHERE USERNAME = &#39;JWARD&#39;;

SID    SERIAL#    STATUS
-----  ---------  --------
    7         15  ACTIVE 
   12         63  INACTIVE
</pre>
<p>A session is <code class="codeph">ACTIVE</code> when it is making a SQL call to Oracle Database. A session is <code class="codeph">INACTIVE</code> if it is not making a SQL call to the database.</p>
<div class="infoboxnotealso" id="GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F__GUID-10785CE3-B7F8-4FDC-9FE6-8C9150196866">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN30223" target="_blank" href="../REFRN/GUID-28E2DC75-E157-4C0A-94AB-117C205789B9.htm#REFRN30223"><span class="italic">Oracle Database Reference</span></a> for a description of the status values for a session</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11194"></a>
<div class="props_rev_3"><a id="GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015"></a>
<h3 id="ADMIN-GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015" class="sect3"><span class="enumeration_section">5.8.3</span> Terminating an Active Session</h3>
<div>
<p>Terminating an active session ends the session.</p>
<div class="section">
<p>If a user session is processing a transaction (<code class="codeph">ACTIVE</code> status) when you terminate the session, then the transaction is rolled back and the user immediately receives the following message:</p>
<pre dir="ltr">ORA-00028: your session has been killed
</pre>
<p>If, after receiving the <code class="codeph">ORA-00028</code> message, a user submits additional statements before reconnecting to the database, then Oracle Database returns the following message:</p>
<pre dir="ltr">ORA-01012: not logged on
</pre>
<p>An active session cannot be interrupted when it is performing network I/O or rolling back a transaction. Such a session cannot be terminated until the operation completes. In this case, the session holds all resources until it is terminated. Additionally, the session that issues the <code class="codeph">ALTER SYSTEM</code> statement to terminate a session waits up to 60 seconds for the session to be terminated. If the operation that cannot be interrupted continues past one minute, the issuer of the <code class="codeph">ALTER SYSTEM</code> statement receives a message indicating that the session has been marked to be terminated. A session marked to be terminated is indicated in <code class="codeph">V$SESSION</code> with a status of <code class="codeph">KILLED</code> and a server that is something other than <code class="codeph">PSEUDO</code>.</p>
<p>If you are using Application Continuity, then an active session&#39;s activity is recovered when the session terminates. If you do not want to recover a session after you terminate it, then you can include the <code class="codeph">NOREPLAY</code> keyword in the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement. For example, the following statement specifies that the session will not be recovered:</p>
<pre dir="ltr">ALTER SYSTEM KILL SESSION &#39;7,15&#39; NOREPLAY;
</pre>
<p>If you use the <code class="codeph">DBMS_SERVICE.DISCONNECT_SESSION</code> procedure to terminate one or more sessions, then you can specify <code class="codeph">DBMS_SERVICE.NOREPLAY</code> for the <code class="codeph">disconnect_option</code> parameter to indicate that the sessions should not be recovered by Application Continuity. For example, to disconnect all sessions with the service <code class="codeph">sales.example.com</code> and specify that the sessions should not be recovered, run the following procedure:</p>
<pre dir="ltr">BEGIN
  DBMS_SERVICE.DISCONNECT_SESSION(
    service_name      =&gt; &#39;sales.example.com&#39;,
    disconnect_option =&gt; DBMS_SERVICE.NOREPLAY);
END;
/
</pre>
<div class="infoboxnotealso" id="GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015__GUID-6BB7E286-244B-43B2-B40A-9857D6525782">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-BDCC6539-F667-4DC8-8C12-B181AF9655BD" title="Transaction Guard uses a logical transaction ID to prevent the possibility of a client application submitting duplicate transactions after a recoverable error. Application Continuity enables the replay, in a nondisruptive and rapid manner, of a request against the database after a recoverable error that makes the database session unavailable.">Transaction Guard and Application Continuity</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ARPLS68024" target="_blank" href="../ARPLS/d_serv.htm#ARPLS68024"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DISCONNECT_SESSION</code> procedure</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11195"></a>
<div class="props_rev_3"><a id="GUID-7822F572-A101-4FED-8C7B-31F43626593E"></a>
<h3 id="ADMIN-GUID-7822F572-A101-4FED-8C7B-31F43626593E" class="sect3"><span class="enumeration_section">5.8.4</span> Terminating an Inactive Session</h3>
<div>
<p>If the session is not making a SQL call to Oracle Database (is <code class="codeph">INACTIVE</code>) when it is terminated, the <code class="codeph">ORA-00028</code> message is not returned immediately. The message is not returned until the user subsequently attempts to use the terminated session.</p>
<div class="section">
<p>When an inactive session has been terminated, the <code class="codeph">STATUS</code> of the session in the <code class="codeph">V$SESSION</code> view is <code class="codeph">KILLED</code>. The row for the terminated session is removed from <code class="codeph">V$SESSION</code> after the user attempts to use the session again and receives the <code class="codeph">ORA-00028</code> message.<a id="d71914e5414" class="indexterm-anchor"></a></p>
<p><a id="d71914e5417" class="indexterm-anchor"></a>In the following example, an inactive session is terminated. First, <code class="codeph">V$SESSION</code> is queried to identify the <code class="codeph">SID</code> and <code class="codeph">SERIAL#</code> of the session, and then the session is terminated.</p>
<pre dir="ltr">SELECT SID,SERIAL#,STATUS,SERVER
   FROM V$SESSION
   WHERE USERNAME = &#39;JWARD&#39;;

SID    SERIAL#   STATUS     SERVER
-----  --------  ---------  ---------
    7        15  INACTIVE   DEDICATED
   12        63  INACTIVE   DEDICATED
2 rows selected.

ALTER SYSTEM KILL SESSION &#39;7,15&#39;;
Statement processed.

SELECT SID, SERIAL#, STATUS, SERVER
   FROM V$SESSION
   WHERE USERNAME = &#39;JWARD&#39;;

SID    SERIAL#   STATUS     SERVER
-----  --------  ---------  ---------
    7        15  KILLED     PSEUDO
   12        63  INACTIVE   DEDICATED
2 rows selected.
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11196"></a>
<div class="props_rev_3"><a id="GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB"></a>
<h2 id="ADMIN-GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB" class="sect2"><span class="enumeration_section">5.9</span> Process and Session Data Dictionary Views</h2>
<div>
<p>You can query data dictionary views for information about processes and sessions.</p>
<div class="tblformal" id="GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB__GUID-8935122F-6D68-4F01-AB4D-3F4F4044007B">
<table class="cellalignment1849" summary="The first column lists views that can be used to monitor database activity. The second column describes each view.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1892" id="d71914e5501">View</th>
<th class="cellalignment1945" id="d71914e5504">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5509" headers="d71914e5501">
<p><code class="codeph">V$PROCESS</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5509 d71914e5504">
<p>Contains information about the currently active processes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5517" headers="d71914e5501">
<p><code class="codeph">V$SESSION</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5517 d71914e5504">
<p>Lists session information for each current session</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5525" headers="d71914e5501">
<p><code class="codeph">V$SESS_IO</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5525 d71914e5504">
<p>Contains I/O statistics for each user session</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5533" headers="d71914e5501">
<p><code class="codeph">V$SESSION_LONGOPS</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5533 d71914e5504">
<p>Displays the status of various operations that run for longer than 6 seconds (in absolute time). These operations currently include many backup and recovery functions, statistics gathering, and query execution. More operations are added for every Oracle Database release.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5541" headers="d71914e5501">
<p><code class="codeph">V$SESSION_WAIT</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5541 d71914e5504">
<p>Displays the current or last wait for each session</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5549" headers="d71914e5501">
<p><code class="codeph">V$SESSION_WAIT_HISTORY</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5549 d71914e5504">
<p>Lists the last ten wait events for each active session</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5557" headers="d71914e5501">
<p><code class="codeph">V$WAIT_CHAINS</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5557 d71914e5504">
<p>Displays information about blocked sessions</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5565" headers="d71914e5501">
<p><code class="codeph">V$SESSTAT</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5565 d71914e5504">
<p>Contains session statistics</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5573" headers="d71914e5501">
<p><code class="codeph">V$RESOURCE_LIMIT</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5573 d71914e5504">
<p>Provides information about current and maximum global resource utilization for some system resources</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d71914e5581" headers="d71914e5501">
<p><code class="codeph">V$SQLAREA</code></p>
</td>
<td class="cellalignment1946" headers="d71914e5581 d71914e5504">
<p>Contains statistics about shared SQL areas. Contains one row for each SQL string. Provides statistics about SQL statements that are in memory, parsed, and ready for execution</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="restart.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="memory.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-291"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Managing%20the%20Redo%20Log"></a><title>Managing the Redo Log</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches."/>
<meta name="keywords" content="online redo logs, managing, redo logs, online redo log, redo log files, redo log files], online redo log files, instance recovery use of, online, defined, threads, Real Application Clusters, threads of online redo log, system change numbers, when assigned, change vectors, contents of, redo records, redo entries, distributed transaction information in, LGWR and the, circular use of, log writer process (LGWR), writing to online redo log files, online redo logs available for use, available for use, active (current), inactive, log switches, description, log sequence numbers, control files, log sequence number, planning the, guidelines for configuring, multiplexed, multiplexing, redo log file groups, group members, groups, defined, members, multiplexed redo log files and, mirrored files, waiting for archiving to complete, mirrored, log switches and, trace files, log writer process and, trace files and, legal and illegal configurations, requirements, location of, online redo log location, online redo log size, block size, redo log files, block size, setting, number of files in the, optimum configuration for the, how many in redo log, CREATE DATABASE statement, MAXLOGFILES parameter, MAXLOGMEMBERS parameter, maximum number of members, forcing a log switch, using ARCHIVE_LAG_TARGET, specifying ARCHIVE_LAG_TARGET, creating groups, creating members, privileges, adding redo log groups, ADD LOGFILE clause, ALTER DATABASE statement, ADD LOGFILE MEMBER clause, renaming members, renaming redo log members, moving files, renaming files, dropping groups, dropping members, dropping redo log groups, DROP LOGFILE clause, dropping online redo log members, STALE members, V$LOGFILE view, log file status, INVALID members, views, V$LOGFILE, STALE status, of redo log members, DROP LOGFILE MEMBER clause, forcing, ALTER SYSTEM statement, SWITCH LOGFILE clause, with the ALTER SYSTEM statement, checksums, redo log blocks, verifying blocks, DB_BLOCK_CHECKSUM initialization parameter, enabling redo block checking with, initialization parameters, DB_BLOCK_CHECKSUM, clearing redo log files, clearing, CLEAR LOGFILE clause, UNRECOVERABLE DATAFILE clause, FORCE LOGGING, precedence of settings, data dictionary views reference, V$LOG view, V$LOG_HISTORY view, V$THREAD view, data dictionary, for redo log"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="control.htm" title="Previous" type="text/html"/>
<link rel="Next" href="archredo.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4"></a> <span id="PAGE" style="display:none;">17/59</span> <!-- End Header -->
<a id="ADMIN007"></a>
<h1 id="ADMIN-GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" class="sect1"><span class="enumeration_chapter">11</span> Managing the Redo Log</h1>
<div>
<p>You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.</p>
<div class="infoboxnotealso" id="GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4__GUID-62907E67-41BF-454A-80A3-935FCEEC89B8">
<p class="notep1">See Also:</p>
<p><a href="omf.htm#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a> for information about redo log files that are both created and managed by the Oracle Database server</p>
</div>
</div>
<a id="ADMIN11302"></a>
<div class="props_rev_3"><a id="GUID-79189E7E-7431-49CA-B342-3B971186503A"></a>
<h2 id="ADMIN-GUID-79189E7E-7431-49CA-B342-3B971186503A" class="sect2"><span class="enumeration_section">11.1</span> What Is the Redo Log?</h2>
<p>The most crucial structure for recovery operations is the <span class="bold">redo log</span>, which consists of two or more preallocated files that store all changes made to the database as they occur. Every instance of an Oracle Database has an associated redo log to protect the database in case of an instance failure.</p>
<a id="ADMIN11303"></a>
<div class="props_rev_3"><a id="GUID-F3679E5E-5153-47D0-B9F9-B3825F519D0B"></a>
<h3 id="ADMIN-GUID-F3679E5E-5153-47D0-B9F9-B3825F519D0B" class="sect3"><span class="enumeration_section">11.1.1</span> Redo Threads</h3>
<div>
<p>When speaking in the context of multiple database instances, the redo log for each database instance is also referred to as a <span class="italic">redo thread</span>.</p>
<p>In typical configurations, only one database instance accesses an Oracle Database, so only one thread is present. In an Oracle Real Application Clusters environment, however, two or more instances concurrently access a single database and each instance has its own thread of redo. A separate redo thread for each instance avoids contention for a single set of redo log files, thereby eliminating a potential performance bottleneck.</p>
<p>This chapter describes how to configure and manage the redo log on a standard single-instance Oracle Database. The thread number can be assumed to be 1 in all discussions and examples of statements. For information about redo log groups in an Oracle Real Application Clusters environment, see <a class="olink RACAD704" target="_blank" href="../RACAD/GUID-4E4EF420-6E22-4A95-B9AB-B9C6E33D31A5.htm#RACAD704"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a>.</p>
</div>
</div>
<a id="ADMIN11304"></a>
<div class="props_rev_3"><a id="GUID-4625A35C-EF8A-4A9E-8D19-829C1A665A34"></a>
<h3 id="ADMIN-GUID-4625A35C-EF8A-4A9E-8D19-829C1A665A34" class="sect3"><span class="enumeration_section">11.1.2</span> Redo Log Contents</h3>
<div>
<p>Redo log files are filled with <span class="bold">redo records</span>.</p>
<p>A redo record, also called a <span class="bold">redo entry</span>, is made up of a group of <span class="bold">change vectors</span>, each of which is a description of a change made to a single block in the database. For example, if you change a salary value in an employee table, you generate a redo record containing change vectors that describe changes to the data segment block for the table, the undo segment data block, and the transaction table of the undo segments.</p>
<p>Redo entries record data that you can use to reconstruct all changes made to the database, including the undo segments. Therefore, the redo log also protects rollback data. When you recover the database using redo data, the database reads the change vectors in the redo records and applies the changes to the relevant blocks.</p>
<p>Redo records are buffered in a circular fashion in the redo log buffer of the SGA (see <span class="q">&#34;<a href="onlineredo.htm#GUID-4F316F04-8645-4F4B-9406-8978285D2D28" title="The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in ARCHIVELOG mode).">How Oracle Database Writes to the Redo Log</a>&#34;</span>) and are written to one of the redo log files by the Log Writer (LGWR) database background process. Whenever a transaction is committed, LGWR writes the transaction redo records from the redo log buffer of the SGA to a redo log file, and assigns a <span class="bold">system change number</span> (SCN) to identify the redo records for each committed transaction. Only when all redo records associated with a given transaction are safely on disk in the online logs is the user process notified that the transaction has been committed.</p>
<p>Redo records can also be written to a redo log file before the corresponding transaction is committed. If the redo log buffer fills, or another transaction commits, LGWR flushes all of the redo log entries in the redo log buffer to a redo log file, even though some redo records may not be committed. If necessary, the database can roll back these changes.</p>
</div>
</div>
<a id="ADMIN13039"></a><a id="ADMIN11305"></a>
<div class="props_rev_3"><a id="GUID-4F316F04-8645-4F4B-9406-8978285D2D28"></a>
<h3 id="ADMIN-GUID-4F316F04-8645-4F4B-9406-8978285D2D28" class="sect3"><span class="enumeration_section">11.1.3</span> How Oracle Database Writes to the Redo Log</h3>
<div>
<p>The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in <code class="codeph">ARCHIVELOG</code> mode).</p>
<p>See <span class="q">&#34; <a href="archredo.htm#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations.">Managing Archived Redo Log Files</a>&#34;</span> for more information.</p>
<p>LGWR writes to redo log files in a circular fashion. When the current redo log file fills, LGWR begins writing to the next available redo log file. When the last available redo log file is filled, LGWR returns to the first redo log file and writes to it, starting the cycle again. <a href="onlineredo.htm#GUID-4F316F04-8645-4F4B-9406-8978285D2D28__I1006202">Figure 11-1</a> illustrates the circular writing of the redo log file. The numbers next to each line indicate the sequence in which LGWR writes to each redo log file.</p>
<p>Filled redo log files are available to LGWR for reuse depending on whether archiving is enabled.</p>
<ul style="list-style-type: disc;">
<li>
<p>If archiving is disabled (the database is in <code class="codeph">NOARCHIVELOG</code> mode), a filled redo log file is available after the changes recorded in it have been written to the data files.</p>
</li>
<li>
<p>If archiving is enabled (the database is in <code class="codeph">ARCHIVELOG</code> mode), a filled redo log file is available to LGWR after the changes recorded in it have been written to the data files <span class="italic">and</span> the file has been archived.</p>
</li>
</ul>
<div class="figure" id="GUID-4F316F04-8645-4F4B-9406-8978285D2D28__I1006202">
<p class="titleinfigure">Figure 11-1 Reuse of Redo Log Files by LGWR</p>
<img width="364" height="406" src="img/GUID-0D0B62EC-275C-4A0C-8864-09E54FF39D4B-default.gif" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows"/><br/>
<a href="img_text/GUID-0D0B62EC-275C-4A0C-8864-09E54FF39D4B-print.htm">Description of &#34;Figure 11-1 Reuse of Redo Log Files by LGWR&#34;</a></div>
<!-- class="figure" --></div>
<a id="ADMIN11306"></a>
<div class="props_rev_3"><a id="GUID-C185CE02-EDFB-4FE7-9C50-B80D8DD5214D"></a>
<h4 id="ADMIN-GUID-C185CE02-EDFB-4FE7-9C50-B80D8DD5214D" class="sect4"><span class="enumeration_section">11.1.3.1</span> Active (Current) and Inactive Redo Log Files</h4>
<div>
<p>Oracle Database uses only one redo log file at a time to store redo records written from the redo log buffer. The redo log file that LGWR is actively writing to is called the <span class="bold">current</span> redo log file.</p>
<p>Redo log files that are required for instance recovery are called <span class="bold">active</span> redo log files. Redo log files that are no longer required for instance recovery are called <span class="bold">inactive</span> redo log files.</p>
<p>If you have enabled archiving (the database is in <code class="codeph">ARCHIVELOG</code> mode), then the database cannot reuse or overwrite an active online log file until one of the archiver background processes (ARC<span class="italic">n</span>) has archived its contents. If archiving is disabled (the database is in <code class="codeph">NOARCHIVELOG</code> mode), then when the last redo log file is full, LGWR continues by overwriting the next log file in the sequence when it becomes inactive.</p>
</div>
</div>
<a id="ADMIN11307"></a>
<div class="props_rev_3"><a id="GUID-F1D9C389-98A8-4733-9539-6B0112EFBB10"></a>
<h4 id="ADMIN-GUID-F1D9C389-98A8-4733-9539-6B0112EFBB10" class="sect4"><span class="enumeration_section">11.1.3.2</span> Log Switches and Log Sequence Numbers</h4>
<div>
<p>A <span class="bold">log switch</span> is the point at which the database stops writing to one redo log file and begins writing to another. Normally, a log switch occurs when the current redo log file is completely filled and writing must continue to the next redo log file.</p>
<p>However, you can configure log switches to occur at regular intervals, regardless of whether the current redo log file is completely filled. You can also force log switches manually.</p>
<p>Oracle Database assigns each redo log file a new <span class="bold">log sequence number</span> every time a log switch occurs and LGWR begins writing to it. When the database archives redo log files, the archived log retains its log sequence number. A redo log file that is cycled back for use is given the next available log sequence number.</p>
<p>Each online or archived redo log file is uniquely identified by its log sequence number. During crash, instance, or media recovery, the database properly applies redo log files in ascending order by using the log sequence number of the necessary archived and redo log files.</p>
</div>
</div>
</div>
</div>
<a id="ADMIN11308"></a>
<div class="props_rev_3"><a id="GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70"></a>
<h2 id="ADMIN-GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" class="sect2"><span class="enumeration_section">11.2</span> Planning the Redo Log</h2>
<p>You can follow guidelines when configuring a database instance redo log.</p>
<a id="ADMIN13040"></a><a id="ADMIN11309"></a>
<div class="props_rev_3"><a id="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838"></a>
<h3 id="ADMIN-GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838" class="sect3"><span class="enumeration_section">11.2.1</span> Multiplexing Redo Log Files</h3>
<div>
<p>To protect against a failure involving the redo log itself, Oracle Database allows a <span class="bold">multiplexed</span> redo log, meaning that two or more identical copies of the redo log can be automatically maintained in separate locations.</p>
<div class="section">
<p>For the most benefit, these locations should be on separate disks. Even if all copies of the redo log are on the same disk, however, the redundancy can help protect against I/O errors, file corruption, and so on. When redo log files are multiplexed, LGWR concurrently writes the same redo log information to multiple identical redo log files, thereby eliminating a single point of redo log failure.</p>
<p>Multiplexing is implemented by creating <span class="italic">groups</span> of redo log files. A <span class="bold">group</span> consists of a redo log file and its multiplexed copies. Each identical copy is said to be a <span class="bold">member</span> of the group. Each redo log group is defined by a number, such as group 1, group 2, and so on.</p>
<div class="figure" id="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__i1006259">
<p class="titleinfigure">Figure 11-2 Multiplexed Redo Log Files</p>
<img width="501" height="298" src="img/GUID-0EF6F70B-834E-4853-BE97-8168EAB72CFB-default.gif" alt="Description of Figure 11-2 follows" title="Description of Figure 11-2 follows"/><br/>
<a href="img_text/GUID-0EF6F70B-834E-4853-BE97-8168EAB72CFB-print.htm">Description of &#34;Figure 11-2 Multiplexed Redo Log Files&#34;</a></div>
<!-- class="figure" -->
<p>In <a href="onlineredo.htm#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__i1006259">Figure 11-2</a>, <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code> are both members of Group 1, <code class="codeph">A_LOG2</code> and <code class="codeph">B_LOG2</code> are both members of Group 2, and so forth. Each member in a group must be the same size.</p>
<p>Each member of a log file group is concurrently active&mdash;that is, concurrently written to by LGWR&mdash;as indicated by the identical log sequence numbers assigned by LGWR. In <a href="onlineredo.htm#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__i1006259">Figure 11-2</a>, first LGWR writes concurrently to both <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code>. Then it writes concurrently to both <code class="codeph">A_LOG2</code> and <code class="codeph">B_LOG2</code>, and so on. LGWR never writes concurrently to members of different groups (for example, to <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG2</code>).</p>
<div class="infobox-note" id="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__GUID-398F16D2-C5A5-485E-9DF2-443296CD3682">
<p class="notep1">Note:</p>
<p>Oracle recommends that you multiplex your redo log files. The loss of the log file data can be catastrophic if recovery is required. Note that when you multiplex the redo log, the database must increase the amount of I/O that it performs. Depending on your configuration, this may impact overall database performance.</p>
</div>
</div>
<!-- class="section" --></div>
<a id="ADMIN11310"></a>
<div class="props_rev_3"><a id="GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5"></a>
<h4 id="ADMIN-GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5" class="sect4"><span class="enumeration_section">11.2.1.1</span> Responding to Redo Log Failure</h4>
<div>
<p>Whenever LGWR cannot write to a member of a group, the database marks that member as <code class="codeph">INVALID</code> and writes an error message to the LGWR trace file and to the database alert log to indicate the problem with the inaccessible files.</p>
<p>The specific reaction of LGWR when a redo log member is unavailable depends on the reason for the lack of availability, as summarized in the table that follows.</p>
<div class="tblformal" id="GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5__GUID-877E0605-EF7F-4CD6-BC61-9B03BE39EC34">
<table class="cellalignment1849" summary="This table describes the action of Log Writer (LGWR) when responding to various conditions. The condition is listed in the left column of the table with the corresponding LGWR action described in the right column.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1858" id="d101291e1021">Condition</th>
<th class="cellalignment1970" id="d101291e1024">LGWR Action</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d101291e1029" headers="d101291e1021">
<p>LGWR can successfully write to at least one member in a group</p>
</td>
<td class="cellalignment1971" headers="d101291e1029 d101291e1024">
<p>Writing proceeds as normal. LGWR writes to the available members of a group and ignores the unavailable members.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d101291e1036" headers="d101291e1021">
<p>LGWR cannot access the next group at a log switch because the group must be archived</p>
</td>
<td class="cellalignment1971" headers="d101291e1036 d101291e1024">
<p>Database operation temporarily halts until the group becomes available or until the group is archived.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d101291e1043" headers="d101291e1021">
<p>All members of the next group are inaccessible to LGWR at a log switch because of media failure</p>
</td>
<td class="cellalignment1971" headers="d101291e1043 d101291e1024">
<p>Oracle Database returns an error, and the database instance shuts down. In this case, you may need to perform media recovery on the database from the loss of a redo log file.</p>
<p>If the database checkpoint has moved beyond the lost redo log, media recovery is not necessary, because the database has saved the data recorded in the redo log to the data files. You need only drop the inaccessible redo log group. If the database did not archive the bad log, use <code class="codeph">ALTER DATABASE CLEAR LOGFILE UNARCHIVED</code> to disable archiving before the log can be dropped.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d101291e1055" headers="d101291e1021">
<p>All members of a group suddenly become inaccessible to LGWR while it is writing to them</p>
</td>
<td class="cellalignment1971" headers="d101291e1055 d101291e1024">
<p>Oracle Database returns an error and the database instance immediately shuts down. In this case, you may need to perform media recovery. If the media containing the log is not actually lost--for example, if the drive for the log was inadvertently turned off--media recovery may not be needed. In this case, you need only turn the drive back on and let the database perform automatic instance recovery.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN13041"></a><a id="ADMIN11311"></a>
<div class="props_rev_3"><a id="GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424"></a>
<h4 id="ADMIN-GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424" class="sect4"><span class="enumeration_section">11.2.1.2</span> Legal and Illegal Configurations</h4>
<div>
<p>In most cases, a multiplexed redo log should be symmetrical: all groups of the redo log should have the same number of members. However, the database does not require that a multiplexed redo log be symmetrical.</p>
<p>For example, one group can have only one member, and other groups can have two members. This configuration protects against disk failures that temporarily affect some redo log members but leave others intact.</p>
<p>The only requirement for an instance redo log is that it have at least two groups. <a href="onlineredo.htm#GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424__i1206318">Figure 11-3</a> shows legal and illegal multiplexed redo log configurations. The second configuration is illegal because it has only one group.</p>
<div class="figure" id="GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424__i1206318">
<p class="titleinfigure">Figure 11-3 Legal and Illegal Multiplexed Redo Log Configuration</p>
<img width="537" height="711" src="img/GUID-61AA8C16-A56E-4FD3-BC17-3A97934EBA10-default.gif" alt="Description of Figure 11-3 follows" title="Description of Figure 11-3 follows"/><br/>
<a href="img_text/GUID-61AA8C16-A56E-4FD3-BC17-3A97934EBA10-print.htm">Description of &#34;Figure 11-3 Legal and Illegal Multiplexed Redo Log Configuration&#34;</a></div>
<!-- class="figure" --></div>
</div>
</div>
<a id="ADMIN11312"></a>
<div class="props_rev_3"><a id="GUID-79C81D0E-2F5C-48F2-8506-E78FF499D089"></a>
<h3 id="ADMIN-GUID-79C81D0E-2F5C-48F2-8506-E78FF499D089" class="sect3"><span class="enumeration_section">11.2.2</span> Placing Redo Log Members on Different Disks</h3>
<div>
<p>When setting up a multiplexed redo log, place members of a group on different physical disks. If a single disk fails, then only one member of a group becomes unavailable to LGWR and other members remain accessible to LGWR, so the instance can continue to function.</p>
<div class="section">
<p>If you archive the redo log, spread redo log members across disks to eliminate contention between the LGWR and ARC<span class="italic">n</span> background processes. For example, if you have two groups of multiplexed redo log members (a <span class="italic">duplexed</span> redo log), place each member on a different disk and set your archiving destination to a fifth disk. Doing so will avoid contention between LGWR (writing to the members) and ARC<span class="italic">n</span> (reading the members).</p>
<p>Data files should also be placed on different disks from redo log files to reduce contention in writing data blocks and redo records.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11313"></a>
<div class="props_rev_3"><a id="GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0"></a>
<h3 id="ADMIN-GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0" class="sect3"><span class="enumeration_section">11.2.3</span> Planning the Size of Redo Log Files</h3>
<div>
<p>When setting the size of redo log files, consider whether you will be archiving the redo log. Redo log files should be sized so that a filled group can be archived to a single unit of offline storage media (such as a tape or disk), with the least amount of space on the medium left unused.</p>
<div class="section">
<p>For example, suppose only one filled redo log group can fit on a tape and 49% of the tape storage capacity remains unused. In this case, it is better to decrease the size of the redo log files slightly, so that two log groups could be archived on each tape.</p>
<p>All members of the same multiplexed redo log group must be the same size. Members of different groups can have different sizes. However, there is no advantage in varying file size between groups. If checkpoints are not set to occur between log switches, make all groups the same size to guarantee that checkpoints occur at regular intervals.</p>
<p>The minimum size permitted for a redo log file is 4 MB.</p>
<div class="infoboxnotealso" id="GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0__GUID-1DBFBC0D-31D3-4CA7-A5F7-E24E1982F84F">
<p class="notep1">See Also:</p>
<p>Your operating system&ndash;specific Oracle documentation. The default size of redo log files is operating system dependent.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12891"></a>
<div class="props_rev_3"><a id="GUID-AC858C69-317E-4193-838D-59F8DDEA1927"></a>
<h3 id="ADMIN-GUID-AC858C69-317E-4193-838D-59F8DDEA1927" class="sect3"><span class="enumeration_section">11.2.4</span> Planning the Block Size of Redo Log Files</h3>
<div>
<p>Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).</p>
<div class="section">
<p>Some newer high-capacity disk drives offer 4K byte (4K) sector sizes for both increased ECC capability and improved format efficiency. Most Oracle Database platforms are able to detect this larger sector size. The database then automatically creates redo log files with a 4K block size on those disks.</p>
<p>However, with a block size of 4K, there is increased redo wastage. In fact, the amount of redo wastage in 4K blocks versus 512B blocks is significant. You can determine the amount of redo wastage by viewing the statistics stored in the <code class="codeph">V$SESSTAT</code> and <code class="codeph">V$SYSSTAT</code> views.</p>
<pre dir="ltr">SQL&gt; SELECT name, value FROM v$sysstat WHERE name = &#39;redo wastage&#39;;
 
NAME                                  VALUE
-------------------------------- ----------
redo wastage                       17941684
</pre>
<p>To avoid the additional redo wastage, if you are using emulation-mode disks&mdash;4K sector size disk drives that emulate a 512B sector size at the disk interface&mdash;you can override the default 4K block size for redo logs by specifying a 512B block size or, for some platforms, a 1K block size. However, you will incur a significant performance degradation when a redo log write is not aligned with the beginning of the 4K physical sector. Because seven out of eight 512B slots in a 4K physical sector are not aligned, performance degradation typically does occur. Thus, you must evaluate the trade-off between performance and disk wastage when planning the redo log block size on 4K sector size emulation-mode disks.</p>
<p>You can specify the block size of online redo log files with the <code class="codeph">BLOCKSIZE</code> keyword in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>, <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>, and <code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code> statements. On some platforms, the permissible block sizes are 512 and 4096. On other platforms, the permissible block sizes are 1024 and 4096.</p>
<p>The following statement adds a redo log file group with a block size of 512B. The <code class="codeph">BLOCKSIZE</code> <code class="codeph">512</code> clause is valid but not required for 512B sector size disks. For 4K sector size emulation-mode disks, the <code class="codeph">BLOCKSIZE</code> <code class="codeph">512</code> clause overrides the default 4K size.</p>
<pre dir="ltr">ALTER DATABASE orcl ADD LOGFILE
  GROUP 4 (&#39;/u01/logs/orcl/redo04a.log&#39;,&#39;/u01/logs/orcl/redo04b.log&#39;)
  SIZE 100M BLOCKSIZE 512 REUSE;
</pre>
<p>To ascertain the redo log file block size, run the following query:</p>
<pre dir="ltr">SQL&gt; SELECT BLOCKSIZE FROM V$LOG;

BLOCKSIZE
---------
      512
</pre>
<div class="infoboxnotealso" id="GUID-AC858C69-317E-4193-838D-59F8DDEA1927__GUID-939D5C96-F280-4E34-848E-1DD8548D34AE">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SQLRF00802" target="_blank" href="../SQLRF/statements_1006.htm#SQLRF00802"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> command.</p>
</li>
<li>
<p><a class="olink REFRN30232" target="_blank" href="../REFRN/GUID-80CE202B-D7D4-4949-8CA6-935FD61DA2E1.htm#REFRN30232"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SESSTAT</code> view</p>
</li>
<li>
<p><a class="olink REFRN30272" target="_blank" href="../REFRN/GUID-250136E5-E07E-4A78-9F67-28C0D3C6E922.htm#REFRN30272"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SYSSTAT</code> view</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11314"></a>
<div class="props_rev_3"><a id="GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934"></a>
<h3 id="ADMIN-GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934" class="sect3"><span class="enumeration_section">11.2.5</span> Choosing the Number of Redo Log Files</h3>
<div>
<p>The best way to determine the appropriate number of redo log files for a database instance is to test different configurations. The optimum configuration has the fewest groups possible without hampering LGWR from writing redo log information.</p>
<div class="section">
<p>In some cases, a database instance may require only two groups. In other situations, a database instance may require additional groups to guarantee that a recycled group is always available to LGWR. During testing, the easiest way to determine whether the current redo log configuration is satisfactory is to examine the contents of the LGWR trace file and the database alert log. If messages indicate that LGWR frequently has to wait for a group because a checkpoint has not completed or a group has not been archived, add groups.</p>
<p>Consider the parameters that can limit the number of redo log files before setting up or altering the configuration of an instance redo log. The following parameters limit the number of redo log files that you can add to a database:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">MAXLOGFILES</code> parameter used in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement determines the maximum number of groups of redo log files for each database. Group values can range from 1 to <code class="codeph">MAXLOGFILES</code>. You can exceed the <code class="codeph">MAXLOGFILES</code> limit, and the control files expand as needed. If <code class="codeph">MAXLOGFILES</code> is not specified for the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement, then the database uses an operating system specific default value.</p>
</li>
<li>
<p>The <code class="codeph">MAXLOGMEMBERS</code> parameter used in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement determines the maximum number of members for each group. As with <code class="codeph">MAXLOGFILES</code>, the only way to override this upper limit is to re-create the database or control file. Therefore, it is important to consider this limit before creating a database. If no <code class="codeph">MAXLOGMEMBERS</code> parameter is specified for the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement, then the database uses an operating system default value.</p>
<div class="infoboxnotealso" id="GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934__GUID-C901AC4F-8E71-4751-955A-9114927320BE">
<p class="notep1">See Also:</p>
<p>Your operating system specific Oracle documentation for the default and legal values of the <code class="codeph">MAXLOGFILES</code> and <code class="codeph">MAXLOGMEMBERS</code> parameters</p>
</div>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11315"></a>
<div class="props_rev_3"><a id="GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A"></a>
<h3 id="ADMIN-GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A" class="sect3"><span class="enumeration_section">11.2.6</span> Controlling Archive Lag</h3>
<div>
<p>You can force all enabled redo log threads to switch their current logs at regular time intervals.</p>
<p>In a primary/standby database configuration, changes are made available to the standby database by archiving redo logs at the primary site and then shipping them to the standby database. The changes that are being applied by the standby database can lag behind the changes that are occurring on the primary database, because the standby database must wait for the changes in the primary database redo log to be archived (into the archived redo log) and then shipped to it. To limit this lag, you can set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter. Setting this parameter lets you specify in seconds how long that lag can be.</p>
</div>
<a id="ADMIN11316"></a>
<div class="props_rev_3"><a id="GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E"></a>
<h4 id="ADMIN-GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E" class="sect4"><span class="enumeration_section">11.2.6.1</span> Setting the ARCHIVE_LAG_TARGET Initialization Parameter</h4>
<div>
<p>When you set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter, you cause the database to examine the current redo log for the instance periodically and determine when to switch the log.</p>
<div class="section">
<p>If the following conditions are met, then the instance will switch the log:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The current log was created before <span class="italic">n</span> seconds ago, and the estimated archival time for the current log is <span class="italic">m</span> seconds (proportional to the number of redo blocks used in the current log), where <span class="italic">n</span> + <span class="italic">m</span> exceeds the value of the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.</p>
</li>
<li>
<p>The current log contains redo records.</p>
</li>
</ul>
<p>In an Oracle Real Application Clusters environment, the instance also causes other threads to switch and archive their logs if they are falling behind. This can be particularly useful when one instance in the cluster is more idle than the other instances (as when you are running a 2-node primary/secondary configuration of Oracle Real Application Clusters).</p>
<p>The <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter provides an upper limit for how long (in seconds) the current log of the database can span. Because the estimated archival time is also considered, this is not the exact log switch time.</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.</p>
</li>
</ul>
<p>The following initialization parameter setting sets the log switch interval to 30 minutes (a typical value).</p>
<pre dir="ltr">ARCHIVE_LAG_TARGET = 1800
</pre>
<p>A value of 0 disables this time-based log switching functionality. This is the default setting.</p>
<p>You can set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter even if there is no standby database. For example, the <code class="codeph">ARCHIVE_LAG_TARGET</code> parameter can be set specifically to force logs to be switched and archived.</p>
<p><code class="codeph">ARCHIVE_LAG_TARGET</code> is a dynamic parameter and can be set with the <code class="codeph">ALTER SYSTEM SET</code> statement.</p>
<div class="infobox-note" id="GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E__GUID-52A55073-257E-4CBE-9561-AAAD3BCD0065">
<p class="notep1">Note:</p>
<p>The <code class="codeph">ARCHIVE_LAG_TARGET</code> parameter must be set to the same value in all instances of an Oracle Real Application Clusters environment. Failing to do so results in unpredictable behavior.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11317"></a>
<div class="props_rev_3"><a id="GUID-32967FFB-598B-42D5-8A79-9ED5BC3EDC68"></a>
<h4 id="ADMIN-GUID-32967FFB-598B-42D5-8A79-9ED5BC3EDC68" class="sect4"><span class="enumeration_section">11.2.6.2</span> Factors Affecting the Setting of ARCHIVE_LAG_TARGET</h4>
<div>
<p>There are several factors to consider when you are setting the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.</p>
<p>Consider the following factors when determining if you want to set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter and in determining the value for this parameter.</p>
<ul style="list-style-type: disc;">
<li>
<p>Overhead of switching (as well as archiving) logs</p>
</li>
<li>
<p>How frequently normal log switches occur as a result of log full conditions</p>
</li>
<li>
<p>How much redo loss is tolerated in the standby database</p>
</li>
</ul>
<p>Setting <code class="codeph">ARCHIVE_LAG_TARGET</code> may not be very useful if natural log switches already occur more frequently than the interval specified. However, in the case of irregularities of redo generation speed, the interval does provide an upper limit for the time range each current log covers.</p>
<p>If the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter is set to a very low value, there can be a negative impact on performance. This can force frequent log switches. Set the parameter to a reasonable value so as not to degrade the performance of the primary database.</p>
</div>
</div>
</div>
</div>
<a id="ADMIN11318"></a>
<div class="props_rev_3"><a id="GUID-081AE57B-A821-4F26-97B2-4B141FDB3946"></a>
<h2 id="ADMIN-GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" class="sect2"><span class="enumeration_section">11.3</span> Creating Redo Log Groups and Members</h2>
<div>
<p>Plan the redo log for a database and create all required groups and members of redo log files during database creation. However, there are situations where you might want to create additional groups or members. For example, adding groups to a redo log can correct redo log group availability problems.</p>
<p>To create new redo log groups and members, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. A database can have up to <code class="codeph">MAXLOGFILES</code> groups.</p>
<div class="infoboxnotealso" id="GUID-081AE57B-A821-4F26-97B2-4B141FDB3946__GUID-1B9F224C-CF0C-47B8-8944-85452E876B7B">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF00802" target="_blank" href="../SQLRF/statements_1006.htm#SQLRF00802"><span class="italic">Oracle Database SQL Language Reference</span></a> for a complete description of the <code class="codeph">ALTER DATABASE</code> statement</p>
</div>
</div>
<a id="ADMIN11319"></a>
<div class="props_rev_3"><a id="GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176"></a>
<h3 id="ADMIN-GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176" class="sect3"><span class="enumeration_section">11.3.1</span> Creating Redo Log Groups</h3>
<div>
<p>To create a new group of redo log files, use the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE</code> clause.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Run the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE</code> clause.</p>
</li>
</ul>
<p>For example, the following statement adds a new group of redo logs to the database:</p>
<pre dir="ltr">ALTER DATABASE
  ADD LOGFILE (&#39;/oracle/dbs/log1c.rdo&#39;, &#39;/oracle/dbs/log2c.rdo&#39;) SIZE 100M;
</pre>
<div class="infobox-note" id="GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176__GUID-CA775AF7-46C3-4CE0-998D-8C7ADD73437A">
<p class="notep1">Note:</p>
<p>Provide full path names of new log members to specify their location. Otherwise, the files are created in either the default or current directory of the database server, depending upon your operating system.</p>
</div>
<p>You can also specify the number that identifies the group using the <code class="codeph">GROUP</code> clause:</p>
<pre dir="ltr">ALTER DATABASE 
  ADD LOGFILE GROUP 10 (&#39;/oracle/dbs/log1c.rdo&#39;, &#39;/oracle/dbs/log2c.rdo&#39;)
      SIZE 100M BLOCKSIZE 512;
</pre>
<p>Using group numbers can make administering redo log groups easier. However, the group number must be between 1 and <code class="codeph">MAXLOGFILES</code>. Do not skip redo log file group numbers (that is, do not number your groups 10, 20, 30, and so on), or you will consume unnecessary space in the control files of the database.</p>
<p>In the preceding statement, the <code class="codeph">BLOCKSIZE</code> clause is optional. See <span class="q">&#34;<a href="onlineredo.htm#GUID-AC858C69-317E-4193-838D-59F8DDEA1927" title="Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).">Planning the Block Size of Redo Log Files</a>&#34;</span> for more information.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11320"></a>
<div class="props_rev_3"><a id="GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2"></a>
<h3 id="ADMIN-GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2" class="sect3"><span class="enumeration_section">11.3.2</span> Creating Redo Log Members</h3>
<div>
<p>In some cases, it might not be necessary to create a complete group of redo log files. A group could already exist, but not be complete because one or more members of the group were dropped (for example, because of a disk failure). In this case, you can add new members to an existing group.</p>
<div class="section">
<p>To create new redo log members for an existing group:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE MEMBER</code> clause.</p>
</li>
</ul>
<p>For example, the following statement adds a new redo log member to redo log group number 2:</p>
<pre dir="ltr">ALTER DATABASE ADD LOGFILE MEMBER &#39;/oracle/dbs/log2b.rdo&#39; TO GROUP 2;
</pre>
<p>Notice that file names must be specified, but sizes need not be. The size of the new members is determined from the size of the existing members of the group.</p>
<p>When using the <code class="codeph">ALTER DATABASE</code> statement, you can alternatively identify the target group by specifying all of the other members of the group in the <code class="codeph">TO</code> clause, as shown in the following example:</p>
<pre dir="ltr">ALTER DATABASE ADD LOGFILE MEMBER &#39;/oracle/dbs/log2c.rdo&#39;
    TO (&#39;/oracle/dbs/log2a.rdo&#39;, &#39;/oracle/dbs/log2b.rdo&#39;); 
</pre>
<div class="infobox-note" id="GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2__GUID-FB8FC7B6-B6D9-4BE4-93C2-57F8C72E4C87">
<p class="notep1">Note:</p>
<p>Fully specify the file names of new log members to indicate where the operating system files should be created. Otherwise, the files will be created in either the default or current directory of the database server, depending upon your operating system. You may also note that the status of the new log member is shown as <code class="codeph">INVALID</code>. This is normal and it will change to active (blank) when it is first used.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN12596"></a><a id="ADMIN11321"></a>
<div class="props_rev_3"><a id="GUID-F593023B-3071-4776-95F2-9B8B6C6E670B"></a>
<h2 id="ADMIN-GUID-F593023B-3071-4776-95F2-9B8B6C6E670B" class="sect2"><span class="enumeration_section">11.4</span> Relocating and Renaming Redo Log Members</h2>
<div>
<p>You can use operating system commands to relocate redo logs, then use the <code class="codeph">ALTER DATABASE</code> statement to make their new names (locations) known to the database.</p>
<div class="section">
<p>This procedure is necessary, for example, if the disk currently used for some redo log files is going to be removed, or if data files and several redo log files are stored on the same disk and should be separated to reduce contention.</p>
<p>To rename redo log members, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. Additionally, you might also need operating system privileges to copy files to the desired location and privileges to open and back up the database.</p>
<p>Before relocating your redo logs, or making any other structural changes to the database, completely back up the database in case you experience problems while performing the operation. As a precaution, after renaming or relocating a set of redo log files, immediately back up the database control file.</p>
<p>Use the following steps for relocating redo logs. The example used to illustrate these steps assumes:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The log files are located on two disks: <code class="codeph">diska</code> and <code class="codeph">diskb</code>.</p>
</li>
<li>
<p>The redo log is duplexed: one group consists of the members <code class="codeph">/diska/logs/log1a.rdo</code> and <code class="codeph">/diskb/logs/log1b.rdo</code>, and the second group consists of the members <code class="codeph">/diska/logs/log2a.rdo</code> and <code class="codeph">/diskb/logs/log2b.rdo</code>.</p>
</li>
<li>
<p>The redo log files located on <code class="codeph">diska</code> must be relocated to <code class="codeph">diskc</code>. The new file names will reflect the new location: <code class="codeph">/diskc/logs/log1c.rdo</code> and <code class="codeph">/diskc/logs/log2c.rdo</code>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p>To rename redo log members:</p>
</div>
<!-- class="section" -->
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Shut down the database.</span>
<div>
<pre dir="ltr">SHUTDOWN
</pre></div>
</li>
<li class="stepexpand"><span>Copy the redo log files to the new location.</span>
<div>
<p>Operating system files, such as redo log members, must be copied using the appropriate operating system commands. See your operating system specific documentation for more information about copying files.</p>
<div class="infobox-note" id="GUID-F593023B-3071-4776-95F2-9B8B6C6E670B__GUID-B4A61C30-9FA9-41B3-B653-F8AD0617126C">
<p class="notep1">Note:</p>
<p>You can execute an operating system command to copy a file (or perform other operating system commands) without exiting SQL*Plus by using the <code class="codeph">HOST</code> command. Some operating systems allow you to use a character in place of the word <code class="codeph">HOST</code>. For example, you can use an exclamation point (!) in UNIX.</p>
</div>
<p>The following example uses operating system commands (UNIX) to move the redo log members to a new location:</p>
<pre dir="ltr">mv /diska/logs/log1a.rdo /diskc/logs/log1c.rdo
mv /diska/logs/log2a.rdo /diskc/logs/log2c.rdo
</pre></div>
</li>
<li class="stepexpand"><span>Startup the database, mount, but do not open it.</span>
<div>
<pre dir="ltr">CONNECT / as SYSDBA
STARTUP MOUNT
</pre></div>
</li>
<li class="stepexpand"><span>Rename the redo log members.</span>
<div>
<p>Use the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">RENAME FILE</code> clause to rename the database redo log files.</p>
<pre dir="ltr">ALTER DATABASE 
  RENAME FILE &#39;/diska/logs/log1a.rdo&#39;, &#39;/diska/logs/log2a.rdo&#39; 
           TO &#39;/diskc/logs/log1c.rdo&#39;, &#39;/diskc/logs/log2c.rdo&#39;;
</pre></div>
</li>
<li class="stepexpand"><span>Open the database for normal operation.</span>
<div>
<p>The redo log alterations take effect when the database is opened.</p>
<pre dir="ltr">ALTER DATABASE OPEN; 
</pre></div>
</li>
</ol>
</div>
</div>
<a id="ADMIN11322"></a>
<div class="props_rev_3"><a id="GUID-54E1DA00-B999-4463-B868-85ADDC108D5D"></a>
<h2 id="ADMIN-GUID-54E1DA00-B999-4463-B868-85ADDC108D5D" class="sect2"><span class="enumeration_section">11.5</span> Dropping Redo Log Groups and Members</h2>
<div>
<p>In some cases, you may want to drop an entire group of redo log members.</p>
<p>For example, you want to reduce the number of groups in an instance redo log. In a different case, you may want to drop one or more specific redo log members. For example, if a disk failure occurs, you may need to drop all the redo log files on the failed disk so that the database does not try to write to the inaccessible files. In other situations, particular redo log files become unnecessary. For example, a file might be stored in an inappropriate location.</p>
</div>
<a id="ADMIN11323"></a>
<div class="props_rev_3"><a id="GUID-FDF5B2DF-90AE-4668-A271-98B21179058F"></a>
<h3 id="ADMIN-GUID-FDF5B2DF-90AE-4668-A271-98B21179058F" class="sect3"><span class="enumeration_section">11.5.1</span> Dropping Log Groups</h3>
<div>
<p>You can drop a redo log group.</p>
<div class="section">
<p>To drop a redo log group, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. Before dropping a redo log group, consider the following restrictions and precautions:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>An instance requires at least two groups of redo log files, regardless of the number of members in the groups. (A group comprises one or more members.)</p>
</li>
<li>
<p>You can drop a redo log group only if it is inactive. If you must drop the current group, then first force a log switch to occur.</p>
</li>
<li>
<p>Make sure a redo log group is archived (if archiving is enabled) before dropping it. To see whether this has happened, use the <code class="codeph">V$LOG</code> view.</p>
<pre dir="ltr">SELECT GROUP#, ARCHIVED, STATUS FROM V$LOG;

   GROUP# ARC STATUS
--------- --- ----------------
        1 YES ACTIVE
        2 NO  CURRENT
        3 YES INACTIVE
        4 YES INACTIVE
</pre></li>
</ul>
<p>To drop a redo log group:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">DROP LOGFILE</code> clause.</p>
</li>
</ul>
<p>For example, the following statement drops redo log group number 3:</p>
<pre dir="ltr">ALTER DATABASE DROP LOGFILE GROUP 3;
</pre>
<p>When a redo log group is dropped from the database, and you are not using the Oracle Managed Files feature, the operating system files are not deleted from disk. Rather, the control files of the associated database are updated to drop the members of the group from the database structure. After dropping a redo log group, ensure that the drop completed successfully, and then use the appropriate operating system command to delete the dropped redo log files.</p>
<p>When using Oracle Managed Files, the cleanup of operating systems files is done automatically for you.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11324"></a>
<div class="props_rev_3"><a id="GUID-31B302F1-8B81-4A2C-AF35-A84FB6216820"></a>
<h3 id="ADMIN-GUID-31B302F1-8B81-4A2C-AF35-A84FB6216820" class="sect3"><span class="enumeration_section">11.5.2</span> Dropping Redo Log Members</h3>
<div>
<p>You can drop redo log members.</p>
<div class="section">
<p>To drop a redo log member, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. Consider the following restrictions and precautions before dropping individual redo log members:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>It is permissible to drop redo log files so that a multiplexed redo log becomes temporarily asymmetric. For example, if you use duplexed groups of redo log files, you can drop one member of one group, even though all other groups have two members each. However, you should rectify this situation immediately so that all groups have at least two members, and thereby eliminate the single point of failure possible for the redo log.</p>
</li>
<li>
<p>An instance always requires at least two valid groups of redo log files, regardless of the number of members in the groups. (A group comprises one or more members.) If the member you want to drop is the last valid member of the group, you cannot drop the member until the other members become valid. To see a redo log file status, use the <code class="codeph">V$LOGFILE</code> view. A redo log file becomes <code class="codeph">INVALID</code> if the database cannot access it. It becomes <code class="codeph">STALE</code> if the database suspects that it is not complete or correct. A stale log file becomes valid again the next time its group is made the active group.</p>
</li>
<li>
<p>You can drop a redo log member only if it is <span class="italic">not</span> part of an active or current group. To drop a member of an active group, first force a log switch to occur.</p>
</li>
<li>
<p>Make sure the group to which a redo log member belongs is archived (if archiving is enabled) before dropping the member. To see whether this has happened, use the <code class="codeph">V$LOG</code> view.</p>
</li>
</ul>
<p>To drop specific inactive redo log members:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">DROP LOGFILE MEMBER</code> clause.</p>
</li>
</ul>
<p>The following statement drops the redo log <code class="codeph">/oracle/dbs/log3c.rdo</code>:</p>
<pre dir="ltr">ALTER DATABASE DROP LOGFILE MEMBER &#39;/oracle/dbs/log3c.rdo&#39;;
</pre>
<p>When a redo log member is dropped from the database, the operating system file is not deleted from disk. Rather, the control files of the associated database are updated to drop the member from the database structure. After dropping a redo log file, ensure that the drop completed successfully, and then use the appropriate operating system command to delete the dropped redo log file.</p>
<p>To drop a member of an active group, you must first force a log switch.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11325"></a>
<div class="props_rev_3"><a id="GUID-6A7FB6CB-AF29-40BC-BDB3-B514C502B2F6"></a>
<h2 id="ADMIN-GUID-6A7FB6CB-AF29-40BC-BDB3-B514C502B2F6" class="sect2"><span class="enumeration_section">11.6</span> Forcing Log Switches</h2>
<div>
<p>A log switch occurs when LGWR stops writing to one redo log group and starts writing to another. By default, a log switch occurs automatically when the current redo log file group fills.</p>
<div class="section">
<p>You can force a log switch to make the currently active group inactive and available for redo log maintenance operations. For example, you want to drop the currently active group, but are not able to do so until the group is inactive. You may also want to force a log switch if the currently active group must be archived at a specific time before the members of the group are completely filled. This option is useful in configurations with large redo log files that take a long time to fill.</p>
<p>To force a log switch, you must have the <code class="codeph">ALTER SYSTEM</code> privilege.</p>
<p>To force a log switch,</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the <code class="codeph">ALTER SYSTEM</code> statement with the <code class="codeph">SWITCH LOGFILE</code> clause.</p>
</li>
</ul>
<p>For example, the following statement forces a log switch:</p>
<pre dir="ltr">ALTER SYSTEM SWITCH LOGFILE;
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11326"></a>
<div class="props_rev_3"><a id="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A"></a>
<h2 id="ADMIN-GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A" class="sect2"><span class="enumeration_section">11.7</span> Verifying Blocks in Redo Log Files</h2>
<div>
<p>You can configure the database to use checksums to verify blocks in the redo log files.</p>
<div class="section">
<p>If you set the initialization parameter <code class="codeph">DB_BLOCK_CHECKSUM</code> to <code class="codeph">TYPICAL</code> (the default), then the database computes a checksum for each database block when it is written to disk, including each redo log block as it is being written to the current log. The checksum is stored the header of the block.</p>
<p>Oracle Database uses the checksum to detect corruption in a redo log block. The database verifies the redo log block when the block is read from an archived log during recovery and when it writes the block to an archive log file. An error is raised and written to the alert log if corruption is detected.</p>
<p>If corruption is detected in a redo log block while trying to archive it, the system attempts to read the block from another member in the group. If the block is corrupted in all members of the redo log group, then archiving cannot proceed.</p>
<p>The value of the <code class="codeph">DB_BLOCK_CHECKSUM</code> parameter can be changed dynamically using the <code class="codeph">ALTER SYSTEM</code> statement.</p>
<div class="infobox-note" id="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A__GUID-EBB19B3C-1CB1-466F-8DC7-5BB6BAEBCBCF">
<p class="notep1">Note:</p>
<p>There is a slight overhead and decrease in database performance with <code class="codeph">DB_BLOCK_CHECKSUM</code> enabled. Monitor your database performance to decide if the benefit of using data block checksums to detect corruption outweighs the performance impact.</p>
</div>
<div class="infoboxnotealso" id="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A__GUID-39377A4B-92ED-4C75-8D1B-326682B01655">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10030" target="_blank" href="../REFRN/GUID-A0F72B65-BC1C-441B-824E-03ADCE66063A.htm#REFRN10030"><span class="italic">Oracle Database Reference</span></a> for a description of the <code class="codeph">DB_BLOCK_CHECKSUM</code> initialization parameter</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11327"></a>
<div class="props_rev_3"><a id="GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F"></a>
<h2 id="ADMIN-GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F" class="sect2"><span class="enumeration_section">11.8</span> Clearing a Redo Log File</h2>
<div>
<p>A redo log file might become corrupted while the database is open, and ultimately stop database activity because archiving cannot continue.</p>
<div class="section">
<p>In this situation, to reinitialize the file without shutting down the database:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the <code class="codeph">ALTER DATABASE CLEAR LOGFILE</code> SQL statement.</p>
</li>
</ul>
<p>The following statement clears the log files in redo log group number 3:</p>
<pre dir="ltr">ALTER DATABASE CLEAR LOGFILE GROUP 3;
</pre>
<p>This statement overcomes two situations where dropping redo logs is not possible:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>If there are only two log groups</p>
</li>
<li>
<p>The corrupt redo log file belongs to the current group</p>
</li>
</ul>
<p>If the corrupt redo log file has not been archived, use the <code class="codeph">UNARCHIVED</code> keyword in the statement.</p>
<pre dir="ltr">ALTER DATABASE CLEAR UNARCHIVED LOGFILE GROUP 3;
</pre>
<p>This statement clears the corrupted redo logs and avoids archiving them. The cleared redo logs are available for use even though they were not archived.</p>
<p>If you clear a log file that is needed for recovery of a backup, then you can no longer recover from that backup. The database writes a message in the alert log describing the backups from which you cannot recover.</p>
<div class="infobox-note" id="GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F__GUID-DCB6ED22-DF4F-46E9-A99A-192D7ECF60A9">
<p class="notep1">Note:</p>
<p>If you clear an unarchived redo log file, you should make another backup of the database.</p>
</div>
<p>To clear an unarchived redo log that is needed to bring an offline tablespace online, use the <code class="codeph">UNRECOVERABLE DATAFILE</code> clause in the <code class="codeph">ALTER DATABASE CLEAR LOGFILE</code> statement.</p>
<p>If you clear a redo log needed to bring an offline tablespace online, you will not be able to bring the tablespace online again. You will have to drop the tablespace or perform an incomplete recovery. Note that tablespaces taken offline normal do not require recovery.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="sect2"><a id="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6"></a>
<h2 id="ADMIN-GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6" class="sect2"><span class="enumeration_section">11.9</span> Precedence of FORCE LOGGING Settings</h2>
<div>
<p>You can set <code class="codeph">FORCE LOGGING</code> and <code class="codeph">NOLOGGING</code> at various levels, such as for a database, pluggable database (PDB), tablespace, or database object. When <code class="codeph">FORCE LOGGING</code> is set at one or more levels, the precedence of <code class="codeph">FORCE LOGGING</code> settings determines what is logged in the redo log.</p>
<p>You can put a multitenant container database (CDB) and a non-CDB into <code class="codeph">FORCE LOGGING</code> mode. In this mode, the database logs all changes in the database except for changes in temporary tablespaces and temporary segments. This setting takes precedence over and is independent of any <code class="codeph">NOLOGGING</code> or <code class="codeph">FORCE LOGGING</code> settings you specify for individual tablespaces and any <code class="codeph">NOLOGGING</code> settings you specify for individual database objects.</p>
<p>You can also put a tablespace into <code class="codeph">FORCE LOGGING</code> mode. The database logs all changes to all objects in the tablespace except changes to temporary segments, overriding any <code class="codeph">NOLOGGING</code> setting for individual objects.</p>
<p>In addition, you can specify a logging attribute with the <span class="italic">logging_clause</span> for various types of database objects that determines whether certain DML operations will be logged in the redo log file (<code class="codeph">LOGGING</code>) or not (<code class="codeph">NOLOGGING</code>). You can specify a logging attribute for the following types of database objects:</p>
<ul style="list-style-type: disc;">
<li>
<p>Tables</p>
</li>
<li>
<p>Indexes</p>
</li>
<li>
<p>Materialized views</p>
</li>
</ul>
<p>The following table summarizes the logging settings at each level and shows the result for a non-CDB.</p>
<div class="tblformal" id="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6__GUID-9ABE160E-DDF6-4D1B-9CFF-ADD7B82C49B2">
<p class="titleintable">Table 11-1 Precedence of FORCE LOGGING Settings for a Non-CDB</p>
<table class="cellalignment1980" title="Precedence of FORCE LOGGING Settings for a Non-CDB" summary="This table describes the result of FORCE LOGGING, NOLOGGING, and LOGGING attributes set at various levels for a non-CDB.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1967" id="d101291e3326">Database</th>
<th class="cellalignment1967" id="d101291e3328">Tablespace</th>
<th class="cellalignment1967" id="d101291e3330">Database Object LOGGING Attribute</th>
<th class="cellalignment1967" id="d101291e3332">Result</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3336" headers="d101291e3326"><code class="codeph">FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3336 d101291e3328">Ignored</td>
<td class="cellalignment1843" headers="d101291e3336 d101291e3330">Ignored</td>
<td class="cellalignment1843" headers="d101291e3336 d101291e3332">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3346" headers="d101291e3326"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3346 d101291e3328"><code class="codeph">FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3346 d101291e3330">Ignored</td>
<td class="cellalignment1843" headers="d101291e3346 d101291e3332">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3357" headers="d101291e3326"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3357 d101291e3328"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3357 d101291e3330"><code class="codeph">LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3357 d101291e3332">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3369" headers="d101291e3326"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3369 d101291e3328"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3369 d101291e3330"><code class="codeph">NOLOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3369 d101291e3332">Not Logged</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The following table summarizes the logging settings at each level and shows the result for a CDB.</p>
<div class="tblformal" id="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6__GUID-9692C7A0-4C20-42E3-962E-D04531ADA431">
<p class="titleintable">Table 11-2 Precedence of FORCE LOGGING Settings for a CDB</p>
<table class="cellalignment1980" title="Precedence of FORCE LOGGING Settings for a CDB" summary="This table describes the result of FORCE LOGGING, NOLOGGING, and LOGGING attributes set at various levels for a CDB.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1967" id="d101291e3395">CDB</th>
<th class="cellalignment1967" id="d101291e3397">PDB</th>
<th class="cellalignment1967" id="d101291e3399">Tablespace</th>
<th class="cellalignment1967" id="d101291e3401">Database Object LOGGING Attribute</th>
<th class="cellalignment1967" id="d101291e3403">Result</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3407" headers="d101291e3395"><code class="codeph">FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3407 d101291e3397">Ignored</td>
<td class="cellalignment1843" headers="d101291e3407 d101291e3399">Ignored</td>
<td class="cellalignment1843" headers="d101291e3407 d101291e3401">Ignored</td>
<td class="cellalignment1843" headers="d101291e3407 d101291e3403">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3419" headers="d101291e3395"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3419 d101291e3397"><code class="codeph">ENABLE FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3419 d101291e3399">Ignored</td>
<td class="cellalignment1843" headers="d101291e3419 d101291e3401">Ignored</td>
<td class="cellalignment1843" headers="d101291e3419 d101291e3403">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3432" headers="d101291e3395"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3432 d101291e3397"><code class="codeph">ENABLE FORCE NOLOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3432 d101291e3399">Ignored</td>
<td class="cellalignment1843" headers="d101291e3432 d101291e3401">Ignored</td>
<td class="cellalignment1843" headers="d101291e3432 d101291e3403">Not Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3445" headers="d101291e3395"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3445 d101291e3397"><code class="codeph">DISABLE FORCE [NO]LOGGING</code> (no setting)</td>
<td class="cellalignment1843" headers="d101291e3445 d101291e3399"><code class="codeph">FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3445 d101291e3401">Ignored</td>
<td class="cellalignment1843" headers="d101291e3445 d101291e3403">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3460" headers="d101291e3395"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3460 d101291e3397"><code class="codeph">DISABLE FORCE [NO]LOGGING</code> (no setting)</td>
<td class="cellalignment1843" headers="d101291e3460 d101291e3399"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3460 d101291e3401"><code class="codeph">LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3460 d101291e3403">Logged</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1843" id="d101291e3476" headers="d101291e3395"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3476 d101291e3397"><code class="codeph">DISABLE FORCE [NO]LOGGING</code> (no setting)</td>
<td class="cellalignment1843" headers="d101291e3476 d101291e3399"><code class="codeph">NO FORCE LOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3476 d101291e3401"><code class="codeph">NOLOGGING</code></td>
<td class="cellalignment1843" headers="d101291e3476 d101291e3403">Not Logged</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN11328"></a>
<div class="props_rev_3"><a id="GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E"></a>
<h2 id="ADMIN-GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E" class="sect2"><span class="enumeration_section">11.10</span> Redo Log Data Dictionary Views</h2>
<div>
<p>You can query a set of data dictionary views for information about the redo log.</p>
<div class="section">
<p>The following views provide information on redo logs.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E__GUID-36595937-FA63-477B-9FF0-78119FE632BF">
<table class="cellalignment1849" summary="The first column of this table lists the views that are used for providing information about redo logs. The second column contains a corresponding description of each view.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1892" id="d101291e3582">View</th>
<th class="cellalignment1945" id="d101291e3585">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d101291e3590" headers="d101291e3582">
<p><code class="codeph">V$LOG</code></p>
</td>
<td class="cellalignment1946" headers="d101291e3590 d101291e3585">
<p>Displays the redo log file information from the control file</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d101291e3598" headers="d101291e3582">
<p><code class="codeph">V$LOGFILE</code></p>
</td>
<td class="cellalignment1946" headers="d101291e3598 d101291e3585">
<p>Identifies redo log groups and members and member status</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d101291e3606" headers="d101291e3582">
<p><code class="codeph">V$LOG_HISTORY</code></p>
</td>
<td class="cellalignment1946" headers="d101291e3606 d101291e3585">
<p>Contains log history information</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>The following query returns the control file information about the redo log for a database.</p>
<pre dir="ltr">SELECT GROUP#, THREAD#, SEQUENCE#, BYTES, MEMBERS, ARCHIVED, 
       STATUS, FIRST_CHANGE#, FIRST_TIME
  FROM V$LOG;

GROUP# THREAD#   SEQ   BYTES  MEMBERS  ARC STATUS     FIRST_CHANGE# FIRST_TIM
------ ------- ----- -------  -------  --- ---------  ------------- ---------
     1       1 10605 1048576        1  YES ACTIVE          11515628 16-APR-00
     2       1 10606 1048576        1  NO  CURRENT         11517595 16-APR-00
     3       1 10603 1048576        1  YES INACTIVE        11511666 16-APR-00
     4       1 10604 1048576        1  YES INACTIVE        11513647 16-APR-00
</pre>
<p>To see the names of all of the member of a group, use a query similar to the following:</p>
<pre dir="ltr">SELECT GROUP#, STATUS, MEMBER FROM V$LOGFILE;

GROUP#   STATUS  MEMBER
------  -------  ----------------------------------
     1           D:\ORANT\ORADATA\IDDB2\REDO04.LOG
     2           D:\ORANT\ORADATA\IDDB2\REDO03.LOG
     3           D:\ORANT\ORADATA\IDDB2\REDO02.LOG
     4           D:\ORANT\ORADATA\IDDB2\REDO01.LOG
</pre>
<p>If <code class="codeph">STATUS</code> is blank for a member, then the file is in use.</p>
<div class="infoboxnotealso" id="GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E__GUID-C8979334-CC13-4073-9194-5355D88C1B69">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for detailed information about these views</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="control.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="archredo.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
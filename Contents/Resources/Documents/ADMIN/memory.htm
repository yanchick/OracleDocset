<html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-288"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Managing%20Memory"></a><title>Managing Memory</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Memory management involves maintaining optimal sizes for the Oracle Database instance memory structures as demands on the database change."/>
<meta name="keywords" content="memory, managing, manual memory management, automatic shared memory management, manual shared memory management, force full database caching mode, prerequisites, enabling, disabling, Database Smart Flash Cache, IM column store, In-Memory Column Store, compression, population options, initialization parameters, INMEMORY_SIZE parameter, INMEMORY_FORCE parameter, INMEMORY_CLAUSE_DEFAULT parameter, INMEMORY_QUERY parameter, INMEMORY_MAX_POPULATE_SERVERS parameter, INMEMORY_TRICKLE_POPULATE_SERVERS_PERCENT parameter, OPTIMIZER_INMEMORY_AWARE parameter, enabling for a database, enabling for tables, tables, enabling for tablespaces, tablespaces, enabling for materialized views, materialized views, Oracle Data Pump, Oracle Enterprise Manager Cloud Control"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="manproc.htm" title="Previous" type="text/html"/>
<link rel="Next" href="secure.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06"></a> <span id="PAGE" style="display:none;">11/59</span> <!-- End Header -->
<a id="ADMIN00207"></a>
<h1 id="ADMIN-GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" class="sect1"><span class="enumeration_chapter">6</span> Managing Memory</h1>
<p>Memory management involves maintaining optimal sizes for the Oracle Database instance memory structures as demands on the database change.</p>
<a id="ADMIN12562"></a><a id="ADMIN12563"></a><a id="ADMIN11197"></a>
<div class="props_rev_3"><a id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0"></a>
<h2 id="ADMIN-GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0" class="sect2"><span class="enumeration_section">6.1</span> About Memory Management</h2>
<div>
<p>The memory structures that must be managed are the system global area (SGA) and the instance program global area (instance PGA). Oracle Database supports various memory management methods, which are chosen by initialization parameter settings. Oracle recommends that you enable the method known as <span class="italic">automatic memory management</span>.</p>
<div class="section">
<p class="subhead2">Automatic Memory Management</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Oracle Database can manage the SGA memory and instance PGA memory completely automatically. You designate only the total memory size to be used by the instance, and Oracle Database dynamically exchanges memory between the SGA and the instance PGA as needed to meet processing demands. This capability is referred to as <span class="italic">automatic memory management</span>. With this memory management method, the database also dynamically tunes the sizes of the individual SGA components and the sizes of the individual PGAs.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Manual Memory Management</p>
</div>
<!-- class="section" -->
<div class="section">
<p>If you prefer to exercise more direct control over the sizes of individual memory components, you can disable automatic memory management and configure the database for manual memory management. There are a few different methods available for manual memory management. Some of these methods retain some degree of automation. The methods therefore vary in the amount of effort and knowledge required by the DBA. These methods are:</p>
<ul style="list-style-type: disc;">
<li>
<p>Automatic shared memory management - for the SGA</p>
</li>
<li>
<p>Manual shared memory management - for the SGA</p>
</li>
<li>
<p>Automatic PGA memory management - for the instance PGA</p>
</li>
<li>
<p>Manual PGA memory management - for the instance PGA</p>
</li>
</ul>
<p>These memory management methods are described later in this chapter.</p>
<p>If you create your database with Database Configuration Assistant (DBCA) and choose the basic installation option, automatic memory management is enabled when system memory is less than or equal to 4 gigabytes. When system memory is greater than 4 gigabytes, automatic memory management is disabled, and automatic shared memory management is enabled. If you choose advanced installation, then DBCA enables you to select automatic memory management or automatic shared memory management.</p>
<div class="infobox-note" id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0__GUID-63FD844F-6180-44A8-99FA-E235555CB6D3">
<p class="notep1">Note:</p>
<p>The easiest way to manage memory is to use the graphical user interface of Oracle Enterprise Manager Database Express (EM Express) or Oracle Enterprise Manager Cloud Control (Cloud Control).</p>
<p>For information about managing memory with EM Express, see <a class="olink ADMQS054" target="_blank" href="../ADMQS/GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F.htm#ADMQS054"><span class="italic">Oracle Database 2 Day DBA</span></a>.</p>
<p>For information about managing memory with Cloud Control, see the Cloud Control online help.</p>
</div>
<div class="infoboxnotealso" id="GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0__GUID-1E64C81E-7473-4F51-B920-2B7E8BEF69A6">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT1244" target="_blank" href="../CNCPT/cncptdba.htm#CNCPT1244"><span class="italic">Oracle Database Concepts</span></a> for an introduction to the various automatic and manual methods of managing memory.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13019"></a><a id="ADMIN11198"></a>
<div class="props_rev_3"><a id="GUID-24312D78-522D-4C08-8934-820BE18D34C7"></a>
<h2 id="ADMIN-GUID-24312D78-522D-4C08-8934-820BE18D34C7" class="sect2"><span class="enumeration_section">6.2</span> Memory Architecture Overview</h2>
<div>
<p>Understand basic memory structures associated with Oracle Database.</p>
<p>The basic memory structures associated with Oracle Database include:</p>
<ul style="list-style-type: disc;">
<li>
<p>System Global Area (SGA)</p>
<p>The SGA is a group of shared memory structures, known as <span class="italic">SGA components</span>, that contain data and control information for one Oracle Database instance. The SGA is shared by all server and background processes. Examples of data stored in the SGA include cached data blocks and shared SQL areas.</p>
</li>
<li>
<p>Program Global Area (PGA)</p>
<p>A PGA is a memory region that contains data and control information for a server process. It is nonshared memory created by Oracle Database when a server process is started. Access to the PGA is exclusive to the server process. There is one PGA for each server process. Background processes also allocate their own PGAs. The total PGA memory allocated for all background and server processes attached to an Oracle Database instance is referred to as the <span class="bold">total instance PGA memory</span>, and the collection of all individual PGAs is referred to as the <span class="bold">total instance PGA</span>, or just <span class="bold">instance PGA</span>.</p>
</li>
</ul>
<p><a href="memory.htm#GUID-24312D78-522D-4C08-8934-820BE18D34C7__CHDHAHIJ">Figure 6-1</a> illustrates the relationships among these memory structures.</p>
<div class="figure" id="GUID-24312D78-522D-4C08-8934-820BE18D34C7__CHDHAHIJ">
<p class="titleinfigure">Figure 6-1 Oracle Database Memory Structures</p>
<img width="498" height="452" src="img/GUID-027882BA-8384-4D88-8B2B-CE1BEC4C695F-default.png" alt="Description of Figure 6-1 follows" title="Description of Figure 6-1 follows"/><br/>
<a href="img_text/GUID-027882BA-8384-4D88-8B2B-CE1BEC4C695F-print.htm">Description of &#34;Figure 6-1 Oracle Database Memory Structures&#34;</a></div>
<!-- class="figure" -->
<p>If your database is running on Solaris or Oracle Linux, you can optionally add another memory component: Database Smart Flash Cache. Database Smart Flash Cache is an extension of the SGA-resident buffer cache, providing a level 2 cache for database blocks. It can improve response time and overall throughput for both read-intensive online transaction processing (OLTP) workloads and ad hoc queries and bulk data modifications in a data warehouse environment. Database Smart Flash Cache resides on one or more flash disk devices, which are solid state storage devices that use flash memory. Database Smart Flash Cache is typically more economical than additional main memory, and is an order of magnitude faster than disk drives.</p>
<p><a id="d78352e275" class="indexterm-anchor"></a><a id="d78352e277" class="indexterm-anchor"></a><a id="d78352e279" class="indexterm-anchor"></a>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), the big table cache enables serial queries and parallel queries to use the buffer cache. The big table cache facilitates efficient caching for large tables in data warehousing environments, even if these tables do not fully fit in the buffer cache. Table scans can use the big table cache in the following scenarios:</p>
<ul style="list-style-type: disc;">
<li>
<p>Parallel queries</p>
<p>In single-instance and Oracle Real Application Clusters (Oracle RAC) databases, parallel queries can use the big table cache when the <code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code> initialization parameter is set to a non-zero value, and <code class="codeph">PARALLEL_DEGREE_POLICY</code> is set to <code class="codeph">AUTO</code> or <code class="codeph">ADAPTIVE</code>.</p>
</li>
<li>
<p>Serial queries</p>
<p>In a single-instance configuration only, serial queries can use the big table cache when the <code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code> initialization parameter is set to a non-zero value.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-24312D78-522D-4C08-8934-820BE18D34C7__GUID-D8A3B9B7-BC57-4B28-B114-8534579979B4">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" title="The Database Smart Flash Cache feature is a transparent extension of the database buffer cache using solid state device (SSD) technology. Database Smart Flash Cache can greatly improve the performance of Oracle databases by reducing the amount of disk I/O at a much lower cost than adding an equivalent amount of RAM.">Configuring Database Smart Flash Cache</a>&#34;</span></p>
</li>
<li>
<p><a class="olink CNCPT007" target="_blank" href="../CNCPT/memory.htm#CNCPT007"><span class="italic">Oracle Database Concepts</span></a> for more information on memory architecture in an Oracle Database instance</p>
</li>
<li>
<p><a class="olink REFRN10340" target="_blank" href="../REFRN/GUID-122865EE-4589-434D-8DD5-4E201C6CC739.htm#REFRN10340"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">DB_BIG_TABLE_CACHE_PERCENT_TARGET</code> initialization parameter</p>
</li>
<li>
<p><a class="olink REFRN10310" target="_blank" href="../REFRN/GUID-BF09265F-8545-40D4-BD29-E58D5F02B0E5.htm#REFRN10310"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">PARALLEL_DEGREE_POLICY</code> initialization parameter</p>
</li>
<li>
<p><a class="olink VLDBG14145" target="_blank" href="../VLDBG/GUID-A553169D-C6CD-443E-88C3-B746D5E32923.htm#VLDBG14145"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about the big table cache</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11011"></a>
<div class="props_rev_3"><a id="GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA"></a>
<h2 id="ADMIN-GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" class="sect2"><span class="enumeration_section">6.3</span> Using Automatic Memory Management</h2>
<p>You can allow the Oracle Database instance to automatically manage and tune memory for you.</p>
<a id="ADMIN11199"></a>
<div class="props_rev_3"><a id="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A"></a>
<h3 id="ADMIN-GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A" class="sect3"><span class="enumeration_section">6.3.1</span> About Automatic Memory Management</h3>
<div>
<p>The simplest way to manage instance memory is to allow the Oracle Database instance to automatically manage and tune it for you. To do so (on most platforms), you set only a <span class="italic">target</span> memory size initialization parameter (<code class="codeph">MEMORY_TARGET</code>) and optionally a <span class="italic">maximum</span> memory size initialization parameter (<code class="codeph">MEMORY_MAX_TARGET</code>).</p>
<p>The total memory that the instance uses remains relatively constant, based on the value of <code class="codeph">MEMORY_TARGET</code>, and the instance automatically distributes memory between the system global area (SGA) and the instance program global area (instance PGA). As memory requirements change, the instance dynamically redistributes memory between the SGA and instance PGA.</p>
<p>When automatic memory management is not enabled, you must size both the SGA and instance PGA manually.</p>
<p>Because the <code class="codeph">MEMORY_TARGET</code> initialization parameter is dynamic, you can change <code class="codeph">MEMORY_TARGET</code> at any time without restarting the database. <code class="codeph">MEMORY_MAX_TARGET</code>, which is not dynamic, serves as an upper limit so that you cannot accidentally set <code class="codeph">MEMORY_TARGET</code> too high, and so that enough memory is set aside for the database instance in case you do want to increase total instance memory in the future. Because certain SGA components either cannot easily shrink or must remain at a minimum size, the instance also prevents you from setting <code class="codeph">MEMORY_TARGET</code> too low.</p>
<div class="infobox-note" id="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A__GUID-8EA3E65C-CB8A-4712-BB07-9A63D689215A">
<p class="notep1">Note:</p>
<p>You cannot enable automatic memory management if the <code class="codeph">LOCK_SGA</code> initialization parameter is <code class="codeph">TRUE</code>. See <a class="olink REFRN10084" target="_blank" href="../REFRN/GUID-83BBA5B8-0E01-4B10-8278-AE4EEE39328B.htm#REFRN10084"><span class="italic">Oracle Database Reference</span></a> for information about this parameter.</p>
</div>
<div class="infoboxnotealso" id="GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A__GUID-213CBE48-CA88-4082-B27A-ADC567ADA571">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="memory.htm#GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B" title="Some platforms support automatic memory management.">Platforms That Support Automatic Memory Management</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN12564"></a><a id="ADMIN11200"></a>
<div class="props_rev_3"><a id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01"></a>
<h3 id="ADMIN-GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01" class="sect3"><span class="enumeration_section">6.3.2</span> Enabling Automatic Memory Management</h3>
<div>
<p>If you did not enable automatic memory management upon database creation (either by selecting the proper options in DBCA or by setting the appropriate initialization parameters for the <code class="codeph">CREATE DATABASE</code> SQL statement), then you can enable it at a later time. Enabling automatic memory management involves a shutdown and restart of the database.</p>
<div class="section">
<p>To enable automatic memory management:</p>
<ol>
<li>
<p>Start SQL*Plus and connect to the Oracle Database instance with the <code class="codeph">SYSDBA</code> administrative privilege.</p>
<p>See <span class="q">&#34;<a href="dba.htm#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>&#34;</span> and <span class="q">&#34;<a href="dba.htm#GUID-F5B8F921-18D6-4DA0-809D-F14F241E016D" title="As a DBA, you often perform special operations such as shutting down or starting up a database. Because only a DBA should perform these operations, the database administrator user names require a secure authentication scheme.">Database Administrator Authentication</a>&#34;</span> for instructions.</p>
</li>
<li>
<p>Calculate the minimum value for <code class="codeph">MEMORY_TARGET</code> as follows:</p>
<ol>
<li>
<p>Determine the current sizes of <code class="codeph">SGA_TARGET</code> and <code class="codeph">PGA_AGGREGATE_TARGET</code> in megabytes by entering the following SQL*Plus commands:</p>
<pre dir="ltr">SHOW PARAMETER SGA_TARGET

NAME                                 TYPE        VALUE
------------------------------------ ----------- --------------------------
sga_target                           big integer 272M

SHOW PARAMETER PGA_AGGREGATE_TARGET

NAME                                 TYPE        VALUE
------------------------------------ ----------- --------------------------
pga_aggregate_target                 big integer 90M
</pre>
<p>See <span class="q">&#34;<a href="memory.htm#GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900" title="The procedure for enabling automatic shared memory management (ASMM) differs depending on whether you are changing to ASMM from manual shared memory management or from automatic memory management.">Enabling Automatic Shared Memory Management</a>&#34;</span> for information about setting the <code class="codeph">SGA_TARGET</code> parameter if it is not set.</p>
</li>
<li>
<p>Run the following query to determine the maximum instance PGA allocated in megabytes since the database was started:</p>
<pre dir="ltr">SELECT VALUE/1048576 FROM V$PGASTAT WHERE NAME=&#39;maximum pga allocated&#39;;
</pre></li>
<li>
<p>Compute the maximum value between the query result from step 2b and <code class="codeph">PGA_AGGREGATE_TARGET</code>. Add <code class="codeph">SGA_TARGET</code> to this value.</p>
<pre dir="ltr">MEMORY_TARGET = SGA_TARGET + MAX(PGA_AGGREGATE_TARGET, MAXIMUM PGA ALLOCATED)
</pre></li>
</ol>
<p>For example, if <code class="codeph">SGA_TARGET</code> is 272M and <code class="codeph">PGA_AGGREGATE_TARGET</code> is 90M as shown above, and if the maximum PGA allocated is determined to be 120M, then <code class="codeph">MEMORY_TARGET</code> should be at least 392M (272M + 120M).</p>
</li>
<li id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBBCCJH">
<p>Choose the value for <code class="codeph">MEMORY_TARGET</code> that you want to use.</p>
<p>This can be the minimum value that you computed in step 2, or you can choose to use a larger value if you have enough physical memory available.</p>
</li>
<li id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBGJFHE">
<p>For the <code class="codeph">MEMORY_MAX_TARGET</code> initialization parameter, decide on a maximum amount of memory that you would want to allocate to the database for the foreseeable future. That is, determine the maximum value for the sum of the SGA and instance PGA sizes. This number can be larger than or the same as the <code class="codeph">MEMORY_TARGET</code> value that you chose in the previous step.</p>
</li>
<li>
<p>Do one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you started your Oracle Database instance with a server parameter file, which is the default if you created the database with the Database Configuration Assistant (DBCA), enter the following command:</p>
<pre dir="ltr">ALTER SYSTEM SET MEMORY_MAX_TARGET = <span class="italic">n</span>M SCOPE = SPFILE;
</pre>
<p>where <span class="italic">n</span> is the value that you computed in Step <a href="memory.htm#GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBGJFHE">4</a>.</p>
<p>The <code class="codeph">SCOPE</code> <code class="codeph">=</code> <code class="codeph">SPFILE</code> clause sets the value only in the server parameter file, and not for the running instance. You must include this <code class="codeph">SCOPE</code> clause because <code class="codeph">MEMORY_MAX_TARGET</code> is not a dynamic initialization parameter.</p>
</li>
<li>
<p>If you started your instance with a text initialization parameter file, manually edit the file so that it contains the following statements:</p>
<pre dir="ltr">memory_max_target = <span class="italic">n</span>M
memory_target = <span class="italic">m</span>M
</pre>
<p>where <span class="italic">n</span> is the value that you determined in Step <a href="memory.htm#GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBGJFHE">4</a>, and <span class="italic">m</span> is the value that you determined in step <a href="memory.htm#GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBBCCJH">3</a>.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__GUID-ED8CCF9D-E51A-47AA-9D75-C454AA51DEEB">
<p class="notep1">Note:</p>
<p>In a text initialization parameter file, if you omit the line for <code class="codeph">MEMORY_MAX_TARGET</code> and include a value for <code class="codeph">MEMORY_TARGET</code>, then the database automatically sets <code class="codeph">MEMORY_MAX_TARGET</code> to the value of <code class="codeph">MEMORY_TARGET</code>. If you omit the line for <code class="codeph">MEMORY_TARGET</code> and include a value for <code class="codeph">MEMORY_MAX_TARGET</code>, then the <code class="codeph">MEMORY_TARGET</code> parameter defaults to zero. After startup, you can then dynamically change <code class="codeph">MEMORY_TARGET</code> to a nonzero value, provided that it does not exceed the value of <code class="codeph">MEMORY_MAX_TARGET</code>.</p>
</div>
</li>
<li>
<p>Shut down and restart the database.</p>
<p>See <a href="start.htm#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database.">Starting Up and Shutting Down</a> for instructions.</p>
</li>
<li>
<p>If you started your Oracle Database instance with a server parameter file, enter the following commands:</p>
<pre dir="ltr">ALTER SYSTEM SET MEMORY_TARGET = <span class="italic">n</span>M;
ALTER SYSTEM SET SGA_TARGET = 0;
ALTER SYSTEM SET PGA_AGGREGATE_TARGET = 0;
</pre>
<p>where <span class="italic">n</span> is the value that you determined in step <a href="memory.htm#GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__BGBBCCJH">3</a>.</p>
</li>
</ol>
<div class="infobox-note" id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__GUID-879F7970-A673-47B9-80A7-B77199338807">
<p class="notep1">Note:</p>
<p>With <code class="codeph">MEMORY_TARGET</code> set, the <code class="codeph">SGA_TARGET</code> setting becomes the minimum size of the SGA and the <code class="codeph">PGA_AGGREGATE_TARGET</code> setting becomes the minimum size of the instance PGA. By setting both of these to zero as shown, there are no minimums, and the SGA and instance PGA can grow as needed as long as their sum is less than or equal to the <code class="codeph">MEMORY_TARGET</code> setting. The sizing of SQL work areas remains automatic.</p>
<p>You can omit the statements that set the <code class="codeph">SGA_TARGET</code> and <code class="codeph">PGA_AGGREGATE_TARGET</code> parameter values to zero and leave either or both of the values as positive numbers. In this case, the values act as minimum values for the sizes of the SGA or instance PGA.</p>
<p>In addition, you can use the <code class="codeph">PGA_AGGREGATE_LIMIT</code> initialization parameter to set an instance-wide hard limit for PGA memory. You can set <code class="codeph">PGA_AGGREGATE_LIMIT</code> whether or not you use automatic memory management. See <span class="q">&#34;<a href="memory.htm#GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78" title="By default, Oracle Database automatically and globally manages the total amount of memory dedicated to the instance PGA. You can control this amount by setting the initialization parameter PGA_AGGREGATE_TARGET.">Using Automatic PGA Memory Management</a>&#34;</span>.</p>
</div>
<div class="infoboxnotealso" id="GUID-0E201F66-D280-472A-AD80-20AB8F7E9C01__GUID-DD0D093D-2360-4E1F-9001-FC23A30142B4">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-0F348EAB-9970-4207-8EF3-0F58B64E959A" title="The simplest way to manage instance memory is to allow the Oracle Database instance to automatically manage and tune it for you. To do so (on most platforms), you set only a target memory size initialization parameter (MEMORY_TARGET) and optionally a maximum memory size initialization parameter (MEMORY_MAX_TARGET).">About Automatic Memory Management</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-24312D78-522D-4C08-8934-820BE18D34C7" title="Understand basic memory structures associated with Oracle Database.">Memory Architecture Overview</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SQLRF00902" target="_blank" href="../SQLRF/statements_2017.htm#SQLRF00902"><span class="italic">Oracle Database SQL Language Reference</span></a> for information on the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> SQL statement</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11201"></a>
<div class="props_rev_3"><a id="GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847"></a>
<h3 id="ADMIN-GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847" class="sect3"><span class="enumeration_section">6.3.3</span> Monitoring and Tuning Automatic Memory Management</h3>
<div>
<p>The dynamic performance view <code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code> shows the current sizes of all dynamically tuned memory components, including the total sizes of the SGA and instance PGA.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Query the <code class="codeph">V$MEMORY_TARGET_ADVICE</code> view for tuning advice for the <code class="codeph">MEMORY_TARGET</code> initialization parameter.</p>
</li>
</ul>
<p>For example, run the following query:</p>
<pre dir="ltr">SQL&gt;  select * from v$memory_target_advice order by memory_size;
 
MEMORY_SIZE MEMORY_SIZE_FACTOR ESTD_DB_TIME ESTD_DB_TIME_FACTOR    VERSION
----------- ------------------ ------------ ------------------- ----------
        180                 .5          458               1.344          0
        270                .75          367              1.0761          0
        360                  1          341                   1          0
        450               1.25          335               .9817          0
        540                1.5          335               .9817          0
        630               1.75          335               .9817          0
        720                  2          335               .9817          0
</pre>
<p>The row with the <code class="codeph">MEMORY_SIZE_FACTOR</code> of 1 shows the current size of memory, as set by the <code class="codeph">MEMORY_TARGET</code> initialization parameter, and the amount of DB time required to complete the current workload. In previous and subsequent rows, the results show several alternative <code class="codeph">MEMORY_TARGET</code> sizes. For each alternative size, the database shows the size factor (the multiple of the current size), and the estimated DB time to complete the current workload if the <code class="codeph">MEMORY_TARGET</code> parameter were changed to the alternative size. Notice that for a total memory size smaller than the current <code class="codeph">MEMORY_TARGET</code> size, estimated DB time increases. Notice also that in this example, there is nothing to be gained by increasing total memory size beyond 450MB. However, this situation might change if a complete workload has not yet been run.</p>
<p>EM Express provides an easy-to-use graphical memory advisor to help you select an optimal size for <code class="codeph">MEMORY_TARGET</code>. See <a class="olink ADMQS12101" target="_blank" href="../ADMQS/GUID-6ADFFF05-1FFC-42CB-91FD-679A7B767C0D.htm#ADMQS12101"><span class="italic">Oracle Database 2 Day DBA</span></a> for details.</p>
<div class="infoboxnotealso" id="GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847__GUID-7867C5C8-04E5-474C-A78D-118CBBB22471">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN30463" target="_blank" href="../REFRN/GUID-EAE54257-DF66-46AE-AA09-AE3963134AD1.htm#REFRN30463"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code> dynamic performance view</p>
</li>
<li>
<p><a class="olink REFRN30465" target="_blank" href="../REFRN/GUID-A554D902-0A9F-40AE-961F-14AAA5C90F12.htm#REFRN30465"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$MEMORY_TARGET_ADVICE</code> dynamic performance view</p>
</li>
<li>
<p><a class="olink TGDBA147" target="_blank" href="../TGDBA/measure_db.htm#TGDBA147"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for a definition of DB time.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11202"></a>
<div class="props_rev_3"><a id="GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD"></a>
<h2 id="ADMIN-GUID-27A013E8-66E2-483B-83A4-76DE10E3DADD" class="sect2"><span class="enumeration_section">6.4</span> Configuring Memory Manually</h2>
<p>If you prefer to exercise more direct control over the sizes of individual memory components, you can disable automatic memory management and configure the database for manual memory management.</p>
<div class="sect3"><a id="GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5"></a>
<h3 id="ADMIN-GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5" class="sect3"><span class="enumeration_section">6.4.1</span> About Manual Memory Management</h3>
<div>
<p>There are two different manual memory management methods for the SGA, and two for the instance PGA.</p>
<p>The two manual memory management methods for the SGA vary in the amount of effort and knowledge required by the DBA. With <span class="italic">automatic shared memory management</span>, you set target and maximum sizes for the SGA. The database then sets the total size of the SGA to your designated target, and dynamically tunes the sizes of many SGA components. With <span class="italic">manual shared memory management</span>, you set the sizes of several individual SGA components, thereby determining the overall SGA size. You then manually tune these individual SGA components on an ongoing basis.</p>
<p>For the instance PGA, there is <span class="italic">automatic PGA memory management</span>, in which you set a target size for the instance PGA. The database then sets the size of the instance PGA to your target, and dynamically tunes the sizes of individual PGAs. There is also <span class="italic">manual PGA memory management</span>, in which you set maximum work area size for each type of SQL operator (such as sort or hash-join). This memory management method, although supported, is not recommended.</p>
<div class="infoboxnotealso" id="GUID-CFBD8AA8-BDD3-40A3-83BD-FCB592DC15F5__GUID-BF33365B-C8C4-4ADB-A3F4-1EEAFBABCC5F">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT1244" target="_blank" href="../CNCPT/cncptdba.htm#CNCPT1244"><span class="italic">Oracle Database Concepts</span></a> for an overview of Oracle Database memory management methods.</p>
</div>
</div>
</div>
<a id="ADMIN11203"></a>
<div class="props_rev_3"><a id="GUID-3CEA1AB5-4850-4064-9823-F62C500A579F"></a>
<h3 id="ADMIN-GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" class="sect3"><span class="enumeration_section">6.4.2</span> Using Automatic Shared Memory Management</h3>
<div>
<p>Automatic Shared Memory Management simplifies SGA memory management.</p>
<div class="infoboxnotealso" id="GUID-3CEA1AB5-4850-4064-9823-F62C500A579F__GUID-7D4709FF-09A8-446B-B56F-303AC9B3896B">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink TGDBA291" target="_blank" href="../TGDBA/memory.htm#TGDBA291"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about tuning the components of the SGA</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN11204"></a>
<div class="props_rev_3"><a id="GUID-B8B8923C-4213-42A9-8ED3-4ABE48C23914"></a>
<h4 id="ADMIN-GUID-B8B8923C-4213-42A9-8ED3-4ABE48C23914" class="sect4"><span class="enumeration_section">6.4.2.1</span> About Automatic Shared Memory Management</h4>
<div>
<p>With automatic shared memory management, you specify the total amount of SGA memory available to an instance using the <code class="codeph">SGA_TARGET</code> initialization parameter and Oracle Database automatically distributes this memory among the various SGA components to ensure the most effective memory utilization.</p>
<p>When automatic shared memory management is enabled, the sizes of the different SGA components are flexible and can adapt to the needs of a workload without requiring any additional configuration. The database automatically distributes the available memory among the various components as required, allowing the system to maximize the use of all available SGA memory.</p>
<p>If you are using a server parameter file (<code class="codeph">SPFILE</code>), the database remembers the sizes of the automatically tuned SGA components across instance shutdowns. As a result, the database instance does not need to learn the characteristics of the workload again each time the instance is started. The instance can begin with information from the previous instance and continue evaluating workload where it left off at the last shutdown.</p>
</div>
</div>
<a id="ADMIN14216"></a><a id="ADMIN11205"></a>
<div class="props_rev_3"><a id="GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B"></a>
<h4 id="ADMIN-GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B" class="sect4"><span class="enumeration_section">6.4.2.2</span> Components and Granules in the SGA</h4>
<div>
<p>The SGA comprises several memory <span class="bold">components</span>, which are pools of memory used to satisfy a particular class of memory allocation requests.</p>
<p>Examples of memory components include the shared pool (used to allocate memory for SQL and PL/SQL execution), the java pool (used for java objects and other java execution memory), and the buffer cache (used for caching disk blocks). All SGA components allocate and deallocate space in units of <span class="bold">granules</span>. Oracle Database tracks SGA memory use in internal numbers of granules for each SGA component.</p>
<p>The memory for dynamic components in the SGA is allocated in the unit of granules. The granule size is determined by the amount of SGA memory requested when the instance starts. Specifically, the granule size is based on the value of the <code class="codeph">SGA_MAX_SIZE</code> initialization parameter. <a href="memory.htm#GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B__BABGDHDH" title="This table shows the granule size for different amounts of SGA memory.">Table 6-1</a> shows the granule size for different amounts of SGA memory.</p>
<div class="tblformal" id="GUID-F07D8DE0-C756-4E3D-ABFC-27A0D3B45F4B__BABGDHDH">
<p class="titleintable">Table 6-1 Granule Size</p>
<table class="cellalignment1849" title="Granule Size" summary="This table shows the granule size for different amounts of SGA memory.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1974" id="d78352e1428">SGA Memory Amount</th>
<th class="cellalignment1995" id="d78352e1431">Granule Size</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1436" headers="d78352e1428">
<p>Less than or equal to 1 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1436 d78352e1431">
<p>4 MB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1443" headers="d78352e1428">
<p>Greater than 1 GB and less than or equal to 8 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1443 d78352e1431">
<p>16 MB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1450" headers="d78352e1428">
<p>Greater than 8 GB and less than or equal to 16 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1450 d78352e1431">
<p>32 MB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1457" headers="d78352e1428">
<p>Greater than 16 GB and less than or equal to 32 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1457 d78352e1431">
<p>64 MB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1464" headers="d78352e1428">
<p>Greater than 32 GB and less than or equal to 64 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1464 d78352e1431">
<p>128 MB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1471" headers="d78352e1428">
<p>Greater than 64 GB and less than or equal to 128 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1471 d78352e1431">
<p>256 MB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1975" id="d78352e1478" headers="d78352e1428">
<p>Greater than 128 GB</p>
</td>
<td class="cellalignment1996" headers="d78352e1478 d78352e1431">
<p>512 MB</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Some platform dependencies may arise. Consult your operating system specific documentation for more details.</p>
<p>You can query the <code class="codeph">V$SGAINFO</code> view to see the granule size that is being used by an instance. The same granule size is used for all components in the SGA.</p>
<p>If you specify a size for a component that is not a multiple of granule size, Oracle Database rounds the specified size up to the nearest multiple. For example, if the granule size is 4 MB and you specify <code class="codeph">DB_CACHE_SIZE</code> as 10 MB, the database actually allocates 12 MB.</p>
</div>
</div>
<a id="ADMIN11206"></a>
<div class="props_rev_3"><a id="GUID-DFDA2DAA-B15D-4EC9-B7B1-A32304D7BEF9"></a>
<h4 id="ADMIN-GUID-DFDA2DAA-B15D-4EC9-B7B1-A32304D7BEF9" class="sect4"><span class="enumeration_section">6.4.2.3</span> Setting Maximum SGA Size</h4>
<div>
<p>The <code class="codeph">SGA_MAX_SIZE</code> initialization parameter specifies the maximum size of the System Global Area for the lifetime of the instance.</p>
<div class="section">
<p>To set the maximum size of the System Global Area:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">SGA_MAX_SIZE</code> initialization parameter.</p>
</li>
</ul>
<p>You can dynamically alter the initialization parameters affecting the size of the buffer caches, shared pool, large pool, Java pool, and streams pool but only to the extent that the sum of these sizes and the sizes of the other components of the SGA (fixed SGA, variable SGA, and redo log buffers) does not exceed the value specified by <code class="codeph">SGA_MAX_SIZE</code>.</p>
<p>If you do not specify <code class="codeph">SGA_MAX_SIZE</code>, then Oracle Database selects a default value that is the sum of all components specified or defaulted at initialization time. If you do specify <code class="codeph">SGA_MAX_SIZE</code>, and at the time the database is initialized the value is less than the sum of the memory allocated for all components, either explicitly in the parameter file or by default, then the database ignores the setting for <code class="codeph">SGA_MAX_SIZE</code> and chooses a correct value for this parameter.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13020"></a><a id="ADMIN13021"></a><a id="ADMIN11207"></a>
<div class="props_rev_3"><a id="GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF"></a>
<h4 id="ADMIN-GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF" class="sect4"><span class="enumeration_section">6.4.2.4</span> Setting SGA Target Size</h4>
<div>
<p>You enable the automatic shared memory management feature by setting the <code class="codeph">SGA_TARGET</code> initialization parameter to a nonzero value. This parameter sets the total size of the SGA. It replaces the parameters that control the memory allocated for a specific set of individual components, which are now automatically and dynamically resized (tuned) as needed.</p>
<div class="section">
<p>To enable the automatic shared memory management feature:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">SGA_TARGET</code> initialization parameter to a nonzero value.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-3F0255D6-CE7F-4581-80D1-BE23362A99CF__GUID-148D218E-E1B8-40EE-886B-A1F99669C6BF">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">STATISTICS_LEVEL</code> initialization parameter must be set to <code class="codeph">TYPICAL</code> (the default) or <code class="codeph">ALL</code> for automatic shared memory management to function.</p>
</li>
<li>
<p>An easier way to enable automatic shared memory management is to use EM Express. When you enable automatic shared memory management and set the Total SGA Size, EM Express automatically generates the <code class="codeph">ALTER SYSTEM</code> statements to set <code class="codeph">SGA_TARGET</code> to the specified size and to set all automatically sized SGA components to zero. See <a class="olink ADMQS054" target="_blank" href="../ADMQS/GUID-8BDFF6EB-2EDE-4307-9393-D159E2F1E84F.htm#ADMQS054"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information.</p>
</li>
</ul>
<p>If you use SQL*Plus to set <code class="codeph">SGA_TARGET</code>, then you must then set the automatically sized SGA components to zero or to a minimum value.</p>
</div>
</div>
<!-- class="section" --></div>
<div class="sect5"><a id="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032"></a>
<h5 id="ADMIN-GUID-1B568DEC-AAC0-4626-B44C-A6D446077032" class="sect5"><span class="enumeration_section">6.4.2.4.1</span> The SGA Target and Automatically Sized SGA Components</h5>
<div>
<p>Some SGA components are automatically sized when <code class="codeph">SGA_TARGET</code> is set.</p>
<div class="section">
<p>The following table lists the SGA components that are automatically sized when <code class="codeph">SGA_TARGET</code> is set. For each SGA component, its corresponding initialization parameter is listed.</p>
<div class="tblformal" id="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE">
<p class="titleintable">Table 6-2 Automatically Sized SGA Components and Corresponding Parameters</p>
<table class="cellalignment1849" title="Automatically Sized SGA Components and Corresponding Parameters" summary="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1864" id="d78352e1771">SGA Component</th>
<th class="cellalignment1933" id="d78352e1774">Initialization Parameter</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1779" headers="d78352e1771">
<p>Fixed SGA and other internal allocations needed by the Oracle Database instance</p>
</td>
<td class="cellalignment1934" headers="d78352e1779 d78352e1774">
<p>N/A</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1786" headers="d78352e1771">
<p>The shared pool</p>
</td>
<td class="cellalignment1934" headers="d78352e1786 d78352e1774">
<p><code class="codeph">SHARED_POOL_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1794" headers="d78352e1771">
<p>The large pool</p>
</td>
<td class="cellalignment1934" headers="d78352e1794 d78352e1774">
<p><code class="codeph">LARGE_POOL_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1802" headers="d78352e1771">
<p>The Java pool</p>
</td>
<td class="cellalignment1934" headers="d78352e1802 d78352e1774">
<p><code class="codeph">JAVA_POOL_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1810" headers="d78352e1771">
<p>The buffer cache</p>
</td>
<td class="cellalignment1934" headers="d78352e1810 d78352e1774">
<p><code class="codeph">DB_CACHE_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1818" headers="d78352e1771">
<p>The Streams pool</p>
</td>
<td class="cellalignment1934" headers="d78352e1818 d78352e1774">
<p><code class="codeph">STREAMS_POOL_SIZE</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The manually sized parameters listed in <a href="memory.htm#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABBDEFJ" title="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">Table 6-3</a>, if they are set, take their memory from <code class="codeph">SGA_TARGET</code>, leaving what is available for the components listed in <a href="memory.htm#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">Table 6-2</a>.</p>
<div class="tblformal" id="GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABBDEFJ">
<p class="titleintable">Table 6-3 Manually Sized SGA Components that Use SGA_TARGET Space</p>
<table class="cellalignment1849" title="Manually Sized SGA Components that Use SGA_TARGET Space" summary="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1864" id="d78352e1850">SGA Component</th>
<th class="cellalignment1933" id="d78352e1853">Initialization Parameter</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1858" headers="d78352e1850">
<p>The log buffer</p>
</td>
<td class="cellalignment1934" headers="d78352e1858 d78352e1853">
<p><code class="codeph">LOG_BUFFER</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1866" headers="d78352e1850">
<p>The keep and recycle buffer caches</p>
</td>
<td class="cellalignment1934" headers="d78352e1866 d78352e1853">
<p><code class="codeph">DB_KEEP_CACHE_SIZE</code></p>
<p><code class="codeph">DB_RECYCLE_CACHE_SIZE</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1866" id="d78352e1877" headers="d78352e1850">
<p>Nonstandard block size buffer caches</p>
</td>
<td class="cellalignment1934" headers="d78352e1877 d78352e1853">
<p><code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>In addition to setting <code class="codeph">SGA_TARGET</code> to a nonzero value, you must set to zero all initialization parameters listed in <a href="memory.htm#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">Table 6-2</a> to enable full automatic tuning of the automatically sized SGA components.</p>
<p>Alternatively, you can set one or more of the automatically sized SGA components to a nonzero value, which is then used as the minimum setting for that component during SGA tuning. This is discussed in detail later in this section.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11208"></a>
<div class="props_rev_3"><a id="GUID-C3277A7A-F7F2-40E0-BD27-A4DCA5131F60"></a>
<h5 id="ADMIN-GUID-C3277A7A-F7F2-40E0-BD27-A4DCA5131F60" class="sect5"><span class="enumeration_section">6.4.2.4.2</span> SGA and Virtual Memory</h5>
<div>
<p>For optimal performance in most systems, the entire SGA should fit in real memory. If it does not, and if virtual memory is used to store parts of it, then overall database system performance can decrease dramatically. The reason for this is that portions of the SGA are paged (written to and read from disk) by the operating system.</p>
<p>See your operating system documentation for instructions for monitoring paging activity. You can also view paging activity using Cloud Control. See <a class="olink TDPPT043" target="_blank" href="../TDPPT/tdppt_realtime.htm#TDPPT043"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for more information.</p>
</div>
</div>
<a id="ADMIN11209"></a>
<div class="props_rev_3"><a id="GUID-D3D22DD9-BB12-4445-B853-F317F5456144"></a>
<h5 id="ADMIN-GUID-D3D22DD9-BB12-4445-B853-F317F5456144" class="sect5"><span class="enumeration_section">6.4.2.4.3</span> Monitoring and Tuning SGA Target Size</h5>
<div>
<p>The <code class="codeph">V$SGAINFO</code> view provides information on the current tuned sizes of various SGA components. The <code class="codeph">V$SGA_TARGET_ADVICE</code> view provides information that helps you decide on a value for <code class="codeph">SGA_TARGET</code>.</p>
<div class="section">
<p>To monitor and tune the SGA target size:</p>
<ul style="list-style-type: disc;">
<li>
<p>Query the <code class="codeph">V$SGAINFO</code> and <code class="codeph">V$SGA_TARGET_ADVICE</code> views.</p>
</li>
</ul>
<p>For example, run the following query:</p>
<pre dir="ltr">SQL&gt; select * from v$sga_target_advice order by sga_size;
 
  SGA_SIZE SGA_SIZE_FACTOR ESTD_DB_TIME ESTD_DB_TIME_FACTOR ESTD_PHYSICAL_READS
---------- --------------- ------------ ------------------- -------------------
       290              .5       448176              1.6578             1636103
       435             .75       339336              1.2552             1636103
       580               1       270344                   1             1201780
       725            1.25       239038               .8842              907584
       870             1.5       211517               .7824              513881
      1015            1.75       201866               .7467              513881
      1160               2       200703               .7424              513881
</pre>
<p>The information in this view is similar to that provided in the <code class="codeph">V$MEMORY_TARGET_ADVICE</code> view for automatic memory management. See <span class="q">&#34;<a href="memory.htm#GUID-98B11E31-DFAB-4AF6-9438-6B3C9DDB9847" title="The dynamic performance view V$MEMORY_DYNAMIC_COMPONENTS shows the current sizes of all dynamically tuned memory components, including the total sizes of the SGA and instance PGA.">Monitoring and Tuning Automatic Memory Management</a>&#34;</span> for an explanation of that view.</p>
<p>EM Express provides an easy-to-use graphical memory advisor to help you select an optimal size for <code class="codeph">SGA_TARGET</code>. See <a class="olink ADMQS0541" target="_blank" href="../ADMQS/GUID-5C8A0A90-28C9-444A-A382-9D5445F0A7D9.htm#ADMQS0541"><span class="italic">Oracle Database 2 Day DBA</span></a> for details.</p>
<div class="infoboxnotealso" id="GUID-D3D22DD9-BB12-4445-B853-F317F5456144__GUID-20C55DF6-967B-4483-A8EA-7C98DADAB73D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN30314" target="_blank" href="../REFRN/GUID-27672126-D7BF-46DB-9A27-0AD2AA94F2AE.htm#REFRN30314"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$SGAINFO</code> view</p>
</li>
<li>
<p><a class="olink REFRN30393" target="_blank" href="../REFRN/GUID-7908FB61-F0F3-4E83-914B-7721B01D1CBA.htm#REFRN30393"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$SGA_TARGET_ADVICE</code> view</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11210"></a>
<div class="props_rev_3"><a id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900"></a>
<h4 id="ADMIN-GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900" class="sect4"><span class="enumeration_section">6.4.2.5</span> Enabling Automatic Shared Memory Management</h4>
<div>
<p>The procedure for enabling automatic shared memory management (ASMM) differs depending on whether you are changing to ASMM from manual shared memory management or from automatic memory management.</p>
<div class="section">
<p>To change to ASMM from manual shared memory management:</p>
<ol>
<li id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__BGBBFBCE">
<p>Run the following query to obtain a value for <code class="codeph">SGA_TARGET</code>:</p>
<pre dir="ltr">SELECT (
   (SELECT SUM(value) FROM V$SGA) -
   (SELECT CURRENT_SIZE FROM V$SGA_DYNAMIC_FREE_MEMORY)
   ) &#34;SGA_TARGET&#34;
FROM DUAL;
</pre></li>
<li>
<p>Set the value of <code class="codeph">SGA_TARGET</code>, either by editing the text initialization parameter file and restarting the database, or by issuing the following statement:</p>
<pre dir="ltr">ALTER SYSTEM SET SGA_TARGET=<span class="italic">value</span> [SCOPE={SPFILE|MEMORY|BOTH}]
</pre>
<p>where <span class="italic">value</span> is the value computed in step <a href="memory.htm#GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__BGBBFBCE">1</a> or is some value between the sum of all SGA component sizes and <code class="codeph">SGA_MAX_SIZE</code>. For more information on the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement and its <code class="codeph">SCOPE</code> clause, see <a class="olink SQLRF00902" target="_blank" href="../SQLRF/statements_2017.htm#SQLRF00902"><span class="italic">Oracle Database SQL Language Reference</span></a>.</p>
</li>
<li>
<p>Do one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>For more complete automatic tuning, set the values of the automatically sized SGA components listed in <a href="memory.htm#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">Table 6-2</a> to zero. Do this by editing the text initialization parameter file or by issuing <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statements.</p>
</li>
<li>
<p>To control the minimum size of one or more automatically sized SGA components, set those component sizes to the desired value. (See the next section for details.) Set the values of the other automatically sized SGA components to zero. Do this by editing the text initialization parameter file or by issuing <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statements.</p>
</li>
</ul>
</li>
</ol>
<p>To change to ASMM from automatic memory management:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Set the <code class="codeph">MEMORY_TARGET</code> initialization parameter to 0.</span>
<div>
<pre dir="ltr">ALTER SYSTEM SET MEMORY_TARGET = 0;
</pre>
<p>The database sets <code class="codeph">SGA_TARGET</code> based on current SGA memory allocation.</p>
</div>
</li>
<li class="stepexpand"><span>Do one of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>For more complete automatic tuning, set the sizes of the automatically sized SGA components listed in <a href="memory.htm#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032__BABDCHDE" title="Column 1 lists the automatically sized SGA components. Column 2 lists corresponding initialization parameters.">Table 6-2</a> to zero. Do this by editing the text initialization parameter file or by issuing <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statements.</p>
</li>
<li>
<p>To control the minimum size of one or more automatically sized SGA components, set those component sizes to the desired value. (See the next section for details.) Set the sizes of the other automatically sized SGA components to zero. Do this by editing the text initialization parameter file or by issuing <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statements.</p>
</li>
</ul>
</div>
</li>
</ol>
<div class="example" id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__GUID-F5A8DAB9-F006-4984-82E5-1FF8ED56A2DE">
<p class="titleinexample">Example 6-1 Using ASMM</p>
<p>For example, suppose you currently have the following configuration of parameters for an instance configured for manual shared memory management and with <code class="codeph">SGA_MAX_SIZE</code> set to 1200M:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SHARED_POOL_SIZE</code> = 200M</p>
</li>
<li>
<p><code class="codeph">DB_CACHE_SIZE</code> = 500M</p>
</li>
<li>
<p><code class="codeph">LARGE_POOL_SIZE</code>=200M</p>
</li>
</ul>
<p>Also assume the following query results:</p>
<div class="tblformal" id="GUID-0E0EBCD5-6134-492B-9232-3F76D92B1900__GUID-0E653F6E-E954-441C-8ADE-C5C808577DBF">
<table class="cellalignment1849" summary="This table has two rows and two columns. The columns are Query and Results. The left column shows a complete SQL query.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1936" id="d78352e2316">Query</th>
<th class="cellalignment1935" id="d78352e2319">Result</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1938" id="d78352e2324" headers="d78352e2316">
<p><code class="codeph">SELECT SUM(value) FROM V$SGA</code></p>
</td>
<td class="cellalignment1937" headers="d78352e2324 d78352e2319">
<p>1200M</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1938" id="d78352e2332" headers="d78352e2316">
<p><code class="codeph">SELECT CURRENT_SIZE FROM V$SGA_DYNAMIC_FREE_MEMORY</code></p>
</td>
<td class="cellalignment1937" headers="d78352e2332 d78352e2319">
<p>208M</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>You can take advantage of automatic shared memory management by issuing the following statements:</p>
<pre dir="ltr">ALTER SYSTEM SET SGA_TARGET = 992M;
ALTER SYSTEM SET SHARED_POOL_SIZE = 0;
ALTER SYSTEM SET LARGE_POOL_SIZE = 0;
ALTER SYSTEM SET JAVA_POOL_SIZE = 0;
ALTER SYSTEM SET DB_CACHE_SIZE = 0;
ALTER SYSTEM SET STREAMS_POOL_SIZE = 0;
</pre>
<p>where 992M = 1200M minus 208M.</p>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN11213"></a>
<div class="props_rev_3"><a id="GUID-3DB194B9-1F36-4522-91A1-EC8304FF9DA7"></a>
<h4 id="ADMIN-GUID-3DB194B9-1F36-4522-91A1-EC8304FF9DA7" class="sect4"><span class="enumeration_section">6.4.2.6</span> Setting Minimums for Automatically Sized SGA Components</h4>
<div>
<p>You can exercise some control over the size of the automatically sized SGA components by specifying minimum values for the parameters corresponding to these components. Doing so can be useful if you know that an application cannot function properly without a minimum amount of memory in specific components.</p>
<div class="section">
<p>To specify the minimum amount of SGA space for a component:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set a value for its corresponding initialization parameter.</p>
</li>
</ul>
<p>Manually limiting the minimum size of one or more automatically sized components reduces the total amount of memory available for dynamic adjustment. This reduction in turn limits the ability of the system to adapt to workload changes. Therefore, this practice is not recommended except in exceptional cases. The default automatic management behavior maximizes both system performance and the use of available resources.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a href="memory.htm#GUID-1B568DEC-AAC0-4626-B44C-A6D446077032" title="Some SGA components are automatically sized when SGA_TARGET is set.">The SGA Target and Automatically Sized SGA Components</a></li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11215"></a>
<div class="props_rev_3"><a id="GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA"></a>
<h4 id="ADMIN-GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA" class="sect4"><span class="enumeration_section">6.4.2.7</span> Dynamic Modification of SGA_TARGET</h4>
<div>
<p>The <code class="codeph">SGA_TARGET</code> parameter can be dynamically increased up to the value specified for the <code class="codeph">SGA_MAX_SIZE</code> parameter, and it can also be reduced.</p>
<p>If you reduce the value of <code class="codeph">SGA_TARGET</code>, the system identifies one or more automatically tuned components for which to release memory. You can reduce <code class="codeph">SGA_TARGET</code> until one or more automatically tuned components reach their minimum size. Oracle Database determines the minimum allowable value for <code class="codeph">SGA_TARGET</code> taking into account several factors, including values set for the automatically sized components, manually sized components that use <code class="codeph">SGA_TARGET</code> space, and number of CPUs.</p>
<p>The change in the amount of physical memory consumed when <code class="codeph">SGA_TARGET</code> is modified depends on the operating system. On some UNIX platforms that do not support dynamic shared memory, the physical memory in use by the SGA is equal to the value of the <code class="codeph">SGA_MAX_SIZE</code> parameter. On such platforms, there is no real benefit in setting <code class="codeph">SGA_TARGET</code> to a value smaller than <code class="codeph">SGA_MAX_SIZE</code>. Therefore, setting <code class="codeph">SGA_MAX_SIZE</code> on those platforms is not recommended.</p>
<p>On other platforms, such as Solaris and Windows, the physical memory consumed by the SGA is equal to the value of <code class="codeph">SGA_TARGET</code>.</p>
<p>For example, suppose you have an environment with the following configuration:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SGA_MAX_SIZE</code> = 1024M</p>
</li>
<li>
<p><code class="codeph">SGA_TARGET</code> = 512M</p>
</li>
<li>
<p><code class="codeph">DB_8K_CACHE_SIZE</code> = 128M</p>
</li>
</ul>
<p>In this example, the value of <code class="codeph">SGA_TARGET</code> can be resized up to 1024M and can also be reduced until one or more of the automatically sized components reaches its minimum size. The exact value depends on environmental factors such as the number of CPUs on the system. However, the value of <code class="codeph">DB_8K_CACHE_SIZE</code> remains fixed at all times at 128M</p>
<div class="infobox-note" id="GUID-CB7EE1F0-B6A0-4118-A0DD-5A3CC32A8ECA__GUID-8F12D78F-49A8-448F-9720-258FA99DEB0E">
<p class="notep1">Note:</p>
<p>When enabling automatic shared memory management, it is best to set <code class="codeph">SGA_TARGET</code> to the desired nonzero value before starting the database. Dynamically modifying <code class="codeph">SGA_TARGET</code> from zero to a nonzero value may not achieve the desired results because the shared pool may not be able to shrink. After startup, you can dynamically tune <code class="codeph">SGA_TARGET</code> up or down as required.</p>
</div>
</div>
</div>
<a id="ADMIN11216"></a>
<div class="props_rev_3"><a id="GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB"></a>
<h4 id="ADMIN-GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB" class="sect4"><span class="enumeration_section">6.4.2.8</span> Modifying Parameters for Automatically Sized Components</h4>
<div>
<p>When automatic shared memory management is enabled, the manually specified sizes of automatically sized components serve as a lower bound for the size of the components. You can modify this limit dynamically by changing the values of the corresponding parameters.</p>
<div class="section">
<p>If the specified lower limit for the size of a given SGA component is less than its current size, then there is no immediate change in the size of that component. The new setting only limits the automatic tuning algorithm to that reduced minimum size in the future.</p>
<p>To set the lower bound for the size of a component:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the initialization parameter for the component to the minimum.</p>
</li>
</ul>
<p>For example, consider the following configuration:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SGA_TARGET</code> = 512M</p>
</li>
<li>
<p><code class="codeph">LARGE_POOL_SIZE</code> = 256M</p>
</li>
<li>
<p>Current actual large pool size = 284M</p>
</li>
</ul>
<p>In this example, if you increase the value of <code class="codeph">LARGE_POOL_SIZE</code> to a value greater than the actual current size of the component, the system expands the component to accommodate the increased minimum size. For example, if you increase the value of <code class="codeph">LARGE_POOL_SIZE</code> to 300M, then the system increases the large pool incrementally until it reaches 300M. This resizing occurs at the expense of one or more automatically tuned components. If you decrease the value of <code class="codeph">LARGE_POOL_SIZE</code> to 200, there is no immediate change in the size of that component. The new setting only limits the reduction of the large pool size to 200 M in the future.</p>
<div class="infobox-note" id="GUID-17DE9E10-3066-4908-A295-B27DD94EF2CB__GUID-4F9849FB-B9D6-4AFD-A7C4-A0D18F2B9E8F">
<p class="notep1">Note:</p>
When <code class="codeph">SGA_TARGET</code> is not set, the automatic shared memory management feature is not enabled. Therefore, the rules governing the resizing of all component parameters are the same as in earlier releases.</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11217"></a>
<div class="props_rev_3"><a id="GUID-EBA07C5C-A639-4B6A-A2BF-E3F1176F80D0"></a>
<h4 id="ADMIN-GUID-EBA07C5C-A639-4B6A-A2BF-E3F1176F80D0" class="sect4"><span class="enumeration_section">6.4.2.9</span> Modifying Parameters for Manually Sized Components</h4>
<div>
<p>Parameters for manually sized components can be dynamically altered as well. However, rather than setting a minimum size, the value of the parameter specifies the precise size of the corresponding component.</p>
<div class="section">
<p>When you increase the size of a manually sized component, extra memory is taken away from one or more automatically sized components. When you decrease the size of a manually sized component, the memory that is released is given to the automatically sized components.</p>
<p>To modify the precise size of a component:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the initialization parameter for the component.</p>
</li>
</ul>
<p>For example, consider this configuration:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SGA_TARGET</code> = 512M</p>
</li>
<li>
<p><code class="codeph">DB_8K_CACHE_SIZE</code> = 128M</p>
</li>
</ul>
<p>In this example, increasing <code class="codeph">DB_8K_CACHE_SIZE</code> by 16M to 144M means that the 16M is taken away from the automatically sized components. Likewise, reducing <code class="codeph">DB_8K_CACHE_SIZE</code> by 16M to 112M means that the 16M is given to the automatically sized components.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11218"></a>
<div class="props_rev_3"><a id="GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E"></a>
<h3 id="ADMIN-GUID-A2DC5193-CE89-4F20-AA4B-3EC45F4C770E" class="sect3"><span class="enumeration_section">6.4.3</span> Using Manual Shared Memory Management</h3>
<p>To manage shared memory manually, you first ensure that both automatic memory management and automatic shared memory management are disabled. You then manually configure, monitor, and tune memory components..</p>
<div class="sect4"><a id="GUID-904F96E9-39AD-4777-AE7F-53A984CD028E"></a>
<h4 id="ADMIN-GUID-904F96E9-39AD-4777-AE7F-53A984CD028E" class="sect4"><span class="enumeration_section">6.4.3.1</span> About Manual Shared Memory Management</h4>
<div>
<p>If you decide not to use automatic memory management or automatic shared memory management, you must manually configure several SGA component sizes, and then monitor and tune these sizes on an ongoing basis as the database workload changes. You can follow guidelines on setting the parameters that control the sizes of these SGA components.</p>
<p>If you create your database with DBCA and choose manual shared memory management, DBCA provides fields where you must enter sizes for the buffer cache, shared pool, large pool, and Java pool. It then sets the corresponding initialization parameters in the server parameter file (<code class="codeph">SPFILE</code>) that it creates. If you instead create the database with the <code class="codeph">CREATE DATABASE</code> SQL statement and a text initialization parameter file, you can do one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Provide values for the initialization parameters that set SGA component sizes.</p>
</li>
<li>
<p>Omit SGA component size parameters from the text initialization file. Oracle Database chooses reasonable defaults for any component whose size you do not set.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN11219"></a>
<div class="props_rev_3"><a id="GUID-769DCB8C-7FE0-4DEC-8389-390C2A277715"></a>
<h4 id="ADMIN-GUID-769DCB8C-7FE0-4DEC-8389-390C2A277715" class="sect4"><span class="enumeration_section">6.4.3.2</span> Enabling Manual Shared Memory Management</h4>
<div>
<p>There is no initialization parameter that in itself enables manual shared memory management. You effectively enable manual shared memory management by disabling both automatic memory management and automatic shared memory management.</p>
<div class="section">
<p>To enable manual shared memory management:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Set the <code class="codeph">MEMORY_TARGET</code> initialization parameter to 0.</span></li>
<li><span>Set the <code class="codeph">SGA_TARGET</code> initialization parameter to 0.</span></li>
</ol>
<div class="section">
<p>You must then set values for the various SGA components, as described in the following sections.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11220"></a>
<div class="props_rev_3"><a id="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E"></a>
<h4 id="ADMIN-GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E" class="sect4"><span class="enumeration_section">6.4.3.3</span> Setting the Buffer Cache Initialization Parameters</h4>
<div>
<p>The buffer cache initialization parameters determine the size of the buffer cache component of the SGA.</p>
<div class="section">
<p>You use them to specify the sizes of caches for the various block sizes used by the database. These initialization parameters are all dynamic.</p>
<p>The size of a buffer cache affects performance. Larger cache sizes generally reduce the number of disk reads and writes. However, a large cache may take up too much memory and induce memory paging or swapping.</p>
<p>Oracle Database supports multiple block sizes in a database. If you create tablespaces with non-standard block sizes, you must configure non-standard block size buffers to accommodate these tablespaces. The standard block size is used for the <code class="codeph">SYSTEM</code> tablespace. You specify the standard block size by setting the initialization parameter <code class="codeph">DB_BLOCK_SIZE</code>. Legitimate values are from 2K to 32K.</p>
<p>If you intend to use multiple block sizes in your database, you must have the <code class="codeph">DB_CACHE_SIZE</code> and at least one <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> parameter set. Oracle Database assigns an appropriate default value to the <code class="codeph">DB_CACHE_SIZE</code> parameter, but the <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> parameters default to 0, and no additional block size caches are configured.</p>
<p>The sizes and numbers of non-standard block size buffers are specified by the following parameters:</p>
<pre dir="ltr">DB_2K_CACHE_SIZE
DB_4K_CACHE_SIZE
DB_8K_CACHE_SIZE
DB_16K_CACHE_SIZE
DB_32K_CACHE_SIZE
</pre>
<pre dir="ltr"></pre>
<p>Each parameter specifies the size of the cache for the corresponding block size.</p>
<div class="infobox-note" id="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E__GUID-9D387F9E-7200-40AA-BF33-CBE9E14557C4">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>Platform-specific restrictions regarding the maximum block size apply, so some of these sizes might not be allowed on some platforms.</p>
</li>
<li>
<p>A 32K block size is valid only on 64-bit platforms.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-CEF55C3D-298C-406A-9D97-BB5279CDCE1E__GUID-E970CAC4-92E3-46C8-9A18-98B086FAFABC">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="tspaces.htm#GUID-A789CECE-226C-4280-8BC4-39F064036965" title="You can create tablespaces with block sizes different from the standard database block size, which is specified by the DB_BLOCK_SIZE initialization parameter. This feature lets you transport tablespaces with unlike block sizes between databases.">Specifying Nonstandard Block Sizes for Tablespaces</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
<a id="ADMIN11221"></a>
<div class="props_rev_3"><a id="GUID-8C8C6435-8784-40F2-933A-7AD2E4858509"></a>
<h5 id="ADMIN-GUID-8C8C6435-8784-40F2-933A-7AD2E4858509" class="sect5"><span class="enumeration_section">6.4.3.3.1</span> Example of Setting Block and Cache Sizes</h5>
<div>
<p>An example illustrates setting block and cache sizes.</p>
<pre dir="ltr">DB_BLOCK_SIZE=4096
DB_CACHE_SIZE=1024M
DB_2K_CACHE_SIZE=256M
DB_8K_CACHE_SIZE=512M
</pre>
<pre dir="ltr"></pre>
<p>In the preceding example, the parameter <code class="codeph">DB_BLOCK_SIZE</code> sets the standard block size of the database to 4K. The size of the cache of standard block size buffers is 1024MB. Additionally, 2K and 8K caches are also configured, with sizes of 256MB and 512MB, respectively.</p>
<div class="infobox-note" id="GUID-8C8C6435-8784-40F2-933A-7AD2E4858509__GUID-C0E6600C-2409-4BDA-AB0A-EED623EA78D6">
<p class="notep1">Note:</p>
<p>The <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> parameters cannot be used to size the cache for the standard block size. If the value of <code class="codeph">DB_BLOCK_SIZE</code> is <span class="italic">n</span>K, it is invalid to set <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code>. The size of the cache for the standard block size is always determined from the value of <code class="codeph">DB_CACHE_SIZE</code>.</p>
</div>
<p>The cache has a limited size, so not all the data on disk can fit in the cache. When the cache is full, subsequent cache misses cause Oracle Database to write dirty data already in the cache to disk to make room for the new data. (If a buffer is not dirty, it does not need to be written to disk before a new block can be read into the buffer.) Subsequent access to any data that was written to disk and then overwritten results in additional cache misses.</p>
<p>The size of the cache affects the likelihood that a request for data results in a cache hit. If the cache is large, it is more likely to contain the data that is requested. Increasing the size of a cache increases the percentage of data requests that result in cache hits.</p>
<p>You can change the size of the buffer cache while the instance is running, without having to shut down the database. Do this with the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement.</p>
<p>Use the fixed view <code class="codeph">V$BUFFER_POOL</code> to track the sizes of the different cache components and any pending resize operations.</p>
</div>
</div>
<a id="ADMIN11222"></a>
<div class="props_rev_3"><a id="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26"></a>
<h5 id="ADMIN-GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26" class="sect5"><span class="enumeration_section">6.4.3.3.2</span> Multiple Buffer Pools</h5>
<div>
<p>You can configure the database buffer cache with separate buffer pools that either keep data in the buffer cache or make the buffers available for new data immediately after using the data blocks.</p>
<p>Particular schema objects (tables, clusters, indexes, and partitions) can then be assigned to the appropriate buffer pool to control the way their data blocks age out of the cache.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">KEEP</code> buffer pool retains the schema object&#39;s data blocks in memory.</p>
</li>
<li>
<p>The <code class="codeph">RECYCLE</code> buffer pool eliminates data blocks from memory as soon as they are no longer needed.</p>
</li>
<li>
<p>The <code class="codeph">DEFAULT</code> buffer pool contains data blocks from schema objects that are not assigned to any buffer pool, as well as schema objects that are explicitly assigned to the <code class="codeph">DEFAULT</code> pool.</p>
</li>
</ul>
<p>The initialization parameters that configure the <code class="codeph">KEEP</code> and <code class="codeph">RECYCLE</code> buffer pools are <code class="codeph">DB_KEEP_CACHE_SIZE</code> and <code class="codeph">DB_RECYCLE_CACHE_SIZE</code>.</p>
<div class="infobox-note" id="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26__GUID-915E81AB-E9D3-4857-92F4-EA4488039271">
<p class="notep1">Note:</p>
<p>Multiple buffer pools are only available for the standard block size. Non-standard block size caches have a single <code class="codeph">DEFAULT</code> pool.</p>
</div>
<div class="infoboxnotealso" id="GUID-663A16F9-DF59-47C7-A4AB-ADC8298C1C26__GUID-205ED62F-E9F7-4F67-878F-11DBF3A7F1CE">
<p class="notep1">See Also:</p>
<p><a class="olink TGDBA295" target="_blank" href="../TGDBA/tune_buffer_cache.htm#TGDBA295"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about tuning the buffer cache and for more information about multiple buffer pools</p>
</div>
</div>
</div>
</div>
<a id="ADMIN11223"></a>
<div class="props_rev_3"><a id="GUID-9443370C-4E61-41DD-91CD-18CB80BB4374"></a>
<h4 id="ADMIN-GUID-9443370C-4E61-41DD-91CD-18CB80BB4374" class="sect4"><span class="enumeration_section">6.4.3.4</span> Specifying the Shared Pool Size</h4>
<div>
<p>The <code class="codeph">SHARED_POOL_SIZE</code> initialization parameter is a dynamic parameter that lets you specify or adjust the size of the shared pool component of the SGA. Oracle Database selects an appropriate default value.</p>
<div class="section">
<p>In releases before Oracle Database 10<span class="italic">g</span>, the amount of shared pool memory that was allocated was equal to the value of the <code class="codeph">SHARED_POOL_SIZE</code> initialization parameter plus the amount of internal SGA overhead computed during instance startup. The internal SGA overhead refers to memory that is allocated by Oracle Database during startup, based on the values of several other initialization parameters. This memory is used to maintain state for different server components in the SGA. For example, if the <code class="codeph">SHARED_POOL_SIZE</code> parameter is set to 64MB and the internal SGA overhead is computed to be 12MB, the real size of the shared pool is 64+12=76MB, although the value of the <code class="codeph">SHARED_POOL_SIZE</code> parameter is still displayed as 64MB.</p>
<p>Starting with Oracle Database 10<span class="italic">g</span>, the size of the internal SGA overhead is included in the user-specified value of <code class="codeph">SHARED_POOL_SIZE</code>. If you are not using automatic memory management or automatic shared memory management, the amount of shared pool memory that is allocated at startup is equal to the value of the <code class="codeph">SHARED_POOL_SIZE</code> initialization parameter, rounded up to a multiple of the granule size. You must therefore set this parameter so that it includes the internal SGA overhead in addition to the desired value for shared pool size. In the previous example, if the <code class="codeph">SHARED_POOL_SIZE</code> parameter is set to 64MB at startup, then the available shared pool after startup is 64-12=52MB, assuming the value of internal SGA overhead remains unchanged. In order to maintain an effective value of 64MB for shared pool memory after startup, you must set the <code class="codeph">SHARED_POOL_SIZE</code> parameter to 64+12=76MB.</p>
<p>When migrating from a release that is earlier than Oracle Database 10<span class="italic">g</span>, the Oracle Database 12<span class="italic">c</span> migration utilities recommend a new value for this parameter based on the value of internal SGA overhead in the pre-upgrade environment and based on the old value of this parameter. Beginning with Oracle Database 10<span class="italic">g</span>, the exact value of internal SGA overhead, also known as startup overhead in the shared pool, can be queried from the <code class="codeph">V$SGAINFO</code> view. Also, in manual shared memory management mode, if the user-specified value of <code class="codeph">SHARED_POOL_SIZE</code> is too small to accommodate even the requirements of internal SGA overhead, then Oracle Database generates an <code class="codeph">ORA-00371</code> error during startup, with a suggested value to use for the <code class="codeph">SHARED_POOL_SIZE</code> parameter. When you use automatic shared memory management in Oracle Database 12<span class="italic">c</span>, the shared pool is automatically tuned, and an <code class="codeph">ORA-00371</code> error would not be generated.</p>
</div>
<!-- class="section" --></div>
<a id="ADMIN11224"></a>
<div class="props_rev_3"><a id="GUID-D2A4AA78-16D3-4E49-A337-957B027FC120"></a>
<h5 id="ADMIN-GUID-D2A4AA78-16D3-4E49-A337-957B027FC120" class="sect5"><span class="enumeration_section">6.4.3.4.1</span> The Result Cache and Shared Pool Size</h5>
<div>
<p>The result cache takes its memory from the shared pool. Therefore, if you expect to increase the maximum size of the result cache, take this into consideration when sizing the shared pool.</p>
<div class="infoboxnotealso" id="GUID-D2A4AA78-16D3-4E49-A337-957B027FC120__GUID-924B284D-2080-4E5F-AC4D-5FB9AA2015B5">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="memory.htm#GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83" title="The RESULT_CACHE_MAX_SIZE initialization parameter is a dynamic parameter that enables you to specify the maximum size of the result cache component of the SGA.">Specifying the Result Cache Maximum Size</a>&#34;</span></p>
</div>
</div>
</div>
</div>
<a id="ADMIN11225"></a>
<div class="props_rev_3"><a id="GUID-3542FC32-ADE0-4D14-9064-09B3BF0ABAE4"></a>
<h4 id="ADMIN-GUID-3542FC32-ADE0-4D14-9064-09B3BF0ABAE4" class="sect4"><span class="enumeration_section">6.4.3.5</span> Specifying the Large Pool Size</h4>
<div>
<p>The <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter is a dynamic parameter that lets you specify or adjust the size of the large pool component of the SGA.</p>
<div class="section">
<p>The large pool is an optional component of the SGA. You must specifically set the <code class="codeph">LARGE_POOL_SIZE</code> parameter to create a large pool. Configuring the large pool is discussed in <a class="olink TGDBA291" target="_blank" href="../TGDBA/memory.htm#TGDBA291"><span class="italic">Oracle Database Performance Tuning Guide</span></a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11226"></a>
<div class="props_rev_3"><a id="GUID-06540DF1-314C-408D-B896-A88C74D9459D"></a>
<h4 id="ADMIN-GUID-06540DF1-314C-408D-B896-A88C74D9459D" class="sect4"><span class="enumeration_section">6.4.3.6</span> Specifying the Java Pool Size</h4>
<div>
<p>The <code class="codeph">JAVA_POOL_SIZE</code> initialization parameter is a dynamic parameter that lets you specify or adjust the size of the Java pool component of the SGA.</p>
<div class="section">
<p>Oracle Database selects an appropriate default value. Configuration of the Java pool is discussed in <a class="olink JJDEV09200" target="_blank" href="../JJDEV/chnine.htm#JJDEV09200"><span class="italic">Oracle Database Java Developer&#39;s Guide</span></a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11227"></a>
<div class="props_rev_3"><a id="GUID-BCB75118-E325-4535-BC38-E46C2866A7DB"></a>
<h4 id="ADMIN-GUID-BCB75118-E325-4535-BC38-E46C2866A7DB" class="sect4"><span class="enumeration_section">6.4.3.7</span> Specifying the Streams Pool Size</h4>
<div>
<p>The <code class="codeph">STREAMS_POOL_SIZE</code> initialization parameter is a dynamic parameter that lets you specify or adjust the size of the Streams Pool component of the SGA.</p>
<div class="section">
<p>If <code class="codeph">STREAMS_POOL_SIZE</code> is set to 0, then the Oracle Streams product transfers memory from the buffer cache to the Streams Pool when it is needed. For details, see the discussion of the Streams Pool in <a class="olink STREP202" target="_blank" href="../STREP/prep_rep.htm#STREP202"><span class="italic">Oracle Streams Replication Administrator&#39;s Guide</span></a>.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11228"></a>
<div class="props_rev_3"><a id="GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83"></a>
<h4 id="ADMIN-GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83" class="sect4"><span class="enumeration_section">6.4.3.8</span> Specifying the Result Cache Maximum Size</h4>
<div>
<p>The <code class="codeph">RESULT_CACHE_MAX_SIZE</code> initialization parameter is a dynamic parameter that enables you to specify the maximum size of the result cache component of the SGA.</p>
<div class="section">
<p>Typically, there is no need to specify this parameter, because the default maximum size is chosen by the database based on total memory available to the SGA and on the memory management method currently in use. You can view the current default maximum size by displaying the value of the <code class="codeph">RESULT_CACHE_MAX_SIZE</code> parameter. To change this maximum size, you can set <code class="codeph">RESULT_CACHE_MAX_SIZE</code> with an <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement, or you can specify this parameter in the text initialization parameter file. In each case, the value is rounded up to the nearest multiple of 32K.</p>
<p>If <code class="codeph">RESULT_CACHE_MAX_SIZE</code> is 0 upon instance startup, the result cache is disabled. To reenable it you must set <code class="codeph">RESULT_CACHE_MAX_SIZE</code> to a nonzero value (or remove this parameter from the text initialization parameter file to get the default maximum size) and then restart the database.</p>
<p>Note that after starting the database with the result cache disabled, if you use an <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement to set <code class="codeph">RESULT_CACHE_MAX_SIZE</code> to a nonzero value but do not restart the database, querying the value of the <code class="codeph">RESULT_CACHE_MAX_SIZE</code> parameter returns a nonzero value even though the result cache is still disabled. The value of <code class="codeph">RESULT_CACHE_MAX_SIZE</code> is therefore not the most reliable way to determine if the result cache is enabled. You can use the following query instead:</p>
<pre dir="ltr">SELECT dbms_result_cache.status() FROM dual;

DBMS_RESULT_CACHE.STATUS()
---------------------------------------------
ENABLED
</pre>
<p>The result cache takes its memory from the shared pool, so if you increase the maximum result cache size, consider also increasing the shared pool size.</p>
<p>The view <code class="codeph">V$RESULT_CACHE_STATISTICS</code> and the PL/SQL package procedure <code class="codeph">DBMS_RESULT_CACHE.MEMORY_REPORT</code> display information to help you determine the amount of memory currently allocated to the result cache.</p>
<p>The PL/SQL package function <code class="codeph">DBMS_RESULT_CACHE.FLUSH</code> clears the result cache and releases all the memory back to the shared pool.</p>
<div class="infoboxnotealso" id="GUID-0EE95237-32D3-4E70-B0C9-186A5B37AD83__GUID-02097596-BF8D-4AA6-9285-EC77997B1E50">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink TGDBA631" target="_blank" href="../TGDBA/tune_result_cache.htm#TGDBA631"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for more information about the result cache</p>
</li>
<li>
<p><a class="olink ARPLS202" target="_blank" href="../ARPLS/d_result_cache.htm#ARPLS202"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_RESULT_CACHE</code> package procedures and functions.</p>
</li>
<li>
<p><a class="olink REFRN30439" target="_blank" href="../REFRN/GUID-9E89646B-102D-4211-A181-DDF96F809289.htm#REFRN30439"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$RESULT_CACHE_STATISTICS</code> view.</p>
</li>
<li>
<p><a class="olink RACAD017" target="_blank" href="../RACAD/GUID-59DEC066-5743-4EDE-9A02-E8896005F658.htm#RACAD017"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information on setting <code class="codeph">RESULT_CACHE_MAX_SIZE</code> for a cluster database.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11229"></a>
<div class="props_rev_3"><a id="GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9"></a>
<h4 id="ADMIN-GUID-0713B499-7532-4E04-8D2C-6347DCD9A0B9" class="sect4"><span class="enumeration_section">6.4.3.9</span> Specifying Miscellaneous SGA Initialization Parameters</h4>
<p>You can set a few additional initialization parameters to control how the SGA uses memory.</p>
<a id="ADMIN11230"></a>
<div class="props_rev_3"><a id="GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0"></a>
<h5 id="ADMIN-GUID-487FCEA7-F44B-4E34-9422-80F2BE242CC0" class="sect5"><span class="enumeration_section">6.4.3.9.1</span> Physical Memory</h5>
<div>
<p>The <code class="codeph">LOCK_SGA</code> parameter, when set to <code class="codeph">TRUE</code>, locks the entire SGA into physical memory.</p>
<p>This parameter cannot be used with automatic memory management.</p>
</div>
</div>
<a id="ADMIN11231"></a>
<div class="props_rev_3"><a id="GUID-B68A076F-98AD-42CC-B6C1-740713A41192"></a>
<h5 id="ADMIN-GUID-B68A076F-98AD-42CC-B6C1-740713A41192" class="sect5"><span class="enumeration_section">6.4.3.9.2</span> SGA Starting Address</h5>
<div>
<p>The <code class="codeph">SHARED_MEMORY_ADDRESS</code> and <code class="codeph">HI_SHARED_MEMORY_ADDRESS</code> parameters specify the SGA&#39;s starting address at run time.</p>
<p>These parameters are rarely used. For 64-bit platforms, <code class="codeph">HI_SHARED_MEMORY_ADDRESS</code> specifies the high order 32 bits of the 64-bit address.</p>
<div class="infoboxnotealso" id="GUID-B68A076F-98AD-42CC-B6C1-740713A41192__GUID-C7B882C8-EF2E-49D6-A221-44E4C9151964">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN10200" target="_blank" href="../REFRN/GUID-F0E8F16F-C4AE-4097-B938-8803EE1F7134.htm#REFRN10200"><span class="italic">Oracle Database Reference</span></a> for more information on the <code class="codeph">SHARED_MEMORY_ADDRESS</code> initialization parameter</p>
</li>
<li>
<p><a class="olink REFRN10068" target="_blank" href="../REFRN/GUID-A745B9EC-26F6-444A-AA48-8EB6CBB5494B.htm#REFRN10068"><span class="italic">Oracle Database Reference</span></a> for more information on the <code class="codeph">HI_SHARED_MEMORY_ADDRESS</code> initialization parameter</p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="You can allow the Oracle Database instance to automatically manage and tune memory for you.">Using Automatic Memory Management</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="Automatic Shared Memory Management simplifies SGA memory management.">Using Automatic Shared Memory Management</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11232"></a>
<div class="props_rev_3"><a id="GUID-3F1D070D-20A1-40D1-9AA3-744D2A290148"></a>
<h5 id="ADMIN-GUID-3F1D070D-20A1-40D1-9AA3-744D2A290148" class="sect5"><span class="enumeration_section">6.4.3.9.3</span> Extended Buffer Cache Mechanism</h5>
<div>
<p>The <code class="codeph">USE_INDIRECT_DATA_BUFFERS</code> parameter enables the use of the extended buffer cache mechanism for 32-bit platforms that can support more than 4 GB of physical memory. On platforms that do not support this much physical memory, this parameter is ignored. This parameter cannot be used with automatic memory management or automatic shared memory management.</p>
<div class="infoboxnotealso" id="GUID-3F1D070D-20A1-40D1-9AA3-744D2A290148__GUID-C7B882C8-EF2E-49D6-A221-44E4C9151964">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for more information on these initialization parameters</p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="You can allow the Oracle Database instance to automatically manage and tune memory for you.">Using Automatic Memory Management</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-3CEA1AB5-4850-4064-9823-F62C500A579F" title="Automatic Shared Memory Management simplifies SGA memory management.">Using Automatic Shared Memory Management</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="ADMIN11233"></a>
<div class="props_rev_3"><a id="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78"></a>
<h3 id="ADMIN-GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78" class="sect3"><span class="enumeration_section">6.4.4</span> Using Automatic PGA Memory Management</h3>
<div>
<p>By default, Oracle Database automatically and globally manages the total amount of memory dedicated to the instance PGA. You can control this amount by setting the initialization parameter <code class="codeph">PGA_AGGREGATE_TARGET</code>.</p>
<div class="section">
<p>Oracle Database then tries to ensure that the total amount of PGA memory allocated across all database server processes and background processes never exceeds this target.</p>
<p>If you create your database with DBCA, you can specify a value for the total instance PGA. DBCA then sets the <code class="codeph">PGA_AGGREGATE_TARGET</code> initialization parameters in the server parameter file (<code class="codeph">SPFILE</code>) that it creates. If you do not specify the total instance PGA, DBCA chooses a reasonable default.</p>
<p>If you create the database with the <code class="codeph">CREATE DATABASE</code> SQL statement and a text initialization parameter file, you can provide a value for <code class="codeph">PGA_AGGREGATE_TARGET</code>. If you omit this parameter, the database chooses a default value for it.</p>
<p>With automatic PGA memory management, sizing of SQL work areas is automatic and all <code class="codeph">*_AREA_SIZE</code> initialization parameters are ignored. At any given time, the total amount of PGA memory available to active work areas on the instance is automatically derived from the parameter <code class="codeph">PGA_AGGREGATE_TARGET</code>. This amount is set to the value of <code class="codeph">PGA_AGGREGATE_TARGET</code> minus the PGA memory allocated for other purposes (for example, session memory). The resulting PGA memory is then allotted to individual active work areas based on their specific memory requirements.</p>
<p>There are dynamic performance views that provide PGA memory use statistics. Most of these statistics are enabled when <code class="codeph">PGA_AGGREGATE_TARGET</code> is set.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Statistics on allocation and use of work area memory can be viewed in the following dynamic performance views:</p>
</li>
</ul>
<ul class="simple" style="list-style-type: none;padding-left:0;">
<li><code class="codeph">V$SYSSTAT</code></li>
<li><code class="codeph">V$SESSTAT</code></li>
<li><code class="codeph">V$PGASTAT</code></li>
<li><code class="codeph">V$SQL_WORKAREA</code></li>
<li><code class="codeph">V$SQL_WORKAREA_ACTIVE</code></li>
</ul>
<ul style="list-style-type: disc;">
<li>
<p>The following three columns in the <code class="codeph">V$PROCESS</code> view report the PGA memory allocated and used by an Oracle Database process:</p>
</li>
</ul>
<ul class="simple" style="list-style-type: none;padding-left:0;">
<li><code class="codeph">PGA_USED_MEM</code></li>
<li><code class="codeph">PGA_ALLOC_MEM</code></li>
<li><code class="codeph">PGA_MAX_MEM</code></li>
</ul>
<p>The <code class="codeph">PGA_AGGREGATE_TARGET</code> setting is a target. Therefore, Oracle Database tries to limit PGA memory usage to the target, but usage can exceed the setting at times. To specify a hard limit on PGA memory usage, use the <code class="codeph">PGA_AGGREGATE_LIMIT</code> initialization parameter. Oracle Database ensures that the PGA size does not exceed this limit. If the database exceeds the limit, then the database aborts calls from sessions that have the highest untunable PGA memory allocations. You can set <code class="codeph">PGA_AGGREGATE_LIMIT</code> whether or not you use automatic memory management. If <code class="codeph">PGA_AGGREGATE_LIMIT</code> is not set, then Oracle Database determines an appropriate default limit. See <a class="olink REFRN10328" target="_blank" href="../REFRN/GUID-E364D0E5-19F2-4081-B55E-131DF09CFDB3.htm#REFRN10328"><span class="italic">Oracle Database Reference</span></a> for more information about this parameter.</p>
<div class="infobox-note" id="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78__GUID-870EAAE7-0814-4182-8AA8-3A5D16D47CDD">
<p class="notep1">Note:</p>
<p>The automatic PGA memory management method applies to work areas allocated by both dedicated and shared server process. See <a class="olink CNCPT1243" target="_blank" href="../CNCPT/memory.htm#CNCPT1243"><span class="italic">Oracle Database Concepts</span></a> for information about PGA memory allocation in dedicated and shared server modes.</p>
</div>
<div class="infoboxnotealso" id="GUID-2B2581E8-DFD7-4FA0-9C2A-86E485235B78__GUID-7CC141A0-E86C-4EFB-B62F-A59C96DF19F1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for information about the initialization parameters and views described in this section</p>
</li>
<li>
<p><a class="olink TGDBA470" target="_blank" href="../TGDBA/tune_pga.htm#TGDBA470"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about using the views described in this section</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11234"></a>
<div class="props_rev_3"><a id="GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7"></a>
<h3 id="ADMIN-GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7" class="sect3"><span class="enumeration_section">6.4.5</span> Using Manual PGA Memory Management</h3>
<div>
<p>Oracle Database supports manual PGA memory management, in which you manually tune SQL work areas.</p>
<div class="section">
<p>In releases earlier than Oracle Database 10<span class="italic">g</span>, the database administrator controlled the maximum size of SQL work areas by setting the following parameters: <code class="codeph">SORT_AREA_SIZE</code>, <code class="codeph">HASH_AREA_SIZE</code>, <code class="codeph">BITMAP_MERGE_AREA_SIZE</code> and <code class="codeph">CREATE_BITMAP_AREA_SIZE</code>. Setting these parameters is difficult, because the maximum work area size is ideally selected from the data input size and the total number of work areas active in the system. These two factors vary greatly from one work area to another and from one time to another. Thus, the various <code class="codeph">*_AREA_SIZE</code> parameters are difficult to tune under the best of circumstances.</p>
<p>For this reason, Oracle strongly recommends that you leave automatic PGA memory management enabled.</p>
<p>If you decide to tune SQL work areas manually, you must set the <code class="codeph">WORKAREA_SIZE_POLICY</code> initialization parameter to <code class="codeph">MANUAL</code>.</p>
<div class="infobox-note" id="GUID-8D7FC70A-56D8-4CA1-9F74-592F04172EA7__GUID-BFFFF430-8BF2-4CBD-AE09-9A3002D972EC">
<p class="notep1">Note:</p>
<p>The initialization parameter <code class="codeph">WORKAREA_SIZE_POLICY</code> is a session- and system-level parameter that can take only two values: <code class="codeph">MANUAL</code> or <code class="codeph">AUTO</code>. The default is <code class="codeph">AUTO</code>. You can set <code class="codeph">PGA_AGGREGATE_TARGET</code>, and then switch back and forth from auto to manual memory management mode. When <code class="codeph">WORKAREA_SIZE_POLICY</code> is set to <code class="codeph">AUTO</code>, your settings for <code class="codeph">*_AREA_SIZE</code> parameters are ignored.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN14235"></a>
<div class="props_rev_3"><a id="GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F"></a>
<h2 id="ADMIN-GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" class="sect2"><span class="enumeration_section">6.5</span> Using Force Full Database Caching Mode</h2>
<div>
<p>An Oracle Database instance can cache the full database in the buffer cache.</p>
<div class="infobox-note" id="GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F__GUID-C3331808-DF0E-47B0-B410-CC2BC2470CD8">
<p class="notep1">Note:</p>
<p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</p>
</div>
</div>
<a id="ADMIN14236"></a>
<div class="props_rev_3"><a id="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9"></a>
<h3 id="ADMIN-GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9" class="sect3"><span class="enumeration_section">6.5.1</span> About Force Full Database Caching Mode</h3>
<div>
<p>In default caching mode, Oracle Database does not always cache the underlying data when a user queries a large table because doing so might remove more useful data from the buffer cache. Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), if the Oracle Database instance determines that there is enough space to cache the full database in the buffer cache and that it would be beneficial to do so, then the instance automatically caches the full database in the buffer cache.</p>
<p>Caching the full database in the buffer cache might result in performance improvements. You can force an instance to cache the database in the buffer cache using an <code class="codeph">ALTER DATABASE FORCE FULL DATABASE CACHING</code> statement. This statement puts the instance in force full database caching mode. In this mode, Oracle Database assumes that the buffer cache is large enough to cache the full database and tries to cache all blocks that are accessed subsequently.</p>
<p>When an Oracle Database instance is in force full database caching mode, the following query returns <code class="codeph">YES</code>:</p>
<pre dir="ltr">SELECT FORCE_FULL_DB_CACHING FROM V$DATABASE;
</pre>
<p>When an instance is in default caching mode, <code class="codeph">NOCACHE</code> LOBs are not cached in the buffer cache. However, when an instance is in force full database caching mode, <code class="codeph">NOCACHE</code> LOBs can be cached in the buffer cache. Also, both LOBs that use SecureFiles LOB storage and LOBs that use BasicFiles LOB storage can be cached in the buffer cache in force full database caching mode only.</p>
<div class="infobox-note" id="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9__GUID-8A3FCD29-7823-47FB-ACA7-7E0756A21245">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>When an instance is put in force full database caching mode, database objects are not loaded into the buffer cache immediately. Instead, they are cached in the buffer cache when they are accessed.</p>
</li>
<li>
<p>In a multitenant environment, force full database caching mode applies to the entire multitenant container database (CDB), including all of its pluggable databases (PDBs).</p>
</li>
<li>
<p>Information about force full database caching mode is stored in the control file. If the control file is replaced or recreated, then the information about the force full database caching mode is lost. A restored control file might or might not include this information, depending on when the control file was backed up.</p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-9FF68862-BAF0-4D30-A154-D80E3DEDC4B9__GUID-35383769-C645-4F21-BEF9-EF43A409E3FF">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="part_cdb.htm#GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" title="You can manage a multitenant environment.">Managing a Multitenant Environment</a></p>
</li>
<li>
<p><a href="control.htm#GUID-5F6F9382-6921-4992-9789-E63B18E99C5F" title="You can create, back up, and drop control files.">Managing Control Files</a></p>
</li>
<li>
<p><a class="olink TGDBA95388" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=TGDBA95388"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about when to use force full database caching mode</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN14327"></a>
<div class="props_rev_3"><a id="GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E"></a>
<h3 id="ADMIN-GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E" class="sect3"><span class="enumeration_section">6.5.2</span> Before Enabling Force Full Database Caching Mode</h3>
<div>
<p>The database must be at 12.0.0 or higher compatibility level to enable force full database caching mode for the database instance. In addition, ensure that the buffer cache is large enough to cache the entire database.</p>
<p>When a database is configured to use the <code class="codeph">SGA_TARGET</code> or <code class="codeph">MEMORY_TARGET</code> initialization parameter for automatic memory management, the size of the buffer cache might change depending on the workload. Run the following query to estimate the buffer cache size when the instance is under normal workload:</p>
<pre dir="ltr">SELECT NAME, BYTES FROM V$SGAINFO WHERE NAME=&#39;Buffer Cache Size&#39;;
</pre>
<p>This query returns the buffer cache size for all possible block sizes. If your database uses multiple block sizes, then it is best to ensure that the buffer cache size for each possible block size is bigger than the total database size for that block size.</p>
<p>You can determine the buffer cache size for non-default block sizes with the <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> initialization parameter. With <code class="codeph">SGA_TARGET</code> or <code class="codeph">MEMORY_TARGET</code>, the buffer cache size for the default block size in the default pool might change depending on the workload. The following query returns the current buffer cache size for the default block size in the default pool:</p>
<pre dir="ltr">SELECT COMPONENT, CURRENT_SIZE FROM V$SGA_DYNAMIC_COMPONENTS 
   WHERE COMPONENT LIKE &#39;DEFAULT buffer cache&#39;;
</pre>
<p>If you are estimating memory requirements for running a database fully in the buffer cache, then you can estimate the size of the buffer cache as one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you plan to use <code class="codeph">SGA_TARGET</code>, then you can estimate the buffer cache size as 60% of <code class="codeph">SGA_TARGET</code>.</p>
</li>
<li>
<p>If you plan to use <code class="codeph">MEMORY_TARGET</code>, then you can estimate the SGA size as 60% of <code class="codeph">MEMORY_TARGET</code>, and buffer cache size as 60% of SGA size. That is, you can estimate the buffer cache size as 36% of <code class="codeph">MEMORY_TARGET</code>.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-C1ED8A97-254A-44E8-B33A-FC3F9E3D406E__GUID-9B92335F-DEAA-4B6B-A016-2930D471966C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="memory.htm#GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" title="You can allow the Oracle Database instance to automatically manage and tune memory for you.">Using Automatic Memory Management</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN14237"></a>
<div class="props_rev_3"><a id="GUID-3BA728CF-55F8-4592-B2CD-452116D1F91F"></a>
<h3 id="ADMIN-GUID-3BA728CF-55F8-4592-B2CD-452116D1F91F" class="sect3"><span class="enumeration_section">6.5.3</span> Enabling Force Full Database Caching Mode</h3>
<div>
<p>You can enable force full database caching mode for a database.</p>
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Connect to the instance as a user with <code class="codeph">ALTER DATABASE</code> system privilege.</span></li>
<li class="stepexpand"><span>Ensure that the database is mounted but not open.</span>
<div>
<p>See <span class="q">&#34;<a href="start.htm#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" title="You can start an instance and mount a database without opening it, allowing you to perform specific maintenance operations.">Starting an Instance and Mounting a Database</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Issue the following SQL statement:</span>
<div>
<pre dir="ltr">ALTER DATABASE FORCE FULL DATABASE CACHING;
</pre></div>
</li>
<li class="stepexpand"><span>(Optional) Open the database:</span>
<div>
<pre dir="ltr">ALTER DATABASE OPEN;
</pre></div>
</li>
</ol>
</div>
</div>
<a id="ADMIN14265"></a>
<div class="props_rev_3"><a id="GUID-9B9B25A7-D4F3-4BFA-8F83-B473BD52B6D4"></a>
<h3 id="ADMIN-GUID-9B9B25A7-D4F3-4BFA-8F83-B473BD52B6D4" class="sect3"><span class="enumeration_section">6.5.4</span> Disabling Force Full Database Caching Mode</h3>
<div>
<p>You can disable force full database caching mode for a database.</p>
<div class="section"></div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Connect to the instance as a user with <code class="codeph">ALTER DATABASE</code> system privilege.</span></li>
<li class="stepexpand"><span>Ensure that the database is mounted but not open.</span>
<div>
<p>See <span class="q">&#34;<a href="start.htm#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" title="You can start an instance and mount a database without opening it, allowing you to perform specific maintenance operations.">Starting an Instance and Mounting a Database</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Issue the following SQL statement:</span>
<div>
<pre dir="ltr">ALTER DATABASE NO FORCE FULL DATABASE CACHING;
</pre></div>
</li>
<li class="stepexpand"><span>(Optional) Open the database:</span>
<div>
<pre dir="ltr">ALTER DATABASE OPEN;
</pre></div>
</li>
</ol>
</div>
</div>
</div>
<a id="ADMIN13391"></a>
<div class="props_rev_3"><a id="GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A"></a>
<h2 id="ADMIN-GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A" class="sect2"><span class="enumeration_section">6.6</span> Configuring Database Smart Flash Cache</h2>
<div>
<p>The Database Smart Flash Cache feature is a transparent extension of the database buffer cache using solid state device (SSD) technology. Database Smart Flash Cache can greatly improve the performance of Oracle databases by reducing the amount of disk I/O at a much lower cost than adding an equivalent amount of RAM.</p>
<div class="infoboxnotealso" id="GUID-31E0885D-53DB-442D-BC5F-DDE0588C915A__GUID-D5F83007-FF8A-41E0-AA9A-448D5F8C0793">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="memory.htm#GUID-24312D78-522D-4C08-8934-820BE18D34C7" title="Understand basic memory structures associated with Oracle Database.">Memory Architecture Overview</a>&#34;</span> for a description of Database Smart Flash Cache</p>
</div>
</div>
<a id="ADMIN13392"></a>
<div class="props_rev_3"><a id="GUID-ECBF51C2-1777-4714-A509-0E75A19EB061"></a>
<h3 id="ADMIN-GUID-ECBF51C2-1777-4714-A509-0E75A19EB061" class="sect3"><span class="enumeration_section">6.6.1</span> When to Configure Database Smart Flash Cache</h3>
<div>
<p>You should consider configuring Database Smart Flash Cache when certain conditions are met.</p>
<p>Consider adding Database Smart Flash Cache when all of the following conditions are true:</p>
<ul style="list-style-type: disc;">
<li>
<p>Your database is running on the Solaris or Oracle Linux operating systems. Database Smart Flash Cache is supported on these operating systems only.</p>
</li>
<li>
<p>The Buffer Pool Advisory section of your Automatic Workload Repository (AWR) report or STATSPACK report indicates that doubling the size of the buffer cache would be beneficial.</p>
</li>
<li>
<p><code class="codeph">db</code> <code class="codeph">file</code> <code class="codeph">sequential</code> <code class="codeph">read</code> is a top wait event.</p>
</li>
<li>
<p>You have spare CPU.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-ECBF51C2-1777-4714-A509-0E75A19EB061__GUID-493AD4D1-0560-45F9-98D4-40B8E436D31F">
<p class="notep1">Note:</p>
<p>You cannot share one flash file among multiple instances. However, you can share a single flash device among multiple instances if you use a logical volume manager or similar tool to statically partition the flash device.</p>
</div>
</div>
</div>
<a id="ADMIN13393"></a>
<div class="props_rev_3"><a id="GUID-E99AE68E-1165-4F9F-AA80-002227073655"></a>
<h3 id="ADMIN-GUID-E99AE68E-1165-4F9F-AA80-002227073655" class="sect3"><span class="enumeration_section">6.6.2</span> Sizing Database Smart Flash Cache</h3>
<div>
<p>As a general rule, size Database Smart Flash Cache to be between 2 times and 10 times the size of the buffer cache.</p>
<p>Any multiplier less than two would not provide any benefit. If you are using automatic shared memory management, make Database Smart Flash Cache between 2 times and 10 times the size of <code class="codeph">SGA_TARGET</code>. Using 80% of the size of <code class="codeph">SGA_TARGET</code> instead of the full size would also suffice for this calculation.</p>
</div>
</div>
<a id="ADMIN13394"></a>
<div class="props_rev_3"><a id="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352"></a>
<h3 id="ADMIN-GUID-683DB014-8B94-49A7-B25F-DE374DF0E352" class="sect3"><span class="enumeration_section">6.6.3</span> Tuning Memory for Database Smart Flash Cache</h3>
<div>
<p>For each database block moved from the buffer cache to Database Smart Flash Cache, a small amount of metadata about the block is kept in the buffer cache.</p>
<div class="section">
<p>For a single instance database, the metadata consumes approximately 100 bytes. For an Oracle Real Application Clusters (Oracle RAC) database, it is closer to 200 bytes. You must therefore take this extra memory requirement into account when adding Database Smart Flash Cache.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To tune memory for the Database Smart Flash Cache, complete one of the following actions:</p>
<ul style="list-style-type: disc;">
<li>
<p>If you are managing memory manually, then increase the size of the buffer cache by an amount approximately equal to the number of database blocks that fit into the Database Smart Flash Cache as configured, multiplied by 100 (or 200 for Oracle RAC).</p>
</li>
<li>
<p>If you are using automatic memory management, then increase the size of <code class="codeph">MEMORY_TARGET</code> using the algorithm described above. You may first have to increase the size of <code class="codeph">MEMORY_MAX_TARGET</code>.</p>
</li>
<li>
<p>If you are using automatic shared memory management, then increase the size of <code class="codeph">SGA_TARGET</code>.</p>
</li>
</ul>
<p>Also, for an Oracle RAC database that uses the flash cache, additional memory must be allocated to the shared pool for Global Cache Service (GCS) resources. Each GCS resource requires approximately 208 bytes in the shared pool.</p>
<div class="infobox-note" id="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352__GUID-28A8776D-42B0-4587-94EC-16039CB3FF0E">
<p class="notep1">Note:</p>
<p>You can choose to not increase the buffer cache size to account for Database Smart Flash Cache. In this case, the effective size of the buffer cache is reduced. In some cases, you can offset this loss by using a larger Database Smart Flash Cache.</p>
</div>
<div class="infoboxnotealso" id="GUID-683DB014-8B94-49A7-B25F-DE374DF0E352__GUID-7C210DBF-A5E2-4952-A27A-CB68EA88E106">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="memory.htm#GUID-04EFED7D-D1F1-43C3-B78F-0FF9AFAC02B0" title="The memory structures that must be managed are the system global area (SGA) and the instance program global area (instance PGA). Oracle Database supports various memory management methods, which are chosen by initialization parameter settings. Oracle recommends that you enable the method known as automatic memory management.">About Memory Management</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13396"></a><a id="ADMIN13395"></a>
<div class="props_rev_3"><a id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2"></a>
<h3 id="ADMIN-GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2" class="sect3"><span class="enumeration_section">6.6.4</span> Database Smart Flash Cache Initialization Parameters</h3>
<div>
<p>You can use a set of initialization parameters to configure Database Smart Flash Cache.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2__BABDCJAF">
<p class="titleintable">Table 6-4 Database Smart Flash Cache Initialization Parameters</p>
<table class="cellalignment1849" title="Database Smart Flash Cache Initialization Parameters" summary="This table contains two columns: Parameter and Description. It describes the two initialization parameters required to configure flash cache">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1887" id="d78352e5450">Parameter</th>
<th class="cellalignment1888" id="d78352e5453">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d78352e5458" headers="d78352e5450">
<p><code class="codeph">DB_FLASH_CACHE_FILE</code></p>
</td>
<td class="cellalignment1890" headers="d78352e5458 d78352e5453">
<p>Specifies a list of paths and file names for the files to contain Database Smart Flash Cache, in either the operating system file system or an Oracle Automatic Storage Management disk group. If a specified file does not exist, then the database creates it during startup. Each file must reside on a flash device. If you configure Database Smart Flash Cache on a disk drive (spindle), then performance may suffer. A maximum of 16 files is supported.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d78352e5466" headers="d78352e5450">
<p><code class="codeph">DB_FLASH_CACHE_SIZE</code></p>
</td>
<td class="cellalignment1890" headers="d78352e5466 d78352e5453">
<p>Specifies the size of each file in your Database Smart Flash Cache. Each size corresponds with a file specified in <code class="codeph">DB_FLASH_CACHE_FILE</code>. The files and sizes correspond in the order that they are specified. An error is raised if the number of specified sizes does not match the number of specified files.</p>
<p>Each size specification must be less than or equal to the physical memory size of its flash device. The size is expressed as <span class="italic">n</span>G, indicating the number of gigabytes (GB). For example, to specify a 16 GB Database Smart Flash Cache, set <code class="codeph">DB_FLASH_CACHE_SIZE</code> value to <code class="codeph">16G</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>For example, assume that your Database Smart Flash Cache uses following flash devices:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2__GUID-ADB042C1-E656-466A-8FE8-E75277B61F65">
<table class="cellalignment1849" summary="This table lists the file and the size for each flash raw device.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1883" id="d78352e5498">File</th>
<th class="cellalignment1883" id="d78352e5501">Size</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1886" id="d78352e5506" headers="d78352e5498">
<p>/dev/sda</p>
</td>
<td class="cellalignment1886" headers="d78352e5506 d78352e5501">
<p>32G</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1886" id="d78352e5513" headers="d78352e5498">
<p>/dev/sdb</p>
</td>
<td class="cellalignment1886" headers="d78352e5513 d78352e5501">
<p>32G</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1886" id="d78352e5520" headers="d78352e5498">
<p>/dev/sdc</p>
</td>
<td class="cellalignment1886" headers="d78352e5520 d78352e5501">
<p>64G</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>You can set the initialization parameters to the following values:</p>
<pre dir="ltr">DB_FLASH_CACHE_FILE = /dev/sda, /dev/sdb, /dev/sdc

DB_FLASH_CACHE_SIZE = 32G, 32G, 64G
</pre>
<p>You can query the <code class="codeph">V$FLASHFILESTAT</code> view to determine the cumulative latency and read counts of each file and compute the average latency.</p>
<p>You can use <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> to set <code class="codeph">DB_FLASH_CACHE_SIZE</code> to zero for each flash device you wish to disable. You can also use <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> to set the size for any disabled flash device back to its original size to reenable it. However, dynamically changing the size of Database Smart Flash Cache is not supported.</p>
<div class="infoboxnotealso" id="GUID-AA1EDDB2-203B-43DA-84D5-73FD7DF3ECE2__GUID-2F42B34D-B5C7-401D-8968-718699A99521">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for more information about the initialization parameters described in this section and for more information about the <code class="codeph">V$FLASHFILESTAT</code> view</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13397"></a>
<div class="props_rev_3"><a id="GUID-DD34BE6F-4EDE-482D-8F75-7D786F2701AB"></a>
<h3 id="ADMIN-GUID-DD34BE6F-4EDE-482D-8F75-7D786F2701AB" class="sect3"><span class="enumeration_section">6.6.5</span> Database Smart Flash Cache in an Oracle Real Applications Clusters Environment</h3>
<p>Oracle recommends that you configure a Database Smart Flash Cache on either all or none of the instances in an Oracle Real Application Clusters environment. Also, the total flash cache size configured on each instance should be approximately the same.</p>
</div>
</div>
<a id="ADMIN14257"></a>
<div class="props_rev_3"><a id="GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7"></a>
<h2 id="ADMIN-GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7" class="sect2"><span class="enumeration_section">6.7</span> Using the In-Memory Column Store</h2>
<div>
<p>The In-Memory Column Store (IM column store) is an optional portion of the system global area (SGA) that stores copies of tables, table partitions, and other database objects. In the IM column store, data is populated by column rather than row as it is in other parts of the SGA, and data is optimized for rapid scans. The IM column store is included with the Oracle Database In-Memory option.</p>
<div class="infobox-note" id="GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7__GUID-7A287283-7CB3-41EA-84CC-EB73A6754650">
<p class="notep1">Note:</p>
<p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</p>
</div>
<div class="infoboxnotealso" id="GUID-BFA53515-7643-41E5-A296-654AB4A9F9E7__GUID-1AEF8F6F-9289-4EC8-A268-D7FC847AF59E">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT89659" target="_blank" href="../CNCPT/memory.htm#CNCPT89659"><span class="italic">Oracle Database Concepts</span></a></p>
</div>
</div>
<a id="ADMIN14239"></a>
<div class="props_rev_3"><a id="GUID-4D7DF329-6C4F-4717-8A79-386D33BB773C"></a>
<h3 id="ADMIN-GUID-4D7DF329-6C4F-4717-8A79-386D33BB773C" class="sect3"><span class="enumeration_section">6.7.1</span> About the IM Column Store</h3>
<p>You can choose from various compression methods and data population options for the IM column store.</p>
<a id="ADMIN14293"></a>
<div class="props_rev_3"><a id="GUID-FF2499C5-C582-496A-B547-CFE49C84185E"></a>
<h4 id="ADMIN-GUID-FF2499C5-C582-496A-B547-CFE49C84185E" class="sect4"><span class="enumeration_section">6.7.1.1</span> Overview of the IM Column Store</h4>
<div>
<p>The IM column store is a new static pool in the SGA. Data in the IM column store does not reside in the traditional row format but instead in a columnar format. Each column is stored as a separate structure. The IM column store does not replace the buffer cache, but acts as a supplement, so that data can be stored in memory in both row and columnar formats.</p>
<p>To enable the IM column store, the <code class="codeph">INMEMORY_SIZE</code> initialization parameter must be set to a non-zero value.</p>
<div class="video-box">
<div xmlns="" id="9365" class="video-container"></div>
</div>
<p>You can enable the IM column store at any of the following levels:</p>
<ul style="list-style-type: disc;">
<li>
<p>Column</p>
</li>
<li>
<p>Table</p>
</li>
<li>
<p>Materialized view</p>
</li>
<li>
<p>Tablespace</p>
</li>
<li>
<p>Partition</p>
</li>
</ul>
<p>If it is enabled at the tablespace level, then all tables and materialized views in the tablespace are enabled for the IM column store by default. You can populate all of a database object&#39;s columns in the IM column store or a subset of the database object&#39;s columns. Similarly, for a partitioned table or materialized view, you can populate all of the partitions in the IM column store or a subset of the partitions.</p>
<div class="video-box">
<div xmlns="" id="9370" class="video-container"></div>
</div>
<p>Storing a database object in the IM column store can improve performance significantly for the following types of operations performed on the database object:</p>
<ul style="list-style-type: disc;">
<li>
<p>A query that scans a large number of rows and applies filters that use operators such as the following: <code class="codeph">=</code>, <code class="codeph">&lt;</code>, <code class="codeph">&gt;</code>, and <code class="codeph">IN</code></p>
</li>
<li>
<p>A query that selects a small number of columns from a table or materialized view with a large number of columns, such as a query that selects five columns from a table with 100 columns</p>
</li>
<li>
<p>A query that joins a small table to a large table</p>
</li>
<li>
<p>A query that aggregates data</p>
</li>
</ul>
<div class="video-box">
<div xmlns="" id="9371" class="video-container"></div>
</div>
<p>Typically, multi-column indexes are created to improve the performance of analytic and reporting queries. These indexes can impede the performance of data manipulation language (DML) statements. When a database object is populated in the IM column store, indexes used for analytic or reporting queries can be reduced or eliminated without affecting query performance. Eliminating these indexes can improve the performance of transactions and data loading operations.</p>
<p>You enable database objects for the IM column store by including an <code class="codeph">INMEMORY</code> clause in the following SQL statements:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CREATE TABLE</code></p>
</li>
<li>
<p><code class="codeph">ALTER TABLE</code></p>
</li>
<li>
<p><code class="codeph">CREATE TABLESPACE</code></p>
</li>
<li>
<p><code class="codeph">ALTER TABLESPACE</code></p>
</li>
<li>
<p><code class="codeph">CREATE MATERIALIZED VIEW</code></p>
</li>
<li>
<p><code class="codeph">ALTER MATERIALIZED VIEW</code></p>
</li>
</ul>
<p>To determine which database objects are populated in the IM column store currently, run the following query on the <code class="codeph">V$IM_SEGMENTS</code> view:</p>
<pre dir="ltr">SELECT OWNER, SEGMENT_NAME, INMEMORY_PRIORITY, INMEMORY_COMPRESSION 
   FROM V$IM_SEGMENTS;
</pre>
<div class="infobox-note" id="GUID-FF2499C5-C582-496A-B547-CFE49C84185E__GUID-FCA31365-ED15-4E77-A2F7-3DA5118D0084">
<p class="notep1">Note:</p>
<p>A database object that is enabled for the IM column store might not be populated in it. Therefore, such a database object might not appear in the results for this query. However, you can increase the priority level to increase the likelihood that the database object is populated the IM column store. See <span class="q">&#34;<a href="memory.htm#GUID-B37DCA18-7CDA-425A-883B-036B70714F85" title="When you enable a database object for the IM column store, you can either let Oracle Database control when the database object&#39;s data is populated in the IM column store (default), or you can specify a priority level that determines the priority of the database object in the population queue.">IM Column Store Data Population Options</a>&#34;</span>. Other views, such as the <code class="codeph">DBA_TABLES</code> view, show candidates for the IM column store.</p>
</div>
<p>The IM column store does not improve performance for the following types of operations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Queries with complex predicates</p>
</li>
<li>
<p>Queries that select a large number of columns</p>
</li>
<li>
<p>Queries that return a large number of rows</p>
</li>
<li>
<p>Queries with multiple large table joins</p>
</li>
</ul>
<p>Also, a database object cannot be populated in the IM column store if it is owned by the <code class="codeph">SYS</code> user and it is stored in the <code class="codeph">SYSTEM</code> or <code class="codeph">SYSAUX</code> tablespace.</p>
<div class="infoboxnotealso" id="GUID-FF2499C5-C582-496A-B547-CFE49C84185E__GUID-04EA2B91-8649-480B-8F3F-ABE6D406FCD1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE" title="A set of initialization parameters are related to the IM column store.">Initialization Parameters Related to the IM Column Store</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="memory.htm#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables, tablespaces, or materialized views can be enabled for the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>&#34;</span></p>
</li>
<li>
<p><a class="olink CNCPT89659" target="_blank" href="../CNCPT/memory.htm#CNCPT89659"><span class="italic">Oracle Database Concepts</span></a></p>
</li>
<li>
<p><a class="olink SQLRF56871" target="_blank" href="../SQLRF/statements_6004.htm#SQLRF56871"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">INMEMORY</code> clause</p>
</li>
<li>
<p><a class="olink RACAD8951" target="_blank" href="../RACAD/GUID-63748559-8BC8-473C-BE6E-453DD38ED9A3.htm#RACAD8951"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about the IM column store and Oracle RAC</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN14219"></a><a id="ADMIN14218"></a>
<div class="props_rev_3"><a id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4"></a>
<h4 id="ADMIN-GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" class="sect4"><span class="enumeration_section">6.7.1.2</span> IM Column Store Compression Methods</h4>
<div>
<p>In the IM column store, data can be compressed, and SQL queries execute directly on compressed data.</p>
<div class="section">
<div class="video-box">
<div xmlns="" id="9369" class="video-container"></div>
</div>
<p><a href="memory.htm#GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__BABIHHDA" title="This table describes the types of in-memory table compression. It has the following columns: In-Memory Compression Method, CREATE/ALTER Table Syntax, and Description">Table 6-5</a> summarizes the data compression methods supported in the IM column store.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__BABIHHDA">
<p class="titleintable">Table 6-5 IM Column Store Compression Methods</p>
<table class="cellalignment1880" title="IM Column Store Compression Methods" summary="This table describes the types of in-memory table compression. It has the following columns: In-Memory Compression Method, CREATE/ALTER Table Syntax, and Description">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1935" id="d78352e6087">CREATE/ALTER Syntax</th>
<th class="cellalignment1936" id="d78352e6090">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1937" id="d78352e6095" headers="d78352e6087">
<p><code class="codeph">NO MEMCOMPRESS</code></p>
</td>
<td class="cellalignment1938" headers="d78352e6095 d78352e6090">
<p>The data is not compressed.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1937" id="d78352e6103" headers="d78352e6087">
<p><code class="codeph">MEMCOMPRESS FOR DML</code></p>
</td>
<td class="cellalignment1938" headers="d78352e6103 d78352e6090">
<p>This method optimizes the data for DML operations and compresses IM column store data the least (excluding <code class="codeph">NO MEMCOMPRESS</code>).</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1937" id="d78352e6114" headers="d78352e6087">
<p><code class="codeph">MEMCOMPRESS FOR QUERY LOW</code></p>
</td>
<td class="cellalignment1938" headers="d78352e6114 d78352e6090">
<p>This method results in the best query performance.</p>
<p>This method compresses IM column store data more than <code class="codeph">MEMCOMPRESS FOR DML</code> but less than <code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code>.</p>
<p>This method is the default when the <code class="codeph">INMEMORY</code> clause is specified without a compression method in a <code class="codeph">CREATE</code> or <code class="codeph">ALTER</code> SQL statement or when <code class="codeph">MEMCOMPRESS FOR QUERY</code> is specified without including either <code class="codeph">LOW</code> or <code class="codeph">HIGH</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1937" id="d78352e6151" headers="d78352e6087">
<p><code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code></p>
</td>
<td class="cellalignment1938" headers="d78352e6151 d78352e6090">
<p>This method results in excellent query performance.</p>
<p>This method compresses IM column store data more than <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code> but less than <code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1937" id="d78352e6167" headers="d78352e6087">
<p><code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code></p>
</td>
<td class="cellalignment1938" headers="d78352e6167 d78352e6090">
<p>This method results in good query performance.</p>
<p>This method compresses IM column store data more than <code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code> but less than <code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code>.</p>
<p>This method is the default when <code class="codeph">MEMCOMPRESS FOR CAPACITY</code> is specified without including either <code class="codeph">LOW</code> or <code class="codeph">HIGH</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1937" id="d78352e6194" headers="d78352e6087">
<p><code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code></p>
</td>
<td class="cellalignment1938" headers="d78352e6194 d78352e6090">
<p>This method results in fair query performance.</p>
<p>This method compresses IM column store data the most.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>In a SQL statement, the <code class="codeph">MEMCOMPRESS</code> keyword must be preceded by the <code class="codeph">INMEMORY</code> keyword.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14221"></a><a id="ADMIN14220"></a>
<div class="props_rev_3"><a id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85"></a>
<h4 id="ADMIN-GUID-B37DCA18-7CDA-425A-883B-036B70714F85" class="sect4"><span class="enumeration_section">6.7.1.3</span> IM Column Store Data Population Options</h4>
<div>
<p>When you enable a database object for the IM column store, you can either let Oracle Database control when the database object&#39;s data is populated in the IM column store (default), or you can specify a priority level that determines the priority of the database object in the population queue.</p>
<div class="section">
<p>Oracle SQL includes an <code class="codeph">INMEMORY PRIORITY</code> subclause that provides more control over the queue for population. For example, it might be more important or less important to populate a database object&#39;s data before populating the data for other database objects.</p>
<div class="video-box">
<div xmlns="" id="9368" class="video-container"></div>
</div>
<p><a href="memory.htm#GUID-B37DCA18-7CDA-425A-883B-036B70714F85__BABEIDGD" title="This table describes the priority levels for loading table data into the In-Memory Column Store. It has the following columns: Priority Level, CREATE/ALTER Table Syntax, and Description">Table 6-6</a> describes the supported priority levels.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__BABEIDGD">
<p class="titleintable">Table 6-6 Priority Levels for Populating a Database Object in the IM Column Store</p>
<table class="cellalignment1880" title="Priority Levels for Populating a Database Object in the IM Column Store" summary="This table describes the priority levels for loading table data into the In-Memory Column Store. It has the following columns: Priority Level, CREATE/ALTER Table Syntax, and Description">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1882" id="d78352e6305">CREATE/ALTER Syntax</th>
<th class="cellalignment1965" id="d78352e6308">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d78352e6313" headers="d78352e6305">
<p><code class="codeph">PRIORITY NONE</code></p>
</td>
<td class="cellalignment1966" headers="d78352e6313 d78352e6308">
<p>Oracle Database controls when the database object&#39;s data is populated in the IM column store. A scan of the database object triggers the population of the object into the IM column store.</p>
<p>This is the default level when <code class="codeph">PRIORITY</code> is not included in the <code class="codeph">INMEMORY</code> clause.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d78352e6329" headers="d78352e6305">
<p><code class="codeph">PRIORITY LOW</code></p>
</td>
<td class="cellalignment1966" headers="d78352e6329 d78352e6308">
<p>The database object&#39;s data is populated in the IM column store before database objects with the following priority level: <code class="codeph">NONE</code>.</p>
<p>The database object&#39;s data is populated in the IM column store after database objects with the following priority levels: <code class="codeph">MEDIUM</code>, <code class="codeph">HIGH</code>, or <code class="codeph">CRITICAL</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d78352e6351" headers="d78352e6305">
<p><code class="codeph">PRIORITY MEDIUM</code></p>
</td>
<td class="cellalignment1966" headers="d78352e6351 d78352e6308">
<p>The database object&#39;s data is populated in the IM column store before database objects with the following priority levels: <code class="codeph">NONE</code> or <code class="codeph">LOW</code>.</p>
<p>The database object&#39;s data is populated in the IM column store after database objects with the following priority levels: <code class="codeph">HIGH</code> or <code class="codeph">CRITICAL</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d78352e6373" headers="d78352e6305">
<p><code class="codeph">PRIORITY HIGH</code></p>
</td>
<td class="cellalignment1966" headers="d78352e6373 d78352e6308">
<p>The database object&#39;s data is populated in the IM column store before database objects with the following priority levels: <code class="codeph">NONE</code>, <code class="codeph">LOW</code>, or <code class="codeph">MEDIUM</code>.</p>
<p>The database object&#39;s data is populated in the IM column store after database objects with the following priority level: <code class="codeph">CRITICAL</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d78352e6395" headers="d78352e6305">
<p><code class="codeph">PRIORITY CRITICAL</code></p>
</td>
<td class="cellalignment1966" headers="d78352e6395 d78352e6308">
<p>The database object&#39;s data is populated in the IM column store before database objects with the following priority levels: <code class="codeph">NONE</code>, <code class="codeph">LOW</code>, <code class="codeph">MEDIUM</code>, or <code class="codeph">HIGH</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>When more than one database object has a priority level other than <code class="codeph">NONE</code>, Oracle Database queues all of the data for the database objects to be populated in the IM column store based on priority level. Data for database objects with the <code class="codeph">CRITICAL</code> priority level are populated first, data for database objects with the <code class="codeph">HIGH</code> priority level are populated next, and so on. If there is no space remaining in the IM column store, then no additional objects are populated in it until sufficient space becomes available.</p>
<p>When a database is restarted, all of the data for database objects with a priority level other than <code class="codeph">NONE</code> are populated in the IM column store during startup. For a database object with a priority level other than <code class="codeph">NONE</code>, an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> DDL statement involving the database object does not return until the DDL changes are recorded in the IM column store.</p>
<div class="infobox-note" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-973048C5-DE8A-43BA-8751-8310E2B2685F">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>The priority level setting must apply to an entire table or to a table partition. Specifying different IM column store priority levels for different subsets of columns in a table is not allowed.</p>
</li>
<li>
<p>If a segment on disk is 64 KB or less, then it is not populated in the IM column store. Therefore, some small database objects that were enabled for the IM column store might not be populated in it.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN14296"></a><a id="ADMIN14231"></a>
<div class="props_rev_3"><a id="GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE"></a>
<h3 id="ADMIN-GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE" class="sect3"><span class="enumeration_section">6.7.2</span> Initialization Parameters Related to the IM Column Store</h3>
<div>
<p>A set of initialization parameters are related to the IM column store.</p>
<div class="tblformal" id="GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE__BABJEHAJ">
<p class="titleintable">Table 6-7 Initialization Parameters Related to the IM Column Store</p>
<table class="cellalignment1849" title="Initialization Parameters Related to the IM Column Store" summary="This table describes the each initialization parameter related to the In-Memory Column Store.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1858" id="d78352e6544">Initialization Parameter</th>
<th class="cellalignment1970" id="d78352e6547">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6552" headers="d78352e6544">
<p><a class="olink REFRN10348" target="_blank" href="../REFRN/GUID-B5BEB6BF-5308-485F-920D-CBB584DDDE8F.htm#REFRN10348"><code class="codeph">INMEMORY_SIZE</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6552 d78352e6547">
<p>This initialization parameter sets the size of the IM column store in a database instance.</p>
<p>The default value is 0, which means that the IM column store is not used. This initialization parameter must be set to a non-zero value to enable the IM column store. If the parameter is set to a non-zero value, then the minimum setting is <code class="codeph">100M</code>.</p>
<p>In a multitenant environment, the setting for this parameter in the root is the setting for the entire multitenant container database (CDB). This parameter can also be set in each pluggable database (PDB) to limit the maximum size of the IM column store for each PDB. The sum of the PDB values can be less than, equal to, or greater than the CDB value. However, the CDB value is the maximum amount of memory available in the IM column store for the entire CDB, including the root and all of the PDBs. Unless this parameter is specifically set for a PDB, the PDB inherits the CDB value, which means that the PDB can use all of the available IM column store for the CDB.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6569" headers="d78352e6544">
<p><a class="olink REFRN10353" target="_blank" href="../REFRN/GUID-1CAEDEBC-AE38-428D-B07E-6718A7225548.htm#REFRN10353"><code class="codeph">INMEMORY_FORCE</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6569 d78352e6547">
<p>This initialization parameter can enable tables and materialized views for the IM column store or disable all tables and materialized views for the IM column store.</p>
<p>Set this parameter to <code class="codeph">DEFAULT</code>, the default value, to allow the <code class="codeph">INMEMORY</code> or <code class="codeph">NO INMEMORY</code> attributes on the individual database objects determine if they will be populated in the IM column store.</p>
<p>Set this parameter to <code class="codeph">OFF</code> to specify that all tables and materialized views are disabled for the IM column store.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6595" headers="d78352e6544">
<p><a class="olink REFRN10350" target="_blank" href="../REFRN/GUID-5772F775-2A3E-4BC8-AA03-B8FF383BEE52.htm#REFRN10350"><code class="codeph">INMEMORY_CLAUSE_DEFAULT</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6595 d78352e6547">
<p>This initialization parameter enables you to specify a default IM column store clause for new tables and materialized views.</p>
<p>Leave this parameter unset or set it to an empty string to specify that there is no default IM column store clause for new tables and materialized views. Setting the value of this parameter to <code class="codeph">NO INMEMORY</code> has the same effect as setting it to the default value (the empty string).</p>
<p>Set this parameter to a valid <code class="codeph">INMEMORY</code> clause to specify that the clause is the default for all new tables and materialized views. The clause can include valid clauses for IM column store compression methods and data population options.</p>
<p>If the clause starts with <code class="codeph">INMEMORY</code>, then all new tables and materialized views, including those without an <code class="codeph">INMEMORY</code> clause, are populated in the IM column store. If the clause omits <code class="codeph">INMEMORY</code>, then it only applies to new tables and materialized views that are enabled for the IM column store with an <code class="codeph">INMEMORY</code> clause during creation.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6629" headers="d78352e6544">
<p><a class="olink REFRN10351" target="_blank" href="../REFRN/GUID-5B9BDBE2-6835-4598-9717-64D2C9D622AB.htm#REFRN10351"><code class="codeph">INMEMORY_QUERY</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6629 d78352e6547">
<p>This initialization parameter specifies whether in-memory queries are allowed. Set this parameter to <code class="codeph">ENABLE</code>, the default value, to allow queries to access database objects populated in the IM column store, or set this parameter to <code class="codeph">DISABLE</code> to disable access to the database objects populated in the IM column store.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6645" headers="d78352e6544">
<p><a class="olink REFRN10355" target="_blank" href="../REFRN/GUID-3428C0FF-5AA9-491C-908E-F0BD88095A5A.htm#REFRN10355"><code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6645 d78352e6547">
<p>This initialization parameter specifies the maximum number of background populate servers to use for IM column store population, so that these servers do not overload the rest of the system. Set this parameter to an appropriate value based on the number of cores in the system.</p>
<p>When <code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> is set to <code class="codeph">0</code>, objects cannot be populated in the IM column store.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6663" headers="d78352e6544">
<p><a class="olink REFRN10358" target="_blank" href="../REFRN/GUID-499850D5-6418-4AD3-BEB5-865C4A165C39.htm#REFRN10358"><code class="codeph">INMEMORY_TRICKLE_REPOPULATE_SERVERS_PERCENT</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6663 d78352e6547">
<p>This initialization parameter limits the maximum number of background populate servers used for IM column store repopulation, as trickle repopulation is designed to use only a small percentage of the populate servers. The value for this parameter is a percentage of the <code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> initialization parameter value. For example, if this parameter is set to <code class="codeph">10</code> and <code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> is set to <code class="codeph">10</code>, then on average one core is used for trickle repopulation.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1861" id="d78352e6685" headers="d78352e6544">
<p><a class="olink REFRN10359" target="_blank" href="../REFRN/GUID-8506CD9E-AB48-47ED-9E1E-12BB59A4B3A1.htm#REFRN10359"><code class="codeph">OPTIMIZER_INMEMORY_AWARE</code></a></p>
</td>
<td class="cellalignment1971" headers="d78352e6685 d78352e6547">
<p>This initialization parameter enables or disables all of the optimizer cost model enhancements for in-memory. Setting the parameter to <code class="codeph">FALSE</code> causes the optimizer to ignore the in-memory property of tables during the optimization of SQL statements.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE__GUID-80B87452-B0F2-48B1-BC64-D0B43E9C1585">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-052F49CA-731A-4608-A2B9-2C801621D80F" title="You can add or edit basic initialization parameters before you create your new database.">Specifying Initialization Parameters</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-7302C60F-E96E-4202-AC81-25A6C93EEFA3" title="Initialization parameters for the Oracle Database have traditionally been stored in a text initialization parameter file. For better manageability, you can choose to maintain initialization parameters in a binary server parameter file that is persistent across database startup and shutdown.">Managing Initialization Parameters Using a Server Parameter File</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14297"></a>
<div class="props_rev_3"><a id="GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215"></a>
<h3 id="ADMIN-GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" class="sect3"><span class="enumeration_section">6.7.3</span> Enabling the IM Column Store for a Database</h3>
<div>
<p>Before tables, tablespaces, or materialized views can be enabled for the IM column store, you must enable the IM column store for the database.</p>
<div class="section">
<p>To enable the IM column store for a database, complete the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the database is at 12.1.0 or higher compatibility level.</span></li>
<li class="stepexpand"><span>Set the <code class="codeph">INMEMORY_SIZE</code> initialization parameter to a non-zero value.</span>
<div>
<p>When you set this parameter in a server parameter file (SPFILE) using the <code class="codeph">ALTER SYSTEM</code> statement, you must specify <code class="codeph">SCOPE=SPFILE</code>.</p>
<p>The minimum setting is <code class="codeph">100M</code>.</p>
</div>
</li>
<li class="stepexpand"><span>Restart the database.</span>
<div>
<p>You must restart the database to initialize the IM column store in the SGA.</p>
</div>
</li>
<li class="stepexpand"><span>Optionally, you can check the amount of memory currently allocated for the IM column store by entering the following in SQL*Plus:</span>
<div>
<pre dir="ltr">SHOW PARAMETER INMEMORY_SIZE
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215__GUID-AA488D92-9E75-47DC-962C-D310106FC51C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink UPGRD52707" target="_blank" href="../UPGRD/intro.htm#UPGRD52707"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about setting the database compatibility level</p>
</li>
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-052F49CA-731A-4608-A2B9-2C801621D80F" title="You can add or edit basic initialization parameters before you create your new database.">Specifying Initialization Parameters</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN10348" target="_blank" href="../REFRN/GUID-B5BEB6BF-5308-485F-920D-CBB584DDDE8F.htm#REFRN10348"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">INMEMORY_SIZE</code> initialization parameter</p>
</li>
<li>
<p><a href="start.htm#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" title="When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database.">Starting Up and Shutting Down</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14258"></a>
<div class="props_rev_3"><a id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE"></a>
<h3 id="ADMIN-GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" class="sect3"><span class="enumeration_section">6.7.4</span> Enabling and Disabling Tables for the IM Column Store</h3>
<div>
<p>You enable a table for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement. You disable a table for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement.</p>
<div class="section">
<p>To enable or disable a table for the IM column store, complete the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the IM column store is enabled for the database.</span>
<div>
<p>See <span class="q">&#34;<a href="memory.htm#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables, tablespaces, or materialized views can be enabled for the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Connect to the database instance as a user with the appropriate privileges to either create the table or alter the table.</span></li>
<li class="stepexpand"><span>Run a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement with an <code class="codeph">INMEMORY</code> clause or a <code class="codeph">NO INMEMORY</code> clause.</span>
<div>
<div class="infoboxnotealso" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="tables.htm#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a> for information about creating and altering tables</p>
</li>
<li>
<p><a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statements</p>
</li>
</ul>
</div>
</div>
</li>
</ol>
</div>
<a id="ADMIN14223"></a><a id="ADMIN14224"></a><a id="ADMIN14225"></a><a id="ADMIN14226"></a><a id="ADMIN14227"></a><a id="ADMIN14228"></a><a id="ADMIN14230"></a><a id="ADMIN14222"></a>
<div class="props_rev_3"><a id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496"></a>
<h4 id="ADMIN-GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" class="sect4"><span class="enumeration_section">6.7.4.1</span> Examples of Enabling and Disabling the IM Column Store for Tables</h4>
<div>
<p>Examples illustrate how to enable or disable tables for the IM column store.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__BABJJDHE">
<p class="titleinexample">Example 6-2 Creating a Table and Enabling It for the IM Column Store</p>
<p>The following example creates the <code class="codeph">test_inmem</code> table and enables it for the IM column store:</p>
<div class="infobox-note" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__GUID-B7E06D6A-403F-4D97-8929-2C69E9CCF337">
<p class="notep1">Live SQL:</p>
<p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/enable-IMcolstore.html" target="_blank"><span class="italic">Oracle Live SQL: Enabling and Disabling Tables for the In-Memory Column Store</span></a>.</p>
</div>
<pre dir="ltr">CREATE TABLE test_inmem (
     id        NUMBER(5) PRIMARY KEY,
     test_col  VARCHAR2(15))
  INMEMORY;
</pre>
<p>This example uses the defaults for the <code class="codeph">INMEMORY</code> clause. Therefore, <code class="codeph">MEMCOMPRESS FOR QUERY</code> is used, and <code class="codeph">PRIORITY NONE</code> is used.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__BABGGAJE">
<p class="titleinexample">Example 6-3 Enabling a Table for the IM Column Store</p>
<p>The following example enables the <code class="codeph">oe.product_information</code> table for the IM column store:</p>
<pre dir="ltr">ALTER TABLE oe.product_information INMEMORY;
</pre>
<p>This example uses the defaults for the <code class="codeph">INMEMORY</code> clause. Therefore, <code class="codeph">MEMCOMPRESS FOR QUERY</code> is used, and <code class="codeph">PRIORITY NONE</code> is used.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__BABHECDI">
<p class="titleinexample">Example 6-4 Enabling a Table for the IM Column Store with FOR CAPACITY LOW Compression</p>
<p>The following example enables the <code class="codeph">oe.product_information</code> table for the IM column store and specifies the compression method <code class="codeph">FOR CAPACITY LOW</code>:</p>
<pre dir="ltr">ALTER TABLE oe.product_information INMEMORY MEMCOMPRESS FOR CAPACITY LOW;
</pre>
<p>This example uses the default for the <code class="codeph">PRIORITY</code> clause. Therefore, <code class="codeph">PRIORITY NONE</code> is used.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__GUID-0DAD4CA5-52BD-47EF-A49A-B575B6437DD9">
<p class="titleinexample">Example 6-5 Enabling a Table for the IM Column Store with HIGH Data Population Priority</p>
<p>The following example enables the <code class="codeph">oe.product_information</code> table for the IM column store and specifies <code class="codeph">PRIORITY HIGH</code> for populating the table data in memory:</p>
<pre dir="ltr">ALTER TABLE oe.product_information INMEMORY PRIORITY HIGH;
</pre>
<p>This example uses the default for the <code class="codeph">MEMCOMPRESS</code> clause. Therefore, <code class="codeph">MEMCOMPRESS FOR QUERY</code> is used.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__BABEJGFG">
<p class="titleinexample">Example 6-6 Enabling a Table for the IM Column Store with FOR CAPACITY HIGH Compression and LOW Data Population Priority</p>
<p>The following example enables the <code class="codeph">oe.product_information</code> table for the IM column store and specifies <code class="codeph">FOR CAPACITY HIGH</code> table compression and <code class="codeph">PRIORITY LOW</code> for populating the table data in memory:</p>
<pre dir="ltr">ALTER TABLE oe.product_information INMEMORY 
  MEMCOMPRESS FOR CAPACITY HIGH 
  PRIORITY LOW;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__BABGGDGD">
<p class="titleinexample">Example 6-7 Enabling Columns in a Table for the IM Column Store</p>
<p>This example enables some columns in the <code class="codeph">oe.product_information</code> table for the IM column store but not others. It also specifies different IM column store compression methods for the columns enabled for the IM column store.</p>
<pre dir="ltr">ALTER TABLE oe.product_information  
   INMEMORY MEMCOMPRESS FOR QUERY (
      product_id, product_name, category_id, supplier_id, min_price)
   INMEMORY MEMCOMPRESS FOR CAPACITY HIGH (
      product_description, warranty_period, product_status, list_price)
   NO INMEMORY (
      weight_class, catalog_url);
</pre>
<p>Specifically, this example specifies the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The list of columns starting with <code class="codeph">product_id</code> and ending with <code class="codeph">min_price</code> are enabled for the IM column store with the <code class="codeph">MEMCOMPRESS FOR QUERY</code> compression method.</p>
</li>
<li>
<p>The list of columns starting with <code class="codeph">product_description</code> and ending with <code class="codeph">list_price</code> are enabled for the IM column store with the <code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code> compression method.</p>
</li>
<li>
<p>The <code class="codeph">weight_class</code> and <code class="codeph">catalog_url</code> columns are not enabled for the IM column store.</p>
</li>
</ul>
<p>This example uses the default for the <code class="codeph">PRIORITY</code> clause. Therefore, <code class="codeph">PRIORITY NONE</code> is used.</p>
<p>You can query the <code class="codeph">V$IM_COLUMN_LEVEL</code> view to determine the selective column compression levels that are defined for a database object.</p>
<p>The priority level setting must apply to an entire table or to a table partition. Specifying different IM column store priority levels for different subsets of columns in a table is not allowed.</p>
<p>See <a class="olink REFRN30742" target="_blank" href="../REFRN/GUID-AFD47ABD-F8AB-401A-82A1-6D5C77384C43.htm#REFRN30742"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$IM_COLUMN_LEVEL</code> view</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__BABJIDEG">
<p class="titleinexample">Example 6-8 Disabling a Table for the IM Column Store</p>
<p>To disable a table for the IM column store, use the <code class="codeph">NO</code> <code class="codeph">INMEMORY</code> clause. The following example disables the <code class="codeph">oe.product_information</code> table for the IM column store:</p>
<pre dir="ltr">ALTER TABLE oe.product_information NO INMEMORY;
</pre>
<p>You can query the <code class="codeph">V$IM_SEGMENTS</code> view to list the database objects that are populated in the IM column store. See <span class="q">&#34;<a href="memory.htm#GUID-FF2499C5-C582-496A-B547-CFE49C84185E" title="The IM column store is a new static pool in the SGA. Data in the IM column store does not reside in the traditional row format but instead in a columnar format. Each column is stored as a separate structure. The IM column store does not replace the buffer cache, but acts as a supplement, so that data can be stored in memory in both row and columnar formats.">Overview of the IM Column Store</a>&#34;</span> for a sample query.</p>
</div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADMIN14229"></a><a id="ADMIN14234"></a><a id="ADMIN14259"></a>
<div class="props_rev_3"><a id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B"></a>
<h3 id="ADMIN-GUID-636A1675-838D-4004-9CDB-70783DC72C6B" class="sect3"><span class="enumeration_section">6.7.5</span> Enabling and Disabling Tablespaces for the IM Column Store</h3>
<div>
<p>You can enable or disable tablespaces for the IM column store.</p>
<div class="section">
<p>You can enable a tablespace for the IM column store during tablespace creation with a <code class="codeph">CREATE TABLESPACE</code> statement that includes the <code class="codeph">INMEMORY</code> clause. You can also alter a tablespace to enable it for the IM column store with an <code class="codeph">ALTER TABLESPACE</code> statement that includes the <code class="codeph">INMEMORY</code> clause.</p>
<p>You disable a tablespace for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement.</p>
<p>When a tablespace is enabled for the IM column store, all tables and materialized views in the tablespace are enabled for the IM column store by default. The <code class="codeph">INMEMORY</code> clause is the same for tables, materialized views, and tablespaces. The <code class="codeph">DEFAULT</code> storage clause is required before the <code class="codeph">INMEMORY</code> clause when enabling a tablespace for the IM column store and before the <code class="codeph">NO INMEMORY</code> clause when disabling a tablespace for the IM column store.</p>
<p>When a tablespace is enabled for the IM column store, individual tables and materialized views in the tablespace can have different in-memory settings, and the settings for individual database objects override the settings for the tablespace. For example, if the tablespace is set to <code class="codeph">PRIORITY LOW</code> for populating data in memory, but a table in the tablespace is set to <code class="codeph">PRIORITY HIGH</code>, then the table uses <code class="codeph">PRIORITY HIGH</code>.</p>
<p>To enable or disable a tablespace for the IM column store, complete the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the IM column store is enabled for the database.</span>
<div>
<p>See <span class="q">&#34;<a href="memory.htm#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables, tablespaces, or materialized views can be enabled for the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Connect to the database instance as a user with the appropriate privileges to either create the tablespace or alter the tablespace.</span></li>
<li class="stepexpand"><span>Run a <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement with an <code class="codeph">INMEMORY</code> clause or a <code class="codeph">NO INMEMORY</code> clause.</span></li>
</ol>
<div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-522FC202-F175-4125-B577-C78FED9ECB00">
<p class="titleinexample">Example 6-9 Creating a Tablespace and Enabling It for the IM Column Store</p>
<p>The following example creates the <code class="codeph">tbs1</code> tablespace and enables it for the IM column store:</p>
<pre dir="ltr">CREATE TABLESPACE tbs1 
   DATAFILE &#39;tbs1.dbf&#39; SIZE 40M 
   ONLINE
   DEFAULT INMEMORY;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-B0EC62EE-9CC3-4B76-A309-6B9F7241CD29">
<p class="titleinexample">Example 6-10 Altering a Tablespace to Enable It for the IM Column Store</p>
<p>The following example alters the <code class="codeph">tbs1</code> tablespace to enable it for the IM column store and specifies <code class="codeph">FOR CAPACITY HIGH</code> compression for the database objects in the tablespace and <code class="codeph">PRIORITY LOW</code> for populating data in memory:</p>
<pre dir="ltr">ALTER TABLESPACE tbs1 DEFAULT INMEMORY 
   MEMCOMPRESS FOR CAPACITY HIGH 
   PRIORITY LOW;
</pre></div>
<!-- class="example" -->
<div class="section">
<p>This example uses the defaults for the <code class="codeph">INMEMORY</code> clause. Therefore, <code class="codeph">MEMCOMPRESS FOR QUERY</code> is used, and <code class="codeph">PRIORITY NONE</code> is used.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14261"></a><a id="ADMIN14262"></a><a id="ADMIN14260"></a>
<div class="props_rev_3"><a id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA"></a>
<h3 id="ADMIN-GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" class="sect3"><span class="enumeration_section">6.7.6</span> Enabling and Disabling Materialized Views for the IM Column Store</h3>
<div>
<p>You can enable and disable materialized views for the IM coumn store.</p>
<div class="section">
<p>You enable a materialized view for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statement. You disable a materialized view for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statement.</p>
<p>To enable or disable a materialized view for the IM column store, complete the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the IM column store is enabled for the database.</span>
<div>
<p>See <span class="q">&#34;<a href="memory.htm#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables, tablespaces, or materialized views can be enabled for the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Connect to the database instance as a user with the appropriate privileges to either create the materialized view or alter the materialized view.</span></li>
<li class="stepexpand"><span>Run a <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statement with an <code class="codeph">INMEMORY</code> clause or a <code class="codeph">NO INMEMORY</code> clause.</span></li>
</ol>
<div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2E6FF120-DFBD-467C-A40F-F35CCB8FDBA6">
<p class="titleinexample">Example 6-11 Creating a Materialized View and Enabling It for the IM Column Store</p>
<p>The following example creates the <code class="codeph">oe.prod_info_mv</code> materialized view and enables it for the IM column store:</p>
<pre dir="ltr">CREATE MATERIALIZED VIEW oe.prod_info_mv INMEMORY 
  AS SELECT * FROM oe.product_information;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-BD789C3C-8FC8-49C8-9242-A626F3DA1DB8">
<p class="titleinexample">Example 6-12 Enabling a Materialized View for the IM Column Store with HIGH Data Population Priority</p>
<p>The following example enables the <code class="codeph">oe.prod_info_mv</code> materialized view for the IM column store:</p>
<pre dir="ltr">ALTER MATERIALIZED VIEW oe.prod_info_mv INMEMORY PRIORITY HIGH;
</pre></div>
<!-- class="example" -->
<div class="section">
<p>This example uses the defaults for the <code class="codeph">INMEMORY</code> clause. Therefore, <code class="codeph">MEMCOMPRESS FOR QUERY</code> is used, and <code class="codeph">PRIORITY NONE</code> is used.</p>
<div class="infoboxnotealso" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2D3F2870-0DEA-45DD-A75C-20D36B8EF586">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statements</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14240"></a>
<div class="props_rev_3"><a id="GUID-9B555677-823F-4F30-B918-BD4E72E6FD90"></a>
<h3 id="ADMIN-GUID-9B555677-823F-4F30-B918-BD4E72E6FD90" class="sect3"><span class="enumeration_section">6.7.7</span> Data Pump and the IM Column Store</h3>
<div>
<p>You can import database objects that are enabled for the IM column store using the <code class="codeph">TRANSFORM=INMEMORY:y</code> option of the <code class="codeph">impdp</code> command.</p>
<p>With this option, Data Pump keeps the IM column store clause for all objects that have one. When the <code class="codeph">TRANSFORM=INMEMORY:n</code> option is specified, Data Pump drops the IM column store clause from all objects that have one.</p>
<p>You can also use the <code class="codeph">TRANSFORM=INMEMORY_CLAUSE:</code><span class="italic"><code class="codeph">string</code></span> option to override the IM column store clause for a database object in the dump file during import. For example, you can use this option to change the IM column store compression for a database object being imported.</p>
<div class="video-box">
<div xmlns="" id="9373" class="video-container"></div>
</div>
<div class="infoboxnotealso" id="GUID-9B555677-823F-4F30-B918-BD4E72E6FD90__GUID-73E1DC39-F880-4D3C-A0C8-F40B734867E0">
<p class="notep1">See Also:</p>
<p><a class="olink SUTIL3244" target="_blank" href="../SUTIL/GUID-64FB67BD-EB67-4F50-A4D2-5D34518E6BDB.htm#SUTIL3244"><span class="italic">Oracle Database Utilities</span></a> for more information about the <code class="codeph">TRANSFORM</code> <code class="codeph">impdp</code> parameter</p>
</div>
</div>
</div>
<a id="ADMIN14309"></a>
<div class="props_rev_3"><a id="GUID-A9E4D99B-9DBD-42F8-BC32-BECB0173B09C"></a>
<h3 id="ADMIN-GUID-A9E4D99B-9DBD-42F8-BC32-BECB0173B09C" class="sect3"><span class="enumeration_section">6.7.8</span> Using IM Column Store In Enterprise Manager</h3>
<div>
<p>You can configure and manage the IM column store in Enterprise Manager Cloud Control.</p>
<div class="video-box">
<div xmlns="" id="9372" class="video-container"></div>
</div>
</div>
<a id="ADMIN14310"></a>
<div class="props_rev_3"><a id="GUID-7D673892-E274-40D8-9294-04ADFB1B2B95"></a>
<h4 id="ADMIN-GUID-7D673892-E274-40D8-9294-04ADFB1B2B95" class="sect4"><span class="enumeration_section">6.7.8.1</span> Meeting Prerequisites for Using IM Column Store in Enterprise Manager</h4>
<div>
<p>Before you can enable a database to use the IM column store, you must ensure that the database is at a Release 12.1.0.2 or higher compatibility level. In other words, the value for the initialization parameter <code class="codeph">COMPATIBLE</code> should be set to 12.1.0.0.</p>
<div class="section">
<p>To set the compatibility level, follow these steps:</p>
<ol>
<li>
<p>From the Database Home page in Enterprise Manager, navigate to the Initialization Parameters page by choosing <span class="bold">Initialization Parameters</span> from the <span class="bold">Administration</span> menu.</p>
<p>You can use this page to set or change the compatibility level.</p>
</li>
<li>
<p>Search for the parameter <code class="codeph">COMPATIBLE</code>.</p>
<p>The category for the parameter is Miscellaneous.</p>
</li>
<li>
<p>Change the value to 12.1.0.0 and click <span class="bold">Apply</span>.</p>
<p>You will be prompted to restart the database.</p>
</li>
</ol>
<p>After the database is restarted, the new value that you set takes effect.</p>
<p>Similarly, you can set or change the size of the IM column store. To do so, follow these steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>From the Database Home page in Enterprise Manager, navigate to the Initialization Parameters page by choosing <span class="bold">Initialization Parameters</span> from the <span class="bold">Administration</span> menu.</span></li>
<li class="stepexpand"><span>Search for the parameter <code class="codeph">INMEMORY_SIZE</code>. The category for the parameter is In-Memory.</span></li>
<li class="stepexpand"><span>Change the value and click <span class="bold">Apply</span>.</span>
<div>
<p>You can set the value to any value above the minimum size of 100M.</p>
<p>You will then be prompted to restart the database.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="ADMIN14332"></a>
<div class="props_rev_3"><a id="GUID-0B27FF65-B721-416A-A1AD-16D1DFFFE0F5"></a>
<h4 id="ADMIN-GUID-0B27FF65-B721-416A-A1AD-16D1DFFFE0F5" class="sect4"><span class="enumeration_section">6.7.8.2</span> Using the In-Memory Column Store Central Home Page to Monitor In-Memory Support for Database Objects</h4>
<div>
<p>You can use the In-Memory Column Store Central Home page to monitor in-memory support for database objects such as tables, indexes, partitions and tablespaces. You can view in-memory functionality for objects and monitor their In-Memory usage statistics.</p>
<div class="section">
<p>You can complete the following actions on the In-Memory Column Store Central Home page:</p>
<ul style="list-style-type: disc;">
<li>
<p>The In-Memory Object Access Heatmap displays the top 100 objects in the In-Memory Store with their relative sizes and shows you how frequently objects are accessed, represented by different colors. To activate the heat map, you must turn on the option for the heatmap in the init.ora parameter file. Generally there is a one day wait period before the map is activated. You can use the date selector to pick the date range for objects displayed in the Heat Map. You can also use the slider to control the granularity of the color.</p>
</li>
<li>
<p>Use the Configuration section to view the status settings such as In-Memory Query, In-Memory Force, and Default In-Memory Clause. Click Edit to navigate to the Initialization Parameters page where you can change the values and settings displayed in this section. Use the Performance section to view the metrics for Active Sessions.</p>
</li>
<li>
<p>Use the Objects Summary section to view the Compression Factor and data about the memory used by the populated objects. The In-Memory Enabled Object Statistics are available in a pop-up window through a drill-down from the View In-Memory Enabled Object Statistics link on the page.</p>
</li>
<li>
<p>Use the In-Memory Objects Distribution section to view the distribution on a percentage basis of the various objects used in memory. The section includes a chart showing the distribution of Partitions, Sub-partitions, Non-partitioned Tables, and Non-partitioned Materialized Views. The numerical values for each are displayed above the chart.</p>
</li>
<li>
<p>Use the In-Memory Objects Search section to search for objects designated for In-Memory use. Click Search after you enter the parameters by which you want to search. The results table shows the Name of each object found along with its Size, Size in Memory, Size on Disk, In-Memory percentage, and its In-Memory parameters. You can also search for accessed objects that are either in-memory or not in-memory. If the heatmap is enabled, the Accessed Objects option appears in the drop-down list in the View field of the In-Memory Objects Search box. When you select Accessed Objects, you can filter based on the top 100 objects with access data that are either in-memory or not in-memory. You can select a time range and search for objects within that range. If you select the All Objects In-Memory option, you can view the list of top 100 objects that are in-memory based on their in-memory size.</p>
</li>
</ul>
<p>If you are working in a RAC environment, you can quickly move between instances by selecting the instance in the Instances selection box above and on the right side of the heatmap.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14311"></a>
<div class="props_rev_3"><a id="GUID-CA0F4730-C008-4C49-84ED-BF9CAC69DD4B"></a>
<h4 id="ADMIN-GUID-CA0F4730-C008-4C49-84ED-BF9CAC69DD4B" class="sect4"><span class="enumeration_section">6.7.8.3</span> Specifying In-Memory Details When Creating a Table or Partition</h4>
<div>
<p>You can specify IM column store details when creating a table or partition.</p>
<ol>
<li class="stepexpand"><span>From the <span class="bold">Schema</span> menu, choose <span class="bold">Database Objects</span>, then select the <span class="bold">Tables</span> option.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Create</span> to create a table.</span>
<div>
<p>The Create Table page is shown. Select the In-Memory Column Store tab to specify the in-memory options for the table.</p>
</div>
</li>
<li class="stepexpand"><span>Choose to override the column level in-memory details (if required) in the table below where the columns are specified.</span></li>
<li class="stepexpand"><span>Optionally, you can click on the <span class="bold">Partitions</span> tab.</span></li>
<li class="stepexpand"><span>Create table partitions as needed using the wizard.</span>
<div>
<p>To specify IM column store details for a partition, select it from the table in the Partitions tab, and then click <span class="bold">Advanced Options</span>.</p>
</div>
</li>
<li class="stepexpand"><span>After entering all necessary IM column store details at the table level, column level, and partitions level, click <span class="bold">Show SQL</span> to see the generated SQL. Click <span class="bold">OK</span> to create the table.</span></li>
</ol>
</div>
</div>
<a id="ADMIN14312"></a>
<div class="props_rev_3"><a id="GUID-D7E6794B-3B7C-42CB-94EF-FB9981FA4909"></a>
<h4 id="ADMIN-GUID-D7E6794B-3B7C-42CB-94EF-FB9981FA4909" class="sect4"><span class="enumeration_section">6.7.8.4</span> Viewing or Editing IM Column Store Details of a Table</h4>
<div>
<p>You can view or edit IM column store details of a table.</p>
<ol>
<li class="stepexpand"><span>From the <span class="bold">Schema</span> menu, choose <span class="bold">Database Objects</span>, then select the <span class="bold">Tables</span> option.</span></li>
<li class="stepexpand"><span>Search for the desired table and click <span class="bold">View</span> to view its details.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Edit</span> to launch the Edit Table page.</span>
<div>
<p>Alternatively, you can also click Edit on the Search page. Use the In-Memory Column Store tab to specify in-memory options for the table.</p>
</div>
</li>
<li class="stepexpand"><span>Edit the required details and click <span class="bold">Apply</span>.</span></li>
</ol>
</div>
</div>
<a id="ADMIN14313"></a>
<div class="props_rev_3"><a id="GUID-B61D1CAD-2BF2-4CF7-8B49-52E000225DC4"></a>
<h4 id="ADMIN-GUID-B61D1CAD-2BF2-4CF7-8B49-52E000225DC4" class="sect4"><span class="enumeration_section">6.7.8.5</span> Viewing or Editing IM Column Store Details of a Partition</h4>
<div>
<p>You can view or edit IM column store details of a partition.</p>
<ol>
<li class="stepexpand"><span>From the <span class="bold">Schema</span> menu, choose <span class="bold">Database Objects</span>, then select the <span class="bold">Tables</span> option.</span></li>
<li class="stepexpand"><span>Search for the table that contains the desired partition, select it, then click <span class="bold">View</span>.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Edit</span> to launch the Edit Table page.</span>
<div>
<p>Alternatively, you can also click Edit on the Table Search page.</p>
</div>
</li>
<li class="stepexpand"><span>Click the <span class="bold">Partitions</span> tab, select the desired partition, and click <span class="bold">Advanced Options</span>.</span></li>
<li class="stepexpand"><span>Edit the required details, and click <span class="bold">OK</span> to go back to the Partitions tab.</span></li>
<li class="stepexpand"><span>After making similar changes to all desired partitions of the table, click <span class="bold">Apply</span>.</span></li>
</ol>
</div>
</div>
<a id="ADMIN14314"></a>
<div class="props_rev_3"><a id="GUID-708F6FEE-5E5C-4225-9A69-484D2EA0FBD1"></a>
<h4 id="ADMIN-GUID-708F6FEE-5E5C-4225-9A69-484D2EA0FBD1" class="sect4"><span class="enumeration_section">6.7.8.6</span> Specifying IM Column Store Details During Tablespace Creation</h4>
<div>
<p>You can specify IM column store details when creating a tablespace.</p>
<ol>
<li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, and then select the <span class="bold">Tablespaces</span> option.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Create</span> to create a tablespace.</span></li>
<li class="stepexpand"><span>Enter the details that appear on the General tab.</span>
<div>
<p>Click the <span class="bold">In-Memory Column Store</span> tab.</p>
</div>
</li>
<li class="stepexpand"><span>After entering all required IM column store details for the tablespace, click <span class="bold">Show SQL</span>. Click <span class="bold">Return</span> from the Show SQL page and then in the resulting page click <span class="bold">OK</span>.</span></li>
<li class="stepexpand"><span>Click <span class="bold">OK</span> to create the tablespace.</span></li>
</ol>
<div class="section">
<p>The IM column store settings of a tablespace apply for any new table created in the tablespace. IM column store configuration details must be specified at the individual table level if a table must override the configuration of the tablespace.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14315"></a>
<div class="props_rev_3"><a id="GUID-96918886-3DDD-48E0-BCDD-3AE8959D5814"></a>
<h4 id="ADMIN-GUID-96918886-3DDD-48E0-BCDD-3AE8959D5814" class="sect4"><span class="enumeration_section">6.7.8.7</span> Viewing and Editing IM Column Store Details of a Tablespace</h4>
<div>
<p>You can view or edit IM column store details of a tablespace.</p>
<ol>
<li><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select the <span class="bold">Tablespaces</span> option.</span></li>
<li><span>Search for the desired tablespace, select it, then click <span class="bold">View</span>.</span></li>
<li><span>Click <span class="bold">Edit</span> to launch the Edit Tablespace page, then click the <span class="bold">In-Memory Column Store</span> tab.</span></li>
<li><span>Edit the required details and click <span class="bold">Apply</span>.</span></li>
</ol>
</div>
</div>
<a id="ADMIN14316"></a>
<div class="props_rev_3"><a id="GUID-850F3D6F-67E6-43D5-AE98-F5BF19142B69"></a>
<h4 id="ADMIN-GUID-850F3D6F-67E6-43D5-AE98-F5BF19142B69" class="sect4"><span class="enumeration_section">6.7.8.8</span> Specifying IM Column Store Details During Materialized View Creation</h4>
<div>
<p>You can specify IM column store details when creating a materialized view.</p>
<ol>
<li><span>From the <span class="bold">Schema</span> menu, choose <span class="bold">Materialized Views</span>, then select the <span class="bold">Materialized Views</span> option.</span></li>
<li><span>Click <span class="bold">Create</span> to create a materialized view.</span></li>
<li><span>Enter the materialized view name, and specify its query.</span></li>
<li><span>Click the <span class="bold">In-Memory Column Store</span> tab to specify IM column store options for the materialized view.</span></li>
<li><span>After entering all necessary IM column store details, click <span class="bold">Show SQL</span>. Click <span class="bold">Return</span> from the Show SQL page, and then in the resulting page click <span class="bold">OK</span>.</span></li>
<li><span>Click <span class="bold">OK</span> to create the materialized view.</span></li>
</ol>
</div>
</div>
<a id="ADMIN14317"></a>
<div class="props_rev_3"><a id="GUID-3CF0518A-EABA-4DAA-91D0-A0BE7E17D306"></a>
<h4 id="ADMIN-GUID-3CF0518A-EABA-4DAA-91D0-A0BE7E17D306" class="sect4"><span class="enumeration_section">6.7.8.9</span> Viewing or Editing IM Column Store Details of a Materialized View</h4>
<div>
<p>You can view or edit IM column store details of a materialized view.</p>
<ol>
<li><span>From the <span class="bold">Schema</span> menu, choose <span class="bold">Materialized Views</span>, then select the <span class="bold">Materialized Views</span> option.</span></li>
<li><span>Search for the desired materialized view, and click <span class="bold">View</span> to view its details.</span></li>
<li><span>Click <span class="bold">Edit</span> to launch the Edit Materialized View page.</span></li>
<li><span>Click the <span class="bold">In-Memory Column Store</span> tab to specify IM column store options for the materialized view.</span></li>
<li><span>Edit the required details, and click <span class="bold">Apply</span>.</span></li>
</ol>
</div>
</div>
</div>
</div>
<a id="ADMIN11235"></a>
<div class="props_rev_3"><a id="GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009"></a>
<h2 id="ADMIN-GUID-2D28DBE2-1CA8-484E-A1CF-3280F939D009" class="sect2"><span class="enumeration_section">6.8</span> Memory Management Reference</h2>
<p>Automatic memory management is supported only on some platforms. Also, you can query a set of data dictionary views for information on memory management.</p>
<a id="ADMIN11236"></a>
<div class="props_rev_3"><a id="GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B"></a>
<h3 id="ADMIN-GUID-16238F1A-3747-4893-8B8C-EEE51F4EF72B" class="sect3"><span class="enumeration_section">6.8.1</span> Platforms That Support Automatic Memory Management</h3>
<div>
<p>Some platforms support automatic memory management.</p>
<p>The following platforms support automatic memory management&mdash;the Oracle Database ability to automatically tune the sizes of the SGA and PGA, redistributing memory from one to the other on demand to optimize performance:</p>
<ul style="list-style-type: disc;">
<li>
<p>Linux</p>
</li>
<li>
<p>Solaris</p>
</li>
<li>
<p>Windows</p>
</li>
<li>
<p>HP-UX</p>
</li>
<li>
<p>AIX</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN11237"></a>
<div class="props_rev_3"><a id="GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588"></a>
<h3 id="ADMIN-GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588" class="sect3"><span class="enumeration_section">6.8.2</span> Memory Management Data Dictionary Views</h3>
<div>
<p>A set of dynamic performance views provide information on memory management.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="tblformal" id="GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588__GUID-E54BBCF0-59FB-4B7B-A049-D8DB500BA5A8">
<table class="cellalignment1849" summary="Column 1 lists the views the provide information about the SGA. Column 2 describes each view.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1997" id="d78352e8960">View</th>
<th class="cellalignment1972" id="d78352e8963">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e8968" headers="d78352e8960">
<p><code class="codeph">V$SGA</code></p>
</td>
<td class="cellalignment1973" headers="d78352e8968 d78352e8963">
<p>Displays summary information about the system global area (SGA).</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e8976" headers="d78352e8960">
<p><code class="codeph">V$SGAINFO</code></p>
</td>
<td class="cellalignment1973" headers="d78352e8976 d78352e8963">
<p>Displays size information about the SGA, including the sizes of different SGA components, the granule size, and free memory.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e8984" headers="d78352e8960">
<p><code class="codeph">V$SGASTAT</code></p>
</td>
<td class="cellalignment1973" headers="d78352e8984 d78352e8963">
<p>Displays detailed information about how memory is allocated within the shared pool, large pool, Java pool, and Streams pool.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e8992" headers="d78352e8960">
<p><code class="codeph">V$PGASTAT</code></p>
</td>
<td class="cellalignment1973" headers="d78352e8992 d78352e8963">
<p>Displays PGA memory usage statistics as well as statistics about the automatic PGA memory manager when it is enabled (that is, when <code class="codeph">PGA_AGGREGATE_TARGET</code> is set). Cumulative values in <code class="codeph">V$PGASTAT</code> are accumulated since instance startup.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9006" headers="d78352e8960">
<p><code class="codeph">V$MEMORY_DYNAMIC_COMPONENTS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9006 d78352e8963">
<p>Displays information on the current size of all automatically tuned and static memory components, with the last operation (for example, grow or shrink) that occurred on each.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9014" headers="d78352e8960">
<p><code class="codeph">V$SGA_DYNAMIC_COMPONENTS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9014 d78352e8963">
<p>Displays the current sizes of all SGA components, and the last operation for each component.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9022" headers="d78352e8960">
<p><code class="codeph">V$SGA_DYNAMIC_FREE_MEMORY</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9022 d78352e8963">
<p>Displays information about the amount of SGA memory available for future dynamic SGA resize operations.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9030" headers="d78352e8960">
<p><code class="codeph">V$MEMORY_CURRENT_RESIZE_OPS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9030 d78352e8963">
<p>Displays information about resize operations that are currently in progress. A resize operation is an enlargement or reduction of the SGA, the instance PGA, or a dynamic SGA component.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9038" headers="d78352e8960">
<p><code class="codeph">V$SGA_CURRENT_RESIZE_OPS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9038 d78352e8963">
<p>Displays information about dynamic SGA component resize operations that are currently in progress.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9046" headers="d78352e8960">
<p><code class="codeph">V$MEMORY_RESIZE_OPS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9046 d78352e8963">
<p>Displays information about the last 800 completed memory component resize operations, including automatic grow and shrink operations for <code class="codeph">SGA_TARGET</code> and <code class="codeph">PGA_AGGREGATE_TARGET</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9060" headers="d78352e8960">
<p><code class="codeph">V$SGA_RESIZE_OPS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9060 d78352e8963">
<p>Displays information about the last 800 completed SGA component resize operations.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9069" headers="d78352e8960">
<p><code class="codeph">V$MEMORY_TARGET_ADVICE</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9069 d78352e8963">
<p>Displays information that helps you tune <code class="codeph">MEMORY_TARGET</code> if you enabled automatic memory management.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9080" headers="d78352e8960">
<p><code class="codeph">V$SGA_TARGET_ADVICE</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9080 d78352e8963">
<p>Displays information that helps you tune <code class="codeph">SGA_TARGET</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9091" headers="d78352e8960">
<p><code class="codeph">V$PGA_TARGET_ADVICE</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9091 d78352e8963">
<p>Displays information that helps you tune <code class="codeph">PGA_AGGREGATE_TARGET</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1998" id="d78352e9102" headers="d78352e8960">
<p><code class="codeph">V$IM_SEGMENTS</code></p>
</td>
<td class="cellalignment1973" headers="d78352e9102 d78352e8963">
<p>Displays information about the storage allocated for all segments in the IM column store.</p>
<p><span class="bold">Note:</span> This view is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-63B0AC98-B2B5-4AB8-845B-82FE8A3E6588__GUID-ED729A50-835A-45AE-A947-BD464F1DCB3F">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for detailed information on memory management views.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="manproc.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="secure.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
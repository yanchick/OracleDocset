<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-174"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Viewing%20Information%20About%20CDBs%20and%20PDBs%20with%20SQL%2APlus"></a><title>Viewing Information About CDBs and PDBs with SQL*Plus</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can view information about CDBs and PDBs with SQL*Plus."/>
<meta name="keywords" content="CDBs, viewing information about, monitoring, container data objects, definition, views, PDBs, V$CONTAINERS view, containers, CDB_PDBS view, V$PDBS view, open mode, querying, CONTAINERS clause, current container, initialization parameters, CDB_PDB_HISTORY view"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="cdb_pdb_admin.htm" title="Previous" type="text/html"/>
<link rel="Next" href="cdb_dbrm.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-208C0C35-D105-443B-B788-381F090B1D11"></a> <span id="PAGE" style="display:none;">53/59</span> <!-- End Header -->
<a id="ADMIN13719"></a>
<h1 id="ADMIN-GUID-208C0C35-D105-443B-B788-381F090B1D11" class="sect1"><span class="enumeration_chapter">43</span> Viewing Information About CDBs and PDBs with SQL*Plus</h1>
<p>You can view information about CDBs and PDBs with SQL*Plus.</p>
<a id="ADMIN13931"></a>
<div class="props_rev_3"><a id="GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9"></a>
<h2 id="ADMIN-GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" class="sect2"><span class="enumeration_section">43.1</span> About CDB and PDB Information in Views</h2>
<div>
<p>In a multitenant container database (CDB), the metadata for data dictionary tables and view definitions is stored only in the root. However, each pluggable database (PDB) has its own set of data dictionary tables and views for the database objects contained in the PDB.</p>
<p>Because each PDB can contain different data and schema objects, PDBs can display different information in data dictionary views, even when querying the same data dictionary view in each PDB. For example, the information about tables displayed in the <code class="codeph">DBA_TABLES</code> view can be different in two different PDBs, because the PDBs can contain different tables. An internal mechanism called a metadata link enables a PDB to access the metadata for these views in the root.</p>
<p>If a dictionary table stores information that pertains to the CDB as a whole, instead of for each PDB, then both the metadata and the data displayed in a data dictionary view are stored in the root. For example, Automatic Workload Repository (AWR) data is stored in the root and displayed in some data dictionary views, such as the <code class="codeph">DBA_HIST_ACTIVE_SESS_HISTORY</code> view. An internal mechanism called an object link enables a PDB to access both the metadata and the data for these types of views in the root.</p>
<div class="infoboxnotealso" id="GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9__GUID-95546A3C-C329-42CA-8D3C-7FB5C6B1FCCE">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT89255" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89255"><span class="italic">Oracle Database Concepts</span></a> for more information about dictionary access in containers, metadata links, and object links</p>
</div>
</div>
</div>
<a id="ADMIN13980"></a>
<div class="props_rev_3"><a id="GUID-D4006B79-54C7-4D43-A209-681A13C759CA"></a>
<h2 id="ADMIN-GUID-D4006B79-54C7-4D43-A209-681A13C759CA" class="sect2"><span class="enumeration_section">43.2</span> About Viewing Information When the Current Container Is a PDB</h2>
<div>
<p>When the current container is a PDB, a user can view data dictionary information for the current PDB only.</p>
<p>To an application connected to a particular PDB, the data dictionary appears as it would for a non-CDB. The data dictionary only shows information related to the PDB. Also, in a PDB, <code class="codeph">CDB_</code> views only show information about database objects visible through the corresponding <code class="codeph">DBA_</code> view.</p>
</div>
</div>
<a id="ADMIN13979"></a><a id="ADMIN13978"></a>
<div class="props_rev_3"><a id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C"></a>
<h2 id="ADMIN-GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C" class="sect2"><span class="enumeration_section">43.3</span> About Viewing Information When the Current Container Is the Root</h2>
<div>
<p>When the current container is the root, a common user can view data dictionary information for the root and for PDBs by querying container data objects.</p>
<p>A container data object is a table or view that can contain data pertaining to the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>One or more containers</p>
</li>
<li>
<p>The CDB as a whole</p>
</li>
<li>
<p>One or more containers and the CDB as a whole</p>
</li>
</ul>
<p>Container data objects include <code class="codeph">V$</code>, <code class="codeph">GV$</code>, <code class="codeph">CDB_</code>, and some Automatic Workload Repository <code class="codeph">DBA_HIST*</code> views. A common user&#39;s <code class="codeph">CONTAINER_DATA</code> attribute determines which PDBs are visible in container data objects.</p>
<p>In a CDB, for every <code class="codeph">DBA_</code> view, there is a corresponding <code class="codeph">CDB_</code> view. All <code class="codeph">CDB_</code> views are container data objects, but most <code class="codeph">DBA_</code> views are not.</p>
<p>Each container data object contains a <code class="codeph">CON_ID</code> column that identifies the container for each row returned. <a href="cdb_mon.htm#GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__CHDIGGCJ" title="This table lists the values of the CON_ID column and describes meaning of each CON_ID value.">Table 43-1</a> describes the meanings of the values in the <code class="codeph">CON_ID</code> column.</p>
<div class="tblformal" id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__CHDIGGCJ">
<p class="titleintable">Table 43-1 CON_ID Column in Container Data Objects</p>
<table class="cellalignment1849" title="CON_ID Column in Container Data Objects" summary="This table lists the values of the CON_ID column and describes meaning of each CON_ID value.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d298663e350">Value in CON_ID Column</th>
<th class="cellalignment1950" id="d298663e353">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d298663e358" headers="d298663e350">
<p>0</p>
</td>
<td class="cellalignment1952" headers="d298663e358 d298663e353">
<p>The data pertains to the entire CDB</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d298663e365" headers="d298663e350">
<p>1</p>
</td>
<td class="cellalignment1952" headers="d298663e365 d298663e353">
<p>The data pertains to the root</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d298663e372" headers="d298663e350">
<p>2</p>
</td>
<td class="cellalignment1952" headers="d298663e372 d298663e353">
<p>The data pertains to the seed</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d298663e379" headers="d298663e350">
<p>3 - 254</p>
</td>
<td class="cellalignment1952" headers="d298663e379 d298663e353">
<p>The data pertains to a PDB</p>
<p>Each PDB has its own container ID.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p><a id="d298663e388" class="indexterm-anchor"></a><a id="d298663e390" class="indexterm-anchor"></a><a id="d298663e392" class="indexterm-anchor"></a><a id="d298663e394" class="indexterm-anchor"></a>The following views behave differently from other <code class="codeph">[G]V$</code> views:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">[G]V$SYSSTAT</code></p>
</li>
<li>
<p><code class="codeph">[G]V$SYS_TIME_MODEL</code></p>
</li>
<li>
<p><code class="codeph">[G]V$SYSTEM_EVENT</code></p>
</li>
<li>
<p><code class="codeph">[G]V$SYSTEM_WAIT_CLASS</code></p>
</li>
</ul>
<p>When queried from the root, these views return instance-wide data, with <code class="codeph">0</code> in the <code class="codeph">CON_ID</code> column for each row returned. However, you can query equivalent views that behave the same as other container data objects. The following views can return specific data for each container in a CDB: <code class="codeph">[G]V$CON_SYSSTAT</code>, <code class="codeph">[G]V$CON_SYS_TIME_MODEL</code>, <code class="codeph">[G]V$CON_SYSTEM_EVENT</code>, and <code class="codeph">[G]V$CON_SYSTEM_WAIT_CLASS</code>.</p>
<div class="infobox-note" id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__GUID-BD853FC0-FA8A-446B-8F0D-46061E27F0B4">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>When querying a container data object, the data returned depends on whether PDBs are open and on the privileges granted to the user running the query.</p>
</li>
<li>
<p>In an Oracle Real Application Clusters (Oracle RAC) environment, the data returned by container data objects might vary based on the instance to which a session is connected.</p>
</li>
<li>
<p>In a non-CDB, all <code class="codeph">CON_ID</code> columns in container data objects are 0 (zero).</p>
</li>
</ul>
</div>
<div class="infoboxnotealso" id="GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C__GUID-9654EECA-5E2E-42BF-AE30-FA371F4D0F0F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</li>
<li>
<p><a class="olink CNCPT89349" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89349"><span class="italic">Oracle Database Concepts</span></a> for a conceptual overview of container data objects</p>
</li>
<li>
<p><a class="olink DBSEG803" target="_blank" href="../DBSEG/authorization.htm#DBSEG803"><span class="italic">Oracle Database Security Guide</span></a> for detailed information about container data objects</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13934"></a><a id="ADMIN13933"></a>
<div class="props_rev_3"><a id="GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475"></a>
<h2 id="ADMIN-GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475" class="sect2"><span class="enumeration_section">43.4</span> Views for a CDB</h2>
<div>
<p>You can query a set of views for information about a CDB and its PDBs.</p>
<div class="section">
<p><a href="cdb_mon.htm#GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475__CHDJDCJF" title="This table lists each consolidation database view, a description for each view, and links to more information about each view.">Table 43-2</a> describes data dictionary views that are useful for monitoring a CDB and its PDBs.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-7EE6B341-9A36-4189-BE46-1FDCCCE8B475__CHDJDCJF">
<p class="titleintable">Table 43-2 Views for a CDB</p>
<table class="cellalignment1880" title="Views for a CDB" summary="This table lists each consolidation database view, a description for each view, and links to more information about each view.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1887" id="d298663e568">View</th>
<th class="cellalignment1892" id="d298663e571">Description</th>
<th class="cellalignment1949" id="d298663e574">More Information</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e579" headers="d298663e568">
<p>Container data objects, including:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">V$</code> views</p>
</li>
<li>
<p><code class="codeph">GV$</code> views</p>
</li>
<li>
<p><code class="codeph">CDB_</code> views</p>
</li>
<li>
<p><code class="codeph">DBA_HIST*</code> views</p>
</li>
</ul>
</td>
<td class="cellalignment1895" headers="d298663e579 d298663e571">
<p>Container data objects can display information about multiple PDBs. Each container data object includes a <code class="codeph">CON_ID</code> column to identify containers.</p>
<p>There is a <code class="codeph">CDB_</code> view for each corresponding <code class="codeph">DBA_</code> view.</p>
</td>
<td class="cellalignment1951" headers="d298663e579 d298663e574">
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643" title="In the root, container data objects can show information about database objects (such as tables and users) contained in the root and in PDBs. Access to PDB information is controlled by the common user&#39;s CONTAINER_DATA attribute.">Querying Container Data Objects</a>&#34;</span></p>
<p><a class="olink DBSEG803" target="_blank" href="../DBSEG/authorization.htm#DBSEG803"><span class="italic">Oracle Database Security Guide</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e635" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_PDBS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e635 d298663e571">
<p>Displays information about the PDBs associated with the CDB, including the status of each PDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e635 d298663e574">
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-791AA6B4-A73A-499F-BA9B-D0828838560D" title="The CDB_PDBS view and DBA_PDBS view provide information about the PDBs associated with a CDB, including the status of each PDB.">Viewing Information About PDBs</a>&#34;</span></p>
<p><a class="olink REFRN23794" target="_blank" href="../REFRN/GUID-439126EA-A6B6-45B8-AAFA-37EE4356BBEF.htm#REFRN23794"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e664" headers="d298663e568">
<p><code class="codeph">CDB_PROPERTIES</code></p>
</td>
<td class="cellalignment1895" headers="d298663e664 d298663e571">
<p>Displays the permanent properties of each container in a CDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e664 d298663e574">
<p><a class="olink REFRN29012" target="_blank" href="../REFRN/GUID-00B45039-EC15-4525-B85C-65F72DAE4E1C.htm#REFRN29012"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e679" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_PDB_HISTORY</code></p>
</td>
<td class="cellalignment1895" headers="d298663e679 d298663e571">
<p>Displays the history of each PDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e679 d298663e574">
<p><a class="olink REFRN23865" target="_blank" href="../REFRN/GUID-063D4A77-1F69-4271-88A4-C30D6382C50B.htm#REFRN23865"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e694" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_CONTAINER_DATA</code></p>
</td>
<td class="cellalignment1895" headers="d298663e694 d298663e571">
<p>Displays information about the user-level and object-level <code class="codeph">CONTAINER_DATA</code> attributes specified in the CDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e694 d298663e574">
<p><a class="olink REFRN23866" target="_blank" href="../REFRN/GUID-094B1D4B-F6BB-43CE-A1FC-3D6DA51CE1BA.htm#REFRN23866"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e712" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_HIST_PDB_INSTANCE</code></p>
</td>
<td class="cellalignment1895" headers="d298663e712 d298663e571">
<p>Displays the PDBs and instances in the Workload Repository.</p>
</td>
<td class="cellalignment1951" headers="d298663e712 d298663e574">
<p><a class="olink REFRN23862" target="_blank" href="../REFRN/GUID-9B94DB9D-AF5B-4EDA-AB63-B8C9684A2EF6.htm#REFRN23862"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e727" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_PDB_SAVED_STATES</code></p>
</td>
<td class="cellalignment1895" headers="d298663e727 d298663e571">
<p>Displays information about the current saved PDB states in the CDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e727 d298663e574">
<p><a class="olink REFRN23959" target="_blank" href="../REFRN/GUID-274837D6-59B3-4C9D-80C5-481BF8298DBA.htm#REFRN23959"><span class="italic">Oracle Database Reference</span></a></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" title="You can preserve the open mode of one or more PDBs when the CDB restarts by using the ALTER PLUGGABLE DATABASE SQL statement with a pdb_save_or_discard_state clause.">Preserving or Discarding the Open Mode of PDBs When the CDB Restarts</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e762" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_CDB_RSRC_PLANS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e762 d298663e571">
<p>Displays information about all the CDB resource plans.</p>
</td>
<td class="cellalignment1951" headers="d298663e762 d298663e574">
<p><a class="olink REFRN23809" target="_blank" href="../REFRN/GUID-43FE799A-5659-4327-ADB8-773A05F572FB.htm#REFRN23809"><span class="italic">Oracle Database Reference</span></a></p>
<p><span class="q">&#34;<a href="cdb_dbrm.htm#GUID-D9CBC576-4C49-4C47-9328-937E81409C0D" title="An example illustrates using the DBA_CDB_RSRC_PLANS view to display all of the CDB resource plans defined in the CDB.">Viewing CDB Resource Plans</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e788" headers="d298663e568">
<p><code class="codeph">{CDB|DBA}_CDB_RSRC_PLAN_DIRECTIVES</code></p>
</td>
<td class="cellalignment1895" headers="d298663e788 d298663e571">
<p>Displays information about all the CDB resource plan directives.</p>
</td>
<td class="cellalignment1951" headers="d298663e788 d298663e574">
<p><a class="olink REFRN23808" target="_blank" href="../REFRN/GUID-375191F5-699B-4D3E-95EA-D94622E437E8.htm#REFRN23808"><span class="italic">Oracle Database Reference</span></a></p>
<p><span class="q">&#34;<a href="cdb_dbrm.htm#GUID-E89C4503-9DAB-4600-B406-01AAC01F4734" title="An example illustrates using the DBA_CDB_RSRC_PLAN_DIRECTIVES view to display all of the directives defined in all of the CDB resource plans in the CDB.">Viewing CDB Resource Plan Directives</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e814" headers="d298663e568">
<p><code class="codeph">PDB_ALERTS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e814 d298663e571">
<p>Contains descriptions of reasons for PDB alerts.</p>
</td>
<td class="cellalignment1951" headers="d298663e814 d298663e574">
<p><a class="olink REFRN29165" target="_blank" href="../REFRN/GUID-A0A0BE5C-E466-4423-80A6-D94C0BF48939.htm#REFRN29165"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e829" headers="d298663e568">
<p><code class="codeph">PDB_PLUG_IN_VIOLATIONS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e829 d298663e571">
<p>Displays information about incompatibilities between a PDB and the CDB to which it belongs. This view is also used to display information generated by executing <code class="codeph">DBMS_PDB.CHECK_PLUG_COMPATIBILITY</code>.</p>
</td>
<td class="cellalignment1951" headers="d298663e829 d298663e574">
<p><a class="olink REFRN29161" target="_blank" href="../REFRN/GUID-845E5369-CCB0-4F8D-AE09-447EF0CAC93F.htm#REFRN29161"><span class="italic">Oracle Database Reference</span></a></p>
<p><span class="q">&#34;<a href="cdb_plug.htm#GUID-3132C4E5-8734-458B-8B0C-EFC77A45FFA3" title="You can create a PDB by plugging an unplugged PDB into a CDB.">Creating a PDB by Plugging an Unplugged PDB into a CDB</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e856" headers="d298663e568">
<p><code class="codeph">{USER|ALL|DBA|CDB}_OBJECTS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e856 d298663e571">
<p>Displays information about database objects, and the <code class="codeph">SHARING</code> column shows whether a database object is a metadata-linked object, an object-linked object, or a standalone object that is not linked to another object.</p>
</td>
<td class="cellalignment1951" headers="d298663e856 d298663e574">
<p><a class="olink REFRN20146" target="_blank" href="../REFRN/GUID-AA6DEF8B-F04F-482A-8440-DBCB18F6C976.htm#REFRN20146"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e874" headers="d298663e568">
<p><code class="codeph">{ALL|DBA|CDB}_SERVICES</code></p>
</td>
<td class="cellalignment1895" headers="d298663e874 d298663e571">
<p>Displays information about database services, and the <code class="codeph">PDB</code> column shows the name of the PDB associated with each service.</p>
</td>
<td class="cellalignment1951" headers="d298663e874 d298663e574">
<p><a class="olink REFRN20465" target="_blank" href="../REFRN/GUID-0091C6CB-6852-4253-8FE7-7F0FF053C652.htm#REFRN20465"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e892" headers="d298663e568">
<p><code class="codeph">{USER|ALL|DBA|CDB}_VIEWS</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_TABLES</code></p>
</td>
<td class="cellalignment1895" headers="d298663e892 d298663e571">
<p>The <code class="codeph">CONTAINER_DATA</code> column shows whether the view or table is a container data object.</p>
</td>
<td class="cellalignment1951" headers="d298663e892 d298663e574">&nbsp;</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e908" headers="d298663e568">
<p><code class="codeph">{USER|ALL|DBA|CDB}_USERS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e908 d298663e571">
<p>The <code class="codeph">COMMON</code> column shows whether a user is a common user or a local user.</p>
</td>
<td class="cellalignment1951" headers="d298663e908 d298663e574">&nbsp;</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e922" headers="d298663e568">
<p><code class="codeph">{USER|ALL|DBA|CDB}_ROLES</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_COL_PRIVS</code></p>
<p><code class="codeph">{USER|ALL}_COL_PRIVS_MADE</code></p>
<p><code class="codeph">{USER|ALL}_COL_PRIVS_RECD</code></p>
<p><code class="codeph">{USER|ALL}_TAB_PRIVS_MADE</code></p>
<p><code class="codeph">{USER|ALL}_TAB_PRIVS_RECD</code></p>
<p><code class="codeph">{USER|DBA|CDB}_SYS_PRIVS</code></p>
<p><code class="codeph">{USER|DBA|CDB}_ROLE_PRIVS</code></p>
<p><code class="codeph">ROLE_TAB_PRIVS</code></p>
<p><code class="codeph">ROLE_SYS_PRIVS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e922 d298663e571">
<p>The <code class="codeph">COMMON</code> column shows whether a role or privilege is commonly granted or locally granted.</p>
</td>
<td class="cellalignment1951" headers="d298663e922 d298663e574">&nbsp;</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e963" headers="d298663e568">
<p><code class="codeph">{USER|ALL|DBA|CDB}_ARGUMENTS</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_CLUSTERS</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_CONSTRAINTS</code></p>
<p><code class="codeph">{ALL|DBA|CDB}_DIRECTORIES</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_IDENTIFIERS</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_LIBRARIES</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_PROCEDURES</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_SOURCE</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_SYNONYMS</code></p>
<p><code class="codeph">{USER|ALL|DBA|CDB}_VIEWS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e963 d298663e571">
<p>The <code class="codeph">ORIGIN_CON_ID</code> column shows the ID of the container from which the row originates.</p>
</td>
<td class="cellalignment1951" headers="d298663e963 d298663e574">&nbsp;</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e1004" headers="d298663e568">
<p><code class="codeph">[G]V$DATABASE</code></p>
</td>
<td class="cellalignment1895" headers="d298663e1004 d298663e571">
<p>Displays information about the database from the control file. If the database is a CDB, then CDB-related information is included.</p>
</td>
<td class="cellalignment1951" headers="d298663e1004 d298663e574">
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-F658ADCA-83FD-4E92-8080-3964A49886E6" title="You can query the CDB column in the V$DATABASE view to determine whether a database is a CDB or a non-CDB. The CDB column returns YES if the current database is a CDB or NO if the current database is a non-CDB.">Determining Whether a Database Is a CDB</a>&#34;</span></p>
<p><a class="olink REFRN30047" target="_blank" href="../REFRN/GUID-C62A7B96-2DD4-4E70-A0D9-26EE4BFBE256.htm#REFRN30047"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e1042" headers="d298663e568">
<p><code class="codeph">[G]V$CONTAINERS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e1042 d298663e571">
<p>Displays information about the containers associated with the current CDB, including the root and all PDBs.</p>
</td>
<td class="cellalignment1951" headers="d298663e1042 d298663e574">
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" title="The V$CONTAINERS view provides information about all of the containers in a CDB, including the root and all PDBs.">Viewing Information About the Containers in a CDB</a>&#34;</span></p>
<p><a class="olink REFRN30708" target="_blank" href="../REFRN/GUID-8865FE4F-C22F-4B04-BC21-A28FFFC92072.htm#REFRN30708"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e1068" headers="d298663e568">
<p><code class="codeph">[G]V$PDBS</code></p>
</td>
<td class="cellalignment1895" headers="d298663e1068 d298663e571">
<p>Displays information about the PDBs associated with the current CDB, including the open mode of each PDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e1068 d298663e574">
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-471392CB-6F96-423E-8320-6EED79787891" title="The V$PDBS view provides information about the PDBs associated with the current database instance.">Viewing the Open Mode of Each PDB</a>&#34;</span></p>
<p><a class="olink REFRN30652" target="_blank" href="../REFRN/GUID-A399F608-36C8-4DF0-9A13-CEE25637653E.htm#REFRN30652"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e1094" headers="d298663e568">
<p><code class="codeph">[G]V$PDB_INCARNATION</code></p>
</td>
<td class="cellalignment1895" headers="d298663e1094 d298663e571">
<p>Displays displays information about all PDB incarnations. Oracle creates a new PDB incarnation whenever a PDB is opened with the <code class="codeph">RESETLOGS</code> option.</p>
</td>
<td class="cellalignment1951" headers="d298663e1094 d298663e574">
<p><a class="olink REFRN30709" target="_blank" href="../REFRN/GUID-1EDD35B1-8D7B-4883-8C58-49006B791EFF.htm#REFRN30709"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d298663e1112" headers="d298663e568">
<p><code class="codeph">[G]V$SYSTEM_PARAMETER</code></p>
<p><code class="codeph">[G]V$PARAMETER</code></p>
</td>
<td class="cellalignment1895" headers="d298663e1112 d298663e571">
<p>Displays information about initialization parameters, and the <code class="codeph">ISPDB_MODIFIABLE</code> column shows whether a parameter can be modified for a PDB.</p>
</td>
<td class="cellalignment1951" headers="d298663e1112 d298663e574">
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" title="In a CDB, some initialization parameters apply to the root and to all of the PDBs. When such an initialization parameter is changed, it affects the entire CDB. You can set other initialization parameters to different values in each container.">Listing the Initialization Parameters That Are Modifiable in PDBs</a>&#34;</span></p>
<p><a class="olink REFRN30275" target="_blank" href="../REFRN/GUID-2F2801AE-44CB-4C86-ADBE-91CFBC0B8407.htm#REFRN30275"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN14175"></a><a id="ADMIN14174"></a>
<div class="props_rev_3"><a id="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6"></a>
<h2 id="ADMIN-GUID-F658ADCA-83FD-4E92-8080-3964A49886E6" class="sect2"><span class="enumeration_section">43.5</span> Determining Whether a Database Is a CDB</h2>
<div>
<p>You can query the <code class="codeph">CDB</code> column in the <code class="codeph">V$DATABASE</code> view to determine whether a database is a CDB or a non-CDB. The <code class="codeph">CDB</code> column returns <code class="codeph">YES</code> if the current database is a CDB or <code class="codeph">NO</code> if the current database is a non-CDB.</p>
<div class="section">
<p>To determine whether a database is a CDB:</p>
<ol>
<li>
<p>In SQL*Plus, connect to the database as an administrative user.</p>
</li>
<li>
<p>Query the <code class="codeph">V$DATABASE</code> view.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="example" id="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6__GUID-15EFC17F-C86D-4183-8754-6BAF6FB5BDEA">
<p class="titleinexample">Example 43-1 Determining Whether a Database is a CDB</p>
<pre dir="ltr">SELECT CDB FROM V$DATABASE;
</pre>
<p>Sample output:</p>
<pre dir="ltr">CDB
---
YES
</pre>
<div class="infoboxnotealso" id="GUID-F658ADCA-83FD-4E92-8080-3964A49886E6__GUID-32429326-A679-42E1-BA3C-890B8CE5F4CC">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN30047" target="_blank" href="../REFRN/GUID-C62A7B96-2DD4-4E70-A0D9-26EE4BFBE256.htm#REFRN30047"><span class="italic">Oracle Database Reference</span></a></p>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN14118"></a><a id="ADMIN14117"></a>
<div class="props_rev_3"><a id="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E"></a>
<h2 id="ADMIN-GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" class="sect2"><span class="enumeration_section">43.6</span> Viewing Information About the Containers in a CDB</h2>
<div>
<p>The <code class="codeph">V$CONTAINERS</code> view provides information about all of the containers in a CDB, including the root and all PDBs.</p>
<div class="section">
<p>To view this information, the query must be run by a common user whose current container is the root. When the current container is a PDB, this view only shows information about the current PDB.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To view information about the containers in a CDB:</p>
<ol>
<li>
<p>In SQL*Plus, ensure that the current container is the root.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Query the <code class="codeph">V$CONTAINERS</code> view.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="example" id="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E__GUID-EABF0D58-1142-4E17-B7CB-0D0B737C550D">
<p class="titleinexample">Example 43-2 Viewing Identifying Information About Each Container in a CDB</p>
<pre dir="ltr">COLUMN NAME FORMAT A8

SELECT NAME, CON_ID, DBID, CON_UID, GUID FROM V$CONTAINERS ORDER BY CON_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">NAME         CON_ID       DBID    CON_UID GUID
-------- ---------- ---------- ---------- --------------------------------
CDB$ROOT          1  659189539          1 C091A6F89C7572A1E0436797E40AC78D
PDB$SEED          2 4026479912 4026479912 C091AE9C00377591E0436797E40AC138
HRPDB             3 3718888687 3718888687 C091B6B3B53E7834E0436797E40A9040
SALESPDB          4 2228741407 2228741407 C091FA64EF8F0577E0436797E40ABE9F
</pre>
<div class="infoboxnotealso" id="GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E__GUID-F3736D7F-14EA-4A0F-942F-4FA3DBBCB40F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_intro.htm#GUID-A1F3A63E-3BE5-4B80-A053-46D9EF71D45E" title="You can use the Oracle Multitenant option to configure and manage a multitenant environment. The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB) that includes zero, one, or many customer-created pluggable databases (PDBs). A PDB is a portable collection of schemas, schema objects, and nonschema objects that appears to an Oracle Net client as a non-CDB. All Oracle databases before Oracle Database 12c were non-CDBs.">About a Multitenant Environment</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="You can determine your current container ID or container name in a CDB.">Determining the Current Container ID or Name</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN30708" target="_blank" href="../REFRN/GUID-8865FE4F-C22F-4B04-BC21-A28FFFC92072.htm#REFRN30708"><span class="italic">Oracle Database Reference</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN13936"></a><a id="ADMIN13935"></a>
<div class="props_rev_3"><a id="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D"></a>
<h2 id="ADMIN-GUID-791AA6B4-A73A-499F-BA9B-D0828838560D" class="sect2"><span class="enumeration_section">43.7</span> Viewing Information About PDBs</h2>
<div>
<p>The <code class="codeph">CDB_PDBS</code> view and <code class="codeph">DBA_PDBS</code> view provide information about the PDBs associated with a CDB, including the status of each PDB.</p>
<div class="section">
<p>To view this information, the query must be run by a common user whose current container is the root. When the current container is a PDB, all queries on these views return no results.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To view information about PDBs:</p>
<ol>
<li>
<p>In SQL*Plus, ensure that the current container is the root.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Query the <code class="codeph">CDB_PDBS</code> or <code class="codeph">DBA_PDBS</code> view.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="example" id="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D__GUID-58F3AFCD-685C-4721-8707-52CC8535AA60">
<p class="titleinexample">Example 43-3 Viewing Container ID, Name, and Status of Each PDB</p>
<pre dir="ltr">COLUMN PDB_NAME FORMAT A15
 
SELECT PDB_ID, PDB_NAME, STATUS FROM DBA_PDBS ORDER BY PDB_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">    PDB_ID PDB_NAME        STATUS
---------- --------------- -------------
         2 PDB$SEED        NORMAL
         3 HRPDB           NORMAL
         4 SALESPDB        NORMAL
</pre>
<div class="infoboxnotealso" id="GUID-791AA6B4-A73A-499F-BA9B-D0828838560D__GUID-189B34B7-881C-4724-A2F5-B0EE6EAAA75C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN13938"></a><a id="ADMIN13937"></a>
<div class="props_rev_3"><a id="GUID-471392CB-6F96-423E-8320-6EED79787891"></a>
<h2 id="ADMIN-GUID-471392CB-6F96-423E-8320-6EED79787891" class="sect2"><span class="enumeration_section">43.8</span> Viewing the Open Mode of Each PDB</h2>
<div>
<p>The <code class="codeph">V$PDBS</code> view provides information about the PDBs associated with the current database instance.</p>
<div class="section">
<p>You can query this view to determine the open mode of each PDB. For each PDB that is open, this view can also show when the PDB was last opened. A common user can query this view when the current container is the root or a PDB. When the current container is a PDB, this view only shows information about the current PDB.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To view the open status of each PDB:</p>
<ol>
<li>
<p>In SQL*Plus, access a container.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Query the <code class="codeph">V$PDBS</code> view.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="example" id="GUID-471392CB-6F96-423E-8320-6EED79787891__GUID-CE599FD7-22C0-4B53-90B2-5A8A7DD4ED60">
<p class="titleinexample">Example 43-4 Viewing the Name and Open Mode of Each PDB</p>
<pre dir="ltr">COLUMN NAME FORMAT A15
COLUMN RESTRICTED FORMAT A10
COLUMN OPEN_TIME FORMAT A30
 
SELECT NAME, OPEN_MODE, RESTRICTED, OPEN_TIME FROM V$PDBS;
</pre>
<p>Sample output:</p>
<pre dir="ltr">NAME            OPEN_MODE  RESTRICTED OPEN_TIME
--------------- ---------- ---------- ------------------------------
PDB$SEED        READ ONLY  NO         21-MAY-12 12.19.54.465 PM
HRPDB           READ WRITE NO         21-MAY-12 12.34.05.078 PM
SALESPDB        MOUNTED    NO         22-MAY-12 10.37.20.534 AM
</pre>
<div class="infoboxnotealso" id="GUID-471392CB-6F96-423E-8320-6EED79787891__GUID-02C7F18A-F56E-4897-9581-3D7D57A26587">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" title="You can modify the open mode of PDBs with the ALTER PLUGGABLE DATABASE statement with a pdb_change_state clause.">Modifying the Open Mode of PDBs with ALTER PLUGGABLE DATABASE</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_pdb_admin.htm#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="You can use the ALTER PLUGGABLE DATABASE statement to modify the attributes of a single PDB.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN13940"></a><a id="ADMIN13941"></a><a id="ADMIN13981"></a><a id="ADMIN14105"></a><a id="ADMIN14106"></a><a id="ADMIN13939"></a>
<div class="props_rev_3"><a id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643"></a>
<h2 id="ADMIN-GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643" class="sect2"><span class="enumeration_section">43.9</span> Querying Container Data Objects</h2>
<div>
<p>In the root, container data objects can show information about database objects (such as tables and users) contained in the root and in PDBs. Access to PDB information is controlled by the common user&#39;s <code class="codeph">CONTAINER_DATA</code> attribute.</p>
<div class="section">
<p>For example, <code class="codeph">CDB_</code> views are container data objects. See <span class="q">&#34;<a href="cdb_mon.htm#GUID-28ACB9B7-CBB4-4595-B5A2-2BAA54C3C76C" title="When the current container is the root, a common user can view data dictionary information for the root and for PDBs by querying container data objects.">About Viewing Information When the Current Container Is the Root</a>&#34;</span> and <a class="olink DBSEG803" target="_blank" href="../DBSEG/authorization.htm#DBSEG803"><span class="italic">Oracle Database Security Guide</span></a> for more information about container data objects.</p>
<p>Each container data object contains a <code class="codeph">CON_ID</code> column that shows the container ID of each PDB in the query results. You can view the PDB name for a container ID by querying the <code class="codeph">DBA_PDBS</code> view.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To use container data objects to show information about multiple PDBs:</p>
<ol>
<li>
<p>In SQL*Plus, ensure that the current container is the root.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Query the container data object to show the desired information.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<div class="infobox-note" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__GUID-2C6498D1-EA74-42D4-A756-B7AC23E2B4E0">
<p class="notep1">Note:</p>
<p>When a query contains a join of a container data object and a non-container data object, and the current container is the root, the query returns data for the entire CDB only (<code class="codeph">CON_ID</code> = <code class="codeph">0</code>).</p>
</div>
<div class="infoboxnotealso" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__GUID-F51A77AC-7C7B-4522-AF5D-418C88A76542">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</li>
<li>
<p><a class="olink CNCPT89349" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89349"><span class="italic">Oracle Database Concepts</span></a> for a conceptual overview of container data objects</p>
</li>
<li>
<p><a class="olink DBSEG803" target="_blank" href="../DBSEG/authorization.htm#DBSEG803"><span class="italic">Oracle Database Security Guide</span></a> for detailed information about container data objects</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDAJGJ">
<p class="titleinexample">Example 43-5 Showing the Tables Owned by Specific Schemas in Multiple PDBs</p>
<p>This example queries the <code class="codeph">DBA_PDBS</code> view and the <code class="codeph">CDB_TABLES</code> view from the root to show the tables owned by <code class="codeph">hr</code> user and <code class="codeph">oe</code> user in the PDBs associated with the CDB. This query returns only rows where the PDB has an ID greater than 2 (<code class="codeph">p.PDB_ID &gt; 2</code>) to avoid showing the users in the root and seed.</p>
<pre dir="ltr">COLUMN PDB_NAME FORMAT A15
COLUMN OWNER FORMAT A15
COLUMN TABLE_NAME FORMAT A30
 
SELECT p.PDB_ID, p.PDB_NAME, t.OWNER, t.TABLE_NAME 
  FROM DBA_PDBS p, CDB_TABLES t 
  WHERE p.PDB_ID &gt; 2 AND
        t.OWNER IN(&#39;HR&#39;,&#39;OE&#39;) AND
        p.PDB_ID = t.CON_ID
  ORDER BY p.PDB_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">    PDB_ID PDB_NAME        OWNER           TABLE_NAME
---------- --------------- --------------- ------------------------------
         3 HRPDB           HR              COUNTRIES
         3 HRPDB           HR              JOB_HISTORY
         3 HRPDB           HR              EMPLOYEES
         3 HRPDB           HR              JOBS
         3 HRPDB           HR              DEPARTMENTS
         3 HRPDB           HR              LOCATIONS
         3 HRPDB           HR              REGIONS
         4 SALESPDB        OE              PRODUCT_INFORMATION
         4 SALESPDB        OE              INVENTORIES
         4 SALESPDB        OE              ORDERS
         4 SALESPDB        OE              ORDER_ITEMS
         4 SALESPDB        OE              WAREHOUSES
         4 SALESPDB        OE              CUSTOMERS
         4 SALESPDB        OE              SUBCATEGORY_REF_LIST_NESTEDTAB
         4 SALESPDB        OE              PRODUCT_REF_LIST_NESTEDTAB
         4 SALESPDB        OE              PROMOTIONS
         4 SALESPDB        OE              PRODUCT_DESCRIPTIONS
</pre>
<p>This sample output shows the PDB <code class="codeph">hrpdb</code> has tables in the <code class="codeph">hr</code> schema and the PDB <code class="codeph">salespdb</code> has tables in the <code class="codeph">oe</code> schema.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDAIE">
<p class="titleinexample">Example 43-6 Showing the Users in Multiple PDBs</p>
<p>This example queries the <code class="codeph">DBA_PDBS</code> view and the <code class="codeph">CDB_USERS</code> view from the root to show the users in each PDB. The query uses <code class="codeph">p.PDB_ID &gt; 2</code> to avoid showing the users in the root and the seed.</p>
<pre dir="ltr">COLUMN PDB_NAME FORMAT A15
COLUMN USERNAME FORMAT A30
 
SELECT p.PDB_ID, p.PDB_NAME, u.USERNAME 
  FROM DBA_PDBS p, CDB_USERS u
  WHERE p.PDB_ID &gt; 2 AND
        p.PDB_ID = u.CON_ID
  ORDER BY p.PDB_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">    PDB_ID PDB_NAME        USERNAME
---------- --------------- ------------------------------
         .
         .
         .
         3 HRPDB           HR
         3 HRPDB           OLAPSYS
         3 HRPDB           MDSYS
         3 HRPDB           ORDSYS
         .
         .
         .
         4 SALESPDB        OE
         4 SALESPDB        CTXSYS
         4 SALESPDB        MDSYS
         4 SALESPDB        EXFSYS
         4 SALESPDB        OLAPSYS
         .
         .
         .
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDHDICB">
<p class="titleinexample">Example 43-7 Showing the Data Files for Each PDB in a CDB</p>
<p>This example queries the <code class="codeph">DBA_PDBS</code> and <code class="codeph">CDB_DATA_FILES</code> views to show the name and location of each data file for all of the PDBs in a CDB, including the seed.</p>
<pre dir="ltr">COLUMN PDB_ID FORMAT 999
COLUMN PDB_NAME FORMAT A8
COLUMN FILE_ID FORMAT 9999
COLUMN TABLESPACE_NAME FORMAT A10
COLUMN FILE_NAME FORMAT A45

SELECT p.PDB_ID, p.PDB_NAME, d.FILE_ID, d.TABLESPACE_NAME, d.FILE_NAME
  FROM DBA_PDBS p, CDB_DATA_FILES d
  WHERE p.PDB_ID = d.CON_ID
  ORDER BY p.PDB_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">PDB_ID PDB_NAME FILE_ID TABLESPACE FILE_NAME
------ -------- ------- ---------- ---------------------------------------------
     2 PDB$SEED       6 SYSAUX     /disk1/oracle/dbs/pdbseed/cdb1_ax.f
     2 PDB$SEED       5 SYSTEM     /disk1/oracle/dbs/pdbseed/cdb1_db.f
     3 HRPDB          9 SYSAUX     /disk1/oracle/dbs/hrpdb/hrpdb_ax.f
     3 HRPDB          8 SYSTEM     /disk1/oracle/dbs/hrpdb/hrpdb_db.f
     3 HRPDB         13 USER       /disk1/oracle/dbs/hrpdb/hrpdb_usr.dbf
     4 SALESPDB      15 SYSTEM     /disk1/oracle/dbs/salespdb/salespdb_db.f
     4 SALESPDB      16 SYSAUX     /disk1/oracle/dbs/salespdb/salespdb_ax.f
     4 SALESPDB      18 USER       /disk1/oracle/dbs/salespdb/salespdb_usr.dbf
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDFECJE">
<p class="titleinexample">Example 43-8 Showing the Temp Files in a CDB</p>
<p>This example queries the <code class="codeph">CDB_TEMP_FILES</code> view to show the name and location of each temp file in a CDB, as well as the tablespace that uses the temp file.</p>
<pre dir="ltr">COLUMN CON_ID FORMAT 999
COLUMN FILE_ID FORMAT 9999
COLUMN TABLESPACE_NAME FORMAT A15
COLUMN FILE_NAME FORMAT A45

SELECT CON_ID, FILE_ID, TABLESPACE_NAME, FILE_NAME
  FROM CDB_TEMP_FILES
  ORDER BY CON_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">CON_ID FILE_ID TABLESPACE_NAME FILE_NAME
------ ------- --------------- ---------------------------------------------
     1       1 TEMP            /disk1/oracle/dbs/t_tmp1.f
     2       2 TEMP            /disk1/oracle/dbs/pdbseed/t_tmp1.f
     3       3 TEMP            /disk1/oracle/dbs/hrpdb/t_hrpdb_tmp1.f
     4       4 TEMP            /disk1/oracle/dbs/salespdb/t_salespdb_tmp1.f
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">
<p class="titleinexample">Example 43-9 Showing the Services Associated with PDBs</p>
<p>This example queries the <code class="codeph">CDB_SERVICES</code> view to show the PDB name, network name, and container ID of each service associated with a PDB.</p>
<pre dir="ltr">COLUMN NETWORK_NAME FORMAT A30
COLUMN PDB FORMAT A15
COLUMN CON_ID FORMAT 999

SELECT PDB, NETWORK_NAME, CON_ID FROM CDB_SERVICES
  WHERE PDB IS NOT NULL AND
        CON_ID &gt; 2
  ORDER BY PDB;
</pre>
<p>Sample output:</p>
<pre dir="ltr">PDB             NETWORK_NAME                   CON_ID
--------------- ------------------------------ ------
HRPDB           hrpdb.example.com                   3
SALESPDB        salespdb.example.com                4
</pre>
<div class="infoboxnotealso" id="GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__GUID-70779C51-3585-4382-9D42-7F093306A58F">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN20465" target="_blank" href="../REFRN/GUID-0091C6CB-6852-4253-8FE7-7F0FF053C652.htm#REFRN20465"><span class="italic">Oracle Database Reference</span></a></p>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN14328"></a><a id="ADMIN14320"></a><a id="ADMIN14319"></a>
<div class="props_rev_3"><a id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A"></a>
<h2 id="ADMIN-GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A" class="sect2"><span class="enumeration_section">43.10</span> Querying User-Created Tables and Views Across All PDBs</h2>
<div>
<p>The <code class="codeph">CONTAINERS</code> clause enables you to query user-created tables and views across all PDBs in a CDB. This clause enables queries from the root to display data in tables or views that exist in all of the open PDBs in a CDB.</p>
<div class="section">
<div class="infobox-note" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-DF05121F-0585-4B5E-8CA6-1693575089D0">
<p class="notep1">Note:</p>
<p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).</p>
</div>
<p>The following prerequisites must be met:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The tables and views, or synonyms of them, specified in the <code class="codeph">CONTAINERS</code> clause must exist in the root and in all PDBs.</p>
</li>
<li>
<p>Each table and view specified in the <code class="codeph">CONTAINERS</code> clause must be owned by the common user issuing the statement. When a synonym is specified in the <code class="codeph">CONTAINERS</code> clause, the synonym must resolve to a table or a view owned by the common user issuing the statement.</p>
</li>
</ul>
<p>Columns of the following types are removed if they exist in a table specified in a <code class="codeph">CONTAINERS</code> clause:</p>
<ul style="list-style-type: disc;">
<li>
<p>The following user-defined types: object types, varrays, REFs, and nested tables</p>
</li>
<li>
<p>The following Oracle-supplied types: <code class="codeph">ANYTYPE</code>, <code class="codeph">ANYDATASET</code>, URI types, <code class="codeph">SDO_TOPO_GEOMETRY</code>, <code class="codeph">SDO_GEORASTER</code>, and <code class="codeph">Expression</code></p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p>To use the <code class="codeph">CONTAINERS</code> clause to query tables and views across all PDBs:</p>
<ol>
<li>
<p>In SQL*Plus, access a container.</p>
<p>To view data in multiple PDBs, ensure that the current container is the root.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Run a query that includes the <code class="codeph">CONTAINERS</code> clause.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section"></div>
<!-- class="section" -->
<div class="example" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-2C099A06-4478-4284-B033-889C067AAD43">
<p class="titleinexample">Example 43-10 Querying a Table Owned by a Common User Across All PDBs</p>
<p>This example makes the following assumptions:</p>
<ul style="list-style-type: disc;">
<li>
<p>An organization has several PDBs, and each PDB is for a different department in the organization.</p>
</li>
<li>
<p>Each PDB has an <code class="codeph">employees</code> table that tracks the employees in the department, but the table in each PDB contains different employees.</p>
</li>
<li>
<p>The root also has an empty <code class="codeph">employees</code> table.</p>
</li>
<li>
<p>The employees table in each container is owned by the same common user.</p>
</li>
</ul>
<p>With the root as the current container and the common user that owns the table as the current user, run the following query with the <code class="codeph">CONTAINERS</code> clause to return all of the employees in the <code class="codeph">employees</code> table in all PDBs:</p>
<pre dir="ltr">SELECT * FROM CONTAINERS(employees);
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-5A6DAE94-DC88-4288-9F29-519D08B0A51B">
<p class="titleinexample">Example 43-11 Querying a Table Owned by Local Users Across All PDBs</p>
<p>This example makes the following assumptions:</p>
<ul style="list-style-type: disc;">
<li>
<p>An organization has several PDBs, and each PDB is for a different department in the organization.</p>
</li>
<li>
<p>Each PDB has an <code class="codeph">hr.employees</code> table that tracks the employees in the department, but the table in each PDB contains different employees.</p>
</li>
<li>
<p>The root also has an empty <code class="codeph">employees</code> table owned by a common user.</p>
</li>
</ul>
<p>To run a query that returns all of the employees in all of the PDBs, first connect to each PDB as a common user, and create a view with the following statement:</p>
<pre dir="ltr">CREATE OR REPLACE VIEW employees AS SELECT * FROM hr.employees;
</pre>
<p>The common user that owns the view must be the same common user that owns the <code class="codeph">employees</code> table in the root. After you run this statement in each PDB, the common user has a view named <code class="codeph">employees</code> in each PDB.</p>
<p>With the root as the current container and the common user as the current user, run the following query with the <code class="codeph">CONTAINERS</code> clause to return all of the employees in the <code class="codeph">hr.employees</code> table in all PDBs:</p>
<pre dir="ltr">SELECT * FROM CONTAINERS(employees);
</pre>
<p>You can also query the view in specific containers. For example, the following SQL statement queries the view in the containers with a <code class="codeph">CON_ID</code> of <code class="codeph">3</code> and <code class="codeph">4</code>:</p>
<pre dir="ltr">SELECT * FROM CONTAINERS(employees) WHERE CON_ID IN(3,4);
</pre>
<div class="infobox-note" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-DF76BE76-AC9D-4918-821E-287B9C9B8215">
<p class="notep1">Note:</p>
<p>You can also use the <code class="codeph">CONTAINERS</code> clause to query Oracle-supplied tables and views. When running the query, ensure that the current user is the owner of the table or view, or create a view using the <code class="codeph">CONTAINERS</code> clause and grant <code class="codeph">SELECT</code> privilege on the view to the appropriate users.</p>
</div>
<div class="infoboxnotealso" id="GUID-6AD8C429-0944-47BF-882C-7BBBBF83B69A__GUID-DA350AE5-D134-4F2D-B097-6FCFDE6C40EA">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SQLRF56898" target="_blank" href="../SQLRF/statements_10002.htm#SQLRF56898"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">CONTAINERS</code> clause</p>
</li>
<li>
<p><a class="olink CNCPT89349" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89349"><span class="italic">Oracle Database Concepts</span></a> for a conceptual overview of container data objects</p>
</li>
<li>
<p><a class="olink DBSEG803" target="_blank" href="../DBSEG/authorization.htm#DBSEG803"><span class="italic">Oracle Database Security Guide</span></a> for detailed information about container data objects</p>
</li>
</ul>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN14107"></a><a id="ADMIN14108"></a><a id="ADMIN14109"></a><a id="ADMIN13720"></a>
<div class="props_rev_3"><a id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6"></a>
<h2 id="ADMIN-GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" class="sect2"><span class="enumeration_section">43.11</span> Determining the Current Container ID or Name</h2>
<div>
<p>You can determine your current container ID or container name in a CDB.</p>
<div class="section"></div>
<!-- class="section" -->
<div class="section">
<p>To determine the current container ID:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the following SQL*Plus command:</p>
<pre dir="ltr">SHOW CON_ID
</pre></li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p>To determine the current container name:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the following SQL*Plus command:</p>
<pre dir="ltr">SHOW CON_NAME
</pre></li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p>In addition, you can use the functions listed in <a href="cdb_mon.htm#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__CHDCAAFC" title="This table lists and describes the functions that return the container ID of a container.">Table 43-3</a> to determine the container ID of a container.</p>
<div class="tblformal" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__CHDCAAFC">
<p class="titleintable">Table 43-3 Functions That Return the Container ID of a Container</p>
<table class="cellalignment1849" title="Functions That Return the Container ID of a Container" summary="This table lists and describes the functions that return the container ID of a container.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d298663e2440">Function</th>
<th class="cellalignment1963" id="d298663e2443">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d298663e2448" headers="d298663e2440">
<p><code class="codeph">CON_NAME_TO_ID</code>(&#39;<span class="italic">container_name</span>&#39;)</p>
</td>
<td class="cellalignment1964" headers="d298663e2448 d298663e2443">
<p>Returns the container ID based on the container&#39;s name.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d298663e2460" headers="d298663e2440">
<p><code class="codeph">CON_DBID_TO_ID</code>(<span class="italic">container_dbid</span>)</p>
</td>
<td class="cellalignment1964" headers="d298663e2460 d298663e2443">
<p>Returns the container ID based on the container&#39;s DBID.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d298663e2472" headers="d298663e2440">
<p><code class="codeph">CON_UID_TO_ID</code>(<span class="italic">container_uid</span>)</p>
</td>
<td class="cellalignment1964" headers="d298663e2472 d298663e2443">
<p>Returns the container ID based on the container&#39;s unique identifier (UID).</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d298663e2484" headers="d298663e2440">
<p><code class="codeph">CON_GUID_TO_ID</code>(<span class="italic">container_guid</span>)</p>
</td>
<td class="cellalignment1964" headers="d298663e2484 d298663e2443">
<p>Returns the container ID based on the container&#39;s globally unique identifier (GUID).</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code class="codeph">V$CONTAINERS</code> view shows the name, DBID, UID, and GUID for each container in a CDB.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__GUID-AB1BAEF3-77EA-44D0-874F-7D230DA0F859">
<p class="titleinexample">Example 43-12 Returning the Container ID Based on the Container Name</p>
<pre dir="ltr">SELECT CON_NAME_TO_ID(&#39;HRPDB&#39;) FROM DUAL;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__GUID-CAC6361F-3B03-4C69-9101-F359D2BEFA06">
<p class="titleinexample">Example 43-13 Returning the Container ID Based on the Container DBID</p>
<pre dir="ltr">SELECT CON_DBID_TO_ID(2226957846) FROM DUAL;
</pre>
<div class="infoboxnotealso" id="GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6__GUID-71022817-72AA-4595-97C3-23A72D85E538">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_intro.htm#GUID-A1F3A63E-3BE5-4B80-A053-46D9EF71D45E" title="You can use the Oracle Multitenant option to configure and manage a multitenant environment. The multitenant architecture enables an Oracle database to function as a multitenant container database (CDB) that includes zero, one, or many customer-created pluggable databases (PDBs). A PDB is a portable collection of schemas, schema objects, and nonschema objects that appears to an Oracle Net client as a non-CDB. All Oracle databases before Oracle Database 12c were non-CDBs.">About a Multitenant Environment</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-08173CF3-1F01-41D5-8EAF-363FDA1A601E" title="The V$CONTAINERS view provides information about all of the containers in a CDB, including the root and all PDBs.">Viewing Information About the Containers in a CDB</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN30708" target="_blank" href="../REFRN/GUID-8865FE4F-C22F-4B04-BC21-A28FFFC92072.htm#REFRN30708"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">V$CONTAINERS</code> view</p>
</li>
</ul>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN13942"></a>
<div class="props_rev_3"><a id="GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72"></a>
<h2 id="ADMIN-GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" class="sect2"><span class="enumeration_section">43.12</span> Listing the Initialization Parameters That Are Modifiable in PDBs</h2>
<div>
<p>In a CDB, some initialization parameters apply to the root and to all of the PDBs. When such an initialization parameter is changed, it affects the entire CDB. You can set other initialization parameters to different values in each container.</p>
<div class="section">
<p>For example, you might have a parameter set to one value in the root, set to another value in one PDB, and set to yet another value in a second PDB.</p>
<p>The query in this section lists the initialization parameters that you can set independently in each PDB.</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To list the initialization parameters that are modifiable in each container:</p>
<ol>
<li>
<p>In SQL*Plus, access a container.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Run the following query:</p>
<pre dir="ltr">SELECT NAME FROM V$SYSTEM_PARAMETER
  WHERE ISPDB_MODIFIABLE = &#39;TRUE&#39;
  ORDER BY NAME;
</pre></li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p>If an initialization parameter listed by this query is not set independently for a PDB, then the PDB inherits the parameter value of the root.</p>
<div class="infoboxnotealso" id="GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72__GUID-4E57F0BF-5D97-4D29-A11F-A782C458AE8B">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="The ALTER SYSTEM SET statement can dynamically set an initialization parameter in one or more containers in a CDB.">Using the ALTER SYSTEM SET Statement in a CDB</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_pdb_admin.htm#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="You can use the ALTER SYSTEM statement to modify a PDB.">Using the ALTER SYSTEM Statement to Modify a PDB</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN14111"></a><a id="ADMIN14110"></a>
<div class="props_rev_3"><a id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C"></a>
<h2 id="ADMIN-GUID-BE198635-72F6-4415-8E2B-3A20B49E229C" class="sect2"><span class="enumeration_section">43.13</span> Viewing the History of PDBs</h2>
<div>
<p>The <code class="codeph">CDB_PDB_HISTORY</code> view shows the history of the PDBs in a CDB. It provides information about when and how each PDB was created and other information about each PDB&#39;s history.</p>
<div class="section">
<p>To view the history of each PDB:</p>
<ol>
<li>
<p>In SQL*Plus, ensure that the current container is the root.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li>
<p>Query <code class="codeph">CDB_PDB_HISTORY</code> view.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="example" id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C__GUID-26ECDC6A-5666-4F36-91B9-C8F3C3A991E0">
<p class="titleinexample">Example 43-14 Viewing the History of PDBs</p>
<p>This example shows the following information about each PDB&#39;s history:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">DB_NAME</code> field shows the CDB that contained the PDB.</p>
</li>
<li>
<p>The <code class="codeph">CON_ID</code> field shows the container ID of the PDB.</p>
</li>
<li>
<p>The <code class="codeph">PDB_NAME</code> field shows the name of the PDB in one of its incarnations.</p>
</li>
<li>
<p>The <code class="codeph">OPERATION</code> field shows the operation performed in the PDB&#39;s history.</p>
</li>
<li>
<p>The <code class="codeph">OP_TIMESTAMP</code> field shows the date on which the operation was performed.</p>
</li>
<li>
<p>If the PDB was cloned in an operation, then the <code class="codeph">CLONED_FROM_PDB</code> field shows the PDB from which the PDB was cloned.</p>
</li>
</ul>
<pre dir="ltr">COLUMN DB_NAME FORMAT A10
COLUMN CON_ID FORMAT 999
COLUMN PDB_NAME FORMAT A15
COLUMN OPERATION FORMAT A16
COLUMN OP_TIMESTAMP FORMAT A10
COLUMN CLONED_FROM_PDB_NAME FORMAT A15
 
SELECT DB_NAME, CON_ID, PDB_NAME, OPERATION, OP_TIMESTAMP, CLONED_FROM_PDB_NAME
  FROM CDB_PDB_HISTORY
  WHERE CON_ID &gt; 2
  ORDER BY CON_ID;
</pre>
<p>Sample output:</p>
<pre dir="ltr">DB_NAME    CON_ID PDB_NAME        OPERATION        OP_TIMESTA CLONED_FROM_PDB
---------- ------ --------------- ---------------- ---------- ---------------
NEWCDB          3 HRPDB           CREATE           10-APR-12  PDB$SEED
NEWCDB          4 SALESPDB        CREATE           17-APR-12  PDB$SEED
NEWCDB          5 TESTPDB         CLONE            30-APR-12  SALESPDB
</pre>
<div class="infobox-note" id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C__GUID-FCAE3165-BA77-446D-A03B-52D800FC6FB7">
<p class="notep1">Note:</p>
<p>When the current container is a PDB, the <code class="codeph">CDB_PDB_HISTORY</code> view shows the history of the current PDB only. A local user whose current container is a PDB can query the <code class="codeph">DBA_PDB_HISTORY</code> view and exclude the <code class="codeph">CON_ID</code> column from the query to view the history of the current PDB.</p>
</div>
<div class="infoboxnotealso" id="GUID-BE198635-72F6-4415-8E2B-3A20B49E229C__GUID-C8A86AEA-8380-45B1-8B3C-EFF673176CD7">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</div>
</div>
<!-- class="example" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="cdb_pdb_admin.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="cdb_dbrm.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
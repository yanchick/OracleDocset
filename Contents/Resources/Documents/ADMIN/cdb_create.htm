<html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-170"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Creating%20and%20Configuring%20a%20CDB"></a><title>Creating and Configuring a CDB</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning for CDB creation, creating the CDB, and optionally configuring EM Express for the CDB."/>
<meta name="keywords" content="creating, CDBs, Oracle Universal Installer, planning creation, creating CDBs, planning, Database Configuration Assistant, manually from a script, CREATE DATABASE statement, ENABLE PLUGGABLE DATABASE clause, SEED FILE_NAME_CONVERT clause, Oracle Managed Files, PDB_FILE_NAME_CONVERT initialization parameter, Oracle Enterprise Manager Database Express, EM Express, PDBs"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="cdb_intro.htm" title="Previous" type="text/html"/>
<link rel="Next" href="cdb_plug.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215"></a> <span id="PAGE" style="display:none;">47/59</span> <!-- End Header -->
<a id="ADMIN13514"></a>
<h1 id="ADMIN-GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" class="sect1"><span class="enumeration_chapter">37</span> Creating and Configuring a CDB</h1>
<p>Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning for CDB creation, creating the CDB, and optionally configuring EM Express for the CDB.</p>
<a id="ADMIN13515"></a>
<div class="props_rev_3"><a id="GUID-A79B2572-10FA-4AC1-91BD-7A6F9512C80C"></a>
<h2 id="ADMIN-GUID-A79B2572-10FA-4AC1-91BD-7A6F9512C80C" class="sect2"><span class="enumeration_section">37.1</span> About Creating a CDB</h2>
<div>
<p>The procedure for creating a multitenant container database (CDB) is very similar to the procedure for creating a non-CDB.</p>
<p>The procedure for creating a non-CDB is described in <a href="create.htm#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="After you plan your database, you can create the database with a graphical tool or a SQL command.">Creating and Configuring an Oracle Database</a>. Before creating a CDB, you must understand the concepts and tasks described in <a href="create.htm#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="After you plan your database, you can create the database with a graphical tool or a SQL command.">Creating and Configuring an Oracle Database</a>.</p>
<p>This chapter describes special considerations for creating a CDB. This chapter also describes differences between the procedure for creating a non-CDB in <a href="create.htm#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="After you plan your database, you can create the database with a graphical tool or a SQL command.">Creating and Configuring an Oracle Database</a> and the procedure for creating a CDB.</p>
<p>After you plan your CDB using some of the guidelines presented in <span class="q">&#34;<a href="cdb_create.htm#GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" title="CDB creation prepares several operating system files to work together as a CDB.">Planning for CDB Creation</a>&#34;</span>, you can create the CDB either during or after Oracle Database software installation. The following are typical reasons to create a CDB after installation:</p>
<ul style="list-style-type: disc;">
<li>
<p>You used Oracle Universal Installer (OUI) to install software only, and did not create a CDB.</p>
</li>
<li>
<p>You want to create another CDB on the same host as an existing CDB or an existing non-CDB. In this case, this chapter assumes that the new CDB uses the same Oracle home as the existing database. You can also create the CDB in a new Oracle home by running OUI again.</p>
</li>
</ul>
<p>The specific methods for creating a CDB are:</p>
<ul style="list-style-type: disc;">
<li>
<p>With the Database Configuration Assistant (DBCA), a graphical tool.</p>
<p>See <span class="q">&#34;<a href="cdb_create.htm#GUID-2ACFB225-F895-4B6F-B601-F09A388A4449" title="Oracle strongly recommends using the Database Configuration Assistant (DBCA) to create a CDB, because it is a more automated approach, and your CDB is ready to use when DBCA completes. DBCA enables you to specify the number of PDBs in the CDB when it is created.">Using DBCA to Create a CDB</a>&#34;</span>.</p>
</li>
<li>
<p>With the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement.</p>
<p>See <span class="q">&#34;<a href="cdb_create.htm#GUID-25F77431-C454-4B2A-8083-21165E59549A" title="You can create a CDB using the CREATE DATABASE SQL statement.">Using the CREATE DATABASE Statement to Create a CDB</a>&#34;</span>.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN13516"></a>
<div class="props_rev_3"><a id="GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555"></a>
<h2 id="ADMIN-GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" class="sect2"><span class="enumeration_section">37.2</span> Planning for CDB Creation</h2>
<div>
<p>CDB creation prepares several operating system files to work together as a CDB.</p>
<div class="infobox-note" id="GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555__GUID-8AE91970-29C1-4029-809F-2CC8EF56BF89">
<p class="notep1">Note:</p>
<p>Before planning for CDBs, review the conceptual information about CDBs and PDBs in <a class="olink CNCPT89234" target="_blank" href="../CNCPT/cdbovrvw.htm#CNCPT89234"><span class="italic">Oracle Database Concepts</span></a>.</p>
</div>
</div>
<a id="ADMIN13518"></a><a id="ADMIN13517"></a>
<div class="props_rev_3"><a id="GUID-144959A9-50EB-4A94-AF36-49FA8A379909"></a>
<h3 id="ADMIN-GUID-144959A9-50EB-4A94-AF36-49FA8A379909" class="sect3"><span class="enumeration_section">37.2.1</span> Decide How to Configure the CDB</h3>
<div>
<p>Prepare to create the CDB by research and careful planning.</p>
<p><a href="cdb_create.htm#GUID-144959A9-50EB-4A94-AF36-49FA8A379909__BABBFJAB" title="The left column lists various actions for planning for consolidated database ceation, the right column points you to additional information for performing these actions.">Table 37-1</a> lists some recommended actions and considerations that apply to CDBs. For more information about many of the actions in <a href="cdb_create.htm#GUID-144959A9-50EB-4A94-AF36-49FA8A379909__BABBFJAB" title="The left column lists various actions for planning for consolidated database ceation, the right column points you to additional information for performing these actions.">Table 37-1</a>, see <a href="create.htm#GUID-49279C4F-F3DD-4CB7-988D-B576DEFB5614__BABHJCHI" title="The left column lists various actions for planning for database ceation, the right column points you to additional information for performing these actions.">Table 2-1</a>.</p>
<div class="tblformalwide" id="GUID-144959A9-50EB-4A94-AF36-49FA8A379909__BABBFJAB">
<p class="titleintable">Table 37-1 Planning for a CDB</p>
<table class="cellalignment1880" title="Planning for a CDB" summary="The left column lists various actions for planning for consolidated database ceation, the right column points you to additional information for performing these actions.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d259983e380">Action</th>
<th class="cellalignment1917" id="d259983e383">Considerations for a CDB</th>
<th class="cellalignment1949" id="d259983e386">Additional Information</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e391" headers="d259983e380">
<p>Plan the tables and indexes for the pluggable databases (PDBs) and estimate the amount of space they will require.</p>
</td>
<td class="cellalignment1918" headers="d259983e391 d259983e383">
<p>In a CDB, most user data is in the PDBs. The root contains no user data or minimal user data. Plan for the PDBs that will be part of the CDB. The disk storage space requirement for a CDB is the space required for the Oracle Database installation plus the sum of the space requirements for all of the PDBs that will be part of the CDB. A CDB can contain up to 253 PDBs, including the seed.</p>
</td>
<td class="cellalignment1951" headers="d259983e391 d259983e386">
<p><a href="part2.htm#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="You can create and manage database structures and storage components.">Oracle Database Structure and Storage</a></p>
<p><a href="part4.htm#GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" title="You can create and manage schema objects in Oracle Database.">Schema Objects</a></p>
<p><a href="cdb_plug.htm#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB.">Creating and Removing PDBs with SQL*Plus</a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e420" headers="d259983e380">
<p>Plan the layout of the underlying operating system files your CDB will comprise.</p>
</td>
<td class="cellalignment1918" headers="d259983e420 d259983e383">
<p>There are separate data files for the root, the seed, and each PDB.</p>
<p>There is one redo log for a single-instance CDB, or one redo log for each instance of an Oracle Real Application Clusters (Oracle RAC) CDB. Also, for Oracle RAC, all data files and redo log files must be on shared storage.</p>
</td>
<td class="cellalignment1951" headers="d259983e420 d259983e386">
<p><a href="omf.htm#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a></p>
<p><a class="olink OSTMG" target="_blank" href="../OSTMG/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
<p><a class="olink TGDBA015" target="_blank" href="../TGDBA/pfgrf_iodesign.htm#TGDBA015"><span class="italic">Oracle Database Performance Tuning Guide</span></a></p>
<p><a class="olink BRADV" target="_blank" href="../BRADV/toc.htm"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></p>
<p><a class="olink CWGEN" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about configuring storage for Oracle RAC</p>
<p>Your Oracle operating system&ndash;specific documentation, including the appropriate Oracle Database installation guide.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e460" headers="d259983e380">
<p>Plan for the number of background processes that will be required by the CDB.</p>
</td>
<td class="cellalignment1918" headers="d259983e460 d259983e383">
<p>There is one set of background processes shared by the root and all PDBs.</p>
</td>
<td class="cellalignment1951" headers="d259983e460 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-247DF137-B5F1-4C65-8A5B-A58FE063DA19" title="The PROCESSES initialization parameter determines the maximum number of operating system processes that can be connected to Oracle Database concurrently.">Specifying the Maximum Number of Processes</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e479" headers="d259983e380">
<p>Select the global database name, which is the name and location of the CDB within the network structure, and create the global database name for the root by setting both the <code class="codeph">DB_NAME</code> and <code class="codeph">DB_DOMAIN</code> initialization parameters.</p>
</td>
<td class="cellalignment1918" headers="d259983e479 d259983e383">
<p>The global database name of the root is the global database name of the CDB.</p>
<p>The global database name of a PDB is defined by the PDB name and the <code class="codeph">DB_DOMAIN</code> initialization parameter.</p>
</td>
<td class="cellalignment1951" headers="d259983e479 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-9698EA9B-013C-40AC-8CFB-12171A4B4974" title="The global database name consists of the user-specified local database name and the location of the database within a network structure.">Determining the Global Database Name</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e506" headers="d259983e380">
<p>Familiarize yourself with the initialization parameters that can be included in an initialization parameter file. Become familiar with the concept and operation of a server parameter file (SPFILE). An SPFILE file lets you store and manage your initialization parameters persistently in a server-side disk file.</p>
</td>
<td class="cellalignment1918" headers="d259983e506 d259983e383">
<p>A CDB uses a single SPFILE or a single text initialization parameter file (PFILE). Values of initialization parameters set for the root can be inherited by PDBs. You can set some initialization parameters for a PDB by using the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement.</p>
<p>The root must be the current container when you operate on an SPFILE. The user who creates or modifies the SPFILE must be a common user with <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, or <code class="codeph">SYSBACKUP</code> administrative privilege, and the user must exercise the privilege by connecting <code class="codeph">AS</code> <code class="codeph">SYSDBA</code>, <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>, or <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code> respectively.</p>
<p>To create a CDB, the <code class="codeph">ENABLE_PLUGGABLE_DATABASE</code> initialization parameter must be set to <code class="codeph">TRUE</code>.</p>
</td>
<td class="cellalignment1951" headers="d259983e506 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-052F49CA-731A-4608-A2B9-2C801621D80F" title="You can add or edit basic initialization parameters before you create your new database.">Specifying Initialization Parameters</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="The ALTER SYSTEM SET statement can dynamically set an initialization parameter in one or more containers in a CDB.">Using the ALTER SYSTEM SET Statement in a CDB</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_mon.htm#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" title="In a CDB, some initialization parameters apply to the root and to all of the PDBs. When such an initialization parameter is changed, it affects the entire CDB. You can set other initialization parameters to different values in each container.">Listing the Initialization Parameters That Are Modifiable in PDBs</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
<p><a class="olink REFRN001" target="_blank" href="../REFRN/GUID-6F1C3203-0AA0-4AF1-921C-A027DD7CB6A9.htm#REFRN001"><span class="italic">Oracle Database Reference</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e604" headers="d259983e380">
<p>Select the character set.</p>
</td>
<td class="cellalignment1918" headers="d259983e604 d259983e383">
<p>All of the PDBs in the CDB use this character set. When selecting the database character set for the CDB, you must consider the current character sets of the databases that you want to consolidate (plug) into this CDB.</p>
<p>Oracle recommends AL32UTF8 for the CDB database character set and AL16UTF6 for the CDB national character set because they provide the most flexibility.</p>
<p>When moving a non-CDB to a CDB, it is best to migrate the non-CDB to AL32UTF8 first. You can use Oracle Database Migration Assistant for Unicode (DMU) to migrate a non-CDB to AL32UTF8. After a CDB is created, you cannot migrate the CDB&#39;s character set using DMU.</p>
</td>
<td class="cellalignment1951" headers="d259983e604 d259983e386">
<p><a class="olink NLSPG1035" target="_blank" href="../NLSPG/ch2charset.htm#NLSPG1035"><span class="italic">Oracle Database Globalization Support Guide</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e621" headers="d259983e380">
<p>Consider which time zones your CDB must support.</p>
</td>
<td class="cellalignment1918" headers="d259983e621 d259983e383">
<p>You can set the time zones for the entire CDB (including all PDBs). You can also set the time zones individually for each PDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e621 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-E331FC80-451A-4775-B58E-BBFEEBAC3C93" title="Oracle Database datetime and interval data types and time zone support make it possible to store consistent information about the time of events and transactions.">Specifying the Database Time Zone and Time Zone File</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e637" headers="d259983e380">
<p>Select the standard database block size. This is specified at CDB creation by the <code class="codeph">DB_BLOCK_SIZE</code> initialization parameter and cannot be changed after the CDB is created.</p>
</td>
<td class="cellalignment1918" headers="d259983e637 d259983e383">
<p>The standard block size applies to the entire CDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e637 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-55124C2D-98FF-4305-8F25-58245C9BEC1E" title="The DB_BLOCK_SIZE initialization parameter specifies the standard block size for the database.">Specifying Database Block Sizes</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e659" headers="d259983e380">
<p>If you plan to store online redo log files on disks with a 4K byte sector size, then determine whether you must manually specify redo log block size. Also, develop a backup and recovery strategy to protect the CDB from failure.</p>
</td>
<td class="cellalignment1918" headers="d259983e659 d259983e383">
<p>There is a single redo log and a single control file for an entire CDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e659 d259983e386">
<p><span class="q">&#34;<a href="onlineredo.htm#GUID-AC858C69-317E-4193-838D-59F8DDEA1927" title="Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).">Planning the Block Size of Redo Log Files</a>&#34;</span></p>
<p><a href="onlineredo.htm#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
<p><a href="archredo.htm#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations.">Managing Archived Redo Log Files</a></p>
<p><a href="control.htm#GUID-5F6F9382-6921-4992-9789-E63B18E99C5F" title="You can create, back up, and drop control files.">Managing Control Files</a></p>
<p><a class="olink BRADV" target="_blank" href="../BRADV/toc.htm"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e707" headers="d259983e380">
<p>Determine the appropriate initial sizing for the <code class="codeph">SYSAUX</code> tablespace.</p>
</td>
<td class="cellalignment1918" headers="d259983e707 d259983e383">
<p>There is a separate <code class="codeph">SYSAUX</code> tablespace for the root and for each PDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e707 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-C70E0886-7D9A-4B0D-BA0B-DF71AB5A2154" title="The SYSAUX tablespace is always created at database creation. The SYSAUX tablespace serves as an auxiliary tablespace to the SYSTEM tablespace. Because it is the default tablespace for many Oracle Database features and products that previously required their own tablespaces, it reduces the number of tablespaces required by the database. It also reduces the load on the SYSTEM tablespace.">About the SYSAUX Tablespace</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e741" headers="d259983e380">
<p>Plan to use a default tablespace for non-<code class="codeph">SYSTEM</code> users to prevent inadvertently saving database objects in the <code class="codeph">SYSTEM</code> tablespace.</p>
</td>
<td class="cellalignment1918" headers="d259983e741 d259983e383">
<p>You can specify a separate default tablespace for the root and for each PDB. Also, there is a separate <code class="codeph">SYSTEM</code> tablespace for the root and for each PDB.</p>
<p>The shared temporary tablespace is used is for recursive SQL only and is not used by PDBs directly.</p>
</td>
<td class="cellalignment1951" headers="d259983e741 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-4EBA1922-B701-4009-B662-6A17B314E2E9" title="Oracle strongly recommends that you create a default permanent tablespace. Oracle Database assigns to this tablespace any non-SYSTEM users for whom you do not explicitly specify a different permanent tablespace.">Creating a Default Permanent Tablespace</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40" title="When connected as a common user whose current container is the root, the ALTER DATABASE statement works the same in a CDB and a non-CDB.">About the Statements That Modify a CDB</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e786" headers="d259983e380">
<p>Plan to use default temporary tablespaces.</p>
</td>
<td class="cellalignment1918" headers="d259983e786 d259983e383">
<p>There is a default temporary tablespace for the root and for each PDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e786 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-AF2D7962-B165-423B-8FE3-29E7F30A2A3D" title="When you create a default temporary tablespace, Oracle Database assigns it as the temporary tablespace for users who are not explicitly assigned a temporary tablespace.">Creating a Default Temporary Tablespace</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-A85C6342-D9EB-4145-897D-3B17A1E88F40" title="When connected as a common user whose current container is the root, the ALTER DATABASE statement works the same in a CDB and a non-CDB.">About the Statements That Modify a CDB</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e816" headers="d259983e380">
<p>Plan to use an undo tablespace to manage your undo data.</p>
</td>
<td class="cellalignment1918" headers="d259983e816 d259983e383">
<p>There is one active undo tablespace for a single-instance CDB. For an Oracle RAC CDB, there is one active undo tablespace for each instance. Only a common user who has the appropriate privileges and whose current container is the root can create an undo tablespace.</p>
<p>In a CDB, the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>, and an undo tablespace is required to manage the undo data.</p>
<p>Undo tablespaces are visible in static data dictionary views and dynamic performance (V$) views when the current container is the root. Undo tablespaces are visible only in dynamic performance views when the current container is a PDB.</p>
<p>Oracle Database silently ignores undo tablespace and rollback segment operations when the current container is a PDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e816 d259983e386">
<p><a href="undo.htm#GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" title="For a default installation, Oracle Database automatically manages undo. There is typically no need for DBA intervention. However, if your installation uses Oracle Flashback operations, you may need to perform some undo management tasks to ensure the success of these operations.">Managing Undo</a></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization. The current container can be the root or a PDB. Each session has exactly one current container at any point in time, but it is possible for a session to switch from one container to another.">About the Current Container</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e851" headers="d259983e380">
<p>Plan for the database services required to meet the needs of your applications.</p>
</td>
<td class="cellalignment1918" headers="d259983e851 d259983e383">
<p>The root and each PDB might require several services. You can create services for the root or for individual PDBs.</p>
<p>Database services have an optional <code class="codeph">PDB</code> property. You can create services and associate them with a particular PDB by specifying the <code class="codeph">PDB</code> property. Services with a null <code class="codeph">PDB</code> property are associated with the root. You can manage services with the SRVCTL utility, Oracle Enterprise Manager Cloud Control, and the <code class="codeph">DBMS_SERVICE</code> supplied PL/SQL package.</p>
<p>When you create a PDB, a new default service for the PDB is created automatically. The service has the same name as the PDB. You cannot manage this service with the SRVCTL utility. However, you can create user-defined services and customize them for your applications.</p>
</td>
<td class="cellalignment1951" headers="d259983e851 d259983e386">
<p><span class="q">&#34;<a href="create.htm#GUID-1739D947-9967-4A40-8CE6-6EA7F46D4D9F" title="A database service is a named representation of one or more database instances. Services enable you to group database workloads and route a particular work request to an appropriate instance.">Managing Application Workloads with Database Services</a> &#34;</span></p>
<p><span class="q">&#34;<a href="cdb_pdb_admin.htm#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services Associated with PDBs</a>&#34;</span></p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span> for information about using the SRVCTL utility with a single-instance database</p>
<p><a class="olink RACAD005" target="_blank" href="../RACAD/GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D.htm#RACAD005"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using the SRVCTL utility with an Oracle RAC database</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e906" headers="d259983e380">
<p>Familiarize yourself with the principles and options of starting up and shutting down an instance and mounting and opening a CDB.</p>
</td>
<td class="cellalignment1918" headers="d259983e906 d259983e383">
<p>In a CDB, the root and all of the PDBs share a single instance, or, when using Oracle RAC, multiple concurrent database instances. You start up and shut down an entire CDB, not individual PDBs. However, when the CDB is open, you can change the open mode of an individual PDB by using the <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> statement, the SQL*Plus <code class="codeph">STARTUP</code> command, and the SQL*Plus <code class="codeph">SHUTDOWN</code> command. Also, when the CDB is open and the current container is a PDB, both the SQL*Plus <code class="codeph">STARTUP</code> command, and the SQL*Plus <code class="codeph">SHUTDOWN</code> command are functional. However, the SQL*Plus <code class="codeph">STARTUP MOUNT</code> command is a CDB-only operation and cannot be used when a PDB is the current container.</p>
</td>
<td class="cellalignment1951" headers="d259983e906 d259983e386">
<p><span class="q">&#34;<a href="start.htm#GUID-203404B5-5157-4F29-A241-B8ABC4753819" title="When you start up a database, you create an instance of that database and you determine the state of the database. Normally, you start up an instance by mounting and opening the database. Doing so makes the database available for any valid user to connect to and perform typical data access operations.">Starting Up a Database</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_admin.htm#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of PDBs</a>&#34;</span></p>
<p><span class="q">&#34;<a href="cdb_pdb_admin.htm#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="You can use the ALTER PLUGGABLE DATABASE statement to modify the attributes of a single PDB.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>&#34;</span></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e984" headers="d259983e380">
<p>If you plan to use Oracle RAC, then plan for an Oracle RAC environment.</p>
</td>
<td class="cellalignment1918" headers="d259983e984 d259983e383">
<p>The Oracle RAC documentation describes special considerations for a CDB in an Oracle RAC environment.</p>
</td>
<td class="cellalignment1951" headers="d259983e984 d259983e386">
<p>See your platform-specific Oracle RAC installation guide for information about creating a CDB in an Oracle RAC environment.</p>
<p><a class="olink RACAD8913" target="_blank" href="../RACAD/GUID-57166C75-59D4-4037-81CD-8CAD753DA64D.htm#RACAD8913"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d259983e999" headers="d259983e380">
<p>Avoid unsupported features.</p>
</td>
<td class="cellalignment1918" headers="d259983e999 d259983e383">
<p>The <a class="olink READM" target="_blank" href="../READM/toc.htm"><span class="italic">Oracle Database Readme</span></a> includes a list of Oracle Database features that are currently not supported in a CDB.</p>
<p>If you must use one or more of these features, then create a non-CDB.</p>
</td>
<td class="cellalignment1951" headers="d259983e999 d259983e386">
<p><a href="create.htm#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="After you plan your database, you can create the database with a graphical tool or a SQL command.">Creating and Configuring an Oracle Database</a></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN13519"></a>
<div class="props_rev_3"><a id="GUID-E5B7C444-1961-4719-AE75-1FD6C295189F"></a>
<h3 id="ADMIN-GUID-E5B7C444-1961-4719-AE75-1FD6C295189F" class="sect3"><span class="enumeration_section">37.2.2</span> Prerequisites for CDB Creation</h3>
<div>
<p>You must complete prerequisites before creating a new CDB.</p>
<p>Before you can create a new CDB, the following prerequisites must be met:</p>
<ul style="list-style-type: disc;">
<li>
<p>Ensure that the prerequisites described in <span class="q">&#34;<a href="cdb_intro.htm#GUID-4C1CBB82-7DBF-4784-8010-917513AE11DD" title="Prerequisites must be met for a multitenant environment.">Prerequisites for a Multitenant Environment</a>&#34;</span> are met.</p>
</li>
<li>
<p>Sufficient memory must be available to start the Oracle Database instance.</p>
<p>The memory required by a CDB should be sized to accommodate the workload of each of its containers and the number of containers.</p>
</li>
<li>
<p>Sufficient disk storage space must be available for the planned PDBs on the computer that runs Oracle Database. In an Oracle RAC environment, sufficient shared storage must be available.</p>
<p>The disk storage space required by a CDB is the sum of the space requirements for all of the PDBs that will be part of the CDB.</p>
</li>
</ul>
<p>All of these prerequisites are discussed in the <a class="olink GINST" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=GINST"><span class="italic">Oracle Database Installation Guide</span></a> or <a class="olink CWGEN" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> specific to your operating system. If you use the Oracle Universal Installer, then it will guide you through your installation and provide help in setting environment variables and establishing directory structure and authorizations.</p>
</div>
</div>
</div>
<a id="ADMIN13520"></a>
<div class="props_rev_3"><a id="GUID-2ACFB225-F895-4B6F-B601-F09A388A4449"></a>
<h2 id="ADMIN-GUID-2ACFB225-F895-4B6F-B601-F09A388A4449" class="sect2"><span class="enumeration_section">37.3</span> Using DBCA to Create a CDB</h2>
<div>
<p>Oracle strongly recommends using the Database Configuration Assistant (DBCA) to create a CDB, because it is a more automated approach, and your CDB is ready to use when DBCA completes. DBCA enables you to specify the number of PDBs in the CDB when it is created.</p>
<div class="section">
<p>DBCA can be launched by the Oracle Universal Installer (OUI), depending upon the type of install that you select. You can also launch DBCA as a standalone tool at any time after Oracle Database installation.</p>
<p>You can use DBCA to create a CDB in interactive mode or noninteractive/silent mode. Interactive mode provides a graphical interface and guided workflow for creating and configuring a CDB. Noninteractive/silent mode enables you to script CDB creation. You can run DBCA in noninteractive/silent mode by specifying command-line arguments, a response file, or both.</p>
<p>After a CDB is created, you can use DBCA to plug PDBs into it and unplug PDBs from it.</p>
<div class="infoboxnotealso" id="GUID-2ACFB225-F895-4B6F-B601-F09A388A4449__GUID-629F334A-CCBB-47BA-AE6D-67858A639AFA">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-9E65AD37-BEDC-462A-A381-64C0380E0CCF" title="Oracle strongly recommends using the Database Configuration Assistant (DBCA) to create a database, because it is a more automated approach, and your database is ready to use when DBCA completes.">Creating a Database with DBCA</a>&#34;</span></p>
</li>
<li>
<p><a class="olink ADMQS002" target="_blank" href="../ADMQS/GUID-6B14A3EB-DD51-43C3-AB26-6978B13E2E1E.htm#ADMQS002"><span class="italic">Oracle Database 2 Day DBA</span></a></p>
</li>
<li>
<p>The DBCA online help</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13521"></a>
<div class="props_rev_3"><a id="GUID-25F77431-C454-4B2A-8083-21165E59549A"></a>
<h2 id="ADMIN-GUID-25F77431-C454-4B2A-8083-21165E59549A" class="sect2"><span class="enumeration_section">37.4</span> Using the CREATE DATABASE Statement to Create a CDB</h2>
<div>
<p>You can create a CDB using the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement.</p>
<div class="infobox-note" id="GUID-25F77431-C454-4B2A-8083-21165E59549A__GUID-2FC5E141-5D0D-4BF4-943C-FCFC50A04E73">
<p class="notep1">Note:</p>
<p>Oracle strongly recommends using the Database Configuration Assistant (DBCA) instead of the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement to create a CDB, because using DBCA is a more automated approach, and your CDB is ready to use when DBCA completes.</p>
</div>
</div>
<a id="ADMIN13522"></a>
<div class="props_rev_3"><a id="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22"></a>
<h3 id="ADMIN-GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" class="sect3"><span class="enumeration_section">37.4.1</span> About Creating a CDB with the CREATE DATABASE Statement</h3>
<div>
<p>Creating a CDB using the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement is very similar to creating a non-CDB. This section describes additional requirements for creating a CDB. When you create a CDB using the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement, you must enable PDBs and specify the names and locations of the root&#39;s files and the seed&#39;s files.</p>
<div class="infobox-note" id="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22__GUID-21985A91-9DD4-4208-89D0-F916D1CFA997">
<p class="notep1">Note:</p>
Using the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement is a more manual approach to creating a CDB than using DBCA.</div>
<div class="infoboxnotealso" id="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22__GUID-40AE090F-6E79-42AE-A687-D4CC0B66EC36">
<p class="notep1">See Also:</p>
<p><a class="olink CNCPT89268" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89268"><span class="italic">Oracle Database Concepts</span></a> for information about a CDB&#39;s files</p>
</div>
</div>
<a id="ADMIN13523"></a>
<div class="props_rev_3"><a id="GUID-ED7C61FB-1FBB-40B2-93DE-11349350A32E"></a>
<h4 id="ADMIN-GUID-ED7C61FB-1FBB-40B2-93DE-11349350A32E" class="sect4"><span class="enumeration_section">37.4.1.1</span> About Enabling PDBs</h4>
<div>
<p>To create a CDB, the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement must include the <code class="codeph">ENABLE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clause. When this clause is included, the statement creates a CDB with the root and the seed.</p>
<p>When the <code class="codeph">ENABLE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clause is not included in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement, the newly created database is a non-CDB. The statement does not create the root and the seed, and the non-CDB can never contain PDBs.</p>
</div>
</div>
<a id="ADMIN13524"></a>
<div class="props_rev_3"><a id="GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903"></a>
<h4 id="ADMIN-GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" class="sect4"><span class="enumeration_section">37.4.1.2</span> About the Names and Locations of the Root&#39;s Files and the Seed&#39;s Files</h4>
<div>
<p>The <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement uses the root&#39;s files (such as data files) to generate the names of the seed&#39;s files. You must specify the names and locations of the root&#39;s files and the seed&#39;s files. After the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement completes successfully, you can use the seed and its files to create new PDBs. The seed cannot be modified after it is created.</p>
<p>You must specify the names and locations of the seed&#39;s files in one of the following ways:</p>
<ol>
<li>
<p>The <code class="codeph">SEED FILE_NAME_CONVERT</code> clause</p>
</li>
<li>
<p>Oracle Managed Files</p>
</li>
<li>
<p>The <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter</p>
</li>
</ol>
<p>If you use more than one of these methods, then the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement uses one method in the order of precedence of the previous list. For example, if you use all of the methods, then the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement only uses the specifications in the <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause.</p>
<div class="infoboxnotealso" id="GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903__GUID-CC886A4D-5B2B-4BEB-A528-6A963D24255C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cdb_plug.htm#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="You can use the CREATE PLUGGABLE DATABASE statement to create a PDB in a CDB using the files of the seed.">Creating a PDB Using the Seed</a>&#34;</span></p>
</div>
</div>
<a id="ADMIN13526"></a><a id="ADMIN13525"></a>
<div class="props_rev_3"><a id="GUID-519CEA96-0B3D-40D5-9710-53E38C941617"></a>
<h5 id="ADMIN-GUID-519CEA96-0B3D-40D5-9710-53E38C941617" class="sect5"><span class="enumeration_section">37.4.1.2.1</span> The SEED FILE_NAME_CONVERT Clause</h5>
<div>
<p>The <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement specifies how to generate the names of the seed&#39;s files using the names of root&#39;s files.</p>
<p>You can use this clause to specify one of the following options:</p>
<ul style="list-style-type: disc;">
<li>
<p>One or more file name patterns and replacement file name patterns, in the following form:</p>
<pre dir="ltr">&#39;<span class="italic">string1</span>&#39; , &#39;<span class="italic">string2</span>&#39; , &#39;<span class="italic">string3</span>&#39; , &#39;<span class="italic">string4</span>&#39; , ...
</pre>
<p>The <span class="italic">string2</span> file name pattern replaces the <span class="italic">string1</span> file name pattern, and the <span class="italic">string4</span> file name pattern replaces the <span class="italic">string3</span> file name pattern. You can use as many pairs of file name pattern and replacement file name pattern strings as required.</p>
<p>If you specify an odd number of strings (the last string has no corresponding replacement string), then an error is returned. Do not specify more than one pattern/replace string that matches a single file name or directory.</p>
<p>File name patterns cannot match files or directories managed by Oracle Managed Files.</p>
</li>
<li>
<p><code class="codeph">NONE</code> when no file names should be converted. Omitting the <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause is the same as specifying <code class="codeph">NONE</code>.</p>
</li>
</ul>
<div class="example" id="GUID-519CEA96-0B3D-40D5-9710-53E38C941617__GUID-AD982C0A-9584-452C-94A1-60190725E097">
<p class="titleinexample">Example 37-1 SEED FILE_NAME_CONVERT Clause</p>
<p>This <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause generates file names for the seed&#39;s files in the /oracle/pdbseed directory using file names in the /oracle/dbs directory.</p>
<pre dir="ltr">SEED
FILE_NAME_CONVERT = (&#39;/oracle/dbs/&#39;, &#39;/oracle/pdbseed/&#39;)
</pre>
<div class="infoboxnotealso" id="GUID-519CEA96-0B3D-40D5-9710-53E38C941617__GUID-B8309C7B-6F28-4850-ABB8-DAD43E695E4D">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF" target="_blank" href="../SQLRF/toc.htm"><span class="italic">Oracle Database SQL Language Reference</span></a> for the syntax of the <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause</p>
</div>
</div>
<!-- class="example" --></div>
</div>
<a id="ADMIN13527"></a>
<div class="props_rev_3"><a id="GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33"></a>
<h5 id="ADMIN-GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33" class="sect5"><span class="enumeration_section">37.4.1.2.2</span> Oracle Managed Files</h5>
<div>
<p>When Oracle Managed Files is enabled, it can determine the names and locations of the seed&#39;s files.</p>
<div class="infoboxnotealso" id="GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33__GUID-6BFCF2AA-A782-4448-8095-E7390B73984C">
<p class="notep1">See Also:</p>
<p><a href="omf.htm#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a></p>
</div>
</div>
</div>
<a id="ADMIN13528"></a>
<div class="props_rev_3"><a id="GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C"></a>
<h5 id="ADMIN-GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C" class="sect5"><span class="enumeration_section">37.4.1.2.3</span> The PDB_FILE_NAME_CONVERT Initialization Parameter</h5>
<div>
<p>The <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter can specify the names and locations of the seed&#39;s files.</p>
<p>To use this technique, ensure that the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is included in the initialization parameter file when you create the CDB.</p>
<p>File name patterns specified in this initialization parameter cannot match files or directories managed by Oracle Managed Files.</p>
<div class="infoboxnotealso" id="GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C__GUID-DD962036-7316-415E-AAE2-F56C3AE931A2">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10322" target="_blank" href="../REFRN/GUID-074F8896-D565-4139-BCDB-C81C9D741941.htm#REFRN10322"><span class="italic">Oracle Database Reference</span></a></p>
</div>
</div>
</div>
</div>
<a id="ADMIN14084"></a><a id="ADMIN14083"></a>
<div class="props_rev_3"><a id="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7"></a>
<h4 id="ADMIN-GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7" class="sect4"><span class="enumeration_section">37.4.1.3</span> About the Attributes of the Seed&#39;s Data Files</h4>
<div>
<p>The seed can be used as a template to create new PDBs.</p>
<p>The attributes of the data files for the root&#39;s <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces might not be suitable for the seed. In this case, you can specify different attributes for the seed&#39;s data files by using the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses. Use these clauses to specify attributes for all data files comprising the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces in the seed. The values inherited from the root are used for any attributes whose values have not been provided.</p>
<p>The syntax of the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses is the same as the syntax for a data file specification, excluding the name and location of the data file and the <code class="codeph">REUSE</code> attribute. You can use the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses with any of the methods for specifying the names and locations of the seed&#39;s data files described in <span class="q">&#34;<a href="cdb_create.htm#GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" title="The SEED FILE_NAME_CONVERT clause of the CREATE DATABASE statement specifies how to generate the names of the seed&#39;s files using the names of root&#39;s files.When Oracle Managed Files is enabled, it can determine the names and locations of the seed&#39;s files.The PDB_FILE_NAME_CONVERT initialization parameter can specify the names and locations of the seed&#39;s files.">About the Names and Locations of the Root&#39;s Files and the Seed&#39;s Files</a>&#34;</span>.</p>
<p>The <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses do not specify the names and locations of the seed&#39;s data files. Instead, they specifies attributes of <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> data files in the seed that differ from those in the root. If <code class="codeph">SIZE</code> is not specified in the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clause for a tablespace, then data file size for the tablespace is set to a predetermined fraction of the size of a corresponding root data file.</p>
<div class="example" id="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7__GUID-1719B97C-EF40-4AE4-9E18-62BF2FBF81D8">
<p class="titleinexample">Example 37-2 Using the tablespace_datafile Clauses</p>
<p>Assume the following <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> clauses specify the names, locations, and attributes of the data files that comprise the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces in the root.</p>
<pre dir="ltr">DATAFILE &#39;/u01/app/oracle/oradata/newcdb/system01.dbf&#39; SIZE 325M REUSE
SYSAUX DATAFILE &#39;/u01/app/oracle/oradata/newcdb/sysaux01.dbf&#39; SIZE 325M REUSE
</pre>
<p>You can use the following <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses to specify different attributes for these data files:</p>
<pre dir="ltr">SEED
SYSTEM DATAFILES SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED
SYSAUX DATAFILES SIZE 100M
</pre>
<p>In this example, the data files for the seed&#39;s <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces inherit the <code class="codeph">REUSE</code> attribute from the root&#39;s data files. However, the following attributes of the seed&#39;s data files differ from the root&#39;s:</p>
<ul style="list-style-type: disc;">
<li>
<p>The data file for the <code class="codeph">SYSTEM</code> tablespace is 125 MB for the seed and 325 MB for the root.</p>
</li>
<li>
<p><code class="codeph">AUTOEXTEND</code> is enabled for the seed&#39;s <code class="codeph">SYSTEM</code> data file, and it is disabled by default for the root&#39;s <code class="codeph">SYSTEM</code> data file.</p>
</li>
<li>
<p>The data file for the <code class="codeph">SYSAUX</code> tablespace is 100 MB for the seed and 325 MB for the root.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7__GUID-2BB9B515-7891-41FC-9DA9-7E697678C4A0">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF52248" target="_blank" href="../SQLRF/clauses004.htm#SQLRF52248"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about data file specifications</p>
</div>
</div>
<!-- class="example" --></div>
</div>
</div>
<a id="ADMIN13529"></a>
<div class="props_rev_3"><a id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5"></a>
<h3 id="ADMIN-GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5" class="sect3"><span class="enumeration_section">37.4.2</span> Creating a CDB with the CREATE DATABASE Statement</h3>
<div>
<p>When you use the <code class="codeph">CREATE DATABASE</code> statement to create a CDB, you must complete additional actions before you have an operational CDB.</p>
<div class="section">
<p>These actions include building views on the data dictionary tables and installing standard PL/SQL packages in the root. You perform these actions by running the supplied catcdb.sql script.</p>
<p>The instructions in this section apply to <span class="italic">single-instance installations only</span>. See the Oracle Real Application Clusters (Oracle RAC) installation guide for your platform for instructions for creating an Oracle RAC CDB.</p>
<div class="infobox-note" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-71630FC5-6BC4-4BDC-801B-15FD0832A2DB">
<p class="notep1">Note:</p>
<p><span class="italic">Single-instance</span> does not mean that only one Oracle instance can reside on a single host computer. In fact, multiple Oracle instances (and their associated databases) can run on a single host computer. A single-instance database is a database that is accessed by only one Oracle instance at a time, as opposed to an Oracle RAC database, which is accessed concurrently by multiple Oracle instances on multiple nodes. See <a class="olink RACAD" target="_blank" href="../RACAD/toc.htm"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information on Oracle RAC.</p>
</div>
<div class="infoboxnotealso" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-7501C507-EF28-46EF-8F72-0184612E875D">
<p class="notep1">Tip:</p>
<p>If you are using Oracle ASM to manage your disk storage, then you must start the Oracle ASM instance and configure your disk groups before performing these steps. See <a class="olink OSTMG" target="_blank" href="../OSTMG/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a>.</p>
</div>
<p>The examples in the following steps create a CDB named <code class="codeph">newcdb</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To create a CDB with the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement:</p>
<ol>
<li>
<p>Complete steps 1 - 8 in <span class="q">&#34;<a href="create.htm#GUID-0306126A-D63C-41E0-8D6E-48020FC18697" title="When you use the CREATE DATABASE statement, you must complete additional actions before you have an operational database. These actions include building views on the data dictionary tables and installing standard PL/SQL packages. You perform these actions by running the supplied scripts.">Creating a Database with the CREATE DATABASE Statement</a>&#34;</span>.</p>
<p><a id="d259983e2285" class="indexterm-anchor"></a>To create a CDB, the <code class="codeph">ENABLE_PLUGGABLE_DATABASE</code> initialization parameter must be set to <code class="codeph">TRUE</code>.</p>
<p>In a CDB, the <code class="codeph">DB_NAME</code> initialization parameter specifies the name of the root. Also, it is common practice to set the SID to the name of the root. The maximum number of characters for this name is 30. For more information, see the discussion of the <code class="codeph">DB_NAME</code> initialization parameter in <a class="olink REFRN10041" target="_blank" href="../REFRN/GUID-D8A5CD6B-2C72-47EF-B7D8-A6FC69934314.htm#REFRN10041"><span class="italic">Oracle Database Reference</span></a>.</p>
</li>
<li>
<p>Use the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement to create a new CDB.</p>
<p>The following examples illustrate using the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement to create a new CDB:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cdb_create.htm#GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__BABDDJJF">Example 1: Creating a CDB Without Using Oracle Managed Files</a></p>
</li>
<li>
<p><a href="cdb_create.htm#GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__BABGFEDG">Example 2: Creating a CDB Using Oracle Managed Files</a></p>
</li>
</ul>
<p id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__BABDDJJF"><span class="bold">Example 1: Creating a CDB Without Using Oracle Managed Files</span></p>
<p>The following statement creates a CDB named <code class="codeph">newcdb</code>. This name must agree with the <code class="codeph">DB_NAME</code> parameter in the initialization parameter file. This example assumes the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>The initialization parameter file specifies the number and location of control files with the <code class="codeph">CONTROL_FILES</code> parameter.</p>
</li>
<li>
<p>The directory <code class="codeph">/u01/app/oracle/oradata/newcdb</code> exists.</p>
</li>
<li>
<p>The directory <code class="codeph">/u01/app/oracle/oradata/pdbseed</code> exists.</p>
</li>
<li>
<p>The directories <code class="codeph">/u01/logs/my</code> and <code class="codeph">/u02/logs/my</code> exist.</p>
</li>
</ul>
<p>This example includes the <code class="codeph">ENABLE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clause to create a CDB with the root and the seed. This example also includes the <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause to specify the names and locations of the seed&#39;s files. This example also includes <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses that specify attributes of the seed&#39;s data files for the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces that differ from the root&#39;s.</p>
<pre dir="ltr">CREATE DATABASE newcdb
  USER SYS IDENTIFIED BY <span class="italic">sys_password</span>
  USER SYSTEM IDENTIFIED BY <span class="italic">system_password</span>
  LOGFILE GROUP 1 (&#39;/u01/logs/my/redo01a.log&#39;,&#39;/u02/logs/my/redo01b.log&#39;) 
             SIZE 100M BLOCKSIZE 512,
          GROUP 2 (&#39;/u01/logs/my/redo02a.log&#39;,&#39;/u02/logs/my/redo02b.log&#39;) 
             SIZE 100M BLOCKSIZE 512,
          GROUP 3 (&#39;/u01/logs/my/redo03a.log&#39;,&#39;/u02/logs/my/redo03b.log&#39;) 
             SIZE 100M BLOCKSIZE 512
  MAXLOGHISTORY 1
  MAXLOGFILES 16
  MAXLOGMEMBERS 3
  MAXDATAFILES 1024
  CHARACTER SET AL32UTF8
  NATIONAL CHARACTER SET AL16UTF16
  EXTENT MANAGEMENT LOCAL
  DATAFILE &#39;/u01/app/oracle/oradata/newcdb/system01.dbf&#39;
    SIZE 700M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED
  SYSAUX DATAFILE &#39;/u01/app/oracle/oradata/newcdb/sysaux01.dbf&#39;
    SIZE 550M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED
  DEFAULT TABLESPACE deftbs
     DATAFILE &#39;/u01/app/oracle/oradata/newcdb/deftbs01.dbf&#39;
     SIZE 500M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED
  DEFAULT TEMPORARY TABLESPACE tempts1
     TEMPFILE &#39;/u01/app/oracle/oradata/newcdb/temp01.dbf&#39;
     SIZE 20M REUSE AUTOEXTEND ON NEXT 640K MAXSIZE UNLIMITED
  UNDO TABLESPACE undotbs1
     DATAFILE &#39;/u01/app/oracle/oradata/newcdb/undotbs01.dbf&#39;
     SIZE 200M REUSE AUTOEXTEND ON NEXT 5120K MAXSIZE UNLIMITED
  <span class="bold">ENABLE PLUGGABLE DATABASE</span>
    <span class="bold">SEED</span>
    <span class="bold">FILE_NAME_CONVERT = (&#39;/u01/app/oracle/oradata/newcdb/&#39;, </span>
                         <span class="bold">&#39;/u01/app/oracle/oradata/pdbseed/&#39;)</span>
    <span class="bold">SYSTEM DATAFILES SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED</span>
    <span class="bold">SYSAUX DATAFILES SIZE 100M</span>
  <span class="bold">USER_DATA TABLESPACE usertbs</span>
    <span class="bold">DATAFILE &#39;/u01/app/oracle/oradata/pdbseed/usertbs01.dbf&#39;</span>
    <span class="bold">SIZE 200M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;</span>
</pre>
<p>A CDB is created with the following characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>The CDB is named <code class="codeph">newcdb</code>. Its global database name is <code class="codeph">newcdb.us.example.com</code>, where the domain portion (<code class="codeph">us.example.com</code>) is taken from the initialization parameter file. See <span class="q">&#34;<a href="create.htm#GUID-9698EA9B-013C-40AC-8CFB-12171A4B4974" title="The global database name consists of the user-specified local database name and the location of the database within a network structure.">Determining the Global Database Name</a>&#34;</span>.</p>
</li>
<li>
<p>Three control files are created as specified by the <code class="codeph">CONTROL_FILES</code> initialization parameter, which was set before CDB creation in the initialization parameter file. See <span class="q">&#34;<a href="create.htm#GUID-4ECB5C59-ED5A-4A87-9EEA-6C687AB8986D" title="Oracle Database provides generally appropriate values in a sample text initialization parameter file. You can edit these Oracle-supplied initialization parameters and add others, depending upon your configuration and options and how you plan to tune the database.">Sample Initialization Parameter File</a>&#34;</span> and <span class="q">&#34;<a href="create.htm#GUID-80067DCA-9E48-4232-8D37-667B4A085465" title="Every database has a control file, which contains entries that describe the structure of the database (such as its name, the timestamp of its creation, and the names and locations of its data files and redo files). The CONTROL_FILES initialization parameter specifies one or more names of control files, separated by commas.">Specifying Control Files</a> &#34;</span>.</p>
</li>
<li>
<p>The passwords for user accounts <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are set to the values that you specified. The passwords are case-sensitive. The two clauses that specify the passwords for <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are not mandatory in this release of Oracle Database. However, if you specify either clause, then you must specify both clauses. For further information about the use of these clauses, see <span class="q">&#34;<a href="create.htm#GUID-55208EEE-5B31-4B7F-81A4-AF7AFE8630BE" title="To protect your database, specify passwords for users SYS and SYSTEM.">Protecting Your Database: Specifying Passwords for Users SYS and SYSTEM</a>&#34;</span>.</p>
</li>
<li>
<p>The new CDB has three online redo log file groups, each with two members, as specified in the <code class="codeph">LOGFILE</code> clause. <code class="codeph">MAXLOGFILES</code>, <code class="codeph">MAXLOGMEMBERS</code>, and <code class="codeph">MAXLOGHISTORY</code> define limits for the redo log. See <span class="q">&#34;<a href="onlineredo.htm#GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934" title="The best way to determine the appropriate number of redo log files for a database instance is to test different configurations. The optimum configuration has the fewest groups possible without hampering LGWR from writing redo log information.">Choosing the Number of Redo Log Files</a>&#34;</span>. The block size for the redo logs is set to 512 bytes, the same size as physical sectors on disk. The <code class="codeph">BLOCKSIZE</code> clause is optional if block size is to be the same as physical sector size (the default). Typical sector size and thus typical block size is 512. Permissible values for <code class="codeph">BLOCKSIZE</code> are 512, 1024, and 4096. For newer disks with a 4K sector size, optionally specify <code class="codeph">BLOCKSIZE</code> as 4096. See <span class="q">&#34;<a href="onlineredo.htm#GUID-AC858C69-317E-4193-838D-59F8DDEA1927" title="Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).">Planning the Block Size of Redo Log Files</a>&#34;</span> for more information.</p>
</li>
<li>
<p><code class="codeph">MAXDATAFILES</code> specifies the maximum number of data files that can be open in the CDB. This number affects the initial sizing of the control file. For a CDB, set <code class="codeph">MAXDATAFILES</code> to a high number that anticipates the aggregate number of data files for all containers, in addition to the CDB root files.</p>
<div class="infobox-note" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-6A8F1D2A-016F-4488-8D3C-604D81BBD7B8">
<p class="notep1">Note:</p>
<p>You can set several limits during CDB creation. Some of these limits are limited by and affected by operating system limits. For example, if you set <code class="codeph">MAXDATAFILES</code>, then Oracle Database allocates enough space in the control file to store <code class="codeph">MAXDATAFILES</code> file names, even if the CDB has only one data file initially. However, because the maximum control file size is limited and operating system dependent, you might not be able to set all <code class="codeph">CREATE DATABASE</code> parameters at their theoretical maximums.</p>
<p>For more information about setting limits during CDB creation, see the <a class="olink SQLRF01204" target="_blank" href="../SQLRF/statements_5005.htm#SQLRF01204"><span class="italic">Oracle Database SQL Language Reference</span></a> and your operating system&ndash;specific Oracle documentation.</p>
</div>
</li>
<li>
<p>The <code class="codeph">AL32UTF8</code> character set is used to store data in this CDB.</p>
</li>
<li>
<p>The <code class="codeph">AL16UTF16</code> character set is specified as the <code class="codeph">NATIONAL CHARACTER SET</code> used to store data in columns specifically defined as <code class="codeph">NCHAR</code>, <code class="codeph">NCLOB</code>, or <code class="codeph">NVARCHAR2</code>.</p>
</li>
<li>
<p>The <code class="codeph">SYSTEM</code> tablespace, consisting of the operating system file <code class="codeph">/u01/app/oracle/oradata/newcdb/system01.dbf</code>, is created as specified by the <code class="codeph">DATAFILE</code> clause. If a file with that name already exists, then it is overwritten.</p>
</li>
<li>
<p>The <code class="codeph">SYSTEM</code> tablespace is created as a locally managed tablespace. See <span class="q">&#34;<a href="create.htm#GUID-D8061728-6A13-4F30-AA91-EBE52F276AC3" title="During database creation, create a locally managed SYSTEM tablespace. A locally managed tablespace uses a bitmap stored in each data file to manage the extents.">Creating a Locally Managed SYSTEM Tablespace</a>&#34;</span>.</p>
</li>
<li>
<p>A <code class="codeph">SYSAUX</code> tablespace is created, consisting of the operating system file <code class="codeph">/u01/app/oracle/oradata/newcdb/sysaux01.dbf</code> as specified in the <code class="codeph">SYSAUX DATAFILE</code> clause. See <span class="q">&#34;<a href="create.htm#GUID-C70E0886-7D9A-4B0D-BA0B-DF71AB5A2154" title="The SYSAUX tablespace is always created at database creation. The SYSAUX tablespace serves as an auxiliary tablespace to the SYSTEM tablespace. Because it is the default tablespace for many Oracle Database features and products that previously required their own tablespaces, it reduces the number of tablespaces required by the database. It also reduces the load on the SYSTEM tablespace.">About the SYSAUX Tablespace</a>&#34;</span>.</p>
</li>
<li>
<p>The <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause creates and names a default permanent tablespace for this CDB.</p>
</li>
<li>
<p>The <code class="codeph">DEFAULT TEMPORARY TABLESPACE</code> clause creates and names a <a id="d259983e2679" class="indexterm-anchor"></a>default temporary tablespace for the root of this CDB. See <span class="q">&#34;<a href="create.htm#GUID-AF2D7962-B165-423B-8FE3-29E7F30A2A3D" title="When you create a default temporary tablespace, Oracle Database assigns it as the temporary tablespace for users who are not explicitly assigned a temporary tablespace.">Creating a Default Temporary Tablespace</a>&#34;</span>.</p>
</li>
<li>
<p>The <code class="codeph">UNDO TABLESPACE</code> clause creates and names an <a id="d259983e2698" class="indexterm-anchor"></a>undo tablespace that is used to store undo data for this CDB. In a CDB, an undo tablespace is required to manage the undo data, and the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>. If you omit this parameter, then it defaults to <code class="codeph">AUTO</code>. See <span class="q">&#34;<a href="create.htm#GUID-BC27AC63-6E76-4C34-A0FE-9C51FFB3487C" title="Automatic undo management uses an undo tablespace.">Using Automatic Undo Management: Creating an Undo Tablespace</a>&#34;</span>.</p>
</li>
<li>
<p>Redo log files will not initially be archived, because the <code class="codeph">ARCHIVELOG</code> clause is not specified in this <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement. This is customary during CDB creation. You can later use an <code class="codeph">ALTER DATABASE</code> statement to switch to <code class="codeph">ARCHIVELOG</code> mode. The initialization parameters in the initialization parameter file for <code class="codeph">newcdb</code> relating to archiving are <code class="codeph">LOG_ARCHIVE_DEST_1</code> and <code class="codeph">LOG_ARCHIVE_FORMAT</code>. See <a href="archredo.htm#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations.">Managing Archived Redo Log Files</a>.</p>
</li>
<li>
<p>The <code class="codeph">ENABLE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clause creates a CDB with the root and the seed.</p>
</li>
<li>
<p><code class="codeph">SEED</code> is required for the <code class="codeph">FILE_NAME_CONVERT</code> clause and the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses.</p>
</li>
<li>
<p>The <code class="codeph">FILE_NAME_CONVERT</code> clause generates file names for the seed&#39;s files in the /u01/app/oracle/oradata/pdbseed directory using file names in the /u01/app/oracle/oradata/newcdb directory.</p>
</li>
<li>
<p>The <code class="codeph">SYSTEM</code> <code class="codeph">DATAFILES</code> clause specifies attributes of the seed&#39;s <code class="codeph">SYSTEM</code> tablespace data file(s) that differ from the root&#39;s.</p>
</li>
<li>
<p>The <code class="codeph">SYSAUX</code> <code class="codeph">DATAFILES</code> clause specifies attributes of the seed&#39;s <code class="codeph">SYSAUX</code> tablespace data file(s) that differ from the root&#39;s.</p>
</li>
<li>
<p>The <code class="codeph">USER_DATA</code> <code class="codeph">TABLESPACE</code> clause creates and names the seed&#39;s tablespace for storing user data and database options such as Oracle XML DB. PDBs created using the seed include this tablespace and its data file. The tablespace and data file specified in this clause are not used by the root.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-C781A12D-DDF2-4952-A5FF-C3B26DD4CE38">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>Ensure that all directories used in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement exist. The <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement does not create directories.</p>
</li>
<li>
<p>If you are not using Oracle Managed Files, then every tablespace clause must include a <code class="codeph">DATAFILE</code> or <code class="codeph">TEMPFILE</code> clause.</p>
</li>
<li>
<p>If CDB creation fails, then you can look at the alert log to determine the reason for the failure and to determine corrective actions. See <span class="q">&#34;<a href="diag.htm#GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" title="You can view the alert log with a text editor, with Cloud Control, or with the ADRCI utility.">Viewing the Alert Log</a>&#34;</span>. If you receive an error message that contains a process number, then examine the trace file for that process. Look for the trace file that contains the process number in the trace file name. See <span class="q">&#34;<a href="diag.htm#GUID-34137402-19A6-4134-93AE-D6DD02242F61" title="Trace files are stored in the Automatic Diagnostic Repository (ADR), in the trace directory under each ADR home. To help you locate individual trace files within this directory, you can use data dictionary views. For example, you can find the path to your current session&#39;s trace file or to the trace file for each Oracle Database process.">Finding Trace Files</a>&#34;</span> for more information.</p>
</li>
<li>
<p>To resubmit the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement after a failure, you must first shut down the instance and delete any files created by the previous <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement.</p>
</li>
</ul>
</div>
<p id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__BABGFEDG"><span class="bold">Example 2: Creating a CDB Using Oracle Managed Files</span></p>
<p>This example illustrates creating a CDB with Oracle Managed Files, which enables you to use a much simpler <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement. To use Oracle Managed Files, the initialization parameter <code class="codeph">DB_CREATE_FILE_DEST</code> must be set. This parameter defines the base directory for the various CDB files that the CDB creates and automatically names.</p>
<p>The following statement is an example of setting this parameter in the initialization parameter file:</p>
<pre dir="ltr">DB_CREATE_FILE_DEST=&#39;/u01/app/oracle/oradata&#39;
</pre>
<p>This example sets the parameter Oracle ASM storage:</p>
<pre dir="ltr">DB_CREATE_FILE_DEST = +data
</pre>
<p>This example includes the <code class="codeph">ENABLE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clause to create a CDB with the root and the seed. This example does not include the <code class="codeph">SEED</code> <code class="codeph">FILE_NAME_CONVERT</code> clause because Oracle Managed Files determines the names and locations of the seed&#39;s files. However, this example does include <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses that specify attributes of the seed&#39;s data files for the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces that differ from the root&#39;s.</p>
<p>With Oracle Managed Files and the following <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement, the CDB creates the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces, creates the additional tablespaces specified in the statement, and chooses default sizes and properties for all data files, control files, and redo log files. Note that these properties and the other default CDB properties set by this method might not be suitable for your production environment, so it is recommended that you examine the resulting configuration and modify it if necessary.</p>
<pre dir="ltr">CREATE DATABASE newcdb
USER SYS IDENTIFIED BY <span class="italic">sys_password</span>
USER SYSTEM IDENTIFIED BY <span class="italic">system_password</span>
EXTENT MANAGEMENT LOCAL
DEFAULT TABLESPACE users
DEFAULT TEMPORARY TABLESPACE temp
UNDO TABLESPACE undotbs1
<span class="bold">ENABLE PLUGGABLE DATABASE</span>
   <span class="bold">SEED</span>
   <span class="bold">SYSTEM DATAFILES SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED</span>
   <span class="bold">SYSAUX DATAFILES SIZE 100M;</span>
</pre>
<p>A CDB is created with the following characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>The CDB is named <code class="codeph">newcdb</code>. Its global database name is <code class="codeph">newcdb.us.example.com</code>, where the domain portion (<code class="codeph">us.example.com</code>) is taken from the initialization parameter file. See <span class="q">&#34;<a href="create.htm#GUID-9698EA9B-013C-40AC-8CFB-12171A4B4974" title="The global database name consists of the user-specified local database name and the location of the database within a network structure.">Determining the Global Database Name</a>&#34;</span>.</p>
</li>
<li>
<p>The passwords for user accounts <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are set to the values that you specified. The passwords are case-sensitive. The two clauses that specify the passwords for <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are not mandatory in this release of Oracle Database. However, if you specify either clause, then you must specify both clauses. For further information about the use of these clauses, see <span class="q">&#34;<a href="create.htm#GUID-55208EEE-5B31-4B7F-81A4-AF7AFE8630BE" title="To protect your database, specify passwords for users SYS and SYSTEM.">Protecting Your Database: Specifying Passwords for Users SYS and SYSTEM</a>&#34;</span>.</p>
</li>
<li>
<p>The <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause creates and names a default permanent tablespace for this CDB.</p>
</li>
<li>
<p>The <code class="codeph">DEFAULT TEMPORARY TABLESPACE</code> clause creates and names a <a id="d259983e3042" class="indexterm-anchor"></a>default temporary tablespace for the root of this CDB. See <span class="q">&#34;<a href="create.htm#GUID-AF2D7962-B165-423B-8FE3-29E7F30A2A3D" title="When you create a default temporary tablespace, Oracle Database assigns it as the temporary tablespace for users who are not explicitly assigned a temporary tablespace.">Creating a Default Temporary Tablespace</a>&#34;</span>.</p>
</li>
<li>
<p>The <code class="codeph">UNDO TABLESPACE</code> clause creates and names an <a id="d259983e3061" class="indexterm-anchor"></a>undo tablespace that is used to store undo data for this CDB. In a CDB, an undo tablespace is required to manage the undo data, and the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>. If you omit this parameter, then it defaults to <code class="codeph">AUTO</code>. See <span class="q">&#34;<a href="create.htm#GUID-BC27AC63-6E76-4C34-A0FE-9C51FFB3487C" title="Automatic undo management uses an undo tablespace.">Using Automatic Undo Management: Creating an Undo Tablespace</a>&#34;</span>.</p>
</li>
<li>
<p>Redo log files will not initially be archived, because the <code class="codeph">ARCHIVELOG</code> clause is not specified in this <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement. This is customary during CDB creation. You can later use an <code class="codeph">ALTER DATABASE</code> statement to switch to <code class="codeph">ARCHIVELOG</code> mode. The initialization parameters in the initialization parameter file for <code class="codeph">newcdb</code> relating to archiving are <code class="codeph">LOG_ARCHIVE_DEST_1</code> and <code class="codeph">LOG_ARCHIVE_FORMAT</code>. See <a href="archredo.htm#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations.">Managing Archived Redo Log Files</a>.</p>
</li>
<li>
<p>The <code class="codeph">ENABLE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> clause creates a CDB with the root and the seed.</p>
</li>
<li>
<p><code class="codeph">SEED</code> is required for the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses.</p>
</li>
<li>
<p>The <code class="codeph">SYSTEM</code> <code class="codeph">DATAFILES</code> clause specifies attributes of the seed&#39;s <code class="codeph">SYSTEM</code> tablespace data file(s) that differ from the root&#39;s.</p>
</li>
<li>
<p>The <code class="codeph">SYSAUX</code> <code class="codeph">DATAFILES</code> clause specifies attributes of the seed&#39;s <code class="codeph">SYSAUX</code> tablespace data file(s) that differ from the root&#39;s.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-368F6DB4-51CC-44B0-85F3-15FB47918C9D">
<p class="notep1">Tip:</p>
<p>If your <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement fails, and if you did not complete Step 7 in <span class="q">&#34;<a href="create.htm#GUID-0306126A-D63C-41E0-8D6E-48020FC18697" title="When you use the CREATE DATABASE statement, you must complete additional actions before you have an operational database. These actions include building views on the data dictionary tables and installing standard PL/SQL packages. You perform these actions by running the supplied scripts.">Creating a Database with the CREATE DATABASE Statement</a>&#34;</span>, then ensure that there is not a pre-existing server parameter file (SPFILE) for this instance that is setting initialization parameters in an unexpected way. For example, an SPFILE contains a setting for the complete path to all control files, and the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement fails if those control files do not exist. Ensure that you shut down and restart the instance (with <code class="codeph">STARTUP</code> <code class="codeph">NOMOUNT</code>) after removing an unwanted SPFILE. See <span class="q">&#34;<a href="create.htm#GUID-7302C60F-E96E-4202-AC81-25A6C93EEFA3" title="Initialization parameters for the Oracle Database have traditionally been stored in a text initialization parameter file. For better manageability, you can choose to maintain initialization parameters in a binary server parameter file that is persistent across database startup and shutdown.">Managing Initialization Parameters Using a Server Parameter File</a>&#34;</span> for more information.</p>
</div>
</li>
<li>
<p>Run the catcdb.sql SQL script. This script installs all of the components required by a CDB.</p>
<p>Enter the following in SQL*Plus to run the script:</p>
<pre dir="ltr">@?/rdbms/admin/catcdb.sql
</pre></li>
<li>
<p>Complete steps 12 - 14 in <span class="q">&#34;<a href="create.htm#GUID-0306126A-D63C-41E0-8D6E-48020FC18697" title="When you use the CREATE DATABASE statement, you must complete additional actions before you have an operational database. These actions include building views on the data dictionary tables and installing standard PL/SQL packages. You perform these actions by running the supplied scripts.">Creating a Database with the CREATE DATABASE Statement</a>&#34;</span>.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-A226DB8B-2A0F-49DB-9DA5-C14CCFFBE54F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-C9D7241C-3E18-4C8B-9ACD-D7097E273A5B" title="When you execute a CREATE DATABASE statement, Oracle Database performs several operations. The actual operations performed depend on the clauses that you specify in the CREATE DATABASE statement and the initialization parameters that you have set.">Specifying CREATE DATABASE Statement Clauses</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="create.htm#GUID-30FB0B67-31D8-42EE-BA46-7949F6B6AFCD" title="You can minimize the number of clauses and parameters that you specify in your CREATE DATABASE statement by using the Oracle Managed Files feature.">Specifying Oracle Managed Files at Database Creation</a>&#34;</span></p>
</li>
<li>
<p><a href="omf.htm#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a></p>
</li>
<li>
<p><a class="olink SQLRF01204" target="_blank" href="../SQLRF/statements_5005.htm#SQLRF01204"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about specifying the clauses and parameter values for the <code class="codeph">CREATE DATABASE</code> statement</p>
</li>
<li>
<p><a class="olink OSTMG1390" target="_blank" href="../OSTMG/GUID-321251DC-DC32-4461-940D-0C513A3CEC30.htm#OSTMG1390"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN14210"></a>
<div class="props_rev_3"><a id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009"></a>
<h2 id="ADMIN-GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009" class="sect2"><span class="enumeration_section">37.5</span> Configuring EM Express for a CDB</h2>
<div>
<p>For a CDB, you can configure Oracle Enterprise Manager Database Express (EM Express) for the root and for each PDB by setting the HTTP or HTTPS port. You must use a different port for every container in a CDB.</p>
<div class="section">
<p class="subhead2">To configure EM Express for a CDB:</p>
<ol>
<li id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__BABBBIGC">
<p>In SQL*Plus, access a container in a CDB.</p>
<p>The user must have common <code class="codeph">SYSDBA</code> administrative privilege, and you must exercise this privilege using <code class="codeph">AS</code> <code class="codeph">SYSDBA</code> at connect time. The container can be the root or a PDB.</p>
<p>See <span class="q">&#34;<a href="cdb_admin.htm#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB. You can connect to a container by using the SQL*Plus CONNECT command, or you can switch into a container with an ALTER SESSION SET CONTAINER SQL statement.">Accessing a Container in a CDB with SQL*Plus</a>&#34;</span>.</p>
</li>
<li id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__BABJJDIG">
<p>Set the HTTP or HTTPS port in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>To set the HTTP port, run the following procedure:</p>
<pre dir="ltr">exec DBMS_XDB_CONFIG.SETHTTPPORT(<span class="italic">http_port_number</span>);
</pre>
<p>Replace <span class="italic"><code class="codeph">http_port_number</code></span> with the appropriate HTTP port number.</p>
</li>
<li>
<p>To set the HTTPS port, run the following procedure:</p>
<pre dir="ltr">exec DBMS_XDB_CONFIG.SETHTTPSPORT(<span class="italic">https_port_number</span>);
</pre>
<p>Replace <span class="italic"><code class="codeph">https_port_number</code></span> with the appropriate HTTPS port number.</p>
</li>
</ul>
<p>Each container must use a unique port for EM Express.</p>
</li>
<li>
<p>Repeat steps <a href="cdb_create.htm#GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__BABBBIGC">1</a> and <a href="cdb_create.htm#GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__BABJJDIG">2</a> for each container that you want to manage and monitor with EM Express.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p>After the port is set for each container, you can access EM Express using one of the following URLs:</p>
<ul style="list-style-type: disc;">
<li>
<p>The URL for the HTTP port:</p>
<pre dir="ltr">http://<span class="italic">database_hostname</span>:<span class="italic">http_port_number</span>/em/
</pre>
<p>Replace <span class="italic"><code class="codeph">database_hostname</code></span> with the host name of the computer on which the database instance is running, and replace <span class="italic"><code class="codeph">http_port_number</code></span> with the appropriate HTTP port number.</p>
</li>
<li>
<p>The URL for the HTTPS port:</p>
<pre dir="ltr">https://<span class="italic">database_hostname</span>:<span class="italic">https_port_number</span>/em/
</pre>
<p>Replace <span class="italic"><code class="codeph">database_hostname</code></span> with the host name of the computer on which the database instance is running, and replace <span class="italic"><code class="codeph">https_port_number</code></span> with the appropriate HTTPS port number.</p>
</li>
</ul>
<p>When connected to the root, EM Express displays data and enables actions that apply to the entire CDB. When connected to a PDB, EM Express displays data and enables actions that apply to the PDB only.</p>
<div class="infobox-note" id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__GUID-5FC112CA-FCB5-4698-A793-D366ABD71AB6">
<p class="notep1">Note:</p>
<p>If the listener is not configured on port 1521, then you must manually configure the port for EM Express. See <a class="olink ADMQS032" target="_blank" href="../ADMQS/GUID-EB851101-07BE-4038-BB9D-06E01CC7F5D5.htm#ADMQS032"><span class="italic">Oracle Database 2 Day DBA</span></a> for instructions.</p>
</div>
<div class="infoboxnotealso" id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__GUID-F8D277FB-27CC-4451-B80B-6A08CEEE962A">
<p class="notep1">See Also:</p>
<p><a class="olink ADMQS003" target="_blank" href="../ADMQS/GUID-2BF9BB16-53C9-4E40-952D-774FEA514335.htm#ADMQS003"><span class="italic">Oracle Database 2 Day DBA</span></a> for more information about EM Express</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13750"></a><a id="ADMIN13751"></a><a id="ADMIN13547"></a>
<div class="props_rev_3"><a id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078"></a>
<h2 id="ADMIN-GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078" class="sect2"><span class="enumeration_section">37.6</span> After Creating a CDB</h2>
<div>
<p>After you create a CDB, it consists of the root and the seed.</p>
<p>The root contains system-supplied metadata and common users that can administer the PDBs. The seed is a template that you can use to create new PDBs. <a href="cdb_create.htm#GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__BABEJEAH">Figure 37-1</a> shows a newly created CDB.</p>
<div class="figure" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__BABEJEAH">
<p class="titleinfigure">Figure 37-1 A Newly Created CDB</p>
<img width="542" height="233" src="img/GUID-6FD146A6-A199-470D-9FDA-489CA127485E-default.png" alt="Description of Figure 37-1 follows" title="Description of Figure 37-1 follows"/><br/>
<a href="img_text/GUID-6FD146A6-A199-470D-9FDA-489CA127485E-print.htm">Description of &#34;Figure 37-1 A Newly Created CDB&#34;</a></div>
<!-- class="figure" -->
<p>In a CDB, the root contains minimal user data or no user data. User data resides in the PDBs. Therefore, after creating a CDB, one of the first tasks is to add the PDBs that will contain the user data. See <a href="cdb_plug.htm#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB.">Creating and Removing PDBs with SQL*Plus</a> for instructions.</p>
<p><a href="cdb_create.htm#GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__BABFJDBG">Figure 37-2</a> shows a CDB with PDBs.</p>
<div class="figure" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__BABFJDBG">
<p class="titleinfigure">Figure 37-2 CDB with PDBs</p>
<img width="534" height="245" src="img/GUID-3D19575A-2C78-4FD5-B2D2-435F17A4F0D6-default.png" alt="Description of Figure 37-2 follows" title="Description of Figure 37-2 follows"/><br/>
<a href="img_text/GUID-3D19575A-2C78-4FD5-B2D2-435F17A4F0D6-print.htm">Description of &#34;Figure 37-2 CDB with PDBs&#34;</a></div>
<!-- class="figure" -->
<p>When you have added the PDBs to the CDB, the physical structure of a CDB is very similar to the physical structure of a non-CDB. A CDB contains the following files:</p>
<ul style="list-style-type: disc;">
<li>
<p>One control file</p>
</li>
<li>
<p>One active online redo log for a single-instance CDB, or one active online redo log for each instance of an Oracle RAC CDB</p>
</li>
<li>
<p>One set of temp files</p>
<p>There is one default temporary tablespace for the root and for each PDB.</p>
</li>
<li>
<p>One active undo tablespace for a single-instance CDB, or one active undo tablespace for each instance of an Oracle RAC CDB</p>
</li>
<li>
<p>Sets of system data files</p>
<p>The primary physical difference between a CDB and a non-CDB is in the non-undo data files. A non-CDB has only one set of system data files. In contrast, a CDB includes one set of system data files for each container in the CDB, including a set of system data files for each PDB. In addition, a CDB has one set of user-created data files for each container.</p>
</li>
<li>
<p>Sets of user-created data files</p>
<p>Each PDB has its own set of non-system data files. These data files contain the user-defined schemas and database objects for the PDB.</p>
</li>
</ul>
<p>See <a class="olink CNCPT89268" target="_blank" href="../CNCPT/cdblogic.htm#CNCPT89268"><span class="italic">Oracle Database Concepts</span></a> for more information about the physical architecture of a CDB.</p>
<p>For backup and recovery of a CDB, Recovery Manager (RMAN) is recommended. PDB point-in-time recovery (PDB PITR) must be performed with RMAN. By default, RMAN turns on control file autobackup for a CDB. It is strongly recommended that control file autobackup is enabled for a CDB, to ensure that PDB PITR can undo data file additions or deletions.</p>
<div class="video-box">
<div xmlns="" id="6411" class="video-container"></div>
</div>
<p>Because the physical structure of a CDB and a non-CDB are similar, most management tasks are the same for a CDB and a non-CDB. However, some administrative tasks are specific to CDBs. The following chapters describe these tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="cdb_plug.htm#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs in several different ways, including using the seed, cloning an existing PDB or non-CDB, and plugging in an unplugged PDB. You can also remove PDBs from a CDB.">Creating and Removing PDBs with SQL*Plus</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creating a PDB with SQL*Plus</p>
</li>
<li>
<p>Plugging in a PDB with SQL*Plus</p>
</li>
<li>
<p>Unplugging a PDB with SQL*Plus</p>
</li>
<li>
<p>Dropping a PDB with SQL*Plus</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_plug_em.htm#GUID-D5D84283-0428-4C2A-B307-62B4F51D1F69" title="You can you can create, clone, unplug, and remove pluggable databases (PDBs) in a multitenant container database (CDB) using Oracle Enterprise Manager Cloud Control (Cloud Control).">Creating and Removing PDBs with Cloud Control</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creating a PDB with Cloud Control</p>
</li>
<li>
<p>Plugging in a PDB with Cloud Control</p>
</li>
<li>
<p>Unplugging a PDB with Cloud Control</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_admin.htm#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="Administering a CDB with SQL*Plus includes tasks such as access a container in a CDB, modifying a CDB, executing DDL statements in a CDB, and running Oracle-supplied SQL scripts in a CDB.">Administering a CDB with SQL*Plus</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Connecting to a container</p>
</li>
<li>
<p>Switching into a container</p>
</li>
<li>
<p>Modifying a CDB</p>
</li>
<li>
<p>Modifying the root</p>
</li>
<li>
<p>Changing the open mode of a PDB</p>
</li>
<li>
<p>Executing DDL statements in a CDB</p>
</li>
<li>
<p>Shutting down the CDB instance</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_admin_em.htm#GUID-71402CFE-BD65-45BF-BC9B-1F095D88AF5C" title="You can administer CDBs and PDBs with Oracle Enterprise Manager Cloud Control.">Administering CDBs and PDBs with Cloud Control</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Managing CDB storage and schema objects</p>
</li>
<li>
<p>Managing per-container storage and schema objects</p>
</li>
<li>
<p>Monitoring storage and schema alerts</p>
</li>
<li>
<p>Switching into a container</p>
</li>
<li>
<p>Changing the open mode of a PDB</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_pdb_admin.htm#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="Administering PDBs with SQL*Plus includes tasks such as connecting to a PDB, modifying a PDB, and managing services associated with PDBs.">Administering PDBs with SQL*Plus</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Connecting to a PDB</p>
</li>
<li>
<p>Modifying a PDB</p>
</li>
<li>
<p>Managing services associated with PDBs</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_mon.htm#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="You can view information about CDBs and PDBs with SQL*Plus.">Viewing Information About CDBs and PDBs with SQL*Plus</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Querying views for monitoring a CDB and its PDBs</p>
</li>
<li>
<p>Running sample queries that provide information about a CDB and its PDBs</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_dbrm.htm#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="You can use PL/SQL package procedures to administer Oracle Resource Manager (Resource Manager) to allocate resources to pluggable databases (PDBs) in a multitenant container database (CDB).">Using Oracle Resource Manager for PDBs with SQL*Plus</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creating resource plans in a CDB with SQL*Plus</p>
</li>
<li>
<p>Managing resource plans in a CDB with SQL*Plus</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_dbrm_em.htm#GUID-D9A5EBE6-6E45-463A-92E0-B9FEBAD50A54" title="You can use Oracle Resource Manage for a multitenant environment with Oracle Enterprise Manager Cloud Control.">Using Oracle Resource Manager for PDBs with Cloud Control</a></p>
<p>This chapter documents the following tasks:</p>
<ul style="list-style-type: disc;">
<li>
<p>Creating resource plans in a CDB with Cloud Control</p>
</li>
<li>
<p>Monitoring the system performance under a CDB resource plan with Cloud Control</p>
</li>
<li>
<p>Creating a PDB resource plan</p>
</li>
</ul>
</li>
<li>
<p><a href="cdb_sched.htm#GUID-5BD1ACC9-D10D-4573-860F-5F8A65AE8554" title="You can use Oracle Scheduler to schedule jobs in a multitenant container database (CDB).">Using Oracle Scheduler with a CDB</a></p>
<p>This chapter documents the following topics:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DBMS_SCHEDULER</code> invocations in a CDB</p>
</li>
<li>
<p>Job coordinator and slave processes in a CDB</p>
</li>
<li>
<p>Using <code class="codeph">DBMS_JOB</code></p>
</li>
<li>
<p>Processes to close a PDB</p>
</li>
<li>
<p>New and changed views</p>
</li>
</ul>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__GUID-615778D9-4615-4FAF-A728-851E230921F1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink CNCPT89247" target="_blank" href="../CNCPT/cdbovrvw.htm#CNCPT89247"><span class="italic">Oracle Database Concepts</span></a> for a multitenant architecture documentation roadmap</p>
</li>
<li>
<p><a class="olink BRADV640" target="_blank" href="../BRADV/rcmflash.htm#BRADV640"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about RMAN</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="cdb_intro.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="cdb_plug.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
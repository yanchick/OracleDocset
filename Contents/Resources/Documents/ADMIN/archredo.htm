<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-167"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Managing%20Archived%20Redo%20Log%20Files"></a><title>Managing Archived Redo Log Files</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations."/>
<meta name="keywords" content="redo log files, archiving, NOARCHIVELOG mode, NOARCHIVELOG vs. ARCHIVELOG mode, ARCHIVELOG mode, media failure, running in, definition, no hot backups, backups, effects of archiving on, media recovery, definition of, advantages, automatic archiving in, manual archiving in, distributed databases, running in ARCHIVELOG mode, running in NOARCHIVELOG mode, setting initial mode, ALTER DATABASE statement, ARCHIVELOG clause, changing archiving mode, switching to, NOARCHIVELOG clause, archived redo log files, archiving modes, enabling, manual archiving, in ARCHIVELOG mode, manual, privileges, manually archiving, ALTER SYSTEM statement, ARCHIVE LOG ALL clause, controlling number of processes, LOG_ARCHIVE_MAX_PROCESSES initialization parameter, initialization parameters, LOG_ARCHIVE_MAX_PROCESSES, destinations, specifying, multiplexing, LOG_ARCHIVE_DEST_n initialization parameter, LOG_ARCHIVE_DEST_n, LOG_ARCHIVE_DEST initialization parameter, specifying destinations using, LOG_ARCHIVE_DUPLEX_DEST initialization parameter, LOG_ARCHIVE_DEST, fast recovery area, as archive log destination, destination status, alternate destinations, transmitting, transmitting archived redo log files, normal transmission of, standby transmission of, normal transmission mode, standby transmission mode, destination failure, failed destinations and, LOG_ARCHIVE_MIN_SUCCEED_DEST, LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter, mandatory destinations, sample destination scenarios, re-archiving to failed destination, to failed destinations, REOPEN attribute, trace output, controlling, tracing, archivelog process, archiver process (ARCn), trace output (controlling), LOG_ARCHIVE_TRACE initialization parameter, LOG_ARCHIVE_TRACE, V$ARCHIVE view, V$LOG view, views, V$ARCHIVE, V$LOG, displaying archiving status, data dictionary views, data dictionary, for archived redo log files"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="onlineredo.htm" title="Previous" type="text/html"/>
<link rel="Next" href="tspaces.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3"></a> <span id="PAGE" style="display:none;">18/59</span> <!-- End Header -->
<a id="ADMIN008"></a>
<h1 id="ADMIN-GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" class="sect1"><span class="enumeration_chapter">12</span> Managing Archived Redo Log Files</h1>
<div>
<p>You manage the archived redo log files by completing tasks such as choosing between <code class="codeph">NOARCHIVELOG</code>&nbsp;or&nbsp;<code class="codeph">ARCHIVELOG</code>&nbsp;mode and specifying archive destinations.</p>
<div class="infoboxnotealso" id="GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3__GUID-75537103-BDE9-4B7D-A412-013680BB2C60">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="omf.htm#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database.">Using Oracle Managed Files</a> for information about creating an archived redo log that is both created and managed by the Oracle Database server</p>
</li>
<li>
<p><a class="olink RACAD325" target="_blank" href="../RACAD/GUID-2A6A3B47-DD1A-40AF-9550-C37229A556D8.htm#RACAD325"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information specific to archiving in the Oracle Real Application Clusters environment</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN11329"></a>
<div class="props_rev_3"><a id="GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C"></a>
<h2 id="ADMIN-GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C" class="sect2"><span class="enumeration_section">12.1</span> What Is the Archived Redo Log?</h2>
<div>
<p>Oracle Database lets you save filled groups of redo log files to one or more offline destinations, known collectively as the <span class="bold">archived redo log</span>.</p>
<p>The process of turning redo log files into archived redo log files is called <span class="bold">archiving</span>. This process is only possible if the database is running in <span class="bold"><code class="codeph">ARCHIVELOG</code></span> <span class="bold">mode</span>. You can choose automatic or manual archiving.</p>
<p>An archived redo log file is a copy of one of the filled members of a redo log group. It includes the redo entries and the unique log sequence number of the identical member of the redo log group. For example, if you are multiplexing your redo log, and if group 1 contains identical member files <code class="codeph">a_log1</code> and <code class="codeph">b_log1</code>, then the archiver process (ARC<span class="italic">n</span>) will archive one of these member files. Should <code class="codeph">a_log1</code> become corrupted, then ARC<span class="italic">n</span> can still archive the identical <code class="codeph">b_log1</code>. The archived redo log contains a copy of every group created since you enabled archiving.</p>
<p>When the database is running in <code class="codeph">ARCHIVELOG</code> mode, the log writer process (LGWR) cannot reuse and hence overwrite a redo log group until it has been archived. The background process ARC<span class="italic">n</span> automates archiving operations when automatic archiving is enabled. The database starts multiple archiver processes as needed to ensure that the archiving of filled redo logs does not fall behind.</p>
<p>You can use archived redo log files to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Recover a database</p>
</li>
<li>
<p>Update a standby database</p>
</li>
<li>
<p>Get information about the history of a database using the LogMiner utility</p>
<div class="infoboxnotealso" id="GUID-9BD00F2E-DC98-4871-8D26-FDB40623909C__GUID-D4879D41-5849-4121-8B76-8ABC85ADE92F">
<p class="notep1">See Also:</p>
<p>The following sources document the uses for archived redo log files:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink BRADV" target="_blank" href="../BRADV/toc.htm"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink SBYDB" target="_blank" href="../SBYDB/toc.htm"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> discusses setting up and maintaining a standby database</p>
</li>
<li>
<p><a class="olink SUTIL019" target="_blank" href="../SUTIL/GUID-3417B738-374C-4EE3-B15C-3A66E01AE2B5.htm#SUTIL019"><span class="italic">Oracle Database Utilities</span></a> contains instructions for using the LogMiner PL/SQL package</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<a id="ADMIN11330"></a>
<div class="props_rev_3"><a id="GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1"></a>
<h2 id="ADMIN-GUID-2FF3967A-44E6-4EA1-8759-5DB2D67CBDE1" class="sect2"><span class="enumeration_section">12.2</span> Choosing Between NOARCHIVELOG and ARCHIVELOG Mode</h2>
<div>
<p>You must choose between running your database in <code class="codeph">NOARCHIVELOG</code> or <code class="codeph">ARCHIVELOG</code> mode.</p>
<p>The choice of whether to enable the archiving of filled groups of redo log files depends on the availability and reliability requirements of the application running on the database. If you cannot afford to lose any data in your database in the event of a disk failure, use <code class="codeph">ARCHIVELOG</code> mode. The archiving of filled redo log files can require you to perform extra administrative operations.</p>
</div>
<a id="ADMIN11331"></a>
<div class="props_rev_3"><a id="GUID-21A9A3AC-1D90-4848-B3BB-3A9E797547F8"></a>
<h3 id="ADMIN-GUID-21A9A3AC-1D90-4848-B3BB-3A9E797547F8" class="sect3"><span class="enumeration_section">12.2.1</span> Running a Database in NOARCHIVELOG Mode</h3>
<div>
<p>When you run your database in <code class="codeph">NOARCHIVELOG</code> mode, you disable the archiving of the redo log.</p>
<p>The database control file indicates that filled groups are not required to be archived. Therefore, when a filled group becomes inactive after a log switch, the group is available for reuse by LGWR.</p>
<p><code class="codeph">NOARCHIVELOG</code> mode protects a database from instance failure but not from media failure. Only the most recent changes made to the database, which are stored in the online redo log groups, are available for instance recovery. If a media failure occurs while the database is in <code class="codeph">NOARCHIVELOG</code> mode, you can only restore the database to the point of the most recent full database backup. You cannot recover transactions subsequent to that backup.</p>
<p>In <code class="codeph">NOARCHIVELOG</code> mode you cannot perform online tablespace backups, nor can you use online tablespace backups taken earlier while the database was in <code class="codeph">ARCHIVELOG</code> mode. To restore a database operating in <code class="codeph">NOARCHIVELOG</code> mode, you can use only whole database backups taken while the database is closed. Therefore, if you decide to operate a database in <code class="codeph">NOARCHIVELOG</code> mode, take whole database backups at regular, frequent intervals.</p>
</div>
</div>
<a id="ADMIN13042"></a><a id="ADMIN11332"></a>
<div class="props_rev_3"><a id="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A"></a>
<h3 id="ADMIN-GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A" class="sect3"><span class="enumeration_section">12.2.2</span> Running a Database in ARCHIVELOG Mode</h3>
<div>
<p>When you run a database in <code class="codeph">ARCHIVELOG</code> mode, you enable the archiving of the redo log.</p>
<p>The database control file indicates that a group of filled redo log files cannot be reused by LGWR until the group is archived. A filled group becomes available for archiving immediately after a redo log switch occurs.</p>
<p>The archiving of filled groups has these advantages:</p>
<ul style="list-style-type: disc;">
<li>
<p>A database backup, together with online and archived redo log files, guarantees that you can recover all committed transactions in the event of an operating system or disk failure.</p>
</li>
<li>
<p>If you keep archived logs available, you can use a backup taken while the database is open and in normal system use.</p>
</li>
<li>
<p>You can keep a standby database current with its original database by continuously applying the original archived redo log files to the standby.</p>
</li>
</ul>
<p>You can configure an instance to archive filled redo log files automatically, or you can archive manually. For convenience and efficiency, automatic archiving is usually best. <a href="archredo.htm#GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A__i1006201">Figure 12-1</a> illustrates how the archiver process (ARC0 in this illustration) writes filled redo log files to the database archived redo log.</p>
<p>If all databases in a distributed database operate in <code class="codeph">ARCHIVELOG</code> mode, you can perform coordinated distributed database recovery. However, if any database in a distributed database is in <code class="codeph">NOARCHIVELOG</code> mode, recovery of a global distributed database (to make all databases consistent) is limited by the last full backup of any database operating in <code class="codeph">NOARCHIVELOG</code> mode.</p>
<div class="figure" id="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A__i1006201">
<p class="titleinfigure">Figure 12-1 Redo Log File Use in ARCHIVELOG Mode</p>
<img width="477" height="445" src="img/GUID-CD237A6B-A2BD-418F-A04F-B71AA9E1571B-default.gif" alt="Description of Figure 12-1 follows" title="Description of Figure 12-1 follows"/><br/>
<a href="img_text/GUID-CD237A6B-A2BD-418F-A04F-B71AA9E1571B-print.htm">Description of &#34;Figure 12-1 Redo Log File Use in ARCHIVELOG Mode&#34;</a></div>
<!-- class="figure" -->
<div class="infoboxnotealso" id="GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A__GUID-EFBED8B0-1B95-42C2-B9EB-9CDE90505FC3">
<p class="notep1">Tip:</p>
<p>It is good practice to move archived redo log files and corresponding database backups from the local disk to permanent offline storage media such as tape. A primary value of archived logs is database recovery, so you want to ensure that these logs are safe should disaster strike your primary database.</p>
</div>
</div>
</div>
</div>
<a id="ADMIN11333"></a>
<div class="props_rev_3"><a id="GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C"></a>
<h2 id="ADMIN-GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C" class="sect2"><span class="enumeration_section">12.3</span> Controlling Archiving</h2>
<div>
<p>You can set the archiving mode for your database and adjust the number of archiver processes.</p>
<div class="infoboxnotealso" id="GUID-BE84B19D-7BE2-40D5-B962-5EF54E53095C__GUID-6BCEAE57-F33B-4B47-8464-CFF36EB9E2BA">
<p class="notep1">See Also:</p>
<p>Your Oracle operating system specific documentation for additional information on controlling archiving modes</p>
</div>
</div>
<a id="ADMIN11334"></a>
<div class="props_rev_3"><a id="GUID-0FC1DF01-4AB0-4888-B61F-19D234DAB6CB"></a>
<h3 id="ADMIN-GUID-0FC1DF01-4AB0-4888-B61F-19D234DAB6CB" class="sect3"><span class="enumeration_section">12.3.1</span> Setting the Initial Database Archiving Mode</h3>
<div>
<p>You set the initial archiving mode as part of database creation in the <code class="codeph">CREATE DATABASE</code> statement.</p>
<div class="section">
<p>Usually, you can use the default of <code class="codeph">NOARCHIVELOG</code> mode at database creation because there is no need to archive the redo information generated by that process. After creating the database, decide whether to change the initial archiving mode.</p>
<p>If you specify <code class="codeph">ARCHIVELOG</code> mode, you must have initialization parameters set that specify the destinations for the archived redo log files (see <span class="q">&#34;<a href="archredo.htm#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" title="You can choose to archive redo logs to a single destination or to multiple destinations.">Setting Initialization Parameters for Archive Destinations</a>&#34;</span>).</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11335"></a>
<div class="props_rev_3"><a id="GUID-C12EA833-4717-430A-8919-5AEA747087B9"></a>
<h3 id="ADMIN-GUID-C12EA833-4717-430A-8919-5AEA747087B9" class="sect3"><span class="enumeration_section">12.3.2</span> Changing the Database Archiving Mode</h3>
<div>
<p>To change the archiving mode of the database, use the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">ARCHIVELOG</code> or <code class="codeph">NOARCHIVELOG</code> clause.</p>
<div class="section">
<p>To change the archiving mode, you must be connected to the database with administrator privileges (<code class="codeph">AS SYSDBA</code>).</p>
<p>The following steps switch the database archiving mode from <code class="codeph">NOARCHIVELOG</code> to <code class="codeph">ARCHIVELOG</code>:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Shut down the database instance.</span>
<div>
<pre dir="ltr">SHUTDOWN IMMEDIATE
</pre>
<p>An open database must first be closed and any associated instances shut down before you can switch the database archiving mode. You cannot change the mode from <code class="codeph">ARCHIVELOG</code> to <code class="codeph">NOARCHIVELOG</code> if any data files need media recovery.</p>
</div>
</li>
<li class="stepexpand"><span>Back up the database.</span>
<div>
<p>Before making any major change to a database, always back up the database to protect against any problems. This will be your final backup of the database in <code class="codeph">NOARCHIVELOG</code> mode and can be used if something goes wrong during the change to <code class="codeph">ARCHIVELOG</code> mode. See <a class="olink BRADV002" target="_blank" href="../BRADV/rcmcncpt.htm#BRADV002"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about taking database backups.</p>
</div>
</li>
<li class="stepexpand"><span>Edit the initialization parameter file to include the initialization parameters that specify the destinations for the archived redo log files (see <span class="q">&#34;<a href="archredo.htm#GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" title="You can choose to archive redo logs to a single destination or to multiple destinations.">Setting Initialization Parameters for Archive Destinations</a>&#34;</span>).</span></li>
<li class="stepexpand"><span>Start a new instance and mount, but do not open, the database.</span>
<div>
<pre dir="ltr">STARTUP MOUNT
</pre>
<p>To enable or disable archiving, the database must be mounted but not open.</p>
</div>
</li>
<li class="stepexpand" id="GUID-C12EA833-4717-430A-8919-5AEA747087B9__I1007390"><span>Change the database archiving mode. Then open the database for normal operations.</span>
<div>
<pre dir="ltr">ALTER DATABASE ARCHIVELOG;
ALTER DATABASE OPEN;
</pre></div>
</li>
<li class="stepexpand"><span>Shut down the database.</span>
<div>
<pre dir="ltr">SHUTDOWN IMMEDIATE
</pre></div>
</li>
<li class="stepexpand"><span>Back up the database.</span>
<div>
<p>Changing the database archiving mode updates the control file. After changing the database archiving mode, you must back up all of your database files and control file. Any previous backup is no longer usable because it was taken in <code class="codeph">NOARCHIVELOG</code> mode.</p>
<div class="infoboxnotealso" id="GUID-C12EA833-4717-430A-8919-5AEA747087B9__GUID-5195DD40-D4F1-4BC2-98AB-397AEB1BB19F">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD327" target="_blank" href="../RACAD/GUID-E4CCA8D1-9DFF-40AB-BE35-27F6FEF5F94E.htm#RACAD327"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for more information about switching the archiving mode when using Real Application Clusters</p>
</div>
</div>
</li>
</ol>
</div>
</div>
<a id="ADMIN11336"></a>
<div class="props_rev_3"><a id="GUID-6796C2F0-C35B-42E0-85C2-C19A94855E96"></a>
<h3 id="ADMIN-GUID-6796C2F0-C35B-42E0-85C2-C19A94855E96" class="sect3"><span class="enumeration_section">12.3.3</span> Performing Manual Archiving</h3>
<div>
<p>For convenience and efficiency, automatic archiving is usually best. However, you can configure your database for manual archiving only.</p>
<div class="section">
<p>When you operate your database in manual <code class="codeph">ARCHIVELOG</code> mode, you must archive inactive groups of filled redo log files or your database operation can be temporarily suspended.</p>
<p>To operate your database in manual archiving mode:</p>
<ol>
<li>
<p>Follow the procedure described in <span class="q">&#34;<a href="archredo.htm#GUID-C12EA833-4717-430A-8919-5AEA747087B9" title="To change the archiving mode of the database, use the ALTER DATABASE statement with the ARCHIVELOG or NOARCHIVELOG clause.">Changing the Database Archiving Mode</a> &#34;</span>, but replace the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement with the following statement:</p>
<pre dir="ltr">ALTER DATABASE ARCHIVELOG MANUAL;
</pre></li>
<li>
<p>Connect to the database as a user with administrator privileges.</p>
</li>
<li>
<p>Ensure that the database is either mounted or open.</p>
</li>
<li>
<p>Use the <code class="codeph">ALTER SYSTEM</code> statement with the <code class="codeph">ARCHIVE LOG</code> clause to manually archive filled redo log files. For example, the following statement archives all unarchived redo log files:</p>
<pre dir="ltr">ALTER SYSTEM ARCHIVE LOG ALL;
</pre></li>
</ol>
<p>When you use manual archiving mode, you cannot specify any standby databases in the archiving destinations.</p>
<p>Even when automatic archiving is enabled, you can use manual archiving for such actions as rearchiving an inactive group of filled redo log members to another location. In this case, it is possible for the instance to reuse the redo log group before you have finished manually archiving, and thereby overwrite the files. If this happens, the database writes an error message to the alert log.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a href="archredo.htm#GUID-36F3335E-A28B-47BA-82C2-E17B4C8A453A" title="When you run a database in ARCHIVELOG mode, you enable the archiving of the redo log.">Running a Database in ARCHIVELOG Mode</a></li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11337"></a>
<div class="props_rev_3"><a id="GUID-8E0F3F8E-0727-46F4-8E8E-FFEC2EE0D375"></a>
<h3 id="ADMIN-GUID-8E0F3F8E-0727-46F4-8E8E-FFEC2EE0D375" class="sect3"><span class="enumeration_section">12.3.4</span> Adjusting the Number of Archiver Processes</h3>
<div>
<p>The <code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code> initialization parameter specifies the number of ARC<span class="italic">n</span> processes that the database initially starts. The default is four processes.</p>
<div class="section">
<p>To avoid any run-time overhead of starting additional ARC<span class="italic">n</span> processes:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code> initialization parameter to specify that up to 30 ARC<span class="italic">n</span> processes be started at instance startup.</p>
</li>
</ul>
<p>The <code class="codeph">LOG_ARCHIVE_MAX_PROCESSES</code> parameter is dynamic, so you can change it using the <code class="codeph">ALTER SYSTEM</code> statement.</p>
<p>The following statement configures the database to start six ARC<span class="italic">n</span> processes upon startup:</p>
<pre dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_MAX_PROCESSES=6;
</pre>
<p>The statement also has an immediate effect on the currently running instance. It increases or decreases the current number of running ARC<span class="italic">n</span> processes to six.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11338"></a>
<div class="props_rev_3"><a id="GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8"></a>
<h2 id="ADMIN-GUID-FC700EB5-72AF-414F-8D36-327D266F0BA8" class="sect2"><span class="enumeration_section">12.4</span> Specifying Archive Destinations</h2>
<div>
<p>Before you can archive redo logs, you must determine the destination to which you will archive, and familiarize yourself with the various destination states.</p>
<p>The dynamic performance (V$) views, listed in <span class="q">&#34;<a href="archredo.htm#GUID-62E48748-F8A8-4740-90B1-5B3708A63386" title="You can display information about the archived redo log using dynamic performance views or the ARCHIVE LOG LIST command.">Viewing Information About the Archived Redo Log</a>&#34;</span>, provide all needed archive information.</p>
</div>
<a id="ADMIN00801"></a>
<div class="props_rev_3"><a id="GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26"></a>
<h3 id="ADMIN-GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26" class="sect3"><span class="enumeration_section">12.4.1</span> Setting Initialization Parameters for Archive Destinations</h3>
<div>
<p>You can choose to archive redo logs to a single destination or to multiple destinations.</p>
<div class="section">
<p>Destinations can be local&mdash;within the local file system or an Oracle Automatic Storage Management (Oracle ASM) disk group&mdash;or remote (on a standby database). When you archive to multiple destinations, a copy of each filled redo log file is written to each destination. These redundant copies help ensure that archived logs are always available in the event of a failure at one of the destinations.</p>
<p>To archive to only a single destination:</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify that destination using the <code class="codeph">LOG_ARCHIVE_DEST</code> initialization parameter.</p>
</li>
</ul>
<p>To archive to multiple destinations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Choose to archive to two or more locations using the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameters, or to archive only to a primary and secondary destination using the <code class="codeph">LOG_ARCHIVE_DEST</code> and <code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> initialization parameters.</p>
</li>
</ul>
<p>For local destinations, in addition to the local file system or an Oracle ASM disk group, you can archive to the Fast Recovery Area. The database uses the Fast Recovery Area to store and automatically manage disk space for a variety of files related to backup and recovery. See <a class="olink BRADV8183" target="_blank" href="../BRADV/rcmconfb.htm#BRADV8183"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for details about the Fast Recovery Area.</p>
<p>Typically, you determine archive log destinations during database planning, and you set the initialization parameters for archive destinations during database installation. However, you can use the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> command to dynamically add or change archive destinations after your database is running. Any destination changes that you make take effect at the next log switch (automatic or manual).</p>
<p>The following table summarizes the archive destination alternatives, which are further described in the sections that follow.</p>
<div class="tblformalwide" id="GUID-9D577C54-A0BF-43E9-BB56-24A9BFCF4F26__GUID-5EBE9A39-B2EE-449F-991B-47F851D688C4">
<table class="cellalignment1880" summary="This table lists two methods for specifying archive log destinations. The method is identified in column 1, relevant initialization parameters are listed in column 2, the host environment is specified in column 3, and an example is given in column 4.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1905" id="d104790e1400">Method</th>
<th class="cellalignment1873" id="d104790e1403">Initialization Parameter</th>
<th class="cellalignment1906" id="d104790e1406">Host</th>
<th class="cellalignment1873" id="d104790e1409">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1907" id="d104790e1414" headers="d104790e1400">
<p>1</p>
</td>
<td class="cellalignment1876" headers="d104790e1414 d104790e1403">
<p><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span></p>
<p>where:</p>
<p><span class="italic">n</span> is an integer from 1 to 31. Archive destinations 1 to 10 are available for local or remote locations. Archive destinations 11 to 31 are available for remote locations only.</p>
</td>
<td class="cellalignment1908" headers="d104790e1414 d104790e1406">
<p>Local or remote</p>
</td>
<td class="cellalignment1876" headers="d104790e1414 d104790e1409">
<p><code class="codeph">LOG_ARCHIVE_DEST_1 = &#39;LOCATION=/disk1/arc&#39;</code></p>
<p><code class="codeph">LOG_ARCHIVE_DEST_2 = &#39;LOCATION=/disk2/arc&#39;</code></p>
<p><code class="codeph">LOG_ARCHIVE_DEST_3 = &#39;SERVICE=standby1&#39;</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1907" id="d104790e1445" headers="d104790e1400">
<p>2</p>
</td>
<td class="cellalignment1876" headers="d104790e1445 d104790e1403">
<p><code class="codeph">LOG_ARCHIVE_DEST</code> and</p>
<p><code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code></p>
</td>
<td class="cellalignment1908" headers="d104790e1445 d104790e1406">
<p>Local only</p>
</td>
<td class="cellalignment1876" headers="d104790e1445 d104790e1409">
<p><code class="codeph">LOG_ARCHIVE_DEST = &#39;/disk1/arc&#39;</code></p>
<p><code class="codeph">LOG_ARCHIVE_DUPLEX_DEST = &#39;/disk2/arc&#39;</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
<a id="ADMIN11339"></a>
<div class="props_rev_3"><a id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B"></a>
<h4 id="ADMIN-GUID-C883DC9C-0771-4146-9204-9F09B5682C9B" class="sect4"><span class="enumeration_section">12.4.1.1</span> Method 1: Using the LOG_ARCHIVE_DEST_<span class="italic">n</span> Parameter</h4>
<div>
<p>You can use the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter to specify different destinations for archived logs.</p>
<div class="section">
<p>Set the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter (where <span class="italic">n</span> is an integer from 1 to 31) to specify from one to 31. Each numerically suffixed parameter uniquely identifies an individual destination.</p>
<p>You specify the location for <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> using the keywords explained in the following table:</p>
<div class="tblformalwide" id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__GUID-9C44838E-6493-4F17-A19C-807315BCA81F">
<table class="cellalignment1880" summary="Keywords of the LOG_ARCHIVE_DEST_n initialization parameter are listed in column 1, what the keyword indicates is shown in column 2, and an example is provided in column 3.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1909" id="d104790e1570">Keyword</th>
<th class="cellalignment1882" id="d104790e1573">Indicates</th>
<th class="cellalignment1910" id="d104790e1576">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1911" id="d104790e1581" headers="d104790e1570">
<p><code class="codeph">LOCATION</code></p>
</td>
<td class="cellalignment1885" headers="d104790e1581 d104790e1573">
<p>A local file system location or Oracle ASM disk group</p>
</td>
<td class="cellalignment1912" headers="d104790e1581 d104790e1576">
<p><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">= &#39;LOCATION=/disk1/arc&#39;</code></p>
<p><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">= &#39;LOCATION=+DGROUP1/orcl/arc_1&#39;</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1911" id="d104790e1607" headers="d104790e1570">
<p><code class="codeph">LOCATION</code></p>
</td>
<td class="cellalignment1885" headers="d104790e1607 d104790e1573">
<p>The Fast Recovery Area</p>
</td>
<td class="cellalignment1912" headers="d104790e1607 d104790e1576">
<p><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">= &#39;LOCATION=USE_DB_RECOVERY_FILE_DEST&#39;</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1911" id="d104790e1625" headers="d104790e1570">
<p><code class="codeph">SERVICE</code></p>
</td>
<td class="cellalignment1885" headers="d104790e1625 d104790e1573">
<p>Remote archival through Oracle Net service name.</p>
</td>
<td class="cellalignment1912" headers="d104790e1625 d104790e1576">
<p><code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">= &#39;SERVICE=standby1&#39;</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If you use the <code class="codeph">LOCATION</code> keyword, specify one of the following:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>A valid path name in your operating system&#39;s local file system</p>
</li>
<li>
<p>An Oracle ASM disk group</p>
</li>
<li>
<p>The keyword <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code> to indicate the Fast Recovery Area</p>
</li>
</ul>
<p>If you specify <code class="codeph">SERVICE</code>, supply a net service name that Oracle Net can resolve to a connect descriptor for a standby database. The connect descriptor contains the information necessary for connecting to the remote database.</p>
<p>Perform the following steps to set the destination for archived redo log files using the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Set the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter to specify from one to 31 archiving locations. For example, enter:</span>
<div>
<pre dir="ltr">LOG_ARCHIVE_DEST_1 = &#39;LOCATION = /disk1/archive&#39;
LOG_ARCHIVE_DEST_2 = &#39;LOCATION = /disk2/archive&#39;
LOG_ARCHIVE_DEST_3 = &#39;LOCATION = +RECOVERY/orcl/arc_3&#39;
</pre>
<p>If you are archiving to a standby database, then use the <code class="codeph">SERVICE</code> keyword to specify a valid net service name. For example, enter:</p>
<pre dir="ltr">LOG_ARCHIVE_DEST_4 = &#39;SERVICE = standby1&#39;
</pre></div>
</li>
<li class="stepexpand" id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__i1008112"><span>(Optional) Set the <code class="codeph">LOG_ARCHIVE_FORMAT</code> initialization parameter, using <code class="codeph">%t</code> to include the thread number as part of the file name, <code class="codeph">%s</code> to include the log sequence number, and <code class="codeph">%r</code> to include the resetlogs ID (a timestamp value represented in ub4). Use capital letters (<code class="codeph">%T</code>, <code class="codeph">%S</code>, and <code class="codeph">%R</code>) to pad the file name to the left with zeroes.</span>
<div>
<div class="infobox-note" id="GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__GUID-2C21D6DA-4905-46FC-86B8-BBCD7A0C5AD7">
<p class="notep1">Note:</p>
<p>The database requires the specification of resetlogs ID (<code class="codeph">%r</code>) when you include the <code class="codeph">LOG_ARCHIVE_FORMAT</code> parameter. The default for this parameter is operating system dependent.</p>
<p>The incarnation of a database changes when you open it with the <code class="codeph">RESETLOGS</code> option. Specifying <code class="codeph">%r</code> causes the database to capture the resetlogs ID in the archived redo log file name. See <a class="olink BRADV1171" target="_blank" href="../BRADV/rcmrvcon.htm#BRADV1171"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for more information about this method of recovery.</p>
</div>
<p>The following example shows a setting of <code class="codeph">LOG_ARCHIVE_FORMAT</code>:</p>
<pre dir="ltr">LOG_ARCHIVE_FORMAT = arch_%t_%s_%r.arc
</pre>
<p>This setting will generate archived logs as follows for thread 1; log sequence numbers 100, 101, and 102; resetlogs ID 509210197. The identical resetlogs ID indicates that the files are all from the same database incarnation:</p>
<pre dir="ltr">/disk1/archive/arch_1_100_509210197.arc, 
/disk1/archive/arch_1_101_509210197.arc, 
/disk1/archive/arch_1_102_509210197.arc

/disk2/archive/arch_1_100_509210197.arc, 
/disk2/archive/arch_1_101_509210197.arc, 
/disk2/archive/arch_1_102_509210197.arc

/disk3/archive/arch_1_100_509210197.arc, 
/disk3/archive/arch_1_101_509210197.arc, 
/disk3/archive/arch_1_102_509210197.arc
</pre></div>
</li>
</ol>
<div class="section">
<p>The <code class="codeph">LOG_ARCHIVE_FORMAT</code> initialization parameter is ignored in some cases. See <a class="olink REFRN10089" target="_blank" href="../REFRN/GUID-2D8A4B78-E94C-426E-AD55-EDE886AF29AC.htm#REFRN10089"><span class="italic">Oracle Database Reference</span></a> for more information about this parameter.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11340"></a>
<div class="props_rev_3"><a id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1"></a>
<h4 id="ADMIN-GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1" class="sect4"><span class="enumeration_section">12.4.1.2</span> Method 2: Using LOG_ARCHIVE_DEST and LOG_ARCHIVE_DUPLEX_DEST</h4>
<div>
<p>To specify a maximum of two locations, use the <code class="codeph">LOG_ARCHIVE_DEST</code> parameter to specify a primary archive destination and the <code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> to specify an optional secondary archive destination.</p>
<div class="section">
<p>All locations must be local. Whenever the database archives a redo log, it archives it to every destination specified by either set of parameters.</p>
<p>Perform the following steps the use method 2:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Specify destinations for the <code class="codeph">LOG_ARCHIVE_DEST</code> and <code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> parameter (you can also specify <code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> dynamically using the <code class="codeph">ALTER SYSTEM</code> statement). For example, enter:</span>
<div>
<pre dir="ltr">LOG_ARCHIVE_DEST = &#39;/disk1/archive&#39;
LOG_ARCHIVE_DUPLEX_DEST = &#39;/disk2/archive&#39;
</pre></div>
</li>
<li class="stepexpand"><span>Set the <code class="codeph">LOG_ARCHIVE_FORMAT</code> initialization parameter as described in step <a href="archredo.htm#GUID-C883DC9C-0771-4146-9204-9F09B5682C9B__i1008112">2</a> for method 1.</span></li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1__GUID-F86415FB-886B-40F2-B7A6-88BFD1AA4B3F">
<p class="notep1">Note:</p>
<p>If you configure a Fast Recovery Area (by setting the <code class="codeph">DB_RECOVERY_FILE_DEST</code> and <code class="codeph">DB_RECOVERY_FILE_DEST_SIZE</code> parameters) and do not specify any local archive destinations, the database automatically selects the Fast Recovery Area as a local archive destination and sets <code class="codeph">LOG_ARCHIVE_DEST_1</code> to <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code>.</p>
</div>
<div class="infoboxnotewarn" id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1__GUID-8E4B98CD-E996-4759-9A5B-E16B0A296655">
<p class="notep1">WARNING:</p>
<p>You must ensure that there is sufficient disk space at all times for archive log destinations. If the database encounters a disk full error as it attempts to archive a log file, a fatal error occurs and the database stops responding. You can check the alert log for a disk full message.</p>
</div>
<div class="infoboxnotealso" id="GUID-A13B0CC7-0383-478A-8EEE-17C0ECFF8EE1__GUID-CDEF9887-29AB-4B52-AF99-E4B6175A0EEA">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for additional information about the initialization parameters used to control the archiving of redo logs</p>
</li>
<li>
<p><a class="olink SBYDB00400" target="_blank" href="../SBYDB/log_transport.htm#SBYDB00400"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about using the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter for specifying a standby destination. There are additional keywords that can be specified with this initialization parameter that are not discussed in this book.</p>
</li>
<li>
<p><a class="olink NETAG186" target="_blank" href="../NETAG/concepts.htm#NETAG186"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for a discussion of net service names and connect descriptors.</p>
</li>
<li>
<p><a class="olink BRADV8183" target="_blank" href="../BRADV/rcmconfb.htm#BRADV8183"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for information about the Fast Recovery Area</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11341"></a>
<div class="props_rev_3"><a id="GUID-D0B92621-7356-48FF-B7EA-4E15BBE1BED9"></a>
<h3 id="ADMIN-GUID-D0B92621-7356-48FF-B7EA-4E15BBE1BED9" class="sect3"><span class="enumeration_section">12.4.2</span> Understanding Archive Destination Status</h3>
<div>
<p>Several variables determine an archive destination&rsquo;s status.</p>
<p>Each archive destination has the following variable characteristics that determine its status:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Valid/Invalid</span>: indicates whether the disk location or service name information is specified and valid</p>
</li>
<li>
<p><span class="bold">Enabled/Disabled</span>: indicates the availability state of the location and whether the database can use the destination</p>
</li>
<li>
<p><span class="bold">Active/Inactive</span>: indicates whether there was a problem accessing the destination</p>
</li>
</ul>
<p>Several combinations of these characteristics are possible. To obtain the current status and other information about each destination for an instance, query the <code class="codeph">V$ARCHIVE_DEST</code> view.</p>
<p><a id="d104790e2016" class="indexterm-anchor"></a><a id="d104790e2020" class="indexterm-anchor"></a>The <a id="d104790e2025" class="indexterm-anchor"></a><a id="d104790e2029" class="indexterm-anchor"></a><code class="codeph">LOG_ARCHIVE_DEST_STATE_</code><span class="italic"><code class="codeph">n</code></span> (where <span class="italic">n</span> is an integer from 1 to 31) initialization parameter lets you control the availability state of the specified destination (<span class="italic">n</span>).</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ENABLE</code> indicates that the database can use the destination.</p>
</li>
<li>
<p><code class="codeph">DEFER</code> indicates that the location is temporarily disabled.</p>
</li>
<li>
<p><code class="codeph">ALTERNATE</code> indicates that the destination is an alternate. The availability state of an alternate destination is <code class="codeph">DEFER</code>. If its parent destination fails, the availability state of the alternate becomes <code class="codeph">ENABLE</code>. <code class="codeph">ALTERNATE</code> cannot be specified for destinations <code class="codeph">LOG_ARCHIVE_DEST_11</code> to <code class="codeph">LOG_ARCHIVE_DEST_31</code>.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN13277"></a>
<div class="props_rev_3"><a id="GUID-64C78392-5AD5-4972-A832-8BF3865D1945"></a>
<h3 id="ADMIN-GUID-64C78392-5AD5-4972-A832-8BF3865D1945" class="sect3"><span class="enumeration_section">12.4.3</span> Specifying Alternate Destinations</h3>
<div>
<p>To specify that a location be an archive destination only in the event of a failure of another destination, you can make it an alternate destination. Both local and remote destinations can be alternates.</p>
<div class="section">
<p>The following example makes <code class="codeph">LOG_ARCHIVE_DEST_4</code> an alternate for <code class="codeph">LOG_ARCHIVE_DEST_3</code>:</p>
<pre dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_DEST_4 = &#39;LOCATION=/disk4/arch&#39;;
ALTER SYSTEM SET LOG_ARCHIVE_DEST_3 = &#39;LOCATION=/disk3/arch MAX_FAILURE=1
   ALTERNATE=LOG_ARCHIVE_DEST_4&#39;;
ALTER SYSTEM SET LOG_ARCHIVE_DEST_STATE_4=ALTERNATE;

SQL&gt; SELECT dest_name, status, destination FROM v$archive_dest;
 
DEST_NAME               STATUS    DESTINATION
----------------------- --------- ----------------------------------------------
LOG_ARCHIVE_DEST_1      VALID     /disk1/arch
LOG_ARCHIVE_DEST_2      VALID     /disk2/arch
LOG_ARCHIVE_DEST_3      VALID     /disk3/arch
LOG_ARCHIVE_DEST_4      ALTERNATE /disk4/arch
</pre></div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11342"></a>
<div class="props_rev_3"><a id="GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB"></a>
<h2 id="ADMIN-GUID-2A6DDDDA-4127-4574-8F2D-07AC926FCEBB" class="sect2"><span class="enumeration_section">12.5</span> About Log Transmission Modes</h2>
<p>The two modes of transmitting archived logs to their destination are <span class="bold">normal archiving transmission</span> and <span class="bold">standby transmission</span> mode. Normal transmission involves transmitting files to a local disk. Standby transmission involves transmitting files through a network to either a local or remote standby database.</p>
<a id="ADMIN11343"></a>
<div class="props_rev_3"><a id="GUID-6754FD0F-19C2-4B82-8CAE-6011589AA410"></a>
<h3 id="ADMIN-GUID-6754FD0F-19C2-4B82-8CAE-6011589AA410" class="sect3"><span class="enumeration_section">12.5.1</span> Normal Transmission Mode</h3>
<div>
<p>In normal transmission mode, the archiving destination is another disk drive of the database server.</p>
<p>In this configuration archiving does not contend with other files required by the instance and can complete more quickly. Specify the destination with either the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> or <code class="codeph">LOG_ARCHIVE_DEST</code> parameters.</p>
</div>
</div>
<a id="ADMIN11344"></a>
<div class="props_rev_3"><a id="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078"></a>
<h3 id="ADMIN-GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078" class="sect3"><span class="enumeration_section">12.5.2</span> Standby Transmission Mode</h3>
<div>
<p>In standby transmission mode, the archiving destination is either a local or remote standby database.</p>
<div class="infobox-note" id="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078__GUID-A9106CB4-D286-43BA-8ACB-162B396BA694">
<p class="notep1">Note:</p>
<p>You can maintain a standby database on a local disk, but Oracle strongly encourages you to maximize disaster protection by maintaining your standby database at a remote site.</p>
</div>
<div class="infoboxnotealso" id="GUID-77723E1D-B909-466B-9D7F-2ADC24DD3078__GUID-EBD0BB89-2FB0-446D-B054-735DDA80DD34">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SBYDB00400" target="_blank" href="../SBYDB/log_transport.htm#SBYDB00400"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
</li>
<li>
<p><a class="olink NETAG002" target="_blank" href="../NETAG/concepts.htm#NETAG002"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for information about connecting to a remote database using a service name</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADMIN11345"></a>
<div class="props_rev_3"><a id="GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA"></a>
<h2 id="ADMIN-GUID-B2D14414-7CC4-4265-9CF4-2AADFE1F29DA" class="sect2"><span class="enumeration_section">12.6</span> Managing Archive Destination Failure</h2>
<p>Sometimes archive destinations can fail, causing problems when you operate in automatic archiving mode. Oracle Database provides procedures to help you minimize the problems associated with destination failure.</p>
<a id="ADMIN11346"></a>
<div class="props_rev_3"><a id="GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E"></a>
<h3 id="ADMIN-GUID-10247EA4-150D-4879-84DC-8A3BF8E9287E" class="sect3"><span class="enumeration_section">12.6.1</span> Specifying the Minimum Number of Successful Destinations</h3>
<p>The optional initialization parameter <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code><span class="italic"><code class="codeph">n</code></span> determines the minimum number of destinations to which the database must successfully archive a redo log group before it can reuse online log files. The default value is 1. Valid values for <span class="italic">n</span> are 1 to 2 if you are using duplexing, or 1 to 31 if you are multiplexing.</p>
<a id="ADMIN11347"></a>
<div class="props_rev_3"><a id="GUID-55501252-0151-43A6-8936-3825702ADC76"></a>
<h4 id="ADMIN-GUID-55501252-0151-43A6-8936-3825702ADC76" class="sect4"><span class="enumeration_section">12.6.1.1</span> Specifying Mandatory and Optional Destinations</h4>
<div>
<p>The <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter lets you specify whether a destination is <code class="codeph">OPTIONAL</code> (the default) or <code class="codeph">MANDATORY</code>.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Set the destination as <code class="codeph">OPTIONAL</code> (the default) or <code class="codeph">MANDATORY</code> in the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> initialization parameter.</p>
</li>
</ul>
<p>The <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code><span class="italic"><code class="codeph">n</code></span> parameter uses all <code class="codeph">MANDATORY</code> destinations plus some number of non-standby <code class="codeph">OPTIONAL</code> destinations to determine whether LGWR can overwrite the online log. The following rules apply:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Omitting the <code class="codeph">MANDATORY</code> attribute for a destination is the same as specifying <code class="codeph">OPTIONAL</code>.</p>
</li>
<li>
<p>You must have at least one local destination, which you can declare <code class="codeph">OPTIONAL</code> or <code class="codeph">MANDATORY</code>.</p>
</li>
<li>
<p>The <code class="codeph">MANDATORY</code> attribute can only be specified for destinations <code class="codeph">LOG_ARCHIVE_DEST_1</code> through <code class="codeph">LOG_ARCHIVE_DEST_10</code>.</p>
</li>
<li>
<p>When you specify a value for <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code><span class="italic"><code class="codeph">n</code></span>, Oracle Database will treat at least one local destination as <code class="codeph">MANDATORY</code>, because the minimum value for <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code> is 1.</p>
</li>
<li>
<p>The <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code> value cannot be greater than the number of destinations, nor can it be greater than the number of <code class="codeph">MANDATORY</code> destinations plus the number of <code class="codeph">OPTIONAL</code> local destinations.</p>
</li>
<li>
<p>If you <code class="codeph">DEFER</code> a <code class="codeph">MANDATORY</code> destination, and the database overwrites the online log without transferring the archived log to the standby site, then you must transfer the log to the standby manually.</p>
</li>
</ul>
<p>If you are duplexing the archived logs, you can establish which destinations are mandatory or optional by using the <code class="codeph">LOG_ARCHIVE_DEST</code> and <code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> parameters. The following rules apply:</p>
<ul style="list-style-type: disc;">
<li>
<p>Any destination declared by <code class="codeph">LOG_ARCHIVE_DEST</code> is mandatory.</p>
</li>
<li>
<p>Any destination declared by <code class="codeph">LOG_ARCHIVE_DUPLEX_DEST</code> is optional if <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST = 1</code> and mandatory if <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST = 2</code>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11348"></a>
<div class="props_rev_3"><a id="GUID-E83D19E9-DE41-4CDA-8286-8482158083BD"></a>
<h4 id="ADMIN-GUID-E83D19E9-DE41-4CDA-8286-8482158083BD" class="sect4"><span class="enumeration_section">12.6.1.2</span> Specifying the Number of Successful Destinations: Scenarios</h4>
<div>
<p>You can see the relationship between the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> and <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code> initialization parameters most easily through sample scenarios.</p>
</div>
<a id="ADMIN13044"></a><a id="ADMIN11349"></a>
<div class="props_rev_3"><a id="GUID-6F513BC8-4573-4C60-8071-129D15EC0D16"></a>
<h5 id="ADMIN-GUID-6F513BC8-4573-4C60-8071-129D15EC0D16" class="sect5"><span class="enumeration_section">12.6.1.2.1</span> Scenario for Archiving to Optional Local Destinations</h5>
<div>
<p>In this scenario, you archive to three local destinations, each of which you declare as <code class="codeph">OPTIONAL</code>.</p>
<p><a href="archredo.htm#GUID-6F513BC8-4573-4C60-8071-129D15EC0D16__g1009147" title="This table describes a scenario for archiving to optional local destinations. Column 1 lists a value for the LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter. Column 2 lists the meaning of the corresponding setting.">Table 12-1</a> illustrates the possible values for <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code><span class="italic"><code class="codeph">n</code></span> in this case.</p>
<div class="tblformal" id="GUID-6F513BC8-4573-4C60-8071-129D15EC0D16__g1009147">
<p class="titleintable">Table 12-1 LOG_ARCHIVE_MIN_SUCCEED_DEST Values for Scenario 1</p>
<table class="cellalignment1849" title="LOG_ARCHIVE_MIN_SUCCEED_DEST Values for Scenario 1" summary="This table describes a scenario for archiving to optional local destinations. Column 1 lists a value for the LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter. Column 2 lists the meaning of the corresponding setting.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1913" id="d104790e2911">Value</th>
<th class="cellalignment1914" id="d104790e2914">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e2919" headers="d104790e2911">
<p>1</p>
</td>
<td class="cellalignment1916" headers="d104790e2919 d104790e2914">
<p>The database can reuse log files only if at least one of the <code class="codeph">OPTIONAL</code> destinations succeeds.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e2929" headers="d104790e2911">
<p>2</p>
</td>
<td class="cellalignment1916" headers="d104790e2929 d104790e2914">
<p>The database can reuse log files only if at least two of the <code class="codeph">OPTIONAL</code> destinations succeed.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e2939" headers="d104790e2911">
<p>3</p>
</td>
<td class="cellalignment1916" headers="d104790e2939 d104790e2914">
<p>The database can reuse log files only if all of the <code class="codeph">OPTIONAL</code> destinations succeed.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e2949" headers="d104790e2911">
<p>4 or greater</p>
</td>
<td class="cellalignment1916" headers="d104790e2949 d104790e2914">
<p><code class="codeph">ERROR</code>: The value is greater than the number of destinations.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>This scenario shows that even though you do not explicitly set any of your destinations to <code class="codeph">MANDATORY</code> using the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameter, the database must successfully archive to one or more of these locations when <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code> is set to 1, 2, or 3.</p>
</div>
</div>
<a id="ADMIN13045"></a><a id="ADMIN11350"></a>
<div class="props_rev_3"><a id="GUID-4AE7E629-E4DE-4943-B861-45D2329294D9"></a>
<h5 id="ADMIN-GUID-4AE7E629-E4DE-4943-B861-45D2329294D9" class="sect5"><span class="enumeration_section">12.6.1.2.2</span> Scenario for Archiving to Both Mandatory and Optional Destinations</h5>
<div>
<p>In this scenario, you archive to <code class="codeph">MANDATORY</code> and <code class="codeph">OPTIONAL</code> local destinations.</p>
<p>Consider a case in which:</p>
<ul style="list-style-type: disc;">
<li>
<p>You specify two <code class="codeph">MANDATORY</code> destinations.</p>
</li>
<li>
<p>You specify two <code class="codeph">OPTIONAL</code> destinations.</p>
</li>
<li>
<p>No destination is a standby database.</p>
</li>
</ul>
<p><a href="archredo.htm#GUID-4AE7E629-E4DE-4943-B861-45D2329294D9__CEGDJEGD" title="This table describes a scenario for archiving to both mandatory and optional destinations. Column 1 lists a value for the LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter. Column 2 lists the meaning of the corresponding setting.">Table 12-2</a> shows the possible values for <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST=</code><span class="italic"><code class="codeph">n</code></span>.</p>
<div class="tblformal" id="GUID-4AE7E629-E4DE-4943-B861-45D2329294D9__CEGDJEGD">
<p class="titleintable">Table 12-2 LOG_ARCHIVE_MIN_SUCCEED_DEST Values for Scenario 2</p>
<table class="cellalignment1849" title="LOG_ARCHIVE_MIN_SUCCEED_DEST Values for Scenario 2" summary="This table describes a scenario for archiving to both mandatory and optional destinations. Column 1 lists a value for the LOG_ARCHIVE_MIN_SUCCEED_DEST initialization parameter. Column 2 lists the meaning of the corresponding setting.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1913" id="d104790e3079">Value</th>
<th class="cellalignment1914" id="d104790e3082">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e3087" headers="d104790e3079">
<p>1</p>
</td>
<td class="cellalignment1916" headers="d104790e3087 d104790e3082">
<p>The database ignores the value and uses the number of <code class="codeph">MANDATORY</code> destinations (in this example, 2).</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e3097" headers="d104790e3079">
<p>2</p>
</td>
<td class="cellalignment1916" headers="d104790e3097 d104790e3082">
<p>The database can reuse log files even if no <code class="codeph">OPTIONAL</code> destination succeeds.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e3107" headers="d104790e3079">
<p>3</p>
</td>
<td class="cellalignment1916" headers="d104790e3107 d104790e3082">
<p>The database can reuse logs only if at least one <code class="codeph">OPTIONAL</code> destination succeeds.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e3117" headers="d104790e3079">
<p>4</p>
</td>
<td class="cellalignment1916" headers="d104790e3117 d104790e3082">
<p>The database can reuse logs only if both <code class="codeph">OPTIONAL</code> destinations succeed.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d104790e3127" headers="d104790e3079">
<p>5 or greater</p>
</td>
<td class="cellalignment1916" headers="d104790e3127 d104790e3082">
<p><code class="codeph">ERROR</code>: The value is greater than the number of destinations.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>This case shows that the database must archive to the destinations you specify as <code class="codeph">MANDATORY</code>, regardless of whether you set <code class="codeph">LOG_ARCHIVE_MIN_SUCCEED_DEST</code> to archive to a smaller number of destinations.</p>
</div>
</div>
</div>
</div>
<a id="ADMIN11351"></a>
<div class="props_rev_3"><a id="GUID-9A5FB47D-B6D8-45D7-99D7-41A6A55B00BB"></a>
<h3 id="ADMIN-GUID-9A5FB47D-B6D8-45D7-99D7-41A6A55B00BB" class="sect3"><span class="enumeration_section">12.6.2</span> Rearchiving to a Failed Destination</h3>
<div>
<p>Use the <code class="codeph">REOPEN</code> attribute of the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> parameter to specify whether and when ARC<span class="italic">n</span> should attempt to rearchive to a failed destination following an error. <code class="codeph">REOPEN</code> applies to all errors, not just <code class="codeph">OPEN</code> errors.</p>
<div class="section">
<p><code class="codeph">REOPEN=</code><span class="italic"><code class="codeph">n</code></span> sets the minimum number of seconds before ARC<span class="italic">n</span> should try to reopen a failed destination. The default value for <span class="italic">n</span> is 300 seconds. A value of 0 is the same as turning off the <code class="codeph">REOPEN</code> attribute; ARC<span class="italic">n</span> will not attempt to archive after a failure. If you do not specify the <code class="codeph">REOPEN</code> keyword, ARC<span class="italic">n</span> will never reopen a destination following an error.</p>
<p>You cannot use <code class="codeph">REOPEN</code> to specify the number of attempts ARC<span class="italic">n</span> should make to reconnect and transfer archived logs. The <code class="codeph">REOPEN</code> attempt either succeeds or fails.</p>
<p>When you specify <code class="codeph">REOPEN</code> for an <code class="codeph">OPTIONAL</code> destination, the database can overwrite online logs if there is an error. If you specify <code class="codeph">REOPEN</code> for a <code class="codeph">MANDATORY</code> destination, the database stalls the production database when it cannot successfully archive. In this situation, consider the following options:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Archive manually to the failed destination.</p>
</li>
<li>
<p>Change the destination by deferring the destination, specifying the destination as optional, or changing the service.</p>
</li>
<li>
<p>Drop the destination.</p>
</li>
</ul>
<p>When using the <code class="codeph">REOPEN</code> keyword, note the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>ARC<span class="italic">n</span> reopens a destination only when <span class="italic">starting</span> an archive operation from the beginning of the log file, never <span class="italic">during</span> a current operation. ARC<span class="italic">n</span> always retries the log copy from the beginning.</p>
</li>
<li>
<p>If you specified <code class="codeph">REOPEN</code>, either with a specified time the default, ARC<span class="italic">n</span> checks to see whether the time of the recorded error plus the <code class="codeph">REOPEN</code> interval is less than the current time. If it is, ARC<span class="italic">n</span> retries the log copy.</p>
</li>
<li>
<p>The <code class="codeph">REOPEN</code> clause successfully affects the <code class="codeph">ACTIVE=TRUE</code> destination state. The <code class="codeph">VALID</code> and <code class="codeph">ENABLED</code> states are not changed.</p>
<p>Something wrong here. A destination can be inactive, or valid, or disabled. There is no ACTIVE status. So I think maybe it should say, &#34;The REOPEN clause sets the destination status to VALID&#34; ...? DL</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11352"></a>
<div class="props_rev_3"><a id="GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25"></a>
<h2 id="ADMIN-GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25" class="sect2"><span class="enumeration_section">12.7</span> Controlling Trace Output Generated by the Archivelog Process</h2>
<div>
<p>Background processes always write to a trace file when appropriate. In the case of the archivelog process, you can control the output that is generated to the trace file.</p>
<div class="section">
<p>To control the output that is generated to the trace file for the archivelog process:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set the <code class="codeph">LOG_ARCHIVE_TRACE</code> initialization parameter to specify a <span class="bold">trace level</span>, such as 0, 1, 2, 4, 8, and so on.</p>
</li>
</ul>
<p>You can combine tracing levels by specifying a value equal to the sum of the individual levels that you would like to trace. For example, setting <code class="codeph">LOG_ARCHIVE_TRACE=12</code> will generate trace level 8 and 4 output. You can set different values for the primary and any standby database.</p>
<p>The default value for the <code class="codeph">LOG_ARCHIVE_TRACE</code> parameter is 0. At this level, the archivelog process generates appropriate alert and trace entries for error conditions.</p>
<p>You can change the value of this parameter dynamically using the <code class="codeph">ALTER SYSTEM</code> statement. For example:</p>
<pre dir="ltr">ALTER SYSTEM SET LOG_ARCHIVE_TRACE=12;
</pre>
<p>Changes initiated in this manner will take effect at the start of the next archiving operation.</p>
<div class="infoboxnotealso" id="GUID-CDFE66B4-7448-4FC8-A676-58B20FF5CC25__GUID-C1B03B83-4C84-4C4A-9CDF-CAC48598894A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="monitoring.htm#GUID-29ECD5A0-118F-40FC-B54A-8B0D92E91314" title="The trace file and alert log contain information about errors.">Monitoring Errors with Trace Files and the Alert Log</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN10093" target="_blank" href="../REFRN/GUID-F5A344D4-B5C3-4250-ACA2-B68DF3515CE9.htm#REFRN10093"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">LOG_ARCHIVE_TRACE</code> initialization parameter, including descriptions of the valid values for this parameter</p>
</li>
<li>
<p><a class="olink SBYDB01880" target="_blank" href="../SBYDB/trace.htm#SBYDB01880"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about using this parameter with a standby database</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11353"></a>
<div class="props_rev_3"><a id="GUID-62E48748-F8A8-4740-90B1-5B3708A63386"></a>
<h2 id="ADMIN-GUID-62E48748-F8A8-4740-90B1-5B3708A63386" class="sect2"><span class="enumeration_section">12.8</span> Viewing Information About the Archived Redo Log</h2>
<p>You can display information about the archived redo log using dynamic performance views or the <code class="codeph">ARCHIVE</code> <code class="codeph">LOG</code> <code class="codeph">LIST</code> command.</p>
<a id="ADMIN11354"></a>
<div class="props_rev_3"><a id="GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2"></a>
<h3 id="ADMIN-GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2" class="sect3"><span class="enumeration_section">12.8.1</span> Archived Redo Log Files Views</h3>
<div>
<p>You can query a set of dynamic performance views for information about archived redo log files.</p>
<div class="section">
<p>Several dynamic performance views contain useful information about archived redo log files, as summarized in the following table.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2__GUID-029E4B51-6488-4D25-A9F7-445C2015F301">
<table class="cellalignment1849" summary="Column 1 lists the views containing useful information abut archived redo logs. Column 2 contains descriptions of these views.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1887" id="d104790e3670">Dynamic Performance View</th>
<th class="cellalignment1888" id="d104790e3673">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3678" headers="d104790e3670">
<p><code class="codeph">V$DATABASE</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3678 d104790e3673">
<p>Shows if the database is in <code class="codeph">ARCHIVELOG</code> or <code class="codeph">NOARCHIVELOG</code> mode and if <code class="codeph">MANUAL</code> (archiving mode) has been specified.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3695" headers="d104790e3670">
<p><code class="codeph">V$ARCHIVED_LOG</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3695 d104790e3673">
<p>Displays historical archived log information from the control file. If you use a recovery catalog, the <code class="codeph">RC_ARCHIVED_LOG</code> view contains similar information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3706" headers="d104790e3670">
<p><code class="codeph">V$ARCHIVE_DEST</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3706 d104790e3673">
<p>Describes the current instance, all archive destinations, and the current value, mode, and status of these destinations.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3714" headers="d104790e3670">
<p><code class="codeph">V$ARCHIVE_PROCESSES</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3714 d104790e3673">
<p>Displays information about the state of the various archive processes for an instance.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3722" headers="d104790e3670">
<p><code class="codeph">V$BACKUP_REDOLOG</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3722 d104790e3673">
<p>Contains information about any backups of archived logs. If you use a recovery catalog, the <code class="codeph">RC_BACKUP_REDOLOG</code> contains similar information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3733" headers="d104790e3670">
<p><code class="codeph">V$LOG</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3733 d104790e3673">
<p>Displays all redo log groups for the database and indicates which need to be archived.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1889" id="d104790e3741" headers="d104790e3670">
<p><code class="codeph">V$LOG_HISTORY</code></p>
</td>
<td class="cellalignment1890" headers="d104790e3741 d104790e3673">
<p>Contains log history information such as which logs have been archived and the SCN range for each archived log.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>For example, the following query displays which redo log group requires archiving:</p>
<pre dir="ltr">SELECT GROUP#, ARCHIVED
   FROM SYS.V$LOG;

GROUP#     ARC
--------   ---
       1   YES
       2   NO
</pre>
<p><a id="d104790e3754" class="indexterm-anchor"></a><a id="d104790e3758" class="indexterm-anchor"></a><a id="d104790e3762" class="indexterm-anchor"></a><a id="d104790e3764" class="indexterm-anchor"></a>To see the current archiving mode, query the <code class="codeph">V$DATABASE</code> view:</p>
<pre dir="ltr">SELECT LOG_MODE FROM SYS.V$DATABASE;

LOG_MODE
------------
NOARCHIVELOG
</pre>
<div class="infoboxnotealso" id="GUID-8DFA5382-48FC-4A7D-9443-DB6D3A2F5FE2__GUID-79129A3B-F91B-471D-9B8B-5B4046647259">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN" target="_blank" href="../REFRN/toc.htm"><span class="italic">Oracle Database Reference</span></a> for detailed descriptions of dynamic performance views</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11355"></a>
<div class="props_rev_3"><a id="GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37"></a>
<h3 id="ADMIN-GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37" class="sect3"><span class="enumeration_section">12.8.2</span> Using the ARCHIVE LOG LIST Command</h3>
<div>
<p>The SQL*Plus command <code class="codeph">ARCHIVE LOG LIST</code> displays archiving information for the connected instance.</p>
<div class="section">
<p>For example:</p>
<pre dir="ltr">SQL&gt; ARCHIVE LOG LIST

Database log mode              Archive Mode
Automatic archival             Enabled
Archive destination            D:\oracle\oradata\IDDB2\archive
Oldest online log sequence     11160
Next log sequence to archive   11163
Current log sequence           11163
</pre>
<p>This display tells you all the necessary information regarding the archived redo log settings for the current instance:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The database is currently operating in <code class="codeph">ARCHIVELOG</code> mode.</p>
</li>
<li>
<p>Automatic archiving is enabled.</p>
</li>
<li>
<p>The archived redo log destination is D:\oracle\oradata\IDDB2\archive.</p>
</li>
<li>
<p>The oldest filled redo log group has a sequence number of 11160.</p>
</li>
<li>
<p>The next filled redo log group to archive has a sequence number of 11163.</p>
</li>
<li>
<p>The current redo log file has a sequence number of 11163.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-EE93A998-5FB5-4BB1-A90E-D48A92897D37__GUID-5074806E-6A15-4CBF-8F3E-8E24171CC19E">
<p class="notep1">See Also:</p>
<p><a class="olink SQPUG028" target="_blank" href="../SQPUG/ch_twelve007.htm#SQPUG028"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information on the <code class="codeph">ARCHIVE LOG LIST</code> command</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="onlineredo.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="tspaces.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
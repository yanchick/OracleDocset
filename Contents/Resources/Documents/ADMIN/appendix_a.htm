<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-166"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Support%20for%20DBMS_JOB"></a><title>Support for DBMS_JOB</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Oracle Scheduler replaces the DBMS_JOB package."/>
<meta name="keywords" content="DBMS_JOB, about, JOB_QUEUE_PROCESSES initialization parameter, moving jobs to Oracle Scheduler"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="GUID-1C1C46B7-4686-43D8-AF22-554FF8C4AFBD.htm" title="Previous" type="text/html"/>
<link rel="Next" href="index.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-CC42E8DA-7203-449E-BCEA-8187ECC4BCDF"></a> <span id="PAGE" style="display:none;">58/59</span> <!-- End Header -->
<a id="ADMIN11002"></a>
<h1 id="ADMIN-GUID-CC42E8DA-7203-449E-BCEA-8187ECC4BCDF" class="sect1"><span class="enumeration_chapter">A</span> Support for DBMS_JOB</h1>
<p>Oracle Scheduler replaces the <code class="codeph">DBMS_JOB</code> package.</p>
<a id="ADMIN12507"></a>
<div class="props_rev_3"><a id="GUID-745435D0-1BE1-4F91-91D0-7505470E5270"></a>
<h2 id="ADMIN-GUID-745435D0-1BE1-4F91-91D0-7505470E5270" class="sect2"><span class="enumeration_section">A.1</span> Oracle Scheduler Replaces DBMS_JOB</h2>
<p>In Oracle Database 11<span class="italic">g</span> Release 2 (11.2), Oracle Scheduler replaces <code class="codeph">DBMS_JOB</code>. Oracle Scheduler is more powerful and flexible than <code class="codeph">DBMS_JOB</code>, which is a package used to schedule jobs. Although Oracle recommends that you switch from <code class="codeph">DBMS_JOB</code> to Oracle Scheduler, <code class="codeph">DBMS_JOB</code> is still supported for backward compatibility.</p>
<a id="ADMIN12508"></a>
<div class="props_rev_3"><a id="GUID-C74C1B95-D452-499F-B130-D9974251B813"></a>
<h3 id="ADMIN-GUID-C74C1B95-D452-499F-B130-D9974251B813" class="sect3"><span class="enumeration_section">A.1.1</span> Configuring DBMS_JOB</h3>
<div>
<p>The <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter specifies the maximum number of processes that can be created for the execution of jobs.</p>
<div class="section">
<p>Beginning with Oracle Database 11<span class="italic">g</span>, <code class="codeph">JOB_QUEUE_PROCESSES</code> defaults to 1000. The job coordinator process starts only as many job queue processes as are required, based on the number of jobs to run and available resources. You can set <code class="codeph">JOB_QUEUE_PROCESSES</code> to a lower number to limit the number of job queue processes.</p>
<p>Setting <code class="codeph">JOB_QUEUE_PROCESSES</code> to 0 disables <code class="codeph">DBMS_JOB</code> jobs and <code class="codeph">DBMS_SCHEDULER</code> jobs.</p>
<div class="infoboxnotealso" id="GUID-C74C1B95-D452-499F-B130-D9974251B813__GUID-13631FC9-1297-4DAD-BDCA-DE0E0A21E1B9">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10077" target="_blank" href="../REFRN/GUID-B8B68D16-00A3-43DD-BE39-01F877880955.htm#REFRN10077"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12509"></a>
<div class="props_rev_3"><a id="GUID-CD763A99-3189-407A-A62D-AE9A70DC3D39"></a>
<h3 id="ADMIN-GUID-CD763A99-3189-407A-A62D-AE9A70DC3D39" class="sect3"><span class="enumeration_section">A.1.2</span> Using Both DBMS_JOB and Oracle Scheduler</h3>
<div>
<p><code class="codeph">DBMS_JOB</code> and Oracle Scheduler (the Scheduler) use the same job coordinator to start job slaves.</p>
<div class="section">
<p>You can use the <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter to limit the number job slaves for both <code class="codeph">DBMS_JOB</code> and the Scheduler.</p>
<p>If <code class="codeph">JOB_QUEUE_PROCESSES</code> is 0, both <code class="codeph">DBMS_JOB</code> and Oracle Scheduler jobs are disabled.</p>
<div class="infoboxnotealso" id="GUID-CD763A99-3189-407A-A62D-AE9A70DC3D39__GUID-292DA0FC-A745-4D72-B7AA-9BCA4D4A5F25">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="scheduse.htm#GUID-D41660D0-D88F-4D9F-8CC8-63D040EDC4E6" title="You can create, run, and manage jobs with Oracle Scheduler.">Scheduling Jobs with Oracle Scheduler</a></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-76FB80A7-737C-4B0F-BE97-FE9F57B6E88C" title="There are several system-wide Scheduler preferences that you can set. You set these preferences by setting Scheduler attributes with the SET_SCHEDULER_ATTRIBUTE procedure in the DBMS_SCHEDULER package.">Setting Scheduler Preferences</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN10077" target="_blank" href="../REFRN/GUID-B8B68D16-00A3-43DD-BE39-01F877880955.htm#REFRN10077"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN12510"></a>
<div class="props_rev_3"><a id="GUID-83ADCDC5-59AA-46A6-93B7-1EB9F68CFBE9"></a>
<h2 id="ADMIN-GUID-83ADCDC5-59AA-46A6-93B7-1EB9F68CFBE9" class="sect2"><span class="enumeration_section">A.2</span> Moving from DBMS_JOB to Oracle Scheduler</h2>
<p>This section illustrates some examples of how you can take jobs created with the <code class="codeph">DBMS_JOB</code> package and rewrite them using Oracle Scheduler, which you configure and control with the <code class="codeph">DBMS_SCHEDULER</code> package.</p>
<a id="ADMIN12511"></a>
<div class="props_rev_3"><a id="GUID-48B4FCE1-8252-4849-8F77-0D1943E9E5AF"></a>
<h3 id="ADMIN-GUID-48B4FCE1-8252-4849-8F77-0D1943E9E5AF" class="sect3"><span class="enumeration_section">A.2.1</span> Creating a Job</h3>
<div>
<p>An example illustrates creating a job using the <code class="codeph">DBMS_JOB</code> package and the <code class="codeph">DBMS_SCHEDULER</code> package.</p>
<div class="section">
<p>The following example creates a job using <code class="codeph">DBMS_JOB</code>:</p>
<pre dir="ltr">VARIABLE jobno NUMBER;
BEGIN
 DBMS_JOB.SUBMIT(:jobno, &#39;INSERT INTO employees VALUES (7935, &#39;&#39;SALLY&#39;&#39;,
   &#39;&#39;DOGAN&#39;&#39;, &#39;&#39;sally.dogan@examplecorp.com&#39;&#39;, NULL, SYSDATE, &#39;&#39;AD_PRES&#39;&#39;, NULL, 
    NULL, NULL, NULL);&#39;, SYSDATE, &#39;SYSDATE+1&#39;);
 COMMIT;
END;
/
</pre>
<p>The following is an equivalent statement using <code class="codeph">DBMS_SCHEDULER</code>:</p>
<pre dir="ltr">BEGIN
 DBMS_SCHEDULER.CREATE_JOB(
   job_name          =&gt;  &#39;job1&#39;,
   job_type          =&gt;  &#39;PLSQL_BLOCK&#39;,
   job_action        =&gt;  &#39;INSERT INTO employees VALUES (7935, &#39;&#39;SALLY&#39;&#39;,
     &#39;&#39;DOGAN&#39;&#39;, &#39;&#39;sally.dogan@examplecorp.com&#39;&#39;, NULL, SYSDATE,&#39;&#39;AD_PRES&#39;&#39;, NULL,
      NULL, NULL, NULL);&#39;,
   start_date        =&gt;  SYSDATE,
   repeat_interval   =&gt;  &#39;FREQ = DAILY; INTERVAL = 1&#39;);
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12512"></a>
<div class="props_rev_3"><a id="GUID-7416E1C7-EAC5-44A1-97C6-9B5C79268E5D"></a>
<h3 id="ADMIN-GUID-7416E1C7-EAC5-44A1-97C6-9B5C79268E5D" class="sect3"><span class="enumeration_section">A.2.2</span> Altering a Job</h3>
<div>
<p>An example illustrates altering a job using the <code class="codeph">DBMS_JOB</code> package and the <code class="codeph">DBMS_SCHEDULER</code> package.</p>
<div class="section">
<p>The following example alters a job using <code class="codeph">DBMS_JOB</code>:</p>
<pre dir="ltr">BEGIN
 DBMS_JOB.WHAT(31, &#39;INSERT INTO employees VALUES (7935, &#39;&#39;TOM&#39;&#39;, &#39;&#39;DOGAN&#39;&#39;, 
   &#39;&#39;tom.dogan@examplecorp.com&#39;&#39;, NULL, SYSDATE,&#39;&#39;AD_PRES&#39;&#39;, NULL,
   NULL, NULL, NULL);&#39;,
 COMMIT;
END;
/
</pre>
<p>This changes the action for <code class="codeph">JOB1</code> to insert a different value.</p>
<p>The following is an equivalent statement using <code class="codeph">DBMS_SCHEDULER</code>:</p>
<pre dir="ltr">BEGIN
 DBMS_SCHEDULER.SET_ATTRIBUTE(
   name          =&gt; &#39;JOB1&#39;,
   attribute     =&gt; &#39;job_action&#39;,
   value         =&gt; &#39;INSERT INTO employees VALUES (7935, &#39;&#39;TOM&#39;&#39;, &#39;&#39;DOGAN&#39;&#39;, 
      &#39;&#39;tom.dogan@examplecorp.com&#39;&#39;, NULL, SYSDATE, &#39;&#39;AD_PRES&#39;&#39;, NULL,
      NULL, NULL, NULL);&#39;,
END;
/
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12513"></a>
<div class="props_rev_3"><a id="GUID-16FC3667-B573-411D-923E-5D435A604FA3"></a>
<h3 id="ADMIN-GUID-16FC3667-B573-411D-923E-5D435A604FA3" class="sect3"><span class="enumeration_section">A.2.3</span> Removing a Job from the Job Queue</h3>
<div>
<p>An example illustrates removing a job using the <code class="codeph">DBMS_JOB</code> package and the <code class="codeph">DBMS_SCHEDULER</code> package.</p>
<div class="section">
<p>The following example removes a job using <code class="codeph">DBMS_JOB</code>, where 14144 is the number of the job being run:</p>
<pre dir="ltr">BEGIN
   DBMS_JOB.REMOVE(14144);
COMMIT;
END;
/
</pre>
<p>Using <code class="codeph">DBMS_SCHEDULER</code>, you would issue the following statement instead:</p>
<pre dir="ltr">BEGIN
   DBMS_SCHEDULER.DROP_JOB(&#39;myjob1&#39;);
END;
/
</pre>
<div class="infoboxnotealso" id="GUID-16FC3667-B573-411D-923E-5D435A604FA3__GUID-DEE5A8AD-7CCF-401C-8343-42E401AB0F6A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ARPLS72235" target="_blank" href="../ARPLS/d_sched.htm#ARPLS72235"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SCHEDULER</code> package</p>
</li>
<li>
<p><a href="scheduse.htm#GUID-D41660D0-D88F-4D9F-8CC8-63D040EDC4E6" title="You can create, run, and manage jobs with Oracle Scheduler.">Scheduling Jobs with Oracle Scheduler</a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="GUID-1C1C46B7-4686-43D8-AF22-554FF8C4AFBD.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
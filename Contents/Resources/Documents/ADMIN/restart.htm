<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-301"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20Automatic%20Restart%20of%20an%20Oracle%20Database"></a><title>Configuring Automatic Restart of an Oracle Database</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts."/>
<meta name="keywords" content="Oracle Restart, about, starting, stopping, CRSCTL utility, configuring, SRVCTL, preparing to run, help for, configuration, adding components to, removing components from, disabling and enabling management for a component, status of components, viewing for a component, modifying, environment variables in, creating and deleting databases services with, services, creating with SRVCTL and Oracle Restart, starting and stopping components managed by, Oracle home, patches, installing, command reference, reference, add command, usage description, add ons command, config command, usage description, config ons command, disable command, usage description, disable diskgroup command, disable listener command, disable ons command, commands, downgrade database, enable command, usage description, enable diskgroup command, enable listener command, enable ons command, getenv command, usage description, getenv asm command, getenv database command, getenv listener command, modify command, usage description, modify ons command, modify service command, remove command, usage description, remove diskgroup command, remove listener command, listeners, removing with srvctl, remove ons command, setenv command, usage description, start command, usage description, start diskgroup command, start home command, start ons command, status command, usage description, status diskgroup command, status home command, status listener command, status ons command, stop command, usage description, stop diskgroup command, stop home command, stop ons command, unsetenv command, usage description, upgrade database"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="start.htm" title="Previous" type="text/html"/>
<link rel="Next" href="manproc.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5832E064-85C6-453C-B932-99700B1732A9"></a> <span id="PAGE" style="display:none;">9/59</span> <!-- End Header -->
<script>
//<![CDATA[
window.name='restart'
//]]>
</script> <script>
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" ><head><title>');
   
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript><a id="ADMIN12708"></a>
<h1 id="ADMIN-GUID-5832E064-85C6-453C-B932-99700B1732A9" class="sect1"><span class="enumeration_chapter">4</span> Configuring Automatic Restart of an Oracle Database</h1>
<p>Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts.</p>
<a id="ADMIN12709"></a>
<div class="props_rev_3"><a id="GUID-799FAC80-7ED0-4020-858C-3F8401EFD784"></a>
<h2 id="ADMIN-GUID-799FAC80-7ED0-4020-858C-3F8401EFD784" class="sect2"><span class="enumeration_section">4.1</span> About Oracle Restart</h2>
<p>Oracle Restart enhances the availability of Oracle databases in a single-instance environment.</p>
<a id="ADMIN12922"></a><a id="ADMIN13388"></a>
<div class="props_rev_3"><a id="GUID-AEB55E5C-48C7-4542-9384-492204F501AE"></a>
<h3 id="ADMIN-GUID-AEB55E5C-48C7-4542-9384-492204F501AE" class="sect3"><span class="enumeration_section">4.1.1</span> Oracle Restart Overview</h3>
<div>
<p>When you install Oracle Restart, various Oracle components can be automatically restarted after a hardware or software failure or whenever your database host computer restarts.</p>
<p><a href="restart.htm#GUID-AEB55E5C-48C7-4542-9384-492204F501AE__BABCDGEI" title="The two columns in this table are Component and Notes. The left column lists all the components that can be managed by Oracle Restart and the right column contains notes about the component.">Table 4-1</a> lists these components.</p>
<div class="tblformal" id="GUID-AEB55E5C-48C7-4542-9384-492204F501AE__BABCDGEI">
<p class="titleintable">Table 4-1 Oracle Components Automatically Restarted by Oracle Restart</p>
<table class="cellalignment1849" title="Oracle Components Automatically Restarted by Oracle Restart" summary="The two columns in this table are Component and Notes. The left column lists all the components that can be managed by Oracle Restart and the right column contains notes about the component.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1892" id="d46844e197">Component</th>
<th class="cellalignment1945" id="d46844e200">Notes</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e205" headers="d46844e197">
<p>Database instance</p>
</td>
<td class="cellalignment1946" headers="d46844e205 d46844e200">
<p>Oracle Restart can accommodate multiple databases on a single host computer.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e212" headers="d46844e197">
<p>Oracle Net listener</p>
</td>
<td class="cellalignment1946" headers="d46844e212 d46844e200">
<p>-</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e219" headers="d46844e197">
<p>Database services</p>
</td>
<td class="cellalignment1946" headers="d46844e219 d46844e200">
<p>Does not include the default service created upon installation because it is automatically managed by Oracle Database. Also does not include any default services created during database creation or global services. For more information about global services, see the <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e231" headers="d46844e197">
<p>Oracle Automatic Storage Management (Oracle ASM) instance</p>
</td>
<td class="cellalignment1946" headers="d46844e231 d46844e200">
<p>-</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e238" headers="d46844e197">
<p>Oracle ASM disk groups</p>
</td>
<td class="cellalignment1946" headers="d46844e238 d46844e200">
<p>Restarting a disk group means mounting it.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e245" headers="d46844e197">
<p>Oracle Notification Services (ONS)</p>
</td>
<td class="cellalignment1946" headers="d46844e245 d46844e200">
<p>In a standalone server environment, ONS can be used in Oracle Data Guard installations for automating failover of connections between primary and standby database through Fast Application Notification (FAN). ONS is a service for sending FAN events to integrated clients upon failover.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Oracle Restart runs periodic check operations to monitor the health of these components. If a check operation fails for a component, the component is shut down and restarted.</p>
<p>Oracle Restart is used in standalone server (non-clustered) environments only. For Oracle Real Application Clusters (Oracle RAC) environments, the functionality to automatically restart components is provided by Oracle Clusterware.</p>
<p>Oracle Restart runs out of the Oracle Grid Infrastructure home, which you install separately from Oracle Database homes. See the <a class="olink CWGEN" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E50529-01&amp;id=CWGEN"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for your platform for information about installing the Oracle Grid Infrastructure home.</p>
<div class="infoboxnotealso" id="GUID-AEB55E5C-48C7-4542-9384-492204F501AE__GUID-373D7E11-DBBF-4CCD-AD7B-7EA4EAAADA0A">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-348C2270-4DE6-45A7-9B27-E8554B7ACEE3" title="To configure Oracle Restart, you can add components, remove components, or modify options for components.">Configuring Oracle Restart</a>&#34;</span></p>
</li>
<li>
<p><a class="olink OSTMG" target="_blank" href="../OSTMG/toc.htm"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for information about Oracle Automatic Storage Management</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN12710"></a>
<div class="props_rev_3"><a id="GUID-094E51A8-CA14-4BAA-B17B-BD24F3627119"></a>
<h3 id="ADMIN-GUID-094E51A8-CA14-4BAA-B17B-BD24F3627119" class="sect3"><span class="enumeration_section">4.1.2</span> About Startup Dependencies</h3>
<div>
<p>Oracle Restart ensures that Oracle components are started in the proper order, in accordance with component dependencies.</p>
<p>For example, if database files are stored in Oracle ASM disk groups, then before starting the database instance, Oracle Restart ensures that the Oracle ASM instance is started and the required disk groups are mounted. Likewise, if a component must be shut down, Oracle Restart ensures that dependent components are cleanly shut down first.</p>
<p>Oracle Restart also manages the weak dependency between database instances and the Oracle Net listener (the listener): When a database instance is started, Oracle Restart attempts to start the listener. If the listener startup fails, then the database is still started. If the listener later fails, Oracle Restart does not shut down and restart any database instances.</p>
</div>
</div>
<a id="ADMIN12711"></a>
<div class="props_rev_3"><a id="GUID-E15A8B4D-D177-40CC-8BFB-8E891AA64A4B"></a>
<h3 id="ADMIN-GUID-E15A8B4D-D177-40CC-8BFB-8E891AA64A4B" class="sect3"><span class="enumeration_section">4.1.3</span> About Starting and Stopping Components with Oracle Restart</h3>
<div>
<p>Oracle Restart automatically restarts various Oracle components when required, and automatically stops Oracle components in an orderly fashion when you manually shut down your system.</p>
<p>There may be times, however, when you want to manually start or stop individual Oracle components. Oracle Restart includes the Server Control (SRVCTL) utility that you use to manually start and stop Oracle Restart&ndash;managed components. When Oracle Restart is in use, Oracle strongly recommends that you use SRVCTL to manually start and stop components.</p>
<p>After you stop a component with SRVCTL, Oracle Restart does not automatically restart that component if a failure occurs. If you then start the component with SRVCTL, that component is again available for automatic restart.</p>
<p>Oracle utilities such as SQL*Plus, the Listener Control utility (<code class="codeph">LSNRCTL</code>), and <code class="codeph">ASMCMD</code> are integrated with Oracle Restart. If you shut down the database with SQL*Plus, Oracle Restart does not interpret this as a database failure and does not attempt to restart the database. Similarly, if you shut down the Oracle ASM instance with SQL*Plus or <code class="codeph">ASMCMD</code>, Oracle Restart does not attempt to restart it.</p>
<p>An important difference between starting a component with SRVCTL and starting it with SQL*Plus (or another utility) is the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>When you start a component with SRVCTL, any components on which this component depends are automatically started first, and in the proper order.</p>
</li>
<li>
<p>When you start a component with SQL*Plus (or another utility), other components in the dependency chain are not automatically started; you must ensure that any components on which this component depends are started.</p>
</li>
</ul>
<p>In addition, Oracle Restart enables you to start and stop all of the components managed by Oracle Restart in a specified Oracle home using a single command. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home. This capability is useful when you are installing a patch.</p>
<div class="infoboxnotealso" id="GUID-E15A8B4D-D177-40CC-8BFB-8E891AA64A4B__GUID-EB524ACB-8FA4-48E2-9B56-401664AE2FB4">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN13177"></a>
<div class="props_rev_3"><a id="GUID-34863DCE-331D-4EE0-A1C0-5CAB4610A8C2"></a>
<h3 id="ADMIN-GUID-34863DCE-331D-4EE0-A1C0-5CAB4610A8C2" class="sect3"><span class="enumeration_section">4.1.4</span> About Starting and Stopping Oracle Restart</h3>
<div>
<p>The CRSCTL utility starts and stops Oracle Restart.</p>
<p>You can also use the CRSCTL utility to enable or disable Oracle high availability services. Oracle Restart uses Oracle high availability services to start and stop automatically the components managed by Oracle Restart. For example, Oracle high availability services daemons automatically start databases, listeners, and Oracle ASM instances. When Oracle high availability services are disabled, none of the components managed by Oracle Restart are started when a node is rebooted.</p>
<p>Typically, you use the CRSCTL utility when you must stop all of the running Oracle software in an Oracle installation. For example, you might need to stop Oracle Restart when you are installing a patch or performing operating system maintenance. When the maintenance is complete, you use the CRSCTL utility to start Oracle Restart.</p>
<div class="infoboxnotealso" id="GUID-34863DCE-331D-4EE0-A1C0-5CAB4610A8C2__GUID-57411D53-9987-4661-9FCE-7B1658985CC8">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B7E59F89-F386-433A-9886-D7E5E8557393" title="When several components in an Oracle home are managed by Oracle Restart, you can stop Oracle Restart and the components managed by Oracle Restart in the Oracle home.">Stopping and Restarting Oracle Restart for Maintenance Operations</a>&#34;</span> for information about using the CRSCTL utility</p>
</div>
</div>
</div>
<a id="ADMIN12923"></a><a id="ADMIN12924"></a><a id="ADMIN12712"></a>
<div class="props_rev_3"><a id="GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A"></a>
<h3 id="ADMIN-GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A" class="sect3"><span class="enumeration_section">4.1.5</span> Oracle Restart Configuration</h3>
<div>
<p>Oracle Restart maintains a list of all the Oracle components that it manages, and maintains configuration information for each component.</p>
<p>All of this information is collectively known as the <span class="bold">Oracle Restart configuration</span>. When Oracle Restart starts a component, it starts the component according to the configuration information for that component. For example, the Oracle Restart configuration includes the location of the server parameter file (SPFILE) for databases, and the TCP port to listen on for listeners.</p>
<p>If you install Oracle Restart and then create your database with Database Configuration Assistant (DBCA), DBCA automatically adds the database to the Oracle Restart configuration. When DBCA then starts the database, the required dependencies between the database and other components (for example disk groups in which the database stores data) are established, and Oracle Restart begins to manage the database.</p>
<p>You can manually add and remove components from the Oracle Restart configuration with SRVCTL commands. For example, if you install Oracle Restart onto a host on which a database is already running, you can use SRVCTL to add that database to the Oracle Restart configuration. When you manually add a component to the Oracle Restart configuration and then start it with SRVCTL, Oracle Restart begins to manage the component, restarting it when required.</p>
<div class="infobox-note" id="GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__GUID-60DC84AB-A8C9-4286-9680-D31C63F54AD2">
<p class="notep1">Note:</p>
<p>Adding a component to the Oracle Restart configuration is also referred to as &#34;registering a component with Oracle Restart.&#34;</p>
</div>
<p>Other SRVCTL commands enable you to view the status and configuration of Oracle Restart&ndash;managed components, temporarily disable and then reenable management for components, and more.</p>
<p>When Oracle Restart is installed, many operations that create Oracle components automatically add the components to the Oracle Restart configuration. <a href="restart.htm#GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__BABHHFGI" title="This table contains two columns: Operation and Automatic Configuration. The Automatic Configuration column contains only YES or NO.">Table 4-2</a> lists some create operations and whether the created component is automatically added.</p>
<div class="tblformal" id="GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__BABHHFGI">
<p class="titleintable">Table 4-2 Create Operations and the Oracle Restart Configuration</p>
<table class="cellalignment1849" title="Create Operations and the Oracle Restart Configuration" summary="This table contains two columns: Operation and Automatic Configuration. The Automatic Configuration column contains only YES or NO.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1917" id="d46844e625">Create Operation</th>
<th class="cellalignment1947" id="d46844e628">Created Component Automatically Added to Oracle Restart Configuration?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e633" headers="d46844e625">
<p>Create a database with OUI or DBCA</p>
</td>
<td class="cellalignment1948" headers="d46844e633 d46844e628">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e640" headers="d46844e625">
<p>Create a database with the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement</p>
</td>
<td class="cellalignment1948" headers="d46844e640 d46844e628">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e653" headers="d46844e625">
<p>Create an Oracle ASM instance with OUI, DBCA, or ASMCA</p>
</td>
<td class="cellalignment1948" headers="d46844e653 d46844e628">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e660" headers="d46844e625">
<p>Create a disk group (any method)</p>
</td>
<td class="cellalignment1948" headers="d46844e660 d46844e628">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e667" headers="d46844e625">
<p>Add a listener with NETCA</p>
</td>
<td class="cellalignment1948" headers="d46844e667 d46844e628">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e674" headers="d46844e625">
<p>Create a database service with SRVCTL</p>
</td>
<td class="cellalignment1948" headers="d46844e674 d46844e628">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e681" headers="d46844e625">
<p>Create a database service by modifying the <code class="codeph">SERVICE_NAMES</code> initialization parameter<a id="fn_1" href="#fn_1" onclick="footdisplay(1,&#34;Not recommended when Oracle Restart is in use &#34;)"><sup>Foot&nbsp;1</sup></a></p>
</td>
<td class="cellalignment1948" headers="d46844e681 d46844e628">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e694" headers="d46844e625">
<p>Create a database service with <code class="codeph">DBMS_SERVICE.CREATE_SERVICE</code></p>
</td>
<td class="cellalignment1948" headers="d46844e694 d46844e628">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e703" headers="d46844e625">
<p>Create a standby database</p>
</td>
<td class="cellalignment1948" headers="d46844e703 d46844e628">
<p>No</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1</sup></p>
<p>Not recommended when Oracle Restart is in use</p>
<p><a href="restart.htm#GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__BABBJBGA" title="This table contains two columns: the first lists a drop/delete/remove operation and the second states whether the deleted component is automatically removed from the Oracle Restart configuration">Table 4-3</a> lists some delete/drop/remove operations and whether the deleted component is also automatically removed from the Oracle Restart configuration.</p>
<div class="tblformal" id="GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__BABBJBGA">
<p class="titleintable">Table 4-3 Delete/Drop/Remove Operations and the Oracle Restart Configuration</p>
<table class="cellalignment1849" title="Delete/Drop/Remove Operations and the Oracle Restart Configuration" summary="This table contains two columns: the first lists a drop/delete/remove operation and the second states whether the deleted component is automatically removed from the Oracle Restart configuration">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1917" id="d46844e725">Operation</th>
<th class="cellalignment1947" id="d46844e728">Deleted Component Automatically Removed from Oracle Restart Configuration?</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e733" headers="d46844e725">
<p>Delete a database with DBCA</p>
</td>
<td class="cellalignment1948" headers="d46844e733 d46844e728">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e740" headers="d46844e725">
<p>Delete a database by removing database files with operating system commands<a id="fn_2" href="#fn_2" onclick="footdisplay(2,&#34;Not recommended &#34;)"><sup>Foot&nbsp;2</sup></a></p>
</td>
<td class="cellalignment1948" headers="d46844e740 d46844e728">
<p>No</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e750" headers="d46844e725">
<p>Delete a listener with NETCA</p>
</td>
<td class="cellalignment1948" headers="d46844e750 d46844e728">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e757" headers="d46844e725">
<p>Drop an Oracle ASM disk group (any method)</p>
</td>
<td class="cellalignment1948" headers="d46844e757 d46844e728">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e764" headers="d46844e725">
<p>Delete a database service with SRVCTL</p>
</td>
<td class="cellalignment1948" headers="d46844e764 d46844e728">
<p>Yes</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1918" id="d46844e771" headers="d46844e725">
<p>Delete a database service by any other means</p>
</td>
<td class="cellalignment1948" headers="d46844e771 d46844e728">
<p>No</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2</sup></p>
<p>Not recommended</p>
</div>
</div>
<a id="ADMIN12831"></a>
<div class="props_rev_3"><a id="GUID-2F516A26-96EE-416E-8016-345D9ED4EF47"></a>
<h3 id="ADMIN-GUID-2F516A26-96EE-416E-8016-345D9ED4EF47" class="sect3"><span class="enumeration_section">4.1.6</span> Oracle Restart Integration with Oracle Data Guard</h3>
<div>
<p>Oracle Restart is integrated with Oracle Data Guard (Data Guard) and the Oracle Data Guard Broker (the broker).</p>
<p>When a database shutdown and restart is required in response to a role change request, Oracle Restart shuts down and restarts the database in an orderly fashion (taking dependencies into account), and according to the settings in the Oracle Restart configuration. Oracle Restart also ensures that, following a Data Guard role transition, all database services configured to run in the new database role are active and all services not configured to run in the new role are stopped.</p>
<p>In addition, the Oracle Restart configuration supports Data Guard&ndash;related configuration options for the following components:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Databases</span>&mdash;When you add a database to the Oracle Restart configuration, you can specify the current Data Guard role for the database: <code class="codeph">PRIMARY</code>, <code class="codeph">PHYSICAL_STANDBY</code>, <code class="codeph">LOGICAL_STANDBY</code>, or <code class="codeph">SNAPSHOT_STANDBY</code>. If the role is later changed using the broker, Oracle Restart automatically updates the database configuration with the new role. If you change the database role without using the broker, you must manually modify the database&#39;s role in the Oracle Restart configuration to reflect the new role.</p>
</li>
<li>
<p><span class="bold">Database Services</span>&mdash;When adding a database service to the Oracle Restart configuration, you can specify one or more Data Guard roles for the service. When this configuration option is present, upon database open Oracle Restart starts the service only if one of the service roles matches the current database role.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-2F516A26-96EE-416E-8016-345D9ED4EF47__GUID-D0A5A499-5799-4EC8-B3DA-A1A2196EF8B7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SBYDB" target="_blank" href="../SBYDB/toc.htm"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about Oracle Data Guard</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-ABAECC11-D82A-40BF-A890-E55AF6F2C852" title="In a standalone server environment, Oracle Restart uses Oracle Notification Services (ONS) and Oracle Advanced Queues to publish Fast Application Notification (FAN) high availability events. Integrated Oracle clients use FAN to provide fast notification to clients when the service or instance goes down. The client can automate the failover of database connections between a primary database and a standby database.">Fast Application Notification with Oracle Restart</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-44F0F777-91C4-48A2-8833-44375A9232FF" title="In a configuration that uses Oracle Restart and Oracle Data Guard primary and standby databases, the database services fail over automatically from the primary to the standby during either a switchover or failover.">Automating the Failover of Connections Between Primary and Standby Databases</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13178"></a>
<div class="props_rev_3"><a id="GUID-ABAECC11-D82A-40BF-A890-E55AF6F2C852"></a>
<h3 id="ADMIN-GUID-ABAECC11-D82A-40BF-A890-E55AF6F2C852" class="sect3"><span class="enumeration_section">4.1.7</span> Fast Application Notification with Oracle Restart</h3>
<div>
<p>In a standalone server environment, Oracle Restart uses Oracle Notification Services (ONS) and Oracle Advanced Queues to publish Fast Application Notification (FAN) high availability events. Integrated Oracle clients use FAN to provide fast notification to clients when the service or instance goes down. The client can automate the failover of database connections between a primary database and a standby database.</p>
<div class="infoboxnotealso" id="GUID-ABAECC11-D82A-40BF-A890-E55AF6F2C852__GUID-1A32550E-189B-4900-A39A-4CE6B8954249">
<p class="notep1">See Also:</p>
<p><a class="olink ADQUE" target="_blank" href="../ADQUE/toc.htm"><span class="italic">Oracle Database Advanced Queuing User&#39;s Guide</span></a></p>
</div>
</div>
<a id="ADMIN13179"></a>
<div class="props_rev_3"><a id="GUID-0C15DF86-2AAC-488E-B5F8-F6BA83D49B5C"></a>
<h4 id="ADMIN-GUID-0C15DF86-2AAC-488E-B5F8-F6BA83D49B5C" class="sect4"><span class="enumeration_section">4.1.7.1</span> Overview of Fast Application Notification</h4>
<div>
<p>FAN is a high availability notification mechanism that Oracle Restart can use to notify other processes about configuration changes that include service status changes, such as <code class="codeph">UP</code> or <code class="codeph">DOWN</code> events.</p>
<p>FAN provides the ability to immediately terminate inflight transaction when an instance or server fails. Integrated Oracle clients receive the events and respond. Applications can respond either by propagating the error to the user or by resubmitting the transactions and masking the error from the application user. When a <code class="codeph">DOWN</code> event occurs, integrated clients immediately clean up connections to the terminated database. When an <code class="codeph">UP</code> event occurs, the clients create new connections to the new primary database instance.</p>
<p>Oracle Restart publishes FAN events whenever a managed instance or service goes up or down. After a failover, the Oracle Data Guard Broker (broker) publishes FAN events. These FAN events can be used in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Applications can use FAN with Oracle Restart without programmatic changes if they use one of these Oracle integrated database clients: Oracle Database JDBC, Universal Connection Pool for Java, Oracle Call Interface, and Oracle Database ODP.NET. These clients can be configured for Fast Connection Failover (FCF) to automatically connect to a new primary database after a failover.</p>
</li>
<li>
<p>FAN server-side callouts can be configured on the database tier.</p>
</li>
</ul>
<p>For <code class="codeph">DOWN</code> events, such as a failed primary database, FAN provides immediate notification to the clients so that they can failover as fast as possible to the new primary database. The clients do not wait for a timeout. The clients are notified immediately, and they must be configured to failover when they are notified.</p>
<p>For <code class="codeph">UP</code> events, when services and instances are started, new connections can be created so that the application can immediately take advantage of the extra resources.</p>
<p>Through server-side callouts, you can also use FAN to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Log status information</p>
</li>
<li>
<p>Page DBAs or open support tickets when resources fail to start</p>
</li>
<li>
<p>Automatically start dependent external applications that must be co-located with a service</p>
</li>
</ul>
<p>FAN events are published using ONS and Oracle Database Advanced Queuing queues. The queues are configured automatically when you configure a service. You must configure ONS manually using SRVCTL commands.</p>
<p>The Connection Manager (CMAN) and Oracle Net Services listeners are integrated with FAN events, enabling the CMAN and the listener to immediately de-register services provided by the failed instance and to avoid erroneously sending connection requests to a failed database.</p>
<div class="infoboxnotealso" id="GUID-0C15DF86-2AAC-488E-B5F8-F6BA83D49B5C__GUID-90A30F78-5B53-48D1-BACC-6ECFDD31C5EE">
<p class="notep1">See Also:</p>
<p><a class="olink DGBKR3425" target="_blank" href="../DGBKR/sofo.htm#DGBKR3425"><span class="italic">Oracle Data Guard Broker</span></a> for information about FAN events in an Oracle Data Guard environment</p>
</div>
</div>
</div>
<a id="ADMIN13180"></a>
<div class="props_rev_3"><a id="GUID-9763D91D-342D-426E-B549-DA5798751748"></a>
<h4 id="ADMIN-GUID-9763D91D-342D-426E-B549-DA5798751748" class="sect4"><span class="enumeration_section">4.1.7.2</span> Application High Availability with Services and FAN</h4>
<p>Oracle Database focuses on maintaining service availability. With Oracle Restart, Oracle services are designed to be continuously available. Oracle Restart monitors the database and its services and, when configured, sends event notifications using FAN.</p>
<a id="ADMIN13181"></a>
<div class="props_rev_3"><a id="GUID-92E99C70-55C6-4E3F-950A-BC270915252C"></a>
<h5 id="ADMIN-GUID-92E99C70-55C6-4E3F-950A-BC270915252C" class="sect5"><span class="enumeration_section">4.1.7.2.1</span> Managing Unplanned Outages</h5>
<div>
<p>If Oracle Restart detects an outage, then it isolates the failed component and recovers the dependent components. If the failed component is the database instance, then after Oracle Data Guard fails over to the standby database, Oracle Restart on the new primary database starts any services defined with the current role.</p>
<p>FAN events are published by Oracle Restart and the Oracle Data Guard Broker through ONS and Advanced Queuing. You can also perform notifications using FAN callouts.</p>
<div class="infobox-note" id="GUID-92E99C70-55C6-4E3F-950A-BC270915252C__GUID-4A798EF8-44DD-42F1-BC2D-08C060B9E810">
<p class="notep1">Note:</p>
<p>Oracle Restart does not run callouts with guaranteed ordering. Callouts are run asynchronously, and they are subject to scheduling variability.</p>
</div>
<p>With Oracle Restart, restart and recovery are automatic, including the restarting of the subsystems, such as the listener and the Oracle Automatic Storage Management (Oracle ASM) processes, not just the database. You can use FAN callouts to report faults to your fault management system and to initiate repair jobs.</p>
</div>
</div>
<a id="ADMIN13182"></a>
<div class="props_rev_3"><a id="GUID-930870BE-6750-44DB-BAEF-2DD909903198"></a>
<h5 id="ADMIN-GUID-930870BE-6750-44DB-BAEF-2DD909903198" class="sect5"><span class="enumeration_section">4.1.7.2.2</span> Managing Planned Outages</h5>
<div>
<p>For repairs, upgrades, and changes that require you to shut down the primary database, Oracle Restart provides interfaces that disable and enable services to minimize service disruption to application users.</p>
<p>Using Oracle Data Guard Broker with Oracle Restart allows a coordinated failover of the database service from the primary to the standby for the duration of the planned outage. Once you complete the operation, you can return the service to normal operation.</p>
<p>The management policy for a service controls whether the service starts automatically when the database is restarted. If the management policy for a service is set to <code class="codeph">AUTOMATIC</code>, then it restarts automatically. If the management policy for a service is set to <code class="codeph">MANUAL</code>, then it must be started manually.</p>
<div class="infoboxnotealso" id="GUID-930870BE-6750-44DB-BAEF-2DD909903198__GUID-DB669F0F-7BD8-43C5-9E33-B65B74F23C7B">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-7A9AE5BF-C79E-4ADC-BD12-32079FA1A6B6" title="You can use SRVCTL to modify the Oracle Restart configuration of a component. For example, you can modify the port number that a listener listens on when Oracle Restart starts it, or the server parameter file (SPFILE) that Oracle Restart points to when it starts a database.">Modifying the Oracle Restart Configuration for a Component</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN13184"></a><a id="ADMIN13185"></a><a id="ADMIN13183"></a>
<div class="props_rev_3"><a id="GUID-39F12288-5DD6-436C-969F-83D486DD33ED"></a>
<h5 id="ADMIN-GUID-39F12288-5DD6-436C-969F-83D486DD33ED" class="sect5"><span class="enumeration_section">4.1.7.2.3</span> Fast Application Notification High Availability Events</h5>
<div>
<p>Understand FAN event record parameters and the event types.</p>
<p><a href="restart.htm#GUID-39F12288-5DD6-436C-969F-83D486DD33ED__CIHJFDIA" title="This table lists event record parameters and description for each parameter.">Table 4-4</a> describes the FAN event record parameters and the event types, followed by name-value pairs for the event properties. The event type is always the first entry and the timestamp is always the last entry. In the following example, the name in the name-value pair is shown in <code class="codeph">Fan</code> <code class="codeph">event</code> <code class="codeph">type</code> (<code class="codeph">service_member</code>), and the value in the name-value pair is shown in <code class="codeph">Properties</code>:</p>
<pre dir="ltr">FAN event type: service_member
Properties: version=1.0 service=ERP database=FINPROD instance=FINPROD host=node1 status=up
</pre>
<div class="tblformal" id="GUID-39F12288-5DD6-436C-969F-83D486DD33ED__CIHJFDIA">
<p class="titleintable">Table 4-4 Event Record Parameters and Descriptions</p>
<table class="cellalignment1849" title="Event Record Parameters and Descriptions" summary="This table lists event record parameters and description for each parameter.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d46844e1371">Parameter</th>
<th class="cellalignment1950" id="d46844e1374">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1379" headers="d46844e1371">
<p><code class="codeph">VERSION</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1379 d46844e1374">
<p>Version of the event record. Used to identify release changes.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1387" headers="d46844e1371">
<p><code class="codeph">EVENT</code> <code class="codeph">TYPE</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1387 d46844e1374">
<p><code class="codeph">SERVICE</code>, <code class="codeph">SERVICE_MEMBER</code>, <code class="codeph">DATABASE</code>, <code class="codeph">INSTANCE</code>, <code class="codeph">NODE</code>, <code class="codeph">ASM</code>, <code class="codeph">SRV_PRECONNECT</code>. Note that database and Instance types provide the database service, such as <code class="codeph">DB_UNIQUE_NAME.DB_DOMAIN</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1422" headers="d46844e1371">
<p><code class="codeph">DATABASE</code> <code class="codeph">UNIQUE</code> <code class="codeph">NAME</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1422 d46844e1374">
<p>The unique database supporting the service; matches the initialization parameter value for <code class="codeph">DB_UNIQUE_NAME</code>, which defaults to the value of the initialization parameter <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1442" headers="d46844e1371">
<p><code class="codeph">INSTANCE</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1442 d46844e1374">
<p>The name of the instance that supports the service; matches the <code class="codeph">ORACLE_SID</code> value.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1453" headers="d46844e1371">
<p><code class="codeph">NODE</code> <code class="codeph">NAME</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1453 d46844e1374">
<p>The name of the node that supports the service or the node that has stopped; matches the node name known to Cluster Synchronization Services (CSS).</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1464" headers="d46844e1371">
<p><code class="codeph">SERVICE</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1464 d46844e1374">
<p>The service name; matches the service in <code class="codeph">DBA_SERVICES</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1475" headers="d46844e1371">
<p><code class="codeph">STATUS</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1475 d46844e1374">
<p>Values are <code class="codeph">UP</code>, <code class="codeph">DOWN</code>, <code class="codeph">NOT_RESTARTING</code>, <code class="codeph">PRECONN_UP</code>, <code class="codeph">PRECONN_DOWN</code>, and <code class="codeph">UNKNOWN</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1502" headers="d46844e1371">
<p><code class="codeph">REASON</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1502 d46844e1374">
<p><code class="codeph">Data_Guard_Failover</code>, <code class="codeph">Failure</code>, <code class="codeph">Dependency</code>, <code class="codeph">User</code>, <code class="codeph">Autostart</code>, <code class="codeph">Restart</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1527" headers="d46844e1371">
<p><code class="codeph">CARDINALITY</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1527 d46844e1374">
<p>The number of service members that are currently active; included in all <code class="codeph">UP</code> events.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1538" headers="d46844e1371">
<p><code class="codeph">TIMESTAMP</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1538 d46844e1374">
<p>The local time zone to use when ordering notification events.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>A FAN record matches the database signature of each session as shown in <a href="restart.htm#GUID-39F12288-5DD6-436C-969F-83D486DD33ED__CIHFHBGE" title="This table lists FAN parameters and a matching Oracle Database signature for each FAN parameter.">Table 4-5</a>.</p>
<div class="tblformal" id="GUID-39F12288-5DD6-436C-969F-83D486DD33ED__CIHFHBGE">
<p class="titleintable">Table 4-5 FAN Parameters and Matching Database Signatures</p>
<table class="cellalignment1849" title="FAN Parameters and Matching Database Signatures" summary="This table lists FAN parameters and a matching Oracle Database signature for each FAN parameter.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d46844e1562">FAN Parameter</th>
<th class="cellalignment1950" id="d46844e1565">Matching Oracle Database Signature</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1570" headers="d46844e1562">
<p><code class="codeph">SERVICE</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1570 d46844e1565">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;service_name&#39;)</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1579" headers="d46844e1562">
<p><code class="codeph">DATABASE</code> <code class="codeph">UNIQUE</code> <code class="codeph">NAME</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1579 d46844e1565">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;db_unique_name&#39;)</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1594" headers="d46844e1562">
<p><code class="codeph">INSTANCE</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1594 d46844e1565">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;instance_name&#39;)</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e1603" headers="d46844e1562">
<p><code class="codeph">NODE</code> <code class="codeph">NAME</code></p>
</td>
<td class="cellalignment1952" headers="d46844e1603 d46844e1565">
<p><code class="codeph">sys_context(&#39;userenv&#39;, &#39;server_host&#39;)</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN13186"></a>
<div class="props_rev_3"><a id="GUID-7934F01E-DD83-4775-8FD4-63E9BD9D1DBA"></a>
<h5 id="ADMIN-GUID-7934F01E-DD83-4775-8FD4-63E9BD9D1DBA" class="sect5"><span class="enumeration_section">4.1.7.2.4</span> Using Fast Application Notification Callouts</h5>
<div>
<p>FAN callouts are server-side executables that Oracle Restart executes immediately when high availability events occur.</p>
<div class="section">
<p>You can use FAN callouts to automate the following activities when events occur, such as:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Opening fault tracking tickets</p>
</li>
<li>
<p>Sending messages to pagers</p>
</li>
<li>
<p>Sending e-mail</p>
</li>
<li>
<p>Starting and stopping server-side applications</p>
</li>
<li>
<p>Maintaining an uptime log by logging each event as it occurs</p>
</li>
</ul>
<p>To use FAN callouts:</p>
<ul style="list-style-type: disc;">
<li>
<p>Place an executable in the directory grid_home/racg/usrco on both the primary and the standby database servers. If you are using scripts, then set the shell as the first line of the executable.</p>
</li>
</ul>
<p>The following is an example file for the grid_home/racg/usrco/callout.sh callout:</p>
<pre dir="ltr">#! /bin/ksh
FAN_LOGFILE= [your path name]/admin/log/`hostname`_uptime.log
echo $* &#34;reported=&#34;`date` &gt;&gt; $FAN_LOGFILE &amp;
</pre>
<p>The following output is from the previous example:</p>
<pre dir="ltr">NODE VERSION=1.0 host=sun880-2 status=nodedown reason=
timestamp=08-Oct-2004 04:02:14 reported=Fri Oct 8 04:02:14 PDT 2004
</pre>
<p>A FAN record matches the database signature of each session, as shown in <a href="restart.htm#GUID-39F12288-5DD6-436C-969F-83D486DD33ED__CIHFHBGE" title="This table lists FAN parameters and a matching Oracle Database signature for each FAN parameter.">Table 4-5</a>. Use this information to take actions on sessions that match the FAN event data.</p>
<div class="infoboxnotealso" id="GUID-7934F01E-DD83-4775-8FD4-63E9BD9D1DBA__GUID-AFE58C9A-D7D5-4570-8051-5ABBE71AF1B4">
<p class="notep1">See Also:</p>
<p><a href="restart.htm#GUID-39F12288-5DD6-436C-969F-83D486DD33ED__CIHJFDIA" title="This table lists event record parameters and description for each parameter.">Table 4-4</a> for information about the callout and event details</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13187"></a>
<div class="props_rev_3"><a id="GUID-530D8FBC-44EB-40E4-A356-6888CF8E5AAC"></a>
<h5 id="ADMIN-GUID-530D8FBC-44EB-40E4-A356-6888CF8E5AAC" class="sect5"><span class="enumeration_section">4.1.7.2.5</span> Oracle Clients That Are Integrated with Fast Application Notification</h5>
<div>
<p>Oracle has integrated FAN with many of the common Oracle client drivers that are used to connect to Oracle Restart databases. Therefore, the easiest way to use FAN is to use an integrated Oracle Client.</p>
<p>You can use the CMAN session pools, Oracle Call Interface, Universal Connection Pool for Java, JDBC simplefan API, and ODP.NET connection pools. The overall goal is to enable applications to consistently obtain connections to the available primary database at anytime.</p>
<div class="infoboxnotealso" id="GUID-530D8FBC-44EB-40E4-A356-6888CF8E5AAC__GUID-D762C0C5-B374-4595-A31C-EC09F6A210B0">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-44F0F777-91C4-48A2-8833-44375A9232FF" title="In a configuration that uses Oracle Restart and Oracle Data Guard primary and standby databases, the database services fail over automatically from the primary to the standby during either a switchover or failover.">Automating the Failover of Connections Between Primary and Standby Databases</a>&#34;</span></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="ADMIN12721"></a>
<div class="props_rev_3"><a id="GUID-348C2270-4DE6-45A7-9B27-E8554B7ACEE3"></a>
<h2 id="ADMIN-GUID-348C2270-4DE6-45A7-9B27-E8554B7ACEE3" class="sect2"><span class="enumeration_section">4.2</span> Configuring Oracle Restart</h2>
<p>To configure Oracle Restart, you can add components, remove components, or modify options for components.</p>
<div class="sect3"><a id="GUID-3A310A2E-F7D9-4502-9139-2424CB8057AF"></a>
<h3 id="ADMIN-GUID-3A310A2E-F7D9-4502-9139-2424CB8057AF" class="sect3"><span class="enumeration_section">4.2.1</span> About Configuring Oracle Restart</h3>
<div>
<p>If you install Oracle Restart by installing the Oracle Grid Infrastructure for a standalone server and then create your database, the database is automatically added to the Oracle Restart configuration, and is then automatically restarted when required. However, if you install Oracle Restart on a host computer on which a database already exists, you must manually add the database, the listener, the Oracle Automatic Storage Management (Oracle ASM) instance, and possibly other components to the Oracle Restart configuration.</p>
<p>After configuring Oracle Restart to manage your database, you may want to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Add additional components to the Oracle Restart configuration.</p>
</li>
<li>
<p>Remove components from the Oracle Restart configuration.</p>
</li>
<li>
<p>Temporarily suspend Oracle Restart management for one or more components.</p>
</li>
<li>
<p>Modify the Oracle Restart configuration options for an individual component.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-3A310A2E-F7D9-4502-9139-2424CB8057AF__GUID-1649C385-FED6-4E62-BF6B-DCE66C13192D">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-799FAC80-7ED0-4020-858C-3F8401EFD784" title="Oracle Restart enhances the availability of Oracle databases in a single-instance environment.">About Oracle Restart</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN12925"></a><a id="ADMIN12728"></a>
<div class="props_rev_3"><a id="GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605"></a>
<h3 id="ADMIN-GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" class="sect3"><span class="enumeration_section">4.2.2</span> Preparing to Run SRVCTL</h3>
<div>
<p>Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.</p>
<div class="section">
<p><a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605__BABDDDJB" title="This table contains two columns. The left column names the component with which you want to work with srvctl. The right column contains the Oracle home from which you must run srvctl">Table 4-6</a> lists the components that you can configure with SRVCTL, and for each component, lists the Oracle home from which you must run SRVCTL.</p>
<div class="tblformal" id="GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605__BABDDDJB">
<p class="titleintable">Table 4-6 Determining the Oracle Home from which to Start SRVCTL</p>
<table class="cellalignment1849" title="Determining the Oracle Home from which to Start SRVCTL" summary="This table contains two columns. The left column names the component with which you want to work with srvctl. The right column contains the Oracle home from which you must run srvctl">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1943" id="d46844e2025">Component Being Configured</th>
<th class="cellalignment1931" id="d46844e2028">Oracle Home from which to Start SRVCTL</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1944" id="d46844e2033" headers="d46844e2025">
<p>Database, database service</p>
</td>
<td class="cellalignment1932" headers="d46844e2033 d46844e2028">
<p>Database home</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1944" id="d46844e2040" headers="d46844e2025">
<p>Oracle ASM instance, disk group, listener<a id="fn_3" href="#fn_3" onclick="footdisplay(3,&#34;Assumes the listener was started from the Oracle Grid Infrastructure home. If you installed Oracle Restart for an existing database, the listener may have been started from the database home, in which case you start SRVCTL from the database home. &#34;)"><sup>Foot&nbsp;3</sup></a>, ONS</p>
</td>
<td class="cellalignment1932" headers="d46844e2040 d46844e2028">
<p>Oracle Grid Infrastructure home</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;3</sup></p>
<p>Assumes the listener was started from the Oracle Grid Infrastructure home. If you installed Oracle Restart for an existing database, the listener may have been started from the database home, in which case you start SRVCTL from the database home.</p>
<p><span class="bold">To prepare to run SRVCTL</span>:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Use <a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605__BABDDDJB" title="This table contains two columns. The left column names the component with which you want to work with srvctl. The right column contains the Oracle home from which you must run srvctl">Table 4-6</a> to determine the Oracle home from which you must run SRVCTL.</span></li>
<li class="stepexpand"><span>If you intend to run a SRVCTL command that modifies the Oracle Restart configuration (<code class="codeph">add</code>, <code class="codeph">remove</code>, <code class="codeph">enable</code>, <code class="codeph">disable</code>, and so on), then do one of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>On UNIX and Linux, log in to the database host computer as the user who installed the Oracle home that you determined in Step 1.</p>
</li>
<li>
<p>On Windows, log in to the database host computer as an Administrator.</p>
</li>
</ul>
<p>Otherwise, log in to the host computer as any user.</p>
</div>
</li>
<li class="stepexpand"><span>Open the command window that you will use to enter the SRVCTL commands.</span>
<div>
<p>To enter commands, you might need to ensure that the SRVCTL program is in your <code class="codeph">PATH</code> environment variable. Otherwise, you can enter the absolute path to the program.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="ADMIN12729"></a>
<div class="props_rev_3"><a id="GUID-BA4640FC-21AA-415E-9977-CBFBBB2B0F78"></a>
<h3 id="ADMIN-GUID-BA4640FC-21AA-415E-9977-CBFBBB2B0F78" class="sect3"><span class="enumeration_section">4.2.3</span> Obtaining Help for SRVCTL</h3>
<div>
<p>Online help is available for the SRVCTL utility.</p>
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl
</pre></div>
</li>
</ol>
<div class="section">
<p>For more detailed help, enter the following command:</p>
<pre dir="ltr">srvctl -help
</pre>
<p>For detailed help on a particular command, enter:</p>
<pre dir="ltr">srvctl <span class="italic">command</span> -help
</pre>
<p>For example, to obtain help for the <code class="codeph">add</code> command and the different options for each component type, enter:</p>
<pre dir="ltr">srvctl add -help
</pre>
<p>For detailed help on a particular command for a particular component type, enter:</p>
<pre dir="ltr">srvctl <span class="italic">command</span> <span class="italic">object</span> -help
</pre>
<p>For example, to obtain help about adding a database service, enter the following command:</p>
<pre dir="ltr">srvctl add service -help
</pre>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span> for a list of SRVCTL commands and <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a> for a list of components.</p>
<p>Starting with Oracle Database 12<span class="italic">c</span>, single-letter parameters are deprecated in favor of keyword parameters. To support backward compatibility, you can use a mix of single-letter parameters and new keyword parameters. The help shows the keyword parameters by default, but you can obtain the single-letter equivalents, where applicable, by adding the <code class="codeph">-compatible</code> parameter after the <code class="codeph">-help</code> parameter.</p>
<p>For example, to obtain help about adding a database service that includes the single-letter equivalents, enter the following command:</p>
<pre dir="ltr">srvctl add service -help -compatible
</pre>
<p>The single-letter equivalents appear in parentheses next to the keyword parameters. Parameters that are new in Oracle Database 12<span class="italic">c</span> do not have single-letter equivalents.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12926"></a><a id="ADMIN12927"></a><a id="ADMIN12928"></a><a id="ADMIN12722"></a>
<div class="props_rev_3"><a id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9"></a>
<h3 id="ADMIN-GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9" class="sect3"><span class="enumeration_section">4.2.4</span> Adding Components to the Oracle Restart Configuration</h3>
<div>
<p>In most cases, creating an Oracle component on a host that is running Oracle Restart automatically adds the component to the Oracle Restart configuration. However, in some cases, you must add components manually.</p>
<div class="section">
<p>(See <a href="restart.htm#GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__BABHHFGI" title="This table contains two columns: Operation and Automatic Configuration. The Automatic Configuration column contains only YES or NO.">Table 4-2</a>.) The component is then automatically restarted when required.</p>
<p>The following are occasions when you must manually add components to the Oracle Restart configuration with SRVCTL:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>You install Oracle Restart after creating the database.</p>
</li>
<li>
<p>You create an additional Oracle database on the same host computer using the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> SQL statement.</p>
</li>
<li>
<p>You create a database service with <code class="codeph">DBMS_SERVICE.CREATE_SERVICE</code> package procedure. (The recommended way is to use SRVCTL.)</p>
</li>
</ul>
<div class="infobox-note" id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9__GUID-A315E85C-BE06-4840-8868-648DBA6C6133">
<p class="notep1">Note:</p>
<p><a id="d46844e2353" class="indexterm-anchor"></a>Adding a component to the Oracle Restart configuration is also referred to as &#34;registering a component with Oracle Restart.&#34;</p>
</div>
<p>Adding a component to the Oracle Restart configuration does not start that component. You must use a <code class="codeph">srvctl</code> <code class="codeph">start</code> command to start it.</p>
<p>When you add a component to the Oracle Restart configuration with SRVCTL, you can specify optional configuration settings for the component.</p>
<p>To add a component to the Oracle Restart configuration with SRVCTL:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl add <span class="italic">object</span> <span class="italic">options</span>
</pre>
<p>where <span class="italic"><code class="codeph">object</code></span> is one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-D69636D0-8E80-4410-9388-D6B8918A1988" title="The srvctl add command adds the specified component to the Oracle Restart configuration, and optionally sets Oracle Restart configuration parameters for the component. After a component is added, Oracle Restart begins to manage it, restarting it when required.">add</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9__GUID-30440686-134F-49C8-AFEB-AFF6AB24E87B">
<p class="titleinexample">Example 4-1 Adding a Database</p>
<p>This example adds a database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>. The mandatory <code class="codeph">-oraclehome</code> option specifies the Oracle home location.</p>
<pre dir="ltr">srvctl add database -db dbcrm -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9__GUID-6AE3CE0D-1B7F-4F0B-8D80-79A342BA500B">
<p class="titleinexample">Example 4-2 Adding a Database Service</p>
<p>For the database with the <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, this example both creates a new database service named <code class="codeph">crmbatch</code> and adds it to the Oracle Restart configuration.</p>
<pre dir="ltr">srvctl add service -db dbcrm -service crmbatch
</pre>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80" title="When managing a database with Oracle Restart, Oracle recommends that you use SRVCTL to create and delete database services. When you use SRVCTL to add a database service, the service is automatically added to the Oracle Restart configuration and a dependency between the service and the database is established. Thus, if you start the service, Oracle Restart first starts the database if it is not started.">Creating and Deleting Database Services with SRVCTL</a>&#34;</span> for more examples.</p>
</div>
<!-- class="example" -->
<div class="example" id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9__GUID-447B20CB-1CFB-4408-B32D-97B89AB19C4C">
<p class="titleinexample">Example 4-3 Adding the Default Listener</p>
<p>This example adds the default listener to the Oracle Restart configuration.</p>
<pre dir="ltr">srvctl add listener
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infobox-note" id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9__GUID-321FBE94-2B2D-4351-BA0D-3E33DEA8EE17">
<p class="notep1">Note:</p>
<p>When you manually add a database to the Oracle Restart configuration, you must also add the Oracle grid infrastructure software owner as a member of the OSDBA group of that database. This is because the grid infrastructure components must be able to connect to the database as <code class="codeph">SYSDBA</code> to start and stop the database.</p>
<p>For example, if the host user who installed the grid infrastructure home is named <code class="codeph">grid</code> and the OSDBA group of the new database is named <code class="codeph">dba</code>, then user <code class="codeph">grid</code> must be a member of the <code class="codeph">dba</code> group.</p>
</div>
<div class="infoboxnotealso" id="GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9__GUID-EA4F7950-1D79-4118-B1EF-3C818E865C76">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="dba.htm#GUID-88C714B5-4705-4D1D-BFDD-BB056C905682" title="Operating system groups are created and assigned specific names as part of the database installation process.">Operating System Groups</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12929"></a><a id="ADMIN12723"></a>
<div class="props_rev_3"><a id="GUID-BF147503-5BAC-4908-A02E-9AA0721A5F36"></a>
<h3 id="ADMIN-GUID-BF147503-5BAC-4908-A02E-9AA0721A5F36" class="sect3"><span class="enumeration_section">4.2.5</span> Removing Components from the Oracle Restart Configuration</h3>
<div>
<p>When you use an Oracle-recommended method to delete an Oracle component, the component is also automatically removed from the Oracle Restart configuration.</p>
<div class="section">
<p>For example, if you use Database Configuration Assistant (DBCA) to delete a database, DBCA removes the database from the Oracle Restart configuration. Likewise, if you use Oracle Net Configuration Assistant (NETCA) to delete a listener, NETCA removes the listener from the Oracle Restart configuration. See <a href="restart.htm#GUID-2AED50FD-C9C4-4187-8BD8-5113B6735A4A__BABBJBGA" title="This table contains two columns: the first lists a drop/delete/remove operation and the second states whether the deleted component is automatically removed from the Oracle Restart configuration">Table 4-3</a> for more examples. If you use a non-recommended or manual method to delete an Oracle component, you must first use SRVCTL to remove the component from the Oracle Restart configuration. Failing to do so could result in an error.</p>
<p>To remove a component from the Oracle Restart configuration:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl remove <span class="italic">object</span> [<span class="italic">options</span>]
</pre>
<p>where <span class="italic"><code class="codeph">object</code></span> is one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-19875332-0C3D-4802-8B25-BA4895C69349" title="Removes the specified component from the Oracle Restart configuration. Oracle Restart no longer manages the component. Any environment variable settings for the component are also removed.">remove</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-BF147503-5BAC-4908-A02E-9AA0721A5F36__GUID-A15ECA97-70C8-4A0B-BD5F-4526D9A69B77">
<p class="titleinexample">Example 4-4 Removing a Database</p>
<p>This example removes a database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>.</p>
<pre dir="ltr">srvctl remove database -db dbcrm
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-BF147503-5BAC-4908-A02E-9AA0721A5F36__GUID-0988CB16-F833-409B-9877-57FB2D93C4F4">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13189"></a><a id="ADMIN13190"></a><a id="ADMIN13191"></a><a id="ADMIN13188"></a>
<div class="props_rev_3"><a id="GUID-AFD95FAB-E677-4777-AB66-CE81E03F191B"></a>
<h3 id="ADMIN-GUID-AFD95FAB-E677-4777-AB66-CE81E03F191B" class="sect3"><span class="enumeration_section">4.2.6</span> Disabling and Enabling Oracle Restart Management for a Component</h3>
<div>
<p>You can temporarily disable Oracle Restart management for a component. One reason to do this is when you are performing maintenance on the component. For example, if a component must be repaired, then you might not want it to be automatically restarted if it fails or if the host computer is restarted. When maintenance is complete, you can reenable management for the component.</p>
<div class="section">
<p>When you disable a component:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>It is no longer automatically restarted.</p>
</li>
<li>
<p>It is no longer automatically started through a dependency.</p>
</li>
<li>
<p>It cannot be started with SRVCTL.</p>
</li>
<li>
<p>Any component dependent on this resource is no longer automatically started or restarted.</p>
</li>
</ul>
<p><span class="bold">To disable or enable automatic restart for a component</span>:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL, as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Do one of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To disable a component, enter the following command:</p>
<pre dir="ltr">srvctl disable <span class="italic">object</span> [<span class="italic">options</span>]
</pre></li>
<li>
<p>To enable a component, enter the following command:</p>
<pre dir="ltr">srvctl enable <span class="italic">object</span> [<span class="italic">options</span>]
</pre></li>
</ul>
<p>Replace <span class="italic"><code class="codeph">object</code></span> with one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-489938E3-931D-446F-B570-C81659AC3C52" title="Disables a component, which suspends management of that component by Oracle Restart.">disable</a> command and the <a href="restart.htm#GUID-3CF9FB22-DBAD-45CE-B942-5D128938986C" title="The srvctl enable command reenables the specified disabled component.">enable</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-AFD95FAB-E677-4777-AB66-CE81E03F191B__GUID-2E9B1F2F-5FB5-45D9-8A87-975D8955A4DB">
<p class="titleinexample">Example 4-5 Disabling Automatic Restart for a Database</p>
<p>This example disables automatic restart for a database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>.</p>
<pre dir="ltr">srvctl disable database -db dbcrm
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-AFD95FAB-E677-4777-AB66-CE81E03F191B__GUID-1BF25259-3C74-4FC1-B013-3714EE6A25D8">
<p class="titleinexample">Example 4-6 Disabling Automatic Restart for an Oracle ASM Disk Group</p>
<p>This example disables automatic restart for the Oracle ASM disk group named <code class="codeph">recovery</code>.</p>
<pre dir="ltr">srvctl disable diskgroup -diskgroup recovery
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-AFD95FAB-E677-4777-AB66-CE81E03F191B__GUID-5AC2B31F-3133-4508-8A5C-59113AED07E5">
<p class="titleinexample">Example 4-7 Enabling Automatic Restart for an Oracle ASM Disk Group</p>
<p>This example reenables automatic restart for the disk group <code class="codeph">recovery</code>.</p>
<pre dir="ltr">srvctl enable diskgroup -diskgroup recovery
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-AFD95FAB-E677-4777-AB66-CE81E03F191B__GUID-F9ECFAE1-7C09-4C7F-A802-A5073CAC558B">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12933"></a><a id="ADMIN12732"></a>
<div class="props_rev_3"><a id="GUID-7F26125B-C8E7-476B-82D6-428F6C933137"></a>
<h3 id="ADMIN-GUID-7F26125B-C8E7-476B-82D6-428F6C933137" class="sect3"><span class="enumeration_section">4.2.7</span> Viewing Component Status</h3>
<div>
<p>You can use SRVCTL to view the running status (running or not running) for any component managed by Oracle Restart. For some components, additional information is also displayed.</p>
<div class="section">
<p>To view component status:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl status <span class="italic">object</span> [<span class="italic">options</span>]
</pre>
<p>where <span class="italic"><code class="codeph">object</code></span> is one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-6B2BA9FF-EF33-4D89-A836-251B943113E8" title="Displays the running status of the specified component or set of components.">status</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-7F26125B-C8E7-476B-82D6-428F6C933137__GUID-4C930549-4A2B-4BA5-9564-BB5BC8C5706B">
<p class="titleinexample">Example 4-8 Viewing Status of a Database</p>
<p>This example displays the status of the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>.</p>
<pre dir="ltr">srvctl status database -db dbcrm

Database is running.
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-7F26125B-C8E7-476B-82D6-428F6C933137__GUID-0F2046E9-3657-43BA-B588-954453249441">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12934"></a><a id="ADMIN12935"></a><a id="ADMIN12733"></a>
<div class="props_rev_3"><a id="GUID-E993F3E3-A310-4D52-B577-280ECB56A59B"></a>
<h3 id="ADMIN-GUID-E993F3E3-A310-4D52-B577-280ECB56A59B" class="sect3"><span class="enumeration_section">4.2.8</span> Viewing the Oracle Restart Configuration for a Component</h3>
<div>
<p>You can use SRVCTL to view the Oracle Restart configuration for any component. Oracle Restart maintains different configuration information for each component type. In one form of the SRVCTL command, you can obtain a list of components managed by Oracle Restart.</p>
<div class="section">
<p>To view component configuration:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl config <span class="italic">object</span> <span class="italic">options</span>
</pre>
<p>where <span class="italic"><code class="codeph">object</code></span> is one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-D012A965-F90F-4CA4-AAA4-DF127AA5BA47" title="The srvctl config command displays the Oracle Restart configuration of the specified component or set of components.">config</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-E993F3E3-A310-4D52-B577-280ECB56A59B__GUID-E0512F51-C1FE-40E2-8928-5EDF9BCE5BE1">
<p class="titleinexample">Example 4-9 Viewing a List of All Databases Managed by Oracle Restart</p>
<pre dir="ltr">srvctl config database

dbcrm
orcl
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-E993F3E3-A310-4D52-B577-280ECB56A59B__GUID-DCB05DD6-6C38-4524-9750-CFA49C8CCB96">
<p class="titleinexample">Example 4-10 Viewing the Configuration of a Particular Database</p>
<p>This example displays the configuration of the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">orcl</code>.</p>
<pre dir="ltr">srvctl config database -db orcl

Database unique name: orcl
Database name: orcl
Oracle home: /u01/app/oracle/product/12.1.0/dbhome_1
Oracle user: oracle
Spfile: +DATA/orcl/spfileorcl.ora
Domain: us.example.com
Start options: open
Stop options: immediate
Database role:
Management policy: automatic
Disk Groups: DATA
Services: mfg,sales
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-E993F3E3-A310-4D52-B577-280ECB56A59B__GUID-A9A3F13E-5A90-423C-BA18-A245725DBB96">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12936"></a><a id="ADMIN12734"></a>
<div class="props_rev_3"><a id="GUID-7A9AE5BF-C79E-4ADC-BD12-32079FA1A6B6"></a>
<h3 id="ADMIN-GUID-7A9AE5BF-C79E-4ADC-BD12-32079FA1A6B6" class="sect3"><span class="enumeration_section">4.2.9</span> Modifying the Oracle Restart Configuration for a Component</h3>
<div>
<p>You can use SRVCTL to modify the Oracle Restart configuration of a component. For example, you can modify the port number that a listener listens on when Oracle Restart starts it, or the server parameter file (SPFILE) that Oracle Restart points to when it starts a database.</p>
<div class="section">
<p>To modify the Oracle Restart configuration for a component:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl modify <span class="italic">object</span> <span class="italic">options</span>
</pre>
<p>where <span class="italic"><code class="codeph">object</code></span> is one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-127F4A05-5275-489A-AECF-B29EABBF35B6" title="Modifies the Oracle Restart configuration of a component. The change takes effect when the component is next restarted.">modify</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-7A9AE5BF-C79E-4ADC-BD12-32079FA1A6B6__GUID-A096E5C5-424E-4717-AC5E-533265CAE942">
<p class="titleinexample">Example 4-11 Modifying the Oracle Restart Configuration for a Database</p>
<p>For the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, the following command changes the management policy to <code class="codeph">MANUAL</code> and the start option to <code class="codeph">NOMOUNT</code>.</p>
<pre dir="ltr">srvctl modify database -db dbcrm -policy MANUAL -startoption NOMOUNT
</pre></div>
<!-- class="example" -->
<div class="section">
<p>With a <code class="codeph">MANUAL</code> management policy, the database is never automatically started when the database host computer is restarted. However, Oracle Restart continues to monitor the database and restarts it if a failure occurs.</p>
<div class="infoboxnotealso" id="GUID-7A9AE5BF-C79E-4ADC-BD12-32079FA1A6B6__GUID-E62F570B-B322-49B5-B145-E33D285BC2C2">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-E993F3E3-A310-4D52-B577-280ECB56A59B" title="You can use SRVCTL to view the Oracle Restart configuration for any component. Oracle Restart maintains different configuration information for each component type. In one form of the SRVCTL command, you can obtain a list of components managed by Oracle Restart.">Viewing the Oracle Restart Configuration for a Component</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12735"></a>
<div class="props_rev_3"><a id="GUID-BE1395D5-1C26-471F-8987-FBF73987342F"></a>
<h3 id="ADMIN-GUID-BE1395D5-1C26-471F-8987-FBF73987342F" class="sect3"><span class="enumeration_section">4.2.10</span> Managing Environment Variables in the Oracle Restart Configuration</h3>
<div>
<p>The Oracle Restart configuration can store name/value pairs for environment variables.</p>
</div>
<div class="sect4"><a id="GUID-F8AADEAA-B84E-4982-B5EC-D9B5EA6D9658"></a>
<h4 id="ADMIN-GUID-F8AADEAA-B84E-4982-B5EC-D9B5EA6D9658" class="sect4"><span class="enumeration_section">4.2.10.1</span> About Environment Variables in the Oracle Restart Configuration</h4>
<div>
<p>You can set environment variable values in the Oracle Restart configuration.</p>
<p>If you typically set environment variables (other than <code class="codeph">ORACLE_HOME</code> and <code class="codeph">ORACLE_SID</code>) before starting your Oracle database, then you can set these environment variable values in the Oracle Restart configuration. You can store any number environment variables in the individual configurations of the following components:</p>
<ul style="list-style-type: disc;">
<li>
<p>Database instance</p>
</li>
<li>
<p>Listener</p>
</li>
<li>
<p>Oracle ASM instance</p>
</li>
</ul>
<p>When Oracle Restart starts one of these components, it first sets environment variables for that component to the values stored in the component configuration. Although you can set environment variables that are used by Oracle components in this manner, this capability is primarily intended for operating system environment variables.</p>
<p>The following sections provide instructions for setting, unsetting, and viewing environment variables:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="restart.htm#GUID-3CBD4784-2445-4A44-9754-B481ADEFA970" title="You use SRVCTL to set and unset environment variable values in the Oracle Restart configuration for a component.">Setting and Unsetting Environment Variables</a></p>
</li>
<li>
<p><a href="restart.htm#GUID-822369DE-6C6D-46C8-981C-1217206E762B" title="You use SRVCTL to view the values of environment variables in the Oracle Restart configuration for a component.">Viewing Environment Variables</a></p>
</li>
</ul>
<div class="infobox-note" id="GUID-F8AADEAA-B84E-4982-B5EC-D9B5EA6D9658__GUID-4535D351-32E7-40B1-9211-08D82DC5500D">
<p class="notep1">Note:</p>
<p>Do not use this facility to set standard environment variables like <code class="codeph">ORACLE_HOME</code> and <code class="codeph">ORACLE_SID</code>; these are set automatically by Oracle Restart.</p>
</div>
</div>
</div>
<a id="ADMIN12937"></a><a id="ADMIN12736"></a>
<div class="props_rev_3"><a id="GUID-3CBD4784-2445-4A44-9754-B481ADEFA970"></a>
<h4 id="ADMIN-GUID-3CBD4784-2445-4A44-9754-B481ADEFA970" class="sect4"><span class="enumeration_section">4.2.10.2</span> Setting and Unsetting Environment Variables</h4>
<div>
<p>You use SRVCTL to set and unset environment variable values in the Oracle Restart configuration for a component.</p>
<div class="section">
<p>To set or unset environment variables in the configuration:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Do one of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To set an environment variable in the configuration, enter the following command:</p>
<pre dir="ltr">srvctl setenv {asm|database|listener} <span class="italic">options</span>
</pre></li>
<li>
<p>To remove an environment variable from the configuration, enter the following command:</p>
<pre dir="ltr">srvctl unsetenv {asm|database|listener} <span class="italic">options</span>
</pre></li>
</ul>
<p>See the SRVCTL <a href="restart.htm#GUID-2B8EFD90-9FB9-4E59-825B-29D4BA893ED3" title="The setenv command sets values of environment variables in the Oracle Restart configuration for a database, a listener, or the Oracle ASM instance.">setenv</a> command and the <a href="restart.htm#GUID-37E67B5B-72B9-4D0C-9E69-A44B845F7B31" title="The unsetenv command deletes one or more environment variables from the Oracle Restart configuration for a database, a listener, or an Oracle ASM instance.">unsetenv</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-3CBD4784-2445-4A44-9754-B481ADEFA970__GUID-4B24D0AB-3B2C-412B-889A-A60E3E3429E7">
<p class="titleinexample">Example 4-12 Setting Database Environment Variables</p>
<p>This example sets the <code class="codeph">NLS_LANG</code> and the AIX <code class="codeph">AIXTHREAD_SCOPE</code> environment variables in the Oracle Restart configuration for the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr">srvctl setenv database -db dbcrm -envs &#34;NLS_LANG=AMERICAN_AMERICA.AL32UTF8, 
   AIXTHREAD_SCOPE=S&#34;
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-3CBD4784-2445-4A44-9754-B481ADEFA970__GUID-3EE67573-9C0F-4814-BACF-6A788A92628C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12938"></a><a id="ADMIN12939"></a><a id="ADMIN12737"></a>
<div class="props_rev_3"><a id="GUID-822369DE-6C6D-46C8-981C-1217206E762B"></a>
<h4 id="ADMIN-GUID-822369DE-6C6D-46C8-981C-1217206E762B" class="sect4"><span class="enumeration_section">4.2.10.3</span> Viewing Environment Variables</h4>
<div>
<p>You use SRVCTL to view the values of environment variables in the Oracle Restart configuration for a component.</p>
<div class="section">
<p>To view environment variable values in the configuration:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl getenv {database|listener|asm} <span class="italic">options</span>
</pre>
<p>See the SRVCTL <a href="restart.htm#GUID-F9BECEAF-CB80-4000-88C6-67184FBEF396" title="Gets and displays environment variables and their values from the Oracle Restart configuration for a database, listener, or Oracle ASM instance.">getenv</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-822369DE-6C6D-46C8-981C-1217206E762B__GUID-D07270FD-D9B1-41C5-9CAC-27455DE91526">
<p class="titleinexample">Example 4-13 Viewing All Environment Variables for a Database</p>
<p>This example gets and displays the environment variables in the Oracle Restart configuration for the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr">srvctl getenv database -db dbcrm

dbcrm:
NLS_LANG=AMERICAN_AMERICA
AIXTHREAD_SCOPE=S
GCONF_LOCAL_LOCKS=1
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-822369DE-6C6D-46C8-981C-1217206E762B__GUID-17BCDA31-B5F5-45A3-AC84-4221E48DE283">
<p class="titleinexample">Example 4-14 Viewing Specific Environment Variables for a Database</p>
<p>This example gets and displays the <code class="codeph">NLS_LANG</code> and <code class="codeph">AIXTHREAD_SCOPE</code> environment variables from the Oracle Restart configuration for the same database:</p>
<pre dir="ltr">srvctl getenv database -db dbcrm -envs &#34;NLS_LANG,AIXTHREAD_SCOPE&#34;

dbcrm:
NLS_LANG=AMERICAN_AMERICA
AIXTHREAD_SCOPE=S
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-822369DE-6C6D-46C8-981C-1217206E762B__GUID-8615263E-1B31-44E0-B492-E9FE65EB28DD">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN12940"></a><a id="ADMIN12941"></a><a id="ADMIN12738"></a>
<div class="props_rev_3"><a id="GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80"></a>
<h3 id="ADMIN-GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80" class="sect3"><span class="enumeration_section">4.2.11</span> Creating and Deleting Database Services with SRVCTL</h3>
<div>
<p>When managing a database with Oracle Restart, Oracle recommends that you use SRVCTL to create and delete database services. When you use SRVCTL to add a database service, the service is automatically added to the Oracle Restart configuration and a dependency between the service and the database is established. Thus, if you start the service, Oracle Restart first starts the database if it is not started.</p>
<div class="section">
<p>When you use SRVCTL to delete a database service, the service is also removed from the Oracle Restart configuration.</p>
<p>To create a database service with SRVCTL:</p>
<ol>
<li>
<p>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</p>
</li>
<li>
<p>Enter the following command:</p>
<pre dir="ltr">srvctl add service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name</span> [<span class="italic">options</span>]
</pre>
<p>The database service is created and added to the Oracle Restart configuration. See the <a href="restart.htm#GUID-802E24A9-F823-4942-804E-0ABBD97943D1" title="Adds a database service to the Oracle Restart configuration.">srvctl add service</a> command for available options.</p>
</li>
</ol>
<p><span class="bold">To delete a database service with SRVCTL:</span></p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl remove service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name</span> [-force]
</pre>
<p>The database service is removed from the Oracle Restart configuration. If the <code class="codeph">-force</code> flag is present, the service is removed even if it is still running. Without this flag, an error occurs if the service is running.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80__GUID-EEE9655F-3E0D-4C1C-8BD9-F1541A54E8B7">
<p class="titleinexample">Example 4-15 Creating a Database Service</p>
<p>For the database with the <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, this example creates a new database service named <code class="codeph">crmbatch</code>.</p>
<pre dir="ltr">srvctl add service -db dbcrm -service crmbatch
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80__GUID-C5458E96-A524-498E-86FA-397F765FB877">
<p class="titleinexample">Example 4-16 Creating a Role-Based Database Service</p>
<p>This example creates the <code class="codeph">crmbatch</code> database service and assigns it the Data Guard role of <code class="codeph">PHYSICAL_STANDBY</code>. The service is automatically started only if the current role of the <code class="codeph">dbcrm</code> database is physical standby.</p>
<pre dir="ltr">srvctl add service -db dbcrm -service crmbatch -role PHYSICAL_STANDBY
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80__GUID-88D82203-90B1-4C8B-9C65-4AD3AF6FE030">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13312"></a>
<div class="props_rev_3"><a id="GUID-D9F8A076-E9B7-430F-B078-0AC844DAE49A"></a>
<h3 id="ADMIN-GUID-D9F8A076-E9B7-430F-B078-0AC844DAE49A" class="sect3"><span class="enumeration_section">4.2.12</span> Enabling FAN Events in an Oracle Restart Environment</h3>
<div>
<p>To enable Oracle Restart to publish Fast Application Notification (FAN) events, you must create an Oracle Notification Services (ONS) network that includes the Oracle Restart servers and the integrated clients.</p>
<div class="section">
<p>These clients can include Oracle Connection Manager (CMAN), Java Database Connectivity (JDBC), and Universal Connection Pool (UCP) clients. If you are using Oracle Call Interface or ODP.NET clients, then you must enable Oracle Advanced Queuing (AQ) HA notifications for your services. In addition, ONS must be running on the server.</p>
<p>To enable FAN events in an Oracle Restart environment:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Add the database to the Oracle Restart Configuration if it is not already managed by Oracle Restart. See <span class="q">&#34;<a href="restart.htm#GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9" title="In most cases, creating an Oracle component on a host that is running Oracle Restart automatically adds the component to the Oracle Restart configuration. However, in some cases, you must add components manually.">Adding Components to the Oracle Restart Configuration</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Add ONS to the configuration:</span>
<div>
<pre dir="ltr">srvctl add ons
</pre>
<p>ONS is disabled when it is added.</p>
</div>
</li>
<li class="stepexpand"><span>Enable ONS:</span>
<div>
<pre dir="ltr">srvctl enable ons
</pre></div>
</li>
<li class="stepexpand"><span>Start ONS:</span>
<div>
<pre dir="ltr">srvctl start ons
</pre></div>
</li>
<li class="stepexpand"><span>Add the service to the Oracle Restart Configuration.</span>
<div>
<p>For Oracle Call Interface and ODP.NET clients, ensure that the <code class="codeph">-notification</code> option is set to <code class="codeph">TRUE</code> to enable the database queue.</p>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80" title="When managing a database with Oracle Restart, Oracle recommends that you use SRVCTL to create and delete database services. When you use SRVCTL to add a database service, the service is automatically added to the Oracle Restart configuration and a dependency between the service and the database is established. Thus, if you start the service, Oracle Restart first starts the database if it is not started.">Creating and Deleting Database Services with SRVCTL</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Enable each client for fast connection failover. See <span class="q">&#34;<a href="restart.htm#GUID-898AD343-DCF1-455B-9FD1-7E6100328C83" title="Fast Connection Failover provides high availability to Fast Application Notification (FAN) integrated clients, such as clients that use JDBC, OCI, or ODP.NET. If you configure the client to use fast connection failover, then the client automatically subscribes to FAN events and can react to database&nbsp;UP&nbsp;and&nbsp;DOWN&nbsp;events. In response, Oracle Database gives the client a connection to an active instance that provides the requested database service.">Enabling Clients for Fast Connection Failover</a>&#34;</span>.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-D9F8A076-E9B7-430F-B078-0AC844DAE49A__GUID-E544FB2B-6274-4C58-AFCE-B57B23C25C5C">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13192"></a>
<div class="props_rev_3"><a id="GUID-44F0F777-91C4-48A2-8833-44375A9232FF"></a>
<h3 id="ADMIN-GUID-44F0F777-91C4-48A2-8833-44375A9232FF" class="sect3"><span class="enumeration_section">4.2.13</span> Automating the Failover of Connections Between Primary and Standby Databases</h3>
<div>
<p>In a configuration that uses Oracle Restart and Oracle Data Guard primary and standby databases, the database services fail over automatically from the primary to the standby during either a switchover or failover.</p>
<div class="section">
<p>You can use Oracle Notification Services (ONS) to immediately notify clients of the failover of services between the primary and standby databases. The Oracle Data Guard Broker uses Fast Application Notification (FAN) to send notifications to clients when a failover occurs. Integrated Oracle clients automatically failover connections and applications can mask the failure from end-users.</p>
<p>To automate connection failover, you must create an ONS network that includes the Oracle Restart servers and the integrated clients (CMAN, listener, JDBC, and UCP). If you are using Oracle Call Interface or ODP.NET clients, you must enable the Oracle Advanced Queuing queue. The database and the services must be managed by Oracle Restart and the Oracle Data Guard Broker to automate the failover of services.</p>
<p><span class="bold">To automate the failover of services between primary and standby databases:</span></p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Configure the primary and standby database with the Oracle Data Guard Broker. See <a class="olink DGBKR330" target="_blank" href="../DGBKR/sofo.htm#DGBKR330"><span class="italic">Oracle Data Guard Broker</span></a>.</span></li>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Add the primary database to the Oracle Restart configuration on the primary server if it has not been added. Ensure that you specify <code class="codeph">PRIMARY</code> for the database role. See <span class="q">&#34;<a href="restart.htm#GUID-A42F0C32-6A15-4876-9DA9-E064A80219D9" title="In most cases, creating an Oracle component on a host that is running Oracle Restart automatically adds the component to the Oracle Restart configuration. However, in some cases, you must add components manually.">Adding Components to the Oracle Restart Configuration</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Add the standby database to the Oracle Restart configuration on the standby server if it has not been added. Ensure that you specify the appropriate standby database role.</span></li>
<li class="stepexpand"><span>Enable FAN events on both the primary database server and the standby database server. <span class="q">&#34;<a href="restart.htm#GUID-D9F8A076-E9B7-430F-B078-0AC844DAE49A" title="To enable Oracle Restart to publish Fast Application Notification (FAN) events, you must create an Oracle Notification Services (ONS) network that includes the Oracle Restart servers and the integrated clients.">Enabling FAN Events in an Oracle Restart Environment</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Add the services that clients will use to connect to the databases to the Oracle Restart configuration on the primary database and the standby database. When you add a service, ensure that:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">-role</code> option is set to the proper role for each service</p>
</li>
<li>
<p>The <code class="codeph">-notification</code> option is set to <code class="codeph">TRUE</code> if you are using ODP.NET or Oracle Call Interface</p>
</li>
</ul>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-3A3A2B85-73E0-4004-B8F2-00B863FFFC80" title="When managing a database with Oracle Restart, Oracle recommends that you use SRVCTL to create and delete database services. When you use SRVCTL to add a database service, the service is automatically added to the Oracle Restart configuration and a dependency between the service and the database is established. Thus, if you start the service, Oracle Restart first starts the database if it is not started.">Creating and Deleting Database Services with SRVCTL</a>&#34;</span>.</p>
</div>
</li>
<li class="stepexpand"><span>Enable each client for fast connection failover. See <span class="q">&#34;<a href="restart.htm#GUID-898AD343-DCF1-455B-9FD1-7E6100328C83" title="Fast Connection Failover provides high availability to Fast Application Notification (FAN) integrated clients, such as clients that use JDBC, OCI, or ODP.NET. If you configure the client to use fast connection failover, then the client automatically subscribes to FAN events and can react to database&nbsp;UP&nbsp;and&nbsp;DOWN&nbsp;events. In response, Oracle Database gives the client a connection to an active instance that provides the requested database service.">Enabling Clients for Fast Connection Failover</a>&#34;</span>.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-44F0F777-91C4-48A2-8833-44375A9232FF__GUID-6A1303BB-0BBA-4CC8-A888-9721835A9C68">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13193"></a>
<div class="props_rev_3"><a id="GUID-898AD343-DCF1-455B-9FD1-7E6100328C83"></a>
<h3 id="ADMIN-GUID-898AD343-DCF1-455B-9FD1-7E6100328C83" class="sect3"><span class="enumeration_section">4.2.14</span> Enabling Clients for Fast Connection Failover</h3>
<p>Fast Connection Failover provides high availability to Fast Application Notification (FAN) integrated clients, such as clients that use JDBC, OCI, or ODP.NET. If you configure the client to use fast connection failover, then the client automatically subscribes to FAN events and can react to database&nbsp;UP&nbsp;and&nbsp;DOWN&nbsp;events. In response, Oracle Database gives the client a connection to an active instance that provides the requested database service.</p>
<div class="sect4"><a id="GUID-6AE08AAE-AC06-4E96-A5F4-FD4D12472259"></a>
<h4 id="ADMIN-GUID-6AE08AAE-AC06-4E96-A5F4-FD4D12472259" class="sect4"><span class="enumeration_section">4.2.14.1</span> About Enabling Clients for Fast Connection Failover</h4>
<div>
<p>In a configuration with a standby database, after you have added Oracle Notification Services (ONS) to your Oracle Restart configurations and enabled Oracle Advanced Queuing (AQ) HA notifications for your services, you can enable clients for fast connection failover.</p>
<p>The clients receive Fast Application Notification (FAN) events and can relocate connections to the current primary database after an Oracle Data Guard failover. See <span class="q">&#34;<a href="restart.htm#GUID-44F0F777-91C4-48A2-8833-44375A9232FF" title="In a configuration that uses Oracle Restart and Oracle Data Guard primary and standby databases, the database services fail over automatically from the primary to the standby during either a switchover or failover.">Automating the Failover of Connections Between Primary and Standby Databases</a>&#34;</span> for information about adding ONS.</p>
<p>For databases with no standby database configured, you can still configure the client FAN events. When there is a failure, you can configure the client to retry the connection to the database. Since Oracle Restart will restart the failed database, the client can reconnect when the database restarts. Ensure that you program the appropriate delay and retries on the connection string, as illustrated in the examples in this section.</p>
</div>
</div>
<a id="ADMIN13194"></a>
<div class="props_rev_3"><a id="GUID-732B811B-8FB0-418C-8ED0-66720667788F"></a>
<h4 id="ADMIN-GUID-732B811B-8FB0-418C-8ED0-66720667788F" class="sect4"><span class="enumeration_section">4.2.14.2</span> Enabling Fast Connection Failover for JDBC Clients</h4>
<div>
<p>Enabling FAN for the Oracle Universal Connection Pool enables Fast Connection Failover (FCF) for the client. Your application can use either thick or thin JDBC clients to use FCF.</p>
<div class="section">
<p>To configure the JDBC client, set the <code class="codeph">FastConnectionFailoverEnabled</code> property before making the first <code class="codeph">getConnection()</code> request to a data source. When you enable Fast Connection Failover, the failover applies to every connection in the connection cache. If your application explicitly creates a connection cache using the Connection Cache Manager, then you must first set <code class="codeph">FastConnectionFailoverEnabled</code>.</p>
<p>This section describes how to enable FCF for JDBC with the Universal Connection Pool. For thick JDBC clients, if you enable Fast Connection Failover, do not enable Transparent Application Failover (TAF), either on the client or for the service. Enabling FCF with thin or thick JDBC clients enables the connection pool to receive and react to all FAN events.</p>
<p>To enable Fast Connection Failover for JDBC clients:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On a cache enabled DataSource, set the DataSource property <code class="codeph">FastConnectionFailoverEnabled</code> to <code class="codeph">true</code> as in the following example to enable FAN for the Oracle JDBC Implicit Connection Cache:</span>
<div>
<pre dir="ltr">PoolDataSource pds = PoolDataSourceFactory.getPoolDataSource();
pds.setONSConfiguration(&#34;nodes=primaryhost:6200,standbyhost:6200&#34;);
pds.setFastConnectionFailoverEnabled(true);
pds.setURL(&#34;jdbc:oracle:thin:@(DESCRIPTION= 
  (LOAD_BALANCE=on) 
  (ADDRESS=(PROTOCOL=TCP)(HOST=primaryhost)(PORT=1521)) 
  (ADDRESS=(PROTOCOL=TCP)(HOST=standbyhost)(PORT=1521))
  (CONNECT_DATA=(service_name=service_name)))&#34;);

......
</pre>
<p>In this example, <code class="codeph">primaryhost</code> is the server for the primary database, and <code class="codeph">standbyhost</code> is the server for the standby database.</p>
<p>Applications must have both ucp.jar and ons.jar in their <code class="codeph">CLASSPATH</code>.</p>
<div class="infobox-note" id="GUID-732B811B-8FB0-418C-8ED0-66720667788F__GUID-2C89FC95-1CCB-4B6D-9800-026B4E93D926">
<p class="notep1">Note:</p>
<p>Use the following system property to enable FAN without making data source changes: <code class="codeph">-D</code> <code class="codeph">oracle.jdbc.FastConnectionFailover=true</code>.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>When you start the application, ensure that the ons.jar file is located on the application <code class="codeph">CLASSPATH</code>. The ons.jar file is part of the Oracle client installation.</span></li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-732B811B-8FB0-418C-8ED0-66720667788F__GUID-958851BD-3C9E-46D9-8CCF-4815B11610A1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink JJDBC29142" target="_blank" href="../JJDBC/release_changes.htm#JJDBC29142"><span class="italic">Oracle Database JDBC Developer&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink JJUCP08100" target="_blank" href="../JJUCP/rac.htm#JJUCP08100"><span><cite>Oracle Universal Connection Pool for JDBC Developer&rsquo;s Guide</cite></span></a></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13195"></a>
<div class="props_rev_3"><a id="GUID-E50A656C-45DF-439B-97E7-2299D32CB8CE"></a>
<h4 id="ADMIN-GUID-E50A656C-45DF-439B-97E7-2299D32CB8CE" class="sect4"><span class="enumeration_section">4.2.14.3</span> Enabling Fast Connection Failover for Oracle Call Interface Clients</h4>
<div>
<p>Oracle Call Interface clients can enable Fast Connection Failover (FCF) by registering to receive notifications about Oracle Restart high availability FAN events and respond when events occur.</p>
<div class="section">
<p>This improves the session failover response time in Oracle Call Interface and removes terminated connections from connection and session pools. This feature works on Oracle Call Interface applications, including those that use Transparent Application Failover (TAF), connection pools, or session pools.</p>
<p>First, you must enable a service for high availability events to automatically populate the Advanced Queuing <code class="codeph">ALERT_QUEUE</code>. If your application is using TAF, then enable the TAF settings for the service. Configure client applications to connect to an Oracle Restart database. Clients can register callbacks that are used whenever an event occurs. This reduces the time that it takes to detect a connection failure.</p>
<p>During <code class="codeph">DOWN</code> event processing, Oracle Call Interface:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Terminates affected connections at the client and returns an error</p>
</li>
<li>
<p>Removes connections from the Oracle Call Interface connection pool and the Oracle Call Interface session pool</p>
<p>The session pool maps each session to a physical connection in the connection pool, and there can be multiple sessions for each connection.</p>
</li>
<li>
<p>Fails over the connection if you have configured TAF</p>
</li>
</ul>
<p>If TAF is not configured, then the client only receives an error.</p>
<div class="infobox-note" id="GUID-E50A656C-45DF-439B-97E7-2299D32CB8CE__GUID-46B11727-E4D6-41EA-9FD5-1B1F6ACE7099">
<p class="notep1">Note:</p>
<p>Oracle Call Interface does not manage <code class="codeph">UP</code> events.</p>
</div>
<p>To Enable Fast Connection Failover for an Oracle Call Interface client:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that the service that you are using has Advanced Queuing notifications enabled by setting the services&#39; values using the SRVCTL <code class="codeph">modify</code> command. For example:</span>
<div>
<pre dir="ltr">srvctl modify service -db proddb -service gl.us.example.com -notification 
true -role primary -failovertype select -failovermethod basic -failoverretry 5 
-failoverdelay 180 -clbgoal long
</pre></div>
</li>
<li class="stepexpand"><span>Enable <code class="codeph">OCI_EVENTS</code> at environment creation time on the client as follows:</span>
<div>
<pre dir="ltr">( OCIEnvCreate(...) )
</pre></div>
</li>
<li class="stepexpand"><span>Link client applications with the client thread or operating system library.</span></li>
<li class="stepexpand"><span>(Optional) Register a client <code class="codeph">EVENT</code> callback.</span></li>
<li class="stepexpand"><span>Ensure that the client uses an Oracle Net connect descriptor that includes all primary and standby hosts in the <code class="codeph">ADDRESS_LIST</code>. For example:</span>
<div>
<pre dir="ltr">gl =
(DESCRIPTION =
 (CONNECT_TIMEOUT=10)(RETRY_COUNT=3)
   (ADDRESS_LIST =
     (ADDRESS = (PROTOCOL = TCP)(HOST = BOSTON1)(PORT = 1521))
     (ADDRESS = (PROTOCOL = TCP)(HOST = CHICAGO1)(PORT = 1521))
     (LOAD_BALANCE = yes)
)
(CONNECT_DATA=
  (SERVICE_NAME=gl.us.example.com)))
</pre></div>
</li>
</ol>
<div class="section">
<p>To see the alert information, query the views <code class="codeph">DBA_OUTSTANDING_ALERTS</code> and <code class="codeph">DBA_ALERT_HISTORY</code>.</p>
<div class="infoboxnotealso" id="GUID-E50A656C-45DF-439B-97E7-2299D32CB8CE__GUID-B2C2BB4D-2B5E-42EF-BDC2-D59047FF8EFF">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink LNOCI16679" target="_blank" href="../LNOCI/oci09adv.htm#LNOCI16679"><span class="italic">Oracle Call Interface Programmer&#39;s Guide</span></a></p>
</li>
<li>
<p><a class="olink NETAG455" target="_blank" href="../NETAG/advcfg.htm#NETAG455"><span class="italic">Oracle Database Net Services Administrator&#39;s Guide</span></a> for information about configuring TAF</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13196"></a>
<div class="props_rev_3"><a id="GUID-E16DA02A-EFA2-4ADF-B030-C4B8403BE10D"></a>
<h4 id="ADMIN-GUID-E16DA02A-EFA2-4ADF-B030-C4B8403BE10D" class="sect4"><span class="enumeration_section">4.2.14.4</span> Enabling Fast Connection Failover for ODP.NET Clients</h4>
<div>
<p>Oracle Data Provider for .NET (ODP.NET) connection pools can subscribe to notifications that indicate when services are down. After a <code class="codeph">DOWN</code> event, Oracle Database cleans up sessions in the connection pool that go to the instance that stops, and ODP.NET proactively disposes connections that are no longer valid.</p>
<div class="section">
<p>To enable Fast Connection Failover for ODP.NET clients:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Enable Advanced Queuing notifications by using SRVCTL <code class="codeph">modify</code> <code class="codeph">service</code> command, as in the following example:</span>
<div>
<pre dir="ltr">srvctl modify service &ndash;db dbname &ndash;service gl -notification true -clbgoal long
</pre></div>
</li>
<li class="stepexpand"><span>Execute the following for the users that will be connecting by way of the .Net Application, where <span class="italic"><code class="codeph">user_name</code></span> is the user name:</span>
<div>
<pre dir="ltr">execute DBMS_AQADM.GRANT_QUEUE_PRIVILEGE(&#39;DEQUEUE&#39;,&#39;SYS.SYS$SERVICE_METRICS&#39;, <span class="italic">user_name</span>);
</pre></div>
</li>
<li class="stepexpand"><span>Enable Fast Connection Failover for ODP.NET connection pools by subscribing to FAN high availability events. Set the <code class="codeph">HA</code> events connection string attribute to true at connection time. The pooling attribute must be set to <code class="codeph">true</code>, which is the default. The following example illustrates these settings, where <span class="italic"><code class="codeph">user_name</code></span> is the name of the user and <span class="italic"><code class="codeph">password</code></span> is the user password:</span>
<div>
<pre dir="ltr">// C#
using System;
using Oracle.DataAccess.Client;
 
class HAEventEnablingSample
{
  static void Main()
  {
    OracleConnection con = new OracleConnection();
 
    // Open a connection using ConnectionString attributes
    // Also, enable &#34;load balancing&#34;
    con.ConnectionString =
      &#34;User Id=<span class="italic">user_name</span>;Password=<span class="italic">password</span>;Data Source=oracle;&#34; +
      &#34;Min Pool Size=10;Connection Lifetime=120;Connection Timeout=60;&#34; +
      &#34;HA Events=true;Incr Pool Size=5;Decr Pool Size=2&#34;;
 
    con.Open();
 
    // Create more connections and perform work against the database here.
 
    // Dispose OracleConnection object
    con.Dispose();
  }
}
</pre></div>
</li>
<li class="stepexpand"><span>Ensure that the client uses an Oracle Net connect descriptor that includes all primary and standby hosts in the <code class="codeph">ADDRESS_LIST</code>. For example:</span>
<div>
<pre dir="ltr">gl =
(DESCRIPTION =
 (CONNECT_TIMEOUT=10)(RETRY_COUNT=3)
   (ADDRESS_LIST =
     (ADDRESS = (PROTOCOL = TCP)(HOST = BOSTON1)(PORT = 1521))
     (ADDRESS = (PROTOCOL = TCP)(HOST = CHICAGO1)(PORT = 1521))
     (LOAD_BALANCE = yes)
)
(CONNECT_DATA=
  (SERVICE_NAME=gl.us.example.com)))
</pre></div>
</li>
</ol>
<div class="section">
<div class="infoboxnotealso" id="GUID-E16DA02A-EFA2-4ADF-B030-C4B8403BE10D__GUID-F224EA2F-3F26-4559-8334-ABCD17948C81">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ODPNT8181" target="_blank" href="../ODPNT/featRAC.htm#ODPNT8181"><span class="italic">Oracle Data Provider for .NET Developer&#39;s Guide for Microsoft Windows</span></a> for information about ODP.NET</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="ADMIN12942"></a><a id="ADMIN12943"></a><a id="ADMIN12944"></a><a id="ADMIN12945"></a><a id="ADMIN12946"></a><a id="ADMIN12947"></a><a id="ADMIN12948"></a><a id="ADMIN12949"></a><a id="ADMIN12725"></a>
<div class="props_rev_3"><a id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E"></a>
<h2 id="ADMIN-GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" class="sect2"><span class="enumeration_section">4.3</span> Starting and Stopping Components Managed by Oracle Restart</h2>
<div>
<p>When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.</p>
<div class="section">
<p>Use the SRVCTL utility to start and stop components for the following reasons:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>When starting a component with SRVCTL, Oracle Restart can first start any components on which this component depends. When stopping a component with SRVCTL, Oracle Restart can stop any dependent components first.</p>
</li>
<li>
<p>SRVCTL always starts a component according to its Oracle Restart configuration. Starting a component by other means may not.</p>
<p>For example, if you specified a server parameter file (SPFILE) location when you added a database to the Oracle Restart configuration, and that location is not the default location for SPFILEs, if you start the database with SQL*Plus, the SPFILE specified in the configuration may not be used.</p>
<p>See the <a href="restart.htm#GUID-7DC7335D-4246-4FCB-BED5-8CA9027DBC11" title="Adds a database to the Oracle Restart configuration.">srvctl add database</a> command for a table of configuration options for a database instance.</p>
</li>
<li>
<p>When you start a component with SRVCTL, environment variables stored in the Oracle Restart configuration for the component are set.</p>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-BE1395D5-1C26-471F-8987-FBF73987342F" title="The Oracle Restart configuration can store name/value pairs for environment variables.">Managing Environment Variables in the Oracle Restart Configuration</a>&#34;</span> for more information.</p>
</li>
</ul>
<p>You can start and stop any component managed by Oracle Restart with SRVCTL.</p>
<p>To start or stop a component managed by Oracle Restart with SRVCTL:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Do one of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>To start a component, enter the following command:</p>
<pre dir="ltr">srvctl start <span class="italic">object</span> [<span class="italic">options</span>]
</pre></li>
<li>
<p>To stop a component, enter the following command:</p>
<pre dir="ltr">srvctl stop <span class="italic">object</span> [<span class="italic">options</span>]
</pre></li>
</ul>
<p>where <span class="italic"><code class="codeph">object</code></span> is one of the components listed in <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a>. See the SRVCTL <a href="restart.htm#GUID-14F76C55-25CC-4AF9-98C8-392C06861DDD" title="Starts the specified component or components.">start</a> command and the <a href="restart.htm#GUID-F1874CB6-96D6-4B84-9478-0482F20E48E9" title="Stops the specified component or components.">stop</a> command for available options for each component.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-7EEABD75-273F-4025-94B5-D4D3E6407D90">
<p class="titleinexample">Example 4-17 Starting a Database</p>
<p>This example starts the database with a <code class="codeph">DB_UNIQUE_NAME</code> of dbcrm:</p>
<pre dir="ltr">srvctl start database -db dbcrm
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-83B84561-D261-4C31-9991-0CC732439CFE">
<p class="titleinexample">Example 4-18 Starting a Database NOMOUNT</p>
<p>This example starts the database instance without mounting the database:</p>
<pre dir="ltr">srvctl start database -db dbcrm -startoption nomount
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-BE717BA6-099F-42CF-BBD0-8D2E4F21683F">
<p class="titleinexample">Example 4-19 Starting the Default Listener</p>
<p>This example starts the default listener:</p>
<pre dir="ltr">srvctl start listener
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-507186FD-852B-407B-8768-DF1CE1EF09A3">
<p class="titleinexample">Example 4-20 Starting a Specified Listener</p>
<p>This example starts the listener named <code class="codeph">crmlistener</code>:</p>
<pre dir="ltr">srvctl start listener -listener crmlistener
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-F908E616-93C0-4FD6-B8D2-F55D7CD21191">
<p class="titleinexample">Example 4-21 Starting Database Services</p>
<p>This example starts the database services <code class="codeph">bizdev</code> and <code class="codeph">support</code> for the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>. If the database is not started, Oracle Restart first starts the database.</p>
<pre dir="ltr">srvctl start service -db dbcrm -service &#34;bizdev,support&#34;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-80926EC2-304A-47E6-A6E0-6CF81CCB50AD">
<p class="titleinexample">Example 4-22 Starting (Mounting) Oracle ASM Disk Groups</p>
<p>This example starts (mounts) the Oracle ASM disk groups <code class="codeph">data</code> and <code class="codeph">recovery</code>. The user running this command must be a member of the OSASM group.</p>
<pre dir="ltr">srvctl start diskgroup -diskgroup &#34;data,recovery&#34;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-65C347C9-B704-4C82-B64B-870B18911E91">
<p class="titleinexample">Example 4-23 Shutting Down a Database</p>
<p>This example stops (shuts down) the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>. Because a stop option (<code class="codeph">-stopoption</code>) is not provided, the database shuts down according to the stop option in its Oracle Restart configuration. The default stop option is <code class="codeph">IMMEDIATE</code>.</p>
<pre dir="ltr">srvctl stop database -db dbcrm
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-12E64750-FB65-4C5C-AF32-AB961A84405A">
<p class="titleinexample">Example 4-24 Shutting Down a Database with the ABORT option</p>
<p>This example does a <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> of the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>.</p>
<pre dir="ltr">srvctl stop database -db dbcrm -stopoption abort
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infobox-note" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-18E20436-8FCD-4D94-8D02-90E28A9797D8">
<p class="notep1">Note:</p>
<p>After relinking Oracle executables, use the SRVCTL utility to start and stop components when Oracle Restart is in use. Typically, relinking Oracle executables is required on a Linux or UNIX-based operating system after you apply an operating system patch or after an operating system upgrade. See <a class="olink UNXAR154" target="_blank" href="../UNXAR/cnfg_prd.htm#UNXAR154"><span class="italic">Oracle Database Administrator&#39;s Reference for Linux and UNIX-Based Operating Systems</span></a> for more information about relinking.</p>
<p>If you use SQL*Plus to start and stop components, then you must first run the setasmgidwrap script after relinking. See <a class="olink UPGRD12408" target="_blank" href="../UPGRD/upgrade.htm#UPGRD12408"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about running this script.</p>
</div>
<div class="infoboxnotealso" id="GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E__GUID-B0CED272-6C22-4DB6-BE10-D571F32E1EB2">
<p class="notep1">See Also:</p>
<p>The SRVCTL <a href="restart.htm#GUID-14F76C55-25CC-4AF9-98C8-392C06861DDD" title="Starts the specified component or components.">start</a> command</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13200"></a><a id="ADMIN13201"></a><a id="ADMIN13202"></a><a id="ADMIN13199"></a>
<div class="props_rev_3"><a id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393"></a>
<h2 id="ADMIN-GUID-B7E59F89-F386-433A-9886-D7E5E8557393" class="sect2"><span class="enumeration_section">4.4</span> Stopping and Restarting Oracle Restart for Maintenance Operations</h2>
<div>
<p>When several components in an Oracle home are managed by Oracle Restart, you can stop Oracle Restart and the components managed by Oracle Restart in the Oracle home.</p>
<div class="section">
<p>You can also disable Oracle Restart so that it is not restarted if the node reboots. You might need to do this when you are performing maintenance that includes the Oracle home, such as installing a patch. When the maintenance operation is complete, you can enable and restart Oracle Restart, and you can restart the components managed by Oracle Restart in the Oracle home.</p>
<p>Use both the SRVCTL utility and the CRSCTL utility for the stop and start operations:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">stop</code> <code class="codeph">home</code> SRVCTL command stops all of the components that are managed by Oracle Restart in the specified Oracle home. The <code class="codeph">start</code> <code class="codeph">home</code> SRVCTL command starts these components. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.</p>
<p>When you use the <code class="codeph">home</code> object, a state file, specified in the <code class="codeph">-statefile</code> option, tracks the state of each component. The <code class="codeph">stop</code> and <code class="codeph">status</code> commands create the state file. The <code class="codeph">start</code> command uses the state file to identify the components to restart.</p>
<p>In addition, you can check the status of the components managed by Oracle Restart using the <code class="codeph">status</code> <code class="codeph">home</code> command.</p>
</li>
<li>
<p>The <code class="codeph">stop</code> CRSCTL command stops Oracle Restart, and the <code class="codeph">disable</code> CRSCTL command ensures that the components managed by Oracle Restart do not restart automatically. The <code class="codeph">enable</code> CRSCTL command enables automatic restart and the <code class="codeph">start</code> CRSCTL command restarts Oracle Restart.</p>
</li>
</ul>
<p>To stop and start the components in an Oracle home while installing a patch:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHCECCI"><span>Use the SRVCTL utility to stop the components managed by Oracle Restart in an Oracle home:</span>
<div>
<pre dir="ltr">srvctl stop home -oraclehome <span class="italic">oracle_home</span> -statefile <span class="italic">state_file</span> [-stopoption <span class="italic">stop_options</span>] [-force]
</pre>
<p>where <span class="italic"><code class="codeph">oracle_home</code></span> is the complete path of the Oracle home and <span class="italic"><code class="codeph">state_file</code></span> is the complete path to the state file. State information for the Oracle home is recorded in the specified state file. Make a note of the state file location because it must be specified in Step <a href="restart.htm#GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHFHECC">7</a>.</p>
<p>Before stopping the components in an Oracle Grid Infrastructure home, ensure that you first stop the components in a dependent Oracle Database home.</p>
</div>
</li>
<li class="stepexpand"><span>If you are patching an Oracle Grid Infrastructure home, then disable and stop Oracle Restart. Otherwise, go to Step <a href="restart.htm#GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHJBEJJ">4</a>.</span>
<div>
<p>To disable and stop Oracle Restart, use the CRSCTL utility to run the following commands:</p>
<pre dir="ltr">crsctl disable has

crsctl stop has
</pre></div>
</li>
<li class="stepexpand" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHJBEJJ"><span>Perform the maintenance operation.</span></li>
<li class="stepexpand"><span>Use the CRSCTL utility to enable automatic restart of the components managed by Oracle Restart:</span>
<div>
<pre dir="ltr">crsctl enable has
</pre></div>
</li>
<li class="stepexpand"><span>Use the CRSCTL utility to start Oracle Restart:</span>
<div>
<pre dir="ltr">crsctl start has
</pre></div>
</li>
<li class="stepexpand" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHFHECC"><span>Use the SRVCTL utility to start the components that were stopped in Step <a href="restart.htm#GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHCECCI">2</a>:</span>
<div>
<pre dir="ltr">srvctl start home -oraclehome <span class="italic">oracle_home</span> -statefile <span class="italic">state_file</span>
</pre>
<p>The state file must match the state file specified in Step <a href="restart.htm#GUID-B7E59F89-F386-433A-9886-D7E5E8557393__CIHCECCI">2</a>.</p>
</div>
</li>
<li class="stepexpand"><span>(Optional) Use the SRVCTL utility to check the status of the components managed by Oracle Restart in the Oracle home:</span>
<div>
<pre dir="ltr">srvctl status home -oraclehome <span class="italic">oracle_home</span> -statefile <span class="italic">state_file</span>
</pre></div>
</li>
</ol>
<div class="example" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__GUID-DF9648FD-626D-4259-A965-B97918D1DFE6">
<p class="titleinexample">Example 4-25 Stopping Components Managed by Oracle Restart in an Oracle Home</p>
<pre dir="ltr">srvctl stop home -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1 -statefile /usr1/or_state
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__GUID-D33857CC-4CDF-4EA9-8CF6-8ECCEE4A675D">
<p class="titleinexample">Example 4-26 Starting Components Managed by Oracle Restart in an Oracle Home</p>
<pre dir="ltr">srvctl start home -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1 -statefile /usr1/or_state
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__GUID-6C4D2EAF-4A98-489D-A2CB-2F8B01EF837D">
<p class="titleinexample">Example 4-27 Displaying the Status of Components Managed by Oracle Restart in an Oracle Home</p>
<pre dir="ltr">srvctl status home -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1 -statefile /usr1/or_state
</pre></div>
<!-- class="example" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-B7E59F89-F386-433A-9886-D7E5E8557393__GUID-4AA66417-2DBB-43A1-8237-0E428C696A76">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>The <a href="restart.htm#GUID-194719C4-98B2-447A-BCD2-1FD77888F356" title="Stops all of the components that are managed by Oracle Restart in the specified Oracle home. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.">srvctl stop home</a> command</p>
</li>
<li>
<p>The <a href="restart.htm#GUID-386A46C8-376B-4AA9-B8FF-0F9B7139DDE0" title="Displays the running status of all of the components that are managed by Oracle Restart in the specified Oracle home. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.">srvctl status home</a> command</p>
</li>
<li>
<p>The <a href="restart.htm#GUID-179FFD88-9106-4E29-8CC5-6375A8EBA402" title="Starts all of the components that are managed by Oracle Restart in the specified Oracle home. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.">srvctl start home</a> command</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-1713154B-C050-4721-B29A-C2DE2C905C85" title="You can reference details about the syntax for the CRSCTL commands that are relevant for Oracle Restart.">CRSCTL Command Reference</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12739"></a><a id="ADMIN12832"></a><a id="ADMIN14135"></a><a id="ADMIN12950"></a><a id="ADMIN12740"></a><a id="ADMIN12951"></a><a id="ADMIN12726"></a>
<div class="sect2"><a id="GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8"></a>
<h2 id="ADMIN-GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" class="sect2"><span class="enumeration_section">4.5</span> SRVCTL Command Reference for Oracle Restart</h2>
<div>
<p>You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.</p>
<p>See <a class="olink RACAD5006" target="_blank" href="../RACAD/GUID-C2D37BAB-DA98-49B4-A777-F2B3AA8D2E7A.htm#RACAD5006"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for the full list of SRVCTL commands.</p>
<div class="section">
<p class="subhead2">SRVCTL Command Syntax and Options Overview</p>
</div>
<!-- class="section" -->
<p><a id="d46844e5533" class="indexterm-anchor"></a><a id="d46844e5537" class="indexterm-anchor"></a>SRVCTL expects the following command syntax:</p>
<pre dir="ltr">srvctl <span class="italic">command</span> <span class="italic">object</span> <span class="italic">options</span>
</pre>
<p>where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">command</code></span> is a verb such as <code class="codeph">start</code>, <code class="codeph">stop</code>, or <code class="codeph">remove</code>.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">object</code></span> is the component on which SRVCTL performs the command, such as database, listener, and so on. You can also use component abbreviations. See <a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a> for a complete list of components and their abbreviations.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">options</code></span> extend the use of a preceding command combination to include additional parameters for the command. For example, the <code class="codeph">-db</code> option indicates that a database unique name follows, and the <code class="codeph">-service</code> option indicates that a comma-delimited list of database service names follows.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__GUID-1375CC21-26B9-4492-A90E-22EE144C04AD">
<p class="notep1">Note:</p>
<p>On the Windows platform, when specifying a comma-delimited list, you must enclose the list within double-quotes (&#34;...,...&#34;). You must also use double-quotes on the UNIX and Linux platforms if any list member contains shell metacharacters.</p>
</div>
<div class="section">
<p class="subhead2">Case Sensitivity</p>
</div>
<!-- class="section" -->
<p>SRVCTL command<a id="d46844e5602" class="indexterm-anchor"></a>s and components are case insensitive. Options are case sensitive. Database and database service names are case insensitive and case preserving.</p>
<div class="section">
<p class="subhead2">Command Parameters Input File</p>
</div>
<!-- class="section" -->
<p>You can specify command parameters in a file rather than directly on the command line. Using a command parameters input file is useful in the following situations:</p>
<ul style="list-style-type: disc;">
<li>
<p>You want to run a command with very long parameter values or a command with numerous parameters</p>
</li>
<li>
<p>You want to bypass shell processing of certain special characters</p>
</li>
</ul>
<p>To specify a command parameters input file, use the <code class="codeph">-file</code> parameter with a value that is the location of the command parameters file. SRVCTL processes the command parameters from the command parameters file instead of from the command line.</p>
<div class="section">
<p class="subhead2">SRVCTL Components Summary</p>
</div>
<!-- class="section" -->
<p><a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE" title="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">Table 4-7</a> lists the keywords that can be used for the <a id="d46844e5634" class="indexterm-anchor"></a><a id="d46844e5638" class="indexterm-anchor"></a><span class="italic"><code class="codeph">object</code></span> portion of SRVCTL commands. You can use either the full name or the abbreviation for each component keyword.</p>
<div class="tblformal" id="GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__BABHIAFE">
<p class="titleintable">Table 4-7 Component Keywords and Abbreviations</p>
<table class="cellalignment1849" title="Component Keywords and Abbreviations" summary="Describes each subprogram of the DBMS_LOGSTDBY procedure, including a reference to the section where each procedure is dscribed in more detail.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1953" id="d46844e5657">Component</th>
<th class="cellalignment1906" id="d46844e5660">Abbreviation</th>
<th class="cellalignment1928" id="d46844e5663">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5668" headers="d46844e5657">
<p><code class="codeph">asm</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5668 d46844e5660">
<p><code class="codeph">asm</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5668 d46844e5663">
<p>Oracle ASM instance</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5680" headers="d46844e5657">
<p><code class="codeph">database</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5680 d46844e5660">
<p><code class="codeph">db</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5680 d46844e5663">
<p>Database instance</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5692" headers="d46844e5657">
<p><code class="codeph">diskgroup</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5692 d46844e5660">
<p><code class="codeph">dg</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5692 d46844e5663">
<p>Oracle ASM disk group</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5704" headers="d46844e5657">
<p><code class="codeph">home</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5704 d46844e5660">
<p><code class="codeph">home</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5704 d46844e5663">
<p>Oracle home or Oracle Clusterware home</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5716" headers="d46844e5657">
<p><code class="codeph">listener</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5716 d46844e5660">
<p><code class="codeph">lsnr</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5716 d46844e5663">
<p>Oracle Net listener</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5728" headers="d46844e5657">
<p><code class="codeph">service</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5728 d46844e5660">
<p><code class="codeph">serv</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5728 d46844e5663">
<p>Database service</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1954" id="d46844e5740" headers="d46844e5657">
<p><code class="codeph">ons</code></p>
</td>
<td class="cellalignment1908" headers="d46844e5740 d46844e5660">
<p><code class="codeph">ons</code></p>
</td>
<td class="cellalignment1930" headers="d46844e5740 d46844e5663">
<p>Oracle Notification Services (ONS)</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infoboxnotealso" id="GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8__GUID-736084CB-2DB1-4B87-89E5-6DF8AE0BCD4F">
<p class="notep1">See Also:</p>
<p><a href="restart.htm#GUID-AEB55E5C-48C7-4542-9384-492204F501AE__BABCDGEI" title="The two columns in this table are Component and Notes. The left column lists all the components that can be managed by Oracle Restart and the right column contains notes about the component.">Table 4-1</a></p>
</div>
</div>
<a id="ADMIN12952"></a><a id="ADMIN5009"></a>
<div class="sect3"><a id="GUID-D69636D0-8E80-4410-9388-D6B8918A1988"></a>
<h3 id="ADMIN-GUID-D69636D0-8E80-4410-9388-D6B8918A1988" class="sect3"><span class="enumeration_section">4.5.1</span> add</h3>
<div>
<p>The <code class="codeph">srvctl</code> <code class="codeph">add</code> command adds the specified component to the Oracle Restart configuration, and optionally sets Oracle Restart configuration parameters for the component. After a component is added, Oracle Restart begins to manage it, restarting it when required.</p>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">add</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
<div class="infobox-note" id="GUID-D69636D0-8E80-4410-9388-D6B8918A1988__GUID-15658DA9-38F4-4C7E-BBCE-727C3B5D54F6">
<p class="notep1">Note:</p>
<p><a id="d46844e5849" class="indexterm-anchor"></a>There is no <code class="codeph">srvctl</code> <code class="codeph">add</code> command for Oracle ASM disk groups. Disk groups are automatically added to the Oracle Restart configuration when they are first mounted. If you remove a disk group from the Oracle Restart configuration and later want to add it back, connect to the Oracle ASM instance with SQL*Plus and use an <code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> ... <code class="codeph">MOUNT</code> command.</p>
</div>
</div>
<a id="ADMIN5015"></a>
<div class="sect4"><a id="GUID-1AE0636B-1A0A-42AD-8D1D-6856E457E2FF"></a>
<h4 id="ADMIN-GUID-1AE0636B-1A0A-42AD-8D1D-6856E457E2FF" class="sect4"><span class="enumeration_section">4.5.1.1</span> srvctl add asm</h4>
<p>Adds an Oracle ASM instance to the Oracle Restart configuration.</p>
<a id="ADMIN12953"></a><a id="ADMIN12741"></a>
<div class="sect5"><a id="GUID-6092D1FA-5EFC-44A4-AEC6-14ED81B610B0"></a>
<h5 id="ADMIN-GUID-6092D1FA-5EFC-44A4-AEC6-14ED81B610B0" class="sect5"><span class="enumeration_section">4.5.1.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e5998" class="indexterm-anchor"></a>srvctl add asm [-listener <span class="italic">listener_name</span>] [-spfile <span class="italic">spfile</span>] 
  [-pwfile <span class="italic">password_file_path</span>] [-diskstring <span class="italic">asm_diskstring</span>]
</pre>
<div class="tblformal" id="GUID-6092D1FA-5EFC-44A4-AEC6-14ED81B610B0__GUID-E2DCAB40-A67C-42EE-AB44-ABCAAAF1744C">
<p class="titleintable">Table 4-8 srvctl add asm Options</p>
<table class="cellalignment1849" title="srvctl add asm Options" summary="srvctl add asm Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1919" id="d46844e6026">Option</th>
<th class="cellalignment1920" id="d46844e6029">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1921" id="d46844e6034" headers="d46844e6026">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1922" headers="d46844e6034 d46844e6029">
<p>Name of the listener with which Oracle ASM should register. A weak dependency is established with this listener. (Before starting the Oracle ASM instance, Oracle Restart attempts to start the listener. If the listener does not start, the Oracle ASM instance is still started. If the listener later fails, Oracle Restart does not restart Oracle ASM.)</p>
<p>If omitted, defaults to the listener named <code class="codeph">listener</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1921" id="d46844e6048" headers="d46844e6026">
<pre dir="ltr">-spfile <span class="italic">spfile</span>
</pre></td>
<td class="cellalignment1922" headers="d46844e6048 d46844e6029">
<p>The full path of the server parameter file for the database. If omitted, the default SPFILE is used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1921" id="d46844e6057" headers="d46844e6026">
<pre dir="ltr">-pwfile <span class="italic">password_file_path</span>
</pre></td>
<td class="cellalignment1922" headers="d46844e6057 d46844e6029">
<p>The full path of the Oracle ASM password file.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1921" id="d46844e6066" headers="d46844e6026">
<pre dir="ltr">-diskstring <span class="italic">asm_diskstring</span>
</pre></td>
<td class="cellalignment1922" headers="d46844e6066 d46844e6029">
<p>Oracle ASM disk group discovery string. An Oracle ASM discovery string is a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers. The discovery strings can include wildcard characters. Only disks that match one of the strings are discovered.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12742"></a>
<div class="sect5"><a id="GUID-F2C96684-3CC2-4CFA-B07B-EAD7597E4C4B"></a>
<h5 id="ADMIN-GUID-F2C96684-3CC2-4CFA-B07B-EAD7597E4C4B" class="sect5"><span class="enumeration_section">4.5.1.1.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl add asm -listener crmlistener
</pre>
<div class="infoboxnotealso" id="GUID-F2C96684-3CC2-4CFA-B07B-EAD7597E4C4B__GUID-238B5706-A44E-4462-91D9-D36E87E7222B">
<p class="notep1">See Also:</p>
<p><a class="olink OSTMG136" target="_blank" href="../OSTMG/GUID-461E1F97-9F75-4B14-AB6A-893BD8D371DE.htm#OSTMG136"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about Oracle ASM disk group discovery strings</p>
</div>
</div>
</div>
</div>
<a id="ADMIN5011"></a>
<div class="sect4"><a id="GUID-7DC7335D-4246-4FCB-BED5-8CA9027DBC11"></a>
<h4 id="ADMIN-GUID-7DC7335D-4246-4FCB-BED5-8CA9027DBC11" class="sect4"><span class="enumeration_section">4.5.1.2</span> srvctl add database</h4>
<div>
<p>Adds a database to the Oracle Restart configuration.</p>
<p>After adding a database to the Oracle Restart configuration, if the database then accesses data in an Oracle ASM disk group, a dependency between the database that disk group is created. Oracle Restart then ensures that the disk group is mounted before attempting to start the database.</p>
<p>However, if the database and Oracle ASM instance are not running when you add the database to the Oracle Restart configuration, you must manually establish the dependency between the database and its disk groups by specifying the <code class="codeph">-diskgroup</code> option in the SRVCTL command. See the example later in this section.</p>
<div class="infobox-note" id="GUID-7DC7335D-4246-4FCB-BED5-8CA9027DBC11__GUID-D1684048-B7AF-4BCB-B7F6-70F55C60C6AC">
<p class="notep1">Note:</p>
<p>When you manually add a database to the Oracle Restart configuration, you must also add the Oracle grid infrastructure software owner as a member of the OSDBA group of that database. This is because the grid infrastructure components must be able to connect to the database as <code class="codeph">SYSDBA</code> to start and stop the database.</p>
<p>For example, if the host user who installed the grid infrastructure home is named <code class="codeph">grid</code> and the OSDBA group of the new database is named <code class="codeph">dba</code>, then user <code class="codeph">grid</code> must be a member of the <code class="codeph">dba</code> group.</p>
</div>
</div>
<a id="ADMIN12954"></a><a id="ADMIN12743"></a>
<div class="sect5"><a id="GUID-9C1826CB-B56C-4DE7-83D6-7A0348C67FAD"></a>
<h5 id="ADMIN-GUID-9C1826CB-B56C-4DE7-83D6-7A0348C67FAD" class="sect5"><span class="enumeration_section">4.5.1.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e6300" class="indexterm-anchor"></a>
srvctl add database -db <span class="italic">db_unique_name</span> -oraclehome <span class="italic">oracle_home</span> 
  [-domain <span class="italic">domain_name</span>] [-dbname <span class="italic">db_name</span>] [-instance <span class="italic">instance_name</span>] 
  [-spfile <span class="italic">spfile</span>][-pwfile <span class="italic">password_file_path</span>] [-startoption <span class="italic">start_options</span>] 
  [-stopoption <span class="italic">stop_options</span>] 
  [-role {PRIMARY | PHYSICAL_STANDBY | LOGICAL_STANDBY | 
          SNAPSHOT_STANDBY | FAR_SYNC}]
  [-policy {AUTOMATIC | MANUAL | NORESTART}] [-diskgroup <span class="italic">disk_group_list</span>]
  [-verbose]
</pre>
<div class="tblformal" id="GUID-9C1826CB-B56C-4DE7-83D6-7A0348C67FAD__BABHHAHI">
<p class="titleintable">Table 4-9 srvctl add database Options</p>
<table class="cellalignment1849" title="srvctl add database Options" summary="srvctl add database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1872" id="d46844e6355">Syntax</th>
<th class="cellalignment1955" id="d46844e6358">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6363" headers="d46844e6355">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6363 d46844e6358">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6387" headers="d46844e6355">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6387 d46844e6358">
<p>The full path of Oracle home for the database</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6396" headers="d46844e6355">
<pre dir="ltr">-domain <span class="italic">domain_name</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6396 d46844e6358">
<p>The domain for the database. Must match the <code class="codeph">DB_DOMAIN</code> initialization parameter.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6408" headers="d46844e6355">
<pre dir="ltr">-dbname <span class="italic">db_name</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6408 d46844e6358">
<p>If provided, must match the <code class="codeph">DB_NAME</code> initialization parameter setting. You must include this option if <code class="codeph">DB_NAME</code> is different from the unique name given by the <code class="codeph">-db</code> option</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6426" headers="d46844e6355">
<pre dir="ltr">-instance <span class="italic">instance_name</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6426 d46844e6358">
<p>The instance name.</p>
<p>You must include this option if the instance name is different from the unique name given by the <code class="codeph">-db</code> option. For example, if the unique name includes an underscore, and the instance name omits the underscore, then use this parameter to specify the instance name.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6440" headers="d46844e6355">
<pre dir="ltr">-spfile <span class="italic">spfile</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6440 d46844e6358">
<p>The full path of the server parameter file for the database. If omitted, the default SPFILE is used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6449" headers="d46844e6355">
<pre dir="ltr">-pwfile <span class="italic">password_file_path</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6449 d46844e6358">
<p>The full path of the database password file.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6458" headers="d46844e6355">
<pre dir="ltr">-startoption <span class="italic">start_options</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6458 d46844e6358">
<p>Startup options for the database (<code class="codeph">OPEN</code>, <code class="codeph">MOUNT</code>, or <code class="codeph">NOMOUNT</code>). If omitted, defaults to <code class="codeph">OPEN</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG128" target="_blank" href="../SQPUG/ch_twelve045.htm#SQPUG128"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about startup options</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6488" headers="d46844e6355">
<pre dir="ltr">-stopoption <span class="italic">stop_options</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6488 d46844e6358">
<p>Shutdown options for the database (<code class="codeph">NORMAL</code>, <code class="codeph">IMMEDIATE</code>, <code class="codeph">TRANSACTIONAL</code>, or <code class="codeph">ABORT</code>). If omitted, defaults to <code class="codeph">IMMEDIATE</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG125" target="_blank" href="../SQPUG/ch_twelve042.htm#SQPUG125"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about shutdown options</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6521" headers="d46844e6355">
<pre dir="ltr">-role {PRIMARY | PHYSICAL_STANDBY | LOGICAL_STANDBY | SNAPSHOT_STANDBY | FAR_SYNC}
</pre></td>
<td class="cellalignment1956" headers="d46844e6521 d46844e6358">
<p>The current role of the database (<code class="codeph">PRIMARY</code>, <code class="codeph">PHYSICAL_STANDBY</code>, <code class="codeph">LOGICAL_STANDBY</code>, <code class="codeph">SNAPSHOT_STANDBY</code>, or <code class="codeph">FAR_SYNC</code>). The default is <code class="codeph">PRIMARY</code>. Applicable in Oracle Data Guard environments only.</p>
<p><span class="bold">See Also:</span> <a class="olink SBYDB4701" target="_blank" href="../SBYDB/concepts.htm#SBYDB4701"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about database roles</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6556" headers="d46844e6355">
<pre dir="ltr">-policy {AUTOMATIC | MANUAL | NORESTART}
</pre></td>
<td class="cellalignment1956" headers="d46844e6556 d46844e6358">
<p>Management policy for the database.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">AUTOMATIC</code> (default): The database is automatically restored to its previous running condition (started or stopped) upon restart of the database host computer.</p>
</li>
<li>
<p><code class="codeph">MANUAL</code>: The database is never automatically restarted upon restart of the database host computer. A <code class="codeph">MANUAL</code> setting does not prevent Oracle Restart from monitoring the database while it is running and restarting it if a failure occurs.</p>
</li>
<li>
<p><code class="codeph">NORESTART</code>: Similar to the <code class="codeph">MANUAL</code> setting, the database is never automatically restarted upon restart of the database host computer. A <code class="codeph">NORESTART</code> setting, however, never restarts the database even if a failure occurs.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6589" headers="d46844e6355">
<pre dir="ltr">-diskgroup <span class="italic">disk_group_list</span>
</pre></td>
<td class="cellalignment1956" headers="d46844e6589 d46844e6358">
<p>Comma separated list of disk groups upon which the database is dependent. When starting the database, Oracle Restart first ensures that these disk groups are mounted. This option is required only if the database instance and the Oracle ASM instance are not started when adding the database. Otherwise, the dependency is recorded automatically between the database and its disk groups.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1875" id="d46844e6598" headers="d46844e6355">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1956" headers="d46844e6598 d46844e6358">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12744"></a>
<div class="sect5"><a id="GUID-A684297F-8414-4EC8-84B3-A0904BFC6795"></a>
<h5 id="ADMIN-GUID-A684297F-8414-4EC8-84B3-A0904BFC6795" class="sect5"><span class="enumeration_section">4.5.1.2.2</span> Examples</h5>
<div>
<p>This example adds the database with the <code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr">srvctl add database -db dbcrm -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1
</pre>
<p>This example adds the same database and also establishes a dependency between the database and the disk groups <code class="codeph">DATA</code> and <code class="codeph">RECOVERY</code>.</p>
<pre dir="ltr">srvctl add database -db dbcrm -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1
  -diskgroup &#34;DATA,RECOVERY&#34;
</pre>
<div class="infoboxnotealso" id="GUID-A684297F-8414-4EC8-84B3-A0904BFC6795__GUID-A6794832-DF7A-4289-83F9-C71F80D33DBF">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-2F516A26-96EE-416E-8016-345D9ED4EF47" title="Oracle Restart is integrated with Oracle Data Guard (Data Guard) and the Oracle Data Guard Broker (the broker).">Oracle Restart Integration with Oracle Data Guard</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SBYDB4701" target="_blank" href="../SBYDB/concepts.htm#SBYDB4701"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADMIN12745"></a>
<div class="sect4"><a id="GUID-CF872A1D-5B89-433C-82FB-13F87D4960E6"></a>
<h4 id="ADMIN-GUID-CF872A1D-5B89-433C-82FB-13F87D4960E6" class="sect4"><span class="enumeration_section">4.5.1.3</span> srvctl add listener</h4>
<p>Adds a listener to the Oracle Restart configuration.</p>
<a id="ADMIN12955"></a><a id="ADMIN12833"></a>
<div class="sect5"><a id="GUID-8DEBE112-4BFE-45EA-B4E7-256693EA2B90"></a>
<h5 id="ADMIN-GUID-8DEBE112-4BFE-45EA-B4E7-256693EA2B90" class="sect5"><span class="enumeration_section">4.5.1.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl add listener [-listener <span class="italic">listener_name</span>] [-endpoints <span class="italic">endpoints</span>] [-skip] 
  [-oraclehome <span class="italic">oracle_home</span>]
</pre>
<div class="tblformal" id="GUID-8DEBE112-4BFE-45EA-B4E7-256693EA2B90__GUID-77FC897E-42E0-4651-A9AE-0A26A53790EA">
<p class="titleintable">Table 4-10 srvctl add listener Options</p>
<table class="cellalignment1849" title="srvctl add listener Options" summary="This table describes the srvctl add listener command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e6849">Option</th>
<th class="cellalignment1957" id="d46844e6852">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e6857" headers="d46844e6849">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e6857 d46844e6852">
<p>Listener name. If omitted, defaults to <code class="codeph">LISTENER</code></p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e6868" headers="d46844e6849">
<pre dir="ltr">-endpoints <span class="italic">endpoints</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e6868 d46844e6852">
<p>Comma separated TCP ports or listener endpoints. If omitted, defaults to TCP:1521. <span class="italic">endpoints</span> syntax is:</p>
<pre dir="ltr">&#34;[TCP:]<span class="italic">port</span>[, ...] [/IPC:<span class="italic">key</span>] [/NMP:<span class="italic">pipe_name</span>] [/TCPS:<span class="italic">s_port</span>] [/SDP:<span class="italic">port</span>]&#34;
</pre></td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e6897" headers="d46844e6849">
<pre dir="ltr">-skip
</pre></td>
<td class="cellalignment1958" headers="d46844e6897 d46844e6852">
<p>Skip checking for port conflicts with the supplied endpoints</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e6904" headers="d46844e6849">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e6904 d46844e6852">
<p>Oracle home for the listener. If omitted, the Oracle Grid Infrastructure home is assumed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12834"></a>
<div class="sect5"><a id="GUID-091E32C5-1D32-499C-A37E-646B5E1DCC9F"></a>
<h5 id="ADMIN-GUID-091E32C5-1D32-499C-A37E-646B5E1DCC9F" class="sect5"><span class="enumeration_section">4.5.1.3.2</span> Example</h5>
<div>
<p>The following command adds a listener (named <code class="codeph">LISTENER</code>) running out of the database Oracle home and listening on TCP port 1522:</p>
<pre dir="ltr">srvctl add listener -endpoints TCP:1522 
  -oraclehome /u01/app/oracle/product/12.1.0/dbhome_1<a id="d46844e6976" class="indexterm-anchor"></a>
</pre></div>
</div>
</div>
<a id="ADMIN13206"></a>
<div class="sect4"><a id="GUID-F4E0CFC5-2E88-41AD-8BD6-057A6AFB6CA9"></a>
<h4 id="ADMIN-GUID-F4E0CFC5-2E88-41AD-8BD6-057A6AFB6CA9" class="sect4"><span class="enumeration_section">4.5.1.4</span> srvctl add ons</h4>
<div>
<p>Adds Oracle Notification Services (ONS) to an Oracle Restart configuration.</p>
<p>ONS must be added to an Oracle Restart configuration to enable the sending of Fast Application Notification (FAN) events after an Oracle Data Guard failover.</p>
<p>When ONS is added to an Oracle Restart configuration, it is initially disabled. You can enable it with the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">ons</code> command.</p>
<div class="infoboxnotealso" id="GUID-F4E0CFC5-2E88-41AD-8BD6-057A6AFB6CA9__GUID-605968F1-32E2-4CA5-8E44-55913AE7EC96">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-C118DAF2-0468-4AC5-B7CB-304AED042532" title="Enables Oracle Notification Services (ONS).">srvctl enable ons</a>&#34;</span></p>
</div>
</div>
<a id="ADMIN13208"></a><a id="ADMIN13207"></a>
<div class="sect5"><a id="GUID-70222A43-D31C-4BCD-A2FE-9C9749C5D695"></a>
<h5 id="ADMIN-GUID-70222A43-D31C-4BCD-A2FE-9C9749C5D695" class="sect5"><span class="enumeration_section">4.5.1.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl add ons [-emport <span class="italic">em_port</span>] [-onslocalport <span class="italic">ons_local_port</span>] 
  [-onsremoteport <span class="italic">ons_remote_port</span>] [-remoteservers <span class="italic">host</span>[<span class="italic">:port</span>],[<span class="italic">host</span>[<span class="italic">:port</span>]...]] 
  [-verbose]
</pre>
<div class="tblformal" id="GUID-70222A43-D31C-4BCD-A2FE-9C9749C5D695__GUID-C164B061-FA00-45FE-9308-BC1D9944EDC3">
<p class="titleintable">Table 4-11 srvctl add ons Options</p>
<table class="cellalignment1849" title="srvctl add ons Options" summary="srvctl add ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e7172">Option</th>
<th class="cellalignment1957" id="d46844e7175">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7180" headers="d46844e7172">
<pre dir="ltr">-emport <span class="italic">em_port</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7180 d46844e7175">
<p>ONS listening port for Oracle Enterprise Manager Cloud Control (Cloud Control). The default is 2016.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7189" headers="d46844e7172">
<pre dir="ltr">-onslocalport <span class="italic">ons_local_port</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7189 d46844e7175">
<p>ONS listening port for local client connections. The default is 6100.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7198" headers="d46844e7172">
<pre dir="ltr">-onsremoteport <span class="italic">ons_remote_port</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7198 d46844e7175">
<p>ONS listening port for connections from remote hosts. The default is 6200.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7207" headers="d46844e7172">
<pre dir="ltr">-remoteservers host[<span class="italic">:port</span>],[<span class="italic">host</span>[<span class="italic">:port</span>],...
</pre></td>
<td class="cellalignment1958" headers="d46844e7207 d46844e7175">
<p>A list of <span class="italic"><code class="codeph">host:port</code></span> pairs of remote hosts that are part of the ONS network</p>
<p><span class="bold">Note:</span> If <span class="italic"><code class="codeph">port</code></span> is not specified for a remote host, then <code class="codeph">ons_remote_port</code> is used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7238" headers="d46844e7172">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e7238 d46844e7175">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5013"></a>
<div class="sect4"><a id="GUID-802E24A9-F823-4942-804E-0ABBD97943D1"></a>
<h4 id="ADMIN-GUID-802E24A9-F823-4942-804E-0ABBD97943D1" class="sect4"><span class="enumeration_section">4.5.1.5</span> srvctl add service</h4>
<div>
<p>Adds a database service to the Oracle Restart configuration.</p>
<p>Creates the database service if it does not exist. This method of creating a service is preferred over using the <code class="codeph">DBMS_SERVICE</code> PL/SQL package.</p>
</div>
<a id="ADMIN12956"></a><a id="ADMIN12748"></a>
<div class="sect5"><a id="GUID-8A148405-BE84-4A14-9A27-67706C316410"></a>
<h5 id="ADMIN-GUID-8A148405-BE84-4A14-9A27-67706C316410" class="sect5"><span class="enumeration_section">4.5.1.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr">srvctl add service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name</span>
  [-role [PRIMARY][,PHYSICAL_STANDBY][,LOGICAL_STANDBY][,SNAPSHOT_STANDBY]]
  [-policy {AUTOMATIC | MANUAL}] 
  [-failovertype {NONE | SESSION | SELECT | TRANSACTION}] 
  [-failovermethod {NONE | BASIC}] [-failoverdelay <span class="italic">integer</span>] 
  [-failoverretry <span class="italic">integer</span>] [-clbgoal {SHORT | LONG}]
  [-rlbgoal {SERVICE_TIME | THROUGHPUT | NONE}] [-notification {TRUE | FALSE}] 
  [-edition <span class="italic">edition_name</span>] [-pdb <span class="italic">pluggable_database</span>] 
  [-sql_translation_profile <span class="italic">sql_translation_profile</span>]
  [-commit_outcome {TRUE | FALSE}] [-retention <span class="italic">retention</span>] 
  [-replay_init_time <span class="italic">replay_init_time</span>] [-session_state {STATIC | DYNAMIC}] 
  [-global {TRUE | FALSE}] [-maxlag <span class="italic">max_lag_time</span>] [-force] [-verbose]
</pre>
<div class="tblformal" id="GUID-8A148405-BE84-4A14-9A27-67706C316410__GUID-C1C0D8A6-8316-437F-B61F-03FAFC4EAFDA">
<p class="titleintable">Table 4-12 srvctl add service Options</p>
<table class="cellalignment1849" title="srvctl add service Options" summary="srvctl add service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e7427">Option</th>
<th class="cellalignment1957" id="d46844e7430">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7435" headers="d46844e7427">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7435 d46844e7430">
<p>Unique name for the database</p>
<p>The name must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7461" headers="d46844e7427">
<pre dir="ltr">-service <span class="italic">service_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7461 d46844e7430">
<p>The database service name</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7470" headers="d46844e7427">
<pre dir="ltr">-role [PRIMARY][,PHYSICAL_STANDBY][,LOGICAL_STANDBY][,SNAPSHOT_STANDBY]
</pre></td>
<td class="cellalignment1958" headers="d46844e7470 d46844e7430">
<p>A list of service roles</p>
<p>This option is applicable in Oracle Data Guard environments only. When this option is present, upon database open, the service is started only when one of its service roles matches the current database role.</p>
<p><span class="bold">See Also:</span> <a class="olink SBYDB4701" target="_blank" href="../SBYDB/concepts.htm#SBYDB4701"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about database roles</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7488" headers="d46844e7427">
<pre dir="ltr">-policy {AUTOMATIC | MANUAL}
</pre></td>
<td class="cellalignment1958" headers="d46844e7488 d46844e7430">
<p>Management policy for the service</p>
<p>If <code class="codeph">AUTOMATIC</code> (the default), the service is automatically started upon restart of the database, either by a planned restart (with SRVCTL) or after a failure. Automatic restart is also subject to the service role, however (the <code class="codeph">-role</code> option).</p>
<p>If <code class="codeph">MANUAL</code>, the service is never automatically restarted upon planned restart of the database (with SRVCTL). A <code class="codeph">MANUAL</code> setting does not prevent Oracle Restart from monitoring the service when it is running and restarting it if a failure occurs.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7511" headers="d46844e7427">
<pre dir="ltr">-failovertype {NONE |SESSION | SELECT | TRANSACTION}
</pre></td>
<td class="cellalignment1958" headers="d46844e7511 d46844e7430">
<p>To enable Application Continuity for Java, use <code class="codeph">TRANSACTION</code>. If the failover type is <code class="codeph">TRANSACTION</code>, then the <code class="codeph">commit_outcome</code> option must be set to <code class="codeph">TRUE</code>.</p>
<p>To enable Transparent Application Failover (TAF) for OCI, use <code class="codeph">SELECT</code> or <code class="codeph">SESSION</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7538" headers="d46844e7427">
<pre dir="ltr">-failovermethod {NONE | BASIC}
</pre></td>
<td class="cellalignment1958" headers="d46844e7538 d46844e7430">
<p>TAF failover method for backward compatibility only</p>
<p>If the failover type (<code class="codeph">-failovertype</code>) is set to a value other than <code class="codeph">NONE</code>, then use <code class="codeph">BASIC</code> for this option.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7556" headers="d46844e7427">
<pre dir="ltr">-failoverdelay <span class="italic">integer</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7556 d46844e7430">
<p>For Application Continuity and TAF, the time delay, in seconds, between reconnect attempts for each incident at failover</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7565" headers="d46844e7427">
<pre dir="ltr">-failoverretry <span class="italic">integer</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7565 d46844e7430">
<p>For Application Continuity and TAF, the number of attempts to connect after an incident</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7575" headers="d46844e7427">
<pre dir="ltr">-clbgoal {SHORT | LONG}
</pre></td>
<td class="cellalignment1958" headers="d46844e7575 d46844e7430">
<p>Connection load balancing goal</p>
<p>Use <code class="codeph">SHORT</code> for run-time load balancing.</p>
<p>Use <code class="codeph">LONG</code> for long running connections, such as batch jobs.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7592" headers="d46844e7427">
<pre dir="ltr">-rlbgoal {SERVICE_TIME | THROUGHPUT | NONE}
</pre></td>
<td class="cellalignment1958" headers="d46844e7592 d46844e7430">
<p>Run-time load balancing goal</p>
<p>Use <code class="codeph">SERVICE_TIME</code> to balance connections by response time.</p>
<p>Use <code class="codeph">THROUGHPUT</code> to balance connections by throughput.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7609" headers="d46844e7427">
<pre dir="ltr">-notification {TRUE | FALSE}
</pre></td>
<td class="cellalignment1958" headers="d46844e7609 d46844e7430">
<p>Enable Fast Application Notification (FAN) for OCI connections</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7617" headers="d46844e7427">
<pre dir="ltr">-edition <span class="italic">edition_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7617 d46844e7430">
<p>The initial session edition of the service</p>
<p>When an edition is specified for a service, all subsequent connections that specify the service use this edition as the initial session edition. However, if a session connection specifies a different edition, then the edition specified in the session connection is used for the initial session edition.</p>
<p>SRVCTL does not validate the specified edition name. During connection, the connect user must have <code class="codeph">USE</code> privilege on the specified edition. If the edition does not exist or if the connect user does not have <code class="codeph">USE</code> privilege on the specified edition, then an error is raised.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7636" headers="d46844e7427">
<pre dir="ltr">-pdb <span class="italic">pluggable_database</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7636 d46844e7430">
<p>In a multitenant container database (CDB), the name of the pluggable database (PDB) to associate with the service</p>
<p>If this option is set to an empty string, then the service is associated with root.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7647" headers="d46844e7427">
<pre dir="ltr">-sql_translation_profile <span class="italic">sql_translation_profile</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7647 d46844e7430">
<p>A SQL translation profile for a service that you are adding after you have migrated applications from a non-Oracle database to an Oracle database</p>
<p>This parameter corresponds to the SQL translation profile parameter in the <code class="codeph">DBMS_SERVICE</code> service attribute.</p>
<p><span class="bold">Notes:</span></p>
<ul style="list-style-type: disc;">
<li>
<p>Before using the SQL translation framework, you must migrate all server-side application objects and data to the Oracle database.</p>
</li>
<li>
<p>Use the <code class="codeph">srvctl config service</code> command to display the SQL translation profile.</p>
</li>
</ul>
<p><span class="bold">See Also:</span> <a class="olink DRDAA131" target="_blank" href="../DRDAA/sql_transl_arch.htm#DRDAA131"><span class="italic">Oracle Database Migration Guide</span></a> for more information about using a SQL translation profile</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7683" headers="d46844e7427">
<pre dir="ltr">-commit_outcome {TRUE | FALSE}
</pre></td>
<td class="cellalignment1958" headers="d46844e7683 d46844e7430">
<p>For Transaction Guard, when <code class="codeph">TRUE</code> a transaction&#39;s commit outcome is accessible after the transaction&#39;s session fails due to a recoverable outage.</p>
<p>If <code class="codeph">FALSE</code>, the default, then a transaction&#39;s commit outcome is not retained.</p>
<p>When this option is set to <code class="codeph">TRUE</code>, the outcome of a transaction&#39;s commit is durable, and an applications can determine the commit status of a transaction after an outage. You can set <code class="codeph">commit_outcome</code> to <code class="codeph">TRUE</code> for a user-defined service.</p>
<p>The <code class="codeph">commit_outcome</code> setting has no effect on Oracle Active Data Guard and read-only databases.</p>
<p><span class="bold">See Also:</span> See <a class="olink ADFNS961" target="_blank" href="../ADFNS/adfns_sqlproc.htm#ADFNS961"><span class="italic">Oracle Database Development Guide</span></a> for more information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7723" headers="d46844e7427">
<pre dir="ltr">-retention <span class="italic">retention</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7723 d46844e7430">
<p>If <code class="codeph">commit_outcome</code> is set to <code class="codeph">TRUE</code>, then this option determines the amount of time, in seconds, that the commit outcome is retained. The default is 24 hours (86400).</p>
<p>If <code class="codeph">commit_outcome</code> is set to <code class="codeph">FALSE</code>, then this option cannot be set.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7746" headers="d46844e7427">
<pre dir="ltr">-replay_init_time <span class="italic">replay_init_time</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7746 d46844e7430">
<p>For Application Continuity, this option specifies the difference between the time, in seconds, of original execution of the first operation of a request and the time that the replay is ready to start after a successful reconnect. Application Continuity will not replay after the specified amount of time has passed. This option is intended to avoid the unintentional execution of a transaction when a system is recovered after a long period of time. The default is 5 minutes (300). The maximum value is 24 hours (86400).</p>
<p>If <code class="codeph">FAILOVER_TYPE</code> is not set to <code class="codeph">TRANSACTION</code>, then this option is not used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7763" headers="d46844e7427">
<pre dir="ltr">-session_state {STATIC | DYNAMIC}
</pre></td>
<td class="cellalignment1958" headers="d46844e7763 d46844e7430">
<p>For Application Continuity, this option specifies whether an application modifies the session state statically or dynamically. This option is used when <code class="codeph">-failovertype</code> is set to <code class="codeph">TRANSACTION</code>.</p>
<p>The settings describe how the session state that is not transactional is changed by the application. Examples of session states are NLS settings, optimizer preferences, event settings, PL/SQL global variables, temporary tables, advanced queues, LOBs, and result cache.</p>
<p>When set to <code class="codeph">STATIC</code>, all session state settings such as NLS settings and optimizer preferences are set as part of the connection initialization once for each request. This session state does not change within a request. This setting is used only for database diagnostic applications that do not change session state. Do not set <code class="codeph">STATIC</code> mode if there and any nontransactional state changes in the request that cannot be re-established by a callback. If you are unsure, then use <code class="codeph">DYNAMIC</code> mode.</p>
<p>When set to <code class="codeph">DYNAMIC</code>, the default, session states are changed while the application is executing. Examples of state changes that vary at runtime are PL/SQL variables, temporary table contents, LOB processing, and result cache processing. If the application uses PL/SQL, <code class="codeph">SYS_CONTEXT</code>, Java in the database, then set this option to <code class="codeph">DYNAMIC</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7800" headers="d46844e7427">
<pre dir="ltr">-global {TRUE | FALSE}
</pre></td>
<td class="cellalignment1958" headers="d46844e7800 d46844e7430">
<p>If <code class="codeph">TRUE</code>, then the service is a Global Data Services (GDS) service and is managed by the Global Services Manager (GSM).</p>
<p>If <code class="codeph">FALSE</code>, the default, then the service is not a GDS service.</p>
<p>The global attribute of a service cannot be changed after the service is added.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7824" headers="d46844e7427">
<pre dir="ltr">-maxlag <span class="italic">maximum_lag_time</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e7824 d46844e7430">
<p>Maximum replication lag time in seconds. Must be a non-negative integer. The default value is <code class="codeph">ANY</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7836" headers="d46844e7427">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e7836 d46844e7430">
<p>Force the add operation even though a listener is not configured for a network.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e7843" headers="d46844e7427">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e7843 d46844e7430">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12749"></a>
<div class="sect5"><a id="GUID-08BC9144-B919-44F9-A63D-39DD9C12BDB3"></a>
<h5 id="ADMIN-GUID-08BC9144-B919-44F9-A63D-39DD9C12BDB3" class="sect5"><span class="enumeration_section">4.5.1.5.2</span> Example</h5>
<div>
<p>This example adds the <code class="codeph">sales</code> service for the database with <code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">dbcrm</code>. The service is started only when <code class="codeph">dbcrm</code> is in <code class="codeph">PRIMARY</code> mode.</p>
<pre dir="ltr">srvctl add service -db dbcrm -service sales -role PRIMARY
</pre>
<div class="infoboxnotealso" id="GUID-08BC9144-B919-44F9-A63D-39DD9C12BDB3__GUID-D8D760E7-D87C-4AC5-A72E-A6ADF02E96B8">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>The section in <a class="olink ARPLS092" target="_blank" href="../ARPLS/d_serv.htm#ARPLS092"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> on the <code class="codeph">DBMS_SERVICE</code> package for more information about the options for this command</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-2F516A26-96EE-416E-8016-345D9ED4EF47" title="Oracle Restart is integrated with Oracle Data Guard (Data Guard) and the Oracle Data Guard Broker (the broker).">Oracle Restart Integration with Oracle Data Guard</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SBYDB4701" target="_blank" href="../SBYDB/concepts.htm#SBYDB4701"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
</li>
<li>
<p><span class="q">&#34;<a href="cdb_pdb_admin.htm#GUID-D8667A99-F941-4C77-811B-1735241BA744" title="You can create, modify, or remove a service with a PDB property.">Creating, Modifying, or Removing a Service for a PDB</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="ADMIN12957"></a><a id="ADMIN5016"></a>
<div class="sect3"><a id="GUID-D012A965-F90F-4CA4-AAA4-DF127AA5BA47"></a>
<h3 id="ADMIN-GUID-D012A965-F90F-4CA4-AAA4-DF127AA5BA47" class="sect3"><span class="enumeration_section">4.5.2</span> config</h3>
<p>The <code class="codeph">srvctl</code> <code class="codeph">config</code> command displays the Oracle Restart configuration of the specified component or set of components.</p>
<a id="ADMIN5020"></a>
<div class="sect4"><a id="GUID-BBE6A3B2-A737-4046-B5C1-0CF73D827076"></a>
<h4 id="ADMIN-GUID-BBE6A3B2-A737-4046-B5C1-0CF73D827076" class="sect4"><span class="enumeration_section">4.5.2.1</span> srvctl config asm</h4>
<p>Displays the Oracle Restart configuration information for the Oracle ASM instance.</p>
<a id="ADMIN12958"></a><a id="ADMIN12750"></a>
<div class="sect5"><a id="GUID-FCE76B1D-F89E-4B2D-9187-783B8CA85F2E"></a>
<h5 id="ADMIN-GUID-FCE76B1D-F89E-4B2D-9187-783B8CA85F2E" class="sect5"><span class="enumeration_section">4.5.2.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e8167" class="indexterm-anchor"></a>srvctl config asm [-all]
</pre>
<div class="tblformal" id="GUID-FCE76B1D-F89E-4B2D-9187-783B8CA85F2E__GUID-BD23310E-06EB-4D66-8C05-4328BA244877">
<p class="titleintable">Table 4-13 srvctl config asm Options</p>
<table class="cellalignment1849" title="srvctl config asm Options" summary="This table describes the srvctl config asm command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e8182">Option</th>
<th class="cellalignment1957" id="d46844e8185">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e8190" headers="d46844e8182">
<pre dir="ltr">-all
</pre></td>
<td class="cellalignment1958" headers="d46844e8190 d46844e8185">
<p>Display enabled/disabled status also</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12751"></a>
<div class="sect5"><a id="GUID-EDACE02B-2D3E-47FD-B003-4B10D5CFE5C9"></a>
<h5 id="ADMIN-GUID-EDACE02B-2D3E-47FD-B003-4B10D5CFE5C9" class="sect5"><span class="enumeration_section">4.5.2.1.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl config asm -all

asm home: /u01/app/oracle/product/12.1.0/grid
ASM is enabled.
</pre></div>
</div>
</div>
<a id="ADMIN5017"></a>
<div class="sect4"><a id="GUID-8925161D-016D-439C-9796-B5D653FBDC50"></a>
<h4 id="ADMIN-GUID-8925161D-016D-439C-9796-B5D653FBDC50" class="sect4"><span class="enumeration_section">4.5.2.2</span> srvctl config database</h4>
<p>Displays the Oracle Restart configuration information for the specified database, or lists all databases managed by Oracle Restart.</p>
<a id="ADMIN12959"></a><a id="ADMIN12752"></a>
<div class="sect5"><a id="GUID-1CCC350B-BAF5-4B6B-922B-2CA25CE2B74B"></a>
<h5 id="ADMIN-GUID-1CCC350B-BAF5-4B6B-922B-2CA25CE2B74B" class="sect5"><span class="enumeration_section">4.5.2.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e8386" class="indexterm-anchor"></a>srvctl config database [-db <span class="italic">db_unique_name</span> [-all]] [-verbose]
</pre>
<div class="tblformal" id="GUID-1CCC350B-BAF5-4B6B-922B-2CA25CE2B74B__GUID-5632C21A-CB45-4732-AB47-BAAAE8FB3A19">
<p class="titleintable">Table 4-14 srvctl config database Options</p>
<table class="cellalignment1849" title="srvctl config database Options" summary="srvctl config database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e8405">Option</th>
<th class="cellalignment1957" id="d46844e8408">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e8413" headers="d46844e8405">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e8413 d46844e8408">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e8437" headers="d46844e8405">
<pre dir="ltr">-all
</pre></td>
<td class="cellalignment1958" headers="d46844e8437 d46844e8408">
<p>Display detailed configuration information</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e8444" headers="d46844e8405">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e8444 d46844e8408">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12753"></a>
<div class="sect5"><a id="GUID-4A87ABC5-EDC1-4D32-83A5-C108E20ADEF0"></a>
<h5 id="ADMIN-GUID-4A87ABC5-EDC1-4D32-83A5-C108E20ADEF0" class="sect5"><span class="enumeration_section">4.5.2.2.2</span> Example</h5>
<div>
<p>An example of this command to list all Oracle Restart&ndash;managed databases is:</p>
<pre dir="ltr">srvctl config database

dbcrm
orcl
</pre>
<p>An example of this command to display configuration and enabled/disabled status for the database with the <code class="codeph">DB_UNIQUE_ID</code> <code class="codeph">orcl</code> is:</p>
<pre dir="ltr">srvctl config database -db orcl -all

Database unique name: orcl
Database name: orcl
Oracle home: /u01/app/oracle/product/12.1.0/dbhome_1
Oracle user: oracle
Spfile: +DATA/orcl/spfileorcl.ora
Domain: us.example.com
Start options: open
Stop options: immediate
Database role:
Management policy: automatic
Disk Groups: DATA
Services: mfg,sales
Database is enabled
</pre></div>
</div>
</div>
<a id="ADMIN5099"></a>
<div class="sect4"><a id="GUID-DB64351C-FE09-458A-94D4-F970E08A5ACE"></a>
<h4 id="ADMIN-GUID-DB64351C-FE09-458A-94D4-F970E08A5ACE" class="sect4"><span class="enumeration_section">4.5.2.3</span> srvctl config listener</h4>
<p>Displays the Oracle Restart configuration information for all Oracle Restart&ndash;managed listeners or for the specified listener.</p>
<a id="ADMIN12960"></a><a id="ADMIN12754"></a>
<div class="sect5"><a id="GUID-331BF0A3-2A66-4CE5-BB0F-1C3DC52B3439"></a>
<h5 id="ADMIN-GUID-331BF0A3-2A66-4CE5-BB0F-1C3DC52B3439" class="sect5"><span class="enumeration_section">4.5.2.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e8651" class="indexterm-anchor"></a>srvctl config listener [-listener <span class="italic">listener_name</span>]
</pre>
<div class="tblformal" id="GUID-331BF0A3-2A66-4CE5-BB0F-1C3DC52B3439__GUID-B50B9FCC-84B4-47D0-93B0-0D169E925258">
<p class="titleintable">Table 4-15 srvctl config listener Options</p>
<table class="cellalignment1849" title="srvctl config listener Options" summary="srvctl config listener Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e8669">Option</th>
<th class="cellalignment1957" id="d46844e8672">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e8677" headers="d46844e8669">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e8677 d46844e8672">
<p>Listener name. If omitted, configuration information for all Oracle Restart&ndash;managed listeners is displayed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12755"></a>
<div class="sect5"><a id="GUID-A60B7941-82C2-48BC-9BE0-6648F6460A1B"></a>
<h5 id="ADMIN-GUID-A60B7941-82C2-48BC-9BE0-6648F6460A1B" class="sect5"><span class="enumeration_section">4.5.2.3.2</span> Example</h5>
<div>
<p>This example displays the configuration information and enabled/disabled status for the default listener:</p>
<pre dir="ltr">srvctl config listener

Name: LISTENER
Home: /u01/app/oracle/product/12.1.0/dbhome_1
End points: TCP:1521
Listener is enabled.
</pre></div>
</div>
</div>
<a id="ADMIN13211"></a>
<div class="sect4"><a id="GUID-44719E5E-3A29-4F43-B78C-1BF392FC177A"></a>
<h4 id="ADMIN-GUID-44719E5E-3A29-4F43-B78C-1BF392FC177A" class="sect4"><span class="enumeration_section">4.5.2.4</span> srvctl config ons</h4>
<p>Displays the current configuration information for Oracle Notification Services (ONS).</p>
<a id="ADMIN13212"></a>
<div class="sect5"><a id="GUID-27E46933-0F2B-49C8-8FDF-08084B691ECC"></a>
<h5 id="ADMIN-GUID-27E46933-0F2B-49C8-8FDF-08084B691ECC" class="sect5"><span class="enumeration_section">4.5.2.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl config ons
</pre></div>
</div>
</div>
<a id="ADMIN5018"></a>
<div class="sect4"><a id="GUID-7FA7ACDD-3CCB-498C-BB3B-E63D71A2175A"></a>
<h4 id="ADMIN-GUID-7FA7ACDD-3CCB-498C-BB3B-E63D71A2175A" class="sect4"><span class="enumeration_section">4.5.2.5</span> srvctl config service</h4>
<p>For the specified database, displays the Oracle Restart configuration information for the specified database service or for all Oracle Restart&ndash;managed database services.</p>
<a id="ADMIN12961"></a><a id="ADMIN12756"></a>
<div class="sect5"><a id="GUID-9191981B-08D6-4821-8039-B452014CCD3D"></a>
<h5 id="ADMIN-GUID-9191981B-08D6-4821-8039-B452014CCD3D" class="sect5"><span class="enumeration_section">4.5.2.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e9010" class="indexterm-anchor"></a>srvctl config service -db <span class="italic">db_unique_name</span> [-service <span class="italic">service_name</span>] [-verbose]
</pre>
<div class="tblformal" id="GUID-9191981B-08D6-4821-8039-B452014CCD3D__GUID-08B5FCC7-41F7-4B8B-968A-582E690E6C96">
<p class="titleintable">Table 4-16 srvctl config service Options</p>
<table class="cellalignment1849" title="srvctl config service Options" summary="srvctl config service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e9033">Option</th>
<th class="cellalignment1957" id="d46844e9036">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e9041" headers="d46844e9033">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e9041 d46844e9036">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e9065" headers="d46844e9033">
<pre dir="ltr">-service <span class="italic">service_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e9065 d46844e9036">
<p>Database service name. If omitted, SRVCTL displays configuration information for all Oracle Restart&ndash;managed services for the database.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e9074" headers="d46844e9033">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e9074 d46844e9036">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12757"></a>
<div class="sect5"><a id="GUID-BA8F180A-F3A3-4F0C-AAA2-A17C73753C09"></a>
<h5 id="ADMIN-GUID-BA8F180A-F3A3-4F0C-AAA2-A17C73753C09" class="sect5"><span class="enumeration_section">4.5.2.5.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl config service -db dbcrm -service sales

Service name: sales
Service is enabled
Cardinality: SINGLETON
Disconnect: true
Service role: PRIMARY
Management policy: automatic
DTP transaction: false
AQ HA notifications: false
Failover type: NONE
Failover method: NONE
TAF failover retries: 0
TAF failover delay: 0
Connection Load Balancing Goal: NONE
Runtime Load Balancing Goal: NONE
TAF policy specification: NONE
Edition: e2
</pre></div>
</div>
</div>
</div>
<a id="ADMIN12962"></a><a id="ADMIN5026"></a>
<div class="sect3"><a id="GUID-489938E3-931D-446F-B570-C81659AC3C52"></a>
<h3 id="ADMIN-GUID-489938E3-931D-446F-B570-C81659AC3C52" class="sect3"><span class="enumeration_section">4.5.3</span> disable</h3>
<div>
<p>Disables a component, which suspends management of that component by Oracle Restart.</p>
<p>The <code class="codeph">srvctl</code> <code class="codeph">disable</code> command is intended to be used when a component must be repaired or shut down for maintenance, and should not be restarted automatically. When you disable a component:</p>
<ul style="list-style-type: disc;">
<li>
<p>It is no longer automatically restarted.</p>
</li>
<li>
<p>It is no longer automatically started through a dependency.</p>
</li>
<li>
<p>It cannot be started with SRVCTL.</p>
</li>
</ul>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">disable</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
<div class="infoboxnotealso" id="GUID-489938E3-931D-446F-B570-C81659AC3C52__GUID-3AEA3A09-DEB9-4000-A903-41C60F35B81A">
<p class="notep1">See Also:</p>
<p>The <a href="restart.htm#GUID-3CF9FB22-DBAD-45CE-B942-5D128938986C" title="The srvctl enable command reenables the specified disabled component.">enable</a> command</p>
</div>
</div>
<a id="ADMIN5030"></a>
<div class="sect4"><a id="GUID-440E3563-9425-4190-9AF8-C4001B9B424B"></a>
<h4 id="ADMIN-GUID-440E3563-9425-4190-9AF8-C4001B9B424B" class="sect4"><span class="enumeration_section">4.5.3.1</span> srvctl disable asm</h4>
<p>Disables the Oracle ASM instance.</p>
<a id="ADMIN12764"></a>
<div class="sect5"><a id="GUID-BC09EFC3-112C-4A80-998A-2DC57050EB80"></a>
<h5 id="ADMIN-GUID-BC09EFC3-112C-4A80-998A-2DC57050EB80" class="sect5"><span class="enumeration_section">4.5.3.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">disable</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e9385" class="indexterm-anchor"></a>srvctl disable asm
</pre></div>
</div>
</div>
<a id="ADMIN03262"></a>
<div class="sect4"><a id="GUID-ADE90B57-7E72-43A7-99F5-2EEA6A16CE65"></a>
<h4 id="ADMIN-GUID-ADE90B57-7E72-43A7-99F5-2EEA6A16CE65" class="sect4"><span class="enumeration_section">4.5.3.2</span> srvctl disable database</h4>
<p>Disables the specified database.</p>
<a id="ADMIN12963"></a><a id="ADMIN12766"></a>
<div class="sect5"><a id="GUID-614E4DC8-21BD-4D50-8CA5-2EB8A6A7C501"></a>
<h5 id="ADMIN-GUID-614E4DC8-21BD-4D50-8CA5-2EB8A6A7C501" class="sect5"><span class="enumeration_section">4.5.3.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">disable</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e9520" class="indexterm-anchor"></a>srvctl disable database -db <span class="italic">db_unique_name</span>
</pre>
<div class="tblformal" id="GUID-614E4DC8-21BD-4D50-8CA5-2EB8A6A7C501__GUID-C0085C14-89FF-496A-9CFD-B3F632C39048">
<p class="titleintable">Table 4-17 srvctl disable database Options</p>
<table class="cellalignment1849" title="srvctl disable database Options" summary="This table describes the srvctl disable database command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e9539">Option</th>
<th class="cellalignment1957" id="d46844e9542">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e9547" headers="d46844e9539">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e9547 d46844e9542">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12767"></a>
<div class="sect5"><a id="GUID-781EAD06-5E53-4773-8D86-D45685E76A4E"></a>
<h5 id="ADMIN-GUID-781EAD06-5E53-4773-8D86-D45685E76A4E" class="sect5"><span class="enumeration_section">4.5.3.2.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl disable database -db dbcrm
</pre></div>
</div>
</div>
<a id="ADMIN12835"></a>
<div class="sect4"><a id="GUID-D9263D80-F808-468F-972F-72DCA3FEF6C2"></a>
<h4 id="ADMIN-GUID-D9263D80-F808-468F-972F-72DCA3FEF6C2" class="sect4"><span class="enumeration_section">4.5.3.3</span> srvctl disable diskgroup</h4>
<p>Disables an Oracle ASM disk group.</p>
<a id="ADMIN12964"></a><a id="ADMIN12836"></a>
<div class="sect5"><a id="GUID-25CB747D-8062-4B1D-BE6B-045CFADC0A70"></a>
<h5 id="ADMIN-GUID-25CB747D-8062-4B1D-BE6B-045CFADC0A70" class="sect5"><span class="enumeration_section">4.5.3.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">disable</code> <code class="codeph">diskgroup</code> command with the following syntax:</p>
<pre dir="ltr">srvctl disable diskgroup -diskgroup <span class="italic">diskgroup_name</span>
</pre>
<div class="tblformal" id="GUID-25CB747D-8062-4B1D-BE6B-045CFADC0A70__GUID-2650896A-F243-4F6F-AAA5-397AE74408C4">
<p class="titleintable">Table 4-18 srvctl disable diskgroup Options</p>
<table class="cellalignment1849" title="srvctl disable diskgroup Options" summary="This table describes the srvctl disable diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e9780">Option</th>
<th class="cellalignment1957" id="d46844e9783">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e9788" headers="d46844e9780">
<pre dir="ltr">-diskgroup <span class="italic">diskgroup_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e9788 d46844e9783">
<p>Disk group name</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12837"></a>
<div class="sect5"><a id="GUID-6B1B8130-DBB7-4B82-9763-CB751D137BE5"></a>
<h5 id="ADMIN-GUID-6B1B8130-DBB7-4B82-9763-CB751D137BE5" class="sect5"><span class="enumeration_section">4.5.3.3.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl disable diskgroup -diskgroup DATA
</pre></div>
</div>
</div>
<a id="ADMIN12838"></a>
<div class="sect4"><a id="GUID-A34C916F-0A47-49EF-85A3-C0792CAAB1C5"></a>
<h4 id="ADMIN-GUID-A34C916F-0A47-49EF-85A3-C0792CAAB1C5" class="sect4"><span class="enumeration_section">4.5.3.4</span> srvctl disable listener</h4>
<p>Disables the specified listener or all listeners.</p>
<a id="ADMIN12965"></a><a id="ADMIN12839"></a>
<div class="sect5"><a id="GUID-AF003891-9122-4614-8C3D-5D0567A4DD41"></a>
<h5 id="ADMIN-GUID-AF003891-9122-4614-8C3D-5D0567A4DD41" class="sect5"><span class="enumeration_section">4.5.3.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">disable</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl disable listener [-listener <span class="italic">listener_name</span>]
</pre>
<div class="tblformal" id="GUID-AF003891-9122-4614-8C3D-5D0567A4DD41__GUID-BFD1BA11-0885-4796-A06B-377CD9568313">
<p class="titleintable">Table 4-19 srvctl disable listener Options</p>
<table class="cellalignment1849" title="srvctl disable listener Options" summary="This table describes the srvctl disable listener command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e10007">Option</th>
<th class="cellalignment1957" id="d46844e10010">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e10015" headers="d46844e10007">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e10015 d46844e10010">
<p>Listener name. If omitted, all listeners are disabled.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12840"></a>
<div class="sect5"><a id="GUID-891F8F9E-05CD-4913-9AAA-90B537F1F085"></a>
<h5 id="ADMIN-GUID-891F8F9E-05CD-4913-9AAA-90B537F1F085" class="sect5"><span class="enumeration_section">4.5.3.4.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl disable listener -listener crmlistener
</pre></div>
</div>
</div>
<a id="ADMIN13216"></a>
<div class="sect4"><a id="GUID-D600FB0C-6881-4351-BFA4-FBE22FEB599A"></a>
<h4 id="ADMIN-GUID-D600FB0C-6881-4351-BFA4-FBE22FEB599A" class="sect4"><span class="enumeration_section">4.5.3.5</span> srvctl disable ons</h4>
<p>Disables Oracle Notification Services (ONS).</p>
<a id="ADMIN13218"></a><a id="ADMIN13217"></a>
<div class="sect5"><a id="GUID-D3D414CD-1573-477F-9CCB-CAB841437DDC"></a>
<h5 id="ADMIN-GUID-D3D414CD-1573-477F-9CCB-CAB841437DDC" class="sect5"><span class="enumeration_section">4.5.3.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">disable</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl disable ons [-verbose]
</pre>
<div class="tblformal" id="GUID-D3D414CD-1573-477F-9CCB-CAB841437DDC__GUID-F3F28AB3-6386-426F-B2A4-F2FF0577E5A2">
<p class="titleintable">Table 4-20 srvctl disable ons Options</p>
<table class="cellalignment1849" title="srvctl disable ons Options" summary="srvctl disable ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d46844e10232">Option</th>
<th class="cellalignment1950" id="d46844e10235">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e10240" headers="d46844e10232">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1952" headers="d46844e10240 d46844e10235">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5029"></a>
<div class="sect4"><a id="GUID-771FD84A-0E83-425F-9D69-36709BE978B3"></a>
<h4 id="ADMIN-GUID-771FD84A-0E83-425F-9D69-36709BE978B3" class="sect4"><span class="enumeration_section">4.5.3.6</span> srvctl disable service</h4>
<p>Disables one or more database services.</p>
<a id="ADMIN12966"></a><a id="ADMIN12768"></a>
<div class="sect5"><a id="GUID-9A6B69B5-2B05-48DD-8490-658528E8D122"></a>
<h5 id="ADMIN-GUID-9A6B69B5-2B05-48DD-8490-658528E8D122" class="sect5"><span class="enumeration_section">4.5.3.6.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">disable</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e10375" class="indexterm-anchor"></a>srvctl disable service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name_list</span> 
  [-global_override
</pre>
<div class="tblformal" id="GUID-9A6B69B5-2B05-48DD-8490-658528E8D122__GUID-BEA804A4-921A-4229-A124-191B5FDB78CF">
<p class="titleintable">Table 4-21 srvctl disable service Options</p>
<table class="cellalignment1849" title="srvctl disable service Options" summary="srvctl disable service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1863" id="d46844e10398">Option</th>
<th class="cellalignment1959" id="d46844e10401">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1865" id="d46844e10406" headers="d46844e10398">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1960" headers="d46844e10406 d46844e10401">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1865" id="d46844e10430" headers="d46844e10398">
<pre dir="ltr">-service <span class="italic">service_name_list</span>
</pre></td>
<td class="cellalignment1960" headers="d46844e10430 d46844e10401">
<p>Comma-delimited list of database service names</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1865" id="d46844e10439" headers="d46844e10398">
<pre dir="ltr">-global_override
</pre></td>
<td class="cellalignment1960" headers="d46844e10439 d46844e10401">
<p>If the service is a Global Data Services (GDS) service, then this option must be specified to disable the service.</p>
<p>An error is returned if you attempt to disable a GDS service and <code class="codeph">-global_override</code> is not included.</p>
<p>This option is ignored if the service is not a GDS service.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12769"></a>
<div class="sect5"><a id="GUID-D0189B4C-EBC9-4EE7-BF02-BE2123947F87"></a>
<h5 id="ADMIN-GUID-D0189B4C-EBC9-4EE7-BF02-BE2123947F87" class="sect5"><span class="enumeration_section">4.5.3.6.2</span> Example</h5>
<div>
<p>The following example disables the database service <code class="codeph">sales</code> and <code class="codeph">mfg</code>:</p>
<pre dir="ltr">srvctl disable service -db dbcrm -service sales,mfg
</pre></div>
</div>
</div>
</div>
<a id="ADMIN14136"></a>
<div class="sect3"><a id="GUID-AF688C5F-4904-4F5E-BD65-F6AB8D233467"></a>
<h3 id="ADMIN-GUID-AF688C5F-4904-4F5E-BD65-F6AB8D233467" class="sect3"><span class="enumeration_section">4.5.4</span> downgrade</h3>
<p>The <code class="codeph">srvctl</code> <code class="codeph">downgrade</code> command downgrades the database configuration after you manually downgrade the database.</p>
<a id="ADMIN14137"></a>
<div class="sect4"><a id="GUID-EFB3F8E1-1352-4CEA-B3E4-6849CE8D816E"></a>
<h4 id="ADMIN-GUID-EFB3F8E1-1352-4CEA-B3E4-6849CE8D816E" class="sect4"><span class="enumeration_section">4.5.4.1</span> srvctl downgrade database</h4>
<p>The <code class="codeph">srvctl downgrade database</code> command downgrades the configuration of a database and its services from its current version to the specified lower version.</p>
<a id="ADMIN14139"></a><a id="ADMIN14138"></a>
<div class="sect5"><a id="GUID-A62758B1-08E8-4312-B496-C1C13357036C"></a>
<h5 id="ADMIN-GUID-A62758B1-08E8-4312-B496-C1C13357036C" class="sect5"><span class="enumeration_section">4.5.4.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">downgrade</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr">srvctl downgrade database -db <span class="italic">db_unique_name</span> -oraclehome <span class="italic">oracle_home</span> 
       -targetversion <span class="italic">to_version</span>
</pre>
<div class="tblformal" id="GUID-A62758B1-08E8-4312-B496-C1C13357036C__GUID-B5607A3B-D30A-4454-AE49-432395FAF4DC">
<p class="titleintable">Table 4-22 srvctl downgrade database Options</p>
<table class="cellalignment1849" title="srvctl downgrade database Options" summary="This table describes the srvctl downgrade database command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e10750">Option</th>
<th class="cellalignment1957" id="d46844e10753">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e10758" headers="d46844e10750">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e10758 d46844e10753">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e10782" headers="d46844e10750">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e10782 d46844e10753">
<p>The full path of Oracle home for the database</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e10791" headers="d46844e10750">
<pre dir="ltr">-targetversion <span class="italic">to_version</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e10791 d46844e10753">
<p>The version to which to downgrade</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
</div>
<a id="ADMIN12967"></a><a id="ADMIN5021"></a>
<div class="sect3"><a id="GUID-3CF9FB22-DBAD-45CE-B942-5D128938986C"></a>
<h3 id="ADMIN-GUID-3CF9FB22-DBAD-45CE-B942-5D128938986C" class="sect3"><span class="enumeration_section">4.5.5</span> enable</h3>
<div>
<p>The <code class="codeph">srvctl</code> <code class="codeph">enable</code> command reenables the specified disabled component.</p>
<p>When you enable a component:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle Restart can automatically restart it.</p>
</li>
<li>
<p>It can be automatically started through a dependency.</p>
</li>
<li>
<p>You can start it manually with SRVCTL.</p>
</li>
</ul>
<p>If the component is already enabled, then the command is ignored.</p>
<p>When you add a component to the Oracle Restart configuration, it is enabled by default.</p>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">enable</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
<div class="infoboxnotealso" id="GUID-3CF9FB22-DBAD-45CE-B942-5D128938986C__GUID-5CB339EA-17CE-4DF4-AA89-959D7771FB4F">
<p class="notep1">See Also:</p>
<p>The <a href="restart.htm#GUID-489938E3-931D-446F-B570-C81659AC3C52" title="Disables a component, which suspends management of that component by Oracle Restart.">disable</a> command</p>
</div>
</div>
<a id="ADMIN5025"></a>
<div class="sect4"><a id="GUID-75D2A8F6-1EF1-420A-88B7-E5538CF4553C"></a>
<h4 id="ADMIN-GUID-75D2A8F6-1EF1-420A-88B7-E5538CF4553C" class="sect4"><span class="enumeration_section">4.5.5.1</span> srvctl enable asm</h4>
<p>Enables an Oracle ASM instance.</p>
<a id="ADMIN12758"></a>
<div class="sect5"><a id="GUID-A734C5FB-3076-43AC-8C64-6F1B5556D16E"></a>
<h5 id="ADMIN-GUID-A734C5FB-3076-43AC-8C64-6F1B5556D16E" class="sect5"><span class="enumeration_section">4.5.5.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e11042" class="indexterm-anchor"></a>srvctl enable asm
</pre></div>
</div>
</div>
<a id="ADMIN5022"></a>
<div class="sect4"><a id="GUID-7ED117A9-A7BB-4772-92C7-D7E53EA83910"></a>
<h4 id="ADMIN-GUID-7ED117A9-A7BB-4772-92C7-D7E53EA83910" class="sect4"><span class="enumeration_section">4.5.5.2</span> srvctl enable database</h4>
<p>Enables the specified database.</p>
<a id="ADMIN12968"></a><a id="ADMIN12760"></a>
<div class="sect5"><a id="GUID-D0165784-9F4D-4E0D-B1CF-83C534CEDF36"></a>
<h5 id="ADMIN-GUID-D0165784-9F4D-4E0D-B1CF-83C534CEDF36" class="sect5"><span class="enumeration_section">4.5.5.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e11177" class="indexterm-anchor"></a>srvctl enable database -db <span class="italic">db_unique_name</span>
</pre>
<div class="tblformal" id="GUID-D0165784-9F4D-4E0D-B1CF-83C534CEDF36__GUID-6410842A-ED34-43C0-9C39-581CA0C821C4">
<p class="titleintable">Table 4-23 srvctl enable database Options</p>
<table class="cellalignment1849" title="srvctl enable database Options" summary="This table describes the srvctl enable database command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e11196">Option</th>
<th class="cellalignment1957" id="d46844e11199">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e11204" headers="d46844e11196">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e11204 d46844e11199">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12761"></a>
<div class="sect5"><a id="GUID-8ACE8CB0-32E3-4429-8006-EBD2D0A2E462"></a>
<h5 id="ADMIN-GUID-8ACE8CB0-32E3-4429-8006-EBD2D0A2E462" class="sect5"><span class="enumeration_section">4.5.5.2.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl enable database -db dbcrm
</pre></div>
</div>
</div>
<a id="ADMIN12841"></a>
<div class="sect4"><a id="GUID-8ED273A0-5FC0-4CA8-942D-248A297D7EAF"></a>
<h4 id="ADMIN-GUID-8ED273A0-5FC0-4CA8-942D-248A297D7EAF" class="sect4"><span class="enumeration_section">4.5.5.3</span> srvctl enable diskgroup</h4>
<p>Enables an Oracle ASM disk group.</p>
<a id="ADMIN12969"></a><a id="ADMIN12842"></a>
<div class="sect5"><a id="GUID-29223537-6E84-47E4-9116-B936D048153D"></a>
<h5 id="ADMIN-GUID-29223537-6E84-47E4-9116-B936D048153D" class="sect5"><span class="enumeration_section">4.5.5.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">diskgroup</code> command with the following syntax:</p>
<pre dir="ltr">srvctl enable diskgroup -diskgroup <span class="italic">diskgroup_name</span>
</pre>
<div class="tblformal" id="GUID-29223537-6E84-47E4-9116-B936D048153D__GUID-221EA2D6-3953-4D41-A247-D2FC9515D7A0">
<p class="titleintable">Table 4-24 srvctl enable diskgroup Options</p>
<table class="cellalignment1849" title="srvctl enable diskgroup Options" summary="This table describes the srvctl enable diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e11437">Option</th>
<th class="cellalignment1957" id="d46844e11440">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e11445" headers="d46844e11437">
<pre dir="ltr">-diskgroup <span class="italic">diskgroup_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e11445 d46844e11440">
<p>Disk group name</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12843"></a>
<div class="sect5"><a id="GUID-903E5E89-6053-4EE9-9415-D8EDB6F452BF"></a>
<h5 id="ADMIN-GUID-903E5E89-6053-4EE9-9415-D8EDB6F452BF" class="sect5"><span class="enumeration_section">4.5.5.3.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl enable diskgroup -diskgroup DATA
</pre></div>
</div>
</div>
<a id="ADMIN12844"></a>
<div class="sect4"><a id="GUID-AD1CDCBF-5447-4769-BA5D-335CF9CE7F8F"></a>
<h4 id="ADMIN-GUID-AD1CDCBF-5447-4769-BA5D-335CF9CE7F8F" class="sect4"><span class="enumeration_section">4.5.5.4</span> srvctl enable listener</h4>
<p>Enables the specified listener or all listeners.</p>
<a id="ADMIN12970"></a><a id="ADMIN12845"></a>
<div class="sect5"><a id="GUID-7F396644-6347-4008-99B7-04E16B85FB8A"></a>
<h5 id="ADMIN-GUID-7F396644-6347-4008-99B7-04E16B85FB8A" class="sect5"><span class="enumeration_section">4.5.5.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl enable listener [-listener <span class="italic">listener_name</span>]
</pre>
<div class="tblformal" id="GUID-7F396644-6347-4008-99B7-04E16B85FB8A__GUID-D38D0723-FFD1-4357-B908-D9ED368C3D99">
<p class="titleintable">Table 4-25 srvctl enable listener Options</p>
<table class="cellalignment1849" title="srvctl enable listener Options" summary="This table describes the srvctl enable listener command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e11664">Option</th>
<th class="cellalignment1957" id="d46844e11667">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e11672" headers="d46844e11664">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e11672 d46844e11667">
<p>Listener name. If omitted, all listeners are enabled.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12846"></a>
<div class="sect5"><a id="GUID-2C6A1810-EBDD-40B7-90E3-48F905BF3869"></a>
<h5 id="ADMIN-GUID-2C6A1810-EBDD-40B7-90E3-48F905BF3869" class="sect5"><span class="enumeration_section">4.5.5.4.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl enable listener -listener crmlistener
</pre></div>
</div>
</div>
<a id="ADMIN13222"></a>
<div class="sect4"><a id="GUID-C118DAF2-0468-4AC5-B7CB-304AED042532"></a>
<h4 id="ADMIN-GUID-C118DAF2-0468-4AC5-B7CB-304AED042532" class="sect4"><span class="enumeration_section">4.5.5.5</span> srvctl enable ons</h4>
<p>Enables Oracle Notification Services (ONS).</p>
<a id="ADMIN13224"></a><a id="ADMIN13223"></a>
<div class="sect5"><a id="GUID-7B925536-9A02-4CEB-9FE6-575921B53AA4"></a>
<h5 id="ADMIN-GUID-7B925536-9A02-4CEB-9FE6-575921B53AA4" class="sect5"><span class="enumeration_section">4.5.5.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl enable ons [-verbose]
</pre>
<div class="tblformal" id="GUID-7B925536-9A02-4CEB-9FE6-575921B53AA4__GUID-CE9CB5E9-9F1C-478B-84A3-3B0208CF10FB">
<p class="titleintable">Table 4-26 srvctl enable ons Options</p>
<table class="cellalignment1849" title="srvctl enable ons Options" summary="srvctl enable ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1939" id="d46844e11889">Option</th>
<th class="cellalignment1940" id="d46844e11892">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e11897" headers="d46844e11889">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1942" headers="d46844e11897 d46844e11892">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5024"></a>
<div class="sect4"><a id="GUID-5DD5720A-F1CA-4CFD-BEF3-C605DAF27EC2"></a>
<h4 id="ADMIN-GUID-5DD5720A-F1CA-4CFD-BEF3-C605DAF27EC2" class="sect4"><span class="enumeration_section">4.5.5.6</span> srvctl enable service</h4>
<p>Enables one or more database services for the specified database.</p>
<a id="ADMIN12971"></a><a id="ADMIN12762"></a>
<div class="sect5"><a id="GUID-0EBCA853-B9B8-4107-BDA7-73B11BA36729"></a>
<h5 id="ADMIN-GUID-0EBCA853-B9B8-4107-BDA7-73B11BA36729" class="sect5"><span class="enumeration_section">4.5.5.6.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">enable</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e12032" class="indexterm-anchor"></a>srvctl enable service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name_list</span> 
  [-global_override]
</pre>
<div class="tblformal" id="GUID-0EBCA853-B9B8-4107-BDA7-73B11BA36729__GUID-66D23886-1305-41E0-96E1-C91C647FA6AA">
<p class="titleintable">Table 4-27 srvctl enable service Options</p>
<table class="cellalignment1849" title="srvctl enable service Options" summary="srvctl enable service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1892" id="d46844e12055">Option</th>
<th class="cellalignment1945" id="d46844e12058">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e12063" headers="d46844e12055">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1946" headers="d46844e12063 d46844e12058">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e12087" headers="d46844e12055">
<pre dir="ltr">-service <span class="italic">service_name_list</span>
</pre></td>
<td class="cellalignment1946" headers="d46844e12087 d46844e12058">
<p>Comma-delimited list of database service names</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1895" id="d46844e12096" headers="d46844e12055">
<pre dir="ltr">-global_override
</pre></td>
<td class="cellalignment1946" headers="d46844e12096 d46844e12058">
<p>If the service is a Global Data Services (GDS) service, then this option must be specified to enable the service.</p>
<p>An error is returned if you attempt to enable a GDS service and <code class="codeph">-global_override</code> is not included.</p>
<p>This option is ignored if the service is not a GDS service.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12763"></a>
<div class="sect5"><a id="GUID-CD7302F2-2FB1-405B-B60C-4157941A1F09"></a>
<h5 id="ADMIN-GUID-CD7302F2-2FB1-405B-B60C-4157941A1F09" class="sect5"><span class="enumeration_section">4.5.5.6.2</span> Example</h5>
<div>
<p>The following example enables the database services <code class="codeph">sales</code> and <code class="codeph">mfg</code> in the database with <code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr">srvctl enable service -db dbcrm -service &#34;sales,mfg&#34;
</pre></div>
</div>
</div>
</div>
<a id="ADMIN12972"></a><a id="ADMIN5058"></a>
<div class="sect3"><a id="GUID-F9BECEAF-CB80-4000-88C6-67184FBEF396"></a>
<h3 id="ADMIN-GUID-F9BECEAF-CB80-4000-88C6-67184FBEF396" class="sect3"><span class="enumeration_section">4.5.6</span> getenv</h3>
<div>
<p>Gets and displays environment variables and their values from the Oracle Restart configuration for a database, listener, or Oracle ASM instance.</p>
<div class="infoboxnotealso" id="GUID-F9BECEAF-CB80-4000-88C6-67184FBEF396__GUID-05178CA1-900D-4669-8C0C-DC905704B7ED">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="restart.htm#GUID-2B8EFD90-9FB9-4E59-825B-29D4BA893ED3" title="The setenv command sets values of environment variables in the Oracle Restart configuration for a database, a listener, or the Oracle ASM instance.">setenv</a> command</p>
</li>
<li>
<p><a href="restart.htm#GUID-37E67B5B-72B9-4D0C-9E69-A44B845F7B31" title="The unsetenv command deletes one or more environment variables from the Oracle Restart configuration for a database, a listener, or an Oracle ASM instance.">unsetenv</a> command</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-BE1395D5-1C26-471F-8987-FBF73987342F" title="The Oracle Restart configuration can store name/value pairs for environment variables.">Managing Environment Variables in the Oracle Restart Configuration</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="ADMIN12847"></a>
<div class="sect4"><a id="GUID-21A07FE9-9396-4D7D-B0EB-B6BA7C75EB68"></a>
<h4 id="ADMIN-GUID-21A07FE9-9396-4D7D-B0EB-B6BA7C75EB68" class="sect4"><span class="enumeration_section">4.5.6.1</span> srvctl getenv asm</h4>
<p>Displays the configured environment variables for the Oracle ASM instance.</p>
<a id="ADMIN12973"></a><a id="ADMIN12848"></a>
<div class="sect5"><a id="GUID-49E1A652-3970-4EDD-BC44-5705B68E74F4"></a>
<h5 id="ADMIN-GUID-49E1A652-3970-4EDD-BC44-5705B68E74F4" class="sect5"><span class="enumeration_section">4.5.6.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">getenv</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr">srvctl getenv asm [-envs <span class="italic">name_list</span>]
</pre>
<div class="tblformal" id="GUID-49E1A652-3970-4EDD-BC44-5705B68E74F4__GUID-D6364BD4-E966-4C77-8DEE-A2AB40189EA8">
<p class="titleintable">Table 4-28 srvctl getenv asm Options</p>
<table class="cellalignment1849" title="srvctl getenv asm Options" summary="srvctl getenv asm Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e12442">Options</th>
<th class="cellalignment1957" id="d46844e12445">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e12450" headers="d46844e12442">
<pre dir="ltr">-envs <span class="italic">name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e12450 d46844e12445">
<p>Comma-delimited list of names of environment variables to display. If omitted, SRVCTL displays all configured environment variables for Oracle ASM.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12849"></a>
<div class="sect5"><a id="GUID-5CE09673-EAA0-4979-A92A-C0CCA940B412"></a>
<h5 id="ADMIN-GUID-5CE09673-EAA0-4979-A92A-C0CCA940B412" class="sect5"><span class="enumeration_section">4.5.6.1.2</span> Example</h5>
<div>
<p>The following example displays all configured environment variables for the Oracle ASM instance:</p>
<pre dir="ltr">srvctl getenv asm
</pre></div>
</div>
</div>
<a id="ADMIN12850"></a>
<div class="sect4"><a id="GUID-1756C7AD-131F-4B37-A12F-0C39C823D3DB"></a>
<h4 id="ADMIN-GUID-1756C7AD-131F-4B37-A12F-0C39C823D3DB" class="sect4"><span class="enumeration_section">4.5.6.2</span> srvctl getenv database</h4>
<p>Displays the configured environment variables for the specified database.</p>
<a id="ADMIN12974"></a><a id="ADMIN12851"></a>
<div class="sect5"><a id="GUID-8617928C-F99B-40BF-903C-05D5DAC1B2C6"></a>
<h5 id="ADMIN-GUID-8617928C-F99B-40BF-903C-05D5DAC1B2C6" class="sect5"><span class="enumeration_section">4.5.6.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">getenv</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr">srvctl getenv database -db <span class="italic">db_unique_name</span> [-envs <span class="italic">name_list</span>]
</pre>
<div class="tblformal" id="GUID-8617928C-F99B-40BF-903C-05D5DAC1B2C6__GUID-7A3E7CE6-A727-4E88-9E5D-C18AD882B0B2">
<p class="titleintable">Table 4-29 srvctl getenv database Options</p>
<table class="cellalignment1849" title="srvctl getenv database Options" summary="srvctl getenv database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e12675">Options</th>
<th class="cellalignment1957" id="d46844e12678">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e12683" headers="d46844e12675">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e12683 d46844e12678">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e12707" headers="d46844e12675">
<pre dir="ltr">-envs <span class="italic">name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e12707 d46844e12678">
<p>Comma-delimited list of names of environment variables to display. If omitted, SRVCTL displays all configured environment variables.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12852"></a>
<div class="sect5"><a id="GUID-2163C516-867B-4148-AB8A-B28608C22919"></a>
<h5 id="ADMIN-GUID-2163C516-867B-4148-AB8A-B28608C22919" class="sect5"><span class="enumeration_section">4.5.6.2.2</span> Example</h5>
<div>
<p>The following example displays all configured environment variables for the database with <code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr">srvctl getenv database -db dbcrm
</pre></div>
</div>
</div>
<a id="ADMIN12853"></a>
<div class="sect4"><a id="GUID-84672CF3-12EC-432A-9643-864DCA77CD17"></a>
<h4 id="ADMIN-GUID-84672CF3-12EC-432A-9643-864DCA77CD17" class="sect4"><span class="enumeration_section">4.5.6.3</span> srvctl getenv listener</h4>
<p>Displays the configured environment variables for the specified listener.</p>
<a id="ADMIN12975"></a><a id="ADMIN12854"></a>
<div class="sect5"><a id="GUID-8AF64DDA-0382-48A6-907F-2C748A6E3C43"></a>
<h5 id="ADMIN-GUID-8AF64DDA-0382-48A6-907F-2C748A6E3C43" class="sect5"><span class="enumeration_section">4.5.6.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">getenv</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl getenv listener [-listener <span class="italic">listener_name</span>] [-envs <span class="italic">name_list</span>]
</pre>
<div class="tblformal" id="GUID-8AF64DDA-0382-48A6-907F-2C748A6E3C43__GUID-C999A0BE-BAB6-42BD-B819-B909FF178F81">
<p class="titleintable">Table 4-30 srvctl getenv listener Options</p>
<table class="cellalignment1849" title="srvctl getenv listener Options" summary="srvctl getenv listener Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e12937">Options</th>
<th class="cellalignment1957" id="d46844e12940">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e12945" headers="d46844e12937">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e12945 d46844e12940">
<p>Listener name. If omitted, SRVCTL lists environment variables for all listeners.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e12954" headers="d46844e12937">
<pre dir="ltr">-envs <span class="italic">name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e12954 d46844e12940">
<p>Comma-delimited list of names of environment variables to display. If omitted, SRVCTL displays all configured environment variables.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12855"></a>
<div class="sect5"><a id="GUID-990F64AA-8034-4B2D-9095-F885413A5CBB"></a>
<h5 id="ADMIN-GUID-990F64AA-8034-4B2D-9095-F885413A5CBB" class="sect5"><span class="enumeration_section">4.5.6.3.2</span> Example</h5>
<div>
<p>The following example displays all configured environment variables for the listener named <code class="codeph">crmlistener</code>:</p>
<pre dir="ltr">srvctl getenv listener -listener crmlistener
</pre></div>
</div>
</div>
</div>
<a id="ADMIN12976"></a><a id="ADMIN5044"></a>
<div class="sect3"><a id="GUID-127F4A05-5275-489A-AECF-B29EABBF35B6"></a>
<h3 id="ADMIN-GUID-127F4A05-5275-489A-AECF-B29EABBF35B6" class="sect3"><span class="enumeration_section">4.5.7</span> modify</h3>
<div>
<p>Modifies the Oracle Restart configuration of a component. The change takes effect when the component is next restarted.</p>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">modify</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
</div>
<a id="ADMIN12789"></a>
<div class="sect4"><a id="GUID-0F86C49F-6C57-4B99-A672-94A405F376E0"></a>
<h4 id="ADMIN-GUID-0F86C49F-6C57-4B99-A672-94A405F376E0" class="sect4"><span class="enumeration_section">4.5.7.1</span> srvctl modify asm</h4>
<p>Modifies the Oracle Restart configuration for the Oracle ASM instance.</p>
<a id="ADMIN12977"></a><a id="ADMIN12790"></a>
<div class="sect5"><a id="GUID-2AEF2C56-5A88-49CD-B81B-C545FA70185F"></a>
<h5 id="ADMIN-GUID-2AEF2C56-5A88-49CD-B81B-C545FA70185F" class="sect5"><span class="enumeration_section">4.5.7.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e13238" class="indexterm-anchor"></a>srvctl modify asm [-listener <span class="italic">listener_name</span>] [-spfile <span class="italic">spfile</span>] 
  [-pwfile <span class="italic">password_file_path</span>] [-diskstring <span class="italic">asm_diskstring</span>]
</pre>
<div class="tblformal" id="GUID-2AEF2C56-5A88-49CD-B81B-C545FA70185F__GUID-C04B3C11-4907-4623-B589-DBF9FA9F624F">
<p class="titleintable">Table 4-31 srvctl modify asm Options</p>
<table class="cellalignment1849" title="srvctl modify asm Options" summary="This table lists srvctl modify asm options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e13265">Option</th>
<th class="cellalignment1957" id="d46844e13268">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13273" headers="d46844e13265">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13273 d46844e13268">
<p>Name of the listener with which Oracle ASM must register. A weak dependency is established with this listener. (Before Oracle ASM is started, Oracle Restart ensures that this listener is started.)</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13282" headers="d46844e13265">
<pre dir="ltr">-spfile <span class="italic">spfile</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13282 d46844e13268">
<p>The full path of the server parameter file for the database. If omitted, the default SPFILE is used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13291" headers="d46844e13265">
<pre dir="ltr">-pwfile <span class="italic">password_file_path</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13291 d46844e13268">
<p>The full path of the Oracle ASM password file.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13300" headers="d46844e13265">
<pre dir="ltr">-diskstring <span class="italic">asm_diskstring</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13300 d46844e13268">
<p>Oracle ASM disk group discovery string. An Oracle ASM discovery string is a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers. The discovery strings can include wildcard characters. Only disks that match one of the strings are discovered.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12791"></a>
<div class="sect5"><a id="GUID-2768FE8B-38A3-4DEC-9C45-D87C6B0B4D2E"></a>
<h5 id="ADMIN-GUID-2768FE8B-38A3-4DEC-9C45-D87C6B0B4D2E" class="sect5"><span class="enumeration_section">4.5.7.1.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl modify asm -listener crmlistener
</pre>
<div class="infoboxnotealso" id="GUID-2768FE8B-38A3-4DEC-9C45-D87C6B0B4D2E__GUID-68ED4226-FAAE-4A21-947B-D29C447E3AA5">
<p class="notep1">See Also:</p>
<p><a class="olink OSTMG136" target="_blank" href="../OSTMG/GUID-461E1F97-9F75-4B14-AB6A-893BD8D371DE.htm#OSTMG136"><span class="italic">Oracle Automatic Storage Management Administrator&#39;s Guide</span></a> for more information about Oracle ASM disk group discovery strings</p>
</div>
</div>
</div>
</div>
<a id="ADMIN5045"></a>
<div class="sect4"><a id="GUID-79B9EC11-9711-424F-94D1-6B0EFCF77173"></a>
<h4 id="ADMIN-GUID-79B9EC11-9711-424F-94D1-6B0EFCF77173" class="sect4"><span class="enumeration_section">4.5.7.2</span> srvctl modify database</h4>
<p>Modifies the Oracle Restart configuration for a database.</p>
<a id="ADMIN12978"></a><a id="ADMIN12792"></a>
<div class="sect5"><a id="GUID-B355C14F-1C8B-41FC-AE86-14A521AD4FF1"></a>
<h5 id="ADMIN-GUID-B355C14F-1C8B-41FC-AE86-14A521AD4FF1" class="sect5"><span class="enumeration_section">4.5.7.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e13506" class="indexterm-anchor"></a>srvctl modify database -db <span class="italic">db_unique_name</span> [-oraclehome <span class="italic">oracle_home</span>] 
  [-user <span class="italic">oracle_user</span>] [-domain <span class="italic">domain_name</span>] [-dbname <span class="italic">db_name</span>] 
  [-instance <span class="italic">instance_name</span>] [-instance <span class="italic">instance_name</span>] [-spfile <span class="italic">spfile</span>] 
  [-pwfile <span class="italic">password_file_path</span>] [-startoption <span class="italic">start_options</span>] 
  [-stopoption <span class="italic">stop_options</span>] 
  [-role {PRIMARY | PHYSICAL_STANDBY | LOGICAL_STANDBY | SNAPSHOT_STANDBY}] 
  [-policy {AUTOMATIC | MANUAL | NORESTART}] 
  [{-diskgroup &#34;<span class="italic">diskgroup_list</span>&#34; | -nodiskgroup}] [-force]
</pre>
<div class="tblformal" id="GUID-B355C14F-1C8B-41FC-AE86-14A521AD4FF1__GUID-C2D743B3-AD7A-4F44-B0AA-32D3DA53870D">
<p class="titleintable">Table 4-32 srvctl modify database Options</p>
<table class="cellalignment1849" title="srvctl modify database Options" summary="srvctl modify database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e13568">Option</th>
<th class="cellalignment1957" id="d46844e13571">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13576" headers="d46844e13568">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13576 d46844e13571">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13600" headers="d46844e13568">
<pre dir="ltr">-user <span class="italic">oracle_user</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13600 d46844e13571">
<p>Name of the Oracle user who owns the Oracle home directory</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13609" headers="d46844e13568">
<pre dir="ltr">-diskgroup <span class="italic">disk_group_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13609 d46844e13571">
<p>Comma separated list of disk groups upon which the database is dependent. When starting the database, Oracle Restart first ensures that these disk groups are mounted. This option is required only if the database instance and the Oracle ASM instance are not started when adding the database. Otherwise, the dependency is recorded automatically between the database and its disk groups.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13618" headers="d46844e13568">
<pre dir="ltr">-nodiskgroup
</pre></td>
<td class="cellalignment1958" headers="d46844e13618 d46844e13571">
<p>Remove the database&#39;s dependency on Oracle ASM disk groups</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13625" headers="d46844e13568">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e13625 d46844e13571">
<p>Force the operation even though the some resources might be stopped.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13632" headers="d46844e13568">
<p>(Other options)</p>
</td>
<td class="cellalignment1958" headers="d46844e13632 d46844e13571">
<p>See <a href="restart.htm#GUID-9C1826CB-B56C-4DE7-83D6-7A0348C67FAD__BABHHAHI" title="srvctl add database Options">Table 4-9</a></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12793"></a>
<div class="sect5"><a id="GUID-4EC51D00-3D52-4769-92C4-2C8F7F1DA984"></a>
<h5 id="ADMIN-GUID-4EC51D00-3D52-4769-92C4-2C8F7F1DA984" class="sect5"><span class="enumeration_section">4.5.7.2.2</span> Example</h5>
<div>
<p>The following example changes the role of the database with <code class="codeph">DB_UNIQUE_NAME</code> <code class="codeph">dbcrm</code> to <code class="codeph">LOGICAL_STANDBY</code>:</p>
<pre dir="ltr">srvctl modify database -db dbcrm -role logical_standby
</pre>
<div class="infoboxnotealso" id="GUID-4EC51D00-3D52-4769-92C4-2C8F7F1DA984__GUID-CF1B923F-E889-4A49-A6E6-2FE5A97C02F4">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-2F516A26-96EE-416E-8016-345D9ED4EF47" title="Oracle Restart is integrated with Oracle Data Guard (Data Guard) and the Oracle Data Guard Broker (the broker).">Oracle Restart Integration with Oracle Data Guard</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SBYDB4701" target="_blank" href="../SBYDB/concepts.htm#SBYDB4701"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADMIN5098"></a>
<div class="sect4"><a id="GUID-9CD2885F-9684-4185-8664-37205C8160E6"></a>
<h4 id="ADMIN-GUID-9CD2885F-9684-4185-8664-37205C8160E6" class="sect4"><span class="enumeration_section">4.5.7.3</span> srvctl modify listener</h4>
<p>Modifies the Oracle Restart configuration for the specified listener or all listeners.</p>
<a id="ADMIN12979"></a><a id="ADMIN12794"></a>
<div class="sect5"><a id="GUID-50253FFA-37B0-4E74-99C6-2F71FB94270A"></a>
<h5 id="ADMIN-GUID-50253FFA-37B0-4E74-99C6-2F71FB94270A" class="sect5"><span class="enumeration_section">4.5.7.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e13859" class="indexterm-anchor"></a>srvctl modify listener [-listener <span class="italic">listener_name</span>] [-endpoints <span class="italic">endpoints</span>] 
  [-oraclehome <span class="italic">oracle_home</span>]
</pre>
<div class="tblformal" id="GUID-50253FFA-37B0-4E74-99C6-2F71FB94270A__GUID-164DF9C4-864F-4DC6-8E1A-DA133AFDD79B">
<p class="titleintable">Table 4-33 srvctl modify listener Options</p>
<table class="cellalignment1849" title="srvctl modify listener Options" summary="This table describes the srvctl modify listener command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e13883">Option</th>
<th class="cellalignment1957" id="d46844e13886">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13891" headers="d46844e13883">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13891 d46844e13886">
<p>Listener name. If omitted, all listener configurations are modified.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13900" headers="d46844e13883">
<pre dir="ltr">-endpoints <span class="italic">endpoints</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13900 d46844e13886">
<p>Comma separated TCP ports or listener endpoints. <span class="italic">endpoints</span> syntax is:</p>
<pre dir="ltr">&#34;[TCP:]<span class="italic">port</span>[, ...] [/IPC:<span class="italic">key</span>] [/NMP:<span class="italic">pipe_name</span>] [/TCPS:<span class="italic">s_port</span>] [/SDP:<span class="italic">port</span>]&#34;
</pre></td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e13929" headers="d46844e13883">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e13929 d46844e13886">
<p>New Oracle home for the listener</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12795"></a>
<div class="sect5"><a id="GUID-2538F40A-2DA2-4B71-8995-9D66468524B0"></a>
<h5 id="ADMIN-GUID-2538F40A-2DA2-4B71-8995-9D66468524B0" class="sect5"><span class="enumeration_section">4.5.7.3.2</span> Example</h5>
<div>
<p>This example modifies the TCP port on which the listener named <code class="codeph">crmlistener</code> listens:</p>
<pre dir="ltr">srvctl modify listener -listener crmlistener -endpoints TCP:1522
</pre></div>
</div>
</div>
<a id="ADMIN13228"></a>
<div class="sect4"><a id="GUID-48079132-5767-4838-9C8A-482816572006"></a>
<h4 id="ADMIN-GUID-48079132-5767-4838-9C8A-482816572006" class="sect4"><span class="enumeration_section">4.5.7.4</span> srvctl modify ons</h4>
<p>Modifies Oracle Notification Services (ONS).</p>
<a id="ADMIN13230"></a><a id="ADMIN13229"></a>
<div class="sect5"><a id="GUID-03A86CD9-7790-4BD7-8F2F-97BB5FEC637F"></a>
<h5 id="ADMIN-GUID-03A86CD9-7790-4BD7-8F2F-97BB5FEC637F" class="sect5"><span class="enumeration_section">4.5.7.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl modify ons [-emport <span class="italic">em_port</span>] [-onslocalport <span class="italic">ons_local_port</span>] 
  [-onsremoteport <span class="italic">ons_remote_port</span>] [-remoteservers <span class="italic">host</span>[<span class="italic">:port</span>],[<span class="italic">host</span>[<span class="italic">:port</span>]...]] 
  [-verbose]
</pre>
<div class="tblformal" id="GUID-03A86CD9-7790-4BD7-8F2F-97BB5FEC637F__GUID-97FAD157-D613-4B40-8297-FA7B45551476">
<p class="titleintable">Table 4-34 srvctl modify ons Options</p>
<table class="cellalignment1849" title="srvctl modify ons Options" summary="srvctl modify ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e14170">Option</th>
<th class="cellalignment1957" id="d46844e14173">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14178" headers="d46844e14170">
<pre dir="ltr">-emport <span class="italic">em_port</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14178 d46844e14173">
<p>ONS listening port for Cloud Control. The default is 2016.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14187" headers="d46844e14170">
<pre dir="ltr">-onslocalport <span class="italic">ons_local_port</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14187 d46844e14173">
<p>ONS listening port for local client connections</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14196" headers="d46844e14170">
<pre dir="ltr">-onsremoteport <span class="italic">ons_remote_port</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14196 d46844e14173">
<p>ONS listening port for connections from remote hosts</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14205" headers="d46844e14170">
<pre dir="ltr">-remoteservers host[<span class="italic">:port</span>],[<span class="italic">host</span>[<span class="italic">:port</span>],...
</pre></td>
<td class="cellalignment1958" headers="d46844e14205 d46844e14173">
<p>A list of <span class="italic"><code class="codeph">host:port</code></span> pairs of remote hosts that are part of the ONS network</p>
<p><span class="bold">Note:</span> If <span class="italic"><code class="codeph">port</code></span> is not specified for a remote host, then <code class="codeph">ons_remote_port</code> is used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14236" headers="d46844e14170">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e14236 d46844e14173">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5047"></a>
<div class="sect4"><a id="GUID-45A7239E-B588-404E-A831-E62541092AE9"></a>
<h4 id="ADMIN-GUID-45A7239E-B588-404E-A831-E62541092AE9" class="sect4"><span class="enumeration_section">4.5.7.5</span> srvctl modify service</h4>
<div>
<p>Modifies the Oracle Restart configuration of a database service.</p>
<div class="infobox-note" id="GUID-45A7239E-B588-404E-A831-E62541092AE9__GUID-BB99327B-94BD-4B20-B38D-62E9B47FDD8D">
<p class="notep1">Note:</p>
<p>Oracle recommends that you limit configuration changes to the minimum requirement and that you not perform other service operations while the online service modification is in progress.</p>
</div>
</div>
<a id="ADMIN12980"></a><a id="ADMIN12796"></a>
<div class="sect5"><a id="GUID-19636E33-926A-44E9-94D3-C4624B16AF8E"></a>
<h5 id="ADMIN-GUID-19636E33-926A-44E9-94D3-C4624B16AF8E" class="sect5"><span class="enumeration_section">4.5.7.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr">srvctl modify service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name</span>
  [-role [PRIMARY][,PHYSICAL_STANDBY][,LOGICAL_STANDBY][,SNAPSHOT_STANDBY]]
  [-policy {AUTOMATIC | MANUAL}] 
  [-failovertype {NONE | SESSION | SELECT | TRANSACTION}] 
  [-failovermethod {NONE | BASIC}] [-failoverdelay <span class="italic">integer</span>] 
  [-failoverretry <span class="italic">integer</span>] [-clbgoal {SHORT | LONG}]
  [-rlbgoal {SERVICE_TIME | THROUGHPUT | NONE}] [-notification {TRUE | FALSE}] 
  [-edition <span class="italic">edition_name</span>] [-pdb <span class="italic">pluggable_database</span>] 
  [-sql_translation_profile <span class="italic">sql_translation_profile</span>] 
  [-commit_outcome {TRUE | FALSE}] [-retention <span class="italic">retention</span>] 
  [-replay_init_time <span class="italic">replay_init_time</span>] [-session_state {STATIC | DYNAMIC}] 
  [-global_override] [-verbose]
</pre>
<div class="tblformal" id="GUID-19636E33-926A-44E9-94D3-C4624B16AF8E__GUID-AB826CBB-E871-48ED-BD18-E0E6EE324DB5">
<p class="titleintable">Table 4-35 srvctl modify service Options</p>
<table class="cellalignment1849" title="srvctl modify service Options" summary="srvctl modify service Options for an Available Instance">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e14427">Option</th>
<th class="cellalignment1957" id="d46844e14430">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14435" headers="d46844e14427">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14435 d46844e14430">
<p>Unique name for the database</p>
<p>The name must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14461" headers="d46844e14427">
<pre dir="ltr">-service <span class="italic">service_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14461 d46844e14430">
<p>Service name</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14470" headers="d46844e14427">
<pre dir="ltr">-role [PRIMARY][,PHYSICAL_STANDBY][,LOGICAL_STANDBY][,SNAPSHOT_STANDBY]
</pre></td>
<td class="cellalignment1958" headers="d46844e14470 d46844e14430">
<p>A list of service roles</p>
<p>This option is applicable in Oracle Data Guard environments only. When this option is present, upon database startup, the service is started only when one of its service roles matches the current database role.</p>
<p><span class="bold">See Also:</span> <a class="olink SBYDB4701" target="_blank" href="../SBYDB/concepts.htm#SBYDB4701"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for more information about database roles</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14488" headers="d46844e14427">
<pre dir="ltr">-policy {AUTOMATIC | MANUAL}
</pre></td>
<td class="cellalignment1958" headers="d46844e14488 d46844e14430">
<p>Management policy for the service</p>
<p>If <code class="codeph">AUTOMATIC</code> (the default), the service is automatically started upon restart of the database, either by a planned restart (with SRVCTL) or after a failure. Automatic restart is also subject to the service role, however (the <code class="codeph">-role</code> option).</p>
<p>If <code class="codeph">MANUAL</code>, the service is never automatically restarted upon planned restart of the database (with SRVCTL). A <code class="codeph">MANUAL</code> setting does not prevent Oracle Restart from monitoring the service when it is running and restarting it if a failure occurs.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14511" headers="d46844e14427">
<pre dir="ltr">-failovertype {NONE |SESSION | SELECT | TRANSACTION}
</pre></td>
<td class="cellalignment1958" headers="d46844e14511 d46844e14430">
<p>To enable Application Continuity for Java, use <code class="codeph">TRANSACTION</code>. If the failover type is <code class="codeph">TRANSACTION</code>, then the <code class="codeph">-commit_outcome</code> option must be set to <code class="codeph">TRUE</code>.</p>
<p>To enable Transparent Application Failover (TAF) for OCI, use <code class="codeph">SELECT</code> or <code class="codeph">SESSION</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14538" headers="d46844e14427">
<pre dir="ltr">-failovermethod {NONE | BASIC}
</pre></td>
<td class="cellalignment1958" headers="d46844e14538 d46844e14430">
<p>TAF failover method for backward compatibility only</p>
<p>If the failover type (<code class="codeph">-failovertype</code>) is set to a value other than <code class="codeph">NONE</code>, then use <code class="codeph">BASIC</code> for this option.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14556" headers="d46844e14427">
<pre dir="ltr">-failoverdelay <span class="italic">integer</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14556 d46844e14430">
<p>For Application Continuity and TAF, the time delay, in seconds, between reconnect attempts for each incident at failover</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14565" headers="d46844e14427">
<pre dir="ltr">-failoverretry <span class="italic">integer</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14565 d46844e14430">
<p>For Application Continuity and TAF, the number of attempts to connect after an incident</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14575" headers="d46844e14427">
<pre dir="ltr">-clbgoal {SHORT | LONG}
</pre></td>
<td class="cellalignment1958" headers="d46844e14575 d46844e14430">
<p>Connection load balancing goal</p>
<p>Use <code class="codeph">SHORT</code> for run-time load balancing.</p>
<p>Use <code class="codeph">LONG</code> for long running connections, such as batch jobs.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14592" headers="d46844e14427">
<pre dir="ltr">-rlbgoal {SERVICE_TIME | THROUGHPUT | NONE}
</pre></td>
<td class="cellalignment1958" headers="d46844e14592 d46844e14430">
<p>Run-time load balancing goal</p>
<p>Use <code class="codeph">SERVICE_TIME</code> to balance connections by response time.</p>
<p>Use <code class="codeph">THROUGHPUT</code> to balance connections by throughput.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14609" headers="d46844e14427">
<pre dir="ltr">-notification {TRUE | FALSE}
</pre></td>
<td class="cellalignment1958" headers="d46844e14609 d46844e14430">
<p>Enable Fast Application Notification (FAN) for OCI connections</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14617" headers="d46844e14427">
<pre dir="ltr">-edition <span class="italic">edition_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14617 d46844e14430">
<p>The initial session edition of the service</p>
<p>If this option is not specified, then the edition is not modified for the service.</p>
<p>If this option is specified but <span class="italic"><code class="codeph">edition_name</code></span> is empty, then the edition is set to <code class="codeph">NULL</code>. A <code class="codeph">NULL</code> edition has no effect.</p>
<p>When an edition is specified for a service, all subsequent connections that specify the service use this edition as the initial session edition. However, if a session connection specifies a different edition, then the edition specified in the session connection is used for the initial session edition.</p>
<p>SRVCTL does not validate the specified edition name. During connection, the connect user must have <code class="codeph">USE</code> privilege on the specified edition. If the edition does not exist or if the connect user does not have <code class="codeph">USE</code> privilege on the specified edition, then an error is raised.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14650" headers="d46844e14427">
<pre dir="ltr">-pdb <span class="italic">pluggable_database</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14650 d46844e14430">
<p>In a CDB, the name of the PDB to associate with the service</p>
<p>If this option is set to an empty string, then the service is associated with root.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14661" headers="d46844e14427">
<pre dir="ltr">-sql_translation_profile <span class="italic">sql_translation_profile</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14661 d46844e14430">
<p>A SQL translation profile for a service that you are adding after you have migrated applications from a non-Oracle database to an Oracle database</p>
<p><span class="bold">Note:</span> Before using the SQL translation framework, you must migrate all server-side application objects and data to the Oracle database.</p>
<p><span class="bold">See Also:</span> <a class="olink DRDAA131" target="_blank" href="../DRDAA/sql_transl_arch.htm#DRDAA131"><span class="italic">Oracle Database Migration Guide</span></a> for more information about using a SQL translation profile</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14683" headers="d46844e14427">
<pre dir="ltr">-commit_outcome {TRUE | FALSE}
</pre></td>
<td class="cellalignment1958" headers="d46844e14683 d46844e14430">
<p>For Transaction Guard, when <code class="codeph">TRUE</code> a transaction&#39;s commit outcome is accessible after the transaction&#39;s session fails due to a recoverable outage.</p>
<p>If <code class="codeph">FALSE</code>, the default, then a transaction&#39;s commit outcome is not retained.</p>
<p>When this option is set to <code class="codeph">TRUE</code>, the outcome of a transaction&#39;s commit is durable, and an applications can determine the commit status of a transaction after an outage. You can set <code class="codeph">commit_outcome</code> to <code class="codeph">TRUE</code> for a user-defined service.</p>
<p>The <code class="codeph">commit_outcome</code> setting has no effect on Oracle Active Data Guard and read-only databases.</p>
<p><span class="bold">See Also:</span> See <a class="olink ADFNS961" target="_blank" href="../ADFNS/adfns_sqlproc.htm#ADFNS961"><span class="italic">Oracle Database Development Guide</span></a> for more information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14723" headers="d46844e14427">
<pre dir="ltr">-retention <span class="italic">retention</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14723 d46844e14430">
<p>If <code class="codeph">commit_outcome</code> is set to <code class="codeph">TRUE</code>, then this option determines the amount of time, in seconds, that the commit outcome is retained. The default is 24 hours (86400).</p>
<p>If <code class="codeph">commit_outcome</code> is set to <code class="codeph">FALSE</code>, then this option cannot be set.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14746" headers="d46844e14427">
<pre dir="ltr">-replay_init_time <span class="italic">replay_init_time</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e14746 d46844e14430">
<p>For Application Continuity, this option specifies the difference between the time, in seconds, of original execution of the first operation of a request and the time that the replay is ready to start after a successful reconnect. Application Continuity will not replay after the specified amount of time has passed. This option is intended to avoid the unintentional execution of a transaction when a system is recovered after a long period of time. The default is 5 minutes (300). The maximum value is 24 hours (86400).</p>
<p>If <code class="codeph">FAILOVER_TYPE</code> is not set to <code class="codeph">TRANSACTION</code>, then this option is not used.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14763" headers="d46844e14427">
<pre dir="ltr">-session_state {STATIC | DYNAMIC}
</pre></td>
<td class="cellalignment1958" headers="d46844e14763 d46844e14430">
<p>For Application Continuity, this option specifies whether an application modifies the session state statically or dynamically. This option is used when <code class="codeph">-failovertype</code> is set to <code class="codeph">TRANSACTION</code>.</p>
<p>The settings describe how the session state that is not transactional is changed by the application. Examples of session states are NLS settings, optimizer preferences, event settings, PL/SQL global variables, temporary tables, advanced queues, LOBs, and result cache.</p>
<p>When set to <code class="codeph">STATIC</code>, all session state settings such as NLS settings and optimizer preferences are set as part of the connection initialization once for each request. This session state does not change within a request. This setting is used only for database diagnostic applications that do not change session state. Do not set <code class="codeph">STATIC</code> mode if there and any nontransactional state changes in the request that cannot be re-established by a callback. If you are unsure, then use <code class="codeph">DYNAMIC</code> mode.</p>
<p>When set to <code class="codeph">DYNAMIC</code>, the default, session states are changed while the application is executing. Examples of state changes that vary at runtime are PL/SQL variables, temporary table contents, LOB processing, and result cache processing. If the application uses PL/SQL, <code class="codeph">SYS_CONTEXT</code>, Java in the database, then set this option to <code class="codeph">DYNAMIC</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14800" headers="d46844e14427">
<pre dir="ltr">-global_override
</pre></td>
<td class="cellalignment1958" headers="d46844e14800 d46844e14430">
<p>If the service is a Global Data Services (GDS) service, then this option must be specified to modify any of the following service attributes:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">-role</code></p>
</li>
<li>
<p><code class="codeph">-policy</code></p>
</li>
<li>
<p><code class="codeph">-failovertype</code></p>
</li>
<li>
<p><code class="codeph">-failovermethod</code></p>
</li>
<li>
<p><code class="codeph">-failoverdelay</code></p>
</li>
<li>
<p><code class="codeph">-failoverretry</code></p>
</li>
<li>
<p><code class="codeph">-edition</code></p>
</li>
<li>
<p><code class="codeph">-clbgoal</code></p>
</li>
<li>
<p><code class="codeph">-rlbgoal</code></p>
</li>
<li>
<p><code class="codeph">-notification</code></p>
</li>
</ul>
<p>An error is returned if you attempt to modify one of these options for a GDS service and <code class="codeph">-global_override</code> is not included.</p>
<p>This option is ignored if the service is not a GDS service.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e14862" headers="d46844e14427">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e14862 d46844e14430">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12798"></a>
<div class="sect5"><a id="GUID-6AE4324E-537C-4451-BB80-7C09A4A04AFC"></a>
<h5 id="ADMIN-GUID-6AE4324E-537C-4451-BB80-7C09A4A04AFC" class="sect5"><span class="enumeration_section">4.5.7.5.2</span> Example</h5>
<div>
<p>For the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, the following command changes the Oracle Data Guard role of the database service named <code class="codeph">support</code> to <code class="codeph">standby</code>:</p>
<pre dir="ltr">srvctl modify service -db dbcrm -service support -role standby
</pre>
<div class="infoboxnotealso" id="GUID-6AE4324E-537C-4451-BB80-7C09A4A04AFC__GUID-8AE8B48B-E660-414F-811A-4935D21D6890">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="cdb_pdb_admin.htm#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services Associated with PDBs</a>&#34;</span></p>
</div>
</div>
</div>
</div>
</div>
<a id="ADMIN12981"></a><a id="ADMIN5072"></a>
<div class="sect3"><a id="GUID-19875332-0C3D-4802-8B25-BA4895C69349"></a>
<h3 id="ADMIN-GUID-19875332-0C3D-4802-8B25-BA4895C69349" class="sect3"><span class="enumeration_section">4.5.8</span> remove</h3>
<div>
<p>Removes the specified component from the Oracle Restart configuration. Oracle Restart no longer manages the component. Any environment variable settings for the component are also removed.</p>
<p>Before you remove a component from the Oracle Restart configuration, you must use SRVCTL to stop it. Oracle recommends that you disable the component before removing it, but this is not required.</p>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">remove</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
<div class="infoboxnotealso" id="GUID-19875332-0C3D-4802-8B25-BA4895C69349__GUID-009982B6-0A8D-443D-BCF1-4A0E4EB8D4A7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="restart.htm#GUID-F1874CB6-96D6-4B84-9478-0482F20E48E9" title="Stops the specified component or components.">stop</a> command</p>
</li>
<li>
<p><a href="restart.htm#GUID-489938E3-931D-446F-B570-C81659AC3C52" title="Disables a component, which suspends management of that component by Oracle Restart.">disable</a> command</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN5077"></a>
<div class="sect4"><a id="GUID-4120C43C-FC67-446A-962B-72C8ED3A0953"></a>
<h4 id="ADMIN-GUID-4120C43C-FC67-446A-962B-72C8ED3A0953" class="sect4"><span class="enumeration_section">4.5.8.1</span> srvctl remove asm</h4>
<p>Removes an Oracle ASM instance.</p>
<a id="ADMIN12982"></a><a id="ADMIN12813"></a>
<div class="sect5"><a id="GUID-F41264A1-3BDD-4CC7-AC5C-B2C738D7B752"></a>
<h5 id="ADMIN-GUID-F41264A1-3BDD-4CC7-AC5C-B2C738D7B752" class="sect5"><span class="enumeration_section">4.5.8.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e15186" class="indexterm-anchor"></a>srvctl remove asm [-force]
</pre>
<div class="tblformal" id="GUID-F41264A1-3BDD-4CC7-AC5C-B2C738D7B752__GUID-B127911D-09E1-438F-9792-EA8BFB43FA3E">
<p class="titleintable">Table 4-36 srvctl remove asm Options</p>
<table class="cellalignment1849" title="srvctl remove asm Options" summary="srvctl remove asm Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e15201">Options</th>
<th class="cellalignment1957" id="d46844e15204">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15209" headers="d46844e15201">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e15209 d46844e15204">
<p>Force remove, even when disk groups and databases that use Oracle ASM exist or when the Oracle ASM instance is running.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12856"></a>
<div class="sect5"><a id="GUID-3BC10690-B951-4F7F-A211-DB0982102C4C"></a>
<h5 id="ADMIN-GUID-3BC10690-B951-4F7F-A211-DB0982102C4C" class="sect5"><span class="enumeration_section">4.5.8.1.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl remove asm
</pre></div>
</div>
</div>
<a id="ADMIN5073"></a>
<div class="sect4"><a id="GUID-2AB4CCE3-4165-4E06-B981-2AE3D94A634A"></a>
<h4 id="ADMIN-GUID-2AB4CCE3-4165-4E06-B981-2AE3D94A634A" class="sect4"><span class="enumeration_section">4.5.8.2</span> srvctl remove database</h4>
<p>Removes a database. Prompts for confirmation first.</p>
<a id="ADMIN12983"></a><a id="ADMIN12814"></a>
<div class="sect5"><a id="GUID-408A3B13-489F-4464-958A-0A1EE74B59D9"></a>
<h5 id="ADMIN-GUID-408A3B13-489F-4464-958A-0A1EE74B59D9" class="sect5"><span class="enumeration_section">4.5.8.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">database</code> command with the following syntax:</p>
<div class="infobox-note" id="GUID-408A3B13-489F-4464-958A-0A1EE74B59D9__GUID-D7F95469-B305-46C3-87E8-2DAB3C4C1E1C">
<p class="notep1">Note:</p>
After running this command, ensure that the password file is in the default location if you want to connect to the database as the <code class="codeph">SYS</code> user with the <code class="codeph">SYS</code> user&#39;s password.</div>
<pre dir="ltr"><a id="d46844e15414" class="indexterm-anchor"></a>srvctl remove database -db <span class="italic">db_unique_name</span> [-force] [-noprompt] [-verbose]
</pre>
<div class="tblformal" id="GUID-408A3B13-489F-4464-958A-0A1EE74B59D9__GUID-801B0510-6A55-41D5-B95C-3864EA3272BD">
<p class="titleintable">Table 4-37 srvctl remove database Options</p>
<table class="cellalignment1849" title="srvctl remove database Options" summary="srvctl remove database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e15433">Options</th>
<th class="cellalignment1957" id="d46844e15436">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15441" headers="d46844e15433">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e15441 d46844e15436">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15465" headers="d46844e15433">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e15465 d46844e15436">
<p>Force. Removes the database even if it is running.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15472" headers="d46844e15433">
<pre dir="ltr">-noprompt
</pre></td>
<td class="cellalignment1958" headers="d46844e15472 d46844e15436">
<p>Suppresses the confirmation prompt and removes immediately</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15479" headers="d46844e15433">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e15479 d46844e15436">
<p>Verbose output. A success or failure message is displayed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12857"></a>
<div class="sect5"><a id="GUID-11B325D0-267E-4A74-8973-A0780DEBC1F1"></a>
<h5 id="ADMIN-GUID-11B325D0-267E-4A74-8973-A0780DEBC1F1" class="sect5"><span class="enumeration_section">4.5.8.2.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl remove database -db dbcrm
</pre></div>
</div>
</div>
<a id="ADMIN12858"></a>
<div class="sect4"><a id="GUID-BCC1F74C-69F8-44BC-82C3-D6AD401E694B"></a>
<h4 id="ADMIN-GUID-BCC1F74C-69F8-44BC-82C3-D6AD401E694B" class="sect4"><span class="enumeration_section">4.5.8.3</span> srvctl remove diskgroup</h4>
<p>Removes an Oracle ASM disk group.</p>
<a id="ADMIN12984"></a><a id="ADMIN12859"></a>
<div class="sect5"><a id="GUID-A43CD9FF-A5FE-4905-8135-3DB58E651FBE"></a>
<h5 id="ADMIN-GUID-A43CD9FF-A5FE-4905-8135-3DB58E651FBE" class="sect5"><span class="enumeration_section">4.5.8.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">diskgroup</code> command with the following syntax:</p>
<pre dir="ltr">srvctl remove diskgroup -diskgroup <span class="italic">diskgroup_name</span> [-force]
</pre>
<div class="tblformal" id="GUID-A43CD9FF-A5FE-4905-8135-3DB58E651FBE__GUID-94FD60E0-E41D-4B83-9A3B-489E070B3E80">
<p class="titleintable">Table 4-38 srvctl remove diskgroup Options</p>
<table class="cellalignment1849" title="srvctl remove diskgroup Options" summary="This table describes the srvctl remove diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1939" id="d46844e15696">Option</th>
<th class="cellalignment1940" id="d46844e15699">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e15704" headers="d46844e15696">
<pre dir="ltr">-diskgroup <span class="italic">diskgroup_name</span>
</pre></td>
<td class="cellalignment1942" headers="d46844e15704 d46844e15699">
<p>Disk group name</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e15713" headers="d46844e15696">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1942" headers="d46844e15713 d46844e15699">
<p>Force. Removes the disk group even if files are open on it.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12860"></a>
<div class="sect5"><a id="GUID-83D26826-8B1B-460E-B07E-966ED1BFE94D"></a>
<h5 id="ADMIN-GUID-83D26826-8B1B-460E-B07E-966ED1BFE94D" class="sect5"><span class="enumeration_section">4.5.8.3.2</span> Example</h5>
<div>
<p>This example removes the disk group named <code class="codeph">DATA</code>. An error is returned if files are open on this disk group.</p>
<pre dir="ltr">srvctl remove diskgroup -diskgroup DATA
</pre></div>
</div>
</div>
<a id="ADMIN12816"></a>
<div class="sect4"><a id="GUID-5F07D0DD-08F4-4A34-ADC5-8650CE47A3AC"></a>
<h4 id="ADMIN-GUID-5F07D0DD-08F4-4A34-ADC5-8650CE47A3AC" class="sect4"><span class="enumeration_section">4.5.8.4</span> srvctl remove listener</h4>
<p>Removes the specified listener or all listeners.</p>
<a id="ADMIN12985"></a><a id="ADMIN12817"></a>
<div class="sect5"><a id="GUID-E81C1C58-3CE0-40B0-836C-B48EF9375547"></a>
<h5 id="ADMIN-GUID-E81C1C58-3CE0-40B0-836C-B48EF9375547" class="sect5"><span class="enumeration_section">4.5.8.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl remove listener [-listener <span class="italic">listener_name</span> | -all] [-force]
</pre>
<div class="tblformal" id="GUID-E81C1C58-3CE0-40B0-836C-B48EF9375547__GUID-C0DAA4D5-DEF4-4356-BA7B-C3D47F9BD313">
<p class="titleintable">Table 4-39 srvctl remove listener Options</p>
<table class="cellalignment1849" title="srvctl remove listener Options" summary="srvctl remove listener Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e15937">Options</th>
<th class="cellalignment1957" id="d46844e15940">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15945" headers="d46844e15937">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e15945 d46844e15940">
<p>Name of the listener that you want to remove. If omitted, then the default is <code class="codeph">LISTENER</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15957" headers="d46844e15937">
<pre dir="ltr">-all
</pre></td>
<td class="cellalignment1958" headers="d46844e15957 d46844e15940">
<p>Remove all listeners</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e15964" headers="d46844e15937">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e15964 d46844e15940">
<p>Force. Removes the listener even if databases are using it.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12818"></a>
<div class="sect5"><a id="GUID-9141BDC8-7E69-489B-8EAC-0CB088707C5B"></a>
<h5 id="ADMIN-GUID-9141BDC8-7E69-489B-8EAC-0CB088707C5B" class="sect5"><span class="enumeration_section">4.5.8.4.2</span> Example</h5>
<div>
<p>The following command removes the listener <code class="codeph">lsnr01</code>:</p>
<pre dir="ltr">srvctl remove listener -listener lsnr01
</pre></div>
</div>
</div>
<a id="ADMIN13234"></a>
<div class="sect4"><a id="GUID-5B22D8D5-3AE5-4542-86A7-EF15DC9B7803"></a>
<h4 id="ADMIN-GUID-5B22D8D5-3AE5-4542-86A7-EF15DC9B7803" class="sect4"><span class="enumeration_section">4.5.8.5</span> srvctl remove ons</h4>
<p>Removes Oracle Notification Services (ONS).</p>
<a id="ADMIN13236"></a><a id="ADMIN13235"></a>
<div class="sect5"><a id="GUID-BE474B57-96EF-42EA-AA53-36BEB7827BB5"></a>
<h5 id="ADMIN-GUID-BE474B57-96EF-42EA-AA53-36BEB7827BB5" class="sect5"><span class="enumeration_section">4.5.8.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">ons</code> command as follows:</p>
<pre dir="ltr">srvctl remove ons [-force] [-verbose]
</pre>
<div class="tblformal" id="GUID-BE474B57-96EF-42EA-AA53-36BEB7827BB5__GUID-0A22AF16-03AD-430D-86BF-B5523446A6C1">
<p class="titleintable">Table 4-40 srvctl remove ons Options</p>
<table class="cellalignment1849" title="srvctl remove ons Options" summary="srvctl remove ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1873" id="d46844e16182">Options</th>
<th class="cellalignment1961" id="d46844e16185">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1876" id="d46844e16190" headers="d46844e16182">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1962" headers="d46844e16190 d46844e16185">
<p>Force. Removes ONS even if it is enabled.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1876" id="d46844e16197" headers="d46844e16182">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1962" headers="d46844e16197 d46844e16185">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5075"></a>
<div class="sect4"><a id="GUID-6448FA11-8528-4B95-91A0-BA9207C953C7"></a>
<h4 id="ADMIN-GUID-6448FA11-8528-4B95-91A0-BA9207C953C7" class="sect4"><span class="enumeration_section">4.5.8.6</span> srvctl remove service</h4>
<p>Removes the specified database service.</p>
<a id="ADMIN12986"></a><a id="ADMIN12819"></a>
<div class="sect5"><a id="GUID-ED0E85A1-96C7-4BA0-964E-B770067F8F2C"></a>
<h5 id="ADMIN-GUID-ED0E85A1-96C7-4BA0-964E-B770067F8F2C" class="sect5"><span class="enumeration_section">4.5.8.6.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">service</code> command as follows:</p>
<pre dir="ltr"><a id="d46844e16332" class="indexterm-anchor"></a>srvctl remove service -db <span class="italic">db_unique_name</span> -service <span class="italic">service_name</span> [-global_override] 
</pre>
<div class="tblformal" id="GUID-ED0E85A1-96C7-4BA0-964E-B770067F8F2C__GUID-401CCA23-17A1-4694-B1F4-85D551C23083">
<p class="titleintable">Table 4-41 srvctl remove service Options</p>
<table class="cellalignment1849" title="srvctl remove service Options" summary="srvctl remove service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e16355">Options</th>
<th class="cellalignment1957" id="d46844e16358">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e16363" headers="d46844e16355">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e16363 d46844e16358">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e16387" headers="d46844e16355">
<pre dir="ltr">-service <span class="italic">service_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e16387 d46844e16358">
<p>Service name</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e16396" headers="d46844e16355">
<pre dir="ltr">-global_override
</pre></td>
<td class="cellalignment1958" headers="d46844e16396 d46844e16358">
<p>If the service is a Global Data Services (GDS) service, then this option must be specified to remove the service.</p>
<p>An error is returned if you attempt to remove a GDS service and <code class="codeph">-global_override</code> is not included.</p>
<p>This option is ignored if the service is not a GDS service.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12820"></a>
<div class="sect5"><a id="GUID-76B99261-8732-4E00-8131-7A60907EF07C"></a>
<h5 id="ADMIN-GUID-76B99261-8732-4E00-8131-7A60907EF07C" class="sect5"><span class="enumeration_section">4.5.8.6.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl remove service -db dbcrm -service sales
</pre></div>
</div>
</div>
</div>
<a id="ADMIN12987"></a><a id="ADMIN12806"></a>
<div class="sect3"><a id="GUID-2B8EFD90-9FB9-4E59-825B-29D4BA893ED3"></a>
<h3 id="ADMIN-GUID-2B8EFD90-9FB9-4E59-825B-29D4BA893ED3" class="sect3"><span class="enumeration_section">4.5.9</span> setenv</h3>
<div>
<p>The <code class="codeph">setenv</code> command sets values of environment variables in the Oracle Restart configuration for a database, a listener, or the Oracle ASM instance.</p>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">setenv</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
<div class="infoboxnotealso" id="GUID-2B8EFD90-9FB9-4E59-825B-29D4BA893ED3__GUID-758C7DBC-74AE-43C5-BA4C-D8E82728CFFF">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="restart.htm#GUID-F9BECEAF-CB80-4000-88C6-67184FBEF396" title="Gets and displays environment variables and their values from the Oracle Restart configuration for a database, listener, or Oracle ASM instance.">getenv</a> command</p>
</li>
<li>
<p><a href="restart.htm#GUID-37E67B5B-72B9-4D0C-9E69-A44B845F7B31" title="The unsetenv command deletes one or more environment variables from the Oracle Restart configuration for a database, a listener, or an Oracle ASM instance.">unsetenv</a> command</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-BE1395D5-1C26-471F-8987-FBF73987342F" title="The Oracle Restart configuration can store name/value pairs for environment variables.">Managing Environment Variables in the Oracle Restart Configuration</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="ADMIN12861"></a>
<div class="sect4"><a id="GUID-8ACD4075-28B1-4A9A-BF07-08AD6D616842"></a>
<h4 id="ADMIN-GUID-8ACD4075-28B1-4A9A-BF07-08AD6D616842" class="sect4"><span class="enumeration_section">4.5.9.1</span> srvctl setenv asm</h4>
<p>Sets the values of environment variables in the Oracle Restart configuration for the Oracle ASM instance. Before starting the instance, Oracle Restart sets environment variables to the values stored in the configuration.</p>
<a id="ADMIN12988"></a><a id="ADMIN12862"></a>
<div class="sect5"><a id="GUID-465E45D4-B516-405A-85AC-5D3C35CE9BE1"></a>
<h5 id="ADMIN-GUID-465E45D4-B516-405A-85AC-5D3C35CE9BE1" class="sect5"><span class="enumeration_section">4.5.9.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">setenv</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr">srvctl setenv asm {-envs <span class="italic">name</span>=<span class="italic">val</span>[,<span class="italic">name</span>=<span class="italic">val</span>,...] | -env <span class="italic">name</span>=<span class="italic">val</span>}
</pre>
<div class="tblformal" id="GUID-465E45D4-B516-405A-85AC-5D3C35CE9BE1__GUID-5BE7056C-7EF7-4A75-A536-96975406EF5E">
<p class="titleintable">Table 4-42 srvctl setenv database Options</p>
<table class="cellalignment1849" title="srvctl setenv database Options" summary="srvctl setenv database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1873" id="d46844e16760">Options</th>
<th class="cellalignment1961" id="d46844e16763">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1876" id="d46844e16768" headers="d46844e16760">
<pre dir="ltr">-envs <span class="italic">name</span>=<span class="italic">val</span>[,<span class="italic">name</span>=<span class="italic">val</span>,...]
</pre></td>
<td class="cellalignment1962" headers="d46844e16768 d46844e16763">
<p>Comma-delimited list of name/value pairs of environment variables</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1876" id="d46844e16789" headers="d46844e16760">
<pre dir="ltr">-env <span class="italic">name</span>=<span class="italic">val</span>
</pre></td>
<td class="cellalignment1962" headers="d46844e16789 d46844e16763">
<p>Enables single environment variable to be set to a value that contains commas or other special characters</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12863"></a>
<div class="sect5"><a id="GUID-241819DE-4792-4FDC-A91E-270EE63205BC"></a>
<h5 id="ADMIN-GUID-241819DE-4792-4FDC-A91E-270EE63205BC" class="sect5"><span class="enumeration_section">4.5.9.1.2</span> Example</h5>
<div>
<p>The following example sets the AIX operating system environment variable <code class="codeph">AIXTHREAD_SCOPE</code> in the Oracle ASM instance configuration:</p>
<pre dir="ltr"><a id="d46844e16863" class="indexterm-anchor"></a>srvctl setenv asm -envs AIXTHREAD_SCOPE=S
</pre></div>
</div>
</div>
<a id="ADMIN12864"></a>
<div class="sect4"><a id="GUID-75B00731-A865-4D7E-B635-600239455588"></a>
<h4 id="ADMIN-GUID-75B00731-A865-4D7E-B635-600239455588" class="sect4"><span class="enumeration_section">4.5.9.2</span> srvctl setenv database</h4>
<p>Sets the values of environment variables in the Oracle Restart configuration for a database instance. Before starting the instance, Oracle Restart sets environment variables to the values stored in the configuration.</p>
<a id="ADMIN12989"></a><a id="ADMIN12865"></a>
<div class="sect5"><a id="GUID-06520C44-37C7-4049-8380-1377CFED5A5A"></a>
<h5 id="ADMIN-GUID-06520C44-37C7-4049-8380-1377CFED5A5A" class="sect5"><span class="enumeration_section">4.5.9.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">setenv</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr">srvctl setenv database -db <span class="italic">db_unique_name</span> 
  {-envs <span class="italic">name</span>=<span class="italic">val</span>[,<span class="italic">name</span>=<span class="italic">val</span>,...] | -env <span class="italic">name</span>=<span class="italic">val</span>}
</pre>
<div class="tblformal" id="GUID-06520C44-37C7-4049-8380-1377CFED5A5A__GUID-90A77016-D8AC-4AB5-A953-215E1AC493A9">
<p class="titleintable">Table 4-43 srvctl setenv database Options</p>
<table class="cellalignment1849" title="srvctl setenv database Options" summary="srvctl setenv database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e17038">Options</th>
<th class="cellalignment1957" id="d46844e17041">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17046" headers="d46844e17038">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17046 d46844e17041">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17070" headers="d46844e17038">
<pre dir="ltr">-envs <span class="italic">name</span>=<span class="italic">val</span>[,<span class="italic">name</span>=<span class="italic">val</span>,...]
</pre></td>
<td class="cellalignment1958" headers="d46844e17070 d46844e17041">
<p>Comma-delimited list of name/value pairs of environment variables</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17091" headers="d46844e17038">
<pre dir="ltr">-env <span class="italic">name</span>=<span class="italic">val</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17091 d46844e17041">
<p>Enables single environment variable to be set to a value that contains commas or other special characters</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12866"></a>
<div class="sect5"><a id="GUID-E34E5480-136A-4E44-B245-B33EA245139B"></a>
<h5 id="ADMIN-GUID-E34E5480-136A-4E44-B245-B33EA245139B" class="sect5"><span class="enumeration_section">4.5.9.2.2</span> Example</h5>
<div>
<p>The following example sets the <code class="codeph">LANG</code> environment variable in the configuration of the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr"><a id="d46844e17171" class="indexterm-anchor"></a>srvctl setenv database -db dbcrm -envs LANG=en
</pre></div>
</div>
</div>
<a id="ADMIN12867"></a>
<div class="sect4"><a id="GUID-2AD4089B-4E22-4BE2-AD34-7C7A46CD9A05"></a>
<h4 id="ADMIN-GUID-2AD4089B-4E22-4BE2-AD34-7C7A46CD9A05" class="sect4"><span class="enumeration_section">4.5.9.3</span> srvctl setenv listener</h4>
<p>Sets the values of environment variables in the Oracle Restart configuration for a listener. Before starting the listener, Oracle Restart sets environment variables to the values stored in the configuration.</p>
<a id="ADMIN12990"></a><a id="ADMIN12868"></a>
<div class="sect5"><a id="GUID-2910430C-9BFA-4449-8E85-71AFC240DDC5"></a>
<h5 id="ADMIN-GUID-2910430C-9BFA-4449-8E85-71AFC240DDC5" class="sect5"><span class="enumeration_section">4.5.9.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">setenv</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl setenv listener [-listener <span class="italic">listener_name</span>] 
  {-envs <span class="italic">name</span>=<span class="italic">val</span>[,<span class="italic">name</span>=<span class="italic">val</span>,...] | -env <span class="italic">name</span>=<span class="italic">val</span>}
</pre>
<div class="tblformal" id="GUID-2910430C-9BFA-4449-8E85-71AFC240DDC5__GUID-3B7F07C6-7384-40F4-973E-46EC61DBEB06">
<p class="titleintable">Table 4-44 srvctl setenv listener Options</p>
<table class="cellalignment1849" title="srvctl setenv listener Options" summary="srvctl setenv listener Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e17345">Options</th>
<th class="cellalignment1957" id="d46844e17348">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17353" headers="d46844e17345">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17353 d46844e17348">
<p>Listener name. If omitted, sets the specified environment variables in all listener configurations.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17362" headers="d46844e17345">
<pre dir="ltr">-envs <span class="italic">name</span>=<span class="italic">val</span>[,<span class="italic">name</span>=<span class="italic">val</span>,...]
</pre></td>
<td class="cellalignment1958" headers="d46844e17362 d46844e17348">
<p>Comma-delimited list of name/value pairs of environment variables</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17383" headers="d46844e17345">
<pre dir="ltr">-env <span class="italic">name</span>=<span class="italic">val</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17383 d46844e17348">
<p>Enables single environment variable to be set to a value that contains commas or other special characters</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12869"></a>
<div class="sect5"><a id="GUID-870FDB3F-92CB-44E3-B47B-B89FF90DFFC7"></a>
<h5 id="ADMIN-GUID-870FDB3F-92CB-44E3-B47B-B89FF90DFFC7" class="sect5"><span class="enumeration_section">4.5.9.3.2</span> Example</h5>
<div>
<p>The following example sets the AIX operating system environment variable <code class="codeph">AIXTHREAD_SCOPE</code> in the configuration of the listener named <code class="codeph">crmlistener</code>:</p>
<pre dir="ltr"><a id="d46844e17460" class="indexterm-anchor"></a>srvctl setenv listener -listener crmlistener -envs AIXTHREAD_SCOPE=S
</pre></div>
</div>
</div>
</div>
<a id="ADMIN12991"></a><a id="ADMIN5031"></a>
<div class="sect3"><a id="GUID-14F76C55-25CC-4AF9-98C8-392C06861DDD"></a>
<h3 id="ADMIN-GUID-14F76C55-25CC-4AF9-98C8-392C06861DDD" class="sect3"><span class="enumeration_section">4.5.10</span> start</h3>
<div>
<p>Starts the specified component or components.</p>
<div class="infoboxnotealso" id="GUID-14F76C55-25CC-4AF9-98C8-392C06861DDD__GUID-ACFC2221-B469-4105-9E1E-DA5A469CE821">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span></p>
</div>
</div>
<a id="ADMIN5036"></a>
<div class="sect4"><a id="GUID-639A22EF-298B-4B09-80AF-93898ABB8D64"></a>
<h4 id="ADMIN-GUID-639A22EF-298B-4B09-80AF-93898ABB8D64" class="sect4"><span class="enumeration_section">4.5.10.1</span> srvctl start asm</h4>
<div>
<p>Starts the Oracle ASM instance.</p>
<p>For this command, SRVCTL connects &#34;/ as sysasm&#34; to perform the operation. To run such operations, the owner of the executables in the Oracle Grid Infrastructure home must be a member of the OSASM group, and users running the commands must also be in the OSASM group.</p>
</div>
<a id="ADMIN12992"></a><a id="ADMIN12770"></a>
<div class="sect5"><a id="GUID-F01CABAD-2C13-4EB9-879A-D6FFF74CF45D"></a>
<h5 id="ADMIN-GUID-F01CABAD-2C13-4EB9-879A-D6FFF74CF45D" class="sect5"><span class="enumeration_section">4.5.10.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e17673" class="indexterm-anchor"></a>srvctl start asm [-startoption <span class="italic">start_options</span>]
</pre>
<div class="tblformal" id="GUID-F01CABAD-2C13-4EB9-879A-D6FFF74CF45D__GUID-D9C416DB-CB2C-4DC3-8131-400ECF63F31C">
<p class="titleintable">Table 4-45 srvctl start asm Option</p>
<table class="cellalignment1849" title="srvctl start asm Option" summary="srvctl start asm Option">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e17692">Option</th>
<th class="cellalignment1957" id="d46844e17695">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17700" headers="d46844e17692">
<pre dir="ltr">-startoption <span class="italic">start_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17700 d46844e17695">
<p>Comma-delimited list of options for the startup command (<code class="codeph">OPEN</code>, <code class="codeph">MOUNT</code>, <code class="codeph">NOMOUNT</code>, or <code class="codeph">FORCE</code>). If omitted, defaults to normal startup (<code class="codeph">OPEN</code>).</p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG128" target="_blank" href="../SQPUG/ch_twelve045.htm#SQPUG128"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about startup options</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12771"></a>
<div class="sect5"><a id="GUID-E5152750-3620-4F7D-86F1-5E50F8ADB9EE"></a>
<h5 id="ADMIN-GUID-E5152750-3620-4F7D-86F1-5E50F8ADB9EE" class="sect5"><span class="enumeration_section">4.5.10.1.2</span> Example</h5>
<div>
<p>This example starts the Oracle ASM instance, which then mounts any disk groups named in the <code class="codeph">ASM_DISKGROUPS</code> initialization parameter:</p>
<pre dir="ltr">srvctl start asm
</pre>
<p>This example starts the Oracle ASM instance without mounting any disk groups:</p>
<pre dir="ltr">srvctl start asm -startoption nomount
</pre></div>
</div>
</div>
<a id="ADMIN5032"></a>
<div class="sect4"><a id="GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3"></a>
<h4 id="ADMIN-GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3" class="sect4"><span class="enumeration_section">4.5.10.2</span> srvctl start database</h4>
<div>
<p>Starts the specified database instance.</p>
<p>For this command, SRVCTL connects &#34;/ as sysdba&#34; to perform the operation. To run such operations, the owner of the Oracle executables in the database Oracle home must be a member of the OSDBA group (for example, the <code class="codeph">dba</code> group on UNIX and Linux), and users running the commands must also be in the OSDBA group.</p>
</div>
<a id="ADMIN12993"></a><a id="ADMIN12772"></a>
<div class="sect5"><a id="GUID-B7F9C73E-06D1-4D1A-96A5-ED90030B752C"></a>
<h5 id="ADMIN-GUID-B7F9C73E-06D1-4D1A-96A5-ED90030B752C" class="sect5"><span class="enumeration_section">4.5.10.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e17937" class="indexterm-anchor"></a>srvctl start database -db <span class="italic">db_unique_name</span> [-startoption <span class="italic">start_options</span>] [-verbose]
</pre>
<div class="tblformal" id="GUID-B7F9C73E-06D1-4D1A-96A5-ED90030B752C__GUID-2A0D1875-4C20-4EA8-9732-8AF8E4FCB5A0">
<p class="titleintable">Table 4-46 srvctl start database Options</p>
<table class="cellalignment1849" title="srvctl start database Options" summary="srvctl start database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e17960">Option</th>
<th class="cellalignment1957" id="d46844e17963">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17968" headers="d46844e17960">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17968 d46844e17963">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e17992" headers="d46844e17960">
<pre dir="ltr">-startoption <span class="italic">start_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e17992 d46844e17963">
<p>Comma-delimited list of options for the startup command (for example: <code class="codeph">OPEN</code>, <code class="codeph">MOUNT</code>, <code class="codeph">NOMOUNT</code>, <code class="codeph">RESTRICT</code>, and so on)</p>
<p><span class="bold">Notes:</span></p>
<ul style="list-style-type: disc;">
<li>
<p>This command parameter does not support the <code class="codeph">PFILE</code> option or the <code class="codeph">QUIET</code> option, but it supports all other database startup options.</p>
</li>
<li>
<p>For multi-word startup options, such as <code class="codeph">read only</code> and <code class="codeph">read write</code>, separate the words with a space and enclose in single quotation marks (<code class="codeph">&#39;&#39;</code>). For example, <code class="codeph">&#39;read only&#39;</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG128" target="_blank" href="../SQPUG/ch_twelve045.htm#SQPUG128"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about startup options</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e18050" headers="d46844e17960">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e18050 d46844e17963">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12773"></a>
<div class="sect5"><a id="GUID-003AD445-D21D-4181-97DE-9FEA5948B3FD"></a>
<h5 id="ADMIN-GUID-003AD445-D21D-4181-97DE-9FEA5948B3FD" class="sect5"><span class="enumeration_section">4.5.10.2.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl start database -db dbcrm -startoption nomount
</pre></div>
</div>
</div>
<a id="ADMIN12870"></a>
<div class="sect4"><a id="GUID-43F02572-53FF-4FF5-9B38-44EE4F90DCBC"></a>
<h4 id="ADMIN-GUID-43F02572-53FF-4FF5-9B38-44EE4F90DCBC" class="sect4"><span class="enumeration_section">4.5.10.3</span> srvctl start diskgroup</h4>
<p>Starts (mounts) an Oracle ASM disk group.</p>
<a id="ADMIN12994"></a><a id="ADMIN12871"></a>
<div class="sect5"><a id="GUID-E021D58E-FFBF-4203-BBAE-566173F4EFD4"></a>
<h5 id="ADMIN-GUID-E021D58E-FFBF-4203-BBAE-566173F4EFD4" class="sect5"><span class="enumeration_section">4.5.10.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">diskgroup</code> command with the following syntax:</p>
<pre dir="ltr">srvctl start diskgroup -diskgroup <span class="italic">diskgroup_name</span>
</pre>
<div class="tblformal" id="GUID-E021D58E-FFBF-4203-BBAE-566173F4EFD4__GUID-E85D26D6-6E3A-47FC-9415-B86329CE14DC">
<p class="titleintable">Table 4-47 srvctl start diskgroup Options</p>
<table class="cellalignment1849" title="srvctl start diskgroup Options" summary="This table describes the srvctl start diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1923" id="d46844e18267">Option</th>
<th class="cellalignment1924" id="d46844e18270">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1925" id="d46844e18275" headers="d46844e18267">
<pre dir="ltr">-diskgroup <span class="italic">diskgroup_name</span>
</pre></td>
<td class="cellalignment1926" headers="d46844e18275 d46844e18270">
<p>Disk group name</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12872"></a>
<div class="sect5"><a id="GUID-034BFFE0-0E45-4435-BF2F-105725B50EA0"></a>
<h5 id="ADMIN-GUID-034BFFE0-0E45-4435-BF2F-105725B50EA0" class="sect5"><span class="enumeration_section">4.5.10.3.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl start diskgroup -diskgroup DATA
</pre></div>
</div>
</div>
<a id="ADMIN13240"></a>
<div class="sect4"><a id="GUID-179FFD88-9106-4E29-8CC5-6375A8EBA402"></a>
<h4 id="ADMIN-GUID-179FFD88-9106-4E29-8CC5-6375A8EBA402" class="sect4"><span class="enumeration_section">4.5.10.4</span> srvctl start home</h4>
<div>
<p>Starts all of the components that are managed by Oracle Restart in the specified Oracle home. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.</p>
<p>This command starts the components that were stopped by a <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">home</code>. This command uses the information in the specified state file to identify the components to start.</p>
<div class="infobox-note" id="GUID-179FFD88-9106-4E29-8CC5-6375A8EBA402__GUID-AE20F813-9159-4CD3-9816-370E45C39B78">
<p class="notep1">Note:</p>
<p>Use this command to restart components after you install a patch in an Oracle home.</p>
</div>
</div>
<a id="ADMIN13242"></a><a id="ADMIN13241"></a>
<div class="sect5"><a id="GUID-C7AB8E82-1D42-4228-95ED-8C2D04532AE2"></a>
<h5 id="ADMIN-GUID-C7AB8E82-1D42-4228-95ED-8C2D04532AE2" class="sect5"><span class="enumeration_section">4.5.10.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">home</code> command with the following syntax:</p>
<pre dir="ltr">srvctl start home -oraclehome <span class="italic">oracle_home</span> -statefile <span class="italic">state_file</span>
</pre>
<div class="tblformal" id="GUID-C7AB8E82-1D42-4228-95ED-8C2D04532AE2__GUID-85444C62-8711-46C4-87BD-AF12366CFF05">
<p class="titleintable">Table 4-48 srvctl start home Options</p>
<table class="cellalignment1849" title="srvctl start home Options" summary="srvctl start home Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e18511">Option</th>
<th class="cellalignment1957" id="d46844e18514">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e18519" headers="d46844e18511">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e18519 d46844e18514">
<p>Complete path of the Oracle home</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e18528" headers="d46844e18511">
<pre dir="ltr">-statefile <span class="italic">state_file</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e18528 d46844e18514">
<p>Complete path of the state file. The state file contains the current state information for the components in the Oracle home and is created when the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">home</code> command or the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">home</code> command is run.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5097"></a>
<div class="sect4"><a id="GUID-36A64F31-9735-4F19-97AE-35C3A376235C"></a>
<h4 id="ADMIN-GUID-36A64F31-9735-4F19-97AE-35C3A376235C" class="sect4"><span class="enumeration_section">4.5.10.5</span> srvctl start listener</h4>
<p>Starts the specified listener or all listeners.</p>
<a id="ADMIN12995"></a><a id="ADMIN12776"></a>
<div class="sect5"><a id="GUID-A498C5EF-B4E0-4E13-84E1-FF279B18F0B8"></a>
<h5 id="ADMIN-GUID-A498C5EF-B4E0-4E13-84E1-FF279B18F0B8" class="sect5"><span class="enumeration_section">4.5.10.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e18685" class="indexterm-anchor"></a>srvctl start listener [-listener <span class="italic">listener_name</span>]
</pre>
<div class="tblformal" id="GUID-A498C5EF-B4E0-4E13-84E1-FF279B18F0B8__GUID-4204D08F-CEC5-46BC-B8C7-32A60E936FB2">
<p class="titleintable">Table 4-49 srvctl start listener Options</p>
<table class="cellalignment1849" title="srvctl start listener Options" summary="This table describes the srvctl start listener command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1939" id="d46844e18703">Option</th>
<th class="cellalignment1940" id="d46844e18706">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e18711" headers="d46844e18703">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1942" headers="d46844e18711 d46844e18706">
<p>Listener name. If omitted, all Oracle Restart&ndash;managed listeners are started.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12873"></a>
<div class="sect5"><a id="GUID-A61F510B-E8CB-4660-8D65-EE491880FF50"></a>
<h5 id="ADMIN-GUID-A61F510B-E8CB-4660-8D65-EE491880FF50" class="sect5"><span class="enumeration_section">4.5.10.5.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl start listener -listener listener
</pre></div>
</div>
</div>
<a id="ADMIN13243"></a>
<div class="sect4"><a id="GUID-5FD6F6A9-EECD-40B7-8795-7EC387F4ED6C"></a>
<h4 id="ADMIN-GUID-5FD6F6A9-EECD-40B7-8795-7EC387F4ED6C" class="sect4"><span class="enumeration_section">4.5.10.6</span> srvctl start ons</h4>
<p>Starts Oracle Notification Services (ONS).</p>
<a id="ADMIN13245"></a><a id="ADMIN13244"></a>
<div class="sect5"><a id="GUID-58629C4B-0011-4FCA-AB03-34F320B7776A"></a>
<h5 id="ADMIN-GUID-58629C4B-0011-4FCA-AB03-34F320B7776A" class="sect5"><span class="enumeration_section">4.5.10.6.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl start ons [-verbose]
</pre>
<div class="tblformal" id="GUID-58629C4B-0011-4FCA-AB03-34F320B7776A__GUID-1C9FCD51-24F7-4E84-9AC5-7ED4F08E43E2">
<p class="titleintable">Table 4-50 srvctl start ons Options</p>
<table class="cellalignment1849" title="srvctl start ons Options" summary="srvctl start ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d46844e18927">Option</th>
<th class="cellalignment1963" id="d46844e18930">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e18935" headers="d46844e18927">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1964" headers="d46844e18935 d46844e18930">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5034"></a>
<div class="sect4"><a id="GUID-2F8DE01C-D5BC-4370-80F9-80A79D8B903B"></a>
<h4 id="ADMIN-GUID-2F8DE01C-D5BC-4370-80F9-80A79D8B903B" class="sect4"><span class="enumeration_section">4.5.10.7</span> srvctl start service</h4>
<p>Starts the specified database service or services.</p>
<a id="ADMIN12996"></a><a id="ADMIN12778"></a>
<div class="sect5"><a id="GUID-E2080B17-8FEB-43CD-B81E-E4436BA9791A"></a>
<h5 id="ADMIN-GUID-E2080B17-8FEB-43CD-B81E-E4436BA9791A" class="sect5"><span class="enumeration_section">4.5.10.7.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e19070" class="indexterm-anchor"></a>srvctl start service -db <span class="italic">db_unique_name</span> [-service <span class="italic">service_name_list</span>] 
  [-startoption <span class="italic">start_options</span>] [-global_override] [-verbose]
</pre>
<div class="tblformal" id="GUID-E2080B17-8FEB-43CD-B81E-E4436BA9791A__GUID-DC2198CF-9652-4879-B03F-C16AD6533646">
<p class="titleintable">Table 4-51 srvctl start service Options</p>
<table class="cellalignment1849" title="srvctl start service Options" summary="srvctl start service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e19097">Option</th>
<th class="cellalignment1957" id="d46844e19100">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19105" headers="d46844e19097">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e19105 d46844e19100">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19129" headers="d46844e19097">
<pre dir="ltr">-service <span class="italic">service_name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e19129 d46844e19100">
<p>Comma-delimited list of service names. The service name list is optional and, if not provided, SRVCTL starts all of the database&#39;s services.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19138" headers="d46844e19097">
<pre dir="ltr">-startoption <span class="italic">start_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e19138 d46844e19100">
<p>Options for database startup (for example: <code class="codeph">OPEN</code>, <code class="codeph">MOUNT</code>, <code class="codeph">NOMOUNT</code> and so on) if the database must be started first</p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG128" target="_blank" href="../SQPUG/ch_twelve045.htm#SQPUG128"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about startup options</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19165" headers="d46844e19097">
<pre dir="ltr">-global_override
</pre></td>
<td class="cellalignment1958" headers="d46844e19165 d46844e19100">
<p>If the service is a Global Data Services (GDS) service, then this option must be specified to start the service.</p>
<p>An error is returned if you attempt to start a GDS service and <code class="codeph">-global_override</code> is not included.</p>
<p>This option is ignored if the service is not a GDS service.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19186" headers="d46844e19097">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e19186 d46844e19100">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12779"></a>
<div class="sect5"><a id="GUID-0398C197-D677-413F-AAF7-4150F3B608C7"></a>
<h5 id="ADMIN-GUID-0398C197-D677-413F-AAF7-4150F3B608C7" class="sect5"><span class="enumeration_section">4.5.10.7.2</span> Example</h5>
<div>
<p>For the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, the following example starts the <code class="codeph">sales</code> database service:</p>
<pre dir="ltr">srvctl start service -db dbcrm -service sales
</pre></div>
</div>
</div>
</div>
<a id="ADMIN12997"></a><a id="ADMIN5052"></a>
<div class="sect3"><a id="GUID-6B2BA9FF-EF33-4D89-A836-251B943113E8"></a>
<h3 id="ADMIN-GUID-6B2BA9FF-EF33-4D89-A836-251B943113E8" class="sect3"><span class="enumeration_section">4.5.11</span> status</h3>
<p>Displays the running status of the specified component or set of components.</p>
<a id="ADMIN5057"></a>
<div class="sect4"><a id="GUID-F032D0C1-2915-44E9-969F-B7496C6E7930"></a>
<h4 id="ADMIN-GUID-F032D0C1-2915-44E9-969F-B7496C6E7930" class="sect4"><span class="enumeration_section">4.5.11.1</span> srvctl status asm</h4>
<p>Displays the running status of the Oracle ASM instance.</p>
<a id="ADMIN12998"></a><a id="ADMIN12799"></a>
<div class="sect5"><a id="GUID-453BB0C6-F2CB-4E56-9893-0EA1FBC81F34"></a>
<h5 id="ADMIN-GUID-453BB0C6-F2CB-4E56-9893-0EA1FBC81F34" class="sect5"><span class="enumeration_section">4.5.11.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e19458" class="indexterm-anchor"></a>srvctl status asm [-all] [-verbose]
</pre>
<div class="tblformal" id="GUID-453BB0C6-F2CB-4E56-9893-0EA1FBC81F34__GUID-61FF5A0A-01C1-4E38-9874-AFFE952919BD">
<p class="titleintable">Table 4-52 srvctl status asm Options</p>
<table class="cellalignment1849" title="srvctl status asm Options" summary="This table describes the srvctl status diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d46844e19473">Option</th>
<th class="cellalignment1963" id="d46844e19476">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e19481" headers="d46844e19473">
<pre dir="ltr">-all
</pre></td>
<td class="cellalignment1964" headers="d46844e19481 d46844e19476">
<p>Display enabled/disabled status also</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e19488" headers="d46844e19473">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1964" headers="d46844e19488 d46844e19476">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12874"></a>
<div class="sect5"><a id="GUID-A609F4A0-BFC5-4822-9981-924EE4929917"></a>
<h5 id="ADMIN-GUID-A609F4A0-BFC5-4822-9981-924EE4929917" class="sect5"><span class="enumeration_section">4.5.11.1.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl status asm

ASM is running on dbhost
</pre></div>
</div>
</div>
<a id="ADMIN5053"></a>
<div class="sect4"><a id="GUID-EEBCFE78-0772-4AD1-85C1-60D81873501A"></a>
<h4 id="ADMIN-GUID-EEBCFE78-0772-4AD1-85C1-60D81873501A" class="sect4"><span class="enumeration_section">4.5.11.2</span> srvctl status database</h4>
<p>Displays the running status of the specified database.</p>
<a id="ADMIN12999"></a><a id="ADMIN12800"></a>
<div class="sect5"><a id="GUID-22DB1E2F-68BF-4230-BE24-E52ABC777465"></a>
<h5 id="ADMIN-GUID-22DB1E2F-68BF-4230-BE24-E52ABC777465" class="sect5"><span class="enumeration_section">4.5.11.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e19684" class="indexterm-anchor"></a>srvctl status database -db <span class="italic">db_unique_name</span> [-force] [-verbose]
</pre>
<div class="tblformal" id="GUID-22DB1E2F-68BF-4230-BE24-E52ABC777465__GUID-2F50B5A3-F4BF-47BD-B7D3-33D1853A865E">
<p class="titleintable">Table 4-53 srvctl status database Options</p>
<table class="cellalignment1849" title="srvctl status database Options" summary="srvctl status database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e19703">Option</th>
<th class="cellalignment1957" id="d46844e19706">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19711" headers="d46844e19703">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e19711 d46844e19706">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19735" headers="d46844e19703">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e19735 d46844e19706">
<p>Display a message if the database is disabled</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e19742" headers="d46844e19703">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e19742 d46844e19706">
<p>Verbose output. Lists the database services that are running.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12875"></a>
<div class="sect5"><a id="GUID-B297A41E-6161-4ECD-92C9-85B70A1D1AEE"></a>
<h5 id="ADMIN-GUID-B297A41E-6161-4ECD-92C9-85B70A1D1AEE" class="sect5"><span class="enumeration_section">4.5.11.2.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl status database -db dbcrm -verbose

Database dbcrm is running with online services mfg,sales
</pre></div>
</div>
</div>
<a id="ADMIN12876"></a>
<div class="sect4"><a id="GUID-F72AAB54-721D-441C-A6BC-C79B9880A7D3"></a>
<h4 id="ADMIN-GUID-F72AAB54-721D-441C-A6BC-C79B9880A7D3" class="sect4"><span class="enumeration_section">4.5.11.3</span> srvctl status diskgroup</h4>
<p>Displays the running status of an Oracle ASM disk group.</p>
<a id="ADMIN13000"></a><a id="ADMIN12877"></a>
<div class="sect5"><a id="GUID-0F34BC19-49D3-4BD9-951F-87EC72F4AB94"></a>
<h5 id="ADMIN-GUID-0F34BC19-49D3-4BD9-951F-87EC72F4AB94" class="sect5"><span class="enumeration_section">4.5.11.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">diskgroup</code> command with the following syntax:</p>
<pre dir="ltr">srvctl status diskgroup -diskgroup <span class="italic">diskgroup_name</span> [-all] [-verbose]
</pre>
<div class="tblformal" id="GUID-0F34BC19-49D3-4BD9-951F-87EC72F4AB94__GUID-938A6C37-09E7-41C4-945B-00FB0C4E26E5">
<p class="titleintable">Table 4-54 srvctl status diskgroup Options</p>
<table class="cellalignment1849" title="srvctl status diskgroup Options" summary="This table describes the srvctl status diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1939" id="d46844e19960">Option</th>
<th class="cellalignment1940" id="d46844e19963">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e19968" headers="d46844e19960">
<pre dir="ltr">-diskgroup <span class="italic">diskgroup_name</span>
</pre></td>
<td class="cellalignment1942" headers="d46844e19968 d46844e19963">
<p>Disk group name</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e19977" headers="d46844e19960">
<pre dir="ltr">-all
</pre></td>
<td class="cellalignment1942" headers="d46844e19977 d46844e19963">
<p>Display enabled/disabled status also</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1941" id="d46844e19984" headers="d46844e19960">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1942" headers="d46844e19984 d46844e19963">
<p>Verbose output. Lists the database services that are running.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12878"></a>
<div class="sect5"><a id="GUID-08784A25-FC5E-46C7-9515-AE98DF289A88"></a>
<h5 id="ADMIN-GUID-08784A25-FC5E-46C7-9515-AE98DF289A88" class="sect5"><span class="enumeration_section">4.5.11.3.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl status diskgroup -diskgroup DATA

Disk Group DATA is running on dbhost
</pre></div>
</div>
</div>
<a id="ADMIN13248"></a>
<div class="sect4"><a id="GUID-386A46C8-376B-4AA9-B8FF-0F9B7139DDE0"></a>
<h4 id="ADMIN-GUID-386A46C8-376B-4AA9-B8FF-0F9B7139DDE0" class="sect4"><span class="enumeration_section">4.5.11.4</span> srvctl status home</h4>
<div>
<p>Displays the running status of all of the components that are managed by Oracle Restart in the specified Oracle home. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.</p>
<p>This command writes the current status of the components to the specified state file.</p>
</div>
<a id="ADMIN13250"></a><a id="ADMIN13249"></a>
<div class="sect5"><a id="GUID-77B4D00E-7DDC-4661-92D1-9791768395EA"></a>
<h5 id="ADMIN-GUID-77B4D00E-7DDC-4661-92D1-9791768395EA" class="sect5"><span class="enumeration_section">4.5.11.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">home</code> command with the following syntax:</p>
<pre dir="ltr">srvctl status home -oraclehome <span class="italic">oracle_home</span> -statefile <span class="italic">state_file</span>
</pre>
<div class="tblformal" id="GUID-77B4D00E-7DDC-4661-92D1-9791768395EA__GUID-ED358F97-DD76-46A7-B9C0-881D11A2C3DE">
<p class="titleintable">Table 4-55 srvctl status home Options</p>
<table class="cellalignment1849" title="srvctl status home Options" summary="srvctl status home Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d46844e20206">Option</th>
<th class="cellalignment1963" id="d46844e20209">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e20214" headers="d46844e20206">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1964" headers="d46844e20214 d46844e20209">
<p>Complete path of the Oracle home</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e20223" headers="d46844e20206">
<pre dir="ltr">-statefile <span class="italic">state_file</span>
</pre></td>
<td class="cellalignment1964" headers="d46844e20223 d46844e20209">
<p>Complete path of the state file</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN12879"></a>
<div class="sect4"><a id="GUID-BAB76ECB-2C6E-4538-8842-29FCA236E9B1"></a>
<h4 id="ADMIN-GUID-BAB76ECB-2C6E-4538-8842-29FCA236E9B1" class="sect4"><span class="enumeration_section">4.5.11.5</span> srvctl status listener</h4>
<p>Displays the running status of the specified listener or of all Oracle Restart&ndash;managed listeners.</p>
<a id="ADMIN13001"></a><a id="ADMIN12880"></a>
<div class="sect5"><a id="GUID-84DB43EE-2F7A-44B7-BE96-3B510C8C7C3D"></a>
<h5 id="ADMIN-GUID-84DB43EE-2F7A-44B7-BE96-3B510C8C7C3D" class="sect5"><span class="enumeration_section">4.5.11.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl status listener [-listener <span class="italic">listener_name</span>] [-verbose]
</pre>
<div class="tblformal" id="GUID-84DB43EE-2F7A-44B7-BE96-3B510C8C7C3D__GUID-C7652944-ADD1-4219-AE9B-BE599A533ACF">
<p class="titleintable">Table 4-56 srvctl status listener Options</p>
<table class="cellalignment1849" title="srvctl status listener Options" summary="This table describes the srvctl status diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d46844e20381">Option</th>
<th class="cellalignment1950" id="d46844e20384">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e20389" headers="d46844e20381">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1952" headers="d46844e20389 d46844e20384">
<p>Listener name. If omitted, the status of all listeners is displayed.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e20398" headers="d46844e20381">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1952" headers="d46844e20398 d46844e20384">
<p>Verbose output. Lists the database services that are running.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12881"></a>
<div class="sect5"><a id="GUID-6C4CB33E-A05E-4723-8564-B411FD5C4B28"></a>
<h5 id="ADMIN-GUID-6C4CB33E-A05E-4723-8564-B411FD5C4B28" class="sect5"><span class="enumeration_section">4.5.11.5.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl status listener -listener crmlistener

Listener CRMLISTENER is running on dbhost
</pre></div>
</div>
</div>
<a id="ADMIN13251"></a>
<div class="sect4"><a id="GUID-BD8CCE8F-1F7A-47C5-BEA9-39D9F4912CB5"></a>
<h4 id="ADMIN-GUID-BD8CCE8F-1F7A-47C5-BEA9-39D9F4912CB5" class="sect4"><span class="enumeration_section">4.5.11.6</span> srvctl status ons</h4>
<p>Displays the running status of Oracle Notification Services (ONS).</p>
<a id="ADMIN14065"></a><a id="ADMIN13252"></a>
<div class="sect5"><a id="GUID-FA892D81-3379-4F89-B80E-CF79B495EB85"></a>
<h5 id="ADMIN-GUID-FA892D81-3379-4F89-B80E-CF79B495EB85" class="sect5"><span class="enumeration_section">4.5.11.6.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl status ons [-verbose]
</pre>
<div class="tblformal" id="GUID-FA892D81-3379-4F89-B80E-CF79B495EB85__GUID-74E8D08A-4992-4BDF-B49B-070E3C1B365D">
<p class="titleintable">Table 4-57 srvctl status ons Options</p>
<table class="cellalignment1849" title="srvctl status ons Options" summary="This table describes the srvctl status ons command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1949" id="d46844e20613">Option</th>
<th class="cellalignment1950" id="d46844e20616">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1951" id="d46844e20621" headers="d46844e20613">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1952" headers="d46844e20621 d46844e20616">
<p>Verbose output. Lists the database services that are running.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5055"></a>
<div class="sect4"><a id="GUID-D35657A3-A605-4D3B-BD75-58511040633B"></a>
<h4 id="ADMIN-GUID-D35657A3-A605-4D3B-BD75-58511040633B" class="sect4"><span class="enumeration_section">4.5.11.7</span> srvctl status service</h4>
<p>Displays the running status of one or more database services.</p>
<a id="ADMIN13002"></a><a id="ADMIN12802"></a>
<div class="sect5"><a id="GUID-5875AEEE-4E71-47E2-A49D-D0A3175D8A37"></a>
<h5 id="ADMIN-GUID-5875AEEE-4E71-47E2-A49D-D0A3175D8A37" class="sect5"><span class="enumeration_section">4.5.11.7.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">status</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e20756" class="indexterm-anchor"></a>srvctl status service -db <span class="italic">db_unique_name</span> [-service <span class="italic">service_name_list</span>] [-force] 
  [-verbose]
</pre>
<div class="tblformal" id="GUID-5875AEEE-4E71-47E2-A49D-D0A3175D8A37__GUID-62D575A3-BAB8-4DED-AD4A-52B2C5B645E9">
<p class="titleintable">Table 4-58 srvctl status service Options</p>
<table class="cellalignment1849" title="srvctl status service Options" summary="srvctl status service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e20779">Option</th>
<th class="cellalignment1957" id="d46844e20782">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e20787" headers="d46844e20779">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e20787 d46844e20782">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e20811" headers="d46844e20779">
<pre dir="ltr">-service <span class="italic">service_name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e20811 d46844e20782">
<p>Comma-delimited list of service names. If omitted, status is listed for all database services for the designated database.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e20820" headers="d46844e20779">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e20820 d46844e20782">
<p>Display a message if a service is disabled</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e20827" headers="d46844e20779">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e20827 d46844e20782">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12803"></a>
<div class="sect5"><a id="GUID-0A422689-9412-4583-B3CE-68BCA253C3E7"></a>
<h5 id="ADMIN-GUID-0A422689-9412-4583-B3CE-68BCA253C3E7" class="sect5"><span class="enumeration_section">4.5.11.7.2</span> Example</h5>
<div>
<p>For the database with the <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>, the following example displays the running status of the service <code class="codeph">sales</code>:</p>
<pre dir="ltr">srvctl status service -db dbcrm -service sales

Service sales is running on dbhost
</pre></div>
</div>
</div>
</div>
<a id="ADMIN13003"></a><a id="ADMIN5037"></a>
<div class="sect3"><a id="GUID-F1874CB6-96D6-4B84-9478-0482F20E48E9"></a>
<h3 id="ADMIN-GUID-F1874CB6-96D6-4B84-9478-0482F20E48E9" class="sect3"><span class="enumeration_section">4.5.12</span> stop</h3>
<div>
<p>Stops the specified component or components.</p>
<p>If you want a component to remain stopped after you issue a <code class="codeph">srvctl</code> <code class="codeph">stop</code> command, disable the component. See the <a href="restart.htm#GUID-489938E3-931D-446F-B570-C81659AC3C52" title="Disables a component, which suspends management of that component by Oracle Restart.">disable</a> command.</p>
<div class="infobox-note" id="GUID-F1874CB6-96D6-4B84-9478-0482F20E48E9__GUID-FCD8EC3D-7878-406F-B46B-2691BF46E7DC">
<p class="notep1">Note:</p>
<p>If a component is stopped and is not disabled, it could restart as a result of another planned operation. That is, although a stopped component will not restart as a result of a failure, it might be started if a dependent component is started with a <code class="codeph">srvctl</code> <code class="codeph">start</code> command.</p>
</div>
<div class="infoboxnotealso" id="GUID-F1874CB6-96D6-4B84-9478-0482F20E48E9__GUID-8C070D47-B77E-4084-A243-002C070FAA10">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span></p>
</div>
</div>
<a id="ADMIN5043"></a>
<div class="sect4"><a id="GUID-95D2E8E3-5E86-4122-9424-E740CFA8A865"></a>
<h4 id="ADMIN-GUID-95D2E8E3-5E86-4122-9424-E740CFA8A865" class="sect4"><span class="enumeration_section">4.5.12.1</span> srvctl stop asm</h4>
<p>Stops the Oracle ASM instance.</p>
<a id="ADMIN13004"></a><a id="ADMIN12780"></a>
<div class="sect5"><a id="GUID-24ABEF7A-CB8C-4185-A46A-14E073F836F9"></a>
<h5 id="ADMIN-GUID-24ABEF7A-CB8C-4185-A46A-14E073F836F9" class="sect5"><span class="enumeration_section">4.5.12.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e21132" class="indexterm-anchor"></a>srvctl stop asm [-stopoption <span class="italic">stop_options</span>] [-force]
</pre>
<div class="tblformal" id="GUID-24ABEF7A-CB8C-4185-A46A-14E073F836F9__GUID-A43F4500-E411-4CE0-8FCE-E4D1AC4EA399">
<p class="titleintable">Table 4-59 srvctl stop asm Option</p>
<table class="cellalignment1849" title="srvctl stop asm Option" summary="srvctl stop asm Option">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e21151">Option</th>
<th class="cellalignment1957" id="d46844e21154">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21159" headers="d46844e21151">
<pre dir="ltr">-stopoption <span class="italic">stop_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e21159 d46844e21154">
<p>Options for the shutdown operation, for example, <code class="codeph">NORMAL</code>, <code class="codeph">TRANSACTIONAL</code>, <code class="codeph">IMMEDIATE</code>, or <code class="codeph">ABORT</code></p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG125" target="_blank" href="../SQPUG/ch_twelve042.htm#SQPUG125"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about shutdown options</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21188" headers="d46844e21151">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e21188 d46844e21154">
<p>Force. Must be present if disk groups are currently started (mounted). This option enables SRVCTL to stop the disk groups before stopping Oracle ASM. Each dependent database instance is also stopped according to its stop options, or with the <code class="codeph">ABORT</code> option if the configured stop options fail.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12781"></a>
<div class="sect5"><a id="GUID-E85CB9EA-02CA-45B5-B092-F3E8B7205667"></a>
<h5 id="ADMIN-GUID-E85CB9EA-02CA-45B5-B092-F3E8B7205667" class="sect5"><span class="enumeration_section">4.5.12.1.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl stop asm -stopoption abort -force
</pre></div>
</div>
</div>
<a id="ADMIN5039"></a>
<div class="sect4"><a id="GUID-427E51A9-BB79-4999-B87E-8B99AF4435AB"></a>
<h4 id="ADMIN-GUID-427E51A9-BB79-4999-B87E-8B99AF4435AB" class="sect4"><span class="enumeration_section">4.5.12.2</span> srvctl stop database</h4>
<p>Stops a database and its services.</p>
<a id="ADMIN13005"></a><a id="ADMIN12782"></a>
<div class="sect5"><a id="GUID-D66105CD-53F3-4D6E-9082-6DC507AB4B19"></a>
<h5 id="ADMIN-GUID-D66105CD-53F3-4D6E-9082-6DC507AB4B19" class="sect5"><span class="enumeration_section">4.5.12.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">database</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e21388" class="indexterm-anchor"></a>srvctl stop database -db <span class="italic">db_unique_name</span> [-stopoption <span class="italic">stop_options</span>] [-force] 
  [-verbose]
</pre>
<div class="tblformal" id="GUID-D66105CD-53F3-4D6E-9082-6DC507AB4B19__GUID-A041E1CE-7C1C-4C1E-A37E-D058F7B58F08">
<p class="titleintable">Table 4-60 srvctl stop database Options</p>
<table class="cellalignment1849" title="srvctl stop database Options" summary="srvctl stop database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e21411">Option</th>
<th class="cellalignment1957" id="d46844e21414">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21419" headers="d46844e21411">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e21419 d46844e21414">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21445" headers="d46844e21411">
<pre dir="ltr">-stopoption <span class="italic">stop_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e21445 d46844e21414">
<p><code class="codeph">SHUTDOWN</code> command options (for example: <code class="codeph">NORMAL</code>, <code class="codeph">TRANSACTIONAL</code>, <code class="codeph">IMMEDIATE</code>, or <code class="codeph">ABORT</code>). Default is <code class="codeph">IMMEDIATE</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21473" headers="d46844e21411">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e21473 d46844e21414">
<p>Stops the database, its services, and any resources that depend on the services</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21480" headers="d46844e21411">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e21480 d46844e21414">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12783"></a>
<div class="sect5"><a id="GUID-DEF96047-F6A3-4A2D-B818-4D4271D1236C"></a>
<h5 id="ADMIN-GUID-DEF96047-F6A3-4A2D-B818-4D4271D1236C" class="sect5"><span class="enumeration_section">4.5.12.2.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl stop database -db dbcrm
</pre></div>
</div>
</div>
<a id="ADMIN12882"></a>
<div class="sect4"><a id="GUID-AE7DFA87-837F-4D88-9824-5D7DBAD6EF15"></a>
<h4 id="ADMIN-GUID-AE7DFA87-837F-4D88-9824-5D7DBAD6EF15" class="sect4"><span class="enumeration_section">4.5.12.3</span> srvctl stop diskgroup</h4>
<p>Stops (dismounts) an Oracle ASM disk group.</p>
<a id="ADMIN13006"></a><a id="ADMIN12883"></a>
<div class="sect5"><a id="GUID-E116E71F-8D4C-4EB4-9154-AED58EC28ED4"></a>
<h5 id="ADMIN-GUID-E116E71F-8D4C-4EB4-9154-AED58EC28ED4" class="sect5"><span class="enumeration_section">4.5.12.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">diskgroup</code> command with the following syntax:</p>
<pre dir="ltr">srvctl stop diskgroup -diskgroup <span class="italic">diskgroup_name</span> [-force]
</pre>
<div class="tblformal" id="GUID-E116E71F-8D4C-4EB4-9154-AED58EC28ED4__GUID-CD1B0546-4574-4B91-B991-89C9FEE70F65">
<p class="titleintable">Table 4-61 srvctl stop diskgroup Options</p>
<table class="cellalignment1849" title="srvctl stop diskgroup Options" summary="This table describes the srvctl stop diskgroup command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1882" id="d46844e21697">Option</th>
<th class="cellalignment1965" id="d46844e21700">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d46844e21705" headers="d46844e21697">
<pre dir="ltr">-diskgroup <span class="italic">diskgroup_name</span>
</pre></td>
<td class="cellalignment1966" headers="d46844e21705 d46844e21700">
<p>Disk group name</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d46844e21714" headers="d46844e21697">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1966" headers="d46844e21714 d46844e21700">
<p>Force. Dismount the disk group even if some files in the disk group are open.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12884"></a>
<div class="sect5"><a id="GUID-8E4944DC-5F5C-4234-9209-5926B680D523"></a>
<h5 id="ADMIN-GUID-8E4944DC-5F5C-4234-9209-5926B680D523" class="sect5"><span class="enumeration_section">4.5.12.3.2</span> Example</h5>
<div>
<p>This example stops the disk group named <code class="codeph">DATA</code>. An error is returned if files are open on this disk group.</p>
<pre dir="ltr">srvctl stop diskgroup -diskgroup DATA
</pre></div>
</div>
</div>
<a id="ADMIN13256"></a>
<div class="sect4"><a id="GUID-194719C4-98B2-447A-BCD2-1FD77888F356"></a>
<h4 id="ADMIN-GUID-194719C4-98B2-447A-BCD2-1FD77888F356" class="sect4"><span class="enumeration_section">4.5.12.4</span> srvctl stop home</h4>
<div>
<p>Stops all of the components that are managed by Oracle Restart in the specified Oracle home. The Oracle home can be an Oracle Database home or an Oracle Grid Infrastructure home.</p>
<p>This command identifies the components that it stopped in the specified state file.</p>
<div class="infobox-note" id="GUID-194719C4-98B2-447A-BCD2-1FD77888F356__GUID-D00F9129-07DD-4771-9FB0-D689DD4310B5">
<p class="notep1">Note:</p>
<ul style="list-style-type: disc;">
<li>
<p>Before stopping the components in an Oracle Grid Infrastructure home, stop the components in a dependent Oracle Database home.</p>
</li>
<li>
<p>Use this command to stop components before you install a patch in an Oracle home.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN13258"></a><a id="ADMIN13257"></a>
<div class="sect5"><a id="GUID-63C7068D-E105-4521-8EE0-232035B121F7"></a>
<h5 id="ADMIN-GUID-63C7068D-E105-4521-8EE0-232035B121F7" class="sect5"><span class="enumeration_section">4.5.12.4.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">home</code> command with the following syntax:</p>
<pre dir="ltr">srvctl stop home -oraclehome <span class="italic">oracle_home</span> -statefile <span class="italic">state_file</span> 
  [-stopoption <span class="italic">stop_options</span>] [-force]
</pre>
<div class="tblformal" id="GUID-63C7068D-E105-4521-8EE0-232035B121F7__GUID-A5CF844E-4503-4373-950D-F72122610B17">
<p class="titleintable">Table 4-62 srvctl stop home Options</p>
<table class="cellalignment1849" title="srvctl stop home Options" summary="srvctl stop home Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e21952">Option</th>
<th class="cellalignment1957" id="d46844e21955">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21960" headers="d46844e21952">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e21960 d46844e21955">
<p>Complete path of the Oracle home</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21969" headers="d46844e21952">
<pre dir="ltr">-statefile <span class="italic">state_file</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e21969 d46844e21955">
<p>Complete path to where you want the state file to be written</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e21978" headers="d46844e21952">
<pre dir="ltr">-stopoption <span class="italic">stop_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e21978 d46844e21955">
<p><code class="codeph">SHUTDOWN</code> command options for the database (for example: <code class="codeph">NORMAL</code>, <code class="codeph">TRANSACTIONAL</code>, <code class="codeph">IMMEDIATE</code>, or <code class="codeph">ABORT</code>). Default is <code class="codeph">IMMEDIATE</code>.</p>
<p><span class="bold">See Also:</span> <a class="olink SQPUG125" target="_blank" href="../SQPUG/ch_twelve042.htm#SQPUG125"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for more information about shutdown options</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22015" headers="d46844e21952">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e22015 d46844e21955">
<p>Force stop each component</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN12784"></a>
<div class="sect4"><a id="GUID-42B2DCFC-7CA9-45BF-940E-5B1DDDA21EB3"></a>
<h4 id="ADMIN-GUID-42B2DCFC-7CA9-45BF-940E-5B1DDDA21EB3" class="sect4"><span class="enumeration_section">4.5.12.5</span> srvctl stop listener</h4>
<p>Stops the designated listener or all Oracle Restart&ndash;managed listeners. Stopping a listener does not cause databases that are registered with the listener to be stopped.</p>
<a id="ADMIN13007"></a><a id="ADMIN12785"></a>
<div class="sect5"><a id="GUID-FFE1BE91-7E45-43A6-886A-C6F233DD4E4A"></a>
<h5 id="ADMIN-GUID-FFE1BE91-7E45-43A6-886A-C6F233DD4E4A" class="sect5"><span class="enumeration_section">4.5.12.5.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e22151" class="indexterm-anchor"></a>srvctl stop listener [-listener <span class="italic">listener_name</span>] [-force]
</pre>
<div class="tblformal" id="GUID-FFE1BE91-7E45-43A6-886A-C6F233DD4E4A__GUID-7869FB15-265E-4630-9E2B-E0DC588A8BB1">
<p class="titleintable">Table 4-63 srvctl stop listener Options</p>
<table class="cellalignment1849" title="srvctl stop listener Options" summary="This table describes the srvctl stop listener command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e22169">Option</th>
<th class="cellalignment1957" id="d46844e22172">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22177" headers="d46844e22169">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e22177 d46844e22172">
<p>Listener name. If omitted, all Oracle Restart&ndash;managed listeners are stopped.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22186" headers="d46844e22169">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e22186 d46844e22172">
<p>Force. Passes the stop command with the <code class="codeph">-f</code> option to Oracle Clusterware. See <a class="olink CWADD91401" target="_blank" href="../CWADD/GUID-0EDB3B5A-9873-4313-9993-E1069C1A59E5.htm#CWADD91401"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about the Oracle Clusterware <code class="codeph">-f</code> option.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12786"></a>
<div class="sect5"><a id="GUID-C8BD16F9-43DD-4193-B526-BC247B1E7218"></a>
<h5 id="ADMIN-GUID-C8BD16F9-43DD-4193-B526-BC247B1E7218" class="sect5"><span class="enumeration_section">4.5.12.5.2</span> Example</h5>
<div>
<p>An example of this command is:</p>
<pre dir="ltr">srvctl stop listener -listener crmlistener
</pre></div>
</div>
</div>
<a id="ADMIN13259"></a>
<div class="sect4"><a id="GUID-3E945DA0-12A4-4722-A32D-6EDFE1D86435"></a>
<h4 id="ADMIN-GUID-3E945DA0-12A4-4722-A32D-6EDFE1D86435" class="sect4"><span class="enumeration_section">4.5.12.6</span> srvctl stop ons</h4>
<p>Stops Oracle Notification Services (ONS).</p>
<a id="ADMIN13261"></a><a id="ADMIN13260"></a>
<div class="sect5"><a id="GUID-2F5234FF-0A6A-440A-8216-750A4A37B706"></a>
<h5 id="ADMIN-GUID-2F5234FF-0A6A-440A-8216-750A4A37B706" class="sect5"><span class="enumeration_section">4.5.12.6.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">ons</code> command with the following syntax:</p>
<pre dir="ltr">srvctl stop ons [-verbose]
</pre>
<div class="tblformal" id="GUID-2F5234FF-0A6A-440A-8216-750A4A37B706__GUID-7CA596A3-1FBF-44E2-B3D9-C82D183595B0">
<p class="titleintable">Table 4-64 srvctl stop ons Options</p>
<table class="cellalignment1849" title="srvctl stop ons Options" summary="srvctl stop ons Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d46844e22411">Option</th>
<th class="cellalignment1963" id="d46844e22414">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e22419" headers="d46844e22411">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1964" headers="d46844e22419 d46844e22414">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="ADMIN5041"></a>
<div class="sect4"><a id="GUID-2C673ACB-5727-4956-B927-5D6F9E6270D5"></a>
<h4 id="ADMIN-GUID-2C673ACB-5727-4956-B927-5D6F9E6270D5" class="sect4"><span class="enumeration_section">4.5.12.7</span> srvctl stop service</h4>
<p>Stops one or more database services.</p>
<a id="ADMIN13008"></a><a id="ADMIN12787"></a>
<div class="sect5"><a id="GUID-036EA300-9B4A-42F1-99AD-2A62CD640A44"></a>
<h5 id="ADMIN-GUID-036EA300-9B4A-42F1-99AD-2A62CD640A44" class="sect5"><span class="enumeration_section">4.5.12.7.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">stop</code> <code class="codeph">service</code> command with the following syntax:</p>
<pre dir="ltr"><a id="d46844e22554" class="indexterm-anchor"></a>srvctl stop service -db <span class="italic">db_unique_name</span> [-service <span class="italic">service_name_list</span>] 
  [-global_override] [-force] [-verbose]
</pre>
<div class="tblformal" id="GUID-036EA300-9B4A-42F1-99AD-2A62CD640A44__GUID-67818260-EB3C-4543-BA14-5D6ED32F20D8">
<p class="titleintable">Table 4-65 srvctl stop service Options</p>
<table class="cellalignment1849" title="srvctl stop service Options" summary="srvctl stop service Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e22577">Option</th>
<th class="cellalignment1957" id="d46844e22580">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22585" headers="d46844e22577">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e22585 d46844e22580">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22609" headers="d46844e22577">
<pre dir="ltr">-service <span class="italic">service_name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e22609 d46844e22580">
<p>Comma-delimited list of database service names. If you do not provide a service name list, then SRVCTL stops all services on the database</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22618" headers="d46844e22577">
<pre dir="ltr">-global_override
</pre></td>
<td class="cellalignment1958" headers="d46844e22618 d46844e22580">
<p>If the service is a Global Data Services (GDS) service, then this option must be specified to stop the service.</p>
<p>An error is returned if you attempt to stop a GDS service and <code class="codeph">-global_override</code> is not included.</p>
<p>This option is ignored if the service is not a GDS service.</p>
<p>See <a class="olink GSMUG" target="_blank" href="../GSMUG/toc.htm"><span class="italic">Oracle Database Global Data Services Concepts and Administration Guide</span></a> for more information.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22639" headers="d46844e22577">
<pre dir="ltr">-force
</pre></td>
<td class="cellalignment1958" headers="d46844e22639 d46844e22580">
<p>Force. This option disconnects all of the stopped services&#39; sessions immediately. Uncommitted transactions are rolled back. If this option is omitted, active sessions remain connected to the services, but no further connections to the services can be made.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e22646" headers="d46844e22577">
<pre dir="ltr">-verbose
</pre></td>
<td class="cellalignment1958" headers="d46844e22646 d46844e22580">
<p>Verbose output</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12788"></a>
<div class="sect5"><a id="GUID-E7F4EBB7-68C9-4AF1-8353-D30D588AE43F"></a>
<h5 id="ADMIN-GUID-E7F4EBB7-68C9-4AF1-8353-D30D588AE43F" class="sect5"><span class="enumeration_section">4.5.12.7.2</span> Example</h5>
<div>
<p>The following example stops the <code class="codeph">sales</code> database service on the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr">srvctl stop service -db dbcrm -service sales
</pre></div>
</div>
</div>
</div>
<a id="ADMIN13009"></a><a id="ADMIN12821"></a>
<div class="sect3"><a id="GUID-37E67B5B-72B9-4D0C-9E69-A44B845F7B31"></a>
<h3 id="ADMIN-GUID-37E67B5B-72B9-4D0C-9E69-A44B845F7B31" class="sect3"><span class="enumeration_section">4.5.13</span> unsetenv</h3>
<div>
<p>The <code class="codeph">unsetenv</code> command deletes one or more environment variables from the Oracle Restart configuration for a database, a listener, or an Oracle ASM instance.</p>
<p>To perform <code class="codeph">srvctl</code> <code class="codeph">unsetenv</code> operations, you must be logged in to the database host computer with the proper user account. See <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span> for more information.</p>
<div class="infoboxnotealso" id="GUID-37E67B5B-72B9-4D0C-9E69-A44B845F7B31__GUID-3C3384F6-84EC-4B6F-A795-A653CA7C67C1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="restart.htm#GUID-2B8EFD90-9FB9-4E59-825B-29D4BA893ED3" title="The setenv command sets values of environment variables in the Oracle Restart configuration for a database, a listener, or the Oracle ASM instance.">setenv</a> command</p>
</li>
<li>
<p><a href="restart.htm#GUID-F9BECEAF-CB80-4000-88C6-67184FBEF396" title="Gets and displays environment variables and their values from the Oracle Restart configuration for a database, listener, or Oracle ASM instance.">getenv</a> command</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-BE1395D5-1C26-471F-8987-FBF73987342F" title="The Oracle Restart configuration can store name/value pairs for environment variables.">Managing Environment Variables in the Oracle Restart Configuration</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="ADMIN12885"></a>
<div class="sect4"><a id="GUID-87685997-F362-42F9-AAC1-ED6F619153ED"></a>
<h4 id="ADMIN-GUID-87685997-F362-42F9-AAC1-ED6F619153ED" class="sect4"><span class="enumeration_section">4.5.13.1</span> srvctl unsetenv asm</h4>
<p>Removes the specified environment variables from the Oracle Restart configuration for the Oracle ASM instance.</p>
<a id="ADMIN13010"></a><a id="ADMIN12886"></a>
<div class="sect5"><a id="GUID-CF95280C-85DD-48D3-9360-464601EE68FE"></a>
<h5 id="ADMIN-GUID-CF95280C-85DD-48D3-9360-464601EE68FE" class="sect5"><span class="enumeration_section">4.5.13.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">unsetenv</code> <code class="codeph">asm</code> command with the following syntax:</p>
<pre dir="ltr">srvctl unsetenv asm -envs <span class="italic">name_list</span>
</pre>
<div class="tblformal" id="GUID-CF95280C-85DD-48D3-9360-464601EE68FE__GUID-CB09929F-9B77-47C1-9BEC-AFA14C6B33AE">
<p class="titleintable">Table 4-66 srvctl unsetenv asm Options</p>
<table class="cellalignment1849" title="srvctl unsetenv asm Options" summary="srvctl setenv asm Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1871" id="d46844e22983">Options</th>
<th class="cellalignment1963" id="d46844e22986">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1874" id="d46844e22991" headers="d46844e22983">
<pre dir="ltr">-envs <span class="italic">name_list</span>
</pre></td>
<td class="cellalignment1964" headers="d46844e22991 d46844e22986">
<p>Comma-delimited list of environment variables to remove</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12887"></a>
<div class="sect5"><a id="GUID-EFA93FAC-0D42-46BB-9312-F7A82F6458C0"></a>
<h5 id="ADMIN-GUID-EFA93FAC-0D42-46BB-9312-F7A82F6458C0" class="sect5"><span class="enumeration_section">4.5.13.1.2</span> Example</h5>
<div>
<p>The following example removes the AIX operating system environment variable <code class="codeph">AIXTHREAD_SCOPE</code> from the Oracle ASM instance configuration:</p>
<pre dir="ltr"><a id="d46844e23062" class="indexterm-anchor"></a>srvctl unsetenv asm -envs AIXTHREAD_SCOPE
</pre></div>
</div>
</div>
<a id="ADMIN5068"></a>
<div class="sect4"><a id="GUID-37684E0D-B8C8-4A73-9FDA-96B1D63A9C35"></a>
<h4 id="ADMIN-GUID-37684E0D-B8C8-4A73-9FDA-96B1D63A9C35" class="sect4"><span class="enumeration_section">4.5.13.2</span> srvctl unsetenv database</h4>
<p>Removes the specified environment variables from the Oracle Restart configuration for the specified database.</p>
<a id="ADMIN13011"></a><a id="ADMIN12822"></a>
<div class="sect5"><a id="GUID-F03D2D29-DFB7-4653-A176-BDBCC21A2D5F"></a>
<h5 id="ADMIN-GUID-F03D2D29-DFB7-4653-A176-BDBCC21A2D5F" class="sect5"><span class="enumeration_section">4.5.13.2.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">unsetenv</code> <code class="codeph">database</code> command as follows:</p>
<pre dir="ltr">srvctl unsetenv database -db <span class="italic">db_unique_name</span> -envs <span class="italic">name_list</span>
</pre>
<div class="tblformal" id="GUID-F03D2D29-DFB7-4653-A176-BDBCC21A2D5F__GUID-811F4706-C15F-4358-B00F-ADE2973EB41A">
<p class="titleintable">Table 4-67 srvctl unsetenv database Options</p>
<table class="cellalignment1849" title="srvctl unsetenv database Options" summary="srvctl unsetenv database Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e23215">Options</th>
<th class="cellalignment1957" id="d46844e23218">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e23223" headers="d46844e23215">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e23223 d46844e23218">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e23247" headers="d46844e23215">
<pre dir="ltr">-envs <span class="italic">name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e23247 d46844e23218">
<p>Comma-delimited list of environment variables to remove</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12823"></a>
<div class="sect5"><a id="GUID-77B24E52-F8EA-4E25-96C5-7BC96FF5E43C"></a>
<h5 id="ADMIN-GUID-77B24E52-F8EA-4E25-96C5-7BC96FF5E43C" class="sect5"><span class="enumeration_section">4.5.13.2.2</span> Example</h5>
<div>
<p>The following example deletes the <code class="codeph">AIXTHREAD_SCOPE</code> environment variable from the Oracle Restart configuration for the database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">dbcrm</code>:</p>
<pre dir="ltr"><a id="d46844e23324" class="indexterm-anchor"></a>srvctl unsetenv database -db dbcrm -envs AIXTHREAD_SCOPE
</pre></div>
</div>
</div>
<a id="ADMIN12888"></a>
<div class="sect4"><a id="GUID-41BBB503-0874-4E0E-8814-9995ED151263"></a>
<h4 id="ADMIN-GUID-41BBB503-0874-4E0E-8814-9995ED151263" class="sect4"><span class="enumeration_section">4.5.13.3</span> srvctl unsetenv listener</h4>
<p>Removes the specified environment variables from the Oracle Restart configuration for the specified listener or all listeners.</p>
<a id="ADMIN13012"></a><a id="ADMIN12889"></a>
<div class="sect5"><a id="GUID-3849314A-8699-4CFD-80E1-1A6130066FA5"></a>
<h5 id="ADMIN-GUID-3849314A-8699-4CFD-80E1-1A6130066FA5" class="sect5"><span class="enumeration_section">4.5.13.3.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl</code> <code class="codeph">unsetenv</code> <code class="codeph">listener</code> command with the following syntax:</p>
<pre dir="ltr">srvctl unsetenv listener [-listener <span class="italic">listener_name</span>] -envs <span class="italic">name_list</span>
</pre>
<div class="tblformal" id="GUID-3849314A-8699-4CFD-80E1-1A6130066FA5__GUID-35A75DF8-4DF8-4497-A4A5-32296E8BE365">
<p class="titleintable">Table 4-68 srvctl unsetenv listener Options</p>
<table class="cellalignment1849" title="srvctl unsetenv listener Options" summary="srvctl setenv listener Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e23476">Options</th>
<th class="cellalignment1957" id="d46844e23479">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e23484" headers="d46844e23476">
<pre dir="ltr">-listener <span class="italic">listener_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e23484 d46844e23479">
<p>Listener name. If omitted, the specified environment variables are removed from the configurations of all listeners.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e23493" headers="d46844e23476">
<pre dir="ltr">-envs <span class="italic">name_list</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e23493 d46844e23479">
<p>Comma-delimited list of environment variables to remove</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="ADMIN12890"></a>
<div class="sect5"><a id="GUID-08BD4A4B-97AF-4AF5-A929-173057828102"></a>
<h5 id="ADMIN-GUID-08BD4A4B-97AF-4AF5-A929-173057828102" class="sect5"><span class="enumeration_section">4.5.13.3.2</span> Example</h5>
<div>
<p>The following example removes the AIX operating system environment variable <code class="codeph">AIXTHREAD_SCOPE</code> from the listener configuration for the listener named <code class="codeph">crmlistener</code>:</p>
<pre dir="ltr"><a id="d46844e23567" class="indexterm-anchor"></a>srvctl unsetenv listener -listener crmlistener -envs AIXTHREAD_SCOPE
</pre></div>
</div>
</div>
</div>
<a id="ADMIN14323"></a>
<div class="sect3"><a id="GUID-62140232-1F3D-4357-AA2A-9B7465682277"></a>
<h3 id="ADMIN-GUID-62140232-1F3D-4357-AA2A-9B7465682277" class="sect3"><span class="enumeration_section">4.5.14</span> update</h3>
<p>The <code class="codeph">srvctl</code> <code class="codeph">update</code> command updates the running database to switch to the specified startup option.</p>
<a id="ADMIN14324"></a>
<div class="sect4"><a id="GUID-20D47CE9-2FC7-4BD6-8B88-F95D94D94C93"></a>
<h4 id="ADMIN-GUID-20D47CE9-2FC7-4BD6-8B88-F95D94D94C93" class="sect4"><span class="enumeration_section">4.5.14.1</span> srvctl update database</h4>
<p>The <code class="codeph">srvctl update database</code> command changes the open mode of the database.</p>
<a id="ADMIN14326"></a><a id="ADMIN14325"></a>
<div class="sect5"><a id="GUID-9E9A4BE0-0679-4D3F-B0BE-23F5203BF78E"></a>
<h5 id="ADMIN-GUID-9E9A4BE0-0679-4D3F-B0BE-23F5203BF78E" class="sect5"><span class="enumeration_section">4.5.14.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl update database</code> command as follows:</p>
<pre dir="ltr">srvctl update database -db <span class="italic">db_unique_name</span> --startoption <span class="italic">start_options</span>
</pre>
<div class="tblformal" id="GUID-9E9A4BE0-0679-4D3F-B0BE-23F5203BF78E__GUID-CA9B827A-B0B5-49C3-A56A-05355A0E8B21">
<p class="titleintable">Table 4-69 srvctl upgrade database Options</p>
<table class="cellalignment1849" title="srvctl upgrade database Options" summary="This table lists and describes srvctl upgrade database command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e23788">Option</th>
<th class="cellalignment1957" id="d46844e23791">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e23796" headers="d46844e23788">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e23796 d46844e23791">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e23820" headers="d46844e23788">
<pre dir="ltr">-startoption <span class="italic">start_options</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e23820 d46844e23791">
<p>Startup options for the database. Examples of startup options are <code class="codeph">OPEN</code>, <code class="codeph">MOUNT</code>, or <code class="codeph">&#34;READ ONLY&#34;</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
</div>
<a id="ADMIN14140"></a>
<div class="sect3"><a id="GUID-B41E4767-70AE-44DE-A7BB-8C610FC73CDB"></a>
<h3 id="ADMIN-GUID-B41E4767-70AE-44DE-A7BB-8C610FC73CDB" class="sect3"><span class="enumeration_section">4.5.15</span> upgrade</h3>
<p>The <code class="codeph">srvctl</code> <code class="codeph">upgrade</code> command upgrades the resources types and resources from an older version to a newer version.</p>
<a id="ADMIN14141"></a>
<div class="sect4"><a id="GUID-62C03A6E-5BF3-46D8-B35F-E949386CA205"></a>
<h4 id="ADMIN-GUID-62C03A6E-5BF3-46D8-B35F-E949386CA205" class="sect4"><span class="enumeration_section">4.5.15.1</span> srvctl upgrade database</h4>
<p>The <code class="codeph">srvctl upgrade database</code> command upgrades the configuration of a database and all of its services to the version of the database home from where this command is run.</p>
<a id="ADMIN14143"></a><a id="ADMIN14142"></a>
<div class="sect5"><a id="GUID-C3F254FC-E01B-44AF-A5D7-DE062D0119FB"></a>
<h5 id="ADMIN-GUID-C3F254FC-E01B-44AF-A5D7-DE062D0119FB" class="sect5"><span class="enumeration_section">4.5.15.1.1</span> Syntax and Options</h5>
<div>
<p>Use the <code class="codeph">srvctl upgrade database</code> command as follows:</p>
<pre dir="ltr">srvctl upgrade database -db <span class="italic">db_unique_name</span> -oraclehome <span class="italic">oracle_home</span>
</pre>
<div class="tblformal" id="GUID-C3F254FC-E01B-44AF-A5D7-DE062D0119FB__GUID-20036AD1-F691-42CE-9704-E8CF49BF443D">
<p class="titleintable">Table 4-70 srvctl upgrade database Options</p>
<table class="cellalignment1849" title="srvctl upgrade database Options" summary="This table lists and describes srvctl upgrade database command options.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e24052">Parameter</th>
<th class="cellalignment1957" id="d46844e24055">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e24060" headers="d46844e24052">
<pre dir="ltr">-db <span class="italic">db_unique_name</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e24060 d46844e24055">
<p>Unique name for the database. Must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting. If <code class="codeph">DB_UNIQUE_NAME</code> is unspecified, then this option must match the <code class="codeph">DB_NAME</code> initialization parameter setting. The default setting for <code class="codeph">DB_UNIQUE_NAME</code> uses the setting for <code class="codeph">DB_NAME</code>.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e24084" headers="d46844e24052">
<pre dir="ltr">-oraclehome <span class="italic">oracle_home</span>
</pre></td>
<td class="cellalignment1958" headers="d46844e24084 d46844e24055">
<p>The full path of Oracle home for the database</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
</div>
</div>
<a id="ADMIN13263"></a><a id="ADMIN13264"></a><a id="ADMIN13265"></a><a id="ADMIN13262"></a>
<div class="sect2"><a id="GUID-1713154B-C050-4721-B29A-C2DE2C905C85"></a>
<h2 id="ADMIN-GUID-1713154B-C050-4721-B29A-C2DE2C905C85" class="sect2"><span class="enumeration_section">4.6</span> CRSCTL Command Reference</h2>
<div>
<p>You can reference details about the syntax for the CRSCTL commands that are relevant for Oracle Restart.</p>
<div class="infobox-note" id="GUID-1713154B-C050-4721-B29A-C2DE2C905C85__GUID-F38FEBD3-CA64-499A-97A4-A878A32C6014">
<p class="notep1">Note:</p>
<p>You must be the root user or Oracle grid infrastructure software owner to run these CRSCTL commands.</p>
</div>
<div class="section">
<p class="subhead2">CRSCTL Command Syntax Overview</p>
</div>
<!-- class="section" -->
<p><a id="d46844e24163" class="indexterm-anchor"></a><a id="d46844e24167" class="indexterm-anchor"></a>CRSCTL expects the following command syntax:</p>
<pre dir="ltr">crsctl <span class="italic">command</span> has
</pre>
<p>where <span class="italic"><code class="codeph">command</code></span> is a verb such as <code class="codeph">start</code>, <code class="codeph">stop</code>, or <code class="codeph">enable</code>. The <code class="codeph">has</code> object indicates Oracle high availability services.</p>
<div class="section">
<p class="subhead2">Case Sensitivity</p>
</div>
<!-- class="section" -->
<p>CRSCTL command<a id="d46844e24200" class="indexterm-anchor"></a>s and components are case insensitive.</p>
</div>
<a id="ADMIN13313"></a>
<div class="sect3"><a id="GUID-4FC7516E-2220-4A59-9F78-930D782F768E"></a>
<h3 id="ADMIN-GUID-4FC7516E-2220-4A59-9F78-930D782F768E" class="sect3"><span class="enumeration_section">4.6.1</span> check</h3>
<div>
<p>Displays the Oracle Restart status.</p>
<div class="section">
<p class="subhead3">Syntax and Options</p>
<pre dir="ltr">crsctl check has
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13266"></a>
<div class="sect3"><a id="GUID-18390296-8388-482B-9738-D838BF21B24A"></a>
<h3 id="ADMIN-GUID-18390296-8388-482B-9738-D838BF21B24A" class="sect3"><span class="enumeration_section">4.6.2</span> config</h3>
<div>
<p>Displays the Oracle Restart configuration.</p>
<div class="section">
<p class="subhead3">Syntax and Options</p>
<pre dir="ltr">crsctl config has
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13268"></a>
<div class="sect3"><a id="GUID-C79A1F3A-EE15-4784-A19A-1010A28D96A9"></a>
<h3 id="ADMIN-GUID-C79A1F3A-EE15-4784-A19A-1010A28D96A9" class="sect3"><span class="enumeration_section">4.6.3</span> disable</h3>
<div>
<p>Disables automatic restart of Oracle Restart.</p>
<div class="section">
<p class="subhead3">Syntax and Options</p>
<pre dir="ltr">crsctl disable has
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13270"></a>
<div class="sect3"><a id="GUID-334A4680-4E35-4629-9BD6-46F8407B4951"></a>
<h3 id="ADMIN-GUID-334A4680-4E35-4629-9BD6-46F8407B4951" class="sect3"><span class="enumeration_section">4.6.4</span> enable</h3>
<div>
<p>Enables automatic restart of Oracle Restart.</p>
<div class="section">
<p class="subhead3">Syntax and Options</p>
<pre dir="ltr">crsctl enable has
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13272"></a>
<div class="sect3"><a id="GUID-3B42A0AF-487C-448A-8B45-4743FDB1457C"></a>
<h3 id="ADMIN-GUID-3B42A0AF-487C-448A-8B45-4743FDB1457C" class="sect3"><span class="enumeration_section">4.6.5</span> start</h3>
<div>
<p>Starts Oracle Restart.</p>
<div class="section">
<p class="subhead3">Syntax and Options</p>
<pre dir="ltr">crsctl start has
</pre></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13315"></a><a id="ADMIN13274"></a>
<div class="sect3"><a id="GUID-3A40A9EB-4C48-4FE0-8573-4B2716F4C18D"></a>
<h3 id="ADMIN-GUID-3A40A9EB-4C48-4FE0-8573-4B2716F4C18D" class="sect3"><span class="enumeration_section">4.6.6</span> stop</h3>
<div>
<p>Stops Oracle Restart.</p>
<div class="section">
<p class="subhead3">Syntax and Options</p>
<pre dir="ltr">crsctl stop has [-f]
</pre>
<div class="tblformal" id="GUID-3A40A9EB-4C48-4FE0-8573-4B2716F4C18D__GUID-8BB1216D-1890-44C5-BC03-E108308F5FA1">
<p class="titleintable">Table 4-71 crsctl stop has Options</p>
<table class="cellalignment1849" title="crsctl stop has Options" summary="crsctl stop has Options">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d46844e24603">Options</th>
<th class="cellalignment1957" id="d46844e24606">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d46844e24611" headers="d46844e24603">
<pre dir="ltr">-f
</pre></td>
<td class="cellalignment1958" headers="d46844e24611 d46844e24606">
<p>Force. If any resources that are managed by Oracle Restart are still running, then try to stop these resources gracefully. If a resource cannot be stopped gracefully, then try to force the resource to stop.</p>
<p>For example, if an Oracle ASM instance is running, then <code class="codeph">SHUTDOWN</code> <code class="codeph">IMMEDIATE</code> attempts to stop the Oracle ASM instance gracefully, while <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> attempts to force the Oracle ASM instance to stop.</p>
<p>When the <code class="codeph">-f</code> option <span class="italic">is not</span> specified, this command tries to stop resources managed by Oracle Restart gracefully but does not try to force them to stop.</p>
<div class="infobox-note" id="GUID-3A40A9EB-4C48-4FE0-8573-4B2716F4C18D__GUID-E402F8B7-76FC-4A7C-A430-2A18CFC5CD5F">
<p class="notep1">Note:</p>
For a database resource, this command always uses <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code>, regardless of whether the <code class="codeph">-f</code> option is specified.</div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="start.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="manproc.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>


</body></html>
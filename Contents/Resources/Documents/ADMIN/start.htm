<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-312"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Starting%20Up%20and%20Shutting%20Down"></a><title>Starting Up and Shutting Down</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database."/>
<meta name="keywords" content="starting a database, database, starting up, starting an instance, SQL*Plus, STARTUP command, Recovery Manager, RMAN, Oracle Enterprise Manager Cloud Control, initialization parameters, and database startup, initialization parameter file, search order, default locations, startup, of database services, controlling, database services, controlling automatic startup of, services, role-based, starting, CONNECT command, control files, unavailable during startup, when control files unavailable, redo log files, unavailable when database is opened, when redo logs unavailable, data files, mounting and opening the database, normally, without mounting a database, database closed and mounted, databases, mounting a database, restricted mode, import operations, restricted mode and, export operations, RESTRICTED SESSION system privilege, privileges, forcing, errors, while starting an instance, while starting a database, recovery and, recovery, RECOVER clause, automatically at system startup, remote instance startup, distributed databases, starting a remote instance, altering availability, ALTER DATABASE statement, database partially available to users, mounting to an instance, MOUNT clause, opening a closed database, OPEN clause, read-only databases, limitations, read-only database, opening, read-only, opening, READ ONLY clause, restricting access, ALTER SYSTEM statement, ENABLE RESTRICTED SESSION clause, shutting down, ORA-01090, INTERNAL username, connecting for shutdown, SHUTDOWN command, NORMAL clause, instances, shutting down normally, SRVCTL stop option, default, shutdown, default mode, shutting down immediately, IMMEDIATE clause, transactional shutdown, aborting, interrupting, ORA-01013 error message, quiescing, quiescing a database, Database Resource Manager, used for quiescing a database, QUIESCE RESTRICTED, UNQUIESCE, suspending, resuming, SUSPEND clause, RESUME clause"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="create.htm" title="Previous" type="text/html"/>
<link rel="Next" href="restart.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-045DE684-6680-4099-A49E-2F5B5FA59670"></a> <span id="PAGE" style="display:none;">8/59</span> <!-- End Header -->
<a id="ADMIN004"></a>
<h1 id="ADMIN-GUID-045DE684-6680-4099-A49E-2F5B5FA59670" class="sect1"><span class="enumeration_chapter">3</span> Starting Up and Shutting Down</h1>
<div>
<p>When you start up a database, you create an instance of that database and you determine the state of the database. Shutting down a currently running Oracle Database instance can optionally close and dismount a database.</p>
<div class="infoboxnotealso" id="GUID-045DE684-6680-4099-A49E-2F5B5FA59670__GUID-D43E0009-B0EF-4DA8-8AD2-C3AC5F48E352">
<p class="notep1">See Also:</p>
<p><a class="olink RACAD801" target="_blank" href="../RACAD/GUID-1A66952C-D02A-4465-9D7A-0EFEDF809F4E.htm#RACAD801"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for additional information specific to an Oracle Real Application Clusters environment</p>
</div>
</div>
<a id="ADMIN10063"></a>
<div class="props_rev_3"><a id="GUID-203404B5-5157-4F29-A241-B8ABC4753819"></a>
<h2 id="ADMIN-GUID-203404B5-5157-4F29-A241-B8ABC4753819" class="sect2"><span class="enumeration_section">3.1</span> Starting Up a Database</h2>
<p>When you start up a database, you create an instance of that database and you determine the state of the database. Normally, you start up an instance by mounting and opening the database. Doing so makes the database available for any valid user to connect to and perform typical data access operations.</p>
<a id="ADMIN11136"></a>
<div class="props_rev_3"><a id="GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A"></a>
<h3 id="ADMIN-GUID-D82D8BE3-5A49-4A86-93E5-80DB7492FD4A" class="sect3"><span class="enumeration_section">3.1.1</span> About Database Startup Options</h3>
<div>
<p>When Oracle Restart is not in use, you can start up a database instance with SQL*Plus, Recovery Manager, or Oracle Enterprise Manager Cloud Control (Cloud Control). If your database is being managed by Oracle Restart, the recommended way to start the database is with SRVCTL.</p>
<p>See <a href="restart.htm#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts.">Configuring Automatic Restart of an Oracle Database</a> for information about Oracle Restart.</p>
</div>
<a id="ADMIN11137"></a>
<div class="props_rev_3"><a id="GUID-01B654E4-6FDD-4655-A5B1-3906B5CDF1AA"></a>
<h4 id="ADMIN-GUID-01B654E4-6FDD-4655-A5B1-3906B5CDF1AA" class="sect4"><span class="enumeration_section">3.1.1.1</span> Starting Up a Database Using SQL*Plus</h4>
<div>
<p>You can start a SQL*Plus session, connect to Oracle Database with administrator privileges, and then issue the <code class="codeph">STARTUP</code> command. Using SQL*Plus in this way is the only method described in detail in this book.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Run the SQL*Plus <code class="codeph">STARTUP</code> command.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a class="olink SQPUG128" target="_blank" href="../SQPUG/ch_twelve045.htm#SQPUG128"><span><cite>SQL*Plus User&#39;s Guide and Reference</cite></span></a></li>
</ul>
</div>
</div>
</div>
<a id="ADMIN11138"></a>
<div class="props_rev_3"><a id="GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F"></a>
<h4 id="ADMIN-GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F" class="sect4"><span class="enumeration_section">3.1.1.2</span> Starting Up a Database Using Recovery Manager</h4>
<div>
<p>You can also use Recovery Manager (RMAN) to execute <code class="codeph">STARTUP</code> and <code class="codeph">SHUTDOWN</code> commands. You may prefer to do this if your are within the RMAN environment and do not want to invoke SQL*Plus.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Run an RMAN <code class="codeph">STARTUP</code> command.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-A4748810-19AE-4A8F-9A7E-98F462EAF21F__GUID-0A4DB8A1-718A-4AFF-A5A2-D8FA4956C5AA">
<p class="notep1">See Also:</p>
<p><a class="olink RCMRF158" target="_blank" href="../RCMRF/rcmsynta2020.htm#RCMRF158"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for information about the RMAN <code class="codeph">STARTUP</code> command</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11139"></a>
<div class="props_rev_3"><a id="GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2"></a>
<h4 id="ADMIN-GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2" class="sect4"><span class="enumeration_section">3.1.1.3</span> Starting Up a Database Using Cloud Control</h4>
<div>
<p>You can use Cloud Control to administer your database, including starting it up and shutting it down. Cloud Control combines a GUI console, agents, common services, and tools to provide an integrated and comprehensive systems management platform for managing Oracle products. Cloud Control enables you to perform the functions discussed in this book using a GUI interface, rather than command line operations.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>In Cloud Control, start the database instance.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-91624FF0-C115-4636-ADDD-536A3FE89BE2__GUID-CF805E6C-0E3D-4A51-9B96-8B4EFD30FAE7">
<p class="notep1">See Also:</p>
<p>The Cloud Control online help</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12824"></a>
<div class="props_rev_3"><a id="GUID-7AD9D242-10DE-43B0-86FC-C52BAB1963F8"></a>
<h4 id="ADMIN-GUID-7AD9D242-10DE-43B0-86FC-C52BAB1963F8" class="sect4"><span class="enumeration_section">3.1.1.4</span> Starting Up a Database Using SRVCTL</h4>
<div>
<p>When Oracle Restart is installed and configured for your database, Oracle recommends that you use SRVCTL to start the database.</p>
<div class="section">
<p>Starting the database instance with SRVCTL ensures that:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Any components on which the database depends (such as Oracle Automatic Storage Management and the Oracle Net listener) are automatically started first, and in the proper order.</p>
</li>
<li>
<p>The database is started according to the settings in its Oracle Restart configuration. An example of such a setting is the server parameter file location.</p>
</li>
<li>
<p>Environment variables stored in the Oracle Restart configuration for the database are set before starting the instance.</p>
</li>
</ul>
<p>To start a database instance with SRVCTL:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the <code class="codeph">srvctl start database</code> command.</p>
</li>
</ul>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3" title="Starts the specified database instance.">srvctl start database</a>&#34;</span> and <span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span> for details.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN12825"></a>
<div class="props_rev_3"><a id="GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490"></a>
<h3 id="ADMIN-GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490" class="sect3"><span class="enumeration_section">3.1.2</span> Specifying Initialization Parameters at Startup</h3>
<div>
<p>To start an instance, the database must read instance configuration parameters (the initialization parameters) from either a server parameter file (<code class="codeph">SPFILE</code>) or a text initialization parameter file (PFILE). The database looks for these files in a default location. You can specify nondefault locations for these files, and the method for doing so depends on whether you start the database with SQL*Plus (when Oracle Restart is not in use) or with SRVCTL (when the database is being managed with Oracle Restart).</p>
<div class="infoboxnotealso" id="GUID-4D231FF8-F3A2-4BE8-91BC-8A6AC283C490__GUID-75C5D587-4B4B-4A1E-9EDC-1CFE9ABE83FF">
<p class="notep1">See Also:</p>
<p><a href="create.htm#GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" title="After you plan your database, you can create the database with a graphical tool or a SQL command.">Creating and Configuring an Oracle Database</a>, for more information about initialization parameters, initialization parameter files, and server parameter files</p>
</div>
</div>
<a id="ADMIN12827"></a><a id="ADMIN12548"></a><a id="ADMIN12826"></a>
<div class="props_rev_3"><a id="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374"></a>
<h4 id="ADMIN-GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374" class="sect4"><span class="enumeration_section">3.1.2.1</span> About Initialization Parameter Files and Startup</h4>
<div>
<p>When you start the database instance, it attempts to read the initialization parameters from an <code class="codeph">SPFILE</code> in a platform-specific default location. If it finds no <code class="codeph">SPFILE</code>, then it searches for a text initialization parameter file.</p>
<p><a href="create.htm#GUID-4047A850-E0FC-4BD7-A89E-E8488673529B__CIAJEBBI" title="This table shows the default name and default location for the server parameter file on the UNIX and Windows platforms">Table 2-3</a> lists PFILE and SPFILE default names and locations.</p>
<p>In the platform-specific default location, Oracle Database locates your initialization parameter file by examining file names in the following order:</p>
<ol>
<li>
<p>The location specified by the <code class="codeph">-spfile</code> option in the SRVCTL commands <code class="codeph">srvctl add database</code> or <code class="codeph">srvctl modify database</code></p>
<p>You can check the current setting with the <code class="codeph">srvctl config database</code> command.</p>
</li>
<li>
<p><code class="codeph">spfile</code><span class="italic"><code class="codeph">ORACLE_SID</code></span>.<code class="codeph">ora</code></p>
</li>
<li>
<p><code class="codeph">spfile.ora</code></p>
</li>
<li>
<p><code class="codeph">init</code><span class="italic"><code class="codeph">ORACLE_SID</code></span>.<code class="codeph">ora</code></p>
</li>
</ol>
<p>The first three files are <code class="codeph">SPFILE</code>s and the fourth is a text initialization parameter file. If DBCA created the SPFILE in an Oracle Automatic Storage Management disk group, then the database searches for the SPFILE in the disk group.</p>
<p>If you specify both the <code class="codeph">spfile_name</code> and the <code class="codeph">FROM PFILE</code> clause in a <code class="codeph">CREATE SPFILE</code> statement, and the database is defined as a resource in Oracle Clusterware, then this statement automatically updates the SPFILE name and location in the database resource.</p>
<div class="infobox-note" id="GUID-B685814E-BBC7-4FDD-99DF-4ABC94FC6374__GUID-FF9F3FBA-D244-49F6-ACD0-17109E821A6C">
<p class="notep1">Note:</p>
<p>The <code class="codeph">spfile.ora</code> file is included in this search path because in an Oracle Real Application Clusters environment one server parameter file is used to store the initialization parameter settings for all instances. There is no instance-specific location for storing a server parameter file.</p>
<p>For more information about the server parameter file for an Oracle Real Application Clusters environment, see <a class="olink RACAD020" target="_blank" href="../RACAD/GUID-395DE0A5-6892-4988-B7F0-19D621DF2EB3.htm#RACAD020"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a>.</p>
</div>
<p>If you (or the Database Configuration Assistant) created a server parameter file, but you want to override it with a text initialization parameter file, then you can do so with SQL*Plus, specifying the <code class="codeph">PFILE</code> clause of the <code class="codeph">STARTUP</code> command to identify the initialization parameter file:</p>
<pre dir="ltr">STARTUP PFILE = /u01/oracle/dbs/init.ora
</pre>
<div class="section">
<p class="subhead3">Nondefault Server Parameter Files</p>
</div>
<!-- class="section" -->
<div class="section">
<p>A nondefault server parameter file (<code class="codeph">SPFILE</code>) is an <code class="codeph">SPFILE</code> that is in a location other than the default location. It is not usually necessary to start an instance with a nondefault <code class="codeph">SPFILE</code>. However, should such a need arise, both SRVCTL (with Oracle Restart) and SQL*Plus provide ways to do so. These are described later in this section.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Initialization Files and Oracle Automatic Storage Management</p>
</div>
<!-- class="section" -->
<div class="section">
<p>A database that uses Oracle Automatic Storage Management (Oracle ASM) usually has a nondefault <code class="codeph">SPFILE</code>. If you use the Database Configuration Assistant (DBCA) to configure a database to use Oracle ASM, DBCA creates an <code class="codeph">SPFILE</code> for the database instance in an Oracle ASM disk group, and then causes a text initialization parameter file (PFILE) to be created in the default location in the local file system to point to the <code class="codeph">SPFILE</code>, as explained in the next section.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="relinfo">
<p><strong>Related Topics</strong></p>
<ul>
<li><a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a></li>
</ul>
</div>
</div>
</div>
<a id="ADMIN12828"></a>
<div class="props_rev_3"><a id="GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0"></a>
<h4 id="ADMIN-GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0" class="sect4"><span class="enumeration_section">3.1.2.2</span> Starting Up with SQL*Plus with a Nondefault Server Parameter File</h4>
<div>
<p>With SQL*Plus, you can use the <code class="codeph">PFILE</code> clause to start an instance with a nondefault server parameter file.</p>
<div class="section">
<p><span class="bold">To start up with SQL*Plus with a nondefault server parameter file:</span></p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create a one-line text initialization parameter file that contains only the <code class="codeph">SPFILE</code> parameter. The value of the parameter is the nondefault server parameter file location.</span>
<div>
<p>For example, create a text initialization parameter file <code class="codeph">/u01/oracle/dbs/spf_init.ora</code> that contains only the following parameter:</p>
<pre dir="ltr">SPFILE = /u01/oracle/dbs/test_spfile.ora
</pre>
<div class="infobox-note" id="GUID-26247DEB-25AB-45C7-BB33-7363BDE969A0__GUID-CEA36B08-50BF-484B-A7B6-B315BD12A514">
<p class="notep1">Note:</p>
<p>You cannot use the <code class="codeph">IFILE</code> initialization parameter within a text initialization parameter file to point to a server parameter file. In this context, you must use the <code class="codeph">SPFILE</code> initialization parameter.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Start up the instance pointing to this initialization parameter file.</span>
<div>
<pre dir="ltr">STARTUP PFILE = /u01/oracle/dbs/spf_init.ora
</pre></div>
</li>
</ol>
<div class="section">
<p>The <code class="codeph">SPFILE</code> must reside on the database host computer. Therefore, the preceding method also provides a means for a client system to start a database that uses an <code class="codeph">SPFILE</code>. It also eliminates the need for a client system to maintain a client-side initialization parameter file. When the client system reads the initialization parameter file containing the <code class="codeph">SPFILE</code> parameter, it passes the value to the server where the specified <code class="codeph">SPFILE</code> is read.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN12829"></a>
<div class="props_rev_3"><a id="GUID-BBA3DF6C-5CC1-4E1F-A0F3-AE8B9D4F99EA"></a>
<h4 id="ADMIN-GUID-BBA3DF6C-5CC1-4E1F-A0F3-AE8B9D4F99EA" class="sect4"><span class="enumeration_section">3.1.2.3</span> Starting Up with SRVCTL with a Nondefault Server Parameter File</h4>
<div>
<p>If your database is being managed by Oracle Restart, then you can specify the location of a nondefault SPFILE by setting or modifying the SPFILE location option in the Oracle Restart configuration for the database.</p>
<div class="section">
<p>To start up with SRVCTL with a nondefault server parameter file:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Prepare to run SRVCTL as described in <span class="q">&#34;<a href="restart.htm#GUID-BAA85F03-7A2B-40F7-BC4C-774D47EF7605" title="Many Oracle Restart tasks require that you run the SRVCTL utility. You must ensure that you run SRVCTL from the correct Oracle home, and that you log in to the host computer with the correct user account.">Preparing to Run SRVCTL</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl modify database -db <span class="italic">db_unique_name</span> -spfile <span class="italic">spfile_path</span>
</pre>
<p>where <span class="italic"><code class="codeph">db_unique_name</code></span> must match the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for the database.</p>
</div>
</li>
<li class="stepexpand"><span>Enter the following command:</span>
<div>
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> [<span class="italic">options</span>]
</pre></div>
</li>
</ol>
<div class="section">
<p>See <span class="q">&#34;<a href="restart.htm#GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" title="You can reference details about the syntax and options for SRVCTL commands specific to Oracle Restart.">SRVCTL Command Reference for Oracle Restart</a>&#34;</span> for more information.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN12830"></a>
<div class="props_rev_3"><a id="GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA"></a>
<h3 id="ADMIN-GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA" class="sect3"><span class="enumeration_section">3.1.3</span> About Automatic Startup of Database Services</h3>
<div>
<p>When your database is managed by Oracle Restart, you can configure startup options for each individual database service (service).</p>
<p>If you set the management policy for a service to <code class="codeph">AUTOMATIC</code> (the default), the service starts automatically when you start the database with SRVCTL. If you set the management policy to <code class="codeph">MANUAL</code>, the service does not automatically start, and you must manually start it with SRVCTL. A <code class="codeph">MANUAL</code> setting does not prevent Oracle Restart from monitoring the service when it is running and restarting it if a failure occurs.</p>
<p>In an Oracle Data Guard (Data Guard) environment in which databases are managed by Oracle Restart, you can additionally control automatic startup of services by assigning Data Guard roles to the services in their Oracle Restart configurations. A service automatically starts upon manual database startup only if the management policy of the service is <code class="codeph">AUTOMATIC</code> and if one of its assigned roles matches the current role of the database.</p>
<p>See <span class="q">&#34;<a href="restart.htm#GUID-802E24A9-F823-4942-804E-0ABBD97943D1" title="Adds a database service to the Oracle Restart configuration.">srvctl add service</a>&#34;</span> and <span class="q">&#34;<a href="restart.htm#GUID-45A7239E-B588-404E-A831-E62541092AE9" title="Modifies the Oracle Restart configuration of a database service.">srvctl modify service</a>&#34;</span> for the syntax for setting the management policy of and Data Guard roles for a service.</p>
<div class="infobox-note" id="GUID-99B0E4E6-3321-4AB6-BC72-596BFF2681DA__GUID-6F3ED60E-AFAF-491E-9504-CC4FED5855C9">
<p class="notep1">Note:</p>
<p>When using Oracle Restart, Oracle strongly recommends that you use SRVCTL to create database services.</p>
</div>
</div>
</div>
<a id="ADMIN11141"></a>
<div class="props_rev_3"><a id="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8"></a>
<h3 id="ADMIN-GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8" class="sect3"><span class="enumeration_section">3.1.4</span> Preparing to Start Up an Instance</h3>
<div>
<p>You must perform some preliminary steps before attempting to start an instance of your database using SQL*Plus.</p>
<div class="section">
<div class="infobox-note" id="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8__GUID-51E97222-E3C2-425F-9C57-F66ED36EF04C">
<p class="notep1">Note:</p>
<p>The following instructions are for installations where Oracle Restart is not in use. If your database is being managed by Oracle Restart, follow the instructions in <span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span>.</p>
</div>
<p>To prepare for starting an instance:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Ensure that any Oracle components on which the database depends are started.</span>
<div>
<p>For example, if the database stores data in Oracle Automatic Storage Management (Oracle ASM) disk groups, ensure that the Oracle ASM instance is running and the required disk groups are mounted. Also, it is preferable to start the Oracle Net listener before starting the database.</p>
</div>
</li>
<li class="stepexpand"><span>If you intend to use operating system authentication, log in to the database host computer as a member of the OSDBA group.</span>
<div>
<p>See <span class="q">&#34;<a href="dba.htm#GUID-BB22E256-CC25-405F-A887-E3FA92CC37D4" title="Membership in special operating system groups enables a DBA to authenticate to the database through the operating system rather than with a database user name and password. This is known as operating system authentication.">Using Operating System Authentication</a>&#34;</span> for more information.</p>
</div>
</li>
<li class="stepexpand"><span>Ensure that environment variables are set so that you connect to the desired Oracle instance. For details, see <span class="q">&#34;<a href="dba.htm#GUID-58A40F41-B611-4C0F-A6E3-D45A81515BF2" title="There are several ways to submit SQL statements and commands to Oracle Database.">Submitting Commands and SQL to the Database</a>&#34;</span>.</span></li>
<li class="stepexpand"><span>Start SQL*Plus without connecting to the database:</span>
<div>
<pre dir="ltr">SQLPLUS /NOLOG
</pre></div>
</li>
<li class="stepexpand"><span>Connect to Oracle Database as <code class="codeph">SYSOPER</code>, <code class="codeph">SYSDBA</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code>. For example:</span>
<div>
<pre dir="ltr">CONNECT <span class="italic">username</span> AS SYSDBA

&mdash;or&mdash;

CONNECT / AS SYSDBA
</pre></div>
</li>
</ol>
<div class="section">
<p>Now you are connected to the database and ready to start up an instance of your database.</p>
<div class="infoboxnotealso" id="GUID-4FF9FADD-D78C-4ED2-851D-D87EDC47E8D8__GUID-FCBFD84E-59DD-4742-B07B-18BDFBD3C08B">
<p class="notep1">See Also:</p>
<p><a class="olink SQPUG023" target="_blank" href="../SQPUG/ch_twelve001.htm#SQPUG023"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for descriptions and syntax for the <code class="codeph">CONNECT</code>, <code class="codeph">STARTUP</code>, and <code class="codeph">SHUTDOWN</code> commands.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11142"></a>
<div class="props_rev_3"><a id="GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B"></a>
<h3 id="ADMIN-GUID-D9267CB2-D5E5-4A22-93AA-CF69D618FE6B" class="sect3"><span class="enumeration_section">3.1.5</span> Starting Up an Instance</h3>
<p>You can start up an instance using SQL*Plus or Oracle Restart.</p>
<div class="sect4"><a id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB"></a>
<h4 id="ADMIN-GUID-85232C86-0135-4F4C-8941-09963AD78BBB" class="sect4"><span class="enumeration_section">3.1.5.1</span> About Starting Up an Instance</h4>
<div>
<p>When Oracle Restart is not in use, you use the SQL*Plus <code class="codeph">STARTUP</code> command to start up an Oracle Database instance. If your database is being managed by Oracle Restart, Oracle recommends that you use the <code class="codeph">srvctl start database</code> command.</p>
<p>With SQL*Plus and Oracle Restart, you can start an instance in various modes:</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">NOMOUNT</code>&mdash;Start the instance without mounting a database. This does not allow access to the database and usually would be done only for database creation or the re-creation of control files.</p>
</li>
<li>
<p><code class="codeph">MOUNT</code>&mdash;Start the instance and mount the database, but leave it closed. This state allows for certain DBA activities, but does not allow general access to the database.</p>
</li>
<li>
<p><code class="codeph">OPEN</code>&mdash;Start the instance, and mount and open the database. This can be done in unrestricted mode, allowing access to all users, or in restricted mode, allowing access for database administrators only.</p>
</li>
<li>
<p><code class="codeph">FORCE</code>&mdash;Force the instance to start after a startup or shutdown problem.</p>
</li>
<li>
<p><code class="codeph">OPEN</code> <code class="codeph">RECOVER</code>&mdash;Start the instance and have complete media recovery begin immediately.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB__GUID-5B49FCED-0327-4896-8FCA-57F775D2FFF9">
<p class="notep1">Note:</p>
<p>You cannot start a database instance if you are connected to the database through a shared server process.</p>
</div>
<p>The following scenarios describe and illustrate the various states in which you can start up an instance. Some restrictions apply when combining clauses of the <code class="codeph">STARTUP</code> command or combining startup options for the <a href="restart.htm#GUID-08ABD19E-3DBA-4467-BAF2-42C008ABB2B3" title="Starts the specified database instance.">srvctl start database</a> command.</p>
<div class="infobox-note" id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB__GUID-F949C698-A2C4-4B8F-846D-9DEA08D3C56E">
<p class="notep1">Note:</p>
<p>It is possible to encounter problems starting up an instance if control files, database files, or online redo logs are not available. If one or more of the files specified by the <code class="codeph">CONTROL_FILES</code> initialization parameter does not exist or cannot be opened when you attempt to mount a database, Oracle Database returns a warning message and does not mount the database. If one or more of the data files or online redo logs is not available or cannot be opened when attempting to open a database, the database returns a warning message and does not open the database.</p>
</div>
<div class="infoboxnotealso" id="GUID-85232C86-0135-4F4C-8941-09963AD78BBB__GUID-373FA83C-F98A-4CA6-9034-9A5FAF8D7F58">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink SQPUG127" target="_blank" href="../SQPUG/ch_twelve044.htm#SQPUG127"><span class="italic">SQL*Plus User&#39;s Guide and Reference</span></a> for details on the <code class="codeph">STARTUP</code> command syntax</p>
</li>
<li>
<p><span class="q">&#34;<a href="restart.htm#GUID-EA0104A2-B256-4866-9C8A-9B69F8D0F24E" title="When Oracle Restart is in use, Oracle strongly recommends that you use the SRVCTL utility to start and stop components.">Starting and Stopping Components Managed by Oracle Restart</a>&#34;</span> for instructions for starting a database that is managed by Oracle Restart.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11143"></a>
<div class="props_rev_3"><a id="GUID-88014B87-63F0-43CD-A01F-8EC595AC1636"></a>
<h4 id="ADMIN-GUID-88014B87-63F0-43CD-A01F-8EC595AC1636" class="sect4"><span class="enumeration_section">3.1.5.2</span> Starting an Instance, and Mounting and Opening a Database</h4>
<div>
<p>Normal database operation means that an instance is started and the database is mounted and open. This mode allows any valid user to connect to the database and perform data access operations.</p>
<div class="section">
<p>The following command starts an instance, reads the initialization parameters from the default location, and then mounts and opens the database.</p>
<div class="tblformal" id="GUID-88014B87-63F0-43CD-A01F-8EC595AC1636__GUID-F821B6C2-D9BD-40A9-A8B7-5F04CB4AD4EE">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d43467e1691">SQL*Plus</th>
<th class="cellalignment1957" id="d43467e1694">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d43467e1699" headers="d43467e1691">
<pre dir="ltr">STARTUP
</pre></td>
<td class="cellalignment1958" headers="d43467e1699 d43467e1694">
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span>
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>where <span class="italic"><code class="codeph">db_unique_name</code></span> matches the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11144"></a>
<div class="props_rev_3"><a id="GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571"></a>
<h4 id="ADMIN-GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571" class="sect4"><span class="enumeration_section">3.1.5.3</span> Starting an Instance Without Mounting a Database</h4>
<div>
<p>You can start an instance without mounting a database. Typically, you do so only during database creation.</p>
<div class="section">
<p>Use one of the following commands:</p>
<div class="tblformal" id="GUID-F3543C05-09A3-48AA-A06D-72F6E7E1B571__GUID-3641262B-969B-453C-9155-6A53FF3C1387">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1863" id="d43467e1794">SQL*Plus</th>
<th class="cellalignment1959" id="d43467e1797">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1865" id="d43467e1802" headers="d43467e1794">
<pre dir="ltr">STARTUP NOMOUNT
</pre></td>
<td class="cellalignment1960" headers="d43467e1802 d43467e1797">
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption nomount
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11145"></a>
<div class="props_rev_3"><a id="GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC"></a>
<h4 id="ADMIN-GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" class="sect4"><span class="enumeration_section">3.1.5.4</span> Starting an Instance and Mounting a Database</h4>
<div>
<p>You can start an instance and mount a database without opening it, allowing you to perform specific maintenance operations.</p>
<div class="section">
<p>For example, the database must be mounted but not open during the following tasks:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), putting a database instance in force full database caching mode. For more information, see <span class="q">&#34;<a href="memory.htm#GUID-CEBDCC3D-4B69-43C1-A7BE-F635F9F69D5F" title="An Oracle Database instance can cache the full database in the buffer cache.">Using Force Full Database Caching Mode</a>&#34;</span>.</p>
</li>
<li>
<p>Enabling and disabling redo log archiving options. For more information, see <a href="archredo.htm#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations.">Managing Archived Redo Log Files</a>.</p>
</li>
<li>
<p>Performing full database recovery. For more information, see <a class="olink BRADV8005" target="_blank" href="../BRADV/rcmcomre.htm#BRADV8005"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a>.</p>
</li>
</ul>
<p>The following command starts an instance and mounts the database, but leaves the database closed:</p>
<div class="tblformal" id="GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC__GUID-799719DD-353E-4907-91C5-536A2B90B24B">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1913" id="d43467e1936">SQL*Plus</th>
<th class="cellalignment1914" id="d43467e1939">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1915" id="d43467e1944" headers="d43467e1936">
<pre dir="ltr">STARTUP MOUNT
</pre></td>
<td class="cellalignment1916" headers="d43467e1944 d43467e1939">
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption mount
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11146"></a>
<div class="props_rev_3"><a id="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079"></a>
<h4 id="ADMIN-GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079" class="sect4"><span class="enumeration_section">3.1.5.5</span> Restricting Access to an Instance at Startup</h4>
<div>
<p>You can start an instance, and optionally mount and open a database, in restricted mode so that the instance is available only to administrative personnel (not general database users).</p>
<div class="section">
<p>Use this mode of instance startup when you must accomplish one of the following tasks:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Perform an export or import of data</p>
</li>
<li>
<p>Perform a data load (with SQL*Loader)</p>
</li>
<li>
<p>Temporarily prevent typical users from using data</p>
</li>
<li>
<p>Perform certain migration or upgrade operations</p>
</li>
</ul>
<p>Typically, all users with the <code class="codeph">CREATE SESSION</code> system privilege can connect to an open database. Opening a database in restricted mode allows database access only to users with both the <code class="codeph">CREATE SESSION</code> and <code class="codeph">RESTRICTED SESSION</code> system privilege. Only database administrators should have the <code class="codeph">RESTRICTED SESSION</code> system privilege. Further, when the instance is in restricted mode, a database administrator cannot access the instance remotely through an Oracle Net listener, but can only access the instance locally from the system that the instance is running on.</p>
<p>The following command starts an instance (and mounts and opens the database) in restricted mode:</p>
<div class="tblformal" id="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079__GUID-CC4649BF-D639-4BFB-B2E6-B02118E26947">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1867" id="d43467e2080">SQL*Plus</th>
<th class="cellalignment1985" id="d43467e2083">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1869" id="d43467e2088" headers="d43467e2080">
<pre dir="ltr">STARTUP RESTRICT
</pre></td>
<td class="cellalignment1986" headers="d43467e2088 d43467e2083">
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption restrict
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>You can use the restrict mode in combination with the mount, nomount, and open modes.</p>
<p>Later, use the <code class="codeph">ALTER SYSTEM</code> statement to disable the <code class="codeph">RESTRICTED SESSION</code> feature:</p>
<pre dir="ltr">ALTER SYSTEM DISABLE RESTRICTED SESSION;
</pre>
<p>If you open the database in nonrestricted mode and later find that you must restrict access, you can use the <code class="codeph">ALTER SYSTEM</code> statement to do so, as described in <span class="q">&#34;<a href="start.htm#GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5" title="When a database is in restricted mode, only users with the RESTRICTED SESSION privilege can initiate new connections. Users connecting as SYSDBA or connecting with the DBA role have this privilege.">Restricting Access to an Open Database</a>&#34;</span>.</p>
<div class="infoboxnotealso" id="GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079__GUID-9691215C-FEF7-4019-9068-81C342DB66E2">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF53082" target="_blank" href="../SQLRF/statements_2017.htm#SQLRF53082"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on the <code class="codeph">ALTER SYSTEM</code> statement</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11147"></a>
<div class="props_rev_3"><a id="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B"></a>
<h4 id="ADMIN-GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B" class="sect4"><span class="enumeration_section">3.1.5.6</span> Forcing an Instance to Start</h4>
<div>
<p>In unusual circumstances, you might experience problems when attempting to start a database instance, and you can force a database instance to start.</p>
<div class="section">
<p>You should not force a database to start unless you are faced with the following:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>You cannot shut down the current instance with the <code class="codeph">SHUTDOWN NORMAL</code>, <code class="codeph">SHUTDOWN IMMEDIATE</code>, or <code class="codeph">SHUTDOWN TRANSACTIONAL</code> commands.</p>
</li>
<li>
<p>You experience problems when starting an instance.</p>
</li>
</ul>
<p>If one of these situations arises, you can usually solve the problem by starting a new instance (and optionally mounting and opening the database) using one of these commands:</p>
<div class="tblformal" id="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B__GUID-96B2294B-7554-4394-8FBC-872159735D78">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1891" id="d43467e2253">SQL*Plus</th>
<th class="cellalignment1968" id="d43467e2256">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1894" id="d43467e2261" headers="d43467e2253">
<pre dir="ltr">STARTUP FORCE
</pre></td>
<td class="cellalignment1969" headers="d43467e2261 d43467e2256">
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption force
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If an instance is running, the force mode shuts it down with mode <code class="codeph">ABORT</code> before restarting it. In this case, the alert log shows the message &#34;<code class="codeph">Shutting down instance (abort)</code>&#34; followed by &#34;<code class="codeph">Starting ORACLE instance (normal)</code>.&#34;</p>
<div class="infoboxnotealso" id="GUID-751E8E2A-C114-456E-AC6E-B66B1A91AF1B__GUID-65E43846-D800-495D-AD75-2ACCC0AE57DD">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="start.htm#GUID-CA71AC52-13E6-4958-A963-5F007F106DEC" title="You can shut down a database instantaneously by aborting the database instance.">Shutting Down with the Abort Mode</a>&#34;</span> to understand the side effects of aborting the current instance</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11148"></a>
<div class="props_rev_3"><a id="GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D"></a>
<h4 id="ADMIN-GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D" class="sect4"><span class="enumeration_section">3.1.5.7</span> Starting an Instance, Mounting a Database, and Starting Complete Media Recovery</h4>
<div>
<p>If you know that media recovery is required, then you can start an instance, mount a database to the instance, and have the recovery process automatically start.</p>
<div class="section">
<p>To do so, use one of these commands:</p>
<div class="tblformal" id="GUID-CCA52747-05CA-4ED3-BE6D-E2E684C4D87D__GUID-D0EFF772-47F3-4AE5-B7DE-F8DE61069C40">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1891" id="d43467e2384">SQL*Plus</th>
<th class="cellalignment1968" id="d43467e2387">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1894" id="d43467e2392" headers="d43467e2384">
<pre dir="ltr">STARTUP OPEN RECOVER
</pre></td>
<td class="cellalignment1969" headers="d43467e2392 d43467e2387">
<pre dir="ltr">srvctl start database -db <span class="italic">db_unique_name</span> -startoption &#34;open,recover&#34;
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If you attempt to perform recovery when no recovery is required, Oracle Database issues an error message.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11149"></a>
<div class="props_rev_3"><a id="GUID-61535B5E-457C-4676-9A6E-070C647CEAFA"></a>
<h4 id="ADMIN-GUID-61535B5E-457C-4676-9A6E-070C647CEAFA" class="sect4"><span class="enumeration_section">3.1.5.8</span> Automatic Database Startup at Operating System Start</h4>
<div>
<p>Many sites use procedures to enable automatic startup of one or more Oracle Database instances and databases immediately following a system start.</p>
<p>The procedures for performing this task are specific to each operating system. For information about automatic startup, see your operating system specific Oracle documentation.</p>
<p>The preferred (and platform-independent) method of configuring automatic startup of a database is Oracle Restart. See <a href="restart.htm#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts.">Configuring Automatic Restart of an Oracle Database</a> for details.</p>
</div>
</div>
<a id="ADMIN11150"></a>
<div class="props_rev_3"><a id="GUID-CE1C1E98-FF9C-44EA-B749-4129EEF3EC6F"></a>
<h4 id="ADMIN-GUID-CE1C1E98-FF9C-44EA-B749-4129EEF3EC6F" class="sect4"><span class="enumeration_section">3.1.5.9</span> Starting Remote Instances</h4>
<div>
<p>If your local Oracle Database server is part of a distributed database, then you might want to start a remote instance and database.</p>
<p>Procedures for starting and stopping remote instances vary widely depending on communication protocol and operating system.</p>
</div>
</div>
</div>
</div>
<a id="ADMIN11151"></a>
<div class="props_rev_3"><a id="GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1"></a>
<h2 id="ADMIN-GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" class="sect2"><span class="enumeration_section">3.2</span> Altering Database Availability</h2>
<p>You can alter the availability of a database. You may want to do this in order to restrict access for maintenance reasons or to make the database read only.</p>
<a id="ADMIN11152"></a>
<div class="props_rev_3"><a id="GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF"></a>
<h3 id="ADMIN-GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF" class="sect3"><span class="enumeration_section">3.2.1</span> Mounting a Database to an Instance</h3>
<div>
<p>When you perform specific administrative operations, the database must be started and mounted to an instance, but closed. You can achieve this scenario by starting the instance and mounting the database.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<div class="p">To mount a database to a previously started, but not opened instance, use the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">MOUNT</code> clause as follows:
<pre dir="ltr">ALTER DATABASE MOUNT;
</pre></div>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-BFB79EA2-2BB0-4BB4-9900-E16FA78011CF__GUID-325B03C3-5CF0-42E9-8AA9-F9B1BD14D274">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="start.htm#GUID-01B47551-8B2E-4A4C-9A8A-4999C09161FC" title="You can start an instance and mount a database without opening it, allowing you to perform specific maintenance operations.">Starting an Instance and Mounting a Database</a>&#34;</span> for a list of operations that require the database to be mounted and closed (and procedures to start an instance and mount a database in one step)</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11153"></a>
<div class="props_rev_3"><a id="GUID-2F9AB5DD-2744-4509-BD02-2C7893C78E4E"></a>
<h3 id="ADMIN-GUID-2F9AB5DD-2744-4509-BD02-2C7893C78E4E" class="sect3"><span class="enumeration_section">3.2.2</span> Opening a Closed Database</h3>
<div>
<p>When a database is mounted but closed, you can make it available for general use by opening it.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<div class="p">To open a mounted database, use the <code class="codeph">ALTER DATABASE</code> SQL statement with the <code class="codeph">OPEN</code> clause:
<pre dir="ltr">ALTER DATABASE OPEN;
</pre></div>
</li>
</ul>
<p>After executing this statement, any valid Oracle Database user with the <code class="codeph">CREATE SESSION</code> system privilege can connect to the database.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13176"></a><a id="ADMIN11154"></a>
<div class="props_rev_3"><a id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05"></a>
<h3 id="ADMIN-GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05" class="sect3"><span class="enumeration_section">3.2.3</span> Opening a Database in Read-Only Mode</h3>
<div>
<p>Opening a database in read-only mode enables you to query an open database while eliminating any potential for online data content changes.</p>
<div class="section">
<p>While opening a database in read-only mode guarantees that data files and redo log files are not written to, it does not restrict database recovery or operations that change the state of the database without generating redo. For example, you can take data files offline or bring them online since these operations do not affect data content.</p>
<p>If a query against a database in read-only mode uses temporary tablespace, for example to do disk sorts, then the issuer of the query must have a locally managed tablespace assigned as the default temporary tablespace. Otherwise, the query will fail. This is explained in <span class="q">&#34;<a href="tspaces.htm#GUID-03CCF8D4-9DAA-451A-B9F8-836F8262B43D" title="Because space management is much simpler and more efficient in locally managed tablespaces, they are ideally suited for temporary tablespaces.">Creating a Locally Managed Temporary Tablespace</a>&#34;</span>.</p>
<p>The following statement opens a database in read-only mode:</p>
<pre dir="ltr">ALTER DATABASE OPEN READ ONLY;
</pre>
<p>You can also open a database in read/write mode as follows:</p>
<pre dir="ltr">ALTER DATABASE OPEN READ WRITE;
</pre>
<p>However, read/write is the default mode.</p>
<div class="infobox-note" id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05__GUID-7C17A52D-41A9-46A6-8F2D-546CD001EDF9">
<p class="notep1">Note:</p>
<p>You cannot use the <code class="codeph">RESETLOGS</code> clause with a <code class="codeph">READ ONLY</code> clause.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Limitations of a Read-only Database</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>An application must not write database objects while executing against a read-only database. For example, an application writes database objects when it inserts, deletes, updates, or merges rows in a database table, including a global temporary table. An application writes database objects when it manipulates a database sequence. An application writes database objects when it locks rows, when it runs <code class="codeph">EXPLAIN PLAN</code>, or when it executes DDL. Many of the functions and procedures in Oracle-supplied PL/SQL packages, such as <code class="codeph">DBMS_SCHEDULER</code>, write database objects. If your application calls any of these functions and procedures, or if it performs any of the preceding operations, your application writes database objects and hence is not read-only.</p>
</li>
<li>
<p>When executing on a read-only database, you must commit or roll back any in-progress transaction that involves one database link before you use another database link. This is true even if you execute a generic <code class="codeph">SELECT</code> statement on the first database link and the <span class="italic">transaction</span> is currently read-only.</p>
</li>
<li>
<p>You cannot compile or recompile PL/SQL stored procedures on a read-only database. To minimize PL/SQL invalidation because of remote procedure calls, use <code class="codeph">REMOTE_DEPENDENCIES_MODE=SIGNATURE</code> in any session that does remote procedure calls on a read-only database.</p>
</li>
<li>
<p>You cannot invoke a remote procedure (even a read-only remote procedure) from a read-only database if the remote procedure has never been called on the database. This limitation applies to remote procedure calls in anonymous PL/SQL blocks and in SQL statements. You can either put the remote procedure call in a stored procedure, or you can invoke the remote procedure in the database before it becomes read only.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-E346A6EB-6CAA-4A0F-AF0E-841B8C3D5B05__GUID-5079497B-0C0C-408E-ACCA-304E38B5966E">
<p class="notep1">See Also:</p>
<p><a class="olink SQLRF008" target="_blank" href="../SQLRF/statements_1.htm#SQLRF008"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER DATABASE</code> statement</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11155"></a>
<div class="props_rev_3"><a id="GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5"></a>
<h3 id="ADMIN-GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5" class="sect3"><span class="enumeration_section">3.2.4</span> Restricting Access to an Open Database</h3>
<div>
<p>When a database is in restricted mode, only users with the <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code> privilege can initiate new connections. Users connecting as <code class="codeph">SYSDBA</code> or connecting with the <code class="codeph">DBA</code> role have this privilege.</p>
<div class="section">
<p>To place an already running instance in restricted mode:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the SQL statement <code class="codeph">ALTER SYSTEM</code> with the <code class="codeph">ENABLE RESTRICTED SESSION</code> clause.</p>
</li>
</ul>
<p>When you place a running instance in restricted mode, no user sessions are terminated or otherwise affected. Therefore, after placing an instance in restricted mode, consider killing (terminating) all current user sessions before performing administrative tasks.</p>
<p>To lift an instance from restricted mode, use <code class="codeph">ALTER SYSTEM</code> with the <code class="codeph">DISABLE RESTRICTED SESSION</code> clause.</p>
<div class="infoboxnotealso" id="GUID-989D380B-A4BE-43D2-B687-C68EDA7F69A5__GUID-018BE751-1D3D-407F-9647-FCAFEDEA9D13">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="manproc.htm#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="Sometimes it is necessary to terminate current user sessions. For example, you might want to perform an administrative operation and need to terminate all non-administrative sessions.">Terminating Sessions</a>&#34;</span> for directions for killing user sessions</p>
</li>
<li>
<p><span class="q">&#34;<a href="start.htm#GUID-7A570C5F-BCBB-49A4-9586-270ED9DE2079" title="You can start an instance, and optionally mount and open a database, in restricted mode so that the instance is available only to administrative personnel (not general database users).">Restricting Access to an Instance at Startup</a>&#34;</span> to learn some reasons for placing an instance in restricted mode</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11156"></a>
<div class="props_rev_3"><a id="GUID-3661B282-5C34-4E32-BC6A-906A72712866"></a>
<h2 id="ADMIN-GUID-3661B282-5C34-4E32-BC6A-906A72712866" class="sect2"><span class="enumeration_section">3.3</span> Shutting Down a Database</h2>
<p>You can shut down a database with SQL*Plus or Oracle Restart.</p>
<div class="sect3"><a id="GUID-7E89742D-C723-424D-9899-77FECDF76481"></a>
<h3 id="ADMIN-GUID-7E89742D-C723-424D-9899-77FECDF76481" class="sect3"><span class="enumeration_section">3.3.1</span> About Shutting Down the Database</h3>
<div>
<p>When Oracle Restart is not in use, you can shut down a database instance with SQL*Plus by connecting as <code class="codeph">SYSOPER</code>, <code class="codeph">SYSDBA</code>, <code class="codeph">SYSBACKUP</code>, or <code class="codeph">SYSDG</code> and issuing the <code class="codeph">SHUTDOWN</code> command. If your database is being managed by Oracle Restart, the recommended way to shut down the database is with the <code class="codeph">srvctl stop database</code> command.</p>
<p>Control is not returned to the session that initiates a database shutdown until shutdown is complete. Users who attempt connections while a shutdown is in progress receive a message like the following:</p>
<pre dir="ltr">ORA-01090: shutdown in progress - connection is not permitted
</pre>
<div class="infobox-note" id="GUID-7E89742D-C723-424D-9899-77FECDF76481__GUID-AAED9B75-C573-48C4-8F3B-85E3BFABDC7F">
<p class="notep1">Note:</p>
<p>You cannot shut down a database if you are connected to the database through a shared server process.</p>
</div>
<p>There are several modes for shutting down a database: normal, immediate, transactional, and abort. Some shutdown modes wait for certain events to occur (such as transactions completing or users disconnecting) before actually bringing down the database. There is a one-hour timeout period for these events.</p>
<div class="infoboxnotealso" id="GUID-7E89742D-C723-424D-9899-77FECDF76481__GUID-F4FB6C39-B717-4492-A0E8-D4E1CE57B10A">
<p class="notep1">See Also:</p>
<p><a href="restart.htm#GUID-5832E064-85C6-453C-B932-99700B1732A9" title="Configure your Oracle database with the Oracle Restart feature to automatically restart the database, the listener, and other Oracle components after a hardware or software failure or whenever your database host computer restarts.">Configuring Automatic Restart of an Oracle Database</a> for information about Oracle Restart.</p>
</div>
</div>
</div>
<a id="ADMIN11157"></a>
<div class="props_rev_3"><a id="GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683"></a>
<h3 id="ADMIN-GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683" class="sect3"><span class="enumeration_section">3.3.2</span> Shutting Down with the Normal Mode</h3>
<div>
<p>When you shut down a database with the normal mode, the database waits for all connected users to disconnect before shutting down. Normal mode is the default mode of shutdown.</p>
<div class="section">
<p>To shut down a database in normal situations, use one of these commands:</p>
<div class="tblformal" id="GUID-276E548C-DEBC-45EC-903D-4D13F1AEC683__GUID-57FF988B-1AEF-435D-9206-F8C85CF1A402">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1987" id="d43467e3345">SQL*Plus</th>
<th class="cellalignment1988" id="d43467e3348">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1989" id="d43467e3353" headers="d43467e3345">
<pre dir="ltr">SHUTDOWN [NORMAL]
</pre></td>
<td class="cellalignment1990" headers="d43467e3353 d43467e3348">
<pre dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption normal
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code class="codeph">NORMAL</code> clause of the SQL*Plus <code class="codeph">SHUTDOWN</code> command is optional because this is the default shutdown method. For SRVCTL, if the <code class="codeph">-stopoption</code> option is omitted, the shutdown operation proceeds according to the stop options stored in the Oracle Restart configuration for the database. The default stop option is <code class="codeph">immediate</code>.</p>
<p>Normal database shutdown proceeds with the following conditions:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>No new connections are allowed after the statement is issued.</p>
</li>
<li>
<p>Before the database is shut down, the database waits for all currently connected users to disconnect from the database.</p>
</li>
</ul>
<p>The next startup of the database will not require any instance recovery procedures.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11158"></a>
<div class="props_rev_3"><a id="GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA"></a>
<h3 id="ADMIN-GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA" class="sect3"><span class="enumeration_section">3.3.3</span> Shutting Down with the Immediate Mode</h3>
<div>
<p>When you shut down a database with the immediate mode, Oracle Database terminates any executing SQL statements and disconnects users. Active transactions are terminated and uncommitted changes are rolled back.</p>
<div class="section">
<p>Use immediate database shutdown only in the following situations:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>To initiate an automated and unattended backup</p>
</li>
<li>
<p>When a power shutdown is going to occur soon</p>
</li>
<li>
<p>When the database or one of its applications is functioning irregularly and you cannot contact users to ask them to log off or they are unable to log off</p>
</li>
</ul>
<p>To shut down a database immediately, use one of the following commands:</p>
<div class="tblformal" id="GUID-3C64BD77-4C53-41C6-B691-6CC5F59F2CEA__GUID-F916E2C4-08D9-44C3-BFA6-58BBFFC15712">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1882" id="d43467e3483">SQL*Plus</th>
<th class="cellalignment1965" id="d43467e3486">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d43467e3491" headers="d43467e3483">
<pre dir="ltr">SHUTDOWN IMMEDIATE
</pre></td>
<td class="cellalignment1966" headers="d43467e3491 d43467e3486">
<pre dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption immediate
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Immediate database shutdown proceeds with the following conditions:</p>
<ul style="list-style-type: disc;">
<li>
<p>No new connections are allowed, nor are new transactions allowed to be started, after the statement is issued.</p>
</li>
<li>
<p>Any uncommitted transactions are rolled back. (If long uncommitted transactions exist, this method of shutdown might not complete quickly, despite its name.)</p>
</li>
<li>
<p>Oracle Database does not wait for users currently connected to the database to disconnect. The database implicitly rolls back active transactions and disconnects all connected users.</p>
</li>
</ul>
<p>The next startup of the database will not require any instance recovery procedures.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11159"></a>
<div class="props_rev_3"><a id="GUID-37C35468-6C3C-471B-A5E2-16592EBA863A"></a>
<h3 id="ADMIN-GUID-37C35468-6C3C-471B-A5E2-16592EBA863A" class="sect3"><span class="enumeration_section">3.3.4</span> Shutting Down with the Transactional Mode</h3>
<div>
<p>When you shut down a database with transactional mode, the database prevents users from starting new transactions, but waits for all current transactions to complete before shutting down. This mode can take a significant amount of time depending on the nature of the current transactions.</p>
<div class="section">
<p>When you want to perform a planned shutdown of an instance while allowing active transactions to complete first, use one of the following commands:</p>
<div class="tblformal" id="GUID-37C35468-6C3C-471B-A5E2-16592EBA863A__GUID-6745EC75-90B1-44EB-BEC9-CE379B483C5E">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1882" id="d43467e3591">SQL*Plus</th>
<th class="cellalignment1965" id="d43467e3594">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1885" id="d43467e3599" headers="d43467e3591">
<pre dir="ltr">SHUTDOWN TRANSACTIONAL
</pre></td>
<td class="cellalignment1966" headers="d43467e3599 d43467e3594">
<pre dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption transactional
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>Transactional database shutdown proceeds with the following conditions:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>No new connections are allowed, nor are new transactions allowed to be started, after the statement is issued.</p>
</li>
<li>
<p>After all transactions have completed, any client still connected to the instance is disconnected.</p>
</li>
<li>
<p>At this point, the instance shuts down just as it would when a <code class="codeph">SHUTDOWN IMMEDIATE</code> statement is submitted.</p>
</li>
</ul>
<p>The next startup of the database will not require any instance recovery procedures.</p>
<p>A transactional shutdown prevents clients from losing work, and at the same time, does not require all users to log off.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11160"></a>
<div class="props_rev_3"><a id="GUID-CA71AC52-13E6-4958-A963-5F007F106DEC"></a>
<h3 id="ADMIN-GUID-CA71AC52-13E6-4958-A963-5F007F106DEC" class="sect3"><span class="enumeration_section">3.3.5</span> Shutting Down with the Abort Mode</h3>
<div>
<p>You can shut down a database instantaneously by aborting the database instance.</p>
<div class="section">
<p>If possible, perform this type of shutdown <span class="italic">only</span> in the following situations:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The database or one of its applications is functioning irregularly <span class="italic">and</span> none of the other types of shutdown works.</p>
</li>
<li>
<p>You must shut down the database instantaneously (for example, if you know a power shutdown is going to occur in one minute).</p>
</li>
<li>
<p>You experience problems when starting a database instance.</p>
</li>
</ul>
<p>When you must do a database shutdown by aborting transactions and user connections, use one of the following commands:</p>
<div class="tblformal" id="GUID-CA71AC52-13E6-4958-A963-5F007F106DEC__GUID-C75A0E64-3F58-4BDA-BF1A-AFAADFF1D911">
<table class="cellalignment1849" summary="This table shows equivalent startup commands for SQL*Plus and SRVCTL">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1881" id="d43467e3724">SQL*Plus</th>
<th class="cellalignment1981" id="d43467e3727">SRVCTL (When Oracle Restart Is In Use)</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1884" id="d43467e3732" headers="d43467e3724">
<pre dir="ltr">SHUTDOWN ABORT
</pre></td>
<td class="cellalignment1982" headers="d43467e3732 d43467e3727">
<pre dir="ltr">srvctl stop database -db <span class="italic">db_unique_name</span> -stopoption abort
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>An aborted database shutdown proceeds with the following conditions:</p>
<ul style="list-style-type: disc;">
<li>
<p>No new connections are allowed, nor are new transactions allowed to be started, after the statement is issued.</p>
</li>
<li>
<p>Current client SQL statements being processed by Oracle Database are immediately terminated.</p>
</li>
<li>
<p>Uncommitted transactions are not rolled back.</p>
</li>
<li>
<p>Oracle Database does not wait for users currently connected to the database to disconnect. The database implicitly disconnects all connected users.</p>
</li>
</ul>
<p>The next startup of the database <span class="italic">will</span> require automatic instance recovery procedures.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11161"></a>
<div class="props_rev_3"><a id="GUID-C675BCE5-E8D8-4212-B586-6D1D4ED07D40"></a>
<h3 id="ADMIN-GUID-C675BCE5-E8D8-4212-B586-6D1D4ED07D40" class="sect3"><span class="enumeration_section">3.3.6</span> Shutdown Timeout</h3>
<div>
<p>Shutdown modes that wait for users to disconnect or for transactions to complete have a limit on the amount of time that they wait.</p>
<p>If all events blocking the shutdown do not occur within one hour, the shutdown operation aborts with the following message: <code class="codeph">ORA-01013: user requested cancel of current operation</code>. This message is also displayed if you interrupt the shutdown process, for example by pressing <code class="codeph">CTRL-C</code>. Oracle recommends that you do not attempt to interrupt an instance shutdown. Instead, allow the shutdown process to complete, and then restart the instance.</p>
<p>After <code class="codeph">ORA-01013</code> occurs, you must consider the instance to be in an unpredictable state. You must therefore continue the shutdown process by resubmitting a <code class="codeph">SHUTDOWN</code> command. If subsequent <code class="codeph">SHUTDOWN</code> commands continue to fail, you must submit a <code class="codeph">SHUTDOWN</code> <code class="codeph">ABORT</code> command to bring down the instance. You can then restart the instance.</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9"></a>
<h2 id="ADMIN-GUID-37E5A76A-673A-4BF0-81EE-18CBCAA402B9" class="sect2"><span class="enumeration_section">3.4</span> Quiescing a Database</h2>
<p>A quiesced database allows only DBA transactions, queries, fetches, or PL/SQL statements.</p>
<a id="ADMIN10263"></a>
<div class="props_rev_3"><a id="GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23"></a>
<h3 id="ADMIN-GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23" class="sect3"><span class="enumeration_section">3.4.1</span> About Quiescing a Database</h3>
<div>
<p>Occasionally you might want to put a database in a state that allows only DBA transactions, queries, fetches, or PL/SQL statements. Such a state is referred to as a <span class="bold">quiesced state</span>, in the sense that no ongoing non-DBA transactions, queries, fetches, or PL/SQL statements are running in the system.</p>
<div class="infobox-note" id="GUID-A4DC6300-D0C2-4908-8658-95DD6ECA7A23__GUID-DDEE1372-E1B3-4E03-9D11-9C02D99EB124">
<p class="notep1">Note:</p>
<p>In this discussion of quiesce database, a DBA is defined as user <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>. Other users, including those with the <code class="codeph">DBA</code> role, are not allowed to issue the <code class="codeph">ALTER SYSTEM QUIESCE DATABASE</code> statement or proceed after the database is quiesced.</p>
</div>
<p>The quiesced state lets administrators perform actions that cannot safely be done otherwise. These actions include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Actions that fail if concurrent user transactions access the same object--for example, changing the schema of a database table or adding a column to an existing table where a no-wait lock is required.</p>
</li>
<li>
<p>Actions whose undesirable intermediate effect can be seen by concurrent user transactions--for example, a multistep procedure for reorganizing a table when the table is first exported, then dropped, and finally imported. A concurrent user who attempts to access the table after it was dropped, but before import, would not have an accurate view of the situation.</p>
</li>
</ul>
<p>Without the ability to quiesce the database, you would need to shut down the database and reopen it in restricted mode. This is a serious restriction, especially for systems requiring 24 x 7 availability. Quiescing a database is much a smaller restriction, because it eliminates the disruption to users and the downtime associated with shutting down and restarting the database.</p>
<p>When the database is in the quiesced state, it is through the facilities of the Database Resource Manager that non-DBA sessions are prevented from becoming active. Therefore, while this statement is in effect, any attempt to change the current resource plan will be queued until after the system is unquiesced. See <a href="dbrm.htm#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a> for more information about the Database Resource Manager.</p>
</div>
</div>
<a id="ADMIN11162"></a>
<div class="props_rev_3"><a id="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18"></a>
<h3 id="ADMIN-GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18" class="sect3"><span class="enumeration_section">3.4.2</span> Placing a Database into a Quiesced State</h3>
<div>
<p>When you place a database in quiesced state, non-DBA active sessions will continue until they become inactive. An active session is one that is currently inside of a transaction, a query, a fetch, or a PL/SQL statement; or a session that is currently holding any shared resources (for example, enqueues). No inactive sessions are allowed to become active.</p>
<div class="section">
<p>For example, If a user issues a SQL query in an attempt to force an inactive session to become active, the query will appear to be hung. When the database is later unquiesced, the session is resumed, and the blocked action is processed.</p>
<ul style="list-style-type: disc;">
<li>
<div class="p">To place a database into a quiesced state, issue the following SQL statement:
<pre dir="ltr">ALTER SYSTEM QUIESCE RESTRICTED;
</pre></div>
</li>
</ul>
<p>Once all non-DBA sessions become inactive, the <code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code> statement completes, and the database is in a quiesced state. In an Oracle Real Application Clusters environment, this statement affects all instances, not just the one that issues the statement.</p>
<p>The <code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code> statement may wait a long time for active sessions to become inactive. You can determine the sessions that are blocking the quiesce operation by querying the <code class="codeph">V$BLOCKING_QUIESCE</code> view. This view returns only a single column: <code class="codeph">SID</code> (Session ID). You can join it with <code class="codeph">V$SESSION</code> to get more information about the session, as shown in the following example:</p>
<pre dir="ltr">select bl.sid, user, osuser, type, program
from v$blocking_quiesce bl, v$session se
where bl.sid = se.sid;
</pre>
<p>If you interrupt the request to quiesce the database, or if your session terminates abnormally before all active sessions are quiesced, then Oracle Database automatically reverses any partial effects of the statement.</p>
<p>For queries that are carried out by successive multiple Oracle Call Interface (OCI) fetches, the <code class="codeph">ALTER SYSTEM QUIESCE RESTRICTED</code> statement does not wait for all fetches to finish. It only waits for the current fetch to finish.</p>
<p>For both dedicated and shared server connections, all non-DBA logins after this statement is issued are queued by the Database Resource Manager, and are not allowed to proceed. To the user, it appears as if the login is hung. The login will resume when the database is unquiesced.</p>
<p>The database remains in the quiesced state even if the session that issued the statement exits. A DBA must log in to the database to issue the statement that specifically unquiesces the database.</p>
<div class="infobox-note" id="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18__GUID-692E0D6E-6586-4033-8B9A-5228401147BE">
<p class="notep1">Note:</p>
<p>You cannot perform a cold backup when the database is in the quiesced state, because Oracle Database background processes may still perform updates for internal purposes even while the database is quiesced. In addition, the file headers of online data files continue to appear to be accessible. They do not look the same as if a clean shutdown had been performed. However, you can still take online backups while the database is in a quiesced state.</p>
</div>
<div class="infoboxnotealso" id="GUID-9BD93CE9-6738-4A4C-B1C3-D983C22EBA18__GUID-330DD444-D407-4FBE-B11E-FE7812EBD361">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink REFRN30399" target="_blank" href="../REFRN/GUID-5EDA8474-C800-4DD2-AA60-FB11FAEE0CA7.htm#REFRN30399"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$BLOCKING_QUIESCE</code> view</p>
</li>
<li>
<p><a class="olink REFRN30223" target="_blank" href="../REFRN/GUID-28E2DC75-E157-4C0A-94AB-117C205789B9.htm#REFRN30223"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$SESSION</code> view</p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11163"></a>
<div class="props_rev_3"><a id="GUID-42F394CB-2712-4B5F-A4C9-1D5618C0DF98"></a>
<h3 id="ADMIN-GUID-42F394CB-2712-4B5F-A4C9-1D5618C0DF98" class="sect3"><span class="enumeration_section">3.4.3</span> Restoring the System to Normal Operation</h3>
<div>
<p>When you restore the system to normal operation, all non-DBA activity is allowed to proceed.</p>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<div class="p">To restore the database to normal operation, issue the following SQL statement:
<pre dir="ltr">ALTER SYSTEM UNQUIESCE;
</pre></div>
</li>
</ul>
<p>In an Oracle Real Application Clusters environment, this statement is not required to be issued from the same session, or even the same instance, as that which quiesced the database. If the session issuing the <code class="codeph">ALTER SYSTEM UNQUIESCE</code> statement terminates abnormally, then the Oracle Database server ensures that the unquiesce operation completes.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN11164"></a>
<div class="props_rev_3"><a id="GUID-99958267-4A14-48FE-A5CB-9ED105A88CD0"></a>
<h3 id="ADMIN-GUID-99958267-4A14-48FE-A5CB-9ED105A88CD0" class="sect3"><span class="enumeration_section">3.4.4</span> Viewing the Quiesce State of an Instance</h3>
<div>
<p>You can view the quiesce state of an instance by querying the <code class="codeph">V$INSTANCE</code> view.</p>
<div class="section">
<p>To view the quiesce state of an instance:</p>
<ul style="list-style-type: disc;">
<li>
<p>Query the <code class="codeph">ACTIVE_STATE</code> column of the <code class="codeph">V$INSTANCE</code> view.</p>
</li>
</ul>
<p>The column has one of these values:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">NORMAL</code>: Normal unquiesced state.</p>
</li>
<li>
<p><code class="codeph">QUIESCING</code>: Being quiesced, but some non-DBA sessions are still active.</p>
</li>
<li>
<p><code class="codeph">QUIESCED</code>: Quiesced; no non-DBA sessions are active or allowed.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="ADMIN11165"></a>
<div class="props_rev_3"><a id="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC"></a>
<h2 id="ADMIN-GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC" class="sect2"><span class="enumeration_section">3.5</span> Suspending and Resuming a Database</h2>
<div>
<p>The <code class="codeph">ALTER SYSTEM SUSPEND</code> statement halts all input and output (I/O) to data files (file header and file data) and control files. The suspended state lets you back up a database without I/O interference. When the database is suspended all preexisting I/O operations are allowed to complete and any new database accesses are placed in a queued state. Use the <code class="codeph">ALTER SYSTEM RESUME</code> statement to resume normal database operations.</p>
<div class="section">
<p>To suspend database operations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the <code class="codeph">ALTER SYSTEM SUSPEND</code> statement.</p>
</li>
</ul>
<p>To resume database operations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run the <code class="codeph">ALTER SYSTEM RESUME</code> statement.</p>
</li>
</ul>
<p>The suspend command is not specific to an instance. In an Oracle Real Application Clusters environment, when you issue the suspend command on one system, internal locking mechanisms propagate the halt request across instances, thereby quiescing all active instances in a given cluster. However, if a new instance is started while another instance is being suspended, then the new instance is not suspended.</p>
<p>The <code class="codeph">SUSPEND</code> and <code class="codeph">RESUME</code> commands can be issued from different instances. For example, if instances 1, 2, and 3 are running, and you issue an <code class="codeph">ALTER SYSTEM SUSPEND</code> statement from instance 1, then you can issue a <code class="codeph">RESUME</code> statement from instance 1, 2, or 3 with the same effect.</p>
<p>The suspend/resume feature is useful in systems that allow you to mirror a disk or file and then split the mirror, providing an alternative backup and restore solution. If you use a system that cannot split a mirrored disk from an existing database while writes are occurring, then you can use the suspend/resume feature to facilitate the split.</p>
<p>The suspend/resume feature is not a suitable substitute for normal shutdown operations, because copies of a suspended database can contain uncommitted updates.</p>
<div class="infobox-note" id="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC__GUID-81003017-B503-4CCE-B142-3A2E98ECB8DA">
<p class="notep1">Note:</p>
<p>Do not use the <code class="codeph">ALTER SYSTEM SUSPEND</code> statement as a substitute for placing a tablespace in hot backup mode. Precede any database suspend operation by an <code class="codeph">ALTER TABLESPACE BEGIN BACKUP</code> statement.</p>
</div>
<p>The following statements illustrate <code class="codeph">ALTER SYSTEM SUSPEND/RESUME</code> usage. The <code class="codeph">V$INSTANCE</code> view is queried to confirm database status.</p>
<pre dir="ltr">SQL&gt; ALTER SYSTEM SUSPEND;
System altered
SQL&gt; SELECT DATABASE_STATUS FROM V$INSTANCE;
DATABASE_STATUS
---------
SUSPENDED

SQL&gt; ALTER SYSTEM RESUME;
System altered
SQL&gt; SELECT DATABASE_STATUS FROM V$INSTANCE;
DATABASE_STATUS
---------
ACTIVE
</pre>
<div class="infoboxnotealso" id="GUID-7CB2F064-7C96-43C9-BBFD-2FA2FA4C5DBC__GUID-A6C698DF-CD0C-420B-B700-B1098A29B4A7">
<p class="notep1">See Also:</p>
<p><a class="olink BRADV204" target="_blank" href="../BRADV/osbackup.htm#BRADV204"><span class="italic">Oracle Database Backup and Recovery User&#39;s Guide</span></a> for details about backing up a database using the database suspend/resume feature</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="create.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="restart.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en-US"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="UTF-8"/>
<a class="dashingAutolink" name="autolink-303"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Oracle%20Scheduler%20Concepts"></a><title>Oracle Scheduler Concepts</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"/>
<meta name="description" content="You can schedule tasks with Oracle Scheduler."/>
<meta name="keywords" content="Scheduler, overview, database program unit, definition, job scheduling, time-based, event-based, dependency, objects, programs, schedules, jobs, destinations, Oracle Scheduler, about, database destinations, Oracle Scheduler, external destinations, Oracle Scheduler, credentials for jobs, credentials, credentials, Oracle Scheduler, granting privileges on, chains, job classes, viewing, windows (Scheduler), overlapping windows, overlapping, groups, Oracle Scheduler, window groups, database jobs, Oracle Scheduler, database, remote database, remote database jobs, external jobs, Oracle Scheduler, external, stdout, for local external jobs, retrieving, stderr, external jobs, retrieving stdout and stderr, remote external jobs, remote external, detached jobs, detached, lightweight, lightweight jobs, script jobs, multiple-destination jobs, Oracle Scheduler, multiple-destination, architecture, job coordinator, JOB_QUEUE_PROCESSES initialization parameter, using in RAC, support for Oracle Data Guard, Oracle Data Guard, support by the Scheduler, logical standby, rolling upgrade"/>
<meta name="dcterms.created" content="2017-07-10T12:24:11Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Administrator&rsquo;s Guide"/>
<meta name="dcterms.identifier" content="E41484-15"/>
<meta name="dcterms.isVersionOf" content="ADMIN"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="dbrm.htm" title="Previous" type="text/html"/>
<link rel="Next" href="scheduse.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E41484-15.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-6B8C0335-D36B-44D3-95BC-82FA2141D967"></a> <span id="PAGE" style="display:none;">36/59</span> <!-- End Header -->
<a id="ADMIN033"></a>
<h1 id="ADMIN-GUID-6B8C0335-D36B-44D3-95BC-82FA2141D967" class="sect1"><span class="enumeration_chapter">28</span> Oracle Scheduler Concepts</h1>
<p>You can schedule tasks with Oracle Scheduler.</p>
<a id="ADMIN12354"></a>
<div class="props_rev_3"><a id="GUID-1EF9695C-72A7-4F9D-A12B-752F0BA8118B"></a>
<h2 id="ADMIN-GUID-1EF9695C-72A7-4F9D-A12B-752F0BA8118B" class="sect2"><span class="enumeration_section">28.1</span> Overview of Oracle Scheduler</h2>
<div>
<p>Oracle Database includes Oracle Scheduler, an enterprise job scheduler to help you simplify the scheduling of hundreds or even thousands of tasks. Oracle Scheduler (the Scheduler) is implemented by the procedures and functions in the <code class="codeph">DBMS_SCHEDULER</code> PL/SQL package.</p>
<p>The Scheduler enables you to control when and where various computing tasks take place in the enterprise environment. The Scheduler helps you effectively manage and plan these tasks. By ensuring that many routine computing tasks occur without manual intervention, you can lower operating costs, implement more reliable routines, minimize human error, and shorten the time windows needed.</p>
<p>The Scheduler provides sophisticated, flexible enterprise scheduling functionality, which you can use to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Run <span class="bold">database program units</span></p>
<p>You can run program units, that is, PL/SQL anonymous blocks, PL/SQL stored procedures, and Java stored procedures on the local database or on one or more remote Oracle databases.</p>
</li>
<li>
<p>Run external executables, (executables that are external to the database)</p>
<p>You can run <span class="bold">external executables</span>, such as applications, shell scripts, and batch files, on the local system or on one or more remote systems. Remote systems do not require an Oracle Database installation; they require only a Scheduler agent. Scheduler agents are available for all platforms supported by Oracle Database and some additional platforms.</p>
</li>
<li>
<p>Schedule job execution using the following methods:</p>
<ul style="list-style-type: disc;">
<li>
<p>Time-based scheduling</p>
<p>You can schedule a job to run at a particular date and time, either once or on a repeating basis. You can define complex repeat intervals, such as &#34;every Monday and Thursday at 3:00 a.m. except on public holidays&#34; or &#34;the last Wednesday of each business quarter.&#34; See <span class="q">&#34;<a href="scheduse.htm#GUID-36A19019-DC54-4CCF-8BB4-9DD40DA9FA01" title="A job is the combination of a schedule and a program, along with any additional arguments required by the program.">Creating, Running, and Managing Jobs</a>&#34;</span> for more information.</p>
</li>
<li>
<p>Event-based scheduling</p>
<p>You can start jobs in response to system or business events. Your applications can detect events and then signal the Scheduler. Depending on the type of signal sent, the Scheduler starts a specific job. Examples of event-based scheduling include starting jobs when a file arrives on a system, when inventory falls below predetermined levels, or when a transaction fails. Beginning with Oracle Database 11<span class="italic">g</span> Release 2 (11.2), a Scheduler object called a file watcher simplifies the task of configuring a job to start when a file arrives on a local or remote system. See <span class="q">&#34;<a href="scheduse.htm#GUID-31F260EA-48D0-470A-B66D-E906BA50CAD5" title="Oracle Scheduler can start a job when an event is sent. An event is a message one application or system process sends to another.">Using Events to Start Jobs</a>&#34;</span> for more information.</p>
</li>
<li>
<p>Dependency scheduling</p>
<p>You can set the Scheduler to run tasks based on the outcome of one or more previous tasks. You can define complex dependency chains that include branching and nested chains. See <span class="q">&#34;<a href="scheduse.htm#GUID-BF3AB6EB-BC19-4303-9E02-6466804BA119" title="A job chain is a named series of tasks that are linked together for a combined objective.">Creating and Managing Job Chains</a>&#34;</span> for more information.</p>
</li>
</ul>
</li>
<li>
<p>Prioritize jobs based on business requirements.</p>
<p>The Scheduler provides control over resource allocation among competing jobs, thus aligning job processing with your business needs. This is accomplished in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Controlling Resources by Job Class</p>
<p>You can group jobs that share common characteristics and behavior into larger entities called job classes. You can prioritize among the classes by controlling the resources allocated to each class. Therefore, you can ensure that your critical jobs have priority and enough resources to complete. For example, for a critical project to load a data warehouse, you can combine all the data warehousing jobs into one class and give it priority over other jobs by allocating a high percentage of the available resources to it. You can also assign relative priorities to the jobs within a job class.</p>
</li>
<li>
<p>Controlling Job Prioritization based on Schedules</p>
<p>You can change job priorities based on a schedule. Because your definition of a critical job can change over time, the Scheduler also enables you to change the priority among your jobs over that time frame. For example, extract, transfer, and load (ETL) jobs used to load a data warehouse may be critical during non-peak hours but not during peak hours. Additionally, jobs that must run during the close of a business quarter may need to take priority over the ETL jobs. In these cases, you can change the priority among the job classes by changing the resources allocated to each class. See <span class="q">&#34;<a href="scheduse.htm#GUID-8E370FA8-5CEE-4354-9EB0-71224C6E4938" title="You create a job class using the CREATE_JOB_CLASS procedure in the DBMS_SCHEDULER package or Cloud Control. Job classes are always created in the SYS schema.">Creating Job Classes</a>&#34;</span> and <span class="q">&#34;<a href="scheduse.htm#GUID-4F377D3E-55EC-4552-B291-0061709340CA" title="You can use Cloud Control or the DBMS_SCHEDULER.CREATE_WINDOW procedure to create windows.">Creating Windows</a>&#34;</span> for more information.</p>
</li>
</ul>
</li>
<li>
<p>Manage and monitor jobs</p>
<p>You can manage and monitor the multiple states that jobs go through, from creation to completion. The Scheduler logs activity so that you can easily track information such as the status of the job and the last run time of the job by querying views using Oracle Enterprise Manager Cloud Control or SQL. These views provide valuable information about jobs and their execution that can help you schedule and better manage your jobs. For example, a DBA can easily track all jobs that failed for a particular user. See <span class="q">&#34;<a href="schedadmin.htm#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" title="You can query a set of views for information about Scheduler.">Scheduler Data Dictionary Views</a>&#34;</span>.</p>
<p>When you create a multiple-destination job, a job that is defined at one database but that runs on multiple remote hosts, you can monitor the status of the job at each destination individually or the overall status of the parent job as a whole.</p>
<p>For advanced job monitoring, your applications can subscribe to job state change notifications that the Scheduler delivers in event queues. The Scheduler can also send e-mail notifications when a job changes state.</p>
<p>See <span class="q">&#34;<a href="schedadmin.htm#GUID-A141EC1B-0610-4C9F-B312-966E334B16D8" title="You can view the currently active window and the resource plan associated with it, view information about currently running jobs, monitor and manage window and job logs, and manage Scheduler security.">Monitoring and Managing the Scheduler</a>&#34;</span>.</p>
</li>
<li>
<p>Execute and manage jobs in a clustered environment</p>
<p>A cluster is a set of database instances that cooperates to perform the same task. Oracle Real Application Clusters (Oracle RAC) provides scalability and reliability without any change to your applications. The Scheduler fully supports execution of jobs in such a clustered environment. To balance the load on your system and for better performance, you can also specify the database service where you want a job to run. See <span class="q">&#34;<a href="schedover.htm#GUID-1BE3B059-E01D-40BE-B742-D6BAF9849552" title="In an Oracle Real Application Clusters (Oracle RAC) environment, the Scheduler uses one job table for each database and one job coordinator for each instance.">The Scheduler and Real Application Clusters</a>&#34;</span> for more information.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN12668"></a>
<div class="props_rev_3"><a id="GUID-32E9BB6D-C548-4846-80E3-E68BFF82A8FA"></a>
<h2 id="ADMIN-GUID-32E9BB6D-C548-4846-80E3-E68BFF82A8FA" class="sect2"><span class="enumeration_section">28.2</span> Jobs and Supporting Scheduler Objects</h2>
<div>
<p>You use jobs and other scheduler objects for task scheduling.</p>
</div>
<div class="sect3"><a id="GUID-4C643DED-B86A-4EB2-844F-52DDFC9F6C6E"></a>
<h3 id="ADMIN-GUID-4C643DED-B86A-4EB2-844F-52DDFC9F6C6E" class="sect3"><span class="enumeration_section">28.2.1</span> About Jobs and Supporting Scheduler Objects</h3>
<div>
<p>To use the Scheduler, you create <span class="italic">Scheduler objects</span>. Schema objects define the what, when, and where for job scheduling. Scheduler objects enable a modular approach to managing tasks. One advantage of the modular approach is that objects can be reused when creating new tasks that are similar to existing tasks.</p>
<p>The principal Scheduler object is the job. A <span class="bold">job</span> defines the action to perform, the schedule for the action, and the location or locations where the action takes place. Most other scheduler objects are created to support jobs.</p>
<div class="infobox-note" id="GUID-4C643DED-B86A-4EB2-844F-52DDFC9F6C6E__GUID-324B6A65-EF77-448E-AD73-78480581B737">
<p class="notep1">Note:</p>
<p>The Oracle Scheduler job replaces the <code class="codeph">DBMS_JOB</code> package, which is still supported for backward compatibility. This chapter assumes that you are only using Scheduler jobs. If you are using both at once, or migrating from <code class="codeph">DBMS_JOB</code> to Scheduler jobs, see <a href="appendix_a.htm#GUID-CC42E8DA-7203-449E-BCEA-8187ECC4BCDF" title="Oracle Scheduler replaces the DBMS_JOB package.">Support for DBMS_JOB</a>.</p>
</div>
<p>Each of these objects is described in detail later in this section.</p>
<p>Because Scheduler objects belong to schemas, you can grant object privileges on them. Some Scheduler objects, including job classes, windows, and window groups, are always created in the <code class="codeph">SYS</code> schema, even if the user is not <code class="codeph">SYS</code>. All other objects are created in the user&#39;s own schema or in a designated schema.</p>
<div class="infoboxnotealso" id="GUID-4C643DED-B86A-4EB2-844F-52DDFC9F6C6E__GUID-78B46EC0-7EB2-43B9-8FAA-3777A7D43C17">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-7E0B2F16-EE4F-42F3-BF73-82C147D5E8F1" title="Users can be granted various Scheduler privileges.">Scheduler Privileges</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN12357"></a>
<div class="props_rev_3"><a id="GUID-58254092-5BE5-459F-B99B-F7CE021C6C0D"></a>
<h3 id="ADMIN-GUID-58254092-5BE5-459F-B99B-F7CE021C6C0D" class="sect3"><span class="enumeration_section">28.2.2</span> Programs</h3>
<div>
<p>A program object (program) describes what is to be run by the Scheduler.</p>
<p>A program includes:</p>
<ul style="list-style-type: disc;">
<li>
<p>An action: For example, the name of a stored procedure, the name of an executable found in the operating system file system (an &#34;external executable&#34;), or the text of a PL/SQL anonymous block.</p>
</li>
<li>
<p>A type: <code class="codeph">STORED_PROCEDURE</code>, <code class="codeph">PLSQL_BLOCK</code>, <code class="codeph">SQL_SCRIPT</code>, <code class="codeph">EXTERNAL_SCRIPT</code>, <code class="codeph">BACKUP_SCRIPT</code>, or <code class="codeph">EXECUTABLE</code>, where <code class="codeph">EXECUTABLE</code> indicates an external executable.</p>
</li>
<li>
<p>Number of arguments: The number of arguments that the stored procedure or external executable accepts.</p>
</li>
</ul>
<p>A program is a separate entity from a job. A job runs at a certain time or because a certain event occurred, and invokes a certain program. You can create jobs that point to existing program objects, which means that different jobs can use the same program and run the program at different times and with different settings. With the right privileges, different users can use the same program without having to redefine it. Therefore, you can create program libraries, where users can select from a list of existing programs.</p>
<p>If a stored procedure or external executable referenced by the program accepts arguments, you define these arguments in a separate step after creating the program. You can optionally define a default value for each argument.</p>
<div class="infoboxnotealso" id="GUID-58254092-5BE5-459F-B99B-F7CE021C6C0D__GUID-7A800460-9868-4EA2-9A8E-2907AE3E260D">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-93B19FEB-FC0B-4D08-A26E-255B25BCEDDE" title="You create programs by using the CREATE_PROGRAM procedure or Cloud Control.">Creating Programs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-B1913DD0-9367-4E80-A22B-CA668B0C68AA" title="A job object (job) is a collection of metadata that describes a user-defined task. It defines what must be executed (the action), when (the one-time or recurring schedule or a triggering event), where (the destinations), and with what credentials. A job has an owner, which is the schema in which it is created.">Jobs</a>&#34;</span> for an overview of jobs</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN12358"></a>
<div class="props_rev_3"><a id="GUID-59B6DF3D-07C5-44D8-B297-1E7CDEC2C95E"></a>
<h3 id="ADMIN-GUID-59B6DF3D-07C5-44D8-B297-1E7CDEC2C95E" class="sect3"><span class="enumeration_section">28.2.3</span> Schedules</h3>
<div>
<p>A schedule object (schedule) specifies when and how many times a job is run.</p>
<p>Schedules can be shared by multiple jobs. For example, the end of a business quarter may be a common time frame for many jobs. Rather than defining an end-of-quarter schedule each time a new job is defined, job creators can point to a named schedule.</p>
<p>There are two types of schedules:</p>
<ul style="list-style-type: disc;">
<li>
<p>time schedules</p>
<p>With time schedules, you can schedule jobs to run immediately or at a later time. Time schedules include a start date and time, optional end date and time, and optional repeat interval.</p>
</li>
<li>
<p>event schedules</p>
<p>With event schedules, you can specify that a job executes when a certain event occurs, such as inventory falling below a threshold or a file arriving on a system. For more information on events, see <span class="q">&#34;<a href="scheduse.htm#GUID-31F260EA-48D0-470A-B66D-E906BA50CAD5" title="Oracle Scheduler can start a job when an event is sent. An event is a message one application or system process sends to another.">Using Events to Start Jobs</a> &#34;</span>.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-59B6DF3D-07C5-44D8-B297-1E7CDEC2C95E__GUID-5F14E5F4-35FF-4BAE-8528-6506BD9CD53E">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-CC108608-5EAB-4A01-A4EF-AC874A82DD7D" title="You create schedules by using the CREATE_SCHEDULE procedure in the DBMS_SCHEDULER package or Cloud Control.">Creating Schedules</a>&#34;</span></p>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-6BADB539-62DB-468D-9685-A855FC133902"></a>
<h3 id="ADMIN-GUID-6BADB539-62DB-468D-9685-A855FC133902" class="sect3"><span class="enumeration_section">28.2.4</span> Jobs</h3>
<p>A job describes a user-defined task.</p>
<a id="ADMIN12359"></a>
<div class="props_rev_3"><a id="GUID-B1913DD0-9367-4E80-A22B-CA668B0C68AA"></a>
<h4 id="ADMIN-GUID-B1913DD0-9367-4E80-A22B-CA668B0C68AA" class="sect4"><span class="enumeration_section">28.2.4.1</span> About Jobs</h4>
<div>
<p>A job object (job) is a collection of metadata that describes a user-defined task. It defines what must be executed (the action), when (the one-time or recurring schedule or a triggering event), where (the destinations), and with what credentials. A job has an owner, which is the schema in which it is created.</p>
<p>A job that runs a database program unit is known as a <span class="bold">database job</span>. A job that runs an external executable is known as an <span class="bold">external job</span>.</p>
<p>Jobs that run database program units at one or more remote locations are called <span class="bold">remote database jobs</span>. Jobs that run external executables at one or more remote locations are called <span class="bold">remote external jobs</span>.</p>
<p>You define where a job runs by specifying a one or more destinations. Destinations are also Scheduler objects and are described later in this section. If you do not specify a destination, it is assumed that the job runs on the local database.</p>
</div>
</div>
<a id="ADMIN14068"></a>
<div class="props_rev_3"><a id="GUID-C317BFB8-81A5-4E28-9844-775BA0965BFF"></a>
<h4 id="ADMIN-GUID-C317BFB8-81A5-4E28-9844-775BA0965BFF" class="sect4"><span class="enumeration_section">28.2.4.2</span> Specifying a Job Action</h4>
<div>
<p>You can specify a job action by specifying the database program unit or external executable to be run or the name of an existing program object (program).</p>
<p>You specify the job action in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>By specifying as a job attribute the database program unit or external executable to be run. This is known as specifying the job action <span class="bold">inline</span>.</p>
</li>
<li>
<p>By specifying as a job attribute the name of an existing program, that specifies the database program unit or external executable to be run. The job owner must have the <code class="codeph">EXECUTE</code> privilege on the program or the <code class="codeph">EXECUTE</code> <code class="codeph">ANY</code> <code class="codeph">PROGRAM</code> system privilege.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN14069"></a>
<div class="props_rev_3"><a id="GUID-8F83D146-0D59-41A0-8C24-1A6F30190ECA"></a>
<h4 id="ADMIN-GUID-8F83D146-0D59-41A0-8C24-1A6F30190ECA" class="sect4"><span class="enumeration_section">28.2.4.3</span> Specifying a Job Schedule</h4>
<div>
<p>You can specify a job schedule by setting attributes of the job object or the name of an existing schedule object (schedule).</p>
<p>You specify the job schedule in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>By setting attributes of the job object to define start and end dates and a repeat interval, or to define an event that starts the job. This is known as specifying the schedule <span class="bold">inline</span>.</p>
</li>
<li>
<p>By specifying as a job attribute the name of an existing schedule, which defines start and end dates and a repeat interval, or defines an event.</p>
</li>
</ul>
</div>
</div>
<a id="ADMIN14070"></a>
<div class="props_rev_3"><a id="GUID-CDAA5565-D713-46C7-810F-59C03C5C1E7C"></a>
<h4 id="ADMIN-GUID-CDAA5565-D713-46C7-810F-59C03C5C1E7C" class="sect4"><span class="enumeration_section">28.2.4.4</span> Specifying a Job Destination</h4>
<div>
<p>You can specify a job destination in several different ways.</p>
<p>You specify the job destinations in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>By specifying as a job attribute a single named destination object. In this case, the job runs on one remote location.</p>
</li>
<li>
<p>By specifying as a job attribute a named destination group, which is equivalent to a list of remote locations. In this case, the job runs on all remote locations.</p>
</li>
<li>
<p>By not specifying a destination attribute, in which case the job runs locally. The job runs either of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>A database program unit on the local database (the database on which the job is created)</p>
</li>
<li>
<p>An external executable on the local host, depending on the job action type</p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<a id="ADMIN14071"></a>
<div class="props_rev_3"><a id="GUID-F99000FD-69EE-4A64-8BBA-825B1E014EC3"></a>
<h4 id="ADMIN-GUID-F99000FD-69EE-4A64-8BBA-825B1E014EC3" class="sect4"><span class="enumeration_section">28.2.4.5</span> Specifying a Job Credential</h4>
<div>
<p>You can specify a job credential by specifying a named credential object or by allowing the credential attribute of the job to remain <code class="codeph">NULL</code>.</p>
<p>You specify the job credentials in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>By specifying as a job attribute a named credential object, which contains a database user name and password (for database jobs).</p>
<p>The job runs as the user named in the credential.</p>
</li>
<li>
<p>By allowing the credential attribute of the job to remain <code class="codeph">NULL</code>, in which case a local database job runs as the job owner. (See <a href="schedover.htm#GUID-448C0850-9A3B-4CEA-9150-8614170E92B5__CHDFEJDG" title="This table has three rows and three columns. The columns are labeled SYS Schema?, Platform, and Credentials Used.">Table 28-1</a>.) The job owner is the schema in which the job was created.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-F99000FD-69EE-4A64-8BBA-825B1E014EC3__GUID-51CB8580-BE83-415E-B0CC-3AB5A6FC9319">
<p class="notep1">Note:</p>
<p>A local database job always runs as the user is who is the job owner and will ignore any named credential.</p>
</div>
<p>After you create a job and enable it, the Scheduler automatically runs the job according to its schedule or when the specified event is detected. You can view the run status of job and its job log by querying data dictionary views. If a job runs on multiple destinations, you can query the status of the job at each destination.</p>
<div class="infoboxnotealso" id="GUID-F99000FD-69EE-4A64-8BBA-825B1E014EC3__GUID-1C0D93F1-95CE-4F38-AEA0-7C6F4BE633A6">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-3AC38D5C-D759-41A7-9F11-FEA9FC80B0F4" title="A destination object (destination) defines a location for running a job.">Destinations</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-CF76D26F-B5E0-4DED-B7EF-380670D0E250" title="There are different types of jobs. A job instance represents a specific run of a job. You can supply job arguments to override the default program argument values.">More About Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-DC75AC5D-525E-497D-B72C-DD906A735FD9" title="You create jobs using the DBMS_SCHEDULER package or Cloud Control.">Creating Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" title="You can query a set of views for information about Scheduler.">Scheduler Data Dictionary Views</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-0FEFE78C-9403-4819-94B3-F67CB08576DF"></a>
<h3 id="ADMIN-GUID-0FEFE78C-9403-4819-94B3-F67CB08576DF" class="sect3"><span class="enumeration_section">28.2.5</span> Destinations</h3>
<p>You can specify external and database destinations for running a job.</p>
<a id="ADMIN13353"></a>
<div class="props_rev_3"><a id="GUID-3AC38D5C-D759-41A7-9F11-FEA9FC80B0F4"></a>
<h4 id="ADMIN-GUID-3AC38D5C-D759-41A7-9F11-FEA9FC80B0F4" class="sect4"><span class="enumeration_section">28.2.5.1</span> About Destinations</h4>
<div>
<p>A destination object (destination) defines a location for running a job.</p>
<p>There are two types of destinations:</p>
<ul style="list-style-type: disc;">
<li>
<p>External destination: Specifies a remote host name and IP address for running a remote external job.</p>
</li>
<li>
<p>Database destination: Specifies a remote database instance for running a remote database job.</p>
</li>
</ul>
<p>Jobs that run external executables (external jobs) must specify external destinations, and jobs that run database program units (database jobs) must specify database destinations.</p>
<p>If you specify a destination when you create a job, the job runs on that destination. If you do not specify a destination, the job runs locally, on the system on which it is created.</p>
<p>You can also create a destination group, which consists of a list of destinations, and reference this destination group when creating a job. In this case, the job runs on all destinations in the group.</p>
<div class="infobox-note" id="GUID-3AC38D5C-D759-41A7-9F11-FEA9FC80B0F4__GUID-76B18FA9-6E91-463D-A360-76DEE3A0D91E">
<p class="notep1">Note:</p>
<p>Destination groups can also include the keyword <code class="codeph">LOCAL</code> as a group member, indicating that the job also runs on the local host or local database.</p>
</div>
<div class="infoboxnotealso" id="GUID-3AC38D5C-D759-41A7-9F11-FEA9FC80B0F4__GUID-6153AB7D-A2BD-4789-B2AD-09B163AE57DD">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="schedover.htm#GUID-25434537-0B95-4104-906D-D85AAF4E4086" title="Instead of passing a list of objects as an argument to a DBMS_SCHEDULER package procedure, you create a group that has those objects as its members, and then pass the group name to the procedure.">Groups</a>&#34;</span></p>
</div>
<p>No object privileges are required to use a destination created by another user.</p>
</div>
</div>
<a id="ADMIN13486"></a>
<div class="props_rev_3"><a id="GUID-CA5A6B08-C7B1-4218-BEAE-9A5FD5FEFFDD"></a>
<h4 id="ADMIN-GUID-CA5A6B08-C7B1-4218-BEAE-9A5FD5FEFFDD" class="sect4"><span class="enumeration_section">28.2.5.2</span> About Destinations and Scheduler Agents</h4>
<div>
<p>The remote location specified in a destination object must have a Scheduler agent running, and the agent must be registered with the database creating the job.</p>
<p>The Scheduler agent enables the local Scheduler to communicate with the remote host, start and stop jobs there, and return remote job status to the local database. For complete details, see <span class="q">&#34;<a href="scheduse.htm#GUID-4F93F7AF-8B6E-4765-B260-1702A5D99C2A" title="For remote external jobs and remote database jobs, you specify the job destination by creating a destination object and assigning it to the destination_name job attribute. A job with a NULL destination_name attribute runs on the host where the job is created.">Specifying Destinations</a>&#34;</span>.</p>
</div>
<a id="ADMIN13487"></a>
<div class="props_rev_3"><a id="GUID-326890ED-8455-4EF1-AE08-8DACA58AE28F"></a>
<h5 id="ADMIN-GUID-326890ED-8455-4EF1-AE08-8DACA58AE28F" class="sect5"><span class="enumeration_section">28.2.5.2.1</span> External Destinations</h5>
<div>
<p>You cannot explicitly create external destinations. They are created in your local database when you register a Scheduler agent with that database.</p>
<p>The name assigned to the external destination is the name of the agent. You can configure an agent name after you install it, or you can accept the default agent name, which is the first part of the host name (before the first dot separator). For example, if you install an agent on the host <code class="codeph">dbhost1.us.example.com</code>, the agent name defaults to <code class="codeph">DBHOST1</code>.</p>
</div>
</div>
<a id="ADMIN13488"></a>
<div class="props_rev_3"><a id="GUID-9268AB8F-7725-488A-9202-EF6953D2DEE0"></a>
<h5 id="ADMIN-GUID-9268AB8F-7725-488A-9202-EF6953D2DEE0" class="sect5"><span class="enumeration_section">28.2.5.2.2</span> Database Destinations</h5>
<div>
<p>You create database destinations with the <code class="codeph">DBMS_SCHEDULER.CREATE_DATABASE_DESTINATION</code> procedure.</p>
<div class="infobox-note" id="GUID-9268AB8F-7725-488A-9202-EF6953D2DEE0__GUID-E2B01B4F-B659-4D60-AE9E-B03705355D68">
<p class="notep1">Note:</p>
<p>If you have multiple database instances running on the local host, you can run jobs on the other instances by creating database destinations for those instances. Thus, &#34;remote&#34; database instances do not necessarily have to reside on remote hosts. The local host must be running a Scheduler agent to support running remote database jobs on these additional instances.</p>
</div>
<div class="infoboxnotealso" id="GUID-9268AB8F-7725-488A-9202-EF6953D2DEE0__GUID-D6A83F3A-FEC1-4FE2-8FE0-396B4711D307">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-4F93F7AF-8B6E-4765-B260-1702A5D99C2A" title="For remote external jobs and remote database jobs, you specify the job destination by creating a destination object and assigning it to the destination_name job attribute. A job with a NULL destination_name attribute runs on the host where the job is created.">Specifying Destinations</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-68793240-9241-42D4-95E7-21C66DD6B305" title="Before you can run remote jobs on a particular host, you must install and configure the Scheduler agent.">Installing and Configuring the Scheduler Agent on a Remote Host</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="ADMIN13284"></a>
<div class="props_rev_3"><a id="GUID-DB1E4548-4CA9-4762-B9FD-0B5E6455BB0C"></a>
<h3 id="ADMIN-GUID-DB1E4548-4CA9-4762-B9FD-0B5E6455BB0C" class="sect3"><span class="enumeration_section">28.2.6</span> File Watchers</h3>
<div>
<p>A file watcher object (file watcher) defines the location, name, and other properties of a file whose arrival on a system causes the Scheduler to start a job.</p>
<p>You create a file watcher and then create any number of event-based jobs or event schedules that reference the file watcher. When the file watcher detects the arrival of the designated file, it raises a file arrival event. The job started by the file arrival event can retrieve the event message to learn about the newly arrived file.</p>
<p>A file watcher can watch for a file on the local system (the same host computer running Oracle Database) or a remote system, provided that the remote system is running the Scheduler agent.</p>
<p>To use file watchers, the database Java virtual machine (JVM) component must be installed.</p>
<p>See <span class="q">&#34;<a href="scheduse.htm#GUID-B17B0307-45B6-4251-B554-923785745E78" title="A file watcher is a Scheduler object that defines the location, name, and other properties of a file whose arrival on a system causes the Scheduler to start a job.">About File Watchers</a>&#34;</span> for more information.</p>
<div class="infoboxnotealso" id="GUID-DB1E4548-4CA9-4762-B9FD-0B5E6455BB0C__GUID-FCC8EB23-E535-4ABC-9C2A-A4DA9F364F11">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-1D2AA753-AC97-4D4E-B6FA-68B821965CE5" title="You complete several steps to create a file watcher and a file watch job.">Creating File Watchers and File Watcher Jobs</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN12373"></a>
<div class="props_rev_3"><a id="GUID-2D70512F-BBAE-4087-B341-D2AF87A3C71C"></a>
<h3 id="ADMIN-GUID-2D70512F-BBAE-4087-B341-D2AF87A3C71C" class="sect3"><span class="enumeration_section">28.2.7</span> Credentials</h3>
<div>
<p><span class="bold">Credentials</span> are user name and password pairs stored in a dedicated database object.</p>
<p>Scheduler jobs use credentials to authenticate themselves with a database instance or the operating system in order to run. You use credentials for:</p>
<ul style="list-style-type: disc;">
<li>
<p>Remote database jobs: The credential contains a database user name and password. The stored procedure or PL/SQL block specified in the remote database job runs as this database user.</p>
</li>
<li>
<p>External jobs (local or remote): The credential contains a host operating system user name and password. The external executable of the job then runs with this user name and password.</p>
</li>
<li>
<p>File watchers: The credential contains a host operating system user name and password. The job that processes the file arrival event uses this user name and password to access the arrived file.</p>
</li>
</ul>
<p>You can query the <code class="codeph">*_CREDENTIALS</code> views to see a list of credentials in the database. Credential passwords are stored obfuscated, and are not displayed in these views.</p>
<div class="infoboxnotealso" id="GUID-2D70512F-BBAE-4087-B341-D2AF87A3C71C__GUID-ABBC7E1C-FE2B-4F7C-A1C2-133DE01E82F1">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-BCB91872-760D-43CA-A5E2-135C6A2DB2F5" title="Oracle Scheduler requires job credentials to authenticate with an Oracle database or the operating system before running.">Specifying Scheduler Job Credentials</a>&#34;</span></p>
</li>
<li>
<p><a class="olink DBSEG656" target="_blank" href="../DBSEG/app_devs.htm#DBSEG656"><span class="italic">Oracle Database Security Guide</span></a> for information about creating a credential using the <code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code> procedure</p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13082"></a><a id="ADMIN12362"></a>
<div class="props_rev_3"><a id="GUID-FE177718-8A7E-4BDD-A8FC-1A41AF8A3517"></a>
<h3 id="ADMIN-GUID-FE177718-8A7E-4BDD-A8FC-1A41AF8A3517" class="sect3"><span class="enumeration_section">28.2.8</span> Chains</h3>
<div>
<p>Chains are the means by which you can implement dependency scheduling, in which job starts depend on the outcomes of one or more previous jobs.</p>
<p>A chain consists of multiple steps that are combined using dependency rules. The dependency rules define the conditions that can be used to start or stop a step or the chain itself. Conditions can include the success, failure, or completion- or exit-codes of previous steps. Logical expressions, such as AND/OR, can be used in the conditions. In a sense, a chain resembles a decision tree, with many possible paths for selecting which tasks run and when.</p>
<p>In its simplest form, a chain consists of two or more Scheduler program objects (programs) that are linked together for a single, combined objective. An example of a chain might be &#34;run program A followed by program B, and then run program C only if programs A and B complete successfully, otherwise wait an hour and then run program D.&#34;</p>
<p>As an example, you might want to create a chain to combine the different programs necessary for a successful financial transaction, such as validating and approving a loan application, and then funding the loan.</p>
<p>A Scheduler job can point to a chain instead of pointing to a single program object. The job then serves to start the chain. This job is referred to as the <span class="bold">chain job</span>. Multiple chain jobs can point to the same chain, and more than one of these jobs can run simultaneously, thereby creating multiple instances of the same chain, each at a different point of progress in the chain.</p>
<p>Each position within a chain is referred to as a <span class="bold">step</span>. Typically, after an initial set of chain steps has started, the execution of successive steps depends on the completion of one or more previous steps. Each step can point to one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>A program object (program)</p>
<p>The program can run a database program unit (such as a stored procedure or PL/SQL anonymous block) or an external executable.</p>
</li>
<li>
<p>Another chain (a nested chain)</p>
<p>Chains can be nested to any level.</p>
</li>
<li>
<p>An event schedule, inline event, or file watcher</p>
<p>After starting a step that points to an event schedule or that has an inline event specification, the step waits until the specified event is raised. Likewise, a step that references a file watcher inline or that points to an event schedule that references a file watcher waits until the file arrival event is raised. For a file arrival event or any other type of event, when the event occurs, the step completes, and steps that are dependent on the event step can run. A common example of an event in a chain is a user intervention, such an approval or rejection.</p>
</li>
</ul>
<p>Multiple steps in the chain can invoke the same program or nested chain.</p>
<p>For each step, you can specify either a database destination or an external destination on which the step should run. If a destination is not specified, the step runs on the originating (local) database or the local host. Each step in a chain can run on a different destination.</p>
<p><a href="schedover.htm#GUID-FE177718-8A7E-4BDD-A8FC-1A41AF8A3517__chainsMultiipleBrances262">Figure 28-1</a> shows a chain with multiple branches. The figure makes use of icons to indicate <code class="codeph">BEGIN</code>, <code class="codeph">END</code>, and a nested chain, which is Step 7, in the lower subbranch.</p>
<p>In this figure, rules could be defined as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>If Step 1 completes successfully, start Step 2.</p>
</li>
<li>
<p>If Step 1 fails with error code 20100, start Step 3.</p>
</li>
<li>
<p>If Step 1 fails with any other error code, end the chain.</p>
</li>
</ul>
<p>Additional rules govern the running of steps 4, 5, 6, and 7.</p>
<div class="figure" id="GUID-FE177718-8A7E-4BDD-A8FC-1A41AF8A3517__chainsMultiipleBrances262">
<p class="titleinfigure">Figure 28-1 Chain with Multiple Branches</p>
<img width="503" height="347" src="img/GUID-F1A534ED-7397-4AC5-B9A5-1141B0A20795-default.gif" alt="Description of Figure 28-1 follows" title="Description of Figure 28-1 follows"/><br/>
<a href="img_text/GUID-F1A534ED-7397-4AC5-B9A5-1141B0A20795-print.htm">Description of &#34;Figure 28-1 Chain with Multiple Branches&#34;</a></div>
<!-- class="figure" -->
<p>While a job pointing to a chain is running, the current state of all steps of the running chain can be monitored. For every step, the Scheduler creates a <span class="bold">step job</span> with the same job name and owner as the chain job. Each step job additionally has a step job subname to uniquely identify it. The step job subname is included as the <code class="codeph">JOB_SUBNAME</code> column in the views <code class="codeph">*_SCHEDULER_RUNNING_JOBS</code>, <code class="codeph">*_SCHEDULER_JOB_LOG</code>, and <code class="codeph">*_SCHEDULER_JOB_RUN_DETAILS</code>, and as the <code class="codeph">STEP_JOB_SUBNAME</code> column in the <code class="codeph">*_SCHEDULER_RUNNING_CHAINS</code> views.</p>
<div class="infoboxnotealso" id="GUID-FE177718-8A7E-4BDD-A8FC-1A41AF8A3517__GUID-56FEA409-33F1-4B99-92EB-D43DCF410F69">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-BF3AB6EB-BC19-4303-9E02-6466804BA119" title="A job chain is a named series of tasks that are linked together for a combined objective.">Creating and Managing Job Chains</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN12365"></a>
<div class="props_rev_3"><a id="GUID-3CE3AF47-1043-4F21-BA0A-3F30AC359A0C"></a>
<h3 id="ADMIN-GUID-3CE3AF47-1043-4F21-BA0A-3F30AC359A0C" class="sect3"><span class="enumeration_section">28.2.9</span> Job Classes</h3>
<div>
<p>Job classes enable you to assign the same attributes to member jobs, set resource allocation for member jobs, and group jobs for prioritization.</p>
<p>You typically create job classes only when you are in the role of Scheduler administrator.</p>
<p>Job classes provide a way to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Assign the same set of attribute values to member jobs</p>
<p>Each job class specifies a set of attributes, such as logging level. When you assign a job to a job class, the job inherits those attributes. For example, you can specify the same policy for purging log entries for all payroll jobs.</p>
</li>
<li>
<p>Set service affinity for member jobs</p>
<p>You can set the <code class="codeph">service</code> attribute of a job class to a desired database service name. This determines the instances in a Real Application Clusters environment that run the member jobs, and optionally, the system resources that are assigned to member jobs. See <span class="q">&#34;<a href="schedover.htm#GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33" title="The Scheduler enables you to specify the database service under which a job should be run (service affinity).">Service Affinity when Using the Scheduler</a>&#34;</span> for more information.</p>
</li>
<li>
<p>Set resource allocation for member jobs</p>
<p>Job classes provide the link between the Database Resource Manager and the Scheduler, because each job class can specify a resource consumer group as an attribute. Member jobs then belong to the specified consumer group and are assigned resources according to settings in the current resource plan.</p>
<p>Alternatively, you can leave the <code class="codeph">resource_consumer_group</code> attribute <code class="codeph">NULL</code> and set the <code class="codeph">service</code> attribute of a job class to a desired database service name. That service can in turn be mapped to a resource consumer group. If both the <code class="codeph">resource_consumer_group</code> and <code class="codeph">service</code> attributes are set, and the designated service maps to a resource consumer group, the resource consumer group named in the <code class="codeph">resource_consumer_group</code> attribute takes precedence.</p>
<p>See <a href="dbrm.htm#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a> for more information on mapping services to consumer groups.</p>
</li>
<li>
<p>Group jobs for prioritization</p>
<p>Within the same job class, you can assign priority values of 1-5 to individual jobs so that if two jobs in the class are scheduled to start at the same time, the one with the higher priority takes precedence. This ensures that you do not have a less important job preventing the timely completion of a more important one.</p>
<p>If two jobs have the same assigned priority value, the job with the earlier start date takes precedence. If no priority is assigned to a job, its priority defaults to 3.</p>
<div class="infobox-note" id="GUID-3CE3AF47-1043-4F21-BA0A-3F30AC359A0C__GUID-77937041-D4E6-45E9-B369-A600B09A0185">
<p class="notep1">Note:</p>
<p>Job priorities are used only to prioritize among jobs in the same class.</p>
<p>There is no guarantee that a high priority job in class A will be started before a low priority job in class B, even if they share the same schedule. Prioritizing among jobs of different classes depends on the current resource plan and on the designated resource consumer group or service name of each job class.</p>
</div>
</li>
</ul>
<p>When defining job classes, try to classify jobs by functionality. Consider dividing jobs into groups that access similar data, such as marketing, production, sales, finance, and human resources.</p>
<p>Some of the restrictions to keep in mind are:</p>
<ul style="list-style-type: disc;">
<li>
<p>A job must be part of exactly one class. When you create a job, you can specify which class the job is part of. If you do not specify a class, the job automatically becomes part of the class <code class="codeph">DEFAULT_JOB_CLASS</code>.</p>
</li>
<li>
<p>Dropping a class while there are still jobs in that class results in an error. You can force a class to be dropped even if there are still jobs that are members of that class, but all jobs referring to that class are then automatically disabled and assigned to the class <code class="codeph">DEFAULT_JOB_CLASS</code>. Jobs belonging to the dropped class that are already running continue to run under class settings determined at the start of the job.</p>
</li>
</ul>
<div class="infoboxnotealso" id="GUID-3CE3AF47-1043-4F21-BA0A-3F30AC359A0C__GUID-B0EB93CD-6F22-44CC-AD45-1C98EC611D83">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-8E370FA8-5CEE-4354-9EB0-71224C6E4938" title="You create a job class using the CREATE_JOB_CLASS procedure in the DBMS_SCHEDULER package or Cloud Control. Job classes are always created in the SYS schema.">Creating Job Classes</a>&#34;</span></p>
</li>
<li>
<p><a class="olink REFRN20345" target="_blank" href="../REFRN/GUID-BD857073-2A08-4DC1-9FBB-1D404ED8461B.htm#REFRN20345"><span><cite>Oracle Database Reference</cite></span></a> to view job classes</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-21008E86-682F-4375-AA0C-D9A315B086E3"></a>
<h3 id="ADMIN-GUID-21008E86-682F-4375-AA0C-D9A315B086E3" class="sect3"><span class="enumeration_section">28.2.10</span> Windows</h3>
<p>A window is an interval of time to run a job.</p>
<a id="ADMIN13083"></a><a id="ADMIN12366"></a>
<div class="props_rev_3"><a id="GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21"></a>
<h4 id="ADMIN-GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21" class="sect4"><span class="enumeration_section">28.2.10.1</span> About Windows</h4>
<div>
<p>You create windows to automatically start jobs or to change resource allocation among jobs during various time periods of the day, week, and so on. A window is represented by an interval of time with a well-defined beginning and end, such as &#34;from 12am-6am&#34;.</p>
<p>You typically create windows only when you are in the role of Scheduler administrator.</p>
<p>Windows work with job classes to control resource allocation. Each window specifies the resource plan to activate when the window <span class="bold">opens</span> (becomes active), and each job class specifies a resource consumer group or specifies a database service, which can map to a consumer group. A job that runs within a window, therefore, has resources allocated to it according to the consumer group of its job class and the resource plan of the window.</p>
<p><a href="schedover.htm#GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21__BGBGJBBC">Figure 28-2</a> shows a workday that includes two windows. In this configuration, jobs belonging to the job class that links to <code class="codeph">Consumer Group 1</code> get more resources in the morning than in the afternoon. The opposite is true for jobs in the job class that links to <code class="codeph">Consumer Group 2</code>.</p>
<div class="figure" id="GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21__BGBGJBBC">
<p class="titleinfigure">Figure 28-2 Windows help define the resources that are allocated to jobs</p>
<img width="651" height="194" src="img/GUID-43852F49-1792-40D4-A86F-083EEC426398-default.gif" alt="Description of Figure 28-2 follows" title="Description of Figure 28-2 follows"/><br/>
<a href="img_text/GUID-43852F49-1792-40D4-A86F-083EEC426398-print.htm">Description of &#34;Figure 28-2 Windows help define the resources that are allocated to jobs&#34;</a></div>
<!-- class="figure" -->
<p>See <a href="dbrm.htm#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a> for more information on resource plans and consumer groups.</p>
<p>You can assign a priority to each window. If windows overlap, the window with the highest priority is chosen over other windows with lower priorities. The Scheduler automatically opens and closes windows as window start times and end times come and go.</p>
<p>A job can name a window in its <code class="codeph">schedule_name</code> attribute. The Scheduler then starts the job when the window opens. If a window is already open, and a new job is created that points to that window, the new job does not start until the next time the window opens.</p>
<div class="infobox-note" id="GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21__GUID-E32F0491-DBB0-49A3-A1D4-DB51D42DB555">
<p class="notep1">Note:</p>
<p>If necessary, you can temporarily block windows from switching the current resource plan. For more information, see <span class="q">&#34;<a href="dbrm.htm#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="You enable Oracle Database Resource Manager (the Resource Manager) by setting the RESOURCE_MANAGER_PLAN initialization parameter. This parameter specifies the top plan, identifying the plan to be used for the current instance. If no plan is specified with this parameter, the Resource Manager is not enabled.">Enabling Oracle Database Resource Manager and Switching Plans</a>&#34;</span>, or the discussion of the <code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code> package procedure in <a class="olink ARPLS050" target="_blank" href="../ARPLS/d_resmgr.htm#ARPLS050"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.</p>
</div>
<div class="infoboxnotealso" id="GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21__GUID-4E47547D-D123-4A16-ADFD-AC07A077F575">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-4F377D3E-55EC-4552-B291-0061709340CA" title="You can use Cloud Control or the DBMS_SCHEDULER.CREATE_WINDOW procedure to create windows.">Creating Windows</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN12435"></a>
<div class="props_rev_3"><a id="GUID-9B338464-A8C7-4505-A6AA-A305CC33EC34"></a>
<h4 id="ADMIN-GUID-9B338464-A8C7-4505-A6AA-A305CC33EC34" class="sect4"><span class="enumeration_section">28.2.10.2</span> Overlapping Windows</h4>
<div>
<p>Although Oracle does not recommend it, windows can overlap.</p>
<p><span class="bold">Because only one window can be active at one time</span>, the following rules are used to determine which window is active when windows overlap:</p>
<ul style="list-style-type: disc;">
<li>
<p>If windows of the same priority overlap, the window that is active will stay open. However, if the overlap is with a window of higher priority, the lower priority window will close and the window with the higher priority will open. Jobs currently running that had a schedule naming the low priority window may be stopped depending on the behavior you assigned when you created the job.</p>
</li>
<li>
<p>If, at the end of a window, there are multiple windows defined, the window with the highest priority opens. If all windows have the same priority, the window that has the highest percentage of time remaining opens.</p>
</li>
<li>
<p>An open window that is dropped automatically closes. At that point, the previous rule applies.</p>
</li>
</ul>
<p>Whenever two windows overlap, an entry is written in the Scheduler log.</p>
</div>
<a id="ADMIN13101"></a><a id="ADMIN13102"></a><a id="ADMIN12436"></a>
<div class="props_rev_3"><a id="GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E"></a>
<h5 id="ADMIN-GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E" class="sect5"><span class="enumeration_section">28.2.10.2.1</span> Examples of Overlapping Windows</h5>
<div>
<p>Examples illustrate overlapping windows.</p>
<p><a href="schedover.htm#GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E__BGBBCEDF">Figure 28-3</a> illustrates a typical example of how windows, resource plans, and priorities might be determined for a 24 hour schedule. In the following two examples, assume that Window1 has been associated with Resource Plan1, Window2 with Resource Plan2, and so on.</p>
<div class="figure" id="GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E__BGBBCEDF">
<p class="titleinfigure">Figure 28-3 Windows and Resource Plans (Example 1)</p>
<img width="672" height="228" src="img/GUID-AA61896C-E09B-4097-8A43-355EB7D441CA-default.png" alt="Description of Figure 28-3 follows" title="Description of Figure 28-3 follows"/><br/>
<a href="img_text/GUID-AA61896C-E09B-4097-8A43-355EB7D441CA-print.htm">Description of &#34;Figure 28-3 Windows and Resource Plans (Example 1)&#34;</a></div>
<!-- class="figure" -->
<p>In <a href="schedover.htm#GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E__BGBBCEDF">Figure 28-3</a>, the following occurs:</p>
<ul style="list-style-type: disc;">
<li>
<p>From 12AM to 4AM</p>
<p>No windows are open, so a default resource plan is in effect.</p>
</li>
<li>
<p>From 4AM to 6AM</p>
<p>Window1 has been assigned a low priority, but it opens because there are no high priority windows. Therefore, Resource Plan 1 is in effect.</p>
</li>
<li>
<p>From 6AM to 9AM</p>
<p>Window3 will open because it has a higher priority than Window1, so Resource Plan 3 is in effect. The dotted line indicates Window1 is inactive.</p>
</li>
<li>
<p>From 9AM to 11AM</p>
<p>Even though Window1 was closed at 6AM because of a higher priority window opening, at 9AM, this higher priority window is closed and Window1 still has two hours remaining on its original schedule. It will be reopened for these remaining two hours and resource plan will be in effect.</p>
</li>
<li>
<p>From 11AM to 2PM</p>
<p>A default resource plan is in effect because no windows are open.</p>
</li>
<li>
<p>From 2PM to 3PM</p>
<p>Window2 will open so Resource Plan 2 is in effect.</p>
</li>
<li>
<p>From 3PM to 8PM</p>
<p>Window4 is of the same priority as Window2, so it does not interrupt Window2 and Resource Plan 2 is in effect. The dotted line indicates Window4 is inactive.</p>
</li>
<li>
<p>From 8PM to 10PM</p>
<p>Window4 will open so Resource Plan 4 is in effect.</p>
</li>
<li>
<p>From 10PM to 12AM</p>
<p>A default resource plan is in effect because no windows are open.</p>
</li>
</ul>
<p><a href="schedover.htm#GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E__i1010864">Figure 28-4</a> illustrates another example of how windows, resource plans, and priorities might be determined for a 24 hour schedule.</p>
<div class="figure" id="GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E__i1010864">
<p class="titleinfigure">Figure 28-4 Windows and Resource Plans (Example 2)</p>
<img width="620" height="285" src="img/GUID-BB63D206-370B-4D04-9A28-C0FA2BC2C42F-default.gif" alt="Description of Figure 28-4 follows" title="Description of Figure 28-4 follows"/><br/>
<a href="img_text/GUID-BB63D206-370B-4D04-9A28-C0FA2BC2C42F-print.htm">Description of &#34;Figure 28-4 Windows and Resource Plans (Example 2)&#34;</a></div>
<!-- class="figure" -->
<p>In <a href="schedover.htm#GUID-27E6D60E-3B2C-40CB-BFCC-F6570EF8236E__i1010864">Figure 28-4</a>, the following occurs:</p>
<ul style="list-style-type: disc;">
<li>
<p>From 12AM to 4AM</p>
<p>A default resource plan is in effect.</p>
</li>
<li>
<p>From 4AM to 6AM</p>
<p>Window1 has been assigned a low priority, but it opens because there are no high priority windows, so Resource Plan 1 is in effect.</p>
</li>
<li>
<p>From 6AM to 9AM</p>
<p>Window3 will open because it has a higher priority than Window1. Note that Window6 does not open because another high priority window is already in effect.</p>
</li>
<li>
<p>From 9AM to 11AM</p>
<p>At 9AM, Window5 or Window1 are the two possibilities. They both have low priorities, so the choice is made based on which has a greater percentage of its duration remaining. Window5 has a larger percentage of time remaining compared to the total duration than Window1. Even if Window1 were to extend to, say, 11:30AM, Window5 would have 2/3 * 100% of its duration remaining, while Window1 would have only 2.5/7 * 100%, which is smaller. Thus, Resource Plan 5 will be in effect.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-F739F6E5-7A0D-4B56-87A3-A41615A64B24"></a>
<h3 id="ADMIN-GUID-F739F6E5-7A0D-4B56-87A3-A41615A64B24" class="sect3"><span class="enumeration_section">28.2.11</span> Groups</h3>
<p>A group designates a list of Scheduler objects.</p>
<a id="ADMIN13354"></a>
<div class="props_rev_3"><a id="GUID-25434537-0B95-4104-906D-D85AAF4E4086"></a>
<h4 id="ADMIN-GUID-25434537-0B95-4104-906D-D85AAF4E4086" class="sect4"><span class="enumeration_section">28.2.11.1</span> About Groups</h4>
<div>
<p>Instead of passing a list of objects as an argument to a <code class="codeph">DBMS_SCHEDULER</code> package procedure, you create a group that has those objects as its members, and then pass the group name to the procedure.</p>
<p>There are three types of groups:</p>
<ul style="list-style-type: disc;">
<li>
<p>Database destination groups: Members are database destinations, for running remote database jobs.</p>
</li>
<li>
<p>External destination groups: Members are external destinations, for running remote external jobs.</p>
</li>
<li>
<p>Window groups: Members are Scheduler windows.</p>
</li>
</ul>
<p>All members of a group must be of the same type and each member must be unique.</p>
<p>You create a group with the <code class="codeph">DBMS_SCHEDULER.CREATE_GROUP</code> procedure.</p>
</div>
</div>
<a id="ADMIN13355"></a>
<div class="props_rev_3"><a id="GUID-89555FCC-089F-4F47-A1E8-6A2C759647CB"></a>
<h4 id="ADMIN-GUID-89555FCC-089F-4F47-A1E8-6A2C759647CB" class="sect4"><span class="enumeration_section">28.2.11.2</span> Destination Groups</h4>
<div>
<p>When you want a job to run at multiple destinations, you create a database destination group or external destination group and assign it to the <code class="codeph">destination_name</code> attribute of the job.</p>
<p>Specifying a destination group as the <code class="codeph">destination_name</code> attribute of a job is the only valid way to specify multiple destinations for the job.</p>
</div>
</div>
<a id="ADMIN12367"></a>
<div class="props_rev_3"><a id="GUID-F99C0B9B-301D-445E-BB95-6FD3886DDF9F"></a>
<h4 id="ADMIN-GUID-F99C0B9B-301D-445E-BB95-6FD3886DDF9F" class="sect4"><span class="enumeration_section">28.2.11.3</span> Window Groups</h4>
<div>
<p>You can group windows for ease of use in scheduling jobs.</p>
<p>You typically create window groups only when you are in the role of Scheduler administrator.</p>
<p>If a job must run during multiple time periods throughout the day, week, and so on, you can create a window for each time period, and then add the windows to a window group. You can then set the <code class="codeph">schedule_name</code> attribute of the job to the name of this window group, and the job executes during all the time periods specified by the windows in the window group.</p>
<p>For example, if you had a window called &#34;Weekends&#34; and a window called &#34;Weeknights,&#34; you could add these two windows to a window group called &#34;Downtime.&#34; The data warehousing staff could then create a job to run queries according to this Downtime window group&mdash;on weeknights and weekends&mdash;when the queries could be assigned a high percentage of available resources.</p>
<p>If a window in a window group is already open, and a new job is created that points to that window group, the job is not started until the next window in the window group opens.</p>
<div class="infoboxnotealso" id="GUID-F99C0B9B-301D-445E-BB95-6FD3886DDF9F__GUID-CAAEB934-7C9A-4266-AD99-B56A9A1BF976">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-22C73FD5-9D1F-4897-B96E-D3E1311C58F5" title="To create a job that runs on multiple destinations, you must create a destination group and assign that group to the destination_name attribute of the job.">Creating Destination Groups for Multiple-Destination Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-1E440416-C1E3-47CA-ADB6-3D436E3884B9" title="You create a window group by using the DBMS_SCHEDULER.CREATE_GROUP procedure, specifying a group type of &#39;WINDOW&#39;.">Creating Window Groups</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21" title="You create windows to automatically start jobs or to change resource allocation among jobs during various time periods of the day, week, and so on. A window is represented by an interval of time with a well-defined beginning and end, such as &#34;from 12am-6am&#34;.">Windows</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="ADMIN13356"></a>
<div class="props_rev_3"><a id="GUID-CF76D26F-B5E0-4DED-B7EF-380670D0E250"></a>
<h2 id="ADMIN-GUID-CF76D26F-B5E0-4DED-B7EF-380670D0E250" class="sect2"><span class="enumeration_section">28.3</span> More About Jobs</h2>
<div>
<p>There are different types of jobs. A job instance represents a specific run of a job. You can supply job arguments to override the default program argument values.</p>
<div class="infoboxnotealso" id="GUID-CF76D26F-B5E0-4DED-B7EF-380670D0E250__GUID-4C3283DD-C36F-4ABB-BDB7-508CE35FDDD6">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-DC75AC5D-525E-497D-B72C-DD906A735FD9" title="You create jobs using the DBMS_SCHEDULER package or Cloud Control.">Creating Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-90A26490-435F-42C9-ADCB-D3D81AB2E81C" title="You can view information about job runs, job state changes, and job failures in the job log. The job log shows results for both local and remote jobs.">Viewing the Job Log</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
<a id="ADMIN13357"></a>
<div class="props_rev_3"><a id="GUID-4E9245A8-6C1E-498D-B5B3-E7795CCF8847"></a>
<h3 id="ADMIN-GUID-4E9245A8-6C1E-498D-B5B3-E7795CCF8847" class="sect3"><span class="enumeration_section">28.3.1</span> Job Categories</h3>
<p>Oracle Scheduler supports several types of jobs.</p>
<div class="sect4"><a id="GUID-EA48A1D6-2382-4F58-B882-7CD73796E5D4"></a>
<h4 id="ADMIN-GUID-EA48A1D6-2382-4F58-B882-7CD73796E5D4" class="sect4"><span class="enumeration_section">28.3.1.1</span> Database Jobs</h4>
<p><span class="bold">Database jobs</span> run Oracle Database program units. You can run local and remote database jobs.</p>
<a id="ADMIN13358"></a>
<div class="props_rev_3"><a id="GUID-EE262962-38E1-4B35-8549-BA557835A2D8"></a>
<h5 id="ADMIN-GUID-EE262962-38E1-4B35-8549-BA557835A2D8" class="sect5"><span class="enumeration_section">28.3.1.1.1</span> About Database Jobs</h5>
<div>
<p><span class="bold">Database jobs</span> run Oracle Database program units, including PL/SQL anonymous blocks, PL/SQL stored procedures, and Java stored procedures.</p>
<p>For a database job where the action is specified inline, <code class="codeph">job_type</code> is set to <code class="codeph">&#39;PLSQL_BLOCK&#39;</code> or <code class="codeph">&#39;STORED_PROCEDURE&#39;</code>, and <code class="codeph">job_action</code> contains either the text of a PL/SQL anonymous block or the name of a stored procedure. (If a program is a named program object rather than program action specified inline, the corresponding <code class="codeph">program_type</code> and <code class="codeph">program_action</code> must be set accordingly.)</p>
<p>Database jobs that run on the originating database&mdash;the database on which they were created&mdash;are known as <span class="bold">local database jobs</span>, or just jobs. Database jobs that run on a target database other than the originating database are known as <span class="bold">remote database jobs</span>.</p>
<p>You can view run results for both local database and remote database jobs in the job log views on the originating database.</p>
</div>
</div>
<a id="ADMIN13476"></a>
<div class="props_rev_3"><a id="GUID-175E6DE1-020C-4492-B266-40D78685F0F5"></a>
<h5 id="ADMIN-GUID-175E6DE1-020C-4492-B266-40D78685F0F5" class="sect5"><span class="enumeration_section">28.3.1.1.2</span> Local Database Jobs</h5>
<p>A local database job runs on the originating database, as the database user who is the job owner. The job owner is the name of the schema in which the job was created.</p>
</div>
<a id="ADMIN13477"></a>
<div class="props_rev_3"><a id="GUID-03C4C88C-FB2E-4A41-9F12-97E953DE4042"></a>
<h5 id="ADMIN-GUID-03C4C88C-FB2E-4A41-9F12-97E953DE4042" class="sect5"><span class="enumeration_section">28.3.1.1.3</span> Remote Database Job</h5>
<div>
<p>The target database for a remote database job can be an Oracle database on a remote host or another database instance on the same host as the originating database.</p>
<p>You identify a remote database job by specifying the name of an existing database destination object in the <code class="codeph">destination_name</code> attribute of the job.</p>
<p>Creating a remote database job requires Oracle Database 11<span class="italic">g</span> Release 2 (11.2) or later. However, the target database for the job can be any release of Oracle Database. No patch is required for the target database; you only need to install a Scheduler agent on the target database host (even if the target database host is the same as the originating database host) and register the agent with the originating database. The agent must be installed from Oracle Client 11<span class="italic">g</span> Release 2 (11.2) or later.</p>
<p>Remote database jobs must run as a user that is valid on the target database. You specify the required user name and password with a credential object that you assign to the remote database job.</p>
<div class="infoboxnotealso" id="GUID-03C4C88C-FB2E-4A41-9F12-97E953DE4042__GUID-B727B1A0-E184-4256-B042-80E6D6395246">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-2D70512F-BBAE-4087-B341-D2AF87A3C71C" title="Credentials are user name and password pairs stored in a dedicated database object.">Credentials</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-DC75AC5D-525E-497D-B72C-DD906A735FD9" title="You create jobs using the DBMS_SCHEDULER package or Cloud Control.">Creating Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="The Oracle Scheduler agent can schedule and run remote jobs.">Using the Oracle Scheduler Agent to Run Remote Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-90A26490-435F-42C9-ADCB-D3D81AB2E81C" title="You can view information about job runs, job state changes, and job failures in the job log. The job log shows results for both local and remote jobs.">Viewing the Job Log</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-B695EB54-A15C-4658-AF4E-B0A19CEBD954"></a>
<h4 id="ADMIN-GUID-B695EB54-A15C-4658-AF4E-B0A19CEBD954" class="sect4"><span class="enumeration_section">28.3.1.2</span> External Jobs</h4>
<p>External jobs run executables outside of the database. You can run local and remote external jobs.</p>
<a id="ADMIN13359"></a>
<div class="props_rev_3"><a id="GUID-D49E0D7C-3CA6-41B7-9D48-99DBA26D44E8"></a>
<h5 id="ADMIN-GUID-D49E0D7C-3CA6-41B7-9D48-99DBA26D44E8" class="sect5"><span class="enumeration_section">28.3.1.2.1</span> About External Jobs</h5>
<div>
<p><span class="bold">External jobs</span> run external executables. An <span class="bold">external executable</span> is an operating system executable that runs outside the database, that is, external to the database.</p>
<p>For an external job, <code class="codeph">job_type</code> is specified as <code class="codeph">&#39;EXECUTABLE&#39;</code>. (If using named programs, the corresponding <code class="codeph">program_type</code> would be <code class="codeph">&#39;EXECUTABLE&#39;</code>.) The <code class="codeph">job_action</code> (or corresponding <code class="codeph">program_action</code>) is the full operating system&ndash;dependent path of the desired external executable, excluding any command line arguments. An example might be <code class="codeph">/usr/local/bin/perl</code> or <code class="codeph">C:\perl\bin\perl</code>.</p>
<p>Note that a Windows batch file is not directly executable and must be run a command prompt (<code class="codeph">cmd.exe</code>).</p>
<p>Like a database job, you can assign a schema when you create the external job. That schema then becomes the job owner. Although it is possible to create an external job in the <code class="codeph">SYS</code> schema, Oracle recommends against this practice.</p>
<p>Both the <code class="codeph">CREATE</code> <code class="codeph">JOB</code> and <code class="codeph">CREATE</code> <code class="codeph">EXTERNAL</code> <code class="codeph">JOB</code> privileges are required to create local or remote external jobs.</p>
<p>External executables must run as some operating system user. Thus, the Scheduler enables you to assign operating system credentials to any external job that you create. Like remote database jobs, you specify these credentials with a credential object (a credential) and assign the credential to the external job.</p>
<p>There are two types of external jobs: local external jobs and remote external jobs. A <span class="bold">local external job</span> runs its external executable on the same computer as the database that schedules the job. A <span class="bold">remote external job</span> runs its executable on a remote host. The remote host does not need to have an Oracle database; you need only install and register a Scheduler agent.</p>
<div class="infobox-note" id="GUID-D49E0D7C-3CA6-41B7-9D48-99DBA26D44E8__GUID-A2B79CC1-2798-44B7-99AE-54D96F11BD94">
<p class="notep1">Note:</p>
<p>On Windows, the host user that runs the external executable must be assigned the <code class="codeph">Log</code> <code class="codeph">on</code> <code class="codeph">as</code> <code class="codeph">a</code> <code class="codeph">batch</code> <code class="codeph">job</code> logon privilege.</p>
</div>
<div class="infoboxnotealso" id="GUID-D49E0D7C-3CA6-41B7-9D48-99DBA26D44E8__GUID-9DA6D9AE-1B01-4252-BA2B-735231A52D46">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-2D70512F-BBAE-4087-B341-D2AF87A3C71C" title="Credentials are user name and password pairs stored in a dedicated database object.">Credentials</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="The Oracle Scheduler agent can schedule and run remote jobs.">Using the Oracle Scheduler Agent to Run Remote Jobs</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13361"></a><a id="ADMIN13360"></a>
<div class="props_rev_3"><a id="GUID-448C0850-9A3B-4CEA-9150-8614170E92B5"></a>
<h5 id="ADMIN-GUID-448C0850-9A3B-4CEA-9150-8614170E92B5" class="sect5"><span class="enumeration_section">28.3.1.2.2</span> About Local External Jobs</h5>
<div>
<p>A local external job runs its external executable on the same computer as the Oracle database that schedules the job. For such a job, the <code class="codeph">destination_name</code> job attribute is <code class="codeph">NULL</code>.</p>
<p>Local external jobs write stdout and stderr output to log files in the directory <span class="italic">ORACLE_HOME</span>/scheduler/log. You can retrieve the contents of these files with <code class="codeph">DBMS_SCHEDULER.GET_FILE</code>.</p>
<p>You do not have to assign a credential to a local external job, although Oracle strongly recommends that you do so for improved security. If you do not assign a credential, the job runs with default credentials. <a href="schedover.htm#GUID-448C0850-9A3B-4CEA-9150-8614170E92B5__CHDFEJDG" title="This table has three rows and three columns. The columns are labeled SYS Schema?, Platform, and Credentials Used.">Table 28-1</a> shows the default credentials for different platforms and different job owners.</p>
<div class="tblformal" id="GUID-448C0850-9A3B-4CEA-9150-8614170E92B5__CHDFEJDG">
<p class="titleintable">Table 28-1 Default Credentials for Local External Jobs</p>
<table class="cellalignment1849" title="Default Credentials for Local External Jobs" summary="This table has three rows and three columns. The columns are labeled SYS Schema?, Platform, and Credentials Used.">
<thead>
<tr class="cellalignment1843">
<th class="cellalignment1897" id="d206403e3762">Job in SYS Schema?</th>
<th class="cellalignment1897" id="d206403e3765">Platform</th>
<th class="cellalignment1883" id="d206403e3768">Default Credentials</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d206403e3773" headers="d206403e3762">
<p>Yes</p>
</td>
<td class="cellalignment1899" headers="d206403e3773 d206403e3765">
<p>All</p>
</td>
<td class="cellalignment1886" headers="d206403e3773 d206403e3768">
<p>User who installed Oracle Database.</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d206403e3783" headers="d206403e3762">
<p>No</p>
</td>
<td class="cellalignment1899" headers="d206403e3783 d206403e3765">
<p>UNIX and Linux</p>
</td>
<td class="cellalignment1886" headers="d206403e3783 d206403e3768">
<p>Values of the <code class="codeph">run-user</code> and <code class="codeph">run-group</code> attributes specified in the file <span class="italic">ORACLE_HOME</span>/rdbms/admin/externaljob.ora</p>
</td>
</tr>
<tr class="cellalignment1843">
<td class="cellalignment1899" id="d206403e3802" headers="d206403e3762">
<p>No</p>
</td>
<td class="cellalignment1899" headers="d206403e3802 d206403e3765">
<p>Windows</p>
</td>
<td class="cellalignment1886" headers="d206403e3802 d206403e3768">
<p>User that the <code class="codeph">OracleJobScheduler</code><span class="italic"><code class="codeph">SID</code></span> Windows service runs as (either the Local System account or a named local or domain user).</p>
<p>Note: You must manually enable and start this service. For improved security, Oracle recommends using a named user instead of the Local System account.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infobox-note" id="GUID-448C0850-9A3B-4CEA-9150-8614170E92B5__GUID-864D336A-B69B-42B8-A00D-27766C59BBDB">
<p class="notep1">Note:</p>
<p>Default credentials are included for compatibility with previous releases of Oracle Database, and may be deprecated in a future release. It is, therefore, best to assign a credential to every local external job.</p>
</div>
<p>To disable the running of local external jobs that were not assigned credentials, remove the <code class="codeph">run_user</code> attribute from the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/rdbms/admin/externaljob.ora</code> file (UNIX and Linux) or stop the <code class="codeph">OracleJobScheduler</code> service (Windows). These steps do not disable the running of local external jobs in the <code class="codeph">SYS</code> schema.</p>
<div class="infoboxnotealso" id="GUID-448C0850-9A3B-4CEA-9150-8614170E92B5__GUID-9DABF12A-85C9-4EE5-B1F5-C812EDF430F7">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p>Your operating system&ndash;specific documentation for any post-installation configuration steps to support local external jobs</p>
</li>
<li>
<p><a href="scheduse.htm#GUID-5E28E1EF-CB55-49AE-B7C0-91CE6167D67C__CHDIDGAE">Example 29-6</a></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13362"></a>
<div class="props_rev_3"><a id="GUID-B6867333-AF08-4B4F-9CA4-05E39761D8A3"></a>
<h5 id="ADMIN-GUID-B6867333-AF08-4B4F-9CA4-05E39761D8A3" class="sect5"><span class="enumeration_section">28.3.1.2.3</span> About Remote External Jobs</h5>
<div>
<p>A remote external job runs its external executable on a remote host. The remote host may or may not have Oracle Database installed.</p>
<p>To enable remote external jobs to run on a specific remote host, you must install a Scheduler agent on the remote host and register it with the local database. The database communicates with the agent to start external executables and to retrieve execution results.</p>
<p>When creating a remote external job, you specify the name of an existing external destination object in the <code class="codeph">destination_name</code> attribute of the job.</p>
<p>Remote external jobs write stdout and stderr output to log files in the directory <span class="italic">AGENT_HOME</span>/data/log. You can retrieve the contents of these files with <code class="codeph">DBMS_SCHEDULER.GET_FILE</code>. <a href="scheduse.htm#GUID-5E28E1EF-CB55-49AE-B7C0-91CE6167D67C__CHDIDGAE">Example 29-6</a> illustrates how to retrieve stdout output. Although this example is for a local external job, the method is the same for remote external jobs.</p>
<div class="infoboxnotealso" id="GUID-B6867333-AF08-4B4F-9CA4-05E39761D8A3__GUID-3F5796DA-BD63-4A6D-97DC-685ED03D49ED">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-2D70512F-BBAE-4087-B341-D2AF87A3C71C" title="Credentials are user name and password pairs stored in a dedicated database object.">Credentials</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-73A41E67-CF87-458E-9FA8-157349AA4E3A" title="The Oracle Scheduler agent can schedule and run remote jobs.">Using the Oracle Scheduler Agent to Run Remote Jobs</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADMIN13364"></a><a id="ADMIN13365"></a><a id="ADMIN13363"></a>
<div class="props_rev_3"><a id="GUID-6834E451-C8C9-425E-A93D-264733E36A76"></a>
<h4 id="ADMIN-GUID-6834E451-C8C9-425E-A93D-264733E36A76" class="sect4"><span class="enumeration_section">28.3.1.3</span> Multiple-Destination Jobs</h4>
<div>
<p>A multiple-destination job is a job whose instances run on multiple target databases or hosts, but can be controlled and monitored from one central database.</p>
<p>For DBAs or system administrators who must manage multiple databases or multiple hosts, a multiple-destination job can make administration considerably easier. With a multiple-destination job, you can:</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify several databases or hosts on which a job must run.</p>
</li>
<li>
<p>Modify a job that is scheduled on multiple targets with a single operation.</p>
</li>
<li>
<p>Stop jobs running on one or more remote targets.</p>
</li>
<li>
<p>Determine the status (running, completed, failed, and so on) of the job instance at each of the remote targets.</p>
</li>
<li>
<p>Determine the overall status of the collection of job instances.</p>
</li>
</ul>
<p>A multiple-destination job can be viewed as a single entity for certain purposes and as a collection of independently running jobs for other purposes. When creating or altering the job metadata, the multiple-destination job looks like a single entity. However, when the job instances are running, they are better viewed as a collection of jobs that are nearly identical copies of each other. The job created at the source database is known as the <span class="bold">parent job</span>, and the job instances that run at the various destinations are known as <span class="bold">child jobs</span>.</p>
<p>You create a multiple-destination job by assigning a destination group to the <code class="codeph">destination_name</code> attribute of the job. The job runs at all destinations in the group at its scheduled time, or upon the detection of a specified event. The local host can be included as one of the destinations on which the job runs.</p>
<p>For a job whose action is a database program unit, you must specify a database destination group in the <code class="codeph">destination_name</code> attribute. The members of a database destination group include database destinations and the keyword <code class="codeph">LOCAL</code>, which indicates the originating (local) database. For a job whose action is an external executable, you must specify an external destination group in the <code class="codeph">destination_name</code> attribute. The members of an external destination group include external destinations and the keyword <code class="codeph">LOCAL</code>, which indicates the local host.</p>
<div class="infobox-note" id="GUID-6834E451-C8C9-425E-A93D-264733E36A76__GUID-2A3E81E6-13C6-4396-B0DC-7EFF9B5DA29D">
<p class="notep1">Note:</p>
<p>Database destinations do not necessarily have to reference remote databases; they can reference additional database instances running on the same host as the database that creates the job.</p>
</div>
<div class="section">
<p class="subhead3">Multiple-Destination Jobs and Time Zones</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Some job destinations might be in time zones that are different from that of the database on which the parent job is created (the <span class="italic">originating database</span>). In this case, the start time of the job is always based on the time zone of the originating database. So, if you create the parent job in London, England, specify a start time of 8:00 p.m., and specify destinations at Tokyo, Los Angeles, and New York, then all child jobs start at 8:00 p.m. London time. Start times at all destinations may not be exact, due to varying system loads, issues that require retries, and so on.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Event-Based Multiple-Destination Jobs</p>
</div>
<!-- class="section" -->
<div class="section">
<p>In the case of a multiple-destination job that is event-based, when the parent job detects the event at its host, it starts all the child jobs at all destinations. The child jobs themselves do not detect events at their respective hosts.</p>
<div class="infoboxnotealso" id="GUID-6834E451-C8C9-425E-A93D-264733E36A76__GUID-5F0896E6-3D39-4831-A519-F958492A353C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-480E01D8-F3E9-444F-B768-AB39C4144562" title="You can create a job that runs on multiple destinations, but that is managed from a single location.">Creating Multiple-Destination Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-9B29C60A-DF63-4011-8633-BEBC4FD0FC48" title="For multiple-destination jobs, the overall parent job state depends on the outcome of the child jobs.">Monitoring Multiple Destination Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-89555FCC-089F-4F47-A1E8-6A2C759647CB" title="When you want a job to run at multiple destinations, you create a database destination group or external destination group and assign it to the destination_name attribute of the job.">Destination Groups</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-31F260EA-48D0-470A-B66D-E906BA50CAD5" title="Oracle Scheduler can start a job when an event is sent. An event is a message one application or system process sends to another.">Using Events to Start Jobs</a> &#34;</span></p>
</li>
</ul>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="ADMIN13366"></a>
<div class="props_rev_3"><a id="GUID-2865564D-C0BD-4B20-A4EC-43B686B480A5"></a>
<h4 id="ADMIN-GUID-2865564D-C0BD-4B20-A4EC-43B686B480A5" class="sect4"><span class="enumeration_section">28.3.1.4</span> Chain Jobs</h4>
<div>
<p>The <span class="bold">chain</span> is the Scheduler mechanism that enables dependency-based scheduling.</p>
<p>In its simplest form, it defines a group of program objects and the dependencies among them. A job can point to a chain instead of pointing to a single program object. The job then serves to start the chain. For a chain job, <code class="codeph">job_type</code> is set to <code class="codeph">&#39;CHAIN&#39;</code>.</p>
<div class="infoboxnotealso" id="GUID-2865564D-C0BD-4B20-A4EC-43B686B480A5__GUID-A399F202-C561-411A-9DB0-7A13AD3B44AD">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="schedover.htm#GUID-FE177718-8A7E-4BDD-A8FC-1A41AF8A3517" title="Chains are the means by which you can implement dependency scheduling, in which job starts depend on the outcomes of one or more previous jobs.">Chains</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-BF3AB6EB-BC19-4303-9E02-6466804BA119" title="A job chain is a named series of tasks that are linked together for a combined objective.">Creating and Managing Job Chains</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13367"></a>
<div class="props_rev_3"><a id="GUID-E4FA9A50-FC8B-4427-8293-A0F457C13161"></a>
<h4 id="ADMIN-GUID-E4FA9A50-FC8B-4427-8293-A0F457C13161" class="sect4"><span class="enumeration_section">28.3.1.5</span> Detached Jobs</h4>
<div>
<p>You use a detached job to start a script or application that runs in a separate process, independently and asynchronously to the Scheduler.</p>
<p>A detached job typically starts another process and then exits. Upon exit (when the job action is completed) a detached job remains in the running state. The running state indicates that the asynchronous process that the job started is still active. When the asynchronous process finishes its work, it must connect to the database and call <code class="codeph">DBMS_SCHEDULER</code>.<code class="codeph">END_DETACHED_JOB_RUN</code>, which ends the job.</p>
<p>Detached jobs cannot be executed using <code class="codeph">run_job</code> to manually trigger execution, when the <code class="codeph">use_current_session</code> parameter set to <code class="codeph">TRUE</code>.</p>
<p>A job is detached if it points to a program object (program) that has its <code class="codeph">detached</code> attribute set to <code class="codeph">TRUE</code> (a <span class="bold">detached program</span>).</p>
<p>You use a detached job under the following two circumstances:</p>
<ul style="list-style-type: disc;">
<li>
<p>When it is impractical to wait for the launched asynchronous process to complete because would hold resources unnecessarily.</p>
<p>An example is sending a request to an asynchronous Web service. It could take hours or days for the Web service to respond, and you do not want to hold a Scheduler job slave while waiting for the response. (See <span class="q">&#34;<a href="schedover.htm#GUID-0FF14472-12EF-41F2-A59C-6FC1CEC27736" title="Scheduler components include the job table, the job coordinator, and job slaves.">Scheduler Architecture</a>&#34;</span> for information about job slaves.)</p>
</li>
<li>
<p>When it is impossible to wait for the launched asynchronous process to complete because the process shuts down the database.</p>
<p>An example would be using a Scheduler job to launch an RMAN script that shuts down the database, makes a cold backup, and then restarts the database. See <span class="q">&#34;<a href="scheduse.htm#GUID-84816118-1206-4386-B944-1E114C3EB714" title="A detached job must point to a program object (program) that has its detached attribute set to TRUE.">Creating Detached Jobs</a>.&#34;</span></p>
</li>
</ul>
<p>A detached job works as follows:</p>
<ol>
<li>
<p>When it is time for the job to start, the job coordinator assigns a job slave to the job, and the job slave runs the program action defined in the detached program. The program action can be a PL/SQL block, a stored procedure, or an external executable.</p>
</li>
<li>
<p>The program action performs an immediate-return call of another script or executable, referred to here as Process A, and then exits. Because the work of the program action is complete, the job slave exits, but leaves the job in a running state.</p>
</li>
<li>
<p>Process A performs its processing. If it runs any DML against the database, it must commit its work. When processing is complete, Process A logs in to the database and calls <code class="codeph">END_DETACHED_JOB_RUN</code>.</p>
</li>
<li>
<p>The detached job is logged as completed.</p>
</li>
</ol>
<p>You can also call <code class="codeph">STOP_JOB</code> to end a running detached job.</p>
<div class="infoboxnotealso" id="GUID-E4FA9A50-FC8B-4427-8293-A0F457C13161__GUID-4C6B3568-9EAD-46A6-BE1E-F062470EE43D">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-84816118-1206-4386-B944-1E114C3EB714" title="A detached job must point to a program object (program) that has its detached attribute set to TRUE.">Creating Detached Jobs</a>&#34;</span> for an example of performing a cold backup of the database with a detached job</p>
</div>
</div>
</div>
<a id="ADMIN12673"></a><a id="ADMIN13368"></a>
<div class="props_rev_3"><a id="GUID-4529B212-84F4-4C93-9D6C-00B7917D1B42"></a>
<h4 id="ADMIN-GUID-4529B212-84F4-4C93-9D6C-00B7917D1B42" class="sect4"><span class="enumeration_section">28.3.1.6</span> Lightweight Jobs</h4>
<div>
<p>Use lightweight jobs when you have many short-duration jobs that run frequently. Under certain circumstances, using lightweight jobs can deliver a small performance gain.</p>
<p>Lightweight jobs have the following characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>Unlike regular jobs, they are not schema objects.</p>
</li>
<li>
<p>They have significantly better create and drop times over regular jobs because they do not have the overhead of creating a schema object.</p>
</li>
<li>
<p>They have lower average session create time than regular jobs.</p>
</li>
<li>
<p>They have a small footprint on disk for job metadata and run-time data.</p>
</li>
</ul>
<p>You designate a lightweight job by setting the <code class="codeph">job_style</code> job attribute to &#39;<code class="codeph">LIGHTWEIGHT</code>&#39;. The other job styles is &#39;<code class="codeph">REGULAR</code>&#39;, which is the default</p>
<p>Before Oracle Database 11<span class="italic">g</span> Release 1 (11.1), the only job style supported by the Scheduler was regular.</p>
<p>Like programs and schedules, regular jobs are schema objects. A regular job offers the maximum flexibility but does entail some overhead when it is created or dropped. The user has fine-grained control of the privileges on the job, and the job can have as its action a program or a stored procedure owned by another user.</p>
<p>If a relatively small number of jobs that run infrequently need to be created, then regular jobs are preferred over lightweight jobs.</p>
<p>A lightweight job must reference a program object (program) to specify a job action. The program must be already enabled when the lightweight job is created, and the program type must be either &#39;<code class="codeph">PLSQL_BLOCK</code>&#39; or &#39;<code class="codeph">STORED_PROCEDURE</code>&#39;. Because lightweight jobs are not schema objects, you cannot grant privileges on them. A lightweight job inherits privileges from its specified program. Thus, any user who has a certain set of privileges on the program has corresponding privileges on the lightweight job.</p>
<div class="infoboxnotealso" id="GUID-4529B212-84F4-4C93-9D6C-00B7917D1B42__GUID-CC4382DC-B837-40B5-B952-735B71618E45">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-EB91A776-F882-4903-BABB-A0E091091796" title="You can create jobs using named programs and job styles. There are two job styles, &#39;REGULAR&#39; and &#39;LIGHTWEIGHT&#39;.">Creating Jobs Using a Named Program and Job Styles</a>&#34;</span></p>
</div>
</div>
</div>
<a id="ADMIN14011"></a>
<div class="props_rev_3"><a id="GUID-7072B693-A7CD-4D59-97B8-C25EFB4A2C63"></a>
<h4 id="ADMIN-GUID-7072B693-A7CD-4D59-97B8-C25EFB4A2C63" class="sect4"><span class="enumeration_section">28.3.1.7</span> Script Jobs</h4>
<div>
<p>Beginning with Oracle Database 12<span class="italic">c</span>, you can use several new script jobs to run custom user scripts with SQL*Plus, the RMAN interpreter, or a command shell such as <code class="codeph">cmd.exe</code> for Windows and the <code class="codeph">sh</code> shell or another interpreter for UNIX based systems.</p>
<p>These executables all require OS credentials. These script jobs are:</p>
<ul style="list-style-type: disc;">
<li>
<p>SQL Script Jobs: Requires a database destination.</p>
<p>SQL script jobs use the SQL*Plus interpreter to run Scheduler jobs. Therefore, you can now use all SQL*Plus features, including query output formatting.</p>
<p>In order to connect to the database after spawning, SQL script jobs need an authentication step. Users can authenticate inline, in the job action, or using the <code class="codeph">connect_credential</code> functionality provided by the Scheduler. To use the <code class="codeph">connect_credential</code> functionality, the user sets the <code class="codeph">connect_credential_name</code> attribute of a job. Then, the job attempts to connect to the database using the username, password, and role of that <code class="codeph">connect_credential.</code></p>
</li>
<li>
<p>External Script Jobs: requires a normal destination</p>
<p>External script jobs spawn a new shell interpreter, allowing a simple way to run command line scripts.</p>
</li>
<li>
<p>Backup Script Jobs: Requires a database destination.</p>
<p>Backup script jobs provide a more direct way to specify RMAN scripts that create and execute backup tasks.</p>
<p>In order to connect to the database after spawning, backup script jobs need an authentication step. Users can authenticate inline, in the job action, or using the <code class="codeph">connect_credential</code> functionality provided by the Scheduler. To use the <code class="codeph">connect_credential</code> functionality, the user sets the <code class="codeph">connect_credential_name</code> attribute of a job. Then, the job attempts to connect to the database using the username, password, and role of that <code class="codeph">connect_credential.</code></p>
</li>
</ul>
<p>Note that job or program actions must point to an appropriate script for each interpreter or have an appropriate inline script. For further details, see the <code class="codeph">job_action</code> parameters for the <code class="codeph">CREATE_JOB</code> subprogram or the <code class="codeph">program_action</code> parameters for the <code class="codeph">CREATE_PROGRAM</code> subprogram.</p>
<div class="infoboxnotealso" id="GUID-7072B693-A7CD-4D59-97B8-C25EFB4A2C63__GUID-678858E2-6666-4107-8CA1-7766C411577F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ARPLS72301" target="_blank" href="../ARPLS/d_sched.htm#ARPLS72301"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for the CREATE_JOB parameters</p>
</li>
<li>
<p><a class="olink ARPLS72307" target="_blank" href="../ARPLS/d_sched.htm#ARPLS72307"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for CREATE_PROGRAM parameters</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<a id="ADMIN13369"></a>
<div class="props_rev_3"><a id="GUID-51905843-08CB-4D24-A1B9-974BE1C2C588"></a>
<h3 id="ADMIN-GUID-51905843-08CB-4D24-A1B9-974BE1C2C588" class="sect3"><span class="enumeration_section">28.3.2</span> Job Instances</h3>
<div>
<p>A job instance represents a specific run of a job. Jobs that are scheduled to run only once have only one instance. Jobs that have a repeating schedule or that run each time an event occurs have multiple instances, each run of the job representing an instance.</p>
<p>For example, a job that is scheduled to run only on Tuesday, Oct. 8th 2009 has one instance, a job that runs daily at noon for a week has seven instances, and a job that runs when a file arrives on a remote system has one instance for each file arrival event.</p>
<p>Multiple-destination jobs have one instance for each destination. If a multiple-destination job has a repeating schedule, then there is one instance for each run of the job at each destination.</p>
<p>When a job is created, only one entry is added to the Scheduler&#39;s job table to represent the job. Depending on the logging level set, each time the job runs, an entry is added to the job log. Therefore, if you create a job that has a repeating schedule, there is one entry in the job views (<code class="codeph">*_SCHEDULER_JOBS</code>) and multiple entries in the job log. Each job instance log entry provides information about a particular run, such as the job completion status and the start and end time. Each run of the job is assigned a unique log id that appears in both the job log and job run details views (<code class="codeph">*_SCHEDULER_JOB_LOG</code> and <code class="codeph">*_SCHEDULER_JOB_RUN_DETAILS</code>).</p>
<div class="infoboxnotealso" id="GUID-51905843-08CB-4D24-A1B9-974BE1C2C588__GUID-B0046AF3-C7DE-4114-A563-8CB843E92E4C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-4FA73AB9-08BB-442C-AD2E-C4C4DEE58863" title="There are several ways to monitor Scheduler jobs.">Monitoring Jobs</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" title="You can query a set of views for information about Scheduler.">Scheduler Data Dictionary Views</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13370"></a>
<div class="props_rev_3"><a id="GUID-64E279FF-0560-44EA-B189-338BDFC427AC"></a>
<h3 id="ADMIN-GUID-64E279FF-0560-44EA-B189-338BDFC427AC" class="sect3"><span class="enumeration_section">28.3.3</span> Job Arguments</h3>
<div>
<p>When a job references a program object (program), you can supply job arguments to override the default program argument values, or provide values for program arguments that have no default value. You can also provide argument values to an inline action (for example, a stored procedure) that the job specifies.</p>
<p>A job cannot be enabled until all required program argument values are defined, either as defaults in a referenced program object, or as job arguments.</p>
<p>A common example of a job is one that runs a set of nightly reports. If different departments require different reports, you can create a program for this task that can be shared among different users from different departments. The program action runs a reports script, and the program has one argument: the department number. Each user can then create a job that points to this program and can specify the department number as a job argument.</p>
<div class="infoboxnotealso" id="GUID-64E279FF-0560-44EA-B189-338BDFC427AC__GUID-4E8D56B6-6961-4679-9324-BBC4D953C93C">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-B20C6C61-66B3-4A8D-8AA6-A160291110D6" title="To set job arguments, use the SET_JOB_ARGUMENT_VALUE or SET_JOB_ANYDATA_VALUE procedures or Cloud Control. SET_JOB_ANYDATA_VALUE is used for complex data types that cannot be represented as a VARCHAR2 string.">Setting Job Arguments</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-D5F752A0-E00F-4F16-908A-974CE63588F1" title="After creating a program, you can define program arguments.">Defining Program Arguments</a>&#34;</span></p>
</li>
<li>
<p><span class="q">&#34;<a href="scheduse.htm#GUID-DC75AC5D-525E-497D-B72C-DD906A735FD9" title="You create jobs using the DBMS_SCHEDULER package or Cloud Control.">Creating Jobs</a>&#34;</span></p>
</li>
</ul>
</div>
</div>
</div>
<a id="ADMIN13372"></a><a id="ADMIN13371"></a>
<div class="props_rev_3"><a id="GUID-FC35C79A-E99F-4FC2-B1C6-D85100A6C747"></a>
<h3 id="ADMIN-GUID-FC35C79A-E99F-4FC2-B1C6-D85100A6C747" class="sect3"><span class="enumeration_section">28.3.4</span> How Programs, Jobs, and Schedules are Related</h3>
<div>
<p>To define what is executed and when, you assign relationships among programs, jobs, and schedules.</p>
<p><a href="schedover.htm#GUID-FC35C79A-E99F-4FC2-B1C6-D85100A6C747__CHDGHEHB">Figure 28-5</a> illustrates examples of such relationships.</p>
<div class="figure" id="GUID-FC35C79A-E99F-4FC2-B1C6-D85100A6C747__CHDGHEHB">
<p class="titleinfigure">Figure 28-5 Relationships Among Programs, Jobs, and Schedules</p>
<img width="594" height="279" src="img/GUID-E6506F02-F50F-4D70-839E-016B4A1F0688-default.gif" alt="Description of Figure 28-5 follows" title="Description of Figure 28-5 follows"/><br/>
<a href="img_text/GUID-E6506F02-F50F-4D70-839E-016B4A1F0688-print.htm">Description of &#34;Figure 28-5 Relationships Among Programs, Jobs, and Schedules&#34;</a></div>
<!-- class="figure" -->
<p>To understand <a href="schedover.htm#GUID-FC35C79A-E99F-4FC2-B1C6-D85100A6C747__CHDGHEHB">Figure 28-5</a>, consider a situation where tables are being analyzed. In this example, program <code class="codeph">P1</code> analyzes a table using the <code class="codeph">DBMS_STATS</code> package. The program has an input parameter for the table name. Two jobs, <code class="codeph">J1</code> and <code class="codeph">J2</code>, both point to the same program, but each supplies a different table name. Additionally, schedule <code class="codeph">S1</code> specifies a run time of 2:00 a.m. every day. The end result is that the two tables named in <code class="codeph">J1</code> and <code class="codeph">J2</code> are analyzed daily at 2:00 a.m.</p>
<p>Note that <code class="codeph">J4</code> points to no other entity, so it is self-contained with all relevant information defined in the job itself. <code class="codeph">P2</code>, <code class="codeph">P9</code> and <code class="codeph">S2</code> illustrate that you can leave a program or schedule unassigned if you want. You can, for example, create a program that calculates a year-end inventory and temporarily leave it unassigned to any job.</p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-36F507E5-FC70-4634-9AEE-EACDDDF54678"></a>
<h2 id="ADMIN-GUID-36F507E5-FC70-4634-9AEE-EACDDDF54678" class="sect2"><span class="enumeration_section">28.4</span> Scheduler Architecture</h2>
<p>Scheduler components handle jobs.</p>
<a id="ADMIN13084"></a><a id="ADMIN12374"></a>
<div class="props_rev_3"><a id="GUID-0FF14472-12EF-41F2-A59C-6FC1CEC27736"></a>
<h3 id="ADMIN-GUID-0FF14472-12EF-41F2-A59C-6FC1CEC27736" class="sect3"><span class="enumeration_section">28.4.1</span> Scheduler Components</h3>
<div>
<p>Scheduler components include the job table, the job coordinator, and job slaves.</p>
<p><a href="schedover.htm#GUID-0FF14472-12EF-41F2-A59C-6FC1CEC27736__i1006800">Figure 28-6</a> illustrates how jobs are handled by the database.</p>
<div class="figure" id="GUID-0FF14472-12EF-41F2-A59C-6FC1CEC27736__i1006800">
<p class="titleinfigure">Figure 28-6 Scheduler Components</p>
<img width="222" height="282" src="img/GUID-3D4F93A5-22DC-4B74-8243-E1A6D9971440-default.gif" alt="Description of Figure 28-6 follows" title="Description of Figure 28-6 follows"/><br/>
<a href="img_text/GUID-3D4F93A5-22DC-4B74-8243-E1A6D9971440-print.htm">Description of &#34;Figure 28-6 Scheduler Components&#34;</a></div>
<!-- class="figure" --></div>
</div>
<a id="ADMIN12375"></a>
<div class="props_rev_3"><a id="GUID-A8EF08FC-F5AC-45BA-86B3-EF534ED3936A"></a>
<h3 id="ADMIN-GUID-A8EF08FC-F5AC-45BA-86B3-EF534ED3936A" class="sect3"><span class="enumeration_section">28.4.2</span> The Job Table</h3>
<div>
<p>The job table is a container for all the jobs, with one table for each database. The job table stores information for all jobs such as the owner name or the level of logging. You can find this information in the <code class="codeph">*_SCHEDULER_JOBS</code> views.</p>
<p>Jobs are database objects, and therefore, can accumulate and take up too much space. To avoid this, job objects are automatically dropped by default after completion. This behavior is controlled by the <code class="codeph">auto_drop</code> job attribute.</p>
<p>See <span class="q">&#34;<a href="schedadmin.htm#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" title="You can query a set of views for information about Scheduler.">Scheduler Data Dictionary Views</a>&#34;</span> for the available job views and administration.</p>
</div>
</div>
<div class="sect3"><a id="GUID-DA00042E-6F18-44D8-8EE0-CE114CCE228C"></a>
<h3 id="ADMIN-GUID-DA00042E-6F18-44D8-8EE0-CE114CCE228C" class="sect3"><span class="enumeration_section">28.4.3</span> The Job Coordinator</h3>
<p>The job coordinator starts job slaves.</p>
<a id="ADMIN12376"></a>
<div class="props_rev_3"><a id="GUID-034DCB5D-E4B8-4EC8-89BD-E22F1846F5AD"></a>
<h4 id="ADMIN-GUID-034DCB5D-E4B8-4EC8-89BD-E22F1846F5AD" class="sect4"><span class="enumeration_section">28.4.3.1</span> About The Job Coordinator</h4>
<div>
<p>The job coordinator, under the control of the database, controls and starts job slaves, making use of the information in the job table.</p>
<p>The job coordinator background process (<code class="codeph">cjqNNN</code>) starts automatically and stops on an as-needed basis. At database startup, the job coordinator is not started, but the database does monitor whether there are any jobs to be executed, or windows to be opened in the near future. If so, it starts the coordinator.</p>
<p>As long as there are jobs or windows running, the coordinator continues to run. After there has been a certain period of Scheduler inactivity and there are no jobs or windows scheduled in the near future, the coordinator is automatically stopped.</p>
<p>When the database determines whether to start the job coordinator, it takes the service affinity of jobs into account. For example, if there is only one job scheduled in the near future and this job belongs to a job class that has service affinity for only two out of the four Oracle RAC instances, only the job coordinators for those two instances are started. See <span class="q">&#34;<a href="schedover.htm#GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33" title="The Scheduler enables you to specify the database service under which a job should be run (service affinity).">Service Affinity when Using the Scheduler</a>&#34;</span> for more information.</p>
</div>
</div>
<a id="ADMIN13489"></a>
<div class="props_rev_3"><a id="GUID-E6D2FDE7-6075-4980-AB10-99783DA4755D"></a>
<h4 id="ADMIN-GUID-E6D2FDE7-6075-4980-AB10-99783DA4755D" class="sect4"><span class="enumeration_section">28.4.3.2</span> Job Coordinator Actions</h4>
<div>
<p>The job coordinator performs several actions.</p>
<p>The job coordinator:</p>
<ul style="list-style-type: disc;">
<li>
<p>Controls and spawns the job slaves</p>
</li>
<li>
<p>Queries the job table</p>
</li>
<li>
<p>Picks up jobs from the job table on a regular basis and places them in a memory cache. This improves performance by reducing trips to the disk</p>
</li>
<li>
<p>Takes jobs from the memory cache and passes them to job slaves for execution</p>
</li>
<li>
<p>Cleans up the job slave pool when slaves are no longer needed</p>
</li>
<li>
<p>Goes to sleep when no jobs are scheduled</p>
</li>
<li>
<p>Wakes up when a new job is about to be executed or a job was created using the <code class="codeph">CREATE_JOB</code> procedure</p>
</li>
<li>
<p>Upon database, startup after an abnormal database shutdown, recovers any jobs that were running.</p>
</li>
</ul>
<p>You do not need to set the time that the job coordinator checks the job table; the system chooses the time frame automatically.</p>
<p>One job coordinator is used per instance. This is also the case in Oracle RAC environments.</p>
<div class="infoboxnotealso" id="GUID-E6D2FDE7-6075-4980-AB10-99783DA4755D__GUID-223ECA43-0140-494D-B274-CBE03390D116">
<p class="notep1">See Also:</p>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-3ADE1320-1D33-4550-9ECA-A7779CAFF93F" title="You can query a set of views for information about Scheduler.">Scheduler Data Dictionary Views</a>&#34;</span> for job coordinator administration and <span class="q">&#34;<a href="schedover.htm#GUID-1BE3B059-E01D-40BE-B742-D6BAF9849552" title="In an Oracle Real Application Clusters (Oracle RAC) environment, the Scheduler uses one job table for each database and one job coordinator for each instance.">Using the Scheduler in Real Application Clusters Environments</a>&#34;</span> for Oracle RAC information</p>
</div>
</div>
</div>
<a id="ADMIN13490"></a>
<div class="props_rev_3"><a id="GUID-8FBA1BDA-5865-4806-A2E9-BD82B291B6C6"></a>
<h4 id="ADMIN-GUID-8FBA1BDA-5865-4806-A2E9-BD82B291B6C6" class="sect4"><span class="enumeration_section">28.4.3.3</span> Maximum Number of Scheduler Job Processes</h4>
<div>
<p>The coordinator automatically determines how many job slaves to start based on CPU load and the number of outstanding jobs.</p>
<p>The <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter can be used to limit the number of job slaves that the Scheduler can start.</p>
<div class="infoboxnotealso" id="GUID-8FBA1BDA-5865-4806-A2E9-BD82B291B6C6__GUID-3EAB07A3-C353-4CC5-B4D8-B67284FEA156">
<p class="notep1">See Also:</p>
<p><a class="olink REFRN10077" target="_blank" href="../REFRN/GUID-B8B68D16-00A3-43DD-BE39-01F877880955.htm#REFRN10077"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">JOB_QUEUE_PROCESSES</code> initialization parameter</p>
</div>
</div>
</div>
</div>
<a id="ADMIN12377"></a>
<div class="props_rev_3"><a id="GUID-672A3866-B404-47A1-A0A5-22D7C1F850CE"></a>
<h3 id="ADMIN-GUID-672A3866-B404-47A1-A0A5-22D7C1F850CE" class="sect3"><span class="enumeration_section">28.4.4</span> How Jobs Execute</h3>
<div>
<p>Job slaves execute the jobs you submit.</p>
<p>They are awakened by the job coordinator when it is time for a job to be executed. They gather metadata to run the job from the job table.</p>
<p>When a job is picked for processing, the job slave does the following:</p>
<ol>
<li>
<p>Gathers all the metadata needed to run the job, for example, program arguments and privilege information.</p>
</li>
<li>
<p>Starts a database session as the owner of the job, starts a transaction, and then starts executing the job.</p>
</li>
<li>
<p>Once the job is complete, the slave commits and ends the transaction.</p>
</li>
<li>
<p>Closes the session.</p>
</li>
</ol>
</div>
</div>
<a id="ADMIN13491"></a>
<div class="props_rev_3"><a id="GUID-AED24C01-E656-4BA1-974C-53448278AB01"></a>
<h3 id="ADMIN-GUID-AED24C01-E656-4BA1-974C-53448278AB01" class="sect3"><span class="enumeration_section">28.4.5</span> After Jobs Complete</h3>
<div>
<p>The slaves perform several operations after a job completes.</p>
<p>When a job is done, the slaves do the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Reschedule the job if required.</p>
</li>
<li>
<p>Update the state in the job table to reflect whether the job has completed or is scheduled to run again.</p>
</li>
<li>
<p>Insert an entry into the job log table.</p>
</li>
<li>
<p>Update the run count, and if necessary, failure and retry counts.</p>
</li>
<li>
<p>Clean up.</p>
</li>
<li>
<p>Look for new work (if none, they go to sleep).</p>
</li>
</ul>
<p>The Scheduler dynamically sizes the slave pool as required.</p>
</div>
</div>
<div class="sect3"><a id="GUID-5FCF76C9-B54B-4B74-8AE9-8699D12984FC"></a>
<h3 id="ADMIN-GUID-5FCF76C9-B54B-4B74-8AE9-8699D12984FC" class="sect3"><span class="enumeration_section">28.4.6</span> Using the Scheduler in Real Application Clusters Environments</h3>
<p>You can use the Scheduler in an Oracle Real Application Clusters&nbsp;environment.</p>
<a id="ADMIN13085"></a><a id="ADMIN12379"></a>
<div class="props_rev_3"><a id="GUID-1BE3B059-E01D-40BE-B742-D6BAF9849552"></a>
<h4 id="ADMIN-GUID-1BE3B059-E01D-40BE-B742-D6BAF9849552" class="sect4"><span class="enumeration_section">28.4.6.1</span> The Scheduler and Real Application Clusters</h4>
<div>
<p>In an Oracle Real Application Clusters (Oracle RAC) environment, the Scheduler uses one job table for each database and one job coordinator for each instance.</p>
<p>The job coordinators communicate with each other to keep information current. The Scheduler attempts to balance the load of the jobs of a job class across all available instances when the job class has no service affinity, or across the instances assigned to a particular service when the job class does have service affinity.</p>
<p><a href="schedover.htm#GUID-1BE3B059-E01D-40BE-B742-D6BAF9849552__i1106864">Figure 28-7</a> illustrates a typical Oracle RAC architecture, with the job coordinator for each instance exchanging information with the others.</p>
<div class="figure" id="GUID-1BE3B059-E01D-40BE-B742-D6BAF9849552__i1106864">
<p class="titleinfigure">Figure 28-7 Oracle RAC Architecture and the Scheduler</p>
<img width="435" height="405" src="img/GUID-C92AA105-3E6E-4986-97D7-295EF78553F7-default.gif" alt="Description of Figure 28-7 follows" title="Description of Figure 28-7 follows"/><br/>
<a href="img_text/GUID-C92AA105-3E6E-4986-97D7-295EF78553F7-print.htm">Description of &#34;Figure 28-7 Oracle RAC Architecture and the Scheduler&#34;</a></div>
<!-- class="figure" --></div>
</div>
<a id="ADMIN13086"></a><a id="ADMIN12380"></a>
<div class="props_rev_3"><a id="GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33"></a>
<h4 id="ADMIN-GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33" class="sect4"><span class="enumeration_section">28.4.6.2</span> Service Affinity when Using the Scheduler</h4>
<div>
<p>The Scheduler enables you to specify the database service under which a job should be run (service affinity).</p>
<p>This ensures better availability than instance affinity because it guarantees that other nodes can be dynamically assigned to the service if an instance goes down. Instance affinity does not have this capability, so, when an instance goes down, none of the jobs with an affinity to that instance can run until the instance comes back up. <a href="schedover.htm#GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33__i1006875">Figure 28-8</a> illustrates a typical example of how services and instances could be used.</p>
<div class="figure" id="GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33__i1006875">
<p class="titleinfigure">Figure 28-8 Service Affinity and the Scheduler</p>
<img width="551" height="245" src="img/GUID-F6C6E6F6-7A56-45F0-824A-242D78230C54-default.gif" alt="Description of Figure 28-8 follows" title="Description of Figure 28-8 follows"/><br/>
<a href="img_text/GUID-F6C6E6F6-7A56-45F0-824A-242D78230C54-print.htm">Description of &#34;Figure 28-8 Service Affinity and the Scheduler&#34;</a></div>
<!-- class="figure" -->
<p>In <a href="schedover.htm#GUID-CB7ED12D-6418-4DE1-951F-C72573E79D33__i1006875">Figure 28-8</a>, you could change the properties of the services and the Scheduler automatically recognizes the change.</p>
<p>Each job class can specify a database service. If a service is not specified, the job class belongs to an internal service that is guaranteed to be mapped to every running instance.</p>
</div>
</div>
</div>
</div>
<a id="ADMIN12727"></a>
<div class="props_rev_3"><a id="GUID-B220EFA1-CF47-4FEF-82A9-DDF9952EC791"></a>
<h2 id="ADMIN-GUID-B220EFA1-CF47-4FEF-82A9-DDF9952EC791" class="sect2"><span class="enumeration_section">28.5</span> Scheduler Support for Oracle Data Guard</h2>
<div>
<p>Beginning with Oracle Database 11<span class="italic">g</span> Release 1 (11.1), the Scheduler can run jobs based on whether a database is a primary database or a logical standby in an Oracle Data Guard environment.</p>
<p>For a physical standby database, any changes made to Scheduler objects or any database changes made by Scheduler jobs on the primary database are applied to the physical standby like any other database changes.</p>
<p>For the primary database and logical standby databases, there is additional functionality that enables you to specify that a job can run only when the database is in the role of the primary database or a logical standby. You do this using the <code class="codeph">DBMS_SCHEDULER.SET_ATTRIBUTE</code> procedure to set the <code class="codeph">database_role</code> job attribute to one of two values: <code class="codeph">&#39;PRIMARY&#39;</code> or <code class="codeph">&#39;LOGICAL</code> <code class="codeph">STANDBY&#39;</code>. (To run a job in both roles, you can make a copy of the job and set <code class="codeph">database_role</code> to <code class="codeph">&#39;PRIMARY&#39;</code> for one job and to <code class="codeph">&#39;LOGICAL</code> <code class="codeph">STANDBY&#39;</code> for the other). On switchover or failover, the Scheduler automatically switches to running jobs specific to the new role. DML is replicated to the job event log so that on failover, there is an available record of what ran successfully on the primary database until it failed.</p>
<p>Replication of scheduler jobs from a primary to a logical standby is limited to the upgrade target in a rolling upgrade done using the <code class="codeph">DBMS_ROLLING</code> package.</p>
<div class="infoboxnotealso" id="GUID-B220EFA1-CF47-4FEF-82A9-DDF9952EC791__GUID-13E841EB-1AFF-4918-883F-1623AFD2492F">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-9C213F8F-7336-4437-B96C-16BF8D085FFB" title="Examples illustrate setting attributes.">Examples of Setting Attributes</a>&#34;</span> for an example of setting the <code class="codeph">database_role</code> attribute</p>
</li>
<li>
<p><span class="q">&#34;<a href="schedadmin.htm#GUID-4F4CA1F1-E24C-4C57-AD43-967DDC6677AF" title="In an Oracle Data Guard environment, the Scheduler includes additional support for two database roles: primary and logical standby. You can configure a job to run only when the database is in the primary role or only when the database is in the logical standby role.">Example of Creating a Job In an Oracle Data Guard Environment</a>&#34;</span></p>
</li>
<li>
<p><a class="olink SBYDB" target="_blank" href="../SBYDB/toc.htm"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1842">
<tr>
<td class="cellalignment1854">
<table class="cellalignment1847">
<tr>
<td class="cellalignment1846"><a href="dbrm.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment1846"><a href="scheduse.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2001, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment1856">
<table class="cellalignment1845">
<tr>
<td class="cellalignment1846"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment1846"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment1846"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment1846"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment1846"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment1846"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
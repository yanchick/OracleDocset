<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-1795"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/APEX_ESCAPE"></a><title>APEX_ESCAPE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748"/>
<meta name="dcterms.created" content="2014-05-22T14:53:19Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Application Express API Reference"/>
<meta name="dcterms.identifier" content="E17963-07"/>
<meta name="dcterms.isVersionOf" content="AEAPI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="apex_error.htm" title="Previous" type="text/html"/>
<link rel="Next" href="apex_instance.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17963-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/28</span> <!-- End Header -->
<div id="AEAPI29268" class="chapter"><a id="BABIDBEI"></a>
<h1 class="chapter"><span class="secnum">9</span> APEX_ES<a id="sthref255"></a>CAPE</h1>
<p>The <code>APEX_ESCAPE</code> package provides functions for escaping special characters in strings to ensure that the data is suitable for further processing.</p>
<p class="subhead2"><a id="AEAPI29269"></a>Topics:</p>
<ul>
<li>
<p><a href="#BABDCJDA">Constants</a></p>
</li>
<li>
<p><a href="#BABDGCIG">HTML Function</a></p>
</li>
<li>
<p><a href="#BABJHIFG">HTML_ATTRIBUTE Function</a></p>
</li>
<li>
<p><a href="#BABEIJHJ">HTML_TRUNC Function</a></p>
</li>
<li>
<p><a href="#BABJGDJF">HTML_WHITELIST Function</a></p>
</li>
<li>
<p><a href="#BABFFIBC">JS_LITERAL Function</a></p>
</li>
<li>
<p><a href="#BABGGFIB">LDAP_DN Function</a></p>
</li>
<li>
<p><a href="#BABJIDCI">LDAP_SEARCH_FILTER Function</a></p>
</li>
<li>
<p><a href="#BABBJEGB">NOOP Function</a></p>
</li>
<li>
<p><a href="#BABJBCDF">SET_HTML_ESCAPING_MODE Procedure</a></p>
</li>
</ul>
<div class="refentry"><a id="BABDCJDA"></a>
<div id="AEAPI29270" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Const<a id="sthref256"></a>ants</h2>
<p>The <code>APEX_ESCAPE</code> package uses the following constants.</p>
<pre>SPACE# constant binary_integer := 32; 
HASH# constant binary_integer := 35; 
COMMA# constant binary_integer := 44; 
HYPHEN# constant binary_integer := 45; 
DOT# constant binary_integer := 46; 
ZERO# constant binary_integer := 48; 
NINE# constant binary_integer := 57; 
UP_A# constant binary_integer := 65; 
UP_Z# constant binary_integer := 90; 
BACKSLASH# constant binary_integer := 92; 
UNDERSCORE# constant binary_integer := 95; 
LOW_A# constant binary_integer := 97; 
LOW_Z# constant binary_integer := 122; 
 
c_ldap_dn_reserved_chars constant varchar2(8) := &#39;&#34;+,;&lt;=&gt;\&#39;; 
c_ldap_search_reserved_chars constant varchar2(5) := &#39;*()\/&#39;; 
c_html_whitelist_tags constant varchar2(255) := &#39;&lt;h1&gt;,&lt;/h1&gt;,&lt;h2&gt;,&lt;/h2&gt;,&lt;h3&gt;,&lt;/h3&gt;,&lt;h4&gt;,&lt;/h4&gt;,&lt;p&gt;,&lt;/p&gt;,&lt;b&gt;,&lt;/b&gt;,&lt;strong&gt;,&lt;/strong&gt;,&lt;i&gt;,&lt;/i&gt;,&lt;ul&gt;,&lt;/ul&gt;,&lt;ol&gt;,&lt;/ol&gt;,&lt;li&gt;,&lt;/li&gt;,&lt;br /&gt;,&lt;hr/&gt;&#39;;
</pre></div>
<!-- class="refsect1" -->
<a id="BABDGCIG"></a>
<div id="AEAPI29271" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">HTML Fun<a id="sthref257"></a>ction</h2>
<p>This function escapes characters which can change the context in an html environment. It is an extended version of the well-known <code>sys.htf.escape_sc</code>.</p>
<p>The function&#39;s result depends on the escaping mode that is defined by using <code>apex_escape.set_html_escaping_mode</code>. By default, the escaping mode is &#34;<code>Extended</code>&#34;, but it can be overridden by manually calling <code>set_html_escaping_mode</code> or by setting the application security attribute &#34;<code>HTML Escaping Mode</code>&#34; to &#34;<code>Basic</code>&#34;. If the mode is &#34;<code>Basic</code>&#34;, the function behaves like <code>sys.htf.escape_sc</code>. Otherwise, the rules below apply.</p>
<p>The following table, <a href="#BABBBEAD">Table 9-1</a>, depicts ascii characters that the function transforms and their escaped values:</p>
<div id="AEAPI29272" class="tblformal">
<p class="titleintable"><a id="sthref258"></a><a id="BABBBEAD"></a>Table 9-1 Escaped Values for Transformed ASCII Characters</p>
<table class="cellalignment3315" title="Escaped Values for Transformed ASCII Characters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t2">Raw ASCI Characters</th>
<th class="cellalignment3316" id="r1c2-t2">Returned Escaped Characters</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t2" headers="r1c1-t2">
<p><code>&amp;</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t2 r1c2-t2">
<p><code>&amp;amp</code>;</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t2" headers="r1c1-t2">
<p><code>&#34;</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t2 r1c2-t2">
<p><code>&amp;quot</code>;</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t2" headers="r1c1-t2">
<p><code>&lt;</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t2 r1c2-t2">
<p><code>&amp;</code><code>lt;</code></p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t2" headers="r1c1-t2">
<p><code>&gt;</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t2 r1c2-t2">
<p><code>&amp;gt;</code></p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t2" headers="r1c1-t2">
<p>&#39;</p>
</td>
<td class="cellalignment3317" headers="r6c1-t2 r1c2-t2">
<p><code>&amp;#x27;</code></p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t2" headers="r1c1-t2">
<p><code>/</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t2 r1c2-t2">
<p><code>&amp;#x2F</code>;</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29273"></a>Syntax</p>
<pre>APEX_ESCAPE.HTML (
    p_string IN VARCHAR2 )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29274"></a>Parameters</p>
<p><a href="#BABGCAGI">Table 9-2</a> describes the parameters available in the <code>HTML</code> function.</p>
<div id="AEAPI29275" class="tblformal">
<p class="titleintable"><a id="sthref259"></a><a id="BABGCAGI"></a>Table 9-2 HTML Function Parameters</p>
<table class="cellalignment3315" title="HTML Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t3">Parameter</th>
<th class="cellalignment3316" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t3" headers="r1c1-t3">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t3 r1c2-t3">
<p>The string text that is escaped</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29276"></a>Example</p>
<p>This example tests escaping in basic (&#39;B&#39;) and extended (&#39;E&#39;) mode.</p>
<pre>declare 
procedure eq(p_str1 in varchar2,p_str2 in varchar2) 
    is 
    begin 
        if p_str1||&#39;.&#39; &lt;&gt; p_str2||&#39;.&#39; then 
            raise_application_error(-20001,p_str1||&#39; &lt;&gt; &#39;||p_str2); 
    end if; 
end eq; 
begin 
    apex_escape.set_html_escaping_mode(&#39;B&#39;); 
    eq(apex_escape.html(&#39;hello &amp;&#34;&lt;&gt;&#39;&#39;/&#39;), &#39;hello &amp;amp;&amp;quot;&amp;lt;&amp;gt;&#39;&#39;/&#39;); 
    apex_escape.set_html_escaping_mode(&#39;E&#39;); 
    eq(apex_escape.html(&#39;hello &amp;&#34;&lt;&gt;&#39;&#39;/&#39;), &#39;hello
    &amp;amp;&amp;quot;&amp;lt;&amp;gt;&amp;#x27;&amp;#x2F;&#39;); 
end; 
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABEIJHJ">&#34;HTML_TRUNC Function&#34;</a>, <a href="#BABJGDJF">&#34;HTML_WHITELIST Function&#34;</a>, <a href="#BABJHIFG">&#34;HTML_ATTRIBUTE Function&#34;</a>, <a href="#BABJBCDF">&#34;SET_HTML_ESCAPING_MODE Procedure&#34;</a></div>
</div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" -->
<a id="BABJHIFG"></a>
<div id="AEAPI29277" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">HTML_ATTR<a id="sthref260"></a>IBUTE Function</h2>
<p>Use this function to escape the values of html entity attributes. It hex escapes everything that is not alphanumeric or in one of the following characters &#39;,&#39; &#39;.&#39; &#39;-&#39; &#39;_&#39; .</p>
<p class="subhead2"><a id="AEAPI29278"></a>Syntax</p>
<pre>APEX_ESCAPE.HTML_ATTRIBUTE (
    p_string IN VARCHAR2 )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29279"></a>Parameters</p>
<p><a href="#BABDAJHF">Table 9-3</a>describes the parameters available in the <code>HTML_ATTRIBUTE</code> function.</p>
<div id="AEAPI29280" class="tblformal">
<p class="titleintable"><a id="sthref261"></a><a id="BABDAJHF"></a>Table 9-3 HTML_ATTRIBUTE Function Parameters</p>
<table class="cellalignment3315" title="HTML_ATTRIBUTE Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t5">Parameter</th>
<th class="cellalignment3316" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t5" headers="r1c1-t5">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t5 r1c2-t5">
<p>The text string that is escaped.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29281"></a>Example</p>
<p>See <a href="#BABEIJHJ">&#34;HTML_TRUNC Function&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABEIJHJ">&#34;HTML_TRUNC Function&#34;</a>, <a href="#BABDGCIG">&#34;HTML Function&#34;</a>, <a href="#BABJGDJF">&#34;HTML_WHITELIST Function&#34;</a>, <a href="#BABJBCDF">&#34;SET_HTML_ESCAPING_MODE Procedure&#34;</a></div>
</div>
<!-- class="refsect1" -->
<a id="BABEIJHJ"></a>
<div id="AEAPI29282" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">HTML_TRUNC F<a id="sthref262"></a>unction</h2>
<p>The <code>HTML_TRUNC</code> function escapes html and limits the returned string to <code>p_length</code> characters. This function returns the first <code>p_length</code> characters of an input clob and escapes them. You can use this function if the input clob might be too large to fit in a varchar2 variable and it is sufficient to only display the first part of it.</p>
<p class="subhead2"><a id="AEAPI29283"></a>Syntax</p>
<pre>APEX_ESCAPE.HTML_TRUNC (
    p_string IN CLOB,
    p_length IN NUMBER DEFAULT 4000 )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29284"></a>Parameters</p>
<p><a href="#BABFFHGD">Table 9-4</a> describes the parameters available in the <code>HTML_TRUNC</code> function.</p>
<div id="AEAPI29285" class="tblformal">
<p class="titleintable"><a id="sthref263"></a><a id="BABFFHGD"></a>Table 9-4 HTML_TRUNC Function Parameters</p>
<table class="cellalignment3315" title="HTML_TRUNC Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t7">Parameter</th>
<th class="cellalignment3316" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t7" headers="r1c1-t7">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t7 r1c2-t7">
<p>The text string that is escaped.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t7" headers="r1c1-t7">
<p><code>p_length</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t7 r1c2-t7">
<p>The number of characters from <code>p_string</code> that are escaped.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29286"></a>Example</p>
<p>This example generates a html list of of titles and text bodies. Html entity attributes are escaped with <code>HTML_ATTRIBUTE</code>, whereas normal text is escaped with <code>HTML</code> and <code>HTML_TRUNC</code>.</p>
<pre>begin 
    htp.p(&#39;&lt;ul&gt;&#39;); 
    for l_data in ( select title, cls, body 
        from my_topics ) 
    loop 
    sys.htp.p(&#39;&lt;li&gt;&lt;span class=&#34;&#39;||
        apex_escape.html_attribute(l_data.cls)||&#39;&#34;&gt;&#39;|| 
        apex_escape.html(l_data.title)||&#39;&lt;/span&gt;&#39;); 
    sys.htp.p(apex_escape.html_trunc(l_data.body)); 
    sys.htp.p(&#39;&lt;/li&gt;&#39;); 
    end loop; 
    htp.p(&#39;&lt;/ul&gt;&#39;); 
end; 
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABJHIFG">&#34;HTML_ATTRIBUTE Function&#34;</a>, <a href="#BABDGCIG">&#34;HTML Function&#34;</a>, <a href="#BABJGDJF">&#34;HTML_WHITELIST Function&#34;</a>, <a href="#BABJBCDF">&#34;SET_HTML_ESCAPING_MODE Procedure&#34;</a></div>
</div>
<!-- class="refsect1" -->
<a id="BABJGDJF"></a>
<div id="AEAPI29287" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">HTML_WHITELIST<a id="sthref264"></a> Function</h2>
<p>The <code>HTML_WHITELIST</code> function performs HTML escape on all characters in the input text except the specified whitelist tags. This function can be useful if the input text contains simple html markup but a developer wants to ensure that an attacker cannot use malicious tags for cross-site scripting.</p>
<p class="subhead2"><a id="AEAPI29288"></a>Syntax</p>
<pre>APEX_ESCAPE.HTML_WHITELIST (
    p_html IN VARCHAR2,
    p_whitelist_tags IN VARCHAR2 DEFAULT c_html_whitelist_tags )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29289"></a>Parameters</p>
<p><a href="#BABEJJCA">Table 9-5</a> describes the parameters available in the <code>HTML_WHITELIST</code> function.</p>
<div id="AEAPI29290" class="tblformal">
<p class="titleintable"><a id="sthref265"></a><a id="BABEJJCA"></a>Table 9-5 HTML_WHITELIST Function Parameters</p>
<table class="cellalignment3315" title="HTML_WHITELIST Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t9">Parameter</th>
<th class="cellalignment3316" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t9" headers="r1c1-t9">
<p><code>p_html</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t9 r1c2-t9">
<p>The text string that is filtered.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t9" headers="r1c1-t9">
<p><code>p_whitelist_tags</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t9 r1c2-t9">
<p>The comma separated list of tags that stays in <code>p_html</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29291"></a>Example</p>
<p>This example shows how to use <code>HTML_WHITELIST</code> to remove unwanted html markup from a string, while preserving whitelisted tags.</p>
<pre>begin     sys.htp.p(apex_escape.html_whitelist(         &#39;&lt;h1&gt;Hello&lt;script&gt;alert(&#34;XSS&#34;);&lt;/script&gt;&lt;/h1&gt;&#39;)); end;
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABJHIFG">&#34;HTML_ATTRIBUTE Function&#34;</a>, <a href="#BABDGCIG">&#34;HTML Function&#34;</a>, <a href="#BABEIJHJ">&#34;HTML_TRUNC Function&#34;</a>, <a href="#BABJBCDF">&#34;SET_HTML_ESCAPING_MODE Procedure&#34;</a></div>
</div>
<!-- class="refsect1" -->
<a id="BABFFIBC"></a>
<div id="AEAPI29292" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">JS_LITERAL<a id="sthref266"></a> Function</h2>
<p>The <code>JS_LITERAL</code> function escapes and optionally enquotes a javascript string. This function replaces non-immune characters with <code>\xHH</code> or <code>\uHHHH</code> equivalents. The result can be injected into javascript code, within <code>&lt;script&gt;</code> tags or inline (&#34;<code>javascript:xxx</code>&#34;). Immune characters include a through z, A through Z, 0 through 9, commas &#34;,&#34;, periods &#34;.&#34; and underscores &#34;_&#34;.</p>
<p class="subhead2"><a id="AEAPI29293"></a>Syntax</p>
<pre>APEX_ESCAPE.JS_LITERAL (
    p_string IN VARCHAR2,
    p_quote  IN VARCHAR2 DEFAULT &#34;&#34; )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29294"></a>Parameters</p>
<p><a href="#BABGJEEG">Table 9-6</a> describes the parameters available in the <code>JS_LITERAL</code> function.</p>
<div id="AEAPI29295" class="tblformal">
<p class="titleintable"><a id="sthref267"></a><a id="BABGJEEG"></a>Table 9-6 JS_LITERAL Function Parameters</p>
<table class="cellalignment3315" title="JS_LITERAL Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t11">Parameter</th>
<th class="cellalignment3316" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t11" headers="r1c1-t11">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t11 r1c2-t11">
<p>The text string that is escaped.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t11" headers="r1c1-t11">
<p><code>p_quote</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t11 r1c2-t11">
<p>If not null, this string is placed on the left and right of the result. The quotation character must be a single or a double quotation mark.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29296"></a>Example</p>
<p>It describes how to use <code>JS_LITERAL</code> to escape special characters in the <code>l_string</code> variable.</p>
<pre>declare 
    l_string varchar2(4000) := &#39;O&#39;&#39;Brien&#39;; 
begin 
    sys.htp.p(&#39;&lt;script&gt;&#39;|| 
        &#39;alert(&#39;||apex_escape.js_literal(l_string)||&#39;);&#39;||&#39;&lt;/script&gt;&#39;); 
end;
</pre></div>
<!-- class="refsect1" -->
<a id="BABGGFIB"></a>
<div id="AEAPI29297" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">LDAP_DN<a id="sthref268"></a> Function</h2>
<p>The <code>LDAP_DN</code> function escapes reserved characters in an LDAP distinguished name, according to RFC 4514. The RFC describes &#34;+,;&lt;=&gt;\ as reserved characters (see <code>p_reserved_chars</code>). These are escaped by a backslash, for example, &#34; becomes \&#34;. Non-printable characters, ascii 0 - 31, and ones with a code &gt; 127 (see <code>p_escape_non_ascii</code>) are escaped as <code>\xx</code>, where <code>xx</code> is the hexadecimal character code. The space character at the beginning or end of the string and a # at the beginning is also escaped with a backslash.</p>
<p class="subhead2"><a id="AEAPI29298"></a>Syntax</p>
<pre>APEX_ESCAPE.LDAP_DN (
    p_string IN VARCHAR2,
    p_reserved_chars IN VARCHAR2 DEFAULT c_ldap_dn_reserved_chars,
    p_escaped_non_ascii IN BOOLEAN DEFAULT TRUE )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29299"></a>Parameters</p>
<p><a href="#BABDEIDC">Table 9-7</a> describes the parameters available in the <code>LDAP_DN</code> function.</p>
<div id="AEAPI29300" class="tblformal">
<p class="titleintable"><a id="sthref269"></a><a id="BABDEIDC"></a>Table 9-7 LDAP_DN Function Parameters</p>
<table class="cellalignment3315" title="LDAP_DN Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t12">Parameter</th>
<th class="cellalignment3316" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t12" headers="r1c1-t12">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t12 r1c2-t12">
<p>The text string that is escaped.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t12" headers="r1c1-t12">
<p><code>p_reserved_chars</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t12 r1c2-t12">
<p>A list of characters that when found in <code>p_string</code> is escaped with a backslash.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t12" headers="r1c1-t12">
<p><code>p_escaped_non_ascii</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t12 r1c2-t12">
<p>If true, characters above ascii 127 in <code>p_string</code> are escaped with a backslash. This is supported by RFCs 4514 and 2253, but may cause errors with older LDAP servers and Microsoft AD.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29301"></a>Example</p>
<p>This example escapes characters in <code>l_name</code> and places the result in <code>l_escaped</code>.</p>
<pre>declare 
    l_name varchar2(4000) := &#39;Joe+User&#39;; 
    l_escaped varchar2(4000); 
begin 
    l_escaped := apex_escape.ldap_dn(l_name); 
    htp.p(l_name||&#39; becomes &#39;||l_escaped); 
end;
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABJIDCI">&#34;LDAP_SEARCH_FILTER Function&#34;</a></div>
</div>
<!-- class="refsect1" -->
<a id="BABJIDCI"></a>
<div id="AEAPI29302" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">LDAP_SEARCH_FILT<a id="sthref270"></a>ER Function</h2>
<p>The <code>LDAP_SEARCH_FILTER</code> function escapes reserved characters in an LDAP search filter, according to RFC 4515. The RFC describes *()\/ as reserved characters (see <code>p_reserved_chars</code>). These, non-printable characters (ascii 0 - 31) and ones with a code &gt; 127 (see <code>p_escape_non_ascii</code>) are escaped as <code>\xx</code>, where <code>xx</code> is the hexadecimal character code.</p>
<p class="subhead2"><a id="AEAPI29303"></a>Syntax</p>
<pre>APEX_ESCAPE.LDAP_SEARCH_FILTER (
    p_string              IN VARCHAR2,
    p_reserved_chars    IN VARCHAR2 DEFAULT c_ldap_search_reserved_chars,
    p_escape_non_ascii IN BOOLEAN DEFAULT TRUE )
    return VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI29304"></a>Parameters</p>
<p><a href="#BABFFIIG">Table 9-8</a> describes the parameters available in the <code>LDAP_SEARCH_FILTER</code> function.</p>
<div id="AEAPI29305" class="tblformal">
<p class="titleintable"><a id="sthref271"></a><a id="BABFFIIG"></a>Table 9-8 LDAP_SEARCH_FILTER Function Parameters</p>
<table class="cellalignment3315" title="LDAP_SEARCH_FILTER Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t14">Parameter</th>
<th class="cellalignment3316" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t14" headers="r1c1-t14">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t14 r1c2-t14">
<p>The text string that is escaped.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t14" headers="r1c1-t14">
<p><code>p_reserved_chars</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t14 r1c2-t14">
<p>A list of characters that when found in <code>p_string</code> is escaped with <code>\xx</code> where <code>xx</code> is the character&#39;s ASCII hexadecimal code.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t14" headers="r1c1-t14">
<p><code>p_escape_non_ascii</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t14 r1c2-t14">
<p>If true, characters above ascii 127 in <code>p_string</code> are escaped with <code>\xx</code> where <code>xx</code> is the character&#39;s ASCII hexadecimal code. This is supported by RFCs 4514, but may cause errors with older LDAP servers and Microsoft AD.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29306"></a>Example</p>
<p>This example escapes the text in <code>l_name</code> and places the result in <code>l_escaped</code>.</p>
<pre>declare 
l_name varchar2(4000) := &#39;Joe*User&#39;; 
l_escaped varchar2(4000); 
begin 
    l_escaped := apex_escape.ldap_search_filter(l_name); 
    htp.p(l_name||&#39; becomes &#39;||l_escaped); 
end;
</pre>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABGGFIB">&#34;LDAP_DN Function&#34;</a></div>
</div>
<!-- class="refsect1" -->
<a id="BABBJEGB"></a>
<div id="AEAPI29307" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">NOOP <a id="sthref272"></a>Function</h2>
<p>Return <code>p_string</code> unchanged. Use this function to silence automatic injection detection tests, similar to <code>dbms_assert.noop</code> for SQL injection.</p>
<p class="subhead2"><a id="AEAPI29308"></a>Syntax</p>
<pre>APEX_ESCAPE.NOOP (
    p_string IN VARCHAR2)
    return VARCHAR2 deterministic;
</pre>
<p class="subhead2"><a id="AEAPI29309"></a>Parameters</p>
<p><a href="#BABHJJDA">Table 9-9</a> describes the parameters available in the <code>NOOP</code> function.</p>
<div id="AEAPI29310" class="tblformal">
<p class="titleintable"><a id="sthref273"></a><a id="BABHJJDA"></a>Table 9-9 APEX_ESCAPE.NOOP Function Parameters</p>
<table class="cellalignment3315" title="APEX_ESCAPE.NOOP Function Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t16">Parameter</th>
<th class="cellalignment3316" id="r1c2-t16">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t16" headers="r1c1-t16">
<p><code>p_string</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t16 r1c2-t16">
<p>The input text string.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29311"></a>Example</p>
<p>This example shows how to use <code>NOOP</code> to show the developer&#39;s intention to explicitly not escape text.</p>
<pre>begin 
    sys.htp.p(apex_escape.noop(&#39;Cats &amp; Dogs&#39;)); 
end;
</pre></div>
<!-- class="refsect1" -->
<a id="BABJBCDF"></a>
<div id="AEAPI29312" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">SET_HTML_<a id="sthref274"></a>ESCAPING_MODE Procedure</h2>
<p>The <code>SET_HTML_ESCAPING_MODE</code> procedure configures HTML escaping mode for <code>wwv_flow_escape.html</code>.</p>
<p class="subhead2"><a id="AEAPI29313"></a>Syntax</p>
<pre>APEX_ESCAPE.SET_HTML_ESCAPING_MODE (
    p_mode IN VARCHAR2);
</pre>
<p class="subhead2"><a id="AEAPI29314"></a>Parameters</p>
<p><a href="#BABEIHBD">Table 9-10</a> describes the parameters available in the <code>SET_HTML_ESCAPING_MODE</code> procedure.</p>
<div id="AEAPI29315" class="tblformal">
<p class="titleintable"><a id="sthref275"></a><a id="BABEIHBD"></a>Table 9-10 APEX_ESCAPE.SET_HTML_ESCAPING_MODE Procedure Parameters</p>
<table class="cellalignment3315" title="APEX_ESCAPE.SET_HTML_ESCAPING_MODE Procedure Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t17">Parameter</th>
<th class="cellalignment3316" id="r1c2-t17">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t17" headers="r1c1-t17">
<p><code>p_mode</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t17 r1c2-t17">
<p>If equal to <code>B</code>, then do basic escaping, like <code>sys.htf.escape_sc</code>. If equal to <code>E</code>, then do extended escaping.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29316"></a>Example</p>
<p>For an example, see <a href="#BABDGCIG">&#34;HTML Function&#34;</a>.</p>
<div class="infobox-note">
<p class="notep1">See Also:</p>
<a href="#BABJGDJF">&#34;HTML_WHITELIST Function&#34;</a>, <a href="#BABDGCIG">&#34;HTML Function&#34;</a>, <a href="#BABEIJHJ">&#34;HTML_TRUNC Function&#34;</a>, <a href="#BABJHIFG">&#34;HTML_ATTRIBUTE Function&#34;</a></div>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3308">
<tr>
<td class="cellalignment3317">
<table class="cellalignment3313">
<tr>
<td class="cellalignment3312"><a href="apex_error.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3312"><a href="apex_instance.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3319">
<table class="cellalignment3311">
<tr>
<td class="cellalignment3312"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3312"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3312"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3312"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3312"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3312"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
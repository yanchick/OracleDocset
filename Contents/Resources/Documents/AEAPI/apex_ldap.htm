<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-1801"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/APEX_LDAP"></a><title>APEX_LDAP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748"/>
<meta name="dcterms.created" content="2014-05-22T14:53:20Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Application Express API Reference"/>
<meta name="dcterms.identifier" content="E17963-07"/>
<meta name="dcterms.isVersionOf" content="AEAPI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="apex_lang.htm" title="Previous" type="text/html"/>
<link rel="Next" href="apex_mail.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17963-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">19/28</span> <!-- End Header -->
<div id="AEAPI238" class="chapter"><a id="CEGDCAFD"></a>
<h1 class="chapter"><span class="secnum">15</span> APEX_LDAP</h1>
<p>You can use <code>APEX_LDAP</code><a id="sthref464"></a><a id="sthref465"></a> to perform various operations related to Lightweight Directory Access Protocol (LDAP) authentication.</p>
<p class="subhead2"><a id="AEAPI2277"></a>Topics:</p>
<ul>
<li>
<p><a href="#CDEEBJJB">AUTHENTICATE Function</a></p>
</li>
<li>
<p><a href="#CDEHGAJC">GET_ALL_USER_ATTRIBUTES Procedure</a></p>
</li>
<li>
<p><a href="#CDEBEFCI">GET_USER_ATTRIBUTES Procedure</a></p>
</li>
<li>
<p><a href="#CDEJAAEI">IS_MEMBER Function</a></p>
</li>
<li>
<p><a href="#CDEJJJAB">MEMBER_OF Function</a></p>
</li>
<li>
<p><a href="#CDEBFEII">MEMBER_OF2 Function</a></p>
</li>
</ul>
<div class="refentry"><a id="CDEEBJJB"></a>
<div id="AEAPI239" class="refsect1">
<h2 class="refsect1"><a id="sthref466"></a>AUTHENTICATE Function</h2>
<p>The <code>AUTHENTICATE</code> function returns a boolean true if the user name and password can be used to perform a <code>SIMPLE_BIND_S</code>, call using the provided search base, host, and port.</p>
<p class="subhead2"><a id="AEAPI1161"></a>Syntax</p>
<pre>APEX_LDAP.AUTHENTICATE(
    p_username     IN VARCHAR2 DEFAULT NULL,
    p_password     IN VARCHAR2 DEFAULT NULL,
    p_search_base  IN VARCHAR2,
    p_host         IN VARCHAR2,
    p_port         IN VARCHAR2 DEFAULT 389,
    p_use_ssl      IN VARCHAR2 DEFAULT &#39;N&#39;)
RETURN BOOLEAN;
</pre>
<p class="subhead2"><a id="AEAPI1162"></a>Parameters</p>
<p><a href="#CDEEEJBH">Table 15-1</a> describes the parameters available in the <code>AUTHENTICATE</code> function.</p>
<div id="AEAPI1163" class="tblformal">
<p class="titleintable"><a id="sthref467"></a><a id="CDEEEJBH"></a>Table 15-1 AUTHENTICATE Parameters</p>
<table class="cellalignment3315" title="AUTHENTICATE Parameters" summary="This table describes the parameters available in the AUTHENTICATE function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t2">Parameter</th>
<th class="cellalignment3316" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t2" headers="r1c1-t2">
<p><code>p_username</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t2 r1c2-t2">
<p>Login name of the user.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t2" headers="r1c1-t2">
<p><code>p_password</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t2 r1c2-t2">
<p>Password for <code>p_username</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t2" headers="r1c1-t2">
<p><code>p_search_base</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t2 r1c2-t2">
<p>LDAP search base, for example, <code>dc=users,dc=my,dc=org</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t2" headers="r1c1-t2">
<p><code>p_host</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t2 r1c2-t2">
<p>LDAP server host name.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t2" headers="r1c1-t2">
<p><code>p_port</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t2 r1c2-t2">
<p>LDAP server port number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t2" headers="r1c1-t2">
<p><code>p_use_ssl</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t2 r1c2-t2">
<p>Set to &#39;Y&#39; to use SSL in bind to LDAP server. Set to &#39;A&#39; to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to &#39;N&#39; to not use SSL (default).</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1164"></a>Example</p>
<p>The following example demostrates how to use the <code>APEX_LDAP.AUTHENTICATE</code> function to verify user credentials against an LDAP Server.</p>
<pre>IF APEX_LDAP.AUTHENTICATE(
    p_username =&gt;&#39;firstname.lastname&#39;,
    p_password =&gt;&#39;abcdef&#39;,
    p_search_base =&gt; &#39;cn=user,l=amer,dc=my_company,dc=com&#39;,
    p_host =&gt; &#39;our_ldap_sever.my_company.com&#39;,
    p_port =&gt; 389) THEN
    dbms_output.put_line(&#39;authenticated&#39;);
ELSE
    dbms_output.put_line(&#39;authentication failed&#39;);
END IF;
</pre></div>
<!-- class="refsect1" -->
<a id="CDEHGAJC"></a>
<div id="AEAPI244" class="refsect1">
<h2 class="refsect1">GET_ALL_USER_ATTRIBUTES Procedure <a id="sthref468"></a></h2>
<p>The <code>GET_ALL_USER_ATTRIBUTES</code> procedure returns two OUT arrays of <code>user_attribute</code> names and values for the user name designated by <code>p_username</code> (with password if required) using the provided auth base, host, and port.</p>
<p class="subhead2"><a id="AEAPI1165"></a>Syntax</p>
<pre>APEX_LDAP.GET_ALL_USER_ATTRIBUTES(
    p_username          IN VARCHAR2 DEFAULT NULL,
    p_pass              IN VARCHAR2 DEFAULT NULL,
    p_auth_base         IN VARCHAR2 DEFAULT NULL,
    p_host              IN VARCHAR2,
    p_port              IN VARCHAR2 DEFAULT 389,
    p_use_ssl           IN VARCHAR2 DEFAULT &#39;N&#39;,
    p_attributes        OUT apex_application_global.vc_arr2,
    p_attribute_values  OUT apex_application_global.vc_arr2);
</pre>
<p class="subhead2"><a id="AEAPI1166"></a>Parameters</p>
<p><a href="#CDEDJDJH">Table 15-2</a> describes the parameters for the <code>GET_ALL_USER_ATTRIBUTES</code> procedure.</p>
<div id="AEAPI1167" class="tblformal">
<p class="titleintable"><a id="sthref469"></a><a id="CDEDJDJH"></a>Table 15-2 GET_ALL_USER_ATTRIBUTES Parameters</p>
<table class="cellalignment3315" title="GET_ALL_USER_ATTRIBUTES Parameters" summary="This table describes the parameters available in the GET_ALL_USER_ATTRIBUTES procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t3">Parameter</th>
<th class="cellalignment3316" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t3" headers="r1c1-t3">
<p><code>p_username</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t3 r1c2-t3">
<p>Login name of the user.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t3" headers="r1c1-t3">
<p><code>p_pass</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t3 r1c2-t3">
<p>Password for <code>p_username</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t3" headers="r1c1-t3">
<p><code>p_auth_base</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t3 r1c2-t3">
<p>LDAP search base, for example, <code>dc=users,dc=my,dc=org</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t3" headers="r1c1-t3">
<p><code>p_host</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t3 r1c2-t3">
<p>LDAP server host name.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t3" headers="r1c1-t3">
<p><code>p_port</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t3 r1c2-t3">
<p>LDAP server port number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t3" headers="r1c1-t3">
<p><code>p_use_ssl</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t3 r1c2-t3">
<p>Set to &#39;Y&#39; to use SSL in bind to LDAP server. Set to &#39;A&#39; to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to &#39;N&#39; to not use SSL (default).</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r8c1-t3" headers="r1c1-t3">
<p><code>p_attributes</code></p>
</td>
<td class="cellalignment3317" headers="r8c1-t3 r1c2-t3">
<p>An array of attribute names returned.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r9c1-t3" headers="r1c1-t3">
<p><code>p_attribute_values</code></p>
</td>
<td class="cellalignment3317" headers="r9c1-t3 r1c2-t3">
<p>An array of values returned for each corresponding attribute name returned in p_attributes.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1168"></a>Example</p>
<p>The following example demonstrates how to use the <code>APEX_LDAP.GET_ALL_USER_ATTRIBUTES</code> procedure to retrieve all attribute value&#39;s associated to a user.</p>
<pre>DECLARE
    L_ATTRIBUTES       apex_application_global.vc_arr2;
    L_ATTRIBUTE_VALUES apex_application_global.vc_arr2;
BEGIN
    APEX_LDAP.GET_ALL_USER_ATTRIBUTES(
        p_username         =&gt; &#39;firstname.lastname&#39;,
        p_pass             =&gt; &#39;abcdef&#39;,
        p_auth_base        =&gt; &#39;cn=user,l=amer,dc=my_company,dc=com&#39;,
        p_host             =&gt; &#39;our_ldap_sever.my_company.com&#39;,
        p_port             =&gt; &#39;389&#39;,
        p_attributes       =&gt; L_ATTRIBUTES,
        p_attribute_values =&gt; L_ATTRIBUTE_VALUES);
 
     FOR i IN L_ATTRIBUTES.FIRST..L_ATTRIBUTES.LAST LOOP
         htp.p(&#39;attribute name: &#39;||L_ATTRIBUTES(i));
         htp.p(&#39;attribute value: &#39;||L_ATTRIBUTE_VALUES(i));
     END LOOP;
END;
</pre></div>
<!-- class="refsect1" -->
<a id="CDEBEFCI"></a>
<div id="AEAPI243" class="refsect1">
<h2 class="refsect1">GET_USER_ATTRIBUTES Procedure<a id="sthref470"></a></h2>
<p>The <code>GET_USER_ATTRIBUTES</code> procedure returns an OUT array of user_attribute values for the user name designated by <code>p_username</code> (with password if required) corresponding to the attribute names passed in <code>p_attributes</code> using the provided auth base, host, and port.</p>
<p class="subhead2"><a id="AEAPI1169"></a>Syntax</p>
<pre>APEX_LDAP.GET_USER_ATTRIBUTES(
    p_username          IN VARCHAR2 DEFAULT NULL,
    p_pass              IN VARCHAR2 DEFAULT NULL,
    p_auth_base         IN VARCHAR2,
    p_host              IN VARCHAR2,
    p_port              IN VARCHAR2 DEFAULT 389,
    p_use_ssl           IN VARCHAR2 DEFAULT &#39;N&#39;,
    p_attributes        IN  apex_application_global.vc_arr2,
    p_attribute_values  OUT apex_application_global.vc_arr2);
</pre>
<p class="subhead2"><a id="AEAPI1170"></a>Parameters</p>
<p><a href="#CDEGEFJG">Table 15-3</a> describes the parameters available in the <code>GET_USER_ATTRIBUTES</code> procedure.</p>
<div id="AEAPI1171" class="tblformal">
<p class="titleintable"><a id="sthref471"></a><a id="CDEGEFJG"></a>Table 15-3 GET_USER_ATTRIBUTES Parameters</p>
<table class="cellalignment3315" title="GET_USER_ATTRIBUTES Parameters" summary="This table describes the parameters available in the GET_USER_ATTRIBUTES procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t4">Parameter</th>
<th class="cellalignment3316" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t4" headers="r1c1-t4">
<p><code>p_username</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t4 r1c2-t4">
<p>Login name of the user.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t4" headers="r1c1-t4">
<p><code>p_pass</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t4 r1c2-t4">
<p>Password for <code>p_username</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t4" headers="r1c1-t4">
<p><code>p_auth_base</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t4 r1c2-t4">
<p>LDAP search base, for example, <code>dc=users,dc=my,dc=org</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t4" headers="r1c1-t4">
<p><code>p_host</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t4 r1c2-t4">
<p>LDAP server host name.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t4" headers="r1c1-t4">
<p><code>p_port</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t4 r1c2-t4">
<p>LDAP server port number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t4" headers="r1c1-t4">
<p><code>p_use_ssl</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t4 r1c2-t4">
<p>Set to &#39;Y&#39; to use SSL in bind to LDAP server. Set to &#39;A&#39; to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to &#39;N&#39; to not use SSL (default).</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r8c1-t4" headers="r1c1-t4">
<p><code>p_attributes</code></p>
</td>
<td class="cellalignment3317" headers="r8c1-t4 r1c2-t4">
<p>An array of attribute names for which values are to be returned.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r9c1-t4" headers="r1c1-t4">
<p><code>p_attribute_values</code></p>
</td>
<td class="cellalignment3317" headers="r9c1-t4 r1c2-t4">
<p>An array of values returned for each corresponding attribute name in <code>p_attributes</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1172"></a>Example</p>
<p>The following example demonstrates how to use the <code>APEX_LDAP.GET_USER_ATTRIBUTES</code> procedure to retrieve a specific attribute value associated to a user.</p>
<pre>DECLARE
    L_ATTRIBUTES apex_application_global.vc_arr2;
    L_ATTRIBUTE_VALUES apex_application_global.vc_arr2;
BEGIN
    L_ATTRIBUTES(1) := &#39;xxxxxxxxxx&#39;; /* name of the employee number attribute */
    APEX_LDAP.GET_USER_ATTRIBUTES(
        p_username =&gt; &#39;firstname.lastname&#39;,
        p_pass =&gt; NULL,
        p_auth_base =&gt; &#39;cn=user,l=amer,dc=my_company,dc=com&#39;,
        p_host =&gt; &#39;our_ldap_sever.my_company.com&#39;,
        p_port =&gt; &#39;389&#39;,
        p_attributes =&gt; L_ATTRIBUTES,
        p_attribute_values =&gt; L_ATTRIBUTE_VALUES);
END;
</pre></div>
<!-- class="refsect1" -->
<a id="CDEJAAEI"></a>
<div id="AEAPI240" class="refsect1">
<h2 class="refsect1">IS_MEMBER Function<a id="sthref472"></a></h2>
<p>The <code>IS_MEMBER</code> function returns a boolean true if the user named by <code>p_username</code> (with password if required) is a member of the group specified by the <code>p_group</code> and <code>p_group_base</code> parameters using the provided auth base, host, and port.</p>
<p class="subhead2"><a id="AEAPI1173"></a>Syntax</p>
<pre>APEX_LDAP.IS_MEMBER(
    p_username     IN VARCHAR2,
    p_pass         IN VARCHAR2 DEFAULT NULL,
    p_auth_base    IN VARCHAR2,
    p_host         IN VARCHAR2,
    p_port         IN VARCHAR2 DEFAULT 389,
    p_use_ssl      IN VARCHAR2 DEFAULT &#39;N&#39;,
    p_group        IN VARCHAR2,
    p_group_base   IN VARCHAR2)
RETURN BOOLEAN;
</pre>
<p class="subhead2"><a id="AEAPI1174"></a>Parameters</p>
<p><a href="#CDEGDACD">Table 15-4</a> describes the parameters available in the <code>IS_MEMBER</code> function.</p>
<div id="AEAPI1175" class="tblformal">
<p class="titleintable"><a id="sthref473"></a><a id="CDEGDACD"></a>Table 15-4 IS_MEMBER Parameters</p>
<table class="cellalignment3315" title="IS_MEMBER Parameters" summary="This table describes the parameters available in the IS_MEMBER procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t5">Parameter</th>
<th class="cellalignment3316" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t5" headers="r1c1-t5">
<p><code>p_username</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t5 r1c2-t5">
<p>Login name of the user.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t5" headers="r1c1-t5">
<p><code>p_pass</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t5 r1c2-t5">
<p>Password for <code>p_username</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t5" headers="r1c1-t5">
<p><code>p_auth_base</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t5 r1c2-t5">
<p>LDAP search base, for example, <code>dc=users,dc=my,dc=org</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t5" headers="r1c1-t5">
<p><code>p_host</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t5 r1c2-t5">
<p>LDAP server host name.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t5" headers="r1c1-t5">
<p><code>p_port</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t5 r1c2-t5">
<p>LDAP server port number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t5" headers="r1c1-t5">
<p><code>p_use_ssl</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t5 r1c2-t5">
<p>Set to &#39;Y&#39; to use SSL in bind to LDAP server. Set to &#39;A&#39; to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to &#39;N&#39; to not use SSL.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r8c1-t5" headers="r1c1-t5">
<p><code>p_group</code></p>
</td>
<td class="cellalignment3317" headers="r8c1-t5 r1c2-t5">
<p>Name of the group to be search for membership.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r9c1-t5" headers="r1c1-t5">
<p><code>p_group_base</code></p>
</td>
<td class="cellalignment3317" headers="r9c1-t5 r1c2-t5">
<p>The base from which the search should be started.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1176"></a>Example</p>
<p>The following example demonstrates how to use the <code>APEX_LDAP.IS_MEMBER</code> function to verify whether a user is a member of a group against an LDAP server.</p>
<pre>DECLARE
    L_VAL boolean;
BEGIN
    L_VAL := APEX_LDAP.IS_MEMBER(
        p_username =&gt;&#39;firstname.lastname&#39;,
        p_pass =&gt;&#39;abcdef&#39;,
        p_auth_base =&gt; &#39;cn=user,l=amer,dc=my_company,dc=com&#39;,
        p_host =&gt; &#39;our_ldap_sever.my_company.com&#39;,
        p_port =&gt; 389,
        p_group =&gt; &#39;group_name&#39;,
        p_group_base =&gt; &#39;group_base&#39;);
    IF L_VAL THEN
        htp.p(&#39;Is a member.&#39;);
    ELSE
        htp.p(&#39;Not a member.&#39;);
    END IF;
END;
</pre></div>
<!-- class="refsect1" -->
<a id="CDEJJJAB"></a>
<div id="AEAPI241" class="refsect1">
<h2 class="refsect1">MEMBER_OF Function<a id="sthref474"></a></h2>
<p>The <code>MEMBER_OF</code> function returns an array of groups the user name designated by <code>p_username</code> (with password if required) belongs to, using the provided auth base, host, and port.</p>
<p class="subhead2"><a id="AEAPI1177"></a>Syntax</p>
<pre>APEX_LDAP.MEMBER_OF(
    p_username     IN VARCHAR2 DEFAULT NULL,
    p_pass         IN VARCHAR2 DEFAULT NULL,
    p_auth_base    IN VARCHAR2,
    p_host         IN VARCHAR2,
    p_port         IN VARCHAR2 DEFAULT 389,
    p_use_ssl      IN VARCHAR2 DEFAULT &#39;N&#39;)
RETURN apex_application_global.vc_arr2;
</pre>
<p class="subhead2"><a id="AEAPI1178"></a>Parameters</p>
<p><a href="#CDEFAHFH">Table 15-5</a> describes the parameters available in the <code>MEMBER_OF</code> function.</p>
<div id="AEAPI1179" class="tblformal">
<p class="titleintable"><a id="sthref475"></a><a id="CDEFAHFH"></a>Table 15-5 MEMBER_OF Parameters</p>
<table class="cellalignment3315" title="MEMBER_OF Parameters" summary="This table describes the parameters available in the MEMBER_OF function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t6">Parameter</th>
<th class="cellalignment3316" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t6" headers="r1c1-t6">
<p><code>p_username</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t6 r1c2-t6">
<p>Login name of the user.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t6" headers="r1c1-t6">
<p><code>p_pass</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t6 r1c2-t6">
<p>Password for <code>p_username</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t6" headers="r1c1-t6">
<p><code>p_auth_base</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t6 r1c2-t6">
<p>LDAP search base, for example, <code>dc=users,dc=my,dc=org</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t6" headers="r1c1-t6">
<p><code>p_host</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t6 r1c2-t6">
<p>LDAP server host name.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t6" headers="r1c1-t6">
<p><code>p_port</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t6 r1c2-t6">
<p>LDAP server port number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t6" headers="r1c1-t6">
<p><code>p_use_ssl</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t6 r1c2-t6">
<p>Set to &#39;Y&#39; to use SSL in bind to LDAP server. Set to &#39;A&#39; to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to &#39;N&#39; to not use SSL (default).</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1180"></a>Example</p>
<p>The following example demonstrates how to use the <code>APEX_LDAP.MEMBER_OF</code> function to retrieve all the groups designated by the specified username.</p>
<pre>DECLARE
    L_MEMBERSHIP       apex_application_global.vc_arr2;
BEGIN
    L_MEMBERSHIP := APEX_LDAP.MEMBER_OF(
        p_username         =&gt; &#39;firstname.lastname&#39;,
        p_pass             =&gt; &#39;abcdef&#39;,
        p_auth_base        =&gt; &#39;cn=user,l=amer,dc=my_company,dc=com&#39;,
        p_host             =&gt; &#39;our_ldap_sever.my_company.com&#39;,
        p_port             =&gt; &#39;389&#39;);
    FOR i IN L_MEMBERSHIP.FIRST..L_MEMBERSHIP.LAST LOOP
        htp.p(&#39;Member of: &#39;||L_MEMBERSHIP(i));
    END LOOP;
END;
</pre></div>
<!-- class="refsect1" -->
<a id="CDEBFEII"></a>
<div id="AEAPI242" class="refsect1">
<h2 class="refsect1">MEMBER_OF2 Function<a id="sthref476"></a></h2>
<p>The <code>MEMBER_OF2</code> function returns a <code>VARCHAR2</code> colon delimited list of groups the user name designated by <code>p_username</code> (with password if required) belongs to, using the provided auth base, host, and port.</p>
<p class="subhead2"><a id="AEAPI1181"></a>Syntax</p>
<pre>APEX_LDAP.MEMBER_OF2(
    p_username     IN VARCHAR2 DEFAULT NULL,
    p_pass         IN VARCHAR2 DEFAULT NULL,
    p_auth_base    IN VARCHAR2,
    p_host         IN VARCHAR2,
    p_port         IN VARCHAR2 DEFAULT 389,
    p_use_ssl      IN VARCHAR2 DEFAULT &#39;N&#39;)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1182"></a>Parameters</p>
<p><a href="#CDECIEEG">Table 15-6</a> describes the parameters available in the <code>MEMBER_OF2</code> function.</p>
<div id="AEAPI1183" class="tblformal">
<p class="titleintable"><a id="sthref477"></a><a id="CDECIEEG"></a>Table 15-6 MEMBER_OF2 Parameters</p>
<table class="cellalignment3315" title="MEMBER_OF2 Parameters" summary="This table describes the parameters available in the MEMBER_OF2 procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t7">Parameter</th>
<th class="cellalignment3316" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t7" headers="r1c1-t7">
<p><code>p_username</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t7 r1c2-t7">
<p>Login name of the user.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t7" headers="r1c1-t7">
<p><code>p_pass</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t7 r1c2-t7">
<p>Password for <code>p_username</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t7" headers="r1c1-t7">
<p><code>p_auth_base</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t7 r1c2-t7">
<p>LDAP search base, for example, <code>dc=users,dc=my,dc=org</code>.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t7" headers="r1c1-t7">
<p><code>p_host</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t7 r1c2-t7">
<p>LDAP server host name.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t7" headers="r1c1-t7">
<p><code>p_port</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t7 r1c2-t7">
<p>LDAP server port number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t7" headers="r1c1-t7">
<p><code>p_use_ssl</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t7 r1c2-t7">
<p>Set to &#39;Y&#39; to use SSL in bind to LDAP server. Set to &#39;A&#39; to use SSL with one way authentication (requires LDAP server certificate configured in an Oracle wallet). Set to &#39;N&#39; to not use SSL (default).</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1184"></a>Example</p>
<p>The following example demonstrates how to use the <code>APEX_LDAP.MEMBER_OF2</code> function to retreive all the groups designated by the specified username.</p>
<pre>DECLARE
    L_VAL varchar2(4000);
BEGIN
    L_VAL := APEX_LDAP.MEMBER_OF2(
        p_username =&gt; &#39;firstname.lastname&#39;,
        p_pass =&gt; &#39;abcdef&#39;,
        p_auth_base =&gt; &#39;cn=user,l=amer,dc=my_company,dc=com&#39;,
        p_host =&gt; &#39;our_ldap_sever.my_company.com&#39;,
        p_port =&gt; 389);
    htp.p(&#39;Is Member of:&#39;||L_VAL);
END;
</pre></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3308">
<tr>
<td class="cellalignment3317">
<table class="cellalignment3313">
<tr>
<td class="cellalignment3312"><a href="apex_lang.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3312"><a href="apex_mail.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3319">
<table class="cellalignment3311">
<tr>
<td class="cellalignment3312"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3312"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3312"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3312"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3312"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3312"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
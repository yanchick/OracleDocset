<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-1799"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/APEX_JAVASCRIPT"></a><title>APEX_JAVASCRIPT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 748"/>
<meta name="dcterms.created" content="2014-05-22T14:53:19Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Application Express API Reference"/>
<meta name="dcterms.identifier" content="E17963-07"/>
<meta name="dcterms.isVersionOf" content="AEAPI"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="apex_item.htm" title="Previous" type="text/html"/>
<link rel="Next" href="apex_lang.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17963-07.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">17/28</span> <!-- End Header -->
<div id="AEAPI534" class="chapter"><a id="BCECAFHG"></a>
<h1 class="chapter"><span class="secnum">13</span> APEX_JAVASCRIPT</h1>
<p>The <a id="sthref388"></a><a id="sthref389"></a><code>APEX_JAVASCRIPT</code> package provides utility functions for adding dynamic JavaScript code to HTTP output. This package is usually used for plug-in development.</p>
<p class="subhead2"><a id="AEAPI2274"></a>Topics:</p>
<ul>
<li>
<p><a href="#BCEIDFHE">ADD_3RD_PARTY_LIBRARY_FILE Procedure</a></p>
</li>
<li>
<p><a href="#BCEJDABH">ADD_ATTRIBUTE Function Signature 1</a></p>
</li>
<li>
<p><a href="#BCEJBIDE">ADD_ATTRIBUTE Function Signature 2</a></p>
</li>
<li>
<p><a href="#BCEDADEJ">ADD_ATTRIBUTE Function Signature 3</a></p>
</li>
<li>
<p><a href="#BCEHCDHH">ADD_ATTRIBUTE Function Signature 4</a></p>
</li>
<li>
<p><a href="#BCECJDHF">ADD_INLINE_CODE Procedure</a></p>
</li>
<li>
<p><a href="#BCEIDBFE">ADD_LIBRARY Procedure</a></p>
</li>
<li>
<p><a href="#BCEBIECG">ADD_ONLOAD_CODE Procedure</a></p>
</li>
<li>
<p><a href="#BCEHBCJI">ADD_VALUE Function Signature 1</a></p>
</li>
<li>
<p><a href="#BCEDJBDB">ADD_VALUE Function Signature 2</a></p>
</li>
<li>
<p><a href="#BCEEDEGI">ADD_VALUE Function Signature 3</a></p>
</li>
<li>
<p><a href="#BCEGGCBC">ADD_VALUE Function Signature 4</a></p>
</li>
<li>
<p><a href="#BCEGGGAG">Escape Function</a></p>
</li>
</ul>
<div class="refentry"><a id="BCEIDFHE"></a>
<div id="AEAPI29394" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_3RD_PARTY_LIBRARY_FILE Procedure</h2>
<p>This procedure adds the script tag to load a 3rd party javascript library file and also takes into account the specified Content Delivery Network for the application. Supported libraries include: jQuery, jQueryUI, and jQuery Mobile.</p>
<p class="subhead2"><a id="AEAPI29395"></a>Syntax</p>
<pre>add_3rd_party_library_file ( 
    p_library in varchar2, 
    p_file_name in varchar2, 
    p_directory in varchar2 default null, 
    p_version in varchar2 default null ); 
</pre>
<p class="subhead2"><a id="AEAPI29396"></a>Parameters</p>
<p><a href="#BCEGBIBE">Table 13-1</a> describes the parameters available for the ADD_3RD_PARTY_LIBRARY_FILE procedure.</p>
<div id="AEAPI29397" class="tblformal">
<p class="titleintable"><a id="sthref390"></a><a id="BCEGBIBE"></a>Table 13-1 ADD_3RD_PARTY_LIBRARY_FILE Parameters</p>
<table class="cellalignment3315" title="ADD_3RD_PARTY_LIBRARY_FILE Parameters" summary="parameter table" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t2">Parameters</th>
<th class="cellalignment3316" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t2" headers="r1c1-t2">
<p><code>p_library</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t2 r1c2-t2">
<p>Use one of the <code>c_library_*</code> constants</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t2" headers="r1c1-t2">
<p><code>p_file_name</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t2 r1c2-t2">
<p>Specifies the file name without version, .min and .js</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t2" headers="r1c1-t2">
<p><code>p_directory</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t2 r1c2-t2">
<p>Directory where the file <code>p_file_name</code> is located (optional)</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t2" headers="r1c1-t2">
<p><code>p_version</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t2 r1c2-t2">
<p>If no value is provided then the same version Application Express ships is used (optional)</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI29398"></a>Example</p>
<p>This example loads the JavaScript file of the Draggable feature of jQuery UI.</p>
<pre>apex_javascript.add_3rd_party_library_file (
     p_library   =&gt;apex_javascript.c_library_jquery_ui,
     p_file_name =&gt; &#39;jquery.ui.draggable&#39; )
</pre></div>
<!-- class="refsect1" -->
<a id="BCEJDABH"></a>
<div id="AEAPI1090" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_ATTRIBUTE <a id="sthref391"></a>Function Signature 1</h2>
<p>This function returns the attribute and the attribute&#39;s escaped text surrounded by double quotation marks.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This function does not escape HTML tags. It only prevents HTML tags from breaking the JavaScript object attribute assignment. To prevent XSS (cross site scripting) attacks, you must also call <code>SYS.HTF.ESCAPE_SC</code> to prevent embedded JavaScript code from being executed when you inject the string into the HTML page.</div>
</div>
<!-- class="refsect1" --></div>
<!-- class="refentry" --></div>
<!-- class="chapter" -->
<p class="subhead2"><a id="AEAPI1091"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_ATTRIBUTE (
    p_name       IN VARCHAR2,
    p_value      IN VARCHAR2,
    p_omit_null  IN BOOLEAN:=TRUE,
    p_add_comma  IN BOOLEAN:=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1092"></a>Parameters</p>
<p><a href="#BCEFEEBI">Table 13-2</a> describes the parameters available in the <code>ADD_ATTRIBUTE</code> function signature 1.</p>
<div id="AEAPI1093" class="tblformal">
<p class="titleintable"><a id="sthref392"></a><a id="BCEFEEBI"></a>Table 13-2 ADD_ATTRIBUTE Signature 1 Parameters</p>
<table class="cellalignment3315" title="ADD_ATTRIBUTE Signature 1 Parameters" summary="This table describes the parameters available in the ADD_ATTRIBUTE signature 1 function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t4">Parameter</th>
<th class="cellalignment3316" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t4" headers="r1c1-t4">
<p><code>p_name</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t4 r1c2-t4">
<p>Name of the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t4" headers="r1c1-t4">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t4 r1c2-t4">
<p>Text to be assigned to the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t4" headers="r1c1-t4">
<p><code>p_omit_null</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t4 r1c2-t4">
<p>If set to TRUE and <code>p_value</code> is empty, returns NULL.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t4" headers="r1c1-t4">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t4 r1c2-t4">
<p>If set to TRUE, a trailing comma is added when a value is returned.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1094"></a>Example</p>
<p>Adds a call to the <code>addEmployee</code> JavaScript function and passes in a JavaScript object with different attribute values. The output of this call looks like:</p>
<pre>addEmployee(
  {&#34;FirstName&#34;:&#34;John&#34;,
   &#34;LastName&#34;:&#34;Doe&#34;,
   &#34;Salary&#34;:2531.29,
   &#34;Birthday&#34;:new Date(1970,1,15,0,0,0),
   &#34;isSalesman&#34;:true
  });
</pre>
<p>As the last attribute you should use the parameter combination FALSE (<code>p_omit_null</code>), FALSE (<code>p_add_comma</code>) so that the last attribute is always generated. This avoids that you have to check for the other parameters if a trailing comma should be added or not.</p>
<pre>apex_javascript.add_onload_code (
    &#39;addEmployee(&#39;||
        &#39;{&#39;||
        apex_javascript.add_attribute(&#39;FirstName&#39;,  sys.htf.escape_sc(l_first_name))||
        apex_javascript.add_attribute(&#39;LastName&#39;,   sys.htf.escape_sc(l_last_name))||
        apex_javascript.add_attribute(&#39;Salary&#39;,     l_salary)||
        apex_javascript.add_attribute(&#39;Birthday&#39;,   l_birthday)||
        apex_javascript.add_attribute(&#39;isSalesman&#39;, l_is_salesman, false, false)||
        &#39;});&#39; );
</pre>
<a id="BCEJBIDE"></a>
<div id="AEAPI1095" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_ATTRIBUTE <a id="sthref393"></a>Function Signature 2</h2>
<p>This function returns the attribute and the attribute&#39;s number.</p>
<p class="subhead2"><a id="AEAPI1096"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_ATTRIBUTE (
    p_name       IN VARCHAR2,
    p_value      IN NUMBER,
    p_omit_null  IN BOOLEAN:=TRUE,
    p_add_comma  IN BOOLEAN:=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1097"></a>Parameters</p>
<p><a href="#BCEFFCHE">Table 13-3</a> describes the parameters available in the <code>ADD_ATTRIBUTE</code> function signature 2.</p>
<div id="AEAPI1098" class="tblformal">
<p class="titleintable"><a id="sthref394"></a><a id="BCEFFCHE"></a>Table 13-3 ADD_ATTRIBUTE Signature 2 Parameters</p>
<table class="cellalignment3315" title="ADD_ATTRIBUTE Signature 2 Parameters" summary="This table describes the parameters available in the ADD_ATTRIBUTE function signature 2." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t5">Parameter</th>
<th class="cellalignment3316" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t5" headers="r1c1-t5">
<p><code>p_name</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t5 r1c2-t5">
<p>Name of the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t5" headers="r1c1-t5">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t5 r1c2-t5">
<p>Number which should be assigned to the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t5" headers="r1c1-t5">
<p><code>p_omit_null</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t5 r1c2-t5">
<p>If set to TRUE and <code>p_value</code> is empty, returns NULL.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t5" headers="r1c1-t5">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t5 r1c2-t5">
<p>If set to TRUE, a trailing comma is added when a value is returned.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1099"></a>Example</p>
<p>See example for <a href="#BCEJDABH">ADD_ATTRIBUTE Function Signature 1</a>.</p>
</div>
<!-- class="refsect1" -->
<a id="BCEDADEJ"></a>
<div id="AEAPI1100" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_ATTRIBUTE <a id="sthref395"></a>Function Signature 3</h2>
<p>This function returns the attribute and a JavaScript boolean of true, false, or null.</p>
<p class="subhead2"><a id="AEAPI1101"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_ATTRIBUTE (
    p_name       IN VARCHAR2,
    p_value      IN BOLLEAN,
    p_omit_null  IN BOOLEAN:=TRUE,
    p_add_comma  IN BOOLEAN:=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1102"></a>Parameters</p>
<p><a href="#BCEFEJJI">Table 13-4</a> describes the parameters available in the <code>ADD_ATTRIBUTE</code> function signature 3.</p>
<div id="AEAPI1103" class="tblformal">
<p class="titleintable"><a id="sthref396"></a><a id="BCEFEJJI"></a>Table 13-4 ADD_ATTRIBUTE Signature 3 Parameters</p>
<table class="cellalignment3315" title="ADD_ATTRIBUTE Signature 3 Parameters" summary="This table describes the parameters available in the ADD_ATTRIBUTE function signature 3." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t6">Parameter</th>
<th class="cellalignment3316" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t6" headers="r1c1-t6">
<p><code>p_name</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t6 r1c2-t6">
<p>Name of the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t6" headers="r1c1-t6">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t6 r1c2-t6">
<p>Boolean assigned to the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t6" headers="r1c1-t6">
<p><code>p_omit_null</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t6 r1c2-t6">
<p>If <code>p_omit_null</code> is TRUE and <code>p_value</code> is NULL the function returns NULL.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t6" headers="r1c1-t6">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t6 r1c2-t6">
<p>If set to TRUE a trailing comma is added when a value is returned.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1104"></a>Example</p>
<p>See example for <a href="#BCEJDABH">ADD_ATTRIBUTE Function Signature 1</a></p>
</div>
<!-- class="refsect1" -->
<a id="BCEHCDHH"></a>
<div id="AEAPI1105" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_ATTRIBUTE <a id="sthref397"></a>Function Signature 4</h2>
<p>This function returns the attribute and the attribute&#39;s date. If p_value is null the value null is returned.</p>
<p class="subhead2"><a id="AEAPI1106"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_ATTRIBUTE (
    p_name       IN VARCHAR2,
    p_value      IN DATE,
    p_omit_null  IN BOOLEAN:=TRUE,
    p_add_comma  IN BOOLEAN:=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1107"></a>Parameters</p>
<p><a href="#BCEEIGDH">Table 13-5</a> describes the parameters available in the <code>ADD_ATTRIBUTE</code> function signature 4.</p>
<div id="AEAPI1108" class="tblformal">
<p class="titleintable"><a id="sthref398"></a><a id="BCEEIGDH"></a>Table 13-5 ADD_ATTRIBUTE SIgnature 4 Parameters</p>
<table class="cellalignment3315" title="ADD_ATTRIBUTE SIgnature 4 Parameters" summary="This table describes the parameters available in the ADD_ATTRIBUTE function signature 4." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t7">Parameter</th>
<th class="cellalignment3316" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t7" headers="r1c1-t7">
<p><code>p_name</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t7 r1c2-t7">
<p>Name of the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t7" headers="r1c1-t7">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t7 r1c2-t7">
<p>Date assigned to the JavaScript object attribute.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t7" headers="r1c1-t7">
<p><code>p_omit_null</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t7 r1c2-t7">
<p>If <code>p_omit_null</code> is TRUE and <code>p_value</code> is NULL the function returns NULL.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t7" headers="r1c1-t7">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t7 r1c2-t7">
<p>If set to TRUE a trailing comma is added when a value is returned.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1109"></a>Example</p>
<p>See example for <a href="#BCEJDABH">ADD_ATTRIBUTE Function Signature 1</a></p>
</div>
<!-- class="refsect1" -->
<a id="BCECJDHF"></a>
<div id="AEAPI1110" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_INLINE_CODE <a id="sthref399"></a>Procedure</h2>
<p>This procedure adds a code snippet that is included inline into the HTML output. For example, you can use this procedure to add new functions or global variable declarations. If you want to execute code you should use <a href="#BCEBIECG">ADD_ONLOAD_CODE Procedure</a>.</p>
<p class="subhead2"><a id="AEAPI1111"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_INLINE_CODE (
    p_code       IN VARCHAR2,
    p_key        IN VARCHAR2 DEFAULT NULL);
</pre>
<p class="subhead2"><a id="AEAPI1112"></a>Parameters</p>
<p><a href="#BCEEADAE">Table 13-6</a> describes the parameters available in the <code>ADD_INLINE_CODE</code> procedure.</p>
<div id="AEAPI1113" class="tblformal">
<p class="titleintable"><a id="sthref400"></a><a id="BCEEADAE"></a>Table 13-6 ADD_INLINE_CODE Parameters</p>
<table class="cellalignment3315" title="ADD_INLINE_CODE Parameters" summary="This table describes the parameters available in the ADD_INLINE_CODE procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t8">Parameter</th>
<th class="cellalignment3316" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t8" headers="r1c1-t8">
<p><code>p_code</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t8 r1c2-t8">
<p>JavaScript code snippet. For example: <code>$s(&#39;P1_TEST&#39;,123);</code></p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t8" headers="r1c1-t8">
<p><code>p_key</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t8 r1c2-t8">
<p>Identifier for the code snippet. If specified and a code snippet with the same name has already been added, the new code snippet is ignored. If <code>p_key</code> is NULL the snippet is always added.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1114"></a>Example</p>
<p>The following example includes the JavaScript function <code>initMySuperWidget</code> in the HTML output. If the plug-in is used multiple times on the page and the <code>add_inline_code</code> is called multiple times, it is added once to the HTML output because all calls have the same value for <code>p_key</code>.</p>
<pre>apex_javascript.add_inline_code (
    p_code =&gt; &#39;function initMySuperWidget(){&#39;||chr(10)||
              &#39;  // do something&#39;||chr(10)||
              &#39;};&#39;,
    p_key  =&gt; &#39;my_super_widget_function&#39; );
</pre></div>
<!-- class="refsect1" -->
<a id="BCEIDBFE"></a>
<div id="AEAPI1115" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_LIBRARY <a id="sthref401"></a>Procedure</h2>
<p>This procedure adds the script tag to load a JavaScript library. If a library has been added, it is not added a second time.</p>
<p class="subhead2"><a id="AEAPI1116"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_LIBRARY (
    p_name                   IN VARCHAR2,
    p_directory              IN VARCHAR2,
    p_version                IN VARCHAR2 DEFAULT NULL,
    p_check_to_add_minified  IN BOOLEAN DEFAULT FALSE,
    p_skip_extension         IN BOOLEAN  DEFAULT FALSE,
    p_ie_condition           IN VARCHAR2 DEFAULT NULL,
    p_key                    IN VARCHAR2 DEFAULT NULL);
</pre>
<p class="subhead2"><a id="AEAPI1117"></a>Parameters</p>
<p><a href="#BCEEIADD">Table 13-7</a> describes the parameters available in the <code>ADD_LIBRARY</code> procedure.</p>
<div id="AEAPI1118" class="tblformal">
<p class="titleintable"><a id="sthref402"></a><a id="BCEEIADD"></a>Table 13-7 ADD_LIBRARY Parameters</p>
<table class="cellalignment3315" title="ADD_LIBRARY Parameters" summary="This table describes the parameters available in the ADD_LIBRARY procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t9">Parameter</th>
<th class="cellalignment3316" id="r1c2-t9">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t9" headers="r1c1-t9">
<p><code>p_name</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t9 r1c2-t9">
<p>Name of the JavaScript file. Must not use <code>.js</code> when specifying.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t9" headers="r1c1-t9">
<p><code>p_directory</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t9 r1c2-t9">
<p>Directory where JavaScript library is loaded. Must have a trailing slash.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t9" headers="r1c1-t9">
<p><code>p_version</code></p>
</td>
<td class="cellalignment3317" headers="r4c1-t9 r1c2-t9">
<p>Version identifier.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t9" headers="r1c1-t9">
<p><code>p_check_to_add_minified</code></p>
</td>
<td class="cellalignment3317" headers="r5c1-t9 r1c2-t9">
<p>If TRUE, the procedure tests if it is appropriate to add <code>.min</code> extension and add it if appropriate. This is added if an application is not running in DEBUG mode, and omitted when in DEBUG mode.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t9" headers="r1c1-t9">
<p><code>p_skip_extension</code></p>
</td>
<td class="cellalignment3317" headers="r6c1-t9 r1c2-t9">
<p>If TRUE the extension <code>.js</code> is NOT added.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t9" headers="r1c1-t9">
<p><code>p_ie_condition</code></p>
</td>
<td class="cellalignment3317" headers="r7c1-t9 r1c2-t9">
<p>Condition which is used as Internet Explorer condition.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r8c1-t9" headers="r1c1-t9">
<p><code>p_key</code></p>
</td>
<td class="cellalignment3317" headers="r8c1-t9 r1c2-t9">
<p>Name used to indicate if the library has already been loaded. If not specified, defaults to <code>p_directory||p_name||p_version</code>.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1119"></a>Example</p>
<p>The following example includes the JavaScript library file named <code>my_library.1.2.min.js</code> (if the application is not running in DEBUG mode), or <code>my_library.1.2.js</code> (if the application is running in DEBUG mode), from the directory specified by <code>p_plugin.file_prefix</code>. The addition of the <code>.min</code> extension if the application is not running in DEBUG mode is carried out because <code>p_check_to_add_minified</code> is set to true. Since <code>p_skip_extension</code> is not specified, this defaults to <code>.js</code>. Also, since <code>p_key</code> is not specified, the key defaults to <code>p_plugin.file_prefix||mylibrary.1.2</code>.</p>
<pre>apex_javascript.add_library (
    p_name                  =&gt; &#39;mylibrary.1.2&#39;,
    p_directory             =&gt; p_plugin.file_prefix,
    p_check_to_add_minified =&gt; true );
</pre></div>
<!-- class="refsect1" -->
<a id="BCEBIECG"></a>
<div id="AEAPI1120" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_ONLOAD_CODE <a id="sthref403"></a>Procedure</h2>
<p>This procedure adds a javascript code snippet to the HTML output which is executed by the onload event. If an entry with the same key exists it is ignored. If <code>p_key</code> is NULL the snippet is always added.</p>
<p class="subhead2"><a id="AEAPI1121"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_ONLOAD_CODE (
    p_code           IN VARCHAR2,
    p_key            IN VARCHAR2 DEFAULT NULL);
</pre>
<p class="subhead2"><a id="AEAPI1122"></a>Parameters</p>
<p><a href="#BCEDGFFD">Table 13-8</a> describes the parameters available in the <code>ADD_ONLOAD_CODE</code> procedure.</p>
<div id="AEAPI1123" class="tblformal">
<p class="titleintable"><a id="sthref404"></a><a id="BCEDGFFD"></a>Table 13-8 ADD_ONLOAD_CODE Parameters</p>
<table class="cellalignment3315" title="ADD_ONLOAD_CODE Parameters" summary="This table describes the parameters available in the ADD_ONLOAD_CODE procedure." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t10">Parameter</th>
<th class="cellalignment3316" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t10" headers="r1c1-t10">
<p><code>p_code</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t10 r1c2-t10">
<p>Javascript code snippet to be executed during the onload event.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t10" headers="r1c1-t10">
<p><code>p_key</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t10 r1c2-t10">
<p>Any name to identify the specified code snippet. If specified, the code snippet is added if there has been no other call with the same <code>p_key</code>. If <code>p_key</code> is NULL the code snippet is always added.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1124"></a>Example</p>
<p>Adds the JavaScript call <code>initMySuperWidget()</code>to the onload buffer. If the plug-in is used multiple times on the page and the <code>add_onload_code</code> is called multiple times, it is added once to the HTML output because all calls have the same value for <code>p_key</code></p>
<pre>apex_javascript.add_onload_code (
    p_code =&gt; &#39;initMySuperWidget();&#39;
    p_key  =&gt; &#39;my_super_widget&#39; );
</pre></div>
<!-- class="refsect1" -->
<a id="BCEHBCJI"></a>
<div id="AEAPI1125" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_VALUE <a id="sthref405"></a>Function Signature 1</h2>
<p>This function returns the escaped text surrounded by double quotation marks. For example, this string could be returned <code>&#34;That\&#39;s a test&#34;</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This function does not escape HTML tags. It only prevents HTML tags from breaking the JavaScript object attribute assignment. To prevent XSS (cross site scripting) attacks, you must also call <code>SYS.HTF.ESCAPE_SC</code> to prevent embedded JavaScript code from being executed when you inject the string into the HTML page.</div>
</div>
<!-- class="refsect1" -->
<p class="subhead2"><a id="AEAPI1126"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_VALUE (
    p_value          IN VARCHAR2,
    p_add_comma      IN BOOLEAN :=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1127"></a>Parameters</p>
<p><a href="#BCEIGHGB">Table 13-9</a> describes the parameters available in the <code>ADD_VALUE</code> signature 1 function.</p>
<div id="AEAPI1128" class="tblformal">
<p class="titleintable"><a id="sthref406"></a><a id="BCEIGHGB"></a>Table 13-9 ADD_VALUE Signature 1 Parameters</p>
<table class="cellalignment3315" title="ADD_VALUE Signature 1 Parameters" summary="This table describes the parameters available in the ADD_VALUE signature 1 function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t12">Parameter</th>
<th class="cellalignment3316" id="r1c2-t12">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t12" headers="r1c1-t12">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t12 r1c2-t12">
<p>Text to be escaped and wrapped by double quotation marks.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t12" headers="r1c1-t12">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t12 r1c2-t12">
<p>If <code>p_add_comma</code> is TRUE a trailing comma is added.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1129"></a>Example</p>
<p>This example adds some JavaScript code to the onload buffer. The value of <code>p_item.attribute_01</code> is first escaped with <code>htf.escape_sc</code> to prevent XSS attacks and then assigned to the JavaScript variable <code>lTest</code> by calling <code>apex_javascript.add_value</code>. <code>Add_value</code> takes care of properly escaping the value and wrapping it with double quotation marks. Because commas are not wanted, <code>p_add_comma</code> is set to FALSE.</p>
<pre>apex_javascript.add_onload_code (
    &#39;var lTest = &#39;||apex_javascript.add_value(sys.htf.escape_sc(p_item.attribute_01), FALSE)||&#39;;&#39;||chr(10)||
    &#39;showMessage(lTest);&#39; );
</pre>
<a id="BCEDJBDB"></a>
<div id="AEAPI1130" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_VALUE <a id="sthref407"></a>Function Signature 2</h2>
<p>This function returns <code>p_value</code> as JavaScript number, if <code>p_value</code> is NULL the value null is returned.</p>
<p class="subhead2"><a id="AEAPI1131"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_VALUE (
    p_value          IN NUMBER,
    p_add_comma      IN BOOLEAN :=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1132"></a>Parameters</p>
<p><a href="#BCEIGHGB">Table 13-9</a> describes the parameters available in the <code>ADD_VALUE</code> signature 2 function.</p>
<div id="AEAPI1133" class="tblformal">
<p class="titleintable"><a id="sthref408"></a><a id="sthref409"></a>Table 13-10 ADD_VALUE Signature 2 Parameters</p>
<table class="cellalignment3315" title="ADD_VALUE Signature 2 Parameters" summary="This table describes the parameters available in the ADD_VALUE signature 2 function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t13">Parameter</th>
<th class="cellalignment3316" id="r1c2-t13">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t13" headers="r1c1-t13">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t13 r1c2-t13">
<p>Number which should be returned as JavaScript number.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t13" headers="r1c1-t13">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t13 r1c2-t13">
<p>If <code>p_add_comma</code> is TRUE a trailing comma is added. Default is TRUE.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1134"></a>Example</p>
<p>See example for <a href="#BCEHBCJI">ADD_VALUE Function Signature 1</a> .</p>
</div>
<!-- class="refsect1" -->
<a id="BCEEDEGI"></a>
<div id="AEAPI1135" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_VALUE <a id="sthref410"></a>Function Signature 3</h2>
<p>This function returns <code>p_value</code> as JavaScript boolean. If <code>p_value</code> is NULL the value null is returned.</p>
<p class="subhead2"><a id="AEAPI1136"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_VALUE (
    p_value          IN BOOLEAN,
    p_add_comma      IN BOOLEAN :=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1137"></a>Parameters</p>
<p><a href="#BCEIJJIG">Table 13-11</a> describes the parameters available in the <code>ADD_VALUE</code> signature 3 function.</p>
<div id="AEAPI1138" class="tblformal">
<p class="titleintable"><a id="sthref411"></a><a id="BCEIJJIG"></a>Table 13-11 ADD_VALUE Signature 3 Parameters</p>
<table class="cellalignment3315" title="ADD_VALUE Signature 3 Parameters" summary="This table describes the parameters available in the ADD_VALUE signature 3 function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t14">Parameter</th>
<th class="cellalignment3316" id="r1c2-t14">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t14" headers="r1c1-t14">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t14 r1c2-t14">
<p>Boolean which should be returned as JavaScript boolean.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t14" headers="r1c1-t14">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t14 r1c2-t14">
<p>If <code>p_add_comma</code> is TRUE a trailing comma is added. Default is TRUE.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1139"></a>Example</p>
<p>See example for <a href="#BCEHBCJI">ADD_VALUE Function Signature 1</a> .</p>
</div>
<!-- class="refsect1" -->
<a id="BCEGGCBC"></a>
<div id="AEAPI1140" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">ADD_VALUE <a id="sthref412"></a>Function Signature 4</h2>
<p>This function returns <code>p_value</code> as JavaScript date object, if <code>p_value</code> is NULL the value null is returned.</p>
<p class="subhead2"><a id="AEAPI1141"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ADD_VALUE (
    p_value          IN NUMBER,
    p_add_comma      IN BOOLEAN :=TRUE)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1142"></a>Parameters</p>
<p><a href="#BCEFGJFH">Table 13-12</a> describes the parameters available in the <code>ADD_VALUE</code> signature 4 function.</p>
<div id="AEAPI1143" class="tblformal">
<p class="titleintable"><a id="sthref413"></a><a id="BCEFGJFH"></a>Table 13-12 ADD_VALUE Signature 4 Parameters</p>
<table class="cellalignment3315" title="ADD_VALUE Signature 4 Parameters" summary="This table describes the parameters available in the ADD_VALUE signature 4 function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t15">Parameter</th>
<th class="cellalignment3316" id="r1c2-t15">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t15" headers="r1c1-t15">
<p><code>p_value</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t15 r1c2-t15">
<p>Date which should be returned as JavaScript date object.</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t15" headers="r1c1-t15">
<p><code>p_add_comma</code></p>
</td>
<td class="cellalignment3317" headers="r3c1-t15 r1c2-t15">
<p>If <code>p_add_comma</code> is TRUE a trailing comma is added. Default is TRUE.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1144"></a>Example</p>
<p>See example for <a href="#BCEHBCJI">ADD_VALUE Function Signature 1</a> .</p>
</div>
<!-- class="refsect1" -->
<a id="BCEGGGAG"></a>
<div id="AEAPI1145" class="refsect1"><!-- infolevel="all" infotype="General" -->
<h2 class="refsect1">Escape <a id="sthref414"></a>Function</h2>
<p>This function escapes text to be used in JavaScript. This function makes the following repl<code><span class="codeinlineitalic">a</span></code>cements:</p>
<div id="AEAPI2275" class="tblformal">
<p class="titleintable"><a id="sthref415"></a><a id="sthref416"></a>Table 13-13 Table of Replacement Values</p>
<table class="cellalignment3315" title="Table of Replacement Values" summary="Table of Replacement Values" dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t16">Replacement</th>
<th class="cellalignment3316" id="r1c2-t16">After replacement</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t16" headers="r1c1-t16">
<p>&lt;</p>
</td>
<td class="cellalignment3317" headers="r2c1-t16 r1c2-t16">
<p>\u003c</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r3c1-t16" headers="r1c1-t16">
<p>&gt;</p>
</td>
<td class="cellalignment3317" headers="r3c1-t16 r1c2-t16">
<p>\u003e</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r4c1-t16" headers="r1c1-t16">
<p>\</p>
</td>
<td class="cellalignment3317" headers="r4c1-t16 r1c2-t16">
<p>\\</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r5c1-t16" headers="r1c1-t16">
<p>/</p>
</td>
<td class="cellalignment3317" headers="r5c1-t16 r1c2-t16">
<p>\/</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r6c1-t16" headers="r1c1-t16">
<p>&#34;</p>
</td>
<td class="cellalignment3317" headers="r6c1-t16 r1c2-t16">
<p>\u0022</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r7c1-t16" headers="r1c1-t16">
<p>&#39;</p>
</td>
<td class="cellalignment3317" headers="r7c1-t16 r1c2-t16">
<p>\u0027</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r8c1-t16" headers="r1c1-t16">
<p>tab</p>
</td>
<td class="cellalignment3317" headers="r8c1-t16 r1c2-t16">
<p>\t</p>
</td>
</tr>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r9c1-t16" headers="r1c1-t16">
<p>chr(10)</p>
</td>
<td class="cellalignment3317" headers="r9c1-t16 r1c2-t16">
<p>\n</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
This function prevents HTML tags from breaking the JavaScript object attribute assignment and also escapes the HTML tags &#39;&lt;&#39; and &#39;&gt;&#39;. It does not escape other HTML tags, therefore to be sure to prevent XSS (cross site scripting) attacks, you must also call <code>SYS.HTF.ESCAPE_SC</code> to prevent embedded JavaScript code from being executed when you inject the string into the HTML page.</div>
</div>
<!-- class="refsect1" -->
<p class="subhead2"><a id="AEAPI1147"></a>Syntax</p>
<pre>APEX_JAVASCRIPT.ESCAPE (
    p_text  IN VARCHAR2)
RETURN VARCHAR2;
</pre>
<p class="subhead2"><a id="AEAPI1148"></a>Parameters</p>
<p><a href="#BCEHFGHA">Table 13-14</a> describes the parameters available in the <code>ESCAPE</code> function.</p>
<div id="AEAPI1149" class="tblformal">
<p class="titleintable"><a id="sthref417"></a><a id="BCEHFGHA"></a>Table 13-14 ESCAPE Parameters</p>
<table class="cellalignment3315" title="ESCAPE Parameters" summary="This table describes the parameters available in the ESCAPE function." dir="ltr">
<thead>
<tr class="cellalignment3309">
<th class="cellalignment3316" id="r1c1-t18">Parameter</th>
<th class="cellalignment3316" id="r1c2-t18">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment3309">
<td class="cellalignment3317" id="r2c1-t18" headers="r1c1-t18">
<p><code>p_text</code></p>
</td>
<td class="cellalignment3317" headers="r2c1-t18 r1c2-t18">
<p>Text to be escaped.</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<p class="subhead2"><a id="AEAPI1150"></a>Example</p>
<p>Adds some JavaScript code to the onload buffer. The value of p_item.attribute_01 is first escaped with htf.escape_sc to prevent XSS attacks and then escaped with apex_javascript.escape to prevent that special characters like a quotation mark break the JavaScript code.</p>
<pre>apex_javascript.add_onload_code (
    &#39;var lTest = &#34;&#39;||apex_javascript.escape(sys.htf.escape_sc(p_item.attribute_01))||&#39;&#34;;&#39;||chr(10)||
    &#39;showMessage(lTest);&#39; );
</pre></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3308">
<tr>
<td class="cellalignment3317">
<table class="cellalignment3313">
<tr>
<td class="cellalignment3312"><a href="apex_item.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3312"><a href="apex_lang.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3319">
<table class="cellalignment3311">
<tr>
<td class="cellalignment3312"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3312"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3312"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3312"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3312"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3312"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
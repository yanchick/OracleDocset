<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2111"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Configuring%20the%20OLTP"></a><title>Configuring the OLTP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090"/>
<meta name="dcterms.created" content="2017-06-08T13:41:27Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide"/>
<meta name="dcterms.identifier" content="E17928-03"/>
<meta name="dcterms.isVersionOf" content="APPCW"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="ch6.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch9.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17928-03.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">12/21</span> <!-- End Header -->
<div id="APPCW189" class="chapter"><a id="CEGEJIED"></a>
<h1 class="chapter"><span class="secnum">7</span> Configuring the OLTP</h1>
<p><a id="sthref349"></a><a id="sthref350"></a>The following sections detail how to configure the OLTP.</p>
<ul>
<li>
<p><span class="bold">If your communications protocol is SNA</span>: proceed to <a href="#CHDIJFED">Configuring the OLTP for Your SNA Environment</a>.</p>
</li>
<li>
<p><span class="bold">If your communications protocol is TCP/IP:</span> proceed to <a href="#i1016518">Configuring the OLTP for Your TCP/IP Environment</a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
On a gateway using TCP/IP support for IMS Connect, you must specify <code dir="ltr">EDIT=ULC</code> in the IMS <code dir="ltr">TRANSACT</code> macro if you need input case sensitivity. When using SNA support, you need not specify <code dir="ltr">EDIT=ULC</code> in the IMS <code dir="ltr">TRANSACT</code> macro.</div>
</li>
</ul>
<a id="CHDIJFED"></a>
<div id="APPCW190" class="sect1">
<h2 class="sect1">Configuring the OLTP for Your SNA Environment</h2>
<p>The steps for configuring your OLTP to communicate with the Oracle Database Gateway for APPC vary, depending on which OLTP you are using and on which platform the OLTP is running. CICS Transaction Server for z/OS, IMS/TM, APPC/MVS, and <a id="sthref351"></a>z/OS are the currently supported <a id="sthref352"></a>OLTPs. Choose the instructions suitable to your OLTP from the following sections:</p>
<ul>
<li>
<p><a href="#i1016652">&#34;Configuring CICS Transaction Server for z/OS&#34;</a></p>
</li>
<li>
<p><a href="#i1016654">&#34;Configuring IMS/TM&#34;</a></p>
</li>
<li>
<p><a href="#i1016655">&#34;Configuring APPC/MVS&#34;</a></p>
<div class="infobox-note">
<p class="notep1">Note:</p>
You need only perform the configuration steps for an OLTP if this is a first-time configuration for that OLTP.</div>
</li>
</ul>
<p class="subhead1"><a id="i1016652"></a><a id="APPCW315"></a>Configuring CICS Transaction Server for z/OS <a id="sthref353"></a><a id="sthref354"></a><a id="sthref355"></a><a id="sthref356"></a><a id="sthref357"></a></p>
<p>If your OLTP is CICS Transaction Server for z/OS, then perform the following steps to configure it for communication with the gateway:</p>
<ol>
<li>
<p>Configure MVS <a id="sthref358"></a>VTAM for the SNA Server that will make the APPC connection to your system. At least one independent <a id="sthref359"></a><a id="sthref360"></a>LU must be available to the gateway.</p>
</li>
<li>
<p>Check the <a id="sthref361"></a>VTAM logmode table used by the CICS Transaction Server for z/OS. (The table name is specified in the <code dir="ltr">MODETAB</code> parameter in the VTAM APPL definition for CICS.) Ensure that an entry exists for APPC sessions with parallel session and sync-level support.</p>
<p>The <a id="sthref362"></a><a id="sthref363"></a><code dir="ltr">oraplu62.asm</code> file in the <a id="sthref364"></a><code dir="ltr">%ORACLE_HOME%\dg4appc\sna</code> directory contains a sample mode entry, including comments that indicate the required values in the mode entry.</p>
</li>
<li>
<p>Using your file transfer facility, transfer the following files from the <code dir="ltr">%ORACLE_HOME%\dg4appc\demo\CICS</code> directory to the <a id="sthref365"></a>z/OS system on which you run CICS Transaction Server for z/OS:</p>
<ul>
<li>
<p><code dir="ltr">dfhcsdup.jcl</code> <a id="sthref366"></a><a id="sthref367"></a>- JCL to run the CICS <code dir="ltr">DFHCSDUP</code> utility</p>
</li>
<li>
<p><code dir="ltr">pgaflip.asm<a id="sthref368"></a><a id="sthref369"></a></code> - assembler source for the CICS <code dir="ltr">FLIP</code> transaction</p>
</li>
<li>
<p><code dir="ltr">pgaflip.jcl<a id="sthref370"></a><a id="sthref371"></a></code> - JCL to assemble and linkedit the CICS <code dir="ltr">FLIP</code> transaction</p>
</li>
</ul>
</li>
<li>
<p>Using the comments in the <a id="sthref372"></a><a id="sthref373"></a><code dir="ltr">dfhcsdup.jcl</code> file, tailor the JCL and input statements to match your system setup, and submit it for batch execution. Performing this step updates your Transaction Server for z/OS system definitions.</p>
</li>
<li>
<p>Using the instructions in the <a id="sthref374"></a><a id="sthref375"></a><code dir="ltr">pgaflip.jcl</code> file comments, tailor the JCL to match your system setup, and submit it for batch execution. Performing this step assembles and linkedits the <a id="sthref376"></a><a id="sthref377"></a><code dir="ltr">pgaflip.asm</code> file into a load module library accessible to your Transaction Server for z/OS through the <a id="sthref378"></a><a id="sthref379"></a><code dir="ltr">DFHRPL</code> DD statement in the CICS startup procedure.</p>
</li>
<li>
<p>Log on to your CICS Transaction Server for z/OS and enter the following transaction:</p>
<pre dir="ltr">CEDA INSTALL GROUP(ORAPGA)
</pre>
<p>This transaction installs the CICS connection and session definitions for APPC communication with the gateway on Windows. It also installs definitions for the sample CICS programs and transactions provided with the gateway.</p>
</li>
</ol>
<p>Your CICS Transaction Server for z/OS configuration is now complete.</p>
<p class="subhead1"><a id="i1016654"></a><a id="APPCW316"></a>Configuring IMS/TM<a id="sthref380"></a><a id="sthref381"></a><a id="sthref382"></a></p>
<p>If your OLTP is IMS/TM, then perform the following steps to configure IMS/TM and z/OS for communication with the gateway:</p>
<ol>
<li>
<p>Configure the IMS system for use with APPC.</p>
</li>
<li>
<p>Configure MVS <a id="sthref383"></a>VTAM for the SNA APPC connection to Windows. At least one i<a id="sthref384"></a><a id="sthref385"></a>ndependent LU must be available for use by the gateway, unless you are using the IMS <a id="sthref386"></a>LU6.1 Adapter for LU6.2 applications. In this case, you must have one <a id="sthref387"></a><a id="sthref388"></a>dependent LU defined for each concurrent session. For example, if you want to support 10 concurrent sessions, then you must have 10 dependent LUs defined.</p>
</li>
<li>
<p>Check the <a id="sthref389"></a>VTAM logmode table used by IMS/TM. The table name is specified by the <code dir="ltr">MODETAB</code> parameter in the VTAM APPL definition.</p>
<p>For APPC/IMS, ensure that an entry exists for APPC sessions with sync-level support and parallel session support. The <code dir="ltr">oralu62.asm</code><a id="sthref390"></a><a id="sthref391"></a> and <code dir="ltr">oraplu62.asm</code><a id="sthref392"></a><a id="sthref393"></a> files in the <a id="sthref394"></a><code dir="ltr">%ORACLE_HOME%\dg4appc\sna</code> directory contain sample mode entries for single session and parallel session support, respectively. The samples include comments that indicate the required values in the mode entries.</p>
</li>
<li>
<p>Using your file transfer facility, transfer the following files from the <code dir="ltr">%ORACLE_HOME%\dg4appc\demo\IMS</code> directory to the z/OS system on which you run IMS/TM:</p>
<ul>
<li>
<p><code dir="ltr">pgaflip.asm</code> is assembler source for <a id="sthref395"></a><a id="sthref396"></a>IMS <code dir="ltr">FLIP</code> transaction;</p>
</li>
<li>
<p><code dir="ltr">pgaflip.jcl</code> is JCL to assemble and linkedit IMS <code dir="ltr">FLIP</code> transaction;</p>
</li>
<li>
<p><code dir="ltr">imsgen.asm</code> is IMS stage&nbsp;1 gen definitions for the IMS <code dir="ltr">FLIP</code> transaction.</p>
</li>
</ul>
</li>
<li>
<p>Add the statements in the <code dir="ltr"><a id="sthref397"></a><a id="sthref398"></a>imsgen.asm</code> file to your IMS stage&nbsp;1 gen and run your IMS stage&nbsp;1 and stage&nbsp;2 gens. Use the online change utility to enable the new transaction definition.</p>
</li>
<li>
<p>Using the comments in the <code dir="ltr"><a id="sthref399"></a><a id="sthref400"></a>pgaflip.jcl</code> file, tailor the JCL to match your system setup and submit it for batch execution. This assembles and linkedits the <a id="sthref401"></a><a id="sthref402"></a><code dir="ltr">pgaflip.asm</code> file into a load module library that is accessible to your IMS/TM system and creates a PSB and an ACB for the <code dir="ltr">FLIP</code> transaction.</p>
</li>
<li>
<p>Perform the tasks necessary on your system to make the new transaction available to IMS/TM. Depending on your system setup, you might have to restart IMS.</p>
<p>The IMS/TM configuration is now complete.</p>
</li>
</ol>
<p class="subhead1"><a id="i1016655"></a><a id="APPCW317"></a>Configuring APPC/MVS<a id="sthref403"></a><a id="sthref404"></a><a id="sthref405"></a></p>
<p>If your OLTP is APPC/MVS, then perform the following steps to configure APPC/MVS for communication with the gateway:</p>
<ol>
<li>
<p>Configure MVS <a id="sthref406"></a>VTAM for the SNA APPC connection to Windows. At least one i<a id="sthref407"></a><a id="sthref408"></a>ndependent LU must be available for use by the gateway.</p>
</li>
<li>
<p>Check the <a id="sthref409"></a>VTAM logmode table used by APPC/MVS. (The table name is specified by the <code dir="ltr">MODETAB</code> parameter in the VTAM APPL definition for APPC/MVS.) Ensure that an entry exists for APPC sessions with <code dir="ltr">SYNCLEVEL</code> and parallel session support. The <code dir="ltr">oraplu62.asm</code><a id="sthref410"></a><a id="sthref411"></a> file in the <a id="sthref412"></a><code dir="ltr">%ORACLE_HOME%\dg4appc\sna</code> directory contains a sample mode entry, including comments that indicate the required values in the mode entry.</p>
</li>
<li>
<p>Allocate a partitioned dataset (<a id="sthref413"></a>PDS) on your z/OS system where the sample files are placed. The PDS should be allocated with <code dir="ltr">RECFM=FB</code>, <code dir="ltr">LRECL=80</code>, and a <code dir="ltr">BLKSIZE</code> suitable for the device type on which it resides. Approximately two tracks of <code dir="ltr">3390</code>&nbsp;disk space are required with one directory block. Oracle suggests naming this partitioned dataset (PDS) <a id="sthref414"></a><code dir="ltr">ORAPGA.APPCMVS.SAMPLIB</code>.</p>
</li>
<li>
<p>Using the file transfer facility, transfer the following files from the <a id="sthref415"></a><code dir="ltr">%ORACLE_HOME%\dg4appc\demo\MVS</code> directory to the z/OS PDS you allocated in the previous step, using the following specified member names:</p>
<ul>
<li>
<p><code dir="ltr">pgaflip.jcl</code> is JCL to add an APPC/MVS TP profile and to define the execution environment for the transaction. Store this file in your z/OS PDS as member <code dir="ltr">PGAFLIPJ</code>.</p>
</li>
<li>
<p><code dir="ltr">pgaflip.rex</code> is the REXX source for the APPC/MVS <code dir="ltr">PGAFLIP</code> transaction. Store this file in your z/OS PDS as member <code dir="ltr">PGAFLIP</code>.</p>
</li>
</ul>
</li>
<li>
<p>Using the comments in the <code dir="ltr">pgaflip.jcl</code> file, tailor the JCL to match your system setup and submit it for batch execution. Performing this step defines the APPC/MVS TP profile for the <code dir="ltr">PGAFLIP</code> transaction and stores it in the APPC/MVS profile dataset. Ensure that you change the dataset name in the JCL to match the name of the z/OS PDS allocated in Step&nbsp;3.</p>
</li>
</ol>
<p>The APPC/MVS configuration is now complete.</p>
<ul>
<li>
<p>Now that you have completed configuration of the network on a gateway using the SNA protocol, proceed to <a href="ch9.htm#i1006517">Chapter 8, &#34;Gateway Configuration Using SNA Communication Protocol&#34;</a>.</p>
</li>
<li>
<p>If you wish to configure commit-confirm, then instructions for this configuration can be found in <a href="ch9.htm#CHDIJCGE">Configuring Commit-Confirm</a>.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1016518"></a>
<div id="APPCW191" class="sect1">
<h2 class="sect1">Configuring the OLTP for Your TCP/IP Environment</h2>
<p>These are the steps for configuring the OLTP to communicate with Oracle Database Gateway for APPC using TCP/IP for IMS Connect. IMS/TM, through IMS Connect, is the only supported OLTP for this release of the gateway.</p>
<p>Perform the following steps to configure IMS/TM and z/OS for communication with the gateway:</p>
<ol>
<li>
<p>Configure the IMS system.</p>
</li>
<li>
<p>Configure IMS Connect.</p>
<p>For information on how to configure IMS Connect, refer to the IBM <span class="italic">IMS Connect Guide and Reference</span>.</p>
</li>
<li>
<p>Using your file transfer facility, transfer the following files from the <code dir="ltr">%ORACLE_HOME%\dg4appc\demo\IMS</code> directory to the z/OS system on which you run IMS/TM:</p>
<ul>
<li>
<p><code dir="ltr">pgaflip.asm</code> is assembler source for <a id="sthref416"></a><a id="sthref417"></a>IMS <code dir="ltr">FLIP</code> transaction;</p>
</li>
<li>
<p><code dir="ltr">pgaflip.jcl</code> is JCL to assemble and linkedit IMS <code dir="ltr">FLIP</code> transaction;</p>
</li>
<li>
<p><code dir="ltr">imsgen.asm</code> is IMS stage&nbsp;1 gen definitions for the IMS <code dir="ltr">FLIP</code> transaction.</p>
</li>
</ul>
</li>
<li>
<p>Add the statements in the <code dir="ltr"><a id="sthref418"></a><a id="sthref419"></a>imsgen.asm</code> file to the IMS stage&nbsp;1 gen and run your IMS stage&nbsp;1 and stage&nbsp;2 gens. Use the online change utility to enable the new transaction definition.</p>
</li>
<li>
<p>Using the comments in the <code dir="ltr"><a id="sthref420"></a><a id="sthref421"></a>pgaflip.jcl</code> file, tailor the JCL to match your system setup and submit it for batch execution. This assembles and linkedits the <a id="sthref422"></a><a id="sthref423"></a>pgaflip.asm file into a load module library that is accessible to your IMS/TM system and creates a PSB and an ACB for the <code dir="ltr">FLIP</code> transaction.</p>
</li>
<li>
<p>Perform the tasks necessary on your system to make the new transaction available to IMS/TM. Depending on your system setup, you might have to restart IMS.</p>
</li>
</ol>
<p>The IMS/TM configuration is now complete.</p>
<ul>
<li>
<p>At this point, proceed to <a href="ch10.htm#g1023426">Chapter 9, &#34;Gateway Configuration Using TCP/IP Communication Protocol&#34;</a> to complete configuration of the gateway and its components.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment839">
<tr>
<td class="cellalignment848">
<table class="cellalignment844">
<tr>
<td class="cellalignment843"><a href="ch6.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment843"><a href="ch9.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment850">
<table class="cellalignment842">
<tr>
<td class="cellalignment843"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment843"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment843"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment843"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment843"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment843"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
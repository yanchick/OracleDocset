<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-2102"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Introduction%20to%20Oracle%20Database%20Gateway%20for%20APPC"></a><title>Introduction to Oracle Database Gateway for APPC</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1090"/>
<meta name="dcterms.created" content="2017-06-08T13:41:26Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide"/>
<meta name="dcterms.identifier" content="E17928-03"/>
<meta name="dcterms.isVersionOf" content="APPCW"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="preface.htm" title="Previous" type="text/html"/>
<link rel="Next" href="ch2.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E17928-03.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/21</span> <!-- End Header -->
<div id="APPCW101" class="chapter"><a id="i1009820"></a>
<h1 class="chapter"><span class="secnum">1</span> Introduction to Oracle Database Gateway for APPC</h1>
<p>The Oracle Database Gateway for APPC (the &#34;gateway&#34;) enables users to initiate transaction program execution on remote <a id="sthref8"></a>online transaction processors (OLTPs.) The Oracle Database Gateway for APPC can establish connection with OLTP using the SNA communication protocol. The gateway can also use TCP/IP for IMS Connect to establish communication with the OLTP through TCP/IP. The gateway provides Oracle applications with seamless access to IBM mainframe data and services through <a id="sthref9"></a>Remote Procedural Call (RPC) processing. The gateway can access any application capable of using the CPI-C API either directly or through a TP monitor such as CICS.</p>
<p>This chapter discusses the architecture, uses, and features of the gateway. It contains the following sections:</p>
<ul>
<li>
<p><a href="#i1012083">Overview of the Gateway</a></p>
</li>
<li>
<p><a href="#i1006579">Features of the Gateway</a></p>
</li>
<li>
<p><a href="#i1006641">Terms</a></p>
</li>
<li>
<p><a href="#i1010401">Architecture of the Gateway</a></p>
</li>
<li>
<p><a href="#i1011406">Implementation of the Gateway</a></p>
</li>
<li>
<p><a href="#i1010741">Communication with the Gateway</a></p>
</li>
<li>
<p><a href="#i1010896">Remote Procedural Call Functions</a></p>
</li>
<li>
<p><a href="#i1010680">Transaction Types for Gateway Using SNA</a></p>
</li>
<li>
<p><a href="#i1008579">Transaction Types for Gateway Using TCP/IP</a></p>
</li>
</ul>
<a id="i1012083"></a>
<div id="APPCW102" class="sect1">
<h2 class="sect1">Overview of the Gateway<a id="sthref10"></a></h2>
<p>The Oracle Database Gateway for APPC extends the Remote Procedural Call<a id="sthref11"></a> (RPC) facilities available with the Oracle database . The gateway enables any client application to use <a id="sthref12"></a>PL/SQL to request execution of a remote transaction<a id="sthref13"></a> program (RTP) residing on a host. The gateway provides RPC processing to systems using the <a id="sthref14"></a><a id="sthref15"></a>SNA APPC (Advanced Program-to-Program Communication) protocol and to systems using <a id="sthref16"></a>TCP/IP for IMS Connect protocol. This architecture allows efficient access to data and transactions available on the IBM mainframe and IMS, respectively.</p>
<p>The gateway requires no Oracle software on the remote host system. Thus, the gateway uses existing transactions with little or no programming effort on the remote host.</p>
<p class="subhead2"><a id="APPCW286"></a>For gateways using SNA:</p>
<p>The use of a generic and standard protocol, APPC, allows the gateway to access a multitude of systems. The <a id="sthref17"></a>gateway can communicate with virtually any APPC-enabled system, including IBM Corporation&#39;s CICS on any platform and IBM Corporation&#39;s IMS and APPC/MVS. These transaction monitors provide access to a broad range of systems, allowing the gateway to access many <a id="sthref18"></a><a id="sthref19"></a>datastores, including VSAM, DB2 (static SQL), IMS, and others.</p>
<p>The gateway can access any application capable of using the CPI-C API either directly or through a TP monitor such as CICS.</p>
</div>
<!-- class="sect1" -->
<a id="i1006579"></a>
<div id="APPCW103" class="sect1">
<h2 class="sect1">Features of the Gateway</h2>
<p>The Oracle Database Gateway for APPC provides the following benefits:</p>
<ul>
<li>
<p>TCP/IP support for IMS Connect</p>
<p><a id="sthref20"></a>This release of the gateway includes TCP/IP support for IMS Connect, giving users a choice of whether to use the SNA or TCP/IP communication protocol. IMS Connect is an IBM product which allows TCP/IP clients to trigger execution of IMS transactions. The gateway can use a TCP/IP communication protocol to access IMS Connect, which triggers execution of IMS transactions. If you choose to use TCP/IP, then there is no SNA involvement with this configuration. Related to this new feature of the gateway is:</p>
<ul>
<li>
<p>The <a id="sthref21"></a><code dir="ltr">pg4tcpmap</code> tool. This release of the gateway includes a new tool whose purpose is to map the information from your side profile name to TCP/IP and IMS Connect. For more information about the gateway mapping tool, refer to Chapter&nbsp;6, of the <a class="olink APPUG600" href="../APPUG/tcpmap.htm#APPUG600"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a>, and to <a href="ch10.htm#g1023426">Chapter 9, &#34;Gateway Configuration Using TCP/IP Communication Protocol&#34;</a> in this guide.</p>
</li>
</ul>
</li>
<li>
<p><a id="sthref22"></a>Fast interface</p>
<p>The gateway is optimized so that remote execution of a program is achieved with minimum network traffic. The interface to the gateway is an optimized PL/SQL stored procedure specification (called the TIP or transaction interface package) precompiled in the <a id="sthref23"></a>Oracle database . Because there are no additional software layers on the remote host system, overhead occurs only when the program processes.</p>
</li>
<li>
<p>Location <a id="sthref24"></a><a id="sthref25"></a>transparency</p>
<p>Client applications need not be operating system-specific. For example, your application can call a program on a CICS Transaction Server for <a id="sthref26"></a>z/OS. If you move the program to a CICS region on pSeries, then you need not change the application.</p>
</li>
<li>
<p>Application<a id="sthref27"></a><a id="sthref28"></a> transparency</p>
<p>Users calling applications that execute a remote transaction program are unaware that a request is sent to a host.</p>
</li>
<li>
<p><a id="sthref29"></a>Flexible interface</p>
<p>You can use the gateway to interface with existing procedural logic or to integrate new procedural logic into an Oracle database environment.</p>
</li>
<li>
<p><a id="sthref30"></a>Oracle database integration</p>
<p>The integration of the Oracle database with the gateway enables the gateway to benefit from existing and future Oracle features. For example, the gateway can be called from an Oracle stored procedure or database trigger.</p>
</li>
<li>
<p>Transactional support</p>
<p>The gateway and the Oracle database allow remote transfer updates and Oracle database updates to be performed in a coordinated fashion.</p>
</li>
<li>
<p>Wide selection of <a id="sthref31"></a>tools</p>
<p>The gateway supports any tool or application that supports PL/SQL.</p>
</li>
<li>
<p><a id="sthref32"></a><a id="sthref33"></a>PL/SQL code generator</p>
<p>The <a id="sthref34"></a>Oracle Database Gateway for APPC provides a powerful development environment, including:</p>
<ul>
<li>
<p>a data dictionary to store information relevant to the remote transaction</p>
</li>
<li>
<p>a tool to generate the PL/SQL Transaction Interface Package, or TIP</p>
</li>
<li>
<p>a report utility to view the information stored in the gateway dictionary</p>
</li>
<li>
<p>a complete set of tracing and debugging facilities</p>
</li>
<li>
<p>a wide set of samples to demonstrate the use of the product against datastores such as DB2, IMS, and CICS.</p>
</li>
</ul>
</li>
<li>
<p><a id="sthref35"></a>Site autonomy and security</p>
<p>The gateway provides site autonomy, allowing you to do such things as authenticate users. It also provides role-based security compatible with any security package running on the mainframe computer.</p>
</li>
<li>
<p><a id="sthref36"></a>Automatic conversion</p>
<p>Through the <a id="sthref37"></a>TIP, the following conversions are performed:</p>
<ul>
<li>
<p><a id="sthref38"></a>ASCII to and from <a id="sthref39"></a>EBCDIC</p>
</li>
<li>
<p>remote transaction program datatypes to and from PL/SQL datatypes</p>
</li>
<li>
<p>national language support for many languages</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1006641"></a>
<div id="APPCW104" class="sect1">
<h2 class="sect1">Terms<a id="sthref40"></a></h2>
<p>The following terms and definitions are used throughout this guide. Refer to <a href="apc.htm#g635152">Appendix C, &#34;Gateway Terminology&#34;</a> for a more elaborate list of terms and definitions pertaining to the gateway, its components and functions.</p>
<p class="subhead1"><a id="APPCW287"></a>Oracle Database <a id="sthref41"></a></p>
<p>This is any Oracle database instance that communicates with the gateway for purposes of performing remote procedural calls to execute remote transaction programs (<a id="sthref42"></a>RTP). The <a id="sthref43"></a>Oracle database can be on the same system as the gateway or on a different system. If it is on a different system, then <a id="sthref44"></a>Oracle Net is required on both systems. Refer to <a href="#CHDGBGIB">Figure 1-2, &#34;Gateway Architecture&#34;</a> for a view of the gateway architecture.</p>
<p class="subhead1"><a id="APPCW288"></a>O<a id="sthref45"></a>LTP</p>
<p>Online Transaction Processor (OLTP) is any of a number of online transaction processors available from other vendors, including CICS Transaction Server for z/OS, IMS/TM, and <a id="sthref46"></a>z/OS</p>
<p class="subhead1"><a id="APPCW289"></a><a id="sthref47"></a>PGAU</p>
<p>Procedural Gateway Administration Utility (PGAU) is the tool that is used to define and generate <a id="sthref48"></a>PL/SQL Transaction Interface Packages (TIPs.) Refer to Chapter 2, &#34;Procedural Gateway Administration Utility&#34; in the <a class="olink APPUG200" href="../APPUG/admin_util.htm#APPUG200"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a> for more information about PGAU.</p>
<p class="subhead1"><a id="APPCW290"></a><a id="sthref49"></a>PG DD</p>
<p>Procedural Gateway Data Dictionary (PG DD) is a repository of remote host transaction (RHT) definitions and data definitions. <a id="sthref50"></a>PGAU accesses definitions in the Data Dictionary (PG&nbsp;DD) when generating TIPs. The PG DD has datatype dependencies because it supports the PGAU and is not intended to be directly accessed by the customer. Refer to Appendix A, &#34;Database Gateway for APPC Data Dictionary&#34; in the <a class="olink APPUG900" href="../APPUG/apa.htm#APPUG900"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a> for a list of PG DD tables.</p>
<p class="subhead1"><a id="APPCW291"></a><a id="sthref51"></a>RPC</p>
<p>Remote Procedural Call (RPC) is a programming call that executes program logic on one system in response to a request from another system. Refer to <a href="apc.htm#i634403">&#34;Gateway Term Definitions&#34;</a> for more information, and refer to Appendix C, &#34;Gateway RPC Interface&#34; in the <a class="olink APPUG120" href="../APPUG/apc.htm#APPUG120"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a> as well.</p>
<p class="subhead1"><a id="APPCW292"></a><a id="sthref52"></a>RTP</p>
<p>A remote transaction program (RTP) is a customer-written transaction, running under the control of an OLTP, which the user invokes remotely using a PL/SQL procedure. To execute a RTP through the gateway, you must use RPC to execute a PL/SQL program to call the gateway functions.</p>
<p class="subhead1"><a id="APPCW293"></a><a id="sthref53"></a>TIP</p>
<p>A <a id="sthref54"></a>Transaction Interface Package (TIP) is an Oracle <a id="sthref55"></a>PL/SQL package that exists between your application and the remote transaction program. TIP is a set of PL/SQL stored procedures that invoke the remote transaction program through the gateway. TIPs perform the conversion and reformatting of remote host data using PL/SQL and <code dir="ltr">UTL_RAW</code> or <code dir="ltr">UTL_PG</code> functions.</p>
<p><a href="#CHDDAFIE">Figure 1-1, &#34;Relationship of Gateway and Oracle Database on Windows&#34;</a> illustrates where the terminology discussed in the preceding sections apply within the gateway&#39;s architecture.</p>
<div id="APPCW294" class="figure">
<p class="titleinfigure"><a id="CHDDAFIE"></a>Figure 1-1 Relationship of Gateway and Oracle Database on Windows</p>
<img width="505" height="385" src="img/g1_1trms.gif" alt="Description of Figure 1-1 follows"/><br/>
<a id="sthref56" href="img_text/g1_1trms.htm">Description of &#39;&#39;Figure 1-1 Relationship of Gateway and Oracle Database on Windows&#39;&#39;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect1" -->
<a id="i1010401"></a>
<div id="APPCW105" class="sect1">
<h2 class="sect1">Architecture of the Gateway</h2>
<p>The architecture of Oracle Database Gateway for APPC consists of several components:<a id="sthref57"></a><a id="sthref58"></a><a id="sthref59"></a></p>
<ol>
<li>
<p><a id="sthref60"></a>Oracle database</p>
</li>
<li>
<p>The gateway</p>
<p>Oracle Database Gateway for APPC must be installed on a server that can run the <a id="sthref61"></a>required version of the operating system.</p>
</li>
<li>
<p>An OLTP</p>
<p>The OLTP must be accessible from the gateway using the SNA or TCP/IP communication protocol. Multiple <a id="sthref62"></a><a id="sthref63"></a>Oracle database s can access the same gateway. A single system gateway installation can be configured to access more than one OLTP.</p>
</li>
</ol>
<ul>
<li>
<p><span class="bold">For a gateway using <a id="sthref64"></a><a id="sthref65"></a>TCP/IP support for IMS Connect:</span> The only <a id="sthref66"></a>OLTP that is supported through TCP/IP is IMS through IMS Connect.</p>
<p>The OLTP must be accessible to the system using the TCP/IP protocol. Multiple <a id="sthref67"></a>Oracle database s can access the same gateway. A single-system gateway installation can be configured to access more than one OLTP. Multiple IMS can be accessed from an IMS Connect. If you have a number of IMS Connect systems available, then any of these may be connected to one or more IMS systems.</p>
</li>
</ul>
<p><a href="#CHDGBGIB">Figure 1-2</a> illustrates the architecture of Oracle Database Gateway for APPC using either SNA or TCP/IP, as described in the preceding section.</p>
<div id="APPCW295" class="figure">
<p class="titleinfigure"><a id="CHDGBGIB"></a>Figure 1-2 Gateway Architecture</p>
<img width="715" height="418" src="img/g1_2arch.gif" alt="Description of Figure 1-2 follows"/><br/>
<a id="sthref68" href="img_text/g1_2arch.htm">Description of &#39;&#39;Figure 1-2 Gateway Architecture&#39;&#39;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect1" -->
<a id="i1011406"></a>
<div id="APPCW106" class="sect1">
<h2 class="sect1">Implementation<a id="sthref69"></a><a id="sthref70"></a><a id="sthref71"></a><a id="sthref72"></a> of the Gateway</h2>
<p>The basic structure of the gateway is the same whether your communications protocol is SNA or TCP/IP support for IMS Connect. The gateway has some of the same components as an Oracle database instance on Microsoft Windows. It has the following components:</p>
<ul>
<li>
<p>a home directory, similar to the one associated with an Oracle instance&#39;s <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code> environment variable;</p>
</li>
<li>
<p>a system identifier, identified as <code dir="ltr"><span class="codeinlineitalic">sid</span></code> or <code dir="ltr"><span class="codeinlineitalic">ORACLE_SID</span></code>;</p>
</li>
<li>
<p>an initialization parameter file, similar to the Oracle database &#39;s <a id="sthref73"></a><a id="sthref74"></a>init<span class="italic">sid</span>.ora file.</p>
</li>
</ul>
<p>The gateway does not have:</p>
<ul>
<li>
<p>control, redo log, or database files;</p>
</li>
<li>
<p>the full set of subdirectories and ancillary files associated with an installed Oracle database .</p>
</li>
</ul>
<p>Because the gateway has no background processes and does not need a management utility such as Oracle Enterprise Manager, you do not need to start the gateway product. <a id="sthref75"></a>Each <a id="sthref76"></a>Oracle database user session that accesses a particular gateway creates an independent process on Windows, which, in turn, runs the gateway server and executes either the SNA or TCP/IP functions to communicate with an OLTP.</p>
</div>
<!-- class="sect1" -->
<a id="i1010741"></a>
<div id="APPCW107" class="sect1">
<h2 class="sect1">Communication with the Gateway</h2>
<p>All of the communication between the<a id="sthref77"></a><a id="sthref78"></a> user or client program and the gateway is handled through a <a id="sthref79"></a>TIP which executes on an Oracle database . The TIP is a standard <a id="sthref80"></a><a id="sthref81"></a>PL/SQL package that provides the following functions:</p>
<ul>
<li>
<p>declares the PL/SQL variables that can be exchanged with a RTP;</p>
</li>
<li>
<p>calls the gateway packages that handle the communications for starting the conversation, exchanging data, and terminating the conversation;</p>
</li>
<li>
<p>handles all datatype conversions between PL/SQL datatypes and the target program datatypes.</p>
</li>
</ul>
<p>The <a id="sthref82"></a><a id="sthref83"></a>PGAU, provided with the gateway, automatically generates the <a id="sthref84"></a><a id="sthref85"></a>TIP specification.</p>
<p>The gateway is identified to the Oracle database using a database link.<a id="sthref86"></a> The database link is the same construct used to identify other Oracle databases. The functions in the gateway are referenced in <a id="sthref87"></a>PL/SQL as:</p>
<pre dir="ltr"><span class="italic">function_name@dblink_name</span> 
</pre></div>
<!-- class="sect1" -->
<a id="i1010896"></a>
<div id="APPCW108" class="sect1">
<h2 class="sect1">Remote Procedural Call Functions</h2>
<p>The Oracle Database Gateway for APPC provides a set of functions that are invoked by the client through <a id="sthref88"></a>remote procedural call (RPC). These functions direct the gateway to initiate, transfer data with, and terminate RTPs running under an OLTP on another system.</p>
<p><a href="#CHDIFJDI">Table 1-1</a> lists the RPC functions and the correlating commands that are invoked in the gateway and remote host.</p>
<div id="APPCW296" class="tblformal">
<p class="titleintable"><a id="sthref89"></a><a id="CHDIFJDI"></a>Table 1-1 RPC Functions and Commands in the Gateway and Remote Host</p>
<table class="cellalignment846" title="RPC Functions and Commands in the Gateway and Remote Host" summary="lists the remote procedural call functions and the correlating commands that are invoked in the gateway and remote host" dir="ltr">
<thead>
<tr class="cellalignment840">
<th class="cellalignment847" id="r1c1-t2">Applications</th>
<th class="cellalignment847" id="r1c2-t2">Oracle TIP</th>
<th class="cellalignment847" id="r1c3-t2">Gateway</th>
<th class="cellalignment847" id="r1c4-t2">Remote Host</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment840">
<td class="cellalignment848" id="r2c1-t2" headers="r1c1-t2">
<p><code dir="ltr">call tip_init</code></p>
</td>
<td class="cellalignment848" headers="r2c1-t2 r1c2-t2">
<p><code dir="ltr">tip_init</code></p>
<p><code dir="ltr">call pgainit@gateway</code></p>
</td>
<td class="cellalignment848" headers="r2c1-t2 r1c3-t2">
<p><code dir="ltr">PGAINIT</code></p>
</td>
<td class="cellalignment848" headers="r2c1-t2 r1c4-t2">
<p>Initiate program</p>
</td>
</tr>
<tr class="cellalignment840">
<td class="cellalignment848" id="r3c1-t2" headers="r1c1-t2">
<p><code dir="ltr">call tip_main</code></p>
</td>
<td class="cellalignment848" headers="r3c1-t2 r1c2-t2">
<p><code dir="ltr">tip_main</code></p>
<p><code dir="ltr">call pgaxfer@gateway</code></p>
</td>
<td class="cellalignment848" headers="r3c1-t2 r1c3-t2">
<p><code dir="ltr">PGAXFER</code></p>
</td>
<td class="cellalignment848" headers="r3c1-t2 r1c4-t2">
<p>Exchange data</p>
</td>
</tr>
<tr class="cellalignment840">
<td class="cellalignment848" id="r4c1-t2" headers="r1c1-t2">
<p><code dir="ltr">call tip_term</code></p>
</td>
<td class="cellalignment848" headers="r4c1-t2 r1c2-t2">
<p><code dir="ltr">tip_term</code></p>
<p><code dir="ltr">call pgaterm@gateway</code></p>
</td>
<td class="cellalignment848" headers="r4c1-t2 r1c3-t2">
<p><code dir="ltr">PGATERM</code></p>
</td>
<td class="cellalignment848" headers="r4c1-t2 r1c4-t2">
<p>Terminate program</p>
</td>
</tr>
</tbody>
</table>
<br/></div>
<!-- class="tblformal" -->
<div id="APPCW109" class="sect2"><a id="sthref90"></a>
<h3 class="sect2">Description of RPC Functions</h3>
<p>The following sections describe how the RPC functions perform on gateways using SNA or TCP/IP communication protocols.</p>
<div id="APPCW110" class="sect3"><a id="sthref91"></a>
<h4 class="sect3">Remote Transaction<a id="sthref92"></a><a id="sthref93"></a><a id="sthref94"></a> Initiation</h4>
<p>The <a id="sthref95"></a><a id="sthref96"></a><a id="sthref97"></a>TIP initiates a connection to the remote host system, using one of the gateway functions, <code dir="ltr">PGAINIT</code>.</p>
<p><span class="bold">When the communication protocol is SNA</span>: <code dir="ltr">PGAINIT</code><a id="sthref98"></a><a id="sthref99"></a><a id="sthref100"></a><a id="sthref101"></a> provides, as input, the required <a id="sthref102"></a>SNA parameters to start a conversation with the target transaction program. These parameters are sent across the SNA network, which returns a conversation identifier to <code dir="ltr">PGAINIT</code>. Any future calls to the target program use the conversation identifier as an <code dir="ltr">INPUT</code> parameter.</p>
<p><span class="bold">When the communication protocol is TCP/IP</span>: <code dir="ltr">PGAINIT</code><a id="sthref103"></a><a id="sthref104"></a><a id="sthref105"></a><a id="sthref106"></a><a id="sthref107"></a> provides, as input, the required TCP/IP parameters. Use the <a id="sthref108"></a>pg4tcpmap tool to map the parameters. These parameters are sent across the TCP/IP network to start the conversation with the target transaction program, the TCP/IP network returns a <a id="sthref109"></a><a id="sthref110"></a>socket file descriptor to <code dir="ltr">PGAINIT</code>. Future calls to the target program made by <a id="sthref111"></a><code dir="ltr">PGAXFER</code> and <a id="sthref112"></a><code dir="ltr">PGATERM</code> use the socket file descriptor as an input parameter.</p>
<p>Refer to <a href="apb.htm#g635076">Appendix B, &#34;Gateway Initialization Parameters for TCP/IP Communication Protocol&#34;</a> in this guide, and to Chapter 6 in the <a class="olink APPUG600" href="../APPUG/tcpmap.htm#APPUG600"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a>, for more information about the function and use of the <code dir="ltr">pg4tcpmap</code> tool.</p>
</div>
<!-- class="sect3" -->
<div id="APPCW111" class="sect3"><a id="sthref113"></a>
<h4 class="sect3">Data Exchange<a id="sthref114"></a><a id="sthref115"></a></h4>
<p>After the conversation is established, a database gateway function called <a id="sthref116"></a><a id="sthref117"></a><code dir="ltr">PGAXFER</code> can exchange data in the form of input and output variables. <code dir="ltr">PGAXFER</code> sends and receives buffers to and from the target transaction program. The gateway sees a buffer as only a RAW stream of bytes. The TIP that is residing in the <a id="sthref118"></a><a id="sthref119"></a>Oracle database is responsible for converting the application&#39;s P<a id="sthref120"></a>L/SQL datatypes to RAW before sending the buffer to the gateway. It is also responsible for converting RAW to the PL/SQL datatypes before returning the results to the application.</p>
</div>
<!-- class="sect3" -->
<div id="APPCW112" class="sect3"><a id="sthref121"></a>
<h4 class="sect3">Remote Transaction Termination</h4>
<p>When communication with the remote program is complete, the gateway function <code dir="ltr">PGATERM</code> terminates the conversation between the gateway and the remote host.</p>
<p><a id="sthref122"></a><a id="sthref123"></a><a id="sthref124"></a><span class="bold">When the communication protocol is SNA</span>:, <code dir="ltr">PGATERM</code> uses the conversation identifier as an <code dir="ltr">INPUT</code> parameter to request conversation termination.</p>
<p><span class="bold">When the communication protocol is TCP/IP</span>:, <a id="sthref125"></a><a id="sthref126"></a><a id="sthref127"></a><code dir="ltr">PGATERM</code> uses the socket file descriptor for TCP/IP as an <code dir="ltr">INPUT</code> parameter to request conversation termination.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1010680"></a>
<div id="APPCW113" class="sect1">
<h2 class="sect1">Transaction Types for Gateway Using SNA</h2>
<p>The Oracle Database Gateway for APPC supports <a id="sthref128"></a><a id="sthref129"></a><a id="sthref130"></a>three types of transactions that read data from and write data to remote host systems:</p>
<ul>
<li>
<p><span class="bold">one-shot</span></p>
<p>In a <a id="sthref131"></a>one-shot transaction, the application initializes the connection, exchanges data, and terminates the connection, all in a single call.</p>
</li>
<li>
<p><span class="bold">persistent</span></p>
<p>In a <a id="sthref132"></a>persistent transaction, multiple calls to exchange data with the remote transaction can be executed before terminating the conversation.</p>
</li>
<li>
<p><span class="bold">multiconversational</span></p>
<p>In a <a id="sthref133"></a>multiconversation transaction, the database gateway server can be used to exchange multiple records in one call to the RTP.</p>
</li>
</ul>
<p>Refer to &#34;Remote Host Transaction Types&#34; in Chapter&nbsp;4, &#34;Client Application Development&#34; of the <a class="olink APPUG974" href="../APPUG/app_sna.htm#APPUG974"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a> for more information about transaction types.</p>
<p>The following list demonstrates the power of the <a id="sthref134"></a><a id="sthref135"></a>Oracle Database Gateway for APPC:</p>
<ul>
<li>
<p>You can initiate a CICS transaction on the mainframe to retrieve data from a VSAM file for a PC application.</p>
</li>
<li>
<p>You can modify and monitor the operation of a remote process control computer.</p>
</li>
<li>
<p>You can initiate an IMS/TM transaction that executes static SQL in DB2.</p>
</li>
<li>
<p>You can initiate a <a id="sthref136"></a>CICS transaction that returns a large number of records in a single call.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i1008579"></a>
<div id="APPCW114" class="sect1">
<h2 class="sect1"><a id="sthref137"></a><a id="sthref138"></a>Transaction Types for Gateway Using TCP/IP</h2>
<p>The <a id="sthref139"></a>Oracle Database Gateway for APPC using TCP/IP for IMS Connect supports three types of transaction socket connections:</p>
<ul>
<li>
<p><a id="sthref140"></a><span class="bold">transaction socket</span></p>
<p>The socket connection lasts across a single transaction.</p>
</li>
<li>
<p><a id="sthref141"></a><a id="sthref142"></a><span class="bold">persistent socket</span></p>
<p>The socket connection lasts across multiple transactions.</p>
</li>
<li>
<p><a id="sthref143"></a><a id="sthref144"></a><span class="bold">nonpersistent socket</span></p>
<p>The socket connection lasts across a single exchange consisting of one input and one output.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not use the nonpersistent socket type if you plan on implementing conversational transactions because multiple connects and disconnects will occur.</div>
<p>Refer to the section about <code dir="ltr">pg4tcpmap</code> commands in Chapter 6 of the <a class="olink APPUG600" href="../APPUG/tcpmap.htm#APPUG600"><span class="italic">Oracle Database Gateway for APPC User&#39;s Guide</span></a> and to <a href="ch10.htm#g1023426">Chapter 9, &#34;Gateway Configuration Using TCP/IP Communication Protocol&#34;</a> in this guide for more information about how to enter these parameters.</p>
<p>You can initiate an IMS/TM transaction that executes static SQL in DB2, this illustrates the power of the Oracle Database Gateway for APPC feature supporting TCP/IP for IMS Connect.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment839">
<tr>
<td class="cellalignment848">
<table class="cellalignment844">
<tr>
<td class="cellalignment843"><a href="preface.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment843"><a href="ch2.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1996, 2013,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment850">
<table class="cellalignment842">
<tr>
<td class="cellalignment843"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment843"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment843"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment843"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment843"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment843"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-46427"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Troubleshooting"></a><title>Troubleshooting</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056"/>
<meta name="dcterms.created" content="2015-06-23T8:5:13Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Database Global Data Services Concepts and Administration Guide"/>
<meta name="dcterms.identifier" content="E22100-11"/>
<meta name="dcterms.isVersionOf" content="GSMUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="cloud.htm" title="Previous" type="text/html"/>
<link rel="Next" href="gsmctlref.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E22100-11.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">9/12</span> <!-- End Header -->
<div id="GSMUG676" class="chapter"><a id="sthref65"></a>
<h1 class="chapter"><span class="secnum">4</span> Troubleshooting</h1>
<p>This chapter contains topics to help you troubleshoot issues you encounter with Global Data Services.</p>
<p>This chapter include the following topics:</p>
<ul>
<li>
<p><a href="#CIACIAJD">Troubleshooting Oracle Error Codes</a></p>
</li>
<li>
<p><a href="#CIAHDJBG">Solutions for General Issues</a></p>
</li>
<li>
<p><a href="#CIADGGGC">Obtaining the Running Status of Global Data Services Components</a></p>
</li>
<li>
<p><a href="#CIAHEAHI">Viewing Static Configuration Information for Global Data Services Components</a></p>
</li>
<li>
<p><a href="#CIAEGGFH">Enabling and Disabling Tracing on a Global Service Manager</a></p>
</li>
<li>
<p><a href="#CIADAAAF">Using Global Service Manager Log and Trace Files</a></p>
</li>
<li>
<p><a href="#CIACBFCC">Using SYS_CONTEXT Parameters in a GDS Environment</a></p>
</li>
</ul>
<a id="CIACIAJD"></a>
<div id="GSMUG727" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Troubleshooting Oracle Error Codes</h2>
<p>This section contains information for troubleshooting specific Oracle error messages you might encounter, such as:</p>
<ul>
<li>
<p><a href="#CIAJBEGI">ORA-01045: user GSMADMIN_INTERNAL lacks CREATE SESSION privilege; logon denied</a></p>
</li>
<li>
<p><a href="#CIAHBAAD">ORA-12514: TNS:listener does not currently know of service requested in connect descriptor</a></p>
</li>
<li>
<p><a href="#CIABABID">ORA-12516: TNS:listener could not find available handler with matching protocol stack</a></p>
</li>
<li>
<p><a href="#CIAGFGGI">ORA-12541: TNS:no listener</a></p>
</li>
<li>
<p><a href="#CIABHCJH">GSM-45034: Connection to GDS catalog is not established</a></p>
</li>
<li>
<p><a href="#CIAGICIC">GSM-45054: GSM error or NET-40006: unable to start GSM</a></p>
</li>
</ul>
<a id="CIAJBEGI"></a>
<div id="GSMUG687" class="sect2">
<h3 class="sect2">ORA-01045: user GSMADMIN_INTERNAL lacks CREATE SESSION privilege; logon denied</h3>
<p>The user <code dir="ltr">GSMADMIN_INTERNAL</code> is an internal only user, it should never be unlocked or used for any database login. No direct modifications should be made on the Global Data Services schema objects unless directed by Oracle Technical Support.</p>
</div>
<!-- class="sect2" -->
<a id="CIAHBAAD"></a>
<div id="GSMUG702" class="sect2">
<h3 class="sect2">ORA-12514: TNS:listener does not currently know of service requested in connect descriptor</h3>
<p>The global service may be down. Verify that the pool databases are up and the service is started.</p>
<p>The global service may be disabled. Ensure that the pool databases are up and the service is enabled and started.</p>
<p>The GDS pool database may be down. Ensure that the GDS pool databases are up and the service is enabled and started.</p>
</div>
<!-- class="sect2" -->
<a id="CIABABID"></a>
<div id="GSMUG703" class="sect2">
<h3 class="sect2">ORA-12516: TNS:listener could not find available handler with matching protocol stack</h3>
<p>The GDS pool database&#39;s local listener may be down. Ensure that the GDS pool database local listener is running.</p>
</div>
<!-- class="sect2" -->
<a id="CIAGFGGI"></a>
<div id="GSMUG704" class="sect2">
<h3 class="sect2">ORA-12541: TNS:no listener</h3>
<p>All global service managers may be down. Verify that the global service managers are running.</p>
</div>
<!-- class="sect2" -->
<a id="CIABHCJH"></a>
<div id="GSMUG705" class="sect2">
<h3 class="sect2">GSM-45034: Connection to GDS catalog is not established</h3>
<p>The GDS catalog database or its listener may be down. Verify that the GDS catalog database and its local listener are running.</p>
</div>
<!-- class="sect2" -->
<a id="CIAGICIC"></a>
<div id="GSMUG706" class="sect2">
<h3 class="sect2">GSM-45054: GSM error or NET-40006: unable to start GSM</h3>
<p>The GDS catalog database or its listener may be down. Verify that the GDS catalog database and its local listener are running.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIAHDJBG"></a>
<div id="GSMUG728" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Solutions for General Issues</h2>
<p>This section contains information for solving some general issues you might encounter, such as:</p>
<ul>
<li>
<p><a href="#CIADFCAE">Connecting to GDS Configuration Databases When No Global Service Managers Are Running</a></p>
</li>
<li>
<p><a href="#CIAFFBIA">Connecting to Catalog Databases When No Global Service Managers Are Running</a></p>
</li>
</ul>
<a id="CIADFCAE"></a>
<div id="GSMUG677" class="sect2">
<h3 class="sect2">Connecting to GDS Configuration Databases When No Global Service Managers Are Running</h3>
<p>You need multiple address lists; the first list should be exclusively regional global service manager listeners, the second list contains global service manager listeners of the buddy region and the third list contains local listeners.</p>
<p>You can always connect through a global service manager while it is up, and only fail over to local listeners when all global service manager listeners are down.</p>
<p class="subhead2"><a id="GSMUG729"></a>Template:</p>
<pre dir="ltr">(DESCRIPTION=
  (FAILOVER=on)
  (ADDRESS_LIST=
    (LOAD_BALANCE=ON)
    (ADDRESS=(global_protocol_address_information))
    (ADDRESS=(global_protocol_address_information))
    (ADDRESS=(global_protocol_address_information))
   )
  (ADDRESS_LIST=
    (LOAD_BALANCE=ON)
    (ADDRESS=(global_protocol_address_information))
    (ADDRESS=(global_protocol_address_information))
    (ADDRESS=(global_protocol_address_information))
   )
  (ADDRESS_LIST=
    (LOAD_BALANCE=ON)
    (ADDRESS=(local_protocol_address_information))
    (ADDRESS=(local_protocol_address_information))
   )
  (CONNECT_DATA=
   (SERVICE_NAME=global_service_name)
   (REGION=region_name)))
</pre>
<p class="subhead2"><a id="GSMUG730"></a>Example:</p>
<pre dir="ltr">(DESCRIPTION=
     (FAILOVER=on)
     (ADDRESS_LIST=
       (LOAD_BALANCE=ON)
       (ADDRESS=(HOST=gsmhost1)(PORT=1523)(PROTOCOL=TCP))
       (ADDRESS=(HOST=gsmhost2)(PORT=1523)(PROTOCOL=TCP))
       (ADDRESS=(HOST=gsmhost3)(PORT=1523)(PROTOCOL=TCP))
      )
     (ADDRESS_LIST=
       (LOAD_BALANCE=ON)
       (ADDRESS=(HOST=gsmhost4)(PORT=1523)(PROTOCOL=TCP))
       (ADDRESS=(HOST=gsmhost5)(PORT=1523)(PROTOCOL=TCP))
       (ADDRESS=(HOST=gsmhost6)(PORT=1523)(PROTOCOL=TCP))
      )
     (ADDRESS_LIST=
       (LOAD_BALANCE=ON)
       (ADDRESS=(HOST=server1)(PORT=1521)(PROTOCOL=TCP))
      )
     (CONNECT_DATA=
      (SERVICE_NAME=sales_read_service.dbpoolora.oradbcloud)
      (REGION=WEST)))
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
In the case of an Oracle RAC enabled GDS database, the third address list contains the local Oracle RAC database&#39;s SCAN listeners.</div>
</div>
<!-- class="sect2" -->
<a id="CIAFFBIA"></a>
<div id="GSMUG686" class="sect2">
<h3 class="sect2">Connecting to Catalog Databases When No Global Service Managers Are Running</h3>
<p>Local listener enables access to the GDS catalog database even when global service managers are down.</p>
<p>This access may be needed for any DB Administration/maintenance activities on the catalog database when global service managers are not running.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIADGGGC"></a>
<div id="GSMUG712" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Obtaining the Running Status of Global Data Services Components</h2>
<p>The <code dir="ltr">status</code> command can be used to obtain the running status of the GDS components.</p>
<pre dir="ltr">GDSCTL&gt;status gsm
 
GDSCTL&gt;status service
 
GDSCTL&gt;status database
</pre></div>
<!-- class="sect1" -->
<a id="CIAHEAHI"></a>
<div id="GSMUG713" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Viewing Static Configuration Information for Global Data Services Components</h2>
<p>The <code dir="ltr">gdsctl config</code> command can be used to obtain the static configuration information of various GDS components.</p>
<pre dir="ltr">GDSCTL&gt;config

GDSCTL&gt;config gsm

GDSCTL&gt;config region

GDSCTL&gt;config gdspool

GDSCTL&gt;config database

GDSCTL&gt;config service

GDSCTL&gt;config invitednode
</pre></div>
<!-- class="sect1" -->
<a id="CIAEGGFH"></a>
<div id="GSMUG714" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Enabling and Disabling Tracing on a Global Service Manager</h2>
<p>You can enable tracing using the <code dir="ltr">set trace_level</code> command.</p>
<pre dir="ltr">GDSCTL&gt;set trace_level -gsm <span class="italic">gsm_name</span> SUPPORT
</pre>
<p>The <code dir="ltr">SUPPORT</code> option provides trace with troubleshooting information for Oracle Support Services. The other options are <code dir="ltr">ADMIN</code> and <code dir="ltr">USER</code>.</p>
<p>To disable tracing:</p>
<pre dir="ltr">GDSCTL&gt;set trace_level -gsm <span class="italic">gsm_name</span> OFF
</pre></div>
<!-- class="sect1" -->
<a id="CIADAAAF"></a>
<div id="GSMUG715" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using Global Service Manager Log and Trace Files</h2>
<p>The exact location of a given global service manager&#39;s log and trace files can be obtained using the <code dir="ltr">status gsm</code> command as shown in the following example.</p>
<pre dir="ltr">GDSCTL&gt;status gsm
 
Alias                     MYGSM
Version                   12.1.0.0.2
Start Date                13-OCT-2012 12:20:16
Trace Level               support
Listener Log File         /scratch/oracle/diag/gsm/myhost/mygsm/alert/log.xml
Listener Trace File       /scratch/oracle/diag/gsm/myhost/mygsm/trace/ora_1829_47542149303936.trc
Endpoint summary          (ADDRESS=(HOST=myhost.com)(PORT=1571)(PROTOCOL=tcp))
GSMOCI Version            0.1.7
Mastership                N
Connected to GDS catalog  Y
Process Id                1833
Number of reconnections   0
Pending tasks.     Total  0
Tasks in  process. Total  0
Regional Mastership       TRUE
Total messages published  34261
Time Zone                 -07:00
Orphaned Buddy Regions:   None
GDS region                east
Network metrics:
   Region: euro RTT:34 Bandwidth:40
</pre>
<p>In this example <code dir="ltr">myhost</code> is the global service manager host name and <code dir="ltr">mygsm</code> is the name of the global service manager.</p>
<p>The text based listener log can be found in <code dir="ltr">/scratch/oracle/diag/gsm/</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">/</code><code dir="ltr"><span class="codeinlineitalic">gsm_name</span></code><code dir="ltr">/trace</code> directory. The file is called <code dir="ltr">alert_gsm*.log</code> (for example, <code dir="ltr">alert_gsm1.log</code>)</p>
</div>
<!-- class="sect1" -->
<a id="CIACBFCC"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Using SYS_CONTEXT Parameters in a GDS Environment</h2>
<p><a id="sthref66"></a>For a session established using a connection to a global service, some parameters of namespace USERENV have values that are different from values set when connecting to a local service on the same database. The different values for a global service are set to make the database pool appear to clients as a single database with many instances. This was done to provide backward compatibility with pre-12<span class="italic">c</span> clients which expect multiple instances of a service to exist only on an Oracle RAC database.</p>
<p>When a client connects to a global service, GDS sets the following in the session context differently.</p>
<ul>
<li>
<p>DB_UNIQUE_NAME and DB_DOMAIN are set to &lt;gdspool_name&gt;.&lt;config_name&gt;</p>
</li>
<li>
<p>INSTANCE is set to a system generated number &lt;inst_num&gt; which is unique within a GDS configuration</p>
</li>
<li>
<p>INSTANCE_NAME is set to &lt;gdspool_name&gt;%&lt;virtual_instance_num&gt;</p>
</li>
<li>
<p>SERVICE_NAME is set to &lt;region_name&gt;%&lt;service_name&gt;</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3646">
<tr>
<td class="cellalignment3653">
<table class="cellalignment3651">
<tr>
<td class="cellalignment3650"><a href="cloud.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3650"><a href="gsmctlref.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3655">
<table class="cellalignment3649">
<tr>
<td class="cellalignment3650"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3650"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3650"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3650"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3650"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3650"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
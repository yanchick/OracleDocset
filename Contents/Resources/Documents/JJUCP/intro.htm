<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-72350"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Introduction%20to%20UCP"></a><title>Introduction to UCP</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="description" content="This guide provides instructions for using Oracle Universal Connection Pooling API. The API is JDBC driver agnostic."/>
<meta name="dcterms.created" content="2014-06-29T23:47:52Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="Universal Connection Pool for JDBC Developer&#39;s Guide"/>
<meta name="dcterms.identifier" content="E49541-01"/>
<meta name="dcterms.isVersionOf" content="JJUCP"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Prev" href="release_changes.htm" title="Previous" type="text/html"/>
<link rel="Next" href="get_started.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E49541-01.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">5/16</span> <!-- End Header -->
<div id="JJUCP8109" class="chapter"><a id="sthref12"></a>
<h1 class="chapter"><span class="secnum">1</span> Introduction to UCP</h1>
<p>The following sections are included in this chapter:</p>
<ul>
<li>
<p><a href="#BABHFGCA">Overview of Connection Pool</a></p>
</li>
<li>
<p><a href="#BABDIDGD">Overview of Universal Connection Pool for JDBC</a></p>
</li>
</ul>
<a id="BABHFGCA"></a>
<div id="JJUCP8110" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Connection Pool</h2>
<p><a id="sthref13"></a><a id="sthref14"></a>A connection pool is a cache of database connection objects. The objects represent physical database connections that can be used by an application to connect to a database. At run time, the application requests a connection from the pool. If the pool contains a connection that can satisfy the request, it returns the connection to the application. If no connections are found, a new connection is created and returned to the application. The application uses the connection to perform some work on the database and then returns the object back to the pool. The connection is then available for the next connection request.</p>
<p>Connection pools promote the reuse of connection objects and reduce the number of times that connection objects are created. Connection pools significantly improve performance for database-intensive applications because creating connection objects is costly both in terms of time and resources. Tasks such as network communication, reading connection strings, authentication, transaction enlistment, and memory allocation all contribute to the amount of time and resources it takes to create a connection object. In addition, because the connections are already created, the application waits less time to get the connection.</p>
<p>Connection pools often provide properties that are used to optimize the performance of a pool. The properties control behaviors such as the minimum and maximum number of connections allowed in the pool or the amount of time a connection can remain idle before it is returned to the pool. The best configured connection pools balance quick response times with the memory spent maintaining connections in the pool. It is often necessary to try different settings until the best balance is achieved for a specific application.</p>
<div id="JJUCP8111" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref15"></a>
<h3 class="sect2">Benefits of Using a Connection Pool</h3>
<p><a id="sthref16"></a><a id="sthref17"></a>Applications that are database-intensive, generally benefit the most from connection pools. As a policy, applications should use a connection pool whenever database usage is known to affect application performance.</p>
<p>A connection pool provides the following benefits:</p>
<ul>
<li>
<p>Reduces the number of times new connection objects are created.</p>
</li>
<li>
<p>Promotes connection object reuse.</p>
</li>
<li>
<p>Quickens the process of getting a connection.</p>
</li>
<li>
<p>Reduces the amount of effort required to manually manage connection objects.</p>
</li>
<li>
<p>Minimizes the number of stale connections.</p>
</li>
<li>
<p>Controls the amount of resources spent on maintaining connections.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABDIDGD"></a>
<div id="JJUCP8112" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Overview of Universal Connection Pool for JDBC</h2>
<p><a id="sthref18"></a><a id="sthref19"></a>UCP for JDBC provides a connection pool implementation for caching JDBC connections. Java applications that are database-intensive use the connection pool to improve performance and better utilize system resources.</p>
<p>A UCP JDBC connection pool can use any JDBC driver to create physical connections that are then maintained by the pool. The pool can be configured and provides a full set of properties that are used to optimize pool behavior based on the performance and availability requirements of an application. For more advanced applications, UCP for JDBC provides a pool manager that can be used to manage a pool instance.</p>
<p>The pool also leverages many high availability and performance features available through an Oracle Real Application Clusters (Oracle RAC) database. These features include Fast Connection Failover (FCF), Run-time connection Load Balancing (RLB), and Connection Affinity.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Starting from Oracle Database 11<span class="italic">g</span> Release 2, FCF is also supported by Oracle Restart on a single instance database. Oracle Restart was previously known as Single-Instance High Availability (SIHA). For more information on Oracle Restart, refer to <a class="olink ADMIN12708" href="../ADMIN/restart.htm#ADMIN12708"><span class="italic">Oracle Database Administrator&#39;s Guide</span></a>.</div>
<div id="JJUCP8113" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref20"></a>
<h3 class="sect2">Conceptual Architecture</h3>
<p><a id="sthref21"></a><a id="sthref22"></a><a id="sthref23"></a><a id="sthref24"></a><a id="sthref25"></a><a id="sthref26"></a>Applications use a UCP for JDBC pool-enabled data source to get connections from a UCP JDBC connection pool instance. The <code>PoolDataSource</code> data source is used for getting regular connections (<code>java.sql.Connection</code>), and the <code>PoolXADataSource</code> data source is used for getting XA (eXtended API) connections (<code>javax.sql.XAConnection</code>). The same pool features are included in both XA and non-XA UCP JDBC connection pools.</p>
<p><a id="sthref27"></a><a id="sthref28"></a>The pool-enabled data source relies on a connection factory class to create the physical connections that are maintained by the pool. An application can choose to use any factory class that is capable of creating <code>Connection</code> or <code>XAConnection</code> objects. The pool-enabled data sources provide a method for setting the connection factory class, as well as methods for setting the database URL and database credentials that are used by the factory class to connect to a database.</p>
<p><a id="sthref29"></a><a id="sthref30"></a><a id="sthref31"></a>Applications borrow a connection handle from the pool to perform work on a database. Once the work is completed, the connection is closed and the connection handle is returned to pool and is available to be used again. <a href="#BABICAHB">Figure 1-1</a> below shows the conceptual view of the interaction between an application and a UCP JDBC connection pool.</p>
<p>See <a href="connect.htm#CHDDCICA">Chapter 3, &#34;Getting Database Connections in UCP,&#34;</a> for more information on using pool-enabled data sources and borrowing database connections.</p>
<div id="JJUCP8114" class="figure">
<p class="titleinfigure"><a id="BABICAHB"></a>Figure 1-1 Conceptual View of a UCP JDBC Connection Pool</p>
<img width="677" height="333" src="img/concept.gif" alt="conceptual view of UCP for JDBC"/><br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<div id="JJUCP8115" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref32"></a>
<h3 class="sect2">Connection Pool Properties</h3>
<p><a id="sthref33"></a>UCP JDBC Connection pool properties are configured through methods available on the pool-enabled data source. The pool properties are used to control the pool size, handle stale connections, and make autonomous decisions about how long connections can remain borrowed before they are returned to the pool. The optimal settings for the pool properties depend on the application and hardware resources. Typically, there is a trade-off between the time it takes for an application to get a connection versus the amount of memory it takes to maintain a certain pool size. In many cases, experimentation is required to find the optimal balance to achieve the desired performance for a specific application.</p>
<p>See <a href="optimize.htm#CFHDDFCI">Chapter 4, &#34;Optimizing Universal Connection Pool Behavior,&#34;</a> for more information on setting connection pool properties.</p>
</div>
<!-- class="sect2" -->
<div id="JJUCP8116" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref34"></a>
<h3 class="sect2">Connection Pool Manager</h3>
<p><a id="sthref35"></a>UCP for JDBC includes a connection pool manager that is used by applications that require administrative control over a connection pool. The manager is used to explicitly control the life cycle of a pool and to perform maintenance on a pool. The manager also provides the opportunity for an application to expose the pool and its manageability through an administrative console.</p>
<p>See <a href="manage.htm#BABICIII">Chapter 7, &#34;Using the Connection Pool Manager,&#34;</a> for more information on explicitly controlling a connection pool.</p>
</div>
<!-- class="sect2" -->
<div id="JJUCP8117" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref36"></a>
<h3 class="sect2">High Availability and Performance Scenarios</h3>
<p><a id="sthref37"></a><a id="sthref38"></a>A UCP JDBC connection pool provides many features that are used to ensure high connection availability and performance. Many of these features, such as refreshing a pool or validating connections, are generic and work across driver and database implementations. Some of these features, such as run-time connection load balancing, and connection affinity, require the use of an Oracle JDBC driver and an Oracle RAC database.</p>
<p>See <a href="rac.htm#CHDCDFAC">Chapter 8, &#34;Using Oracle RAC Features,&#34;</a> for more information on using Oracle RAC features.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment4234">
<tr>
<td class="cellalignment4243">
<table class="cellalignment4239">
<tr>
<td class="cellalignment4238"><a href="release_changes.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment4238"><a href="get_started.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1999, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment4246">
<table class="cellalignment4237">
<tr>
<td class="cellalignment4238"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment4238"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment4238"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment4238"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment4238"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment4238"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>
<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
<meta charset="utf-8"/>
<a class="dashingAutolink" name="autolink-86411"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Developing%20Reports%20and%20Dashboards"></a><title>Developing Reports and Dashboards</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023"/>
<meta name="dcterms.created" content="2014-06-27T10:40:4Z"/>
<meta name="robots" content="all"/>
<meta name="dcterms.title" content="OLAP User&#39;s Guide"/>
<meta name="dcterms.identifier" content="E53237-01"/>
<meta name="dcterms.isVersionOf" content="OLAUG"/>
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved."/>
<link rel="Start" href="../index.htm" title="Home" type="text/html"/>
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html"/>

<script type="application/javascript" src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html"/>
<link rel="Index" href="index.htm" title="Index" type="text/html"/>
<link rel="Glossary" href="awgloss.htm" title="Glossary" type="text/html"/>
<link rel="Prev" href="calculations.htm" title="Previous" type="text/html"/>
<link rel="Next" href="admin.htm" title="Next" type="text/html"/>
<link rel="alternate" href="E53237-01.pdf" title="PDF version" type="application/pdf"/>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/header.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/footer.css"/>
<link rel="stylesheet" type="text/css" href="../dcommon/css/fonts.css"/>
<link rel="stylesheet" href="../dcommon/css/foundation.css"/>
<link rel="stylesheet" href="../dcommon/css/codemirror.css"/>
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css"/>
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css"/>
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="/s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet" href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen"/>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">10/17</span> <!-- End Header -->
<div id="OLAUG800" class="chapter"><a id="CHDDDHED"></a>
<h1 class="chapter"><span class="secnum">6</span> Developing Reports and Dashboards</h1>
<p>You can use any SQL development tool or application to create reports and dashboards populated with data from OLAP cubes. This chapter shows the basic steps for working with the tools provided with Oracle Database: Oracle Business Intelligence Publisher (BI Publisher) and Oracle Application Express. You can try these tools, or you can apply the methods shown here to your favorite SQL tool.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDCGHAI">Developing OLAP Applications</a></p>
</li>
<li>
<p><a href="#CHDFJGIA">Developing a Report Using BI Publisher</a></p>
</li>
<li>
<p><a href="#CHDDDDJB">Developing a Dashboard Using Application Express</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="query.htm#BGBFGBIB">Chapter 4, &#34;Querying Dimensional Objects&#34;</a></div>
<a id="CHDCGHAI"></a>
<div id="OLAUG9207" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Developing OLAP Applications</h2>
<p>You can use any SQL query against a cube as the content for a report or dashboard. Both BI Publisher and Application Express contain a Query Builder, which you can use to develop queries against both relational and dimensional objects. You can also cut-and-paste queries from a SQL script or another source, which is the method used in this chapter.</p>
<p>If your goal is to create static reports and dashboards, then you do not need to read any further. You can start developing OLAP applications immediately using your favorite tool. This chapter explains how to create applications with dynamic content. It focuses on ways to leverage the unique capabilities of cubes and dimensions to create drillable reports and graphs using a single query. You will learn how to create two types of drillable interfaces:</p>
<ul>
<li>
<p>Choice Lists: You can create a drop-down list for each dimension to drill on the dimensions in a report or dashboard.</p>
</li>
<li>
<p>Linked Dimension Columns: In Application Express, you can add links to the dimension columns of a crosstab to drill down to the bottom of a hierarchy, and use a Reset button to return to the top level.</p>
</li>
</ul>
<p><a id="sthref438"></a>These user interfaces set the values of bind variables in the <code>WHERE</code> clause of the source query. When a user changes the current selection in a choice list or clicks a link in a crosstab, that action dynamically changes the value of the variable. When the variable changes, so does the condition of the query and the contents of the report or dashboard.</p>
<p>When the variable sets the value of the <code>PARENT</code> column of the hierarchy views, users can drill on a parent to view its children.</p>
<p><a href="#CHDHGFDB">Example 6-1</a> shows a basic SQL query against <code>UNITS_CUBE_VIEW</code> in the Global sample schema. The query selects the <code>SALES</code> measure and three calculated measures that use <code>SALES</code> as the basis for the calculations:</p>
<ul>
<li>
<p><code>SALES_PP</code>: Sales from the prior period.</p>
</li>
<li>
<p><code>SALES_CHG_PP</code>: Difference in sales between the current period and the prior period.</p>
</li>
<li>
<p><code>SALES_PCTCHG_PP</code>: Percent difference in sales between the current period and the prior period.</p>
</li>
</ul>
<p>This query is used in the sample applications developed in this chapter. The <code>PARENT</code> columns for the Product, Customer, and Time dimensions support drilling in these applications. The Channel dimension remains anchored at the Total level.</p>
<div id="OLAUG9506" class="example">
<p class="titleinexample"><a id="CHDHGFDB"></a>Example 6-1 SQL Query Against the Sales Cube</p>
<pre>SELECT p.long_description &#34;Product&#34;,
     cu.long_description &#34;Customer&#34;,
     t.long_description &#34;Time&#34;,
     ROUND(f.sales) &#34;Sales&#34;,
     ROUND(f.sales_pp) &#34;Prior Period&#34;,
     ROUND(f.sales_chg_pp) &#34;Change&#34;,
     ROUND(f.sales_pctchg_pp * 100) &#34;Percent Change&#34;
/* From dimension views and cube view */
FROM product_primary_view p,
     customer_shipments_view cu,
     time_calendar_view t,
     channel_primary_view ch,
     units_cube_view f
/* Use parent columns to implement drilling */
WHERE p.parent = &#39;TOTAL&#39;
    AND cu.parent = &#39;TOTAL&#39;
    AND t.parent = &#39;CY2006&#39;
    AND ch.level_name = &#39;TOTAL&#39;
/* Join dimension views to cube view */
    AND p.dim_key = f.product
    AND cu.dim_key = f.customer
    AND t.dim_key = f.time
    AND ch.dim_key = f.channel
ORDER BY product, customer, t.end_date;

Product         Customer        Time            Sales Prior Period     Change Percent Change
--------------- --------------- ---------- ---------- ------------ ---------- --------------
Hardware        North America   Q1.06        16002175     14493426    1508749             10
Hardware        North America   Q2.06        16032643     16002175      30469              0
Hardware        North America   Q3.06        15698208     16032643    -334436             -2
Hardware        North America   Q4.06        15958791     15698208     260583              2
Hardware        Asia Pacific    Q1.06        13416447     14273900    -857453             -6
Hardware        Asia Pacific    Q2.06        14306431     13416447     889984              7
                 .
                 .
                 .
Software/Other  Asia Pacific    Q4.06          652300       647019       5281              1
Software/Other  Europe          Q1.06          737523       634293     103230             16
Software/Other  Europe          Q2.06          678391       737523     -59132             -8
Software/Other  Europe          Q3.06          499008       678391    -179383            -26
Software/Other  Europe          Q4.06          710796       499008     211788             42
 
24 rows selected.
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="CHDFJGIA"></a>
<div id="OLAUG9208" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Developing a Report Using BI Publisher</h2>
<p><a id="sthref439"></a><a id="sthref440"></a><a id="sthref441"></a>BI Publisher is an efficient, scalable reporting solution for generating and delivering information through a variety of distribution methods. It reduces the high costs associated with the development and maintenance of business documents, while increasing the efficiency of reports management. BI Publisher generates reports in a variety of formats, including HTML, PDF, and Excel.</p>
<p>If you have not used BI Publisher, you can download the software, tutorials, and full documentation from the Oracle Technology Network at</p>
<p><code><a href="http://www.oracle.com/technetwork/middleware/bi-publisher/overview/index.html">http://www.oracle.com/technetwork/middleware/bi-publisher/overview/index.html</a></code></p>
<p><a href="#CHDHGFDB">Figure 6-0</a> shows a report in PDF format based on the query shown in <a href="#CHDHGFDB">Example 6-1</a>. When generating a report for distribution, you can select any combination of Products, Customers, and Time Periods from the choice lists. The selection for this report is Hardware products, customers in Europe, and months in Q2-06. This chapter explains how you can create a report like this one using drillable dimensions.</p>
<div id="OLAUG9507" class="figure">
<p class="titleinfigure"><a id="CHDDDGBB"></a>Figure 6-1 Sales Report in BI Publisher</p>
<img width="681" height="584" src="img/bipub_report1.gif" alt="Description of Figure 6-1 follows"/><br/>
<a id="sthref442" href="img_text/bipub_report1.htm">Description of &#34;Figure 6-1 Sales Report in BI Publisher&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div id="OLAUG9209" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref443"></a>
<h3 class="sect2">Creating an OLAP Report in BI Publisher</h3>
<p><a id="sthref444"></a><a id="sthref445"></a>A report consists of a <span class="bold">report entry</span>, which you create in BI Publisher, and a <span class="bold">layout template</span>, which you create using an application such as Microsoft Word or Adobe Acrobat. You can organize your reports in folders.</p>
<p>BI Publisher is a middleware application and can derive data from multiple sources. These procedures assume that you can access one or more cubes from BI Publisher. If you cannot, contact your BI Publisher administrator about defining a data source.</p>
<p class="orderedlisttitle">To create a report entry:&nbsp;</p>
<ol>
<li>
<p>Open a browser to the BI Publisher home page and log in.</p>
</li>
<li>
<p>Click <span class="bold">My Folders</span>.</p>
</li>
<li>
<p>Open an existing folder.</p>
<p><span class="bolditalic">or</span></p>
<p>To create a folder:</p>
<ol>
<li>
<p>Click <span class="bold">Create a New Folder</span>.</p>
</li>
<li>
<p>Enter a name for the folder in the text box, such as <code>OLAP Reports</code>.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
</ol>
</li>
<li>
<p>Click the folder to open it.</p>
</li>
<li>
<p>Create a report:</p>
<ol>
<li>
<p>Click <span class="bold">Create a New Report</span>.</p>
</li>
<li>
<p>Enter a report name in the text box.</p>
<p>This example creates a report named Global Sales.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
</li>
</ol>
<p>The report appears in the folder, as shown in <a href="#CHDHDCJA">Figure 6-2</a>.</p>
</li>
</ol>
<div id="OLAUG9508" class="figure">
<p class="titleinfigure"><a id="CHDHDCJA"></a>Figure 6-2 Creating a Report in BI Publisher</p>
<img width="561" height="450" src="img/bipub_newrep.gif" alt="Description of Figure 6-2 follows"/><br/>
<a id="sthref447" href="img_text/bipub_newrep.htm">Description of &#34;Figure 6-2 Creating a Report in BI Publisher&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p class="orderedlisttitle">To configure the report entry:&nbsp;</p>
<ol>
<li>
<p>To define the contents of the report, click <span class="bold">Edit</span>.</p>
<p>The Report Editor opens.</p>
</li>
<li>
<p>For General Settings, enter a description and select a default data source.</p>
<p>If the list does not include a connection to the database and schema containing your cubes, contact your BI Publisher administrator.</p>
</li>
<li>
<p>Select Data Model, then click <span class="bold">New</span>.</p>
<p>The Data Set page opens.</p>
</li>
<li>
<p>Enter a name for the data set and enter a SQL query like the one shown in <a href="#CHDHGFDB">Example 6-1</a>. Do not use a semicolon.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
<li>
<p>Click <span class="bold">View</span>.</p>
<p>BI Publisher checks the report definition for errors. If there are none, then it generates the XML for the report.</p>
</li>
</ol>
<p><a href="#CHDHCHEI">Figure 6-3</a> shows the Report Editor with the Data Set page displayed.</p>
<div id="OLAUG9509" class="figure">
<p class="titleinfigure"><a id="CHDHCHEI"></a>Figure 6-3 Creating a Data Model in the BI Publisher Report Editor</p>
<img width="837" height="598" src="img/bipub_rpteditor.gif" alt="Description of Figure 6-3 follows"/><br/>
<a id="sthref449" href="img_text/bipub_rpteditor.htm">Description of &#34;Figure 6-3 Creating a Data Model in the BI Publisher Report Editor&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<div id="OLAUG9210" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref450"></a>
<h3 class="sect2">Creating a Template in Microsoft Word</h3>
<p><a id="sthref451"></a>BI Publisher does not contain formatting tools. Instead, it enables you to design a report using familiar desktop applications. This example uses Microsoft Word. A report template can contain:</p>
<ul>
<li>
<p>Static text and graphics that you enter like any other Word document.</p>
</li>
<li>
<p>Dynamic fields such as the date and time or page numbers, which are processed by Word.</p>
</li>
<li>
<p>Codes that identify the XML tags for your data, which are processed by BI Publisher. When BI Publisher generates a report, it replaces the codes with the data identified by these tags.</p>
</li>
</ul>
<p>You can format all parts of the report template in Word, selecting the fonts, text and background colors, table design, and so forth.</p>
<p><a href="#CHDGBEAJ">Example 6-2</a> shows the XML for a row of data returned by the sample query. The tags match the column names in the select list, except that underscores replace the spaces. The tags are <code>Product</code>, <code>Customer</code>, <code>Time</code>, <code>Sales</code>, <code>Prior_Period</code>, <code>Change</code>, and <code>Percent_Change</code>. XML tags are case-sensitive. You use the HTML tag names as the codes in the Word document.</p>
<div id="OLAUG9510" class="example">
<p class="titleinexample"><a id="CHDGBEAJ"></a>Example 6-2 XML for a SQL Query</p>
<pre>&lt;ROW&gt;
&lt;Product&gt;Hardware&lt;/Product&gt;
&lt;Customer&gt;North America&lt;/Customer&gt;
&lt;Time&gt;Q1.06&lt;/Time&gt;
&lt;Sales&gt;16002175&lt;/Sales&gt;
&lt;Prior_Period&gt;14493426&lt;/Prior_Period&gt;
&lt;Change&gt;1508749&lt;/Change&gt;
&lt;Percent_Change&gt;10&lt;/Percent_Change&gt;
&lt;/ROW&gt;
</pre></div>
<!-- class="example" -->
<p><a href="#CHDDJCEB">Figure 6-4</a> shows the Word document that is used as the template for the sample report. It contains these elements:</p>
<ul>
<li>
<p>A table used to format the banner, which consists of a graphic, the company name, and a horizontal line. (Static)</p>
</li>
<li>
<p>The name of the report. (Static)</p>
</li>
<li>
<p>A table for the query results that contains two rows:</p>
<ul>
<li>
<p>A heading row. (Static)</p>
</li>
<li>
<p>A body row containing text form fields, which identify the XML tags and the appropriate formatting for the data. BI Publisher replaces these fields with data from the query. The first and last columns contain two fields. The first and last fields identify the range of repeating columns. (Dynamic)</p>
</li>
</ul>
</li>
<li>
<p>A date field. Word updates this field with the current date. (Dynamic)</p>
</li>
</ul>
<p>This example uses a blank Word template, but you could use a template with, for example, the banner already defined.</p>
<div id="OLAUG9511" class="figure">
<p class="titleinfigure"><a id="CHDDJCEB"></a>Figure 6-4 Sample Report Template Created in Word for BI Publisher</p>
<img width="657" height="309" src="img/bipub_template.gif" alt="Description of Figure 6-4 follows"/><br/>
<a id="sthref452" href="img_text/bipub_template.htm">Description of &#34;Figure 6-4 Sample Report Template Created in Word for BI Publisher &#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p>The following procedure defines the template manually. Alternatively, you can use a Word plug-in called Oracle BI Publisher Desktop. On the BI Publisher My Folders page, click <span class="bold">Template Builder</span> to download the plug-in.</p>
<p class="orderedlisttitle">To create a BI Publisher template in Word:&nbsp;</p>
<ol>
<li>
<p>Open a new document in Word.</p>
</li>
<li>
<p>Compose the page according to your preferences.</p>
</li>
<li>
<p>For the query results, create a table.</p>
<p>The table shown in <a href="#CHDDJCEB">Figure 6-4</a> is very simple. You can use much more elaborate formatting if you want, including nested columns and tables.</p>
</li>
<li>
<p>From the View menu, select <span class="bold">Toolbars</span>, then <span class="bold">Forms</span>.</p>
<p>The Forms toolbar opens.</p>
</li>
<li>
<p>Enter a field in the body row of each column:</p>
<ol>
<li>
<p>Position the cursor in the appropriate cell.</p>
</li>
<li>
<p>On the Forms toolbar, click the <span class="bold">Text Form Field</span> icon.</p>
<p>The Text Form Field Options dialog box opens.</p>
</li>
<li>
<p>Select an appropriate Type, generally <span class="bold">Regular Text</span> for dimension labels and <span class="bold">Number</span> for measures.</p>
</li>
<li>
<p>Enter a default value and a format.</p>
</li>
<li>
<p>Click <span class="bold">Add Help Text</span>.</p>
<p>The Form Field Help Text dialog box opens.</p>
</li>
<li>
<p>Type the appropriate XML tag in the Type Your Own box, using the format <code>&lt;?</code><code><span class="codeinlineitalic">tag</span></code><code>?&gt;</code>.</p>
<p>Enter the tag name exactly as it appears in the XML report. For example, enter <code>&lt;?Product?&gt;</code> for the XML tag <code>&lt;Product&gt;</code>.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to close the Form Field Help dialog box.</p>
</li>
<li>
<p>Click <span class="bold">OK</span> to close the Text Form Field Options dialog box.</p>
</li>
</ol>
</li>
<li>
<p>Insert an additional form field at the beginning of the first column:</p>
<ol>
<li>
<p>In the Text Form Field Options dialog box, enter any default value, such as <code>For-Each</code>.</p>
</li>
<li>
<p>In the Form Field Help Text dialog box, enter this text:</p>
<pre>&lt;?for-each:ROW?&gt;
</pre></li>
</ol>
</li>
<li>
<p>Insert an additional form field at the end of the last column:</p>
<ol>
<li>
<p>In the Text Form Field Options dialog box, enter any default value, such as <code>End</code>.</p>
</li>
<li>
<p>In the Form Field Help Text dialog box, enter this text:</p>
<pre>&lt;?end for-each?&gt;
</pre></li>
</ol>
</li>
<li>
<p>Make any additional formatting changes in Word, such as the appropriate justification of the table headings and data columns.</p>
</li>
<li>
<p>Save the document as an RTF file.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="OLAUG9211" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref454"></a>
<h3 class="sect2">Generating a Formatted Report</h3>
<p>After creating a report template in Word, you can upload it to BI Publisher and associate it with your report definition. Then you can generate reports in a variety of formats.</p>
<p class="orderedlisttitle"><a id="sthref456"></a>To create a report layout:&nbsp;</p>
<ol>
<li>
<p>Open the report editor in BI Publisher.</p>
</li>
<li>
<p>Select <span class="bold">Layouts</span>.</p>
<p>The Create Layouts page opens.</p>
</li>
<li>
<p>Click <span class="bold">New</span>.</p>
<p>The Layout page opens.</p>
</li>
<li>
<p>Enter a name and select <span class="bold">RTF</span> for the template type.</p>
</li>
<li>
<p>Select <span class="bold">Layouts</span> again, and select the layout as the default template for this report.</p>
</li>
<li>
<p>Under Manage Template Files, click <span class="bold">Browse</span>. Select the RTF file you created.</p>
</li>
<li>
<p>Click <span class="bold">Upload</span>.</p>
<p>The uploaded file is listed under Manage Template Files. Whenever you change the file in Word, upload it again. Otherwise, BI Publisher continues to use its copy of the previous version.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
<li>
<p>Click <span class="bold">View</span>.</p>
<p>The report appears.</p>
</li>
<li>
<p>To change the format, select a format from the list and click <span class="bold">View</span>.</p>
<p>To see the XML, select <span class="bold">Data</span>.</p>
</li>
</ol>
<p><a href="#CHDFCFID">Figure 6-5</a> shows the report in HTML format.</p>
<div id="OLAUG9512" class="figure">
<p class="titleinfigure"><a id="CHDFCFID"></a>Figure 6-5 BI Publisher Report Displayed in HTML Format</p>
<img width="653" height="555" src="img/bipub_html.gif" alt="Description of Figure 6-5 follows"/><br/>
<a id="sthref457" href="img_text/bipub_html.htm">Description of &#34;Figure 6-5 BI Publisher Report Displayed in HTML Format&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<div id="OLAUG9212" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref458"></a>
<h3 class="sect2">Adding Dimension Choice Lists</h3>
<p>You can add choice lists for the dimensions to a report. When generating a report, you can change the selection of data without changing the query. To add choice lists, take these steps:</p>
<ul>
<li>
<p><a id="sthref459"></a>Create one or more Lists of Values (LOV) to be displayed in the menu.</p>
</li>
<li>
<p>Create menus for displaying the LOVs.</p>
</li>
<li>
<p>Edit the query to use the bind variables created for the menus.</p>
</li>
</ul>
<div id="OLAUG9213" class="sect3"><a id="sthref460"></a>
<h4 class="sect3">Creating a List of Values</h4>
<p>For an LOV, use a SQL query that selects the dimension keys to display. Include the <code>LONG_DESCRIPTION</code> and <code>DIM_KEY</code> columns from the hierarchy view. This example creates a list for the Product Primary hierarchy:</p>
<pre><a id="CHDCEFHI"></a>
SELECT long_description, dim_key
     FROM product_primary_view
     WHERE parent = &#39;TOTAL&#39;
     OR dim_key = &#39;TOTAL&#39;
     ORDER BY level_name, long_description

LONG_DESCRIPTION     DIM_KEY
-------------------- ------------
Hardware             HRD
Software/Other       SFT
Total Product        TOTAL
</pre>
<p class="orderedlisttitle">To create a list of values:&nbsp;</p>
<ol>
<li>
<p>Open the Report Editor in BI Publisher.</p>
</li>
<li>
<p>Select <span class="bold">List of Values</span>, then click <span class="bold">New</span>.</p>
<p>The List of Values page opens.</p>
</li>
<li>
<p>Define the list:</p>
<ol>
<li>
<p>Enter a name for the list, such as <code>Product_LOV</code>.</p>
</li>
<li>
<p>For the type, select <span class="bold">SQL Query</span>.</p>
</li>
<li>
<p>Enter a query against the dimension hierarchy view, as shown previously.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
</ol>
<p>Repeat these steps for the other dimensions. This example uses lists for Product, Customer, and Time.</p>
</div>
<!-- class="sect3" -->
<div id="OLAUG9214" class="sect3"><a id="sthref462"></a>
<h4 class="sect3">Creating a Menu</h4>
<p>In BI Publisher, a menu is a type of parameter. Creating a parameter automatically creates a bind variable that you can use in the query for the report.</p>
<p class="orderedlisttitle">To create a menu:&nbsp;</p>
<ol>
<li>
<p>Select Parameters, then click <span class="bold">New</span>.</p>
<p>The Parameter page opens.</p>
</li>
<li>
<p>Define the parameter:</p>
<ol>
<li>
<p>For the Identifier, enter a name such as <code>product</code>.</p>
<p>This is the case-sensitive name of the bind variable that you will use in the query.</p>
</li>
<li>
<p>Select an appropriate data type, typically String.</p>
</li>
<li>
<p>For the Default Value, enter the dimension key used in the <code>WHERE</code> clause of the LOV query.</p>
<p>The menu initially displays this key.</p>
</li>
<li>
<p>For the Parameter Type, select <span class="bold">Menu</span>.</p>
</li>
<li>
<p>Select the appropriate List of Values.</p>
</li>
<li>
<p>Clear all options.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
</ol>
<p>Repeat these steps for the other dimensions. This example creates menus for Product, Customer, and Time.</p>
</div>
<!-- class="sect3" -->
<a id="CHDHEAEA"></a>
<div id="OLAUG9215" class="sect3">
<h4 class="sect3">Editing the Query</h4>
<p>To activate the menus, you change the <code>WHERE</code> clause in the query for the report to use the bind variables. The value of a bind variable is the current menu choice.</p>
<p><a id="sthref464"></a>This is the format for the conditions of the <code>WHERE</code> clause:</p>
<pre>parent_column = :bind_variable
</pre>
<p>In this example, the <code>WHERE</code> clause uses the bind variables for Time, Product, and Customer:</p>
<pre>WHERE  p.parent  = :product
   AND cu.parent = :customer
   AND t.parent  = :time
   AND ch.level_name = &#39;TOTAL&#39;
</pre>
<p class="orderedlisttitle">To edit the query:&nbsp;</p>
<ol>
<li>
<p>Under Data Model, select the data set you defined for this report.</p>
<p>The Data Set page opens.</p>
</li>
<li>
<p>In the SQL Query box, edit the <code>WHERE</code> clause to use the bind variables created by the parameter definitions.</p>
</li>
<li>
<p>Click <span class="bold">Save</span>.</p>
</li>
</ol>
<p><a href="#CHDFGADA">Figure 6-6</a> shows a report in HTML format displayed in BI Publisher. The choice lists for Product, Customer, and Time appear across the top. The crosstab lists the months in Q3.06, the Hardware products, and the countries in Europe. To see a different selection of data, you choose a Time Period, Product, and Customer from the menus, then click <span class="bold">View</span>. This report was generated by the same report entry, using the same query, as the one shown in <a href="#CHDDDGBB">Figure 6-1</a>.</p>
<p>You can continue working on this report, adding charts and other tables.</p>
<div id="OLAUG9513" class="figure">
<p class="titleinfigure"><a id="CHDFGADA"></a>Figure 6-6 Sales Report With Choice Lists in BI Publisher</p>
<img width="742" height="624" src="img/bipub_report2.gif" alt="Description of Figure 6-6 follows"/><br/>
<a id="sthref466" href="img_text/bipub_report2.htm">Description of &#34;Figure 6-6 Sales Report With Choice Lists in BI Publisher&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDDDJB"></a>
<div id="OLAUG9216" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1">Developing a Dashboard Using Application Express</h2>
<p><a id="sthref467"></a>Oracle Application Express is a rapid web application development tool for Oracle Database. Application Express offers built-in features such as user interface themes, navigational controls, form handlers, and flexible reports, which simplify the development process.</p>
<p><a href="overview.htm#CJAFGGAC">Chapter 1</a> shows a sophisticated dashboard that extracts analytic data from cubes and presents it in a variety of graphs and reports. You can easily create dashboards from your cubes that display the rich analytical content generated by Oracle OLAP.</p>
<p>If you have not used Application Express, you can download the software, tutorials, and full documentation from the Oracle Technology Network at</p>
<p><code><a href="http://www.oracle.com/technetwork/developer-tools/apex/overview/index.html">http://www.oracle.com/technetwork/developer-tools/apex/overview/index.html</a></code></p>
<p><a href="#CHDEHFBC">Figure 6-7</a> shows a crosstab with display lists for Product and Customer, and links in all three dimension columns. Choosing a different Product or Customer changes the related column to show the children for the selected key. Clicking a dimension key in any column displays its children. The Reset button refreshes the page with the initial selection of data.</p>
<div id="OLAUG9514" class="figure">
<p class="titleinfigure"><a id="CHDEHFBC"></a>Figure 6-7 Drillable Dimensions in Application Express</p>
<img width="571" height="527" src="img/apex_report.gif" alt="Description of Figure 6-7 follows"/><br/>
<a id="sthref468" href="img_text/apex_report.htm">Description of &#34;Figure 6-7 Drillable Dimensions in Application Express&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div id="OLAUG9217" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref469"></a>
<h3 class="sect2">Creating an OLAP Application in Application Express</h3>
<p>In Application Express, the Administrator creates a <span class="bold">workspace</span> in which you can develop your web applications. An <span class="bold">application</span> consists of one or more HTML pages, a <span class="bold">page</span> consists of regions that identify specific locations on the page, and a <span class="bold">region</span> contains a report (crosstab), a chart, or some other item.</p>
<p>Application Express runs in Oracle Database. If your dimensional objects are stored in a different database, then you must use a database link in your queries. The following procedure assumes that you have a workspace and access to at least one cube. It creates an application with one page containing a crosstab.</p>
<p class="orderedlisttitle">To create a web page from a SQL query:&nbsp;</p>
<ol>
<li>
<p>Open a browser to the Application Express home page and log in.</p>
</li>
<li>
<p>Click the <span class="bold">Application Builder</span> icon.</p>
<p>The Application Builder opens.</p>
</li>
<li>
<p>Click <span class="bold">Create</span>.</p>
<p>The Create Application wizard opens.</p>
</li>
<li>
<p>Select <span class="bold">Create Application</span>, then <span class="bold">Next</span>.</p>
</li>
<li>
<p>On the Name page, enter a title for the application such as <code>Global Dashboard</code> and select <span class="bold">From Scratch</span>.</p>
</li>
<li>
<p>On the Pages page, select the <span class="bold">Report</span> page type, then define the page:</p>
<ol>
<li>
<p>For Page Source, select <span class="bold">SQL Query</span>.</p>
</li>
<li>
<p>For Title, enter a name such as <code>Sales Analysis</code>.</p>
<p>This title appears on the page.</p>
</li>
<li>
<p>For Query, enter a SQL <code>SELECT</code> statement for your cube, like the one shown in <a href="#CHDHGFDB">Example 6-1</a>. Do not include an <code>ORDER BY</code> clause or a semicolon.</p>
</li>
<li>
<p>Click <span class="bold">Add Page</span>.</p>
<p>The page definition appears in the Create Application Box.</p>
</li>
</ol>
</li>
<li>
<p>Click <span class="bold">Next</span>, then complete the Create Application wizard according to your own preferences.</p>
<p>This example was created with no tabs, no shared components, no authentication, and Theme 15 (Light Blue).</p>
</li>
<li>
<p>On the Confirm page, click <span class="bold">Create</span>.</p>
</li>
<li>
<p>On the Application Builder home page, click the <span class="bold">Run Application</span> icon.</p>
</li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">Tip:</p>
To continue working on this page, click the <span class="bold">Edit Page 1</span> link at the bottom of the display.</div>
<p><a href="#CHDGACJD">Figure 6-8</a> shows the results of the query displayed in Application Express. Several items are automatically added to the page: breadcrumbs, Search box, Display list, Go button, Reset button, and Spread Sheet link. This application only needs the Reset button, so you can delete the other items if you want.</p>
<div id="OLAUG9515" class="figure">
<p class="titleinfigure"><a id="CHDGACJD"></a>Figure 6-8 Basic Sales Report in Application Express</p>
<img width="573" height="469" src="img/apex_report1.gif" alt="Description of Figure 6-8 follows"/><br/>
<a id="sthref471" href="img_text/apex_report1.htm">Description of &#34;Figure 6-8 Basic Sales Report in Application Express&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<div id="OLAUG9218" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref472"></a>
<h3 class="sect2">Adding Dimension Choice Lists</h3>
<p>Like BI Publisher, Application Express enables you to drill on the dimensions by adding choice lists of dimension keys. The dashboard user can choose a particular item from the list and dynamically change the selection of data displayed in one or more graphics and crosstabs on the page. To implement a choice list, take these steps:</p>
<ul>
<li>
<p>Create a region on the page to display the list.</p>
</li>
<li>
<p>Create a list of values (LOV).</p>
</li>
<li>
<p>Create a list item with a bind variable to display the LOV.</p>
</li>
<li>
<p>Create an unconditional branch for the list.</p>
</li>
<li>
<p>Edit the query to use the bind variable.</p>
</li>
</ul>
<p>The Page Definition is where you can create and edit pages, including adding and modifying graphical items. The items are organized in three columns: Page Rendering, Page Processing, and Shared Components.</p>
<p class="itemizedlisttitle">To open the Page Definition:&nbsp;</p>
<ul>
<li>
<p><a id="sthref474"></a>After running the application, click the <span class="bold">Edit Page</span> link at the bottom of the page.</p>
<p><span class="bolditalic">or</span></p>
</li>
<li>
<p>On the Application home page, click the icon for the page where the report is defined.</p>
</li>
</ul>
<p><a href="#CHDBEFFI">Figure 6-9</a> shows an area of the Page Definition.</p>
<div id="OLAUG9516" class="figure">
<p class="titleinfigure"><a id="CHDBEFFI"></a>Figure 6-9 Application Express Page Definition</p>
<img width="733" height="651" src="img/apex_pagedef.gif" alt="Description of Figure 6-9 follows"/><br/>
<a id="sthref475" href="img_text/apex_pagedef.htm">Description of &#34;Figure 6-9 Application Express Page Definition&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<div id="OLAUG9219" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref476"></a>
<h4 class="sect3">Creating a Region</h4>
<p>You can create the choice list in a plain HTML area at the top of the page.</p>
<p class="orderedlisttitle">To create an empty HTML region:&nbsp;</p>
<ol>
<li>
<p>On the Page Definition under Regions, click the <span class="bold">Create</span> icon.</p>
<p>The Create Region wizard opens.</p>
</li>
<li>
<p>On the Region pages, select <span class="bold">HTML</span>, click <span class="bold">Next</span>, then select <span class="bold">HTML</span> again.</p>
</li>
<li>
<p>On the Display Attributes page, enter a descriptive title and select an appropriate template and location on the page for the lists.</p>
<p>For this example, the name is <code>lov_region</code>, the template is <span class="bold">No Template</span>, and the location is <span class="bold">Page Template Body (1 items below template content)</span>. The name can be displayed on the rendered page, but it is hidden in this example.</p>
</li>
<li>
<p>Click <span class="bold">Create Region</span>.</p>
<p>The region appears on the Page Definition under Regions.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="OLAUG9220" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref478"></a>
<h4 class="sect3">Creating a List of Values</h4>
<p><a id="sthref479"></a>For a list of values, use a SQL query like the one shown here. Include the <code>LONG_DESCRIPTION</code> and <code>DIM_KEY</code> columns from the hierarchy view. This query creates a list for the Customer Shipments hierarchy:</p>
<pre>SELECT long_description, dim_key
     FROM customer_shipments_view
     WHERE parent = &#39;TOTAL&#39; 
     OR dim_key= &#39;TOTAL&#39;
     ORDER BY level_name, long_description;
 
LONG_DESCRIPTION     DIM_KEY
-------------------- ----------
Asia Pacific         APAC
Europe               EMEA
North America        AMER
Total Customer       TOTAL
</pre>
<p class="orderedlisttitle">To create a List of Values:&nbsp;</p>
<ol>
<li>
<p>On the Page Definition under List of Values, click the <span class="bold">Create</span> icon.</p>
<p>The Create List of Values wizard opens.</p>
</li>
<li>
<p>On the Source page, select <span class="bold">From Scratch.</span></p>
</li>
<li>
<p>On the Name and Type page, enter a descriptive name and select <span class="bold">Dynamic</span>.</p>
<p>This example uses the name <code>CUSTOMER_LOV</code>.</p>
</li>
<li>
<p>On the Query page, enter a query like the one shown previously. Do not use a semicolon.</p>
</li>
<li>
<p>Click <span class="bold">Create List of Values</span>.</p>
<p>The LOV appears in the Page Definition under List of Values.</p>
</li>
</ol>
<p>For additional LOVs, repeat these steps. This example creates LOVs for the Product and Customer dimensions.</p>
</div>
<!-- class="sect3" -->
<div id="OLAUG9221" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref481"></a>
<h4 class="sect3">Creating the Choice List</h4>
<p>For a choice list, you create a list item that displays the LOV.</p>
<p class="orderedlisttitle">To create a list item:&nbsp;</p>
<ol>
<li>
<p>On the Page Definition under Items, click the <span class="bold">Create</span> icon.</p>
<p>The Create Item wizard opens.</p>
</li>
<li>
<p>On the Item Type page, select <span class="bold">Select List.</span></p>
</li>
<li>
<p>For Control Type, select <span class="bold">Select List with Submit.</span></p>
</li>
<li>
<p>On the Display Position and Name page:</p>
<ul>
<li>
<p>Enter a name that identifies the dimension, such as <code>P1_CUSTOMER</code> for the name of the Customer bind variable. <code>P1</code> is the page number, and <code>CUSTOMER</code> identifies the Customer dimension.</p>
</li>
<li>
<p>Select the new HTML region for the location of the list.</p>
</li>
</ul>
</li>
<li>
<p>On the List of Values page, set these values:</p>
<ul>
<li>
<p>Named LOV to the List Of Values created for this dimension, such as <code>CUSTOMER_LOV</code>.</p>
</li>
<li>
<p>Display Null Option to <span class="bold">No</span>.</p>
</li>
</ul>
</li>
<li>
<p>Select the Item attributes according to your own preferences.</p>
</li>
<li>
<p>On the Source page, enter the name of the top dimension key for the default value.</p>
<p>For the Global Customer dimension, the value is <code>TOTAL</code>.</p>
</li>
<li>
<p>Click <span class="bold">Create Item</span>.</p>
</li>
</ol>
<p>Repeat these steps for other lists. This example creates lists for the Product and Customer dimensions.</p>
<p class="orderedlisttitle"><a id="sthref484"></a>To activate the list item:&nbsp;</p>
<ol>
<li>
<p>On the Page Definition under Branches, click the <span class="bold">Create</span> icon.</p>
<p>The Edit Branch wizard opens.</p>
</li>
<li>
<p>On the Point and Type page, accept the default settings.</p>
</li>
<li>
<p>On the Target page:</p>
<ul>
<li>
<p>Set Target to <span class="bold">Page in This Application</span>.</p>
</li>
<li>
<p>Set Page to the page with the list item, which is <code>1</code> in this example.</p>
</li>
<li>
<p>Select <span class="bold">Reset Pagination For This Page</span>.</p>
</li>
</ul>
</li>
<li>
<p>On the Branch Conditions page, accept the default settings to create an unconditional branch.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The Edit Branch page closes, and you return to the Page Definition. The unconditional branch is listed under Branches.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="OLAUG9222" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref485"></a>
<h4 class="sect3">Editing the Query</h4>
<p>This is the format for the dynamic conditions in the <code>WHERE</code> clause:</p>
<pre>parent_column = NVL(:bind_variable, &#39;top dim_key&#39;)
</pre>
<p>The <code>NVL</code> function substitutes the name of the top dimension key in the hierarchy for null values. The dimension keys at the top have no parent key.</p>
<p class="orderedlisttitle">To edit the query:&nbsp;</p>
<ol>
<li>
<p>Open the Page Definition.</p>
</li>
<li>
<p>Under Regions, click the <span class="bold">Edit Region</span> link. In this example, the region is named Sales Report.</p>
<p>The Edit Region page opens.</p>
</li>
<li>
<p>Under Source, modify the query:</p>
<ul>
<li>
<p>Change the <code>WHERE</code> clause to use the bind variables.</p>
</li>
<li>
<p>Delete the outer <code>SELECT</code> added by Application Express.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
</li>
</ol>
<p><a id="sthref487"></a>For this example, the <code>WHERE</code> clause now looks like this:</p>
<pre>WHERE p.parent = NVL(:P1_PRODUCT, &#39;TOTAL&#39;)
    AND cu.parent = NVL(:P1_CUSTOMER, &#39;TOTAL&#39;)
    AND t.parent = &#39;CY2006&#39;
    AND ch.level_name = &#39;TOTAL&#39;
</pre>
<p><a href="#CHDGGHFI">Figure 6-10</a> shows the modified page with choice lists for Product and Customer.</p>
<div id="OLAUG9517" class="figure">
<p class="titleinfigure"><a id="CHDGGHFI"></a>Figure 6-10 Dashboard With Choice Lists for Drilling</p>
<img width="546" height="397" src="img/apex_report4.gif" alt="Description of Figure 6-10 follows"/><br/>
<a id="sthref488" href="img_text/apex_report4.htm">Description of &#34;Figure 6-10 Dashboard With Choice Lists for Drilling&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDHHHHF"></a>
<div id="OLAUG9223" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2">Drilling on Dimension Columns</h3>
<p><a id="sthref489"></a>You can enable users to drill down from the top of a hierarchy to the detail level using a single query. To implement drilling in Application Express, take these steps:</p>
<ul>
<li>
<p>Create hidden items with bind variables.</p>
</li>
<li>
<p>Edit the query to use the bind variables.</p>
</li>
<li>
<p>Add links to the dimension columns of the crosstab.</p>
</li>
</ul>
<p>This example adds drilling to all displayed dimensions.</p>
<div id="OLAUG9224" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref490"></a>
<h4 class="sect3">Creating Hidden Items</h4>
<p><a id="sthref491"></a>You can create various types of items in Application Express that provide bind variables. They store the session state for a particular element, in this case, the current selection of a parent dimension key.</p>
<p>Each dimension that supports drilling needs a bind variable. In this example, Product and Customer have bind variables created with the list items. Time is the only displayed dimension in the report that does not have a bind variable. Because links in the Time dimension column provide the user interface for changing the session state, Time does not need any other graphical user interface. A hidden item serves the purpose.</p>
<p class="orderedlisttitle">To create a hidden item:&nbsp;</p>
<ol>
<li>
<p>Open the Page Definition.</p>
</li>
<li>
<p>Under Items, click the <span class="bold">Create</span> icon.</p>
<p>The Create Item wizard opens.</p>
</li>
<li>
<p>On the Item Type page, select <span class="bold">Hidden</span>.</p>
</li>
<li>
<p>On the Display Position and Name page:</p>
<ul>
<li>
<p>Enter a name that identifies the dimension, such as <code>P1_TIME</code> for the name of the Time bind variable.</p>
</li>
<li>
<p>Select the region where the report is defined.</p>
</li>
</ul>
</li>
<li>
<p>On the Source page, enter the dimension key at the top of the hierarchy.</p>
<p><code>TOTAL</code> is the top of all hierarchies in the Global schema. For this example, Time is set to <code>CY2006</code> to restrict the selection to one year.</p>
</li>
<li>
<p>Click <span class="bold">Create Item</span>.</p>
</li>
<li>
<p>Repeat these steps for any other dimensions that support drilling only on the column links.</p>
<p>For this example, a hidden item is defined for Time.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="OLAUG9225" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref493"></a>
<h4 class="sect3">Editing the Query</h4>
<p>To add column links to a report, you must change two areas of the <code>SELECT</code> statement:</p>
<ul>
<li>
<p>Select list: Application Express manages only those columns that appear in the select list. You can choose to display or hide the columns. For defining the column links, add the <code>DIM_KEY</code> and <code>PARENT</code> columns in the hierarchy views to the query select list.</p>
</li>
<li>
<p><a id="sthref494"></a><code>WHERE</code> clause: Add the bind variables for the hidden items like you did for the choice lists in <a href="#CHDHEAEA">&#34;Editing the Query&#34;</a>.</p>
</li>
</ul>
<p><a href="#CHDCHICJ">Example 6-3</a> shows the modified sample query.</p>
<div id="OLAUG9518" class="example">
<p class="titleinexample"><a id="CHDCHICJ"></a>Example 6-3 Revised Query for Column Links in Application Express</p>
<pre>SELECT p.long_description &#34;Product&#34;,
     cu.long_description &#34;Customer&#34;,
     t.long_description &#34;Time&#34;,
     ROUND(f.sales) &#34;Sales&#34;,
     ROUND(f.sales_pp) &#34;Prior Period&#34;,
     ROUND(f.sales_chg_pp) &#34;Change&#34;,
     ROUND(f.sales_pctchg_pp * 100) &#34;Percent Change&#34;,
/* Add DIM_KEY and PARENT columns for column links */
     p.dim_key product_key,
     p.parent product_parent,
     cu.dim_key customer_key,
     cu.parent customer_parent,
     t.dim_key time_key,
     t.parent time_parent
/* From dimension views and cube view */
FROM product_primary_view p,
     customer_shipments_view cu,
     time_calendar_view t,
     channel_primary_view ch,
     units_cube_view f
/* Use parent columns and bind variables for drilling */
WHERE p.parent = NVL(:P1_PRODUCT, &#39;TOTAL&#39;)
    AND cu.parent = NVL(:P1_CUSTOMER, &#39;TOTAL&#39;)
    AND t.parent = NVL(:P1_TIME, &#39;CY2006&#39;)
    AND ch.level_name = &#39;TOTAL&#39;
/* Join dimension views to cube view */
    AND p.dim_key = f.product
    AND cu.dim_key = f.customer
    AND t.dim_key = f.time
    AND ch.dim_key = f.channel
</pre></div>
<!-- class="example" --></div>
<!-- class="sect3" -->
<div id="OLAUG9226" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref495"></a>
<h4 class="sect3">Adding Links to the Dimension Columns</h4>
<p><a id="sthref496"></a><a id="sthref497"></a>When a dashboard user clicks a linked dimension key in the crosstab, the value of the bind variable changes, causing the crosstab to change also. After drilling down a hierarchy, the user can restore the display to its original selection of data by pressing the Reset button. To implement these column links, you must add the column links and activate the Reset button.</p>
<p class="orderedlisttitle">To add a link to a dimension column:&nbsp;</p>
<ol>
<li>
<p>Open the Page Definition.</p>
</li>
<li>
<p>Under Regions, click the <span class="bold">Report</span> link.</p>
<p>The Report Attributes page opens.</p>
</li>
<li>
<p>Under Column Attributes, modify the report display:</p>
<ul>
<li>
<p>Clear the Show check boxes for columns to hide, such as the <code>DIM_KEY</code> and <code>PARENT</code> columns.</p>
</li>
<li>
<p>Set the Sort and Sort Sequence check boxes for appropriate sorting for the report. In this example, the sort order is <code>Product</code> (1), <code>Customer</code> (2), and <code>Time</code> (3).</p>
</li>
</ul>
</li>
<li>
<p>Click the <span class="bold">Edit</span> icon for a dimension column.</p>
<p>The Column Attributes page opens.</p>
</li>
<li>
<p>Under Column Link, define the link as follows:</p>
<ul>
<li>
<p>Link Text: Select the dimension name.</p>
</li>
<li>
<p>Page: Enter the page number.</p>
</li>
<li>
<p>Name: List the dimensions in the order they appear in the report. <span class="bold">Item</span> is the name of the bind variable. <span class="bold">Value</span> is the <code>DIM_KEY</code> column for the dimension being defined or the <code>PARENT</code> column for the other dimensions.</p>
</li>
</ul>
<p><a href="#CHDDEICC">Figure 6-11</a> shows the link definition for the Time dimension.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The Column Attributes page closes, and you return to the Report Attributes page.</p>
</li>
<li>
<p>Define links on the other dimension columns.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The Report Attributes page closes, and you return to the Page Definition.</p>
</li>
</ol>
<div id="OLAUG9519" class="figure">
<p class="titleinfigure"><a id="CHDDEICC"></a>Figure 6-11 Definition of the Time Link</p>
<img width="674" height="330" src="img/apex_prodlink.gif" alt="Description of Figure 6-11 follows"/><br/>
<a id="sthref499" href="img_text/apex_prodlink.htm">Description of &#34;Figure 6-11 Definition of the Time Link&#34;</a><br/>
<br/></div>
<!-- class="figure" -->
<p class="orderedlisttitle">To activate the Reset button:&nbsp;</p>
<ol>
<li>
<p>Open the Page Definition.</p>
</li>
<li>
<p>Under Branches, click the <span class="bold">Go to Page conditional</span> link.</p>
<p>The Reset button was created on the page automatically along with its conditional branch. The Edit Branch page opens.</p>
</li>
<li>
<p>Under Action, set Clear Cache to the page number (in this example, <code>1</code>).</p>
</li>
<li>
<p>Under Conditions, set When Button Pressed to <span class="bold">RESET</span>.</p>
</li>
<li>
<p>Click <span class="bold">Apply Changes</span>.</p>
<p>The Edit Branch page closes, and you return to the Page Definition.</p>
</li>
<li>
<p>Click <span class="bold">Run</span> to display the page.</p>
</li>
</ol>
<p><a href="#CHDGDBCH">Figure 6-12</a> shows the finished page displaying months in Q3.06. You can continue working on this application, adding more reports and charts to the page. For the SQL queries providing data to those reports and charts, you can reuse the same bind variables for the dimensions.</p>
<div id="OLAUG9520" class="figure">
<p class="titleinfigure"><a id="CHDGDBCH"></a>Figure 6-12 Sales Analysis Report With Column Links in Application Express</p>
<img width="558" height="434" src="img/apex_report3.gif" alt="Description of Figure 6-12 follows"/><br/>
<a id="sthref501" href="img_text/apex_report3.htm">Description of &#34;Figure 6-12 Sales Analysis Report With Column Links in Application Express&#34;</a><br/>
<br/></div>
<!-- class="figure" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment3623">
<tr>
<td class="cellalignment3630">
<table class="cellalignment3628">
<tr>
<td class="cellalignment3627"><a href="calculations.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment3627"><a href="admin.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2003, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment3632">
<table class="cellalignment3626">
<tr>
<td class="cellalignment3627"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment3627"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment3627"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment3627"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment3627"><a href="../nav/mindx.htm"><img width="24" height="24" src="../dcommon/gifs/masterix.gif" alt="Go to Master Index" /><br />
<span class="icon">Master Index</span></a></td>
<td class="cellalignment3627"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>


</body></html>